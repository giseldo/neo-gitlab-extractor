[{"id":98368101,"iid":347060,"project_id":278964,"title":"Implementation issue (Backend) - Create bridge/trigger job show page","description":"*The following page may contain information related to upcoming products, features and functionality. It is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes. Just like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\n## Problem\n\nToday it's possible to retry the failed jobs in a downstream pipeline by going into the downstream pipeline and hitting the \"Retry\" button from there. However this user experience does NOT provide a solution in case users would like downstream pipelines to pick up a new pipeline code. Resubmitting the whole parent pipeline from the MR is possible, but it also reruns all the other pipelines, not only the one affected one.\n\n## Goal\n\nThe goal here is to show the trigger job page without the logs. This behavior would resemble how we currently show the manual jobs before they are executed.\n\n### Outcome\n\n- A trigger job page with an empty state instead of the logs and a link to the downstream pipeline that the job triggered. The downstream pipeline should open in the same tab, but user should be able to right-click on the button and open the downstream pipeline page in a new tab if they wish.\n- The \"Retry\" button should retry the trigger job and update the job status to running.\n\nRelated to #345046.\n\n### Implementation plan\n\n|Iteration| Description | Link |\n|--| ------ | ------ |\n|-|DESIGN/DISCUSSION | https://gitlab.com/gitlab-org/gitlab/-/issues/343256, https://gitlab.com/gitlab-org/gitlab/-/issues/352000, https://gitlab.com/gitlab-org/gitlab/-/issues/353049, https://gitlab.com/gitlab-org/gitlab/-/issues/340194 |\n|1|BACKEND: Add route for show page | :white_check_mark: :point_left: **You are here** |\n|1|FRONTEND: Create show page | :white_check_mark: https://gitlab.com/gitlab-org/gitlab/-/issues/345046 |\n|1|BACKEND: Add functionality for retry button no 1 (retry bridge job; re-create new downstream pipeline)| https://gitlab.com/gitlab-org/gitlab/-/issues/345050 :point_left: ~\"workflow::in review\" | \n|1|FRONTEND: Add button no 1 and tie it to the functionality (retry bridge job; re-create new downstream pipeline)|https://gitlab.com/gitlab-org/gitlab/-/issues/350243 :point_left: ~\"workflow::blocked\"  |\n|1| FRONTEND: Redirect old trigger jobs to the latest trigger job | https://gitlab.com/gitlab-org/gitlab/-/issues/352472 ~\"workflow::blocked\"\n|1|FRONTEND: Only show latest downstream pipeline and trigger job in the pipeline graphs| https://gitlab.com/gitlab-org/gitlab/-/issues/352124 ~\"workflow::blocked\"\n|2|BACKEND: Add functionality for retry button no 2 (retry failed/canceled jobs)| :white_check_mark: https://gitlab.com/gitlab-org/gitlab/-/issues/348904\n|2|FRONTEND: Add split button and tie it to the functionality (retry failed/canceled jobs) |https://gitlab.com/gitlab-org/gitlab/-/issues/32559 ~\"workflow::in dev\"|\n|3|BACKEND: Add functionality for retrying from the graph (or what we say is iteration 3)| https://gitlab.com/gitlab-org/gitlab/-/issues/323470 ~\"workflow::blocked\"  |\n|3|FRONTEND: Add button/icon for retrying from graph| ? |","state":"closed","created_at":"2021-12-02T17:48:05.911Z","updated_at":"2022-03-04T19:25:02.885Z","closed_at":"2021-12-10T17:43:16.152Z","closed_by":{"id":3946912,"username":"lauraX","name":"Laura Montemayor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3946912/avatar.png","web_url":"https://gitlab.com/lauraX"},"labels":["Category:Pipeline Authoring","FY22::Q4","OKR","UX","backend","candidate::14.6","devops::verify","group::pipeline authoring","section::ops","type::feature","workflow::production"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[{"id":3946912,"username":"lauraX","name":"Laura Montemayor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3946912/avatar.png","web_url":"https://gitlab.com/lauraX"}],"author":{"id":3946912,"username":"lauraX","name":"Laura Montemayor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3946912/avatar.png","web_url":"https://gitlab.com/lauraX"},"type":"ISSUE","assignee":{"id":3946912,"username":"lauraX","name":"Laura Montemayor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3946912/avatar.png","web_url":"https://gitlab.com/lauraX"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/347060","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/347060","notes":"https://gitlab.com/api/v4/projects/278964/issues/347060/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/347060/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#347060","relative":"#347060","full":"gitlab-org/gitlab#347060"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":{"id":36608,"iid":37,"sequence":4,"group_id":9970,"title":"Pipeline Authoring: November 29, 2021 - December 12, 2021","description":"Target milestone `14.6`","state":3,"created_at":"2021-10-05T20:42:58.379Z","updated_at":"2021-12-21T15:27:59.954Z","start_date":"2021-11-29","due_date":"2021-12-12","web_url":"https://gitlab.com/groups/gitlab-org/-/iterations/36608"},"health_status":null},{"id":98347275,"iid":347049,"project_id":278964,"title":"Test Container Registry with Watchtower client","description":"This requires investigation. \n\nKibana: https://log.gprd.gitlab.net/goto/b690590b97723543f2273af90a59671b","state":"closed","created_at":"2021-12-02T15:38:05.761Z","updated_at":"2022-03-14T10:20:13.690Z","closed_at":"2022-03-14T10:20:13.673Z","closed_by":{"id":4763342,"username":"svistas","name":"Sofia Vistas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4763342/avatar.png","web_url":"https://gitlab.com/svistas"},"labels":["Category:Container Registry","Quality","Stretch","[deprecated] Accepting merge requests","devops::package","group::package registry","needs investigation","section::ops","type::maintenance"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":4763342,"username":"svistas","name":"Sofia Vistas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4763342/avatar.png","web_url":"https://gitlab.com/svistas"},"type":"ISSUE","assignee":null,"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/347049","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/347049","notes":"https://gitlab.com/api/v4/projects/278964/issues/347049/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/347049/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#347049","relative":"#347049","full":"gitlab-org/gitlab#347049"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":98316776,"iid":347030,"project_id":278964,"title":"Remove ff_external_audit_events_namespace feature flag","description":"## Overview\n\nWe defauled the `ff_external_audit_events_namespace` flag to true in 14.6. We now need to remove this flag from the codebase anytime from %14.7.\n\nRelated to #338939.","state":"closed","created_at":"2021-12-02T12:57:38.124Z","updated_at":"2022-04-01T10:00:59.020Z","closed_at":"2022-04-01T10:00:58.991Z","closed_by":{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"},"labels":["[deprecated] Accepting merge requests","auto updated","devops::manage","feature flag","feature::addition","group::compliance","ideal for new hires","maintenance::refactor","missed:14.9","priority::4","section::dev","type::feature","workflow::ready for development"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"}],"author":{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"},"type":"ISSUE","assignee":{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/347030","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/347030","notes":"https://gitlab.com/api/v4/projects/278964/issues/347030/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/347030/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#347030","relative":"#347030","full":"gitlab-org/gitlab#347030"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":98305414,"iid":347019,"project_id":278964,"title":"self-managed 14.5 upgrade failed - PG::UndefinedObject: ERROR:  index \"index_for_resource_group\" does not exist","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"type::bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=type::bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\nhttps://gitlab.com/gitlab-org/gitlab/-/merge_requests/74018 introduced a database migration to remove the redundant `index_for_resource_group` index in `ci_builds` that is not being used anymore.\n\nSome self-managed instances do not have this index owing to schema drift.\n\nWe have a large premium customer whose upgrade to %14.5 in production failed because of this. GitLab team members can read more [in the ticket](https://gitlab.zendesk.com/agent/tickets/253526).\n\nPlease can this migration be fixed along the lines of https://gitlab.com/gitlab-org/gitlab/-/merge_requests/71606 to `DROP INDEX IF EXISTS` and ~\"Pick into 14.5\" \n\n### Steps to reproduce\n\n1. %14.4 instance\n1. drop `index_for_resource_group` index from `ci_builds`\n1. attempt to upgrade to %\"14.5\" \n\n### Example Project\n\n\u003c!-- If possible, please create an example project here on GitLab.com that exhibits the problematic \nbehavior, and link to it here in the bug report. If you are using an older version of GitLab, this \nwill also determine whether the bug is fixed in a more recent version. --\u003e\n\n### What is the current *bug* behavior?\n\ninstances without this index fail to upgrade to %\"14.5\" \n\n### What is the expected *correct* behavior?\n\ninstances without the index execute the migration successfully\n\n### Relevant logs and/or screenshots\n\n```\nCaused by:\nPG::UndefinedObject: ERROR:  index \"index_for_resource_group\" does not exist\n/opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/activerecord-6.1.4.1/lib/active_record/connection_adapters/postgresql/database_statements.rb:47:in `exec'\n/opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/activerecord-6.1.4.1/lib/active_record/connection_adapters/postgresql/database_statements.rb:47:in `block (2 levels) in execute'\n/opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/activesupport-6.1.4.1/lib/active_support/dependencies/interlock.rb:48:in `block in permit_concurrent_loads'\n/opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/activesupport-6.1.4.1/lib/active_support/concurrency/share_lock.rb:187:in `yield_shares'\n/opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/activesupport-6.1.4.1/lib/active_support/dependencies/interlock.rb:47:in `permit_concurrent_loads'\n/opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/activerecord-6.1.4.1/lib/active_record/connection_adapters/postgresql/database_statements.rb:46:in `block in execute'\n/opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/activerecord-6.1.4.1/lib/active_record/connection_adapters/abstract_adapter.rb:696:in `block (2 levels) in log'\n/opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/activesupport-6.1.4.1/lib/active_support/concurrency/load_interlock_aware_monitor.rb:26:in `block (2 levels) in synchronize'\n/opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/activesupport-6.1.4.1/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in `handle_interrupt'\n/opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/activesupport-6.1.4.1/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in `block in synchronize'\n/opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/activesupport-6.1.4.1/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in `handle_interrupt'\n/opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/activesupport-6.1.4.1/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in `synchronize'\n/opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/activerecord-6.1.4.1/lib/active_record/connection_adapters/abstract_adapter.rb:695:in `block in log'\n/opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/activesupport-6.1.4.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'\n/opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/activerecord-6.1.4.1/lib/active_record/connection_adapters/abstract_adapter.rb:687:in `log'\n/opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/activerecord-6.1.4.1/lib/active_record/connection_adapters/postgresql/database_statements.rb:45:in `execute'\n/opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/marginalia-1.10.0/lib/marginalia.rb:71:in `execute_with_marginalia'\n/opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/activerecord-6.1.4.1/lib/active_record/connection_adapters/postgresql/schema_statements.rb:472:in `remove_index'\n/opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/activerecord-6.1.4.1/lib/active_record/migration.rb:929:in `block in method_missing'\n/opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/activerecord-6.1.4.1/lib/active_record/migration.rb:897:in `block in say_with_time'\n/opt/gitlab/embedded/lib/ruby/2.7.0/benchmark.rb:293:in `measure'\n/opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/activerecord-6.1.4.1/lib/active_record/migration.rb:897:in `say_with_time'\n/opt/gitlab/embedded/lib/ruby/gems/2.7.0/gems/activerecord-6.1.4.1/lib/active_record/migration.rb:918:in `method_missing'\n/opt/gitlab/embedded/service/gitlab-rails/db/post_migrate/20210907211557_finalize_ci_builds_bigint_conversion.rb:180:in `block in rename_secondary_indexes'\n/opt/gitlab/embedded/service/gitlab-rails/db/post_migrate/20210907211557_finalize_ci_builds_bigint_conversion.rb:179:in `each'\n/opt/gitlab/embedded/service/gitlab-rails/db/post_migrate/20210907211557_finalize_ci_builds_bigint_conversion.rb:179:in `rename_secondary_indexes'\n/opt/gitlab/embedded/service/gitlab-rails/db/post_migrate/20210907211557_finalize_ci_builds_bigint_conversion.rb:155:in `block in swap_columns'\n```\n\n### Output of checks\n\nInstances upgrading from %\"14.0\" or %\"14.1\" (or later) to %\"14.5\" (or later ..)\n\n### Possible fixes\n\nWorkaround for affected customers:\n\n\n1. Start database console\n\n   ```shell\n   sudo gitlab-psql\n   # or\n   sudo gitlab-rails dbconsole\n   ```\n\n2. Create the index\n\n   ```sql\n   CREATE INDEX index_for_resource_group ON ci_builds USING btree (resource_group_id, id) WHERE (resource_group_id IS NOT NULL);\n   \\q\n   ```\n\n3. [manually complete migrations](https://docs.gitlab.com/ee/administration/raketasks/maintenance.html#run-incomplete-database-migrations)\n\n   ```shell\n   sudo gitlab-rake db:migrate\n   ```\n\n\u003c!-- If you can, link to the line of code that might be responsible for the problem. --\u003e","state":"closed","created_at":"2021-12-02T09:48:16.988Z","updated_at":"2022-08-31T19:18:03.042Z","closed_at":"2022-02-04T16:17:19.493Z","closed_by":{"id":4373269,"username":"ali-gitlab","name":"Alishan Ladhani","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4373269/avatar.png","web_url":"https://gitlab.com/ali-gitlab"},"labels":["Next Up","approaching-SLO","customer","database","devops::release","group::release","missed-SLO","priority::2","section::ops","severity::2","type::bug","workflow::ready for development"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":4373269,"username":"ali-gitlab","name":"Alishan Ladhani","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4373269/avatar.png","web_url":"https://gitlab.com/ali-gitlab"}],"author":{"id":4624911,"username":"bprescott_","name":"Ben Prescott_","state":"active","avatar_url":"https://secure.gravatar.com/avatar/91aa28150f430ec564dc5af5952c35a0?s=80\u0026d=identicon","web_url":"https://gitlab.com/bprescott_"},"type":"ISSUE","assignee":{"id":4373269,"username":"ali-gitlab","name":"Alishan Ladhani","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4373269/avatar.png","web_url":"https://gitlab.com/ali-gitlab"},"user_notes_count":27,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/347019","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/347019","notes":"https://gitlab.com/api/v4/projects/278964/issues/347019/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/347019/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#347019","relative":"#347019","full":"gitlab-org/gitlab#347019"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6124,"epic":{"id":284533,"iid":6124,"title":"Self-Managed Database Schema Issues","url":"/groups/gitlab-org/-/epics/6124","group_id":9970,"human_readable_end_date":"Jun 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":98302842,"iid":347014,"project_id":278964,"title":"Ensure Issue and MR updated_at timestamp is updated when metrics records are updated","description":"In Value Stream Analytics, we use the `Issue.updated_at` and `MergeRequest.updated` at columns to iterate over recently changed items and collect data in our aggregated tables.\n\nThe following changes can be detected by observing the `updated_at` columns:\n\n- Timestamp attribute changes on `issues` and `merge_requests` tables.\n- Label assignments.\n\nThe following changes are not going to update the `updated_at` columns:\n\n- Changes in `merge_request_metrics` tables.\n- Changes in `issue_metrics` tables.\n\nTask:\n\n1. Verify that updates to the metrics tables will not update the associated issue or MR record.\n2. Implement an AR or async callback to `touch` the associated issue or MR record so the `updated_at` timestamp is bumped.","state":"closed","created_at":"2021-12-02T09:08:28.022Z","updated_at":"2022-01-06T14:46:54.075Z","closed_at":"2022-01-06T14:46:54.047Z","closed_by":{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"},"labels":["auto updated","backend","devops::manage","group::optimize","priority::3","section::dev","type::maintenance","workflow::ready for development"],"milestone":{"id":2156369,"iid":68,"group_id":9970,"title":"14.7","description":"","state":"active","created_at":"2021-07-21T17:39:41.786Z","updated_at":"2021-07-21T17:39:41.786Z","due_date":"2022-01-17","start_date":"2021-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/68"},"assignees":[{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"}],"author":{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"},"type":"ISSUE","assignee":{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/347014","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/347014","notes":"https://gitlab.com/api/v4/projects/278964/issues/347014/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/347014/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#347014","relative":"#347014","full":"gitlab-org/gitlab#347014"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6046,"epic":{"id":274497,"iid":6046,"title":"[VSA] Date range filter should apply to end events","url":"/groups/gitlab-org/-/epics/6046","group_id":9970,"human_readable_end_date":"Feb 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":98287973,"iid":346998,"project_id":278964,"title":"Check that `value` is a decimal value for Snowplow events on frontent","description":"Related to https://gitlab.com/gitlab-org/gitlab/-/issues/255628\n\nWhen a Snowplow event has a non-decimal/numeric `value` property, it's not collected. We need to show an alert on development and, when that's not feasible, avoid failing silently.\n\nThis is already covered by the Snowplow gem on the ~backend. A ~frontend solution might be to log a warning/error that jest can complain about. And consider parsing the value as `Number` in cases when the event is not tested (when using data-attributes, for example). So we would still collect the event, with an indication that we need to fix the value or use another property (like `extra`).\n\n## Why\n\n- Improves Inefficiency: Other teams have a hard time to debug this. It creates inefficiency as they ask the data/product intelligence team why events don't show up.\n- Adds trust in our tooling\n- Reduces delays: Noticing \u0026 fixing this bug takes ~1-2 weeks as a team waits till the events get sent in production to check.","state":"closed","created_at":"2021-12-02T03:39:48.090Z","updated_at":"2022-03-16T11:29:18.055Z","closed_at":"2022-03-15T23:40:54.670Z","closed_by":{"id":5412956,"username":"agarciatesares","name":"Axel García","state":"active","avatar_url":"https://secure.gravatar.com/avatar/11d24c6151c640aa435f8de30a01f5b8?s=80\u0026d=identicon","web_url":"https://gitlab.com/agarciatesares"},"labels":["devops::growth","frontend","group::product intelligence","maintenance::workflow","section::growth","type::maintenance","workflow::verification"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":5412956,"username":"agarciatesares","name":"Axel García","state":"active","avatar_url":"https://secure.gravatar.com/avatar/11d24c6151c640aa435f8de30a01f5b8?s=80\u0026d=identicon","web_url":"https://gitlab.com/agarciatesares"}],"author":{"id":5412956,"username":"agarciatesares","name":"Axel García","state":"active","avatar_url":"https://secure.gravatar.com/avatar/11d24c6151c640aa435f8de30a01f5b8?s=80\u0026d=identicon","web_url":"https://gitlab.com/agarciatesares"},"type":"ISSUE","assignee":{"id":5412956,"username":"agarciatesares","name":"Axel García","state":"active","avatar_url":"https://secure.gravatar.com/avatar/11d24c6151c640aa435f8de30a01f5b8?s=80\u0026d=identicon","web_url":"https://gitlab.com/agarciatesares"},"user_notes_count":6,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/346998","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/346998","notes":"https://gitlab.com/api/v4/projects/278964/issues/346998/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/346998/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#346998","relative":"#346998","full":"gitlab-org/gitlab#346998"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5569,"epic":{"id":223482,"iid":5569,"title":"Snowplow Maintenance","url":"/groups/gitlab-org/-/epics/5569","group_id":9970,"human_readable_end_date":"Jan 31, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":98281957,"iid":346993,"project_id":278964,"title":"Prevent iteration title search from omitting iteration numbers","description":"Search by title for iterations uses fuzzy search that removes any query word that's less than 3 characters.\n\nThis results in a poor user experience because iterations are often titled with their sequence numbers like `Iteration 1` and `1` is removed by the fuzzy search (e.g., title search `Iteration 1` really translates into `ILIKE '%iteration%'`.)\n\n\nAs a possible improvement we could look for a substring that matches a pre-defined regex like `iteration (\\d+)` and insert a conditional clause `title='iteration 1'` (this may not be the best solution).","state":"closed","created_at":"2021-12-02T01:06:32.959Z","updated_at":"2022-01-26T22:46:24.011Z","closed_at":"2022-01-26T22:46:23.971Z","closed_by":{"id":5961404,"username":"euko","name":"Eulyeon Ko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5961404/avatar.png","web_url":"https://gitlab.com/euko"},"labels":["GitLab Premium","backend","devops::plan","group::project management","section::dev","type::feature","workflow::production"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":5961404,"username":"euko","name":"Eulyeon Ko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5961404/avatar.png","web_url":"https://gitlab.com/euko"}],"author":{"id":5961404,"username":"euko","name":"Eulyeon Ko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5961404/avatar.png","web_url":"https://gitlab.com/euko"},"type":"ISSUE","assignee":{"id":5961404,"username":"euko","name":"Eulyeon Ko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5961404/avatar.png","web_url":"https://gitlab.com/euko"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/346993","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/346993","notes":"https://gitlab.com/api/v4/projects/278964/issues/346993/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/346993/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#346993","relative":"#346993","full":"gitlab-org/gitlab#346993"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":98281660,"iid":346992,"project_id":278964,"title":"Output unresolved dependency list in gemnasium-gradle-plugin","description":"### Problem to solve\n\nAfter [Silenced errors in gemnasium-gradle-plugin](https://gitlab.com/gitlab-org/gitlab/-/issues/217910) was completed, it changed the [gemnasium-gradle-plugin](https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium-gradle-plugin) so that when unresolved dependencies exist, it outputs an error `Project has unresolved dependencies` and the process fails with an exception.\n\nThis is an improvement over the previous behaviour of the `gemnasium-gradle-plugin`, however, users are now requesting that instead of just outputting the `Project has unresolved dependencies` error, it would be helpful to know _which dependencies are unresolved_ (see [here](https://gitlab.com/gitlab-org/gitlab/-/issues/217910#note_450407090) and [here](https://gitlab.com/gitlab-org/gitlab/-/issues/217910#note_744222386)).\n\nThe purpose of this issue is to update the [gemnasium-gradle-plugin](https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium-gradle-plugin) so that it outputs the following error message when there are unresolved dependencies (using `fluff` and `fuzz` as examples):\n\n```sh\nProject has 2 unresolved dependencies: fluff:invalid:1.0.10, fuzz:broken:2.1.20\n```\n\n### Implementation Plan\n\n1. [x] Update the [walk function](https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium-gradle-plugin/blob/0bb16fa/src/main/kotlin/com/gemnasium/tasks/DumpDependenciesTask.kt#L139-142) of the [gemnasium-gradle-plugin](https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium-gradle-plugin) to output a list of unresolved dependencies in the `GradleException` if the project has unresolved dependencies.\n\n   https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium-gradle-plugin/-/merge_requests/16\n\n1. [x] Add unit tests for the above behaviour.\n\n   https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium-gradle-plugin/-/merge_requests/16\n\n1. [x] Add manual test to https://gitlab.com/gitlab-org/security-products/tests/java-gradle test project to demonstrate the new behaviour.\n\n   https://gitlab.com/adamcohen/348716-java-gradle/-/jobs/1981131349\n\n1. [x] Bump version of the `gemnasium-gradle-plugin` and publish this new version.\n\n1. [x] Update [gemnasium-maven](https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium-maven) to use the new version of the `gemnasium-gradle-plugin` published in step `5.` above.\n\n\u003c!-- Use this section to explain the feature and how it will work. It can be helpful to add technical details, design proposals, and links to related epics or issues. --\u003e\n\n### Intended users\n\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n\n### User experience goal\n\nUsers will receive better feedback when `gemnasium-maven` fails due to unresolved dependencies\n\n### What does success look like, and how can we measure that?\n\nWhen a project has unresolved dependencies, the following error message will be output:\n\n```sh\nProject has 2 unresolved dependencies: fluff:invalid:1.0.10, fuzz:broken:2.1.20\n```","state":"closed","created_at":"2021-12-02T00:50:10.360Z","updated_at":"2022-03-11T03:00:52.378Z","closed_at":"2022-01-17T21:22:20.547Z","closed_by":{"id":4668304,"username":"ifrenkel","name":"Igor Frenkel","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a73e8113c53ac25297ce751e59bbb1d3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ifrenkel"},"labels":["Category:Dependency Scanning","Deliverable","Enterprise Edition","GitLab Ultimate","backend","customer","devops::secure","group::composition analysis","section::sec","type::feature","workflow::production"],"milestone":{"id":2156369,"iid":68,"group_id":9970,"title":"14.7","description":"","state":"active","created_at":"2021-07-21T17:39:41.786Z","updated_at":"2021-07-21T17:39:41.786Z","due_date":"2022-01-17","start_date":"2021-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/68"},"assignees":[{"id":1674572,"username":"adamcohen","name":"Adam Cohen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/68fe8da9d9dfc88d0d150808cd364825?s=80\u0026d=identicon","web_url":"https://gitlab.com/adamcohen"}],"author":{"id":1674572,"username":"adamcohen","name":"Adam Cohen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/68fe8da9d9dfc88d0d150808cd364825?s=80\u0026d=identicon","web_url":"https://gitlab.com/adamcohen"},"type":"ISSUE","assignee":{"id":1674572,"username":"adamcohen","name":"Adam Cohen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/68fe8da9d9dfc88d0d150808cd364825?s=80\u0026d=identicon","web_url":"https://gitlab.com/adamcohen"},"user_notes_count":4,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/346992","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":5,"completed_count":5},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"5 of 5 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/346992","notes":"https://gitlab.com/api/v4/projects/278964/issues/346992/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/346992/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#346992","relative":"#346992","full":"gitlab-org/gitlab#346992"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":98279196,"iid":346976,"project_id":278964,"title":"Allow owners to list projects pending deletion","description":"## Problem to solve\n\nSince it was [introduced in %13.3](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/37014), the \"Deleted Projects\" tab has only been visible to admin users.  That means non-admin users who might be authorized to restore a project are unable (meaning non-admin users with owner access to those projects).\n\n## Proposal\n\n- The \"Deleted Projects\" tab should be visible to **owners** (in addition to admin users) and display all projects pending deletion that belonged to a group with ~\"GitLab Premium\"\n- The [\"Deleted Projects\" tab documentation section](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/74652) should be moved to the [Projects exploration documentation](https://docs.gitlab.com/ee/user/search/#projects) (or some better Project-oriented location, if there is one).\n\n**Before**\n\n![Projects_overiew_-_Before](/uploads/8595188087730691718b04a325cb35db/Projects_overiew_-_Before.png)\n\n**After**\n\n![Projects_overiew_-_After](/uploads/036dd13dc975599e56f99b8bc3750ad1/Projects_overiew_-_After.png)\n\n**Consider:** Adding **deleted projects** to the menu flyout\n\n![Popout_nav](/uploads/811004389e9b8185945702fd79619d5b/Popout_nav.png)\n\n## Resources\n\n[Open Figma →](https://www.figma.com/file/cO22GfqtvD8OnTqN9WgqPb/%F0%9F%94%92-Accidental-project-deletion-protection?node-id=10%3A9863)","state":"closed","created_at":"2021-12-01T22:44:13.338Z","updated_at":"2022-10-10T07:58:13.582Z","closed_at":"2022-01-31T10:25:41.268Z","closed_by":{"id":9821577,"username":"huzaifaiftikhar1","name":"Huzaifa Iftikhar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9821577/avatar.png","web_url":"https://gitlab.com/huzaifaiftikhar1"},"labels":["GitLab Premium","UX","backend","devops::manage","group::compliance","priority::1","section::dev","type::feature","workflow::verification"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":9821577,"username":"huzaifaiftikhar1","name":"Huzaifa Iftikhar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9821577/avatar.png","web_url":"https://gitlab.com/huzaifaiftikhar1"}],"author":{"id":4512390,"username":"djensen","name":"Dan Jensen","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4512390/avatar.png","web_url":"https://gitlab.com/djensen"},"type":"ISSUE","assignee":{"id":9821577,"username":"huzaifaiftikhar1","name":"Huzaifa Iftikhar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9821577/avatar.png","web_url":"https://gitlab.com/huzaifaiftikhar1"},"user_notes_count":29,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/346976","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":4,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/346976","notes":"https://gitlab.com/api/v4/projects/278964/issues/346976/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/346976/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#346976","relative":"#346976","full":"gitlab-org/gitlab#346976"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3626,"epic":{"id":69474,"iid":3626,"title":"Improvements to delayed project deletion","url":"/groups/gitlab-org/-/epics/3626","group_id":9970,"human_readable_end_date":"Sep 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":98278552,"iid":346973,"project_id":278964,"title":"remove the gid from iteration_id in the url","description":"In new filtered search on issue boards (:vue_issues_list, :issue_boards_filtered_search)\n\nCurrently, when you set an iteration to filter by, the URL is updated with the entire gid, not just the id of the iteration.\n\nWe need to change `iteration_id=gid://gitlab/Iteration/123` to `iteration_id=123`","state":"closed","created_at":"2021-12-01T22:21:05.284Z","updated_at":"2022-01-04T22:43:49.232Z","closed_at":"2022-01-04T22:43:49.214Z","closed_by":{"id":4447636,"username":"sstern","name":"Scott Stern","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4447636/avatar.png","web_url":"https://gitlab.com/sstern"},"labels":["devops::plan","feature::addition","frontend","group::project management","missed:14.6","section::dev","type::feature"],"milestone":{"id":2156369,"iid":68,"group_id":9970,"title":"14.7","description":"","state":"active","created_at":"2021-07-21T17:39:41.786Z","updated_at":"2021-07-21T17:39:41.786Z","due_date":"2022-01-17","start_date":"2021-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/68"},"assignees":[{"id":4447636,"username":"sstern","name":"Scott Stern","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4447636/avatar.png","web_url":"https://gitlab.com/sstern"}],"author":{"id":4447636,"username":"sstern","name":"Scott Stern","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4447636/avatar.png","web_url":"https://gitlab.com/sstern"},"type":"ISSUE","assignee":{"id":4447636,"username":"sstern","name":"Scott Stern","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4447636/avatar.png","web_url":"https://gitlab.com/sstern"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/346973","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/346973","notes":"https://gitlab.com/api/v4/projects/278964/issues/346973/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/346973/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#346973","relative":"#346973","full":"gitlab-org/gitlab#346973"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":98276886,"iid":346971,"project_id":278964,"title":"Dependencies API returns 500 if one of the reports is broken","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"type::bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=type::bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\n\u003c!-- Summarize the bug encountered concisely. --\u003e\nThe [Dependencies API](Dependencies API) resource returns a `500` when a dependency scanning job is failing.\n\n### Steps to reproduce\n\n\u003c!-- Describe how one can reproduce the issue - this is very important. Please use an ordered list. --\u003e\n1. Create a pipeline with multiple dependency scanning jobs (report artifact of type `dependency_scanning)\n1. Make on the job to return an artifact that can not be parsed. \n1. Hit the Dependencies API for this project -\u003e 500\n\n### Example Project\n\n\u003c!-- If possible, please create an example project here on GitLab.com that exhibits the problematic \nbehavior, and link to it here in the bug report. If you are using an older version of GitLab, this \nwill also determine whether the bug is fixed in a more recent version. --\u003e\n\n- https://gitlab.com/gitlab-org/security-products/package-hunter-cli/ (broken jobs are `package_hunter-yarn` and `package_hunter-yarn`\n- https://gitlab.com/gitlab-org/security-products/package-hunter-cli/-/dependencies has a flash message: `The dependency_scanning job has failed and cannot generate the list. Please ensure the job is running properly and run the pipeline again.` ([Job link](https://gitlab.com/gitlab-org/security-products/package-hunter-cli/-/jobs/1832756894))\n- https://gitlab.com/api/v4/projects/gitlab-org%2fsecurity-products%2fpackage-hunter-cli/dependencies returns `{\"message\":\"500 Internal Server Error\"}`\n\n### What is the current *bug* behavior?\n\n\u003c!-- Describe what actually happens. --\u003e\nAPI returns a `500` response\n\n### What is the expected *correct* behavior?\n\n\u003c!-- Describe what you should see instead. --\u003e\nAPI returns a `200` with partial results (dependencies from the successful jobs)\n\n### Relevant logs and/or screenshots\n\n\u003c!-- Paste any relevant logs - please use code blocks (```) to format console output, logs, and code\n as it's tough to read otherwise. --\u003e\n\n![Screen_Shot_2021-12-01_at_16.25.38](/uploads/371cfa6d4d3f01ec2354fee28952026f/Screen_Shot_2021-12-01_at_16.25.38.png)\n\n### Output of checks\n\n\u003c!-- If you are reporting a bug on GitLab.com, write: This bug happens on GitLab.com --\u003e\nThis bug happens on GitLab.com\n\n#### Results of GitLab environment info\n\n\u003c!--  Input any relevant GitLab environment information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to GitLab environment info\u003c/summary\u003e\n\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:env:info`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:env:info RAILS_ENV=production`)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n#### Results of GitLab application Check\n\n\u003c!--  Input any relevant GitLab application check information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to the GitLab application check\u003c/summary\u003e\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:check SANITIZE=true`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:check RAILS_ENV=production SANITIZE=true`)\n\n(we will only investigate if the tests are passing)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n### Possible fixes\n\nNote:  this issue is partially fixed by https://gitlab.com/gitlab-org/gitlab/-/merge_requests/76597. We need also to add a fix to not process artifacts from failed builds:\n\n- change [this line](https://gitlab.com/gitlab-org/gitlab/-/blob/96c19ed382bcb222da54247fe60c30674401ee55/ee/app/models/ee/ci/pipeline.rb#L112) to skip failed builds.\n- update tests","state":"closed","created_at":"2021-12-01T21:27:28.028Z","updated_at":"2022-01-18T07:02:58.616Z","closed_at":"2022-01-17T18:15:55.424Z","closed_by":{"id":1378158,"username":"brytannia","name":"Tetiana Chupryna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1378158/avatar.png","web_url":"https://gitlab.com/brytannia"},"labels":["Category:Dependency Scanning","Deliverable","backend","devops::secure","documentation","group::composition analysis","priority::2","section::sec","severity::3","type::bug","workflow::verification"],"milestone":{"id":2156369,"iid":68,"group_id":9970,"title":"14.7","description":"","state":"active","created_at":"2021-07-21T17:39:41.786Z","updated_at":"2021-07-21T17:39:41.786Z","due_date":"2022-01-17","start_date":"2021-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/68"},"assignees":[{"id":1378158,"username":"brytannia","name":"Tetiana Chupryna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1378158/avatar.png","web_url":"https://gitlab.com/brytannia"}],"author":{"id":30915,"username":"plafoucriere","name":"Philippe Lafoucrière","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/30915/avatar.png","web_url":"https://gitlab.com/plafoucriere"},"type":"ISSUE","assignee":{"id":1378158,"username":"brytannia","name":"Tetiana Chupryna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1378158/avatar.png","web_url":"https://gitlab.com/brytannia"},"user_notes_count":17,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/346971","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/346971","notes":"https://gitlab.com/api/v4/projects/278964/issues/346971/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/346971/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#346971","relative":"#346971","full":"gitlab-org/gitlab#346971"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":98276749,"iid":346970,"project_id":278964,"title":"Multiple review-qa-* test failures due to Review App being temporary unavailable","description":"Combination of `Error 500`/`Connection refused` errors in different MRs, the issue seems to be temporary as tests pass on retry.\n\nSeveral examples:\n\nReview-qa-reliable jobs\n- https://gitlab.com/gitlab-org/gitlab/-/jobs/1822903286\n- https://gitlab.com/gitlab-org/gitlab/-/jobs/1829508557\n\nReview-qa-smoke jobs\n- https://gitlab.com/gitlab-org/gitlab/-/jobs/1831849780\n- https://gitlab.com/gitlab-org/gitlab/-/jobs/1827425771","state":"closed","created_at":"2021-12-01T21:19:00.315Z","updated_at":"2022-06-13T01:21:27.451Z","closed_at":"2021-12-07T09:04:45.799Z","closed_by":{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"labels":["Engineering Productivity","QA","Quality","[deprecated] Accepting merge requests","ep::review-apps","failure::test-environment","type::maintenance","workflow::in review"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"}],"author":{"id":5407295,"username":"a_mcdonald","name":"Anastasia McDonald","state":"active","avatar_url":"https://secure.gravatar.com/avatar/1bb6df5df2f37b7a058f0f1d6d2b64d3?s=80\u0026d=identicon","web_url":"https://gitlab.com/a_mcdonald"},"type":"ISSUE","assignee":{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/346970","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/346970","notes":"https://gitlab.com/api/v4/projects/278964/issues/346970/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/346970/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#346970","relative":"#346970","full":"gitlab-org/gitlab#346970"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":98276362,"iid":346967,"project_id":278964,"title":"MAU based metrics from CI tunnel usage","description":"## Scope\n\nThis issue is part of a bigger development effort described in detail by its epic. The scope of this issue is to provide MAU based metrics for the CI/CD tunnel\n\n## Proposal\n\n### For the CI/CD tunnel\n\n* Distinct user count of users who started a pipeline with a job that interacts with the CI/CD tunnel\n* ~~Distinct user count of users who were active in a project where the CI tunnel was used~~\n\n## Definition of done\n\n\u003c!-- Likely in the form of checkboxed elements --\u003e\n\n- [x] Kas can track distinct user metrics\n- [x] Expanding what Kas POSTs to internal API\n- [x] Rails translates data into usage ping","state":"closed","created_at":"2021-12-01T21:12:28.537Z","updated_at":"2022-10-04T15:31:57.681Z","closed_at":"2022-08-12T17:49:47.137Z","closed_by":{"id":683729,"username":"Alexand","name":"João Alexandre Cunha","state":"active","avatar_url":"https://secure.gravatar.com/avatar/fbf9eb0e06338db271e1ce6722c32cc0?s=80\u0026d=identicon","web_url":"https://gitlab.com/Alexand"},"labels":["Category:Infrastructure as Code","Deliverable","auto updated","backend","configure::discussion-candidate","devops::configure","feature::enhancement","group::configure","missed-deliverable","missed:14.10","missed:14.7","missed:15.1","product metrics","section::ops","type::feature","workflow::verification"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":683729,"username":"Alexand","name":"João Alexandre Cunha","state":"active","avatar_url":"https://secure.gravatar.com/avatar/fbf9eb0e06338db271e1ce6722c32cc0?s=80\u0026d=identicon","web_url":"https://gitlab.com/Alexand"}],"author":{"id":4545061,"username":"nagyv-gitlab","name":"Viktor Nagy (GitLab)","state":"active","avatar_url":"https://secure.gravatar.com/avatar/fb255c1e9c228b9356af165939b3ac9b?s=80\u0026d=identicon","web_url":"https://gitlab.com/nagyv-gitlab"},"type":"ISSUE","assignee":{"id":683729,"username":"Alexand","name":"João Alexandre Cunha","state":"active","avatar_url":"https://secure.gravatar.com/avatar/fbf9eb0e06338db271e1ce6722c32cc0?s=80\u0026d=identicon","web_url":"https://gitlab.com/Alexand"},"user_notes_count":29,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/346967","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":3},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"3 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/346967","notes":"https://gitlab.com/api/v4/projects/278964/issues/346967/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/346967/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#346967","relative":"#346967","full":"gitlab-org/gitlab#346967"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7200,"epic":{"id":397023,"iid":7200,"title":"MAU based metric for Agent usage","url":"/groups/gitlab-org/-/epics/7200","group_id":9970,"human_readable_end_date":"Nov 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":98275776,"iid":346963,"project_id":278964,"title":"Add support for specifying environment variables for Policy Action","description":"\u003c!--\nImplementation issues are used break-up a large piece of work into small, discrete tasks that can\nmove independently through the build workflow steps. They're typically used to populate a Feature\nEpic. Once created, an implementation issue is usually refined in order to populate and review the\nimplementation plan and weight.\nExample workflow: https://about.gitlab.com/handbook/engineering/development/threat-management/planning/diagram.html#plan\n--\u003e\n\n## Why are we doing this work\n\nIn Security Policies we want to be able to specify additional environment variables in actions, so pipeline will be extended with these values. This will help creators of the policy to enforce behavior specified for selected variables, like `SAST_EXCLUDED_ANALYZERS` for SAST scanner.\n\n## Relevant links\n\n- [Epic](https://gitlab.com/groups/gitlab-org/-/epics/6586)\n\n\n## Non-functional requirements\n\n- [x] Documentation: extend documentation with information about `variables` field for policy\n- [-] Feature flag:\n- [-] Performance:\n- [ ] Testing:\n\n\n## Implementation plan\n\n- [x] ~backend extend `ee/app/validators/json_schemas/security_orchestration_policy.json` with schema for `actions[].variables`,\n- [x] ~backend extend `scan_variables` method in `ee/app/services/security/security_orchestration_policies/create_pipeline_service.rb` to read variables from action,\n- [x] ~backend extend `scan_variables` method in `ee/app/services/security/security_orchestration_policies/scan_pipeline_service.rb` to read variables from action,\n\n\u003c!--\nWorkflow and other relevant labels\n\n# ~\"group::\" ~\"Category:\" ~\"GitLab Ultimate\"\nOther settings you might want to include when creating the issue.\n\n# /assign @\n# /epic \u0026\n--\u003e","state":"closed","created_at":"2021-12-01T20:59:48.523Z","updated_at":"2021-12-20T03:21:37.647Z","closed_at":"2021-12-15T14:26:41.710Z","closed_by":{"id":8953999,"username":"bwill","name":"Brian Williams","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8953999/avatar.png","web_url":"https://gitlab.com/bwill"},"labels":["Category:Security Policy Management","Enterprise Edition","GitLab Ultimate","backend","devops::govern","group::security policies","section::sec","type::feature","workflow::verification"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[{"id":8953999,"username":"bwill","name":"Brian Williams","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8953999/avatar.png","web_url":"https://gitlab.com/bwill"}],"author":{"id":5535431,"username":"mparuszewski","name":"Alan (Maciej) Paruszewski","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535431/avatar.png","web_url":"https://gitlab.com/mparuszewski"},"type":"ISSUE","assignee":{"id":8953999,"username":"bwill","name":"Brian Williams","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8953999/avatar.png","web_url":"https://gitlab.com/bwill"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/346963","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":5,"completed_count":4},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"4 of 5 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/346963","notes":"https://gitlab.com/api/v4/projects/278964/issues/346963/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/346963/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#346963","relative":"#346963","full":"gitlab-org/gitlab#346963"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6586,"epic":{"id":328650,"iid":6586,"title":"Add Support for SAST to Security Orchestration Policies","url":"/groups/gitlab-org/-/epics/6586","group_id":9970,"human_readable_end_date":"Dec 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":98274194,"iid":346962,"project_id":278964,"title":"Verify group name is valid when a new group is created inside of the purchase flow","description":"\u003c!-- This template is a great use for issues that are feature::additions or technical tasks for larger issues.--\u003e\n\n### Proposal\n\nGroup Owners have the ability to create a new group inside of the purchase flow when they are selecting which group they want to apply their GitLab subscription tier to:\n\n![Screen_Shot_2021-12-01_at_1.31.50_PM](/uploads/1b5c16d68e9b909ca5a545a31052fbdd/Screen_Shot_2021-12-01_at_1.31.50_PM.png)\n\nCurrently we do not apply any sort of validation to ensure the group name is usable:\n\n![image__3_](/uploads/ecdaa17787e706873faee069cbf872c7/image__3_.png)\n\n![image__4_](/uploads/400b9b74aaad0f7478c3d44ff72b8bb0/image__4_.png)\n\n### Proposal\n\nApply validation to group name when a new group is created inside of the checkout flow\n\n\u003c!-- Label reminders\nUse the following resources to find the appropriate labels:\n- https://gitlab.com/gitlab-org/gitlab/-/labels\n- https://about.gitlab.com/handbook/product/categories/features/\n--\u003e","state":"closed","created_at":"2021-12-01T20:22:13.068Z","updated_at":"2022-06-21T21:43:20.468Z","closed_at":"2022-05-25T14:55:46.506Z","closed_by":{"id":10216431,"username":"syarynovskyi","name":"Serhii Yarynovskyi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10216431/avatar.png","web_url":"https://gitlab.com/syarynovskyi"},"labels":["SUS::Impacting","Stretch","UX","devops::growth","group::acquisition","missed:14.10","missed:14.8","missed:14.9","section::growth","severity::4","type::bug","workflow::production"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":10216431,"username":"syarynovskyi","name":"Serhii Yarynovskyi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10216431/avatar.png","web_url":"https://gitlab.com/syarynovskyi"}],"author":{"id":9347704,"username":"gdoud","name":"Gayle Doud","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9347704/avatar.png","web_url":"https://gitlab.com/gdoud"},"type":"ISSUE","assignee":{"id":10216431,"username":"syarynovskyi","name":"Serhii Yarynovskyi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10216431/avatar.png","web_url":"https://gitlab.com/syarynovskyi"},"user_notes_count":11,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/346962","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":4,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/346962","notes":"https://gitlab.com/api/v4/projects/278964/issues/346962/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/346962/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#346962","relative":"#346962","full":"gitlab-org/gitlab#346962"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":98269354,"iid":346939,"project_id":278964,"title":"Save sort order in group/issues list refactor","description":"The backend saves sort order for issues/merge request/epic/etc lists in the `SortingPreference` concern.\n\nHowever, in the group/issues list refactor (https://gitlab.com/gitlab-org/gitlab/-/issues/322755, behind feature flag `vue_issues_list`) the sort order isn't saved because we are fetching the sort order using GraphQL and not telling the backend to persist the selected sort order.\n\n### To do\n\n- [x]  ~backend creates a GraphQL mutation that allows you to persist list sort preference\n- [x]  ~frontend calls this GraphQL mutation in the group/issues list refactor when a new sort order is selected to persist sort preference","state":"closed","created_at":"2021-12-01T17:59:21.218Z","updated_at":"2022-02-10T13:30:57.020Z","closed_at":"2022-02-10T13:30:56.999Z","closed_by":{"id":4545397,"username":"cngo","name":"Coung Ngo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4545397/avatar.png","web_url":"https://gitlab.com/cngo"},"labels":["backend","devops::plan","feature flag","feature::enhancement","frontend","group::project management","missed:14.6","section::dev","type::feature","workflow::production"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":4545397,"username":"cngo","name":"Coung Ngo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4545397/avatar.png","web_url":"https://gitlab.com/cngo"}],"author":{"id":4545397,"username":"cngo","name":"Coung Ngo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4545397/avatar.png","web_url":"https://gitlab.com/cngo"},"type":"ISSUE","assignee":{"id":4545397,"username":"cngo","name":"Coung Ngo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4545397/avatar.png","web_url":"https://gitlab.com/cngo"},"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/346939","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":2},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"2 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/346939","notes":"https://gitlab.com/api/v4/projects/278964/issues/346939/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/346939/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#346939","relative":"#346939","full":"gitlab-org/gitlab#346939"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":98268746,"iid":346937,"project_id":278964,"title":"Unable to export a project with `Encoding::UndefinedConversionError`","description":"A customer is unable to export a project on GitLab.com, they receive the error bellow when they try to do that. There are ~300 such events in Sentry for the past month so it likely to affect more users.\n\nSee this internal ticket for more details: https://gitlab.zendesk.com/agent/tickets/254125\n\nhttps://sentry.gitlab.net/gitlab/gitlabcom/issues/2960518/?referrer=gitlab_plugin\n\n```\nEncoding::UndefinedConversionError: \"\\x93\" from ASCII-8BIT to UTF-8\n  lib/gitlab/import_export/json/streaming_serializer.rb:77:in `block (3 levels) in serialize_many_relations'\n    items \u003c\u003c Raw.new(record.to_json(options))\n  lib/gitlab/import_export/json/streaming_serializer.rb:76:in `block (2 levels) in serialize_many_relations'\n    batch.each do |record|\n  lib/gitlab/import_export/json/streaming_serializer.rb:103:in `block in batch'\n    yield batch.reorder(batch.klass.primary_key)\n  lib/gitlab/import_export/json/streaming_serializer.rb:98:in `batch'\n    relation.in_batches(**opts) do |batch| # rubocop:disable Cop/InBatches\n  lib/gitlab/import_export/json/streaming_serializer.rb:73:in `block in serialize_many_relations'\n    batch(records, key) do |batch|\n...\n(126 additional frame(s) were not displayed)\n```","state":"closed","created_at":"2021-12-01T17:43:18.324Z","updated_at":"2022-01-24T18:08:39.979Z","closed_at":"2021-12-17T11:26:13.930Z","closed_by":{"id":2629166,"username":"lmcandrew","name":"Liam McAndrew","state":"active","avatar_url":"https://secure.gravatar.com/avatar/5801f5e2fd21127836c0be61ec71f06b?s=80\u0026d=identicon","web_url":"https://gitlab.com/lmcandrew"},"labels":["Category:Importers","Export/Import","Next Up","Unplanned","backend","customer","devops::manage","estimation::completed","group::import","section::dev","type::bug","workflow::production"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[{"id":674121,"username":"georgekoltsov","name":"George Koltsov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/674121/avatar.png","web_url":"https://gitlab.com/georgekoltsov"}],"author":{"id":402401,"username":"jobbot","name":"Bot","state":"active","avatar_url":"https://secure.gravatar.com/avatar/aaa6738f1ebf25404010884af511b0e7?s=80\u0026d=identicon","web_url":"https://gitlab.com/jobbot"},"type":"ISSUE","assignee":{"id":674121,"username":"georgekoltsov","name":"George Koltsov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/674121/avatar.png","web_url":"https://gitlab.com/georgekoltsov"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/346937","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/346937","notes":"https://gitlab.com/api/v4/projects/278964/issues/346937/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/346937/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#346937","relative":"#346937","full":"gitlab-org/gitlab#346937"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3054,"epic":{"id":39522,"iid":3054,"title":"🐞 Project Export/Import bugs","url":"/groups/gitlab-org/-/epics/3054","group_id":9970},"iteration":null,"health_status":null},{"id":98257595,"iid":346921,"project_id":278964,"title":"Tables headers should have no background out of the box","description":"### Description\n\nWhen I create a table using only `\u003cgl-table\u003e` I get a gray background in the header which is not Pajamas compliant (see https://design.gitlab.com/components/table). This would force me to add some custom classes, but it would be nicer to get the right appearance out of the box:\n\n![image](/uploads/98b07f88346418c8299af15da28b3175/image.png)\n\nIn some cases where we force our styles with `gl-bg-transparent!`, looks like this doesn’t address the original cause of the styles.","state":"closed","created_at":"2021-12-01T14:32:12.723Z","updated_at":"2022-11-22T19:11:07.601Z","closed_at":"2022-05-13T09:18:32.040Z","closed_by":{"id":4704683,"username":"justin_ho","name":"Justin Ho Tuan Duong","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4704683/avatar.png","web_url":"https://gitlab.com/justin_ho"},"labels":["Category:Design System","SUS::Impacting","auto updated","component:table","devops::manage","frontend","group::foundations","pajamas::integrate","section::dev","severity::4","type::maintenance","workflow::production"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":4704683,"username":"justin_ho","name":"Justin Ho Tuan Duong","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4704683/avatar.png","web_url":"https://gitlab.com/justin_ho"}],"author":{"id":1607849,"username":"mrincon","name":"Miguel Rincon","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1607849/avatar.png","web_url":"https://gitlab.com/mrincon"},"type":"ISSUE","assignee":{"id":4704683,"username":"justin_ho","name":"Justin Ho Tuan Duong","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4704683/avatar.png","web_url":"https://gitlab.com/justin_ho"},"user_notes_count":14,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/346921","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/346921","notes":"https://gitlab.com/api/v4/projects/278964/issues/346921/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/346921/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#346921","relative":"#346921","full":"gitlab-org/gitlab#346921"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":98255810,"iid":346914,"project_id":278964,"title":"Advanced Search: Unexpected results when having `-` in the search term","description":"It seems like our [current mappings](https://gitlab.com/gitlab-org/gitlab/blob/master/ee/lib/elastic/latest/config.rb) for `gitlab-production` do not work properly with the `-` symbol. Specifically, the `content` field\n\n```ruby\nindexes :content, type: :text,\n  index_options: 'positions',\n  analyzer: :code_analyzer,\n  search_analyzer: :code_search_analyzer\n```\n\n### How to reproduce the problem\n\nCreate a file with this content:\n\n```\nextends: .gitlab-tests-image\n```\n\nIf you search for the entire term `gitlab-tests-image`, advanced search returns results. If you search for `tests-image` or `gitlab-tests`, you won't get hits.\n\n\n### Release notes\n\nThis release includes a Code Search quality improvement for [Advanced Search](https://docs.gitlab.com/ee/user/search/advanced_search.html) which brings it closer to the local IDE experience. We expect improved relevance when searching for full tokens and some partial tokens as well as better matching for search terms with special characters.\n\nPlease note that if your index is created before GitLab 15.5, you'll need to update mappings. In order to do that you can use [Zero downtime reindexing](https://docs.gitlab.com/ee/integration/advanced_search/elasticsearch.html#zero-downtime-reindexing) or [re-create](https://docs.gitlab.com/ee/integration/advanced_search/elasticsearch_troubleshooting.html#last-resort-to-recreate-an-index) your Advanced Search index from scratch.","state":"closed","created_at":"2021-12-01T14:08:24.903Z","updated_at":"2023-01-03T19:01:22.586Z","closed_at":"2022-10-17T20:29:14.917Z","closed_by":{"id":4888751,"username":"changzhengliu","name":"Changzheng Liu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4888751/avatar.png","web_url":"https://gitlab.com/changzhengliu"},"labels":["Category:Global Search","Deliverable","GitLab Premium","advanced search","approaching-SLO","devops::data_stores","group::global search","missed-SLO","needs weight","priority::3","release post item","release post item::in review","section::enablement","severity::3","type::bug","workflow::production"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":5054237,"username":"dgruzd","name":"Dmitry Gruzd","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5054237/avatar.png","web_url":"https://gitlab.com/dgruzd"}],"author":{"id":5054237,"username":"dgruzd","name":"Dmitry Gruzd","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5054237/avatar.png","web_url":"https://gitlab.com/dgruzd"},"type":"ISSUE","assignee":{"id":5054237,"username":"dgruzd","name":"Dmitry Gruzd","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5054237/avatar.png","web_url":"https://gitlab.com/dgruzd"},"user_notes_count":39,"merge_requests_count":0,"upvotes":6,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/346914","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/346914","notes":"https://gitlab.com/api/v4/projects/278964/issues/346914/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/346914/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#346914","relative":"#346914","full":"gitlab-org/gitlab#346914"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6223,"epic":{"id":291949,"iid":6223,"title":"Code Search in Advanced Search should work more like search in local IDE","url":"/groups/gitlab-org/-/epics/6223","group_id":9970,"human_readable_end_date":"May 18, 2023","human_readable_timestamp":"\u003cstrong\u003e4\u003c/strong\u003e months remaining"},"iteration":null,"health_status":null},{"id":98201890,"iid":346845,"project_id":278964,"title":"Application setting for caching cleanup policy background jobs","description":"### Context\n\nIn https://gitlab.com/gitlab-org/gitlab/-/issues/339129, we added caching for container registry cleanup policy background jobs. For GitLab.com this was incredibly useful to continue the [rollout of the feature for all projects](https://gitlab.com/groups/gitlab-org/-/epics/6405#note_748089840).\n\n### Problem to solve\n\nThe problem is self-managed instances may not want to use caching this way. \n\n### Proposal\n\nPut the caching feature in an application setting. ~\"self-managed\" users can choose to not use caching at all. \n\nRelated to #339129.","state":"closed","created_at":"2021-11-30T22:08:23.418Z","updated_at":"2022-03-18T07:02:43.102Z","closed_at":"2022-03-04T17:01:23.128Z","closed_by":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"labels":["Category:Container Registry","Category:Package Registry","Deliverable","OpsSection::needs-justification","Package:P1","backend","database","devops::package","group::package registry","package:active","ruby","section::ops","type::maintenance","workflow::production"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"}],"author":{"id":3799560,"username":"trizzi","name":"Tim Rizzi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3799560/avatar.png","web_url":"https://gitlab.com/trizzi"},"type":"ISSUE","assignee":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"user_notes_count":12,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/346845","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/346845","notes":"https://gitlab.com/api/v4/projects/278964/issues/346845/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/346845/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#346845","relative":"#346845","full":"gitlab-org/gitlab#346845"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2270,"epic":{"id":15539,"iid":2270,"title":"Cleanup policy for tags","url":"/groups/gitlab-org/-/epics/2270","group_id":9970,"human_readable_end_date":"May 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":98201423,"iid":346840,"project_id":278964,"title":"Build case to restructure MRs","description":"# 🎯 Goal\n\nCollaboratively build a **user and business case** to restructure \u003cabbr title=\"merge requests\"\u003eMRs\u003c/abbr\u003e — for more context see https://gitlab.com/groups/gitlab-org/-/epics/5038.\n\n# 📦 Deliverables\n\n- 📺 [Video walkthrough](https://youtu.be/lw7ooAIjbtc)\n- 🖼️ [Slides](https://docs.google.com/presentation/d/1vtevYKDQfL6AYmFod5rsfP2yz3jfhJD_9ez1f5DkVMw/edit?usp=sharing)\n- 📝 [Document](https://docs.google.com/document/d/18H9DDDQ0wk3ICUJvjtmSRRh7UrrreE_i3DLMYmGEMUg/edit?usp=sharing)\n\n## Links\n\n- Epic: https://gitlab.com/groups/gitlab-org/-/epics/5038+\n- Video: [2021-11-30 Code Review UX Sync](https://www.youtube.com/watch?v=kVs_PfZSH2Y)\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2021-11-30T21:52:58.403Z","updated_at":"2022-08-10T16:24:08.334Z","closed_at":"2022-02-11T15:48:38.061Z","closed_by":{"id":626804,"username":"pedroms","name":"Pedro Moreira da Silva","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c306f087d191ac15549f3c11e3bed321?s=80\u0026d=identicon","web_url":"https://gitlab.com/pedroms"},"labels":["Category:Code Review Workflow","UX","devops::create","direction","feature::enhancement","group::code review","merge requests","section::dev","type::feature"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":626804,"username":"pedroms","name":"Pedro Moreira da Silva","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c306f087d191ac15549f3c11e3bed321?s=80\u0026d=identicon","web_url":"https://gitlab.com/pedroms"}],"author":{"id":201566,"username":"annabeldunstone","name":"Annabel Dunstone Gray","state":"active","avatar_url":"https://secure.gravatar.com/avatar/85c0203926134720f9a9aa8c6e264c78?s=80\u0026d=identicon","web_url":"https://gitlab.com/annabeldunstone"},"type":"ISSUE","assignee":{"id":626804,"username":"pedroms","name":"Pedro Moreira da Silva","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c306f087d191ac15549f3c11e3bed321?s=80\u0026d=identicon","web_url":"https://gitlab.com/pedroms"},"user_notes_count":14,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/346840","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/346840","notes":"https://gitlab.com/api/v4/projects/278964/issues/346840/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/346840/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#346840","relative":"#346840","full":"gitlab-org/gitlab#346840"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7590,"epic":{"id":448406,"iid":7590,"title":"Build case and define problem-solution space","url":"/groups/gitlab-org/-/epics/7590","group_id":9970,"human_readable_end_date":"Mar 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":98196490,"iid":346831,"project_id":278964,"title":"FogBugz - Unable to change project name","description":"## Summary\n\nUnable to change the project name before importing. The name that the users enters to override the default (FogBugz project name) is reverted back to the default once the import starts.\n\n## Screenshots\n\nThe bug can be observed here: https://youtu.be/LPjEMBipKyU?t=350\n\n![image](/uploads/1c9b8bcce168e7015ccee57003f449c7/image.png)\n\n⬇️\n\n![image](/uploads/604db53a5b53f387fc19028a0f637593/image.png)\n\n⬇️\n\n![image](/uploads/b587019fa34daa0835b6f2bd293b4dfd/image.png)\n\n⬇️\n\n![image](/uploads/13d26cc258106f918ad3311e5d1c14bf/image.png)\n\n## Proposal\n\nWhen the user types in (overrides) a new name for the project, that name should be used to create the GitLab project.","state":"closed","created_at":"2021-11-30T19:39:58.947Z","updated_at":"2022-06-14T09:46:46.199Z","closed_at":"2022-06-08T05:18:25.113Z","closed_by":{"id":1230286,"username":"xanf","name":"Illya Klymov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ce4d16557b46210fa57641531b570dd4?s=80\u0026d=identicon","web_url":"https://gitlab.com/xanf"},"labels":["Category:Importers","FogBugz","Importer:FogBugz","Next Up","backend","devops::manage","estimation::completed","frontend","group::import","milestone::p4","section::dev","severity::4","type::bug","workflow::production"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":1230286,"username":"xanf","name":"Illya Klymov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ce4d16557b46210fa57641531b570dd4?s=80\u0026d=identicon","web_url":"https://gitlab.com/xanf"}],"author":{"id":5247073,"username":"hdelalic","name":"Haris Delalić","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5247073/avatar.png","web_url":"https://gitlab.com/hdelalic"},"type":"ISSUE","assignee":{"id":1230286,"username":"xanf","name":"Illya Klymov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ce4d16557b46210fa57641531b570dd4?s=80\u0026d=identicon","web_url":"https://gitlab.com/xanf"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/346831","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/346831","notes":"https://gitlab.com/api/v4/projects/278964/issues/346831/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/346831/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#346831","relative":"#346831","full":"gitlab-org/gitlab#346831"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3446,"epic":{"id":60574,"iid":3446,"title":"FogBugz Importer","url":"/groups/gitlab-org/-/epics/3446","group_id":9970},"iteration":null,"health_status":null},{"id":98182066,"iid":346796,"project_id":278964,"title":"Update UI text and show a disabled button on the protected manual job page when user doesn't have the permissions to run it - Frontend","description":"\u003c!-- The first section \"Release notes\" is required if you want to have your release post blog MR auto generated. Currently in BETA, details on the **release post item generator** can be found in the handbook:  https://about.gitlab.com/handbook/marketing/blog/release-posts/#release-post-item-generator and this video: https://www.youtube.com/watch?v=rfn9ebgTwKg. The next four sections: \"Problem to solve\", \"Intended users\", \"User experience goal\", and \"Proposal\", are strongly recommended in your first draft, while the rest of the sections can be filled out during the problem validation or breakdown phase. However, keep in mind that providing complete and relevant information early helps our product team validate the problem and start working on a solution. --\u003e\n\n### Release notes\n\n\u003c!-- What is the problem and solution you're proposing? This content sets the overall vision for the feature and serves as the release notes that will populate in various places, including the [release post blog](https://about.gitlab.com/releases/categories/releases/) and [Gitlab project releases](https://gitlab.com/gitlab-org/gitlab/-/releases). \" --\u003e\n\n### Problem to solve \n\nCurrently when a user can't deploy to a protected environment due to insufficient permissions, the manual job page shows the same UI as always, only with the variables form and the \"run\" button hidden. It causes confusion since we're not communicating why the usual job actions are unavailable.\n\n\u003c!-- What problem do we solve? Try to define the who/what/why of the opportunity as a user story. For example, \"As a (who), I want (what), so I can (why/value).\" --\u003e\n\n### Intended users\n\n* [Delaney (Development Team Lead)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#delaney-development-team-lead)\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Rachel (Release Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#rachel-release-manager)\n\n\u003c!-- Who will use this feature? If known, include any of the following: types of users (e.g. Developer), personas, or specific company roles (e.g. Release Manager). It's okay to write \"Unknown\" and fill this field in later.\n\nPersonas are described at https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/\n\n* [Cameron (Compliance Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#cameron-compliance-manager)\n* [Parker (Product Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#parker-product-manager)\n* [Delaney (Development Team Lead)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#delaney-development-team-lead)\n* [Presley (Product Designer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#presley-product-designer)\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Devon (DevOps Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#devon-devops-engineer)\n* [Sidney (Systems Administrator)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sidney-systems-administrator)\n* [Sam (Security Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sam-security-analyst)\n* [Rachel (Release Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#rachel-release-manager)\n* [Alex (Security Operations Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#alex-security-operations-engineer)\n* [Simone (Software Engineer in Test)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#simone-software-engineer-in-test)\n* [Allison (Application Ops)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#allison-application-ops)\n* [Priyanka (Platform Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#priyanka-platform-engineer)\n* [Dana (Data Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#dana-data-analyst)\n* [Eddie (Content Editor)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#eddie-content-editor)\n--\u003e\n\n### Metrics \n\n\u003c!-- How are you going to track usage of this feature? Think about user behavior and their interaction with the product. What indicates someone is getting value from it?\n\nCreate tracking issue using the Snowplow event tracking template. See https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Snowplow%20event%20tracking.md\n\n--\u003e\n\n### User experience goal\n\nWhen I'm viewing a deployment job that is protected, I want to know why I don't have access to run that job and who can run it.\n\n\u003c!-- What is the single user experience workflow this problem addresses?\nFor example, \"The user should be able to use the UI/API/.gitlab-ci.yml with GitLab to \u003cperform a specific task\u003e\"\nhttps://about.gitlab.com/handbook/engineering/ux/ux-research-training/user-story-mapping/ --\u003e\n\n### Proposal\n\n- Update the UI text on the manual protected job page to explain why the user doesn't have the access to run the job. \n- Show a disabled action button.\n\nNew UI text:\n\n\u003e **This job requires a manual action**\n\u003e \n\u003e This deployment job does not run automatically and must be started manually, but you do not have access to this job's protected environment.\n\u003e \n\u003e The job can only be started by a project member allowed to deploy to the environment.\n\n![Manual_job](/uploads/cc82f64da0d68e98df5c69ece560f16c/Manual_job.png)\n\n\u003c!-- How are we going to solve the problem? Try to include the user journey! https://about.gitlab.com/handbook/journeys/#user-journey --\u003e\n\n\u003c!-- Include use cases, benefits, goals, or any other details that will help us understand the problem better. --\u003e\n\n### Permissions and Security\n\nOnly the users who aren't allowed to run the protected manual job will see this page.\n\n\u003c!-- What permissions are required to perform the described actions? Are they consistent with the existing permissions as documented for users, groups, and projects as appropriate? Is the proposed behavior consistent between the UI, API, and other access methods (e.g. email replies)?\nConsider adding checkboxes and expectations of users with certain levels of membership https://docs.gitlab.com/ee/user/permissions.html\n* [ ] Add expected impact to members with no access (0)\n* [ ] Add expected impact to Guest (10) members\n* [ ] Add expected impact to Reporter (20) members\n* [ ] Add expected impact to Developer (30) members\n* [ ] Add expected impact to Maintainer (40) members\n* [ ] Add expected impact to Owner (50) members --\u003e\n\n### Documentation\n\nWe might have to update the documentation about protected manual jobs and update the screenshot of the manual protected job page if necessary. ~documentation  \n\n- Current docs: https://docs.gitlab.com/ee/ci/jobs/job_control.html#protect-manual-jobs  \n- MVC might be to just put a small entry in https://docs.gitlab.com/ee/ci/jobs/job_control.html#troubleshooting that lists the exact error message, and points back to the section above.\n\n\u003c!-- See the Feature Change Documentation Workflow https://docs.gitlab.com/ee/development/documentation/workflow.html#for-a-product-change\n\n* Add all known Documentation Requirements in this section. See https://docs.gitlab.com/ee/development/documentation/workflow.html\n* If this feature requires changing permissions, update the permissions document. See https://docs.gitlab.com/ee/user/permissions.html --\u003e\n\n### Availability \u0026 Testing\n\n\u003c!-- This section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\nWhat risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning --\u003e\n\n### Available Tier\n\n* Free\n\n\u003c!-- This section should be used for setting the appropriate tier that this feature will belong to. Pricing can be found here: https://about.gitlab.com/pricing/\n\n* Free\n* Premium/Silver\n* Ultimate/Gold\n--\u003e\n\n### What does success look like, and how can we measure that?\n\n\u003c!--\nDefine both the success metrics and acceptance criteria. Note that success metrics indicate the desired business outcomes, while acceptance criteria indicate when the solution is working correctly. If there is no way to measure success, link to an issue that will implement a way to measure this.\n\nCreate tracking issue using the Snowplow event tracking template. See https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Snowplow%20event%20tracking.md\n--\u003e\n\n### What is the type of buyer?\n\n\u003c!-- What is the buyer persona for this feature? See https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/buyer-persona/\nIn which enterprise tier should this feature go? See https://about.gitlab.com/handbook/product/pricing/#three-tiers --\u003e\n\n### Is this a cross-stage feature?  \n\nYes, it touches ~\"devops::verify\" and ~\"devops::release\" (Release PD included for awareness since the change is small).\n\n\u003c!-- Communicate if this change will affect multiple Stage Groups or product areas. We recommend always start with the assumption that a feature request will have an impact into another Group. Loop in the most relevant PM and Product Designer from that Group to provide strategic support to help align the Group's broader plan and vision, as well as to avoid UX and technical debt. https://about.gitlab.com/handbook/product/#cross-stage-features --\u003e\n\n### Links / references\n\n\u003c!-- Label reminders - you should have one of each of the following labels.\nUse the following resources to find the appropriate labels:\n- https://gitlab.com/gitlab-org/gitlab/-/labels\n- https://about.gitlab.com/handbook/product/categories/features/\n--\u003e\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2021-11-30T14:52:34.883Z","updated_at":"2022-04-18T07:01:59.237Z","closed_at":"2022-03-22T10:45:55.017Z","closed_by":{"id":731181,"username":"mbobin","name":"Marius Bobin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c0a726d6aa37d780309f7b3ea3555a14?s=80\u0026d=identicon","web_url":"https://gitlab.com/mbobin"},"labels":["Category:Continuous Integration","Deliverable","FY23::Q1","OKR","SUS::Impacting","Technical Writing","UI polish","UI text","UX","Verify::P2","backend","customer","devops::verify","documentation","group::pipeline execution","missed-SLO","missed-deliverable","missed:14.6","missed:14.9","priority::2","section::ops","severity::1","type::feature","workflow::production"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":731181,"username":"mbobin","name":"Marius Bobin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c0a726d6aa37d780309f7b3ea3555a14?s=80\u0026d=identicon","web_url":"https://gitlab.com/mbobin"}],"author":{"id":4477803,"username":"pburdette","name":"Payton Burdette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477803/avatar.png","web_url":"https://gitlab.com/pburdette"},"type":"ISSUE","assignee":{"id":731181,"username":"mbobin","name":"Marius Bobin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c0a726d6aa37d780309f7b3ea3555a14?s=80\u0026d=identicon","web_url":"https://gitlab.com/mbobin"},"user_notes_count":44,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/346796","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":6,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 6 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/346796","notes":"https://gitlab.com/api/v4/projects/278964/issues/346796/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/346796/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#346796","relative":"#346796","full":"gitlab-org/gitlab#346796"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":98172362,"iid":346788,"project_id":278964,"title":"File header disappears from viewport when marking it as Viewed in MR diff tab","description":"### Summary\n\nUX issue. Page content jumps up when marking file as viewed in MR diff view. This interrupts your flow as you need to keep scrolling back up to find the next file to the one that you just closed.\n\nTested on Chrome (macOS) version 96.0.4664.55 (Official Build) (x86_64)\n\n### Steps to reproduce\n\n1. Create an MR with multiple files, first one having so many changes that its container becomes taller than the viewport.\n2. Open the MR diff view and scroll to the bottom of the long file.\n3. Toggle on the \"Viewed\" checkbox of the file.\n4. The file content is collapsed, so the rest of the page content moves up. You need to scroll back up to find the file that was supposed to come next.\n\n### What is the current *bug* behavior?\n\nPage content jumps up, scroll position doesn't change so the current file header disappears from viewport.\n\n### What is the expected *correct* behavior?\n\nPage content jumps up, and scroll position is updated to keep the current file header in the viewport.","state":"closed","created_at":"2021-11-30T12:30:56.863Z","updated_at":"2022-01-17T18:51:48.057Z","closed_at":"2022-01-17T18:51:47.695Z","closed_by":{"id":853414,"username":"andr3","name":"André Luís","state":"active","avatar_url":"https://secure.gravatar.com/avatar/241e39726efb512a29621070ccf26a90?s=80\u0026d=identicon","web_url":"https://gitlab.com/andr3"},"labels":["[deprecated] Accepting merge requests","bug::transient","devops::create","frontend","group::code review","merge requests","priority::3","section::dev","severity::4","type::bug"],"milestone":null,"assignees":[],"author":{"id":3090156,"username":"jannala","name":"Janne Annala","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3090156/avatar.png","web_url":"https://gitlab.com/jannala"},"type":"ISSUE","assignee":null,"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/346788","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/346788","notes":"https://gitlab.com/api/v4/projects/278964/issues/346788/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/346788/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#346788","relative":"#346788","full":"gitlab-org/gitlab#346788"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":98157787,"iid":346766,"project_id":278964,"title":"undefined method `licensed_feature_available?' for nil:NilClass","description":"https://sentry.gitlab.net/gitlab/staginggitlabcom/issues/3040187/?query=is%3Aunresolved\n\n```\nNoMethodError: undefined method `licensed_feature_available?' for nil:NilClass\n  from ee/app/models/ee/audit_event.rb:60:in `stream_to_external_destinations'\n  from ee/app/services/ee/audit_event_service.rb:241:in `stream_event_to_external_destinations'\n  from app/services/audit_event_service.rb:137:in `save_or_track'\n  from app/services/audit_event_service.rb:117:in `log_security_event_to_database'\n  from app/services/audit_event_service.rb:46:in `security_event'\n  from ee/app/services/ee/audit_event_service.rb:128:in `security_event'\n  from ee/app/services/ee/projects/create_service.rb:133:in `log_audit_event'\n  from ee/app/services/ee/projects/create_service.rb:47:in `execute'\n  from app/services/concerns/measurable.rb:35:in `execute'\n  from app/controllers/projects_controller.rb:75:in `create'\n  from actionpack (6.1.4.1) lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'\n  from actionpack (6.1.4.1) lib/abstract_controller/base.rb:228:in `process_action'\n  from actionpack (6.1.4.1) lib/action_controller/metal/rendering.rb:30:in `process_action'\n  from actionpack (6.1.4.1) lib/abstract_controller/callbacks.rb:42:in `block in process_action'\n  from activesupport (6.1.4.1) lib/active_support/callbacks.rb:117:in `block in run_callbacks'\n  from ee/lib/gitlab/ip_address_state.rb:10:in `with'\n  from ee/app/controllers/ee/application_controller.rb:44:in `set_current_ip_address'\n  from activesupport (6.1.4.1) lib/active_support/callbacks.rb:126:in `block in run_callbacks'\n  from app/controllers/application_controller.rb:504:in `set_current_admin'\n```\n\n/cc @mwoolf @huzaifaiftikhar1","state":"closed","created_at":"2021-11-30T09:15:52.397Z","updated_at":"2021-12-01T13:55:11.135Z","closed_at":"2021-12-01T13:55:11.117Z","closed_by":{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"},"labels":["Category:Audit Events","devops::manage","found:staging.gitlab.com","group::compliance","priority::1","section::dev","type::bug","workflow::verification"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"}],"author":{"id":2535118,"username":"tkuah","name":"Thong Kuah","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f7b51bdd49a4914d29504d7ff4c3f7b9?s=80\u0026d=identicon","web_url":"https://gitlab.com/tkuah"},"type":"ISSUE","assignee":{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"},"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/346766","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/346766","notes":"https://gitlab.com/api/v4/projects/278964/issues/346766/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/346766/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#346766","relative":"#346766","full":"gitlab-org/gitlab#346766"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":"on_track"},{"id":98149319,"iid":346761,"project_id":278964,"title":"Fix randomly occuring 0 durations","description":"Withing the new VSA backend we use the durations returned from PG directly.\n\nExample:\n\n```ruby\n10.times { puts ActiveRecord::Base.connection.execute(Issue.limit(1).select('(updated_at - created_at) as duration').to_sql).to_a.inspect }\n```\n\nFor some reason (could be config differences on the replicas), running the query above returns different values:\n\n```\n[{\"duration\"=\u003e\"P1DT3H11M5.866237S\"}]\n[{\"duration\"=\u003e\"P1DT3H11M5.866237S\"}]\n[{\"duration\"=\u003e\"P1DT3H11M5.866237S\"}]\n[{\"duration\"=\u003e\"P1DT3H11M5.866237S\"}]\n[{\"duration\"=\u003e\"1 day 03:11:05.866237\"}]\n[{\"duration\"=\u003e\"1 day 03:11:05.866237\"}]\n[{\"duration\"=\u003e\"P1DT3H11M5.866237S\"}]\n[{\"duration\"=\u003e\"P1DT3H11M5.866237S\"}]\n[{\"duration\"=\u003e\"P1DT3H11M5.866237S\"}]\n[{\"duration\"=\u003e\"P1DT3H11M5.866237S\"}]\n```\n\n`ActiveSupport::Duration` cannot parse \"`1 day 03:11:05.866237`\" hence the duration will be nil. Later we cast the value to float and it becomes 0.\n\n\nThe fix is to do the same thing that we do in the old VSA backend: use `EXTRACT(epoch from ...)` so the DB returns seconds.","state":"closed","created_at":"2021-11-30T08:11:15.945Z","updated_at":"2021-12-14T11:09:36.956Z","closed_at":"2021-12-14T11:09:36.884Z","closed_by":{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"},"labels":["Category:Value Stream Management","[deprecated] Accepting merge requests","backend","devops::manage","group::optimize","section::dev","severity::3","type::bug","workflow::production"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"}],"author":{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"},"type":"ISSUE","assignee":{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/346761","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/346761","notes":"https://gitlab.com/api/v4/projects/278964/issues/346761/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/346761/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#346761","relative":"#346761","full":"gitlab-org/gitlab#346761"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6046,"epic":{"id":274497,"iid":6046,"title":"[VSA] Date range filter should apply to end events","url":"/groups/gitlab-org/-/epics/6046","group_id":9970,"human_readable_end_date":"Feb 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":98134775,"iid":346753,"project_id":278964,"title":"[Feature flag] Enable SSH key lifetime","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n## Summary\n\nThis issue is to rollout [the feature](https://gitlab.com/gitlab-org/gitlab/-/issues/1007) on production,\nthat is currently behind the `ff_limit_ssh_key_lifetime` feature flag.\n\n\u003c!-- Short description of what the feature is about and link to relevant other issues. --\u003e\nFeature to enable GitLab Ultimate self-managed users to set the maximum allowable lifetime for SSH keys.\n\n## Owners\n\n- Team: ~\"group::compliance\" \n- Most appropriate slack channel to reach out to: `#g_manage_compliance`\n- Best individual to reach out to: @huzaifaiftikhar1 \n- PM: @sam.white (As `@stkerr` is on an extended PTO)\n\n## Stakeholders\n\n\u003c!--\nAre there any other stages or teams involved that need to be kept in the loop?\n\n- Name of a PM\n- The Support Team\n- The Delivery Team\n--\u003e\n\n## Expectations\n\n### What are we expecting to happen?\n\n\u003c!-- Describe the expected outcome when rolling out this feature --\u003e\n\n### When is the feature viable?\n\n\u003c!-- What are the settings we need to configure in order to have this feature viable? --\u003e\n\n\u003c!-- \nExample below:\n \n1. Enable service ping collection\n   `ApplicationSetting.first.update(usage_ping_enabled: true)`\n--\u003e\n\n### What might happen if this goes wrong?\n\n\u003c!-- Should the feature flag be turned off? Any MRs that need to be rolled back? Communication that needs to happen? What are some things you can think of that could go wrong - data loss or broken pages? --\u003e\n1. Turn off the feature flag as it hides the setting for changing the SSH key lifetime.\n\n### What can we monitor to detect problems with this?\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? --\u003e\n_Consider mentioning checks for 5xx errors or other anomalies like an increase in redirects \n(302 HTTP response status)_\n\n### What can we check for monitoring production after rollouts?\n\n_Consider adding links to check for Sentry errors, Production logs for 5xx, 302s, etc._\n\n## Rollout Steps\n\n### Rollout on non-production environments\n\n- Ensure that the feature MRs have been deployed to non-production environments.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- [x] Enable the feature globally on non-production environments.\n    - [x] `/chatops run feature set ff_limit_ssh_key_lifetime true --dev`\n    - [x] `/chatops run feature set ff_limit_ssh_key_lifetime true --staging`\n- [x] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n\n### Specific rollout on production\n\n- Ensure that the feature MRs have been deployed to both production and canary.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- If you're using [project-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [ ] `/chatops run feature set --project=gitlab-org/gitlab \u003cfeature-flag-name\u003e true`\n    - [ ] `/chatops run feature set --project=gitlab-org/gitlab-foss \u003cfeature-flag-name\u003e true`\n    - [ ] `/chatops run feature set --project=gitlab-com/www-gitlab-com \u003cfeature-flag-name\u003e true`\n- If you're using [group-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [ ] `/chatops run feature set --group=gitlab-org \u003cfeature-flag-name\u003e true`\n    - [ ] `/chatops run feature set --group=gitlab-com \u003cfeature-flag-name\u003e true`\n- If you're using [user-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [ ] `/chatops run feature set --user=\u003cyour-username\u003e \u003cfeature-flag-name\u003e true`\n- [ ] Verify that the feature works on the specific entries. Posting the QA result in this issue is preferable.\n\n### Preparation before global rollout\n\n- [x] Check if the feature flag change needs to be accompanied with a\n  [change management issue](https://about.gitlab.com/handbook/engineering/infrastructure/change-management/#feature-flags-and-the-change-management-process).\n  Cross link the issue here if it does.\n- [x] Ensure that you or a representative in development can be available for at least 2 hours after feature flag updates in production.\n  If a different developer will be covering, or an exception is needed, please inform the oncall SRE by using the `@sre-oncall` Slack alias.\n- [x] Ensure that documentation has been updated ([More info](https://docs.gitlab.com/ee/development/documentation/feature_flags.html#features-that-became-enabled-by-default)).\n- [ ] Announce on [the feature issue](https://gitlab.com/gitlab-org/gitlab/-/issues/1007) an estimated time this will be enabled on GitLab.com.\n- [x] Notify `#support_gitlab-com` and your team channel ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#communicate-the-change)).\n\n### Global rollout on production\n\nFor visibility, all `/chatops` commands that target production should be executed in the `#production` slack channel and cross-posted (with the command results) to the responsible team's slack channel (`#g_manage_compliance`).\n\n- [ ] [Incrementally roll out](https://docs.gitlab.com/ee/development/feature_flags/controls.html#process) the feature.\n  - If the feature flag in code has [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform **actor-based** rollout.\n    - [ ] `/chatops run feature set \u003cfeature-flag-name\u003e \u003crollout-percentage\u003e --actors`\n  - If the feature flag in code does **NOT** have [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform time-based rollout (**random** rollout).\n    - [ ] `/chatops run feature set \u003cfeature-flag-name\u003e \u003crollout-percentage\u003e`\n  - Enable the feature globally on production environment.\n    - [x] `/chatops run feature set \u003cfeature-flag-name\u003e true`\n- [x] Announce on [the feature issue](https://gitlab.com/gitlab-org/gitlab/-/issues/1007) that the feature has been globally enabled.\n- [x] Wait for [at least one day for the verification term](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release).\n\n### (Optional) Release the feature with the feature flag\n\nIf you're still unsure whether the feature is [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release)\nbut want to release it in the current milestone, you can change the default state of the feature flag to be enabled.\nTo do so, follow these steps:\n\n- [x] Create a merge request with the following changes. Ask for review and merge it.\n    - [x] Set the `default_enabled` attribute in [the feature flag definition](https://docs.gitlab.com/ee/development/feature_flags/#feature-flag-definition-and-validation) to `true`.\n    - [x] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the default-enabling MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-default-enabling-mr\u003e`\n- [x] Close [the feature issue](https://gitlab.com/gitlab-org/gitlab/-/issues/1007) to indicate the feature will be released in the current milestone.\n- [ ] Set the next milestone to this rollout issue for scheduling [the flag removal](#release-the-feature).\n- [x] (Optional) You can create a separate issue for scheduling the steps below to [Release the feature](#release-the-feature).\n    - [x] Set the title to \"[Feature flag] Cleanup `\u003cfeature-flag-name\u003e`\".\n    - [x] Execute the `/copy_metadata \u003cthis-rollout-issue-link\u003e` quick action to copy the labels from this rollout issue.\n    - [x] Link this rollout issue as a related issue.\n    - [x] Close this rollout issue.\n\n**WARNING:** This approach has the downside that it makes it difficult for us to\n[clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) the flag.\nFor example, on-premise users could disable the feature on their GitLab instance. But when you\nremove the flag at some point, they suddenly see the feature as enabled and they can't roll it back\nto the previous behavior. To avoid this potential breaking change, use this approach only for urgent\nmatters.\n\n### Release the feature\n\nAfter the feature has been [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release),\nthe [clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up)\nshould be done as soon as possible to permanently enable the feature and reduce complexity in the\ncodebase.\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [ ] Create a merge request to remove `ff_limit_ssh_key_lifetime` feature flag. Ask for review and merge it.\n    - [ ] Remove all references to the feature flag from the codebase.\n    - [ ] Remove the YAML definitions for the feature from the repository.\n    - [ ] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the cleanup MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-cleanup-mr\u003e`\n- [ ] Close [the feature issue](https://gitlab.com/gitlab-org/gitlab/-/issues/1007) to indicate the feature will be released in the current milestone.\n- [ ] Clean up the feature flag from all environments by running these chatops command in `#production` channel:\n    - [ ] `/chatops run feature delete ff_limit_ssh_key_lifetime --dev`\n    - [ ] `/chatops run feature delete ff_limit_ssh_key_lifetime --staging`\n    - [ ] `/chatops run feature delete ff_limit_ssh_key_lifetime`\n- [ ] Close this rollout issue.\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set ff_limit_ssh_key_lifetime false\n```\n\nRelates to #1007","state":"closed","created_at":"2021-11-30T04:15:27.169Z","updated_at":"2021-12-08T12:39:01.137Z","closed_at":"2021-12-08T12:39:01.111Z","closed_by":{"id":9821577,"username":"huzaifaiftikhar1","name":"Huzaifa Iftikhar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9821577/avatar.png","web_url":"https://gitlab.com/huzaifaiftikhar1"},"labels":["GitLab Ultimate","devops::manage","feature flag","feature::addition","group::compliance","priority::2","section::dev","settings","type::feature","workflow::in dev"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[{"id":9821577,"username":"huzaifaiftikhar1","name":"Huzaifa Iftikhar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9821577/avatar.png","web_url":"https://gitlab.com/huzaifaiftikhar1"}],"author":{"id":9821577,"username":"huzaifaiftikhar1","name":"Huzaifa Iftikhar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9821577/avatar.png","web_url":"https://gitlab.com/huzaifaiftikhar1"},"type":"ISSUE","assignee":{"id":9821577,"username":"huzaifaiftikhar1","name":"Huzaifa Iftikhar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9821577/avatar.png","web_url":"https://gitlab.com/huzaifaiftikhar1"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/346753","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":49,"completed_count":22},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"22 of 49 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/346753","notes":"https://gitlab.com/api/v4/projects/278964/issues/346753/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/346753/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#346753","relative":"#346753","full":"gitlab-org/gitlab#346753"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":98133436,"iid":346751,"project_id":278964,"title":"Dispatch Snowplow events from their event definitions","description":"\u003cdetails\u003e\u003csummary\u003eMinimal steps to fire a Snowplow event as of Nov 2021\u003c/summary\u003e\n\n\u003cbr\u003e\n\n(based on the [usage recommendations for frontend](https://docs.gitlab.com/ee/development/snowplow/implementation.html#usage-recommendations))\n\n```html\n\u003c!-- Using data-attributes --\u003e\n\u003cbutton data-track-action=\"click_button\" /\u003e\n```\n\n```js\n// Using Vue\nimport Tracking from '~/tracking';\n...\nmixins: [Tracking.mixin()],\n...\nthis.track('click_button', { label: 'submit' });\n\n// Using raw JS\nimport Tracking from '~/tracking';\n\nTracking.event(undefined, 'click_button', { label: 'submit' });\n```\n\u003c/details\u003e\n\n----\n\n### Proposal\n\n#### Background\n\n[Snowplow event definitions](https://gitlab.com/gitlab-org/gitlab/-/tree/master/config/events), as the source of the [Event Dictionary](https://metrics.gitlab.com/snowplow.html), are independent of the actual event in the code. So coupling an event with its definition becomes a problematic task, evidenced by the completed work on https://gitlab.com/groups/gitlab-org/-/epics/5247. So we would need to implement -mostly manual- maintenance measures to avoid outdated or incorrect definitions.\n\nAdditionally, the event definition contains metadata ([example](https://gitlab.com/gitlab-org/gitlab/-/blob/master/config/events/20210915205037_alert_integrations_view_alert_integrations_list.yml#L4-21)) that is not stored or referenced by the event directly. So accessing this metadata from the data warehouse would be complex and implausible to automate.\n\n#### Proposed solution\n\nAllow firing a Snowplow event with its base data coming from an event definition. Example with placeholder API (naming also TDB):\n\n\u003cdetails\u003e\u003csummary\u003eExample definition\u003c/summary\u003e\n\u003cbr\u003e\n\u003csmall\u003e\u003cb\u003econfig/events/20210915205040_default_generic.yml\u003c/b\u003e\u003c/small\u003e\n\n```yml\ndescription: \"Show a congratulation message on first pipeline\"\ncategory: default\naction: generic\nlabel_description: \"`congratulate_first_pipeline`\"\nproperty_description: \"`[admin | maintainer | developer | owner]`\"\nvalue_description: \"\"\nextra_properties:\nidentifiers:\nproduct_section: growth\nproduct_stage: growth\nproduct_group: group::expansion\nproduct_category:\nmilestone: \"12.10\"\nintroduced_by_url: https://gitlab.com/gitlab-org/gitlab/-/merge_requests/28378\ndistributions:\n- ce\n- ee\ntiers:\n- free\n- premium\n- ultimate\n\n```\n\n\u003c/details\u003e\n\n```html\n\u003c!-- Using data-attributes --\u003e\n\u003cbutton data-track-definition=\"20210915205040_default_generic\" /\u003e\n```\n\n```js\n// Using Vue\nimport Tracking from '~/tracking';\n...\nmixins: [Tracking.mixin()],\n...\nthis.trackDefinition('20210915205040_default_generic', { label: 'submit' });\n\n// Using raw JS\nimport Tracking from '~/tracking';\n\nTracking.definition('20210915205040_default_generic', { label: 'submit' });\n```\n\u003c/details\u003e\n\n#### Details to appreciate/consider\n\n- We would be able to link an event in the data warehouse with its definition.\n- Using a unique event key/name would improve the implementation. Similar to [Metrics naming conventions](https://docs.gitlab.com/ee/development/service_ping/metrics_dictionary.html#metric-name).\n- Finding the matching definition for an event would be trivial on the backend, but it might be tricky on the frontend. We might need to implement a preload step after event discovery, which seems plausible with the javascript implementation.\n- This would keep the event dictionary up-to-date, although we would need to consider some kind of versioning for historical reasons.\n- We would have access to the static data related to an event, that we don’t send at the moment, like `label_description`, `property_description`, `value_description`, `identifiers`, `product_section`, `product_stage`, `product_group`, `product_category`, `milestone`, `introduced_by_url`, `distributions`, `tiers`.\n- We would be able to add more non-automatic fields to the `gitlab_standard` (or other) schema, like a `product_group` property to filter events by owners in the data warehouse.","state":"closed","created_at":"2021-11-30T03:12:02.358Z","updated_at":"2022-03-18T16:32:28.804Z","closed_at":"2022-03-18T16:32:28.295Z","closed_by":{"id":5412956,"username":"agarciatesares","name":"Axel García","state":"active","avatar_url":"https://secure.gravatar.com/avatar/11d24c6151c640aa435f8de30a01f5b8?s=80\u0026d=identicon","web_url":"https://gitlab.com/agarciatesares"},"labels":["backend","devops::growth","feature::addition","frontend","group::product intelligence","section::growth","spike","type::feature","workflow::in dev"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":5412956,"username":"agarciatesares","name":"Axel García","state":"active","avatar_url":"https://secure.gravatar.com/avatar/11d24c6151c640aa435f8de30a01f5b8?s=80\u0026d=identicon","web_url":"https://gitlab.com/agarciatesares"}],"author":{"id":5412956,"username":"agarciatesares","name":"Axel García","state":"active","avatar_url":"https://secure.gravatar.com/avatar/11d24c6151c640aa435f8de30a01f5b8?s=80\u0026d=identicon","web_url":"https://gitlab.com/agarciatesares"},"type":"ISSUE","assignee":{"id":5412956,"username":"agarciatesares","name":"Axel García","state":"active","avatar_url":"https://secure.gravatar.com/avatar/11d24c6151c640aa435f8de30a01f5b8?s=80\u0026d=identicon","web_url":"https://gitlab.com/agarciatesares"},"user_notes_count":6,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/346751","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":8,"blocking_issues_count":1,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/346751","notes":"https://gitlab.com/api/v4/projects/278964/issues/346751/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/346751/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#346751","relative":"#346751","full":"gitlab-org/gitlab#346751"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":98112680,"iid":346726,"project_id":278964,"title":"Document how to customize the permissions for 'agentk'","description":"We should document how `agentk` can be installed with different permissions.\n\n## Definition of done\n\n- [x] Extend https://docs.gitlab.com/ee/user/clusters/agent/install/ with these docs\n- [x] Document that the default installation method gives `cluster-admin` rights to `agentk`\n- [x] Create a example project and link to it in the docs\n- [x] Document how this can be restricted\n   - example: the advanced installation method has a restricted Cilium alert read permission commented out","state":"closed","created_at":"2021-11-29T16:13:34.455Z","updated_at":"2022-01-14T10:02:31.580Z","closed_at":"2022-01-14T10:02:31.559Z","closed_by":{"id":4545061,"username":"nagyv-gitlab","name":"Viktor Nagy (GitLab)","state":"active","avatar_url":"https://secure.gravatar.com/avatar/fb255c1e9c228b9356af165939b3ac9b?s=80\u0026d=identicon","web_url":"https://gitlab.com/nagyv-gitlab"},"labels":["Stretch","candidate::14.7","devops::configure","documentation","group::configure","section::ops"],"milestone":{"id":2156369,"iid":68,"group_id":9970,"title":"14.7","description":"","state":"active","created_at":"2021-07-21T17:39:41.786Z","updated_at":"2021-07-21T17:39:41.786Z","due_date":"2022-01-17","start_date":"2021-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/68"},"assignees":[{"id":4545061,"username":"nagyv-gitlab","name":"Viktor Nagy (GitLab)","state":"active","avatar_url":"https://secure.gravatar.com/avatar/fb255c1e9c228b9356af165939b3ac9b?s=80\u0026d=identicon","web_url":"https://gitlab.com/nagyv-gitlab"}],"author":{"id":4545061,"username":"nagyv-gitlab","name":"Viktor Nagy (GitLab)","state":"active","avatar_url":"https://secure.gravatar.com/avatar/fb255c1e9c228b9356af165939b3ac9b?s=80\u0026d=identicon","web_url":"https://gitlab.com/nagyv-gitlab"},"type":"ISSUE","assignee":{"id":4545061,"username":"nagyv-gitlab","name":"Viktor Nagy (GitLab)","state":"active","avatar_url":"https://secure.gravatar.com/avatar/fb255c1e9c228b9356af165939b3ac9b?s=80\u0026d=identicon","web_url":"https://gitlab.com/nagyv-gitlab"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/346726","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":4,"completed_count":4},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"4 of 4 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/346726","notes":"https://gitlab.com/api/v4/projects/278964/issues/346726/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/346726/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#346726","relative":"#346726","full":"gitlab-org/gitlab#346726"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3329,"epic":{"id":54574,"iid":3329,"title":"GitLab Agent for Kubernetes","url":"/groups/gitlab-org/-/epics/3329","group_id":9970,"human_readable_end_date":"May 17, 2023","human_readable_timestamp":"\u003cstrong\u003e4\u003c/strong\u003e months remaining"},"iteration":null,"health_status":null},{"id":98097019,"iid":346708,"project_id":278964,"title":"divider for file tree max width","description":"\u003c!-- This template is a great use for issues that are feature::additions or technical tasks for larger issues.--\u003e\n\n### Proposal\n\n\u003c!-- Use this section to explain the feature and how it will work. It can be helpful to add technical details, design proposals, and links to related epics or issues. --\u003e\n\nThe max width for divider for the file tree has a max value. Enhancing this feature to not have a max width will allow for larger screens to use the feature to its fullest.\n\n![Screen_Recording](/uploads/63385a2e3e927f0520cb5718b238b44d/Screen_Recording_2019-02-11_at_14.52.02.mov)\n\nThe above demonstrates the feature in question.\n\n\u003c!-- Consider adding related issues and epics to this issue. You can also reference the Feature Proposal Template (https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Feature%20proposal%20-%20detailed.md) for additional details to consider adding to this issue. Additionally, as a data oriented organization, when your feature exits planning breakdown, consider adding the `What does success look like, and how can we measure that?` section.\n--\u003e\n\n\u003c!-- Label reminders\nUse the following resources to find the appropriate labels:\n- https://gitlab.com/gitlab-org/gitlab/-/labels\n- https://about.gitlab.com/handbook/product/categories/features/\n--\u003e","state":"closed","created_at":"2021-11-29T11:43:09.480Z","updated_at":"2022-05-16T08:50:54.292Z","closed_at":"2022-05-16T08:50:54.241Z","closed_by":{"id":9938509,"username":"faleksic","name":"Filip Aleksic","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9938509/avatar.png","web_url":"https://gitlab.com/faleksic"},"labels":["Category:Code Review Workflow","customer","devops::create","feature::enhancement","frontend","group::code review","merge requests","missed:14.10","missed:14.7","missed:14.8","missed:14.9","section::dev","type::feature"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},{"id":10456036,"username":"Nastia3","name":"Nastia Kushnir","state":"active","avatar_url":"https://secure.gravatar.com/avatar/333855bbdcae321fe9939fcd780b5f10?s=80\u0026d=identicon","web_url":"https://gitlab.com/Nastia3"}],"author":{"id":9938509,"username":"faleksic","name":"Filip Aleksic","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9938509/avatar.png","web_url":"https://gitlab.com/faleksic"},"type":"ISSUE","assignee":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"user_notes_count":14,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/346708","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/346708","notes":"https://gitlab.com/api/v4/projects/278964/issues/346708/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/346708/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#346708","relative":"#346708","full":"gitlab-org/gitlab#346708"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":98015125,"iid":346652,"project_id":278964,"title":"Expose github \"hard_failures\" through import status API","description":"### Context\nWe already have a `projects/:id/import` (https://docs.gitlab.com/ee/api/project_import_export.html#import-status) to expose the import status\nof the given project. This endpoint exposes \"hard_failures\", which are\nerrors that caused the import to fail.\n\n### Proposal\nChange the `Gitlab::Import::ImportFailureService` to create\nthe failure record with the `retry_count: 0`, when it's failing the\nimport. The `retry_count: 0` is is the condition to expose the failure\nas a \"hard_failure\" in the API.","state":"closed","created_at":"2021-11-26T16:57:55.600Z","updated_at":"2021-12-15T15:31:24.672Z","closed_at":"2021-12-15T14:31:29.968Z","closed_by":{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"},"labels":["Importer:GitHub","Next Up","backend","devops::manage","group::import","section::dev","type::maintenance","workflow::production"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"}],"author":{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"},"type":"ISSUE","assignee":{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/346652","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/346652","notes":"https://gitlab.com/api/v4/projects/278964/issues/346652/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/346652/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#346652","relative":"#346652","full":"gitlab-org/gitlab#346652"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":801,"epic":{"id":3764,"iid":801,"title":"Importer improvements","url":"/groups/gitlab-org/-/epics/801","group_id":9970},"iteration":null,"health_status":null},{"id":98009558,"iid":346645,"project_id":278964,"title":"[ENG] Add structured event tracking to Secure your project banner on SaaS","description":"## Problem \nBanners are defined as the main component to [promote features](https://design.gitlab.com/components/banner). That said, as of today, most of the banners are being introduced to GitLab without tracking. We don't know whether they are successfully leading to feature adoption and conversion. As we want to implement an efficient feature discovery experience, We need to validate their efficiency. ​The following banner is currently untracked:\n\n![image](/uploads/436942efea5cc03b3088fc73fe36204b/image.png)\n\n## Potential solution\nAdd anonymized user_IDs to understand the following:\n* Is the namespace free or paid?\n* How old is the namespace?\n* How many users are in this namespace?\n\nAdd structured events to understand the following: \n* Views to CTR \n* Views to dismiss\n* CTR to trial started\n\n## Where does this banner appear?\n* https://gitlab.com/user/project/-/security/configuration\n\n## Events to track\n\n| Trigger | Action | Label | Property\n|---|---|---|---\n| The Vue component for the banner is rendered | `render` | `security_upgrade_banner` | `security_upgrade_banner`\n| The user clicks on the primary CTA in the banner | `click_button` | `upgrade_or_free_trial` | `security_upgrade_banner`\n| The user closes the banner | `dismiss_banner` | `security_upgrade_banner` | `security_upgrade_banner`\n\n## Engineering plan\n\n- Use [the `gl-banner` events](https://gitlab.com/gitlab-org/gitlab-ui/-/blob/main/src/components/base/banner/banner.vue#L68-86) to know when the CTA is clicked or [the banner](https://gitlab.com/gitlab-org/gitlab/-/blob/v14.7.0-rc42-ee/app/assets/javascripts/security_configuration/components/upgrade_banner.vue) is closed\n  - As you test the dismissal of the callout, you’ll want to clear the record which is created in the `user_callouts` table: `Users::Callouts.last.destroy` should generally do the trick\n  - In case there are other `user_callouts` records to tangle with, you’ll be looking for the `security_configuration_upgrade_banner` one with your user’s id\n- Use [the `Tracking.mixin(…)`](https://gitlab.com/gitlab-org/gitlab/-/blob/v14.7.0-rc42-ee/app/assets/javascripts/tracking/tracking.js#L207-231) to implement the tracking needs:\n  - Track `banner_shown` when the component is rendered\n  - Track `click_button` on the CTA when the `primaryButtonClicked` event happens from the `gl-banner` component\n  - Track `dismiss_banner` when the `handleClose` event happens from the `gl-banner` component\n- With all tracked events, it is a given that we will be sending the desired information (anonymized `user.id` \u0026 `namespace.id` or `group.id`) in [the `gitlab_standard` context](https://gitlab.com/gitlab-org/iglu/-/blob/master/public/schemas/com.gitlab/gitlab_standard/jsonschema/1-0-8)\n- Add/update related tests for the above changes","state":"closed","created_at":"2021-11-26T14:51:57.376Z","updated_at":"2022-02-10T23:56:12.634Z","closed_at":"2022-01-28T01:25:55.160Z","closed_by":{"id":5755274,"username":"dreedy","name":"Dallas Reedy","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5755274/avatar.png","web_url":"https://gitlab.com/dreedy"},"labels":["Deliverable","Engineering","auto updated","devops::growth","group::acquisition","section::growth","type::maintenance","workflow::production"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":5755274,"username":"dreedy","name":"Dallas Reedy","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5755274/avatar.png","web_url":"https://gitlab.com/dreedy"}],"author":{"id":4412383,"username":"kcomoli","name":"Kevin Comoli","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4412383/avatar.png","web_url":"https://gitlab.com/kcomoli"},"type":"ISSUE","assignee":{"id":5755274,"username":"dreedy","name":"Dallas Reedy","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5755274/avatar.png","web_url":"https://gitlab.com/dreedy"},"user_notes_count":18,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/346645","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/346645","notes":"https://gitlab.com/api/v4/projects/278964/issues/346645/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/346645/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#346645","relative":"#346645","full":"gitlab-org/gitlab#346645"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":98009332,"iid":346644,"project_id":278964,"title":"[ENG] Add structured event tracking to Ultimate banner on SaaS","description":"## Problem \nBanners are defined as the main component to [promote features](https://design.gitlab.com/components/banner). That said, as of today, most of the banners are being introduced to GitLab without tracking. We don't know whether they are successfully leading to feature adoption and conversion. As we want to implement an efficient feature discovery experience, We need to validate their efficiency. ​\n\n![image](/uploads/67babe590755f85645ab2a2979617051/image.png)\n\n_Note: The Ultimate banner already have some level of tracking_\n\n## Potential solution\nWe need to understand how efficient is this banner.\n\nAdd anonymized user_IDs to understand the following:\n* Is the namespace free or paid?\n* How old is the namespace?\n* How many users are in this namespace?\n\nAdd structured events to understand the following: \n* Views to CTR \n* Views to dismiss\n* CTR to trial started\n\n| Trigger | Action | Label | Property |\n|---|---|---|---|\n| The Vue component for the banner is rendered | `render` | `ultimate_banner` \n| The user clicks on the primary CTA in the banner | `click_button` | `start_your_trial` | `ultimate_banner`\n| The user closes the banner | `dismiss_banner` | `ultimate_banner` \n\n\n## Where does this banner appear?\n* gitlab.com/dashboard/\n* gitlab.com/dashboard/projects\n* gitlab.com/dashboard/groups","state":"closed","created_at":"2021-11-26T14:47:44.708Z","updated_at":"2022-03-08T18:46:26.019Z","closed_at":"2022-02-14T19:10:14.416Z","closed_by":{"id":9877149,"username":"sam.figueroa","name":"Sam Figueroa","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9877149/avatar.png","web_url":"https://gitlab.com/sam.figueroa"},"labels":["DEPRECATED Growth-Deliverable","Engineering","Stretch","auto updated","devops::growth","group::acquisition","section::growth","type::maintenance","workflow::in review"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":9877149,"username":"sam.figueroa","name":"Sam Figueroa","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9877149/avatar.png","web_url":"https://gitlab.com/sam.figueroa"}],"author":{"id":4412383,"username":"kcomoli","name":"Kevin Comoli","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4412383/avatar.png","web_url":"https://gitlab.com/kcomoli"},"type":"ISSUE","assignee":{"id":9877149,"username":"sam.figueroa","name":"Sam Figueroa","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9877149/avatar.png","web_url":"https://gitlab.com/sam.figueroa"},"user_notes_count":43,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/346644","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/346644","notes":"https://gitlab.com/api/v4/projects/278964/issues/346644/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/346644/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#346644","relative":"#346644","full":"gitlab-org/gitlab#346644"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":97997363,"iid":346640,"project_id":278964,"title":"Add new service to use instrumentation classes","description":"# Summary\n\nAdd new service to use instrumentation classes\n\nRelated [note1](https://gitlab.com/gitlab-org/gitlab/-/issues/338029#note_743888239) [note2](https://gitlab.com/gitlab-org/gitlab/-/issues/338029#note_744151508)\n# Details \n\nWe add a new service to take care of generating the service ping payload. This is behind `merge_service_ping_instrumented_metrics` feature flag.\n \nThe `UsageData` class will not be used directly anymore.\n\n`UsageData` class will be used only in the new service\n\nProposed new service name: `ServicePingReport ` we can find a better name\n\n- [ ] Add the new service together with a test to check the integrity of the payload. \n\nFrom @nicolasdular \n\u003e  We might want to have a \"blackbox\" test for the `ServicePingReport ` class where we check if `ServicePingMetrics.run` returns a given payload that is prepared as a fixture.\n\n\u003e * The payload should stay the same when a metric gets removed from `usage_data.rb` and added as an Instrumentation class.\n\u003e * We can have multiple payload tests based on the data category in the future.\n\n- [ ] Use the new service to handle `UsageDataNonSqlMetrics`, `UsageDataQueries`. This can be done by having a parameter in `run(mode: 'values/queries/non_queries')` method in ServicePingMetrics\n\n- [x] Migrate first metric\n\nPseudo code of the new service class\n\n```ruby\nclass ServicePingReport\n  def for(output: 'all_metrics_values')\n    case mode\n    when :all_metrics_values \n      instrumentation_classes_values\n    when :metrics_queries\n      instrumentation_classes_queries\n    when :non_sql_metrics_values\n      instrumentation_classes_non_queries\n    end\n  end\n\n  private\n\n  def instrumentation_classes_values\n    # The metrics migrated will be removed from usage_data.rb and automatically computed here\n    # using the diff on keys present\n    # hash with values we migrate\n    # Build the old payload using usage_data.rb\n    old_payload = UsageData.uncached_data\n    \n    # Get the metrics defintion\n    metrics_defintions_keys = Gitlab::Usage::MetricDefinition.with_instrumentation_class.map(:key_path)\n\n    # Do we have any missing values in old_payload?\n    missing_keys = metrics_defintions_keys - old_payload_keys(old_payload) # Build method to get the keys from the hash\n    if missing_keys.any?\n      old_payload.deep_merge(compute_missing_keys_using_instrumentation_classes)\n    end\n\n    old_payload\n  end\n\n  def instrumentation_classes_queries\n    UsageDataQueries.uncached_data.deep_merge(queries_hash)\n  end\n\n  def instrumentation_classes_non_queries\n    UsageData.uncached_data.deep_merge(non_queries_hash)\n  end\nend\n```\n\nRelated to #338029.","state":"closed","created_at":"2021-11-26T11:35:52.766Z","updated_at":"2022-04-14T08:39:05.274Z","closed_at":"2022-02-28T13:04:00.295Z","closed_by":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"labels":["backend","devops::growth","group::product intelligence","missed:14.7","missed:14.8","section::growth","type::maintenance","workflow::verification"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},{"id":9712164,"username":"nbelokolodov","name":"Niko Belokolodov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9712164/avatar.png","web_url":"https://gitlab.com/nbelokolodov"}],"author":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"type":"ISSUE","assignee":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"user_notes_count":12,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/346640","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":1},"weight":5,"blocking_issues_count":0,"has_tasks":true,"task_status":"1 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/346640","notes":"https://gitlab.com/api/v4/projects/278964/issues/346640/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/346640/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#346640","relative":"#346640","full":"gitlab-org/gitlab#346640"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5281,"epic":{"id":189695,"iid":5281,"title":"Generate Usage Ping from Metrics YML","url":"/groups/gitlab-org/-/epics/5281","group_id":9970,"human_readable_end_date":"Mar 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":97995803,"iid":346638,"project_id":278964,"title":"GitHub Importer: comments containing suggestions are not imported if the conversation was resolved","description":"Hi there! :wave: \n\n### Summary\n\nI noticed a specific type of comments are missing on the imported Merge Requests: comments containing suggestions. Interesting fact: it's not all of them. It seems to only impact the resolved conversations. More details below.\n\n### Steps to reproduce\n\nAbout 24 hours ago, I imported a github.com repository on gitlab.com. I used the Github integration[1] which was straightforward. I didn't have to choose anything other than the repo I wanted to import.\n\n[1] https://docs.gitlab.com/ee/user/project/import/github.html#use-the-github-integration\n\n### What is the current *bug* behavior?\n\nHere's an example:\n\n![Screen_Shot_2021-11-26_at_11.52.12](/uploads/e644442c6c6520149c899382bc87f5f8/Screen_Shot_2021-11-26_at_11.52.12.png)\n\nIn this Github PR, we can see 3 comments. The one in the middle contains a suggestion.\n\nOnce imported on Gitlab:\n\n![Screen_Shot_2021-11-26_at_11.53.07](/uploads/d1759de1768c7c245f01cdd0df25b209/Screen_Shot_2021-11-26_at_11.53.07.png)\n\nonly 2 of the comments got imported. I expanded all threads on Gitlab and `Ctrl+F`'ing the middle comment doesn't yield anything. \n\nInterestingly, I found an example where a suggestion was correctly imported: \n\n![Screen_Shot_2021-11-26_at_11.59.30](/uploads/ff525d77dfb5b0ae72642372c9b1d27f/Screen_Shot_2021-11-26_at_11.59.30.png)\n\n![Screen_Shot_2021-11-26_at_12.01.04](/uploads/a032ea406ed4c5c92437727b0789af8f/Screen_Shot_2021-11-26_at_12.01.04.png)\n\nAs you can see, this one wasn't resolved. I guess it's the difference that explains the behavior. I found a few more examples validating this pattern. I'm happy to provide more information, if needed\n\n### What is the expected *correct* behavior?\n\nAll comments, including resolved ones should be imported.\n\n### Output of checks\n\nThis bug happens on GitLab.com\n\n\n### Possible fixes\n\nI don't know what the possibles fixes are. That said, I saw that part of the GitHub importer has had its implementation changed for the past 2 months:\n\n * https://gitlab.com/gitlab-org/gitlab/-/issues/340446\n * https://gitlab.com/gitlab-org/gitlab/-/issues/340624\n * https://gitlab.com/gitlab-org/gitlab/-/merge_requests/74096\n\nHow does that sound to you all, @kassio, @georgekoltsov, @jmarquez2, @dstull?\n\n### Analysis\n\nThe error on the mentioned import was `DiffNote::NoteDiffFileCreationError`, after checking on [Sentry](https://sentry.gitlab.net/gitlab/gitlabcom/issues/2947875/?referrer=gitlab_plugin) and noticing that this error is not happening exclusively during the import a solution proposed on https://gitlab.com/gitlab-org/gitlab/-/merge_requests/76376 is to fallback to `LegacyDiffNote` if this exception happens.\n\n### Solution implemented\n\nSince I couldn't find the root cause of the problem, I implemented a fallback to avoid missing merge request comments. Since https://gitlab.com/gitlab-org/gitlab/-/merge_requests/76376 if a comment with a suggestion fails to be created with the formatted suggestion, the importer will fallback to import the comment without formatting the suggestion.","state":"closed","created_at":"2021-11-26T11:07:30.114Z","updated_at":"2022-04-14T18:04:02.361Z","closed_at":"2022-01-13T15:01:00.946Z","closed_by":{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"},"labels":["Category:Importers","Github","Importer:GitHub","Next Up","Unplanned","backend","devops::manage","group::import","section::dev","type::bug","workflow::verification"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"}],"author":{"id":1163890,"username":"JohanLorenzo","name":"Johan Lorenzo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1163890/avatar.png","web_url":"https://gitlab.com/JohanLorenzo"},"type":"ISSUE","assignee":{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"},"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/346638","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/346638","notes":"https://gitlab.com/api/v4/projects/278964/issues/346638/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/346638/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#346638","relative":"#346638","full":"gitlab-org/gitlab#346638"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3050,"epic":{"id":39430,"iid":3050,"title":"🐞 GitHub Importer bugs","url":"/groups/gitlab-org/-/epics/3050","group_id":9970},"iteration":null,"health_status":null},{"id":97986886,"iid":346627,"project_id":278964,"title":"[VSA] summary endpoints are being called twice on group-level VSA page load","description":"On group-level VSA, the `summary` and `time_summary` endpoints are being called twice on page load (without a difference in the request params), see:\n\n![image](/uploads/3b4ffe8c5af56ad94f313a119b4ce452/image.png)\n\nThis is likely not necessary and we should investigate further if this needs to be refactored","state":"closed","created_at":"2021-11-26T08:56:11.344Z","updated_at":"2021-12-03T00:16:23.924Z","closed_at":"2021-12-03T00:16:23.909Z","closed_by":{"id":3397881,"username":"ekigbo","name":"Ezekiel Kigbo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3397881/avatar.png","web_url":"https://gitlab.com/ekigbo"},"labels":["Category:Value Stream Management","auto updated","devops::manage","frontend","group::optimize","section::dev","type::bug","workflow::verification"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[{"id":3397881,"username":"ekigbo","name":"Ezekiel Kigbo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3397881/avatar.png","web_url":"https://gitlab.com/ekigbo"}],"author":{"id":1749038,"username":"wortschi","name":"Martin Wortschack","state":"active","avatar_url":"https://secure.gravatar.com/avatar/81f1a88935a2a512aa14db650ed37fdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/wortschi"},"type":"ISSUE","assignee":{"id":3397881,"username":"ekigbo","name":"Ezekiel Kigbo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3397881/avatar.png","web_url":"https://gitlab.com/ekigbo"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/346627","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/346627","notes":"https://gitlab.com/api/v4/projects/278964/issues/346627/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/346627/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#346627","relative":"#346627","full":"gitlab-org/gitlab#346627"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":97983993,"iid":346622,"project_id":278964,"title":"Remove redundant components for add-on purchases","description":"This Issue is a follow-up of gitlab-org/gitlab#346620 and therefore blocked until the first one is resolved.\n\nOnce the Add-On Type has been created and the data moved to the proper layer, both [`buy_minutes`](https://gitlab.com/gitlab-org/gitlab/-/blob/e1fb756bb8148b10db4b643d82d828762d9dcd85/ee/app/assets/javascripts/subscriptions/buy_minutes/components/app.vue) and [`buy_storage`](https://gitlab.com/gitlab-org/gitlab/-/blob/e1fb756bb8148b10db4b643d82d828762d9dcd85/ee/app/assets/javascripts/subscriptions/buy_storage/components/app.vue) apps will have no other purpose than passing the correct `planTag` to the `BuyAddonsApp`. This is unnecessary as we can provide it when initialising it.\n\nThis will help remove some redundant code and tests.\n\n#### Proposal\n\n1. Move the following lines to the parent application:\n\n    - from [here](https://gitlab.com/gitlab-org/gitlab/-/blob/e1fb756bb8148b10db4b643d82d828762d9dcd85/ee/app/assets/javascripts/subscriptions/buy_minutes/components/app.vue#L24) to [here](https://gitlab.com/gitlab-org/gitlab/-/blob/5ec85781766fc9b7415ae83b1c0806e1a8c9dbb8/ee/app/assets/javascripts/subscriptions/buy_minutes/index.js#L18)\n    - from [here](https://gitlab.com/gitlab-org/gitlab/-/blob/e1fb756bb8148b10db4b643d82d828762d9dcd85/ee/app/assets/javascripts/subscriptions/buy_storage/components/app.vue#L25) to [here](https://gitlab.com/gitlab-org/gitlab/-/blob/5ec85781766fc9b7415ae83b1c0806e1a8c9dbb8/ee/app/assets/javascripts/subscriptions/buy_storage/index.js#L18)\n\n1. Move the config to the parent application:\n\n    - [`buy_minutes`](https://gitlab.com/gitlab-org/gitlab/-/blob/e1fb756bb8148b10db4b643d82d828762d9dcd85/ee/app/assets/javascripts/subscriptions/buy_minutes/components/app.vue#L26)\n    - [`buy_storage`](https://gitlab.com/gitlab-org/gitlab/-/blob/e1fb756bb8148b10db4b643d82d828762d9dcd85/ee/app/assets/javascripts/subscriptions/buy_storage/components/app.vue#L27)\n\n1. Replace the following `App` with `BuyAddonsApp`:\n\n    - [`buy_minutes`](https://gitlab.com/gitlab-org/gitlab/-/blob/5ec85781766fc9b7415ae83b1c0806e1a8c9dbb8/ee/app/assets/javascripts/subscriptions/buy_minutes/index.js#L5)\n    - [`buy_storage`](https://gitlab.com/gitlab-org/gitlab/-/blob/5ec85781766fc9b7415ae83b1c0806e1a8c9dbb8/ee/app/assets/javascripts/subscriptions/buy_storage/index.js#L5)\n\nGiven the `planTag` is static, I would recommend using `provide`/`inject` in this particular case. An additional benefit of this approach is the possibility of turning the children components into widgets that depend on GraphQL for their data instead of props passed from the parent. It's not necessary to commit to this right now though. If this way is picked, the props `tags` can be removed.\n\n#### Testing considerations\n\nChanges to tests to be done prior to making the proposed code changes (in gitlab-org/gitlab#346620) so that the refactoring is more secure.\n\n\n#### Proposed implementation plan\n\n| Description | MR |\n|-|-|\n| Remove `buy_storage` and `buy_minutes` app (steps 1, 2, 3) | _tbd_ |","state":"closed","created_at":"2021-11-26T07:51:57.366Z","updated_at":"2022-01-25T12:38:34.704Z","closed_at":"2022-01-24T21:32:35.107Z","closed_by":{"id":10325315,"username":"vvempati","name":"Vamsi Vempati","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10325315/avatar.png","web_url":"https://gitlab.com/vvempati"},"labels":["CI minutes","Category:Purchase","Unplanned","auto updated","devops::fulfillment","frontend","group::purchase","maintenance::refactor","onboarding","section::fulfillment","type::maintenance","workflow::verification"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":10325315,"username":"vvempati","name":"Vamsi Vempati","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10325315/avatar.png","web_url":"https://gitlab.com/vvempati"}],"author":{"id":6348276,"username":"agulina","name":"Angelo Gulina","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b28693a558066993ea93b7272208d285?s=80\u0026d=identicon","web_url":"https://gitlab.com/agulina"},"type":"ISSUE","assignee":{"id":10325315,"username":"vvempati","name":"Vamsi Vempati","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10325315/avatar.png","web_url":"https://gitlab.com/vvempati"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/346622","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/346622","notes":"https://gitlab.com/api/v4/projects/278964/issues/346622/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/346622/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#346622","relative":"#346622","full":"gitlab-org/gitlab#346622"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":97982086,"iid":346620,"project_id":278964,"title":"Move add-on related data to GraphQL","description":"Add-on products have data that is currently not reflected in the proper layer. As an entity, it should be modelled properly and not just rely on objects defined \"on-the-fly\". We want to enforce validation on the properties each add-on should have via the definition of a GraphQL Type.\n\nFor this reason, this Issue will move the data related to each add-on item to the Apollo cache. This will help keep the concerns separated as much as possible and reduce some redundant code.\n\nThe scope of this issue is the following addon-related fields:\n| Storage | CI Minutes |\n| ------ | ------ |\n| I18N_STORAGE_PRODUCT_LABEL | I18N_CI_MINUTES_PRODUCT_LABEL |\n| I18N_STORAGE_PRODUCT_UNIT | I18N_CI_MINUTES_PRODUCT_UNIT\n| STORAGE_PER_PACK | CI_MINUTES_PER_PACK |\n| `hasExpiration`: `true` | `hasExpiration`: `false` |\n\nAdditionally, an `isAddon` property should be added to both, with the value of `true`.\n\n### Proposal\n\n1. Add/change tests for `BuyAddonsApp` to make sure we have tests in place for Storage and CI Minutes before doing the refactor. Currently the tests are around Storage only, we need to add tests for CI minutes as well. We can also make use of snapshot tests for both Storage and Minutes so we don't have to manually check for every string.\n   - The resolved value for plans [has the mocked minutes data as a default value](https://gitlab.com/gitlab-org/gitlab/-/blob/master/ee/spec/frontend/subscriptions/spec_helper.js#L15). Current tests [use storage config values](https://gitlab.com/gitlab-org/gitlab/-/blob/master/ee/spec/frontend/subscriptions/buy_addons_shared/app_spec.js#L39) when creating the component but [don't always pass the query mock](https://gitlab.com/gitlab-org/gitlab/-/blob/master/ee/spec/frontend/subscriptions/buy_addons_shared/app_spec.js#L82) with storage data. We should pass the query mock for the ones that don't to make sure they use storage addon data instead of the default minutes data for Storage. These will fail when we replace the usages of config with plan in the upcoming MRs as the actual values will be that of minutes rather than storage.\n   - Make `propsData` a constant (ex. `STORAGE_ADDON_PROPS`) in the spec file and pass it while calling `createComponent` as props to create a component. This way we can have another constant to hold minutes props data and use it when creating a component for CI Minutes\n   - Replace current applicable tests for Storage with snapshot tests and add new tests (including snapshot tests) for CI Minutes\n1. Use the current query [`getPlans`](https://gitlab.com/gitlab-org/gitlab/-/blob/87c15fb77376b28fb5dfe4539a01b5d0a9a6cb67/ee/app/assets/javascripts/subscriptions/graphql/queries/plans.customer.query.graphql), and add new fields to be locally resolved (example [here](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/75752/diffs#diff-content-24c09bbebdc99fd17fac94ee4ee07e3355a6fdfd)). The following are only suggestions for a possible approach:\n\n    - we can use the local resolver, and the `code` of the plan to get the correct data for it, example [here](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/75752/diffs#b95ac49cd73a1d3f27cc51a2d5fcb628e1c98017_46_50)\n    - we can use a structure similar to [this one](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/75752/diffs#bfc20d42fb31d927354a52ccd70ec1094a311984_0_13)\n\n1. Retrieve the info from inside the `BuyAddonsApp`. Now that [`plan`](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/75752/diffs#03b0c326f7bfa7e132c875f8f0b35d98c3d978d1_67_67) is populated with the relevant data, we replace the usages of `config` with `plan` (check if the properties are matching). Additionally, bring the `isAddon` to the data (example [here](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/75752/diffs#bfc20d42fb31d927354a52ccd70ec1094a311984_0_16)) and remove it from [here](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/75752/diffs#03b0c326f7bfa7e132c875f8f0b35d98c3d978d1_70_68).\n\n1. Remove the const (from the previous table) from the `config` from the following files:\n\n    - [`buy_minutes`](https://gitlab.com/gitlab-org/gitlab/-/blob/e1fb756bb8148b10db4b643d82d828762d9dcd85/ee/app/assets/javascripts/subscriptions/buy_minutes/components/app.vue#L26)\n    - [`buy_storage`](https://gitlab.com/gitlab-org/gitlab/-/blob/e1fb756bb8148b10db4b643d82d828762d9dcd85/ee/app/assets/javascripts/subscriptions/buy_storage/components/app.vue#L27)\n\n#### Suggested implementation plan\n\n| Step | Description | MR |\n| - | - | - |\n| 1 | Pass `plansQueryMock` while calling `createMockApolloProvider` in the current tests for the tests that don't | !77920 |\n| 2 | Make `propsData` a constant and pass in while calling `createComponent` | !77920 |\n| 3 | Replace current tests for Storage with snapshots | !78032 |\n| 4 | Add snapshot tests for CI Minutes | !78032 |\n| 5 | Move new fields to Apollo cache | !78426 |\n| 6 | Replace `config` usages with new fields in plan and remove the corresponding constants from `config` | !78436 |\n\nSteps 1 \u0026 2 can be done in the same MR if they are too simple to be in separate MRs.","state":"closed","created_at":"2021-11-26T07:13:38.754Z","updated_at":"2022-01-24T21:29:49.259Z","closed_at":"2022-01-24T21:29:49.230Z","closed_by":{"id":10325315,"username":"vvempati","name":"Vamsi Vempati","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10325315/avatar.png","web_url":"https://gitlab.com/vvempati"},"labels":["CI minutes","Category:Purchase","Unplanned","auto updated","devops::fulfillment","frontend","group::purchase","maintenance::refactor","onboarding","section::fulfillment","type::maintenance","workflow::verification"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":10325315,"username":"vvempati","name":"Vamsi Vempati","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10325315/avatar.png","web_url":"https://gitlab.com/vvempati"}],"author":{"id":6348276,"username":"agulina","name":"Angelo Gulina","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b28693a558066993ea93b7272208d285?s=80\u0026d=identicon","web_url":"https://gitlab.com/agulina"},"type":"ISSUE","assignee":{"id":10325315,"username":"vvempati","name":"Vamsi Vempati","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10325315/avatar.png","web_url":"https://gitlab.com/vvempati"},"user_notes_count":21,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/346620","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/346620","notes":"https://gitlab.com/api/v4/projects/278964/issues/346620/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/346620/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#346620","relative":"#346620","full":"gitlab-org/gitlab#346620"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":97966297,"iid":346609,"project_id":278964,"title":"Correlates the JH branch for `add-jh-folder` job","description":"## Background\n\nWe're using `add-jh-folder` job to download the `jh/` folder for the subsequent `as-if-jh` jobs to simulate CI running in a JH environment. This can be enabled via adding ~\"pipeline:run-as-if-jh\" to the merge request.\n\nFor now, it's always grabbing the folder from the default branch `main-jh` in the JH repository gitlab-jh/gitlab\u003e\n\n## Problem\n\nWe're essentially mixing revisions which can cause incompatibilities.\n\n* `jh/` from `main-jh`\n* Everything else from the branch running the pipeline\n\nThere are 2 scenarios we identified that it can easily cause this incompatibility:\n\n* Merge requests based on stable branches targeting stable branches: https://gitlab.com/gitlab-org/gitlab/-/issues/346119\n  * Code inside `jh/` from `main-jh` likely needs to use something which does not exist in an older stable branch. The older the stable branches are the more likely this can happen.\n* Merge requests contributed from ~\"JiHu contribution\" is likely to hit this: https://gitlab.com/gitlab-jh/gitlab/-/issues/350\n  * Whenever we're introducing JH breaking changes, like renaming things or moving files, it's likely that code from `main-jh` is not compatible with it\n\n## Solution\n\nWe define the following concepts:\n\n* A **corresponding JH branch** is a branch which contains the changes to adapt the compatibility issue.\n* A **fallback JH branch** is a branch which we should pick when there's no corresponding JH branch available.\n\nWe still need a fallback JH branch to run against because we're not always making incompatible changes and we still need to run against something to make sure there's indeed no compatibility issues.\n\n### The stable branch scenario\n\n* The corresponding JH branch should be following how we define a corresponding JH branch for a merge request. For example, this can be adding a `jh-` prefix to the current branch name.\n* The fallback JH branch is the stable counterpart for the JH edition. For example, EE stable branch `14-4-stable-ee` should correspond to `14-4-stable-jh`. The scheme here should be replacing `ee` with `jh`. If the fallback JH branch does not exist, it means there's no such JH version and we don't need to care about compatibility for it, so the `as-if-jh` jobs can be completely skipped.\n\n### The ~\"JiHu contribution\" scenario\n\n* The corresponding JH branch should be following how we define a corresponding JH branch for a merge request. For example, this can be adding a `jh-` prefix to the current branch name.\n* The fallback JH branch is `main-jh` because we're developing against the default branch, which should always exist.\n\n### Pseudo code\n\n* If this is a merge request: (regardless targets)\n  * Find the corresponding JH branch; If not found then fall through the following cases\n* Find the fallback JH branch:\n  * If this is a merge request targeting `master`:\n    * Correlates the JH branch with `main-jh`; This should always succeed\n  * If this is a merge request targeting a stable branch:\n    * Correlates the JH branch with the corresponding JH stable branch by replacing `ee` with `jh` in the branch name; This might fail and in that case skip `as-if-jh`\n\n### Implementations questions\n\n* How do we find the corresponding JH branch for a merge request?\n  * Play around with the branch name?\n  * Play around with the merge request title?","state":"closed","created_at":"2021-11-25T21:43:19.235Z","updated_at":"2023-01-11T17:11:31.658Z","closed_at":"2021-12-24T13:19:25.904Z","closed_by":{"id":6290669,"username":"godfat-gitlab","name":"Lin Jen-Shin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6290669/avatar.png","web_url":"https://gitlab.com/godfat-gitlab"},"labels":["Engineering Productivity","maintenance::pipelines","priority::1","type::maintenance","workflow::verification"],"milestone":{"id":2156369,"iid":68,"group_id":9970,"title":"14.7","description":"","state":"active","created_at":"2021-07-21T17:39:41.786Z","updated_at":"2021-07-21T17:39:41.786Z","due_date":"2022-01-17","start_date":"2021-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/68"},"assignees":[{"id":6290669,"username":"godfat-gitlab","name":"Lin Jen-Shin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6290669/avatar.png","web_url":"https://gitlab.com/godfat-gitlab"}],"author":{"id":6290669,"username":"godfat-gitlab","name":"Lin Jen-Shin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6290669/avatar.png","web_url":"https://gitlab.com/godfat-gitlab"},"type":"ISSUE","assignee":{"id":6290669,"username":"godfat-gitlab","name":"Lin Jen-Shin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6290669/avatar.png","web_url":"https://gitlab.com/godfat-gitlab"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/346609","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/346609","notes":"https://gitlab.com/api/v4/projects/278964/issues/346609/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/346609/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#346609","relative":"#346609","full":"gitlab-org/gitlab#346609"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6600,"epic":{"id":331744,"iid":6600,"title":"JiHu safeguards from canonical repo changes","url":"/groups/gitlab-org/-/epics/6600","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":null},{"id":97954543,"iid":346601,"project_id":278964,"title":"Improve performance of users API under load","description":"The TTFB P90 for the users API is taking longer then the expected 200ms\n\n```\nNAME         | RPS    | RPS RESULT           | TTFB AVG  | TTFB P90           | REQ STATUS     | RESULT\n-------------|--------|----------------------|-----------|--------------------|----------------|-----------------\napi_v4_users | 1000/s | 500.46/s (\u003e800.00/s) | 1860.73ms | 4331.20ms (\u003c200ms) | 100.00% (\u003e99%) | FAILED²\n```\n\nThis is based on the time to retrieve a full page of 20 users, when changing the pagination to 100 users per page the time increases.\n\n```\nNAME         | RPS    | RPS RESULT           | TTFB AVG  | TTFB P90            | REQ STATUS     | RESULT\n-------------|--------|----------------------|-----------|---------------------|----------------|-----------------\napi_v4_users | 1000/s | 108.97/s (\u003e800.00/s) | 8317.08ms | 11324.43ms (\u003c200ms) | 100.00% (\u003e99%) | FAILED²\n```\n\nThis was tested against a 50k Reference architecture. More information on the tests results with different user amounts can be found in https://gitlab.com/gitlab-org/quality/performance/-/issues/487.\n\nAs per our [performance targets](https://about.gitlab.com/handbook/engineering/quality/issue-triage/#severity) this endpoint's TTFB metric is above the target of X ms which is ~\"severity::2\". Task is to improve the endpoint's performance into next tier.\n\n### Steps to reproduce\n\n1. Check out the [GitLab Performance Tool](https://gitlab.com/gitlab-org/quality/performance)\n1. Run the specific test with the `run-k6` command. For example against the 10k environment you would run this following from the project root: `./run-k6 -e environments/50k.json -o 60s_1000rps.json -t api_v4_users.js`. \n    - You will need an ACCESS_TOKEN for this endpoint as well.\n    - Ensure you have more than 7 users to start seeing failures.\n1. If you're seeking to run the test against your own environment the [Tool's documentation has details on how to achieve this](https://gitlab.com/gitlab-org/quality/performance/blob/master/docs/k6.md).","state":"closed","created_at":"2021-11-25T16:09:28.581Z","updated_at":"2022-07-21T12:02:09.516Z","closed_at":"2022-07-14T12:51:40.850Z","closed_by":{"id":5722081,"username":"nwestbury","name":"Nick Westbury","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5722081/avatar.png","web_url":"https://gitlab.com/nwestbury"},"labels":["Deliverable","Error Budget Improvement","Quality:performance-issues","approaching-SLO","backend","bug::performance","devops::manage","group::organization","missed-SLO","missed-deliverable","missed:14.9","onboarding","organization-error-budget","performance-refinement","priority::2","section::dev","severity::2","type::bug","workflow::verification"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":11648098,"username":"hraghuvanshi","name":"Hitesh Raghuvanshi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11648098/avatar.png","web_url":"https://gitlab.com/hraghuvanshi"}],"author":{"id":5722081,"username":"nwestbury","name":"Nick Westbury","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5722081/avatar.png","web_url":"https://gitlab.com/nwestbury"},"type":"ISSUE","assignee":{"id":11648098,"username":"hraghuvanshi","name":"Hitesh Raghuvanshi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11648098/avatar.png","web_url":"https://gitlab.com/hraghuvanshi"},"user_notes_count":31,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/346601","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/346601","notes":"https://gitlab.com/api/v4/projects/278964/issues/346601/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/346601/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#346601","relative":"#346601","full":"gitlab-org/gitlab#346601"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7832,"epic":{"id":490986,"iid":7832,"title":"Error budget: Improve performance of organization owned endpoints","url":"/groups/gitlab-org/-/epics/7832","group_id":9970,"human_readable_end_date":"Mar 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e months remaining"},"iteration":null,"health_status":null},{"id":97952562,"iid":346600,"project_id":278964,"title":"Custom service desk handler ignores additional headers","description":"In the `Gitlab::Email::Receiver` we try to find key from [multiple places in the email header](https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/gitlab/email/receiver.rb#L74).\n\nThat does not happen when a custom address is used for service desk. In that case, `ServiceDeskReceiver` is used and only `to` [is being checked.](https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/gitlab/email/service_desk_receiver.rb#L20).\n\nWe should check also other keys.\n\nThat is problematic, when a cc-ed user responds and tries to comment an issue as implemented in https://gitlab.com/gitlab-org/gitlab/-/merge_requests/71749.","state":"closed","created_at":"2021-11-25T15:42:45.115Z","updated_at":"2023-01-12T00:33:08.628Z","closed_at":"2021-12-08T18:20:11.651Z","closed_by":{"id":508743,"username":"jarka","name":"Jarka Košanová","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3931dae84deb01d2881e4909077b8dbe?s=80\u0026d=identicon","web_url":"https://gitlab.com/jarka"},"labels":["Category:Service Desk","backend","devops::plan","group::respond","section::dev","type::bug","workflow::in review"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[{"id":508743,"username":"jarka","name":"Jarka Košanová","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3931dae84deb01d2881e4909077b8dbe?s=80\u0026d=identicon","web_url":"https://gitlab.com/jarka"}],"author":{"id":508743,"username":"jarka","name":"Jarka Košanová","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3931dae84deb01d2881e4909077b8dbe?s=80\u0026d=identicon","web_url":"https://gitlab.com/jarka"},"type":"ISSUE","assignee":{"id":508743,"username":"jarka","name":"Jarka Košanová","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3931dae84deb01d2881e4909077b8dbe?s=80\u0026d=identicon","web_url":"https://gitlab.com/jarka"},"user_notes_count":7,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/346600","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/346600","notes":"https://gitlab.com/api/v4/projects/278964/issues/346600/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/346600/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#346600","relative":"#346600","full":"gitlab-org/gitlab#346600"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":97950429,"iid":346597,"project_id":278964,"title":"review-qa-smoke multiple failures Failed to create repository","description":"\u003c!---\nBefore opening a new QA failure issue, make sure to first search for it in the\nQA failures board: https://gitlab.com/groups/gitlab-org/-/boards/1385578\n\nThe issue should have the following:\n\n- The relative path of the failing spec file in the title, e.g. if the login\n  test fails, include `qa/specs/features/browser_ui/1_manage/login/log_in_spec.rb` in the title.\n  This is required so that existing issues can easily be found by searching for the spec file.\n- If the issue is about multiple test failures, include the path for each failing spec file in the description.\n- A link to the failing job.\n- The stack trace from the job's logs in the \"Stack trace\" section below.\n- A screenshot (if available), and HTML capture (if available), in the \"Screenshot / HTML page\" section below.\n---\u003e\n\n### Summary\n\nreview-qa-smoke job has multiple failures of the form `Failed to create repository`\n\neg. https://gitlab.com/gitlab-org/gitlab/-/jobs/1819758264\n\n\n\n### Stack trace\n\nMultiple but all similar to this format\n\n```\n      Failure/Error:\n        Resource::Repository::ProjectPush.fabricate! do |push|\n          push.file_name = 'README.md'\n          push.file_content = '# This is a test project'\n          push.commit_message = 'Add README.md'\n        end.project.visit!\n      \n      QA::Resource::Errors::ResourceFabricationFailedError:\n        Fabrication of QA::Resource::Project using the API failed (400) with `{\"message\":{\"base\":[\"Failed to create repository\",\"Failed to create repository\"]}}`.\n      # ./qa/resource/api_fabricator.rb:114:in `api_post_to'\n      # ./qa/resource/api_fabricator.rb:92:in `api_post'\n      # ./qa/resource/api_fabricator.rb:27:in `fabricate_via_api!'\n      # ./qa/resource/project.rb:107:in `rescue in fabricate_via_api!'\n      # ./qa/resource/project.rb:104:in `fabricate_via_api!'\n      # ./qa/resource/base.rb:50:in `block (2 levels) in fabricate_via_api!'\n      # ./qa/resource/base.rb:81:in `log_fabrication'\n      # ./qa/resource/base.rb:50:in `block in fabricate_via_api!'\n      # ./qa/resource/base.rb:71:in `do_fabricate!'\n      # ./qa/resource/base.rb:49:in `fabricate_via_api!'\n      # ./qa/resource/base.rb:23:in `fabricate!'\n      # ./qa/resource/repository/project_push.rb:13:in `block in \u003cclass:ProjectPush\u003e'\n      # ./qa/resource/base.rb:180:in `instance_exec'\n      # ./qa/resource/base.rb:180:in `attribute_value'\n      # ./qa/resource/base.rb:112:in `block in attribute'\n      # ./qa/resource/repository/project_push.rb:39:in `fabricate!'\n      # ./qa/resource/base.rb:34:in `block (2 levels) in fabricate_via_browser_ui!'\n      # ./qa/resource/base.rb:81:in `log_fabrication'\n      # ./qa/resource/base.rb:34:in `block in fabricate_via_browser_ui!'\n      # ./qa/resource/base.rb:71:in `do_fabricate!'\n      # ./qa/resource/base.rb:33:in `fabricate_via_browser_ui!'\n      # ./qa/resource/base.rb:25:in `rescue in fabricate!'\n      # ./qa/resource/base.rb:22:in `fabricate!'\n      # ./qa/specs/features/browser_ui/3_create/repository/push_over_http_spec.rb:9:in `block (3 levels) in \u003cmodule:QA\u003e'\n      # /usr/local/bundle/gems/rspec-retry-0.6.1/lib/rspec/retry.rb:123:in `block in run'\n      # /usr/local/bundle/gems/rspec-retry-0.6.1/lib/rspec/retry.rb:110:in `loop'\n      # /usr/local/bundle/gems/rspec-retry-0.6.1/lib/rspec/retry.rb:110:in `run'\n      # /usr/local/bundle/gems/rspec-retry-0.6.1/lib/rspec_ext/rspec_ext.rb:12:in `run_with_retry'\n      # ./spec/spec_helper.rb:99:in `block (2 levels) in \u003ctop (required)\u003e'\n      # /usr/local/bundle/gems/rspec-retry-0.6.1/lib/rspec/retry.rb:123:in `block in run'\n      # /usr/local/bundle/gems/rspec-retry-0.6.1/lib/rspec/retry.rb:110:in `loop'\n      # /usr/local/bundle/gems/rspec-retry-0.6.1/lib/rspec/retry.rb:110:in `run'\n      # /usr/local/bundle/gems/rspec-retry-0.6.1/lib/rspec_ext/rspec_ext.rb:12:in `run_with_retry'\n      # /usr/local/bundle/gems/rspec-retry-0.6.1/lib/rspec/retry.rb:37:in `block (2 levels) in setup'\n      # ./qa/specs/runner.rb:74:in `perform'\n      # ./qa/scenario/template.rb:10:in `block in perform'\n      # ./qa/scenario/template.rb:8:in `tap'\n      # ./qa/scenario/template.rb:8:in `perform'\n      # ./qa/scenario/template.rb:44:in `perform'\n      # ./qa/scenario/template.rb:10:in `block in perform'\n      # ./qa/scenario/template.rb:8:in `tap'\n      # ./qa/scenario/template.rb:8:in `perform'\n      # ./qa/scenario/bootable.rb:44:in `launch!'\n      # ------------------\n      # --- Caused by: ---\n      # NotImplementedError:\n      #   NotImplementedError\n      #   ./qa/resource/base.rb:45:in `fabricate_via_api!'\n```\n\n### Screenshot / HTML page\n\n\u003c!--\nAttach the screenshot and HTML snapshot of the page from the job's artifacts:\n1. Download the job's artifacts and unarchive them.\n1. Open the `gitlab-qa-run-2020-*/gitlab-{ce,ee}-qa-*/{,ee}/{api,browser_ui}/\u003cpath to failed test\u003e` folder.\n1. Select the `.png` and `.html` files that appears in the job logs (look for `HTML screenshot: /path/to/html/page.html` / `Image screenshot: `/path/to/html/page.png`).\n1. Drag and drop them here.\n\nNote: You don't need to include a screenshot if the information it contains can be included as text. Include the text instead.\nE.g., error 500/404, \"Retry later\" errors, etc.\n\nIf you include multiple screenshots it can be helpful to hide all but the first in a details/summary element, to avoid excessive scrolling:\n\n\u003cdetails\u003e\u003csummary\u003eExpand for screenshot\u003c/summary\u003e\n  drag and drop the screenshot here\n\u003c/details\u003e\n--\u003e\n\n### Possible fixes\n\n\n\u003c!-- Default due date. --\u003e\n\u003c!-- Base labels. --\u003e\n\u003c!-- Test failure type label, please use just one.--\u003e\n\u003c!--\nChoose the stage that appears in the test path, e.g. ~\"devops::create\" for\n`qa/specs/features/browser_ui/3_create/web_ide/add_file_template_spec.rb`.\n--\u003e\n\u003c!--\nSelect a label for where the failure was found, e.g. if the failure occurred in\na nightly pipeline, select ~\"found:nightly\".\n--\u003e\n\u003c!--\nhttps://about.gitlab.com/handbook/engineering/quality/guidelines/#priorities:\n- ~\"priority::1\": Tests that are needed to verify fundamental GitLab functionality.\n- ~\"priority::2\": Tests that deal with external integrations which may take a longer time to debug and fix.\n--\u003e\n\nP1 as smoke test\n\n\u003c!-- Select the current milestone if ~\"priority::1\" or the next milestone if ~\"priority::2\". --\u003e","state":"closed","created_at":"2021-11-25T15:12:48.563Z","updated_at":"2021-12-06T19:40:35.258Z","closed_at":"2021-12-06T17:10:35.250Z","closed_by":{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"labels":["Engineering Productivity","QA","Quality","[deprecated] Accepting merge requests","ep::review-apps","failure::test-environment","found:master","priority::1","test","workflow::in review"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"}],"author":{"id":4937540,"username":"willmeek","name":"Will Meek","state":"active","avatar_url":"https://secure.gravatar.com/avatar/8a0cf3a6679074fce7573d2de05f05ff?s=80\u0026d=identicon","web_url":"https://gitlab.com/willmeek"},"type":"ISSUE","assignee":{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"user_notes_count":9,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":"2021-12-09","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/346597","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/346597","notes":"https://gitlab.com/api/v4/projects/278964/issues/346597/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/346597/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#346597","relative":"#346597","full":"gitlab-org/gitlab#346597"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":97948921,"iid":346596,"project_id":278964,"title":"Update security configuration tabs to utilize sync-active-tab-with-query-params","description":"The following discussion from !75127 should be addressed:\n\n- [ ] @dpisek started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/75127#note_743283729):  (+2 comments)\n\n    \u003e _idea_: This is not related to the MR but when testing it out locally I've noticed that the tabs are not making use of the `sync-active-tab-with-query-params` prop: https://gitlab-org.gitlab.io/gitlab-ui/?path=/story/base-tabs-tabs--default\n    \u003e \n    \u003e This means that we can not link to a specific tab, from a doc for example.\n    \u003e \n    \u003e But definitely something for a follow-up :slight_smile:\n\n  \u003e ps.: I was curious to try it out locally and here is a patch that adds the tab-syncing: [tabs_sync.patch](https://gitlab.com/gitlab-org/gitlab/uploads/62940b1a89b9dc245db7a7054ce91fbc/tabs_sync.patch)\n  \u003e \n  \u003e Once your MR is in I am happy to push an MR that adds it in :thumbsup:","state":"closed","created_at":"2021-11-25T14:46:11.716Z","updated_at":"2022-01-18T12:00:16.342Z","closed_at":"2022-01-18T12:00:16.242Z","closed_by":{"id":3993566,"username":"sming-gitlab","name":"Samantha Ming","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3993566/avatar.png","web_url":"https://gitlab.com/sming-gitlab"},"labels":["devops::secure","frontend","group::threat insights","section::sec","type::maintenance","workflow::verification"],"milestone":{"id":2156369,"iid":68,"group_id":9970,"title":"14.7","description":"","state":"active","created_at":"2021-07-21T17:39:41.786Z","updated_at":"2021-07-21T17:39:41.786Z","due_date":"2022-01-17","start_date":"2021-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/68"},"assignees":[{"id":3993566,"username":"sming-gitlab","name":"Samantha Ming","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3993566/avatar.png","web_url":"https://gitlab.com/sming-gitlab"}],"author":{"id":3993566,"username":"sming-gitlab","name":"Samantha Ming","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3993566/avatar.png","web_url":"https://gitlab.com/sming-gitlab"},"type":"ISSUE","assignee":{"id":3993566,"username":"sming-gitlab","name":"Samantha Ming","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3993566/avatar.png","web_url":"https://gitlab.com/sming-gitlab"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/346596","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/346596","notes":"https://gitlab.com/api/v4/projects/278964/issues/346596/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/346596/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#346596","relative":"#346596","full":"gitlab-org/gitlab#346596"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6176,"epic":{"id":287896,"iid":6176,"title":"Integrate developer security training into vulnerability management","url":"/groups/gitlab-org/-/epics/6176","group_id":9970,"human_readable_end_date":"Apr 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":97945712,"iid":346593,"project_id":278964,"title":"Create loading state for security training configuration","description":"Create the loading state when the trainers in the security training configuration are being populated:\n\nWe can use our `issue-card-skeleton-basic` component \u003e https://design.gitlab.com/components/skeleton-loader\n\n| Loaded | Loading |\n| ------ | ------ |\n| ![2021-11-25_at_2.57_PM](/uploads/36c54bc20f32f8d5704c21edb79ff630/2021-11-25_at_2.57_PM.png) | ![image](/uploads/81c04ff61cea2e1495dc47460e5e7778/image.png) |","state":"closed","created_at":"2021-11-25T13:53:05.646Z","updated_at":"2022-01-24T03:36:02.558Z","closed_at":"2022-01-18T11:59:31.989Z","closed_by":{"id":3993566,"username":"sming-gitlab","name":"Samantha Ming","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3993566/avatar.png","web_url":"https://gitlab.com/sming-gitlab"},"labels":["devops::secure","frontend","group::threat insights","missed:14.6","section::sec","type::feature"],"milestone":{"id":2156369,"iid":68,"group_id":9970,"title":"14.7","description":"","state":"active","created_at":"2021-07-21T17:39:41.786Z","updated_at":"2021-07-21T17:39:41.786Z","due_date":"2022-01-17","start_date":"2021-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/68"},"assignees":[{"id":3993566,"username":"sming-gitlab","name":"Samantha Ming","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3993566/avatar.png","web_url":"https://gitlab.com/sming-gitlab"}],"author":{"id":3993566,"username":"sming-gitlab","name":"Samantha Ming","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3993566/avatar.png","web_url":"https://gitlab.com/sming-gitlab"},"type":"ISSUE","assignee":{"id":3993566,"username":"sming-gitlab","name":"Samantha Ming","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3993566/avatar.png","web_url":"https://gitlab.com/sming-gitlab"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/346593","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/346593","notes":"https://gitlab.com/api/v4/projects/278964/issues/346593/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/346593/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#346593","relative":"#346593","full":"gitlab-org/gitlab#346593"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6176,"epic":{"id":287896,"iid":6176,"title":"Integrate developer security training into vulnerability management","url":"/groups/gitlab-org/-/epics/6176","group_id":9970,"human_readable_end_date":"Apr 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":97945533,"iid":346592,"project_id":278964,"title":"Validate NOT NULL constraint on security_findings.uuid","description":"## Why are we doing this work?\n\nIn https://gitlab.com/gitlab-org/gitlab/-/issues/284996 we introduced a NOT NULL constraint on `security_findings.uuid` column. According to our [NOT NULL constraints guide](https://docs.gitlab.com/ee/development/database/not_null_constraints.html#not-null-constraints-on-large-tables) we start validating the constraint in release N.M+2 which would be %14.8 in this case\n\n## Implementation plan\n\n1. ~database Create a post deployment migration to validate NOT NULL constraint on `security_findings.uuid` column","state":"closed","created_at":"2021-11-25T13:51:00.952Z","updated_at":"2022-03-01T15:43:38.625Z","closed_at":"2022-03-01T15:43:28.296Z","closed_by":{"id":487608,"username":"Quintasan","name":"Michał Zając","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/487608/avatar.png","web_url":"https://gitlab.com/Quintasan"},"labels":["Category:Vulnerability Management","auto updated","backend","database","devops::secure","group::threat insights","section::sec","type::maintenance","workflow::verification"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":487608,"username":"Quintasan","name":"Michał Zając","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/487608/avatar.png","web_url":"https://gitlab.com/Quintasan"}],"author":{"id":487608,"username":"Quintasan","name":"Michał Zając","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/487608/avatar.png","web_url":"https://gitlab.com/Quintasan"},"type":"ISSUE","assignee":{"id":487608,"username":"Quintasan","name":"Michał Zając","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/487608/avatar.png","web_url":"https://gitlab.com/Quintasan"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2022-02-14","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/346592","time_stats":{"time_estimate":7200,"total_time_spent":600,"human_time_estimate":"2h","human_total_time_spent":"10m"},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/346592","notes":"https://gitlab.com/api/v4/projects/278964/issues/346592/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/346592/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#346592","relative":"#346592","full":"gitlab-org/gitlab#346592"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2791,"epic":{"id":27148,"iid":2791,"title":"Deprecate and remove project_fingerprint","url":"/groups/gitlab-org/-/epics/2791","group_id":9970},"iteration":null,"health_status":null},{"id":97944367,"iid":346591,"project_id":278964,"title":"Enable footnotes Golden Master test for backend","description":"The backend Golden Master test for GFM footnotes fails because the backend adds unnecessary spaces that are difficult to express in YAML. We should investigate the purpose of these spaces, and remove them from the Markdown pipeline if they are unnecessary.\n\nThe following discussion from !71067 should be addressed:\n\n- [ ] @ealcantara started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/71067#note_742826435):  (+7 comments)\n\n    \u003e @cwoolley-gitlab: We need your help with the footnotes example. The backend test is failing because we don’t know how to define the exact newline characters that the backend API prints using YAML’s multiline strings. We could just copy the backend API output, but we want to keep these examples readable. \n    \u003e \n    \u003e It’s strange that this test passes in the local environment but fails in the CI pipeline. Could you take a look, please?","state":"closed","created_at":"2021-11-25T13:33:40.232Z","updated_at":"2022-08-12T22:36:14.538Z","closed_at":"2022-04-21T22:23:15.186Z","closed_by":{"id":3540517,"username":"ealcantara","name":"Enrique Alcántara","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3540517/avatar.png","web_url":"https://gitlab.com/ealcantara"},"labels":["auto updated","backend","maintenance::refactor","missed:14.10","missed:14.9","type::maintenance"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":3540517,"username":"ealcantara","name":"Enrique Alcántara","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3540517/avatar.png","web_url":"https://gitlab.com/ealcantara"}],"author":{"id":3540517,"username":"ealcantara","name":"Enrique Alcántara","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3540517/avatar.png","web_url":"https://gitlab.com/ealcantara"},"type":"ISSUE","assignee":{"id":3540517,"username":"ealcantara","name":"Enrique Alcántara","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3540517/avatar.png","web_url":"https://gitlab.com/ealcantara"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/346591","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/346591","notes":"https://gitlab.com/api/v4/projects/278964/issues/346591/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/346591/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#346591","relative":"#346591","full":"gitlab-org/gitlab#346591"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":97943401,"iid":346589,"project_id":278964,"title":"Report Widgets Core: Add method to load collapsed data","description":"## Problem to solve\n\nFor https://gitlab.com/groups/gitlab-org/-/epics/7066 we need to be able to call the `fetchCollapsedData` method again to retry when the fetch failed.\n\nCurrently the collapsed data is loaded in the `mounted` lifecycle method.\n\n## Suggested solution\n\nCreate a component method for loading the collapsed data that can be called by consumers.\n\nThis method should also set the loading state.","state":"closed","created_at":"2021-11-25T13:16:48.781Z","updated_at":"2021-11-26T15:14:07.165Z","closed_at":"2021-11-26T15:14:07.147Z","closed_by":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"labels":["WorkingGroup::MergeRequestReportWidgets","devops::manage","frontend","group::compliance","section::dev","type::maintenance"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"}],"author":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"type":"ISSUE","assignee":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/346589","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/346589","notes":"https://gitlab.com/api/v4/projects/278964/issues/346589/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/346589/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#346589","relative":"#346589","full":"gitlab-org/gitlab#346589"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6647,"epic":{"id":337766,"iid":6647,"title":"[MR Widget Eng] Update core MR Widget extension component to fully support the design guidelines","url":"/groups/gitlab-org/-/epics/6647","group_id":9970,"human_readable_end_date":"Jan 29, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":97941665,"iid":346585,"project_id":278964,"title":"When setting up the `gitops` functionality, set the current project by default","description":"\u003c!-- This issue template can be used as a great starting point for feature requests. The section \"Release notes\" can be used as a summary of the feature and is also required if you want to have your release post blog MR auto generated using the release post item generator:  https://about.gitlab.com/handbook/marketing/blog/release-posts/#release-post-item-generator. The remaining sections are the backbone for every feature in GitLab.\n\nThe goal of this template is brevity for quick/smaller iterations. For a more thorough list of considerations for larger features or feature sets, you can leverage the detailed [feature proposal](https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Feature%20proposal%20-%20detailed.md). --\u003e\n\n## Release notes\n\nYou can start using the GitLab agent for Kubernetes in two steps: (1) register the agent on the GitLab UI, (2) apply the provided command to your Kubernetes cluster. These two steps create an agent without a configuration file. To get the full benefits of the agent, like pull-based deployments, a configuration file is required.\n\nSpecifically for pull-based deployments, you always had to specify the project where the manifests are stored. This required changing the file from project to project. From today, omitting the project id will look for manifests in the current project. This should simplify setting up new agents across several projects following the same conventions for storing their manifests.\n\n### Problem to solve\n\nSimplify getting started and single-repo setup.\n\n### Proposal\n\nGiven that the agent is configured in project `gitlab-org/cluster-integration/gitlab-agent`\n\nsimplify this\n\n```yaml\ngitops:\n  manifest_projects:\n  - id: gitlab-org/cluster-integration/gitlab-agent\n    paths:\n    - glob: '/team1/app1/*.yaml'\n```\n\nto this\n\n\n```yaml\ngitops:\n  manifest_projects:\n  - paths:\n    - glob: '/team1/app1/*.yaml'\n```\n\nIf no `id` is given, treat it as the same project.\n\nThis would enable us to create project templates with agent configurations and could simplify many setups.\n\n### Implementation proposal\n\n* Make [the config field](https://gitlab.com/gitlab-org/cluster-integration/gitlab-agent/-/blob/41fcf5cb2dcf37d9703eb7f2e1f454c3ef2ee2ce/pkg/agentcfg/agentcfg.proto#L29) optional (i.e. remove validation, add a test for that). See where the field is used and ensure no invariants are broken by the change, maybe add tests if you find something interesting.\n* Make [the field](https://gitlab.com/gitlab-org/cluster-integration/gitlab-agent/-/blob/41fcf5cb2dcf37d9703eb7f2e1f454c3ef2ee2ce/internal/module/gitops/rpc/rpc.proto#L17), used in the gRPC request, optional (i.e. remove validation, add a test for that). See where the field is used and ensure no invariants are broken by the change, maybe add tests if you find something interesting.\n* Change logic [in the GitOps server](https://gitlab.com/gitlab-org/cluster-integration/gitlab-agent/-/blob/41fcf5cb2dcf37d9703eb7f2e1f454c3ef2ee2ce/internal/module/gitops/server/server.go#L50-116) to use `GitalyInfo` and `gitalypb.Repository` from `api.AgentInfo` (rather than from `ProjectInfo`) in case project id is an empty string. Add some tests for the change to protect against regressions.\n\n### Definition of done\n\n- [ ] Default Kas to reference current project instead of ID if ID is not present\n- [ ] Document this default and use in example projects\n\n### Intended users\n\n* [Allison (Application Ops)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#allison-application-ops)\n* [Priyanka (Platform Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#priyanka-platform-engineer)","state":"closed","created_at":"2021-11-25T12:59:10.843Z","updated_at":"2022-12-22T15:40:53.049Z","closed_at":"2022-12-15T15:05:05.266Z","closed_by":{"id":4584738,"username":"nmezzopera","name":"Nicolò Maria Mezzopera","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4584738/avatar.png","web_url":"https://gitlab.com/nmezzopera"},"labels":["Category:Kubernetes Management","GitLab Free","GitLab Premium","GitLab Ultimate","Hackathon","Track Health Status","[deprecated] Accepting merge requests","devops::configure","feature::enhancement","good for new contributors","group::configure","release post item::in review","section::ops","type::feature","workflow::production"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":3167938,"username":"tigerwnz","name":"Tiger Watson","state":"active","avatar_url":"https://secure.gravatar.com/avatar/eb2c062f746fe8a57d693ee307942aa5?s=80\u0026d=identicon","web_url":"https://gitlab.com/tigerwnz"}],"author":{"id":4545061,"username":"nagyv-gitlab","name":"Viktor Nagy (GitLab)","state":"active","avatar_url":"https://secure.gravatar.com/avatar/fb255c1e9c228b9356af165939b3ac9b?s=80\u0026d=identicon","web_url":"https://gitlab.com/nagyv-gitlab"},"type":"ISSUE","assignee":{"id":3167938,"username":"tigerwnz","name":"Tiger Watson","state":"active","avatar_url":"https://secure.gravatar.com/avatar/eb2c062f746fe8a57d693ee307942aa5?s=80\u0026d=identicon","web_url":"https://gitlab.com/tigerwnz"},"user_notes_count":16,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/346585","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":0},"weight":1,"blocking_issues_count":3,"has_tasks":true,"task_status":"0 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/346585","notes":"https://gitlab.com/api/v4/projects/278964/issues/346585/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/346585/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#346585","relative":"#346585","full":"gitlab-org/gitlab#346585"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3329,"epic":{"id":54574,"iid":3329,"title":"GitLab Agent for Kubernetes","url":"/groups/gitlab-org/-/epics/3329","group_id":9970,"human_readable_end_date":"May 17, 2023","human_readable_timestamp":"\u003cstrong\u003e4\u003c/strong\u003e months remaining"},"iteration":null,"health_status":"at_risk"},{"id":97936941,"iid":346578,"project_id":278964,"title":"Backend: Implement deprecation notification for `types` and `type` keyword","description":"This is an implementation issue to track the deprecation of types and type keyword\n\n`types` and `type`\n\n* Deprecated in v9.0: https://gitlab.com/gitlab-org/gitlab-foss/-/merge_requests/9766\n\nWe want to implement the deprecation process so we could remove types in %\"15.0\" \n\n## Proposal\n\n### Phase 1: Implement telemetry \n\nThis is a pure ~backend work to capture the usage for the `type` and `types` keywords\n\nWe should track the telemetry to understand the number of unique users (or pipelines) where types keyword is used, this way we \ncould understand the potential impact.\n\n\n#### Phase 2 - implement deprecation notice warning\n\nhttps://gitlab.com/gitlab-org/gitlab/-/issues/348410 is the ~frontend issue\n\n![image](/uploads/85a6e2c5c2158262ef32dce3bd2b1dbb/image.png)\n\n- The warning alert should be permanently dismissable\n- Link to point the user to https://docs.gitlab.com/ee/ci/yaml/#deprecated-keywords\n\n\n\n### Further improvements\n\n#### Phase 3 - Optional send email notification, depends on the number of users that are using types\n\n#### Phase 4 - remove `types` - https://gitlab.com/gitlab-org/gitlab/-/issues/346823 - - Schedule for 15.0\n\nNote - Phase 3 \u0026 4 are out of scope for this issue``","state":"closed","created_at":"2021-11-25T11:32:07.544Z","updated_at":"2022-03-14T15:06:14.648Z","closed_at":"2022-01-10T16:14:41.257Z","closed_by":{"id":3946912,"username":"lauraX","name":"Laura Montemayor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3946912/avatar.png","web_url":"https://gitlab.com/lauraX"},"labels":["Category:Pipeline Authoring","Deliverable","Technical Writing","auto updated","backend","candidate::14.7","devops::verify","group::pipeline authoring","section::ops","workflow::production"],"milestone":{"id":2156369,"iid":68,"group_id":9970,"title":"14.7","description":"","state":"active","created_at":"2021-07-21T17:39:41.786Z","updated_at":"2021-07-21T17:39:41.786Z","due_date":"2022-01-17","start_date":"2021-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/68"},"assignees":[{"id":3946912,"username":"lauraX","name":"Laura Montemayor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3946912/avatar.png","web_url":"https://gitlab.com/lauraX"}],"author":{"id":4509877,"username":"dhershkovitch","name":"Dov Hershkovitch","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7daa3113f0359f08a217fa800d9cc1d2?s=80\u0026d=identicon","web_url":"https://gitlab.com/dhershkovitch"},"type":"ISSUE","assignee":{"id":3946912,"username":"lauraX","name":"Laura Montemayor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3946912/avatar.png","web_url":"https://gitlab.com/lauraX"},"user_notes_count":66,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/346578","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/346578","notes":"https://gitlab.com/api/v4/projects/278964/issues/346578/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/346578/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#346578","relative":"#346578","full":"gitlab-org/gitlab#346578"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6859,"epic":{"id":363661,"iid":6859,"title":"CI Config Deprecation Process","url":"/groups/gitlab-org/-/epics/6859","group_id":9970,"human_readable_end_date":"Jun 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":{"id":40214,"iid":46,"sequence":7,"group_id":9970,"title":"Pipeline Authoring: Jan 10, 2022 – Jan 23, 2022","description":"Target milestone `14.8`","state":3,"created_at":"2021-11-14T00:05:01.884Z","updated_at":"2022-01-24T00:05:02.043Z","start_date":"2022-01-10","due_date":"2022-01-23","web_url":"https://gitlab.com/groups/gitlab-org/-/iterations/40214"},"health_status":"at_risk"},{"id":97927770,"iid":346567,"project_id":278964,"title":"Move basic gitops features to GitLab Free","description":"## Release notes\n\nPull-based deployments - often called GitOps - bring an improved security model, better scalability and stability over push-based deployments. The GitLab agent for Kubernetes has supported [GitOps workflows](https://docs.gitlab.com/ee/user/clusters/agent/gitops.html) from its initial release, but until now, the functionality was available only for Premium and Ultimate customers. The current release brings pull-based deployment support to GitLab Free users too. The features available in GitLab Free should serve small, high-trust teams or be suitable to test the agent before upgrading to a higher tier. The Premium tier will receive support for [built-in multi-tenant support](https://gitlab.com/gitlab-org/gitlab/-/issues/337904), similar to the impersonation feature already available for the [CI/CD workflow](https://docs.gitlab.com/ee/user/clusters/agent/ci_cd_workflow.html#restrict-project-and-group-access-by-using-impersonation).\n\n## Proposal: Move to ~\"GitLab Free\" \n\nMove the pull-based feature to ~\"GitLab Free\" **without** impersonation. This move was approved in https://gitlab.com/gitlab-com/Product/-/issues/3472 (internal)\n\n## Related\n\n- https://gitlab.com/gitlab-org/gitlab/-/issues/337904 - this is to stay in ~\"GitLab Premium\" \n- https://gitlab.com/groups/gitlab-org/-/epics/6290 - this was already move to ~\"GitLab Free\"","state":"closed","created_at":"2021-11-25T09:26:07.823Z","updated_at":"2022-08-23T00:01:04.886Z","closed_at":"2022-08-15T07:43:04.374Z","closed_by":{"id":4584738,"username":"nmezzopera","name":"Nicolò Maria Mezzopera","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4584738/avatar.png","web_url":"https://gitlab.com/nmezzopera"},"labels":["Category:Deployment Management","Category:Kubernetes Management","Deliverable","GitLab Free","auto updated","delivery-direction","devops::configure","group::configure","release post item::in review","section::ops","type::feature","workflow::production"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":3167938,"username":"tigerwnz","name":"Tiger Watson","state":"active","avatar_url":"https://secure.gravatar.com/avatar/eb2c062f746fe8a57d693ee307942aa5?s=80\u0026d=identicon","web_url":"https://gitlab.com/tigerwnz"}],"author":{"id":4545061,"username":"nagyv-gitlab","name":"Viktor Nagy (GitLab)","state":"active","avatar_url":"https://secure.gravatar.com/avatar/fb255c1e9c228b9356af165939b3ac9b?s=80\u0026d=identicon","web_url":"https://gitlab.com/nagyv-gitlab"},"type":"ISSUE","assignee":{"id":3167938,"username":"tigerwnz","name":"Tiger Watson","state":"active","avatar_url":"https://secure.gravatar.com/avatar/eb2c062f746fe8a57d693ee307942aa5?s=80\u0026d=identicon","web_url":"https://gitlab.com/tigerwnz"},"user_notes_count":12,"merge_requests_count":0,"upvotes":7,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/346567","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":1,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/346567","notes":"https://gitlab.com/api/v4/projects/278964/issues/346567/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/346567/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#346567","relative":"#346567","full":"gitlab-org/gitlab#346567"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3329,"epic":{"id":54574,"iid":3329,"title":"GitLab Agent for Kubernetes","url":"/groups/gitlab-org/-/epics/3329","group_id":9970,"human_readable_end_date":"May 17, 2023","human_readable_timestamp":"\u003cstrong\u003e4\u003c/strong\u003e months remaining"},"iteration":null,"health_status":null},{"id":97926369,"iid":346565,"project_id":278964,"title":"[UserCap BE] Remove `created` state from Member","description":"# Problem\n\nAll existing Members are in an initial state of `created`. When the feature flag is enabled, new members will correctly be assigned to `awaiting` or `active` accordingly, and access will be restricted to groups based on these states, but the old/existing records will remain in `created`.\n\n## Proposal\n\nRemove the `created` state from `Member` and replace it with `active`.\n\nPlease see https://gitlab.com/gitlab-org/gitlab/-/issues/346565#note_754778119 for further details and conversation as to why this approach is being taken.\n\n### Steps\n\nAs a starting point, the following steps should be considered:\n\n1. Replace the state values and transitions in the state machine, [here](https://gitlab.com/gitlab-org/gitlab/-/blob/47a789eb715b17b1914756ad5e70edbeed8d5f02/ee/app/models/ee/member.rb#L9-26)\n1. Add an `active?` method override as shown [here](https://gitlab.com/gitlab-org/gitlab/-/issues/346565#note_750647896)\n1. Create background migration to update the state value for `Member.where(state: 2)` to `0`\n1. Clean-up uses/references to `created` state ([API](https://gitlab.com/gitlab-org/gitlab/blob/03838afb28e313b0f5aee43fe7959f6cebcba455/ee/lib/ee/api/helpers/members_helpers.rb#L25), [docs](https://gitlab.com/gitlab-org/gitlab/blob/03838afb28e313b0f5aee43fe7959f6cebcba455/doc/api/members.md#L112), there maybe others)\n1. In a follow-up future milestone, remove the `active?` override in step 2 above\n\n### Availability \u0026 Testing\n\n\u003c!-- This section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\nWhat risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning --\u003e\n\nTests should be authored detailing the behavior of this feature flag.  \"When the feature flag is enabled, it behaves like this.  When the feature flag is disabled, it behaves like that.\"","state":"closed","created_at":"2021-11-25T09:03:10.678Z","updated_at":"2022-01-21T10:09:48.169Z","closed_at":"2022-01-21T10:09:48.153Z","closed_by":{"id":5249152,"username":"vij","name":"Vijay Hawoldar","state":"active","avatar_url":"https://secure.gravatar.com/avatar/14567a8b4af4374011c43778878de399?s=80\u0026d=identicon","web_url":"https://gitlab.com/vij"},"labels":["Unplanned","[deprecated] Category:Utilization","auto updated","backend","devops::fulfillment","group::utilization","missed:14.6","missed:14.7","quad-planning::complete-action","section::fulfillment","workflow::verification"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":5249152,"username":"vij","name":"Vijay Hawoldar","state":"active","avatar_url":"https://secure.gravatar.com/avatar/14567a8b4af4374011c43778878de399?s=80\u0026d=identicon","web_url":"https://gitlab.com/vij"}],"author":{"id":5249152,"username":"vij","name":"Vijay Hawoldar","state":"active","avatar_url":"https://secure.gravatar.com/avatar/14567a8b4af4374011c43778878de399?s=80\u0026d=identicon","web_url":"https://gitlab.com/vij"},"type":"ISSUE","assignee":{"id":5249152,"username":"vij","name":"Vijay Hawoldar","state":"active","avatar_url":"https://secure.gravatar.com/avatar/14567a8b4af4374011c43778878de399?s=80\u0026d=identicon","web_url":"https://gitlab.com/vij"},"user_notes_count":22,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/346565","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/346565","notes":"https://gitlab.com/api/v4/projects/278964/issues/346565/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/346565/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#346565","relative":"#346565","full":"gitlab-org/gitlab#346565"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6862,"epic":{"id":364252,"iid":6862,"title":"SaaS User Cap - MVC","url":"/groups/gitlab-org/-/epics/6862","group_id":9970,"human_readable_end_date":"Mar 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":97922155,"iid":346561,"project_id":278964,"title":"Fix left alignment of Draft messaing in Merge Requests","description":"## Context\n\nThe following discussion from !74855 should be addressed:\n\n- [ ] @pslaughter started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/74855#note_743389579): \n\n    \u003e **issue (non-blocking, minor):** There's likely something we can do to improve the alignment of this message. Is this `gl-ml-3` necessary? It looks like we're also adding some special styling to `gl-font-weight-bold` (see [relevant code](https://gitlab.com/gitlab-org/gitlab/blob/203e1c914d1133601a7a7692bb76c952f1c5f8c5/app/assets/stylesheets/pages/merge_requests.scss#L312)), which as a utility class, should probably remain untouched\n    \u003e \n    \u003e ![Screenshot_from_2021-11-25_01-48-14](/uploads/ae24763a4449c3f1aa732c6bad06ec56/Screenshot_from_2021-11-25_01-48-14.png)\n    \u003e \n    \u003e I'll create a follow-up issue for this :eyes:","state":"closed","created_at":"2021-11-25T07:51:12.241Z","updated_at":"2021-12-07T04:04:13.485Z","closed_at":"2021-12-07T04:04:13.472Z","closed_by":{"id":2233420,"username":"pslaughter","name":"Paul Slaughter","state":"active","avatar_url":"https://secure.gravatar.com/avatar/631b25421eb206ab44cb2793ef09d881?s=80\u0026d=identicon","web_url":"https://gitlab.com/pslaughter"},"labels":["auto updated","devops::create","frontend","good for new contributors","group::code review","merge requests","section::dev"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[{"id":6179882,"username":"rutvik-panchal","name":"Rutvik Panchal","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6fb6aa5b12d7b7c5bd1090fdee5cf4bd?s=80\u0026d=identicon","web_url":"https://gitlab.com/rutvik-panchal"}],"author":{"id":2233420,"username":"pslaughter","name":"Paul Slaughter","state":"active","avatar_url":"https://secure.gravatar.com/avatar/631b25421eb206ab44cb2793ef09d881?s=80\u0026d=identicon","web_url":"https://gitlab.com/pslaughter"},"type":"ISSUE","assignee":{"id":6179882,"username":"rutvik-panchal","name":"Rutvik Panchal","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6fb6aa5b12d7b7c5bd1090fdee5cf4bd?s=80\u0026d=identicon","web_url":"https://gitlab.com/rutvik-panchal"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/346561","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/346561","notes":"https://gitlab.com/api/v4/projects/278964/issues/346561/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/346561/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#346561","relative":"#346561","full":"gitlab-org/gitlab#346561"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":97921488,"iid":346560,"project_id":278964,"title":"500 Internal Error occurs when creating a forked from/to relation between existing projects","description":"\n\n\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\n**We are testing Gitlab's rest apis and coming across some internal error. We will appreciate it if you developers could give us a hand and make a better community together. The error is explained as following:**\n\n**We create 2 projects and their forks irrespectively. 500 Internal Error occurs when creating a forked from/to relation between the 2 projects.**\n\nIt happens to me by API on the latest **Gitlab CE docker image RELEASE_VERSION=14.1.0-ce.0**.\n\n\n**RELATED ENDPOINTS:**\n- **POST /projects**\n- **POST /projects/:id/fork**\n- **POST /projects/:id/fork/:forked_from_id**\n\n\u003c!-- Summarize the bug encountered concisely. --\u003e\n\n### Steps to reproduce\n\n**1. Create the first project**\n\n`curl -X POST -H 'PRIVATE-TOKEN: \u003cYOUR-TOKEN\u003e' 'http://host/api/v4/projects?name=project1\u0026path=project1'`\n\n201 Created\n\nIt goes well and returns the new branch name \u003cPROJECT_ID_1\u003e\n\n**2. Create a fork of the first project**\n\n`curl -X POST -H 'PRIVATE-TOKEN: \u003cYOUR-TOKEN\u003e' 'http://host/api/v4/projects/\u003cPROJECT_ID_1\u003e/fork?name=fork1'`\n\n201 Craeted.\n\n**3. Create the second project**\n\n`curl -X POST -H 'PRIVATE-TOKEN: \u003cYOUR-TOKEN\u003e' 'http://host/api/v4/projects?name=project2\u0026path=project2'`\n\n201 Created\n\nIt goes well and returns the new branch name \u003cPROJECT_ID_2\u003e\n\n**4. Create a fork of the second project**\n\n`curl -X POST -H 'PRIVATE-TOKEN: \u003cYOUR-TOKEN\u003e' 'http://host/api/v4/projects/\u003cPROJECT_ID_2\u003e/fork?name=fork2'`\n\n201 Craeted.\n\n**5. Create fork relation between the first and second projects**\n\n`curl -X POST -H 'PRIVATE-TOKEN: \u003cYOUR-TOKEN\u003e' 'http://host/api/v4/projects/\u003cPROJECT_ID_1\u003e/fork/\u003cPROJECT_ID_2\u003e'`\n\nAnd 500 Internal Error occurs.\n\n\u003c!-- Describe how one can reproduce the issue - this is very important. Please use an ordered list. --\u003e\n\n### What is the current *bug* behavior?\n\nreturn \"201 Created\"\n\n\u003c!-- Describe what actually happens. --\u003e\n\n### What is the expected *correct* behavior?\n\nreturn \"500 Internal Error\"","state":"closed","created_at":"2021-11-25T07:37:14.922Z","updated_at":"2022-11-21T15:55:57.787Z","closed_at":"2022-11-21T15:55:56.761Z","closed_by":{"id":421631,"username":"vyaklushin","name":"Vasilii Iakliushin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/421631/avatar.png","web_url":"https://gitlab.com/vyaklushin"},"labels":["Category:Source Code Management","automation:ml","backend","devops::create","group::source code","priority::2","section::dev","severity::2","type::bug"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[{"id":421631,"username":"vyaklushin","name":"Vasilii Iakliushin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/421631/avatar.png","web_url":"https://gitlab.com/vyaklushin"}],"author":{"id":9586049,"username":"StitchWuhula","name":"StitchWuhula","state":"active","avatar_url":"https://secure.gravatar.com/avatar/2402133d1aa8ca08439c75956782deb7?s=80\u0026d=identicon","web_url":"https://gitlab.com/StitchWuhula"},"type":"ISSUE","assignee":{"id":421631,"username":"vyaklushin","name":"Vasilii Iakliushin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/421631/avatar.png","web_url":"https://gitlab.com/vyaklushin"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/346560","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/346560","notes":"https://gitlab.com/api/v4/projects/278964/issues/346560/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/346560/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":"https://gitlab.com/api/v4/projects/278964/issues/346563"},"references":{"short":"#346560","relative":"#346560","full":"gitlab-org/gitlab#346560"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":97917490,"iid":346554,"project_id":278964,"title":"[VSA] Add total time chart to each VSA stage (Days to completion)","description":"## Description \n\nIn https://gitlab.com/gitlab-org/gitlab/-/issues/322126 we want to to remove the stage dropdown for the \"Days to completion chart\", in addition to removing the dropdown, we should also add the chart to each stage in the value stream, making sure we reflect the relevant information for each stage in its chart.\n\n## TODO\n\n* [ ] ~frontend Rename the chart from \"Days to completion\" to \"Total time\"\n* [ ] ~frontend Connect the dots on the chart\n* ~frontend Add the duration chart to each stage\n\nRelated:\n* [ ] ~frontend [Remove the stage dropdown from the `overview`](https://gitlab.com/gitlab-org/gitlab/-/issues/322126)","state":"closed","created_at":"2021-11-25T05:47:29.065Z","updated_at":"2022-06-06T13:29:44.458Z","closed_at":"2022-02-22T03:10:39.769Z","closed_by":{"id":3397881,"username":"ekigbo","name":"Ezekiel Kigbo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3397881/avatar.png","web_url":"https://gitlab.com/ekigbo"},"labels":["Category:Value Stream Management","UX","devops::manage","documentation","frontend","group::optimize","priority::2","section::dev","severity::4","type::feature","workflow::verification"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":3397881,"username":"ekigbo","name":"Ezekiel Kigbo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3397881/avatar.png","web_url":"https://gitlab.com/ekigbo"}],"author":{"id":3397881,"username":"ekigbo","name":"Ezekiel Kigbo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3397881/avatar.png","web_url":"https://gitlab.com/ekigbo"},"type":"ISSUE","assignee":{"id":3397881,"username":"ekigbo","name":"Ezekiel Kigbo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3397881/avatar.png","web_url":"https://gitlab.com/ekigbo"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/346554","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/346554","notes":"https://gitlab.com/api/v4/projects/278964/issues/346554/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/346554/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#346554","relative":"#346554","full":"gitlab-org/gitlab#346554"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":97910882,"iid":346543,"project_id":278964,"title":"detect-tests are failing","description":"Job [#1817711337](https://gitlab.com/gitlab-org/gitlab-foss/-/jobs/1817711337) failed for gitlab-foss@4f79a3041736aadda887ebec4178731eb8681cff:\n\n```shell\nSuccessfully installed multi_xml-0.6.0\nSuccessfully installed mime-types-data-3.2021.1115\nSuccessfully installed mime-types-3.4.1\nWhen you HTTParty, you must party hard!\nSuccessfully installed httparty-0.18.1\n4 gems installed\nSuccessfully installed unicode-display_width-1.8.0\nSuccessfully installed terminal-table-1.8.0\nSuccessfully installed gitlab-4.17.0\n3 gems installed\n$ install_tff_gem\nSuccessfully installed test_file_finder-0.1.1\n1 gem installed\n$ retrieve_tests_mapping\nNo API token given.\ntest_metadata_with_mapping_job_id: 1817233195\nNo API token given.\nWriting unpacked crystalball/mapping.json\nSaved crystalball/mapping.json.\n$ retrieve_frontend_fixtures_mapping\nNo API token given.\nscripts/api/get_job_id.rb:66:in `find_job_with_filtered_pipelines': Job not found! (RuntimeError)\n\tfrom scripts/api/get_job_id.rb:35:in `execute'\n\tfrom scripts/api/get_job_id.rb:142:in `\u003cmain\u003e'\nCleaning up project directory and file based variables 00:01\nERROR: Job failed: exit code 1\n```","state":"closed","created_at":"2021-11-25T00:45:48.693Z","updated_at":"2021-11-30T14:45:43.267Z","closed_at":"2021-11-30T14:45:43.248Z","closed_by":{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"labels":["Engineering Productivity","auto updated","automation:ml","workflow::in dev"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"}],"author":{"id":3397881,"username":"ekigbo","name":"Ezekiel Kigbo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3397881/avatar.png","web_url":"https://gitlab.com/ekigbo"},"type":"ISSUE","assignee":{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/346543","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/346543","notes":"https://gitlab.com/api/v4/projects/278964/issues/346543/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/346543/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#346543","relative":"#346543","full":"gitlab-org/gitlab#346543"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":97908550,"iid":346539,"project_id":278964,"title":"Follow-up from \"Automatically detect Jest tests to run upon backend changes\"","description":"The following discussion from !74003 should be addressed:\n\n- [ ] @rymai started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/74003#note_743043965): \n\n    \u003e **thought:** This is needed until this MR is merged, otherwise the pipeline fails since the artifact cannot be found. This can be removed after the MR is merged.\n\ncc @rymai","state":"closed","created_at":"2021-11-24T22:58:33.391Z","updated_at":"2021-11-30T08:55:33.769Z","closed_at":"2021-11-30T08:55:33.754Z","closed_by":{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"labels":["Engineering Productivity","auto updated"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"}],"author":{"id":2187482,"username":"ashmckenzie","name":"Ash McKenzie","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2187482/avatar.png","web_url":"https://gitlab.com/ashmckenzie"},"type":"ISSUE","assignee":{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/346539","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/346539","notes":"https://gitlab.com/api/v4/projects/278964/issues/346539/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/346539/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#346539","relative":"#346539","full":"gitlab-org/gitlab#346539"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":97904527,"iid":346525,"project_id":278964,"title":"Migrate Operational data metrics to instrumentation classes: user_unique_users_all_secure_scanners","description":"## Summary\n\nThis is the engineering issue to migrate operational data metrics to instrumentation classes for the \"user_unique_users_all_secure_scanners\" category found here: https://gitlab.com/groups/gitlab-org/-/epics/5942 Please be sure the list is comprehensive of any changes which may have occurred (new or removed metrics) prior to starting work.","state":"closed","created_at":"2021-11-24T20:43:01.894Z","updated_at":"2021-12-20T18:47:29.954Z","closed_at":"2021-12-20T18:47:29.945Z","closed_by":{"id":2890431,"username":"amandarueda","name":"Amanda Rueda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2890431/avatar.png","web_url":"https://gitlab.com/amandarueda"},"labels":["Category:Product Analytics","auto updated","backend","devops::growth","group::product intelligence","section::growth","won't do"],"milestone":null,"assignees":[],"author":{"id":2890431,"username":"amandarueda","name":"Amanda Rueda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2890431/avatar.png","web_url":"https://gitlab.com/amandarueda"},"type":"ISSUE","assignee":null,"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/346525","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/346525","notes":"https://gitlab.com/api/v4/projects/278964/issues/346525/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/346525/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#346525","relative":"#346525","full":"gitlab-org/gitlab#346525"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5942,"epic":{"id":265287,"iid":5942,"title":"Migrate Operational data metrics to instrumentation classes","url":"/groups/gitlab-org/-/epics/5942","group_id":9970,"human_readable_end_date":"Jun 30, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":97904504,"iid":346524,"project_id":278964,"title":"Migrate Operational data metrics to instrumentation classes: Secure users jobs","description":"## Summary\n\nThis is the engineering issue to migrate operational data metrics to instrumentation classes for the \"Secure users jobs\" category found here: https://gitlab.com/groups/gitlab-org/-/epics/5942 Please be sure the list is comprehensive of any changes which may have occurred (new or removed metrics) prior to starting work.","state":"closed","created_at":"2021-11-24T20:42:29.857Z","updated_at":"2021-12-20T18:47:41.710Z","closed_at":"2021-12-20T18:47:41.702Z","closed_by":{"id":2890431,"username":"amandarueda","name":"Amanda Rueda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2890431/avatar.png","web_url":"https://gitlab.com/amandarueda"},"labels":["Category:Product Analytics","auto updated","backend","devops::growth","group::product intelligence","section::growth","won't do"],"milestone":null,"assignees":[],"author":{"id":2890431,"username":"amandarueda","name":"Amanda Rueda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2890431/avatar.png","web_url":"https://gitlab.com/amandarueda"},"type":"ISSUE","assignee":null,"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/346524","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/346524","notes":"https://gitlab.com/api/v4/projects/278964/issues/346524/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/346524/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#346524","relative":"#346524","full":"gitlab-org/gitlab#346524"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5942,"epic":{"id":265287,"iid":5942,"title":"Migrate Operational data metrics to instrumentation classes","url":"/groups/gitlab-org/-/epics/5942","group_id":9970,"human_readable_end_date":"Jun 30, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":97904489,"iid":346523,"project_id":278964,"title":"Migrate Operational data metrics to instrumentation classes: count_secure_scans","description":"## Summary\n\nThis is the engineering issue to migrate operational data metrics to instrumentation classes for the \"count_secure_scans\" category found here: https://gitlab.com/groups/gitlab-org/-/epics/5942 Please be sure the list is comprehensive of any changes which may have occurred (new or removed metrics) prior to starting work.","state":"closed","created_at":"2021-11-24T20:41:51.226Z","updated_at":"2021-12-20T18:47:47.745Z","closed_at":"2021-12-20T18:47:47.737Z","closed_by":{"id":2890431,"username":"amandarueda","name":"Amanda Rueda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2890431/avatar.png","web_url":"https://gitlab.com/amandarueda"},"labels":["Category:Product Analytics","auto updated","backend","devops::growth","group::product intelligence","section::growth","won't do"],"milestone":null,"assignees":[],"author":{"id":2890431,"username":"amandarueda","name":"Amanda Rueda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2890431/avatar.png","web_url":"https://gitlab.com/amandarueda"},"type":"ISSUE","assignee":null,"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/346523","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/346523","notes":"https://gitlab.com/api/v4/projects/278964/issues/346523/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/346523/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#346523","relative":"#346523","full":"gitlab-org/gitlab#346523"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5942,"epic":{"id":265287,"iid":5942,"title":"Migrate Operational data metrics to instrumentation classes","url":"/groups/gitlab-org/-/epics/5942","group_id":9970,"human_readable_end_date":"Jun 30, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":97904447,"iid":346522,"project_id":278964,"title":"Migrate Operational data metrics to instrumentation classes: count_secure_user_scans","description":"## Summary\n\nThis is the engineering issue to migrate operational data metrics to instrumentation classes for the \"count_secure_user_scans\" category found here: https://gitlab.com/groups/gitlab-org/-/epics/5942 Please be sure the list is comprehensive of any changes which may have occurred (new or removed metrics) prior to starting work.","state":"closed","created_at":"2021-11-24T20:41:09.096Z","updated_at":"2021-12-20T18:47:51.976Z","closed_at":"2021-12-20T18:47:51.963Z","closed_by":{"id":2890431,"username":"amandarueda","name":"Amanda Rueda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2890431/avatar.png","web_url":"https://gitlab.com/amandarueda"},"labels":["Category:Product Analytics","auto updated","backend","devops::growth","group::product intelligence","section::growth","won't do"],"milestone":null,"assignees":[],"author":{"id":2890431,"username":"amandarueda","name":"Amanda Rueda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2890431/avatar.png","web_url":"https://gitlab.com/amandarueda"},"type":"ISSUE","assignee":null,"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/346522","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/346522","notes":"https://gitlab.com/api/v4/projects/278964/issues/346522/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/346522/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#346522","relative":"#346522","full":"gitlab-org/gitlab#346522"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5942,"epic":{"id":265287,"iid":5942,"title":"Migrate Operational data metrics to instrumentation classes","url":"/groups/gitlab-org/-/epics/5942","group_id":9970,"human_readable_end_date":"Jun 30, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":97904407,"iid":346521,"project_id":278964,"title":"Migrate Operational data metrics to instrumentation classes: Gitaly related information","description":"## Summary\n\nThis is the engineering issue to migrate operational data metrics to instrumentation classes for the \"Gitaly related information\" category found here: https://gitlab.com/groups/gitlab-org/-/epics/5942 Please be sure the list is comprehensive of any changes which may have occurred (new or removed metrics) prior to starting work.","state":"closed","created_at":"2021-11-24T20:40:19.364Z","updated_at":"2021-12-20T18:47:59.593Z","closed_at":"2021-12-20T18:47:59.585Z","closed_by":{"id":2890431,"username":"amandarueda","name":"Amanda Rueda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2890431/avatar.png","web_url":"https://gitlab.com/amandarueda"},"labels":["Category:Product Analytics","[deprecated] Accepting merge requests","auto updated","backend","devops::growth","group::product intelligence","section::growth","won't do"],"milestone":null,"assignees":[],"author":{"id":2890431,"username":"amandarueda","name":"Amanda Rueda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2890431/avatar.png","web_url":"https://gitlab.com/amandarueda"},"type":"ISSUE","assignee":null,"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/346521","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/346521","notes":"https://gitlab.com/api/v4/projects/278964/issues/346521/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/346521/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#346521","relative":"#346521","full":"gitlab-org/gitlab#346521"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5942,"epic":{"id":265287,"iid":5942,"title":"Migrate Operational data metrics to instrumentation classes","url":"/groups/gitlab-org/-/epics/5942","group_id":9970,"human_readable_end_date":"Jun 30, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":97904355,"iid":346520,"project_id":278964,"title":"Migrate Operational data metrics to instrumentation classes: user_preferences_group_overview_security_dashboard","description":"## Summary\n\nThis is the engineering issue to migrate operational data metrics to instrumentation classes for the \"user_preferences_group_overview_security_dashboard\" category found here: https://gitlab.com/groups/gitlab-org/-/epics/5942 Please be sure the list is comprehensive of any changes which may have occurred (new or removed metrics) prior to starting work.","state":"closed","created_at":"2021-11-24T20:39:16.737Z","updated_at":"2021-12-20T18:48:06.610Z","closed_at":"2021-12-20T18:48:06.602Z","closed_by":{"id":2890431,"username":"amandarueda","name":"Amanda Rueda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2890431/avatar.png","web_url":"https://gitlab.com/amandarueda"},"labels":["Category:Product Analytics","[deprecated] Accepting merge requests","auto updated","backend","devops::growth","group::product intelligence","section::growth","won't do"],"milestone":null,"assignees":[],"author":{"id":2890431,"username":"amandarueda","name":"Amanda Rueda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2890431/avatar.png","web_url":"https://gitlab.com/amandarueda"},"type":"ISSUE","assignee":null,"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/346520","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/346520","notes":"https://gitlab.com/api/v4/projects/278964/issues/346520/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/346520/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#346520","relative":"#346520","full":"gitlab-org/gitlab#346520"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5942,"epic":{"id":265287,"iid":5942,"title":"Migrate Operational data metrics to instrumentation classes","url":"/groups/gitlab-org/-/epics/5942","group_id":9970,"human_readable_end_date":"Jun 30, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":97904328,"iid":346519,"project_id":278964,"title":"Migrate Operational data metrics to instrumentation classes: Git related information","description":"## Summary\n\nThis is the engineering issue to migrate operational data metrics to instrumentation classes for the \"Git related information\" category found here: https://gitlab.com/groups/gitlab-org/-/epics/5942 Please be sure the list is comprehensive of any changes which may have occurred (new or removed metrics) prior to starting work.","state":"closed","created_at":"2021-11-24T20:38:25.703Z","updated_at":"2021-12-20T18:48:14.366Z","closed_at":"2021-12-20T18:48:14.357Z","closed_by":{"id":2890431,"username":"amandarueda","name":"Amanda Rueda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2890431/avatar.png","web_url":"https://gitlab.com/amandarueda"},"labels":["Category:Product Analytics","[deprecated] Accepting merge requests","auto updated","backend","devops::growth","group::product intelligence","section::growth","won't do"],"milestone":null,"assignees":[],"author":{"id":2890431,"username":"amandarueda","name":"Amanda Rueda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2890431/avatar.png","web_url":"https://gitlab.com/amandarueda"},"type":"ISSUE","assignee":null,"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/346519","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/346519","notes":"https://gitlab.com/api/v4/projects/278964/issues/346519/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/346519/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#346519","relative":"#346519","full":"gitlab-org/gitlab#346519"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5942,"epic":{"id":265287,"iid":5942,"title":"Migrate Operational data metrics to instrumentation classes","url":"/groups/gitlab-org/-/epics/5942","group_id":9970,"human_readable_end_date":"Jun 30, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":97904300,"iid":346518,"project_id":278964,"title":"Migrate Operational data metrics to instrumentation classes: Projects with terraform","description":"## Summary\n\nThis is the engineering issue to migrate operational data metrics to instrumentation classes for the \"Projects with terraform\" category found here: https://gitlab.com/groups/gitlab-org/-/epics/5942 Please be sure the list is comprehensive of any changes which may have occurred (new or removed metrics) prior to starting work.","state":"closed","created_at":"2021-11-24T20:37:34.183Z","updated_at":"2021-12-20T18:48:23.550Z","closed_at":"2021-12-20T18:48:23.540Z","closed_by":{"id":2890431,"username":"amandarueda","name":"Amanda Rueda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2890431/avatar.png","web_url":"https://gitlab.com/amandarueda"},"labels":["Category:Product Analytics","[deprecated] Accepting merge requests","auto updated","backend","devops::growth","group::product intelligence","section::growth","won't do"],"milestone":null,"assignees":[],"author":{"id":2890431,"username":"amandarueda","name":"Amanda Rueda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2890431/avatar.png","web_url":"https://gitlab.com/amandarueda"},"type":"ISSUE","assignee":null,"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/346518","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/346518","notes":"https://gitlab.com/api/v4/projects/278964/issues/346518/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/346518/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#346518","relative":"#346518","full":"gitlab-org/gitlab#346518"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5942,"epic":{"id":265287,"iid":5942,"title":"Migrate Operational data metrics to instrumentation classes","url":"/groups/gitlab-org/-/epics/5942","group_id":9970,"human_readable_end_date":"Jun 30, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":97904286,"iid":346517,"project_id":278964,"title":"Migrate Operational data metrics to instrumentation classes: Jira","description":"## Summary\n\nThis is the engineering issue to migrate operational data metrics to instrumentation classes for the \"Jira\" category found here: https://gitlab.com/groups/gitlab-org/-/epics/5942 Please be sure the list is comprehensive of any changes which may have occurred (new or removed metrics) prior to starting work.","state":"closed","created_at":"2021-11-24T20:36:50.846Z","updated_at":"2021-12-20T18:48:30.391Z","closed_at":"2021-12-20T18:48:30.383Z","closed_by":{"id":2890431,"username":"amandarueda","name":"Amanda Rueda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2890431/avatar.png","web_url":"https://gitlab.com/amandarueda"},"labels":["Category:Product Analytics","[deprecated] Accepting merge requests","auto updated","backend","devops::growth","group::product intelligence","section::growth","won't do"],"milestone":null,"assignees":[],"author":{"id":2890431,"username":"amandarueda","name":"Amanda Rueda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2890431/avatar.png","web_url":"https://gitlab.com/amandarueda"},"type":"ISSUE","assignee":null,"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/346517","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/346517","notes":"https://gitlab.com/api/v4/projects/278964/issues/346517/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/346517/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#346517","relative":"#346517","full":"gitlab-org/gitlab#346517"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5942,"epic":{"id":265287,"iid":5942,"title":"Migrate Operational data metrics to instrumentation classes","url":"/groups/gitlab-org/-/epics/5942","group_id":9970,"human_readable_end_date":"Jun 30, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":97904270,"iid":346516,"project_id":278964,"title":"Migrate Operational data metrics to instrumentation classes: Projects with integration active","description":"## Summary\n\nThis is the engineering issue to migrate operational data metrics to instrumentation classes for the \"Projects with integration active\" category found here: https://gitlab.com/groups/gitlab-org/-/epics/5942 Please be sure the list is comprehensive of any changes which may have occurred (new or removed metrics) prior to starting work.","state":"closed","created_at":"2021-11-24T20:36:16.830Z","updated_at":"2021-12-20T18:48:37.634Z","closed_at":"2021-12-20T18:48:37.626Z","closed_by":{"id":2890431,"username":"amandarueda","name":"Amanda Rueda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2890431/avatar.png","web_url":"https://gitlab.com/amandarueda"},"labels":["Category:Product Analytics","[deprecated] Accepting merge requests","auto updated","backend","devops::growth","group::product intelligence","section::growth","won't do"],"milestone":null,"assignees":[],"author":{"id":2890431,"username":"amandarueda","name":"Amanda Rueda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2890431/avatar.png","web_url":"https://gitlab.com/amandarueda"},"type":"ISSUE","assignee":null,"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/346516","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/346516","notes":"https://gitlab.com/api/v4/projects/278964/issues/346516/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/346516/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#346516","relative":"#346516","full":"gitlab-org/gitlab#346516"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5942,"epic":{"id":265287,"iid":5942,"title":"Migrate Operational data metrics to instrumentation classes","url":"/groups/gitlab-org/-/epics/5942","group_id":9970,"human_readable_end_date":"Jun 30, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":97904258,"iid":346515,"project_id":278964,"title":"Migrate Operational data metrics to instrumentation classes: pipelines","description":"## Summary\n\nThis is the engineering issue to migrate operational data metrics to instrumentation classes for the \"pipelines\" category found here: https://gitlab.com/groups/gitlab-org/-/epics/5942 Please be sure the list is comprehensive of any changes which may have occurred (new or removed metrics) prior to starting work.","state":"closed","created_at":"2021-11-24T20:35:37.586Z","updated_at":"2021-12-20T18:48:44.785Z","closed_at":"2021-12-20T18:48:44.777Z","closed_by":{"id":2890431,"username":"amandarueda","name":"Amanda Rueda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2890431/avatar.png","web_url":"https://gitlab.com/amandarueda"},"labels":["Category:Product Analytics","[deprecated] Accepting merge requests","auto updated","backend","devops::growth","group::product intelligence","section::growth","won't do"],"milestone":null,"assignees":[],"author":{"id":2890431,"username":"amandarueda","name":"Amanda Rueda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2890431/avatar.png","web_url":"https://gitlab.com/amandarueda"},"type":"ISSUE","assignee":null,"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/346515","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/346515","notes":"https://gitlab.com/api/v4/projects/278964/issues/346515/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/346515/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#346515","relative":"#346515","full":"gitlab-org/gitlab#346515"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5942,"epic":{"id":265287,"iid":5942,"title":"Migrate Operational data metrics to instrumentation classes","url":"/groups/gitlab-org/-/epics/5942","group_id":9970,"human_readable_end_date":"Jun 30, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":97904247,"iid":346514,"project_id":278964,"title":"Migrate Operational data metrics to instrumentation classes: Issues","description":"## Summary\n\nThis is the engineering issue to migrate operational data metrics to instrumentation classes for the \"Issues\" category found here: https://gitlab.com/groups/gitlab-org/-/epics/5942. Please be sure the list is comprehensive of any changes which may have occurred (new or removed metrics) prior to starting work.","state":"closed","created_at":"2021-11-24T20:35:03.655Z","updated_at":"2021-12-20T18:48:51.834Z","closed_at":"2021-12-20T18:48:51.826Z","closed_by":{"id":2890431,"username":"amandarueda","name":"Amanda Rueda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2890431/avatar.png","web_url":"https://gitlab.com/amandarueda"},"labels":["Category:Product Analytics","[deprecated] Accepting merge requests","auto updated","backend","devops::growth","group::product intelligence","section::growth","won't do"],"milestone":null,"assignees":[],"author":{"id":2890431,"username":"amandarueda","name":"Amanda Rueda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2890431/avatar.png","web_url":"https://gitlab.com/amandarueda"},"type":"ISSUE","assignee":null,"user_notes_count":2,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/346514","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/346514","notes":"https://gitlab.com/api/v4/projects/278964/issues/346514/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/346514/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#346514","relative":"#346514","full":"gitlab-org/gitlab#346514"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5942,"epic":{"id":265287,"iid":5942,"title":"Migrate Operational data metrics to instrumentation classes","url":"/groups/gitlab-org/-/epics/5942","group_id":9970,"human_readable_end_date":"Jun 30, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":97904236,"iid":346513,"project_id":278964,"title":"Migrate Operational data metrics to instrumentation classes: Epics","description":"## Summary\n\nThis is the engineering issue to migrate operational data metrics to instrumentation classes for the \"epics\" category found here: https://gitlab.com/groups/gitlab-org/-/epics/5942 Please be sure the list is comprehensive of any changes which may have occurred (new or removed metrics) prior to starting work.","state":"closed","created_at":"2021-11-24T20:34:14.570Z","updated_at":"2021-12-20T18:48:59.911Z","closed_at":"2021-12-20T18:48:59.905Z","closed_by":{"id":2890431,"username":"amandarueda","name":"Amanda Rueda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2890431/avatar.png","web_url":"https://gitlab.com/amandarueda"},"labels":["Category:Product Analytics","[deprecated] Accepting merge requests","auto updated","backend","devops::growth","group::product intelligence","section::growth","won't do"],"milestone":null,"assignees":[],"author":{"id":2890431,"username":"amandarueda","name":"Amanda Rueda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2890431/avatar.png","web_url":"https://gitlab.com/amandarueda"},"type":"ISSUE","assignee":null,"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/346513","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/346513","notes":"https://gitlab.com/api/v4/projects/278964/issues/346513/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/346513/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#346513","relative":"#346513","full":"gitlab-org/gitlab#346513"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5942,"epic":{"id":265287,"iid":5942,"title":"Migrate Operational data metrics to instrumentation classes","url":"/groups/gitlab-org/-/epics/5942","group_id":9970,"human_readable_end_date":"Jun 30, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":97904207,"iid":346512,"project_id":278964,"title":"Migrate Operational data metrics to instrumentation classes: Others","description":"## Summary\n\nThis is the engineering issue to migrate operational data metrics to instrumentation classes for the \"other\" category found here: https://gitlab.com/groups/gitlab-org/-/epics/5942 Please be sure the list is comprehensive of any changes which may have occurred (new or removed metrics) prior to starting work.","state":"closed","created_at":"2021-11-24T20:33:37.076Z","updated_at":"2021-12-20T18:49:07.847Z","closed_at":"2021-12-20T18:49:07.838Z","closed_by":{"id":2890431,"username":"amandarueda","name":"Amanda Rueda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2890431/avatar.png","web_url":"https://gitlab.com/amandarueda"},"labels":["Category:Product Analytics","[deprecated] Accepting merge requests","auto updated","backend","devops::growth","group::product intelligence","section::growth","won't do"],"milestone":null,"assignees":[],"author":{"id":2890431,"username":"amandarueda","name":"Amanda Rueda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2890431/avatar.png","web_url":"https://gitlab.com/amandarueda"},"type":"ISSUE","assignee":null,"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/346512","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/346512","notes":"https://gitlab.com/api/v4/projects/278964/issues/346512/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/346512/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#346512","relative":"#346512","full":"gitlab-org/gitlab#346512"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5942,"epic":{"id":265287,"iid":5942,"title":"Migrate Operational data metrics to instrumentation classes","url":"/groups/gitlab-org/-/epics/5942","group_id":9970,"human_readable_end_date":"Jun 30, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":97896877,"iid":346494,"project_id":278964,"title":"Incorrect password while enabling 2FA does not generate any error","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"type::bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=type::bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\n\u003c!-- Summarize the bug encountered concisely. --\u003e\n\nWhen enabling 2FA two pieces of information are required: the 2FA App PIN code and the GitLab.com password.\n\nIf the PIN code is incorrect, the page displays `Invalid PIN code` after saving the settings.\n\nIf the GitLab.com password is incorrect, the page just reloads without showing any error.\n\nThis causes a lot of confusion for customers who may be using the wrong password either because they forgot it or they have never set it up (SAML SSO workflow).\n\n### Steps to reproduce\n\n\u003c!-- Describe how one can reproduce the issue - this is very important. Please use an ordered list. --\u003e\n\n1. Be part of a group that has `Require all users in this group to set up two-factor authentication` enabled\n1. Log into a GitLab.com account without 2FA enabled.\n2. Go into User settings -\u003e Preferences -\u003e Account -\u003e Enable Two-factor Authentication.\n3. Input your 2FA PIN code.\n4. Input an incorrect GitLab.com password.\n5. Click on Submit.\n6. The page reloads and does not show any error. \n\n### What is the current *bug* behavior?\n\n\u003c!-- Describe what actually happens. --\u003e\n\nThe page reloads and does not show any error.\n\n### What is the expected *correct* behavior?\n\n\u003c!-- Describe what you should see instead. --\u003e\n\nThe page should indicate that the entered password is incorrect.\n\n### Output of checks\n\n\u003c!-- If you are reporting a bug on GitLab.com, write: This bug happens on GitLab.com --\u003e\n\nThis bug happens on GitLab.com (as of  issue creation date, 14.6.0-pre a02124bc236)","state":"closed","created_at":"2021-11-24T17:11:24.493Z","updated_at":"2022-10-14T19:03:10.641Z","closed_at":"2022-10-14T19:03:10.395Z","closed_by":{"id":12519771,"username":"adil.farrukh","name":"Adil Farrukh","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12519771/avatar.png","web_url":"https://gitlab.com/adil.farrukh"},"labels":["Category:Authentication and Authorization","Support Efficiency","Support Priority","approaching-SLO","backend","customer","devops::manage","group::authentication and authorization","missed-SLO","missed:15.4","priority::2","section::dev","severity::2","type::bug"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":11811081,"username":"sgarg_gitlab","name":"Smriti Garg","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11811081/avatar.png","web_url":"https://gitlab.com/sgarg_gitlab"}],"author":{"id":8110473,"username":"alejguer","name":"Alejandro Guerrero","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cfb1bb9f79fd8dfe46b684abf95657cf?s=80\u0026d=identicon","web_url":"https://gitlab.com/alejguer"},"type":"ISSUE","assignee":{"id":11811081,"username":"sgarg_gitlab","name":"Smriti Garg","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11811081/avatar.png","web_url":"https://gitlab.com/sgarg_gitlab"},"user_notes_count":49,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/346494","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/346494","notes":"https://gitlab.com/api/v4/projects/278964/issues/346494/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/346494/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#346494","relative":"#346494","full":"gitlab-org/gitlab#346494"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":97895271,"iid":346492,"project_id":278964,"title":"Rename `previousStageJobsAndNeeds` to `previousStageJobsOrNeeds` and update return","description":"In order to correctly show the execution order of jobs, we should update `previousStageJobsAndNeeds` with some requirements that we need. \n\n* Rename field to `previousStageJobsOrNeeds` to better describe what we are returning\n* Return `previousStageJobsOrNeeds: [someNeed]` if there are explicit needs `needs: [someNeed]` - so ONLY the explicit needs. \n* Return empty `previousStageJobsOrNeeds: []` if there are needs stated with an empty array `needs: []` \n* Return the jobs from previous stages for a build that has NO needs `previousStageJobsOrNeeds: [prevstagejob1, prevstagejob2]`","state":"closed","created_at":"2021-11-24T16:51:49.587Z","updated_at":"2022-09-23T19:13:19.641Z","closed_at":"2021-12-03T16:54:23.418Z","closed_by":{"id":3946912,"username":"lauraX","name":"Laura Montemayor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3946912/avatar.png","web_url":"https://gitlab.com/lauraX"},"labels":["Actionable Insight::Product change","Category:Pipeline Authoring","backend","closed::complete","devops::verify","feature::enhancement","group::pipeline authoring","pipeline graphs","section::ops","type::feature","usability","workflow::production"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[{"id":3946912,"username":"lauraX","name":"Laura Montemayor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3946912/avatar.png","web_url":"https://gitlab.com/lauraX"}],"author":{"id":3946912,"username":"lauraX","name":"Laura Montemayor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3946912/avatar.png","web_url":"https://gitlab.com/lauraX"},"type":"ISSUE","assignee":{"id":3946912,"username":"lauraX","name":"Laura Montemayor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3946912/avatar.png","web_url":"https://gitlab.com/lauraX"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/346492","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/346492","notes":"https://gitlab.com/api/v4/projects/278964/issues/346492/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/346492/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#346492","relative":"#346492","full":"gitlab-org/gitlab#346492"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":{"id":36608,"iid":37,"sequence":4,"group_id":9970,"title":"Pipeline Authoring: November 29, 2021 - December 12, 2021","description":"Target milestone `14.6`","state":3,"created_at":"2021-10-05T20:42:58.379Z","updated_at":"2021-12-21T15:27:59.954Z","start_date":"2021-11-29","due_date":"2021-12-12","web_url":"https://gitlab.com/groups/gitlab-org/-/iterations/36608"},"health_status":null},{"id":97893961,"iid":346489,"project_id":278964,"title":"Dark mode compatibility: On-demand scans index page","description":"### Summary\n\nThe on-demand scans index page is not compatible with the Dark Mode theme. \n\n![image](/uploads/da770a073919a8e061e75500d3e2343a/image.png)\n\n### Steps to reproduce\n\n1. Navigate to `https://gitlab.com/-/profile/preferences` and set the `Navigation theme` to `Dark Mode (alpha)`\n1. Visit the index page at `/:namespace/:project/on_demand_scans`\n\n### What is the current *\"bug\"* behavior?\n\nThe UI text does not change to accommodate the Dark Mode theme. \n\n### What is the expected *correct* behavior?\n\nThe UI text should change to accommodate the Dark Mode theme. (view the vulnerability report page at `/:namespace/:project/security/vulnerability_report` for reference)","state":"closed","created_at":"2021-11-24T16:26:49.244Z","updated_at":"2021-12-01T09:07:27.908Z","closed_at":"2021-12-01T09:07:27.888Z","closed_by":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"labels":["Category:DAST","UX","auto updated","devops::secure","frontend","group::dynamic analysis","on-demand scan","section::sec","workflow::in review"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"}],"author":{"id":8655314,"username":"mfangman","name":"Michael Fangman","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8655314/avatar.png","web_url":"https://gitlab.com/mfangman"},"type":"ISSUE","assignee":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/346489","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/346489","notes":"https://gitlab.com/api/v4/projects/278964/issues/346489/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/346489/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#346489","relative":"#346489","full":"gitlab-org/gitlab#346489"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6637,"epic":{"id":336470,"iid":6637,"title":"DAST On-Demand Scan - View Scans","url":"/groups/gitlab-org/-/epics/6637","group_id":9970,"human_readable_end_date":"Jan 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":97892509,"iid":346488,"project_id":278964,"title":"Create security training description in configuration","description":"Add a security training description in the security configuration page\n\n#### Description copy: \n\n`Enable security training to help your developers learn how to fix vulnerabilities. Developers can view security training from selected educational providers, relevant to the detected vulnerability.`\n\n\u003cimg src=\"/uploads/6cc38a5783422fdfc99e306362f8ec05/A1-CONFIG_project-new_layout-security_training_copy.png\" height=\"500px\"\u003e","state":"closed","created_at":"2021-11-24T16:04:48.198Z","updated_at":"2022-02-28T18:01:36.863Z","closed_at":"2022-01-18T11:59:47.687Z","closed_by":{"id":3993566,"username":"sming-gitlab","name":"Samantha Ming","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3993566/avatar.png","web_url":"https://gitlab.com/sming-gitlab"},"labels":["devops::secure","frontend","group::threat insights","section::sec","type::feature"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":3993566,"username":"sming-gitlab","name":"Samantha Ming","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3993566/avatar.png","web_url":"https://gitlab.com/sming-gitlab"}],"author":{"id":3993566,"username":"sming-gitlab","name":"Samantha Ming","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3993566/avatar.png","web_url":"https://gitlab.com/sming-gitlab"},"type":"ISSUE","assignee":{"id":3993566,"username":"sming-gitlab","name":"Samantha Ming","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3993566/avatar.png","web_url":"https://gitlab.com/sming-gitlab"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/346488","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/346488","notes":"https://gitlab.com/api/v4/projects/278964/issues/346488/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/346488/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#346488","relative":"#346488","full":"gitlab-org/gitlab#346488"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6176,"epic":{"id":287896,"iid":6176,"title":"Integrate developer security training into vulnerability management","url":"/groups/gitlab-org/-/epics/6176","group_id":9970,"human_readable_end_date":"Apr 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":97888145,"iid":346480,"project_id":278964,"title":"GraphQL query for security training vendors","description":"Create GraphQL query for security training vendors to be used in the security configuration.\n\n![2021-11-24_at_3.55_PM](/uploads/6ef43cf589a61ed6cda2249cfc9b9706/2021-11-24_at_3.55_PM.png)","state":"closed","created_at":"2021-11-24T14:53:31.851Z","updated_at":"2022-02-16T19:40:25.342Z","closed_at":"2022-01-20T12:12:54.574Z","closed_by":{"id":5721376,"username":"minac","name":"Mehmet Emin INAC","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d8bdee790902422e3554e411a173c7c0?s=80\u0026d=identicon","web_url":"https://gitlab.com/minac"},"labels":["backend","devops::secure","group::threat insights","section::sec","type::feature","workflow::verification"],"milestone":{"id":2156369,"iid":68,"group_id":9970,"title":"14.7","description":"","state":"active","created_at":"2021-07-21T17:39:41.786Z","updated_at":"2021-07-21T17:39:41.786Z","due_date":"2022-01-17","start_date":"2021-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/68"},"assignees":[{"id":5721376,"username":"minac","name":"Mehmet Emin INAC","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d8bdee790902422e3554e411a173c7c0?s=80\u0026d=identicon","web_url":"https://gitlab.com/minac"}],"author":{"id":3993566,"username":"sming-gitlab","name":"Samantha Ming","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3993566/avatar.png","web_url":"https://gitlab.com/sming-gitlab"},"type":"ISSUE","assignee":{"id":5721376,"username":"minac","name":"Mehmet Emin INAC","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d8bdee790902422e3554e411a173c7c0?s=80\u0026d=identicon","web_url":"https://gitlab.com/minac"},"user_notes_count":26,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/346480","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/346480","notes":"https://gitlab.com/api/v4/projects/278964/issues/346480/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/346480/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#346480","relative":"#346480","full":"gitlab-org/gitlab#346480"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6176,"epic":{"id":287896,"iid":6176,"title":"Integrate developer security training into vulnerability management","url":"/groups/gitlab-org/-/epics/6176","group_id":9970,"human_readable_end_date":"Apr 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":97886251,"iid":346471,"project_id":278964,"title":"Follow-up from \"Update dependency list location text\"","description":"The following discussion from !74643 should be addressed:\n\n- [ ] @pgascouvaillancourt started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/74643#note_741195585):  (+2 comments)\n\n    \u003e **thought:** I feel like we should try to cleanup this helper to avoid stacking up the conditionals in there. Perhaps we could turn it into a curried function where the first argument would be the column's default class(es). Something like this:\n    \u003e \n    \u003e ```patch\n    \u003e diff --git a/ee/app/assets/javascripts/dependencies/components/dependencies_table.vue b/ee/app/assets/javascripts/dependencies/components/dependencies_table.vue\n    \u003e index 032df95f6b5..26eac86eaa8 100644\n    \u003e --- a/ee/app/assets/javascripts/dependencies/components/dependencies_table.vue\n    \u003e +++ b/ee/app/assets/javascripts/dependencies/components/dependencies_table.vue\n    \u003e @@ -14,8 +14,8 @@ import DependencyLicenseLinks from './dependency_license_links.vue';\n    \u003e  import DependencyLocation from './dependency_location.vue';\n    \u003e  import DependencyVulnerabilities from './dependency_vulnerabilities.vue';\n    \u003e  \n    \u003e -const tdClass = (value, key, item) =\u003e {\n    \u003e -  const classes = [];\n    \u003e +const tdClass = (defaultClasses = []) =\u003e (value, key, item) =\u003e {\n    \u003e +  const classes = defaultClasses;\n    \u003e  \n    \u003e    // Don't draw a border between a row and its `row-details` slot\n    \u003e    // eslint-disable-next-line no-underscore-dangle\n    \u003e @@ -23,14 +23,6 @@ const tdClass = (value, key, item) =\u003e {\n    \u003e      classes.push('border-bottom-0');\n    \u003e    }\n    \u003e  \n    \u003e -  if (key === 'isVulnerable') {\n    \u003e -    classes.push('text-right');\n    \u003e -  }\n    \u003e -\n    \u003e -  if (key === 'location') {\n    \u003e -    classes.push('gl-md-max-w-15p');\n    \u003e -  }\n    \u003e -\n    \u003e    return classes;\n    \u003e  };\n    \u003e  \n    \u003e @@ -88,11 +80,11 @@ export default {\n    \u003e      },\n    \u003e    },\n    \u003e    fields: [\n    \u003e -    { key: 'component', label: s__('Dependencies|Component'), tdClass },\n    \u003e -    { key: 'packager', label: s__('Dependencies|Packager'), tdClass },\n    \u003e -    { key: 'location', label: s__('Dependencies|Location'), tdClass },\n    \u003e -    { key: 'license', label: s__('Dependencies|License'), tdClass },\n    \u003e -    { key: 'isVulnerable', label: '', tdClass },\n    \u003e +    { key: 'component', label: s__('Dependencies|Component'), tdClass: tdClass() },\n    \u003e +    { key: 'packager', label: s__('Dependencies|Packager'), tdClass: tdClass() },\n    \u003e +    { key: 'location', label: s__('Dependencies|Location'), tdClass: tdClass(['gl-md-max-w-15p']) },\n    \u003e +    { key: 'license', label: s__('Dependencies|License'), tdClass: tdClass() },\n    \u003e +    { key: 'isVulnerable', label: '', tdClass: tdClass(['text-right']) },\n    \u003e    ],\n    \u003e    DEPENDENCIES_PER_PAGE: 20,\n    \u003e    DEPENDENCY_PATH_LINK:\n    \u003e ```\n    \u003e \n    \u003e ---\n    \u003e \n    \u003e That said, we might want to look into this logic a bit closer because it doesn't look right on mobile when you expand a row:\n    \u003e \n    \u003e ![Screen_Shot_2021-11-23_at_12.18.30_PM](/uploads/328dfae06d50a15b04393460b6bb6101/Screen_Shot_2021-11-23_at_12.18.30_PM.png)\n\n- [ ] @pgascouvaillancourt started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/74643#note_741195590):\n\n    \u003e **thought:** I understand that we're trying to address some layout issues with the file icon on smaller viewports here. I wonder if this could be addressed by exposing some slots to prepend or append custom content in `GlTruncate` :thinking:","state":"closed","created_at":"2021-11-24T14:29:45.031Z","updated_at":"2022-04-18T07:03:39.792Z","closed_at":"2022-04-15T17:02:27.649Z","closed_by":{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"},"labels":["Deliverable","auto updated","devops::govern","frontend","frontend-weight::3","group::security policies","missed-deliverable","missed:14.7","missed:14.8","missed:14.9","section::sec","type::feature","workflow::verification"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"}],"author":{"id":5535246,"username":"svedova","name":"Savas Vedova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535246/avatar.png","web_url":"https://gitlab.com/svedova"},"type":"ISSUE","assignee":{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/346471","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/346471","notes":"https://gitlab.com/api/v4/projects/278964/issues/346471/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/346471/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#346471","relative":"#346471","full":"gitlab-org/gitlab#346471"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":97884160,"iid":346461,"project_id":278964,"title":"Misleading `CONNECTIVITY_ERROR` error when activating server with cloud licensing for cancelled subscription","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"type::bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=type::bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\nA misleading [\"`There is a connectivity issue.`\" error](https://gitlab.com/gitlab-org/gitlab/-/blob/v14.5.0-ee/ee/app/assets/javascripts/admin/subscriptions/show/constants.js#L76) is returned when activating cloud licensing with a key issued for a cancelled subscription.\n\nIt lead us down a wrong troubleshooting path in [this internal ticket](https://gitlab.zendesk.com/agent/tickets/251660) because we assumed that it is purely a server/network issue rather than an issue with the license. \n\nThe code did not work because it was [linked](https://customers.gitlab.com/admin/customer/1993/cloud_activations) to a [cancelled subscription](https://www.zuora.com/apps/Subscription.do?method=view\u0026id=2c92a0107c1b016c017c2729efab532d) (cancelled due to entity change).\n\n### Steps to reproduce\n\nTry activating a server with cloud licensing using a key generated for cancelled subscription.\n\n### What is the current *bug* behavior?\n\nWe receive \"There is a connectivity issue.\" error\n\n### What is the expected *correct* behavior?\n\nWe should have a clearer messaging here. We should highlight that the activation key cannot be used to activate the server.\n\n### Relevant logs and/or screenshots\n\nThey tried activating through browser, this is the payload they received when making a request to `api/graphql`  with the  key for expired subscription:\n\n```\n[{\\\"data\\\":{\\\"gitlabSubscriptionActivate\\\":{\\\"errors\\\":[\\\"CONNECTIVITY_ERROR\\\"],\\\"license\\\":null,\\\"__typename\\\":\\\"GitlabSubscriptionActivatePayload\\\"}}}]\n```","state":"closed","created_at":"2021-11-24T14:02:59.537Z","updated_at":"2022-03-08T10:18:21.292Z","closed_at":"2022-03-08T10:18:21.275Z","closed_by":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"labels":["Cloud License Sync - V2","[deprecated] Category:Provision","backend","customer","devops::fulfillment","group::provision","section::fulfillment","type::bug","workflow::production"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"}],"author":{"id":7272738,"username":"kategrechishkina","name":"Kate Grechishkina","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7272738/avatar.png","web_url":"https://gitlab.com/kategrechishkina"},"type":"ISSUE","assignee":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"user_notes_count":14,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/346461","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/346461","notes":"https://gitlab.com/api/v4/projects/278964/issues/346461/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/346461/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#346461","relative":"#346461","full":"gitlab-org/gitlab#346461"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4628,"epic":{"id":127229,"iid":4628,"title":"Cloud Licensing V2","url":"/groups/gitlab-org/-/epics/4628","group_id":9970,"human_readable_end_date":"Nov 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":97880124,"iid":346455,"project_id":278964,"title":"Provide vulnerability file language type","description":"## Why are we doing this work\n\nProvide the file language of the vulnerability. This is currently what is provided:\n\n![image](/uploads/c8941b10efe23f0c6032697e31de337d/image.png)\n\nThe language is used to fetch the proper security training material from our vendors. This issue is part of this epic \u003e https://gitlab.com/groups/gitlab-org/-/epics/6176\n\n**Why is this needed**\n\nTo properly make the request to our training vendors and get the most accurate response, they require a language type as the parameter. For example `java` or `ruby`. A sample request looks like this `curl -X GET 'https://application.security/api/.../search?cwe=81\u0026language=java'`. More information can be found here \u003e https://gitlab.com/gitlab-org/gitlab/-/issues/346069#note_742608425\n\n## Relevant links\n\u003c!--\nInformation that the developer might need to refer to when implementing the issue.\n\n- [Design Issue](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e)\n  - [Design 1](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e/designs/\u003cimage\u003e.png)\n  - [Design 2](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e/designs/\u003cimage\u003e.png)\n- [Similar implementation](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/\u003cid\u003e)\n--\u003e\n\n\n## Non-functional requirements\n\n- [ ] Documentation: Update GraphQL documentation\n- [ ] Testing: Will need updated tests\n\n\n## Implementation plan\n\n- [x] ~backend Add `file/language` argument in `SecurityTrainingUrlsResolver` \n- [ ] ~backend Parse the file type. May not need to use an existing class, but can see `lib/gitlab/file_detector.rb` or `lib/gitlab/file_type_detection.rb` for examples.\n- [x] ~backend Use the parsed language type in url finder (https://gitlab.com/gitlab-org/gitlab/-/blob/master/ee/app/finders/security/training_providers/base_url_finder.rb) to extract training url \n\n## Testing\n\n- [ ] Create/update feature specs\n- [ ] Counterpart SET to review changes","state":"closed","created_at":"2021-11-24T13:07:59.363Z","updated_at":"2022-07-12T11:47:43.101Z","closed_at":"2022-05-17T07:31:03.603Z","closed_by":{"id":480804,"username":"thiagocsf","name":"Thiago Figueiró","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/480804/avatar.png","web_url":"https://gitlab.com/thiagocsf"},"labels":["Deliverable","backend","devops::secure","feature::addition","group::threat insights","quad-planning::complete-action","section::sec","type::feature","workflow::verification"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":11164960,"username":"ghavenga","name":"Gregory Havenga","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11164960/avatar.png","web_url":"https://gitlab.com/ghavenga"}],"author":{"id":3993566,"username":"sming-gitlab","name":"Samantha Ming","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3993566/avatar.png","web_url":"https://gitlab.com/sming-gitlab"},"type":"ISSUE","assignee":{"id":11164960,"username":"ghavenga","name":"Gregory Havenga","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11164960/avatar.png","web_url":"https://gitlab.com/ghavenga"},"user_notes_count":31,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/346455","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":7,"completed_count":2},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"2 of 7 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/346455","notes":"https://gitlab.com/api/v4/projects/278964/issues/346455/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/346455/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#346455","relative":"#346455","full":"gitlab-org/gitlab#346455"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7805,"epic":{"id":485503,"iid":7805,"title":"Security Training 2.0","url":"/groups/gitlab-org/-/epics/7805","group_id":9970,"human_readable_end_date":"Oct 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":97875447,"iid":346452,"project_id":278964,"title":"Performance testing for routes","description":"**Weight: 5** - weighting 5 for now, mainly because of cross groups collaboration and also I'm not sure how big of a task this is, we'll learn more as part of https://gitlab.com/gitlab-org/gitlab/-/issues/343648\n\nPart of [[Phase2] Replace core usages of Project with ProjectNamespace](https://gitlab.com/groups/gitlab-org/-/epics/6768)","state":"closed","created_at":"2021-11-24T12:05:16.050Z","updated_at":"2022-03-21T14:16:11.156Z","closed_at":"2022-03-21T14:16:11.142Z","closed_by":{"id":3483274,"username":"acroitor","name":"Alexandru Croitor","state":"active","avatar_url":"https://secure.gravatar.com/avatar/461378ef52c26eec55e6c15ec09bb9ed?s=80\u0026d=identicon","web_url":"https://gitlab.com/acroitor"},"labels":["auto updated","devops::manage","group::organization","namespace","section::dev","type::feature","workflow::planning breakdown"],"milestone":null,"assignees":[],"author":{"id":2982208,"username":"mksionek","name":"Gosia Ksionek","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2982208/avatar.png","web_url":"https://gitlab.com/mksionek"},"type":"ISSUE","assignee":null,"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/346452","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/346452","notes":"https://gitlab.com/api/v4/projects/278964/issues/346452/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/346452/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#346452","relative":"#346452","full":"gitlab-org/gitlab#346452"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7184,"epic":{"id":392209,"iid":7184,"title":"Consolidate Group and Project routing","url":"/groups/gitlab-org/-/epics/7184","group_id":9970,"human_readable_end_date":"Jul 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":97875412,"iid":346448,"project_id":278964,"title":"Ensure route path is created/updated when either project or project namespace paths are changed","description":"**Weight: 3** - code changes on route model and specs.\n\nPart of [\\[Phase2\\] Replace core usages of Project with ProjectNamespace](https://gitlab.com/groups/gitlab-org/-/epics/6768)","state":"closed","created_at":"2021-11-24T12:04:13.982Z","updated_at":"2022-02-17T08:30:29.457Z","closed_at":"2022-01-26T13:17:55.105Z","closed_by":{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"},"labels":["auto updated","devops::manage","group::organization","missed:14.6","namespace","quad-planning::complete-no-action","section::dev","type::feature","workflow::planning breakdown"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"}],"author":{"id":2982208,"username":"mksionek","name":"Gosia Ksionek","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2982208/avatar.png","web_url":"https://gitlab.com/mksionek"},"type":"ISSUE","assignee":{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/346448","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/346448","notes":"https://gitlab.com/api/v4/projects/278964/issues/346448/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/346448/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#346448","relative":"#346448","full":"gitlab-org/gitlab#346448"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7184,"epic":{"id":392209,"iid":7184,"title":"Consolidate Group and Project routing","url":"/groups/gitlab-org/-/epics/7184","group_id":9970,"human_readable_end_date":"Jul 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":97875398,"iid":346447,"project_id":278964,"title":"Exclude Project Namespace routes when accessing groups","description":"**Weight: 2(maybe 3)** - I think this is mostly related how we can differentiate source_type in routes table between Namespace and project namespace\n\nPart of [\\[Phase2\\] Replace core usages of Project with ProjectNamespace](https://gitlab.com/groups/gitlab-org/-/epics/6768)","state":"closed","created_at":"2021-11-24T12:04:00.040Z","updated_at":"2022-02-17T08:30:36.736Z","closed_at":"2022-01-05T10:27:13.615Z","closed_by":{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"},"labels":["auto updated","devops::manage","group::organization","namespace","section::dev","type::feature","workflow::planning breakdown"],"milestone":{"id":2156369,"iid":68,"group_id":9970,"title":"14.7","description":"","state":"active","created_at":"2021-07-21T17:39:41.786Z","updated_at":"2021-07-21T17:39:41.786Z","due_date":"2022-01-17","start_date":"2021-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/68"},"assignees":[{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"}],"author":{"id":2982208,"username":"mksionek","name":"Gosia Ksionek","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2982208/avatar.png","web_url":"https://gitlab.com/mksionek"},"type":"ISSUE","assignee":{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/346447","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/346447","notes":"https://gitlab.com/api/v4/projects/278964/issues/346447/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/346447/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#346447","relative":"#346447","full":"gitlab-org/gitlab#346447"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7184,"epic":{"id":392209,"iid":7184,"title":"Consolidate Group and Project routing","url":"/groups/gitlab-org/-/epics/7184","group_id":9970,"human_readable_end_date":"Jul 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":97875390,"iid":346446,"project_id":278964,"title":"Migration to backfill routes table with ProjectNamespace routes, either by replacing existing Project routes or along the Project routes","description":"Updated migration plan: backfill route's `namespace_id` for all routes, then switch the code to use this new namespace_id reference.\n\n* [x] for current Namespace routes (user namespace, group), just copy source_id to namespace_id - https://gitlab.com/gitlab-org/gitlab/-/merge_requests/78393\n* [x] for Project routes (when project namespace is backfilled for all projects), set namespace_id = project's project_namespace id - https://gitlab.com/gitlab-org/gitlab/-/merge_requests/81121\n\nOriginal description:\n* ~~[ ] I'll add performance testing as a subtask for this as this also has a wide blast radius given every url in the app is based on group or project paths.~~\n  * ~~**weight: 5** - mainly because of cross groups collaboration and also I'm not sure how big of a task this is, we'll learn more as part of https://gitlab.com/gitlab-org/gitlab/-/issues/343648~~\n* ~~[ ] If we opt for backfilling ProjectNamespace routes along Project routes, we'll need to make sure we cleanup Project routes when we confirm everything working as expected.~~\n  * ~~**weight: 2** - should be pretty straight forward to cleanup records with source_type='Project' from routes table.~~\n\nPart of [\\[Phase2\\] Replace core usages of Project with ProjectNamespace](https://gitlab.com/groups/gitlab-org/-/epics/6768)","state":"closed","created_at":"2021-11-24T12:03:47.092Z","updated_at":"2022-05-24T10:43:11.285Z","closed_at":"2022-05-24T10:43:11.253Z","closed_by":{"id":3483274,"username":"acroitor","name":"Alexandru Croitor","state":"active","avatar_url":"https://secure.gravatar.com/avatar/461378ef52c26eec55e6c15ec09bb9ed?s=80\u0026d=identicon","web_url":"https://gitlab.com/acroitor"},"labels":["auto updated","devops::manage","group::organization","missed:14.10","missed:14.6","missed:14.7","missed:14.9","namespace","section::dev","type::feature","workflow::scheduling"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":3483274,"username":"acroitor","name":"Alexandru Croitor","state":"active","avatar_url":"https://secure.gravatar.com/avatar/461378ef52c26eec55e6c15ec09bb9ed?s=80\u0026d=identicon","web_url":"https://gitlab.com/acroitor"}],"author":{"id":2982208,"username":"mksionek","name":"Gosia Ksionek","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2982208/avatar.png","web_url":"https://gitlab.com/mksionek"},"type":"ISSUE","assignee":{"id":3483274,"username":"acroitor","name":"Alexandru Croitor","state":"active","avatar_url":"https://secure.gravatar.com/avatar/461378ef52c26eec55e6c15ec09bb9ed?s=80\u0026d=identicon","web_url":"https://gitlab.com/acroitor"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/346446","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":2},"weight":5,"blocking_issues_count":1,"has_tasks":true,"task_status":"2 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/346446","notes":"https://gitlab.com/api/v4/projects/278964/issues/346446/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/346446/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#346446","relative":"#346446","full":"gitlab-org/gitlab#346446"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7184,"epic":{"id":392209,"iid":7184,"title":"Consolidate Group and Project routing","url":"/groups/gitlab-org/-/epics/7184","group_id":9970,"human_readable_end_date":"Jul 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":97874527,"iid":346445,"project_id":278964,"title":"Disable minimal pipeline in security projects","description":"This was raised from [Slack (internal)](https://gitlab.slack.com/archives/CMA7DQJRX/p1637751732230200).\n\nWe should disable minimal pipeline because in the security project we reset approval for each pushes. This is explained in the above thread, quoting @engwan here:\n\n\u003e Or we can just run full pipelines all the time for the security project. The other different thing there is that we have “reset approvals on push” enabled.\n\u003e\n\u003e So if you push after approval, it will run a minimal pipeline, and then run another full one after it gets approved again.","state":"closed","created_at":"2021-11-24T11:45:21.233Z","updated_at":"2022-03-16T11:29:40.456Z","closed_at":"2021-12-08T10:43:37.314Z","closed_by":{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"labels":["Engineering Productivity","maintenance::pipelines","priority::2","type::maintenance","workflow::in review"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"}],"author":{"id":6290669,"username":"godfat-gitlab","name":"Lin Jen-Shin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6290669/avatar.png","web_url":"https://gitlab.com/godfat-gitlab"},"type":"ISSUE","assignee":{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"user_notes_count":2,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/346445","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/346445","notes":"https://gitlab.com/api/v4/projects/278964/issues/346445/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/346445/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#346445","relative":"#346445","full":"gitlab-org/gitlab#346445"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":97862320,"iid":346436,"project_id":278964,"title":"Follow-up from \"Allow user unlinking a project\"","description":"The following discussion from !74998 should be addressed:\n\n- [ ] @mfluharty started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/74998#note_741935224):  (+1 comment)\n\n    \u003e **question:** Should we add some logic to this `:text` so that it shows \"Choose a project\" before any project is linked and after the unlink button is clicked like the [desired interaction gif](https://gitlab.com/groups/gitlab-org/-/uploads/4af50b277993aaa490da968b549317f7/unlink-project.gif) does?","state":"closed","created_at":"2021-11-24T09:20:27.409Z","updated_at":"2021-12-18T07:03:26.937Z","closed_at":"2021-12-07T06:56:59.816Z","closed_by":{"id":5535246,"username":"svedova","name":"Savas Vedova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535246/avatar.png","web_url":"https://gitlab.com/svedova"},"labels":["Deliverable","auto updated","devops::govern","frontend","frontend-weight::1","group::security policies","section::sec","type::feature","workflow::verification"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[{"id":5535246,"username":"svedova","name":"Savas Vedova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535246/avatar.png","web_url":"https://gitlab.com/svedova"}],"author":{"id":5535246,"username":"svedova","name":"Savas Vedova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535246/avatar.png","web_url":"https://gitlab.com/svedova"},"type":"ISSUE","assignee":{"id":5535246,"username":"svedova","name":"Savas Vedova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535246/avatar.png","web_url":"https://gitlab.com/svedova"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/346436","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/346436","notes":"https://gitlab.com/api/v4/projects/278964/issues/346436/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/346436/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#346436","relative":"#346436","full":"gitlab-org/gitlab#346436"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":97859648,"iid":346435,"project_id":278964,"title":"\"Followed users\" activity page fails when following as few as 9 users","description":"### Summary\n\nWhen trying to load the activity page for the users I follow (`@vkarnes`, `@clenneville`, `@pedroms`, `@mnichols`, `@lvanc`, `@mle`, `@sunjungp`, `@annabeldunstone`, `@nbrandt`), the content doesn't load. When looking into the console, it shows that the request times out after 15 seconds.\n\n![image](/uploads/fe56dc0cf98f9f6b90f0254c0de6b294/image.png)\n\nIf I reduce the number of people to follow down to three, it works again.\n\n![image](/uploads/38a55573dc2f2ed5026335ec85d8b6ff/image.png)\n\nNote that this applies to all tabs under \"Followed Users\", not just \"All\"\n\n![image](/uploads/b44cd92d5cbf9665847b2c63a2bab40b/image.png)\n\n### Steps to reproduce\n\n- Follow `@vkarnes`, `@clenneville`, `@pedroms`, `@mnichols`, `@lvanc`, `@mle`, `@sunjungp`, `@annabeldunstone`, `@nbrandt`\n- Try to load the followed users activity page (any of the tabs)","state":"closed","created_at":"2021-11-24T08:45:17.825Z","updated_at":"2022-05-03T22:40:20.643Z","closed_at":"2022-04-25T10:00:37.345Z","closed_by":{"id":3688647,"username":"mvanremmerden","name":"Marcel van Remmerden","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4f46ed49b87eab9e74f20e0e25b36d0f?s=80\u0026d=identicon","web_url":"https://gitlab.com/mvanremmerden"},"labels":["Category:User Management","SUS::Impacting","UX","[deprecated] Accepting merge requests","backend","bug::performance","database","devops::manage","group::organization","maintenance::refactor","missed-SLO","missed:14.7","priority::1","section::dev","severity::1","type::bug","workflow::production"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[],"author":{"id":3688647,"username":"mvanremmerden","name":"Marcel van Remmerden","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4f46ed49b87eab9e74f20e0e25b36d0f?s=80\u0026d=identicon","web_url":"https://gitlab.com/mvanremmerden"},"type":"ISSUE","assignee":null,"user_notes_count":60,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":"2022-04-30","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/346435","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":1,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/346435","notes":"https://gitlab.com/api/v4/projects/278964/issues/346435/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/346435/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#346435","relative":"#346435","full":"gitlab-org/gitlab#346435"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":97858887,"iid":346434,"project_id":278964,"title":"Group Merge Request approvals settings editing isn't inherited by all projects","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"type::bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=type::bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\n\u003c!-- Summarize the bug encountered concisely. --\u003e\n\nWhen \n\n### Steps to reproduce\n\n1. Open **Group \u003e Settings \u003e General \u003e Merge request approvals**\n2. Select all the options under **Approval settings**\n3. Under this group, in the projects, go to the same Settings\n\nThese settings should be unavailable at the project level if they're selected at the Group level.\n\n\u003c!-- Describe how one can reproduce the issue - this is very important. Please use an ordered list. --\u003e\n\n### Example Project\n\n\u003c!-- If possible, please create an example project here on GitLab.com that exhibits the problematic \nbehavior, and link to it here in the bug report. If you are using an older version of GitLab, this \nwill also determine whether the bug is fixed in a more recent version. --\u003e\n\n### What is the current *bug* behavior?\n\nThe option **Prevent approval by author.** is not greyed out in some projects (usually they are created before August 2021)\n\n\u003c!-- Describe what actually happens. --\u003e\n\n### What is the expected *correct* behavior?\n\nAll options under **Approval settings** should be greyed out in the project level according to [Group-approval-rules](https://docs.gitlab.com/ee/user/group/#group-approval-rules)\n\"These rules cascade to all projects that belong to the group.\"\n\n(https://docs.gitlab.com/ee/user/group/#group-approval-rules)\n\n\u003c!-- Describe what you should see instead. --\u003e\n\n### Relevant logs and/or screenshots\n\n\u003c!-- Paste any relevant logs - please use code blocks (```) to format console output, logs, and code\n as it's tough to read otherwise. --\u003e\n\n### Output of checks\n\n\u003c!-- If you are reporting a bug on GitLab.com, write: This bug happens on GitLab.com --\u003e\n\n#### Results of GitLab environment info\n\n\u003c!--  Input any relevant GitLab environment information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to GitLab environment info\u003c/summary\u003e\n\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:env:info`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:env:info RAILS_ENV=production`)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n#### Results of GitLab application Check\n\n\u003c!--  Input any relevant GitLab application check information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to the GitLab application check\u003c/summary\u003e\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:check SANITIZE=true`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:check RAILS_ENV=production SANITIZE=true`)\n\n(we will only investigate if the tests are passing)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n### Possible fixes\n\n\u003c!-- If you can, link to the line of code that might be responsible for the problem. --\u003e","state":"closed","created_at":"2021-11-24T08:33:21.434Z","updated_at":"2022-01-24T08:32:54.667Z","closed_at":"2022-01-24T08:32:54.649Z","closed_by":{"id":4825511,"username":"asalii","name":"Artur Salii","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4825511/avatar.png","web_url":"https://gitlab.com/asalii"},"labels":["[deprecated] Accepting merge requests","customer","devops::manage","group::compliance","missed:14.6","missed:14.7","reproduced on GitLab.com","section::dev","severity::4","type::bug","workflow::in review"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[],"author":{"id":4825511,"username":"asalii","name":"Artur Salii","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4825511/avatar.png","web_url":"https://gitlab.com/asalii"},"type":"ISSUE","assignee":null,"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/346434","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/346434","notes":"https://gitlab.com/api/v4/projects/278964/issues/346434/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/346434/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#346434","relative":"#346434","full":"gitlab-org/gitlab#346434"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":97857760,"iid":346431,"project_id":278964,"title":"Spike Service Ping health dashboard","description":"## Background\n\nRecently there were number of incidents around Service Ping reporting. ~\"group::product intelligence\" require centralized location that would enable quick verification health status of Service Ping process\n\n## Goal\n\nWith a  sample of metrics selected from the list delivered by gitlab#345899 Prototype different type of visualizations in SiSense and collect feedback from ~\"group::product intelligence\"","state":"closed","created_at":"2021-11-24T08:17:42.716Z","updated_at":"2022-02-15T18:58:54.595Z","closed_at":"2022-01-19T09:21:11.698Z","closed_by":{"id":3509693,"username":"nicolasdular","name":"Nicolas Dular","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c4a21f15150c12ddf13fd848597cddd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/nicolasdular"},"labels":["PI System Reliability and Monitoring","Quality","auto updated","backend","devops::growth","group::product intelligence","section::growth","spike","workflow::in review"],"milestone":{"id":2156369,"iid":68,"group_id":9970,"title":"14.7","description":"","state":"active","created_at":"2021-07-21T17:39:41.786Z","updated_at":"2021-07-21T17:39:41.786Z","due_date":"2022-01-17","start_date":"2021-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/68"},"assignees":[{"id":4807002,"username":"mikolaj_wawrzyniak","name":"Mikołaj Wawrzyniak","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4807002/avatar.png","web_url":"https://gitlab.com/mikolaj_wawrzyniak"}],"author":{"id":4807002,"username":"mikolaj_wawrzyniak","name":"Mikołaj Wawrzyniak","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4807002/avatar.png","web_url":"https://gitlab.com/mikolaj_wawrzyniak"},"type":"ISSUE","assignee":{"id":4807002,"username":"mikolaj_wawrzyniak","name":"Mikołaj Wawrzyniak","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4807002/avatar.png","web_url":"https://gitlab.com/mikolaj_wawrzyniak"},"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/346431","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/346431","notes":"https://gitlab.com/api/v4/projects/278964/issues/346431/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/346431/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#346431","relative":"#346431","full":"gitlab-org/gitlab#346431"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7032,"epic":{"id":378923,"iid":7032,"title":"Service Ping Dashboards","url":"/groups/gitlab-org/-/epics/7032","group_id":9970,"human_readable_end_date":"Jun 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":97838431,"iid":346407,"project_id":278964,"title":"SPIKE: De-provisioning paid features upon transfer to subgroups","description":"## Problem\n\nSimilar to #284395. Upon transfer of subgroups, paid features such as Pipeline subscription, Pipeline test cases, Project Access Tokens should be removed\n\n1. I have not confirmed this - this was first noticed in https://gitlab.com/gitlab-org/gitlab/-/issues/346237#note_739616992 by @DylanGriffith\n1. Not sure why the https://gitlab.com/gitlab-org/gitlab/-/issues/284395 was confidential - but I have this issue confidential to match\n1. Why are the paid features not verifying license checks on execution instead ?\n\n## Proposal\n\n- Simulate transfer of subgroup workflow described in the issue\n- Validate that paid features are not removed\n- If paid features are actually removed, diagnose whether this issue is [due to/caused by](https://gitlab.com/gitlab-org/gitlab/-/issues/346237#note_739616992) cross database modification problem.  If so, isolate the problem and propose a fix.\n\n## Result\n\n- At the end of this spike story, we want to be able to document the current de-provisioning process on project transfers and  once the problem has been validated, work on an MVC to fix it as reported","state":"closed","created_at":"2021-11-23T22:07:39.835Z","updated_at":"2022-02-02T16:03:09.115Z","closed_at":"2022-02-02T15:02:22.361Z","closed_by":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"labels":["SaaS De-Provisioning","[deprecated] Category:Provision","backend","devops::fulfillment","group::provision","section::fulfillment","type::bug","workflow::problem validation"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"}],"author":{"id":2535118,"username":"tkuah","name":"Thong Kuah","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f7b51bdd49a4914d29504d7ff4c3f7b9?s=80\u0026d=identicon","web_url":"https://gitlab.com/tkuah"},"type":"ISSUE","assignee":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"user_notes_count":24,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/346407","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/346407","notes":"https://gitlab.com/api/v4/projects/278964/issues/346407/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/346407/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#346407","relative":"#346407","full":"gitlab-org/gitlab#346407"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6382,"epic":{"id":310859,"iid":6382,"title":"THEME: Run the Business","url":"/groups/gitlab-org/-/epics/6382","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":null},{"id":97838237,"iid":346406,"project_id":278964,"title":"Retrospectively announce all missing deprecations","description":"This issue is part of the Epic https://gitlab.com/groups/gitlab-org/-/epics/7155. Please see that Epic for more context.\n\n### About\n\nWe will need to do a cleanup task of adding all deprecated GraphQL schema as [entries in `data/deprecations`](https://about.gitlab.com/handbook/marketing/blog/release-posts/#creating-a-deprecation-entry) where they're missing (a quick scan of `deprecated` in `app/graphql` shows a lot is missing).","state":"closed","created_at":"2021-11-23T21:59:04.155Z","updated_at":"2022-11-22T19:11:19.094Z","closed_at":"2022-07-28T03:05:05.717Z","closed_by":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"labels":["GraphQL","[deprecated] Accepting merge requests","automation:ml","automation:ml wrong","devops::manage","documentation","group::integrations","missed:14.10","missed:14.9","missed:15.0","missed:15.1","missed:15.2","section::dev","type::maintenance"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[],"author":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"type":"ISSUE","assignee":null,"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/346406","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/346406","notes":"https://gitlab.com/api/v4/projects/278964/issues/346406/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/346406/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#346406","relative":"#346406","full":"gitlab-org/gitlab#346406"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7155,"epic":{"id":389022,"iid":7155,"title":"Improve GraphQL API deprecation process","url":"/groups/gitlab-org/-/epics/7155","group_id":9970,"human_readable_end_date":"Aug 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":97836196,"iid":346400,"project_id":278964,"title":"Backend: Use a reduced cost factor for public forks","description":"## Problem\n\nWe would like to identify contributions to OSS projects and treat those contributions differently from the point of view of CI minutes consumption. Today if a user wants to contribute to an OSS project we will count CI minutes consumption against the user quota because the user runs the pipeline on a fork on their namespace. The majority of contributors are using their own personal namespace which has a Free plan. We give Free plan a 400 CI minutes limit. \n\nThis means that if a pipeline from a fork consumes many CI minutes, it can either consume all the CI quota or great part of it. \n\nFor example a full merge request pipeline for `gitlab-org/gitlab` as of today would consume 1000+ CI minutes which means a user may not be able to fully run one and exhaust the quota for the rest of the month.\n\n## Proposal\n\n- Identify OSS contributions as: `a pipeline running for a public fork of a public upstream project`.\n- For any jobs classified as OSS contributions, use a cost factor `0.008` which was introduced/separated-out in https://gitlab.com/gitlab-org/gitlab/-/issues/346399\n- This ensures that the users can contribute up to 50,000 minutes (duration) on OSS projects (`400 CI minutes limit for Free plan / cost factor 0.008 = 50,000`).\n- OSS contributions coming from OSS plan projects (e.g. public fork in OSS plan group) would get cost factor 0.008 instead of 0.5\n\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2021-11-23T20:51:17.655Z","updated_at":"2022-10-10T14:05:27.455Z","closed_at":"2022-08-26T14:56:22.755Z","closed_by":{"id":4626651,"username":"allison.browne","name":"Allison Browne","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4bc33904c3bd3f2dce3db4e5af4ad1ae?s=80\u0026d=identicon","web_url":"https://gitlab.com/allison.browne"},"labels":["CI minutes","Category:Continuous Integration","Deliverable","FY23::Q2","GitLab Free","OKR","UX","Verify::P2","backend","customer","devops::verify","direction","documentation","feature::addition","group::pipeline execution","internal customer","missed-deliverable","missed:14.7","missed:15.3","pipeline abuse prevention","section::ops","type::feature","workflow::verification"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"},{"id":4626651,"username":"allison.browne","name":"Allison Browne","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4bc33904c3bd3f2dce3db4e5af4ad1ae?s=80\u0026d=identicon","web_url":"https://gitlab.com/allison.browne"}],"author":{"id":4512666,"username":"jheimbuck_gl","name":"James Heimbuck","state":"active","avatar_url":"https://secure.gravatar.com/avatar/8dd2ef9c1cacb6e80d7ca47db6f0ce22?s=80\u0026d=identicon","web_url":"https://gitlab.com/jheimbuck_gl"},"type":"ISSUE","assignee":{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"},"user_notes_count":39,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/346400","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/346400","notes":"https://gitlab.com/api/v4/projects/278964/issues/346400/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/346400/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#346400","relative":"#346400","full":"gitlab-org/gitlab#346400"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5653,"epic":{"id":231355,"iid":5653,"title":"CI minutes limits for public projects on GitLab.com","url":"/groups/gitlab-org/-/epics/5653","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":"on_track"},{"id":97836077,"iid":346399,"project_id":278964,"title":"Separate OSS and Standard Cost Factors","description":"\u003c!-- This template is a great use for issues that are feature::additions or technical tasks for larger issues.--\u003e\n\n## Problem\n\nWe want to treat CI jobs from the new OSS plan differently than other CI jobs on Free or paid plans. As we plan to [harden CI minutes limits for all public projects](https://gitlab.com/groups/gitlab-org/-/epics/5653) on Gitlab.com we want to give OSS plan namespaces extra room for CI minutes usage so they are not impacted by the limitations.\n\n## Proposal\n\nSeparate the cost factor for OSS jobs from the standard cost factor. If project is from OSS plan use `0.008` cost factor. This won't introduce any difference today since the cost factor of new public projects is also `0.008` but as we plan to change it to `1.0` we want to have OSS plan using a lower cost factor.\n\n- if Runner cost factor is `0.0` (old public project), use cost factor as is.\n- if Runner cost factor is `1.0` (private projects now, in the future any project by default) and project is from OSS plan, lower the cost factor to `0.008`.\n- if Runner cost factor is greater than `1.0` (e.g. macOS runners), use cost factor as is.\n\n## Acceptance criteria\n\n- Ensure that this impacts only GitLab ~\"SaaS\".\n- We don't want to raise the cost factor for OSS projects if they are currently using `0.0` as old public projects. \n- We don't want to lower the cost factor to `0.008` if the project is using special runners which have high cost factor (e.g. macOS runners).\n\n\u003c!-- Label reminders\nUse the following resources to find the appropriate labels:\n- https://gitlab.com/gitlab-org/gitlab/-/labels\n- https://about.gitlab.com/handbook/product/categories/features/\n--\u003e","state":"closed","created_at":"2021-11-23T20:48:15.404Z","updated_at":"2022-08-17T07:38:24.361Z","closed_at":"2022-01-17T16:06:10.798Z","closed_by":{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"},"labels":["CI minutes","Category:Continuous Integration","Deliverable","FY22::Q4","SaaS","Verify::P1","backend","devops::verify","feature::addition","group::pipeline execution","pipeline abuse prevention","section::ops","type::maintenance","workflow::production"],"milestone":{"id":2156369,"iid":68,"group_id":9970,"title":"14.7","description":"","state":"active","created_at":"2021-07-21T17:39:41.786Z","updated_at":"2021-07-21T17:39:41.786Z","due_date":"2022-01-17","start_date":"2021-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/68"},"assignees":[{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"}],"author":{"id":4512666,"username":"jheimbuck_gl","name":"James Heimbuck","state":"active","avatar_url":"https://secure.gravatar.com/avatar/8dd2ef9c1cacb6e80d7ca47db6f0ce22?s=80\u0026d=identicon","web_url":"https://gitlab.com/jheimbuck_gl"},"type":"ISSUE","assignee":{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"},"user_notes_count":25,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/346399","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/346399","notes":"https://gitlab.com/api/v4/projects/278964/issues/346399/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/346399/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#346399","relative":"#346399","full":"gitlab-org/gitlab#346399"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5653,"epic":{"id":231355,"iid":5653,"title":"CI minutes limits for public projects on GitLab.com","url":"/groups/gitlab-org/-/epics/5653","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":null},{"id":97833981,"iid":346392,"project_id":278964,"title":"pages:deploy job has switched columns in job table","description":"`pages:deploy` jobs have a different column order in the jobs table, `name` and `Build ID` are swapped:\n\n![Screenshot_2021-11-23_at_15.28.41](/uploads/f3204ecf060509f390c243094f0f3bb6/Screenshot_2021-11-23_at_15.28.41.png)\n\nThis is probably related to https://gitlab.com/gitlab-org/gitlab/-/merge_requests/67071 and https://gitlab.com/gitlab-org/gitlab/-/issues/334349","state":"closed","created_at":"2021-11-23T19:44:44.165Z","updated_at":"2021-12-13T13:08:08.336Z","closed_at":"2021-11-25T17:00:52.040Z","closed_by":{"id":829774,"username":"jivanvl","name":"Jose Ivan Vargas","state":"active","avatar_url":"https://secure.gravatar.com/avatar/730cc1b85a20f2a3891829f7aa198972?s=80\u0026d=identicon","web_url":"https://gitlab.com/jivanvl"},"labels":["Category:Continuous Integration","FY22::Q4","OKR","UX","UX scorecard-rec","auto updated","devops::verify","frontend","group::pipeline execution","section::ops","type::bug","workflow::verification"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[{"id":829774,"username":"jivanvl","name":"Jose Ivan Vargas","state":"active","avatar_url":"https://secure.gravatar.com/avatar/730cc1b85a20f2a3891829f7aa198972?s=80\u0026d=identicon","web_url":"https://gitlab.com/jivanvl"}],"author":{"id":181229,"username":"leipert","name":"Lukas 'Eipi' Eipert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/19a1f1260fa70323f35bc508927921a2?s=80\u0026d=identicon","web_url":"https://gitlab.com/leipert"},"type":"ISSUE","assignee":{"id":829774,"username":"jivanvl","name":"Jose Ivan Vargas","state":"active","avatar_url":"https://secure.gravatar.com/avatar/730cc1b85a20f2a3891829f7aa198972?s=80\u0026d=identicon","web_url":"https://gitlab.com/jivanvl"},"user_notes_count":10,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/346392","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/346392","notes":"https://gitlab.com/api/v4/projects/278964/issues/346392/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/346392/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#346392","relative":"#346392","full":"gitlab-org/gitlab#346392"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":97827538,"iid":346385,"project_id":278964,"title":"500 error received (timeout) when disabling 2FA enforcement in group settings","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"type::bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=type::bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\nA customer has reported that they are receiving a 500 error (timeout) when attempting to [disable 2FA enforcement in the group settings](https://docs.gitlab.com/ee/security/two_factor_authentication.html#enforce-2fa-for-all-users).\n\n* [Zendesk (Internal)](https://gitlab.zendesk.com/agent/tickets/252449)\n\n### Steps to reproduce\n\n1. Go to the group’s **Settings \u003e General** page.\n2. Expand the `Permissions, LFS, 2FA section`.\n3. Deselect the `Require all users in this group to set up two-factor authentication` option.\n4. Click `Save Changes`. \n\n### What is the current *bug* behavior?\n\nThe customer is receiving a 500 error when attempting to disable 2FA enforcement in the top-level group settings.\n\n### What is the expected *correct* behavior?\n\nThe customer should be able to disable 2FA enforcement in the top-level group settings without error.\n\n### Relevant logs and/or screenshots\n\n* [Rails Logs](https://log.gprd.gitlab.net/goto/f3d6683361efd7d4d048d51301562b52)\n\n```\njson.exception.class  Rack::Timeout::RequestTimeoutException\njson.exception.message  Request ran for longer than 60000ms\n```\n\n* [Sentry](https://sentry.gitlab.net/gitlab/gitlabcom/issues/1529371/?query=correlation_id%3A01FN5E1CN29YM3C4VVTHEZBJET)\n\n```\nRack::Timeout::RequestTimeoutException: Request ran for longer than 60000ms\n  lib/gitlab/graphql/tracers/timer_tracer.rb:20:in `trace'\n    result = yield\n  lib/gitlab/graphql/generic_tracing.rb:40:in `with_labkit_tracing'\n    return yield unless Labkit::Tracing.enabled?\n  lib/gitlab/graphql/generic_tracing.rb:30:in `platform_trace'\n    with_labkit_tracing(tags, \u0026block)\n  lib/gitlab/graphql/tracers/logger_tracer.rb:14:in `trace'\n    result = yield\n  lib/gitlab/graphql/tracers/metrics_tracer.rb:13:in `trace'\n    result = yield\n...\n(245 additional frame(s) were not displayed)\n```\n\n### Output of checks\n\nThis bug happens on GitLab.com","state":"closed","created_at":"2021-11-23T17:16:01.366Z","updated_at":"2022-08-26T18:46:32.737Z","closed_at":"2022-08-25T21:26:12.033Z","closed_by":{"id":11997412,"username":"jessieay","name":"Jessie Young","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11997412/avatar.png","web_url":"https://gitlab.com/jessieay"},"labels":["Category:Authentication and Authorization","approaching-SLO","backend","bug::performance","customer","devops::manage","group::authentication and authorization","missed-SLO","priority::2","section::dev","severity::2","type::bug","workflow::verification"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":11997412,"username":"jessieay","name":"Jessie Young","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11997412/avatar.png","web_url":"https://gitlab.com/jessieay"}],"author":{"id":7077441,"username":"rkelly","name":"Ryan Kelly","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7077441/avatar.png","web_url":"https://gitlab.com/rkelly"},"type":"ISSUE","assignee":{"id":11997412,"username":"jessieay","name":"Jessie Young","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11997412/avatar.png","web_url":"https://gitlab.com/jessieay"},"user_notes_count":15,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/346385","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/346385","notes":"https://gitlab.com/api/v4/projects/278964/issues/346385/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/346385/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#346385","relative":"#346385","full":"gitlab-org/gitlab#346385"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":97825814,"iid":346384,"project_id":278964,"title":"UI text update for source/target branch does not exist","description":"As part of the epic to improve the MR widget text (https://gitlab.com/groups/gitlab-org/-/epics/6436) I've come to this message, which I need help from a ~frontend engineer to improve:\n\n\u003e {Source|Target} branch does not exist. Please restore it or use a different {source|target} branch \\[?]\n\nI found the text that generates these sentences. It's in `app/assets/javascripts/vue_merge_request_widget/components/states/mr_widget_missing_branch.vue` but the sentences are split apart in a way I'm not comfortable working with.\n\nWhat's needed:\n\n1. Determine what we want the message to be. We'll still need to inject the word `source` or `target` into it.\n1. Ask a frontend engineer to help change `app/assets/javascripts/vue_merge_request_widget/components/states/mr_widget_missing_branch.vue` (and any corresponding tests) to work with the new output.","state":"closed","created_at":"2021-11-23T16:49:28.936Z","updated_at":"2022-02-18T07:01:12.779Z","closed_at":"2022-01-24T22:05:04.636Z","closed_by":{"id":4414431,"username":"thomasrandolph","name":"Thomas Randolph","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6462fcd577d8c957abd2dc23956cfbec?s=80\u0026d=identicon","web_url":"https://gitlab.com/thomasrandolph"},"labels":["Deliverable","SUS::Impacting","Technical Writing","UI text","devops::create","feature::enhancement","frontend","group::code review","merge requests","missed-deliverable","missed:14.7","section::dev","severity::4","type::feature","workflow::production"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":626804,"username":"pedroms","name":"Pedro Moreira da Silva","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c306f087d191ac15549f3c11e3bed321?s=80\u0026d=identicon","web_url":"https://gitlab.com/pedroms"},{"id":4414431,"username":"thomasrandolph","name":"Thomas Randolph","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6462fcd577d8c957abd2dc23956cfbec?s=80\u0026d=identicon","web_url":"https://gitlab.com/thomasrandolph"},{"id":5133434,"username":"aqualls","name":"Amy Qualls","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5133434/avatar.png","web_url":"https://gitlab.com/aqualls"}],"author":{"id":5133434,"username":"aqualls","name":"Amy Qualls","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5133434/avatar.png","web_url":"https://gitlab.com/aqualls"},"type":"ISSUE","assignee":{"id":626804,"username":"pedroms","name":"Pedro Moreira da Silva","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c306f087d191ac15549f3c11e3bed321?s=80\u0026d=identicon","web_url":"https://gitlab.com/pedroms"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/346384","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/346384","notes":"https://gitlab.com/api/v4/projects/278964/issues/346384/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/346384/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#346384","relative":"#346384","full":"gitlab-org/gitlab#346384"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6436,"epic":{"id":313933,"iid":6436,"title":"Improve MR merge widget UI text","url":"/groups/gitlab-org/-/epics/6436","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":97819792,"iid":346372,"project_id":278964,"title":"Spike: Review, redact and submit your usage","description":"## Summary\n\nThis is a technical spike to breakdown the work needed to deliver an MVC of https://gitlab.com/groups/gitlab-org/-/epics/6417. \n\n1. Success criteria of an MVC:\n     1. User can view the data we are collecting\n     1. User can provide the data to us outside of the GitLab application\n1. Success criteria for future iterations:\n     1. User can modify what data is being reported\n     1. User can send us the filtered down data from within the app or outside the app\n     1. There is a self-service method for reporting the data in a secure manner\n     1. User can view sample data for each metric\n     1. User can view metadata related to each metric \n1. The MVC can be delivered in multiple iterations.\n1. The iterations noted [here](https://gitlab.com/groups/gitlab-org/-/epics/6417#potential-iterations) is not meant to provide technical guidance, this was brainstorming by Product, please replace with the iterative plan defined by engineering.\n1. The outcome of this spike should:\n     1. Create a technical plan for the MVC\n     1. Create and weight issues for the MVC\n     1. Coordinate BE/FE details and agree on approach","state":"closed","created_at":"2021-11-23T15:37:59.769Z","updated_at":"2022-02-03T19:39:00.451Z","closed_at":"2022-01-14T16:04:31.925Z","closed_by":{"id":3509693,"username":"nicolasdular","name":"Nicolas Dular","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c4a21f15150c12ddf13fd848597cddd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/nicolasdular"},"labels":["auto updated","backend","devops::growth","group::product intelligence","section::growth","spike","workflow::in review"],"milestone":{"id":2156369,"iid":68,"group_id":9970,"title":"14.7","description":"","state":"active","created_at":"2021-07-21T17:39:41.786Z","updated_at":"2021-07-21T17:39:41.786Z","due_date":"2022-01-17","start_date":"2021-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/68"},"assignees":[{"id":9712164,"username":"nbelokolodov","name":"Niko Belokolodov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9712164/avatar.png","web_url":"https://gitlab.com/nbelokolodov"}],"author":{"id":2890431,"username":"amandarueda","name":"Amanda Rueda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2890431/avatar.png","web_url":"https://gitlab.com/amandarueda"},"type":"ISSUE","assignee":{"id":9712164,"username":"nbelokolodov","name":"Niko Belokolodov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9712164/avatar.png","web_url":"https://gitlab.com/nbelokolodov"},"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/346372","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/346372","notes":"https://gitlab.com/api/v4/projects/278964/issues/346372/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/346372/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#346372","relative":"#346372","full":"gitlab-org/gitlab#346372"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7388,"epic":{"id":420531,"iid":7388,"title":"MVC: Create method for offline reporting of Product Usage Data","url":"/groups/gitlab-org/-/epics/7388","group_id":9970,"human_readable_end_date":"May 22, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":97813095,"iid":346365,"project_id":278964,"title":"Rename task-runner to toolbox for doc/development/testing_guide/review_apps.md","description":"The following discussion from !75016 should be addressed:\n\n- [ ] @godfat-gitlab started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/75016#note_741418440):  (+1 comment)\n\n    \u003e Should we update `doc/development/testing_guide/review_apps.md` where it's referring to `task-runner`? We can certainly follow up as well.","state":"closed","created_at":"2021-11-23T14:06:57.789Z","updated_at":"2021-11-23T16:08:44.422Z","closed_at":"2021-11-23T16:08:44.394Z","closed_by":{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"labels":["Engineering Productivity","documentation"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"}],"author":{"id":6290669,"username":"godfat-gitlab","name":"Lin Jen-Shin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6290669/avatar.png","web_url":"https://gitlab.com/godfat-gitlab"},"type":"ISSUE","assignee":{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/346365","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/346365","notes":"https://gitlab.com/api/v4/projects/278964/issues/346365/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/346365/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#346365","relative":"#346365","full":"gitlab-org/gitlab#346365"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":97807612,"iid":346357,"project_id":278964,"title":"Background Migrations Visibility Improvement for GitLab engineers - Iteration 1","description":"Currently, when someone enqueues a batched background migration is not able to see the progress of the migration unless this person has specific permissions. This isn't good because we want that all engineers use and interact with batched background migration.\n\nTo solve this issue, we can integrate batched background migrations with `/chatops`. Using `/chatops`, all engineers can check the status of the batched background migrations and run specific commands. \n\nCommand examples:\n- status command -\u003e Returns the progress of the batched background migration.\n- pause command -\u003e Pauses the batched background migration\n- resume command -\u003e Resumes the batched background migration\n\nIn this issue, we are going to focus on the first iteration of the project, which is to support the commands:\n- `/chatops run batched-background-migration list --env ENV --database DATABASE`\n- `/chatops run batched-background-migration status ID-or-JobClassName`\n\nMore details here: https://gitlab.com/gitlab-org/gitlab/-/issues/346357#note_1015185160","state":"closed","created_at":"2021-11-23T13:10:04.664Z","updated_at":"2022-09-27T19:36:26.654Z","closed_at":"2022-09-22T14:26:18.191Z","closed_by":{"id":480097,"username":"alexives","name":"Alex Ives","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/480097/avatar.png","web_url":"https://gitlab.com/alexives"},"labels":["Category:Database","Engineering Allocation","auto updated","backend","database::active","devops::data_stores","group::database","missed:14.6","missed:14.7","missed:15.0","missed:15.1","missed:15.3","missed:15.4","section::enablement","type::feature"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":9231122,"username":"dfrazao-gitlab","name":"Diogo Frazão","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9231122/avatar.png","web_url":"https://gitlab.com/dfrazao-gitlab"}],"author":{"id":9231122,"username":"dfrazao-gitlab","name":"Diogo Frazão","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9231122/avatar.png","web_url":"https://gitlab.com/dfrazao-gitlab"},"type":"ISSUE","assignee":{"id":9231122,"username":"dfrazao-gitlab","name":"Diogo Frazão","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9231122/avatar.png","web_url":"https://gitlab.com/dfrazao-gitlab"},"user_notes_count":36,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/346357","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":10,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/346357","notes":"https://gitlab.com/api/v4/projects/278964/issues/346357/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/346357/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#346357","relative":"#346357","full":"gitlab-org/gitlab#346357"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7454,"epic":{"id":428836,"iid":7454,"title":"Batched Background Migrations: improve developer experience","url":"/groups/gitlab-org/-/epics/7454","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":97799583,"iid":346343,"project_id":278964,"title":"Advanced Search: Create runbooks for replaying lost updates","description":"Since we don't have WAL implemented yet https://gitlab.com/gitlab-org/gitlab/-/issues/336261 we might want to prepare alternative DR strategies. One of them can be restoring updates from the database based on the `updated_at` field. Potentially, the same approach can be used for repositories (Gitaly).\n\nWe probably should place these new runbooks in https://gitlab.com/gitlab-com/runbooks/-/tree/master/docs/elastic","state":"closed","created_at":"2021-11-23T10:50:32.443Z","updated_at":"2022-09-21T12:08:25.904Z","closed_at":"2022-09-15T10:33:24.416Z","closed_by":{"id":5054237,"username":"dgruzd","name":"Dmitry Gruzd","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5054237/avatar.png","web_url":"https://gitlab.com/dgruzd"},"labels":["Category:Global Search","Deliverable","advanced search","auto updated","devops::data_stores","documentation","group::global search","quad-planning::complete-no-action","section::enablement","type::maintenance","workflow::in review"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":5054237,"username":"dgruzd","name":"Dmitry Gruzd","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5054237/avatar.png","web_url":"https://gitlab.com/dgruzd"}],"author":{"id":5054237,"username":"dgruzd","name":"Dmitry Gruzd","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5054237/avatar.png","web_url":"https://gitlab.com/dgruzd"},"type":"ISSUE","assignee":{"id":5054237,"username":"dgruzd","name":"Dmitry Gruzd","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5054237/avatar.png","web_url":"https://gitlab.com/dgruzd"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/346343","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/346343","notes":"https://gitlab.com/api/v4/projects/278964/issues/346343/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/346343/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#346343","relative":"#346343","full":"gitlab-org/gitlab#346343"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7978,"epic":{"id":512846,"iid":7978,"title":"Advanced Search: Come up with solution for index integrity","url":"/groups/gitlab-org/-/epics/7978","group_id":9970,"human_readable_end_date":"Aug 22, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":97794954,"iid":346339,"project_id":278964,"title":"[Feature flag] Rollout of `datadog_integration_logs_collection`","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n## Summary\n\nThis issue is to rollout [the feature](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/74725) on production,\nthat is currently behind the `datadog_integration_logs_collection` feature flag.\n\n\u003c!-- Short description of what the feature is about and link to relevant other issues. --\u003e\n\n## Owners\n\n- Team: NAME_OF_TEAM\n- Most appropriate slack channel to reach out to: `#g_TEAM_NAME`\n- Best individual to reach out to: @AdrianLC\n- PM: NAME\n\n## Stakeholders\n@AdrianLC\n\n\u003c!--\nAre there any other stages or teams involved that need to be kept in the loop?\n\n- Name of a PM\n- The Support Team\n- The Delivery Team\n--\u003e\n\n## Expectations\n\n### What are we expecting to happen?\nUsers of the datadog integration can now enable a new hook type sent to Datadog through a new checkbox in the integration settings. This new hook type sends a pre-signed link to download the job trace log from object storage.\n\n\u003c!-- Describe the expected outcome when rolling out this feature --\u003e\n\n### When is the feature viable?\nOnce we have done e2e testing with Datadog for specific orgs and different object storage backends.\n\n\u003c!-- What are the settings we need to configure in order to have this feature viable? --\u003e\n\n\u003c!-- \nExample below:\n \n1. Enable service ping collection\n   `ApplicationSetting.first.update(usage_ping_enabled: true)`\n--\u003e\n\n### What might happen if this goes wrong?\n\n\u003c!-- Should the feature flag be turned off? Any MRs that need to be rolled back? Communication that needs to happen? What are some things you can think of that could go wrong - data loss or broken pages? --\u003e\n- Errors in the Datadog integration sending data as expected.\n- Errors in the Datadog integration when loading or saving settings.\n- Errors in `ArhiveTraceService` that triggers the hook and sends the data.\n\n### What can we monitor to detect problems with this?\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? --\u003e\n_Consider mentioning checks for 5xx errors or other anomalies like an increase in redirects \n(302 HTTP response status)_\n\n### What can we check for monitoring production after rollouts?\n\n_Consider adding links to check for Sentry errors, Production logs for 5xx, 302s, etc._\n\n## Rollout Steps\n\n### Rollout on non-production environments\n\n- Ensure that the feature MRs have been deployed to non-production environments.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- [x] Enable the feature globally on non-production environments.\n    - [x] `/chatops run feature set datadog_integration_logs_collection true --dev`\n    - [x] `/chatops run feature set datadog_integration_logs_collection true --staging`\n- [ ] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n\n### Specific rollout on production\n\n- Ensure that the feature MRs have been deployed to both production and canary.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- If you're using [project-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [ ] `/chatops run feature set --project=gitlab-org/gitlab datadog_integration_logs_collection true`\n    - [ ] `/chatops run feature set --project=gitlab-org/gitlab-foss datadog_integration_logs_collection true`\n    - [ ] `/chatops run feature set --project=gitlab-com/www-gitlab-com datadog_integration_logs_collection true`\n- If you're using [group-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [ ] `/chatops run feature set --group=gitlab-org datadog_integration_logs_collection true`\n    - [ ] `/chatops run feature set --group=gitlab-com datadog_integration_logs_collection true`\n- If you're using [user-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [ ] `/chatops run feature set --user=\u003cyour-username\u003e datadog_integration_logs_collection true`\n- [ ] Verify that the feature works on the specific entries. Posting the QA result in this issue is preferable.\n\n### Preparation before global rollout\n\n- [x] Check if the feature flag change needs to be accompanied with a\n  [change management issue](https://about.gitlab.com/handbook/engineering/infrastructure/change-management/#feature-flags-and-the-change-management-process).\n  Cross link the issue here if it does.\n- [x] Ensure that you or a representative in development can be available for at least 2 hours after feature flag updates in production.\n  If a different developer will be covering, or an exception is needed, please inform the oncall SRE by using the `@sre-oncall` Slack alias.\n- [x] Ensure that documentation has been updated ([More info](https://docs.gitlab.com/ee/development/documentation/feature_flags.html#features-that-became-enabled-by-default)).\n- [ ] Announce on [the feature issue](ISSUE LINK) an estimated time this will be enabled on GitLab.com.\n- [ ] Notify `#support_gitlab-com` and your team channel ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#communicate-the-change)).\n\n### Global rollout on production\n\nFor visibility, all `/chatops` commands that target production should be executed in the `#production` slack channel and cross-posted (with the command results) to the responsible team's slack channel (`#g_TEAM_NAME`).\n\n- [ ] [Incrementally roll out](https://docs.gitlab.com/ee/development/feature_flags/controls.html#process) the feature.\n  - If the feature flag in code has [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform **actor-based** rollout.\n    - [ ] `/chatops run feature set datadog_integration_logs_collection \u003crollout-percentage\u003e --actors`\n  - If the feature flag in code does **NOT** have [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform time-based rollout (**random** rollout).\n    - [ ] `/chatops run feature set datadog_integration_logs_collection \u003crollout-percentage\u003e`\n  - Enable the feature globally on production environment.\n    - [x] `/chatops run feature set datadog_integration_logs_collection true`\n- [x] Announce on [the feature issue](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/74725) that the feature has been globally enabled.\n- [ ] Wait for [at least one day for the verification term](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release).\n\n### (Optional) Release the feature with the feature flag\n\nIf you're still unsure whether the feature is [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release)\nbut want to release it in the current milestone, you can change the default state of the feature flag to be enabled.\nTo do so, follow these steps:\n\n- [ ] Create a merge request with the following changes. Ask for review and merge it.\n    - [ ] Set the `default_enabled` attribute in [the feature flag definition](https://docs.gitlab.com/ee/development/feature_flags/#feature-flag-definition-and-validation) to `true`.\n    - [ ] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the default-enabling MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-default-enabling-mr\u003e`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [ ] Set the next milestone to this rollout issue for scheduling [the flag removal](#release-the-feature).\n- [ ] (Optional) You can create a separate issue for scheduling the steps below to [Release the feature](#release-the-feature).\n    - [ ] Set the title to \"[Feature flag] Cleanup `datadog_integration_logs_collection`\".\n    - [ ] Execute the `/copy_metadata \u003cthis-rollout-issue-link\u003e` quick action to copy the labels from this rollout issue.\n    - [ ] Link this rollout issue as a related issue.\n    - [ ] Close this rollout issue.\n\n**WARNING:** This approach has the downside that it makes it difficult for us to\n[clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) the flag.\nFor example, on-premise users could disable the feature on their GitLab instance. But when you\nremove the flag at some point, they suddenly see the feature as enabled and they can't roll it back\nto the previous behavior. To avoid this potential breaking change, use this approach only for urgent\nmatters.\n\n### Release the feature\n\nAfter the feature has been [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release),\nthe [clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up)\nshould be done as soon as possible to permanently enable the feature and reduce complexity in the\ncodebase.\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [ ] Create a merge request to remove `datadog_integration_logs_collection` feature flag. Ask for review and merge it.\n    - [ ] Remove all references to the feature flag from the codebase.\n    - [ ] Remove the YAML definitions for the feature from the repository.\n    - [ ] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the cleanup MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-cleanup-mr\u003e`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [ ] Clean up the feature flag from all environments by running these chatops command in `#production` channel:\n    - [ ] `/chatops run feature delete datadog_integration_logs_collection --dev`\n    - [ ] `/chatops run feature delete datadog_integration_logs_collection --staging`\n    - [ ] `/chatops run feature delete datadog_integration_logs_collection`\n- [ ] Close this rollout issue.\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set datadog_integration_logs_collection false\n```","state":"closed","created_at":"2021-11-23T09:43:27.562Z","updated_at":"2022-11-22T19:11:24.586Z","closed_at":"2022-09-07T13:25:41.002Z","closed_by":{"id":16943,"username":"Andysoiron","name":"Andy Soiron","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/16943/avatar.png","web_url":"https://gitlab.com/Andysoiron"},"labels":["Community contribution","Integration::Datadog","customer","devops::manage","feature flag","group::integrations","missed:14.10","missed:14.8","missed:14.9","missed:15.3","section::dev","type::feature","workflow::in review"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":16943,"username":"Andysoiron","name":"Andy Soiron","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/16943/avatar.png","web_url":"https://gitlab.com/Andysoiron"},{"id":6503748,"username":"AdrianLC","name":"Adrián López Calvo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6503748/avatar.png","web_url":"https://gitlab.com/AdrianLC"}],"author":{"id":6503748,"username":"AdrianLC","name":"Adrián López Calvo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6503748/avatar.png","web_url":"https://gitlab.com/AdrianLC"},"type":"ISSUE","assignee":{"id":16943,"username":"Andysoiron","name":"Andy Soiron","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/16943/avatar.png","web_url":"https://gitlab.com/Andysoiron"},"user_notes_count":23,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/346339","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":49,"completed_count":10},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"10 of 49 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/346339","notes":"https://gitlab.com/api/v4/projects/278964/issues/346339/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/346339/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#346339","relative":"#346339","full":"gitlab-org/gitlab#346339"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":97789216,"iid":346333,"project_id":278964,"title":"Deprecate usage_data.rb","description":"Deprecate usage of usage_data.rb to add metrics to Usage Ping JSON payload\n\nAfter having usage ping generated using metrics instrumentation classes we can deprecate `usage_data.rb`\n\nWe should deprecate the usage of usage_data.rb in favor of instrumentation classes.\n\nAdd a note in `usage_data.rb` to mention that this file is deprecated.","state":"closed","created_at":"2021-11-23T08:40:38.674Z","updated_at":"2022-02-04T06:15:17.155Z","closed_at":"2021-11-30T09:17:27.851Z","closed_by":{"id":8198564,"username":"rkadam3","name":"Rajendra Kadam","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8198564/avatar.png","web_url":"https://gitlab.com/rkadam3"},"labels":["backend","devops::growth","group::product intelligence","section::growth","type::maintenance","workflow::production"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[{"id":8198564,"username":"rkadam3","name":"Rajendra Kadam","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8198564/avatar.png","web_url":"https://gitlab.com/rkadam3"}],"author":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"type":"ISSUE","assignee":{"id":8198564,"username":"rkadam3","name":"Rajendra Kadam","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8198564/avatar.png","web_url":"https://gitlab.com/rkadam3"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/346333","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/346333","notes":"https://gitlab.com/api/v4/projects/278964/issues/346333/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/346333/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#346333","relative":"#346333","full":"gitlab-org/gitlab#346333"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5971,"epic":{"id":268176,"iid":5971,"title":"Deprecate usage_data.rb","url":"/groups/gitlab-org/-/epics/5971","group_id":9970,"human_readable_end_date":"Mar 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null}]