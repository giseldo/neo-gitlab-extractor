[{"id":18182215,"iid":9726,"project_id":278964,"title":"Usage ping for epics_deepest_relationship_level should not be 1 for most non-EEU cases","description":"I was looking into the usage ping data.\n\nI saw a lot of non-EEU usage pings have that have `epics_deepest_relationship_level=1`, when I think it should be null.\n\nIf your instance has never had epics before, this value should be null. If your instance had epics before (but no longer have access because you lost your license), you should probably still send some number because epics are in the database and it's probably 1 or greater.","state":"closed","created_at":"2019-02-12T19:59:23.517Z","updated_at":"2022-05-19T16:13:44.006Z","closed_at":"2019-04-17T15:51:04.890Z","closed_by":{"id":572018,"username":"nick.thomas","name":"Nick Thomas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/572018/avatar.png","web_url":"https://gitlab.com/nick.thomas"},"labels":["Enterprise Edition","backend","devops::plan","group::product intelligence","priority::2","severity::3","type::bug","workflow::in review"],"milestone":{"id":655280,"iid":28,"group_id":9970,"title":"11.11","description":"","state":"closed","created_at":"2018-09-21T19:08:37.027Z","updated_at":"2019-06-10T14:39:00.009Z","due_date":"2019-05-22","start_date":"2019-04-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/28"},"assignees":[{"id":2880930,"username":"engwan","name":"Heinrich Lee Yu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2880930/avatar.png","web_url":"https://gitlab.com/engwan"}],"author":{"id":711023,"username":"victorwu","name":"Victor Wu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/711023/avatar.png","web_url":"https://gitlab.com/victorwu"},"type":"ISSUE","assignee":{"id":2880930,"username":"engwan","name":"Heinrich Lee Yu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2880930/avatar.png","web_url":"https://gitlab.com/engwan"},"user_notes_count":1,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/9726","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/9726","notes":"https://gitlab.com/api/v4/projects/278964/issues/9726/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/9726/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#9726","relative":"#9726","full":"gitlab-org/gitlab#9726"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":18181192,"iid":9725,"project_id":278964,"title":"Pin the minor version of Security Products (tools and analyzers) in the vendored templates","description":"### Problem to solve\n\nUpdating every instances in the world at once each time we release a new version of our Security Products is risky. \n\nWhile this gives us more flexibility to push updates it also could cause huge troubles because with time it's really hard to ensure every pieces will keep working seamlessly together. We also don't have a fully backward compatibility testing process, e.g. we don't test our new released tools with GitLab `10.x` or `11.x`.\n\nThis is also particularly true as we currently don't have a process to publish release candidates.\n\n### Further details\n\nFor main tools (SAST, Dependency Scanning, Container Scanning, License Management) we override the `Major` docker image tag every month when there is a new version of GitLab.\nAll these `Major` images are actually acting as a compatibility matrix layer.\n\nWhen we release a new version of a tool:\n1. we publish a new semantic version with a git tag: `1.2.4`\n1. we publish a corresponding docker image: `sast:1.2.4`\n1. we override the corresponding major docker image: `sast:1`\n\n**The step `3` is the main issue and the behavior we need to change.**\n\n### Proposal\n\nTo address the issue of having all instances in the world pulling instantly the latest version of our tool, we should pin to the `minor` version of our analyzers instead of the `major`.\n\nHere is an example of how it would end up:\n- GitLab `11.8` uses the `sast:1.3` docker image.\n- We publish sast `1.4.0`, which also creates a `sast:1.4` docker image.\n- GitLab `11.8` still uses sast `1.3` has the `sast:1.3` docker image has not changed.\n- We update the vendored include to use `sast:1.4` and when GitLab `11.9` is released, it uses sast `1.4`.\n\nIf we have a bug to fix:\n- We publish sast `1.3.1`, which also override the `sast:1.3` docker image.\n- GitLab `11.8` immediately get the patched version\n\n### Pros and Cons\n\n#### Pros:\n\n1. Make it simpler for all stakeholders:\n    - release process and CI configuration will be simpler and more straightforward\n    - each version of GitLab has a specific version of the Security Tools explicitly listed in the vendored template\n    - newcomers won't have to deal with this unusual versioning and spend time figuring out how it works\n1. this is a common behavior when dealing with dependencies: pinning a minor to get all patches automatically but not the new features to avoid unwanted changes. It makes sense to ask our users to update to the latest version of GitLab to benefit from new features and it reduces the risk of breaking things as time goes. At the pace of changes happening on the product, this seems to be a safer approach.\n1. allow us moving forward quicker than when trying to keep all changes fully compatible with old releases of GitLab. Remember, we publish a major release only once a year now.\n\n\n#### Cons:\n\n1. by pinning to major `2` docker images, we're pushing the latest update of our tools, including the vulnerability rules/definitions to all customers. This means there is currently no need to update GitLab to the latest monthly release to benefit from up-to-date vulnerability detection capabilities. If we break this, what's the plan to keep the old instances up-to-date?\n    - Olivier: let's investigate on this. How many tools/analyzers are concerned with this (some of them already benefit from live update at runtime). We could also look for how many times these concerned tools/analyzers have been updated since they've been added. Ultimately, this kind of update could end up in the backport process. E.g. pushing the update to `1.5.x`, `1.4.x`, `1.3.x`, etc. \n1. pushing updates to our tools is becoming more dependent on the Rails application release process as we need to bump the pinned version in the vendored template. Though, this also come with more stability and robustness as we ensure full QA before using a new release. And as mentioned in the proposal, by pining to a Minor, we can still push patches immediately without going through a release of the GitLab Rails application.\n1. as we officially need to support the last 3 major versions of Gitlab, this can imply some overhead in maintenance and we probably should have a well-defined guideline about how to release our tool: When should I bump a `minor` or a `patch`? What needs to be backported to previous minor releases? How far? And how to do it? \n\n\n#### Tasks:\n\n\n* [ ] update the vendored templates https://gitlab.com/gitlab-org/gitlab-ee/blob/master/lib/gitlab/ci/templates/Security to use the new `major.minor` image tag instead of `major`\n   * [ ] `SAST.gitlab-ci.yml`\n   * [ ] `Dependency-Scanning.gitlab-ci.yml`\n   * [ ] `License-Scanning.gitlab-ci.yml`\n   * [ ] `Container-Scanning.gitlab-ci.yml`\n   * [ ] `Secure-Binaries.gitlab-ci.yml`\n* [ ] update the release process documentation to add a step to update the vendored template when releasing a tool or an analyzer\n* [ ] update the CI config for SAST, DS, CS, and LM \n   * [ ] build the `major.minor` docker image tag along with `major.minor.patch` and `major` ones.\n   * [ ] stop releasing `x-y-stable` Docker tags for tag builds\n\n### What does success look like, and how can we measure that?\n\nWe publish docker images matching semantic versions of our tools\n\n### What is the type of buyer? \n\n~\"GitLab Ultimate\" \n\n### Links / references\n\n[Product documentation to be updated](https://docs.gitlab.com/ee/user/application_security/index.html#maintenance-and-update-of-the-vulnerabilities-database)","state":"closed","created_at":"2019-02-12T19:22:03.416Z","updated_at":"2022-01-12T10:40:40.447Z","closed_at":"2020-07-28T14:29:48.575Z","closed_by":{"id":3652047,"username":"twoodham","name":"Thomas Woodham","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3652047/avatar.png","web_url":"https://gitlab.com/twoodham"},"labels":["Enterprise Edition","[deprecated] Accepting merge requests","backend","backstage [DEPRECATED]","devops::secure","group::static analysis","missed:11.11","missed:12.1","missed:12.5","secure experience","secure:refinement-backend"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[{"id":3652047,"username":"twoodham","name":"Thomas Woodham","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3652047/avatar.png","web_url":"https://gitlab.com/twoodham"}],"author":{"id":52092,"username":"gonzoyumo","name":"Olivier Gonzalez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/651e0ff81c3995a05269f7c80895fe89?s=80\u0026d=identicon","web_url":"https://gitlab.com/gonzoyumo"},"type":"ISSUE","assignee":{"id":3652047,"username":"twoodham","name":"Thomas Woodham","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3652047/avatar.png","web_url":"https://gitlab.com/twoodham"},"user_notes_count":62,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/9725","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":10,"completed_count":0},"weight":13,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 10 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/9725","notes":"https://gitlab.com/api/v4/projects/278964/issues/9725/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/9725/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#9725","relative":"#9725","full":"gitlab-org/gitlab#9725"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3246,"epic":{"id":51772,"iid":3246,"title":"Simplify \u0026 Cleanup","url":"/groups/gitlab-org/-/epics/3246","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e day remaining"},"iteration":null,"health_status":null},{"id":24689216,"iid":26695,"project_id":278964,"title":"Ability to add your scopes to the app + text injection in OAuth","description":"**[HackerOne report #494530](https://hackerone.com/reports/494530)** by `executor` on 2019-02-11, assigned to `dappelt`:\n\nHello again! Found that in applications (https://gitlab.com/profile/applications) the scope that we pass in the request when creating and editing the application is not checked. It turns out that we can pass your scope, with its text. I decided to try it and I did it!  \n![Screenshot_1.png](https://h1.sec.gitlab.net/a/494530/422083/Screenshot_1.png)  \nBut it didn't give any strong result..  \nThen I got the idea, and what if the scope to write the text that it was displayed OAuth authorization  \nThe first problem I encountered was a problem. Any space between the two words shared a single scope on several scopes.  \nThe solution to this problem came almost immediately, I decided to try to replace the space with another space (alt+255 on numpad keyboard)  \n![Screenshot_2.png](https://h1.sec.gitlab.net/a/494530/422088/Screenshot_2.png)  \nRequest  \n```  \nPOST /oauth/applications HTTP/1.1  \nHost: gitlab.com  \nCache-Control: max-age=0  \nOrigin: https://gitlab.com  \nUpgrade-Insecure-Requests: 1  \nUser-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/70.0.3538.102 Safari/537.36 OPR/57.0.3098.116  \nAccept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8  \nReferer: https://gitlab.com/profile/applications  \nAccept-Encoding: gzip, deflate, br  \nAccept-Language: ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7  \nCookie: _gitlab_session=session;   \nContent-Length: 967  \nContent-Type: application/x-www-form-urlencoded  \nConnection: keep-alive\n\nutf8=%E2%9C%93\u0026authenticity_token=token\u0026doorkeeper_application%5Bname%5D=govon\u0026doorkeeper_application%5Bredirect_uri%5D=http%3A%2F%2Flocalhost\u0026doorkeeper_application%5Bscopes%5D%5B%5D=api\u0026doorkeeper_application%5Bscopes%5D%5B%5D=read_user\u0026doorkeeper_application%5Bscopes%5D%5B%5D=sudo\u0026doorkeeper_application%5Bscopes%5D%5B%5D=read_repository\u0026doorkeeper_application%5Bscopes%5D%5B%5D=read_registry\u0026doorkeeper_application%5Bscopes%5D%5B%5D=After%C2%A0clicking%C2%A0on%C2%A0the%C2%A0%22Authorize%22%C2%A0you%C2%A0will%C2%A0receive%C2%A0a%C2%A0gold%C2%A0tariff\u0026doorkeeper_application%5Bscopes%5D%5B%5D=You%C2%A0will%C2%A0receive%C2%A0the%C2%A0tariff%C2%A0only%C2%A0after%C2%A0clicking%C2%A0on%C2%A0the%C2%A0%22authorize%22\u0026doorkeeper_application%5Bscopes%5D%5B%5D=All%C2%A0rights%C2%A0that%C2%A0you%C2%A0have%C2%A0requested%C2%A0will%C2%A0not%C2%A0be%C2%A0used%C2%A0after%C2%  \n```\n\nThen I decided to check all this on OAuth authorization\n\n![Screenshot_3.png](https://h1.sec.gitlab.net/a/494530/422092/Screenshot_3.png)\n\nEverything works fine, as seen in the screenshot.  \n\n\u003cdetails\u003e\u003csummary\u003eProof of Concept\u003c/summary\u003e\n\nATTENTION: This PoC is a real app that will get your GitLab API token if you click Authorize. If you open it, either close the window or click Deny.\n\n```\nhttps://goo.gl/8qTxRE\n```\n\n\u003c/details\u003e\n\n\n## Impact\n\nInattentive user can read only the bottom lines and lead to phishing. As a result, we will have a victim token.\n\n## Attachments\n**Warning:** Attachments received through HackerOne, please exercise caution!\n* [Screenshot_1.png](https://h1.sec.gitlab.net/a/494530/422083/Screenshot_1.png)\n* [Screenshot_2.png](https://h1.sec.gitlab.net/a/494530/422088/Screenshot_2.png)\n* [Screenshot_3.png](https://h1.sec.gitlab.net/a/494530/422092/Screenshot_3.png)","state":"closed","created_at":"2019-02-12T14:38:53.795Z","updated_at":"2022-07-07T12:54:27.338Z","closed_at":"2021-09-30T03:33:33.870Z","closed_by":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"labels":["Category:Authentication and Authorization","Epic 6340","FY22::Q3","HackerOne","devops::manage","group::authentication and authorization","priority::3","section::dev","security","security-backlog::valid","severity::3"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"}],"author":{"id":2741139,"username":"gitlab-securitybot","name":"GitLab SecurityBot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2741139/avatar.png","web_url":"https://gitlab.com/gitlab-securitybot"},"type":"ISSUE","assignee":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"user_notes_count":17,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2019-04-23","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/26695","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":1,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/26695","notes":"https://gitlab.com/api/v4/projects/278964/issues/26695/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/26695/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#26695","relative":"#26695","full":"gitlab-org/gitlab#26695"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":1322,"epic":{"id":7382,"iid":1322,"title":"Security: Confidential S2/S3","url":"/groups/gitlab-org/-/epics/1322","group_id":9970,"human_readable_end_date":"Oct 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":24689205,"iid":26693,"project_id":278964,"title":"Expanding/collapsing diff in large MR should happen instantly","description":"### Summary\n\nExpanding/collapsing a diff on a file in large MRs is unnecessary slow even after the diff has been already fetched and loaded. The smaller MR is, the less noticeable the issue, but I tried on a large MR with the following summary:\n\n* 248 changes\n* 40 changes\n* 248 files edited\n\nStatistics for a particular file I tried with in this MR (though the same is true for all files in this MR):\n\n* +55\n* -61\n\n### Steps to reproduce\n\nLoad diff (\"Changes\" tab) for such large MR with a file that has a lot of changes. Click `˅` icon in front of the file's name if it is expanded (`˃` if the diff for file is collapsed). Loading diff or collapsing in my case took 2.6 seconds (see the screenshot).\n\n### Example Project\n\nMerge Requests numbers 2 and 6 in GDK-generated version of CE.\n\n### What is the current *bug* behavior?\n\nExpanding and collapsing a diff for a file takes way too long and is unexpected considering that the diff has already been fetched and rendered on the screen.\n\n### What is the expected *correct* behavior?\n\nCollapsing/expanding should happen instantly. At least from the user experience point of view.\n\n### Relevant logs and/or screenshots\n\n![Screenshot_2019-02-12_at_14.20.33](/uploads/26695fb422528fd9cc6100970edb28ea/Screenshot_2019-02-12_at_14.20.33.png)","state":"closed","created_at":"2019-02-12T13:32:03.129Z","updated_at":"2021-04-21T16:21:15.633Z","closed_at":"2020-03-11T22:40:28.537Z","closed_by":{"id":4017300,"username":"jboyson","name":"Justin Boyson","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4017300/avatar.png","web_url":"https://gitlab.com/jboyson"},"labels":["Category:Code Review Workflow","Deliverable","bug::performance","devops::create","diff","frontend","group::code review","merge requests","missed-SLO","priority::2","regression","regression:11.8","severity::2","type::bug","workflow::ready for development"],"milestone":{"id":1001916,"iid":44,"group_id":9970,"title":"12.9","description":"https://about.gitlab.com/releases/2020/03/22/gitlab-12-9-released","state":"closed","created_at":"2019-09-15T20:54:50.875Z","updated_at":"2020-09-02T11:04:41.671Z","due_date":"2020-03-17","start_date":"2020-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/44"},"assignees":[{"id":4017300,"username":"jboyson","name":"Justin Boyson","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4017300/avatar.png","web_url":"https://gitlab.com/jboyson"}],"author":{"id":3199302,"username":"dmishunov","name":"Denys Mishunov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d85e45af29611ac2c1395e3c3d6ec5d6?s=80\u0026d=identicon","web_url":"https://gitlab.com/dmishunov"},"type":"ISSUE","assignee":{"id":4017300,"username":"jboyson","name":"Justin Boyson","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4017300/avatar.png","web_url":"https://gitlab.com/jboyson"},"user_notes_count":25,"merge_requests_count":0,"upvotes":8,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/26693","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":4,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/26693","notes":"https://gitlab.com/api/v4/projects/278964/issues/26693/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/26693/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#26693","relative":"#26693","full":"gitlab-org/gitlab#26693"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":24689195,"iid":26691,"project_id":278964,"title":"Add \"maximum commits behind\" check before merge","description":"### Problem to solve\n\nMerging into a branch comes with certain risks, depending on how out of date the source branch is vs. the target. For a simple example, someone in the target branch may have removed a dependency that the source branch still needs. There's no merge conflict so the merge can go through, but there's a semantic problem that will result in everything not working.\n\nWe are addressing more advanced strategies for these kinds of pipelines by https://gitlab.com/gitlab-org/gitlab-ee/issues/9186, but a basic and easy to understand mitigation strategy could help immediately and allow more teams to immediately adopt https://gitlab.com/gitlab-org/gitlab-ee/issues/7380.\n\nEven aside from those scenarios, having a simple rule for this can help nearly any project avoid broken masters. This feature can be considered a simple version of the more advanced EE feature.\n\n### Target audience\n\n- Delaney, Development Team Lead, https://design.gitlab.com/research/personas#persona-delaney\n\n- Sasha, Software Developer, https://design.gitlab.com/research/personas#persona-sasha\n\n### Further details\n\nThis would be further improved with automatic or scheduled rebasing: https://gitlab.com/gitlab-org/gitlab-ee/issues/895\n\n### Solution\n\nWithout having to analyze and understand interdependencies of everything in the project, we can help mitigate this by setting a maximum difference between the source and target branch in terms of number of commits. An elegant way to do this is to take the average number of commits per day (looking at a one month period) in the project and disallow merges that are \u003e than that value behind. This helps in a couple different scenarios. Imagine a project with 25 commits per day:\n\n- On an average day with about 25 commits happening, you can be about a day behind and there is no issue. You will only be prompted to rebase when you want to merge and are more than a day behind.\n- In a \"code freeze\" situation where 75 commits are happening in a day, the risk is much higher that all of the things coming in will have semantic incompatibilities with each other. By using the average commits per day value, we automatically scale the number of rebases needed on that day in order to keep things more likely to succeed.\n\nBecause we don't know exactly how to tune this best, it makes sense to have two feature flags available to control the behavior.\n\n- With feature flag 1 enabled, the maximum amount behind should be 1x the average commits per day value\n- With feature flag 2 enabled, the maximum amount behind should be 2x the average commits per day value\n- Both enabled should be considered invalid and disable the feature.\n\n#### Design\n\n\n- Add in check option of maximum commits behind\n- Design relies on settings restructuring which is part of https://gitlab.com/gitlab-org/gitlab-ee/issues/7380\n- Includes commit count\n- When double value FF enabled copy should state ~~`Source branch cannot be more than double the monthly average commits per day (30) behind the target branch`~~ =\u003e `(30)` got removed =\u003e `Source branch cannot be more than double the monthly average commits per day behind the target branch`\n\n![maximum_commits_behind_check](https://gitlab.com/gitlab-org/gitlab/uploads/64965262d7436293acdf1a0cc542463f/maximum_commits_behind_check.jpg)\n\n### What does success look like, and how can we measure that?\n\nTBD\n\n### What is the type of buyer? \n\nIndividual Contributor\n\n### Links / references\n\n- Thanks to @dosuken123 for the nice idea\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2019-02-12T12:27:33.728Z","updated_at":"2022-05-02T16:29:35.733Z","closed_at":"2022-05-02T16:29:35.708Z","closed_by":{"id":2935693,"username":"phikai","name":"Kai Armstrong","state":"active","avatar_url":"https://secure.gravatar.com/avatar/2c5d6a63b41cbeb3ea4cccda82e758e1?s=80\u0026d=identicon","web_url":"https://gitlab.com/phikai"},"labels":["Category:Continuous Delivery","Category:Source Code Management","Persona: Development Team Lead","Persona: Software developer","Release::P3","UX","[deprecated] Accepting merge requests","devops::release","direction","frontend","group::release","internal customer","section::ops","type::feature","workflow::ready for development"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":2243533,"username":"jyavorska","name":"Jason Yavorska","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2243533/avatar.png","web_url":"https://gitlab.com/jyavorska"},"type":"ISSUE","assignee":null,"user_notes_count":26,"merge_requests_count":0,"upvotes":10,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/26691","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/26691","notes":"https://gitlab.com/api/v4/projects/278964/issues/26691/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/26691/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#26691","relative":"#26691","full":"gitlab-org/gitlab#26691"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":18158759,"iid":9712,"project_id":278964,"title":"Geo: PruneEventLogWorker fails when `event_log_min_id` is nil","description":"Seen in staging: https://sentry.gitlab.net/gitlab/staginggitlabcom/issues/638239\n\n```\nNoMethodError: undefined method `-' for nil:NilClass\n  from geo/prune_event_log_service.rb:44:in `prune!'\n  from geo/prune_event_log_service.rb:27:in `block (2 levels) in execute'\n  from geo/prune_event_log_service.rb:23:in `each'\n  from geo/prune_event_log_service.rb:23:in `reduce'\n  from geo/prune_event_log_service.rb:23:in `block in execute'\n  from exclusive_lease_guard.rb:29:in `try_obtain_lease'\n  from geo/prune_event_log_service.rb:20:in `execute'\n  from geo/prune_event_log_worker.rb:26:in `perform'\n  from sidekiq/processor.rb:185:in `execute_job'\n  from sidekiq/processor.rb:167:in `block (2 levels) in process'\n  from sidekiq/middleware/chain.rb:128:in `block in invoke'\n  from gitlab/metrics/sidekiq_middleware.rb:15:in `block in call'\n  from gitlab/metrics/transaction.rb:55:in `run'\n  from gitlab/metrics/sidekiq_middleware.rb:15:in `call'\n  from sidekiq/middleware/chain.rb:130:in `block in invoke'\n  from gitlab/sidekiq_status/server_middleware.rb:7:in `call'\n  from sidekiq/middleware/chain.rb:130:in `block in invoke'\n  from gitlab/sidekiq_middleware/correlation_logger.rb:10:in `block in call'\n  from gitlab/correlation_id.rb:15:in `use_id'\n  from gitlab/sidekiq_middleware/correlation_logger.rb:9:in `call'\n  from sidekiq/middleware/chain.rb:130:in `block in invoke'\n  from gitlab/sidekiq_middleware/batch_loader.rb:7:in `call'\n  from sidekiq/middleware/chain.rb:130:in `block in invoke'\n  from gitlab/sidekiq_middleware/request_store_middleware.rb:8:in `call'\n  from sidekiq/middleware/chain.rb:130:in `block in invoke'\n  from gitlab/sidekiq_middleware/shutdown.rb:54:in `call'\n  from sidekiq/middleware/chain.rb:130:in `block in invoke'\n  from raven/integrations/sidekiq.rb:9:in `call'\n  from sidekiq/middleware/chain.rb:130:in `block in invoke'\n  from sidekiq/middleware/chain.rb:133:in `invoke'\n  from sidekiq/processor.rb:166:in `block in process'\n  from sidekiq/processor.rb:137:in `block (6 levels) in dispatch'\n  from sidekiq/job_retry.rb:108:in `local'\n  from sidekiq/processor.rb:136:in `block (5 levels) in dispatch'\n  from sidekiq/rails.rb:43:in `block in call'\n  from active_support/execution_wrapper.rb:85:in `wrap'\n  from active_support/reloader.rb:68:in `block in wrap'\n  from active_support/execution_wrapper.rb:85:in `wrap'\n  from active_support/reloader.rb:67:in `wrap'\n  from sidekiq/rails.rb:42:in `call'\n  from sidekiq/processor.rb:132:in `block (4 levels) in dispatch'\n  from sidekiq/processor.rb:243:in `stats'\n  from sidekiq/processor.rb:127:in `block (3 levels) in dispatch'\n  from gitlab/sidekiq_logging/structured_logger.rb:16:in `call'\n  from sidekiq/processor.rb:126:in `block (2 levels) in dispatch'\n  from sidekiq/job_retry.rb:73:in `global'\n  from sidekiq/processor.rb:125:in `block in dispatch'\n  from sidekiq/logging.rb:48:in `with_context'\n  from sidekiq/logging.rb:42:in `with_job_hash_context'\n  from sidekiq/processor.rb:124:in `dispatch'\n  from sidekiq/processor.rb:165:in `process'\n  from sidekiq/processor.rb:83:in `process_one'\n  from sidekiq/processor.rb:71:in `run'\n  from sidekiq/util.rb:16:in `watchdog'\n  from sidekiq/util.rb:25:in `block in safe_thread'\n```","state":"closed","created_at":"2019-02-12T06:40:48.395Z","updated_at":"2019-12-11T20:03:33.394Z","closed_at":"2019-02-21T10:44:54.116Z","closed_by":{"id":443319,"username":"smcgivern","name":"Sean McGivern","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/443319/avatar.png","web_url":"https://gitlab.com/smcgivern"},"labels":["Enterprise Edition","Geo Administration","devops::systems","group::geo","priority::4","severity::4","type::bug","workflow::in review"],"milestone":{"id":523180,"iid":18,"group_id":9970,"title":"11.9","description":"https://about.gitlab.com/releases/2019/03/22/gitlab-11-9-released/","state":"closed","created_at":"2018-05-09T14:56:19.024Z","updated_at":"2020-04-30T19:56:35.917Z","due_date":"2019-03-22","start_date":"2019-02-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/18"},"assignees":[{"id":660180,"username":"toon","name":"Toon Claes","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/660180/avatar.png","web_url":"https://gitlab.com/toon"}],"author":{"id":64248,"username":"stanhu","name":"Stan Hu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/64248/stanhu.jpg","web_url":"https://gitlab.com/stanhu"},"type":"ISSUE","assignee":{"id":660180,"username":"toon","name":"Toon Claes","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/660180/avatar.png","web_url":"https://gitlab.com/toon"},"user_notes_count":1,"merge_requests_count":2,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/9712","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/9712","notes":"https://gitlab.com/api/v4/projects/278964/issues/9712/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/9712/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#9712","relative":"#9712","full":"gitlab-org/gitlab#9712"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":18139983,"iid":9704,"project_id":278964,"title":"Tech debt: migrate UserTabs to Vue","description":"### Problem to solve\n\n[app/assets/javascripts/pages/users/user_tabs.js](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/assets/javascripts/pages/users/user_tabs.js) has a lot of jQuery and legacy JavaScript. It is also quite hard to follow. We should migrate this to Vue to reduce technical debt. \n\nThis should be completed after https://gitlab.com/gitlab-org/gitlab/-/issues/23466 since [app/assets/javascripts/pages/groups/shared/group_tabs.js](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/assets/javascripts/pages/groups/shared/group_tabs.js) relies on [app/assets/javascripts/pages/users/user_tabs.js](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/assets/javascripts/pages/users/user_tabs.js).","state":"closed","created_at":"2019-02-11T14:45:15.293Z","updated_at":"2022-10-21T07:53:54.220Z","closed_at":"2022-10-21T07:51:58.497Z","closed_by":{"id":11485419,"username":"lohrc","name":"Christina Lohr","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11485419/avatar.png","web_url":"https://gitlab.com/lohrc"},"labels":["Category:Subgroups","Enterprise Edition","[deprecated] Accepting merge requests","devops::manage","frontend","group::organization","maintenance::refactor","priority::4","section::dev","severity::4","type::maintenance","workflow::blocked"],"milestone":null,"assignees":[],"author":{"id":3337413,"username":"vzagorodny","name":"Victor Zagorodny","state":"blocked","avatar_url":"https://secure.gravatar.com/avatar/56410d67aa18e03b13e1585d436bf313?s=80\u0026d=identicon","web_url":"https://gitlab.com/vzagorodny"},"type":"ISSUE","assignee":null,"user_notes_count":14,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/9704","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/9704","notes":"https://gitlab.com/api/v4/projects/278964/issues/9704/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/9704/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#9704","relative":"#9704","full":"gitlab-org/gitlab#9704"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":18134428,"iid":9703,"project_id":278964,"title":"Track clicks on the issue sidebars","description":"### Problem to solve\n\nWe should track interactions with the issue sidebar.\n\n\n### Proposal\n\nCurrently, the sidebar looks like this:\n![image](/uploads/b2b0327dac51d991ae06bc6d8c64b65e/image.png)\n\nFire an event in the following cases:\n\n* Assignee edit button clicked: `('trackStructEvent','issues','click_edit_button','right_sidebar','assignee',''`\n* Milestone edit button clicked: `('trackStructEvent','issues','click_edit_button','right_sidebar','milestone',''`\n* Due date edit button clicked: `('trackStructEvent','issues','click_edit_button','right_sidebar','due_date',''`\n* Labels edit button clicked: `('trackStructEvent','issues','click_edit_button','right_sidebar','labels',''`\n* Weight edit button clicked: `('trackStructEvent','issues','click_edit_button','right_sidebar','weight',''`\n* Confidentiality edit button clicked: `('trackStructEvent','issues','click_edit_button','right_sidebar','confidentiality',''`\n* Lock issue edit button clicked: `('trackStructEvent','issues','click_edit_button','right_sidebar','lock_issue',''`\n* Add Todo button clicked: `('trackStructEvent','issues','click_button','right_sidebar','update_todo',''`\n* Move issue button clicked: `('trackStructEvent','issues','click_button','right_sidebar','move_issue',''`\n* Notifications state is on: `('trackStructEvent','issues','toggle_button','right_sidebar','notifications',1`\n* Notifications state is off: `('trackStructEvent','issues','toggle_button','right_sidebar','notifications',0`\n\n### What does success look like, and how can we measure that?\n\n\u003c!--- Define both the success metrics and acceptance criteria. Note that success metrics indicate the desired business outcomes, while acceptance criteria indicate when the solution is working correctly. If there is no way to measure success, link to an issue that will implement a way to measure this --\u003e\n\n\n### Links / references","state":"closed","created_at":"2019-02-11T13:21:32.305Z","updated_at":"2022-05-19T16:13:42.899Z","closed_at":"2019-08-21T19:12:08.361Z","closed_by":{"id":408677,"username":"ClemMakesApps","name":"Clement Ho","state":"active","avatar_url":"https://secure.gravatar.com/avatar/013b4af8b474654bce8039ecd262a84a?s=80\u0026d=identicon","web_url":"https://gitlab.com/ClemMakesApps"},"labels":["Enterprise Edition","backstage [DEPRECATED]","devops::plan","frontend","group::project management","internal customer","snowplow tracking events","workflow::in review"],"milestone":{"id":731038,"iid":37,"group_id":9970,"title":"12.3","description":"https://about.gitlab.com/releases/2019/09/22/gitlab-12-3-released/","state":"closed","created_at":"2018-12-07T12:40:55.400Z","updated_at":"2020-04-23T21:06:04.173Z","due_date":"2019-09-17","start_date":"2019-08-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/37"},"assignees":[{"id":3507264,"username":"donaldcook","name":"Donald Cook","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3507264/avatar.png","web_url":"https://gitlab.com/donaldcook"}],"author":{"id":2994750,"username":"tszuromi","name":"Tamas Szuromi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2994750/avatar.png","web_url":"https://gitlab.com/tszuromi"},"type":"ISSUE","assignee":{"id":3507264,"username":"donaldcook","name":"Donald Cook","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3507264/avatar.png","web_url":"https://gitlab.com/donaldcook"},"user_notes_count":7,"merge_requests_count":1,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/9703","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/9703","notes":"https://gitlab.com/api/v4/projects/278964/issues/9703/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/9703/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#9703","relative":"#9703","full":"gitlab-org/gitlab#9703"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":24689138,"iid":26673,"project_id":278964,"title":"HTML injection issue in snippets via name parameter","description":"**[HackerOne report #493154](https://hackerone.com/reports/493154)** by `rz01` on 2019-02-08, assigned to `dappelt`:\n\nHello Gitlab Team,\n\n## Summary\nI found an HTML injection which is caused by the \"full name\" parameter being reflected as html when you insert a comment to a snippet. The problem is that there's a missing server-side validation in profile \"Full Name\" input and so if an user insert malicious html chars inside the first_name field it's possible to store the html in your server. \n\n## Vulnerability Live Example\n\n[REDACTED]\n\nJust click on \"Open\" or on my username and instead of being redirected to my profile (as it should be) you will be redirected to a malicious link (not existing)\n\n## Affected Parameter\n\nFull Name input\n\n## Tested from\n\nFirefox (latest) / Ubuntu 18.04\n\n## HTML injection Payload\n\n`\u003ch1\u003e\u003ca href=\"https://notmy.link/malicious.exe\" class=\"pwned\"\u003eHTML\u003c/h1\u003e`\n\n\n## Video/PoC\n\n[REDACTED]\n\n\nIf clicked this link redirects to the domain i insert in fullname, which doesn't exist but a potential attacker could change it with a phishing domain for example or a malicious website.\n\n## Steps to Reproduce\n* Go to the following url \u003e https://gitlab.com/profile\n\n* Add the HTML Payload inside your \"Full Name\" input\n\n* Go to the following url \u003e [REDACTED]\n\n* Add a comment with random content and you will see the HTML injected in your \"Full Name\" field\n\n* Click on your name or your username and you will be redirected to https://notmy.link/malicious.exe\n\n* It's also possible to assign class and change the css of the a href tag using pre-existing gitlab classes from local css\n\n## Note\n I wasn't able to trigger an alert box at the moment but as you should know xss is not limited to an alert box. A potential attacker could add a comment under another user snippet and when that user clicks to see attacker's profile could be redirected to a malicious/phishing url. Also a normal user won't expect a malicious redirect by just pressing on another user profile name.\n\n\n\n## Suggested Fix\nAdd a stronger server-side validation on Full Name input in profile area or add a stronger HTML filter in snippets user full name\".\n\nBest Regards,  \nRoberto.\n\n## Impact\n\nExploiting this issue a potential attacker could steal other users' cookies or make other users execute malicious javascript code into their account. In addition to that a potential attacker could add a comment under another user snippet and when that user clicks to see attacker's profile could be redirected to a malicious/phishing url. Also a normal user won't expect a malicious redirect by just pressing on another user profile name.\n\n## Attachments\n**Warning:** Attachments received through HackerOne, please exercise caution!\n*[REDACTED]\n\n---\n\n## Testing Activity\n\n@fjsanpedro \n* Test that the user name is rendering the html name but as text and not as html\n\n## Security Testing Activities\n* Test that the user name is rendering the html name but as text and not as html\n\n## MR Breakdown\n* In https://gitlab.com/gitlab-org/gitlab/blob/master/app/views/shared/notes/_note.html.haml#L35 we call the method `sanitize` to clean the user name. Nevertheless, that method ends up calling `html_safe`. Therefore, if the `a` attribute is allowed, the user name will be rendered as html.\n\n* We can easily fix by replacing the method `sanitize` with `simple_sanitize`. Nevertheless, this method removes all html tags from the name. To be compliant with other parts of the platform, we shouldn't do this. In other features, we just render the user name without removing any data, just showing it as text instead of as HTML.\n\n* The fix will pass by removing the call to `sanitize` in that line, and just show the user name directly as text.\n\n* 1 MR to fix this and add the spec","state":"closed","created_at":"2019-02-11T10:54:08.259Z","updated_at":"2022-07-06T14:59:16.948Z","closed_at":"2020-06-16T16:07:56.074Z","closed_by":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier López","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"labels":["Category:Authentication and Authorization","Category:Snippets","HackerOne","Manage [DEPRECATED]","[deprecated] Accepting merge requests","backend","devops::create","group::editor","priority::3","security","severity::3","workflow::ready for development"],"milestone":{"id":1233746,"iid":49,"group_id":9970,"title":"13.2","description":"https://about.gitlab.com/releases/2020/07/22/gitlab-13-2-released/","state":"closed","created_at":"2020-04-09T17:28:01.032Z","updated_at":"2022-04-13T14:48:24.167Z","due_date":"2020-07-17","start_date":"2020-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/49"},"assignees":[],"author":{"id":2741139,"username":"gitlab-securitybot","name":"GitLab SecurityBot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2741139/avatar.png","web_url":"https://gitlab.com/gitlab-securitybot"},"type":"ISSUE","assignee":null,"user_notes_count":17,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2019-04-23","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/26673","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/26673","notes":"https://gitlab.com/api/v4/projects/278964/issues/26673/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/26673/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#26673","relative":"#26673","full":"gitlab-org/gitlab#26673"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":1322,"epic":{"id":7382,"iid":1322,"title":"Security: Confidential S2/S3","url":"/groups/gitlab-org/-/epics/1322","group_id":9970,"human_readable_end_date":"Oct 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":18076623,"iid":9684,"project_id":278964,"title":"Geo: Rename \"Disable\" to \"Pause|Resume\" (Admin \u003e Geo Nodes)","description":"We should rename \"Disable\" button to \"Pause|Resume\" because it's confusing now. We should also document it\n\nSee https://gitlab.com/gitlab-org/gitlab-ee/issues/9608 for details","state":"closed","created_at":"2019-02-08T14:31:31.157Z","updated_at":"2019-12-11T20:03:34.300Z","closed_at":"2019-04-12T12:22:22.444Z","closed_by":{"id":502136,"username":"fatihacet","name":"Fatih Acet","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/502136/avatar.png","web_url":"https://gitlab.com/fatihacet"},"labels":["Enterprise Edition","Geo Administration","devops::systems","frontend","group::geo","workflow::in review"],"milestone":{"id":655280,"iid":28,"group_id":9970,"title":"11.11","description":"","state":"closed","created_at":"2018-09-21T19:08:37.027Z","updated_at":"2019-06-10T14:39:00.009Z","due_date":"2019-05-22","start_date":"2019-04-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/28"},"assignees":[{"id":2293,"username":"brodock","name":"Gabriel Mazetto","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2293/avatar.png","web_url":"https://gitlab.com/brodock"}],"author":{"id":59678,"username":"vsizov","name":"Valery Sizov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/59678/avatar.png","web_url":"https://gitlab.com/vsizov"},"type":"ISSUE","assignee":{"id":2293,"username":"brodock","name":"Gabriel Mazetto","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2293/avatar.png","web_url":"https://gitlab.com/brodock"},"user_notes_count":0,"merge_requests_count":1,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/9684","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/9684","notes":"https://gitlab.com/api/v4/projects/278964/issues/9684/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/9684/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#9684","relative":"#9684","full":"gitlab-org/gitlab#9684"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":369,"epic":{"id":1104,"iid":369,"title":"Geo: Improve UI/UX on Administrator Panel","url":"/groups/gitlab-org/-/epics/369","group_id":9970},"iteration":null,"health_status":null},{"id":18075674,"iid":9682,"project_id":278964,"title":"Geo: Removing Geo nodes in the admin area","description":"As was discussed in https://gitlab.com/gitlab-org/gitlab-ee/issues/9608 we need to deny removing a primary node without removing all the secondaries first. \n\n\u003e Following on that, we could disable \"Remove\" and have a tooltip like \"Cannot remove a primary node if there is a secondary node\" to make it really explicit.\n\nWhen you remove the primary node from the API, it should return an error if there are any secondaries left.\n\n## Proposed design\n\n![button-layout](/uploads/80c2f19c32aac6c8aea6242e7c1c884e/button-layout.png)\n\n- The `remove` button is disabled if there are secondary nodes.\n\n## Reference\n\n- [disabled button - behavior](https://design.gitlab.com/components/button/#disabled)\n- [disabled button - component](https://gitlab-org.gitlab.io/gitlab-ui/?path=/story/base-button--default)\n","state":"closed","created_at":"2019-02-08T13:56:54.140Z","updated_at":"2020-03-31T17:59:16.714Z","closed_at":"2020-03-27T07:24:16.196Z","closed_by":{"id":2950912,"username":"ntepluhina","name":"Natalia Tepluhina","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2950912/avatar.png","web_url":"https://gitlab.com/ntepluhina"},"labels":["Enterprise Edition","Geo Administration","UX","devops::systems","frontend","group::geo","workflow::in review"],"milestone":null,"assignees":[{"id":4748809,"username":"zcuddy","name":"Zack Cuddy","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4748809/avatar.png","web_url":"https://gitlab.com/zcuddy"}],"author":{"id":59678,"username":"vsizov","name":"Valery Sizov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/59678/avatar.png","web_url":"https://gitlab.com/vsizov"},"type":"ISSUE","assignee":{"id":4748809,"username":"zcuddy","name":"Zack Cuddy","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4748809/avatar.png","web_url":"https://gitlab.com/zcuddy"},"user_notes_count":5,"merge_requests_count":1,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/9682","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/9682","notes":"https://gitlab.com/api/v4/projects/278964/issues/9682/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/9682/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#9682","relative":"#9682","full":"gitlab-org/gitlab#9682"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":369,"epic":{"id":1104,"iid":369,"title":"Geo: Improve UI/UX on Administrator Panel","url":"/groups/gitlab-org/-/epics/369","group_id":9970},"iteration":null,"health_status":null},{"id":18057478,"iid":9669,"project_id":278964,"title":"[Frontend] View epic relationships in epic","description":"Frontend Issue for: https://gitlab.com/gitlab-org/gitlab-ee/issues/7327\n\nPlease refer to \u003ca href=\"https://gitlab.com/gitlab-org/gitlab-ee/issues/7327\"\u003ethe description of the parent issue\u003c/a\u003e for up-to-date information.\n\nThis issue was created to track Frontend weight independently of Backend.\n\n# Some details\n\n* Adds a new Tab to Issues to show epic relationships","state":"closed","created_at":"2019-02-08T00:19:36.313Z","updated_at":"2022-05-19T16:13:42.175Z","closed_at":"2019-04-09T15:42:01.901Z","closed_by":{"id":711023,"username":"victorwu","name":"Victor Wu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/711023/avatar.png","web_url":"https://gitlab.com/victorwu"},"labels":["Category:Portfolio Management","Deliverable","Enterprise Edition","GitLab Ultimate","devops::plan","epics","frontend","internal customer","missed-deliverable","missed:11.10"],"milestone":{"id":655279,"iid":27,"group_id":9970,"title":"11.10","description":"","state":"closed","created_at":"2018-09-21T19:08:16.261Z","updated_at":"2019-05-21T09:17:49.051Z","due_date":"2019-04-22","start_date":"2019-03-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/27"},"assignees":[{"id":411701,"username":"kushalpandya","name":"Kushal Pandya","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/411701/avatar.png","web_url":"https://gitlab.com/kushalpandya"}],"author":{"id":853414,"username":"andr3","name":"André Luís","state":"active","avatar_url":"https://secure.gravatar.com/avatar/241e39726efb512a29621070ccf26a90?s=80\u0026d=identicon","web_url":"https://gitlab.com/andr3"},"type":"ISSUE","assignee":{"id":411701,"username":"kushalpandya","name":"Kushal Pandya","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/411701/avatar.png","web_url":"https://gitlab.com/kushalpandya"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/9669","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/9669","notes":"https://gitlab.com/api/v4/projects/278964/issues/9669/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/9669/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#9669","relative":"#9669","full":"gitlab-org/gitlab#9669"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":644,"epic":{"id":2457,"iid":644,"title":"View epic relationships in epics","url":"/groups/gitlab-org/-/epics/644","group_id":9970,"human_readable_end_date":"Oct 17, 2019","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":18056776,"iid":9667,"project_id":278964,"title":"[Frontend] Upload versioned designs","description":"Frontend Issue for: https://gitlab.com/gitlab-org/gitlab-ee/issues/9492\n\nPlease refer to \u003ca href=\"https://gitlab.com/gitlab-org/gitlab-ee/issues/9492\"\u003ethe description of the parent issue\u003c/a\u003e for up-to-date information.\n\nThis issue was created to track Frontend weight independently of Backend.\n\n# Proposal (from original issue)\n\u003e ### Proposal\n\u003e Working as a designer, I will be able to:\n\u003e - upload multiple images to the design section of an issue\n\u003e - create a new version of the design by uploading a new set of images\n\u003e \n\u003e Working as software engineer, or product manager, I will be able to:\n\u003e - click on a design to see more details\n\n\n# Some details\n\nThis will involve building a new Vue app to live within a new Tab on the Issues page.\n\nNote: Definitely could use some initial discussion on the architecture, feel free to ping me and other ~Create FEs.","state":"closed","created_at":"2019-02-07T23:10:23.256Z","updated_at":"2019-08-12T15:07:29.352Z","closed_at":"2019-04-09T11:01:27.069Z","closed_by":{"id":853414,"username":"andr3","name":"André Luís","state":"active","avatar_url":"https://secure.gravatar.com/avatar/241e39726efb512a29621070ccf26a90?s=80\u0026d=identicon","web_url":"https://gitlab.com/andr3"},"labels":["Category:Design Management","Create [DEPRECATED]","Deliverable","Enterprise Edition","GitLab Premium","devops::create","frontend","type::feature"],"milestone":{"id":655280,"iid":28,"group_id":9970,"title":"11.11","description":"","state":"closed","created_at":"2018-09-21T19:08:37.027Z","updated_at":"2019-06-10T14:39:00.009Z","due_date":"2019-05-22","start_date":"2019-04-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/28"},"assignees":[{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},{"id":626804,"username":"pedroms","name":"Pedro Moreira da Silva","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c306f087d191ac15549f3c11e3bed321?s=80\u0026d=identicon","web_url":"https://gitlab.com/pedroms"}],"author":{"id":853414,"username":"andr3","name":"André Luís","state":"active","avatar_url":"https://secure.gravatar.com/avatar/241e39726efb512a29621070ccf26a90?s=80\u0026d=identicon","web_url":"https://gitlab.com/andr3"},"type":"ISSUE","assignee":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"user_notes_count":9,"merge_requests_count":2,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/9667","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":7,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/9667","notes":"https://gitlab.com/api/v4/projects/278964/issues/9667/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/9667/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#9667","relative":"#9667","full":"gitlab-org/gitlab#9667"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":660,"epic":{"id":2542,"iid":660,"title":"Versioned designs with point of interest discussions","url":"/groups/gitlab-org/-/epics/660","group_id":9970,"human_readable_end_date":"Mar 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":18055022,"iid":9665,"project_id":278964,"title":"Vulnerability feedback information visible in public projects","description":"**[HackerOne report #490250](https://hackerone.com/reports/490250)** by `ashish_r_padelkar` on 2019-02-02, assigned to `estrike`:\n\n**Summary:**   \nHello,\n\nThere is a feature in project called `Security Dashboard` which is not visible publicly. When you browse security dashboard, the following endpoint is requested in background\n\n`https://gitlab.com/\u003cUserName\u003e/\u003cProjectName\u003e/vulnerability_feedback?category=dependency_scanning`\n\nThis endpoint is also visible publicly which i think it should not because it reveals some important information.\n\n\n**Description:**   \nThis endpoint also works in following scenario\n\n1. When public projects have below settings\n\n![Screenshot_2019-02-02_at_13.18.31.png](https://h1.sec.gitlab.net/a/490250/416627/Screenshot_2019-02-02_at_13.18.31.png)\n\n2. Guest in private projects too able to see this information.\n\n\n\n## Steps To Reproduce:  \n1. As a owner of public project set above settings shown in screen shot  \n2. Now access the url with/without authentication or another user `https://gitlab.com/\u003cUserName\u003e/\u003cProjectName\u003e/vulnerability_feedback?category=dependency_scanning`\n\n\n\nRegards,  \nAshish\n\n## Impact\n\nPublic project reveals security related information to unauthorised users\n\n## Attachments\n**Warning:** Attachments received through HackerOne, please exercise caution!\n* [Screenshot_2019-02-02_at_13.18.31.png](https://h1.sec.gitlab.net/a/490250/416627/Screenshot_2019-02-02_at_13.18.31.png)","state":"closed","created_at":"2019-02-07T21:20:58.526Z","updated_at":"2020-01-14T10:08:58.357Z","closed_at":"2019-07-30T10:25:53.960Z","closed_by":{"id":4056133,"username":"jeremymatos","name":"Jeremy Matos","state":"blocked","avatar_url":"https://secure.gravatar.com/avatar/7c972d878793ca2302186e5d8c0c0dd8?s=80\u0026d=identicon","web_url":"https://gitlab.com/jeremymatos"},"labels":["Deliverable","Enterprise Edition","HackerOne","backend","devops::secure","group::composition analysis","missed-deliverable","missed:12.0","permissions","priority::2","security","severity::3","type::bug","workflow::verification"],"milestone":{"id":693520,"iid":34,"group_id":9970,"title":"12.1","description":"https://about.gitlab.com/releases/2019/07/22/gitlab-12-1-released","state":"closed","created_at":"2018-10-30T16:47:58.826Z","updated_at":"2020-04-27T16:30:09.107Z","due_date":"2019-07-22","start_date":"2019-06-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/34"},"assignees":[{"id":52092,"username":"gonzoyumo","name":"Olivier Gonzalez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/651e0ff81c3995a05269f7c80895fe89?s=80\u0026d=identicon","web_url":"https://gitlab.com/gonzoyumo"},{"id":1378158,"username":"brytannia","name":"Tetiana Chupryna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1378158/avatar.png","web_url":"https://gitlab.com/brytannia"}],"author":{"id":2741139,"username":"gitlab-securitybot","name":"GitLab SecurityBot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2741139/avatar.png","web_url":"https://gitlab.com/gitlab-securitybot"},"type":"ISSUE","assignee":{"id":52092,"username":"gonzoyumo","name":"Olivier Gonzalez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/651e0ff81c3995a05269f7c80895fe89?s=80\u0026d=identicon","web_url":"https://gitlab.com/gonzoyumo"},"user_notes_count":17,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2019-05-23","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/9665","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/9665","notes":"https://gitlab.com/api/v4/projects/278964/issues/9665/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/9665/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#9665","relative":"#9665","full":"gitlab-org/gitlab#9665"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":604,"epic":{"id":2306,"iid":604,"title":"Security features permissions improvements","url":"/groups/gitlab-org/-/epics/604","group_id":9970,"human_readable_end_date":"Feb 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":18054132,"iid":9664,"project_id":278964,"title":"Geo: Make FDW work with PostgreSQL 11","description":"On my demo node on PostgreSQL 9.6:\n\n![image](/uploads/dc3229dfb0f021550334deeb38d97727/image.png)\n\nLocally on PostgreSQL 11.1:\n\n![image](/uploads/655fad0f3c747abbc9115ef361a35f56/image.png)\n\nThis is a problem for this query: https://gitlab.com/gitlab-org/gitlab-ee/blob/b9f8569/ee/lib/gitlab/geo/fdw.rb#L39:\n\n```sql\nSELECT COUNT(*)\nFROM information_schema.tables\nWHERE table_schema = '#{FOREIGN_SCHEMA}'\nAND table_type = 'FOREIGN TABLE'\nAND table_name NOT LIKE 'pg_%'\n```\n\nThis might work for both PG versions:\n\n```sql\nSELECT COUNT(*)\nFROM information_schema.foreign_tables\nWHERE foreign_table_schema = '#{FOREIGN_SCHEMA}'\nAND foreign_table_name NOT LIKE 'pg_%'\n```","state":"closed","created_at":"2019-02-07T20:41:07.662Z","updated_at":"2019-12-16T14:47:36.635Z","closed_at":"2019-03-01T11:35:36.928Z","closed_by":{"id":572018,"username":"nick.thomas","name":"Nick Thomas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/572018/avatar.png","web_url":"https://gitlab.com/nick.thomas"},"labels":["Category:Geo Replication","Enterprise Edition","devops::systems","group::geo","type::feature","workflow::in review"],"milestone":{"id":523180,"iid":18,"group_id":9970,"title":"11.9","description":"https://about.gitlab.com/releases/2019/03/22/gitlab-11-9-released/","state":"closed","created_at":"2018-05-09T14:56:19.024Z","updated_at":"2020-04-30T19:56:35.917Z","due_date":"2019-03-22","start_date":"2019-02-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/18"},"assignees":[{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"}],"author":{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"},"type":"ISSUE","assignee":{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"},"user_notes_count":0,"merge_requests_count":1,"upvotes":4,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/9664","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/9664","notes":"https://gitlab.com/api/v4/projects/278964/issues/9664/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/9664/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#9664","relative":"#9664","full":"gitlab-org/gitlab#9664"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":24688972,"iid":26621,"project_id":278964,"title":"Show pipeline iid in pipelines page","description":"### Release notes\n\nYou may want to connect your GitLab Pipelines to a file version or build number and were limited by the Pipeline ID exceeding a 16-bit integer requirement. Now, we have enabled the Pipeline IID to be exposed in the pipeline view to easily enable you to effortlessly support a Windows versioning schema. \n\n### Problem to solve\n\nUsers want to embed the build-number in Windows resource files, specifically the “file version” field which can take only 16 bits integers. In most cases ID has exceeded 16bit and thus break’s the windows versioning schema.\nExposing IID as an identifier could solve this problem. \n\n[IID was added](https://gitlab.com/gitlab-org/gitlab-ce/merge_requests/26853) in [11.0] and is useful for things like semver, but not exposed anywhere in the UI.  We're considering [chaning the routing of pipelines](https://gitlab.com/gitlab-org/gitlab-ce/issues/46104) to match IID which would be valuable, but maybe a breaking change for some use cases.  Before doing that, we could add IID to the user interface elsewhere (for instance the pipelines page).\n\n### Target audience\n- Delaney, Development Team Lead, https://design.gitlab.com/research/personas#persona-delaney\n- Sasha, Software Developer, https://design.gitlab.com/research/personas#persona-sasha\n- Devon, DevOps Engineer, https://design.gitlab.com/research/personas#persona-devon\n\n### Further details\nThis will help make CI more lovable, per our \"Lovable\" north star.\n\n### Design Proposal\nSurface the IID on the pipeline index page to improve discoverability of pipelines.\n\n### What does success look like, and how can we measure that?\n\n\u003c!--- Define both the success metrics and acceptance criteria. Note that success metrics indicate the desired business outcomes, while acceptance criteria indicate when the solution is working correctly. If there is no way to measure success, link to an issue that will implement a way to measure this --\u003e\n\n### Links / references\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2019-02-07T16:05:24.904Z","updated_at":"2022-12-01T11:09:50.241Z","closed_at":"2021-08-10T13:57:52.370Z","closed_by":{"id":829774,"username":"jivanvl","name":"Jose Ivan Vargas","state":"active","avatar_url":"https://secure.gravatar.com/avatar/730cc1b85a20f2a3891829f7aa198972?s=80\u0026d=identicon","web_url":"https://gitlab.com/jivanvl"},"labels":["Category:Continuous Integration","UX","customer","devops::verify","direction","frontend","group::pipeline execution","release post","release post item::in review","section::ops","type::feature","workflow::production"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":829774,"username":"jivanvl","name":"Jose Ivan Vargas","state":"active","avatar_url":"https://secure.gravatar.com/avatar/730cc1b85a20f2a3891829f7aa198972?s=80\u0026d=identicon","web_url":"https://gitlab.com/jivanvl"}],"author":{"id":1514779,"username":"brendan","name":"Brendan O'Leary 🐢","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b5a575069d12106f79c0c97dfb3ef917?s=80\u0026d=identicon","web_url":"https://gitlab.com/brendan"},"type":"ISSUE","assignee":{"id":829774,"username":"jivanvl","name":"Jose Ivan Vargas","state":"active","avatar_url":"https://secure.gravatar.com/avatar/730cc1b85a20f2a3891829f7aa198972?s=80\u0026d=identicon","web_url":"https://gitlab.com/jivanvl"},"user_notes_count":84,"merge_requests_count":0,"upvotes":38,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/26621","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/26621","notes":"https://gitlab.com/api/v4/projects/278964/issues/26621/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/26621/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#26621","relative":"#26621","full":"gitlab-org/gitlab#26621"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6350,"epic":{"id":307772,"iid":6350,"title":"Pipeline Identifiers","url":"/groups/gitlab-org/-/epics/6350","group_id":9970,"human_readable_end_date":"Apr 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":18045955,"iid":9656,"project_id":278964,"title":"Replace the form radio inputs for the GlFormRadio component from gitlab-ui","description":"Unfortunately (at the time of this writting) the new gitlab-ui release is stuck due to https://gitlab.com/gitlab-org/gitlab-ui/issues/171\n\nThis was blocking !9178, as soon as the new version releases I will replace the form radio inputs with the new component","state":"closed","created_at":"2019-02-07T15:04:32.660Z","updated_at":"2019-08-12T15:07:29.972Z","closed_at":"2019-02-21T08:28:51.658Z","closed_by":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"labels":["Enterprise Edition","devops::monitor","frontend","maintenance::refactor"],"milestone":{"id":523180,"iid":18,"group_id":9970,"title":"11.9","description":"https://about.gitlab.com/releases/2019/03/22/gitlab-11-9-released/","state":"closed","created_at":"2018-05-09T14:56:19.024Z","updated_at":"2020-04-30T19:56:35.917Z","due_date":"2019-03-22","start_date":"2019-02-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/18"},"assignees":[{"id":829774,"username":"jivanvl","name":"Jose Ivan Vargas","state":"active","avatar_url":"https://secure.gravatar.com/avatar/730cc1b85a20f2a3891829f7aa198972?s=80\u0026d=identicon","web_url":"https://gitlab.com/jivanvl"}],"author":{"id":829774,"username":"jivanvl","name":"Jose Ivan Vargas","state":"active","avatar_url":"https://secure.gravatar.com/avatar/730cc1b85a20f2a3891829f7aa198972?s=80\u0026d=identicon","web_url":"https://gitlab.com/jivanvl"},"type":"ISSUE","assignee":{"id":829774,"username":"jivanvl","name":"Jose Ivan Vargas","state":"active","avatar_url":"https://secure.gravatar.com/avatar/730cc1b85a20f2a3891829f7aa198972?s=80\u0026d=identicon","web_url":"https://gitlab.com/jivanvl"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/9656","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/9656","notes":"https://gitlab.com/api/v4/projects/278964/issues/9656/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/9656/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#9656","relative":"#9656","full":"gitlab-org/gitlab#9656"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":24688941,"iid":26616,"project_id":278964,"title":"Create Vue components to refactor Issues List","description":"### Problem to solve\n\nWe have a new design coming to the Issues List.\n\nSince these components will share certain sub-parts with other recent redesigns (weight, assignees, etc.), it's beneficial to have the Issues List rendered in Vue.\n\nIt is also an important step in refactoring and integrating the Filtered Search Bar (refactor issue: https://gitlab.com/gitlab-org/gitlab-ce/issues/57396). For now, the search bar will continue to trigger a page reload.\n\n### Target audience\nPretty much anyone who uses issues, but most of all perhaps these:\n\n- Parker, Product Manager, https://design.gitlab.com/research/personas#persona-parker\n\n- Delaney, Development Team Lead, https://design.gitlab.com/research/personas#persona-delaney\n\n- Sasha, Software Developer, https://design.gitlab.com/research/personas#persona-sasha\n\n\n### Proposal\n\n* Refactor the current HAML view into Vue without making any UI changes.\n* Put the new Vue implementation under a feature flag\nNote: check if possible to use GraphQL for this implementation.\n\n### What does success look like, and how can we measure that?\n\nIssues list renders in a performant way, similarly to the HAML view.\n\n### Links / references","state":"closed","created_at":"2019-02-07T14:21:52.852Z","updated_at":"2022-05-19T16:13:52.460Z","closed_at":"2020-02-14T18:28:36.980Z","closed_by":{"id":3507264,"username":"donaldcook","name":"Donald Cook","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3507264/avatar.png","web_url":"https://gitlab.com/donaldcook"},"labels":["Persona: Development Team Lead","Persona: Product Manager","Persona: Software developer","devops::plan","frontend","group::project management","issues","maintenance::refactor","missed-deliverable","missed:11.10","missed:12.3","missed:12.4","missed:12.5","missed:12.6","type::feature","workflow::verification"],"milestone":{"id":891798,"iid":41,"group_id":9970,"title":"12.7","description":"https://about.gitlab.com/releases/2020/01/22/gitlab-12-7-released/","state":"closed","created_at":"2019-05-31T08:38:04.523Z","updated_at":"2020-05-19T13:46:24.737Z","due_date":"2020-01-17","start_date":"2019-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/41"},"assignees":[{"id":4447636,"username":"sstern","name":"Scott Stern","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4447636/avatar.png","web_url":"https://gitlab.com/sstern"}],"author":{"id":853414,"username":"andr3","name":"André Luís","state":"active","avatar_url":"https://secure.gravatar.com/avatar/241e39726efb512a29621070ccf26a90?s=80\u0026d=identicon","web_url":"https://gitlab.com/andr3"},"type":"ISSUE","assignee":{"id":4447636,"username":"sstern","name":"Scott Stern","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4447636/avatar.png","web_url":"https://gitlab.com/sstern"},"user_notes_count":58,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/26616","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/26616","notes":"https://gitlab.com/api/v4/projects/278964/issues/26616/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/26616/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#26616","relative":"#26616","full":"gitlab-org/gitlab#26616"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":408,"epic":{"id":1187,"iid":408,"title":"Issues list design","url":"/groups/gitlab-org/-/epics/408","group_id":9970,"human_readable_end_date":"Jan 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":18042996,"iid":9652,"project_id":278964,"title":"SAST ESLint analyzer fails on test projects.","description":"### Summary\n\nWhen running the ESLint SAST analyzer on a test project, it complains about a missing .eslintrc file and fails.\n\n### Steps to reproduce\n\nRun pipeline on https://gitlab.com/gitlab-org/security-products/tests/sast\nhttps://gitlab.com/gitlab-org/security-products/tests/sast/-/jobs/157796636\n\n### Example Project\n\nhttps://gitlab.com/gitlab-org/security-products/tests/sast\n\n### What is the current *bug* behavior?\n\nESLint fails when it can't access /.eslintrc\n\n### What is the expected *correct* behavior?\n\nESLint finds /.eslintrc or .eslintrc in another directory and runs.\n\n### Relevant logs and/or screenshots\n\n```\nFound project in /tmp/app/express\nError: Cannot read config file: /.eslintrc\nError: ENOENT: no such file or directory, open '/.eslintrc'\n    at Object.openSync (fs.js:449:3)\n    at Object.readFileSync (fs.js:349:35)\n    at readFile (/usr/local/lib/node_modules/eslint/lib/config/config-file.js:64:15)\n    at loadLegacyConfigFile (/usr/local/lib/node_modules/eslint/lib/config/config-file.js:141:44)\n    at loadConfigFile (/usr/local/lib/node_modules/eslint/lib/config/config-file.js:240:22)\n    at loadFromDisk (/usr/local/lib/node_modules/eslint/lib/config/config-file.js:500:18)\n    at Object.load (/usr/local/lib/node_modules/eslint/lib/config/config-file.js:564:20)\n    at Config.loadSpecificConfig (/usr/local/lib/node_modules/eslint/lib/config.js:148:46)\n    at new Config (/usr/local/lib/node_modules/eslint/lib/config.js:114:14)\n    at new CLIEngine (/usr/local/lib/node_modules/eslint/lib/cli-engine.js:462:23)\nAn error occured while running eslint.\n2019/02/07 11:38:09 exit status 2\n2019/02/07 11:38:10 Container exited with non zero status code\n```\n\n### Output of checks\n\nN/A\n\n#### Results of GitLab environment info\n\nN/A\n\n#### Results of GitLab application Check\n\nN/A\n\n### Possible fixes\n\n- Hardcode the position of .eslintrc in the source code, instead of using the HOME environment variable.\n- Or set the HOME environment variable explicitely in the Dockerfile","state":"closed","created_at":"2019-02-07T13:26:40.671Z","updated_at":"2019-08-12T15:07:30.123Z","closed_at":"2019-02-07T16:23:11.666Z","closed_by":{"id":1766812,"username":"groulot","name":"Gilbert Roulot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1766812/avatar.png","web_url":"https://gitlab.com/groulot"},"labels":["Enterprise Edition","type::bug"],"milestone":{"id":581391,"iid":23,"group_id":9970,"title":"11.8","description":"","state":"closed","created_at":"2018-06-26T15:15:18.359Z","updated_at":"2019-03-08T17:33:19.162Z","due_date":"2019-02-22","start_date":"2019-01-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/23"},"assignees":[],"author":{"id":1766812,"username":"groulot","name":"Gilbert Roulot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1766812/avatar.png","web_url":"https://gitlab.com/groulot"},"type":"ISSUE","assignee":null,"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/9652","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/9652","notes":"https://gitlab.com/api/v4/projects/278964/issues/9652/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/9652/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#9652","relative":"#9652","full":"gitlab-org/gitlab#9652"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":18040232,"iid":9647,"project_id":278964,"title":"Add limits for an epics' issues and child epics","description":"As discussed in https://gitlab.com/gitlab-org/gitlab-ee/merge_requests/9283#note_139008986, the query for an epics' issues and child epics do not have a `LIMIT`.\n\nThe list of children could get arbitrarily large and may cause performance issues in the future.\n\nI opened this issue for discussion. Should we enforce a hard limit on the number of child epics / issues? Or should we support pagination in the UI for this?\n\n#### Acceptance Criteria\n\n- [ ] Limit of 2000 is applied to issues and sub-epics of any given epic;\n- [ ] Proposed limit of 2000 is validated to ensure that it doesn't affect any existing customers, and\n- [ ] Limited is documented on https://docs.gitlab.com/ee/administration/instance_limits.html","state":"closed","created_at":"2019-02-07T11:53:14.152Z","updated_at":"2021-11-08T16:57:16.580Z","closed_at":"2020-07-10T17:14:30.725Z","closed_by":{"id":426128,"username":"felipe_artur","name":"Felipe Artur","state":"active","avatar_url":"https://secure.gravatar.com/avatar/dbad92659914f56621cbdd726e283e60?s=80\u0026d=identicon","web_url":"https://gitlab.com/felipe_artur"},"labels":["Application Limits","Breakdown Sufficient","Category:Portfolio Management","Enterprise Edition","backend","bug::performance","devops::plan","epics","group::product planning","missed:13.1","workflow::verification"],"milestone":{"id":1233746,"iid":49,"group_id":9970,"title":"13.2","description":"https://about.gitlab.com/releases/2020/07/22/gitlab-13-2-released/","state":"closed","created_at":"2020-04-09T17:28:01.032Z","updated_at":"2022-04-13T14:48:24.167Z","due_date":"2020-07-17","start_date":"2020-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/49"},"assignees":[{"id":426128,"username":"felipe_artur","name":"Felipe Artur","state":"active","avatar_url":"https://secure.gravatar.com/avatar/dbad92659914f56621cbdd726e283e60?s=80\u0026d=identicon","web_url":"https://gitlab.com/felipe_artur"}],"author":{"id":2880930,"username":"engwan","name":"Heinrich Lee Yu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2880930/avatar.png","web_url":"https://gitlab.com/engwan"},"type":"ISSUE","assignee":{"id":426128,"username":"felipe_artur","name":"Felipe Artur","state":"active","avatar_url":"https://secure.gravatar.com/avatar/dbad92659914f56621cbdd726e283e60?s=80\u0026d=identicon","web_url":"https://gitlab.com/felipe_artur"},"user_notes_count":36,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/9647","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/9647","notes":"https://gitlab.com/api/v4/projects/278964/issues/9647/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/9647/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#9647","relative":"#9647","full":"gitlab-org/gitlab#9647"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":1833,"epic":{"id":11590,"iid":1833,"title":"Product Planning application limits","url":"/groups/gitlab-org/-/epics/1833","group_id":9970,"human_readable_end_date":"Jul 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":24688907,"iid":26605,"project_id":278964,"title":"User search is not helpful for Asian characters","description":"### Summary\n\nFrom https://gitlab.com/gitlab-org/gitlab-ce/issues/38664#note_138995658:\n\n\u003e\u003e\u003e\nMost Koreans have a three-letter name. Entering three letters is to enter the full-name. It's like \"홍\" as the family-name and \"길동\" as the first-name. The full-name will be \"홍길동\".\n\u003e\u003e\u003e\n\n### Steps to reproduce\n\n- create user with name 홍길동\n- with that user create a new issue\n- type `author: 홍` in search bar of issue list\n\n### What is the current *bug* behavior?\n\nno search results\n\n### What is the expected *correct* behavior?\n\nsearch results","state":"closed","created_at":"2019-02-07T10:17:51.303Z","updated_at":"2022-07-01T11:11:40.404Z","closed_at":"2022-07-01T11:11:40.372Z","closed_by":{"id":2880930,"username":"engwan","name":"Heinrich Lee Yu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2880930/avatar.png","web_url":"https://gitlab.com/engwan"},"labels":["Category:Internationalization","Inclusion","SUS::Impacting","UX","[deprecated] Accepting merge requests","backend","database","devops::plan","filter bar","frontend","group::project management","issues","merge requests","missed-SLO","priority::2","section::dev","severity::3","type::bug","vintage"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":1212235,"username":"winh","name":"Inactive Account","state":"active","avatar_url":"https://secure.gravatar.com/avatar/e34b010c96ff3f44c62cddf66607232a?s=80\u0026d=identicon","web_url":"https://gitlab.com/winh"},"type":"ISSUE","assignee":null,"user_notes_count":28,"merge_requests_count":0,"upvotes":4,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/26605","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/26605","notes":"https://gitlab.com/api/v4/projects/278964/issues/26605/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/26605/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#26605","relative":"#26605","full":"gitlab-org/gitlab#26605"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":18035802,"iid":9643,"project_id":278964,"title":"Sync linked namespaces to Jira Cloud Dev Info API","description":"After we have the namespaces linked to a Jira install from #9641, we need to handle the initial sync and subsequent updates when new commits, branches, and merge requests are added to the namespace.\n\nThe [Dev Info API](https://developer.atlassian.com/cloud/jira/software/rest/#api-group-Development-Information) allows us to push these information through the `POST /rest/devinfo/0.10/bulk` endpoint. This API is available in Jira Cloud. The API docs on the specific fields are a bit hard to find, here's a GIF to help navigate:\n\n![Jira_DevInfo_docs](/uploads/ab83e731399dbb2581afcb91693f691d/Jira_DevInfo_docs.gif)\n\nFor GitLab.com, we can generate a JWT token from the shared secret we stored during app install to authenticate these requests. For self-hosted GitLab, we don't have definite information yet on authentication but the same API for pushing data applies.\n\nFor the initial sync, we need to decide how far back we want to sync and how we split these into multiple POST requests. Atlassian specially mentioned this because data sent here are processed async and might take a long time for them to show up if we send too much and start from the older ones.\n\nWe could also consider only sending commits, branches, and merge requests that has the Jira issue pattern (SOMEPROJ-123) in its name as these are the only ones that get linked to the Jira issues anyway.\n\nFor subsequent updates, it should work like webhooks where we push the data when a new commit, branch, or merge request is added. We could also consider scheduled syncs if real-time is not feasible.\n\nFor GitLab.com, this should also respect the enabled / disabled status of the Jira app installation.\n\nNote: User needs to delete the old DVCS integration for the data here to show up. Atlassian may provide us with an API to do this for the user.","state":"closed","created_at":"2019-02-07T09:22:41.970Z","updated_at":"2022-05-19T16:13:41.428Z","closed_at":"2019-09-16T18:09:11.596Z","closed_by":{"id":2880930,"username":"engwan","name":"Heinrich Lee Yu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2880930/avatar.png","web_url":"https://gitlab.com/engwan"},"labels":["Enterprise Edition","Integration::Jira","backend","devops::plan","group::project management","missed:12.2","type::feature"],"milestone":{"id":731038,"iid":37,"group_id":9970,"title":"12.3","description":"https://about.gitlab.com/releases/2019/09/22/gitlab-12-3-released/","state":"closed","created_at":"2018-12-07T12:40:55.400Z","updated_at":"2020-04-23T21:06:04.173Z","due_date":"2019-09-17","start_date":"2019-08-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/37"},"assignees":[{"id":2880930,"username":"engwan","name":"Heinrich Lee Yu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2880930/avatar.png","web_url":"https://gitlab.com/engwan"}],"author":{"id":2880930,"username":"engwan","name":"Heinrich Lee Yu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2880930/avatar.png","web_url":"https://gitlab.com/engwan"},"type":"ISSUE","assignee":{"id":2880930,"username":"engwan","name":"Heinrich Lee Yu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2880930/avatar.png","web_url":"https://gitlab.com/engwan"},"user_notes_count":13,"merge_requests_count":2,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/9643","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/9643","notes":"https://gitlab.com/api/v4/projects/278964/issues/9643/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/9643/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#9643","relative":"#9643","full":"gitlab-org/gitlab#9643"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":1626,"epic":{"id":10001,"iid":1626,"title":"Improving the Jira Connect App in Atlassian Marketplace","url":"/groups/gitlab-org/-/epics/1626","group_id":9970},"iteration":null,"health_status":null},{"id":18034838,"iid":9641,"project_id":278964,"title":"Manage namespaces to sync to Jira Cloud Dev Info API from GitLab.com","description":"## Create an [Atlassian Connect app descriptor](https://developer.atlassian.com/cloud/jira/platform/app-descriptor/) JSON file\n\n   [Github's app descriptor](https://github.com/integrations/jira/blob/master/lib/jira/connect.js) can be used as reference.\n\n   Important parts here are the lifecycle callback URLs and the post install page which we would need to implement.\n\n   This will be uploaded to the Atlassian Marketplace for our app to show up there. In development mode, we can provide a URL that returns the JSON file.\n\n## Implement [lifecycle callback URLs](https://developer.atlassian.com/cloud/jira/platform/app-descriptor/#lifecycle)\n\n   These URLs are called by Atlassian when someone installs and uninstalls our app in Jira. The most important one is the install callback. Client identifiers and the shared secret are sent to us on install and we need to store this.\n\n   Possible `jira_installations` schema:\n\n   | Field  | Type   |\n   | ------ | ------ |\n   | id     | int    |\n   | client_key | string |\n   | base_url | string |\n   | shared_secret | string (encrypted?) |\n\n## Implement GitLab configuration page in a [post install page](https://developer.atlassian.com/cloud/jira/platform/modules/page/) iframe\n\n   This is the `postInstallPage` module defined in the app descriptor. This will be loaded when the user clicks on \"Get Started\" in the popup after install and in the Manage Add-ons page.\n\n   This is the page where the user can see which namespaces are linked to the Jira install and administer them. This will be rendered in an iframe within Jira and we'd have to use [Atlassian's UI Kit](https://atlaskit.atlassian.com/). We can consider loading this from Atlassian's CDN if possible so that we won't have to create a separate CSS / JS build for these pages.\n\n   Possible `jira_linked_namespaces` (or some better name :smile:) schema:\n\n   | Field  | Type   |\n   | ------ | ------ |\n   | id     | int    |\n   | jira_installation_id | int |\n   | namespace_id | int |\n\n\n### List namespaces that are linked\n\nWe need to show the user the GitLab namespaces that are already linked to the current Jira account.\n\nFor reference, this is GitHub's configuration page within Jira:\n\n![Screen_Shot_2019-02-18_at_9.56.40_PM](https://gitlab.com/gitlab-org/gitlab-ee/uploads/867d8053e7d9a988f9754029d7f0fd82/Screen_Shot_2019-02-18_at_9.56.40_PM.png)\n\nWhen viewing this page, it is not necessary to be logged in to GitLab. We show the data here based on the JWT token generated by Jira which ensures that the user making the request here is an admin of the Jira account.\n\nThis does mean that the Jira admin may be able to see the names of private GitLab namespaces which he doesn't have access to.\n\nUsers should also be allowed to remove linked namespaces from this page.\n\n\u003e Alternative implementations:\n\u003e \n\u003e   We can require that the user is logged in to GitLab on this page and then:\n\u003e \n\u003e   1. Only list namespaces of the Jira installation where the current GitLab user has Developer+ (or whatever level we want) permissions.\n\u003e \n\u003e      Problem here is that another Jira admin could have added a namespace here and the other Jira admin wouldn't know that it's linked because he doesn't have access to the GitLab namespace.\n\u003e \n\u003e      Worse is when a Jira admin adds a namespace then loses access to the GitLab namespace for some reason. Since he doesn't have access to the namespace anymore, he can't delete the link.\n\u003e\n\u003e      \u0026nbsp;\n\u003e   1. OR we could list all namespaces but blur / obfuscate names / only show ids of namespaces that the current user doesn't have access to. This allows the Jira admin to know that there's a link to a namespace he doesn't have access to (and maybe also delete it?).\n\u003e \n\u003e      This I guess is more complicated though :smiley: \n\n### Adding a namespace\n\nUsers can add a namespace from a button / link on the listing page described above.\n\nThis can be implemented as a separate page or as a modal.\n\nFor this action, the user must be logged in to GitLab so that we can show the namespaces that the user can add. So a workflow to redirect to login page and back should be taken into consideration.\n\n## Future iterations\n\nWe can only do this when we actually have the syncing part in #9643:\n\n* Manually trigger a sync\n* Show sync status\n\n## Other things that need UX / Technical Writer consideration\n\n* App name / description\n\n  This shows up on the Atlassian Marketplace. Currently I set it to \"GitLab for Jira\" - \"Integrate commits, branches and merge requests from GitLab into Jira\".\n\n* Icon for Jira Dev Module\n\n  Atlassian docs says this will be rendered as a 16x16 icon within Jira. Currently I set it to https://about.gitlab.com/images/press/logo/png/gitlab-icon-rgb.png. But I'm not sure if we should be using that URL for production.","state":"closed","created_at":"2019-02-07T08:47:18.967Z","updated_at":"2022-05-19T16:13:41.087Z","closed_at":"2019-04-24T10:09:42.455Z","closed_by":{"id":443319,"username":"smcgivern","name":"Sean McGivern","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/443319/avatar.png","web_url":"https://gitlab.com/smcgivern"},"labels":["Enterprise Edition","Integration::Jira","UX","backend","devops::plan","frontend","type::feature","workflow::in dev"],"milestone":{"id":655280,"iid":28,"group_id":9970,"title":"11.11","description":"","state":"closed","created_at":"2018-09-21T19:08:37.027Z","updated_at":"2019-06-10T14:39:00.009Z","due_date":"2019-05-22","start_date":"2019-04-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/28"},"assignees":[{"id":201566,"username":"annabeldunstone","name":"Annabel Dunstone Gray","state":"active","avatar_url":"https://secure.gravatar.com/avatar/85c0203926134720f9a9aa8c6e264c78?s=80\u0026d=identicon","web_url":"https://gitlab.com/annabeldunstone"},{"id":2880930,"username":"engwan","name":"Heinrich Lee Yu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2880930/avatar.png","web_url":"https://gitlab.com/engwan"}],"author":{"id":2880930,"username":"engwan","name":"Heinrich Lee Yu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2880930/avatar.png","web_url":"https://gitlab.com/engwan"},"type":"ISSUE","assignee":{"id":201566,"username":"annabeldunstone","name":"Annabel Dunstone Gray","state":"active","avatar_url":"https://secure.gravatar.com/avatar/85c0203926134720f9a9aa8c6e264c78?s=80\u0026d=identicon","web_url":"https://gitlab.com/annabeldunstone"},"user_notes_count":25,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/9641","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/9641","notes":"https://gitlab.com/api/v4/projects/278964/issues/9641/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/9641/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#9641","relative":"#9641","full":"gitlab-org/gitlab#9641"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":1626,"epic":{"id":10001,"iid":1626,"title":"Improving the Jira Connect App in Atlassian Marketplace","url":"/groups/gitlab-org/-/epics/1626","group_id":9970},"iteration":null,"health_status":null},{"id":18025335,"iid":9635,"project_id":278964,"title":"Integrate DAST properties into the Security Products Common format","description":"### Problem to solve\n\nThe [Common](https://gitlab.com/gitlab-org/security-products/analyzers/common) project defines an API for Security Products to generate a common report format.\nThis Go library is not yet leveraged by DAST and we currently don't document its specificities about the report format.\n\n\n### Target audience\n\n- Delaney, Development Team Lead, https://design.gitlab.com/research/personas#persona-delaney\n\n- Sasha, Software Developer, https://design.gitlab.com/research/personas#persona-sasha\n\n### Further details\n\nBefore communicating publicly our report format, we need to make sure it covers all our usages.\n\n### Proposal\n\nImprove the `common` library to allow it to build a DAST compatible report, and document the expected output format.\n\n### What does success look like, and how can we measure that?\n\nOne can use the `common` library to generate a DAST report, that can be processed by GitLab rails backend.\n\n### What is the type of buyer? \n\n~\"GitLab Ultimate\" \n\n### Links / references\n\nhttps://gitlab.com/groups/gitlab-org/-/epics/810\n\n### Implementation plan\n\n- [x] Design the mapping between the DAST ZAP tool report format and `common` reports format\n- ~~[ ] Document the report format for DAST (in a way similar to [SAST and DS](https://gitlab.com/gitlab-org/gitlab-ee/issues/11449))~~ Extracted into [a separate issue](https://gitlab.com/gitlab-org/gitlab-ee/issues/12371)\n- [x] Enhance [the common library](https://gitlab.com/gitlab-org/security-products/analyzers/common) report entities with properties to hold the DAST tool data\n- ~~[ ] Enhance [the GitLab Rails app](https://gitlab.com/gitlab-org/gitlab-ee) report entities and database with properties to hold the DAST tool data (if necessary, needs discussion)~~","state":"closed","created_at":"2019-02-07T00:36:23.211Z","updated_at":"2020-10-08T06:20:21.489Z","closed_at":"2019-07-08T15:20:41.546Z","closed_by":{"id":3337413,"username":"vzagorodny","name":"Victor Zagorodny","state":"blocked","avatar_url":"https://secure.gravatar.com/avatar/56410d67aa18e03b13e1585d436bf313?s=80\u0026d=identicon","web_url":"https://gitlab.com/vzagorodny"},"labels":["Deliverable","Enterprise Edition","Persona: Development Team Lead","Persona: Software developer","backend","customer","devops::secure","type::feature"],"milestone":{"id":693520,"iid":34,"group_id":9970,"title":"12.1","description":"https://about.gitlab.com/releases/2019/07/22/gitlab-12-1-released","state":"closed","created_at":"2018-10-30T16:47:58.826Z","updated_at":"2020-04-27T16:30:09.107Z","due_date":"2019-07-22","start_date":"2019-06-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/34"},"assignees":[{"id":3337413,"username":"vzagorodny","name":"Victor Zagorodny","state":"blocked","avatar_url":"https://secure.gravatar.com/avatar/56410d67aa18e03b13e1585d436bf313?s=80\u0026d=identicon","web_url":"https://gitlab.com/vzagorodny"}],"author":{"id":52092,"username":"gonzoyumo","name":"Olivier Gonzalez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/651e0ff81c3995a05269f7c80895fe89?s=80\u0026d=identicon","web_url":"https://gitlab.com/gonzoyumo"},"type":"ISSUE","assignee":{"id":3337413,"username":"vzagorodny","name":"Victor Zagorodny","state":"blocked","avatar_url":"https://secure.gravatar.com/avatar/56410d67aa18e03b13e1585d436bf313?s=80\u0026d=identicon","web_url":"https://gitlab.com/vzagorodny"},"user_notes_count":20,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/9635","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":2},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"2 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/9635","notes":"https://gitlab.com/api/v4/projects/278964/issues/9635/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/9635/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#9635","relative":"#9635","full":"gitlab-org/gitlab#9635"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":810,"epic":{"id":3818,"iid":810,"title":"DAST architecture migration","url":"/groups/gitlab-org/-/epics/810","group_id":9970,"human_readable_end_date":"Jul 22, 2019","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":18009909,"iid":9623,"project_id":278964,"title":"Remove feature flag for named `multiple_code_owner_rules`","description":"When removing the `multiple_code_owner_rules` (introduced in https://gitlab.com/gitlab-org/gitlab-ee/merge_requests/9455) and `code_owner_rules` feature flag, we can remove a bunch of other legacy code as well.\n\n- `EE::MergeRequests#sync_code_owners_with_approvers` in favor of the `MergeRequests::SyncCodeOwnerApprovalRules`service\n- `ApprovalMergeRequestRule::DEFAULT_NAME_FOR_CODE_OWNER` can be removed, the rules are created with their pattern instead of a default name\n- `EE::MergeRequest#code_owners` can be removed this is relaced by separate entries displayed on the merge request widget through approval rules\n- `Gitlab::CodeOwners.for_merge_request` can be removed. We should only be loading entries, which map a pattern to a set of users.\n- `EE::MergeRequest::RefreshService#update_approvers` support for old approver version can be removed\n- `EE::MergeRequests::RefreshService#create_approvers` which is relaced with the new approval rules model","state":"closed","created_at":"2019-02-06T15:03:41.175Z","updated_at":"2019-08-12T15:07:39.494Z","closed_at":"2019-07-03T12:08:57.117Z","closed_by":{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"labels":["Create [DEPRECATED]","Deliverable","Enterprise Edition","backend","backstage [DEPRECATED]","devops::create","group::source code","maintenance::refactor","missed-deliverable","missed:12.0","workflow::in review"],"milestone":{"id":693520,"iid":34,"group_id":9970,"title":"12.1","description":"https://about.gitlab.com/releases/2019/07/22/gitlab-12-1-released","state":"closed","created_at":"2018-10-30T16:47:58.826Z","updated_at":"2020-04-27T16:30:09.107Z","due_date":"2019-07-22","start_date":"2019-06-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/34"},"assignees":[{"id":171554,"username":"reprazent","name":"Bob Van Landuyt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/171554/avatar.png","web_url":"https://gitlab.com/reprazent"}],"author":{"id":171554,"username":"reprazent","name":"Bob Van Landuyt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/171554/avatar.png","web_url":"https://gitlab.com/reprazent"},"type":"ISSUE","assignee":{"id":171554,"username":"reprazent","name":"Bob Van Landuyt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/171554/avatar.png","web_url":"https://gitlab.com/reprazent"},"user_notes_count":4,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/9623","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/9623","notes":"https://gitlab.com/api/v4/projects/278964/issues/9623/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/9623/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#9623","relative":"#9623","full":"gitlab-org/gitlab#9623"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":77,"epic":{"id":143,"iid":77,"title":"Code owners","url":"/groups/gitlab-org/-/epics/77","group_id":9970,"human_readable_end_date":"Mar 22, 2019","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":81092591,"iid":325074,"project_id":278964,"title":"Redesign content headers recognision","description":"At the moment, to detect the content type we use the method `DetectContentType` from `http` but the set of mime types is quite small. One example is https://gitlab.com/gitlab-org/gitlab-ce/issues/57041 where instead of returning the proper MIME type for `docx` files it returns just `application/zip`.\n\nAnother problem we have is the size of the header we use to detect the content type. For most file types 512 bytes is enough but, for text types like SVG, how the file is built can determine if the file gets the right content type or not. You can see an example of it in https://gitlab.com/gitlab-org/gitlab-ce/issues/56701.\n\nWe have tested other libraries like [filetype](https://github.com/h2non/filetype), [magicmime](https://github.com/rakyll/magicmime) or [mimetype](https://github.com/gabriel-vasile/mimetype). In all of them, there are edge cases and problems depending on the header size we use to detect the content.\n\nThat's why we should redesign the way we actually perform this recognition. Because Workhorse doesn't have all the information about the file, like the filename when we deal with blobs, we should start this process in Rails.\n\nRails will determine and set the content headers based on the file extension. Those headers will go to Workhorse and it will try to detect the content type based on the content. If there is a severe disagreement between the headers coming from Rails and the ones Workhorse has detected, then we will use the Workhorse ones. For example, if we have an SWF file named as `foo.txt` Rails will set the content type as `text/plain`. Then Workhorse will detect the content and it will see that the content type matches an `application/octet-stream`. In this case, because there is a big difference between a `text/*` and `application/*`, Workhorse will rewrite the content type and set it to `application/octet-stream`.\n\n/cc @stanhu","state":"closed","created_at":"2019-02-06T10:25:36.036Z","updated_at":"2022-08-26T05:31:21.396Z","closed_at":"2022-08-26T05:31:21.377Z","closed_by":{"id":64248,"username":"stanhu","name":"Stan Hu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/64248/stanhu.jpg","web_url":"https://gitlab.com/stanhu"},"labels":["approaching-SLO","backend","customer","group::not_owned","maintenance::refactor","missed-SLO","priority::3","severity::4","type::bug","workhorse"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[{"id":64248,"username":"stanhu","name":"Stan Hu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/64248/stanhu.jpg","web_url":"https://gitlab.com/stanhu"}],"author":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier López","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"type":"ISSUE","assignee":{"id":64248,"username":"stanhu","name":"Stan Hu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/64248/stanhu.jpg","web_url":"https://gitlab.com/stanhu"},"user_notes_count":44,"merge_requests_count":0,"upvotes":8,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/325074","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/325074","notes":"https://gitlab.com/api/v4/projects/278964/issues/325074/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/325074/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#325074","relative":"#325074","full":"gitlab-org/gitlab#325074"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":17987688,"iid":9610,"project_id":278964,"title":"Integrate Container Scanning properties into the Security Products Common format","description":"### Problem to solve\n\nThe [Common](https://gitlab.com/gitlab-org/security-products/analyzers/common) project defines an API for Security Products to generate a common report format.\nThis Go library is not yet leveraged by Container Scanning and we currently don't document its specificities about the report format.\n\n\n### Target audience\n\n- Delaney, Development Team Lead, https://design.gitlab.com/research/personas#persona-delaney\n\n- Sasha, Software Developer, https://design.gitlab.com/research/personas#persona-sasha\n\n### Further details\n\nBefore communicating publicly our report format, we need to make sure it covers all our usages.\n\n### Proposal\n\nImprove the `common` library to allow it to build a Container Scanning compatible report, and document the expected output format.\n\n### Implementation Plan\n\nAdd the following properties to the [Location struct](https://gitlab.com/gitlab-org/security-products/analyzers/common/blob/98327c2fad686aff217caf74b197b82b41ad72ca/issue/issue.go#L169-177)\n\n* `.vulnerabilities[].location.image`\n* `.vulnerabilities[].location.operating_system`\n\nAdd `ArtifactNameContainerScanning` to [command/run.go](https://gitlab.com/gitlab-org/security-products/analyzers/common/blob/98327c2fad686aff217caf74b197b82b41ad72ca/command/run.go#L17)\n\n### What does success look like, and how can we measure that?\n\nOne can use the `common` library to generate a Container Scanning report, that can be processed by GitLab rails backend.\n\n### What is the type of buyer? \n\n~\"GitLab Ultimate\" \n\n### Links / references","state":"closed","created_at":"2019-02-05T20:46:56.890Z","updated_at":"2019-11-21T04:42:21.647Z","closed_at":"2019-10-16T15:05:49.121Z","closed_by":{"id":1674572,"username":"adamcohen","name":"Adam Cohen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/68fe8da9d9dfc88d0d150808cd364825?s=80\u0026d=identicon","web_url":"https://gitlab.com/adamcohen"},"labels":["Category:Container Scanning","Deliverable","Enterprise Edition","backend","backstage [DEPRECATED]","devops::secure","group::composition analysis","maintenance::refactor"],"milestone":{"id":731039,"iid":38,"group_id":9970,"title":"12.4","description":"https://about.gitlab.com/releases/2019/10/22/gitlab-12-4-released","state":"closed","created_at":"2018-12-07T12:41:53.212Z","updated_at":"2020-04-27T16:30:43.889Z","due_date":"2019-10-17","start_date":"2019-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/38"},"assignees":[{"id":1674572,"username":"adamcohen","name":"Adam Cohen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/68fe8da9d9dfc88d0d150808cd364825?s=80\u0026d=identicon","web_url":"https://gitlab.com/adamcohen"}],"author":{"id":52092,"username":"gonzoyumo","name":"Olivier Gonzalez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/651e0ff81c3995a05269f7c80895fe89?s=80\u0026d=identicon","web_url":"https://gitlab.com/gonzoyumo"},"type":"ISSUE","assignee":{"id":1674572,"username":"adamcohen","name":"Adam Cohen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/68fe8da9d9dfc88d0d150808cd364825?s=80\u0026d=identicon","web_url":"https://gitlab.com/adamcohen"},"user_notes_count":16,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/9610","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/9610","notes":"https://gitlab.com/api/v4/projects/278964/issues/9610/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/9610/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#9610","relative":"#9610","full":"gitlab-org/gitlab#9610"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":808,"epic":{"id":3790,"iid":808,"title":"Container Scanning architecture migration","url":"/groups/gitlab-org/-/epics/808","group_id":9970,"human_readable_end_date":"Oct 17, 2019","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":17982641,"iid":9608,"project_id":278964,"title":"Geo: \"Admin \u003e Geo\" page controls have to be thought out better","description":"While working on https://gitlab.com/gitlab-org/gitlab-ee/issues/8112 I got some questions that have to be answered. This is a meta issue!\n\n# Disabling a secondary node\n\nWhy do we even need a way to disable Geo Node? According to what I see in the code, it just stops all kind off sync workers. We need to remove it or to document.\n\n# Removing a node\n\nAgain, we need to document it at least. Removing a primary node has a special meaning, we essentially make all the  Geo nodes invalid. So removing Primary node without removing all the secondary nodes makes no sense at all. I propose to take few actions here:\n* Hide \"Remove\" button in the primary node section until there is at least one secondary node in the list\n* Mirror same behavior in API\n* After removing the primary node we need to truncate event log table synchronously (this is very fast) and disable Geo as such. https://gitlab.com/gitlab-org/gitlab-ee/issues/8034\n\n\ncc @geo\\-team","state":"closed","created_at":"2019-02-05T17:44:07.223Z","updated_at":"2019-12-11T20:03:36.063Z","closed_at":"2019-02-08T14:32:04.795Z","closed_by":{"id":59678,"username":"vsizov","name":"Valery Sizov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/59678/avatar.png","web_url":"https://gitlab.com/vsizov"},"labels":["Enterprise Edition","Geo Administration","[deprecated] Accepting merge requests","devops::systems","group::geo","product discovery [DEPRECATED]"],"milestone":{"id":523180,"iid":18,"group_id":9970,"title":"11.9","description":"https://about.gitlab.com/releases/2019/03/22/gitlab-11-9-released/","state":"closed","created_at":"2018-05-09T14:56:19.024Z","updated_at":"2020-04-30T19:56:35.917Z","due_date":"2019-03-22","start_date":"2019-02-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/18"},"assignees":[{"id":59678,"username":"vsizov","name":"Valery Sizov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/59678/avatar.png","web_url":"https://gitlab.com/vsizov"}],"author":{"id":59678,"username":"vsizov","name":"Valery Sizov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/59678/avatar.png","web_url":"https://gitlab.com/vsizov"},"type":"ISSUE","assignee":{"id":59678,"username":"vsizov","name":"Valery Sizov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/59678/avatar.png","web_url":"https://gitlab.com/vsizov"},"user_notes_count":11,"merge_requests_count":0,"upvotes":3,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/9608","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/9608","notes":"https://gitlab.com/api/v4/projects/278964/issues/9608/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/9608/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#9608","relative":"#9608","full":"gitlab-org/gitlab#9608"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":24688778,"iid":26563,"project_id":278964,"title":"Creating a project from a group template shouldn't default to the project URL of the template folder","description":"### Summary\n\nxenomachina on reddit pointed out that creating a project from a group template will always use the templates subgroup by default. This requires the user to manually adjust the path on creating every new project from a template.\n\n### Steps to reproduce\n\n1. Set up group-level templates by creating a subgroup with an example project.\n1. Configure the group by going to  MyGroup \u003e General Settings \u003e Custom project templates and pointing to the subgroup with the example project we're using as a template.\n1. Navigate to `projects/new` and click the \"Create from template\" tab.\n1. Click \"Group\" sub-tab, which should have the example project we created earlier and would like to use as a template.\n1. Click \"Use template\". Note that the default value in Project URL is the path of the template folder.\n\n### What is the current *bug* behavior?\n\nThe default value in Project URL will always be the path of the template folder.\n\n### What is the expected *correct* behavior?\n\n1. When using a group template from `project/new`, the default project URL should be the parent group of the templates subgroup.\n1. When using a `namespace_id` param (like `/projects/new?namespace_id=foo`), the default project URL should reflect the namespace we're trying to create the group in. \n    * You can recreate this by going to the overview page for the parent group for the template folder, and clicking \"New project\" in that parent group. The `namespace_id` param is respected for \"Blank project\", but not for the template.","state":"closed","created_at":"2019-02-05T15:45:04.207Z","updated_at":"2022-03-28T19:24:05.547Z","closed_at":"2020-06-10T11:17:50.406Z","closed_by":{"id":1230286,"username":"xanf","name":"Illya Klymov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ce4d16557b46210fa57641531b570dd4?s=80\u0026d=identicon","web_url":"https://gitlab.com/xanf"},"labels":["Community contribution","Deliverable","[deprecated] Accepting merge requests","backend","devops::manage","estimation::needed","frontend","group templates","group::import","milestone::p4","priority::3","project","project creation","reproduced on GitLab.com","severity::4","type::bug","workflow::ready for development"],"milestone":{"id":1112145,"iid":47,"group_id":9970,"title":"13.1","description":"","state":"closed","created_at":"2020-01-03T12:28:30.160Z","updated_at":"2020-10-08T12:01:07.361Z","due_date":"2020-06-17","start_date":"2020-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/47"},"assignees":[],"author":{"id":1086520,"username":"jeremy-gl","name":"Jeremy Watson (ex-GitLab)","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1086520/avatar.png","web_url":"https://gitlab.com/jeremy-gl"},"type":"ISSUE","assignee":null,"user_notes_count":10,"merge_requests_count":1,"upvotes":9,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/26563","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/26563","notes":"https://gitlab.com/api/v4/projects/278964/issues/26563/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/26563/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#26563","relative":"#26563","full":"gitlab-org/gitlab#26563"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3496,"epic":{"id":62382,"iid":3496,"title":"🐞 Template bugs","url":"/groups/gitlab-org/-/epics/3496","group_id":9970,"human_readable_end_date":"Apr 17, 2023","human_readable_timestamp":"\u003cstrong\u003e3\u003c/strong\u003e months remaining"},"iteration":null,"health_status":null},{"id":24688716,"iid":26543,"project_id":278964,"title":"word-diff or word-level highlighting for suggestion diff","description":"### Problem to solve\n\nGitlab introduced in 11.6 merge comments with change suggestions.\n\nhttps://about.gitlab.com/2018/12/22/gitlab-11-6-released/#suggested-changes\n\nWhen the user clicks on the button to suggest a change of a very long line and carries out only a small change, the reviewer cannot easily recognize the suggested change from the diff, because the changed letters are not highlighted with higher saturation color as in other diffs in Gitlab.\n\n### Target audience\n\n- developers\n- prose writer (PhD Thesis on Gitlab)\n- documentation writer\n- other people who do not work with programming source code, but with text.\n\n### Further details\n\n### Proposal\n\nWhen viewing a suggested change, the changed words should be highlighted.\n\n![image](/uploads/ec28cfa068f6ea796a268b0c2964b6b7/image.png)\n\n### What does success look like, and how can we measure that?\n\nPeople can spot in no time what the change suggestion is about.\n\n### Links / references","state":"closed","created_at":"2019-02-04T20:40:56.963Z","updated_at":"2020-12-07T16:52:04.202Z","closed_at":"2020-01-07T21:20:24.987Z","closed_by":{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"},"labels":["Category:Code Review Workflow","Deliverable","backend","devops::create","diff","direction","group::code review","internal customer","merge requests","missed-deliverable","missed:12.6","type::feature"],"milestone":{"id":891798,"iid":41,"group_id":9970,"title":"12.7","description":"https://about.gitlab.com/releases/2020/01/22/gitlab-12-7-released/","state":"closed","created_at":"2019-05-31T08:38:04.523Z","updated_at":"2020-05-19T13:46:24.737Z","due_date":"2020-01-17","start_date":"2019-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/41"},"assignees":[{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"}],"author":{"id":49814,"username":"rriemann","name":"Robert Riemann","state":"active","avatar_url":"https://secure.gravatar.com/avatar/e1b35acfc03fce595ff9930007997f40?s=80\u0026d=identicon","web_url":"https://gitlab.com/rriemann"},"type":"ISSUE","assignee":{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"},"user_notes_count":17,"merge_requests_count":0,"upvotes":5,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/26543","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/26543","notes":"https://gitlab.com/api/v4/projects/278964/issues/26543/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/26543/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#26543","relative":"#26543","full":"gitlab-org/gitlab#26543"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":832,"epic":{"id":4261,"iid":832,"title":"❤️ Make suggested changes lovable","url":"/groups/gitlab-org/-/epics/832","group_id":9970,"human_readable_end_date":"Oct 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":24688668,"iid":26529,"project_id":278964,"title":"Delete notes_service.js","description":"The [notes store actions](https://gitlab.com/gitlab-org/gitlab-ce/blob/1350e3ae37be6768d5a24dfe69aaf08f63fa79a9/app/assets/javascripts/notes/stores/actions.js) sometimes use axios and sometimes [notes_service.js](https://gitlab.com/gitlab-org/gitlab-ce/blob/1350e3ae37be6768d5a24dfe69aaf08f63fa79a9/app/assets/javascripts/notes/services/notes_service.js) which internally uses `VueResource`. This adds unnecessary complexity. We should delete `notes_service.js` and replace it with axios calls in the notes store actions.\n\nsee also https://gitlab.com/gitlab-org/gitlab-ce/issues/39727","state":"closed","created_at":"2019-02-04T10:39:55.127Z","updated_at":"2022-05-19T16:13:50.437Z","closed_at":"2020-02-28T11:04:18.489Z","closed_by":{"id":411701,"username":"kushalpandya","name":"Kushal Pandya","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/411701/avatar.png","web_url":"https://gitlab.com/kushalpandya"},"labels":["Community contribution","backstage [DEPRECATED]","devops::plan","frontend","group::project management","issues","maintenance::refactor","merge requests"],"milestone":{"id":1001916,"iid":44,"group_id":9970,"title":"12.9","description":"https://about.gitlab.com/releases/2020/03/22/gitlab-12-9-released","state":"closed","created_at":"2019-09-15T20:54:50.875Z","updated_at":"2020-09-02T11:04:41.671Z","due_date":"2020-03-17","start_date":"2020-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/44"},"assignees":[{"id":713197,"username":"terales","name":"Alex Terekhov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/2cb5cff49b61fed325a6feb9d2a905aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/terales"}],"author":{"id":1212235,"username":"winh","name":"Inactive Account","state":"active","avatar_url":"https://secure.gravatar.com/avatar/e34b010c96ff3f44c62cddf66607232a?s=80\u0026d=identicon","web_url":"https://gitlab.com/winh"},"type":"ISSUE","assignee":{"id":713197,"username":"terales","name":"Alex Terekhov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/2cb5cff49b61fed325a6feb9d2a905aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/terales"},"user_notes_count":18,"merge_requests_count":1,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/26529","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/26529","notes":"https://gitlab.com/api/v4/projects/278964/issues/26529/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/26529/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#26529","relative":"#26529","full":"gitlab-org/gitlab#26529"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":17933107,"iid":9578,"project_id":278964,"title":"Burndown Chart: Completion rate is not correct","description":"### Summary\n\n[Milestone 11.8](https://gitlab.com/groups/gitlab-org/-/milestones/23) shows a completion rate of 62%, but it's only 47%.\n\n\n### Steps to reproduce\n\nSee [milestone 11.8](https://gitlab.com/groups/gitlab-org/-/milestones/23) in group [gitlab-org](https://gitlab.com/gitlab-org) on gitlab.com\n\n\n### Example Project\n\nSee [milestone 11.8](https://gitlab.com/groups/gitlab-org/-/milestones/23) in group [gitlab-org](https://gitlab.com/gitlab-org) on gitlab.com\n\n### What is the current *bug* behavior?\n\nThe milestone completion rate does not match the actual completion state. 316 closed issues out of 666 issues are 47%.  \nMoreover, the graph shows around 2/3 of remaining work, while the completion rate says 1/3 of remaining work ...\n\n### What is the expected *correct* behavior?\n\nThe completion rate should match the relation between closed and total issues.\n\n### Relevant logs and/or screenshots\n\n![image](/uploads/954bcd83792752a98268c7391dcdc878/image.png)\n\n### Output of checks\n\nThis bug happens on GitLab.com\n\n\n### Possible fixes\n\n1. check the new algorithm to calculate and render a milestone's burndown chart.","state":"closed","created_at":"2019-02-04T00:31:18.625Z","updated_at":"2022-05-19T16:13:38.804Z","closed_at":"2019-06-04T21:54:28.089Z","closed_by":{"id":15139,"username":"rspeicher","name":"Robert Speicher","state":"active","avatar_url":"https://secure.gravatar.com/avatar/73c8253932541a7b5cbc5d79493f2bea?s=80\u0026d=identicon","web_url":"https://gitlab.com/rspeicher"},"labels":["Enterprise Edition","backend","burndown/up charts","devops::plan","issues","priority::3","severity::3","type::bug"],"milestone":{"id":693518,"iid":33,"group_id":9970,"title":"12.0","description":"https://about.gitlab.com/releases/2019/06/22/gitlab-12-0-released/","state":"closed","created_at":"2018-10-30T16:47:37.975Z","updated_at":"2020-04-22T19:51:03.475Z","due_date":"2019-06-22","start_date":"2019-05-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/33"},"assignees":[{"id":3483274,"username":"acroitor","name":"Alexandru Croitor","state":"active","avatar_url":"https://secure.gravatar.com/avatar/461378ef52c26eec55e6c15ec09bb9ed?s=80\u0026d=identicon","web_url":"https://gitlab.com/acroitor"}],"author":{"id":655546,"username":"paebbels","name":"Patrick Lehmann","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/655546/avatar.png","web_url":"https://gitlab.com/paebbels"},"type":"ISSUE","assignee":{"id":3483274,"username":"acroitor","name":"Alexandru Croitor","state":"active","avatar_url":"https://secure.gravatar.com/avatar/461378ef52c26eec55e6c15ec09bb9ed?s=80\u0026d=identicon","web_url":"https://gitlab.com/acroitor"},"user_notes_count":3,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/9578","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/9578","notes":"https://gitlab.com/api/v4/projects/278964/issues/9578/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/9578/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#9578","relative":"#9578","full":"gitlab-org/gitlab#9578"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":17933112,"iid":9579,"project_id":278964,"title":"Burndown Chart: Number of open issues do not match open issues","description":"### Summary\n\nA milestone summary shows a burndown chart and a sidebar. When hovering the graph, the number of open issues is displayed. If one hovers the last data point, today's number of open issues is shown.\n\nThe number shown does not match the number in the sidebar.\n\n\n### Steps to reproduce\n\nSee [milestone 11.8](https://gitlab.com/groups/gitlab-org/-/milestones/23) in group [gitlab-org](https://gitlab.com/gitlab-org) on gitlab.com\n\n\n### Example Project\n\nSee [milestone 11.8](https://gitlab.com/groups/gitlab-org/-/milestones/23) in group [gitlab-org](https://gitlab.com/gitlab-org) on gitlab.com\n\n\n### What is the current *bug* behavior?\n\nThe number of open issues in the graph does not match the number of open issues in the sidebar. The numbers should be equal for the last day in the graph (current date/today).\n\n\n### What is the expected *correct* behavior?\n\nDisplay the number als shown in the sidebar.\n\n\n### Relevant logs and/or screenshots\n\n![image](/uploads/3503c5c1379fd78656c371e49d7564bc/image.png)  \n*Source: https://gitlab.com/groups/gitlab-org/-/milestones/23*\n\n### Output of checks\n\nThis bug happens on GitLab.com\n\n\n### Possible fixes\n\n1. check the new algorithm to calculate and render a milestone's burndown chart.","state":"closed","created_at":"2019-02-04T00:20:16.752Z","updated_at":"2022-05-19T16:13:38.977Z","closed_at":"2019-06-12T12:41:20.753Z","closed_by":{"id":171554,"username":"reprazent","name":"Bob Van Landuyt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/171554/avatar.png","web_url":"https://gitlab.com/reprazent"},"labels":["Enterprise Edition","backend","burndown/up charts","customer","devops::plan","issues","priority::3","severity::3","type::bug"],"milestone":{"id":693520,"iid":34,"group_id":9970,"title":"12.1","description":"https://about.gitlab.com/releases/2019/07/22/gitlab-12-1-released","state":"closed","created_at":"2018-10-30T16:47:58.826Z","updated_at":"2020-04-27T16:30:09.107Z","due_date":"2019-07-22","start_date":"2019-06-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/34"},"assignees":[{"id":3860200,"username":"egrieff","name":"Eugenia Grieff","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3860200/avatar.png","web_url":"https://gitlab.com/egrieff"}],"author":{"id":655546,"username":"paebbels","name":"Patrick Lehmann","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/655546/avatar.png","web_url":"https://gitlab.com/paebbels"},"type":"ISSUE","assignee":{"id":3860200,"username":"egrieff","name":"Eugenia Grieff","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3860200/avatar.png","web_url":"https://gitlab.com/egrieff"},"user_notes_count":12,"merge_requests_count":1,"upvotes":5,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/9579","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/9579","notes":"https://gitlab.com/api/v4/projects/278964/issues/9579/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/9579/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#9579","relative":"#9579","full":"gitlab-org/gitlab#9579"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":24688643,"iid":26523,"project_id":278964,"title":"Use Merged Results in GitLab CE/EE","description":"## Problem\n\nRecently, https://gitlab.com/gitlab-org/release/framework/issues/106 caught a lot of attention. Our `master` branch frequently had red pipelines and it disturbed our release streamline. Because of that, many developers had to keep eyes on #development channel for immediately acting on the fix aside from their primary tasks.\n\nMeanwhile, in GitLab 11.10, we released the [Combined ref pipelines](https://docs.gitlab.com/ee/ci/merge_request_pipelines/#combined-ref-pipelines-premium) feature, this feature proactively checks the pipeline result on master branch **before the actual merge happens**. This feature will derisk gitlab-ce~3496950 of course, as the consequence, [our throughputs](https://about.gitlab.com/handbook/engineering/management/throughput/) would increase as developers are less bothered by the complicated gitlab-ce~3496950 recovery process.\n\n## Proposal\n\nEnable [Combined ref pipelines](https://docs.gitlab.com/ee/ci/merge_request_pipelines/#combined-ref-pipelines-premium) in our development cycle.\n\n## Blockers\n\n- https://gitlab.com/gitlab-org/gitlab-ce/issues/60085\n","state":"closed","created_at":"2019-02-03T13:28:22.493Z","updated_at":"2019-11-13T07:41:08.863Z","closed_at":"2019-10-28T17:55:55.526Z","closed_by":{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"labels":["Category:Continuous Delivery","Dogfooding","Dogfooding::Use Existing Feature","Engineering Productivity","Quality","ci-build","missed:12.4","priority::2","priority::3"],"milestone":{"id":731039,"iid":38,"group_id":9970,"title":"12.4","description":"https://about.gitlab.com/releases/2019/10/22/gitlab-12-4-released","state":"closed","created_at":"2018-12-07T12:41:53.212Z","updated_at":"2020-04-27T16:30:43.889Z","due_date":"2019-10-17","start_date":"2019-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/38"},"assignees":[{"id":4156460,"username":"ogolowinski","name":"Orit Golowinski","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4156460/avatar.png","web_url":"https://gitlab.com/ogolowinski"}],"author":{"id":758045,"username":"shinya.maeda","name":"Shinya Maeda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/758045/avatar.png","web_url":"https://gitlab.com/shinya.maeda"},"type":"ISSUE","assignee":{"id":4156460,"username":"ogolowinski","name":"Orit Golowinski","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4156460/avatar.png","web_url":"https://gitlab.com/ogolowinski"},"user_notes_count":41,"merge_requests_count":0,"upvotes":3,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/26523","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/26523","notes":"https://gitlab.com/api/v4/projects/278964/issues/26523/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/26523/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#26523","relative":"#26523","full":"gitlab-org/gitlab#26523"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":1853,"epic":{"id":11763,"iid":1853,"title":"EP: GitLab project pipeline improvements","url":"/groups/gitlab-org/-/epics/1853","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":null},{"id":17892943,"iid":9557,"project_id":278964,"title":"Jira integration is broken on project settings","description":"### Summary\n\nAfter upgrading to Gitlab 11.6.5 EE we can no longer enable Jira integration on projects when using its service template.\n\n### Steps to reproduce\n\n* Create a service template for Jira integration, with a password\n* Try to enable it on a project\n* Get `Validation failed. Password can't be blank`\n\n### What is the current *bug* behavior?\n\nJira integration cannot be enabled with the default service template.\nIf it was enabled before and you try to disable and then re-enable again, you will be asked for a required password (i.e. https://gitlab.com/gitlab-org/gitlab-ee/blob/v11.6.5-ee/app/views/shared/_field.html.haml#L27 The value is blank so the field is required)\n\n### What is the expected *correct* behavior?\n\nIf the service template already has a password it should not be asked again.\n\n### Output of checks\n\n(If you are reporting a bug on GitLab.com, write: This bug happens on GitLab.com)\n\n### Possible fixes\n\nThis line of code is always evaluated to false:\nhttps://gitlab.com/gitlab-org/gitlab-ee/blob/v11.6.5-ee/app/controllers/concerns/service_params.rb#L74\nIt is not considered a Hash. Here there is a String representation of its value:\n```\n{\"active\"=\u003e\"1\", \"api_url\"=\u003e\"\", \"jira_issue_transition_id\"=\u003e\"2\", \"merge_requests_events\"=\u003e\"1\", \"password\"=\u003e\"\", \"url\"=\u003e\"https://\u003cour_general_instance\u003e/jira\", \"username\"=\u003e\"\u003cusername\u003e\", \"commit_events\"=\u003e\"1\"}\n```\nSince this if is never true, the password is never removed from the list, and keeps asking for a value to enter.\n\n**Moved to https://gitlab.com/gitlab-org/gitlab-ce/issues/57221**","state":"closed","created_at":"2019-02-01T17:18:28.299Z","updated_at":"2022-05-19T16:13:38.441Z","closed_at":"2019-02-04T08:49:54.305Z","closed_by":{"id":443319,"username":"smcgivern","name":"Sean McGivern","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/443319/avatar.png","web_url":"https://gitlab.com/smcgivern"},"labels":["Enterprise Edition","Integration::Jira","customer","devops::plan","priority::2","severity::2","type::bug"],"milestone":{"id":655279,"iid":27,"group_id":9970,"title":"11.10","description":"","state":"closed","created_at":"2018-09-21T19:08:16.261Z","updated_at":"2019-05-21T09:17:49.051Z","due_date":"2019-04-22","start_date":"2019-03-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/27"},"assignees":[],"author":{"id":1606236,"username":"djuarezg","name":"Daniel Juarez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1606236/avatar.png","web_url":"https://gitlab.com/djuarezg"},"type":"ISSUE","assignee":null,"user_notes_count":2,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/9557","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/9557","notes":"https://gitlab.com/api/v4/projects/278964/issues/9557/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/9557/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#9557","relative":"#9557","full":"gitlab-org/gitlab#9557"},"severity":"UNKNOWN","moved_to_id":17928622,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":17858169,"iid":9538,"project_id":278964,"title":"Implement endpoint to perform request to services running in builds","description":"As a part of https://gitlab.com/gitlab-org/gitlab-ee/issues/5276 we need a new endpoint (possibly in the `EE::JobsController`) that will generate the proper metadata that would allow performing requests to services running in the build in a specific port.\n\nIn order to make this work we would need also https://gitlab.com/gitlab-org/gitlab-runner/issues/3948 and https://gitlab.com/gitlab-org/gitlab-workhorse/issues/205. Once the Web IDE performs a request to a specific endpoint in Workhorse, it will receive a request that will be modified with the proper metadata to pass the Workhorse validations and finally make the request get to the runner.\n\nThis metadata will be:\n- the `url` that we want to send to the runner. It will have the format `/session/uuid/proxy/\u003cbuild|or|service-name\u003e/\u003cport\u003e/\u003crequested-uri\u003e`. Where `port` is the port where the build service is running and `requested-uri` is the url that we want to request. The method used will be the same one of the current request.\n- `header` with the `Authorization` headers\n- `CAPem` which will hold the runner certificate.\n- `Subprotocols` in order to be able to use websockets\n\nFollow-up issue https://gitlab.com/gitlab-org/gitlab-ee/issues/11078","state":"closed","created_at":"2019-01-31T18:13:11.128Z","updated_at":"2019-08-12T15:07:56.758Z","closed_at":"2019-04-12T12:56:45.354Z","closed_by":{"id":572018,"username":"nick.thomas","name":"Nick Thomas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/572018/avatar.png","web_url":"https://gitlab.com/nick.thomas"},"labels":["Category:Web IDE","Create [DEPRECATED]","Deliverable","Enterprise Edition","backend","devops::create","missed-deliverable","missed:11.9","workflow::in review"],"milestone":{"id":655280,"iid":28,"group_id":9970,"title":"11.11","description":"","state":"closed","created_at":"2018-09-21T19:08:37.027Z","updated_at":"2019-06-10T14:39:00.009Z","due_date":"2019-05-22","start_date":"2019-04-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/28"},"assignees":[{"id":955795,"username":"fjsanpedro","name":"Francisco Javier López","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"}],"author":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier López","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"type":"ISSUE","assignee":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier López","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"user_notes_count":3,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/9538","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/9538","notes":"https://gitlab.com/api/v4/projects/278964/issues/9538/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/9538/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#9538","relative":"#9538","full":"gitlab-org/gitlab#9538"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":167,"epic":{"id":301,"iid":167,"title":"Server side evaluation in the Web IDE","url":"/groups/gitlab-org/-/epics/167","group_id":9970,"human_readable_end_date":"Jul 22, 2019","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":24688550,"iid":26483,"project_id":278964,"title":"Move permission check of canReadEnvironment to BE","description":"On the environments list page the permission check for `canReadEnvironment` happens [on the frontend](https://gitlab.com/gitlab-org/gitlab-ce/blob/ed6b49b175368cdca2363988a85178fa9abea465/app/assets/javascripts/environments/components/environment_item.vue#L545-553). It is passed on to a child component at least 7 times.\n\nThis permission check should happen on the backend at time of [creating the entity](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/controllers/projects/environments_controller.rb#L244) and simply return a null/empty `externalUrl` and `monitoringUrl` if the user doesn't have permission.","state":"closed","created_at":"2019-01-31T15:27:58.004Z","updated_at":"2021-09-08T22:08:09.782Z","closed_at":"2021-09-08T22:08:09.719Z","closed_by":{"id":5622641,"username":"nicolewilliams","name":"Nicole Williams","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5622641/avatar.png","web_url":"https://gitlab.com/nicolewilliams"},"labels":["Category:Environment Management","Release::P3","backend","backend-weight::1","devops::release","environments","frontend","frontend-weight::1","group::release","maintenance::refactor","section::ops","workflow::in review"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":262533,"username":"afontaine","name":"Andrew Fontaine","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/262533/avatar.png","web_url":"https://gitlab.com/afontaine"},{"id":9396342,"username":"acook.gitlab","name":"Allen Cook","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9396342/avatar.png","web_url":"https://gitlab.com/acook.gitlab"}],"author":{"id":3029776,"username":"shampton","name":"Scott Hampton","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3029776/avatar.png","web_url":"https://gitlab.com/shampton"},"type":"ISSUE","assignee":{"id":262533,"username":"afontaine","name":"Andrew Fontaine","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/262533/avatar.png","web_url":"https://gitlab.com/afontaine"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/26483","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/26483","notes":"https://gitlab.com/api/v4/projects/278964/issues/26483/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/26483/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#26483","relative":"#26483","full":"gitlab-org/gitlab#26483"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3299,"epic":{"id":53425,"iid":3299,"title":"Environments: Technical Debt","url":"/groups/gitlab-org/-/epics/3299","group_id":9970,"human_readable_end_date":"Sep 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":19073111,"iid":10398,"project_id":278964,"title":"Clone wiki shows button without function","description":"### Summary\n\nThe clone wiki page on GitLab.com shows the `See Geo-specific instructions` button but it has no function.\n\n### Steps to reproduce\n\nVisit https://gitlab.com/splitt3r/wiki/wikis/git_access and press the button.\n\n### Example Project\n\nhttps://gitlab.com/splitt3r/wiki/wikis/git_access\n\n### Relevant logs and/or screenshots\n\n![image](/uploads/24903f4a86139376d647d3c49152b225/image.png)","state":"closed","created_at":"2019-01-31T11:55:36.665Z","updated_at":"2019-12-11T20:03:38.558Z","closed_at":"2019-03-14T09:39:12.472Z","closed_by":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"labels":["Enterprise Edition","Geo Administration","devops::systems","frontend","group::geo","reproduced on GitLab.com","type::bug","workflow::in review"],"milestone":{"id":655279,"iid":27,"group_id":9970,"title":"11.10","description":"","state":"closed","created_at":"2018-09-21T19:08:16.261Z","updated_at":"2019-05-21T09:17:49.051Z","due_date":"2019-04-22","start_date":"2019-03-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/27"},"assignees":[{"id":2293,"username":"brodock","name":"Gabriel Mazetto","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2293/avatar.png","web_url":"https://gitlab.com/brodock"}],"author":{"id":1243277,"username":"ghost1","name":"Ghost User","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4249f4df72b475e7894fabed1c5888cf?s=80\u0026d=identicon","web_url":"https://gitlab.com/ghost1"},"type":"ISSUE","assignee":{"id":2293,"username":"brodock","name":"Gabriel Mazetto","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2293/avatar.png","web_url":"https://gitlab.com/brodock"},"user_notes_count":9,"merge_requests_count":1,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/10398","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/10398","notes":"https://gitlab.com/api/v4/projects/278964/issues/10398/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/10398/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#10398","relative":"#10398","full":"gitlab-org/gitlab#10398"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":24688498,"iid":26466,"project_id":278964,"title":"GitLab importing repositories from GitHub shouldn't result in 500 error","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"bug\" label.\n\nFor the Community Edition issue tracker:\n\n- https://gitlab.com/gitlab-org/gitlab-ce/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab-ce/issues?label_name%5B%5D=bug\n\nFor the Enterprise Edition issue tracker:\n\n- https://gitlab.com/gitlab-org/gitlab-ee/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab-ee/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\nWhen trying to import repositories from GitHub, the attempt results in `502` HTTP error.\n\n### Steps to reproduce\n\n*  click `+` (to the left of the search field at the top)\n*  choose `New Project`\n*  `Import Project`\n*  Pick `GitHub`\n\n**NOTE** This might be somehow related to my GutHub account only but I don't have a way to confirm that it works for any other account at the moment.\n\nIf you've authorised GitLab to access your GutHub account then, after a while, you'll probably get `502` right away.\nIn case you haven't authorised GitLab to access your GitHub account yet, 2 scenarios lead to the same `502`:\n\n*  Click the first of two \"List your GitHub repositories\" buttons. This will bring you to the \"Authorise application\" screen at GutHub. After authorising GitLab to access your GutHub account, after some time, the import results in `502`.\n*  Another way leading to the same result:\n\n    *  Go to [Personal access token](https://github.com/settings/tokens/new) page at GitHub and generate a new `repo` token for \"Full control of private repositories\"\n    * Copy the token\n    * Back at GitLab, paste the token into \"Personal Access Token\" input field and click \"List your GitHub repositories\" button next to it. After some time it resolves into `502`.\n\n### What is the current *bug* behavior?\n\nAnyhow I try to import repositories from GitHub, it resolves into `502` HTTP error.\n\n### What is the expected *correct* behavior?\n\nProbably a list of GitHub repositories where I pick the ones to import to GitLab.\n\n### Output of checks\n\nThis bug happens on GitLab.com\n\n### Possible workaround\n\nCreate a new GitHub account and share the specific projects you want to import into GitLab with that GitHub user. Then use the new GitHub account to import the projects you want into GitLab.\n\n### Related Support Tickets (internal)\n\n- https://gitlab.zendesk.com/agent/tickets/112996\n- https://gitlab.zendesk.com/agent/tickets/113675\n- https://gitlab.zendesk.com/agent/tickets/129094","state":"closed","created_at":"2019-01-30T22:23:01.186Z","updated_at":"2021-10-06T16:22:50.727Z","closed_at":"2020-04-16T12:55:17.057Z","closed_by":{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"},"labels":["Category:Importers","DEPRECATED_import","Github","Importer:GitHub","backend","customer","devops::manage","gitlab.com","group::import","missed-SLO","missed:12.3","movingtogitlab","priority::2","reproduced on GitLab.com","severity::2","type::bug","workflow::verification"],"milestone":{"id":1104429,"iid":46,"group_id":9970,"title":"12.10","description":"https://about.gitlab.com/releases/2020/04/22/gitlab-12-10-released","state":"closed","created_at":"2019-12-20T15:15:53.243Z","updated_at":"2020-10-08T12:00:39.852Z","due_date":"2020-04-17","start_date":"2020-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/46"},"assignees":[{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"}],"author":{"id":3199302,"username":"dmishunov","name":"Denys Mishunov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d85e45af29611ac2c1395e3c3d6ec5d6?s=80\u0026d=identicon","web_url":"https://gitlab.com/dmishunov"},"type":"ISSUE","assignee":{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"},"user_notes_count":42,"merge_requests_count":0,"upvotes":6,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/26466","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/26466","notes":"https://gitlab.com/api/v4/projects/278964/issues/26466/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/26466/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#26466","relative":"#26466","full":"gitlab-org/gitlab#26466"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3050,"epic":{"id":39430,"iid":3050,"title":"🐞 GitHub Importer bugs","url":"/groups/gitlab-org/-/epics/3050","group_id":9970},"iteration":null,"health_status":null},{"id":24688485,"iid":26463,"project_id":278964,"title":"CI/CD Environment Variables scope to specific environment Pipeline job","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\nWhen defining environment variables in the project settings, the `Environment` drop down **appears to be** exclusively a search and select control. The user cannot see/select the environments that already exist for the project without searching first.\n\nFrom our perspective I would expect the drop down to contain environments that have already been defined in the .gitlab-ci.yml file at the very least. As we got more familiar with this feature it seems to support wildcard matching so thats been very helpful in allowing us the flexibility to target multiple environments with the same set of environment variables. For example we have the \"environments\" column set to :\n\nItem 1: coolapp-dev Item 2: coolapp-prod Item 3: coolapp-\\* Item 4: \\*\n\nSo this has been working for us but I dont think the behavior is very obvious from a UI perspective.\n\n### Steps to reproduce\n\nI created environment called test2. in Gitlab Project -\u003e Settings -\u003e CI/CD -\u003e Environment Variables -\u003e Create new variable (API_KEY). Couldn't scope this new variable to a specific environment test2. We need pipelines created for each environment and each environment uses different set of environment variables.\n\n* Gitlab Version: 11.7.0-ee.0.el7\n* OS RHEL 7.6 x86_64\n\n### What is the current *bug* behavior?\n\nIn the image below, there are 2 environments configured for the project:\n\n![image1](/uploads/dac26a099c977e9ad24bb62703f5122c/image1.png)\n\n... but these environments doesn't appear in `Environment Variables` dropdown:\n\n![image2](/uploads/350a4f91a6ce6281437c23db983e16b1/image2.png)\n\n### What is the expected *correct* behavior?\n\nThe `Environment Variables` dropdown should display the 2 environments configured for the project.\n\n### Proposed Solution\n\n* In `settings/ci_cd`, under the `Variables` section:\n* When open, the `Environments scope` dropdown should display a list of all **available** environments configured in the project.\n  * Environments should be listed alphabetically.\n  * If applicable, environments should be listed per group.\n    * Each group should display the respective environments.\n* The scope `* (All environments)` should be displayed on the first position of the list.\n\nNote: emptying the search box inside the **Environment Scope** dropdown initially would go a long ways in making this more discoverable. This would allow the dropdown to show all (well, the first 20) environments right off the bat without the users having to clear the search input first.","state":"closed","created_at":"2019-01-30T18:53:55.570Z","updated_at":"2022-07-12T23:10:41.799Z","closed_at":"2021-03-02T20:36:22.757Z","closed_by":{"id":262533,"username":"afontaine","name":"Andrew Fontaine","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/262533/avatar.png","web_url":"https://gitlab.com/afontaine"},"labels":["Category:Release Orchestration","Deliverable","Release::P2","UI polish","UX","[deprecated] low hanging fruit","cicd::active","customer","devops::release","frontend","group::release","priority::3","release post item::in review","section::ops","severity::3","type::bug","workflow::verification"],"milestone":{"id":1233761,"iid":57,"group_id":9970,"title":"13.10","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.646Z","updated_at":"2022-04-21T07:22:00.171Z","due_date":"2021-03-17","start_date":"2021-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/57"},"assignees":[{"id":262533,"username":"afontaine","name":"Andrew Fontaine","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/262533/avatar.png","web_url":"https://gitlab.com/afontaine"}],"author":{"id":3468185,"username":"kvijay460","name":"kvijay460","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a7fa4e37202c50e2416d27398e971dcb?s=80\u0026d=identicon","web_url":"https://gitlab.com/kvijay460"},"type":"ISSUE","assignee":{"id":262533,"username":"afontaine","name":"Andrew Fontaine","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/262533/avatar.png","web_url":"https://gitlab.com/afontaine"},"user_notes_count":76,"merge_requests_count":0,"upvotes":6,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/26463","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/26463","notes":"https://gitlab.com/api/v4/projects/278964/issues/26463/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/26463/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#26463","relative":"#26463","full":"gitlab-org/gitlab#26463"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3295,"epic":{"id":53416,"iid":3295,"title":"Environments: Redesign Bugs and Features","url":"/groups/gitlab-org/-/epics/3295","group_id":9970,"human_readable_end_date":"Jul 31, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":17819495,"iid":9508,"project_id":278964,"title":"Discovery: Perform secret detection on full history of the repository","description":"### Problem to solve\n\nSecret Detection will check the latest version of the repo (or latest commit) as implemented in https://gitlab.com/gitlab-org/gitlab-ee/issues/6719.\n\nUsers may want to check secrets in the entire history of their repositories. Even if we run checks on each pipeline, there are cases where this is not enough (`ci skip`, job disabled, etc).\n\nUsers may also want to check just the list of commits of a specific merge request, to ensure they are not introducing any secret with their changes.\n\n### Target audience\n\n- Delaney, Development Team Lead, https://design.gitlab.com/research/personas#persona-delaney\n- Sasha, Software Developer, https://design.gitlab.com/research/personas#persona-sasha\n- Sidney, Systems Administrator, https://design.gitlab.com/research/personas#persona-sidney\n- Sam, Security Analyst, https://design.gitlab.com/research/personas#persona-sam\n\n\u003e**JTBD:** When protecting my project against secret leaks, I want to know if there are secrets in my commit history, so that I can be assured my companies keys are safe from bad actors.  \n\n### Proposal\n\nAllow users to set the secret detection mode via an environment variable.\n\n1. Full scan of the repo commit history through a custom variable: `SECRET_FULL_HISTORY`.\n1. Decouple SAST and secret detection analyzers.\n1. Display secret detection results in a separate section from vulnerabilities. \n\n### What does success look like, and how can we measure that?\n\nNumber of executions with this variable set.\n\n### What is the type of buyer? \n\nExecutives\n\n\n### Design: \n\n### MVC \n\n#### Scope: \n\nThis will begin at the project level for now and we will create another issue to add this feature at the group level in future iterations. Areas of the application that will have UI changes: \n\n- Project level dashboard\n- Pipeline page\n- MR page \n\n#### Designs \n\n#### Project Dashboard \n| **Project dashboard** | **Project dashboard w/alert** |\n| ------ | ------ |\n|  ![Project-dashboard-vuln-tab](/uploads/b0e5d1a751864f41c1da458e3201e9b1/Project-dashboard-vuln-tab.png) | ![Project-dashboard-vuln-tab-w-alert](/uploads/5d8d60f53360f3ab5534c9080039a2fd/Project-dashboard-vuln-tab-w-alert.png)  |\n| IF Full history scan has been run.  | IF Full history scan has **not** been run | \n| + {+ Tabs added to top of filter section +} | + {+ Alert added to top of page +} | \n| + {+ Counters added to the badges +} |  | \n| - {- Page title is removed -}  |    | \n\n---\n\n##### Alert language\n\n#### `Full history secret scan not detected`\nLook for past instances where secrets may have unintentionally revealed in your project. Learn more about running a full history scan [here](link to docs).\n\n```\nThis would link to documentation about detailing how to run a pipeline with the custom variable. \n``` \n\n---\n\n| **Project dashboard - secrets tab** | \n| ------ |\n| ![Project-dashboard-secrets-tab](/uploads/97ef134c6055f05e344f38894e67152d/Project-dashboard-secrets-tab.png)  | \n| - {- Filtering is removed -}  | \n| - {- Confidence level is removed -}  | \n| / Interactions remain the same as today | \n\nNo other changes to the dashboard other than adding the tab and removing the ability to filter and confidence labels. The decision to remove these features was based on the low value they provide to the user. Today there isn't a way to filter the secrets list in a meaningful way. With confidence, I choose to remove it since all confidence levels from gitleaks are `unknown` thus not helpful to the user. A secret is a secret and it should be looked into regardless of the confidence we have in our detection. \n\n#### Pipeline \u0026 MR \n\nMinor changes to these areas are anticipated due to the direction of adding a new parser. \n\n| **MR** | **Pipeline report** |\n| ------ | ------ |\n| ![MR](/uploads/e59426e1aad802525d13923dc6c5a290/MR.png) | ![Pipeline](/uploads/2a732f2db3ab8977afebba10133d26f2/Pipeline.png) |\n| + {+ Secret section in MR security widget +} | + {+ Secret section in pipeline security tab +}  | \n| - {- Confidence level is removed -} |  - {- Confidence level is removed -} | \n| / Section works the same as the others today  | / Section works the same as the others today | \n| / Interacting with these types of vulnerabilities remains the same as today | / Interacting with these types of vulnerabilities remains the same as today |\n\n\n### Discovery Status: \n\n* [x]  Understand problem and ask \n* [x]  Familarize with Secret Detection and how it's handled in the industry  \n* [x]  Wireframe a solution \n* [x]  Gather feedback on solution \n* [x]  Finalize experience and designs \n  * [x]  ~~Update or add to the design system (if necessary)~~ \n* [x]  Propose final designs with descriptions, mocks, videos, prototypes as necessary\n* [x]  Break proposal down into an MVC candidate \n* [ ]  Create follow-up issues to fill the gap between the final proposal and MVC. \n\n\n### Decisions: \n1. Start at the project level for the MVC.\n1. Secret detection will be [decoupled from SAST](https://gitlab.com/gitlab-org/gitlab-ee/issues/9508#note_199651075)\n1. Custom variable `SECRET_FULL_HISTORY` will be used to scan the full commit history of the project through a manual pipeline. \n1. Secrets will get a dedicated section in the Project dashboard, MR, and pipeline sections.  ","state":"closed","created_at":"2019-01-30T18:26:20.436Z","updated_at":"2020-04-17T18:37:04.276Z","closed_at":"2019-08-08T14:13:45.867Z","closed_by":{"id":2338871,"username":"andyvolpe","name":"Andy Volpe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2338871/avatar.png","web_url":"https://gitlab.com/andyvolpe"},"labels":["Enterprise Edition","Secure UX::Security Scanning \u0026 Testing","devops::secure","group::static analysis","product discovery [DEPRECATED]","severity::1","type::feature"],"milestone":{"id":693521,"iid":35,"group_id":9970,"title":"12.2","description":"https://about.gitlab.com/releases/2019/08/22/gitlab-12-2-released","state":"closed","created_at":"2018-10-30T16:48:32.567Z","updated_at":"2020-04-27T16:30:20.799Z","due_date":"2019-08-22","start_date":"2019-07-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/35"},"assignees":[{"id":2338871,"username":"andyvolpe","name":"Andy Volpe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2338871/avatar.png","web_url":"https://gitlab.com/andyvolpe"}],"author":{"id":1273957,"username":"bikebilly","name":"Fabio Busatto","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1273957/avatar.png","web_url":"https://gitlab.com/bikebilly"},"type":"ISSUE","assignee":{"id":2338871,"username":"andyvolpe","name":"Andy Volpe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2338871/avatar.png","web_url":"https://gitlab.com/andyvolpe"},"user_notes_count":42,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/9508","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":9,"completed_count":8},"weight":8,"blocking_issues_count":0,"has_tasks":true,"task_status":"8 of 9 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/9508","notes":"https://gitlab.com/api/v4/projects/278964/issues/9508/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/9508/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#9508","relative":"#9508","full":"gitlab-org/gitlab#9508"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2921,"epic":{"id":33187,"iid":2921,"title":"MVC: Perform secret detection on full history of the repository","url":"/groups/gitlab-org/-/epics/2921","group_id":9970,"human_readable_end_date":"Jun 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":24688479,"iid":26461,"project_id":278964,"title":"Wrong week of the day displayed in the issue board","description":"### Summary\n\nFor the issues that have due date coming in less than 7 days, week of the day is presented to the user instead of the exact date (e.g. _Friday_ instead of _Feb 1_). However, for some users, wrong weekday is displayed (most probably previous or next one, e.g. _Thursday_ or _Saturday_ instead of _Friday_).\n\n### Steps to reproduce\n\nCreate an issue with due date coming in less than 7 days and observe the board containing it from different timezone.\n\n### Example Project\n[Issue board on test project](https://gitlab.com/mhuseinbasic/due_date/boards)\n\n### What is the current *bug* behavior?\n\nWrong day of the week is displayed.\n\n### What is the expected *correct* behavior?\n\nCorrect day of the week is displayed.\n\n### Relevant logs and/or screenshots\n\nThe board in the example project linked above accessed by me (UTC+1):\n![Screen_Shot_2019-01-30_at_17.08.52](/uploads/db04aab2e14d703b5f39a63e237dab20/Screen_Shot_2019-01-30_at_17.08.52.png)\n\nThe board in the example project linked above accessed by @victorwu (UTC-5):\n![Screen_Shot_2019-01-30_at_11.10.08](/uploads/d2b9cc79148384e7d1b947f90aa64b53/Screen_Shot_2019-01-30_at_11.10.08.png)\n\n### Output of checks\nThis bug happens on GitLab.com","state":"closed","created_at":"2019-01-30T17:46:36.936Z","updated_at":"2022-09-01T10:10:25.724Z","closed_at":"2019-09-24T13:48:09.259Z","closed_by":{"id":4545397,"username":"cngo","name":"Coung Ngo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4545397/avatar.png","web_url":"https://gitlab.com/cngo"},"labels":["Category:Team Planning","boards","customer","devops::plan","frontend","group::project management","priority::3","reproduced on GitLab.com","section::dev","severity::2","type::bug","workflow::production"],"milestone":{"id":731039,"iid":38,"group_id":9970,"title":"12.4","description":"https://about.gitlab.com/releases/2019/10/22/gitlab-12-4-released","state":"closed","created_at":"2018-12-07T12:41:53.212Z","updated_at":"2020-04-27T16:30:43.889Z","due_date":"2019-10-17","start_date":"2019-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/38"},"assignees":[{"id":4545397,"username":"cngo","name":"Coung Ngo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4545397/avatar.png","web_url":"https://gitlab.com/cngo"}],"author":{"id":2539756,"username":"mhuseinbasic","name":"Muhamed Huseinbašić","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cf5abf6ef3e7c2048502203b310d3226?s=80\u0026d=identicon","web_url":"https://gitlab.com/mhuseinbasic"},"type":"ISSUE","assignee":{"id":4545397,"username":"cngo","name":"Coung Ngo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4545397/avatar.png","web_url":"https://gitlab.com/cngo"},"user_notes_count":8,"merge_requests_count":0,"upvotes":4,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/26461","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/26461","notes":"https://gitlab.com/api/v4/projects/278964/issues/26461/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/26461/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#26461","relative":"#26461","full":"gitlab-org/gitlab#26461"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":24688464,"iid":26456,"project_id":278964,"title":"Add ability to associate feature flag with contextual issue","description":"### Problem to solve\n\nOur feature flag list interface is nice, but it may be unclear what a feature flag was just by reading the name. Typically this will be an operations person coming in and looking for a feature flag and wanting to understand what they are looking at.\n\nFrom the issue side, we can make it clear what the status of the associated feature flag is for that feature.\n\nThe combination of these two would make it easy to understand what feature flags are for and what the status of an issue is as it relates to feature flags.\n\n### Target audience\n\n- Sidney, Systems Administrator, https://design.gitlab.com/research/personas#persona-sidney\n- Product Manager (or others who are setting or need to know the state of feature flags)\n\n### Further details\n\nFuture phases:\nOnce we connect between the feature flag and the associated issue we can further enhance the transparency by adding the environment on which the feature flag is enabled and later on the % rollout.\nAfter that we can enable the user to click on the feature flag from the issue to change its settings and vice versa, the environment will list the associated flags within it (already exists) and a list of the related issues that can be clickable as well.\n\n### Proposal\n\nAllow users to be able to map a given feature flag to a change that introduced it. This could be linked to from various places where we show the feature flag (issue, mr, epic), adding important context.\n\n### UX Proposal\n\n#### Associate a feature flag on issues by mentioning\n  - Feature flags can be mentioned/linked in the description and comments to add relationship\n  - Mentions can be made using a link to the feature flag\n  - References across projects can be made with links and should be displayed with shortened links(ie gitlab-ce^89012)\n\n\n#### Feature Flag Detail screen\n\n##### Add section for related issues \n  -  Issues can be added by using the '+'\n  - If there are no related issues, still show the component (empty state)\n\n#### Future Issues\nMentions with auto-complete: https://gitlab.com/gitlab-org/gitlab/-/issues/212772\n  - Mentions can be made using the `^` symbol \n  -  Issues can be added by mentioning/linking in the feature flag description-   \n  - When editing description/comment entering `^` should bring up an autocomplete list with available feature flags.\n\n\n| Description | Mockup |\n| ------ | ------ |\n| Feature flag details | ![FeatureFlagDetail](/uploads/e9356e7e14e69415db9acea9950eb827/FeatureFlagDetail.png) |\n\n\n#### TODOs\n\n* [ ] 1 for the widget\n* [ ] 1 for state management (loading the mentions)\n* [ ] 1 for related feature flags box on the issue side\n* [ ] 1 for the table (I think we only need a table for the linking widget - I think mentions may work with the existing db schema, but I'm not 100% sure)\n* [ ] 1 for CRUD operations for the widget\n* [ ] documentation\n\n### What does success look like, and how can we measure that?\n\nAmount of clicks from issue to feature flag and vice vera\n\n### Links / references","state":"closed","created_at":"2019-01-30T16:02:39.869Z","updated_at":"2022-06-01T05:12:45.596Z","closed_at":"2020-07-16T17:50:12.708Z","closed_by":{"id":3716529,"username":"jagood","name":"Jason Goodman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6696c95a1788e2d4bee67df636805ecc?s=80\u0026d=identicon","web_url":"https://gitlab.com/jagood"},"labels":["Category:Feature Flags","Deliverable","GitLab Premium","GitLab Starter","Persona: Systems Administrator","Product Vision FY20","Release::P1","UX","backend","cicd::active","devops::release","direction","frontend","group::release","highlight","internal customer","missed-deliverable","missed:12.4","missed:12.5","missed:12.6","type::feature","workflow::verification"],"milestone":{"id":1233746,"iid":49,"group_id":9970,"title":"13.2","description":"https://about.gitlab.com/releases/2020/07/22/gitlab-13-2-released/","state":"closed","created_at":"2020-04-09T17:28:01.032Z","updated_at":"2022-04-13T14:48:24.167Z","due_date":"2020-07-17","start_date":"2020-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/49"},"assignees":[{"id":489558,"username":"dimitrieh","name":"Dimitrie Hoekstra","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/489558/avatar.png","web_url":"https://gitlab.com/dimitrieh"},{"id":3716529,"username":"jagood","name":"Jason Goodman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6696c95a1788e2d4bee67df636805ecc?s=80\u0026d=identicon","web_url":"https://gitlab.com/jagood"}],"author":{"id":2243533,"username":"jyavorska","name":"Jason Yavorska","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2243533/avatar.png","web_url":"https://gitlab.com/jyavorska"},"type":"ISSUE","assignee":{"id":489558,"username":"dimitrieh","name":"Dimitrie Hoekstra","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/489558/avatar.png","web_url":"https://gitlab.com/dimitrieh"},"user_notes_count":147,"merge_requests_count":0,"upvotes":5,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/26456","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":6,"completed_count":0},"weight":4,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 6 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/26456","notes":"https://gitlab.com/api/v4/projects/278964/issues/26456/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/26456/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#26456","relative":"#26456","full":"gitlab-org/gitlab#26456"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3977,"epic":{"id":83947,"iid":3977,"title":"Feature Flag Context within GitLab","url":"/groups/gitlab-org/-/epics/3977","group_id":9970,"human_readable_end_date":"Jul 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":17814794,"iid":9506,"project_id":278964,"title":"Move all EE specific specs to the ee/specs directory","description":"EE specific code that resides in `spec` should be moved to\ncorresponding EE specific tests that reside in `ee/spec`.\n\n## Differences\n\n\u003cdetails\u003e\n\u003csummary\u003espec/controllers/projects/project_members_controller_spec.rb https://gitlab.com/gitlab-org/gitlab-ee/merge_requests/14823\u003c/summary\u003e\n\n```diff\ndiff --git a/spec/controllers/projects/project_members_controller_spec.rb b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/spec/controllers/projects/project_members_controller_spec.rb\nindex 4141e41c7a7..1c3ada0dfa5 100644\n--- a/spec/controllers/projects/project_members_controller_spec.rb\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/spec/controllers/projects/project_members_controller_spec.rb\n@@ -4,7 +4,8 @@ require('spec_helper')\n \n describe Projects::ProjectMembersController do\n   let(:user) { create(:user) }\n-  let(:project) { create(:project, :public, :access_requestable) }\n+  let(:project) { create(:project, :public, :access_requestable, namespace: namespace) }\n+  let(:namespace) { create :group }\n \n   describe 'GET index' do\n     it 'has the project_members address with a 200 status code' do\n@@ -315,6 +316,13 @@ describe Projects::ProjectMembersController do\n   end\n \n   describe 'POST apply_import' do\n+    subject(:apply_import) do\n+      post(:apply_import, params: {\n+        namespace_id: project.namespace,\n+        project_id: project,\n+        source_project_id: another_project.id\n+      })\n+    end\n     let(:another_project) { create(:project, :private) }\n     let(:member) { create(:user) }\n \n@@ -324,40 +332,44 @@ describe Projects::ProjectMembersController do\n       sign_in(user)\n     end\n \n-    shared_context 'import applied' do\n-      before do\n-        post(:apply_import, params: {\n-                              namespace_id: project.namespace,\n-                              project_id: project,\n-                              source_project_id: another_project.id\n-                            })\n-      end\n-    end\n-\n     context 'when user can access source project members' do\n       before do\n         another_project.add_guest(user)\n       end\n \n-      include_context 'import applied'\n-\n       it 'imports source project members' do\n+        apply_import\n+\n         expect(project.team_members).to include member\n         expect(response).to set_flash.to 'Successfully imported'\n         expect(response).to redirect_to(\n           project_project_members_path(project)\n         )\n       end\n+\n+      context 'and the project group has membership lock enabled' do\n+        before do\n+          project.namespace.update(membership_lock: true)\n+        end\n+\n+        it 'responds with 403' do\n+          apply_import\n+\n+          expect(response.status).to eq 403\n+        end\n+      end\n     end\n \n     context 'when user is not member of a source project' do\n-      include_context 'import applied'\n-\n       it 'does not import team members' do\n+        apply_import\n+\n         expect(project.team_members).not_to include member\n       end\n \n       it 'responds with not found' do\n+        apply_import\n+\n         expect(response.status).to eq 404\n       end\n     end\n@@ -365,40 +377,78 @@ describe Projects::ProjectMembersController do\n \n   describe 'POST create' do\n     let(:stranger) { create(:user) }\n+    subject(:create_member) do\n+      post :create, params: {\n+        user_ids: stranger.id,\n+        namespace_id: project.namespace,\n+        access_level: access_level,\n+        project_id: project\n+      }\n+    end\n+    let(:access_level) { nil }\n+\n+    before do\n+      project.add_maintainer(user)\n+      sign_in(user)\n+    end\n \n     context 'when creating owner' do\n-      before do\n-        project.add_maintainer(user)\n-        sign_in(user)\n-      end\n+      let(:access_level) { Member::OWNER }\n \n       it 'does not create a member' do\n-        expect do\n-          post :create, params: {\n-                          user_ids: stranger.id,\n-                          namespace_id: project.namespace,\n-                          access_level: Member::OWNER,\n-                          project_id: project\n-                        }\n-        end.to change { project.members.count }.by(0)\n+        expect { create_member }.not_to change { project.members.count }\n       end\n     end\n \n     context 'when create maintainer' do\n+      let(:access_level) { Member::MAINTAINER }\n+\n+      it 'creates a member' do\n+        expect { create_member }.to change { project.members.count }.by(1)\n+      end\n+    end\n+\n+    context 'when project group has membership lock enabled' do\n       before do\n-        project.add_maintainer(user)\n-        sign_in(user)\n+        project.namespace.update(membership_lock: true)\n       end\n \n-      it 'creates a member' do\n-        expect do\n-          post :create, params: {\n-                          user_ids: stranger.id,\n-                          namespace_id: project.namespace,\n-                          access_level: Member::MAINTAINER,\n-                          project_id: project\n-                        }\n-        end.to change { project.members.count }.by(1)\n+      it 'responds with 403' do\n+        create_member\n+\n+        expect(response.status).to eq 403\n+      end\n+    end\n+  end\n+\n+  describe 'GET import' do\n+    subject(:import) do\n+      get :import, params: {\n+        namespace_id: project.namespace,\n+        project_id: project\n+      }\n+    end\n+\n+    before do\n+      project.add_maintainer(user)\n+      sign_in(user)\n+    end\n+\n+    it 'responds with 200' do\n+      import\n+\n+      expect(response.status).to eq 200\n+    end\n+\n+    context 'when project group has membership lock enabled' do\n+      before do\n+        project.namespace.update(membership_lock: true)\n+      end\n+\n+      it 'responds with 403' do\n+        import\n+\n+        expect(response.status).to eq 403\n       end\n     end\n   end\n```\n\n\u003c/details\u003e\n\u003cdetails\u003e\n\u003csummary\u003espec/db/schema_spec.rb: https://gitlab.com/gitlab-org/gitlab-ce/merge_requests/31109\u003c/summary\u003e\n\n```diff\ndiff --git a/spec/db/schema_spec.rb b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/spec/db/schema_spec.rb\nindex 6cfec5f4017..74b2f7ebfed 100644\n--- a/spec/db/schema_spec.rb\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/spec/db/schema_spec.rb\n@@ -1,12 +1,16 @@\n # frozen_string_literal: true\n \n require 'spec_helper'\n+require Rails.root.join('ee', 'spec', 'db', 'schema_support')\n \n describe 'Database schema' do\n+  prepend ::EE::DB::SchemaSupport\n+\n   let(:connection) { ActiveRecord::Base.connection }\n   let(:tables) { connection.tables }\n \n   # Use if you are certain that this column should not have a foreign key\n+  # EE: edit the ee/spec/db/schema_support.rb\n   IGNORED_FK_COLUMNS = {\n     abuse_reports: %w[reporter_id user_id],\n     application_settings: %w[performance_bar_allowed_group_id slack_app_id snowplow_site_id],\n```\n\n\u003c/details\u003e\n\u003cdetails\u003e\n\u003csummary\u003espec/features/dashboard/todos/todos_filtering_spec.rb: https://gitlab.com/gitlab-org/gitlab-ce/merge_requests/31109\u003c/summary\u003e\n\n```diff\ndiff --git a/spec/features/dashboard/todos/todos_filtering_spec.rb b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/spec/features/dashboard/todos/todos_filtering_spec.rb\nindex 85f865321cf..3ea42748936 100644\n--- a/spec/features/dashboard/todos/todos_filtering_spec.rb\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/spec/features/dashboard/todos/todos_filtering_spec.rb\n@@ -4,23 +4,36 @@ describe 'Dashboard \u003e User filters todos', :js do\n   let(:user_1)    { create(:user, username: 'user_1', name: 'user_1') }\n   let(:user_2)    { create(:user, username: 'user_2', name: 'user_2') }\n \n-  let(:project_1) { create(:project, name: 'project_1') }\n-  let(:project_2) { create(:project, name: 'project_2') }\n+  let(:group1) { create(:group) }\n+  let(:group2) { create(:group) }\n \n-  let(:issue) { create(:issue, title: 'issue', project: project_1) }\n+  let(:project_1) { create(:project, name: 'project_1', namespace: group1) }\n+  let(:project_2) { create(:project, name: 'project_2', namespace: group1) }\n+  let(:project_3) { create(:project, name: 'project_3', namespace: group2) }\n+\n+  let(:issue1) { create(:issue, title: 'issue', project: project_1) }\n+  let(:issue2) { create(:issue, title: 'issue', project: project_3) }\n \n   let!(:merge_request) { create(:merge_request, source_project: project_2, title: 'merge_request') }\n \n   before do\n-    create(:todo, user: user_1, author: user_2, project: project_1, target: issue, action: 1)\n+    create(:todo, user: user_1, author: user_2, project: project_1, target: issue1, action: 1)\n+    create(:todo, user: user_1, author: user_2, project: project_3, target: issue2, action: 1)\n     create(:todo, user: user_1, author: user_1, project: project_2, target: merge_request, action: 2)\n \n     project_1.add_developer(user_1)\n     project_2.add_developer(user_1)\n+    project_3.add_developer(user_1)\n     sign_in(user_1)\n     visit dashboard_todos_path\n   end\n \n+  it 'displays all todos without a filter' do\n+    expect(page).to have_content issue1.to_reference(full: true)\n+    expect(page).to have_content merge_request.to_reference(full: true)\n+    expect(page).to have_content issue2.to_reference(full: true)\n+  end\n+\n   it 'filters by project' do\n     click_button 'Project'\n     within '.dropdown-menu-project' do\n@@ -34,6 +47,20 @@ describe 'Dashboard \u003e User filters todos', :js do\n     expect(page).not_to have_content project_2.full_name\n   end\n \n+  it 'filters by group' do\n+    click_button 'Group'\n+    within '.dropdown-menu-group' do\n+      fill_in 'Search groups', with: group1.full_name\n+      click_link group1.full_name\n+    end\n+\n+    wait_for_requests\n+\n+    expect(page).to     have_content issue1.to_reference(full: true)\n+    expect(page).to     have_content merge_request.to_reference(full: true)\n+    expect(page).not_to have_content issue2.to_reference(full: true)\n+  end\n+\n   context 'Author filter' do\n     it 'filters by author' do\n       click_button 'Author'\n@@ -63,7 +90,7 @@ describe 'Dashboard \u003e User filters todos', :js do\n     it 'shows only authors of existing done todos' do\n       user_3 = create :user\n       user_4 = create :user\n-      create(:todo, user: user_1, author: user_3, project: project_1, target: issue, action: 1, state: :done)\n+      create(:todo, user: user_1, author: user_3, project: project_1, target: issue1, action: 1, state: :done)\n       create(:todo, user: user_1, author: user_4, project: project_2, target: merge_request, action: 2, state: :done)\n \n       project_1.add_developer(user_3)\n@@ -92,14 +119,15 @@ describe 'Dashboard \u003e User filters todos', :js do\n \n     wait_for_requests\n \n-    expect(find('.todos-list')).to     have_content issue.to_reference\n+    expect(find('.todos-list')).to     have_content issue1.to_reference\n+    expect(find('.todos-list')).to     have_content issue2.to_reference\n     expect(find('.todos-list')).not_to have_content merge_request.to_reference\n   end\n \n   describe 'filter by action' do\n     before do\n       create(:todo, :build_failed, user: user_1, author: user_2, project: project_1)\n-      create(:todo, :marked, user: user_1, author: user_2, project: project_1, target: issue)\n+      create(:todo, :marked, user: user_1, author: user_2, project: project_1, target: issue1)\n     end\n \n     it 'filters by Assigned' do\n```\n\n\u003c/details\u003e\n\u003cdetails\u003e\n\u003csummary\u003espec/features/protected_tags_spec.rb https://gitlab.com/gitlab-org/gitlab-ce/merge_requests/31109\u003c/summary\u003e\n\n```diff\ndiff --git a/spec/features/protected_tags_spec.rb b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/spec/features/protected_tags_spec.rb\nindex 652542b1719..7b9dde29ce9 100644\n--- a/spec/features/protected_tags_spec.rb\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/spec/features/protected_tags_spec.rb\n@@ -14,6 +14,7 @@ describe 'Protected Tags', :js do\n     it \"allows creating explicit protected tags\" do\n       visit project_protected_tags_path(project)\n       set_protected_tag_name('some-tag')\n+      set_allowed_to('create')\n       click_on \"Protect\"\n \n       within(\".protected-tags-list\") { expect(page).to have_content('some-tag') }\n@@ -27,6 +28,7 @@ describe 'Protected Tags', :js do\n \n       visit project_protected_tags_path(project)\n       set_protected_tag_name('some-tag')\n+      set_allowed_to('create')\n       click_on \"Protect\"\n \n       within(\".protected-tags-list\") { expect(page).to have_content(commit.id[0..7]) }\n@@ -35,6 +37,7 @@ describe 'Protected Tags', :js do\n     it \"displays an error message if the named tag does not exist\" do\n       visit project_protected_tags_path(project)\n       set_protected_tag_name('some-tag')\n+      set_allowed_to('create')\n       click_on \"Protect\"\n \n       within(\".protected-tags-list\") { expect(page).to have_content('tag was removed') }\n@@ -45,6 +48,7 @@ describe 'Protected Tags', :js do\n     it \"allows creating protected tags with a wildcard\" do\n       visit project_protected_tags_path(project)\n       set_protected_tag_name('*-stable')\n+      set_allowed_to('create')\n       click_on \"Protect\"\n \n       within(\".protected-tags-list\") { expect(page).to have_content('*-stable') }\n@@ -58,6 +62,7 @@ describe 'Protected Tags', :js do\n \n       visit project_protected_tags_path(project)\n       set_protected_tag_name('*-stable')\n+      set_allowed_to('create')\n       click_on \"Protect\"\n \n       within(\".protected-tags-list\") do\n@@ -73,6 +78,7 @@ describe 'Protected Tags', :js do\n \n       visit project_protected_tags_path(project)\n       set_protected_tag_name('*-stable')\n+      set_allowed_to('create')\n       click_on \"Protect\"\n \n       visit project_protected_tags_path(project)\n```\n\n\u003c/details\u003e\n\u003cdetails\u003e\n\u003csummary\u003espec/features/security/profile_access_spec.rb https://gitlab.com/gitlab-org/gitlab-ee/merge_requests/14823\u003c/summary\u003e\n\n```diff\ndiff --git a/spec/features/security/profile_access_spec.rb b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/spec/features/security/profile_access_spec.rb\nindex 044a47567be..9fa5ae0df7d 100644\n--- a/spec/features/security/profile_access_spec.rb\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/spec/features/security/profile_access_spec.rb\n@@ -10,6 +10,7 @@ describe \"Profile access\" do\n \n     it { is_expected.to be_allowed_for :admin }\n     it { is_expected.to be_allowed_for :user }\n+    it { is_expected.to be_allowed_for :auditor }\n     it { is_expected.to be_denied_for :visitor }\n   end\n \n@@ -18,6 +19,7 @@ describe \"Profile access\" do\n \n     it { is_expected.to be_allowed_for :admin }\n     it { is_expected.to be_allowed_for :user }\n+    it { is_expected.to be_allowed_for :auditor }\n     it { is_expected.to be_denied_for :visitor }\n   end\n \n@@ -26,6 +28,7 @@ describe \"Profile access\" do\n \n     it { is_expected.to be_allowed_for :admin }\n     it { is_expected.to be_allowed_for :user }\n+    it { is_expected.to be_allowed_for :auditor }\n     it { is_expected.to be_denied_for :visitor }\n   end\n \n@@ -34,6 +37,7 @@ describe \"Profile access\" do\n \n     it { is_expected.to be_allowed_for :admin }\n     it { is_expected.to be_allowed_for :user }\n+    it { is_expected.to be_allowed_for :auditor }\n     it { is_expected.to be_denied_for :visitor }\n   end\n \n@@ -42,6 +46,7 @@ describe \"Profile access\" do\n \n     it { is_expected.to be_allowed_for :admin }\n     it { is_expected.to be_allowed_for :user }\n+    it { is_expected.to be_allowed_for :auditor }\n     it { is_expected.to be_denied_for :visitor }\n   end\n \n@@ -50,6 +55,7 @@ describe \"Profile access\" do\n \n     it { is_expected.to be_allowed_for :admin }\n     it { is_expected.to be_allowed_for :user }\n+    it { is_expected.to be_allowed_for :auditor }\n     it { is_expected.to be_denied_for :visitor }\n   end\n end\n```\n\n\u003c/details\u003e\n\u003cdetails\u003e\n\u003csummary\u003espec/features/security/project/private_access_spec.rb: https://gitlab.com/gitlab-org/gitlab-ce/merge_requests/31119\u003c/summary\u003e\n\n```diff\ndiff --git a/spec/features/security/project/private_access_spec.rb b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/spec/features/security/project/private_access_spec.rb\nindex f380bc122a7..65dbae1c674 100644\n--- a/spec/features/security/project/private_access_spec.rb\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/spec/features/security/project/private_access_spec.rb\n@@ -126,7 +126,7 @@ describe \"Private Project Access\" do\n \n   describe \"GET /:project_path/blob\" do\n     let(:commit) { project.repository.commit }\n-    subject { project_blob_path(project, File.join(commit.id, '.gitignore'))}\n+    subject { project_blob_path(project, File.join(commit.id, '.gitignore')) }\n \n     it { is_expected.to be_allowed_for(:admin) }\n     it { is_expected.to be_allowed_for(:owner).of(project) }\n```\n\n\u003c/details\u003e\n\u003cdetails\u003e\n\u003csummary\u003espec/features/usage_stats_consent_spec.rb https://gitlab.com/gitlab-org/gitlab-ce/merge_requests/31109\u003c/summary\u003e\n\n```diff\ndiff --git a/spec/features/usage_stats_consent_spec.rb b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/spec/features/usage_stats_consent_spec.rb\nindex dd8f3179895..86da58581c5 100644\n--- a/spec/features/usage_stats_consent_spec.rb\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/spec/features/usage_stats_consent_spec.rb\n@@ -8,7 +8,7 @@ describe 'Usage stats consent' do\n     let(:message) { 'To help improve GitLab, we would like to periodically collect usage information.' }\n \n     before do\n-      allow(user).to receive(:has_current_license?).and_return false\n+      allow_any_instance_of(EE::User).to receive(:has_current_license?).and_return false\n \n       gitlab_sign_in(user)\n     end\n```\n\n\u003c/details\u003e\n\u003cdetails\u003e\n\u003csummary\u003espec/fixtures/lib/gitlab/metrics/dashboard/schemas/dashboard.json: https://gitlab.com/gitlab-org/gitlab-ce/merge_requests/31119\u003c/summary\u003e\n\n```diff\ndiff --git a/spec/fixtures/lib/gitlab/metrics/dashboard/schemas/dashboard.json b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/spec/fixtures/lib/gitlab/metrics/dashboard/schemas/dashboard.json\nindex 1ee1205e29a..5d779a323c2 100644\n--- a/spec/fixtures/lib/gitlab/metrics/dashboard/schemas/dashboard.json\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/spec/fixtures/lib/gitlab/metrics/dashboard/schemas/dashboard.json\n@@ -1,6 +1,10 @@\n {\n   \"type\": \"object\",\n-  \"required\": [\"dashboard\", \"priority\", \"panel_groups\"],\n+  \"required\": [\n+    \"dashboard\",\n+    \"priority\",\n+    \"panel_groups\"\n+  ],\n   \"properties\": {\n     \"dashboard\": { \"type\": \"string\" },\n     \"priority\": { \"type\": \"number\" },\n```\n\n\u003c/details\u003e\n\u003cdetails\u003e\n\u003csummary\u003espec/lib/banzai/filter/wiki_link_filter_spec.rb https://gitlab.com/gitlab-org/gitlab-ce/merge_requests/31109\u003c/summary\u003e\n\n```diff\ndiff --git a/spec/lib/banzai/filter/wiki_link_filter_spec.rb b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/spec/lib/banzai/filter/wiki_link_filter_spec.rb\nindex cce1cd0b284..75745310d43 100644\n--- a/spec/lib/banzai/filter/wiki_link_filter_spec.rb\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/spec/lib/banzai/filter/wiki_link_filter_spec.rb\n@@ -88,7 +88,7 @@ describe Banzai::Filter::WikiLinkFilter do\n         \"javascript\u0026#x003A;\",\n         \"java\\0script:\",\n         \" \u0026#14;  javascript:\"\n-        ]\n+      ]\n \n       invalid_slugs.each do |slug|\n         context \"with the slug #{slug}\" do\n```\n\n\u003c/details\u003e\n\u003cdetails\u003e\n\u003csummary\u003espec/lib/gitlab/ci/config/entry/job_spec.rb https://gitlab.com/gitlab-org/gitlab-ee/merge_requests/14823\u003c/summary\u003e\n\n```diff\ndiff --git a/spec/lib/gitlab/ci/config/entry/job_spec.rb b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/spec/lib/gitlab/ci/config/entry/job_spec.rb\nindex 25766d34c65..c34e3ec9af1 100644\n--- a/spec/lib/gitlab/ci/config/entry/job_spec.rb\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/spec/lib/gitlab/ci/config/entry/job_spec.rb\n@@ -176,6 +176,46 @@ describe Gitlab::Ci::Config::Entry::Job do\n         end\n       end\n \n+      context 'when parallel value is not correct' do\n+        context 'when it is not a numeric value' do\n+          let(:config) { { parallel: true } }\n+\n+          it 'returns error about invalid type' do\n+            expect(entry).not_to be_valid\n+            expect(entry.errors).to include 'job parallel is not a number'\n+          end\n+        end\n+\n+        context 'when it is lower than two' do\n+          let(:config) { { parallel: 1 } }\n+\n+          it 'returns error about value too low' do\n+            expect(entry).not_to be_valid\n+            expect(entry.errors)\n+              .to include 'job parallel must be greater than or equal to 2'\n+          end\n+        end\n+\n+        context 'when it is bigger than 50' do\n+          let(:config) { { parallel: 51 } }\n+\n+          it 'returns error about value too high' do\n+            expect(entry).not_to be_valid\n+            expect(entry.errors)\n+              .to include 'job parallel must be less than or equal to 50'\n+          end\n+        end\n+\n+        context 'when it is not an integer' do\n+          let(:config) { { parallel: 1.5 } }\n+\n+          it 'returns error about wrong value' do\n+            expect(entry).not_to be_valid\n+            expect(entry.errors).to include 'job parallel must be an integer'\n+          end\n+        end\n+      end\n+\n       context 'when delayed job' do\n         context 'when start_in is specified' do\n           let(:config) { { script: 'echo', when: 'delayed', start_in: '1 day' } }\n```\n\n\u003c/details\u003e\n\u003cdetails\u003e\n\u003csummary\u003espec/lib/gitlab/git_ref_validator_spec.rb https://gitlab.com/gitlab-org/gitlab-ee/merge_requests/14823\u003c/summary\u003e\n\n```diff\ndiff --git a/spec/lib/gitlab/git_ref_validator_spec.rb b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/spec/lib/gitlab/git_ref_validator_spec.rb\nindex b63389af29f..6fc41cd64f9 100644\n--- a/spec/lib/gitlab/git_ref_validator_spec.rb\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/spec/lib/gitlab/git_ref_validator_spec.rb\n@@ -4,66 +4,66 @@ describe Gitlab::GitRefValidator do\n   using RSpec::Parameterized::TableSyntax\n \n   context '.validate' do\n-    it { expect(described_class.validate('feature/new')).to be true }\n-    it { expect(described_class.validate('implement_@all')).to be true }\n-    it { expect(described_class.validate('my_new_feature')).to be true }\n-    it { expect(described_class.validate('my-branch')).to be true }\n-    it { expect(described_class.validate('#1')).to be true }\n-    it { expect(described_class.validate('feature/refs/heads/foo')).to be true }\n-    it { expect(described_class.validate('feature/~new/')).to be false }\n-    it { expect(described_class.validate('feature/^new/')).to be false }\n-    it { expect(described_class.validate('feature/:new/')).to be false }\n-    it { expect(described_class.validate('feature/?new/')).to be false }\n-    it { expect(described_class.validate('feature/*new/')).to be false }\n-    it { expect(described_class.validate('feature/[new/')).to be false }\n-    it { expect(described_class.validate('feature/new/')).to be false }\n-    it { expect(described_class.validate('feature/new.')).to be false }\n-    it { expect(described_class.validate('feature\\@{')).to be false }\n-    it { expect(described_class.validate('feature\\new')).to be false }\n-    it { expect(described_class.validate('feature//new')).to be false }\n-    it { expect(described_class.validate('feature new')).to be false }\n-    it { expect(described_class.validate('refs/heads/')).to be false }\n-    it { expect(described_class.validate('refs/remotes/')).to be false }\n-    it { expect(described_class.validate('refs/heads/feature')).to be false }\n-    it { expect(described_class.validate('refs/remotes/origin')).to be false }\n-    it { expect(described_class.validate('-')).to be false }\n-    it { expect(described_class.validate('-branch')).to be false }\n-    it { expect(described_class.validate('+foo:bar')).to be false }\n-    it { expect(described_class.validate('foo:bar')).to be false }\n-    it { expect(described_class.validate('.tag')).to be false }\n-    it { expect(described_class.validate('my branch')).to be false }\n-    it { expect(described_class.validate(\"\\xA0\\u0000\\xB0\")).to be false }\n+    it { expect(described_class.validate('feature/new')).to be_truthy }\n+    it { expect(described_class.validate('implement_@all')).to be_truthy }\n+    it { expect(described_class.validate('my_new_feature')).to be_truthy }\n+    it { expect(described_class.validate('my-branch')).to be_truthy }\n+    it { expect(described_class.validate('#1')).to be_truthy }\n+    it { expect(described_class.validate('feature/refs/heads/foo')).to be_truthy }\n+    it { expect(described_class.validate('feature/~new/')).to be_falsey }\n+    it { expect(described_class.validate('feature/^new/')).to be_falsey }\n+    it { expect(described_class.validate('feature/:new/')).to be_falsey }\n+    it { expect(described_class.validate('feature/?new/')).to be_falsey }\n+    it { expect(described_class.validate('feature/*new/')).to be_falsey }\n+    it { expect(described_class.validate('feature/[new/')).to be_falsey }\n+    it { expect(described_class.validate('feature/new/')).to be_falsey }\n+    it { expect(described_class.validate('feature/new.')).to be_falsey }\n+    it { expect(described_class.validate('feature\\@{')).to be_falsey }\n+    it { expect(described_class.validate('feature\\new')).to be_falsey }\n+    it { expect(described_class.validate('feature//new')).to be_falsey }\n+    it { expect(described_class.validate('feature new')).to be_falsey }\n+    it { expect(described_class.validate('refs/heads/')).to be_falsey }\n+    it { expect(described_class.validate('refs/remotes/')).to be_falsey }\n+    it { expect(described_class.validate('refs/heads/feature')).to be_falsey }\n+    it { expect(described_class.validate('refs/remotes/origin')).to be_falsey }\n+    it { expect(described_class.validate('-')).to be_falsey }\n+    it { expect(described_class.validate('-branch')).to be_falsey }\n+    it { expect(described_class.validate('+foo:bar')).to be_falsey }\n+    it { expect(described_class.validate('foo:bar')).to be_falsey }\n+    it { expect(described_class.validate('.tag')).to be_falsey }\n+    it { expect(described_class.validate('my branch')).to be_falsey }\n+    it { expect(described_class.validate(\"\\xA0\\u0000\\xB0\")).to be_falsey }\n   end\n \n   context '.validate_merge_request_branch' do\n-    it { expect(described_class.validate_merge_request_branch('HEAD')).to be true }\n-    it { expect(described_class.validate_merge_request_branch('feature/new')).to be true }\n-    it { expect(described_class.validate_merge_request_branch('implement_@all')).to be true }\n-    it { expect(described_class.validate_merge_request_branch('my_new_feature')).to be true }\n-    it { expect(described_class.validate_merge_request_branch('my-branch')).to be true }\n-    it { expect(described_class.validate_merge_request_branch('#1')).to be true }\n-    it { expect(described_class.validate_merge_request_branch('feature/refs/heads/foo')).to be true }\n-    it { expect(described_class.validate_merge_request_branch('feature/~new/')).to be false }\n-    it { expect(described_class.validate_merge_request_branch('feature/^new/')).to be false }\n-    it { expect(described_class.validate_merge_request_branch('feature/:new/')).to be false }\n-    it { expect(described_class.validate_merge_request_branch('feature/?new/')).to be false }\n-    it { expect(described_class.validate_merge_request_branch('feature/*new/')).to be false }\n-    it { expect(described_class.validate_merge_request_branch('feature/[new/')).to be false }\n-    it { expect(described_class.validate_merge_request_branch('feature/new/')).to be false }\n-    it { expect(described_class.validate_merge_request_branch('feature/new.')).to be false }\n-    it { expect(described_class.validate_merge_request_branch('feature\\@{')).to be false }\n-    it { expect(described_class.validate_merge_request_branch('feature\\new')).to be false }\n-    it { expect(described_class.validate_merge_request_branch('feature//new')).to be false }\n-    it { expect(described_class.validate_merge_request_branch('feature new')).to be false }\n-    it { expect(described_class.validate_merge_request_branch('refs/heads/master')).to be true }\n-    it { expect(described_class.validate_merge_request_branch('refs/heads/')).to be false }\n-    it { expect(described_class.validate_merge_request_branch('refs/remotes/')).to be false }\n-    it { expect(described_class.validate_merge_request_branch('-')).to be false }\n-    it { expect(described_class.validate_merge_request_branch('-branch')).to be false }\n-    it { expect(described_class.validate_merge_request_branch('+foo:bar')).to be false }\n-    it { expect(described_class.validate_merge_request_branch('foo:bar')).to be false }\n-    it { expect(described_class.validate_merge_request_branch('.tag')).to be false }\n-    it { expect(described_class.validate_merge_request_branch('my branch')).to be false }\n-    it { expect(described_class.validate_merge_request_branch(\"\\xA0\\u0000\\xB0\")).to be false }\n+    it { expect(described_class.validate_merge_request_branch('HEAD')).to be_truthy }\n+    it { expect(described_class.validate_merge_request_branch('feature/new')).to be_truthy }\n+    it { expect(described_class.validate_merge_request_branch('implement_@all')).to be_truthy }\n+    it { expect(described_class.validate_merge_request_branch('my_new_feature')).to be_truthy }\n+    it { expect(described_class.validate_merge_request_branch('my-branch')).to be_truthy }\n+    it { expect(described_class.validate_merge_request_branch('#1')).to be_truthy }\n+    it { expect(described_class.validate_merge_request_branch('feature/refs/heads/foo')).to be_truthy }\n+    it { expect(described_class.validate_merge_request_branch('feature/~new/')).to be_falsey }\n+    it { expect(described_class.validate_merge_request_branch('feature/^new/')).to be_falsey }\n+    it { expect(described_class.validate_merge_request_branch('feature/:new/')).to be_falsey }\n+    it { expect(described_class.validate_merge_request_branch('feature/?new/')).to be_falsey }\n+    it { expect(described_class.validate_merge_request_branch('feature/*new/')).to be_falsey }\n+    it { expect(described_class.validate_merge_request_branch('feature/[new/')).to be_falsey }\n+    it { expect(described_class.validate_merge_request_branch('feature/new/')).to be_falsey }\n+    it { expect(described_class.validate_merge_request_branch('feature/new.')).to be_falsey }\n+    it { expect(described_class.validate_merge_request_branch('feature\\@{')).to be_falsey }\n+    it { expect(described_class.validate_merge_request_branch('feature\\new')).to be_falsey }\n+    it { expect(described_class.validate_merge_request_branch('feature//new')).to be_falsey }\n+    it { expect(described_class.validate_merge_request_branch('feature new')).to be_falsey }\n+    it { expect(described_class.validate_merge_request_branch('refs/heads/master')).to be_truthy }\n+    it { expect(described_class.validate_merge_request_branch('refs/heads/')).to be_falsey }\n+    it { expect(described_class.validate_merge_request_branch('refs/remotes/')).to be_falsey }\n+    it { expect(described_class.validate_merge_request_branch('-')).to be_falsey }\n+    it { expect(described_class.validate_merge_request_branch('-branch')).to be_falsey }\n+    it { expect(described_class.validate_merge_request_branch('+foo:bar')).to be_falsey }\n+    it { expect(described_class.validate_merge_request_branch('foo:bar')).to be_falsey }\n+    it { expect(described_class.validate_merge_request_branch('.tag')).to be_falsey }\n+    it { expect(described_class.validate_merge_request_branch('my branch')).to be_falsey }\n+    it { expect(described_class.validate_merge_request_branch(\"\\xA0\\u0000\\xB0\")).to be_falsey }\n   end\n end\n```\n\n\u003c/details\u003e\n\u003cdetails\u003e\n\u003csummary\u003espec/lib/gitlab/object_hierarchy_spec.rb https://gitlab.com/gitlab-org/gitlab-ee/merge_requests/14823\u003c/summary\u003e\n\n```diff\ndiff --git a/spec/lib/gitlab/object_hierarchy_spec.rb b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/spec/lib/gitlab/object_hierarchy_spec.rb\nindex e6e9ae3223e..4154f9cbe80 100644\n--- a/spec/lib/gitlab/object_hierarchy_spec.rb\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/spec/lib/gitlab/object_hierarchy_spec.rb\n@@ -145,6 +145,20 @@ describe Gitlab::ObjectHierarchy, :postgresql do\n     end\n   end\n \n+  describe '#root' do\n+    it 'includes only the roots' do\n+      relation = described_class.new(Group.where(id: child2)).roots\n+\n+      expect(relation).to contain_exactly(parent)\n+    end\n+\n+    it 'when quering parent it includes parent' do\n+      relation = described_class.new(Group.where(id: parent)).roots\n+\n+      expect(relation).to contain_exactly(parent)\n+    end\n+  end\n+\n   describe '#all_objects' do\n     let(:relation) do\n       described_class.new(Group.where(id: child1.id)).all_objects\n```\n\n\u003c/details\u003e\n\u003cdetails\u003e\n\u003csummary\u003espec/lib/gitlab/search_results_spec.rb https://gitlab.com/gitlab-org/gitlab-ee/merge_requests/14823\u003c/summary\u003e\n\n```diff\ndiff --git a/spec/lib/gitlab/search_results_spec.rb b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/spec/lib/gitlab/search_results_spec.rb\nindex 3d27156b356..cc029038108 100644\n--- a/spec/lib/gitlab/search_results_spec.rb\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/spec/lib/gitlab/search_results_spec.rb\n@@ -272,7 +272,6 @@ describe Gitlab::SearchResults do\n       milestone_1 = create(:milestone, project: private_project_1, title: 'Private project with access milestone', state: 'closed')\n       milestone_2 = create(:milestone, project: internal_project, title: 'Internal project milestone')\n       milestone_3 = create(:milestone, project: public_project_1, title: 'Public project with milestones enabled milestone')\n-      # Global search scope takes user authorized projects, internal projects and public projects.\n       limit_projects = ProjectsFinder.new(current_user: user).execute\n \n       milestones = described_class.new(user, limit_projects, 'milestone').objects('milestones')\n```\n\n\u003c/details\u003e\n\u003cdetails\u003e\n\u003csummary\u003espec/lib/gitlab/sidekiq_config_spec.rb: https://gitlab.com/gitlab-org/gitlab-ee/merge_requests/14832\u003c/summary\u003e\n\n```diff\ndiff --git a/spec/lib/gitlab/sidekiq_config_spec.rb b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/spec/lib/gitlab/sidekiq_config_spec.rb\nindex 0c66d764851..9c83af740b7 100644\n--- a/spec/lib/gitlab/sidekiq_config_spec.rb\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/spec/lib/gitlab/sidekiq_config_spec.rb\n@@ -21,25 +21,4 @@ describe Gitlab::SidekiqConfig do\n       expect(queues).to include('default')\n     end\n   end\n-\n-  describe '.expand_queues' do\n-    it 'expands queue namespaces to concrete queue names' do\n-      queues = described_class.expand_queues(%w[cronjob])\n-\n-      expect(queues).to include('cronjob:stuck_import_jobs')\n-      expect(queues).to include('cronjob:stuck_merge_jobs')\n-    end\n-\n-    it 'lets concrete queue names pass through' do\n-      queues = described_class.expand_queues(%w[post_receive])\n-\n-      expect(queues).to include('post_receive')\n-    end\n-\n-    it 'lets unknown queues pass through' do\n-      queues = described_class.expand_queues(%w[unknown])\n-\n-      expect(queues).to include('unknown')\n-    end\n-  end\n end\n```\n\n\u003c/details\u003e\n\u003cdetails\u003e\n\u003csummary\u003espec/requests/api/pipelines_spec.rb https://gitlab.com/gitlab-org/gitlab-ee/merge_requests/14823\u003c/summary\u003e\n\n```diff\ndiff --git a/spec/requests/api/pipelines_spec.rb b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/spec/requests/api/pipelines_spec.rb\nindex 35b3dd219f7..ba68c517f81 100644\n--- a/spec/requests/api/pipelines_spec.rb\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/spec/requests/api/pipelines_spec.rb\n@@ -532,8 +532,14 @@ describe API::Pipelines do\n         expect(json_response['message']).to eq '404 Not found'\n       end\n \n-      it 'does not log an audit event' do\n-        expect { delete api(\"/projects/#{project.id}/pipelines/#{pipeline.id}\", owner) }.not_to change { SecurityEvent.count }\n+      context 'when audit events is enabled' do\n+        before do\n+          stub_licensed_features(extended_audit_events: true, admin_audit_log: true)\n+        end\n+\n+        it 'does not log an audit event' do\n+          expect { delete api(\"/projects/#{project.id}/pipelines/#{pipeline.id}\", owner) }.not_to change { SecurityEvent.count }\n+        end\n       end\n \n       context 'when the pipeline has jobs' do\n```\n\n\u003c/details\u003e\n\u003cdetails\u003e\n\u003csummary\u003espec/requests/api/resource_label_events_spec.rb: https://gitlab.com/gitlab-org/gitlab-ee/merge_requests/14845\u003c/summary\u003e\n\n```diff\ndiff --git a/spec/requests/api/resource_label_events_spec.rb b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/spec/requests/api/resource_label_events_spec.rb\nindex 37b46eaeb86..588e9c7050e 100644\n--- a/spec/requests/api/resource_label_events_spec.rb\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/spec/requests/api/resource_label_events_spec.rb\n@@ -63,6 +63,22 @@ describe API::ResourceLabelEvents do\n     end\n   end\n \n+  context 'when eventable is an Epic' do\n+    let(:group) { create(:group, :public) }\n+    let(:epic) { create(:epic, group: group, author: user) }\n+\n+    before do\n+      group.add_owner(user)\n+      stub_licensed_features(epics: true)\n+    end\n+\n+    it_behaves_like 'resource_label_events API', 'groups', 'epics', 'id' do\n+      let(:parent) { group }\n+      let(:eventable) { epic }\n+      let!(:event) { create(:resource_label_event, epic: epic) }\n+    end\n+  end\n+\n   context 'when eventable is a Merge Request' do\n     let(:merge_request) { create(:merge_request, source_project: project, target_project: project, author: user) }\n```\n\n\u003c/details\u003e\n\u003cdetails\u003e\n\u003csummary\u003espec/services/ci/destroy_pipeline_service_spec.rb: https://gitlab.com/gitlab-org/gitlab-ee/merge_requests/14832\u003c/summary\u003e\n\n```diff\ndiff --git a/spec/services/ci/destroy_pipeline_service_spec.rb b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/spec/services/ci/destroy_pipeline_service_spec.rb\nindex bff2b3179fb..f7adfdc6cfa 100644\n--- a/spec/services/ci/destroy_pipeline_service_spec.rb\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/spec/services/ci/destroy_pipeline_service_spec.rb\n@@ -17,21 +17,6 @@ describe ::Ci::DestroyPipelineService do\n       expect { pipeline.reload }.to raise_error(ActiveRecord::RecordNotFound)\n     end\n \n-    it 'clears the cache', :use_clean_rails_memory_store_caching do\n-      create(:commit_status, :success, pipeline: pipeline, ref: pipeline.ref)\n-\n-      expect(project.pipeline_status.has_status?).to be_truthy\n-\n-      subject\n-\n-      # Need to use find to avoid memoization\n-      expect(Project.find(project.id).pipeline_status.has_status?).to be_falsey\n-    end\n-\n-    it 'does not log an audit event' do\n-      expect { subject }.not_to change { SecurityEvent.count }\n-    end\n-\n     context 'when the pipeline has jobs' do\n       let!(:build) { create(:ci_build, project: project, pipeline: pipeline) }\n```\n\n\u003c/details\u003e\n\u003cdetails\u003e\n\u003csummary\u003espec/services/quick_actions/interpret_service_spec.rb: https://gitlab.com/gitlab-org/gitlab-ce/merge_requests/31119\u003c/summary\u003e\n\n```diff\ndiff --git a/spec/services/quick_actions/interpret_service_spec.rb b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/spec/services/quick_actions/interpret_service_spec.rb\nindex 95a131e8c86..71c4c3ad0d7 100644\n--- a/spec/services/quick_actions/interpret_service_spec.rb\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/spec/services/quick_actions/interpret_service_spec.rb\n@@ -574,7 +574,7 @@ describe QuickActions::InterpretService do\n \n       context 'Issue' do\n         it 'populates assignee_ids: [] if content contains /unassign' do\n-          issue.update(assignee_ids: [developer.id])\n+          issue.update!(assignee_ids: [developer.id])\n           _, updates = service.execute(content, issue)\n \n           expect(updates).to eq(assignee_ids: [])\n@@ -583,7 +583,7 @@ describe QuickActions::InterpretService do\n \n       context 'Merge Request' do\n         it 'populates assignee_ids: [] if content contains /unassign' do\n-          merge_request.update(assignee_ids: [developer.id])\n+          merge_request.update!(assignee_ids: [developer.id])\n           _, updates = service.execute(content, merge_request)\n \n           expect(updates).to eq(assignee_ids: [])\n```\n\n\u003c/details\u003e\n\u003cdetails\u003e\n\u003csummary\u003espec/views/projects/merge_requests/creations/_new_submit.html.haml_spec.rb: https://gitlab.com/gitlab-org/gitlab-ce/merge_requests/31119\u003c/summary\u003e\n\n```diff\ndiff --git a/spec/views/projects/merge_requests/creations/_new_submit.html.haml_spec.rb b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/spec/views/projects/merge_requests/creations/_new_submit.html.haml_spec.rb\nindex 0206928a211..88c4b52b3a6 100644\n--- a/spec/views/projects/merge_requests/creations/_new_submit.html.haml_spec.rb\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/spec/views/projects/merge_requests/creations/_new_submit.html.haml_spec.rb\n@@ -12,6 +12,7 @@ describe 'projects/merge_requests/creations/_new_submit.html.haml' do\n     assign(:hidden_commit_count, 0)\n     assign(:total_commit_count, merge_request.commits.count)\n     assign(:project, merge_request.target_project)\n+    assign(:target_project, merge_request.target_project)\n     assign(:mr_presenter, merge_request.present(current_user: merge_request.author))\n \n     allow(view).to receive(:can?).and_return(true)\n```\n\n\u003c/details\u003e\n\u003cdetails\u003e\n\u003csummary\u003espec/views/projects/merge_requests/edit.html.haml_spec.rb: https://gitlab.com/gitlab-org/gitlab-ce/merge_requests/31119\u003c/summary\u003e\n\n```diff\ndiff --git a/spec/views/projects/merge_requests/edit.html.haml_spec.rb b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/spec/views/projects/merge_requests/edit.html.haml_spec.rb\nindex 529afa03f9c..0a3a46210ed 100644\n--- a/spec/views/projects/merge_requests/edit.html.haml_spec.rb\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/spec/views/projects/merge_requests/edit.html.haml_spec.rb\n@@ -23,6 +23,7 @@ describe 'projects/merge_requests/edit.html.haml' do\n \n   before do\n     assign(:project, project)\n+    assign(:target_project, project)\n     assign(:merge_request, closed_merge_request)\n     assign(:mr_presenter, closed_merge_request.present(current_user: user))\n```\n\n\u003c/details\u003e\n","state":"closed","created_at":"2019-01-30T15:40:13.347Z","updated_at":"2019-12-02T11:55:45.968Z","closed_at":"2019-07-31T12:59:08.408Z","closed_by":{"id":209240,"username":"yorickpeterse","name":"Yorick Peterse","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/209240/avatar.png","web_url":"https://gitlab.com/yorickpeterse"},"labels":["Enterprise Edition","Quality","backstage [DEPRECATED]","missed:11.11","single codebase","team::Delivery"],"milestone":{"id":693521,"iid":35,"group_id":9970,"title":"12.2","description":"https://about.gitlab.com/releases/2019/08/22/gitlab-12-2-released","state":"closed","created_at":"2018-10-30T16:48:32.567Z","updated_at":"2020-04-27T16:30:20.799Z","due_date":"2019-08-22","start_date":"2019-07-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/35"},"assignees":[{"id":15139,"username":"rspeicher","name":"Robert Speicher","state":"active","avatar_url":"https://secure.gravatar.com/avatar/73c8253932541a7b5cbc5d79493f2bea?s=80\u0026d=identicon","web_url":"https://gitlab.com/rspeicher"},{"id":209240,"username":"yorickpeterse","name":"Yorick Peterse","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/209240/avatar.png","web_url":"https://gitlab.com/yorickpeterse"}],"author":{"id":209240,"username":"yorickpeterse","name":"Yorick Peterse","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/209240/avatar.png","web_url":"https://gitlab.com/yorickpeterse"},"type":"ISSUE","assignee":{"id":15139,"username":"rspeicher","name":"Robert Speicher","state":"active","avatar_url":"https://secure.gravatar.com/avatar/73c8253932541a7b5cbc5d79493f2bea?s=80\u0026d=identicon","web_url":"https://gitlab.com/rspeicher"},"user_notes_count":6,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/9506","time_stats":{"time_estimate":1152000,"total_time_spent":0,"human_time_estimate":"320h","human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":10,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/9506","notes":"https://gitlab.com/api/v4/projects/278964/issues/9506/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/9506/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#9506","relative":"#9506","full":"gitlab-org/gitlab#9506"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":557,"epic":{"id":2152,"iid":557,"title":"Move all EE specific backend code to the ee/ directory","url":"/groups/gitlab-org/-/epics/557","group_id":9970,"human_readable_end_date":"May 22, 2019","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":17814635,"iid":9505,"project_id":278964,"title":"Move all EE lib differences to EE specific modules","description":"EE specific code that resides in `lib` should be moved to\ncorresponding EE specific modules that reside in `ee/lib`, leaving\nbehind only the necessary `prepend` and `include` calls, which should be placed\nat the end of the file).\n\n## Differences\n\nThese differences take into account the following MRs:\n\n* https://gitlab.com/gitlab-org/gitlab-ee/merge_requests/10326\n* https://gitlab.com/gitlab-org/gitlab-ce/merge_requests/26369\n\n\u003cdetails\u003e\n\u003csummary\u003elib/gitlab/import_export/import_export.yml: moved to https://gitlab.com/gitlab-org/gitlab-ee/issues/6524\u003c/summary\u003e\n\n```diff\ndiff --git a/lib/gitlab/import_export/import_export.yml b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/lib/gitlab/import_export/import_export.yml\nindex ce268793128..03ccb857cbf 100644\n--- a/lib/gitlab/import_export/import_export.yml\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/lib/gitlab/import_export/import_export.yml\n@@ -67,6 +67,9 @@ project_tree:\n   - protected_branches:\n     - :merge_access_levels\n     - :push_access_levels\n+    - :unprotect_access_levels\n+  - protected_environments:\n+    - :deploy_access_levels\n   - protected_tags:\n     - :create_access_levels\n   - :project_feature\n@@ -113,10 +116,18 @@ excluded_attributes:\n     - :last_activity_at\n     - :last_repository_updated_at\n     - :last_repository_check_at\n+    - :mirror_user_id\n+    - :mirror_trigger_builds\n     - :storage_version\n     - :remote_mirror_available_overridden\n+    - :only_mirror_protected_branches\n+    - :pull_mirror_available_overridden\n+    - :mirror_overwrites_diverged_branches\n     - :description_html\n     - :repository_languages\n+    - :packages_enabled\n+    - :mirror_last_update_at\n+    - :mirror_last_successful_update_at\n     - :bfg_object_map\n     - :detected_repository_languages\n     - :tag_list\n@@ -126,6 +137,8 @@ excluded_attributes:\n   project_import_state:\n     - :last_error\n     - :jid\n+    - :last_update_at\n+    - :last_successful_update_at\n   prometheus_metrics:\n     - :common\n     - :identifier\n```\n\n\u003c/details\u003e\n","state":"closed","created_at":"2019-01-30T15:37:48.178Z","updated_at":"2019-12-02T11:55:45.366Z","closed_at":"2019-04-03T12:54:57.853Z","closed_by":{"id":209240,"username":"yorickpeterse","name":"Yorick Peterse","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/209240/avatar.png","web_url":"https://gitlab.com/yorickpeterse"},"labels":["Enterprise Edition","backstage [DEPRECATED]","single codebase","team::Delivery"],"milestone":{"id":655279,"iid":27,"group_id":9970,"title":"11.10","description":"","state":"closed","created_at":"2018-09-21T19:08:16.261Z","updated_at":"2019-05-21T09:17:49.051Z","due_date":"2019-04-22","start_date":"2019-03-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/27"},"assignees":[{"id":209240,"username":"yorickpeterse","name":"Yorick Peterse","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/209240/avatar.png","web_url":"https://gitlab.com/yorickpeterse"}],"author":{"id":209240,"username":"yorickpeterse","name":"Yorick Peterse","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/209240/avatar.png","web_url":"https://gitlab.com/yorickpeterse"},"type":"ISSUE","assignee":{"id":209240,"username":"yorickpeterse","name":"Yorick Peterse","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/209240/avatar.png","web_url":"https://gitlab.com/yorickpeterse"},"user_notes_count":7,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/9505","time_stats":{"time_estimate":576000,"total_time_spent":244800,"human_time_estimate":"160h","human_total_time_spent":"68h"},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/9505","notes":"https://gitlab.com/api/v4/projects/278964/issues/9505/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/9505/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#9505","relative":"#9505","full":"gitlab-org/gitlab#9505"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":557,"epic":{"id":2152,"iid":557,"title":"Move all EE specific backend code to the ee/ directory","url":"/groups/gitlab-org/-/epics/557","group_id":9970,"human_readable_end_date":"May 22, 2019","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":17789653,"iid":9497,"project_id":278964,"title":"Refactor `Groups::EpicIssuesController` and `Groups::EpicLinksController`","description":"While implementing `#update` for `Groups::EpicLinksController`, it surprised me that it was already handling `#update` and returning a response even when I haven't added any code.\n\nBoth `Groups::EpicIssuesController` and `Groups::EpicLinksController` inherit from `Groups::EpicsController` which seems unnecessary.\n\n`Groups::EpicsController` handles a lot of things that are not related to these two controllers.\n\nIt might be better to inherit from `Groups::ApplicationController` instead and just add extra methods that are needed to prevent unexpected behavior in the future.\n\nFrom my initial check, here are a few things we need to do:\n\n1. Implement `#epic` to find the current `Epic` being referenced to from the URL params and check read permissions. Looks like this is really the only method we are using from `Groups::EpicsController`.\n\n   Not sure if we also need `before_action :epic, except: [:index, :create]` that's also in `Groups::EpicsController`\n\n1. Remove the now unneeded `skip_before_action`s in `app/controllers/concerns/epic_relations.rb`\n\n1. Add a `check_epics_available!` before filter so we retain current behavior.","state":"closed","created_at":"2019-01-30T04:14:45.777Z","updated_at":"2022-05-19T16:13:37.397Z","closed_at":"2019-04-11T07:00:02.446Z","closed_by":{"id":64248,"username":"stanhu","name":"Stan Hu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/64248/stanhu.jpg","web_url":"https://gitlab.com/stanhu"},"labels":["Enterprise Edition","backend","backstage [DEPRECATED]","devops::plan","maintenance::refactor","workflow::in review"],"milestone":{"id":655280,"iid":28,"group_id":9970,"title":"11.11","description":"","state":"closed","created_at":"2018-09-21T19:08:37.027Z","updated_at":"2019-06-10T14:39:00.009Z","due_date":"2019-05-22","start_date":"2019-04-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/28"},"assignees":[{"id":2880930,"username":"engwan","name":"Heinrich Lee Yu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2880930/avatar.png","web_url":"https://gitlab.com/engwan"}],"author":{"id":2880930,"username":"engwan","name":"Heinrich Lee Yu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2880930/avatar.png","web_url":"https://gitlab.com/engwan"},"type":"ISSUE","assignee":{"id":2880930,"username":"engwan","name":"Heinrich Lee Yu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2880930/avatar.png","web_url":"https://gitlab.com/engwan"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/9497","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/9497","notes":"https://gitlab.com/api/v4/projects/278964/issues/9497/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/9497/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#9497","relative":"#9497","full":"gitlab-org/gitlab#9497"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":17782372,"iid":9495,"project_id":278964,"title":"Geo - Make sure project does not meet selective sync rule before deleting it","description":"### Summary\n\nWhen an admin set or change the selective sync criteria on the Geo primary node we trigger a `Geo::RepositoriesChangedEvent` event, when we process it on the Geo secondary node we clean up the repositories that do not satisfy the criteria. \n\nOur current implementation schedules the `Geo::RepositoriesCleanUpWorker` to be performed in one hour, this worker is responsible for scheduling a `GeoRepositoryDestroyWorker` to be performed asynchronously for each project that does not satisfy the constraint. \n\nWe should change it or the underline `Geo::RepositoryDestroyService` service to check if the project still not meet the selective sync constraint before deleting it in case that the admin made a mistake while changing the selective sync constraint on the primary node or the changed it multiple times in a small interval of time.\n\n/cc @rnienaber ","state":"closed","created_at":"2019-01-29T20:24:53.477Z","updated_at":"2019-12-16T14:47:39.293Z","closed_at":"2019-02-05T13:12:10.657Z","closed_by":{"id":263716,"username":"grzesiek","name":"Grzegorz Bizon","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/263716/avatar.jpeg","web_url":"https://gitlab.com/grzesiek"},"labels":["Category:Geo Replication","Enterprise Edition","devops::systems","group::geo","workflow::in review"],"milestone":{"id":581391,"iid":23,"group_id":9970,"title":"11.8","description":"","state":"closed","created_at":"2018-06-26T15:15:18.359Z","updated_at":"2019-03-08T17:33:19.162Z","due_date":"2019-02-22","start_date":"2019-01-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/23"},"assignees":[{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"}],"author":{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"},"type":"ISSUE","assignee":{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/9495","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/9495","notes":"https://gitlab.com/api/v4/projects/278964/issues/9495/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/9495/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#9495","relative":"#9495","full":"gitlab-org/gitlab#9495"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":17768971,"iid":9486,"project_id":278964,"title":"Insights config file","description":"The proposal for insights involves the use of a configuration file for defining the charts in use. Insights will be a group-level feature.\n\nMaybe we can store the config file in a project's repository within the group and allow this project to be specified in the group-level settings for insights.\n\nPossible example yml\n\n``` yaml\ncharts:\n  - name: bugs_by_severity\n    title: Bugs By Severity (pie)\n    chart_type: pie\n    query:\n      name: filtered_issuables_by_label_category\n      params:\n        issuable_state: 'Open'\n        filter_labels: ['bug']\n        category_labels: ['S1','S2','S3','S4']\n```\n\nOr\n\n``` yaml\ngraphs:\n  engineering-productivity:\n    name: Engineering Productivity\n    group: gitlab-org\n    data: merge-request\n    time-series: milestone\n    trendline: yes\n  engineering-productivity-ce:\n    name: Engineering Productivity\n    project: gitlab-org/gitlab-ce\n    data: merge-request\n    time-series: milestone\n    trendline: no\n```\n\n## Possible implementation\n\n* Add a group setting in general section, which there's a dropdown menu to pick a project\n* The configuration file will be fetched from the picked project's default branch, named `.insight.yml`","state":"closed","created_at":"2019-01-29T15:07:56.201Z","updated_at":"2019-08-12T15:08:07.672Z","closed_at":"2019-03-07T10:39:00.311Z","closed_by":{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"labels":["Enterprise Edition","Quality","graphs","insights","type::feature"],"milestone":{"id":523180,"iid":18,"group_id":9970,"title":"11.9","description":"https://about.gitlab.com/releases/2019/03/22/gitlab-11-9-released/","state":"closed","created_at":"2018-05-09T14:56:19.024Z","updated_at":"2020-04-30T19:56:35.917Z","due_date":"2019-03-22","start_date":"2019-02-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/18"},"assignees":[{"id":423915,"username":"godfat","name":"Lin Jen-Shin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/8c73dab2ecd23d5b5627a0235ae2f9b1?s=80\u0026d=identicon","web_url":"https://gitlab.com/godfat"}],"author":{"id":419655,"username":"markglenfletcher","name":"Mark Fletcher","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/419655/avatar.png","web_url":"https://gitlab.com/markglenfletcher"},"type":"ISSUE","assignee":{"id":423915,"username":"godfat","name":"Lin Jen-Shin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/8c73dab2ecd23d5b5627a0235ae2f9b1?s=80\u0026d=identicon","web_url":"https://gitlab.com/godfat"},"user_notes_count":31,"merge_requests_count":1,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/9486","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/9486","notes":"https://gitlab.com/api/v4/projects/278964/issues/9486/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/9486/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#9486","relative":"#9486","full":"gitlab-org/gitlab#9486"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":725,"epic":{"id":3055,"iid":725,"title":"Insights: Build GitLab Insights as a native GitLab feature","url":"/groups/gitlab-org/-/epics/725","group_id":9970,"human_readable_end_date":"Apr 22, 2019","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":18812844,"iid":10220,"project_id":278964,"title":"Code review emails should link to every comment","description":"### Problem to solve\n\nIf someone makes a single comment on an MR, we send the user a nice email with a link to that specific comment embedded.\n\nIf the user instead performs a review, which batches multiple comments into a single email, those comments are not linked to their place in the MR in the created email\n\n### Target audience\n\n- Sasha, Software Developer, https://design.gitlab.com/research/personas#persona-sasha\n\n### Further details\n\nWithout these links, getting to a specific newly-added comment in the web interface to reply or resolve takes more time than it needs to. I have to load the MR page itself, then scroll down looking for it, rather than having my web browser jump directly to the comment.\n\n### Proposal\n\nAdd links to each comment in the review, as we would do if the emails were sent once per comment\n\n### What does success look like, and how can we measure that?\n\nWhen receiving a review email, I can get to the Nth comment in that review in my browser just by clicking a link, with no scrolling\n\n### Links / references\n\n\ncc @jramsay @DouweM","state":"closed","created_at":"2019-01-29T13:23:21.093Z","updated_at":"2020-12-07T17:23:45.599Z","closed_at":"2019-04-01T10:35:54.934Z","closed_by":{"id":411701,"username":"kushalpandya","name":"Kushal Pandya","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/411701/avatar.png","web_url":"https://gitlab.com/kushalpandya"},"labels":["Category:Code Review Workflow","Create [DEPRECATED]","Deliverable","Enterprise Edition","Persona: Software developer","backend","devops::create","emails","group::code review","missed-deliverable","missed:11.9","type::feature","workflow::in dev"],"milestone":{"id":655279,"iid":27,"group_id":9970,"title":"11.10","description":"","state":"closed","created_at":"2018-09-21T19:08:16.261Z","updated_at":"2019-05-21T09:17:49.051Z","due_date":"2019-04-22","start_date":"2019-03-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/27"},"assignees":[{"id":1986039,"username":"lulalala","name":"Mark Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1986039/avatar.png","web_url":"https://gitlab.com/lulalala"}],"author":{"id":572018,"username":"nick.thomas","name":"Nick Thomas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/572018/avatar.png","web_url":"https://gitlab.com/nick.thomas"},"type":"ISSUE","assignee":{"id":1986039,"username":"lulalala","name":"Mark Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1986039/avatar.png","web_url":"https://gitlab.com/lulalala"},"user_notes_count":4,"merge_requests_count":1,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/10220","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/10220","notes":"https://gitlab.com/api/v4/projects/278964/issues/10220/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/10220/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#10220","relative":"#10220","full":"gitlab-org/gitlab#10220"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":17755266,"iid":9478,"project_id":278964,"title":"Support running Geo on Kubernetes","description":"Geo is not officially supported when running Kubernetes: https://docs.gitlab.com/ee/install/kubernetes/gitlab_chart.html#limitations\nThere is an open issue in the charts project to support this: https://gitlab.com/charts/gitlab/issues/8 . And there is a summary on that issue: https://gitlab.com/charts/gitlab/issues/8#note_97097233\n\nCustomers have requested this feature:\n* https://gitlab.my.salesforce.com/0016100001Eo2H5\n* https://gitlab.zendesk.com/agent/tickets/106725\n\nWe need to confirm if the summary on the related ticket is correct, and determine what work needs to be done.","state":"closed","created_at":"2019-01-29T09:51:11.413Z","updated_at":"2019-12-11T20:03:42.693Z","closed_at":"2019-04-08T07:24:17.208Z","closed_by":{"id":2722370,"username":"rnienaber","name":"Rachel Nienaber","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2722370/avatar.png","web_url":"https://gitlab.com/rnienaber"},"labels":["Deliverable","Enterprise Edition","Geo Administration","devops::systems","group::geo","product discovery [DEPRECATED]"],"milestone":{"id":655279,"iid":27,"group_id":9970,"title":"11.10","description":"","state":"closed","created_at":"2018-09-21T19:08:16.261Z","updated_at":"2019-05-21T09:17:49.051Z","due_date":"2019-04-22","start_date":"2019-03-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/27"},"assignees":[{"id":2293,"username":"brodock","name":"Gabriel Mazetto","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2293/avatar.png","web_url":"https://gitlab.com/brodock"}],"author":{"id":2722370,"username":"rnienaber","name":"Rachel Nienaber","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2722370/avatar.png","web_url":"https://gitlab.com/rnienaber"},"type":"ISSUE","assignee":{"id":2293,"username":"brodock","name":"Gabriel Mazetto","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2293/avatar.png","web_url":"https://gitlab.com/brodock"},"user_notes_count":2,"merge_requests_count":0,"upvotes":3,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/9478","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":10,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/9478","notes":"https://gitlab.com/api/v4/projects/278964/issues/9478/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/9478/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#9478","relative":"#9478","full":"gitlab-org/gitlab#9478"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":17754715,"iid":9473,"project_id":278964,"title":"Use Secure jobs in the security-projects group templates for analyzers.","description":"### Problem to solve\n\nCurrently [analyzer.yml](https://gitlab.com/gitlab-org/security-products/ci-templates/blob/master/includes-dev/analyzer.yml) which is included in all Secure SAST and Dependency Scanning analyzers repository doesn't have any SAST and Container Scanning jobs (DAST and Dependency scanning don't apply, those are Golang applications).\n\n### Target audience\n\n- Sasha, Software Developer, https://design.gitlab.com/research/personas#persona-sasha\n\n### Further details\n\nBenefits: dogfooding.\n\n### Proposal\n\nInclude SAST and container scanning jobs to the analyzer.yml file.\n\n### What does success look like, and how can we measure that?\n\nSAST and container scanning is run on every push to the security-product analyzers projects.","state":"closed","created_at":"2019-01-29T09:34:40.308Z","updated_at":"2019-11-18T15:58:09.013Z","closed_at":"2019-06-14T02:55:52.724Z","closed_by":{"id":52092,"username":"gonzoyumo","name":"Olivier Gonzalez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/651e0ff81c3995a05269f7c80895fe89?s=80\u0026d=identicon","web_url":"https://gitlab.com/gonzoyumo"},"labels":["Enterprise Edition","Persona: Software developer","devops::secure","type::feature"],"milestone":{"id":610592,"iid":24,"group_id":9970,"title":"Awaiting further demand","description":"Indicates that an issue has been triaged, but is not yet on the backlog because it is awaiting further demand from customers.","state":"active","created_at":"2018-08-01T12:23:44.946Z","updated_at":"2018-08-01T12:23:44.946Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/24"},"assignees":[{"id":1766812,"username":"groulot","name":"Gilbert Roulot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1766812/avatar.png","web_url":"https://gitlab.com/groulot"}],"author":{"id":1766812,"username":"groulot","name":"Gilbert Roulot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1766812/avatar.png","web_url":"https://gitlab.com/groulot"},"type":"ISSUE","assignee":{"id":1766812,"username":"groulot","name":"Gilbert Roulot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1766812/avatar.png","web_url":"https://gitlab.com/groulot"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/9473","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/9473","notes":"https://gitlab.com/api/v4/projects/278964/issues/9473/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/9473/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#9473","relative":"#9473","full":"gitlab-org/gitlab#9473"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":17748646,"iid":9470,"project_id":278964,"title":"Failed LDAP logins not logged to audit log","description":"While investigating https://gitlab.com/gitlab-org/gitlab-ce/issues/46724, I found that failed LDAP logins are not logged to the audit event log because `fail_login` is overriden in `app/controllers/ldap/omniauth_callbacks_controller.rb` but `fail_login` in `ee/app/controllers/ee/omniauth_callbacks_controller.rb` is never called. \n\nThe failed logins are logged to `application.log`, so it's at least there.","state":"closed","created_at":"2019-01-29T07:44:56.691Z","updated_at":"2020-12-15T20:16:50.380Z","closed_at":"2020-08-19T03:19:06.661Z","closed_by":{"id":398752,"username":"tancnle","name":"Tan Le","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/398752/avatar.png","web_url":"https://gitlab.com/tancnle"},"labels":["Category:Audit Events","Category:Authentication and Authorization","Enterprise Edition","devops::manage","group::compliance","priority::4","security","severity::4","type::bug"],"milestone":{"id":1233752,"iid":50,"group_id":9970,"title":"13.3","description":"https://about.gitlab.com/releases/2020/08/22/gitlab-13-3-released/","state":"closed","created_at":"2020-04-09T17:39:21.090Z","updated_at":"2022-04-13T14:50:18.976Z","due_date":"2020-08-17","start_date":"2020-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/50"},"assignees":[{"id":398752,"username":"tancnle","name":"Tan Le","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/398752/avatar.png","web_url":"https://gitlab.com/tancnle"}],"author":{"id":64248,"username":"stanhu","name":"Stan Hu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/64248/stanhu.jpg","web_url":"https://gitlab.com/stanhu"},"type":"ISSUE","assignee":{"id":398752,"username":"tancnle","name":"Tan Le","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/398752/avatar.png","web_url":"https://gitlab.com/tancnle"},"user_notes_count":11,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/9470","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/9470","notes":"https://gitlab.com/api/v4/projects/278964/issues/9470/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/9470/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#9470","relative":"#9470","full":"gitlab-org/gitlab#9470"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":24688342,"iid":26413,"project_id":278964,"title":"Sort releases by date and name in API","description":"### Release notes \n\n\u003c!-- What is the problem and solution you're proposing? This content sets the overall vision for the feature and serves as the release notes that will populate in various places, including the [release post blog](https://about.gitlab.com/releases/categories/releases/) and [Gitlab project releases](https://gitlab.com/gitlab-org/gitlab/-/releases). \" --\u003e\n\nA Release Page can be unwieldy and difficult to navigate if you have hundreds of release tags with release notes. With the implementation of a new sorting component, gone are the days of you having to manually sift through your releases. Rather, you can now quickly sort releases by date, name and milestones. \n\n### Problem to solve\n\nAs a user, I want sort releases in the API, so I can quickly reorganize existing releases in the UI.\n\n### Intended users\n\n* [Devon (DevOps Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#devon-devops-engineer)\n* [Rachel (Release Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#rachel-release-manager) \n\n\u003c!-- \n\n* [Cameron (Compliance Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#cameron-compliance-manager)\n* [Parker (Product Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#parker-product-manager)\n* [Delaney (Development Team Lead)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#delaney-development-team-lead)\n* [Presley (Product Designer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#presley-product-designer)\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Sidney (Systems Administrator)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sidney-systems-administrator)\n* [Sam (Security Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sam-security-analyst)\n* [Alex (Security Operations Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#alex-security-operations-engineer)\n* [Simone (Software Engineer in Test)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#simone-software-engineer-in-test)\n* [Allison (Application Ops)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#allison-application-ops) \n* [Priyanka (Platform Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#priyanka-platform-engineer)\n* [Dana (Data Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#dana-data-analyst)\n--\u003e\n\n### User experience goal\n\nThe user should be able to use the API with GitLab to sort releases.\n\n\u003c!-- What is the single user experience workflow this problem addresses? \nFor example, \"The user should be able to use the UI/API/.gitlab-ci.yml with GitLab to \u003cperform a specific task\u003e\"\nhttps://about.gitlab.com/handbook/engineering/ux/ux-research-training/user-story-mapping/ --\u003e \n\n### Proposal\n\n\u003c!-- How are we going to solve the problem? Try to include the user journey! https://about.gitlab.com/handbook/journeys/#user-journey --\u003e\n\n* [ ]  Allow sorting by different criteria such as create date, release name, modified date, and milestone.\n\n#### Sorting Logic\n\nWe'll make a new ~backend endpoint on the server that will return the releases sorted in the order the user selected.\n\n### Further details\n\n\u003c!-- Include use cases, benefits, goals, or any other details that will help us understand the problem better. --\u003e\n\nFrom @patrikhuber in https://gitlab.com/gitlab-org/gitlab-ce/issues/56969:\n\n\u003e The ordering in the Releases page went completely bogus for my project. A minor version released later than a patch version is at the bottom of the page. All the releases show \"released 3 month ago\". Not true. The date + time that is displayed there is neither the time of the commit nor the tag or anything else from git. Maybe this is the time when I added the \"Release notes\" on the Tags page...? But certainly I don't want to have the Releases ordered by what time I added the release notes on the Tags page!\n\nThis issue comes from the fact that we assume the date a release was created is the release date of that release. Instead, we should add an editable release date value for a release and sort by that.\n\n#### Backend \n\nFor the full sorting functionality proposed in the tech eval, we'll need ~backend to implement `due_date` and `start_date` as date types available from the Release API.\n\nWe'll also need an MR that adds an endpoint so that the frontend can request a sort order from the server. The return value of this endpoint should be a list of Releases but in the order specified by the request. If pagination is necessary, we the frontend should be be able to make paginated calls to the backend to receive a sorted list for an individual page.\n\n**Total MRs:** `3`\n\n- Backend MR to add `released_at`\n- Backend MR to make an API endpoint that handles request for a sort order and returns releases sorted in that order, for the frontend. Additionally, this MR should be able to handle paginated requests.\n- Backend MR for REST API docs\n\n### Documentation\n\n\u003c!-- See the Feature Change Documentation Workflow https://docs.gitlab.com/ee/development/documentation/workflow.html#for-a-product-change\n\n* Add all known Documentation Requirements in this section. See https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html#documentation-requirements\n* If this feature requires changing permissions, update the permissions document. See https://docs.gitlab.com/ee/user/permissions.html --\u003e\n\nYes, this will require an update to the Releases API documentation.\n\n### Availability \u0026 Testing\n\n\u003c!-- This section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\nWhat risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning --\u003e\n\n### What does success look like, and how can we measure that?\n\n\u003c!-- Define both the success metrics and acceptance criteria. Note that success metrics indicate the desired business outcomes, while acceptance criteria indicate when the solution is working correctly. If there is no way to measure success, link to an issue that will implement a way to measure this. --\u003e\n\n### What is the type of buyer?\n\n\u003c!-- What is the buyer persona for this feature? See https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/buyer-persona/\nIn which enterprise tier should this feature go? See https://about.gitlab.com/handbook/product/pricing/#four-tiers --\u003e\n\n### Is this a cross-stage feature?\n\n\u003c!-- Communicate if this change will affect multiple Stage Groups or product areas. We recommend always start with the assumption that a feature request will have an impact into another Group. Loop in the most relevant PM and Product Designer from that Group to provide strategic support to help align the Group's broader plan and vision, as well as to avoid UX and technical debt. https://about.gitlab.com/handbook/product/#cross-stage-features --\u003e\n\nNo.\n\n### Links / references\n\n- Frontend implementation issue https://gitlab.com/gitlab-org/gitlab/-/issues/221101/\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2019-01-29T06:36:48.460Z","updated_at":"2021-12-21T22:25:01.227Z","closed_at":"2020-11-30T18:48:26.339Z","closed_by":{"id":5622641,"username":"nicolewilliams","name":"Nicole Williams","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5622641/avatar.png","web_url":"https://gitlab.com/nicolewilliams"},"labels":["Category:Release Orchestration","Deliverable","GitLab Core","Product Vision FY20","UX","UX scorecard-rec","[deprecated] Accepting merge requests","awaiting feedback","backend","cicd::active","devops::release","direction","group::release","maturity::viable","release post item::in review","section::ops","type::feature","workflow::verification"],"milestone":{"id":1233755,"iid":53,"group_id":9970,"title":"13.6","description":"https://about.gitlab.com/releases/2020/11/22/gitlab-13-6-released/","state":"closed","created_at":"2020-04-09T17:39:22.328Z","updated_at":"2022-04-13T14:51:04.376Z","due_date":"2020-11-17","start_date":"2020-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/53"},"assignees":[],"author":{"id":2243533,"username":"jyavorska","name":"Jason Yavorska","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2243533/avatar.png","web_url":"https://gitlab.com/jyavorska"},"type":"ISSUE","assignee":null,"user_notes_count":91,"merge_requests_count":0,"upvotes":8,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/26413","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/26413","notes":"https://gitlab.com/api/v4/projects/278964/issues/26413/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/26413/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#26413","relative":"#26413","full":"gitlab-org/gitlab#26413"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2131,"epic":{"id":14527,"iid":2131,"title":"Releases - Complete Maturity","url":"/groups/gitlab-org/-/epics/2131","group_id":9970,"human_readable_end_date":"Jan 31, 2023","human_readable_timestamp":"\u003cstrong\u003e15\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":17741383,"iid":9466,"project_id":278964,"title":"Auditor users should be able to see the group and project Security Dashboards","description":"### Problem to solve\n\nAuditor users cannot see the group and project Security Dashboards.\n\n### Target audience\n\n- Parker, Product Manager, https://design.gitlab.com/research/personas#persona-parker\n\n- Sam, Security Analyst, https://design.gitlab.com/research/personas#persona-sam\n\n### Further details\n\nAccording to [Auditor users](https://docs.gitlab.com/ee/administration/auditor_users.html), Auditor users can have full access to their own resources (projects, groups, snippets, etc.), and read-only access to all other resources, except the Admin area. However, Security Dashboard is not visible to them.\n\n### Proposal\n\nSecurity Dashboard should be visible to Auditors both on project and group levels.\n\n### Links / references\n\nZD: https://gitlab.zendesk.com/agent/tickets/112922 (internal)","state":"closed","created_at":"2019-01-29T02:22:43.528Z","updated_at":"2019-11-18T15:58:09.539Z","closed_at":"2019-07-22T08:54:20.740Z","closed_by":{"id":443319,"username":"smcgivern","name":"Sean McGivern","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/443319/avatar.png","web_url":"https://gitlab.com/smcgivern"},"labels":["Deliverable","Enterprise Edition","Persona: Product Manager","Persona: Security Analyst","customer","devops::secure","group::static analysis","security","type::feature"],"milestone":{"id":693521,"iid":35,"group_id":9970,"title":"12.2","description":"https://about.gitlab.com/releases/2019/08/22/gitlab-12-2-released","state":"closed","created_at":"2018-10-30T16:48:32.567Z","updated_at":"2020-04-27T16:30:20.799Z","due_date":"2019-08-22","start_date":"2019-07-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/35"},"assignees":[{"id":4059128,"username":"avielle","name":"Avielle Wolfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4059128/avatar.png","web_url":"https://gitlab.com/avielle"}],"author":{"id":1990167,"username":"atanayno","name":"Alexandr Tanayno","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1990167/avatar.png","web_url":"https://gitlab.com/atanayno"},"type":"ISSUE","assignee":{"id":4059128,"username":"avielle","name":"Avielle Wolfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4059128/avatar.png","web_url":"https://gitlab.com/avielle"},"user_notes_count":6,"merge_requests_count":1,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/9466","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/9466","notes":"https://gitlab.com/api/v4/projects/278964/issues/9466/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/9466/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#9466","relative":"#9466","full":"gitlab-org/gitlab#9466"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":17740623,"iid":9465,"project_id":278964,"title":"Geo - Geo::RepositoriesCleanUpWorker can leave orphaned entries in the tracking database","description":"### Summary\n\nWhile investigating https://gitlab.com/gitlab-org/gitlab-ee/issues/7109, I found a bug in the [Geo::RepositoriesCleanUpWorker#clean_up_repositories](https://gitlab.com/gitlab-org/gitlab-ee/blob/master/ee/app/workers/geo/repositories_clean_up_worker.rb#L36) method. There is a possibility the project does not have a repository or wiki on disk, but it can have an entry in the `project_registry`, e.g., when all attempts to sync the project failed. \n\n### Possible fixes\n\nWe do this check inside `Geo::RepositoryDestroyService#execute`. Otherwise, this can lead to orphaned entries in the `project_registry` table. It would be interesting to check if the entries in the other tables in the tracking database, e.g., `file_registry` are being removed or not.\n\n\n/cc @rnienaber","state":"closed","created_at":"2019-01-29T00:50:04.539Z","updated_at":"2019-12-16T14:47:40.210Z","closed_at":"2019-01-31T22:36:07.549Z","closed_by":{"id":64248,"username":"stanhu","name":"Stan Hu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/64248/stanhu.jpg","web_url":"https://gitlab.com/stanhu"},"labels":["Category:Geo Replication","Enterprise Edition","devops::systems","group::geo","priority::3","severity::4","type::bug","workflow::in review"],"milestone":{"id":581391,"iid":23,"group_id":9970,"title":"11.8","description":"","state":"closed","created_at":"2018-06-26T15:15:18.359Z","updated_at":"2019-03-08T17:33:19.162Z","due_date":"2019-02-22","start_date":"2019-01-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/23"},"assignees":[{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"}],"author":{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"},"type":"ISSUE","assignee":{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/9465","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/9465","notes":"https://gitlab.com/api/v4/projects/278964/issues/9465/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/9465/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#9465","relative":"#9465","full":"gitlab-org/gitlab#9465"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":17740586,"iid":9464,"project_id":278964,"title":"Geo - Cleanup repository and tracking database entries when a project is moved out of the selective sync constraint","description":"### Summary\n\nWhile investigating https://gitlab.com/gitlab-org/gitlab-ee/issues/7109, I notice that we are not removing any entry in the tracking database nor removing the repositories from disk when it is moved to a different place where it's out of the selective sync constraint.\n\n/cc @rnienaber","state":"closed","created_at":"2019-01-29T00:45:55.771Z","updated_at":"2020-10-14T15:09:46.860Z","closed_at":"2020-10-14T15:09:46.802Z","closed_by":{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"},"labels":["Category:Geo Replication","Enterprise Edition","[deprecated] Accepting merge requests","devops::systems","group::geo","priority::4","section::enablement","severity::4","stale","type::bug","vintage","workflow::ready for development"],"milestone":{"id":610592,"iid":24,"group_id":9970,"title":"Awaiting further demand","description":"Indicates that an issue has been triaged, but is not yet on the backlog because it is awaiting further demand from customers.","state":"active","created_at":"2018-08-01T12:23:44.946Z","updated_at":"2018-08-01T12:23:44.946Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/24"},"assignees":[],"author":{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"},"type":"ISSUE","assignee":null,"user_notes_count":5,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/9464","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/9464","notes":"https://gitlab.com/api/v4/projects/278964/issues/9464/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/9464/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#9464","relative":"#9464","full":"gitlab-org/gitlab#9464"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":1195,"epic":{"id":6105,"iid":1195,"title":"Geo: Selective Sync Enhancements (Awaiting Further Demand)","url":"/groups/gitlab-org/-/epics/1195","group_id":9970},"iteration":null,"health_status":null},{"id":17740491,"iid":9463,"project_id":278964,"title":"Geo - Respect shard restriction while loading new resources to verify on the secondary","description":"### Summary\n\nWhile investigating https://gitlab.com/gitlab-org/gitlab-ee/issues/7109 I found a bug in the [Geo::RepositoryVerification::Secondary::ShardWorker#load_pending_resources](https://gitlab.com/gitlab-org/gitlab-ee/blob/master/ee/app/workers/geo/repository_verification/secondary/shard_worker.rb#L38) method. It does not apply the shard restriction while loading pending resources.\n\n### What is the current *bug* behavior?\n\nSince we spawn a worker per shard, a project can be scheduled multiple times to be verified.\n\n### What is the expected *correct* behavior?\n\n`Geo::RepositoryVerification::Secondary::ShardWorker` should only schedule projects store on the shard associated with it.\n\n### Possible fixes\n\nApply the shard restriction while retrieving projects in the `Geo::RepositoryVerification::Secondary::ShardWorker#load_pending_resources` method.\n\n\n/cc @rnienaber","state":"closed","created_at":"2019-01-29T00:37:07.052Z","updated_at":"2019-12-16T14:49:56.700Z","closed_at":"2019-02-05T17:26:54.462Z","closed_by":{"id":572018,"username":"nick.thomas","name":"Nick Thomas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/572018/avatar.png","web_url":"https://gitlab.com/nick.thomas"},"labels":["Category:Geo Replication","Enterprise Edition","devops::systems","group::geo","priority::3","severity::4","type::bug","workflow::in review"],"milestone":{"id":581391,"iid":23,"group_id":9970,"title":"11.8","description":"","state":"closed","created_at":"2018-06-26T15:15:18.359Z","updated_at":"2019-03-08T17:33:19.162Z","due_date":"2019-02-22","start_date":"2019-01-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/23"},"assignees":[{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"}],"author":{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"},"type":"ISSUE","assignee":{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"},"user_notes_count":0,"merge_requests_count":1,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/9463","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/9463","notes":"https://gitlab.com/api/v4/projects/278964/issues/9463/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/9463/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#9463","relative":"#9463","full":"gitlab-org/gitlab#9463"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":17735199,"iid":9456,"project_id":278964,"title":"Transient failure of ee/spec/features/epics/gfm_autocomplete_spec.rb on master","description":"```\n 1) GFM autocomplete labels when no labels are assigned shows labels\n     Got 1 failure and 1 other error:\n\n     1.1) Failure/Error: shown.each { |resource| expect(page).to have_content(resource.title) }\n            expected to find text \"bug\" in \"\". (However, . it was found 1 time including non-visible text.)\n          # ./ee/spec/features/epics/gfm_autocomplete_spec.rb:170:in `block (2 levels) in expect_resources'\n          # ./ee/spec/features/epics/gfm_autocomplete_spec.rb:170:in `each'\n          # ./ee/spec/features/epics/gfm_autocomplete_spec.rb:170:in `block in expect_resources'\n          # ./ee/spec/features/epics/gfm_autocomplete_spec.rb:167:in `expect_resources'\n          # ./ee/spec/features/epics/gfm_autocomplete_spec.rb:86:in `block (4 levels) in \u003ctop (required)\u003e'\n```\n\n(https://gitlab.com/gitlab-org/gitlab-ee/-/jobs/152395900)","state":"closed","created_at":"2019-01-28T19:21:20.698Z","updated_at":"2022-05-19T16:13:36.254Z","closed_at":"2019-01-30T21:39:10.395Z","closed_by":{"id":64248,"username":"stanhu","name":"Stan Hu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/64248/stanhu.jpg","web_url":"https://gitlab.com/stanhu"},"labels":["Enterprise Edition","backstage [DEPRECATED]","devops::plan","master:broken","priority::1","severity::1","test","type::bug"],"milestone":{"id":581391,"iid":23,"group_id":9970,"title":"11.8","description":"","state":"closed","created_at":"2018-06-26T15:15:18.359Z","updated_at":"2019-03-08T17:33:19.162Z","due_date":"2019-02-22","start_date":"2019-01-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/23"},"assignees":[{"id":1212235,"username":"winh","name":"Inactive Account","state":"active","avatar_url":"https://secure.gravatar.com/avatar/e34b010c96ff3f44c62cddf66607232a?s=80\u0026d=identicon","web_url":"https://gitlab.com/winh"}],"author":{"id":1212235,"username":"winh","name":"Inactive Account","state":"active","avatar_url":"https://secure.gravatar.com/avatar/e34b010c96ff3f44c62cddf66607232a?s=80\u0026d=identicon","web_url":"https://gitlab.com/winh"},"type":"ISSUE","assignee":{"id":1212235,"username":"winh","name":"Inactive Account","state":"active","avatar_url":"https://secure.gravatar.com/avatar/e34b010c96ff3f44c62cddf66607232a?s=80\u0026d=identicon","web_url":"https://gitlab.com/winh"},"user_notes_count":4,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/9456","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/9456","notes":"https://gitlab.com/api/v4/projects/278964/issues/9456/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/9456/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#9456","relative":"#9456","full":"gitlab-org/gitlab#9456"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":17731947,"iid":9454,"project_id":278964,"title":"Open the Geo API to edit a primary node","description":"In !3923 we added the API to edit nodes through the API. But for some reason we block a `PUT` on the primary node.\n\nI cannot remember why it's forbidden to edit the primary node through the API?\n\nI have a customer [asking](https://gitlab.slack.com/archives/C8XUSB5L3/p1548692261287700) to open this up. I don' see any reason why we should not.\n\nRelated [discussion](https://gitlab.com/gitlab-org/gitlab-ee/merge_requests/3923#note_135725993)","state":"closed","created_at":"2019-01-28T17:00:11.097Z","updated_at":"2019-12-11T20:03:45.452Z","closed_at":"2019-02-05T11:39:18.782Z","closed_by":{"id":443319,"username":"smcgivern","name":"Sean McGivern","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/443319/avatar.png","web_url":"https://gitlab.com/smcgivern"},"labels":["Enterprise Edition","Geo Administration","api","customer","devops::systems","group::geo","workflow::in review"],"milestone":{"id":581391,"iid":23,"group_id":9970,"title":"11.8","description":"","state":"closed","created_at":"2018-06-26T15:15:18.359Z","updated_at":"2019-03-08T17:33:19.162Z","due_date":"2019-02-22","start_date":"2019-01-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/23"},"assignees":[{"id":660180,"username":"toon","name":"Toon Claes","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/660180/avatar.png","web_url":"https://gitlab.com/toon"}],"author":{"id":660180,"username":"toon","name":"Toon Claes","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/660180/avatar.png","web_url":"https://gitlab.com/toon"},"type":"ISSUE","assignee":{"id":660180,"username":"toon","name":"Toon Claes","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/660180/avatar.png","web_url":"https://gitlab.com/toon"},"user_notes_count":6,"merge_requests_count":2,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/9454","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/9454","notes":"https://gitlab.com/api/v4/projects/278964/issues/9454/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/9454/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#9454","relative":"#9454","full":"gitlab-org/gitlab#9454"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":1532,"epic":{"id":8653,"iid":1532,"title":"Geo: API improvements","url":"/groups/gitlab-org/-/epics/1532","group_id":9970,"human_readable_end_date":"Jun 22, 2019","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":17721459,"iid":9446,"project_id":278964,"title":"Split Geo::ProjectSyncWorker into RepositorySyncWorker and WikiSyncWorker","description":"I think we already discussed it some time ago but I could not find an issue. The closest one is  https://gitlab.com/gitlab-org/gitlab-ee/issues/5499 but in this issue, I don't propose to take wiki status out of ProjectRegistry. Now when we need to initiate repository resync we spawn `ProjectSyncWorker` where the need for the sync is checked again just because we don't know for what exactly purpose this worker has been spawn so we check the status of both: wiki and repo. This is suboptimal.\n\nThis can be considered as the first step for https://gitlab.com/gitlab-org/gitlab-ee/issues/5499\n\n*UPDATE*: This refactoring would also simplify `registry.repository_sync_due?` and `registry.wiki_sync_due?` methods\n\n*UPDATE1*: `RepositoryUpdatedEvent` caries a knowledge of what exactly has been updated (wiki or repo) but we spawn the whole `Geo::ProjectSyncWorker` anyway.\n\n*UPDATE2*: `RepositorySyncWorker` already exists, so we probably need something else\n\n\n@mkozono @dbalexandre @toon WDYT?","state":"closed","created_at":"2019-01-28T11:18:25.429Z","updated_at":"2019-12-16T14:49:57.489Z","closed_at":"2019-02-07T15:26:58.237Z","closed_by":{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"},"labels":["Category:Geo Replication","Enterprise Edition","devops::systems","group::geo","maintenance::refactor","workflow::in review"],"milestone":{"id":581391,"iid":23,"group_id":9970,"title":"11.8","description":"","state":"closed","created_at":"2018-06-26T15:15:18.359Z","updated_at":"2019-03-08T17:33:19.162Z","due_date":"2019-02-22","start_date":"2019-01-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/23"},"assignees":[{"id":59678,"username":"vsizov","name":"Valery Sizov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/59678/avatar.png","web_url":"https://gitlab.com/vsizov"}],"author":{"id":59678,"username":"vsizov","name":"Valery Sizov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/59678/avatar.png","web_url":"https://gitlab.com/vsizov"},"type":"ISSUE","assignee":{"id":59678,"username":"vsizov","name":"Valery Sizov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/59678/avatar.png","web_url":"https://gitlab.com/vsizov"},"user_notes_count":9,"merge_requests_count":3,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/9446","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/9446","notes":"https://gitlab.com/api/v4/projects/278964/issues/9446/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/9446/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#9446","relative":"#9446","full":"gitlab-org/gitlab#9446"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":17716957,"iid":9444,"project_id":278964,"title":"[Geo][Refactoring] (repository|wiki)_sync_due? to contain all the logic directly","description":"```ruby\ndef repository_sync_due?(scheduled_time)\n  never_synced_repository? || repository_sync_needed?(scheduled_time)\nend\n```\n\nNeither `never_synced_repository?` nor `repository_sync_needed?(scheduled_time)` is used now somewhere else so `repository_sync_due?` can contain all the logic.\n\n```ruby\ndef repository_sync_due?(scheduled_time)\n  return false unless resync_repository?\n  return false if repository_retry_at \u0026\u0026 timestamp \u003c repository_retry_at\n  return true if last_repository_synced_at.nil?\n\n  timestamp \u003e last_repository_synced_at\nend\n```\n\n@dbalexandre @toon @brodock @mkozono","state":"closed","created_at":"2019-01-28T09:44:59.609Z","updated_at":"2019-12-16T14:49:58.435Z","closed_at":"2019-02-07T15:26:57.650Z","closed_by":{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"},"labels":["Category:Geo Replication","Enterprise Edition","devops::systems","group::geo","maintenance::refactor"],"milestone":{"id":581391,"iid":23,"group_id":9970,"title":"11.8","description":"","state":"closed","created_at":"2018-06-26T15:15:18.359Z","updated_at":"2019-03-08T17:33:19.162Z","due_date":"2019-02-22","start_date":"2019-01-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/23"},"assignees":[],"author":{"id":59678,"username":"vsizov","name":"Valery Sizov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/59678/avatar.png","web_url":"https://gitlab.com/vsizov"},"type":"ISSUE","assignee":null,"user_notes_count":2,"merge_requests_count":1,"upvotes":3,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/9444","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/9444","notes":"https://gitlab.com/api/v4/projects/278964/issues/9444/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/9444/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#9444","relative":"#9444","full":"gitlab-org/gitlab#9444"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":24688246,"iid":26380,"project_id":278964,"title":"Admins can't administer personal snippets","description":"### Summary\n\nAdmins behave like a regular user when accessing personal snippets. If a personal snippet is public, they can only comment or award emoji. If it's private, they can only view it.\n\n### Steps to reproduce\n\n1. As a normal user, create a personal snippet.\n2. As an admin, view the snippet. You won't be able to do administer the snippet.\n\n### What is the current *bug* behavior?\n\nAdmin can view a personal snippet but can't do anything (e.g. edit, delete, etc) on it.\n\n### What is the expected *correct* behavior?\n\nAdmin should be able to do everything an author can do. Just like what they can do on project snippets.\n\n### Possible fixes\n\nModifying the rule for author in [this policy](https://gitlab.com/gitlab-org/gitlab-ce/blob/master/app/policies/personal_snippet_policy.rb) to also include `admin` condition should fix this. That way both author and admins have the same permissions on a personal snippet.\n\n/cc @jramsay @DouweM","state":"closed","created_at":"2019-01-28T05:20:29.969Z","updated_at":"2019-11-18T08:33:30.571Z","closed_at":"2019-11-18T08:33:30.516Z","closed_by":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier López","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"labels":["Category:Snippets","Community contribution","backend","devops::create","group::editor","missed-SLO","missed:12.5","priority::2","severity::3","type::bug","workflow::verification"],"milestone":{"id":891796,"iid":39,"group_id":9970,"title":"12.5","description":"https://about.gitlab.com/releases/2019/11/22/gitlab-12-5-released","state":"closed","created_at":"2019-05-31T08:38:03.087Z","updated_at":"2020-04-27T16:27:03.474Z","due_date":"2019-11-17","start_date":"2019-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/39"},"assignees":[{"id":955795,"username":"fjsanpedro","name":"Francisco Javier López","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"}],"author":{"id":1884221,"username":"patrickbajao","name":"Patrick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1884221/avatar.png","web_url":"https://gitlab.com/patrickbajao"},"type":"ISSUE","assignee":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier López","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"user_notes_count":7,"merge_requests_count":1,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/26380","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/26380","notes":"https://gitlab.com/api/v4/projects/278964/issues/26380/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/26380/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#26380","relative":"#26380","full":"gitlab-org/gitlab#26380"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":24688242,"iid":26379,"project_id":278964,"title":"Snippets report incorrect filesize in bytes, slightly larger than actual filesize","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"bug\" label.\n\nFor the Community Edition issue tracker:\n\n- https://gitlab.com/gitlab-org/gitlab-ce/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab-ce/issues?label_name%5B%5D=bug\n\nFor the Enterprise Edition issue tracker:\n\n- https://gitlab.com/gitlab-org/gitlab-ee/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab-ee/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\nFile size in bytes shown on snippets seems to be always off, a few bytes larger than the actual number of bytes in the file\n\n### Steps to reproduce\nFirefox\n - Create a snippet between 100 - 500 bytes in size\n - Compare the size shown vs. the actual size by downloading the file.\n\n### Example Project\n\nhttps://gitlab.com/snippets/1790401\n\n### What is the current *bug* behavior?\nListed size in bytes is slightly larger than actual size of the file.\n\nIn example, listed as 168 bytes, file is actually 162 bytes.\n\n### What is the expected *correct* behavior?\n\nShows actual correct size of the file\n\n### Relevant logs and/or screenshots\n\n![image](/uploads/c605d3e4454ecc67cd723feb90f9b306/image.png)\n\n### Output of checks\n\nThis bug happens on GitLab.com\n\n---\n\n\n@fjsanpedro :\n\n## MR Breakdown\n* I think we can close this issue. Now that the size it's retrieved from the blob in the repository and not from the database, the size we get is the correct one.","state":"closed","created_at":"2019-01-28T02:40:57.464Z","updated_at":"2020-07-15T07:39:17.999Z","closed_at":"2020-07-15T07:39:17.296Z","closed_by":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier López","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"labels":["Category:Snippets","[deprecated] Accepting merge requests","backend","devops::create","group::editor","priority::3","reproduced on GitLab.com","severity::3","type::bug","workflow::scheduling"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":1759588,"username":"trojkilla","name":"trojkilla","state":"active","avatar_url":"https://secure.gravatar.com/avatar/daa89c79b0574e9379f6fdb81014f145?s=80\u0026d=identicon","web_url":"https://gitlab.com/trojkilla"},"type":"ISSUE","assignee":null,"user_notes_count":16,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/26379","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/26379","notes":"https://gitlab.com/api/v4/projects/278964/issues/26379/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/26379/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#26379","relative":"#26379","full":"gitlab-org/gitlab#26379"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":17672641,"iid":9424,"project_id":278964,"title":"Link existing Issues to a Vulnerability","description":"# Problem\nThere's currently a way to create a new issue from a vulnerability in the dashboard, but the problem is there's no way (that I could find) to link an existing issue with a vulnerability. \n\n# Proposed solution\nProvide an option to link an existing issue to the vuln.\n\n## Experience: \n\n\n\u003cp\u003e\n\u003cdetails\u003e\n\u003csummary\u003eold mocks\u003c/summary\u003e\n\n| No related issues | Adding an issue | Has related issues | \n| - | - | - |  \n| ![no-linked-issues](/uploads/82d6b08746cad09eac06ac10d8b094f5/no-linked-issues.png)  | ![linking-issues](/uploads/dc03b9ad7fd4af61171e396f861eda1f/linking-issues.png)  |  ![multiple-issues-linked](/uploads/2253c815c6d67617175c4c1a3dc01044/multiple-issues-linked.png) | \n\n\u003c/p\u003e\n\u003c/details\u003e\n\n### Changes \n\n- Add related issues section to vulnerability page\n  - Move `create issue` button into related issues section header\n  - Add `Add issue` button into related issues section\n  - Add issue counter and icon to related issue section \n- Add system notes for issue creation in the vulnerability page \n- Add system notes for issue linked in the vulnerability page \n\nAt the moment there is no reference on the issue page itself of the associated vulnerability. This presents a few challenges, the biggest being the exposure of a vulnerability in a public issue or an issue that should not contain this sensitive information. I think we hold off on that until we have more clarity on the workflow. \n\n# What success looks like\nCan link a security dashboard vulnerability to an existing issue, rather than only creating a new issue from it.\n\n# Technical Implementation\n\n- [ ] Create a `RelatedIssue` component which displays a related issue and all the functionality described in the design ~frontend \n- [ ] Create a `RelatedIssues` component which fetches the related issues and contains the `Create Issue` and `Add Issue` button inside. ~frontend \n- [ ] Write tests for each them\n- [ ] Add documentation\n\n/cc @plafoucriere @andyvolpe @bikebilly","state":"closed","created_at":"2019-01-25T22:11:18.367Z","updated_at":"2022-10-28T15:44:55.759Z","closed_at":"2020-07-28T12:16:54.912Z","closed_by":{"id":4907528,"username":"dftian","name":"Daniel Tian","state":"active","avatar_url":"https://secure.gravatar.com/avatar/5d7186a64c42708833291afd7749c7b5?s=80\u0026d=identicon","web_url":"https://gitlab.com/dftian"},"labels":["Category:Vulnerability Management","Deliverable","Enterprise Edition","GitLab Ultimate","UX","devops::secure","direction","frontend","frontend-weight::3","group::threat insights","internal customer","type::feature","workflow::verification"],"milestone":{"id":1233752,"iid":50,"group_id":9970,"title":"13.3","description":"https://about.gitlab.com/releases/2020/08/22/gitlab-13-3-released/","state":"closed","created_at":"2020-04-09T17:39:21.090Z","updated_at":"2022-04-13T14:50:18.976Z","due_date":"2020-08-17","start_date":"2020-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/50"},"assignees":[{"id":2338871,"username":"andyvolpe","name":"Andy Volpe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2338871/avatar.png","web_url":"https://gitlab.com/andyvolpe"},{"id":4907528,"username":"dftian","name":"Daniel Tian","state":"active","avatar_url":"https://secure.gravatar.com/avatar/5d7186a64c42708833291afd7749c7b5?s=80\u0026d=identicon","web_url":"https://gitlab.com/dftian"},{"id":5535431,"username":"mparuszewski","name":"Alan (Maciej) Paruszewski","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535431/avatar.png","web_url":"https://gitlab.com/mparuszewski"}],"author":{"id":1895698,"username":"jritchey","name":"James Ritchey","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1895698/avatar.png","web_url":"https://gitlab.com/jritchey"},"type":"ISSUE","assignee":{"id":2338871,"username":"andyvolpe","name":"Andy Volpe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2338871/avatar.png","web_url":"https://gitlab.com/andyvolpe"},"user_notes_count":105,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/9424","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":4,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 4 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/9424","notes":"https://gitlab.com/api/v4/projects/278964/issues/9424/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/9424/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#9424","relative":"#9424","full":"gitlab-org/gitlab#9424"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3592,"epic":{"id":68459,"iid":3592,"title":"Link an existing GitLab issue to a security vulnerability","url":"/groups/gitlab-org/-/epics/3592","group_id":9970,"human_readable_end_date":"Sep 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":24688165,"iid":26362,"project_id":278964,"title":"Arbitrary  value (i.e., one-dimensional array or matrix) for parallel jobs","description":"### Problem to solve\n\nThe [`parallel`](https://docs.gitlab.com/ee/ci/yaml/#parallel) option allow you to create multiple copies of the same job with an automatically incremented `CI_NODE_INDEX` over the jobs we create.  However, it could be more useful if I could specify my own array of values for these jobs.\n\n### Target audience\n\n\u003c!--- For whom are we doing this? Include a [persona](https://design.gitlab.com/research/personas)\nlisted below, if applicable, along with its [label](https://gitlab.com/groups/gitlab-org/-/labels?utf8=%E2%9C%93\u0026subscribed=\u0026search=persona%3A),\nor define a specific company role, e.g. \"Release Manager\".\n\nExisting personas are: (copy relevant personas out of this comment, and delete any persona that does not apply)\n\n- Parker, Product Manager, https://design.gitlab.com/research/personas#persona-parker\n\n- Delaney, Development Team Lead, https://design.gitlab.com/research/personas#persona-delaney\n\n- Sasha, Software Developer, https://design.gitlab.com/research/personas#persona-sasha\n\n- Devon, DevOps Engineer, https://design.gitlab.com/research/personas#persona-devon\n\n- Sidney, Systems Administrator, https://design.gitlab.com/research/personas#persona-sidney\n\n- Sam, Security Analyst, https://design.gitlab.com/research/personas#persona-sam\n--\u003e\n\n### Further details\n\nUse cases could include a Node project that has an arbitray set of scripts outside of just `npm test` or `npm build` that I want to run.  Perhaps I have a package.json with:\n\n```json\n\"scripts\": {\n    \"clean\": \"rimraf dist/*\",\n    \"prebuild\": \"npm run clean -s\",\n    \"build\": \"npm run build:scripts -s \u0026\u0026 npm run build:styles -s \u0026\u0026 npm run build:markup -s\",\n    \"build:scripts\": \"browserify -d assets/scripts/main.js -p [minifyify --compressPath . --map main.js.map --output dist/main.js.map] | hashmark -n dist/main.js -s -l 8 -m assets.json \\\"dist/{name}{hash}{ext}\\\"\",\n    \"build:styles\": \"stylus assets/styles/main.styl -m -o dist/ \u0026\u0026 hashmark -s -l 8 -m assets.json dist/main.css \\\"dist/{name}{hash}{ext}\\\"\",\n    \"build:markup\": \"jade assets/markup/index.jade --obj assets.json -o dist\",\n    \"test\": \"karma start --singleRun\",\n  },\n```\n\nI could then say at the build stage I want to parallelize it and have it run the scripts `[\"build\", \"build:scripts\", \"build:styles\", \"build:markup\"]`.\n\n### Proposal\n\nWe could expand on the matrix keyword to accept a one-dimensional matrix as follows:\n\n```yaml\ndeploystacks:\n  stage: deploy\n  script:\n    - bin/deploy\n  parallel:\n    matrix:\n      - PROVIDER: [gcp, vultr]\n```\n\nThis would solve this use case in a clear way, using existing features (https://docs.gitlab.com/ee/ci/yaml/#parallel-matrix-jobs).\n\n### What does success look like, and how can we measure that?\n\n\u003c!--- Define both the success metrics and acceptance criteria. Note thet success metrics indicate the desired business outcomes, while acceptance criteria indicate when the solution is working correctly. If there is no way to measure success, link to an issue that will implement a way to measure this --\u003e\n\n### Links / references","state":"closed","created_at":"2019-01-25T13:28:19.109Z","updated_at":"2021-12-16T19:07:44.715Z","closed_at":"2020-10-16T19:38:28.528Z","closed_by":{"id":5709468,"username":"cheryl.li","name":"Cheryl Li","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5709468/avatar.png","web_url":"https://gitlab.com/cheryl.li"},"labels":["Category:Continuous Integration","Category:Pipeline Authoring","Community contribution","DEPRECATE_pipeline authoring","Persona: DevOps Engineer","backend","customer","devops::verify","direction","group::pipeline authoring","section::ops","type::feature","workflow::production"],"milestone":{"id":1233754,"iid":52,"group_id":9970,"title":"13.5","description":"https://about.gitlab.com/releases/2020/10/22/gitlab-13-5-released/","state":"closed","created_at":"2020-04-09T17:39:21.990Z","updated_at":"2022-04-21T07:21:12.213Z","due_date":"2020-10-17","start_date":"2020-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/52"},"assignees":[{"id":446644,"username":"Turmio","name":"Turo Soisenniemi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/e3c5a6c1ed8743efdc9a62ba89903fdd?s=80\u0026d=identicon","web_url":"https://gitlab.com/Turmio"},{"id":3946912,"username":"lauraX","name":"Laura Montemayor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3946912/avatar.png","web_url":"https://gitlab.com/lauraX"}],"author":{"id":1514779,"username":"brendan","name":"Brendan O'Leary 🐢","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b5a575069d12106f79c0c97dfb3ef917?s=80\u0026d=identicon","web_url":"https://gitlab.com/brendan"},"type":"ISSUE","assignee":{"id":446644,"username":"Turmio","name":"Turo Soisenniemi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/e3c5a6c1ed8743efdc9a62ba89903fdd?s=80\u0026d=identicon","web_url":"https://gitlab.com/Turmio"},"user_notes_count":34,"merge_requests_count":1,"upvotes":26,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/26362","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/26362","notes":"https://gitlab.com/api/v4/projects/278964/issues/26362/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/26362/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":"https://gitlab.com/api/v4/projects/278964/issues/15356"},"references":{"short":"#26362","relative":"#26362","full":"gitlab-org/gitlab#26362"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":17654872,"iid":9410,"project_id":278964,"title":"Route /admin/geo gives 404","description":"I forgot the correct URL for the admin panel of ~Geo, but I typed in `/admin/geo` manually, and got a `404`.\n\nIt would be nice to have this route direct to `/admin/geo/nodes`.\n\nSimple fix, improves UX (if you're a heavy URL \"hacker\" as me).","state":"closed","created_at":"2019-01-25T08:59:28.926Z","updated_at":"2019-12-11T20:03:47.771Z","closed_at":"2019-09-06T08:20:21.120Z","closed_by":{"id":2722370,"username":"rnienaber","name":"Rachel Nienaber","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2722370/avatar.png","web_url":"https://gitlab.com/rnienaber"},"labels":["Community contribution","Enterprise Edition","Geo Administration","devops::systems","group::geo","type::feature"],"milestone":{"id":731038,"iid":37,"group_id":9970,"title":"12.3","description":"https://about.gitlab.com/releases/2019/09/22/gitlab-12-3-released/","state":"closed","created_at":"2018-12-07T12:40:55.400Z","updated_at":"2020-04-23T21:06:04.173Z","due_date":"2019-09-17","start_date":"2019-08-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/37"},"assignees":[{"id":1933526,"username":"leetickett","name":"Lee Tickett","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1933526/avatar.png","web_url":"https://gitlab.com/leetickett"}],"author":{"id":660180,"username":"toon","name":"Toon Claes","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/660180/avatar.png","web_url":"https://gitlab.com/toon"},"type":"ISSUE","assignee":{"id":1933526,"username":"leetickett","name":"Lee Tickett","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1933526/avatar.png","web_url":"https://gitlab.com/leetickett"},"user_notes_count":6,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/9410","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/9410","notes":"https://gitlab.com/api/v4/projects/278964/issues/9410/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/9410/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#9410","relative":"#9410","full":"gitlab-org/gitlab#9410"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":369,"epic":{"id":1104,"iid":369,"title":"Geo: Improve UI/UX on Administrator Panel","url":"/groups/gitlab-org/-/epics/369","group_id":9970},"iteration":null,"health_status":null},{"id":17649795,"iid":9406,"project_id":278964,"title":"Create a SCIM specific token for group SSO [FE]","description":"~frontend for https://gitlab.com/gitlab-org/gitlab-ee/issues/9288. \n\n~\"UX ready\" in https://gitlab.com/gitlab-org/gitlab-ee/issues/9405. Proposed solution is copied here:\n\n### Solution\n\n| No SCIM token | SCIM token generated | Later access to this page |\n|---------------|----------------------|---------------------------|\n| ![image](/uploads/fd85df35b1813b899bbddec6ece6576a/image.png) | ![image](/uploads/04fb61ab70d9f8ebce53748ba4a7cec6/image.png) | ![image](/uploads/52bcd9e177ec2c22a5b4b1d82b00375d/image.png) |\n\n**Required changes:**\n\n* Add a new section at the bottom of the page called `SCIM Token`\n* When no token has been generated yet, show the instructions and the 'Generate a SCIM token' button\n* Immediately after th token is generated, show it in a read-only input field with a copy to clipboard button. Include instructions below as illustrated.\n* If the user comes back to this page later, the token needs to be hidden and the instructions tell the user that they need to reset the token to see it again.\n* When the user clicks 'reset it' in the SCIM token help text, show the default browser alert with `Are you sure you want to reset the SCIM token? SCIM provisioning will stop working until the new token is updated.` as the message.\n\n**Recommended changes:**\n\nTo simplify the UI and make it more consistent with our guidelines:\n\n* All input fields labels should be bold and on top, not on the left\n* Replace the checkbox with a toggle\n* The grey box around the instructions and the first two input fields seems unnecessary so let's remove it to make the interface simpler.","state":"closed","created_at":"2019-01-25T01:36:25.138Z","updated_at":"2019-08-12T15:08:31.960Z","closed_at":"2019-04-08T06:09:28.951Z","closed_by":{"id":3101551,"username":"blabuschagne","name":"Brandon Labuschagne","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3101551/avatar.png","web_url":"https://gitlab.com/blabuschagne"},"labels":["Deliverable","Enterprise Edition","Manage [DEPRECATED]","devops::manage","estimation::completed","frontend","priority::1","ready for merge","type::feature"],"milestone":{"id":655279,"iid":27,"group_id":9970,"title":"11.10","description":"","state":"closed","created_at":"2018-09-21T19:08:16.261Z","updated_at":"2019-05-21T09:17:49.051Z","due_date":"2019-04-22","start_date":"2019-03-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/27"},"assignees":[{"id":3101551,"username":"blabuschagne","name":"Brandon Labuschagne","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3101551/avatar.png","web_url":"https://gitlab.com/blabuschagne"}],"author":{"id":1086520,"username":"jeremy-gl","name":"Jeremy Watson (ex-GitLab)","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1086520/avatar.png","web_url":"https://gitlab.com/jeremy-gl"},"type":"ISSUE","assignee":{"id":3101551,"username":"blabuschagne","name":"Brandon Labuschagne","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3101551/avatar.png","web_url":"https://gitlab.com/blabuschagne"},"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/9406","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/9406","notes":"https://gitlab.com/api/v4/projects/278964/issues/9406/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/9406/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#9406","relative":"#9406","full":"gitlab-org/gitlab#9406"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":17649767,"iid":9405,"project_id":278964,"title":"Create a SCIM specific token for group SSO [UX]","description":"~UX for https://gitlab.com/gitlab-org/gitlab-ee/issues/9288.\n\n### Overview\n\nWhen configuring SCIM from an identity provider, configuration on the identity provider requires a token. \n\nTo enable this configuration, we should display this token somewhere in the SSO SAML configuration panel. We can display this similarly to a runner token, but we should only display the token once in the UI when it's generated. If the user would like to see the token again, they need to regenerate it (similar to PATs).\n\nWhen a new token is generated, old tokens should not work.\n\n### References\n\n![Screen_Shot_2019-01-18_at_10.19.20](https://gitlab.com/gitlab-org/gitlab-ee/uploads/a57e51c44649411345f3435a0484785a/Screen_Shot_2019-01-18_at_10.19.20.png)\n\n![image](/uploads/ab4e0d24907c9781dd831a8f8d39dded/image.png)\n\n### Solution\n\n| No SCIM token | SCIM token generated | Later access to this page |\n|---------------|----------------------|---------------------------|\n| ![image](/uploads/fd85df35b1813b899bbddec6ece6576a/image.png) | ![image](/uploads/04fb61ab70d9f8ebce53748ba4a7cec6/image.png) | ![image](/uploads/52bcd9e177ec2c22a5b4b1d82b00375d/image.png) |\n\n**Required changes:**\n\n* Add a new section at the bottom of the page called `SCIM Token`\n* When no token has been generated yet, show the instructions and the 'Generate a SCIM token' button\n* Immediately after th token is generated, show it in a read-only input field with a copy to clipboard button. Include instructions below as illustrated.\n* If the user comes back to this page later, the token needs to be hidden and the instructions tell the user that they need to reset the token to see it again.\n* When the user clicks 'reset it' in the SCIM token help text, show the default browser alert with `Are you sure you want to reset the SCIM token? SCIM provisioning will stop working until the new token is updated.` as the message.\n\n**Recommended changes:**\n\nTo simplify the UI and make it more consistent with our guidelines:\n\n* All input fields labels should be bold and on top, not on the left\n* Replace the checkbox with a toggle\n* The grey box around the instructions and the first two input fields seems unnecessary so let's remove it to make the interface simpler.","state":"closed","created_at":"2019-01-25T01:30:39.725Z","updated_at":"2019-08-12T15:08:31.961Z","closed_at":"2019-02-16T21:56:28.575Z","closed_by":{"id":1086520,"username":"jeremy-gl","name":"Jeremy Watson (ex-GitLab)","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1086520/avatar.png","web_url":"https://gitlab.com/jeremy-gl"},"labels":["Deliverable","Enterprise Edition","Manage [DEPRECATED]","devops::manage","estimation::completed","priority::1","researched [DEPRECATED]"],"milestone":{"id":523180,"iid":18,"group_id":9970,"title":"11.9","description":"https://about.gitlab.com/releases/2019/03/22/gitlab-11-9-released/","state":"closed","created_at":"2018-05-09T14:56:19.024Z","updated_at":"2020-04-30T19:56:35.917Z","due_date":"2019-03-22","start_date":"2019-02-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/18"},"assignees":[{"id":1859215,"username":"matejlatin","name":"Matej Latin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1859215/avatar.png","web_url":"https://gitlab.com/matejlatin"}],"author":{"id":1086520,"username":"jeremy-gl","name":"Jeremy Watson (ex-GitLab)","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1086520/avatar.png","web_url":"https://gitlab.com/jeremy-gl"},"type":"ISSUE","assignee":{"id":1859215,"username":"matejlatin","name":"Matej Latin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1859215/avatar.png","web_url":"https://gitlab.com/matejlatin"},"user_notes_count":27,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/9405","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/9405","notes":"https://gitlab.com/api/v4/projects/278964/issues/9405/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/9405/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#9405","relative":"#9405","full":"gitlab-org/gitlab#9405"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":17646186,"iid":9400,"project_id":278964,"title":"Geo: Support custom hooks","description":"### Summary (for the Release Post; describes potential future state)\r\n\r\nGitLab Geo now replicates [server-side Git Hooks](https://docs.gitlab.com/ee/administration/custom_hooks.html) to all **secondaries**. Even though all push operations happen on the **primary** node, this ensures that in the case of a planned fail-over Git Hook data is preserved and no data will be lost.\r\n\r\n### Problem to solve\r\n\r\nAll customer data that is relevant to the customer's workflow should be replicated via Geo; however, this is not yet the case. We [are working towards this state](https://gitlab.com/groups/gitlab-org/-/epics/893).\r\n\r\n\u003c!-- What problem do we solve? --\u003e\r\n\r\nGitLab [supports server-side Git Hooks](https://docs.gitlab.com/ee/administration/custom_hooks.html), which allows certain scripts to be run automatically on the server. Even though Git Hooks are only active on the **primary**, where all push operations are received, Git Hooks are important customer data that should be synced to *secondaries**. This is not the case right now and means that when a **secondary** is promoted to a **primary** because of a fail-over the Git Hooks will be lost.\r\n\r\n\r\n### Intended users\r\n\r\n\u003c!-- Who will use this feature? If known, include any of the following: types of users (e.g. Developer), personas, or specific company roles (e.g. Release Manager). It's okay to write \"Unknown\" and fill this field in later.\r\nPersonas can be found at https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/ --\u003e\r\n\r\n- Systems administrators\r\n\r\n### Proposal\r\n\r\n\u003c!-- How are we going to solve the problem? Try to include the user journey! https://about.gitlab.com/handbook/journeys/#user-journey --\u003e\r\n* Customers can add [Git Hooks to their repositories](https://docs.gitlab.com/ee/administration/custom_hooks.html)\r\n* Git Hook data is replicated (and verified) to all secondaries\r\n* When a **secondary** is promoted to a **primary** the replicated Git Hook data should be usable automatically\r\n\r\n### Further details\r\n\r\n- Hooks are standalone files that are not under version control. We would need Gitaly support to access them.\r\n- What content is present in Git Hooks? Is it context dependent?\r\n\r\nThere was a bit of communication on this topic on [Slack](https://gitlab.slack.com/archives/C32LCGC1H/p1548360976306200).\r\n\r\n### Permissions and Security\r\n\r\n\u003c!-- What permissions are required to perform the described actions? Are they consistent with the existing permissions as documented for users, groups, and projects as appropriate? Is the proposed behavior consistent between the UI, API, and other access methods (e.g. email replies)? --\u003e\r\n\r\nN/A\r\n\r\n### Documentation\r\n\r\n\u003c!-- See the Feature Change Documentation Workflow https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html\r\nAdd all known Documentation Requirements here, per https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html#documentation-requirements --\u003e\r\n\r\n* Remove note from https://docs.gitlab.com/ee/administration/custom_hooks.html\r\n\r\n### Testing\r\n\r\n\u003c!-- What risks does this change pose? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing? See the test engineering process for further guidelines: https://about.gitlab.com/handbook/engineering/quality/guidelines/test-engineering/ --\u003e\r\n\r\nN/A\r\n\r\n### What does success look like, and how can we measure that?\r\n\r\n\u003c!-- Define both the success metrics and acceptance criteria. Note that success metrics indicate the desired business outcomes, while acceptance criteria indicate when the solution is working correctly. If there is no way to measure success, link to an issue that will implement a way to measure this. --\u003e\r\n\r\n* Hooks are synced from the **primary** to all **secondaries**.\r\n\r\n### What is the type of buyer? \r\n\r\n\u003c!-- Which leads to: in which enterprise tier should this feature go? See https://about.gitlab.com/handbook/product/pricing/#four-tiers --\u003e\r\n\r\n* Premium\r\n\r\n### Links / references\r\n\r\n/label ~feature\r\n","state":"closed","created_at":"2019-01-24T20:42:54.064Z","updated_at":"2019-12-16T14:47:44.239Z","closed_at":"2019-09-10T12:32:14.893Z","closed_by":{"id":3944199,"username":"fzimmer","name":"Fabian Zimmer","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3944199/avatar.png","web_url":"https://gitlab.com/fzimmer"},"labels":["Category:Geo Replication","Enterprise Edition","[deprecated] Accepting merge requests","customer","devops::systems","direction","geo::planning","group::geo","workflow::blocked","workflow::solution validation"],"milestone":{"id":427853,"iid":10,"group_id":9970,"title":"Next 3-4 releases","description":"Bigger issues we plan to ship in the next 3-4 releases, but don't have a designated release yet. \r\n\r\n\u003e \"An easy way to look at it for me it's translating to months. Since our iterations are 1 month, I look at it as 'within the next 4 months'.\" - @dgruesso [via slack]\r\n\r\nDO NOT add small changes, bugs, regressions to this milestone.","state":"active","created_at":"2017-12-11T16:26:33.141Z","updated_at":"2020-07-14T18:21:29.639Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/10"},"assignees":[],"author":{"id":2722370,"username":"rnienaber","name":"Rachel Nienaber","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2722370/avatar.png","web_url":"https://gitlab.com/rnienaber"},"type":"ISSUE","assignee":null,"user_notes_count":30,"merge_requests_count":0,"upvotes":4,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/9400","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":8,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/9400","notes":"https://gitlab.com/api/v4/projects/278964/issues/9400/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/9400/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#9400","relative":"#9400","full":"gitlab-org/gitlab#9400"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":17637618,"iid":9391,"project_id":278964,"title":"Add EE specific implementations to GraphQL","description":"We would have to be able to extend the CE GraphQL API with EE specific functionality. The GraphQL specific files should live in `ee/app/graphql` the parts from `Gitlab::Graphql` we can already deal with using what we know and love.\n\nThings we'd need to support:\n- Adding fields to existing types\n- Add new types\n- Add arguments to resolvers and mutations\n\n---\n\nLooking at [`ee/api/entities.rb`](https://gitlab.com/gitlab-org/gitlab-ee/blob/master/ee/lib/ee/api/entities.rb) gives us a clue as to what all needs to get supported, which is quite a lot.\n\nHere's a list of items that may need to be targeted over time, as we build out our GraphQL support.  Each of these could be handled with a different issue.\n\n#### Modifications to CE\n\n- [ ] UserPublic\n- [ ] Project\n- [ ] Group\n- [ ] GroupDetail\n- [ ] ProtectedRefAccess\n- [ ] ProtectedBranch\n- [ ] IssueBasic\n- [ ] MergeRequestBasic\n- [ ] Namespace\n- [ ] Board\n- [ ] List\n- [ ] ApplicationSetting\n- [ ] Variable\n- [ ] Todo\n\n\n#### EE specific entities\n\n- [x] Issue - gitlab-org/gitlab!13248\n- [ ] ProjectPushRule\n- [ ] LdapGroupLink\n- [ ] RelatedIssue\n- [x] Epic - gitlab-org/gitlab!10999\n- [ ] EpicIssue\n- [ ] EpicIssueLink\n- [ ] IssueLink\n- [ ] SpecialBoardFilter\n- [ ] ApprovalRuleShort\n- [ ] ApprovalRule\n- [ ] MergeRequestApprovalRule\n- [ ] MergeRequestApprovalRules\n- [ ] ProjectApprovalRules\n- [ ] Approver\n- [ ] ApproverGroup\n- [ ] ApprovalSettings\n- [ ] Approvals\n- [ ] MergeRequestApprovals\n- [ ] ApprovalState\n- [ ] LdapGroup\n- [ ] GitlabLicense\n- [ ] GitlabLicenseWithActiveUsers\n- [ ] GeoNode\n- [ ] GeoNodeStatus\n- [ ] UnleashFeature\n- [ ] GitlabSubscription\n- [ ] NpmPackage\n- [ ] Package\n- [ ] PackageFile\n- [ ] ManagedLicense\n","state":"closed","created_at":"2019-01-24T15:55:34.179Z","updated_at":"2020-01-20T18:51:16.640Z","closed_at":"2020-01-17T19:24:00.165Z","closed_by":{"id":194645,"username":"digitalmoksha","name":"Brett Walker","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/194645/avatar.png","web_url":"https://gitlab.com/digitalmoksha"},"labels":["Deliverable","Enterprise Edition","GraphQL","backend","backstage [DEPRECATED]","devops::plan","group::project management","missed-deliverable","missed:11.10","missed:11.11","missed:11.9","missed:12.3","missed:12.4","missed:12.5","missed:12.6"],"milestone":{"id":891798,"iid":41,"group_id":9970,"title":"12.7","description":"https://about.gitlab.com/releases/2020/01/22/gitlab-12-7-released/","state":"closed","created_at":"2019-05-31T08:38:04.523Z","updated_at":"2020-05-19T13:46:24.737Z","due_date":"2020-01-17","start_date":"2019-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/41"},"assignees":[{"id":194645,"username":"digitalmoksha","name":"Brett Walker","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/194645/avatar.png","web_url":"https://gitlab.com/digitalmoksha"}],"author":{"id":171554,"username":"reprazent","name":"Bob Van Landuyt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/171554/avatar.png","web_url":"https://gitlab.com/reprazent"},"type":"ISSUE","assignee":{"id":194645,"username":"digitalmoksha","name":"Brett Walker","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/194645/avatar.png","web_url":"https://gitlab.com/digitalmoksha"},"user_notes_count":17,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/9391","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":45,"completed_count":2},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"2 of 45 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/9391","notes":"https://gitlab.com/api/v4/projects/278964/issues/9391/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/9391/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#9391","relative":"#9391","full":"gitlab-org/gitlab#9391"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":1367,"epic":{"id":7652,"iid":1367,"title":"GraphQL usable for customers","url":"/groups/gitlab-org/-/epics/1367","group_id":9970,"human_readable_end_date":"Jan 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":24688112,"iid":26343,"project_id":278964,"title":"Help link when enabling packages in settings links to maven repository","description":"![Google_Chrome_2019-01-23_17-09-00_2x](/uploads/d80639d7940984577db10c7e25d6ab46/Google_Chrome_2019-01-23_17-09-00_2x.png)\n\nThis link should also mention something about the new NPM registry","state":"closed","created_at":"2019-01-24T15:05:52.735Z","updated_at":"2019-10-18T12:22:19.458Z","closed_at":"2019-09-24T14:48:19.806Z","closed_by":{"id":171554,"username":"reprazent","name":"Bob Van Landuyt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/171554/avatar.png","web_url":"https://gitlab.com/reprazent"},"labels":["Category:Package Registry","Deliverable","devops::package","frontend","group::package registry","priority::4","severity::4","type::bug"],"milestone":{"id":731039,"iid":38,"group_id":9970,"title":"12.4","description":"https://about.gitlab.com/releases/2019/10/22/gitlab-12-4-released","state":"closed","created_at":"2018-12-07T12:41:53.212Z","updated_at":"2020-04-27T16:30:43.889Z","due_date":"2019-10-17","start_date":"2019-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/38"},"assignees":[{"id":4584738,"username":"nmezzopera","name":"Nicolò Maria Mezzopera","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4584738/avatar.png","web_url":"https://gitlab.com/nmezzopera"}],"author":{"id":408677,"username":"ClemMakesApps","name":"Clement Ho","state":"active","avatar_url":"https://secure.gravatar.com/avatar/013b4af8b474654bce8039ecd262a84a?s=80\u0026d=identicon","web_url":"https://gitlab.com/ClemMakesApps"},"type":"ISSUE","assignee":{"id":4584738,"username":"nmezzopera","name":"Nicolò Maria Mezzopera","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4584738/avatar.png","web_url":"https://gitlab.com/nmezzopera"},"user_notes_count":4,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/26343","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/26343","notes":"https://gitlab.com/api/v4/projects/278964/issues/26343/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/26343/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#26343","relative":"#26343","full":"gitlab-org/gitlab#26343"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":24688095,"iid":26336,"project_id":278964,"title":"[Review Apps] prometheus-server stuck in `CrashLoopBackOff` due to \"no space left on device\"","description":"This can be seen for https://console.cloud.google.com/kubernetes/pod/us-central1-a/review-apps-ce/review-apps-ce/review-36445-bett-z3r1a5-prometheus-server-64f89fc465-tv6d7?project=gitlab-review-apps\u0026authuser=1\u0026container_summary_list_tablesize=10\u0026tab=details\u0026duration=P1D.\n\nLogs are available at https://console.cloud.google.com/logs/viewer?interval=PT1H\u0026project=gitlab-review-apps\u0026authuser=1\u0026minLogLevel=0\u0026expandAll=false\u0026timestamp=2019-01-24T12:53:48.230000000Z\u0026customFacets=\u0026limitCustomFacetWidth=true\u0026advancedFilter=resource.type%3D%22container%22%0Aresource.labels.cluster_name%3D%22review-apps-ce%22%0Aresource.labels.namespace_id%3D%22review-apps-ce%22%0Aresource.labels.project_id%3D%22gitlab-review-apps%22%0Aresource.labels.zone:%22us-central1-a%22%0Aresource.labels.container_name%3D%22prometheus-server%22%0Aresource.labels.pod_id%3D%22review-36445-bett-z3r1a5-prometheus-server-64f89fc465-tv6d7%22\u0026scrollTimestamp=2019-01-24T12:48:21.000000000Z\u0026dateRangeStart=2019-01-24T11:53:48.481Z\u0026dateRangeEnd=2019-01-24T12:53:48.481Z:\n\nThe errors are\n\n```\n$ Opening storage failed open DB in /data: write /data/854513658: no space left on device\n\n# or \n\n$ opening storage failed: zero-pad torn page: write /data/wal/00000204: no space left on device\n```","state":"closed","created_at":"2019-01-24T12:56:54.361Z","updated_at":"2022-04-25T07:56:51.295Z","closed_at":"2022-04-25T07:56:51.279Z","closed_by":{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"labels":["Category:Review Apps","Quality","Quality::test-infrastructure","[deprecated] Accepting merge requests","devops::monitor","group::respond","priority::4","section::ops","severity::4","stale","type::bug","vintage"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"type":"ISSUE","assignee":null,"user_notes_count":25,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/26336","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/26336","notes":"https://gitlab.com/api/v4/projects/278964/issues/26336/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/26336/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#26336","relative":"#26336","full":"gitlab-org/gitlab#26336"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":606,"epic":{"id":2315,"iid":606,"title":"Improve Review Apps reliability \u0026 efficiency \u003e Improve setup \u0026 usefulness","url":"/groups/gitlab-org/-/epics/606","group_id":9970,"human_readable_end_date":"Nov 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":17631672,"iid":9385,"project_id":278964,"title":"Engineering Research: Which language framework / package manager should be next for Auto Remediation support for Dependency Scanning","description":"### Problem to solve\n\nAuto Remediation recommends merge requests to automatically fix vulnerabilities.\n\nIt currently supports Dependency Scanning findings, but only for Yarn based projects which is very limited coverage.\n\n### Target audience\n\n- Sasha, Software Developer\n- Sam, Security Analyst\n\n### Proposal\n\nWe should add more package managers in the supported list but we need insights to decide on how to prioritize them.\n\nDeveloper should review the currently supported package managers and evaluate which would be easiest to add suggested solution for, and a rough idea of the work needed to proceed (include a POC if needed) to ~\"workflow::planning breakdown\" \n\n* [x] present at least one [search algorithm](#note_363374280) we might use to implement suggested solutions, and see what it requires; it might be worth exploring [another approach](#note_369780852) to be used when the first once doesn't fit the language  \n* [x] write down a [list of requirements](#note_363369363) to add suggested solutions support for a particular package manager\n* [x] based on that, tell [which package managers satisfy these requirements](#note_369663963)\n* ~~[implement a PoC](#note_363378608) for this package manager, if needed~~\n\n### What does success look like, and how can we measure that?\n\nWe know for each supported language/package manager which one we can provide suggested solutions for and what the effort is.\n\n### Discovery conclusions\n\n**PHP Composer** seems to be the best next package manager for Auto Remediation.\n- The `composer.json` dependency file can easily be edited programmatically, and dependencies can also be added to it using the CLI.\n- The CLI makes it possible to selectively update any transient dependency. Conservative upgrade can be achieved.\n- The `composer.lock` lock file (JSON file) contains all the information needed to build a dependency graph, and it can be easily parse.\n- It's easy to query the requirements of a given package on packagist.org (public registry) or using the CLI.\n- It supports local repositories, so it should be able to inject advisories as virtual packages, if we want to take this approach to find auto remediation solutions.\n- PHP Composer support is implemented in [gemnasium](https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium/), as opposed to gemnasium-maven or gemnasium-python, and it's easier to implement auto-remediation in that context, until we eventually merge all Gemnasium-based projects. See https://gitlab.com/gitlab-org/gitlab/-/issues/198361\n\n**JavaScript npm** would be the second choice. It doesn't support selective upgrade of transient dependencies, but it's built on top of JSON files, has a powerful CLI, and makes it easy to query package versions and get their dependencies/requirements. Also, it support local packages, and provides an easy way to inject advisories as virtual packages.\n\nThat said, npm is somewhat redundant with yarn, which is already supported (though support is very limited).","state":"closed","created_at":"2019-01-24T12:46:26.732Z","updated_at":"2021-04-21T11:35:48.128Z","closed_at":"2020-07-17T14:19:42.692Z","closed_by":{"id":52092,"username":"gonzoyumo","name":"Olivier Gonzalez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/651e0ff81c3995a05269f7c80895fe89?s=80\u0026d=identicon","web_url":"https://gitlab.com/gonzoyumo"},"labels":["AST Leadership","Category:Container Scanning","Category:Dependency Scanning","Deliverable","Enterprise Edition","GitLab Ultimate","analysts","auto remediation","backend","devops::secure","direction","frontend","group::composition analysis","quad-planning::complete-no-action","type::feature"],"milestone":{"id":1233746,"iid":49,"group_id":9970,"title":"13.2","description":"https://about.gitlab.com/releases/2020/07/22/gitlab-13-2-released/","state":"closed","created_at":"2020-04-09T17:28:01.032Z","updated_at":"2022-04-13T14:48:24.167Z","due_date":"2020-07-17","start_date":"2020-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/49"},"assignees":[{"id":1958785,"username":"fcatteau","name":"Fabien Catteau","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1958785/avatar.png","web_url":"https://gitlab.com/fcatteau"}],"author":{"id":1273957,"username":"bikebilly","name":"Fabio Busatto","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1273957/avatar.png","web_url":"https://gitlab.com/bikebilly"},"type":"ISSUE","assignee":{"id":1958785,"username":"fcatteau","name":"Fabien Catteau","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1958785/avatar.png","web_url":"https://gitlab.com/fcatteau"},"user_notes_count":61,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/9385","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":3},"weight":5,"blocking_issues_count":0,"has_tasks":true,"task_status":"3 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/9385","notes":"https://gitlab.com/api/v4/projects/278964/issues/9385/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/9385/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#9385","relative":"#9385","full":"gitlab-org/gitlab#9385"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2456,"epic":{"id":17960,"iid":2456,"title":"Auto Remediation - Dependency Scanning - add additional package manager support","url":"/groups/gitlab-org/-/epics/2456","group_id":9970,"human_readable_end_date":"Jul 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":17631574,"iid":9384,"project_id":278964,"title":"Discovery: Suggested Solution (was Auto Remediation)  support for Container Scanning","description":"### Problem to solve\n\nAuto Remediation automatically fix vulnerabilities.\n\nIt currently supports Dependency Scanning findings. We should add Container Scanning results as well.\n\n### Target audience\n\n- Sasha, Software Developer\n- Sam, Security Analyst\n\n### Further details\n\nWe currently don't have solutions for Container Scanning, but Clair states to support them, so we need to investigate more.\n\n### Proposal\n\nProvide patches for Container Scanning vulnerabilities. Once done, everything should follow the same flow of the existing Auto Remediation feature.\n\n### Conclusion\n\nThis discovery has resulted in at least the following two approaches to auto remediation, with a summary of each option provided below:\n\n1. [Basic auto-remediation process](https://gitlab.com/gitlab-org/gitlab/issues/9384#note_231472460)\n\n    Attempt to update all packages in the `Docker` base image to the most recent available versions.  This may still result in vulnerabilities which are not possible to fix.\n1. [Complex auto-remediation process](https://gitlab.com/gitlab-org/gitlab/issues/9384#note_231515744)\n\n    Perform the [Basic auto-remediation process](https://gitlab.com/gitlab-org/gitlab/issues/9384#note_231472460) and if there are still unfixable vulnerabilities, then we attempt to fetch the _next incremental version_ of the base docker image and re-run the process until either there are no more matching images or all vulnerabilities have been removed.  The definition of _next incremental version_ will need to be discussed. For example, if the current version of the image is `3.7.2`, then should we look at `3.7.3`, followed by `3.7.4`, or should we look at `3.8`, then `3.9`, etc.\n\nMy recommendation is to implement the [Basic auto-remediation process](https://gitlab.com/gitlab-org/gitlab/issues/9384#note_231472460) first, since the logic will need to be used by the [Complex auto-remediation process](https://gitlab.com/gitlab-org/gitlab/issues/9384#note_231515744) anyway.\n\n### What does success look like, and how can we measure that?\n\nNumber of Container Scanning vulnerabilities fixed by Auto Remediation.","state":"closed","created_at":"2019-01-24T12:42:24.837Z","updated_at":"2021-04-03T08:32:51.127Z","closed_at":"2019-11-09T04:27:03.358Z","closed_by":{"id":3913516,"username":"NicoleSchwartz","name":"Nicole Schwartz","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3913516/avatar.png","web_url":"https://gitlab.com/NicoleSchwartz"},"labels":["Deliverable","Enterprise Edition","auto remediation","backend","devops::secure","group::composition analysis","missed-deliverable","missed:12.4","product discovery [DEPRECATED]","type::feature","workflow::in dev"],"milestone":{"id":891796,"iid":39,"group_id":9970,"title":"12.5","description":"https://about.gitlab.com/releases/2019/11/22/gitlab-12-5-released","state":"closed","created_at":"2019-05-31T08:38:03.087Z","updated_at":"2020-04-27T16:27:03.474Z","due_date":"2019-11-17","start_date":"2019-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/39"},"assignees":[{"id":1674572,"username":"adamcohen","name":"Adam Cohen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/68fe8da9d9dfc88d0d150808cd364825?s=80\u0026d=identicon","web_url":"https://gitlab.com/adamcohen"},{"id":3614383,"username":"kmann","name":"Kyle Mann","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3614383/avatar.png","web_url":"https://gitlab.com/kmann"},{"id":3913516,"username":"NicoleSchwartz","name":"Nicole Schwartz","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3913516/avatar.png","web_url":"https://gitlab.com/NicoleSchwartz"}],"author":{"id":1273957,"username":"bikebilly","name":"Fabio Busatto","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1273957/avatar.png","web_url":"https://gitlab.com/bikebilly"},"type":"ISSUE","assignee":{"id":1674572,"username":"adamcohen","name":"Adam Cohen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/68fe8da9d9dfc88d0d150808cd364825?s=80\u0026d=identicon","web_url":"https://gitlab.com/adamcohen"},"user_notes_count":29,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/9384","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/9384","notes":"https://gitlab.com/api/v4/projects/278964/issues/9384/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/9384/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#9384","relative":"#9384","full":"gitlab-org/gitlab#9384"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2454,"epic":{"id":17958,"iid":2454,"title":"Suggested Solution (was Auto Remediation) - Container Scanning MVC","url":"/groups/gitlab-org/-/epics/2454","group_id":9970,"human_readable_end_date":"Mar 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":17618969,"iid":9375,"project_id":278964,"title":"New user flow for SSOing into a GitLab.com group [FE]","description":"~frontend for https://gitlab.com/gitlab-org/gitlab-ee/issues/5292","state":"closed","created_at":"2019-01-24T03:32:30.961Z","updated_at":"2019-09-11T14:37:39.232Z","closed_at":"2019-05-27T13:09:38.933Z","closed_by":{"id":273486,"username":"jameslopez","name":"James Lopez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/273486/avatar.png","web_url":"https://gitlab.com/jameslopez"},"labels":["Deliverable","Enterprise Edition","Manage [DEPRECATED]","devops::manage","estimation::needed","frontend","missed-deliverable","missed:11.10","priority::1","workflow::in dev"],"milestone":{"id":655280,"iid":28,"group_id":9970,"title":"11.11","description":"","state":"closed","created_at":"2018-09-21T19:08:37.027Z","updated_at":"2019-06-10T14:39:00.009Z","due_date":"2019-05-22","start_date":"2019-04-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/28"},"assignees":[{"id":1749038,"username":"wortschi","name":"Martin Wortschack","state":"active","avatar_url":"https://secure.gravatar.com/avatar/81f1a88935a2a512aa14db650ed37fdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/wortschi"}],"author":{"id":1086520,"username":"jeremy-gl","name":"Jeremy Watson (ex-GitLab)","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1086520/avatar.png","web_url":"https://gitlab.com/jeremy-gl"},"type":"ISSUE","assignee":{"id":1749038,"username":"wortschi","name":"Martin Wortschack","state":"active","avatar_url":"https://secure.gravatar.com/avatar/81f1a88935a2a512aa14db650ed37fdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/wortschi"},"user_notes_count":28,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/9375","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/9375","notes":"https://gitlab.com/api/v4/projects/278964/issues/9375/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/9375/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#9375","relative":"#9375","full":"gitlab-org/gitlab#9375"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":17618959,"iid":9374,"project_id":278964,"title":"'New user' flow for SSOing into a GitLab.com group [UX]","description":"~UX for https://gitlab.com/gitlab-org/gitlab-ee/issues/5292\n\n### Overview\n\nTo support a new user flow after a user successfully SSOs, we need to consider and support a scenario where a user:\n1. Does not have a pre-existing user account on the instance, and/or\n1. The connected group enforcing SSO is requiring dedicated credentials, and the user must register a user account specifically for that group.\n\nThe main requirement here is a new treatment for the sign-in/registration page; see GitHub's reference image below. The user should understand:\n* That their SSO attempt was successful (they were authenticated from the connected identity provider)\n* Why they're being asked to create an account\n* That their new account will be used to access a specific group\n* That after registration, they'll be redirected to whatever resource they were requesting.\n\n### References\n\n![image](/uploads/3779a793cfc691f16de6dbf91b7f0533/image.png)\n\n\n### Solution\n\n- Group managed account\n  - [Linked](https://sketch.cloud/s/zzrrr/Jn5pnj0/play) (after SSO, straight to group-restricted source)\n  - [Not linked](https://sketch.cloud/s/zzrrr/jgWqg8W/play) (after SSO, user needs to register)\n  - [Not linked, signed in](https://sketch.cloud/s/zzrrr/Gm5pmMv/play) (after SSO, user confirms sign out, then creates a new account)\n- No group managed account\n  - [no existing GitLab.com account linked, signed in](https://sketch.cloud/s/zzrrr/Gm5pmME/play) (user chooses an account to link)\n  - [no existing GitLab.com account linked, not signed in](https://sketch.cloud/s/zzrrr/09qn9bA/play) (the user needs to sign in or register)\n  - [existing GitLab.com account linked](https://sketch.cloud/s/zzrrr/qevjeq5/play)\n","state":"closed","created_at":"2019-01-24T03:31:21.882Z","updated_at":"2019-08-12T15:08:36.976Z","closed_at":"2019-06-04T01:40:51.793Z","closed_by":{"id":1086520,"username":"jeremy-gl","name":"Jeremy Watson (ex-GitLab)","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1086520/avatar.png","web_url":"https://gitlab.com/jeremy-gl"},"labels":["Deliverable","Enterprise Edition","Manage [DEPRECATED]","authentication","devops::manage","estimation::completed","missed-deliverable","missed:11.9","saml"],"milestone":{"id":655280,"iid":28,"group_id":9970,"title":"11.11","description":"","state":"closed","created_at":"2018-09-21T19:08:37.027Z","updated_at":"2019-06-10T14:39:00.009Z","due_date":"2019-05-22","start_date":"2019-04-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/28"},"assignees":[{"id":1859215,"username":"matejlatin","name":"Matej Latin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1859215/avatar.png","web_url":"https://gitlab.com/matejlatin"}],"author":{"id":1086520,"username":"jeremy-gl","name":"Jeremy Watson (ex-GitLab)","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1086520/avatar.png","web_url":"https://gitlab.com/jeremy-gl"},"type":"ISSUE","assignee":{"id":1859215,"username":"matejlatin","name":"Matej Latin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1859215/avatar.png","web_url":"https://gitlab.com/matejlatin"},"user_notes_count":45,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/9374","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/9374","notes":"https://gitlab.com/api/v4/projects/278964/issues/9374/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/9374/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#9374","relative":"#9374","full":"gitlab-org/gitlab#9374"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":17618926,"iid":9373,"project_id":278964,"title":"Force notifications to SAML email address for dedicated users [UX]","description":"~UX issue for https://gitlab.com/gitlab-org/gitlab-ee/issues/5332. Blocking https://gitlab.com/gitlab-org/gitlab-ee/issues/9372\n\n### Overview\n\nIf [dedicated credentials](https://gitlab.com/gitlab-org/gitlab-ee/issues/6260) are enabled:\n\n- On creating the new user, force notifications for members to the e-mail address we get back in the SAML response. We'll need to consider how this changes https://gitlab.com/gitlab-org/gitlab-ee/issues/9374 in this case (the new user's email should be read-only).\n- In `profile/notifications`, do not allow the user to change their notification email away from this e-mail address. We could handle this with an error, but a better approach may be showing some indication in the UI (and why).\n- In `profile/emails`, do not allow the user to change their primary, commit, or notification email.\n\n### Solution\n\nOn creating a new user, force notifications for members to the email address we get back in the SAML repsonse:\n\n![image](/uploads/f0e5323c970a4dea5eb578aea6a636f0/image.png)\n\nDo not allow the user to change their notification email from this e-mail address:\n\n![image](/uploads/96b0e3e9049c6687eaab79b893e20097/image.png)\n\n","state":"closed","created_at":"2019-01-24T03:28:07.931Z","updated_at":"2019-08-12T15:08:37.028Z","closed_at":"2019-02-20T11:32:19.113Z","closed_by":{"id":1859215,"username":"matejlatin","name":"Matej Latin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1859215/avatar.png","web_url":"https://gitlab.com/matejlatin"},"labels":["Deliverable","Enterprise Edition","Manage [DEPRECATED]","devops::manage","estimation::completed","priority::1","researched [DEPRECATED]"],"milestone":{"id":523180,"iid":18,"group_id":9970,"title":"11.9","description":"https://about.gitlab.com/releases/2019/03/22/gitlab-11-9-released/","state":"closed","created_at":"2018-05-09T14:56:19.024Z","updated_at":"2020-04-30T19:56:35.917Z","due_date":"2019-03-22","start_date":"2019-02-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/18"},"assignees":[{"id":1859215,"username":"matejlatin","name":"Matej Latin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1859215/avatar.png","web_url":"https://gitlab.com/matejlatin"}],"author":{"id":1086520,"username":"jeremy-gl","name":"Jeremy Watson (ex-GitLab)","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1086520/avatar.png","web_url":"https://gitlab.com/jeremy-gl"},"type":"ISSUE","assignee":{"id":1859215,"username":"matejlatin","name":"Matej Latin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1859215/avatar.png","web_url":"https://gitlab.com/matejlatin"},"user_notes_count":15,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/9373","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/9373","notes":"https://gitlab.com/api/v4/projects/278964/issues/9373/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/9373/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#9373","relative":"#9373","full":"gitlab-org/gitlab#9373"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":24688072,"iid":26326,"project_id":278964,"title":"Use new import UI for all providers","description":"Feature flag: `new_import_ui`\n\nIn https://gitlab.com/gitlab-org/gitlab-ce/merge_requests/24608 we introduce a vue import app.\n\nImporting projects from different repo providers requires different strategies, because of this, there are multiple view implementations. This is a lot easier to maintain with vue components.\n\nThe first iteration covers GitHub and Gitea, which share an API interface.\n\nIt would be great to get Bitbucket Cloud+Server next!\n\n- [X] GitHub - https://gitlab.com/gitlab-org/gitlab-ce/merge_requests/24608\n- [X] Gitea - https://gitlab.com/gitlab-org/gitlab-ce/merge_requests/24608\n- [x] Gitlab.com\n- [x] Bitbucket Cloud\n- [x] Bitbucket Server\n- [x] Fogbugz\n- [-] Google Code - N/A, will be removed soon\n\n/cc @stanhu @jeremy","state":"closed","created_at":"2019-01-24T02:02:10.509Z","updated_at":"2022-03-28T19:12:53.838Z","closed_at":"2020-07-17T08:53:16.685Z","closed_by":{"id":1230286,"username":"xanf","name":"Illya Klymov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ce4d16557b46210fa57641531b570dd4?s=80\u0026d=identicon","web_url":"https://gitlab.com/xanf"},"labels":["Category:Importers","DEPRECATED_project import","Deliverable","devops::manage","estimation::completed","frontend","group::import","maintenance::refactor","milestone::p3","missed-deliverable","missed:12.10","missed:12.9","missed:13.0","priority::3","workflow::verification"],"milestone":{"id":1233746,"iid":49,"group_id":9970,"title":"13.2","description":"https://about.gitlab.com/releases/2020/07/22/gitlab-13-2-released/","state":"closed","created_at":"2020-04-09T17:28:01.032Z","updated_at":"2022-04-13T14:48:24.167Z","due_date":"2020-07-17","start_date":"2020-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/49"},"assignees":[{"id":1230286,"username":"xanf","name":"Illya Klymov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ce4d16557b46210fa57641531b570dd4?s=80\u0026d=identicon","web_url":"https://gitlab.com/xanf"}],"author":{"id":534669,"username":"lbennett","name":"Luke Bennett","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/534669/avatar.png","web_url":"https://gitlab.com/lbennett"},"type":"ISSUE","assignee":{"id":1230286,"username":"xanf","name":"Illya Klymov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ce4d16557b46210fa57641531b570dd4?s=80\u0026d=identicon","web_url":"https://gitlab.com/xanf"},"user_notes_count":20,"merge_requests_count":1,"upvotes":3,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/26326","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":6,"completed_count":6},"weight":5,"blocking_issues_count":1,"has_tasks":true,"task_status":"6 of 6 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/26326","notes":"https://gitlab.com/api/v4/projects/278964/issues/26326/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/26326/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#26326","relative":"#26326","full":"gitlab-org/gitlab#26326"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2208,"epic":{"id":15063,"iid":2208,"title":"Convert HAML-based Project Importers frontend to use Vue.js","url":"/groups/gitlab-org/-/epics/2208","group_id":9970},"iteration":null,"health_status":"on_track"},{"id":17615810,"iid":9367,"project_id":278964,"title":"Dragging and dropping issues and epics in the epic tree - issues \u0026 epics separately (under feature flag)","description":"This issue to extend the nesting visualization and interaction by allowing drag and drop functionality on the tree view, allowing users to reorder epics and issues in the tree.\n\nNote: this issue must ship with https://gitlab.com/gitlab-org/gitlab-ee/issues/10795 because we would be removing functionality without the ability to drag/drop. Drag/drop currently exists today in issue/epic lists and the tree view replaces it.\n\nContinuation of https://gitlab.com/groups/gitlab-org/-/epics/644 to have drag and drop.\n\n### Designs\n\n![Screen_Shot_2019-05-29_at_11.49.14_AM](https://gitlab.com/gitlab-org/gitlab/uploads/b279d5192168dbf5fa1ebebebf9ad571/Screen_Shot_2019-05-29_at_11.49.14_AM.png)\n\n- As soon as an item is in a dragging state, a banner appears `fixed` at the bottom of the screen\n- A user can continue to drag items into whichever state they'd like; and the banner persists the entire time\n- If user is unhappy with the changes they made (or made some mistakes) they can click `Discard changes` and the ordering will remain in the original state\n- If user clicks `Save changes`, the new order will be saved\n- The batch comment/MR review banner can be reused here (styling should be the same)\n\n![Screen_Shot_2019-05-29_at_11.39.12_AM](https://gitlab.com/gitlab-org/gitlab/uploads/cb40af1e398adad48d06cc41c61ec5ab/Screen_Shot_2019-05-29_at_11.39.12_AM.png)\n\n- Drag and drop should follow interaction we currently have for issue boards (dragging an item displays a sort of shadow, and other items shift up and down depending on where that shadow is\n- If an issue or epic is hovered over another epic (user wants to place issues/epics within another epic) that epic should have a highlighted state (`background-color: $blue-50;`, `border-color: $blue-200;`) \n\n![Screen_Shot_2019-05-29_at_12.26.37_PM](https://gitlab.com/gitlab-org/gitlab/uploads/5ec64fbbacec16f0f225315ef700325e/Screen_Shot_2019-05-29_at_12.26.37_PM.png)\n\n- If an issue or epic is dragged into an epic that already has the maximum number of descendants, a toast should appear\n\n### Iteration 1\n\nIn the scope of this issue we will support only ordering within the same object type (See https://gitlab.com/gitlab-org/gitlab-ee/issues/9367#note_198844678). After every move in the UI there will be a request to backend and the state will be saved (see https://gitlab.com/gitlab-org/gitlab-ee/issues/9367#note_191270033)\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2019-01-23T21:53:59.432Z","updated_at":"2022-05-19T16:14:44.289Z","closed_at":"2019-09-24T15:23:54.813Z","closed_by":{"id":508743,"username":"jarka","name":"Jarka Košanová","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3931dae84deb01d2881e4909077b8dbe?s=80\u0026d=identicon","web_url":"https://gitlab.com/jarka"},"labels":["Category:Portfolio Management","Enterprise Edition","EnterpriseAgile","GitLab Ultimate","Technical Writing","UX","backend","customer","customer+","devops::plan","direction","epics","frontend","group::product planning","internal customer","type::feature","workflow::in review"],"milestone":{"id":731038,"iid":37,"group_id":9970,"title":"12.3","description":"https://about.gitlab.com/releases/2019/09/22/gitlab-12-3-released/","state":"closed","created_at":"2018-12-07T12:40:55.400Z","updated_at":"2020-04-23T21:06:04.173Z","due_date":"2019-09-17","start_date":"2019-08-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/37"},"assignees":[{"id":201566,"username":"annabeldunstone","name":"Annabel Dunstone Gray","state":"active","avatar_url":"https://secure.gravatar.com/avatar/85c0203926134720f9a9aa8c6e264c78?s=80\u0026d=identicon","web_url":"https://gitlab.com/annabeldunstone"},{"id":411701,"username":"kushalpandya","name":"Kushal Pandya","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/411701/avatar.png","web_url":"https://gitlab.com/kushalpandya"},{"id":508743,"username":"jarka","name":"Jarka Košanová","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3931dae84deb01d2881e4909077b8dbe?s=80\u0026d=identicon","web_url":"https://gitlab.com/jarka"},{"id":3658061,"username":"rdickenson","name":"Russell Dickenson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3658061/avatar.png","web_url":"https://gitlab.com/rdickenson"}],"author":{"id":711023,"username":"victorwu","name":"Victor Wu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/711023/avatar.png","web_url":"https://gitlab.com/victorwu"},"type":"ISSUE","assignee":{"id":201566,"username":"annabeldunstone","name":"Annabel Dunstone Gray","state":"active","avatar_url":"https://secure.gravatar.com/avatar/85c0203926134720f9a9aa8c6e264c78?s=80\u0026d=identicon","web_url":"https://gitlab.com/annabeldunstone"},"user_notes_count":68,"merge_requests_count":0,"upvotes":3,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/9367","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/9367","notes":"https://gitlab.com/api/v4/projects/278964/issues/9367/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/9367/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#9367","relative":"#9367","full":"gitlab-org/gitlab#9367"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":644,"epic":{"id":2457,"iid":644,"title":"View epic relationships in epics","url":"/groups/gitlab-org/-/epics/644","group_id":9970,"human_readable_end_date":"Oct 17, 2019","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":24688043,"iid":26318,"project_id":278964,"title":"'Deploy to' label on environment is not necessarily right","description":"### Closed: duplicate\n\nThis issue is closed in favor of https://gitlab.com/gitlab-org/gitlab/-/issues/375235\n\n### Summary\n\nUnder Operations \u003e Environments \u003e Environment the 'play' button says `Deploy to...` for all manual jobs in `.gitlab-ci.yml`. \n\nIn case of review apps we generally stop them to clean up the old environment. We're not deploying anything at that time.\n\nCI / CD \u003e Pipelines has `Manual job` as its label. Which doesn't do anything (a bit weird from a UX perspective) but it is a better label.\n\n### Steps to reproduce\n\n(How one can reproduce the issue - this is very important)\n\n- Pipelines view https://gitlab.com/gitlab-org/gitlab/-/pipelines?page=1\u0026scope=all\u0026ref=refs%2Fmerge-requests%2F32849%2Fmerge\n- Environment view https://gitlab.com/gitlab-org/gitlab/-/environments/1913942\n- https://gitlab.com/gitlab-org/gitlab/-/environments/folders/review\n\n### Example Project\n\nhttps://gitlab.com/gitlab-org/gitlab\n\n### What is the current *bug* behavior?\n\n(What actually happens)\n\n### What is the expected *correct* behavior?\n\n(What you should see instead)\n\n### Relevant logs and/or screenshots\n\n(Paste any relevant logs - please use code blocks (```) to format console output,\nlogs, and code as it's tough to read otherwise.)\n\n| | |\n| ------ | ------ |\n| ![Screen_Shot_2020-06-03_at_14.28.44](/uploads/859863e4017f7af9d8eddae1150ca80e/Screen_Shot_2020-06-03_at_14.28.44.png) | ![Screen_Shot_2020-06-03_at_14.28.50](/uploads/0a4a8bb6c2b24e3b72ba016b6cbee46a/Screen_Shot_2020-06-03_at_14.28.50.png) |\n\n\n### Output of checks\n\n(If you are reporting a bug on GitLab.com, write: This bug happens on GitLab.com)\n\n#### Results of GitLab environment info\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to GitLab environment info\u003c/summary\u003e\n\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:env:info`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:env:info RAILS_ENV=production`)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n#### Results of GitLab application Check\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to the GitLab application check\u003c/summary\u003e\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:check SANITIZE=true`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:check RAILS_ENV=production SANITIZE=true`)\n\n(we will only investigate if the tests are passing)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n### Possible fixes\n\n(If you can, link to the line of code that might be responsible for the problem)","state":"closed","created_at":"2019-01-23T19:40:55.437Z","updated_at":"2022-09-30T19:14:25.702Z","closed_at":"2022-09-29T11:48:58.954Z","closed_by":{"id":12455340,"username":"andrei.zubov","name":"Andrei Zubov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12455340/avatar.png","web_url":"https://gitlab.com/andrei.zubov"},"labels":["Category:Release Orchestration","Duplicate","Next Up","Release::P3","SUS::Impacting","Technical Writing","UI polish","UX","UX FY21-Q4","closed::duplicate","deploy","devops::release","frontend","group::release","priority::4","section::ops","severity::4","type::bug","workflow::ready for development"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":12455340,"username":"andrei.zubov","name":"Andrei Zubov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12455340/avatar.png","web_url":"https://gitlab.com/andrei.zubov"}],"author":{"id":1104954,"username":"ju5t","name":"ju5t","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1104954/avatar.png","web_url":"https://gitlab.com/ju5t"},"type":"ISSUE","assignee":{"id":12455340,"username":"andrei.zubov","name":"Andrei Zubov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12455340/avatar.png","web_url":"https://gitlab.com/andrei.zubov"},"user_notes_count":24,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/26318","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/26318","notes":"https://gitlab.com/api/v4/projects/278964/issues/26318/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/26318/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#26318","relative":"#26318","full":"gitlab-org/gitlab#26318"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":17580284,"iid":9346,"project_id":278964,"title":"Recreate GitLab Pages deployment artifacts that were removed on deploy","description":"After https://gitlab.com/gitlab-org/gitlab-ce/issues/45888, if we can recreate deployment artifacts that were already consumed on Pages deploy, then:\n\n- they will serve to easily redeploy Pages.\n- they will be replicated by Geo, which will allow Geo to ensure they are deployed on secondaries.\n\nThis may need some research. I am not sure if this is possible, or necessarily a good idea.\n\n- [ ] If we choose not to do this, then we must open an issue to decide how to transition from not Geo not supporting Pages. Because this is one way to do it without any user intervention.","state":"closed","created_at":"2019-01-23T00:32:52.025Z","updated_at":"2021-05-26T15:58:14.210Z","closed_at":"2021-05-26T15:58:14.202Z","closed_by":{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"},"labels":["Category:Disaster Recovery","Category:Geo Replication","Enterprise Edition","devops::systems","group::geo","section::enablement"],"milestone":null,"assignees":[],"author":{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"},"type":"ISSUE","assignee":null,"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/9346","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/9346","notes":"https://gitlab.com/api/v4/projects/278964/issues/9346/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/9346/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#9346","relative":"#9346","full":"gitlab-org/gitlab#9346"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":589,"epic":{"id":2262,"iid":589,"title":"Geo: Support GitLab Pages","url":"/groups/gitlab-org/-/epics/589","group_id":9970},"iteration":null,"health_status":null},{"id":17577458,"iid":9341,"project_id":278964,"title":"Geo: Backfill GitLab Pages on secondaries","description":"**Edit:** If we go the route of https://gitlab.com/gitlab-org/gitlab-pages/issues/195, then this issue becomes irrelevant.\n\n## Problem\n\nAfter https://gitlab.com/gitlab-org/gitlab-ee/issues/9337, we need to be able to backfill Pages due to:\n\n- Adding a new Geo secondary to an existing GitLab instance with Pages sites.\n- Upgrading an existing GitLab Geo setup to a version that now supports replicating Pages.\n- Resetting a Geo secondary that has Pages.\n\n## Acceptance criteria\n\n- [ ] In all of the above cases, a user should see that a Pages site on the primary gets (re)generated in time on a secondary, when the deployment artifact exists","state":"closed","created_at":"2019-01-22T21:33:48.821Z","updated_at":"2021-05-26T15:57:26.343Z","closed_at":"2021-05-26T15:57:26.328Z","closed_by":{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"},"labels":["Category:Geo Replication","Enterprise Edition","[deprecated] Accepting merge requests","customer","devops::systems","group::geo","section::enablement","type::feature"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"},"type":"ISSUE","assignee":null,"user_notes_count":9,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/9341","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":10,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/9341","notes":"https://gitlab.com/api/v4/projects/278964/issues/9341/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/9341/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#9341","relative":"#9341","full":"gitlab-org/gitlab#9341"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":589,"epic":{"id":2262,"iid":589,"title":"Geo: Support GitLab Pages","url":"/groups/gitlab-org/-/epics/589","group_id":9970},"iteration":null,"health_status":null},{"id":17576895,"iid":9337,"project_id":278964,"title":"Geo: Replicate new GitLab Pages deploys on secondaries","description":"**Edit:** If we make this architecture decision https://gitlab.com/gitlab-org/gitlab-pages/issues/195, this issue becomes irrelevant.\n\nWe are planning to first resolve https://gitlab.com/gitlab-org/gitlab-ce/issues/45888.\n\nWith that in place Geo should automatically replicate the artifact.\n\nThis issue is meant to track the next step: Perform the Pages deploy on the secondary.\n\n### Acceptance criteria\n\n- [ ] A Geo developer can enable the `:geo_pages` feature, and view newly deployed Pages sites at both the primary and the secondary\n- [ ] An admin can set up GitLab with 2 Geo nodes on GCP, enable the feature, and view newly deployed Pages sites at both the primary and secondary\n- [ ] A developer can find documentation for how to get this working","state":"closed","created_at":"2019-01-22T21:04:39.346Z","updated_at":"2021-05-26T15:57:07.164Z","closed_at":"2021-05-26T15:57:07.144Z","closed_by":{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"},"labels":["Category:Disaster Recovery","Category:Geo Replication","Enterprise Edition","[deprecated] Accepting merge requests","devops::systems","group::geo","section::enablement","type::feature"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"},"type":"ISSUE","assignee":null,"user_notes_count":1,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/9337","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/9337","notes":"https://gitlab.com/api/v4/projects/278964/issues/9337/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/9337/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#9337","relative":"#9337","full":"gitlab-org/gitlab#9337"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":589,"epic":{"id":2262,"iid":589,"title":"Geo: Support GitLab Pages","url":"/groups/gitlab-org/-/epics/589","group_id":9970},"iteration":null,"health_status":null},{"id":17573393,"iid":9333,"project_id":278964,"title":"Use 198.51.100.0/24 addresses in Geo docs","description":"I saw this MR in the omnibus project https://gitlab.com/gitlab-org/omnibus-gitlab/merge_requests/2980. It suggests to no longer use `1.1.1.1` addresses, but instead use TEST-NET-2 addresses in the `198.51.100.0/24` range.\n\nWe should do this for Geo too. It makes sense to have sensible addresses in the examples used in the Geo docs. We can use `198.51.100.1` for Geo primary nodes and `198.51.100.2` and following for secondary nodes.","state":"closed","created_at":"2019-01-22T18:29:07.937Z","updated_at":"2019-12-11T20:03:49.564Z","closed_at":"2019-02-26T15:45:30.567Z","closed_by":{"id":2722370,"username":"rnienaber","name":"Rachel Nienaber","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2722370/avatar.png","web_url":"https://gitlab.com/rnienaber"},"labels":["Enterprise Edition","Geo Administration","auto updated","devops::systems","documentation","group::geo","priority::3","severity::4","workflow::ready for development"],"milestone":{"id":523180,"iid":18,"group_id":9970,"title":"11.9","description":"https://about.gitlab.com/releases/2019/03/22/gitlab-11-9-released/","state":"closed","created_at":"2018-05-09T14:56:19.024Z","updated_at":"2020-04-30T19:56:35.917Z","due_date":"2019-03-22","start_date":"2019-02-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/18"},"assignees":[],"author":{"id":660180,"username":"toon","name":"Toon Claes","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/660180/avatar.png","web_url":"https://gitlab.com/toon"},"type":"ISSUE","assignee":null,"user_notes_count":3,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/9333","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/9333","notes":"https://gitlab.com/api/v4/projects/278964/issues/9333/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/9333/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#9333","relative":"#9333","full":"gitlab-org/gitlab#9333"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":17571716,"iid":9332,"project_id":278964,"title":"Follow-up: Make Dependency a pointer in Location","description":"Follow-up of https://gitlab.com/gitlab-org/security-products/sast/merge_requests/113\n\nWe've introduced a field `.location.dependency` to the report syntax shared b/w Dependency Scanning and SAST so that we can track the package/module that is affected by a vulnerability. This new field is relevant in the context of DS but not in the context of SAST. The side-effect is that we've got empty `.location.dependency` fields in SAST reports.\n\n## Proposal\n\nThe [common library](https://gitlab.com/gitlab-org/security-products/analyzers/common) should be flexible and make possible for the location to differ b/w SAST and DS. This can be achieve by using pointers instead of a shared `Location` type (Go struct).\n\n## Implementation plan\n\n- [x] Update the common library (completed with https://gitlab.com/gitlab-org/security-products/analyzers/common/-/merge_requests/92)\n  - Make `Location.Dependency` a pointer\n  - Change `Issue.ID()` to make it work with pointers; see https://gitlab.com/gitlab-org/security-products/analyzers/common/-/merge_requests/92#note_343516937 and https://gitlab.com/gitlab-org/security-products/analyzers/common/-/blob/writehash/issue/issue.go#L42-81\n  - Update unit tests\n- [x] Upgrade SAST projects\n  - Remove `location.dependency` from the expected report of the `integration test`\n  - Remove `location.dependency` from the expected reports of the test projects \n- [x] Upgrade Dependency Scanning projects\n  - Make `Location.Dependency` a pointer\n- [x] Upgrade Container Scanning project (klar)\n  - Make `Location.Dependency` a pointer\n  - Update tests with new IDs\n\n## Risks\n\nRemoving `dependency` from SAST and Container Scanning reports should have no unintended side-effect:\n- The Rails backend uses the location fingerprint to compare two sets of vulnerabilities, and ultimately to generate the vulnerability diff in the MR. But `Location` models for SAST and CS only use a subset of the `location` JSON object, and `dependency` is ignored. See https://gitlab.com/gitlab-org/gitlab/-/blob/master/ee/lib/gitlab/ci/parsers/security/sast.rb#L14\n - The Rails backend tracks vulnerability feedback using the `cve` JSON field ([to be removed](https://gitlab.com/gitlab-org/gitlab/-/issues/209850)), and will use the `Location` model in the future. Again, the `Location` model is specific to each report type and contains a subset of what's in the `location` JSON field. See https://gitlab.com/gitlab-org/gitlab/issues/205489\n- The common library turns the `Location` into a fingerprint when removing the duplicates, but this has no impact since the `Dependency` is empty. Note that the [dedupe function](https://gitlab.com/gitlab-org/security-products/analyzers/common/-/blob/master/issue/dedupe.go) was used by the Docker-in-Docker orchestrator which has been deprecated.\n- The common library [sorts vulnerabilities](https://gitlab.com/gitlab-org/security-products/analyzers/common/-/blob/master/issue/report.go) using the `CompareKey`, which doesn't include the `Location.Dependency` in the case of SAST and CS. Also, the order of the vulnerabilities doesn't have to be stable anymore: the Rails backend doesn't except any particular order, and the QA jobs sort the reports prior to comparing them.\n\nAll that can be proven by creating a MR in a scanned project, and tweaking the SAST scanning jobs so that they don't have `.vulnerabilities[].location.dependency` fields anymore.\n\n`after_script` to be added to the SAST scanning job when the analyzer is based on a Debian image:\n\n```\n  after_script:\n    - apt-get update \u0026\u0026 apt-get install -y jq\n    - jq 'del(.vulnerabilities[]|.location.dependency)' gl-sast-report.json \u003e no-dependency.json\n    - cp no-dependency.json gl-sast-report.json\n```\n\nFirst line must be replaced with `apk update \u0026\u0026 apk add jq` when the analyzer is based on a Alpine Linux image;","state":"closed","created_at":"2019-01-22T17:09:22.149Z","updated_at":"2020-11-13T17:25:13.341Z","closed_at":"2020-06-09T18:14:35.314Z","closed_by":{"id":1958785,"username":"fcatteau","name":"Fabien Catteau","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1958785/avatar.png","web_url":"https://gitlab.com/fcatteau"},"labels":["Category:Container Scanning","Category:SAST","Category:Secret Detection","Enterprise Edition","GitLab Ultimate","backend","devops::secure","group::composition analysis","maintenance::refactor","quad-planning::complete-no-action","workflow::production"],"milestone":{"id":1112145,"iid":47,"group_id":9970,"title":"13.1","description":"","state":"closed","created_at":"2020-01-03T12:28:30.160Z","updated_at":"2020-10-08T12:01:07.361Z","due_date":"2020-06-17","start_date":"2020-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/47"},"assignees":[{"id":1958785,"username":"fcatteau","name":"Fabien Catteau","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1958785/avatar.png","web_url":"https://gitlab.com/fcatteau"}],"author":{"id":30915,"username":"plafoucriere","name":"Philippe Lafoucrière","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/30915/avatar.png","web_url":"https://gitlab.com/plafoucriere"},"type":"ISSUE","assignee":{"id":1958785,"username":"fcatteau","name":"Fabien Catteau","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1958785/avatar.png","web_url":"https://gitlab.com/fcatteau"},"user_notes_count":34,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/9332","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":4,"completed_count":4},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"4 of 4 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/9332","notes":"https://gitlab.com/api/v4/projects/278964/issues/9332/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/9332/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#9332","relative":"#9332","full":"gitlab-org/gitlab#9332"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":17771366,"iid":9490,"project_id":278964,"title":"Store designs in Git LFS","description":"Support for uploading versioned designs is being added by https://gitlab.com/gitlab-org/gitlab-ce/issues/56549 which will be stored in a repository. These should be stored using LFS before the feature is made generally available to prevent bloat.\n\n### Proposal\n\nStore uploaded designs using LFS since they are binary assets.\n\n### Links / references\n\n* See the Git LFS Create Deep Dive https://gitlab.com/gitlab-org/create-team/issues/1","state":"closed","created_at":"2019-01-22T15:48:08.842Z","updated_at":"2020-12-10T19:00:49.719Z","closed_at":"2019-07-07T22:22:26.159Z","closed_by":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"labels":["Category:Design Management","Create [DEPRECATED]","Deliverable","Enterprise Edition","GitLab Premium","backend","backstage [DEPRECATED]","devops::plan","group::product planning","missed-deliverable","missed:12.0"],"milestone":{"id":693520,"iid":34,"group_id":9970,"title":"12.1","description":"https://about.gitlab.com/releases/2019/07/22/gitlab-12-1-released","state":"closed","created_at":"2018-10-30T16:47:58.826Z","updated_at":"2020-04-27T16:30:09.107Z","due_date":"2019-07-22","start_date":"2019-06-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/34"},"assignees":[{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"}],"author":{"id":1187333,"username":"jramsay-gitlab","name":"James Ramsay (ex-GitLab)","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1187333/avatar.png","web_url":"https://gitlab.com/jramsay-gitlab"},"type":"ISSUE","assignee":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"user_notes_count":18,"merge_requests_count":2,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/9490","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/9490","notes":"https://gitlab.com/api/v4/projects/278964/issues/9490/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/9490/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#9490","relative":"#9490","full":"gitlab-org/gitlab#9490"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":660,"epic":{"id":2542,"iid":660,"title":"Versioned designs with point of interest discussions","url":"/groups/gitlab-org/-/epics/660","group_id":9970,"human_readable_end_date":"Mar 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":17516495,"iid":9310,"project_id":278964,"title":"Reduce the scope of Geo JWT. Step 2","description":"In https://gitlab.com/gitlab-org/gitlab-ee/issues/3868 we implemented Geo scopes but didn't enforce them.  In this issue, we need to do that. Part of it already implemented in https://gitlab.com/gitlab-org/gitlab-ee/merge_requests/9206 so it can be extracted from there.","state":"closed","created_at":"2019-01-21T09:32:47.903Z","updated_at":"2019-12-16T14:47:48.959Z","closed_at":"2019-02-15T20:01:22.776Z","closed_by":{"id":64248,"username":"stanhu","name":"Stan Hu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/64248/stanhu.jpg","web_url":"https://gitlab.com/stanhu"},"labels":["Category:Geo Replication","Enterprise Edition","devops::systems","group::geo","security","workflow::in review"],"milestone":{"id":523180,"iid":18,"group_id":9970,"title":"11.9","description":"https://about.gitlab.com/releases/2019/03/22/gitlab-11-9-released/","state":"closed","created_at":"2018-05-09T14:56:19.024Z","updated_at":"2020-04-30T19:56:35.917Z","due_date":"2019-03-22","start_date":"2019-02-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/18"},"assignees":[{"id":59678,"username":"vsizov","name":"Valery Sizov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/59678/avatar.png","web_url":"https://gitlab.com/vsizov"}],"author":{"id":59678,"username":"vsizov","name":"Valery Sizov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/59678/avatar.png","web_url":"https://gitlab.com/vsizov"},"type":"ISSUE","assignee":{"id":59678,"username":"vsizov","name":"Valery Sizov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/59678/avatar.png","web_url":"https://gitlab.com/vsizov"},"user_notes_count":3,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/9310","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/9310","notes":"https://gitlab.com/api/v4/projects/278964/issues/9310/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/9310/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#9310","relative":"#9310","full":"gitlab-org/gitlab#9310"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":24687895,"iid":26261,"project_id":278964,"title":"default_branch value is ignored when creating a project via API","description":"### Summary\n\n`default_branch` value is ignored when creating a project via [Projects API](https://docs.gitlab.com/ee/api/projects.html#create-project)\n\n### Steps to reproduce\n\nCreate a project via API using the similar command:\n\n```bash\ncurl --request POST --header \"PRIVATE-TOKEN: ***\" -d '{ \"name\": \"project-test001\", \"initialize_with_readme\": \"true\", \"default_branch\": \"stable\" }' -H \"Content-Type: application/json\" \"https://gitlabhostname.tld/api/v4/projects/\"\n``` \n\n### What is the current *bug* behavior?\n\nDefault branch defined via `default_branch` is not created and selected as default.\n\n### What is the expected *correct* behavior?\n\nDefault branch defined via `default_branch` should be created and selected as default.\n\n### Relevant logs and/or screenshots\n\nn/a\n\n### Output of checks\n\n#### Results of GitLab environment info\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to GitLab environment info\u003c/summary\u003e\n\u003cpre\u003e\n\nSystem information\nSystem:     Debian 8.10\nProxy:      no\nCurrent User:   git\nUsing RVM:  no\nRuby Version:   2.5.3p105\nGem Version:    2.7.6\nBundler Version:1.16.6\nRake Version:   12.3.1\nRedis Version:  3.2.12\nGit Version:    2.18.1\nSidekiq Version:5.2.3\nGo Version: unknown\n\nGitLab information\nVersion:    11.6.3-ee\nRevision:   76c33c6\nDirectory:  /opt/gitlab/embedded/service/gitlab-rails\nDB Adapter: postgresql\nDB Version: 9.6.11\nURL:        https://gitlabhost.tld\nHTTP Clone URL: https://gitlabhost.tld/some-group/some-project.git\nSSH Clone URL:  git@gitlabhost.tld:some-group/some-project.git\nElasticsearch:  no\nGeo:        no\nUsing LDAP: no\nUsing Omniauth: yes\nOmniauth Providers: google_oauth2, gitlab\n\nGitLab Shell\nVersion:    8.4.3\nRepository storage paths:\n- default:  /var/opt/gitlab/git-data/repositories\nHooks:      /opt/gitlab/embedded/service/gitlab-shell/hooks\nGit:        /opt/gitlab/embedded/bin/git\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n#### Results of GitLab application Check\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to the GitLab application check\u003c/summary\u003e\n\u003cpre\u003e\n\nChecking GitLab subtasks ...\n\nChecking GitLab Shell ...\n\nGitLab Shell: ... GitLab Shell version \u003e= 8.4.3 ? ... OK (8.4.3)\nRunning /opt/gitlab/embedded/service/gitlab-shell/bin/check\nCheck GitLab API access: OK\nRedis available via internal API: OK\n\nAccess to /var/opt/gitlab/.ssh/authorized_keys: OK\ngitlab-shell self-check successful\n\nChecking GitLab Shell ... Finished\n\nChecking Gitaly ...\n\nGitaly: ... default ... OK\n\nChecking Gitaly ... Finished\n\nChecking Sidekiq ...\n\nSidekiq: ... Running? ... yes\nNumber of Sidekiq processes ... 1\n\nChecking Sidekiq ... Finished\n\nChecking Incoming Email ...\n\n...\nChecking Reply by email ... Finished\n\nChecking Incoming Email ... Finished\n\nChecking LDAP ...\n\nLDAP: ... LDAP is disabled in config/gitlab.yml\n\nChecking LDAP ... Finished\n\nChecking GitLab App ...\n\nGit configured correctly? ... yes\nDatabase config exists? ... yes\nAll migrations up? ... yes\nDatabase contains orphaned GroupMembers? ... no\nGitLab config exists? ... yes\nGitLab config up to date? ... yes\nLog directory writable? ... yes\nTmp directory writable? ... yes\nUploads directory exists? ... yes\nUploads directory has correct permissions? ... yes\nUploads directory tmp has correct permissions? ... yes\nInit script exists? ... skipped (omnibus-gitlab has no init script)\nInit script up-to-date? ... skipped (omnibus-gitlab has no init script)\nProjects have namespace: ...\n1/13 ... yes\n1/15 ... yes\n1/17 ... yes\n1/19 ... yes\n8/28 ... yes\n1/33 ... yes\n1/38 ... yes\n1/48 ... yes\n15/49 ... yes\n1/50 ... yes\n1/51 ... yes\n27/52 ... yes\n1/53 ... yes\n1/57 ... yes\n1/69 ... yes\n15/71 ... yes\n27/72 ... yes\n2/73 ... yes\n1/74 ... yes\n1/75 ... yes\n1/77 ... yes\n15/78 ... yes\n1/79 ... yes\n1/80 ... yes\n1/81 ... yes\n1/82 ... yes\n1/83 ... yes\n1/84 ... yes\nRedis version \u003e= 2.8.0? ... yes\nRuby version \u003e= 2.3.5 ? ... yes (2.5.3)\nGit version \u003e= 2.18.0 ? ... yes (2.18.1)\nGit user has default SSH configuration? ... yes\nActive users: ... 7\nElasticsearch version 5.6 - 6.x? ... skipped (elasticsearch is disabled)\n\nChecking GitLab App ... Finished\n\nChecking GitLab subtasks ... Finished\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n### Possible fixes\n\nThe workaround is to use 3 API requests:\n\n- create a project:\n\n```bash\ncurl --request POST --header \"PRIVATE-TOKEN: ***\" -d '{ \"name\": \"project-test001\", \"initialize_with_readme\": \"true\"}' -H \"Content-Type: application/json\" \"https://gitlabhostname.tld/api/v4/projects/\"\ncreate a new branch:\n```\n\n- create a branch:\n\n```bash\ncurl --request POST --header \"PRIVATE-TOKEN: ***\" -H \"Content-Type: application/json\" \"https://gitlabhostname.tld/api/v4/projects/ID/repository/branches?branch=new-branch\u0026ref=master\"\nchange the default branch to the newly created branch:\n```\n\n- update default branch:\n\n```bash\ncurl --request PUT --header \"PRIVATE-TOKEN: ***\" -H \"Content-Type: application/json\" \"https://gitlabhostname.tld/api/v4/projects/ID?default_branch=new-branch\"\n```\n\nBasically, it looks like a doc bug, and probably we should not specify `default_branch` in the list of allowed parameters for create project API as a new project does not have any branches expect the default `master` branch.","state":"closed","created_at":"2019-01-21T06:49:34.078Z","updated_at":"2021-07-15T10:02:53.245Z","closed_at":"2021-06-15T13:58:28.787Z","closed_by":{"id":421631,"username":"vyaklushin","name":"Vasilii Iakliushin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/421631/avatar.png","web_url":"https://gitlab.com/vyaklushin"},"labels":["Category:Integrations","[deprecated] Accepting merge requests","api","customer","devops::create","good for new contributors","group::source code","priority::2","project creation","repository","section::dev","severity::2","sup-eng-contrib-potential","type::bug","vintage"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[],"author":{"id":1990167,"username":"atanayno","name":"Alexandr Tanayno","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1990167/avatar.png","web_url":"https://gitlab.com/atanayno"},"type":"ISSUE","assignee":null,"user_notes_count":20,"merge_requests_count":0,"upvotes":7,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/26261","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/26261","notes":"https://gitlab.com/api/v4/projects/278964/issues/26261/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/26261/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#26261","relative":"#26261","full":"gitlab-org/gitlab#26261"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":24687890,"iid":26259,"project_id":278964,"title":"Deleting a big repo is not working due to web hook logs","description":"### Summary\n\nDeleting a big repo is not working\n\n### Steps to reproduce\n\n1. Open any huge repo with some issues and MRs\n1. Go to settings and delete the repo\n1. It will show it is deleted\n1. Look after sometimes the files will be deleted but not the repo\n\n### Example Project\n\n**Admin** can try this: https://gitlab.com/chef-delete/gitote-del\n\n### What is the current *bug* behavior?\n\nDeleting the repo is not working but it deletes only the files in it\n\n### What is the expected *correct* behavior?\n\nWhen deleting the repo it must delete everything\n\n### Relevant logs and/or screenshots\n\n![Screenshot](/uploads/446319d32a3bffaee1e0843bf88154a4/Screenshot.png)\n\n### Output of checks\n\nThis bug happens on GitLab.com\n\n### Possible fixes\n\nIt can be a problem in Job Queue in **Sidekiq**","state":"closed","created_at":"2019-01-21T02:36:56.998Z","updated_at":"2021-05-18T07:06:24.242Z","closed_at":"2021-04-27T10:25:17.273Z","closed_by":{"id":421631,"username":"vyaklushin","name":"Vasilii Iakliushin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/421631/avatar.png","web_url":"https://gitlab.com/vyaklushin"},"labels":["Deliverable","approaching-SLO","backend","devops::create","gitlab.com","group::source code","missed-SLO","priority::2","repository","section::dev","severity::2","type::bug","workflow::verification"],"milestone":{"id":1233762,"iid":58,"group_id":9970,"title":"13.12","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.948Z","updated_at":"2022-04-21T07:22:18.898Z","due_date":"2021-05-17","start_date":"2021-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/58"},"assignees":[{"id":421631,"username":"vyaklushin","name":"Vasilii Iakliushin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/421631/avatar.png","web_url":"https://gitlab.com/vyaklushin"}],"author":{"id":1243277,"username":"ghost1","name":"Ghost User","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4249f4df72b475e7894fabed1c5888cf?s=80\u0026d=identicon","web_url":"https://gitlab.com/ghost1"},"type":"ISSUE","assignee":{"id":421631,"username":"vyaklushin","name":"Vasilii Iakliushin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/421631/avatar.png","web_url":"https://gitlab.com/vyaklushin"},"user_notes_count":18,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/26259","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/26259","notes":"https://gitlab.com/api/v4/projects/278964/issues/26259/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/26259/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#26259","relative":"#26259","full":"gitlab-org/gitlab#26259"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":29192478,"iid":193170,"project_id":278964,"title":"Gitlab::Git::CommandError: 2:Gitlab::Git::Repository::GitError: fatal: update refs/environments/staging/deployments/1967: in...","description":"https://sentry.gitlab.net/gitlab/opsgitlabnet/issues/627446/\n\n```\nGRPC::Unknown: 2:Gitlab::Git::Repository::GitError: fatal: update refs/environments/staging/deployments/1967: invalid \u003cnewvalue\u003e: jarv/patch-testing\n\n  grpc/generic/active_call.rb:31:in `check_status'\n    fail GRPC::BadStatus.new_status_exception(\n  grpc/generic/active_call.rb:181:in `attach_status_results_and_complete_call'\n    recv_status_batch_result.check_status\n  grpc/generic/active_call.rb:377:in `request_response'\n    attach_status_results_and_complete_call(batch_result)\n  grpc/generic/client_stub.rb:178:in `block in request_response'\n    c.request_response(req, metadata: metadata)\n  grpc/generic/interceptors.rb:170:in `intercept!'\n    return yield if @interceptors.none?\n...\n(70 additional frame(s) were not displayed)\n\nGitlab::Git::CommandError: 2:Gitlab::Git::Repository::GitError: fatal: update refs/environments/staging/deployments/1967: invalid \u003cnewvalue\u003e: jarv/patch-testing\n\n  gitlab/git/wraps_gitaly_errors.rb:13:in `rescue in wrapped_gitaly_errors'\n    raise Gitlab::Git::CommandError.new(e)\n  gitlab/git/wraps_gitaly_errors.rb:6:in `wrapped_gitaly_errors'\n    def wrapped_gitaly_errors(\u0026block)\n  gitlab/metrics/instrumentation.rb:161:in `block in wrapped_gitaly_errors'\n    .measure { super }\n  gitlab/metrics/method_call.rb:36:in `measure'\n    retval = yield\n  gitlab/metrics/instrumentation.rb:161:in `wrapped_gitaly_errors'\n    .measure { super }\n...\n(61 additional frame(s) were not displayed)\n\n2:Gitlab::Git::Repository::GitError: fatal: update refs/environments/staging/deployments/1967: invalid \u003cnewvalue\u003e: jarv/patch-testing\n\n```","state":"closed","created_at":"2019-01-20T23:35:03.524Z","updated_at":"2020-03-02T11:40:49.854Z","closed_at":"2020-03-02T11:40:49.796Z","closed_by":{"id":758045,"username":"shinya.maeda","name":"Shinya Maeda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/758045/avatar.png","web_url":"https://gitlab.com/shinya.maeda"},"labels":["Category:Continuous Delivery","cicd::active","devops::release","group::release","missed-SLO","missed:12.8","priority::2","severity::2","type::bug","workflow::in review"],"milestone":{"id":1001916,"iid":44,"group_id":9970,"title":"12.9","description":"https://about.gitlab.com/releases/2020/03/22/gitlab-12-9-released","state":"closed","created_at":"2019-09-15T20:54:50.875Z","updated_at":"2020-09-02T11:04:41.671Z","due_date":"2020-03-17","start_date":"2020-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/44"},"assignees":[{"id":4192493,"username":"ebaque","name":"Etienne Baqué","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4192493/avatar.png","web_url":"https://gitlab.com/ebaque"}],"author":{"id":402401,"username":"jobbot","name":"Bot","state":"active","avatar_url":"https://secure.gravatar.com/avatar/aaa6738f1ebf25404010884af511b0e7?s=80\u0026d=identicon","web_url":"https://gitlab.com/jobbot"},"type":"ISSUE","assignee":{"id":4192493,"username":"ebaque","name":"Etienne Baqué","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4192493/avatar.png","web_url":"https://gitlab.com/ebaque"},"user_notes_count":19,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/193170","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/193170","notes":"https://gitlab.com/api/v4/projects/278964/issues/193170/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/193170/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#193170","relative":"#193170","full":"gitlab-org/gitlab#193170"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":24687862,"iid":26247,"project_id":278964,"title":"JUnit XML tests mis-present the test execution time from test cases.","description":"### Summary\n\nFor a test that produces JUnit XML `testcase` output with an execution time, the GitLab UI presents the value as milliseconds. It is not. It should be presented as seconds.\n\nThe base specification taken from the original site (and now migrated to github) defines the `testcase` `time` attribute as being in seconds: https://github.com/windyroad/JUnit-Schema/blob/master/JUnit.xsd\n\n```\n\u003cxs:attribute name=\"time\" type=\"xs:decimal\" use=\"required\"\u003e\n \u003cxs:annotation\u003e\n  \u003cxs:documentation xml:lang=\"en\"\u003eTime taken (in seconds) to execute the test\u003c/xs:documentation\u003e\n \u003c/xs:annotation\u003e\n\u003c/xs:attribute\u003e\n```\n\n### Steps to reproduce\n\nProduce JUnit XML with the following content:\n\n```\n\u003c?xml version='1.0' encoding='UTF-8'?\u003e\n\u003ctestsuites errors=\"0\" failures=\"1\" skipped=\"0\" tests=\"1\"\u003e\n\u003ctestsuite errors=\"0\" failures=\"1\" hostname=\"me.gerph.org\" id=\"1\" name=\"xml-lint\" skipped=\"0\" tests=\"1\" timestamp=\"2019-01-18T08:07:00\"\u003e\n\u003ctestcase classname=\"lint\" file=\"src/style/input.xml\" line=\"15\" name=\"Lint src/style/input.xml\" time=\"0.259\"\u003e\n    \u003cfailure message=\"Element section content does not follow the DTD, expecting (p | subsection | subsubsection | category | swi-definition | service-definition | upcall-definition | message-definition | command-definition | sysvar-definition | error-definition | entry-definition | vector-definition | extended-example | import)*, got (p fixme )\" type=\"validity error\"\u003e\u0026lt;/section\u0026gt;\n          ^\n\u003c/failure\u003e\n  \u003c/testcase\u003e\n\u003c/testsuite\u003e\u003c/testsuites\u003e\n```\n\n### Example Project\n\nhttps://gitlab.com/gerph/unhelpful-junitxml-handling/merge_requests/1\n\n### What is the current *bug* behavior?\n\nIn the UI, when you click on the `Lint src/style/input.xml` test you see:\n\n```\nExecution time: 0.259 ms \n```\n\n### What is the expected *correct* behavior?\n\nIn the UI, when you click on the `Lint src/style/input.xml` test you SHOULD see:\n\n```\nExecution time: 0.259 s \n```\n\n### Output of checks\n\nThis bug happens on GitLab.com. It also happens on locally hosted GitLab CE.\n\n#### Results of GitLab environment info\n\nN/A - happens on gitlab.com.\n\n#### Results of GitLab application Check\n\nN/A - happens on gitlab.com.\n\n### Possible fixes\n\n* https://gitlab.com/gitlab-org/gitlab-ce/blob/master/app/assets/javascripts/reports/components/modal.vue#L50\n    * There should be another fieldtype for seconds (presuming that other users still use milliseconds in this report code)\n    * As an aside, `miliseconds` should be corrected to `milliseconds`.\n* https://gitlab.com/gitlab-org/gitlab-ce/blob/master/app/assets/javascripts/reports/store/state.js#L46\n    * Should be updated to report a seconds fieldtype for the execution time.\n* https://gitlab.com/gitlab-org/gitlab-ce/blob/master/app/assets/javascripts/reports/store/state.js#L46\n    * Corrected for rendering of seconds.\n\nRecommend:\n\n* checking implementation in https://gitlab.com/gitlab-org/gitlab-ce/merge_requests/20576/diffs to ensure that there is no assumption that the backend uses milliseconds (brief examination implies this is the case)\n* checking implementation in https://gitlab.com/gitlab-org/gitlab-ce/merge_requests/20936/diffs to ensure that the only assumption is that the value supplied by the back end is that of milliseconds (when in fact it is seconds).\n* once confirmed that the only discrepency is in the presentation, just replace the front end uses (in the latter MR) with seconds, rather than milliseconds (or miliseconds).\n\nIf it is just a discrepency between the FE and BE, then the change is nice and small. If the BE assumes it is presenting milliseconds, or has been storing values labelled as milliseconds when they are really seconds, then I presume that this will be more involved and introduce database migrations for stored values that were erroneously stored as ms but are actually seconds.","state":"closed","created_at":"2019-01-19T21:02:44.150Z","updated_at":"2022-09-08T19:10:03.334Z","closed_at":"2020-02-06T10:18:48.309Z","closed_by":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"labels":["Category:Code Testing and Coverage","devops::verify","frontend","group::pipeline insights","priority::4","severity::4","type::bug","workflow::in review"],"milestone":{"id":1001915,"iid":43,"group_id":9970,"title":"12.8","description":"https://about.gitlab.com/releases/2020/02/22/gitlab-12-8-released","state":"closed","created_at":"2019-09-15T20:53:58.792Z","updated_at":"2020-05-19T14:23:44.837Z","due_date":"2020-02-17","start_date":"2020-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/43"},"assignees":[{"id":3374280,"username":"mfluharty","name":"Miranda Fluharty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3374280/avatar.png","web_url":"https://gitlab.com/mfluharty"},{"id":4795771,"username":"dcipoletti","name":"Daniel Cipoletti","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4795771/avatar.png","web_url":"https://gitlab.com/dcipoletti"}],"author":{"id":2374813,"username":"gerph","name":"Charles Ferguson","state":"active","avatar_url":"https://secure.gravatar.com/avatar/772ef587a994a853460330f5a0dedf9a?s=80\u0026d=identicon","web_url":"https://gitlab.com/gerph"},"type":"ISSUE","assignee":{"id":3374280,"username":"mfluharty","name":"Miranda Fluharty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3374280/avatar.png","web_url":"https://gitlab.com/mfluharty"},"user_notes_count":14,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/26247","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/26247","notes":"https://gitlab.com/api/v4/projects/278964/issues/26247/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/26247/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#26247","relative":"#26247","full":"gitlab-org/gitlab#26247"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":17771369,"iid":9492,"project_id":278964,"title":"Upload versioned designs","description":"**Frontend issue: https://gitlab.com/gitlab-org/gitlab-ee/issues/9667**\n\n---\n\n### Problem to solve\n\nWhen engineers and designers are working together to build products, the issue is the single source of truth for knowing what needs to be built, how it will be built and how it should work, but it can be difficult to locate the current version of designs being discussed as they will be in some comment towards the bottom of the page, and it is difficult to see the evolution of the design as the length of discussions grow.\n\nThere should be a single place to go to find the current design and access previous versions of the designs.\n\n### Target audience\n\nThis feature will benefit UX Designers by giving them an obvious location for uploading designs and versioning them, and will benefit Software Engineers and Product Managers by providing a consistent location to view designs.\n\n### Further details\n\nThis is the first step in delivering the MVC of Design Management https://gitlab.com/groups/gitlab-org/-/epics/660 which will provide a single place to view and discuss designs.\n\n### Proposal\n\nWorking as a designer, I will be able to:\n- upload multiple images to the design section of an issue\n- create a new version of the design by uploading a new set of images\n\nWorking as software engineer, or product manager, I will be able to:\n- click on a design to see more details\n\n[**Design specs**](https://gitlab-org.gitlab.io/gitlab-design/hosted/pedro/ee%239492-upload-versioned-designs-spec-previews/)\n\n![image](/uploads/e1b616417899ef70f1b27c8130ce69af/image.png)\n\n### What does success look like, and how can we measure that?\n\n\u003c!--- Define both the success metrics and acceptance criteria. Note thet success metrics indicate the desired business outcomes, while acceptance criteria indicate when the solution is working correctly. If there is no way to measure success, link to an issue that will implement a way to measure this --\u003e\n\n### Links / references","state":"closed","created_at":"2019-01-18T15:58:39.953Z","updated_at":"2020-12-10T19:00:52.575Z","closed_at":"2019-04-29T15:16:43.818Z","closed_by":{"id":171554,"username":"reprazent","name":"Bob Van Landuyt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/171554/avatar.png","web_url":"https://gitlab.com/reprazent"},"labels":["Category:Design Management","Create [DEPRECATED]","Deliverable","Enterprise Edition","GitLab Premium","backend","breadth","devops::plan","group::product planning","missed-deliverable","missed:11.10","missed:11.9","type::feature","workflow::in dev"],"milestone":{"id":655280,"iid":28,"group_id":9970,"title":"11.11","description":"","state":"closed","created_at":"2018-09-21T19:08:37.027Z","updated_at":"2019-06-10T14:39:00.009Z","due_date":"2019-05-22","start_date":"2019-04-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/28"},"assignees":[{"id":171554,"username":"reprazent","name":"Bob Van Landuyt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/171554/avatar.png","web_url":"https://gitlab.com/reprazent"},{"id":626804,"username":"pedroms","name":"Pedro Moreira da Silva","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c306f087d191ac15549f3c11e3bed321?s=80\u0026d=identicon","web_url":"https://gitlab.com/pedroms"}],"author":{"id":1187333,"username":"jramsay-gitlab","name":"James Ramsay (ex-GitLab)","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1187333/avatar.png","web_url":"https://gitlab.com/jramsay-gitlab"},"type":"ISSUE","assignee":{"id":171554,"username":"reprazent","name":"Bob Van Landuyt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/171554/avatar.png","web_url":"https://gitlab.com/reprazent"},"user_notes_count":25,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/9492","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/9492","notes":"https://gitlab.com/api/v4/projects/278964/issues/9492/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/9492/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#9492","relative":"#9492","full":"gitlab-org/gitlab#9492"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":660,"epic":{"id":2542,"iid":660,"title":"Versioned designs with point of interest discussions","url":"/groups/gitlab-org/-/epics/660","group_id":9970,"human_readable_end_date":"Mar 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":17472033,"iid":9289,"project_id":278964,"title":"Permissions model for insights","description":"### Access\n\nWhich users should be able to view the insights pages?\n\nThis depends on whether this feature is implemented at the project-level, group-level or both.\n\n1. Should non-authenticated users be able to view this page for public projects/groups?\n2. Should access to insights be locked down to a certain role? Say Developer and above?\n\n### Resources included for visualisation\n\nSome users may not be permitted to view certain resources that could be indexed by insights visualisations. For example, confidential issues would not be visible to non-project members. If the pages are accessible to non-project members should the counts in the visualisation only reflect the issues that this user's role permits?\n\nFor example, if a non-project member was to view a count for issues closed per month. Should this also count the confidential issues that they cannot see? If so, it could lead to discrepancies between the information and counts such a user could gather through similar searches in the issues lists.\n\n- [x] Feature flag covered\n- [x] Project/group view access covered\n- [x] Individual resource access covered by using issuable finders","state":"closed","created_at":"2019-01-18T15:51:36.438Z","updated_at":"2019-08-12T15:08:58.947Z","closed_at":"2019-03-19T07:46:07.692Z","closed_by":{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"labels":["Enterprise Edition","Quality","[deprecated] Accepting merge requests","graphs","insights","permissions","type::feature"],"milestone":{"id":523180,"iid":18,"group_id":9970,"title":"11.9","description":"https://about.gitlab.com/releases/2019/03/22/gitlab-11-9-released/","state":"closed","created_at":"2018-05-09T14:56:19.024Z","updated_at":"2020-04-30T19:56:35.917Z","due_date":"2019-03-22","start_date":"2019-02-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/18"},"assignees":[],"author":{"id":419655,"username":"markglenfletcher","name":"Mark Fletcher","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/419655/avatar.png","web_url":"https://gitlab.com/markglenfletcher"},"type":"ISSUE","assignee":null,"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/9289","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":3},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"3 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/9289","notes":"https://gitlab.com/api/v4/projects/278964/issues/9289/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/9289/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#9289","relative":"#9289","full":"gitlab-org/gitlab#9289"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":725,"epic":{"id":3055,"iid":725,"title":"Insights: Build GitLab Insights as a native GitLab feature","url":"/groups/gitlab-org/-/epics/725","group_id":9970,"human_readable_end_date":"Apr 22, 2019","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":17472012,"iid":9288,"project_id":278964,"title":"Create a SCIM specific token for group SSO [BE]","description":"Since using SCIM requires a token, we should create one (scoped to SCIM) and show it in the GitLab SCIM settings.\n\n~\"UX ready\" in https://gitlab.com/gitlab-org/gitlab-ee/issues/9405. Proposed solution is copied here:\n\n### Solution\n\n| No SCIM token | SCIM token generated | Later access to this page |\n|---------------|----------------------|---------------------------|\n| ![image](/uploads/fd85df35b1813b899bbddec6ece6576a/image.png) | ![image](/uploads/04fb61ab70d9f8ebce53748ba4a7cec6/image.png) | ![image](/uploads/52bcd9e177ec2c22a5b4b1d82b00375d/image.png) |\n\n**Required changes:**\n\n* Add a new section at the bottom of the page called `SCIM Token`\n* When no token has been generated yet, show the instructions and the 'Generate a SCIM token' button\n* Immediately after th token is generated, show it in a read-only input field with a copy to clipboard button. Include instructions below as illustrated.\n* If the user comes back to this page later, the token needs to be hidden and the instructions tell the user that they need to reset the token to see it again.\n* When the user clicks 'reset it' in the SCIM token help text, show the default browser alert with `Are you sure you want to reset the SCIM token? SCIM provisioning will stop working until the new token is updated.` as the message.\n\n**Recommended changes:**\n\nTo simplify the UI and make it more consistent with our guidelines:\n\n* All input fields labels should be bold and on top, not on the left\n* Replace the checkbox with a toggle\n* The grey box around the instructions and the first two input fields seems unnecessary so let's remove it to make the interface simpler.","state":"closed","created_at":"2019-01-18T15:50:36.898Z","updated_at":"2019-08-12T15:08:58.974Z","closed_at":"2019-03-20T11:22:12.592Z","closed_by":{"id":263716,"username":"grzesiek","name":"Grzegorz Bizon","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/263716/avatar.jpeg","web_url":"https://gitlab.com/grzesiek"},"labels":["Deliverable","Enterprise Edition","Manage [DEPRECATED]","UX","authentication","backend","devops::manage","gitlab.com","missed-deliverable","missed:11.9","priority::1","saml","workflow::in dev"],"milestone":{"id":655279,"iid":27,"group_id":9970,"title":"11.10","description":"","state":"closed","created_at":"2018-09-21T19:08:16.261Z","updated_at":"2019-05-21T09:17:49.051Z","due_date":"2019-04-22","start_date":"2019-03-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/27"},"assignees":[{"id":273486,"username":"jameslopez","name":"James Lopez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/273486/avatar.png","web_url":"https://gitlab.com/jameslopez"}],"author":{"id":1086520,"username":"jeremy-gl","name":"Jeremy Watson (ex-GitLab)","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1086520/avatar.png","web_url":"https://gitlab.com/jeremy-gl"},"type":"ISSUE","assignee":{"id":273486,"username":"jameslopez","name":"James Lopez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/273486/avatar.png","web_url":"https://gitlab.com/jameslopez"},"user_notes_count":6,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/9288","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/9288","notes":"https://gitlab.com/api/v4/projects/278964/issues/9288/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/9288/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#9288","relative":"#9288","full":"gitlab-org/gitlab#9288"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":95,"epic":{"id":165,"iid":95,"title":"Automated member management for SSO-enabled groups","url":"/groups/gitlab-org/-/epics/95","group_id":9970,"human_readable_end_date":"Apr 22, 2019","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":24687815,"iid":26231,"project_id":278964,"title":"Review Apps have a lot of dependencies that make them brittle and slow to be deployed","description":"## Problems\n\nCurrently, before we can deploy a Review App (`review-deploy` in the `test` stage), we need to:\n\n1. Wait for the `gitlab:assets:compile` (`test` stage) job to finish, it takes between **16 and 19 minutes**: if this job fails, we continue the deploy nonetheless (the only downside is that if the MR changes assets, that won't be reflected in the deployed review app).\n1. Trigger a build in `CNG-mirror` to build the CNG images, it takes between **3 and 16 minutes** depending of the MR changes and CNG cache: if this job fails, the deploy fails because we won't have the necessary CNG images to deploy the review app.\n1. Start the deploy using Helm, that takes between **3 and 12 minutes**.\n    - The deploy consists of several step, which can individually fail, for various reasons (see a non-exhaustive list in https://gitlab.com/gitlab-org/gitlab-ce/issues/53713), most of them are transient and the deploy usually succeed after a few retries.\n    - Even if the Helm deploy fails (usually because it hits the 10 minute timeout), the Review App can actually be accessible after a few minutes (the pods scheduling can take more than the allowed 10 minutes, again, for various reasons depending on many Kubernetes problems).\n\nThe critical step is really the last one, and I feel that most of the \"Kubernetes problems\" are related to memory pressure, see https://gitlab.com/gitlab-org/gitlab-ce/issues/53713#note_132724313.\n\n## Potential solutions\n\n1. [ ] We should make the `gitlab:assets:compile` job faster (ideally under 10 minutes), so that we can run it in the `prepare` stage and stop using the `wait_for_job_to_be_done \"gitlab:assets:compile\"` hack (used to depend on a job in the same stage) which adds a point of failure. =\u003e https://gitlab.com/gitlab-org/gitlab-ce/merge_requests/24542\n1. We should be able to move the `CNG-mirror` triggering to the `prepare` stage too, but if the MR updates any assets, that would mean the CNG images wouldn't use these ones unless we make the `CNG-mirror` triggering job dependent of `gitlab:assets:compile` (but then we'd still need to use `wait_for_job_to_be_done`...).\n1. We could use 1 node per Review App to ensure that each node isn't under memory pressure? How to do it with Helm / the chart, though?\n1. It could happen that sometimes `tiller` is failing, potentially because of the memory pressure issues, so it could be beneficial to put the `tiller` pods on a dedicated node.","state":"closed","created_at":"2019-01-18T12:41:09.583Z","updated_at":"2019-10-16T12:20:41.160Z","closed_at":"2019-10-16T12:20:41.105Z","closed_by":{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"labels":["Engineering Productivity","QA","Quality","backstage [DEPRECATED]","ci-build","missed:11.11","missed:12.2","missed:12.3"],"milestone":{"id":731039,"iid":38,"group_id":9970,"title":"12.4","description":"https://about.gitlab.com/releases/2019/10/22/gitlab-12-4-released","state":"closed","created_at":"2018-12-07T12:41:53.212Z","updated_at":"2020-04-27T16:30:43.889Z","due_date":"2019-10-17","start_date":"2019-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/38"},"assignees":[{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"}],"author":{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"type":"ISSUE","assignee":{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"user_notes_count":9,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/26231","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":4,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/26231","notes":"https://gitlab.com/api/v4/projects/278964/issues/26231/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/26231/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#26231","relative":"#26231","full":"gitlab-org/gitlab#26231"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":605,"epic":{"id":2314,"iid":605,"title":"EP: Improve Review Apps reliability \u0026 efficiency","url":"/groups/gitlab-org/-/epics/605","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":null},{"id":24687811,"iid":26229,"project_id":278964,"title":"Edge case: Existing deployments do not belong to any environments.","description":"## Problem\n\nWe encountered a problem that there were 2 `deployments` rows did not belong to any environments.\n\nFor example, this entry fell into that situation.\n\n```\n#\u003cDeployment id: 9191109,\n iid: 35840,\n project_id: 13083,\n environment_id: 498219,\n ref: \"xxxxxxx\",\n tag: false,\n sha: \"f17347b2ee8e4f80deb17aaae10f1a298f8ac7a4\",\n user_id: 895869,\n deployable_id: 147364491,\n deployable_type: \"CommitStatus\",\n created_at: \"2019-01-17 17:23:25\",\n updated_at: \"2019-01-17 17:23:25\",\n on_stop: \"review-stop\",\n finished_at: \"2019-01-18 09:49:48\",\n status: \"running\"\u003e\n```\n\nThe corresponding environment did not exist.\n\n```\ngitlabhq_production=\u003e select * from environments where id = 498219;\n id | project_id | name | created_at | updated_at | external_url | environment_type | state | slug \n----+------------+------+------------+------------+--------------+------------------+-------+------\n(0 rows)\n```\n\nSee more https://gitlab.com/gitlab-org/gitlab-ce/issues/56518#note_132679541","state":"closed","created_at":"2019-01-18T10:41:51.906Z","updated_at":"2021-07-18T07:08:33.112Z","closed_at":"2021-07-02T07:20:47.153Z","closed_by":{"id":758045,"username":"shinya.maeda","name":"Shinya Maeda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/758045/avatar.png","web_url":"https://gitlab.com/shinya.maeda"},"labels":["Category:Release Orchestration","Deliverable","Release::P1","candidate::14.1","cicd::active","devops::release","environments","group::release","missed-SLO","priority::2","section::ops","severity::2","type::bug","workflow::in review"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":758045,"username":"shinya.maeda","name":"Shinya Maeda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/758045/avatar.png","web_url":"https://gitlab.com/shinya.maeda"}],"author":{"id":758045,"username":"shinya.maeda","name":"Shinya Maeda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/758045/avatar.png","web_url":"https://gitlab.com/shinya.maeda"},"type":"ISSUE","assignee":{"id":758045,"username":"shinya.maeda","name":"Shinya Maeda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/758045/avatar.png","web_url":"https://gitlab.com/shinya.maeda"},"user_notes_count":23,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/26229","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":1,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/26229","notes":"https://gitlab.com/api/v4/projects/278964/issues/26229/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/26229/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#26229","relative":"#26229","full":"gitlab-org/gitlab#26229"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3294,"epic":{"id":53415,"iid":3294,"title":"Environments: Bugs to Fix","url":"/groups/gitlab-org/-/epics/3294","group_id":9970,"human_readable_end_date":"Aug 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":24687786,"iid":26222,"project_id":278964,"title":"Log user in on email confirmation","description":"### Problem to solve\n\nAfter clicking \"confirm\" in the confirmation email GitLab sends out, the user is taken to the `/users/sign_in` page and must enter their username/password. This is an unnecessary step we may be able to eliminate.\n\n### Further details\n\nSee https://gitlab.com/gitlab-org/gitlab-ce/issues/47003 for more details about our sign-up flow.\n\n### Proposal\n\n* On clicking the confirm CTA in the email confirmation, set the email to confirmed and log the user into GitLab.\n   * We may want to consider expiring email confirmations after a set period of time if we don't already.\n   * After confirming, the associated link should no longer be able to be used to log in.\n\n### What does success look like, and how can we measure that?\n\n\u003c!--- Define both the success metrics and acceptance criteria. Note thet success metrics indicate the desired business outcomes, while acceptance criteria indicate when the solution is working correctly. If there is no way to measure success, link to an issue that will implement a way to measure this --\u003e\n\n### Links / references","state":"closed","created_at":"2019-01-18T00:48:57.196Z","updated_at":"2020-09-29T01:11:37.214Z","closed_at":"2020-09-29T01:11:37.184Z","closed_by":{"id":4234774,"username":"pcalder","name":"Phil Calder","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4234774/avatar.png","web_url":"https://gitlab.com/pcalder"},"labels":["backend","devops::growth","group::activation","missed-deliverable","missed:12.2","missed:12.3","missed:12.4","missed:12.5","priority::3","section::growth","type::feature"],"milestone":null,"assignees":[{"id":3509693,"username":"nicolasdular","name":"Nicolas Dular","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c4a21f15150c12ddf13fd848597cddd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/nicolasdular"}],"author":{"id":1086520,"username":"jeremy-gl","name":"Jeremy Watson (ex-GitLab)","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1086520/avatar.png","web_url":"https://gitlab.com/jeremy-gl"},"type":"ISSUE","assignee":{"id":3509693,"username":"nicolasdular","name":"Nicolas Dular","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c4a21f15150c12ddf13fd848597cddd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/nicolasdular"},"user_notes_count":23,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/26222","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/26222","notes":"https://gitlab.com/api/v4/projects/278964/issues/26222/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/26222/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#26222","relative":"#26222","full":"gitlab-org/gitlab#26222"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":17444506,"iid":9268,"project_id":278964,"title":"The rake task migrate_to_hashed indicates the wrong amount of repos will be migrated when ID_FROM and ID_TO are specified","description":"### Summary\n\n```\nroot@console-01-sv-gstg.c.gitlab-staging-1.internal:~# export ID_FROM=449600\nroot@console-01-sv-gstg.c.gitlab-staging-1.internal:~# export ID_TO=449700\nroot@console-01-sv-gstg.c.gitlab-staging-1.internal:~# gitlab-rake gitlab:storage:migrate_to_hashed\nEnqueuing migration of 2714950 projects in batches of 200. Done!\n```\n\n### What is the current *bug* behavior?\n\nThe rake does what is should, this is a UI bug where we simply have the wrong variable in place.  As seen above, we should only enqueue 100 items.  The rake task instead, shows the full count of legacy storage projects, regardless of what we specified above.\n\n### What is the expected *correct* behavior?\n\n```\nroot@console-01-sv-gstg.c.gitlab-staging-1.internal:~# export ID_FROM=449600\nroot@console-01-sv-gstg.c.gitlab-staging-1.internal:~# export ID_TO=449700\nroot@console-01-sv-gstg.c.gitlab-staging-1.internal:~# gitlab-rake gitlab:storage:migrate_to_hashed\nEnqueuing migration of 100 projects in batches of 200. Done!\n```\n\n### Output of checks\n\nstable branch of gitlab-ee\n\n### Possible fixes\n\nhttps://gitlab.com/gitlab-org/gitlab-ee/blob/master/lib/tasks/gitlab/storage.rake#L37","state":"closed","created_at":"2019-01-17T19:49:17.111Z","updated_at":"2019-12-11T20:03:53.587Z","closed_at":"2019-06-24T19:22:53.904Z","closed_by":{"id":2293,"username":"brodock","name":"Gabriel Mazetto","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2293/avatar.png","web_url":"https://gitlab.com/brodock"},"labels":["Enterprise Edition","Geo Administration","[deprecated] Accepting merge requests","devops::systems","group::geo","needs investigation","priority::4","severity::4","type::bug"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":2524675,"username":"skarbek","name":"John Skarbek","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c6455ce4726023aac6dd7fb0acd1f236?s=80\u0026d=identicon","web_url":"https://gitlab.com/skarbek"},"type":"ISSUE","assignee":null,"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/9268","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/9268","notes":"https://gitlab.com/api/v4/projects/278964/issues/9268/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/9268/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#9268","relative":"#9268","full":"gitlab-org/gitlab#9268"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":17439881,"iid":9264,"project_id":278964,"title":"Alternative favicon for Geo secondary","description":"We already have the feature to show the pipeline status on the favicon, so maybe it's a good idea to show you're on a ~Geo secondary on the favicon. It would help when you administrating a primary and a secondary simultaneously.\n\n### Notes\n\n- It does not distinguish different secondary nodes from each other.\n\n### Example\n\nThis is how we present the pipeline status at present:\n\n![image](/uploads/52d1fd2cf8cc89aaa424f4d54822468b/image.png)\n\nIt should be possible to add a badge (top left?) for Geo too?","state":"closed","created_at":"2019-01-17T15:49:43.160Z","updated_at":"2020-09-24T15:31:27.752Z","closed_at":"2020-09-24T15:31:27.709Z","closed_by":{"id":4903414,"username":"sunjungp","name":"Sunjung Park","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a2c072c26031ffd81b676b43eeb7b781?s=80\u0026d=identicon","web_url":"https://gitlab.com/sunjungp"},"labels":["Enterprise Edition","Geo Administration","UX","devops::systems","geo::planning","group::geo","section::enablement","workflow::design"],"milestone":null,"assignees":[],"author":{"id":660180,"username":"toon","name":"Toon Claes","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/660180/avatar.png","web_url":"https://gitlab.com/toon"},"type":"ISSUE","assignee":null,"user_notes_count":5,"merge_requests_count":0,"upvotes":3,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/9264","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/9264","notes":"https://gitlab.com/api/v4/projects/278964/issues/9264/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/9264/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#9264","relative":"#9264","full":"gitlab-org/gitlab#9264"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":369,"epic":{"id":1104,"iid":369,"title":"Geo: Improve UI/UX on Administrator Panel","url":"/groups/gitlab-org/-/epics/369","group_id":9970},"iteration":null,"health_status":null},{"id":24687751,"iid":26207,"project_id":278964,"title":"Issue board loading infinite if closing the closed row","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"bug\" label.\n\nFor the Community Edition issue tracker:\n\n- https://gitlab.com/gitlab-org/gitlab-ce/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab-ce/issues?label_name%5B%5D=bug\n\nFor the Enterprise Edition issue tracker:\n\n- https://gitlab.com/gitlab-org/gitlab-ee/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab-ee/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\nIssue board loading infinite if closing the closed row\n\n### Steps to reproduce\n\nhttps://gitlab.com/groups/gitlab-org/-/boards/596216 close the closed row and reload, there are infinite requests. See Developer Console of Chrome:\n\n![gitlab_infinity_load](/uploads/6062b571e00e90b95ae9c29dde40df11/gitlab_infinity_load.JPG)\n\n### Example Project\n\nhttps://gitlab.com/groups/gitlab-org/-/boards/596216\n\n### What is the current *bug* behavior?\n\nInfinite Requests\n\n### What is the expected *correct* behavior?\n\nLike the closed row is open\n\n### Relevant logs and/or screenshots\n\n![gitlab_infinity_load](/uploads/f0ae1400af1176c5d7637c2fd6a62e6e/gitlab_infinity_load.JPG)","state":"closed","created_at":"2019-01-17T08:50:22.319Z","updated_at":"2022-05-19T16:15:00.802Z","closed_at":"2019-11-18T23:18:49.680Z","closed_by":{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"},"labels":["Category:Team Planning","Deliverable","boards","devops::plan","frontend","group::project management","missed-deliverable","missed:12.5","priority::3","reproduced on GitLab.com","severity::3","type::bug","workflow::verification"],"milestone":{"id":891796,"iid":39,"group_id":9970,"title":"12.5","description":"https://about.gitlab.com/releases/2019/11/22/gitlab-12-5-released","state":"closed","created_at":"2019-05-31T08:38:03.087Z","updated_at":"2020-04-27T16:27:03.474Z","due_date":"2019-11-17","start_date":"2019-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/39"},"assignees":[{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"}],"author":{"id":3410616,"username":"AndreasGoe","name":"Andreas G.","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d5ce94c715d21c04ea692c19692280fd?s=80\u0026d=identicon","web_url":"https://gitlab.com/AndreasGoe"},"type":"ISSUE","assignee":{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"},"user_notes_count":6,"merge_requests_count":1,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/26207","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/26207","notes":"https://gitlab.com/api/v4/projects/278964/issues/26207/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/26207/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#26207","relative":"#26207","full":"gitlab-org/gitlab#26207"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null}]