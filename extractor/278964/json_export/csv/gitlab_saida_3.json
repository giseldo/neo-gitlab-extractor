[{"id":118015653,"iid":381303,"project_id":278964,"title":"Rename IssuesResolver to ProjectIssuesResolver","description":"The following discussion from !102655 should be addressed:\n\n- [ ] @egrieff started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/102655#note_1157458603): \n\n    \u003e **question (non-blocking)**: Just a thought for a follow-up maybe, but should we rename this resolver to `ProjectIssuesResolver`? \n    \u003e \n    \u003e I think it could reduce confusion around the various resolvers used for issues and would match what we do for group issues so then we would have both `Resolver::GroupIssuesResolver` and `Resolver::ProjectIssuesResolver` inheriting from `Issues::BaseParentResolver`. Wdyt?","state":"closed","created_at":"2022-11-02T14:56:14.835Z","updated_at":"2022-11-09T17:31:02.115Z","closed_at":"2022-11-09T17:30:50.412Z","closed_by":{"id":8110537,"username":"mcelicalderonG","name":"Mario Celi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8110537/avatar.png","web_url":"https://gitlab.com/mcelicalderonG"},"labels":["backend","devops::plan","group::project management","maintenance::refactor","section::dev","type::maintenance","workflow::production"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":8110537,"username":"mcelicalderonG","name":"Mario Celi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8110537/avatar.png","web_url":"https://gitlab.com/mcelicalderonG"}],"author":{"id":8110537,"username":"mcelicalderonG","name":"Mario Celi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8110537/avatar.png","web_url":"https://gitlab.com/mcelicalderonG"},"type":"ISSUE","assignee":{"id":8110537,"username":"mcelicalderonG","name":"Mario Celi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8110537/avatar.png","web_url":"https://gitlab.com/mcelicalderonG"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/381303","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/381303","notes":"https://gitlab.com/api/v4/projects/278964/issues/381303/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/381303/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#381303","relative":"#381303","full":"gitlab-org/gitlab#381303"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":118012541,"iid":381295,"project_id":278964,"title":"Gitlab::GithubImport::ImportPullRequestReviewWorker: Rescue the exception in execute method","description":"### Problem\n\nWe have noticed an increased number of failing jobs over the past 7 days (Oct. 18th - Nov. 2nd):\n\n![Screenshot_2022-11-02_at_13.54.16](/uploads/6feb130c38f9a7fdec2dbf7b45aa5954/Screenshot_2022-11-02_at_13.54.16.png)\n\nIt seems that the exception is raised in the https://gitlab.com/gitlab-org/gitlab/-/blob/dd1e70d3676891025534dc4a1e89ca9383178fe7/lib/gitlab/github_import/importer/pull_request_review_importer.rb#L16 because the user doesn't exist\n\nBacktrace\n```\nlib/gitlab/octokit/middleware.rb:13:in `call'\nlib/gitlab/github_import/client.rb:72:in `block in user'\nlib/gitlab/github_import/client.rb:171:in `block in with_rate_limit'\nlib/gitlab/github_import/client.rb:289:in `block in with_retry'\nlib/gitlab/github_import/client.rb:288:in `with_retry'\nlib/gitlab/github_import/client.rb:171:in `with_rate_limit'\nlib/gitlab/github_import/client.rb:72:in `user'\nlib/gitlab/github_import/user_finder.rb:117:in `email_for_github_username'\nlib/gitlab/github_import/user_finder.rb:83:in `find'\nlib/gitlab/github_import/user_finder.rb:75:in `user_id_for'\nlib/gitlab/github_import/importer/pull_request_review_importer.rb:16:in `execute'\napp/workers/concerns/gitlab/github_import/object_importer.rb:38:in `import'\napp/workers/concerns/gitlab/github_import/rescheduling_methods.rb:29:in `try_import'\napp/workers/concerns/gitlab/github_import/rescheduling_methods.rb:18:in `perform'\nlib/gitlab/database/load_balancing/sidekiq_server_middleware.rb:26:in `call'\nlib/gitlab/sidekiq_middleware/duplicate_jobs/strategies/until_executing.rb:16:in `perform'\nlib/gitlab/sidekiq_middleware/duplicate_jobs/duplicate_job.rb:57:in `perform'\nlib/gitlab/sidekiq_middleware/duplicate_jobs/server.rb:8:in `call'\nlib/gitlab/sidekiq_middleware/worker_context.rb:9:in `wrap_in_optional_context'\nlib/gitlab/sidekiq_middleware/worker_context/server.rb:19:in `block in call'\nlib/gitlab/application_context.rb:113:in `block in use'\nlib/gitlab/application_context.rb:113:in `use'\nlib/gitlab/application_context.rb:54:in `with_context'\nlib/gitlab/sidekiq_middleware/worker_context/server.rb:17:in `call'\nlib/gitlab/sidekiq_status/server_middleware.rb:7:in `call'\nlib/gitlab/sidekiq_versioning/middleware.rb:9:in `call'\nlib/gitlab/sidekiq_middleware/query_analyzer.rb:7:in `block in call'\nlib/gitlab/database/query_analyzer.rb:37:in `within'\nlib/gitlab/sidekiq_middleware/query_analyzer.rb:7:in `call'\nlib/gitlab/sidekiq_middleware/admin_mode/server.rb:14:in `call'\nlib/gitlab/sidekiq_middleware/instrumentation_logger.rb:9:in `call'\nlib/gitlab/sidekiq_middleware/batch_loader.rb:7:in `call'\nlib/gitlab/sidekiq_middleware/extra_done_log_metadata.rb:7:in `call'\nlib/gitlab/sidekiq_middleware/request_store_middleware.rb:10:in `block in call'\nlib/gitlab/with_request_store.rb:17:in `enabling_request_store'\nlib/gitlab/with_request_store.rb:10:in `with_request_store'\nlib/gitlab/sidekiq_middleware/request_store_middleware.rb:9:in `call'\nlib/gitlab/sidekiq_middleware/server_metrics.rb:76:in `block in call'\nlib/gitlab/sidekiq_middleware/server_metrics.rb:103:in `block in instrument'\nlib/gitlab/metrics/background_transaction.rb:33:in `run'\nlib/gitlab/sidekiq_middleware/server_metrics.rb:103:in `instrument'\nlib/gitlab/sidekiq_middleware/server_metrics.rb:75:in `call'\nlib/gitlab/sidekiq_middleware/monitor.rb:10:in `block in call'\nlib/gitlab/sidekiq_daemon/monitor.rb:49:in `within_job'\nlib/gitlab/sidekiq_middleware/monitor.rb:9:in `call'\nlib/gitlab/sidekiq_middleware/size_limiter/server.rb:13:in `call'\nlib/gitlab/sidekiq_logging/structured_logger.rb:21:in `call'\n```\n\n![Screenshot_2022-11-02_at_14.08.22](/uploads/3f8a1c134c1590a38308bad61f47e100/Screenshot_2022-11-02_at_14.08.22.png)\n\n[Kibana](https://log.gprd.gitlab.net/app/discover#/?_g=(filters:!(),refreshInterval:(pause:!t,value:0),time:(from:now-7d%2Fd,to:now))\u0026_a=(columns:!(json.error_message,json.exception.message,json.error_class,json.exception.class),filters:!(),hideChart:!t,index:AWNABDRwNDuQHTm2tH6l,interval:auto,query:(language:kuery,query:'json.class%20:%20%22Gitlab::GithubImport::ImportPullRequestReviewWorker%22%20AND%20json.job_status%20:%20%22fail%22'),sort:!(!(json.time,desc))))\n\n## Proposal\n\nWe should probably rescue the `Octokit::NotFound` in `Gitlab::GithubImport::ImportPullRequestReviewWorker`worker's execute method.","state":"closed","created_at":"2022-11-02T14:13:52.235Z","updated_at":"2023-01-10T07:53:20.284Z","closed_at":"2022-12-16T01:13:53.680Z","closed_by":{"id":11311967,"username":"cervols-ext","name":"Tetiana Zavediuk","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11311967/avatar.png","web_url":"https://gitlab.com/cervols-ext"},"labels":["Category:Importers","Deliverable","Error Budget Improvement","Importer:GitHub","SoftServe::Import","[deprecated] Accepting merge requests","backend","devops::manage","group::import","quad-planning::complete-no-action","section::dev","type::maintenance","workflow::verification"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":11311967,"username":"cervols-ext","name":"Tetiana Zavediuk","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11311967/avatar.png","web_url":"https://gitlab.com/cervols-ext"}],"author":{"id":11165152,"username":"rodrigo.tomonari","name":"Rodrigo Tomonari","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11165152/avatar.png","web_url":"https://gitlab.com/rodrigo.tomonari"},"type":"ISSUE","assignee":{"id":11311967,"username":"cervols-ext","name":"Tetiana Zavediuk","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11311967/avatar.png","web_url":"https://gitlab.com/cervols-ext"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/381295","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/381295","notes":"https://gitlab.com/api/v4/projects/278964/issues/381295/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/381295/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#381295","relative":"#381295","full":"gitlab-org/gitlab#381295"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":118010439,"iid":381286,"project_id":278964,"title":"Group update through API fails with \"images in registry\" error even if path is not changed","description":"### Summary\n\nI am updating the group through API (`PUT group/ID`) and sending in this request same path that the group already has â€” it fails with error:\n\n```\n{\"message\"=\u003e{\"base\"=\u003e[\"Cannot update the path because there are projects under this group that contain Docker images in their Container Registry. Please remove the images from your projects first and try again.\"]}}\n```\n\n### Steps to reproduce\n\nUpdate the group with images in container registry through API, sending the same path that group already has.\n\n### What is the current *bug* behavior?\n\nIt responses with Bad Request error: \n```\n{\"message\"=\u003e{\"base\"=\u003e[\"Cannot update the path because there are projects under this group that contain Docker images in their Container Registry. Please remove the images from your projects first and try again.\"]}}\n```\n\n### What is the expected *correct* behavior?\n\nIt should accept the update.\n\n### Possible fixes\n\nIf I understand correctly, the cause of this problem is [this commit](https://gitlab.com/gitlab-org/gitlab/-/commit/7a6c40ce85f5283edbebfc27d64f99dc975e746f#7aac7a8146caa155355914cc01d2a7254eeca6e5_75_75) from 2 months ago. It changes behaviour of `renaming?` function to use `@path_before` instead of `group.path`. But this function is used in `renaming_group_with_container_registry_images?` [earlier](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/services/groups/update_service.rb#L13) than this instance variable [is set](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/services/groups/update_service.rb#L28).","state":"closed","created_at":"2022-11-02T13:46:03.374Z","updated_at":"2022-11-13T14:05:14.773Z","closed_at":"2022-11-03T14:55:40.569Z","closed_by":{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"},"labels":["bug::functional","devops::create","group::editor","section::dev","type::bug","workflow::in review"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"}],"author":{"id":657798,"username":"gsmetal","name":"Sergey Gnuskov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b5d1c1c3ace72ec58ec9f1f8160d19ee?s=80\u0026d=identicon","web_url":"https://gitlab.com/gsmetal"},"type":"ISSUE","assignee":{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"},"user_notes_count":3,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/381286","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/381286","notes":"https://gitlab.com/api/v4/projects/278964/issues/381286/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/381286/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#381286","relative":"#381286","full":"gitlab-org/gitlab#381286"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7920,"epic":{"id":503228,"iid":7920,"title":"Pages Internal API Caching","url":"/groups/gitlab-org/-/epics/7920","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":118008860,"iid":381281,"project_id":278964,"title":"Include `raw` attribute in project, group, and instance CI variables when creating and updating","description":"# Problem\n\nThe new `raw` attribute for CI variables cannot yet be included in the variable data payload when creating and updating.\n\n# Proposed Solution\n\nInclude the `raw` attribute in the REST API endpoints for creating and updating project, group, and instance CI variables.","state":"closed","created_at":"2022-11-02T13:23:59.843Z","updated_at":"2022-11-12T13:12:42.675Z","closed_at":"2022-11-11T15:38:17.534Z","closed_by":{"id":4059128,"username":"avielle","name":"Avielle Wolfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4059128/avatar.png","web_url":"https://gitlab.com/avielle"},"labels":["Category:Pipeline Authoring","backend","devops::verify","feature::enhancement","group::pipeline authoring","section::ops","type::feature"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":4059128,"username":"avielle","name":"Avielle Wolfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4059128/avatar.png","web_url":"https://gitlab.com/avielle"}],"author":{"id":4059128,"username":"avielle","name":"Avielle Wolfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4059128/avatar.png","web_url":"https://gitlab.com/avielle"},"type":"ISSUE","assignee":{"id":4059128,"username":"avielle","name":"Avielle Wolfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4059128/avatar.png","web_url":"https://gitlab.com/avielle"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/381281","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/381281","notes":"https://gitlab.com/api/v4/projects/278964/issues/381281/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/381281/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#381281","relative":"#381281","full":"gitlab-org/gitlab#381281"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8209,"epic":{"id":542230,"iid":8209,"title":"Variables work for PA kickoff","url":"/groups/gitlab-org/-/epics/8209","group_id":9970,"human_readable_end_date":"May 17, 2023","human_readable_timestamp":"\u003cstrong\u003e4\u003c/strong\u003e months remaining"},"iteration":{"id":74860,"iid":115,"sequence":28,"group_id":9970,"title":null,"description":null,"state":3,"created_at":"2022-08-08T00:05:02.221Z","updated_at":"2022-11-14T00:05:02.449Z","start_date":"2022-10-31","due_date":"2022-11-13","web_url":"https://gitlab.com/groups/gitlab-org/-/iterations/74860"},"health_status":null},{"id":118000044,"iid":381263,"project_id":278964,"title":"[MR Widget V2] Add container scanning results to the mr widget","description":"## Summary\n\nFrom https://gitlab.com/gitlab-org/gitlab/-/issues/376152#note_1156978856: \n\n\u003e 1. Not directly related to this issue, but I noticed that container scanning results are missing. They show up in the non-V2 widget. Not sure if this is a bug or still a WIP.\n\n## Implementation plan\n\n- [x] Add the container scanning results to the widget: https://gitlab.com/gitlab-org/gitlab/-/blob/master/ee/app/assets/javascripts/vue_merge_request_widget/extensions/security_reports/mr_widget_security_reports.vue#L143\n\n## Verification steps\n\n- [x] Follow the steps to setup this feature locally: https://gitlab.com/gitlab-org/gitlab/-/merge_requests/103739#how-to-set-up-and-validate-locally\n- [x] Verify from the network tab that we're making a call to the `container scanning` endpoint that goes like: `/:namespace/:project/-/merge_requests/:mid/container_scanning_reports`","state":"closed","created_at":"2022-11-02T11:04:10.144Z","updated_at":"2022-11-14T14:56:36.853Z","closed_at":"2022-11-14T14:56:36.804Z","closed_by":{"id":4155411,"username":"dpisek","name":"David Pisek","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4155411/avatar.png","web_url":"https://gitlab.com/dpisek"},"labels":["Category:Vulnerability Management","Threat Insights::Navy","Track Health Status","auto updated","devops::govern","frontend","group::threat insights","merge request widget","ready to pull","section::sec","type::maintenance","workflow::verification"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[],"author":{"id":5535246,"username":"svedova","name":"Savas Vedova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535246/avatar.png","web_url":"https://gitlab.com/svedova"},"type":"ISSUE","assignee":null,"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/381263","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":3},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"3 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/381263","notes":"https://gitlab.com/api/v4/projects/278964/issues/381263/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/381263/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#381263","relative":"#381263","full":"gitlab-org/gitlab#381263"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8353,"epic":{"id":564248,"iid":8353,"title":"[MR Widget] V2","url":"/groups/gitlab-org/-/epics/8353","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":117979346,"iid":381231,"project_id":278964,"title":"Frontend: Add validation for the mask item value is part of URL","description":"In https://gitlab.com/gitlab-org/gitlab/-/merge_requests/102720, we've already added presence validations to key / value of mask items.\n\nA nice improvement will be to make sure that the value is a part of the URL as well. For example, if the URL is `https://gitlab.com/gitlab-org/gitlab/-/issues/381231`, valid values will be `gitlab-org`, `issues/381231`... If a string is not present in the URL (for example, `random-string`), we should show a validation message like the mock mentioned [here](https://gitlab.com/gitlab-org/gitlab/-/issues/361582#note_1135373003).","state":"closed","created_at":"2022-11-02T06:44:59.113Z","updated_at":"2022-11-16T01:55:15.965Z","closed_at":"2022-11-16T01:55:15.741Z","closed_by":{"id":4704683,"username":"justin_ho","name":"Justin Ho Tuan Duong","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4704683/avatar.png","web_url":"https://gitlab.com/justin_ho"},"labels":["Category:Integrations","Category:Webhooks","devops::manage","feature::enhancement","frontend","group::integrations","section::dev","type::feature","workflow::production"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":4704683,"username":"justin_ho","name":"Justin Ho Tuan Duong","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4704683/avatar.png","web_url":"https://gitlab.com/justin_ho"}],"author":{"id":4704683,"username":"justin_ho","name":"Justin Ho Tuan Duong","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4704683/avatar.png","web_url":"https://gitlab.com/justin_ho"},"type":"ISSUE","assignee":{"id":4704683,"username":"justin_ho","name":"Justin Ho Tuan Duong","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4704683/avatar.png","web_url":"https://gitlab.com/justin_ho"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/381231","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/381231","notes":"https://gitlab.com/api/v4/projects/278964/issues/381231/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/381231/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#381231","relative":"#381231","full":"gitlab-org/gitlab#381231"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":9158,"epic":{"id":645118,"iid":9158,"title":"URL Masking Improvements","url":"/groups/gitlab-org/-/epics/9158","group_id":9970,"human_readable_end_date":"May 17, 2023","human_readable_timestamp":"\u003cstrong\u003e4\u003c/strong\u003e months remaining"},"iteration":null,"health_status":null},{"id":117968054,"iid":381166,"project_id":278964,"title":"Validate that GitLab is the source of truth for who can access a workspace","description":"## Problem\n\nValidate that the authorization data for which users can access the IDE is stored in GitLab.\n\n## Possible Solutions\n\n## Exit Criteria\n\n- The authorization data for which users can access the IDE is stored in GitLab and can be accessed.\n- The authorization data for which users can access the IDE is not stored in GitLab but can still be accessed.","state":"closed","created_at":"2022-11-01T22:23:06.294Z","updated_at":"2023-01-04T23:55:12.146Z","closed_at":"2023-01-04T23:55:12.128Z","closed_by":{"id":1646689,"username":"oregand","name":"David O'Regan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1646689/avatar.png","web_url":"https://gitlab.com/oregand"},"labels":["Category:Remote Development","Deliverable","backend","devops::create","feature::addition","group::editor","section::dev","spike","type::feature","workflow::ready for development"],"milestone":null,"assignees":[],"author":{"id":1646689,"username":"oregand","name":"David O'Regan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1646689/avatar.png","web_url":"https://gitlab.com/oregand"},"type":"ISSUE","assignee":null,"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/381166","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/381166","notes":"https://gitlab.com/api/v4/projects/278964/issues/381166/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/381166/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#381166","relative":"#381166","full":"gitlab-org/gitlab#381166"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":9323,"epic":{"id":663213,"iid":9323,"title":"Iteration 1: Rails endpoints, authentication and authorization","url":"/groups/gitlab-org/-/epics/9323","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":null},{"id":117965586,"iid":381154,"project_id":278964,"title":"Geo: Implement Git repo housekeeping for repositories types in SSF","description":"Follow up https://gitlab.com/gitlab-org/gitaly/-/issues/2359#note_1156470863:\n\n\u003e\u003e\u003e\n\u003e\u003e It seems we don't run this on secondary sites for Wiki and GroupWiki Git repos. Are those affected, in addition to Project Git repos?\n\u003e\n\u003e Interesting. Do you know why exactly these are not getting optimized? That doesn't sound right to me -- any Git repository needs to be optimized for performance every now and then, at least when it's receiving traffic.\n\nI'm not sure why Wikis were not implemented, but GroupWiki and Snippet Git repos were added later and if the idea came up I'm guessing it would have been low priority.\n\nIt should be easier now to implement the thing in one place, to handle Git repos generally in SSF. I'll open an issue.\n\u003e\u003e\u003e\n\nThis will also apply to Designs when they get migrated to SSF. And this will also help us delete more legacy code when Projects get migrated to SSF.","state":"closed","created_at":"2022-11-01T20:54:27.779Z","updated_at":"2022-12-16T17:00:13.535Z","closed_at":"2022-12-02T00:42:53.159Z","closed_by":{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"},"labels":["devops::systems","feature::enhancement","group::geo","section::enablement","type::feature","workflow::in review"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"}],"author":{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"},"type":"ISSUE","assignee":{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"},"user_notes_count":26,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/381154","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/381154","notes":"https://gitlab.com/api/v4/projects/278964/issues/381154/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/381154/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#381154","relative":"#381154","full":"gitlab-org/gitlab#381154"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3588,"epic":{"id":67972,"iid":3588,"title":"Geo move existing datatypes to self-service framework","url":"/groups/gitlab-org/-/epics/3588","group_id":9970,"human_readable_end_date":"Oct 31, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":117957006,"iid":381118,"project_id":278964,"title":"[ðŸŽ¨ Design] Objective work item view","description":"## Context\nAs part of the [OKR initiative](https://gitlab.com/groups/gitlab-org/-/epics/7864#minimal) we are building an `Objective` work item type to be validated internally. The first iteration of this work item should include:\n* Ability to capture objectives and key results.\n  * Title\n  * Description\n  * Assignee\n  * Labels\n  * Status: Open/closed\n  * Assigned to a time period (milestone)\n  * Start date\n  * Due date\n  * Confidentiality\n  * Comments\n  * System Notes\n  * Percent complete (Manual input for a KR and calculated for an Objective).\n* Ability to \"nest\" objectives and key results (9 levels deep. Epics are at 7).\n* No ancestor tree \n* Immediate parent Objective shown in breadcrumbs at top of record\n* View child objectives/key results from within a Key Result and Objective.\n* Scoring\n  * Ability to manually enter KR scoring\n  * Calculate the score for an Objective based on KR scores. An average split across all children.\n\nTo learn more about how objectives are created, [view this issue](https://gitlab.com/gitlab-org/gitlab/-/issues/381496).\n\n## Solution\n#### ðŸŽ¨ [**Figma file**](https://www.figma.com/file/QYpTA4PT5tyusoTucZA9Fs/Objective-work-item-view?node-id=0%3A1)\n\n- Reuse our current work item view (eg task view).\n- Add a `Progress` field that can be edited as an input field with the values of 0-100 percent.\n   - We can reuse something similar to the `weight` field here.\n- Reuse our current epic tree experience for displaying children.\n   - Do not include the roadmap view \n   - This tree has the title of `Child objectives and key results`\n   - Show the progress on each child item using the [progress](https://gitlab-org.gitlab.io/gitlab-svgs/?q=progress) icon with its corresponding value from 0-100%\n- Use the [objective icon](https://gitlab.com/gitlab-org/gitlab-svgs/-/merge_requests/855)","state":"closed","created_at":"2022-11-01T17:43:38.649Z","updated_at":"2022-12-19T05:05:14.896Z","closed_at":"2022-12-07T14:41:24.278Z","closed_by":{"id":3617348,"username":"uhlexsis","name":"Alexis Ginsberg","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3617348/avatar.png","web_url":"https://gitlab.com/uhlexsis"},"labels":["UX","UX Design","design-weight::8","devops::plan","feature::addition","group::product planning","section::dev","type::feature"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":3617348,"username":"uhlexsis","name":"Alexis Ginsberg","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3617348/avatar.png","web_url":"https://gitlab.com/uhlexsis"}],"author":{"id":3617348,"username":"uhlexsis","name":"Alexis Ginsberg","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3617348/avatar.png","web_url":"https://gitlab.com/uhlexsis"},"type":"ISSUE","assignee":{"id":3617348,"username":"uhlexsis","name":"Alexis Ginsberg","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3617348/avatar.png","web_url":"https://gitlab.com/uhlexsis"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/381118","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":8,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/381118","notes":"https://gitlab.com/api/v4/projects/278964/issues/381118/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/381118/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#381118","relative":"#381118","full":"gitlab-org/gitlab#381118"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8849,"epic":{"id":610642,"iid":8849,"title":"[ðŸŽ¨ Design] Minimal OKR tracking design exploration","url":"/groups/gitlab-org/-/epics/8849","group_id":9970,"human_readable_end_date":"Dec 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":117955304,"iid":381112,"project_id":278964,"title":"Update Slack's `GitLab` app description to communicate support for notifications","description":"## Background\n\nGitLab's Slack App can be found through Slack's App Directory. Today it resides at https://gitlab.slack.com/apps/A676ADMV5-gitlab?tab=more_info.\n\nThe landing page has not been updated for some time and we'll want to update the content to communicate all features and better market the app.\n\n- [x] Improve the `Description`\n- [x] Update the `Features` section\n- [x] Check that all support links are up to date\n- [ ] ~~Update title to `GitLab for Slack App` to comply with legal requirements~~. Leaving app title `GitLab`, see https://gitlab.com/gitlab-org/gitlab/-/issues/381112#note_1201971669\n\n| Current listing | \n| ------ | \n|    ![Current_listing](/uploads/332ea92ad0ebcfc037f0e7336d539ab1/Current_listing.png)    | \n\n### Proposal \n\nSee \"Designs\" section below for mockups.\n\n### Design source\n\n:pencil2: [Figma](https://www.figma.com/file/NqsMitIT08Z4CkwD8AWXSH/GitLab-for-Slack---App-directory-assets?node-id=1806%3A36\u0026t=Jir2mfkUJcaR4hay-1)","state":"closed","created_at":"2022-11-01T17:09:47.030Z","updated_at":"2023-01-06T01:31:05.464Z","closed_at":"2022-12-20T18:40:28.171Z","closed_by":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"labels":["Category:Integrations","Deliverable","SUS::Impacting","Technical Writing","UI text","UX","automation:ux-missing-labels","backend","devops::manage","feature::consolidation","group::integrations","section::dev","type::feature","workflow::in review"],"milestone":{"id":2745648,"iid":83,"group_id":9970,"title":"15.8","description":"","state":"active","created_at":"2022-08-22T16:57:34.875Z","updated_at":"2022-08-22T16:57:34.875Z","due_date":"2023-01-17","start_date":"2022-12-18","expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/83"},"assignees":[],"author":{"id":10222550,"username":"g.hickman","name":"Grant Hickman","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10222550/avatar.png","web_url":"https://gitlab.com/g.hickman"},"type":"ISSUE","assignee":null,"user_notes_count":27,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/381112","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":4,"completed_count":3},"weight":1,"blocking_issues_count":2,"has_tasks":true,"task_status":"3 of 4 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/381112","notes":"https://gitlab.com/api/v4/projects/278964/issues/381112/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/381112/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#381112","relative":"#381112","full":"gitlab-org/gitlab#381112"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8670,"epic":{"id":595009,"iid":8670,"title":"Extend Slack app to support notifications","url":"/groups/gitlab-org/-/epics/8670","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":117952093,"iid":381095,"project_id":278964,"title":"Backend: Add readEnvironment field to graphQL endpoint to check user access permissions on Operations tab","description":"\u003c!--\n## Implementation Issue To-Do list \n(_NOTE: This section can be removed when the issue is ready for creation_)\n- [ ] Ensure that issue title is concise yet descriptive\n- [ ] Add `Frontend :` or `Backend: ` per group [naming conventions](https://about.gitlab.com/handbook/engineering/development/ops/verify/pipeline-authoring/#splitting-issues)\n- [ ] Ensure the issue containing the feature or change proposal and related discussions is linked as related to this implementation issue.\n- [ ] Aside from default labeling, please make sure to include relevant labels for `type::`, `workflow::`, and `~frontend`/`~backend` labeling.\n- [ ] Issues with user-facing changes should include the `~UX` label.\n--\u003e\n\n## Summary\n\nOn the Operations tab, there isn't a way to determine whether the user has the proper `readEnvironment` permissions.\n\n## Proposal\n\nAdd `readEnvironment` field to GraphQL endpoint which will give the ability on the frontend to not show the environments dropdown if there is no `read_environment` access which is noted in https://gitlab.com/gitlab-org/gitlab/-/issues/298814\n\n## Additional details\n\u003c!--\n_NOTE: If the issue has addressed all of these questions, this separate section can be removed._\n--\u003e\n\nSome relevant technical details, if applicable, such as:\n\n- Does this need a ~\"feature flag\"? No\n- Is there an example response showing the data structure that should be returned (new endpoints only)?\n- What permissions should be used?\n- Is this EE or CE?\n    - [ ] EE\n    - [ ] CE\n- Additional comments:\n\n## Implementation Table\n\n\u003c!--\n_NOTE: If the issue is not part of an epic, the implementation table can be removed. If it is part of an epic, make sure that the implementation table below mirrors the corresponding epic's implementation table content._\n--\u003e\n\n\n| Group | Issue Link |\n| ------ | ------ |\n| ~backend | :point_left: You are here |\n| ~frontend | https://gitlab.com/gitlab-org/gitlab/-/issues/298814 |\n\n\u003c!--\n## Documentation \n\n_NOTE: This section is optional, but can be used for easy access to any relevant documentation URLs._\n--\u003e\n\n## Links/References","state":"closed","created_at":"2022-11-01T16:01:30.875Z","updated_at":"2022-12-12T18:02:57.577Z","closed_at":"2022-12-02T16:31:02.379Z","closed_by":{"id":12867582,"username":"lma-git","name":"Leaminn Ma","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12867582/avatar.png","web_url":"https://gitlab.com/lma-git"},"labels":["Category:Pipeline Authoring","GraphQL","api","backend","backend-weight::1","customer","devops::verify","group::pipeline authoring","section::ops","type::maintenance","workflow::production"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":12867582,"username":"lma-git","name":"Leaminn Ma","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12867582/avatar.png","web_url":"https://gitlab.com/lma-git"}],"author":{"id":9468400,"username":"marknuzzo","name":"Mark Nuzzo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9468400/avatar.png","web_url":"https://gitlab.com/marknuzzo"},"type":"ISSUE","assignee":{"id":12867582,"username":"lma-git","name":"Leaminn Ma","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12867582/avatar.png","web_url":"https://gitlab.com/lma-git"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/381095","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":7,"completed_count":0},"weight":1,"blocking_issues_count":1,"has_tasks":true,"task_status":"0 of 7 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/381095","notes":"https://gitlab.com/api/v4/projects/278964/issues/381095/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/381095/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#381095","relative":"#381095","full":"gitlab-org/gitlab#381095"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":117946690,"iid":381084,"project_id":278964,"title":"[MR Widget V2] Add prop validator for widget name","description":"## Summary\n\nThe widget name needs to start with `Widget` as described here: https://docs.gitlab.com/ee/development/fe_guide/merge_request_widget_extensions.html#add-new-widgets\n\nAdd a prop validator for this.\n\n## Implementation plan \n\n- [x] Add a prop validator to https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/assets/javascripts/vue_merge_request_widget/components/widget/widget.vue#L88","state":"closed","created_at":"2022-11-01T14:43:44.891Z","updated_at":"2022-11-08T10:19:09.499Z","closed_at":"2022-11-08T10:19:09.467Z","closed_by":{"id":5535246,"username":"svedova","name":"Savas Vedova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535246/avatar.png","web_url":"https://gitlab.com/svedova"},"labels":["Category:Vulnerability Management","Threat Insights::Navy","Track Health Status","auto updated","devops::govern","frontend","group::threat insights","merge request widget","ready to pull","section::sec","type::maintenance","workflow::in review"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":5535246,"username":"svedova","name":"Savas Vedova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535246/avatar.png","web_url":"https://gitlab.com/svedova"}],"author":{"id":5535246,"username":"svedova","name":"Savas Vedova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535246/avatar.png","web_url":"https://gitlab.com/svedova"},"type":"ISSUE","assignee":{"id":5535246,"username":"svedova","name":"Savas Vedova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535246/avatar.png","web_url":"https://gitlab.com/svedova"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/381084","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":1},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"1 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/381084","notes":"https://gitlab.com/api/v4/projects/278964/issues/381084/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/381084/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#381084","relative":"#381084","full":"gitlab-org/gitlab#381084"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8353,"epic":{"id":564248,"iid":8353,"title":"[MR Widget] V2","url":"/groups/gitlab-org/-/epics/8353","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":117925138,"iid":381013,"project_id":278964,"title":"Change `hide_public_email_on_profile` feature flag to reflect correct group","description":"### Problem\n\nThe feature flag `hide_public_email_on_profile` is currently set to belong to ~\"group::optimize\" which is incorrect.\n\n### Solution\n\nUpdate the ownership of the feature flag to the correct group, ~\"group::workspace\" as referenced in h ttps://gitlab.com/gitlab-org/gitlab/-/issues/351731","state":"closed","created_at":"2022-11-01T09:49:16.742Z","updated_at":"2022-12-21T12:01:49.282Z","closed_at":"2022-12-08T17:35:52.850Z","closed_by":{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"},"labels":["Category:DevOps Reports","Deliverable","[deprecated] Accepting merge requests","backend","devops::plan","group::optimize","priority::3","section::dev","type::maintenance","workflow::verification"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"}],"author":{"id":3101551,"username":"blabuschagne","name":"Brandon Labuschagne","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3101551/avatar.png","web_url":"https://gitlab.com/blabuschagne"},"type":"ISSUE","assignee":{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/381013","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/381013","notes":"https://gitlab.com/api/v4/projects/278964/issues/381013/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/381013/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#381013","relative":"#381013","full":"gitlab-org/gitlab#381013"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":117921673,"iid":381001,"project_id":278964,"title":"VSA: Add backend controllers for settings page","description":"### Proposal \n\nWe're moving the VSA value stream configuration / settings from the modal to a standalone settings page. \n\n* We'll need controllers for the new / edit views. \n\nOpen question: Should we introduce this behind a feature flag?\n\n#### Vision\n\n| New | Edit |\n| ------ | ------ |\n|    ![Screenshot_2022-11-01_at_10.14.02](/uploads/bcbc6192ecc764b2e5da99d718f2fed9/Screenshot_2022-11-01_at_10.14.02.png)    |    ![Screenshot_2022-11-01_at_10.13.30](/uploads/23b0f12ab260fc706e9dfc788fecc66f/Screenshot_2022-11-01_at_10.13.30.png)    |","state":"closed","created_at":"2022-11-01T09:03:41.250Z","updated_at":"2022-12-15T06:58:54.900Z","closed_at":"2022-12-15T06:58:54.844Z","closed_by":{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"},"labels":["Category:DevOps Reports","OKR","backend","devops::plan","estimation::completed","feature::enhancement","group::optimize","priority::3","section::dev","type::feature","workflow::production"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"}],"author":{"id":3101551,"username":"blabuschagne","name":"Brandon Labuschagne","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3101551/avatar.png","web_url":"https://gitlab.com/blabuschagne"},"type":"ISSUE","assignee":{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/381001","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":1,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/381001","notes":"https://gitlab.com/api/v4/projects/278964/issues/381001/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/381001/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#381001","relative":"#381001","full":"gitlab-org/gitlab#381001"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":9129,"epic":{"id":642259,"iid":9129,"title":"Add VSA settings page with preset filters to custom value streams","url":"/groups/gitlab-org/-/epics/9129","group_id":9970,"human_readable_end_date":"Dec 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":117899421,"iid":380884,"project_id":278964,"title":"Flaky EE spec: ee/spec/features/groups/analytics/cycle_analytics/filters_and_data_spec.rb","description":"From https://gitlab.com/gitlab-org/gitlab/-/jobs/3254113176:\n\n```\nFailures:\n  1) Group value stream analytics filters and data with value streams with valid query parameters set with created_before and created_after set has the date range prepopulated\n     Got 0 failures and 2 other errors:\n     1.1) Failure/Error: super\n          Capybara::ElementNotFound:\n            Unable to find css \".tooltip\"\n            Timeout (30s) reached while running a waiting Capybara finder.\n            Consider using a non-waiting finder.\n            See https://www.cloudbees.com/blog/faster-rails-tests\n          # ./spec/support/capybara_slow_finder.rb:18:in `synchronize'\n          # ./ee/spec/features/groups/analytics/cycle_analytics/filters_and_data_spec.rb:260:in `block (5 levels) in \u003cmain\u003e'\n          # ./spec/spec_helper.rb:412:in `block (3 levels) in \u003ctop (required)\u003e'\n          # ./spec/support/sidekiq_middleware.rb:9:in `with_sidekiq_server_middleware'\n          # ./spec/spec_helper.rb:404:in `block (2 levels) in \u003ctop (required)\u003e'\n          # ./spec/spec_helper.rb:400:in `block (3 levels) in \u003ctop (required)\u003e'\n          # ./lib/gitlab/application_context.rb:58:in `with_raw_context'\n          # ./spec/spec_helper.rb:400:in `block (2 levels) in \u003ctop (required)\u003e'\n          # ./spec/spec_helper.rb:240:in `block (2 levels) in \u003ctop (required)\u003e'\n          # ./spec/support/system_exit_detected.rb:7:in `block (2 levels) in \u003cmain\u003e'\n          # ./spec/support/flaky_tests.rb:27:in `block (2 levels) in \u003cmain\u003e'\n          # ./spec/support/database/prevent_cross_joins.rb:106:in `block (3 levels) in \u003cmain\u003e'\n          # ./spec/support/database/prevent_cross_joins.rb:60:in `with_cross_joins_prevented'\n          # ./spec/support/database/prevent_cross_joins.rb:106:in `block (2 levels) in \u003cmain\u003e'\n          # ------------------\n          # --- Caused by: ---\n          # Capybara::ElementNotFound:\n          #   Unable to find css \".tooltip\"\n          #   ./spec/support/capybara_slow_finder.rb:18:in `synchronize'\n     1.2) Failure/Error: raise JSConsoleError, message\n```\n\nCapybara screenshot shows:\n\n![image](/uploads/999eb35709d2c36d475a5a85ee6b1952/image.png)\n\nIs there supposed to be no data here?\n\n/cc: @pshutsin","state":"closed","created_at":"2022-10-31T22:11:22.462Z","updated_at":"2022-12-22T14:36:45.029Z","closed_at":"2022-12-22T14:36:44.994Z","closed_by":{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"},"labels":["Category:Product Analytics","Category:Value Stream Management","devops::plan","flaky-test::unreliable dom selector","group::optimize","maintenance::pipelines","section::dev","type::maintenance"],"milestone":{"id":2745648,"iid":83,"group_id":9970,"title":"15.8","description":"","state":"active","created_at":"2022-08-22T16:57:34.875Z","updated_at":"2022-08-22T16:57:34.875Z","due_date":"2023-01-17","start_date":"2022-12-18","expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/83"},"assignees":[{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"}],"author":{"id":64248,"username":"stanhu","name":"Stan Hu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/64248/stanhu.jpg","web_url":"https://gitlab.com/stanhu"},"type":"ISSUE","assignee":{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/380884","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/380884","notes":"https://gitlab.com/api/v4/projects/278964/issues/380884/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/380884/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#380884","relative":"#380884","full":"gitlab-org/gitlab#380884"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":117880337,"iid":379740,"project_id":278964,"title":"Consider lowering the cadence of the registry cleanup job","description":"## :fire: Problem\n\nPackage file destructions is done by two steps:\n1. Marking the package file as `pending_destruction`.\n1. Actually, destroy the package file.\n\n(2.) is handled by a background job that is a limited capacity one: it will detect package files marked as `pending_destruction` and destroy the first one. Then, it will re-enqueue itself.\n\nIn other words, the background job doing (2.) is looping until the _backlog_ of package files marked as `pending_destruction` is processed.\n\nThat's great but how do we kickstart the loop? Well, we do have a cron job that regularly check if the background job loop for (2.) need to be started.\n\nThe current cadence is super large: `12.hours`. This means that we can have up to `12.hours` between step (1.) and (2.).\n\nGiven the [monitoring](https://log.gprd.gitlab.net/goto/4098e2d0-593a-11ed-8d37-e9a2f393ea2a) on the cron job (we have a max p95 duration from the last 7 days of `4.5seconds`), I think we can safely reduce that cadence to something shorter.\n\n## :fire_engine: Solution\n\nUpdate the cron job for package registry cleanup schedule to run each `1.hour`.\n\n## :crystal_ball: Side effects\n\nThe less time we have between (1.) and (2.), the less chances we have to hit situations like https://gitlab.com/gitlab-org/gitlab/-/issues/370834+.","state":"closed","created_at":"2022-10-31T16:39:32.702Z","updated_at":"2022-11-03T08:54:00.546Z","closed_at":"2022-11-03T08:54:00.513Z","closed_by":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"labels":["Background Processing","Category:Package Registry","SUS::Impacting","automation:ux-missing-labels","backend","devops::package","group::package registry","maintenance::usability","package:active","section::ops","type::maintenance","workflow::production"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"}],"author":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"type":"ISSUE","assignee":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/379740","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/379740","notes":"https://gitlab.com/api/v4/projects/278964/issues/379740/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/379740/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#379740","relative":"#379740","full":"gitlab-org/gitlab#379740"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":117878806,"iid":379729,"project_id":278964,"title":"Audit faraday_middleware-aws-sigv4 Ruby 3 compatibility","description":"We use this gem for supporting AWS OpenSearch service, https://github.com/winebarrel/faraday_middleware-aws-sigv4. We need to verify it's Ruby 3 compatibility.\n\nUsing the following snippet to test compatibility: (copied from https://gitlab.com/terrichu/snippets/-/snippets/2462570)\n\n\n\u003cdetails\u003e\u003csummary\u003eClick to expand\u003c/summary\u003e\n\n```ruby\n        index_name = 'gitlab-development-issues'\n        helper = Gitlab::Elastic::Helper.default\n\n        puts '===== Checking client connectivity ====='\n        puts helper.client.info\n\n        puts '===== Checking gitlab:elastic:index ====='\n        Rake::Task[\"gitlab:elastic:index\"].invoke\n\n        puts '===== Checking index_exists? ====='\n        helper.index_exists?(index_name: index_name)\n\n        puts '===== Checking alias_exists? ====='\n        helper.alias_exists?(name: index_name)\n\n        puts '===== Checking get_alias_info ====='\n        helper.get_alias_info(index_name)\n\n        puts '===== Checking pending_migrations? ====='\n        ::Elastic::DataMigrationService.pending_migrations?\n\n        puts '===== Checking refresh_index ====='\n        helper.refresh_index(index_name: index_name)\n\n        puts '===== Checking index_size ====='\n        helper.index_size(index_name: index_name)\n\n        puts '===== Checking documents_count ====='\n        helper.documents_count(index_name: index_name)\n\n        puts '===== Checking cluster_free_size_bytes ====='\n        helper.cluster_free_size_bytes\n\n        puts '===== Checking get_settings ====='\n        helper.get_settings(index_name: index_name)\n\n        puts '===== Checking get_mapping ====='\n        helper.get_mapping(index_name: index_name)\n\n\n        # add a new index so we do not impact existing gitlab indexes, name must begin with gitlab*\n        temp_index_alias = 'gitlab-test-index'\n\n        # clean up any existing indexes from failed tests\n        alias_exists = helper.alias_exists?(name: temp_index_alias)\n        old_index_name = helper.target_index_name(target: temp_index_alias)\n        helper.client.indices.delete(index: old_index_name) if alias_exists\n\n        temp_index_name = helper.index_name_with_timestamp(temp_index_alias)\n        helper.create_index(\n          index_name: temp_index_name,\n          alias_name: temp_index_alias,\n          with_alias: true,\n          settings: {},\n          mappings: {}\n        )\n\n        puts '===== Checking update_settings ====='\n        helper.update_settings(index_name: temp_index_name, settings: { refresh_interval: 0 })\n\n        puts '===== Checking update_mapping ====='\n        helper.update_mapping(index_name: temp_index_name, mappings: { properties: { test_data: { type: 'text' } } })\n\n        # remove added index\n        helper.client.indices.delete(index: temp_index_name)\n\n        puts '===== Checking index curation ====='\n        Gitlab::Search::IndexCurator.curate(\n          index_pattern: index_name,\n          min_docs_before_rollover: 1,\n          max_docs_denominator: 1\n        )\n\n        # you may want to run this separately\n        puts '===== Checking gitlab:elastic:reindex_cluster ====='\n        Rake::Task[\"gitlab:elastic:reindex_cluster\"].invoke\n\n        puts \"Done!\"\n```\n\n\u003c/details\u003e","state":"closed","created_at":"2022-10-31T16:05:45.608Z","updated_at":"2023-01-13T19:27:52.490Z","closed_at":"2023-01-10T13:42:43.420Z","closed_by":{"id":5708766,"username":"terrichu","name":"Terri Chu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5708766/avatar.png","web_url":"https://gitlab.com/terrichu"},"labels":["Category:Global Search","Next::1-3 releases","devops::data_stores","group::global search","section::enablement","type::maintenance","workflow::verification"],"milestone":{"id":2745648,"iid":83,"group_id":9970,"title":"15.8","description":"","state":"active","created_at":"2022-08-22T16:57:34.875Z","updated_at":"2022-08-22T16:57:34.875Z","due_date":"2023-01-17","start_date":"2022-12-18","expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/83"},"assignees":[{"id":5708766,"username":"terrichu","name":"Terri Chu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5708766/avatar.png","web_url":"https://gitlab.com/terrichu"}],"author":{"id":4888751,"username":"changzhengliu","name":"Changzheng Liu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4888751/avatar.png","web_url":"https://gitlab.com/changzhengliu"},"type":"ISSUE","assignee":{"id":5708766,"username":"terrichu","name":"Terri Chu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5708766/avatar.png","web_url":"https://gitlab.com/terrichu"},"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/379729","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/379729","notes":"https://gitlab.com/api/v4/projects/278964/issues/379729/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/379729/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#379729","relative":"#379729","full":"gitlab-org/gitlab#379729"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":9522,"epic":{"id":685402,"iid":9522,"title":"Identifying Ruby 3 adoption blockers","url":"/groups/gitlab-org/-/epics/9522","group_id":9970,"human_readable_end_date":"Jan 31, 2023","human_readable_timestamp":"\u003cstrong\u003e16\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":117870426,"iid":379715,"project_id":278964,"title":"Remove google code as an import source.","description":"Support for google code import was [removed a couple of years ago](https://gitlab.com/gitlab-org/gitlab/-/issues/219049) but it wasn't removed as an import source from the `Gitlab::ImportSources` module.\n\nWe need to remove this so that it no longer appears as an import source in the Admin \u003e Seetings \u003e General \u003e Visibility and access controls \u003e Import sources list.\n\n\u003cimg src=\"/uploads/ae884786796e630095e824cc46f08133/Screenshot_2022-10-31_at_15.15.09.png\" width=\"400\"/\u003e\n\nWe'll also need to remove reference to it in `lib/api/settings.rb` and `spec/lib/gitlab/import_sources_spec.rb`","state":"closed","created_at":"2022-10-31T15:04:51.447Z","updated_at":"2022-12-16T09:23:32.029Z","closed_at":"2022-12-16T09:23:32.003Z","closed_by":{"id":11342168,"username":"carlad-gl","name":"Carla Drago","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11342168/avatar.png","web_url":"https://gitlab.com/carlad-gl"},"labels":["Category:Importers","backend","devops::manage","group::import","milestone::p2","quad-planning::complete-no-action","section::dev","type::maintenance"],"milestone":{"id":2745648,"iid":83,"group_id":9970,"title":"15.8","description":"","state":"active","created_at":"2022-08-22T16:57:34.875Z","updated_at":"2022-08-22T16:57:34.875Z","due_date":"2023-01-17","start_date":"2022-12-18","expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/83"},"assignees":[],"author":{"id":11342168,"username":"carlad-gl","name":"Carla Drago","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11342168/avatar.png","web_url":"https://gitlab.com/carlad-gl"},"type":"ISSUE","assignee":null,"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/379715","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/379715","notes":"https://gitlab.com/api/v4/projects/278964/issues/379715/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/379715/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#379715","relative":"#379715","full":"gitlab-org/gitlab#379715"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":117852636,"iid":379675,"project_id":278964,"title":"Log Jira connect request schema if invalid request error","description":"In https://gitlab.com/gitlab-org/gitlab/-/issues/352411 we try to reduce the number of errors when sending data to Jira via the GitLab for Jira app.\n\nOne error we often see is \"invalid request\" but we can't tell why the request was invalid because requests are not logged. To learn more about the error, we can introduce logging of the request body.\n\nIn order not to log sensitive information, we can start by logging only the JSON schema and not the values.","state":"closed","created_at":"2022-10-31T10:32:44.143Z","updated_at":"2023-01-11T08:27:29.107Z","closed_at":"2022-12-01T08:18:37.044Z","closed_by":{"id":11722161,"username":"bmarjanovic","name":"Bojan Marjanovic","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11722161/avatar.png","web_url":"https://gitlab.com/bmarjanovic"},"labels":["Category:Integrations","Deliverable","Integration::Jira","Jira::ConnectApp","[deprecated] Accepting merge requests","backend","customer","devops::manage","group::integrations","section::dev","severity::4","type::bug","workflow::production"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":11722161,"username":"bmarjanovic","name":"Bojan Marjanovic","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11722161/avatar.png","web_url":"https://gitlab.com/bmarjanovic"}],"author":{"id":16943,"username":"Andysoiron","name":"Andy Soiron","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/16943/avatar.png","web_url":"https://gitlab.com/Andysoiron"},"type":"ISSUE","assignee":{"id":11722161,"username":"bmarjanovic","name":"Bojan Marjanovic","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11722161/avatar.png","web_url":"https://gitlab.com/bmarjanovic"},"user_notes_count":13,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/379675","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/379675","notes":"https://gitlab.com/api/v4/projects/278964/issues/379675/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/379675/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#379675","relative":"#379675","full":"gitlab-org/gitlab#379675"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":1522,"epic":{"id":8628,"iid":1522,"title":"Jira Integration","url":"/groups/gitlab-org/-/epics/1522","group_id":9970},"iteration":null,"health_status":null},{"id":117845516,"iid":379671,"project_id":278964,"title":"Document SSH signing with 1Password","description":"An integration with 1Password has been developed and the request is to add documentation added to the GitLab developer guide.\n\n\u003e The main ask from Engineering here is that you consider mentioning this approach to SSH in your docs for [commit signing](https://docs.gitlab.com/ee/user/project/repository/gpg_signed_commits/) and even [SSH in general. ](https://docs.gitlab.com/ee/user/ssh.html). If you'd like any screenshots or anything, let me know.\n\nPlease see [this thread](https://gitlab.com/gitlab-com/alliances/alliances/-/issues/353#note_1151695122) for more context.\n\nPending approval from @mlebeau","state":"closed","created_at":"2022-10-31T09:17:10.840Z","updated_at":"2022-11-14T08:53:11.642Z","closed_at":"2022-11-14T08:53:11.591Z","closed_by":{"id":4391348,"username":"sean_carroll","name":"Sean Carroll","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4391348/avatar.png","web_url":"https://gitlab.com/sean_carroll"},"labels":["Technical Writing","[deprecated] Accepting merge requests","backend","devops::create","documentation","feature::enhancement","group::source code","section::dev","type::feature"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[],"author":{"id":4391348,"username":"sean_carroll","name":"Sean Carroll","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4391348/avatar.png","web_url":"https://gitlab.com/sean_carroll"},"type":"ISSUE","assignee":null,"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/379671","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/379671","notes":"https://gitlab.com/api/v4/projects/278964/issues/379671/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/379671/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#379671","relative":"#379671","full":"gitlab-org/gitlab#379671"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":117843855,"iid":379669,"project_id":278964,"title":"Retrieve project dashboards via GraphQL","description":"## Overview\n\nWhen a project has defined a set of dashboards, it should be possible to use an API to list all of the dashboards and their contents via GraphQL\n\n## Proposal\n\n* Add a new GraphQL capabilities for dashboards.\n* It should return metadata about all project's dashboards processed from their YAML definitions.\n* It should be available to project developers and above.\n\n## Open questions\n\n* ~~Should we use GraphQL instead of REST?~~ Yes.\n* ~~Who should have access to this API? If a project is public, do we want dashboards to be also public? (I'm guessing not?)~~ Developers or higher.","state":"closed","created_at":"2022-10-31T09:07:51.371Z","updated_at":"2022-12-15T14:18:41.875Z","closed_at":"2022-11-22T14:26:22.610Z","closed_by":{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"},"labels":["Category:Product Analytics","backend","devops::analytics","feature::addition","group::product analytics","missed:15.6","section::analytics","spike","type::feature","workflow::verification"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"}],"author":{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"},"type":"ISSUE","assignee":{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"},"user_notes_count":17,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/379669","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/379669","notes":"https://gitlab.com/api/v4/projects/278964/issues/379669/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/379669/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#379669","relative":"#379669","full":"gitlab-org/gitlab#379669"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8574,"epic":{"id":582847,"iid":8574,"title":"Schema-driven customizable dashboards for Product Analytics","url":"/groups/gitlab-org/-/epics/8574","group_id":9970,"human_readable_end_date":"Dec 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":117827548,"iid":379649,"project_id":278964,"title":"undefined method `group_sso?' for #DeployToken","description":"See https://sentry.gitlab.net/gitlab/staginggitlabcom/issues/4018669\n\n```\nNoMethodError: undefined method `group_sso?' for #\u003cDeployToken:0x00007f574ae72c20\u003e\nDid you mean?  groups\n  from activemodel (6.1.6.1) lib/active_model/attribute_methods.rb:469:in `method_missing'\n  from ee/lib/gitlab/auth/group_saml/sso_enforcer.rb:51:in `saml_enforced?'\n  from ee/lib/gitlab/auth/group_saml/sso_enforcer.rb:29:in `access_restricted?'\n  from ee/lib/gitlab/auth/group_saml/sso_enforcer.rb:41:in `group_access_restricted?'\n  from ee/app/policies/ee/group_policy.rb:540:in `sso_enforcement_prevents_access?'\n  from ee/app/policies/ee/group_policy.rb:88:in `block (2 levels) in \u003cmodule:GroupPolicy\u003e'\n  from declarative_policy (1.1.0) lib/declarative_policy/condition.rb:22:in `instance_eval'\n  from declarative_policy (1.1.0) lib/declarative_policy/condition.rb:22:in `compute'\n  from declarative_policy (1.1.0) lib/declarative_policy/condition.rb:45:in `block in pass?'\n  from declarative_policy (1.1.0) lib/declarative_policy/base.rb:332:in `cache'\n  from declarative_policy (1.1.0) lib/declarative_policy/condition.rb:45:in `pass?'\n  from declarative_policy (1.1.0) lib/declarative_policy/rule.rb:81:in `pass?'\n  from declarative_policy (1.1.0) lib/declarative_policy/step.rb:82:in `pass?'\n  from declarative_policy (1.1.0) lib/declarative_policy/runner.rb:132:in `block (2 levels) in run'\n  from declarative_policy (1.1.0) lib/declarative_policy/runner.rb:201:in `block in steps_by_score'\n  from declarative_policy (1.1.0) lib/declarative_policy/runner.rb:181:in `loop'\n  from declarative_policy (1.1.0) lib/declarative_policy/runner.rb:181:in `steps_by_score'\n  from declarative_policy (1.1.0) lib/declarative_policy/runner.rb:115:in `block in run'\n  from declarative_policy (1.1.0) lib/declarative_policy/runner.rb:101:in `with_state'\n  from declarative_policy (1.1.0) lib/declarative_policy/runner.rb:114:in `run'\n  from declarative_policy (1.1.0) lib/declarative_policy/runner.rb:81:in `pass?'\n  from declarative_policy (1.1.0) lib/declarative_policy/base.rb:258:in `block in allowed?'\n  from declarative_policy (1.1.0) lib/declarative_policy/base.rb:258:in `all?'\n  from declarative_policy (1.1.0) lib/declarative_policy/base.rb:258:in `allowed?'\n  from app/models/ability.rb:86:in `allowed?'\n  from lib/api/helpers.rb:376:in `can?'\n  from lib/api/helpers/packages/basic_auth_helpers.rb:47:in `block in find_authorized_group!'\n  from lib/gitlab/utils/strong_memoize.rb:44:in `strong_memoize'\n  from lib/api/helpers/packages/basic_auth_helpers.rb:44:in `find_authorized_group!'\n  from lib/api/nuget_group_packages.rb:35:in `project_or_group'\n  from lib/api/concerns/packages/nuget_endpoints.rb:60:in `block (2 levels) in \u003cmodule:NugetEndpoints\u003e'\n  from grape (1.5.2) lib/grape/endpoint.rb:59:in `call'\n  from grape (1.5.2) lib/grape/endpoint.rb:59:in `block (2 levels) in generate_api_method'\n  from activesupport (6.1.6.1) lib/active_support/notifications.rb:205:in `instrument'\n  from grape (1.5.2) lib/grape/endpoint.rb:58:in `block in generate_api_method'\n  from grape (1.5.2) lib/grape/endpoint.rb:341:in `execute'\n  from grape (1.5.2) lib/grape/endpoint.rb:267:in `block in run'\n  from activesupport (6.1.6.1) lib/active_support/notifications.rb:205:in `instrument'\n  from grape (1.5.2) lib/grape/endpoint.rb:247:in `run'\n  from grape (1.5.2) lib/grape/endpoint.rb:322:in `block in build_stack'\n  from grape (1.5.2) lib/grape/middleware/base.rb:36:in `call!'\n  from grape (1.5.2) lib/grape/middleware/base.rb:29:in `call'\n  from grape (1.5.2) lib/grape/middleware/base.rb:36:in `call!'\n  from grape (1.5.2) lib/grape/middleware/base.rb:29:in `call'\n  from ee/lib/gitlab/middleware/ip_restrictor.rb:14:in `block in call'\n  from ee/lib/gitlab/ip_address_state.rb:10:in `with'\n  from ee/lib/gitlab/middleware/ip_restrictor.rb:13:in `call'\n  from grape (1.5.2) lib/grape/middleware/base.rb:36:in `call!'\n  from grape (1.5.2) lib/grape/middleware/base.rb:29:in `call'\n  from lib/api/api_guard.rb:215:in `call'\n  from grape (1.5.2) lib/grape/middleware/base.rb:36:in `call!'\n  from grape (1.5.2) lib/grape/middleware/base.rb:29:in `call'\n  from rack-oauth2 (1.21.3) lib/rack/oauth2/server/resource.rb:20:in `_call'\n  from rack-oauth2 (1.21.3) lib/rack/oauth2/server/resource/bearer.rb:8:in `_call'\n  from rack-oauth2 (1.21.3) lib/rack/oauth2/server/abstract/handler.rb:17:in `call'\n  from grape (1.5.2) lib/grape/middleware/error.rb:39:in `block in call!'\n  from grape (1.5.2) lib/grape/middleware/error.rb:38:in `catch'\n  from grape (1.5.2) lib/grape/middleware/error.rb:38:in `call!'\n  from grape (1.5.2) lib/grape/middleware/base.rb:29:in `call'\n  from grape_logging (1.8.4) lib/grape_logging/middleware/request_logger.rb:60:in `block in call!'\n  from grape_logging (1.8.4) lib/grape_logging/middleware/request_logger.rb:58:in `catch'\n  from grape_logging (1.8.4) lib/grape_logging/middleware/request_logger.rb:58:in `call!'\n  from grape (1.5.2) lib/grape/middleware/base.rb:29:in `call'\n  from rack (2.2.4) lib/rack/head.rb:12:in `call'\n  from grape (1.5.2) lib/grape/endpoint.rb:231:in `call!'\n  from grape (1.5.2) lib/grape/endpoint.rb:225:in `call'\n  from grape (1.5.2) lib/grape/router/route.rb:58:in `exec'\n  from grape (1.5.2) lib/grape/router.rb:116:in `process_route'\n  from grape (1.5.2) lib/grape/router.rb:72:in `block in identity'\n  from grape (1.5.2) lib/grape/router.rb:91:in `transaction'\n  from grape (1.5.2) lib/grape/router.rb:70:in `identity'\n  from grape (1.5.2) lib/grape/router.rb:55:in `block in call'\n  from grape (1.5.2) lib/grape/router.rb:132:in `with_optimization'\n  from grape (1.5.2) lib/grape/router.rb:54:in `call'\n  from grape (1.5.2) lib/grape/api/instance.rb:167:in `call'\n  from grape (1.5.2) lib/grape/api/instance.rb:71:in `call!'\n  from grape (1.5.2) lib/grape/api/instance.rb:66:in `call'\n  from actionpack (6.1.6.1) lib/action_dispatch/routing/mapper.rb:20:in `block in \u003cclass:Constraints\u003e'\n  from actionpack (6.1.6.1) lib/action_dispatch/routing/mapper.rb:49:in `serve'\n  from actionpack (6.1.6.1) lib/action_dispatch/journey/router.rb:50:in `block in serve'\n  from actionpack (6.1.6.1) lib/action_dispatch/journey/router.rb:32:in `each'\n  from actionpack (6.1.6.1) lib/action_dispatch/journey/router.rb:32:in `serve'\n  from actionpack (6.1.6.1) lib/action_dispatch/routing/route_set.rb:842:in `call'\n  from gitlab-experiment (0.7.1) lib/gitlab/experiment/middleware.rb:19:in `call'\n  from omniauth (2.1.0) lib/omniauth/strategy.rb:202:in `call!'\n  from omniauth (2.1.0) lib/omniauth/strategy.rb:169:in `call'\n  from omniauth (2.1.0) lib/omniauth/strategy.rb:470:in `call_app!'\n  from ee/lib/omni_auth/strategies/group_saml.rb:41:in `other_phase'\n  from omniauth (2.1.0) lib/omniauth/strategy.rb:195:in `call!'\n  from omniauth (2.1.0) lib/omniauth/strategy.rb:169:in `call'\n  from omniauth (2.1.0) lib/omniauth/strategy.rb:202:in `call!'\n  from omniauth (2.1.0) lib/omniauth/strategy.rb:169:in `call'\n  from omniauth (2.1.0) lib/omniauth/strategy.rb:202:in `call!'\n  from omniauth (2.1.0) lib/omniauth/strategy.rb:169:in `call'\n  from omniauth (2.1.0) lib/omniauth/strategy.rb:202:in `call!'\n  from omniauth (2.1.0) lib/omniauth/strategy.rb:169:in `call'\n  from omniauth (2.1.0) lib/omniauth/strategy.rb:202:in `call!'\n  from omniauth (2.1.0) lib/omniauth/strategy.rb:169:in `call'\n  from flipper (0.25.0) lib/flipper/middleware/memoizer.rb:72:in `memoized_call'\n  from flipper (0.25.0) lib/flipper/middleware/memoizer.rb:37:in `call'\n  from lib/gitlab/metrics/elasticsearch_rack_middleware.rb:16:in `call'\n  from lib/gitlab/middleware/memory_report.rb:13:in `call'\n  from lib/gitlab/middleware/speedscope.rb:13:in `call'\n  from lib/gitlab/database/load_balancing/rack_middleware.rb:23:in `call'\n  from lib/gitlab/middleware/rails_queue_duration.rb:33:in `call'\n  from lib/gitlab/metrics/rack_middleware.rb:16:in `block in call'\n  from lib/gitlab/metrics/web_transaction.rb:46:in `run'\n  from lib/gitlab/metrics/rack_middleware.rb:16:in `call'\n  from lib/gitlab/jira/middleware.rb:19:in `call'\n  from lib/gitlab/middleware/go.rb:20:in `call'\n  from lib/gitlab/etag_caching/middleware.rb:21:in `call'\n  from lib/gitlab/middleware/query_analyzer.rb:11:in `block in call'\n  from lib/gitlab/database/query_analyzer.rb:37:in `within'\n  from lib/gitlab/middleware/query_analyzer.rb:11:in `call'\n  from batch-loader (2.0.1) lib/batch_loader/middleware.rb:11:in `call'\n  from rack-attack (6.6.1) lib/rack/attack.rb:103:in `call'\n  from apollo_upload_server (2.1.0) lib/apollo_upload_server/middleware.rb:19:in `call'\n  from lib/gitlab/middleware/multipart.rb:173:in `call'\n  from rack-attack (6.6.1) lib/rack/attack.rb:110:in `call'\n  from warden (1.2.9) lib/warden/manager.rb:36:in `block in call'\n  from warden (1.2.9) lib/warden/manager.rb:34:in `catch'\n  from warden (1.2.9) lib/warden/manager.rb:34:in `call'\n  from rack-cors (1.1.1) lib/rack/cors.rb:100:in `call'\n  from rack (2.2.4) lib/rack/tempfile_reaper.rb:15:in `call'\n  from rack (2.2.4) lib/rack/etag.rb:27:in `call'\n  from rack (2.2.4) lib/rack/conditional_get.rb:27:in `call'\n  from rack (2.2.4) lib/rack/head.rb:12:in `call'\n  from actionpack (6.1.6.1) lib/action_dispatch/http/permissions_policy.rb:22:in `call'\n  from actionpack (6.1.6.1) lib/action_dispatch/http/content_security_policy.rb:19:in `call'\n  from lib/gitlab/middleware/read_only/controller.rb:50:in `call'\n  from lib/gitlab/middleware/read_only.rb:18:in `call'\n  from rack (2.2.4) lib/rack/session/abstract/id.rb:266:in `context'\n  from rack (2.2.4) lib/rack/session/abstract/id.rb:260:in `call'\n  from actionpack (6.1.6.1) lib/action_dispatch/middleware/cookies.rb:689:in `call'\n  from lib/gitlab/middleware/same_site_cookies.rb:27:in `call'\n  from actionpack (6.1.6.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'\n  from activesupport (6.1.6.1) lib/active_support/callbacks.rb:98:in `run_callbacks'\n  from actionpack (6.1.6.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'\n  from lib/gitlab/middleware/handle_malformed_strings.rb:21:in `call'\n  from actionpack (6.1.6.1) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'\n  from sentry-rails (5.1.1) lib/sentry/rails/rescued_exception_interceptor.rb:12:in `call'\n  from actionpack (6.1.6.1) lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'\n  from sentry-ruby-core (5.1.1) lib/sentry/rack/capture_exceptions.rb:25:in `block in call'\n  from sentry-ruby-core (5.1.1) lib/sentry/hub.rb:58:in `with_scope'\n  from sentry-ruby-core (5.1.1) lib/sentry-ruby.rb:310:in `with_scope'\n  from sentry-ruby-core (5.1.1) lib/sentry/rack/capture_exceptions.rb:16:in `call'\n  from actionpack (6.1.6.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'\n  from lib/gitlab/middleware/basic_health_check.rb:25:in `call'\n  from lograge (0.11.2) lib/lograge/rails_ext/rack/logger.rb:15:in `call_app'\n  from railties (6.1.6.1) lib/rails/rack/logger.rb:26:in `block in call'\n  from activesupport (6.1.6.1) lib/active_support/tagged_logging.rb:99:in `block in tagged'\n  from activesupport (6.1.6.1) lib/active_support/tagged_logging.rb:37:in `tagged'\n  from activesupport (6.1.6.1) lib/active_support/tagged_logging.rb:99:in `tagged'\n  from railties (6.1.6.1) lib/rails/rack/logger.rb:26:in `call'\n  from actionpack (6.1.6.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'\n  from lib/gitlab/middleware/handle_ip_spoof_attack_error.rb:25:in `call'\n  from lib/gitlab/middleware/request_context.rb:21:in `call'\n  from lib/gitlab/middleware/webhook_recursion_detection.rb:15:in `call'\n  from request_store (1.5.1) lib/request_store/middleware.rb:19:in `call'\n  from rack (2.2.4) lib/rack/method_override.rb:24:in `call'\n  from rack (2.2.4) lib/rack/runtime.rb:22:in `call'\n  from rack-timeout (0.6.3) lib/rack/timeout/core.rb:148:in `block in call'\n  from rack-timeout (0.6.3) lib/rack/timeout/support/timeout.rb:19:in `timeout'\n  from rack-timeout (0.6.3) lib/rack/timeout/core.rb:147:in `call'\n  from config/initializers/fix_local_cache_middleware.rb:11:in `call'\n  from lib/gitlab/middleware/compressed_json.rb:26:in `call'\n  from actionpack (6.1.6.1) lib/action_dispatch/middleware/executor.rb:14:in `call'\n  from lib/gitlab/middleware/rack_multipart_tempfile_factory.rb:19:in `call'\n  from rack (2.2.4) lib/rack/sendfile.rb:110:in `call'\n  from lib/gitlab/middleware/sidekiq_web_static.rb:20:in `call'\n  from actionpack (6.1.6.1) lib/action_dispatch/middleware/host_authorization.rb:142:in `call'\n  from lib/gitlab/metrics/requests_rack_middleware.rb:77:in `call'\n  from gitlab-labkit (0.27.0) lib/labkit/middleware/rack.rb:19:in `block in call'\n  from gitlab-labkit (0.27.0) lib/labkit/context.rb:36:in `with_context'\n  from gitlab-labkit (0.27.0) lib/labkit/middleware/rack.rb:18:in `call'\n  from actionpack (6.1.6.1) lib/action_dispatch/middleware/request_id.rb:26:in `call'\n  from sentry-raven (3.1.2) lib/raven/integrations/rack.rb:51:in `call'\n  from railties (6.1.6.1) lib/rails/engine.rb:539:in `call'\n  from railties (6.1.6.1) lib/rails/railtie.rb:207:in `public_send'\n  from railties (6.1.6.1) lib/rails/railtie.rb:207:in `method_missing'\n  from lib/gitlab/middleware/release_env.rb:13:in `call'\n  from rack (2.2.4) lib/rack/urlmap.rb:74:in `block in call'\n  from rack (2.2.4) lib/rack/urlmap.rb:58:in `each'\n  from rack (2.2.4) lib/rack/urlmap.rb:58:in `call'\n  from puma (5.6.5) lib/puma/configuration.rb:252:in `call'\n  from puma (5.6.5) lib/puma/request.rb:77:in `block in handle_request'\n  from puma (5.6.5) lib/puma/thread_pool.rb:340:in `with_force_shutdown'\n  from puma (5.6.5) lib/puma/request.rb:76:in `handle_request'\n  from puma (5.6.5) lib/puma/server.rb:443:in `process_client'\n  from puma (5.6.5) lib/puma/thread_pool.rb:147:in `block in spawn_thread'\n```\n\n/cc @dblessing Seems to be related to `:transparent_sso_enforcement`.\n\n/cc @10io","state":"closed","created_at":"2022-10-31T04:17:44.877Z","updated_at":"2022-11-13T14:03:44.205Z","closed_at":"2022-11-09T17:09:03.023Z","closed_by":{"id":13356,"username":"dblessing","name":"Drew Blessing","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b5bf44866b4eeafa2d8114bfe15da02f?s=80\u0026d=identicon","web_url":"https://gitlab.com/dblessing"},"labels":["bug::functional","devops::manage","found:staging.gitlab.com","group::authentication and authorization","section::dev","type::bug","workflow::verification"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":13356,"username":"dblessing","name":"Drew Blessing","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b5bf44866b4eeafa2d8114bfe15da02f?s=80\u0026d=identicon","web_url":"https://gitlab.com/dblessing"}],"author":{"id":2535118,"username":"tkuah","name":"Thong Kuah","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f7b51bdd49a4914d29504d7ff4c3f7b9?s=80\u0026d=identicon","web_url":"https://gitlab.com/tkuah"},"type":"ISSUE","assignee":{"id":13356,"username":"dblessing","name":"Drew Blessing","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b5bf44866b4eeafa2d8114bfe15da02f?s=80\u0026d=identicon","web_url":"https://gitlab.com/dblessing"},"user_notes_count":15,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/379649","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/379649","notes":"https://gitlab.com/api/v4/projects/278964/issues/379649/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/379649/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#379649","relative":"#379649","full":"gitlab-org/gitlab#379649"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":117813613,"iid":379476,"project_id":278964,"title":"DORA Features by  tier mapping","description":"### Problem to solve\n\n~\"Category:DORA Metrics\"  features are spread across groups and projects with a range of tiers and buyer persona.\n\n### Proposal \n\nTest and validate the DORA features by tier mapping for DORA:\n\n| Feature | Level | Tier| Docs Up-to-date?|\n| ------  | ------ | ------ | ------ |\n| [VSA Overview](https://docs.gitlab.com/ee/user/group/value_stream_analytics/) | Groups | [see this comment](https://gitlab.com/gitlab-org/gitlab/-/issues/379476#note_1188253628) |  |\n| [VSA Overview](https://docs.gitlab.com/ee/user/analytics/value_stream_analytics.html) | Projects | [see this comment](https://gitlab.com/gitlab-org/gitlab/-/issues/379476#note_1188253628)  |  |\n| [CI/CD Reports](https://docs.gitlab.com/ee/user/analytics/ci_cd_analytics.html) | Groups | Ultimate | :white_check_mark:  |\n| [CI/CD Reports ](https://docs.gitlab.com/ee/user/analytics/ci_cd_analytics.html)| Projects | Ultimate | :white_check_mark:  |\n| [Insights](https://docs.gitlab.com/ee/user/group/insights/) | Groups | Ultimate | :white_check_mark:  |\n| [Insights](https://docs.gitlab.com/ee/user/project/insights/) | Projects | Ultimate | :white_check_mark:  |\n| [REST](https://docs.gitlab.com/ee/api/dora/metrics.html) | Groups | Ultimate | :white_check_mark:  |\n| [REST](https://docs.gitlab.com/ee/api/dora/metrics.html) | Projects | Ultimate | :white_check_mark:  |\n| [Graphql](https://docs.gitlab.com/ee/api/graphql/reference/index.html#dora) | Groups | Ultimate | [see this comment](https://gitlab.com/gitlab-org/gitlab/-/issues/379476#note_1188253628)  |\n| [Graphql](https://docs.gitlab.com/ee/api/graphql/reference/index.html#dora) | Projects | Ultimate | [see this comment](https://gitlab.com/gitlab-org/gitlab/-/issues/379476#note_1188253628)  |","state":"closed","created_at":"2022-10-30T16:11:57.080Z","updated_at":"2023-01-12T18:13:42.244Z","closed_at":"2022-11-28T16:14:08.958Z","closed_by":{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"},"labels":["Category:DORA Metrics","Category:DevOps Reports","[deprecated] Accepting merge requests","backend","devops::plan","estimation::completed","group::optimize","priority::3","section::dev","type::maintenance","workflow::ready for development"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"},{"id":10879254,"username":"hsnir1","name":"Haim Snir","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10879254/avatar.png","web_url":"https://gitlab.com/hsnir1"}],"author":{"id":10879254,"username":"hsnir1","name":"Haim Snir","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10879254/avatar.png","web_url":"https://gitlab.com/hsnir1"},"type":"ISSUE","assignee":{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"},"user_notes_count":12,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/379476","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/379476","notes":"https://gitlab.com/api/v4/projects/278964/issues/379476/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/379476/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#379476","relative":"#379476","full":"gitlab-org/gitlab#379476"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":117896280,"iid":380559,"project_id":278964,"title":"FIPS - Maven Package Repo - 422 Unprocessable Entity Error","description":"## Summary\nWhen pushing a maven package to the repo using `mvn deploy`, a **422 Unprocessable Entity** Error is received and the package is not added to the package registry. \n\nIt appears that the following conditions must be present for the issue to occur:\n1) The GitLab server is running on Kubernetes installed using GitLab Helm Chart\n2) The non-FIPS UBI containers are being used\n3) The Kubernetes nodes for the server cluster are in FIPS mode\n\nThe error did not occur with the Debian k8s containers or omnibus running on a FIPS VM.\n\n## Steps to reproduce\n\nFull details of environment setup and test:\n\u003cdetails\u003e\n\n1. Create an EC2 instance.  AMI: ubuntu-pro-fips-server/images/hvm-ssd/ubuntu-focal-20.04-amd64-pro-fips-server-20220615-7bc828d1-c072-4d33-a989-fbad50380cfb\nami-04ebe04990712e030.  \n- Instance Size: m5.xlarge 4vcpu, 16 Gib Mem Security Group. Open 22, 80, 443, 6443\n\n2. Update and configure EC2 instance\n- `sudo apt update / upgrade`\n- `sudo hostnamectl set-hostname example.domain.com`\n- `sudo reboot now`\n\n3. Set up DNS entries\n- new DNS record (example.domain.com) pointing at ec2 instance\n- set wildcard record (*.example.domain.com) pointing at ec2 instance\n\n4. Install k3s \n- `curl -sfL https://get.k3s.io | INSTALL_K3S_EXEC=\"--disable traefik\" sh -s -`\n- Get kube config and move to the machine where you have kubectl and helm 3 installed\n- Update host names and/or file permissions for kube config as needed.\n\n5. Install GitLab Using Helm Chart - Use UBI8 containers for webservice and workhorse\n- `kubectl create namespace gitlab`\n- `helm repo add gitlab https://charts.gitlab.io/`\n- `helm repo update`\n- `helm upgrade --install gitlab gitlab/gitlab -n gitlab --set certmanager-issuer.email=email@address.com -f values.yaml`\n\n6. Fix Error: The webservice pod will not start - Error from dependencies init container: fe_sendauth: error sending password authentication\n- Get postgres password from secret\n- `kubectl exec -it gitlab-toolbox -n gitlab -- /bin/bash`\n- `psql -d gitlabhq_production -h gitlab-postgresql -u gitlab`\n- `SET password_encryption = 'scram-sha-256';`\n- `ALTER USER \"gitlab\" with password 'DB_PASSWORD_HERE\"`\n\n7. Set up gitlab for test\n- Log in as `root` with default password\n- Create a group\n- Create a project inside the group - blank with README.MD\n- Go to user settings and create a PAT\n\n8. Execute Test\n- Create a test maven package\n- Update pom.xml with test server URL and project ID\n- Update settings.xml with PAT\n- `mvn deploy`\n\n\u003c/details\u003e\n\n## Configuration used\n\n\u003cdetails\u003e\nValues.yaml:\n\n```yaml\nglobal:\n  hosts:\n    domain: example.domain.com\n    externalIP: 1.1.1.1\n    gitlab:\n      name: gitlab.example.domain.com\n    registry:\n      name: registry.example.domain.com\n    minio:\n      name: minio.example.domain.com\n  rails:\n    bootsnap:\n      enabled: false\n  shell:\n    # Configure the clone link in the UI to include the high-numbered NodePort\n    # value from below (`gitlab.gitlab-shell.service.nodePort`)\n    port: 32022\ngitlab:\n  webservice:\n    image:\n      tag: v15.5.1-ubi8\n    minReplicas: 1\n    maxReplicas: 1\n    resources:\n      limits:\n       memory: 2G\n      requests:\n        cpu: 100m\n        memory: 900M\n    workhorse:\n      tag: v15.5.1-ubi8\n      resources:\n        limits:\n          memory: 100M\n        requests:\n          cpu: 10m\n          memory: 10M\n  kas:\n    minReplicas: 1\n    maxReplicas: 1\n  sidekiq:\n    minReplicas: 1\n    maxReplicas: 1\n    resources:\n      limits:\n        memory: 2G\n      requests:\n        cpu: 300m\n        memory: 1G\n  gitlab-shell:\n    minReplicas: 1\n    maxReplicas: 1\n    service:\n      type: NodePort\n      nodePort: 32022\nregistry:\n  hpa:\n    minReplicas: 1\n    maxReplicas: 1\n```\n\u003c/details\u003e\n\n## Current behavior\n```\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  3.205 s\n[INFO] Finished at: 2022-10-29T20:44:19Z\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-deploy-plugin:2.7:deploy (default-deploy) \non project maven-test: Failed to deploy artifacts: \nCould not transfer artifact net.test.testing:maven-test:jar:1.8-20221029.204416-1 \nfrom/to maven-test (https://URL/api/v4/projects/2/packages/maven): transfer failed for \nhttps://URL/api/v4/projects/2/packages/maven/net/testlab/testing/maven-test/1.8-SNAPSHOT/maven-test-1.8-20221029.204416-1.jar, \nstatus: 422 Unprocessable Entity -\u003e [Help 1]\n```\n## Expected behavior\n\nPackage uploaded to maven repo successfully\n\n## Versions\n\n- Chart: gitlab-6.5.1\n- Platform: \n  - Self-hosted: k3s\n- Kubernetes: \n  - Client: 1.25.3\n  - Server: 1.25.3\n- Helm: v3.10.1\n\n## Implementing a fix\n\nSee https://gitlab.com/gitlab-org/gitlab/-/issues/380559#note_1183901982","state":"closed","created_at":"2022-10-29T21:33:07.500Z","updated_at":"2023-01-02T19:25:46.116Z","closed_at":"2022-12-27T06:37:59.473Z","closed_by":{"id":64248,"username":"stanhu","name":"Stan Hu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/64248/stanhu.jpg","web_url":"https://gitlab.com/stanhu"},"labels":["Category:Package Registry","Maven Repository","Package:P2","Stretch","[deprecated] Accepting merge requests","customer","devops::package","group::package registry","section::ops","type::bug","workflow::ready for development"],"milestone":{"id":2745648,"iid":83,"group_id":9970,"title":"15.8","description":"","state":"active","created_at":"2022-08-22T16:57:34.875Z","updated_at":"2022-08-22T16:57:34.875Z","due_date":"2023-01-17","start_date":"2022-12-18","expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/83"},"assignees":[{"id":64248,"username":"stanhu","name":"Stan Hu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/64248/stanhu.jpg","web_url":"https://gitlab.com/stanhu"}],"author":{"id":4267173,"username":"SteveTerhar","name":"Steve Terhar","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cc6e122c4d8b5e94ce5eaab27bc7984f?s=80\u0026d=identicon","web_url":"https://gitlab.com/SteveTerhar"},"type":"ISSUE","assignee":{"id":64248,"username":"stanhu","name":"Stan Hu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/64248/stanhu.jpg","web_url":"https://gitlab.com/stanhu"},"user_notes_count":31,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/380559","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/380559","notes":"https://gitlab.com/api/v4/projects/278964/issues/380559/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/380559/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#380559","relative":"#380559","full":"gitlab-org/gitlab#380559"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":117777790,"iid":379261,"project_id":278964,"title":"Flaky test: spec/features/projects/members/manage_members_spec.rb","description":"Based on the [flaky test report](https://app.periscopedata.com/app/gitlab/888968/EP---Flaky-tests) this test is frequently flaky and skipped, we need to investigate the underlying root cause and make the appropriate fix.\n\n[spec/features/projects/members/manage_members_spec.rb](https://gitlab.com/gitlab-org/gitlab/-/blob/master/spec/features/groups/members/manage_members_spec.rb#L87), which is using the [inviting_members_shared_examples](https://gitlab.com/gitlab-org/gitlab/-/blob/master/spec/support/shared_examples/features/inviting_members_shared_examples.rb#L3)\n\n```ruby\n1st Try error in ./spec/support/shared_examples/features/inviting_members_shared_examples.rb:42:\nUnable to find link \"Invited\"\nTimeout (30s) reached while running a waiting Capybara finder.\nConsider using a non-waiting finder.\n```\n\nRecently failed in job: https://gitlab.com/gitlab-org/gitlab/-/jobs/3212437137#L4343\n\n![Screen_Shot_2022-10-28_at_4.22.32_PM](/uploads/33e94c975fc57bde1074cab208546587/Screen_Shot_2022-10-28_at_4.22.32_PM.png)","state":"closed","created_at":"2022-10-28T23:09:06.897Z","updated_at":"2022-11-30T17:09:35.156Z","closed_at":"2022-11-30T17:09:35.046Z","closed_by":{"id":11697411,"username":"jmontal","name":"Jay Montal","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11697411/avatar.png","web_url":"https://gitlab.com/jmontal"},"labels":["Next Up","devops::growth","group::acquisition","maintenance::pipelines","section::growth","type::maintenance","workflow::verification"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":11697411,"username":"jmontal","name":"Jay Montal","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11697411/avatar.png","web_url":"https://gitlab.com/jmontal"}],"author":{"id":11698387,"username":"jennli","name":"Jennifer Li","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11698387/avatar.png","web_url":"https://gitlab.com/jennli"},"type":"ISSUE","assignee":{"id":11697411,"username":"jmontal","name":"Jay Montal","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11697411/avatar.png","web_url":"https://gitlab.com/jmontal"},"user_notes_count":12,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2022-11-25","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/379261","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/379261","notes":"https://gitlab.com/api/v4/projects/278964/issues/379261/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/379261/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#379261","relative":"#379261","full":"gitlab-org/gitlab#379261"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":117760877,"iid":379225,"project_id":278964,"title":"Add ability to toggle sidebars on new/edit on-demand-scans","description":"Now new/edit `On-Demand Scans form` and `DAST configuration form` has 2 sidebars\n\n`pre_scan_verification_sidebar.vue`\n\n`dast_profiles_sidebar.vue`\n\nUser can open both. So sidebar that was opened later will cover initially opened sidebar.\n\nThis MR should add possibility to toggle sidebars, when one opens, another closes.\n\nThis can be implemented using `$refs.sidebar.closeSidebar()` `$refs.sidebar.openSidebar()`","state":"closed","created_at":"2022-10-28T14:53:31.798Z","updated_at":"2022-11-30T14:08:42.276Z","closed_at":"2022-11-30T14:08:42.242Z","closed_by":{"id":10762712,"username":"arfedoro","name":"Artur Fedorov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10762712/avatar.png","web_url":"https://gitlab.com/arfedoro"},"labels":["Category:DAST","SUS::Impacting","devops::secure","frontend","group::dynamic analysis","maintenance::usability","missed:15.6","on-demand scan","section::sec","severity::4","type::maintenance","workflow::in dev"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":10762712,"username":"arfedoro","name":"Artur Fedorov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10762712/avatar.png","web_url":"https://gitlab.com/arfedoro"}],"author":{"id":10762712,"username":"arfedoro","name":"Artur Fedorov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10762712/avatar.png","web_url":"https://gitlab.com/arfedoro"},"type":"ISSUE","assignee":{"id":10762712,"username":"arfedoro","name":"Artur Fedorov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10762712/avatar.png","web_url":"https://gitlab.com/arfedoro"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/379225","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/379225","notes":"https://gitlab.com/api/v4/projects/278964/issues/379225/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/379225/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#379225","relative":"#379225","full":"gitlab-org/gitlab#379225"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7069,"epic":{"id":380891,"iid":7069,"title":"DAST Pre-scan verification","url":"/groups/gitlab-org/-/epics/7069","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":117760876,"iid":379224,"project_id":278964,"title":"Remove `ignore_column` for `sbom_sources.fingerprint`","description":"\u003c!--\nImplementation issues are used break-up a large piece of work into small, discrete tasks that can\nmove independently through the build workflow steps. They're typically used to populate a Feature\nEpic. Once created, an implementation issue is usually refined in order to populate and review the\nimplementation plan and weight.\nExample workflow: https://about.gitlab.com/handbook/engineering/development/threat-management/planning/diagram.html#plan\n--\u003e\n\n## Why are we doing this work\n\u003c!--\nA brief explanation of the why, not the what or how. Assume the reader doesn't know the\nbackground and won't have time to dig-up information from comment threads.\n--\u003e\n\nThis issue tracks the final step for [removing a column](https://docs.gitlab.com/ee/development/database/avoiding_downtime_in_migrations.html#dropping-columns) for `sbom_sources.fingerprint`.\n\nThis column was:\n\n1. [Ignored](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/97989) in %\"15.5\" \n2. [Removed](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/101506) in %\"15.6\" \n\nNow, we need to remove the `ignore_column` code in %\"15.7\".\n\n## Relevant links\n\u003c!--\nInformation that the developer might need to refer to when implementing the issue.\n\n- [Design Issue](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e)\n  - [Design 1](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e/designs/\u003cimage\u003e.png)\n  - [Design 2](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e/designs/\u003cimage\u003e.png)\n- [Similar implementation](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/\u003cid\u003e)\n--\u003e\n\n\n## Non-functional requirements\n\u003c!--\nAdd details for required items and delete others.\n--\u003e\n\n- [ ] Documentation:\n- [ ] Feature flag:\n- [ ] Performance:\n- [ ] Testing:\n\n\n## Implementation plan\n\u003c!--\nSteps and the parts of the code that will need to get updated.\nThe plan can also call-out responsibilities for other team members or teams and\ncan be split into smaller MRs to simplify the code review process.\n\ne.g.:\n\n- MR 1: Part 1\n- [ ] ~frontend Step 1\n- [ ] ~frontend Step 2\n- MR 2: Part 2\n- [ ] ~backend Step 1\n- [ ] ~backend Step 2\n- MR 3: Part 3\n- [ ] ~frontend Step 1\n- [ ] ~frontend Step 2\n\n--\u003e\n\nDelete these two lines in [`ee/app/models/sbom/source.rb`](https://gitlab.com/gitlab-org/gitlab/-/blob/0ceb684433fc142e97c80dac546de7d650441189/ee/app/models/sbom/source.rb#L5-L6):\n\n```ruby\n    include IgnorableColumns\n    ignore_column :fingerprint, remove_with: '15.7', remove_after: '2022-12-22'\n```\n\n\u003c!--\nWorkflow and other relevant labels\n\n# ~\"group::\" ~\"Category:\" ~\"GitLab Ultimate\"\nOther settings you might want to include when creating the issue.\n\n# /assign @\n# /epic \u0026\n--\u003e\n\n## Verification steps\n\u003c!--\nAdd verification steps to help GitLab team members test the implementation. This is particularly useful\nduring the MR review and the ~\"workflow::verification\" step. You may not know exactly what the\nverification steps should be during issue refinement, so you can always come back later to add\nthem.\n\n1. Check-out the corresponding branch\n1. ...\n1. Profit!\n--\u003e","state":"closed","created_at":"2022-10-28T14:53:31.272Z","updated_at":"2022-11-22T19:30:16.132Z","closed_at":"2022-11-22T19:30:16.098Z","closed_by":{"id":8953999,"username":"bwill","name":"Brian Williams","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8953999/avatar.png","web_url":"https://gitlab.com/bwill"},"labels":["[deprecated] Accepting merge requests","backend","devops::govern","group::threat insights","maintenance::refactor","quad-planning::complete-no-action","section::sec","type::maintenance","workflow::in review"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":8953999,"username":"bwill","name":"Brian Williams","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8953999/avatar.png","web_url":"https://gitlab.com/bwill"}],"author":{"id":8953999,"username":"bwill","name":"Brian Williams","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8953999/avatar.png","web_url":"https://gitlab.com/bwill"},"type":"ISSUE","assignee":{"id":8953999,"username":"bwill","name":"Brian Williams","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8953999/avatar.png","web_url":"https://gitlab.com/bwill"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/379224","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":10,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 10 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/379224","notes":"https://gitlab.com/api/v4/projects/278964/issues/379224/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/379224/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#379224","relative":"#379224","full":"gitlab-org/gitlab#379224"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":117759976,"iid":379221,"project_id":278964,"title":"Search scope should automatically switch to \"blobs\" if advanced syntax for Code Search is used","description":"\u003c!-- This issue template can be used as a great starting point for feature requests. The section \"Release notes\" can be used as a summary of the feature and is also required if you want to have your release post blog MR auto generated using the release post item generator:  https://about.gitlab.com/handbook/marketing/blog/release-posts/#release-post-item-generator. The remaining sections are the backbone for every feature in GitLab.\n\nThe goal of this template is brevity for quick/smaller iterations. For a more thorough list of considerations for larger features or feature sets, you can leverage the detailed [feature proposal](https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Feature%20proposal%20-%20detailed.md). --\u003e\n\n### Release notes\n\n\u003c!-- What is the problem and solution you're proposing? This content sets the overall vision for the feature and serves as the release notes that will populate in various places, including the [release post blog](https://about.gitlab.com/releases/categories/releases/) and [Gitlab project releases](https://gitlab.com/gitlab-org/gitlab/-/releases). \" --\u003e\n\n### Problem to solve\n\nWhen searching with [any of `blob:`, `extension:`, `path:` or `filename:`](https://docs.gitlab.com/ee/user/search/global_search/advanced_search_syntax.html#code-search), the default scope is projects, although that will almost inevitably return 0 results.\n\nThus, the user always has to switch to the `Code` tab manually, or create their own search shortcut/bookmark/etc.\n\n### Proposal\n\nImplement a heuristic, that checks the given search terms and if one is found that indicates a particular scope, route to and render that automatically.\n\n### Intended users\n\nAny persona that predominantly deals with blobs and/or particular file types. These, I guess:\n\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Simone (Software Engineer in Test)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#simone-software-engineer-in-test)\n* [Eddie (Content Editor)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#eddie-content-editor)\n\n\n### Feature Usage Metrics\n\n\u003c!-- How are you going to track usage of this feature? Think about user behavior and their interaction with the product. What indicates someone is getting value from it?\n\nCreate tracking issue using the Snowplow event tracking template. See https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Snowplow%20event%20tracking.md\n\n--\u003e\n\n\u003c!-- Label reminders\nUse the following resources to find the appropriate labels:\n- https://gitlab.com/gitlab-org/gitlab/-/labels\n- https://about.gitlab.com/handbook/product/categories/features/\n--\u003e\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2022-10-28T14:35:59.196Z","updated_at":"2022-12-10T07:08:39.489Z","closed_at":"2022-12-07T11:58:07.963Z","closed_by":{"id":724395,"username":"katrinleinweber","name":"Katrin Leinweber","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/724395/avatar.png","web_url":"https://gitlab.com/katrinleinweber"},"labels":["Category:Global Search","GitLab Premium","GitLab Ultimate","Next::1-3 releases","devops::data_stores","direction","documentation","feature::enhancement","group::global search","section::enablement","type::feature","workflow::production"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":12515079,"username":"sdungarwal","name":"Siddharth Dungarwal","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12515079/avatar.png","web_url":"https://gitlab.com/sdungarwal"}],"author":{"id":724395,"username":"katrinleinweber","name":"Katrin Leinweber","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/724395/avatar.png","web_url":"https://gitlab.com/katrinleinweber"},"type":"ISSUE","assignee":{"id":12515079,"username":"sdungarwal","name":"Siddharth Dungarwal","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12515079/avatar.png","web_url":"https://gitlab.com/sdungarwal"},"user_notes_count":6,"merge_requests_count":0,"upvotes":3,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/379221","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/379221","notes":"https://gitlab.com/api/v4/projects/278964/issues/379221/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/379221/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#379221","relative":"#379221","full":"gitlab-org/gitlab#379221"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8276,"epic":{"id":549151,"iid":8276,"title":"Global search does not match users' mental models","url":"/groups/gitlab-org/-/epics/8276","group_id":9970,"human_readable_end_date":"Dec 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":117746926,"iid":379208,"project_id":278964,"title":"Support placeholder text on the trigger fields in integrations","description":"At the moment, the placeholder text for the trigger fields in the integrations is [hardcoded as the constants](https://gitlab.com/gitlab-org/gitlab/-/blob/86011530d0e289ac766b735f1b31555b8b533fe5/app/assets/javascripts/integrations/constants.js#L87-93) for the Slack and Mattermost notification integrations.\n\n| Mattermost notifications| Slack notifications |\n| ------ | ------ |\n|  ![Screenshot_2022-10-28_at_14.12.43](/uploads/48e935dfbf40ae512cc33c6fcbdad858/Screenshot_2022-10-28_at_14.12.43.png)      |  ![Screenshot_2022-10-28_at_14.12.51](/uploads/04b4497481f6136b54dc581e5f7a3ec3/Screenshot_2022-10-28_at_14.12.51.png)      |\n\nThis implies two issues:\n\n  - If we need the trigger fields for any other integration (like, for example, moving [Slack notifications into the Slack Application integration](https://gitlab.com/groups/gitlab-org/-/epics/8670)) we have to extend the list of the constants to do so\n  - If different trigger fields need different placeholder text they will still get the default one no matter what backend returns for that or another field","state":"closed","created_at":"2022-10-28T12:18:17.674Z","updated_at":"2022-11-21T12:08:59.295Z","closed_at":"2022-11-14T10:44:59.502Z","closed_by":{"id":3199302,"username":"dmishunov","name":"Denys Mishunov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d85e45af29611ac2c1395e3c3d6ec5d6?s=80\u0026d=identicon","web_url":"https://gitlab.com/dmishunov"},"labels":["Category:Integrations","Deliverable","backend","devops::manage","feature::enhancement","frontend","group::integrations","section::dev","type::feature"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":3199302,"username":"dmishunov","name":"Denys Mishunov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d85e45af29611ac2c1395e3c3d6ec5d6?s=80\u0026d=identicon","web_url":"https://gitlab.com/dmishunov"}],"author":{"id":3199302,"username":"dmishunov","name":"Denys Mishunov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d85e45af29611ac2c1395e3c3d6ec5d6?s=80\u0026d=identicon","web_url":"https://gitlab.com/dmishunov"},"type":"ISSUE","assignee":{"id":3199302,"username":"dmishunov","name":"Denys Mishunov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d85e45af29611ac2c1395e3c3d6ec5d6?s=80\u0026d=identicon","web_url":"https://gitlab.com/dmishunov"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/379208","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/379208","notes":"https://gitlab.com/api/v4/projects/278964/issues/379208/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/379208/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#379208","relative":"#379208","full":"gitlab-org/gitlab#379208"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8670,"epic":{"id":595009,"iid":8670,"title":"Extend Slack app to support notifications","url":"/groups/gitlab-org/-/epics/8670","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":117743278,"iid":379200,"project_id":278964,"title":"[MR Widget V2] Enable telemetry for security reports widget","description":"## Summary\n\nFollow these steps to enable telemetry for the Security Reports widget: https://docs.gitlab.com/ee/development/fe_guide/merge_request_widget_extensions.html#add-new-widgets","state":"closed","created_at":"2022-10-28T10:51:00.511Z","updated_at":"2022-12-13T14:39:23.102Z","closed_at":"2022-12-13T12:16:39.591Z","closed_by":{"id":5535246,"username":"svedova","name":"Savas Vedova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535246/avatar.png","web_url":"https://gitlab.com/svedova"},"labels":["Category:Vulnerability Management","Threat Insights::Navy","devops::govern","frontend","group::threat insights","section::sec","type::maintenance","workflow::in review"],"milestone":null,"assignees":[{"id":5535246,"username":"svedova","name":"Savas Vedova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535246/avatar.png","web_url":"https://gitlab.com/svedova"}],"author":{"id":5535246,"username":"svedova","name":"Savas Vedova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535246/avatar.png","web_url":"https://gitlab.com/svedova"},"type":"ISSUE","assignee":{"id":5535246,"username":"svedova","name":"Savas Vedova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535246/avatar.png","web_url":"https://gitlab.com/svedova"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/379200","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/379200","notes":"https://gitlab.com/api/v4/projects/278964/issues/379200/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/379200/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#379200","relative":"#379200","full":"gitlab-org/gitlab#379200"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8353,"epic":{"id":564248,"iid":8353,"title":"[MR Widget] V2","url":"/groups/gitlab-org/-/epics/8353","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":117742409,"iid":379197,"project_id":278964,"title":"Remove Flowdock integration","description":"## Description\n\nhttps://github.com/flowdock/flowdock-api is present in our gemfile.   \nWe also have an integration described in docs https://docs.gitlab.com/ee/api/integrations.html#flowdock\n\nAt the same time:   \n- **Flowdock has been shut down** https://twitter.com/flowdock/status/1554231548873912320?cxt=HHwWgMCtlf3W3pErAAAA\n- http://www.flowdock.com/ is also down, refer to their Twitter for other details\n- the gem is unmaintained\n\n![Screenshot_2022-10-28_at_13.19.44](/uploads/fbf5240591bb604f2bcb1fcb4def60bc/Screenshot_2022-10-28_at_13.19.44.png)\n\n   \n## Tasks\n\nBased on https://gitlab.com/gitlab-org/gitlab/-/issues/27954.\n\n### 15.7\n\n- [x] Remove `Flowdock` integration https://gitlab.com/gitlab-org/gitlab/-/merge_requests/102394\n  - [x] Code (model/controller/service/view/api)\n  - [x] Remove the gem\n  - [x] Remove Docs\n    - Reference: https://docs.gitlab.com/ee/api/integrations.html#flowdock\n  - [x] Remove usage ping metric https://gitlab.com/gitlab-data/analytics/-/issues/15023\n    - Reference: https://docs.gitlab.com/ee/development/service_ping/metrics_lifecycle.html#remove-a-metric\n- [x] Add a [removal entry](https://docs.gitlab.com/ee/update/removals.html) https://gitlab.com/gitlab-org/gitlab/-/merge_requests/105345\n  - Reference: https://docs.gitlab.com/ee/development/deprecation_guidelines/#update-the-deprecations-and-removals-documentation-pages\n- [x] Remove `Flowdock` database records from the `integrations` table https://gitlab.com/gitlab-org/gitlab/-/merge_requests/105363\n  ```sql\n  DELETE FROM integrations WHERE type_new = 'Integrations::Flowdock'\n  ```\n  ```ruby\n  Integration.each_batch(of: 100_000, column: :id) do |relation|\n    relation.delete_by(type_new: 'Integrations::Flowdock')\n  end\n  ```\n\n### 15.8\n\n- [x] Remove extra code: Flowdock dummy model and/or extra code https://gitlab.com/gitlab-org/gitlab/-/merge_requests/108032\n- [x] Remove ~\"Integration::Flowdock\" issues, merge requests, epics and label","state":"closed","created_at":"2022-10-28T10:30:20.228Z","updated_at":"2023-01-04T11:54:44.536Z","closed_at":"2023-01-04T11:54:44.507Z","closed_by":{"id":1315742,"username":"arturoherrero","name":"Arturo Herrero","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1315742/avatar.png","web_url":"https://gitlab.com/arturoherrero"},"labels":["Category:Integrations","backend","devops::manage","frontend","group::integrations","maintenance::removal","section::dev","type::maintenance","workflow::production"],"milestone":{"id":2745648,"iid":83,"group_id":9970,"title":"15.8","description":"","state":"active","created_at":"2022-08-22T16:57:34.875Z","updated_at":"2022-08-22T16:57:34.875Z","due_date":"2023-01-17","start_date":"2022-12-18","expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/83"},"assignees":[{"id":1315742,"username":"arturoherrero","name":"Arturo Herrero","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1315742/avatar.png","web_url":"https://gitlab.com/arturoherrero"}],"author":{"id":4087087,"username":"alipniagov","name":"Aleksei Lipniagov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4087087/avatar.png","web_url":"https://gitlab.com/alipniagov"},"type":"ISSUE","assignee":{"id":1315742,"username":"arturoherrero","name":"Arturo Herrero","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1315742/avatar.png","web_url":"https://gitlab.com/arturoherrero"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/379197","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":9,"completed_count":9},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"9 of 9 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/379197","notes":"https://gitlab.com/api/v4/projects/278964/issues/379197/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/379197/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#379197","relative":"#379197","full":"gitlab-org/gitlab#379197"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":117728871,"iid":379183,"project_id":278964,"title":"Follow-up from \"Replace default_value_for on DependencyProxy models\"","description":"The following discussion from !102276 should be addressed:\n\n- [x] @10io started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/102276#note_1152158918): \n\n    \u003e This is a default value that can be handled by the ~database.\n    \u003e \n    \u003e In fact, it's surprising to see a [different definition](https://gitlab.com/gitlab-org/gitlab/-/blob/33aff5cc69a6eb217034a63c8744da7302d6b0c6/db/structure.sql#L14561) of this default value in the structure file.\n    \u003e \n    \u003e In the current state of things, we manage 2 default values for the same column and these 2 values are not the same.\n    \u003e \n    \u003e I would suggest updating the ~database definition to default `true` and remove this `attribute` statement.","state":"closed","created_at":"2022-10-28T07:41:29.517Z","updated_at":"2022-12-22T05:29:04.089Z","closed_at":"2022-12-22T01:18:09.371Z","closed_by":{"id":12695021,"username":"adie.po","name":"Adie Po","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12695021/avatar.png","web_url":"https://gitlab.com/adie.po"},"labels":["Category:Container Registry","Category:Dependency Proxy","Stuff that should Just Work","[deprecated] Accepting merge requests","backend","devops::package","group::container registry","maintenance::refactor","section::ops","type::maintenance","workflow::production"],"milestone":{"id":2745648,"iid":83,"group_id":9970,"title":"15.8","description":"","state":"active","created_at":"2022-08-22T16:57:34.875Z","updated_at":"2022-08-22T16:57:34.875Z","due_date":"2023-01-17","start_date":"2022-12-18","expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/83"},"assignees":[{"id":12695021,"username":"adie.po","name":"Adie Po","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12695021/avatar.png","web_url":"https://gitlab.com/adie.po"}],"author":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"type":"ISSUE","assignee":{"id":12695021,"username":"adie.po","name":"Adie Po","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12695021/avatar.png","web_url":"https://gitlab.com/adie.po"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/379183","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":1},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"1 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/379183","notes":"https://gitlab.com/api/v4/projects/278964/issues/379183/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/379183/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#379183","relative":"#379183","full":"gitlab-org/gitlab#379183"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6753,"epic":{"id":349088,"iid":6753,"title":"Packages code improvements","url":"/groups/gitlab-org/-/epics/6753","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":null},{"id":117726166,"iid":379182,"project_id":278964,"title":"Refactor Logic for Access Tokens to have common piece of functionality at one place","description":"As per discussions here - https://gitlab.com/gitlab-org/gitlab/-/issues/374535 and on Pagination MR - https://gitlab.com/gitlab-org/gitlab/-/merge_requests/101406#note_1144075695. We can introduce one more concern for addressing common utility methods for all type of `access_tokens` and also some repeated tests can also be moved to `shared_examples`. This will improve readability and maintainability of the code","state":"closed","created_at":"2022-10-28T07:21:00.456Z","updated_at":"2022-11-22T10:10:38.696Z","closed_at":"2022-11-21T12:41:33.178Z","closed_by":{"id":11811081,"username":"sgarg_gitlab","name":"Smriti Garg","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11811081/avatar.png","web_url":"https://gitlab.com/sgarg_gitlab"},"labels":["Track Health Status","backend","devops::manage","group::authentication and authorization","section::dev","type::maintenance"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":11811081,"username":"sgarg_gitlab","name":"Smriti Garg","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11811081/avatar.png","web_url":"https://gitlab.com/sgarg_gitlab"}],"author":{"id":11811081,"username":"sgarg_gitlab","name":"Smriti Garg","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11811081/avatar.png","web_url":"https://gitlab.com/sgarg_gitlab"},"type":"ISSUE","assignee":{"id":11811081,"username":"sgarg_gitlab","name":"Smriti Garg","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11811081/avatar.png","web_url":"https://gitlab.com/sgarg_gitlab"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/379182","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/379182","notes":"https://gitlab.com/api/v4/projects/278964/issues/379182/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/379182/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#379182","relative":"#379182","full":"gitlab-org/gitlab#379182"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":117712411,"iid":379172,"project_id":278964,"title":"Update suggestion REST API documentation","description":"As discussed in https://gitlab.com/gitlab-org/gitlab/-/merge_requests/102128#note_1148768150, https://docs.gitlab.com/ee/api/suggestions.html seems to be missing the documentation for `batch_apply`.\n\nAlso, as mentioned in the MR above, `integer` seems to be more correct as the type of ID so we should update that as well.","state":"closed","created_at":"2022-10-27T22:47:11.385Z","updated_at":"2022-11-21T11:03:37.550Z","closed_at":"2022-11-17T03:16:22.518Z","closed_by":{"id":4901936,"username":"dskim_gitlab","name":"Sincheol (David) Kim","state":"active","avatar_url":"https://secure.gravatar.com/avatar/84a984a56c54d1d31338678421cecc32?s=80\u0026d=identicon","web_url":"https://gitlab.com/dskim_gitlab"},"labels":["devops::create","documentation","group::code review","maintenance::refactor","section::dev","type::maintenance","workflow::in review"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":4901936,"username":"dskim_gitlab","name":"Sincheol (David) Kim","state":"active","avatar_url":"https://secure.gravatar.com/avatar/84a984a56c54d1d31338678421cecc32?s=80\u0026d=identicon","web_url":"https://gitlab.com/dskim_gitlab"}],"author":{"id":4901936,"username":"dskim_gitlab","name":"Sincheol (David) Kim","state":"active","avatar_url":"https://secure.gravatar.com/avatar/84a984a56c54d1d31338678421cecc32?s=80\u0026d=identicon","web_url":"https://gitlab.com/dskim_gitlab"},"type":"ISSUE","assignee":{"id":4901936,"username":"dskim_gitlab","name":"Sincheol (David) Kim","state":"active","avatar_url":"https://secure.gravatar.com/avatar/84a984a56c54d1d31338678421cecc32?s=80\u0026d=identicon","web_url":"https://gitlab.com/dskim_gitlab"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/379172","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/379172","notes":"https://gitlab.com/api/v4/projects/278964/issues/379172/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/379172/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#379172","relative":"#379172","full":"gitlab-org/gitlab#379172"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":117712360,"iid":379171,"project_id":278964,"title":"Update Projects::InactiveProjectsDeletionCronWorker to use a bot-type user account","description":"## Description\n\nProjects::InactiveProjectsDeletionCronWorker currently assigns the [first administrator](https://gitlab.com/gitlab-org/gitlab/blob/6a303d981efd9771a109e5323fe1fb144707add2/app/workers/projects/inactive_projects_deletion_cron_worker.rb#L25) to remove projects. This can/will cause confusion.\n\n\u003e For that reason, I think we should use a `bot-type` user account. We can give those accounts the exact privileges they need to do their job, but nothing more. And these accounts cannot be used to log in, so there is no risk of credentials leaking.\n\n## Implementation Plan\n1. Create a new `admin_bot` method similar to the methods defined [here](https://gitlab.com/gitlab-org/gitlab/-/blob/1b001c8272305785e0cc8a7ae11330903e0a89e5/app/models/user.rb#L842-901) and set `admin` as `true` for this bot. Also assign the avatar for bot as suggested provided by the product designer.\n2. Use this bot in the [inactive projects deletion cron worker](https://gitlab.com/gitlab-org/gitlab/blob/6a303d981efd9771a109e5323fe1fb144707add2/app/workers/projects/inactive_projects_deletion_cron_worker.rb#L25).\n2. Add the new `admin_bot` to the list of bots [here](https://gitlab.com/gitlab-org/gitlab/-/blob/1b001c8272305785e0cc8a7ae11330903e0a89e5/app/models/concerns/has_user_type.rb#L6-19)\n3. Update the [documentation here](https://gitlab.com/gitlab-org/gitlab/-/blob/1b001c8272305785e0cc8a7ae11330903e0a89e5/doc/administration/inactive_project_deletion.md?plain=1#L15) that currently states _\"first active administrator\"_.","state":"closed","created_at":"2022-10-27T22:45:48.818Z","updated_at":"2022-12-09T02:29:14.457Z","closed_at":"2022-12-06T11:11:58.368Z","closed_by":{"id":10467142,"username":"harsimarsandhu","name":"Harsimar Sandhu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10467142/avatar.png","web_url":"https://gitlab.com/harsimarsandhu"},"labels":["backend","devops::govern","group::compliance","priority::2","section::sec","type::maintenance","workflow::verification"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":10467142,"username":"harsimarsandhu","name":"Harsimar Sandhu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10467142/avatar.png","web_url":"https://gitlab.com/harsimarsandhu"}],"author":{"id":12187344,"username":"nrosandich","name":"Nathan Rosandich","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12187344/avatar.png","web_url":"https://gitlab.com/nrosandich"},"type":"ISSUE","assignee":{"id":10467142,"username":"harsimarsandhu","name":"Harsimar Sandhu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10467142/avatar.png","web_url":"https://gitlab.com/harsimarsandhu"},"user_notes_count":18,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/379171","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/379171","notes":"https://gitlab.com/api/v4/projects/278964/issues/379171/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/379171/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#379171","relative":"#379171","full":"gitlab-org/gitlab#379171"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":117702189,"iid":379132,"project_id":278964,"title":"GitLab Upgrade Alert - Pop up Modal for Admins (Remind me in X days)","description":"## What / Why\n\nSplit off from https://gitlab.com/gitlab-org/gitlab/-/issues/344682/\u003cbr /\u003e\nBlocked/Follow up for https://gitlab.com/gitlab-org/gitlab/-/issues/379130/\n\nWe want to further emphasize to Admins that their GitLab instance is behind a severe security patch. Pushing our customers to upgrade helps them stay safe and inline with the more recent features of GitLab.\n\nWe have a Version Check endpoint (`/admin/version_check.json`) that currently powers the GitLab Version Badge that is shown to Admins to visualize the version health of their Instance.  In this change we want to provide a pop up modal that halts an Admin user when a Security Patch is released.  The intention here is to push the Admin to either upgrade or purposefully decide not to.  We give the user an option to remind themselves in 3 days with this pop up again.\n\n**Important:** Even though the user can dismiss the Modal the [Non-Dismissible ](https://gitlab.com/gitlab-org/gitlab/-/issues/379130/)`GlAlert` will still be there until they upgrade\n\n## Designs\n\nSee attached screenshots\n\n## Snowplow Analytics\n\nTracking upgrade metrics is very important to this initiative. We should track the follow events:\n\n* Render\n* Learn more link click\n* Upgrade now link click\n* Remind me in X days button click\n* Close button is clicked\n\n## Proposal\n\n* Extend the version check application to share the API call for the version check\n* Along with the Version Check badge also show a Modal when the upgrade includes a security patch\n* Extend the Upgrade Alert Modal to support a Remind me in X days button\n* Add snowplow tracking as described above","state":"closed","created_at":"2022-10-27T17:51:10.633Z","updated_at":"2022-12-14T21:35:59.047Z","closed_at":"2022-12-09T14:38:50.059Z","closed_by":{"id":4748809,"username":"zcuddy","name":"Zack Cuddy","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4748809/avatar.png","web_url":"https://gitlab.com/zcuddy"},"labels":["Distribution:Deploy","Distribution:Operate","SUS::Impacting","Technical Writing","UI text","UX","devops::systems","feature::enhancement","frontend","group::distribution","missed:15.6","priority::3","section::enablement","severity::3","type::feature","workflow::in review"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":4748809,"username":"zcuddy","name":"Zack Cuddy","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4748809/avatar.png","web_url":"https://gitlab.com/zcuddy"}],"author":{"id":4748809,"username":"zcuddy","name":"Zack Cuddy","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4748809/avatar.png","web_url":"https://gitlab.com/zcuddy"},"type":"ISSUE","assignee":{"id":4748809,"username":"zcuddy","name":"Zack Cuddy","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4748809/avatar.png","web_url":"https://gitlab.com/zcuddy"},"user_notes_count":5,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/379132","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/379132","notes":"https://gitlab.com/api/v4/projects/278964/issues/379132/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/379132/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#379132","relative":"#379132","full":"gitlab-org/gitlab#379132"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5180,"epic":{"id":179385,"iid":5180,"title":"Improve self-managed upgrade rate","url":"/groups/gitlab-org/-/epics/5180","group_id":9970,"human_readable_end_date":"Dec 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":117701933,"iid":379131,"project_id":278964,"title":"GitLab Upgrade Alert - Pop up Modal for Admins (Permanently Dismissible)","description":"## What / Why\n\nSplit off from https://gitlab.com/gitlab-org/gitlab/-/issues/344682/ \u003cbr /\u003e\nBlocked/Follow up for https://gitlab.com/gitlab-org/gitlab/-/issues/379130/\n\nWe want to further emphasize to Admins that their GitLab instance is behind a severe security patch. Pushing our customers to upgrade helps them stay safe and inline with the more recent features of GitLab.\n\nWe have a Version Check endpoint (`/admin/version_check.json`) that currently powers the GitLab Version Badge that is shown to Admins to visualize the version health of their Instance.  In this change we want to provide a pop up modal that halts an Admin user when a Security Patch is released.  The intention here is to push the Admin to either upgrade or purposefully decide not to.\n\nIn this iteration the Modal will be dismissible on the user level and will not pop up again until the user upgrades (and then another security patch comes).\n\n**Important:** Even though the user can dismiss the Modal the [Non-Dismissible `GlAlert`](https://gitlab.com/gitlab-org/gitlab/-/issues/379130/) will still be there until they upgrade\n\n## Designs\n\nSee attached screenshots\n\n## Snowplow Analytics\n\nTracking upgrade metrics is very important to this initiative. We should track the follow events:\n\n* Render\n* Learn more link click\n* Upgrade now link click\n* Upgrade later button click\n\n## Proposal\n\n* Extend the version check application to share the API call for the version check\n* Along with the Version Check badge also show a Modal when the upgrade includes a security patch\n* Hook up the Upgrade later button to flip a boolean (or similar) on the user record to not show it again\n* Add snowplow tracking as described above","state":"closed","created_at":"2022-10-27T17:44:22.168Z","updated_at":"2022-12-05T19:03:00.102Z","closed_at":"2022-12-05T17:00:49.684Z","closed_by":{"id":4748809,"username":"zcuddy","name":"Zack Cuddy","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4748809/avatar.png","web_url":"https://gitlab.com/zcuddy"},"labels":["Distribution:Deploy","Distribution:Operate","SUS::Impacting","Technical Writing","UI text","UX","backend","devops::systems","feature::enhancement","frontend","group::distribution","missed:15.6","priority::3","section::enablement","severity::3","type::feature","workflow::in dev"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":4748809,"username":"zcuddy","name":"Zack Cuddy","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4748809/avatar.png","web_url":"https://gitlab.com/zcuddy"}],"author":{"id":4748809,"username":"zcuddy","name":"Zack Cuddy","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4748809/avatar.png","web_url":"https://gitlab.com/zcuddy"},"type":"ISSUE","assignee":{"id":4748809,"username":"zcuddy","name":"Zack Cuddy","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4748809/avatar.png","web_url":"https://gitlab.com/zcuddy"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/379131","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/379131","notes":"https://gitlab.com/api/v4/projects/278964/issues/379131/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/379131/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#379131","relative":"#379131","full":"gitlab-org/gitlab#379131"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5180,"epic":{"id":179385,"iid":5180,"title":"Improve self-managed upgrade rate","url":"/groups/gitlab-org/-/epics/5180","group_id":9970,"human_readable_end_date":"Dec 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":117701605,"iid":379130,"project_id":278964,"title":"GitLab Upgrade Alert - Non-Dismissible Alert for Admins","description":"## What / Why\n\nSplit off from https://gitlab.com/gitlab-org/gitlab/-/issues/344682/\n\nWe want to further emphasize to Admins that their GitLab instance is behind a severe security patch.  Pushing our customers to upgrade helps them stay safe and inline with the more recent features of GitLab.\n\nWe have a Version Check endpoint (`/admin/version_check.json`) that currently powers the GitLab Version Badge that is shown to Admins to visualize the version health of their Instance.  This change is ready to take that one step farther and show a non-dismissible `GlAert` to the user when there is a Security Patch available to them.\n\n## Designs\n\nSee attached screenshots\n\n## Snowplow Analytics\n\nTracking upgrade metrics is very important to this initiative.  We should track the follow events:\n\n* Render\n* Learn more link click\n* Upgrade now link click\n\n## Proposal\n\n- Extend the version check application to share the API call for the version check\n- Along with the Version Check badge also show a `GlAlert` when the upgrade includes a security patch\n- Add snowplow tracking as described above","state":"closed","created_at":"2022-10-27T17:34:44.590Z","updated_at":"2022-11-29T00:01:53.843Z","closed_at":"2022-11-28T21:03:32.122Z","closed_by":{"id":4748809,"username":"zcuddy","name":"Zack Cuddy","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4748809/avatar.png","web_url":"https://gitlab.com/zcuddy"},"labels":["Distribution:Deploy","Distribution:Operate","SUS::Impacting","Technical Writing","UI text","UX","devops::systems","feature::enhancement","frontend","group::distribution","missed:15.6","priority::3","section::enablement","severity::3","type::feature","workflow::production"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":4748809,"username":"zcuddy","name":"Zack Cuddy","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4748809/avatar.png","web_url":"https://gitlab.com/zcuddy"}],"author":{"id":4748809,"username":"zcuddy","name":"Zack Cuddy","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4748809/avatar.png","web_url":"https://gitlab.com/zcuddy"},"type":"ISSUE","assignee":{"id":4748809,"username":"zcuddy","name":"Zack Cuddy","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4748809/avatar.png","web_url":"https://gitlab.com/zcuddy"},"user_notes_count":3,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/379130","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/379130","notes":"https://gitlab.com/api/v4/projects/278964/issues/379130/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/379130/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#379130","relative":"#379130","full":"gitlab-org/gitlab#379130"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5180,"epic":{"id":179385,"iid":5180,"title":"Improve self-managed upgrade rate","url":"/groups/gitlab-org/-/epics/5180","group_id":9970,"human_readable_end_date":"Dec 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":117689683,"iid":379111,"project_id":278964,"title":"Web-based client for Kubernetes","description":"### Problem to solve\n\nIn order to interact with the Kubernetes API from the frontend (via KAS), we need a client of some sorts. Unfortunately, the official javascript client, `kubernetes-client/javascript`, [does not support web browsers yet](https://github.com/kubernetes-client/javascript/issues/165).\n\n### Proposal\n\n- [x] Create a project for the client under gitlab-org \u003c-- @hfyngvason\n- [x] Generate the client using the javascript generator \u003c-- @hfyngvason \n- [x] Publish the client in npm \u003c-- @anna_vovchenko \n- [-] Include it in `package.json` \u003c-- @anna_vovchenko (will be done within the first frontend MR)\n\n### Evaluated options\n\nA few options:\n\n1. Port `kubernetes-client/javascript` to the browser. Start with a fork and then contribute the work upstream when we're happy with our results.\n2. **Chosen option:** Wait for upstream to solve the problem. **In the meantime, use an** [**OpenAPI scaffold**](https://github.com/OpenAPITools/openapi-generator) generated in a similar way to the [Kubernetes client](https://github.com/kubernetes-client/gen/), i.e. using the [`typescript-fetch` generator](https://github.com/kubernetes-client/gen/blob/0ffb80637bf25586113914a58913c882b7ce8017/openapi/typescript-fetch.sh#L50) ([docs](https://openapi-generator.tech/docs/generators/typescript-fetch/)), or maybe even **just the** [**`javascript` generator**](https://openapi-generator.tech/docs/generators/javascript) but without a dependency on `node-fetch`.\n3. Wait for upstream to solve the problem. In the meantime, wrap the REST API calls we need on a case-by-case basis.\n\nIn the long run, I think (1) is the best solution, but starting with (2) or (3) would get us results faster.\n\n### References\n\nI've prepared a [PoC project](https://gitlab.com/hfyngvason/k8s-js-experiments) for approach (2). This makes it possible to start building a real interactive web UI for Kubernetes without waiting for the KAS part to be finished.","state":"closed","created_at":"2022-10-27T13:48:54.392Z","updated_at":"2022-12-21T12:06:27.695Z","closed_at":"2022-12-16T13:25:24.775Z","closed_by":{"id":9094263,"username":"anna_vovchenko","name":"Anna Vovchenko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9094263/avatar.png","web_url":"https://gitlab.com/anna_vovchenko"},"labels":["Deliverable","Track Health Status","devops::configure","feature::addition","frontend","group::configure","section::ops","type::feature","workflow::in dev"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":4088036,"username":"hfyngvason","name":"Hordur Freyr Yngvason","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4088036/avatar.png","web_url":"https://gitlab.com/hfyngvason"},{"id":9094263,"username":"anna_vovchenko","name":"Anna Vovchenko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9094263/avatar.png","web_url":"https://gitlab.com/anna_vovchenko"}],"author":{"id":4088036,"username":"hfyngvason","name":"Hordur Freyr Yngvason","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4088036/avatar.png","web_url":"https://gitlab.com/hfyngvason"},"type":"ISSUE","assignee":{"id":4088036,"username":"hfyngvason","name":"Hordur Freyr Yngvason","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4088036/avatar.png","web_url":"https://gitlab.com/hfyngvason"},"user_notes_count":18,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/379111","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":3},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"3 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/379111","notes":"https://gitlab.com/api/v4/projects/278964/issues/379111/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/379111/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#379111","relative":"#379111","full":"gitlab-org/gitlab#379111"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8038,"epic":{"id":519677,"iid":8038,"title":"Frontend access to Kubernetes API through KAS","url":"/groups/gitlab-org/-/epics/8038","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":"at_risk"},{"id":117663625,"iid":379086,"project_id":278964,"title":"[MR Widget V2] Add info popover","description":"## Summary\n\nThis issue is very similar to https://gitlab.com/gitlab-org/gitlab/-/issues/361562, except it's for the MR Widget V2.\n\nAdd an info popover with the text below. The tooltip will link to this page: https://docs.gitlab.com/ee/user/application_security/#ultimate\n\n![image](https://gitlab.com/gitlab-org/gitlab/uploads/e578faeaea3caa09081ee2783a8e2cb9/image.png)\n\n## Implementation plan\n\n- [ ] ~frontend Add the popover to the https://gitlab.com/gitlab-org/gitlab/-/blob/master/ee/app/assets/javascripts/vue_merge_request_widget/extensions/security_reports/mr_widget_security_reports.vue.\n\nSimilar implementation can be found in the following MR: https://gitlab.com/gitlab-org/gitlab/-/issues/361562","state":"closed","created_at":"2022-10-27T06:38:11.252Z","updated_at":"2022-11-14T15:00:47.970Z","closed_at":"2022-11-14T15:00:41.733Z","closed_by":{"id":4155411,"username":"dpisek","name":"David Pisek","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4155411/avatar.png","web_url":"https://gitlab.com/dpisek"},"labels":["Category:Vulnerability Management","Threat Insights::Navy","Track Health Status","auto updated","devops::govern","frontend","group::threat insights","health status","merge request widget","ready to pull","section::sec","type::maintenance","workflow::verification"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[],"author":{"id":5535246,"username":"svedova","name":"Savas Vedova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535246/avatar.png","web_url":"https://gitlab.com/svedova"},"type":"ISSUE","assignee":null,"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/379086","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/379086","notes":"https://gitlab.com/api/v4/projects/278964/issues/379086/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/379086/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#379086","relative":"#379086","full":"gitlab-org/gitlab#379086"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8353,"epic":{"id":564248,"iid":8353,"title":"[MR Widget] V2","url":"/groups/gitlab-org/-/epics/8353","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":117662359,"iid":379084,"project_id":278964,"title":"[MR Widget V2] Rename widget name","description":"## Summary\n\nRename the widget name as described [in the docs](https://docs.gitlab.com/ee/development/fe_guide/merge_request_widget_extensions.html#add-new-widgets).\n\n## Implementation plan\n\n- [x] ~frontend rename the component name here: https://gitlab.com/gitlab-org/gitlab/-/blob/master/ee/app/assets/javascripts/vue_merge_request_widget/extensions/security_reports/mr_widget_security_reports.vue#L16","state":"closed","created_at":"2022-10-27T06:17:01.804Z","updated_at":"2022-10-28T17:18:42.221Z","closed_at":"2022-10-28T17:18:27.500Z","closed_by":{"id":5535246,"username":"svedova","name":"Savas Vedova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535246/avatar.png","web_url":"https://gitlab.com/svedova"},"labels":["Category:Vulnerability Management","Threat Insights::Navy","Track Health Status","auto updated","devops::govern","frontend","group::threat insights","health status","merge request widget","ready to pull","section::sec","type::maintenance","workflow::verification"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":5535246,"username":"svedova","name":"Savas Vedova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535246/avatar.png","web_url":"https://gitlab.com/svedova"}],"author":{"id":5535246,"username":"svedova","name":"Savas Vedova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535246/avatar.png","web_url":"https://gitlab.com/svedova"},"type":"ISSUE","assignee":{"id":5535246,"username":"svedova","name":"Savas Vedova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535246/avatar.png","web_url":"https://gitlab.com/svedova"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/379084","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":1},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"1 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/379084","notes":"https://gitlab.com/api/v4/projects/278964/issues/379084/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/379084/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#379084","relative":"#379084","full":"gitlab-org/gitlab#379084"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8353,"epic":{"id":564248,"iid":8353,"title":"[MR Widget] V2","url":"/groups/gitlab-org/-/epics/8353","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":117649093,"iid":379057,"project_id":278964,"title":"BE: Add role_approvers to security_orchestration_policy JSON schema","description":"\u003c!--\nImplementation issues are used break-up a large piece of work into small, discrete tasks that can\nmove independently through the build workflow steps. They're typically used to populate a Feature\nEpic. Once created, an implementation issue is usually refined in order to populate and review the\nimplementation plan and weight.\nExample workflow: https://about.gitlab.com/handbook/engineering/development/threat-management/planning/diagram.html#plan\n--\u003e\n\n## Why are we doing this work\n\nScan Result Policy Action currently supports individual approvers or a group of users. However, when a customer has projects with lower criticality or the scan results detect a vulnerability of low criticality (I.e., Low/Medium), they want to require an approver from the project based on the role (I.e., owner/maintainer)\n\nThis issue focusses on adding the `role_approvers` field to [security_orchestration_policy JSON schema](https://gitlab.com/gitlab-org/gitlab/-/blob/ddce54835da0eb6f6c5748f9ebd19915281b9844/ee/app/validators/json_schemas/security_orchestration_policy.json)\n\n## Relevant links\n\nEpic: https://gitlab.com/groups/gitlab-org/-/epics/8018+\n\n\n## Non-functional requirements\n\n- [ ] Documentation:\n- [ ] Feature flag:\n- [ ] Performance:\n- [ ] Testing:\n\n\n## Implementation plan\n\n- [ ] ~backend Update [ee/app/validators/json_schemas/security_orchestration_policy.json](https://gitlab.com/gitlab-org/gitlab/-/blob/ddce54835da0eb6f6c5748f9ebd19915281b9844/ee/app/validators/json_schemas/security_orchestration_policy.json) to add `role_approvers` schema:\n\n```json\n\"role_approvers\": {\n  \"type\": \"array\",\n  \"description\": \"Specifies a list of roles required to approve affected merge request.\",\n  \"minItems\": 1,\n  \"additionalItems\": false,\n  \"items\":{\n    \"type\": {\n      \"enum\": [\n        \"guest\",\n        \"reporter\",\n        \"developer\",\n        \"maintainer\",\n        \"owner\"\n      ]\n    },\n    \"minLength\": 1\n  }\n}\n```\n\n## Verification steps\n\u003c!--\nAdd verification steps to help GitLab team members test the implementation. This is particularly useful\nduring the MR review and the ~\"workflow::verification\" step. You may not know exactly what the\nverification steps should be during issue refinement, so you can always come back later to add\nthem.\n\n1. Check-out the corresponding branch\n1. ...\n1. Profit!\n--\u003e","state":"closed","created_at":"2022-10-26T21:00:31.675Z","updated_at":"2022-12-12T03:18:46.737Z","closed_at":"2022-12-08T09:22:05.948Z","closed_by":{"id":8401507,"username":"sashi_kumar","name":"Sashi Kumar Kumaresan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8401507/avatar.png","web_url":"https://gitlab.com/sashi_kumar"},"labels":["Category:Security Policy Management","Stretch","[deprecated] Accepting merge requests","backend","devops::govern","group::security policies","section::sec","secure merge request approval","type::feature","workflow::verification"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[],"author":{"id":8401507,"username":"sashi_kumar","name":"Sashi Kumar Kumaresan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8401507/avatar.png","web_url":"https://gitlab.com/sashi_kumar"},"type":"ISSUE","assignee":null,"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/379057","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":5,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 5 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/379057","notes":"https://gitlab.com/api/v4/projects/278964/issues/379057/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/379057/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#379057","relative":"#379057","full":"gitlab-org/gitlab#379057"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8018,"epic":{"id":517990,"iid":8018,"title":"Support Role Based Approval Action for Scan Result Policies","url":"/groups/gitlab-org/-/epics/8018","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":null},{"id":117635764,"iid":379034,"project_id":278964,"title":"Upgrade the DAST JSON report to schema 15.x.x","description":"\n### Problem\n\nThe Security report schema 14.x.x will be deprecated from GitLab 15.8, and removed in 16.0. To avoid a warning to users using DAST, the schema should be upgraded to 15.x.x before GitLab 15.8 is released.\n\n### Proposal\n\n- DAST should produce a Secure report version 15.x.x when running on GitLab 15.4 and above.\n- DAST should produce a Secure report version 14.x.x when running on GitLab 15.3 and below.\n\n### Implementation plan\n\n- [ ] DAST should read the `CI_SERVER_VERSION_MAJOR` and `CI_SERVER_VERSION_MINOR` CI/CD variables that are provided by GitLab\n- [ ] When MAJOR/MINOR version is `15.3` and below, DAST Python should produce a report that conforms to schema `14.1.2` (the same as it produces at time of writing)\n- [ ] When MAJOR/MINOR version is `15.3` and below, Browserker should produce a report that conforms to schema `14.1.2` (the same as it produces at time of writing)\n- [ ] When MAJOR/MINOR version is `15.4` and above, DAST Python should produce a report that conforms to schema `15.0.2`\n- [ ] When MAJOR/MINOR version is `15.4` and above, Browserker should produce a report that conforms to schema `15.0.2`\n- [ ] Configuration will likely need to be passed to Browserker to configure which version of the report it should conform to\n  - Alternatively, Browserker could read the `CI_SERVER_VERSION_XXX` CI/CD environment variables. If you take this approach, please don't use the CI/CD variable outside of the `config` package. This will ensure itC easy to introduce configuring Browserker using environment variables, which will be required when Browserker runs stand-alone from DAST Python\n- Changes to the 15.x.x schema involves:\n  - [ ] Remove `vulnerabilities[].cve`\n  - [ ] Remove `vulnerabilities[].scanner`\n  - [ ] Remove `vulnerabilities[].category`\n  - [ ] Remove `vulnerabilities[].discovered_at` (move it to `vulnerabilities[].details.discovered_at` if it's easy)\n  - [ ] Remove `vulnerabilities[].confidence`\n  - [ ] Remove `vulnerabilities[].message`\n  - [ ] Make sure `scan.start_time/end_time` conform to the new pattern\n- [ ] Test producing schemas in both format. I'd recommend that there is at least one end-to-end test run for each supported schema version","state":"closed","created_at":"2022-10-26T16:10:27.614Z","updated_at":"2022-12-19T03:24:33.067Z","closed_at":"2022-12-14T11:45:44.527Z","closed_by":{"id":4312863,"username":"cam_swords","name":"Cameron Swords","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3b729cf96bcced6384ebb94f0362bd4b?s=80\u0026d=identicon","web_url":"https://gitlab.com/cam_swords"},"labels":["Category:DAST","[deprecated] Accepting merge requests","dast::browserker","devops::secure","feature::enhancement","group::dynamic analysis","section::sec","type::feature","workflow::verification"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":4312863,"username":"cam_swords","name":"Cameron Swords","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3b729cf96bcced6384ebb94f0362bd4b?s=80\u0026d=identicon","web_url":"https://gitlab.com/cam_swords"},{"id":8995688,"username":"atiwari71","name":"Aditya Tiwari","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8995688/avatar.png","web_url":"https://gitlab.com/atiwari71"}],"author":{"id":4312863,"username":"cam_swords","name":"Cameron Swords","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3b729cf96bcced6384ebb94f0362bd4b?s=80\u0026d=identicon","web_url":"https://gitlab.com/cam_swords"},"type":"ISSUE","assignee":{"id":4312863,"username":"cam_swords","name":"Cameron Swords","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3b729cf96bcced6384ebb94f0362bd4b?s=80\u0026d=identicon","web_url":"https://gitlab.com/cam_swords"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/379034","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":14,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 14 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/379034","notes":"https://gitlab.com/api/v4/projects/278964/issues/379034/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/379034/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#379034","relative":"#379034","full":"gitlab-org/gitlab#379034"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":9023,"epic":{"id":626240,"iid":9023,"title":"Browser-based DAST GA","url":"/groups/gitlab-org/-/epics/9023","group_id":9970,"human_readable_end_date":"Mar 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e months remaining"},"iteration":null,"health_status":null},{"id":117630085,"iid":379023,"project_id":278964,"title":"Fix errors that prevents the project deletion process","description":"### Summary\n\nA customer reported that when attempting to delete a project, the project was never successfully removed despite a UI confirmation that the project was deleted. This ultimately resulted in a console escalation where the following error was observed.\n\n* [Zendesk (Internal)](https://gitlab.zendesk.com/agent/tickets/336668)\n\n### Relevant logs and/or screenshots\n\nhttps://sentry.gitlab.net/gitlab/gitlabcom/issues/4012893/?referrer=gitlab_plugin\n\n```\nPG::QueryCanceled: ERROR:  canceling statement due to statement timeout\nCONTEXT:  SQL statement \"UPDATE ONLY \"public\".\"issues\" SET \"moved_to_id\" = NULL WHERE $1 OPERATOR(pg_catalog.=) \"moved_to_id\"\"\n\n  lib/gitlab/database/load_balancing/connection_proxy.rb:120:in `block in write_using_load_balancer'\n    connection.send(...)\n  lib/gitlab/database/load_balancing/load_balancer.rb:122:in `block in read_write'\n    yield connection\n  lib/gitlab/database/load_balancing/load_balancer.rb:200:in `retry_with_backoff'\n    return yield attempt # Yield the current attempt count\n  lib/gitlab/database/load_balancing/load_balancer.rb:118:in `read_write'\n    retry_with_backoff(attempts: attempts) do |attempt|\n  lib/gitlab/database/load_balancing/connection_proxy.rb:119:in `write_using_load_balancer'\n    @load_balancer.read_write do |connection|\n...\n(88 additional frame(s) were not displayed)\n\nActiveRecord::QueryCanceled: PG::QueryCanceled: ERROR:  canceling statement due to statement timeout\nCONTEXT:  SQL statement \"UPDATE ONLY \"public\".\"issues\" SET \"moved_to_id\" = NULL WHERE $1 OPERATOR(pg_catalog.=) \"moved_to_id\"\"\n```\n\nThe above error is not the only error that pops up during a user delete, there can be more DELETE query failures, and we can see some of them in https://gitlab.com/gitlab-com/support/internal-requests/-/issues/16765#note_1148499097\n\n### Steps to reproduce\n\n1. Navigate to an affected project\n2. Attempt to [delete the project](https://docs.gitlab.com/ee/user/project/working_with_projects.html#delete-a-project) via the UI\n3. Confirm project is not removed\n\n\u003c!-- Describe how one can reproduce the issue - this is very important. Please use an ordered list. --\u003e\n\n### What is the current *bug* behavior?\n\nAttempts to remove a project are unsuccessful\n\n### What is the expected *correct* behavior?\n\nUsers should be able to successfully remove projects\n\n### Possible solutions:\n\n- Instead of depending on the `ON DELETE CASCADE` at the database level to delete associated records, we could attach `dependant: :destroy` clause on associations that needs to be deleted and then [this](https://gitlab.com/gitlab-org/gitlab/-/blob/d4ae39b7264818d13e8be721f3ba8a1c2fe1aad5/app/services/projects/destroy_service.rb#L145) method will take care of destroying all such records in batches, thus reducing the chance of a query timeout. See https://gitlab.com/gitlab-org/gitlab/-/merge_requests/101098/diffs as an example.\n- As an additional step, we should also move the associations that depend `ON DELETE SET NULL` to `dependent: :nullify` and add `project.nullify_dependent_associations_in_batches`","state":"closed","created_at":"2022-10-26T14:50:36.143Z","updated_at":"2023-01-10T08:48:57.113Z","closed_at":"2022-12-15T10:22:29.377Z","closed_by":{"id":4093067,"username":"manojmj","name":"Manoj M J","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4093067/avatar.png","web_url":"https://gitlab.com/manojmj"},"labels":["Deliverable","Support Efficiency","backend","customer","devops::manage","group::organization","milestone::p2","priority::3","section::dev","severity::3","type::bug","workflow::production"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":4093067,"username":"manojmj","name":"Manoj M J","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4093067/avatar.png","web_url":"https://gitlab.com/manojmj"}],"author":{"id":402401,"username":"jobbot","name":"Bot","state":"active","avatar_url":"https://secure.gravatar.com/avatar/aaa6738f1ebf25404010884af511b0e7?s=80\u0026d=identicon","web_url":"https://gitlab.com/jobbot"},"type":"ISSUE","assignee":{"id":4093067,"username":"manojmj","name":"Manoj M J","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4093067/avatar.png","web_url":"https://gitlab.com/manojmj"},"user_notes_count":21,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/379023","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/379023","notes":"https://gitlab.com/api/v4/projects/278964/issues/379023/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/379023/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#379023","relative":"#379023","full":"gitlab-org/gitlab#379023"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8486,"epic":{"id":575894,"iid":8486,"title":"Project improvements","url":"/groups/gitlab-org/-/epics/8486","group_id":9970,"human_readable_end_date":"May 17, 2023","human_readable_timestamp":"\u003cstrong\u003e4\u003c/strong\u003e months remaining"},"iteration":null,"health_status":null},{"id":117625787,"iid":379021,"project_id":278964,"title":"Investigation: Projects \"successfully\" deleted when their container repositories (silently) fail to be deleted","description":"## Context\n\nFound in https://gitlab.com/gitlab-org/gitlab/-/issues/375261, more precisely in https://gitlab.com/gitlab-org/gitlab/-/issues/375261#note_1148272420.\n\n## Problem\n\nWhen a user deletes a project, one of the preliminary task is to attempt deleting all container registry repositories and tags associated with that project. This happens in this sequence:\n\n- [`Projects::DestroyService#attempt_destroy`](https://gitlab.com/gitlab-org/gitlab/blob/7d04cb83fadf7fc12693a80215fc6f06029d4481/app/services/projects/destroy_service.rb#L119)\n    - [`Projects::DestroyService#remove_registry_tags`](https://gitlab.com/gitlab-org/gitlab/blob/7d04cb83fadf7fc12693a80215fc6f06029d4481/app/services/projects/destroy_service.rb#L256)\n        - [`Projects::ContainerRepository::DestroyService#execute`](https://gitlab.com/gitlab-org/gitlab/-/blob/49ede537acdc58645e4451fe0eff8bac2f917e26/app/services/projects/container_repository/destroy_service.rb)\n            - [`ContainerRepository#delete_tags!`](https://gitlab.com/gitlab-org/gitlab/blob/49ede537acdc58645e4451fe0eff8bac2f917e26/app/models/container_repository.rb#L480) OR `Projects::ContainerRepository::CleanupTagsService` (from https://gitlab.com/gitlab-org/gitlab/-/issues/375604)\n\n\nIn `Projects::DestroyService#attempt_destroy`, if the registry data deletion yields a non-`true` value, we [raise an error](https://gitlab.com/gitlab-org/gitlab/blob/7d04cb83fadf7fc12693a80215fc6f06029d4481/app/services/projects/destroy_service.rb#L120) to let the user know that the project deletion can't proceed. However, in https://gitlab.com/gitlab-org/gitlab/-/issues/375261 we found out that there are container repositories (and tags within) left behind on the registry for project paths that no longer exist on the Rails side. This means that somewhere in the execution path we may not be catching errors or failures when deleting the registry data and still proceed with the project deletion.\n\nOnce https://gitlab.com/gitlab-org/gitlab/-/issues/375604 is closed, we should take some time to investigate and try to reproduce this issue. It may be the case that the issue is no longer occurring, or that it was fixed by the changes from https://gitlab.com/gitlab-org/gitlab/-/issues/375604, but it clearly happened at some point in time, so we must confirm.","state":"closed","created_at":"2022-10-26T14:22:13.340Z","updated_at":"2022-12-14T10:56:28.237Z","closed_at":"2022-12-09T15:27:37.001Z","closed_by":{"id":12695021,"username":"adie.po","name":"Adie Po","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12695021/avatar.png","web_url":"https://gitlab.com/adie.po"},"labels":["Category:Container Registry","Deliverable","Package:P1","Track Health Status","[deprecated] Accepting merge requests","backend","bug::functional","devops::package","group::container registry","needs investigation","rails","section::ops","severity::4","type::bug","workflow::in dev"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":12695021,"username":"adie.po","name":"Adie Po","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12695021/avatar.png","web_url":"https://gitlab.com/adie.po"}],"author":{"id":5054840,"username":"jdrpereira","name":"JoÃ£o Pereira","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5054840/avatar.png","web_url":"https://gitlab.com/jdrpereira"},"type":"ISSUE","assignee":{"id":12695021,"username":"adie.po","name":"Adie Po","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12695021/avatar.png","web_url":"https://gitlab.com/adie.po"},"user_notes_count":26,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/379021","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/379021","notes":"https://gitlab.com/api/v4/projects/278964/issues/379021/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/379021/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#379021","relative":"#379021","full":"gitlab-org/gitlab#379021"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":9106,"epic":{"id":638114,"iid":9106,"title":"Container Registry: Storage usage bugs","url":"/groups/gitlab-org/-/epics/9106","group_id":9970,"human_readable_end_date":"Dec 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":117623566,"iid":379019,"project_id":278964,"title":"Log navigation context when logging Chrome DevTools messages","description":"\n### Problem\n\nWhen diagnosing customer scans, DAST engineers are not able to trace errors back to the original source. This makes it difficult for an engineer or support person to diagnose problems with customer scans.\n\n### Proposal\n\nError messages and DevTools messages that are logged to the log file should include a task description, which generally should be the navigation ID being crawled.\n\n### Implementation\n\n- [x] Initialize `ChromeDevToolsLogger` as a singleton using Dependency Injection ([part 1](https://gitlab.com/gitlab-org/security-products/analyzers/browserker/-/merge_requests/933), [part 2](https://gitlab.com/gitlab-org/security-products/analyzers/browserker/-/merge_requests/976))\n- [x] [Convert `NewBrowserResource` to accept the DI `*ChromeDevToolsLogger` instance](https://gitlab.com/gitlab-org/security-products/analyzers/browserker/-/merge_requests/933)\n- [x] [Convert `Tab` to accept the `*ChromeDevToolsLogger` instance](https://gitlab.com/gitlab-org/security-products/analyzers/browserker/-/merge_requests/966)\n- [X] [When `GCDBrowserPool.Take` is called, call `browser.AssignTask(\"general\")` before returning the browser](philipcunningham-log-navigation-context-when-logging-gcd-messages-379019)\n- [X] [`Tab.AssignTask` should call a setter on the ChromeDevTools logger, that sets the task, i.e. `chromeDevToolsLogger.SetTask(task)`](philipcunningham-log-navigation-context-when-logging-gcd-messages-379019)\n- [x] [`ChromeDevToolsLogger.SetTask` should assign a new logger](https://gitlab.com/gitlab-org/security-products/analyzers/browserker/-/merge_requests/965)\n  - e.g. `log.logger = log.logger.With().Str(\"task\", task).Logger()`\n  - Updating the logger should acquire a write lock from a read/write mutex\n  - All usages of the logger should acquire a read lock from a read/write mutex\n- [X] [`BrowserkCrawler.Process` should call `browser.AssignTask(\"crawl:[navID]\")`. At the end of the function, call `browserk.AssignTask(\"general\")`.](philipcunningham-log-navigation-context-when-logging-gcd-messages-379019)","state":"closed","created_at":"2022-10-26T14:12:27.183Z","updated_at":"2022-12-12T03:18:46.801Z","closed_at":"2022-12-07T07:07:40.444Z","closed_by":{"id":5749348,"username":"philipcunningham","name":"Philip Cunningham","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5749348/avatar.png","web_url":"https://gitlab.com/philipcunningham"},"labels":["Category:DAST","blocked","dast::browserker","devops::secure","feature::addition","group::dynamic analysis","section::sec","type::feature","workflow::verification"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":5749348,"username":"philipcunningham","name":"Philip Cunningham","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5749348/avatar.png","web_url":"https://gitlab.com/philipcunningham"}],"author":{"id":4312863,"username":"cam_swords","name":"Cameron Swords","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3b729cf96bcced6384ebb94f0362bd4b?s=80\u0026d=identicon","web_url":"https://gitlab.com/cam_swords"},"type":"ISSUE","assignee":{"id":5749348,"username":"philipcunningham","name":"Philip Cunningham","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5749348/avatar.png","web_url":"https://gitlab.com/philipcunningham"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/379019","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":7,"completed_count":7},"weight":2,"blocking_issues_count":1,"has_tasks":true,"task_status":"7 of 7 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/379019","notes":"https://gitlab.com/api/v4/projects/278964/issues/379019/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/379019/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#379019","relative":"#379019","full":"gitlab-org/gitlab#379019"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":9023,"epic":{"id":626240,"iid":9023,"title":"Browser-based DAST GA","url":"/groups/gitlab-org/-/epics/9023","group_id":9970,"human_readable_end_date":"Mar 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e months remaining"},"iteration":null,"health_status":null},{"id":117619078,"iid":379013,"project_id":278964,"title":"Add a 'Remember me' checkbox to the SAML authorization","description":"Breakdown task from this issue https://gitlab.com/gitlab-org/gitlab/-/issues/121569+","state":"closed","created_at":"2022-10-26T13:50:37.353Z","updated_at":"2023-01-04T22:43:13.657Z","closed_at":"2022-12-12T08:26:56.096Z","closed_by":{"id":11004366,"username":"eduardosanz","name":"Eduardo Sanz GarcÃ­a","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11004366/avatar.png","web_url":"https://gitlab.com/eduardosanz"},"labels":["Deliverable","GitLab Premium","devops::manage","feature::addition","frontend","group::authentication and authorization","missed-deliverable","missed:15.6","release post item::in review","section::dev","type::feature","workflow::in review"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":11004366,"username":"eduardosanz","name":"Eduardo Sanz GarcÃ­a","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11004366/avatar.png","web_url":"https://gitlab.com/eduardosanz"}],"author":{"id":11004366,"username":"eduardosanz","name":"Eduardo Sanz GarcÃ­a","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11004366/avatar.png","web_url":"https://gitlab.com/eduardosanz"},"type":"ISSUE","assignee":{"id":11004366,"username":"eduardosanz","name":"Eduardo Sanz GarcÃ­a","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11004366/avatar.png","web_url":"https://gitlab.com/eduardosanz"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/379013","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/379013","notes":"https://gitlab.com/api/v4/projects/278964/issues/379013/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/379013/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#379013","relative":"#379013","full":"gitlab-org/gitlab#379013"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":117617394,"iid":379009,"project_id":278964,"title":"Exec Dashboards: Remove \"Dashboards\" menu item","description":"### Problem\n\nThe dashboards menu item was introduced in https://gitlab.com/gitlab-org/gitlab/-/merge_requests/98767/diffs, but we only want users with the URL to be able to browse to the feature.\n\nThe feature is available @ https://gitlab.com/groups/gitlab-org/-/analytics/dashboards\n\n### Solution\n\nRemove the menu item","state":"closed","created_at":"2022-10-26T13:30:22.164Z","updated_at":"2022-11-13T14:03:35.399Z","closed_at":"2022-11-02T05:28:46.626Z","closed_by":{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"},"labels":["backend","devops::plan","group::optimize","priority::2","section::dev","type::bug","workflow::production"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"}],"author":{"id":3101551,"username":"blabuschagne","name":"Brandon Labuschagne","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3101551/avatar.png","web_url":"https://gitlab.com/blabuschagne"},"type":"ISSUE","assignee":{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/379009","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/379009","notes":"https://gitlab.com/api/v4/projects/278964/issues/379009/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/379009/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#379009","relative":"#379009","full":"gitlab-org/gitlab#379009"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":9159,"epic":{"id":645211,"iid":9159,"title":"Exec Dashboards: New page POC with \"Metrics comparative table\"","url":"/groups/gitlab-org/-/epics/9159","group_id":9970,"human_readable_end_date":"Dec 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":117601055,"iid":378996,"project_id":278964,"title":"Update documentation to indicate Browserker is GA","description":"\n### Proposal\n\nOnce Browserker is considered GA, the [documentation](https://docs.gitlab.com/ee/user/application_security/dast/browser_based.html) should be updated to remove the beta warning.\n\n### Example\n\n\n| Screenshot | \n| ------ |\n| \u003cimg src=\"/uploads/bb0aef20fdebe19caf9cafa53d30ee1d/Screenshot_2022-10-26_at_13.01.05.png\" width=500 /\u003e |","state":"closed","created_at":"2022-10-26T11:48:39.791Z","updated_at":"2023-01-11T02:37:25.258Z","closed_at":"2023-01-11T02:37:03.566Z","closed_by":{"id":4310743,"username":"sethgitlab","name":"Seth Berger","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4310743/avatar.png","web_url":"https://gitlab.com/sethgitlab"},"labels":["Category:DAST","[deprecated] Accepting merge requests","closed::complete","dast::browserker","devops::secure","feature::enhancement","group::dynamic analysis","section::sec","type::feature","workflow::blocked"],"milestone":{"id":2745648,"iid":83,"group_id":9970,"title":"15.8","description":"","state":"active","created_at":"2022-08-22T16:57:34.875Z","updated_at":"2022-08-22T16:57:34.875Z","due_date":"2023-01-17","start_date":"2022-12-18","expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/83"},"assignees":[{"id":4985194,"username":"derekferguson","name":"Derek Ferguson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4985194/avatar.png","web_url":"https://gitlab.com/derekferguson"}],"author":{"id":4312863,"username":"cam_swords","name":"Cameron Swords","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3b729cf96bcced6384ebb94f0362bd4b?s=80\u0026d=identicon","web_url":"https://gitlab.com/cam_swords"},"type":"ISSUE","assignee":{"id":4985194,"username":"derekferguson","name":"Derek Ferguson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4985194/avatar.png","web_url":"https://gitlab.com/derekferguson"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/378996","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/378996","notes":"https://gitlab.com/api/v4/projects/278964/issues/378996/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/378996/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#378996","relative":"#378996","full":"gitlab-org/gitlab#378996"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":9023,"epic":{"id":626240,"iid":9023,"title":"Browser-based DAST GA","url":"/groups/gitlab-org/-/epics/9023","group_id":9970,"human_readable_end_date":"Mar 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e months remaining"},"iteration":null,"health_status":null},{"id":117599521,"iid":378993,"project_id":278964,"title":"Automatic deactivation of dormant users - enable style check","description":"Ref: https://gitlab.com/gitlab-org/gitlab/-/issues/375494#note_1148626387\n\n# Summary\n\n- Follow up from https://gitlab.com/gitlab-org/gitlab/-/issues/375494+\n- Style check was disabled due to time constraints\n\n# Goals\n\n1. Update feature to enable style check\n2. Review implementation and ensure best practices are followed","state":"closed","created_at":"2022-10-26T11:26:03.257Z","updated_at":"2022-12-05T17:37:19.617Z","closed_at":"2022-11-28T09:28:47.015Z","closed_by":{"id":12697370,"username":"mhamda","name":"Mohamed Hamda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12697370/avatar.png","web_url":"https://gitlab.com/mhamda"},"labels":["backend","devops::fulfillment","estimation::completed","group::utilization","section::fulfillment","type::maintenance","workflow::production"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":12697370,"username":"mhamda","name":"Mohamed Hamda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12697370/avatar.png","web_url":"https://gitlab.com/mhamda"}],"author":{"id":4665308,"username":"doniquesmit","name":"Donique Smit","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c5737881c65a3063443d7692dfe04f4a?s=80\u0026d=identicon","web_url":"https://gitlab.com/doniquesmit"},"type":"ISSUE","assignee":{"id":12697370,"username":"mhamda","name":"Mohamed Hamda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12697370/avatar.png","web_url":"https://gitlab.com/mhamda"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/378993","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/378993","notes":"https://gitlab.com/api/v4/projects/278964/issues/378993/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/378993/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#378993","relative":"#378993","full":"gitlab-org/gitlab#378993"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5519,"epic":{"id":217169,"iid":5519,"title":"[Self-managed] Deactivation of dormant users","url":"/groups/gitlab-org/-/epics/5519","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":117597846,"iid":378989,"project_id":278964,"title":"Remove the number of URLs scanned from the log file","description":"\n### Problem\n\nThe ZAP log prints the number of URLs scanned. This is often incorrect, especially when running a browser-based scan. This encourages customers to believe their scan did not work correctly, when in fact it did.\n\n### Proposal\n\nChange the log `The following XXX URLs were scanned:` to remove the number. It should read `The following URLs were scanned:`\n\n### Example\n\nThere were not `10` URLs scanned in the following log output example, there were seven.\n\n```\n2022-10-20 00:43:48,944 The following 10 URLs were scanned:\nDELETE http://api-server/v1/tree/10\nGET http://api-server/\nGET http://api-server/open-api-v2.json\nGET http://api-server/v1\nGET http://api-server/v1/tree/10\nGET http://api-server/v1/trees\nPOST http://api-server/v1/trees\n```","state":"closed","created_at":"2022-10-26T11:01:40.034Z","updated_at":"2022-11-07T03:22:41.837Z","closed_at":"2022-11-06T22:26:33.866Z","closed_by":{"id":5344211,"username":"craigmsmith","name":"Craig Smith","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5344211/avatar.png","web_url":"https://gitlab.com/craigmsmith"},"labels":["Category:DAST","dast::browserker","devops::secure","feature::enhancement","group::dynamic analysis","section::sec","type::feature","workflow::in review"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":5344211,"username":"craigmsmith","name":"Craig Smith","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5344211/avatar.png","web_url":"https://gitlab.com/craigmsmith"}],"author":{"id":4312863,"username":"cam_swords","name":"Cameron Swords","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3b729cf96bcced6384ebb94f0362bd4b?s=80\u0026d=identicon","web_url":"https://gitlab.com/cam_swords"},"type":"ISSUE","assignee":{"id":5344211,"username":"craigmsmith","name":"Craig Smith","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5344211/avatar.png","web_url":"https://gitlab.com/craigmsmith"},"user_notes_count":2,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/378989","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/378989","notes":"https://gitlab.com/api/v4/projects/278964/issues/378989/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/378989/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#378989","relative":"#378989","full":"gitlab-org/gitlab#378989"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":9023,"epic":{"id":626240,"iid":9023,"title":"Browser-based DAST GA","url":"/groups/gitlab-org/-/epics/9023","group_id":9970,"human_readable_end_date":"Mar 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e months remaining"},"iteration":null,"health_status":null},{"id":117591399,"iid":378981,"project_id":278964,"title":"Upgrade snowplow-tracker to ~\u003e 0.8.0 for Ruby 3.0+ compatibility","description":"The `snowplow-tracker` gem is used for event tracking across the app.\n\nThe current version of this gem, 0.6.1, has specs failing on our `ruby3` branch, eg in the specs below. There are likely to be more, wherever we use Event Tracking:\n\n* rspec spec/features/projects/new_project_spec.rb\n* spec/features/groups/import_export/connect_instance_spec.rb\n* spec/features/groups/import_export/import_file_spec.rb\n* spec/features/groups/import_export/migration_history_spec.rb\n\nthe following error is raised:\n\n```\n1.2) Failure/Error: raise JSConsoleError, message\n          \n          JSConsoleError:\n            Unexpected browser console output:\n            security - Error with Permissions-Policy header: Origin trial controlled feature not enabled: 'interest-cohort'.\n            webpack-internal:///1WDD 550:21 \"[webpack-dev-server] Server started: Hot Module Replacement enabled, Live Reloading enabled, Progress disabled, Overlay enabled.\"\n            webpack-internal:///AjYE 18 Refused to connect to 'ws://gdk.test:3808/ws' because it violates the following Content Security Policy directive: \"connect-src 'self' ws://localhost localhost https://cdn.cookielaw.org https://*.onetrust.com *.google-analytics.com *.analytics.google.com *.googletagmanager.com\".\n          \n            webpack-internal:///1WDD 560:22 \"[webpack-dev-server]\" Event\n            https://localhost/com.snowplowanalytics.snowplow/tp2 - Failed to load resource: net::ERR_CONNECTION_REFUSED\n            security - Error with Permissions-Policy header: Origin trial controlled feature not enabled: 'interest-cohort'.\n            webpack-internal:///1WDD 550:21 \"[webpack-dev-server] Server started: Hot Module Replacement enabled, Live Reloading enabled, Progress disabled, Overlay enabled.\"\n            webpack-internal:///AjYE 18 Refused to connect to 'ws://gdk.test:3808/ws' because it violates the following Content Security Policy directive: \"connect-src 'self' ws://localhost localhost\".\n          \n```\n\nThe [snowplow-tracker docs](https://docs.snowplow.io/docs/collecting-data/collecting-from-own-applications/ruby-tracker/) say `~\u003e 0.8.0` is compatible with ruby `3.0+`.\n\nUpgrading to `0.8.0` resolves the `security - Error with Permissions-Policy header` error, however, at minimum: \n\n- the `Gitlab::Tracking::Destinations::Snowplow` class requires fixing as method arguments when creating an `emitter` and a `tracker` have changed.\n- `spec/support/helpers/stub_snowplow.rb` needs updating for the same reason.\n- the JS_CONSOLE_FILTER constant in `spec/support/capybara.rb` needs updating to filter out newly phrased error messages.","state":"closed","created_at":"2022-10-26T09:15:55.569Z","updated_at":"2023-01-04T13:54:19.233Z","closed_at":"2022-12-19T00:36:34.204Z","closed_by":{"id":9712164,"username":"nbelokolodov","name":"Niko Belokolodov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9712164/avatar.png","web_url":"https://gitlab.com/nbelokolodov"},"labels":["devops::analytics","group::product intelligence","maintenance::dependency","section::analytics","type::maintenance","workflow::production"],"milestone":{"id":2745648,"iid":83,"group_id":9970,"title":"15.8","description":"","state":"active","created_at":"2022-08-22T16:57:34.875Z","updated_at":"2022-08-22T16:57:34.875Z","due_date":"2023-01-17","start_date":"2022-12-18","expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/83"},"assignees":[{"id":9712164,"username":"nbelokolodov","name":"Niko Belokolodov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9712164/avatar.png","web_url":"https://gitlab.com/nbelokolodov"}],"author":{"id":11342168,"username":"carlad-gl","name":"Carla Drago","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11342168/avatar.png","web_url":"https://gitlab.com/carlad-gl"},"type":"ISSUE","assignee":{"id":9712164,"username":"nbelokolodov","name":"Niko Belokolodov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9712164/avatar.png","web_url":"https://gitlab.com/nbelokolodov"},"user_notes_count":20,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/378981","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/378981","notes":"https://gitlab.com/api/v4/projects/278964/issues/378981/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/378981/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#378981","relative":"#378981","full":"gitlab-org/gitlab#378981"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8845,"epic":{"id":610254,"iid":8845,"title":"Audit and fix gitlab-rails dependencies for Ruby 3 compat","url":"/groups/gitlab-org/-/epics/8845","group_id":9970,"human_readable_end_date":"Jan 31, 2023","human_readable_timestamp":"\u003cstrong\u003e16\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":117575854,"iid":378966,"project_id":278964,"title":"Connect the existing \"Preview\" tab to the live-preview functionality","description":"As a transitional state towards the use of the SE toolbar, we want to prime the users to use the new live-previe functionality when editing the markdown field.\n\nAt the moment, the functionality is available as a contextual menu in the editor itself, or as a button on the SE toolbar for the users who has the `source_editor_toolbar` flag enabled. This issue is aiming at unifying the preview experience for markdown editing.\n\n## Currently available entry points for live-preview\n\n| Contextual menu | SE toolbar |\n| ------ | ------ |\n|    ![Screenshot_2022-10-26_at_05.54.47](/uploads/a4dc1888ee47a7c364449059ff50151a/Screenshot_2022-10-26_at_05.54.47.png)    |    ![Screenshot_2022-10-26_at_05.57.33](/uploads/4fd0048d86210df9c4689c562f5f773b/Screenshot_2022-10-26_at_05.57.33.png)    |","state":"closed","created_at":"2022-10-26T03:38:32.102Z","updated_at":"2022-11-29T13:05:36.187Z","closed_at":"2022-10-28T09:08:54.337Z","closed_by":{"id":3199302,"username":"dmishunov","name":"Denys Mishunov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d85e45af29611ac2c1395e3c3d6ec5d6?s=80\u0026d=identicon","web_url":"https://gitlab.com/dmishunov"},"labels":["Deliverable","Development Department","Source Editor","devops::create","frontend","group::editor","section::dev","type::maintenance"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":3199302,"username":"dmishunov","name":"Denys Mishunov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d85e45af29611ac2c1395e3c3d6ec5d6?s=80\u0026d=identicon","web_url":"https://gitlab.com/dmishunov"}],"author":{"id":3199302,"username":"dmishunov","name":"Denys Mishunov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d85e45af29611ac2c1395e3c3d6ec5d6?s=80\u0026d=identicon","web_url":"https://gitlab.com/dmishunov"},"type":"ISSUE","assignee":{"id":3199302,"username":"dmishunov","name":"Denys Mishunov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d85e45af29611ac2c1395e3c3d6ec5d6?s=80\u0026d=identicon","web_url":"https://gitlab.com/dmishunov"},"user_notes_count":13,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/378966","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/378966","notes":"https://gitlab.com/api/v4/projects/278964/issues/378966/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/378966/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#378966","relative":"#378966","full":"gitlab-org/gitlab#378966"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":9096,"epic":{"id":636097,"iid":9096,"title":"Hide Preview tab when the toolbar with the preview icon is available","url":"/groups/gitlab-org/-/epics/9096","group_id":9970,"human_readable_end_date":"Nov 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":117575666,"iid":378964,"project_id":278964,"title":"Document how to know whether a new feature needs Geo support","description":"Follow up for https://gitlab.com/gitlab-org/gitlab/-/merge_requests/97172#note_1148615680:\n\n\u003e How does someone decide that Geo support is needed? Looking at https://docs.gitlab.com/ee/development/geo/framework.html, I think it would help to have a decision tree or some criteria. For example, something along the lines: \"If you add a new ActiveRecord model that uses object storage or repository data, you need to add support for Geo replication. For example, a few years ago snippets used to be managed in the database alone. We later made it managed by a Git repository. If you're simply adding a model that only stores data in the database (e.g. `issues`), you do not need to do anything more.\"\n\n## Proposal\n\n(Mike proposed this but do whatever is clearest)\n\n- Add a doc section called e.g. `How to determine whether a new feature requires work to be supported by Geo` above https://docs.gitlab.com/ee/development/geo.html#steps-needed-to-replicate-a-new-data-type\n- Write introduction\n- Write a doc subsection e.g. `Git repositories` (a one-liner saying it needs to be added with [the SSF framework](https://docs.gitlab.com/ee/development/geo/framework.html))\n- Write a doc subsection e.g. `Files or blobs` (Mention that reusing Upload model gains Geo support for free, but this should not be done when large amount of data is expected. Otherwise, it likely needs to be added with [the SSF framework](https://docs.gitlab.com/ee/development/geo/framework.html). Mention that https://gitlab.com/gitlab-org/gitlab/-/merge_requests/102207 is supposed to detect this by failing on the addition of new blobs.)\n- Write a doc subsection e.g. `Features with more than one kind of data` (use Designs as an example)\n- Write a doc subsection e.g. `Other` (use Container Repositories as an example. Also mention that if data is not tracked in the main or CI Postgres databases, then likely an ActiveRecord Model should be added, which will enable Geo to use the above approaches.)\n- Reference [the data types doc](https://docs.gitlab.com/ee/administration/geo/replication/datatypes.html)\n- Update `ee/spec/uploaders/every_gitlab_uploader_spec.rb` to point to this doc section","state":"closed","created_at":"2022-10-26T03:31:31.098Z","updated_at":"2022-11-22T20:06:08.113Z","closed_at":"2022-11-17T20:41:15.730Z","closed_by":{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"},"labels":["devops::systems","documentation","group::geo","maintenance::workflow","priority::2","section::enablement","type::maintenance","workflow::in review"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"}],"author":{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"},"type":"ISSUE","assignee":{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"},"user_notes_count":10,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/378964","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/378964","notes":"https://gitlab.com/api/v4/projects/278964/issues/378964/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/378964/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#378964","relative":"#378964","full":"gitlab-org/gitlab#378964"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":117572977,"iid":378961,"project_id":278964,"title":"[Feature flag] Rollout of `ci_retry_job_fix`","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n## Summary\n\nThis issue is to rollout [the feature](https://gitlab.com/gitlab-org/gitlab/-/issues/207988) on production,\nthat is currently behind the `ci_retry_job_fix` feature flag.\n\n\u003c!-- Short description of what the feature is about and link to relevant other issues. --\u003e\n\n## Owners\n\n- Team: Pipeline Execution\n- Most appropriate slack channel to reach out to: `#g_pipeline_execution`\n- Best individual to reach out to: Tianwen Chen @tianwenchen\n- PM: @jheimbuck_gl \n\n## Stakeholders\n\n\u003c!--\nAre there any other stages or teams involved that need to be kept in the loop?\n\n- Name of a PM\n- The Support Team\n- The Delivery Team\n--\u003e\n\n## Expectations\n\n### What are we expecting to happen?\n\nThis feature flag is to help rolling out a fix to ensure retry job can not be executed if previous stage failed.\n\n\n### When is the feature viable?\n\nAs soon as the fix is deployed.\n\n### What might happen if this goes wrong?\n\n- Turn off this feature\n\n### What can we monitor to detect problems with this?\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? --\u003e\n_Consider mentioning checks for 5xx errors or other anomalies like an increase in redirects \n(302 HTTP response status)_\n\n### What can we check for monitoring production after rollouts?\n\n_Consider adding links to check for Sentry errors, Production logs for 5xx, 302s, etc._\n\n## Rollout Steps\n\n### Rollout on non-production environments\n\n- Ensure that the feature MRs have been deployed to non-production environments.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- [x] Enable the feature globally on non-production environments.\n    - [x] `/chatops run feature set ci_retry_job_fix true --dev --staging --staging-ref`\n- [x] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n      The best environment to validate the feature in is [staging-canary](https://about.gitlab.com/handbook/engineering/infrastructure/environments/#staging-canary)\n      as this is the first environment deployed to. Note you will need to make sure you are configured to use canary as outlined [here](https://about.gitlab.com/handbook/engineering/infrastructure/environments/canary-stage/)\n      when accessing the staging environment in order to make sure you are testing appropriately.\n\n### Specific rollout on production\n\n- Ensure that the feature MRs have been deployed to both production and canary.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- If you're using [project-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [x] `/chatops run feature set --project=gitlab-org/gitlab,gitlab-org/gitlab-foss,gitlab-com/www-gitlab-com ci_retry_job_fix true`\n- If you're using [group-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [x] `/chatops run feature set --group=gitlab-org,gitlab-com ci_retry_job_fix true`\n- If you're using [user-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [x] `/chatops run feature set --user=\u003cyour-username\u003e ci_retry_job_fix true`\n- [x] Verify that the feature works on the specific entries. Posting the QA result in this issue is preferable.\n\n### Preparation before global rollout\n\n- [x] Set a milestone to the rollout issue to signal for enabling and removing the feature flag when it is stable.\n- [x] Check if the feature flag change needs to be accompanied with a\n  [change management issue](https://about.gitlab.com/handbook/engineering/infrastructure/change-management/#feature-flags-and-the-change-management-process).\n  Cross link the issue here if it does.\n- [x] Ensure that you or a representative in development can be available for at least 2 hours after feature flag updates in production.\n  If a different developer will be covering, or an exception is needed, please inform the oncall SRE by using the `@sre-oncall` Slack alias.\n- [ ] Ensure that documentation has been updated ([More info](https://docs.gitlab.com/ee/development/documentation/feature_flags.html#features-that-became-enabled-by-default)).\n- [x] Announce on [the feature issue](ISSUE LINK) an estimated time this will be enabled on GitLab.com. \n- [x] Ensure that any breaking changes have been announced following the [release post process](https://about.gitlab.com/handbook/marketing/blog/release-posts/#deprecations-removals-and-breaking-changes) to ensure GitLab customers are aware.\n- [ ] Notify `#support_gitlab-com` and your team channel ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#communicate-the-change)).\n\n### Global rollout on production\n\nFor visibility, all `/chatops` commands that target production should be executed in the `#production` slack channel and cross-posted (with the command results) to the responsible team's slack channel (`#g_TEAM_NAME`).\n\n- [x] [Incrementally roll out](https://docs.gitlab.com/ee/development/feature_flags/controls.html#process) the feature.\n  - If the feature flag in code has [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform **actor-based** rollout.\n    - [ ] `/chatops run feature set ci_retry_job_fix \u003crollout-percentage\u003e --actors`\n  - If the feature flag in code does **NOT** have [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform time-based rollout (**random** rollout).\n    - [x] `/chatops run feature set ci_retry_job_fix \u003crollout-percentage\u003e --random`\n  - Enable the feature globally on production environment.\n    - [x] `/chatops run feature set ci_retry_job_fix true`\n- [x] Announce on [the feature issue](ISSUE LINK) that the feature has been globally enabled.\n- [x] Wait for [at least one day for the verification term](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release).\n\n### (Optional) Release the feature with the feature flag\n\nIf you're still unsure whether the feature is [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release)\nbut want to release it in the current milestone, you can change the default state of the feature flag to be enabled.\nTo do so, follow these steps:\n\n- [ ] Create a merge request with the following changes. Ask for review and merge it.\n    - [ ] Set the `default_enabled` attribute in [the feature flag definition](https://docs.gitlab.com/ee/development/feature_flags/#feature-flag-definition-and-validation) to `true`.\n    - [ ] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the default-enabling MR has been included in the release package.\n      If the merge request was deployed before [the monthly release was tagged](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run release check \u003cmerge-request-url\u003e \u003cmilestone\u003e`\n- [ ] Consider cleaning up the feature flag from all environments by running these chatops command in `#production` channel. Otherwise these settings may override the default enabled.\n    - [ ] `/chatops run feature delete ci_retry_job_fix --dev --staging --staging-ref --production`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [ ] Set the next milestone to this rollout issue for scheduling [the flag removal](#release-the-feature).\n- [ ] (Optional) You can [create a separate issue](https://gitlab.com/gitlab-org/gitlab/-/issues/new?issuable_template=Feature%20Flag%20Cleanup) for scheduling the steps below to [Release the feature](#release-the-feature).\n    - [ ] Set the title to \"[Feature flag] Cleanup `ci_retry_job_fix`\".\n    - [ ] Execute the `/copy_metadata \u003cthis-rollout-issue-link\u003e` quick action to copy the labels from this rollout issue.\n    - [ ] Link this rollout issue as a related issue.\n    - [ ] Close this rollout issue.\n\n**WARNING:** This approach has the downside that it makes it difficult for us to\n[clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) the flag.\nFor example, on-premise users could disable the feature on their GitLab instance. But when you\nremove the flag at some point, they suddenly see the feature as enabled and they can't roll it back\nto the previous behavior. To avoid this potential breaking change, use this approach only for urgent\nmatters.\n\n### Release the feature\n\nAfter the feature has been [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release),\nthe [clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up)\nshould be done as soon as possible to permanently enable the feature and reduce complexity in the\ncodebase.\n\nYou can either [create a follow-up issue for Feature Flag Cleanup](https://gitlab.com/gitlab-org/gitlab/-/issues/new?issuable_template=Feature%20Flag%20Cleanup) or use the checklist below in this same issue.\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [x] Create a merge request to remove `ci_retry_job_fix` feature flag. Ask for review and merge it.\n    - [x] Remove all references to the feature flag from the codebase.\n    - [x] Remove the YAML definitions for the feature from the repository.\n    - [x] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [x] Ensure that the cleanup MR has been included in the release package.\n      If the merge request was deployed before [the monthly release was tagged](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [x] `/chatops run release check \u003cmerge-request-url\u003e \u003cmilestone\u003e`\n- [x] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [x] If not already done, clean up the feature flag from all environments by running these chatops command in `#production` channel:\n    - [x] `/chatops run feature delete ci_retry_job_fix --dev --staging --staging-ref --production`\n- [x] Close this rollout issue.\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set ci_retry_job_fix false\n```\n\n\u003c!-- A feature flag can also be used for rolling out a bug fix or a maintenance work.\nIn this scenario, labels must be related to it, for example; ~\"type::feature\", ~\"type::bug\" or ~\"type::maintenance\".\nPlease use /copy_metadata to copy the labels from the issue you're rolling out. --\u003e","state":"closed","created_at":"2022-10-26T00:49:26.658Z","updated_at":"2022-11-24T00:26:31.585Z","closed_at":"2022-11-23T06:57:32.628Z","closed_by":{"id":12411397,"username":"tianwenchen","name":"Tianwen Chen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4219e592c672f4bd062add405865f9aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/tianwenchen"},"labels":["Category:Continuous Integration","Track Health Status","backend","devops::verify","feature flag","group::pipeline execution","missed:15.6","section::ops","type::maintenance","workflow::production"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":12411397,"username":"tianwenchen","name":"Tianwen Chen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4219e592c672f4bd062add405865f9aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/tianwenchen"}],"author":{"id":12411397,"username":"tianwenchen","name":"Tianwen Chen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4219e592c672f4bd062add405865f9aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/tianwenchen"},"type":"ISSUE","assignee":{"id":12411397,"username":"tianwenchen","name":"Tianwen Chen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4219e592c672f4bd062add405865f9aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/tianwenchen"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2022-11-26","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/378961","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":47,"completed_count":29},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"29 of 47 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/378961","notes":"https://gitlab.com/api/v4/projects/278964/issues/378961/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/378961/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#378961","relative":"#378961","full":"gitlab-org/gitlab#378961"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":117566904,"iid":378944,"project_id":278964,"title":"TODO and user activity filters should handle work items","description":"Follow up on https://gitlab.com/gitlab-org/gitlab/-/issues/375662#note_1118399420\n\nWe have a filter which has `ISSUE` as a subtype, this probably wants updating to handle work items as a special category :thinking:\n\n`lib/event_filter.rb` has several references to `ISSUE`:\n\n* https://gitlab.com/gitlab-org/gitlab/-/blob/25e9b7bc2bc19acf779a587504e6762f5fc35414/lib/event_filter.rb#L41\n* https://gitlab.com/gitlab-org/gitlab/-/blob/25e9b7bc2bc19acf779a587504e6762f5fc35414/lib/event_filter.rb#L97\n\nAnd we want to fix the filter for TODOs too, currently they probably only account for `target_type = 'Issue'`","state":"closed","created_at":"2022-10-25T20:30:15.170Z","updated_at":"2022-12-21T17:10:34.805Z","closed_at":"2022-12-21T17:10:34.781Z","closed_by":{"id":8110537,"username":"mcelicalderonG","name":"Mario Celi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8110537/avatar.png","web_url":"https://gitlab.com/mcelicalderonG"},"labels":["Deliverable","[deprecated] Accepting merge requests","backend","devops::plan","feature::enhancement","group::project management","missed-deliverable","missed:15.6","missed:15.7","quad-planning::complete-no-action","section::dev","type::feature","workflow::production"],"milestone":{"id":2745648,"iid":83,"group_id":9970,"title":"15.8","description":"","state":"active","created_at":"2022-08-22T16:57:34.875Z","updated_at":"2022-08-22T16:57:34.875Z","due_date":"2023-01-17","start_date":"2022-12-18","expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/83"},"assignees":[{"id":8110537,"username":"mcelicalderonG","name":"Mario Celi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8110537/avatar.png","web_url":"https://gitlab.com/mcelicalderonG"}],"author":{"id":8110537,"username":"mcelicalderonG","name":"Mario Celi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8110537/avatar.png","web_url":"https://gitlab.com/mcelicalderonG"},"type":"ISSUE","assignee":{"id":8110537,"username":"mcelicalderonG","name":"Mario Celi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8110537/avatar.png","web_url":"https://gitlab.com/mcelicalderonG"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/378944","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/378944","notes":"https://gitlab.com/api/v4/projects/278964/issues/378944/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/378944/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#378944","relative":"#378944","full":"gitlab-org/gitlab#378944"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":117564031,"iid":378937,"project_id":278964,"title":"SAML/SCIM API :uid parameter unable to handle periods","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"type::bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=type::bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\n\u003c!-- Summarize the bug encountered concisely. --\u003e\nRelated to [#98354](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/98354), customers are unable to update [SAML](https://docs.gitlab.com/ee/api/saml.html#update-extern_uid-field-for-a-saml-identity)/[SCIM](https://docs.gitlab.com/ee/api/saml.html#update-extern_uid-field-for-a-saml-identity) `extern_uid` via API when the current value includes a period. e.g. value is an email\n\n### Steps to reproduce\n\n\u003c!-- Describe how one can reproduce the issue - this is very important. Please use an ordered list. --\u003e\n1. Assign an identity to a user that includes a period\n2. Make a PATCH request to the `groups/:groups_id/saml/:uid` endpoint to update the users identity\n\n### What is the current *bug* behavior?\n\n\u003c!-- Describe what actually happens. --\u003e\nDue to the period, it is unable to find the identity and errors out with a 404.\n\n### What is the expected *correct* behavior?\n\n\u003c!-- Describe what you should see instead. --\u003e\nSuccessful response showing the updated `extern_uid` and `user_id`\n\n### Relevant logs and/or screenshots\n\n\u003c!-- Paste any relevant logs - please use code blocks (```) to format console output, logs, and code\n as it's tough to read otherwise. --\u003e\nUnsuccessful with period:\n```bash\ncurl --location --request PATCH \"https://gitlab.com/api/v4/groups/58946864/saml/test+test@gitlab.com\" --header 'PRIVATE-TOKEN: token' --form 'extern_uid=test'\n{\"message\":\"404 Identity Not Found\"}\n```\n\nSuccessful without period:\n```bash\ncurl --location --request PATCH \"https://gitlab.com/api/v4/groups/58946864/saml/test+test@gitlabcom\" --header 'PRIVATE-TOKEN: token' --form 'extern_uid=test'\n{\"extern_uid\":\"test\",\"user_id\":8278845}\n```\n\n### Possible fixes\n\n\u003c!-- If you can, link to the line of code that might be responsible for the problem. --\u003e\nhttps://gitlab.com/gitlab-org/gitlab/-/blob/master/ee/lib/api/provider_identity.rb#L45","state":"closed","created_at":"2022-10-25T19:06:36.461Z","updated_at":"2022-12-13T14:04:56.544Z","closed_at":"2022-11-29T17:57:18.408Z","closed_by":{"id":12519771,"username":"adil.farrukh","name":"Adil Farrukh","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12519771/avatar.png","web_url":"https://gitlab.com/adil.farrukh"},"labels":["Support Efficiency","[deprecated] Accepting merge requests","customer","devops::manage","group::authentication and authorization","section::dev","severity::3","type::bug","workflow::in review"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":11811081,"username":"sgarg_gitlab","name":"Smriti Garg","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11811081/avatar.png","web_url":"https://gitlab.com/sgarg_gitlab"}],"author":{"id":11346989,"username":"j.castillo","name":"Jiovanni Castillo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11346989/avatar.png","web_url":"https://gitlab.com/j.castillo"},"type":"ISSUE","assignee":{"id":11811081,"username":"sgarg_gitlab","name":"Smriti Garg","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11811081/avatar.png","web_url":"https://gitlab.com/sgarg_gitlab"},"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/378937","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/378937","notes":"https://gitlab.com/api/v4/projects/278964/issues/378937/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/378937/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#378937","relative":"#378937","full":"gitlab-org/gitlab#378937"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":117561726,"iid":378928,"project_id":278964,"title":"Update permissions for SSO enforcement for public groups","description":"Related to gitlab-com/gl-infra/production#7891. We realized that SSO enforcement is broken for public (and internal, although internal projects and groups can't be created anymore on .com) groups. The behavior is that both members and non-members could access groups/projects but couldn't do things like comment/discuss. The discussion appeared locked. This is because the page load itself was successful and didn't redirect to SSO but AJAX requests were failing SSO enforcement checks. \n\nPotential fix is to prevent public access in project policy - POC https://gitlab.com/gitlab-org/gitlab/-/commit/cede1938d23e5c5593cda03ec4f2f27eaf5370fc\n\nWe also need to update documentation to make it clear what the behavior is. \n\n## Current behavior as I understand it (*without* Transparent SSO)\n\n**Private**\n\n| Visibility | SSO Enforced Setting | Member |  Non-member |\n| ------- | -------- | ------ | ------ |\n| Private | Off | Not enforced | No access |\n| Private | Enforced | Enforced | No access |\n| Internal  | Off | Not enforced | Not enforced |\n| Internal | Enforced | Enforced | Enforced (but broken) |\n| Public | Off | Not enforced | Not enforced |\n| Public | Enforced | Enforced (but broken) | Enforced (but broken) |\n\n## Desired behavior (w/ Transparent SSO)\n\n| Visibility | SSO Enforced Setting | Member w/ Identity | Member w/o Identity |  Non-member/Anonymous user (Not signed in) |\n| ------- | -------- | ------ | ------ | ----- |\n| Private | Off | Enforced | Not enforced | No access |\n| Private | Enforced | Enforced | Enforced | No access |\n| Internal  | Off | Enforced | Not enforced | Not enforced |\n| Internal | Enforced | Enforced | Enforced | Not enforced |\n| Public | Off | Enforced | Not enforced | Not enforced |\n| Public | Enforced | Enforced | Enforced | Not enforced |","state":"closed","created_at":"2022-10-25T18:08:08.945Z","updated_at":"2023-01-13T23:36:46.933Z","closed_at":"2022-11-10T21:17:22.393Z","closed_by":{"id":13356,"username":"dblessing","name":"Drew Blessing","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b5bf44866b4eeafa2d8114bfe15da02f?s=80\u0026d=identicon","web_url":"https://gitlab.com/dblessing"},"labels":["devops::manage","group::authentication and authorization","section::dev","type::bug","workflow::complete"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":13356,"username":"dblessing","name":"Drew Blessing","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b5bf44866b4eeafa2d8114bfe15da02f?s=80\u0026d=identicon","web_url":"https://gitlab.com/dblessing"}],"author":{"id":13356,"username":"dblessing","name":"Drew Blessing","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b5bf44866b4eeafa2d8114bfe15da02f?s=80\u0026d=identicon","web_url":"https://gitlab.com/dblessing"},"type":"ISSUE","assignee":{"id":13356,"username":"dblessing","name":"Drew Blessing","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b5bf44866b4eeafa2d8114bfe15da02f?s=80\u0026d=identicon","web_url":"https://gitlab.com/dblessing"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/378928","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/378928","notes":"https://gitlab.com/api/v4/projects/278964/issues/378928/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/378928/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#378928","relative":"#378928","full":"gitlab-org/gitlab#378928"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":117548464,"iid":378904,"project_id":278964,"title":"Frontend: Loading state in pipeline mini graph dropdown misaligned","description":"## Summary\n\nCurrently, the loading state in the pipeline mini graph dropdown is misaligned which produces the layout below.\n\n![mr_pipeline_loading_before](/uploads/5e957f39a118a19931a5f7af262d26c4/mr_pipeline_loading_before.png)\n\n## Proposal\n\nFix so that the alignment is consistent with the pipeline mini graph layout.\n\n## Additional details\n\u003c!--\n_NOTE: If the issue has addressed all of these questions, this separate section can be removed._\n--\u003e\n\nSome relevant technical details, if applicable, such as:\n\n- Does this need a ~\"feature flag\"? No.\n- Is there an example response showing the data structure that should be returned (new endpoints only)? N/A\n- What permissions should be used?  N/A\n- Is this EE or CE?\n    - [ ] EE\n    - [ ] CE\n- Additional comments:\n\n\u003c!--\n## Documentation \n\n_NOTE: This section is optional, but can be used for easy access to any relevant documentation URLs._\n--\u003e\n\n## Links/References","state":"closed","created_at":"2022-10-25T14:38:36.242Z","updated_at":"2022-11-05T12:13:29.928Z","closed_at":"2022-11-04T18:34:01.987Z","closed_by":{"id":11222776,"username":"bsandlin","name":"Briley  Sandlin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11222776/avatar.png","web_url":"https://gitlab.com/bsandlin"},"labels":["Beautifying our UI","Category:Pipeline Authoring","SUS::Impacting","UX","bug::ux","devops::verify","frontend","group::pipeline authoring","section::ops","severity::4","type::bug"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":11222776,"username":"bsandlin","name":"Briley  Sandlin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11222776/avatar.png","web_url":"https://gitlab.com/bsandlin"}],"author":{"id":11222776,"username":"bsandlin","name":"Briley  Sandlin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11222776/avatar.png","web_url":"https://gitlab.com/bsandlin"},"type":"ISSUE","assignee":{"id":11222776,"username":"bsandlin","name":"Briley  Sandlin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11222776/avatar.png","web_url":"https://gitlab.com/bsandlin"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/378904","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/378904","notes":"https://gitlab.com/api/v4/projects/278964/issues/378904/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/378904/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#378904","relative":"#378904","full":"gitlab-org/gitlab#378904"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6135,"epic":{"id":285131,"iid":6135,"title":"Mini Pipeline Graph - Making CI Navigation Easier","url":"/groups/gitlab-org/-/epics/6135","group_id":9970,"human_readable_end_date":"Nov 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":{"id":74860,"iid":115,"sequence":28,"group_id":9970,"title":null,"description":null,"state":3,"created_at":"2022-08-08T00:05:02.221Z","updated_at":"2022-11-14T00:05:02.449Z","start_date":"2022-10-31","due_date":"2022-11-13","web_url":"https://gitlab.com/groups/gitlab-org/-/iterations/74860"},"health_status":null},{"id":117522902,"iid":378886,"project_id":278964,"title":"[MR Widget V2] Add action buttons for widgets using extension api","description":"Similar to https://gitlab.com/gitlab-org/gitlab/-/issues/376152, we have to handle action buttons for widgets using the extension API. The difference between this issue and https://gitlab.com/gitlab-org/gitlab/-/issues/376152 is that the other issue was for the MR Security Reports Widget, which uses the `slot` approach to render the component. This issue targets the widgets using the [Extension API](https://docs.gitlab.com/ee/development/fe_guide/merge_request_widget_extensions.html#data-structure).\n\n![Screenshot](https://gitlab.com/gitlab-org/gitlab/uploads/2b01648a6d6ead3d743533a7d283e08f/Screenshot_2022-10-05_at_09.53.51.png)\n\n## Implementation plan\n\n- [ ] Extend https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/assets/javascripts/vue_merge_request_widget/components/widget/widget_content_row.vue so that it displays action buttons on the right side of the row.\n\n## Verification steps\n\n- [ ] Follow the steps to setup the feature locally: https://gitlab.com/gitlab-org/gitlab/-/merge_requests/103637\n- [ ] Verify that the MR widgets display action buttons on the secondary level as shown in the image above.","state":"closed","created_at":"2022-10-25T09:45:51.543Z","updated_at":"2022-11-15T18:42:57.882Z","closed_at":"2022-11-15T18:42:57.852Z","closed_by":{"id":4907528,"username":"dftian","name":"Daniel Tian","state":"active","avatar_url":"https://secure.gravatar.com/avatar/5d7186a64c42708833291afd7749c7b5?s=80\u0026d=identicon","web_url":"https://gitlab.com/dftian"},"labels":["Category:Vulnerability Management","Threat Insights::Navy","auto updated","devops::govern","frontend","group::threat insights","merge request widget","section::sec","type::maintenance","workflow::verification"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":4907528,"username":"dftian","name":"Daniel Tian","state":"active","avatar_url":"https://secure.gravatar.com/avatar/5d7186a64c42708833291afd7749c7b5?s=80\u0026d=identicon","web_url":"https://gitlab.com/dftian"}],"author":{"id":5535246,"username":"svedova","name":"Savas Vedova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535246/avatar.png","web_url":"https://gitlab.com/svedova"},"type":"ISSUE","assignee":{"id":4907528,"username":"dftian","name":"Daniel Tian","state":"active","avatar_url":"https://secure.gravatar.com/avatar/5d7186a64c42708833291afd7749c7b5?s=80\u0026d=identicon","web_url":"https://gitlab.com/dftian"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/378886","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/378886","notes":"https://gitlab.com/api/v4/projects/278964/issues/378886/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/378886/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#378886","relative":"#378886","full":"gitlab-org/gitlab#378886"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8353,"epic":{"id":564248,"iid":8353,"title":"[MR Widget] V2","url":"/groups/gitlab-org/-/epics/8353","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":117522822,"iid":378884,"project_id":278964,"title":"Refactor fetching board lists to from Vuex actions to Apollo queries","description":"This issue is a part of https://gitlab.com/groups/gitlab-org/-/epics/9026\n\nWe need to refactor fetching board lists to use in-component Apollo query instead of Vuex action.","state":"closed","created_at":"2022-10-25T09:44:44.205Z","updated_at":"2022-11-08T00:19:38.535Z","closed_at":"2022-11-08T00:19:38.511Z","closed_by":{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"},"labels":["devops::plan","frontend","group::product planning","maintenance::refactor","section::dev","type::maintenance"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"}],"author":{"id":2950912,"username":"ntepluhina","name":"Natalia Tepluhina","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2950912/avatar.png","web_url":"https://gitlab.com/ntepluhina"},"type":"ISSUE","assignee":{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/378884","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/378884","notes":"https://gitlab.com/api/v4/projects/278964/issues/378884/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/378884/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#378884","relative":"#378884","full":"gitlab-org/gitlab#378884"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":9026,"epic":{"id":626677,"iid":9026,"title":"Migrate issue boards from Vuex+Apollo to Apollo only","url":"/groups/gitlab-org/-/epics/9026","group_id":9970,"human_readable_end_date":"Dec 31, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":117522783,"iid":378883,"project_id":278964,"title":"Move non-reactive board properties to `provide`","description":"This issue is a part of https://gitlab.com/groups/gitlab-org/-/epics/9026\n\nTo reduce the number of props passed down to the application, we need to analyze the Vuex state properties and evaluate which ones are not dynamic. Those properties can and should be moved to `provide` on Boards app mount","state":"closed","created_at":"2022-10-25T09:43:55.299Z","updated_at":"2023-01-12T02:19:35.325Z","closed_at":"2023-01-12T02:12:18.261Z","closed_by":{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"},"labels":["devops::plan","frontend","maintenance::refactor","section::dev","type::maintenance","workflow::complete"],"milestone":{"id":2745648,"iid":83,"group_id":9970,"title":"15.8","description":"","state":"active","created_at":"2022-08-22T16:57:34.875Z","updated_at":"2022-08-22T16:57:34.875Z","due_date":"2023-01-17","start_date":"2022-12-18","expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/83"},"assignees":[{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"}],"author":{"id":2950912,"username":"ntepluhina","name":"Natalia Tepluhina","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2950912/avatar.png","web_url":"https://gitlab.com/ntepluhina"},"type":"ISSUE","assignee":{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/378883","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":1,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/378883","notes":"https://gitlab.com/api/v4/projects/278964/issues/378883/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/378883/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#378883","relative":"#378883","full":"gitlab-org/gitlab#378883"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":9026,"epic":{"id":626677,"iid":9026,"title":"Migrate issue boards from Vuex+Apollo to Apollo only","url":"/groups/gitlab-org/-/epics/9026","group_id":9970,"human_readable_end_date":"Dec 31, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":117518633,"iid":378878,"project_id":278964,"title":"Define version 1 of User Dashboard Schema","description":"## Overview\n\nWe're aiming to define version 1 of a schema and directory structure to define user-defined dashboards. Collaboration on this goal should happen entirely in this issue.\n\n## How to use this issue\n\n:warning: **The issue description is the SSoT for the current state of the schema and directory structure.** :warning:\n\nDiscussion should occur in comments and threads.\n\n## Directory Structure\n\n* Each project can have multiple dashboards and each dashboard should be contained within its own directory. The root directory should be `.gitlab/product_analytics_dashboards`. Example:\n\n```\n.gitlab/product_analytics_dashboards\nâ”œâ”€â”€ conversion_funnels\nâ”‚Â Â  â””â”€â”€ conversion_funnels.yaml\nâ”œâ”€â”€ demographic_breakdown\nâ”‚Â Â  â””â”€â”€ demographic_breakdown.yaml\nâ”œâ”€â”€ north_star_metrics\n Â Â  â””â”€â”€ north_star_metrics.yaml\n```\n\n* Only YAML files are supported.\n* The name of the directory should be a unique slug name of the dashboard. We can use that as the URL route.\n* Each dashboard folder should _at a minimum_ contain a dashboard definition file. The filename should match the folder name + `.yaml`.\n\n## Dashboard Definition Example\n\n```yaml\n---\nversion: '1'\ntitle: North Star Metrics\ndescription: North Star Metrics across all departments for the last 3 quarters.\n# Filters are applied to every widget\nfilters:\n  timeDimensions:\n    dateRange:\n      - '2016-01-01'\n      - '2016-01-30'\nwidgets:\n  - title: Overall Conversion Rate\n    gridAttributes:\n      yPos: 4\n      xPos: 1\n      width: 12\n      height: 2\n    visualization: CubeLineChart\n```\n\n## Visualization Definition Example\n\n```yaml\n---\nversion: '1'\ntype: LineChart\noptions:\n  xAxis\n    name: Time\n    type: time\n  yAxis: \n    name: Counts\ndata:\n  type: Cube\n  query:\n    measures:\n      - Stories.count\n    dimensions:\n      - Stories.category\n    filters:\n      - member: Stories.isDraft\n        operator: equals\n        values:\n          - 'No'\n    timeDimensions:\n      - dimension: Stories.time\n        # dateRange set by the dashboard filter\n        granularity: month\n    limit: 100\n    offset: 50\n    order:\n      Stories.time: asc\n      Stories.count: desc\n    timezone: America/Los_Angeles\n```","state":"closed","created_at":"2022-10-25T08:38:22.722Z","updated_at":"2022-12-14T12:20:43.820Z","closed_at":"2022-11-16T14:31:05.342Z","closed_by":{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"},"labels":["Category:Product Analytics","backend","devops::analytics","feature::addition","group::product analytics","section::analytics","spike","type::feature","workflow::in dev"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"}],"author":{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"},"type":"ISSUE","assignee":{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"},"user_notes_count":57,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2022-11-04","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/378878","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/378878","notes":"https://gitlab.com/api/v4/projects/278964/issues/378878/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/378878/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#378878","relative":"#378878","full":"gitlab-org/gitlab#378878"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8574,"epic":{"id":582847,"iid":8574,"title":"Schema-driven customizable dashboards for Product Analytics","url":"/groups/gitlab-org/-/epics/8574","group_id":9970,"human_readable_end_date":"Dec 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":117511621,"iid":378868,"project_id":278964,"title":"Improve Insights data loading error - Frontend","description":"### Summary\n\nWhen Insights loads data there might be query timeouts due to query volume. We should inform users that the chart wasn't loaded because query tries to load too much data and suggest them to reduce data volume. More info [here](https://gitlab.com/gitlab-org/gitlab/-/issues/338802#note_1086771853)\n\n### Proposal\n\nWhen Insights query timeouts API should return custom error message. This error message should be displayed to user instead of corresponding chart data.","state":"closed","created_at":"2022-10-25T07:27:10.619Z","updated_at":"2022-12-21T12:01:49.335Z","closed_at":"2022-11-25T09:10:26.547Z","closed_by":{"id":3101551,"username":"blabuschagne","name":"Brandon Labuschagne","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3101551/avatar.png","web_url":"https://gitlab.com/blabuschagne"},"labels":["Category:DevOps Reports","Deliverable","Technical Writing","devops::plan","documentation","frontend","group::optimize","insights","priority::2","section::dev","type::maintenance","workflow::in dev"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":3397881,"username":"ekigbo","name":"Ezekiel Kigbo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3397881/avatar.png","web_url":"https://gitlab.com/ekigbo"}],"author":{"id":3101551,"username":"blabuschagne","name":"Brandon Labuschagne","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3101551/avatar.png","web_url":"https://gitlab.com/blabuschagne"},"type":"ISSUE","assignee":{"id":3397881,"username":"ekigbo","name":"Ezekiel Kigbo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3397881/avatar.png","web_url":"https://gitlab.com/ekigbo"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/378868","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/378868","notes":"https://gitlab.com/api/v4/projects/278964/issues/378868/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/378868/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#378868","relative":"#378868","full":"gitlab-org/gitlab#378868"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8195,"epic":{"id":540318,"iid":8195,"title":"ðŸ§°  Insights improvements","url":"/groups/gitlab-org/-/epics/8195","group_id":9970,"human_readable_end_date":"Dec 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":117511605,"iid":378867,"project_id":278964,"title":"Track group access level of user importing projects","description":"### Problem\n\nAt the moment, when users import a project to a group, we don't know what is their role is. \n\nHaving this information would help us decide whether restricting imports to Maintainers and above would be a hindrance/breaking-change for many users. We would then be better informed to make decisions related to https://gitlab.com/gitlab-org/gitlab/-/issues/358750#note_1009208794.\n\n### Proposed solution\n\nLet's implement event tracking when a project is imported using structured snowplow events (via `GitLab::Tracking.event` see https://docs.gitlab.com/ee/development/snowplow/implementation.html#implement-ruby-backend-tracking).\n\nThis will require a new event:\n\n| category          | action   | label                 |  user         |  extra                       | \n| ----------------- | ------   | ----------------------| --------------|------------------------------|\n| `self.class.name` | `create` | `import-access-level` | `current_user`| {`user_role`: user_role, `import_type`: import_type } |\n\n\n\n\nRelevant importers:\n\n- [x] file-based group import (`import_group_from_file`)\n- [x] file-based project import (`gitlab_project`)\n- [x] GitHub (`github`)\n- [x] GitLab Migration (`bulk_import_group`)\n- [x] Bitbucket (`bitbucket`)\n\n~- [ ] git (`git`)~\n\n`gitlab_custom_project_template` doesn't need tracking, as it [should only be possible for group Owners](https://docs.gitlab.com/ee/user/group/custom_project_templates.html#set-up-group-level-project-templates).\n\n\n### Technical details\n\nSee in [comment](https://gitlab.com/gitlab-org/gitlab/-/issues/378867#note_1150858085).","state":"closed","created_at":"2022-10-25T07:26:58.435Z","updated_at":"2023-01-11T23:06:54.034Z","closed_at":"2022-11-28T10:15:17.092Z","closed_by":{"id":4826728,"username":"m_frankiewicz","name":"Magdalena Frankiewicz","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ca314fa77051f58ced6e3e5bf7f0dd48?s=80\u0026d=identicon","web_url":"https://gitlab.com/m_frankiewicz"},"labels":["Category:Importers","backend","devops::manage","group::import","missed:15.6","quad-planning::complete-no-action","section::dev","type::maintenance","workflow::production"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":11342168,"username":"carlad-gl","name":"Carla Drago","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11342168/avatar.png","web_url":"https://gitlab.com/carlad-gl"}],"author":{"id":4826728,"username":"m_frankiewicz","name":"Magdalena Frankiewicz","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ca314fa77051f58ced6e3e5bf7f0dd48?s=80\u0026d=identicon","web_url":"https://gitlab.com/m_frankiewicz"},"type":"ISSUE","assignee":{"id":11342168,"username":"carlad-gl","name":"Carla Drago","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11342168/avatar.png","web_url":"https://gitlab.com/carlad-gl"},"user_notes_count":15,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/378867","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":5,"completed_count":5},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"5 of 5 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/378867","notes":"https://gitlab.com/api/v4/projects/278964/issues/378867/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/378867/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#378867","relative":"#378867","full":"gitlab-org/gitlab#378867"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":117509172,"iid":378863,"project_id":278964,"title":"Database queries on Unleash endpoints sometimes become slow","description":"## Problem\n\nWhile we were investigating https://gitlab.com/gitlab-org/gitlab/-/issues/365575, we noticed that the database queries on Unleash endpoints sometimes become slow. The affected endpoints so far:\n\n- `GET /api/:version/feature_flags/unleash/:project_id/client/features`\n- `POST /api/:version/feature_flags/unleash/:project_id/client/metrics`\n\n![2022-10-25_15-16](/uploads/0600c38fe8824b14adad148bbfa97e74/2022-10-25_15-16.png)\n\n- https://log.gprd.gitlab.net/goto/8a7bb250-542c-11ed-b0ec-930003e0679c\n- https://log.gprd.gitlab.net/goto/8ee6ad90-542c-11ed-8d37-e9a2f393ea2a\n\nWe can also observe this in slow query log that these queries are the main offenders:\n\n- `SELECT \"projects\".* FROM \"projects\" WHERE \"projects\".\"pending_delete\" = $1 AND \"projects\".\"hidden\" = $2 AND \"projects\".\"id\" = $3 LIMIT $4`\n- `SELECT \"routes\".* FROM \"routes\" WHERE \"routes\".\"source_id\" = $1 AND \"routes\".\"source_type\" = $2 LIMIT $3`\n- `SELECT \"operations_feature_flags_clients\".* FROM \"operations_feature_flags_clients\" WHERE \"operations_feature_flags_clients\".\"project_id\" = $1 AND \"operations_feature_flags_clients\".\"token_encrypted\" IN ($2, $3) LIMIT $4`\n\n[source](https://log.gprd.gitlab.net/goto/9d6cf090-542c-11ed-b0ec-930003e0679c)\n\nThese queries are executed by [`authorize_by_unleash_instance_id!`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/api/unleash.rb#L18). These queries have already been properly indexed, however, the occasional spike happens.\n\n## Proposal\n\n- Investigate if this is correlated to [`ACCESS EXCLUSIVE` explicit locking](https://www.postgresql.org/docs/current/explicit-locking.html). For example, `VACUUM FULL` might be related.\n- Reduce unnecessary queries. For example, we can drop two queries by the following change:\n\n```diff\ndiff --git a/app/models/operations/feature_flags_client.rb b/app/models/operations/feature_flags_client.rb\nindex e8c237abbc5f..12e3f190bcfa 100644\n--- a/app/models/operations/feature_flags_client.rb\n+++ b/app/models/operations/feature_flags_client.rb\n@@ -19,11 +19,11 @@ class FeatureFlagsClient \u003c ApplicationRecord\n \n     before_validation :ensure_token!\n \n-    def self.find_for_project_and_token(project, token)\n-      return unless project\n+    def self.find_for_project_id_and_token(project_id, token)\n+      return unless project_id\n       return unless token\n \n-      where(project_id: project).find_by_token(token)\n+      where(project_id: project_id).find_by_token(token)\n     end\n \n     def self.update_last_feature_flag_updated_at!(project)\ndiff --git a/lib/api/unleash.rb b/lib/api/unleash.rb\nindex 1fbd7cf5afc8..b7e4a765e32b 100644\n--- a/lib/api/unleash.rb\n+++ b/lib/api/unleash.rb\n@@ -71,7 +71,7 @@ def project\n \n       def feature_flags_client\n         strong_memoize(:feature_flags_client) do\n-          client = Operations::FeatureFlagsClient.find_for_project_and_token(project, unleash_instance_id)\n+          client = Operations::FeatureFlagsClient.find_for_project_id_and_token(params[:project_id], unleash_instance_id)\n           client.unleash_app_name = unleash_app_name if client\n           client\n         end\n```\n\n## Additional thought\n\nThe `where(project_id: project_id).find_by_token(token)` query seems to have duplicate values. e.g.\n\n```\nSELECT\n    \"operations_feature_flags_clients\".*\nFROM\n    \"operations_feature_flags_clients\"\nWHERE\n    \"operations_feature_flags_clients\".\"project_id\" = 20\n    AND \"operations_feature_flags_clients\".\"token_encrypted\" IN (\n        'wjzHlmZTenckTFqE+3IbF3rQZRfqnyatfPsncd6c7fgLmmkc',\n        'wjzHlmZTenckTFqE+3IbF3rQZRfqnyatfPsncd6c7fgLmmkc'\n    )\nLIMIT\n    1\n```\n\n(Note: these token and project IDs were printed in a demonstration purpose that generated in GDK. Not functional in any environments.)\n\nThis is because https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/models/concerns/token_authenticatable_strategies/encrypted.rb#L97-101, which is related to `dynamic_nonce` feature flag. [Query plan](https://postgres.ai/console/gitlab/gitlab-production-tunnel-pg12/sessions/12806/commands/44957)","state":"closed","created_at":"2022-10-25T06:31:34.399Z","updated_at":"2023-01-04T04:08:51.087Z","closed_at":"2023-01-04T04:08:51.051Z","closed_by":{"id":4373269,"username":"ali-gitlab","name":"Alishan Ladhani","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4373269/avatar.png","web_url":"https://gitlab.com/ali-gitlab"},"labels":["Category:Feature Flags","Error Budget Improvement","Next Up","Release::P1","[deprecated] Accepting merge requests","bug::performance","devops::release","group::release","section::ops","severity::3","type::bug","workflow::verification"],"milestone":{"id":2745648,"iid":83,"group_id":9970,"title":"15.8","description":"","state":"active","created_at":"2022-08-22T16:57:34.875Z","updated_at":"2022-08-22T16:57:34.875Z","due_date":"2023-01-17","start_date":"2022-12-18","expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/83"},"assignees":[{"id":4373269,"username":"ali-gitlab","name":"Alishan Ladhani","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4373269/avatar.png","web_url":"https://gitlab.com/ali-gitlab"}],"author":{"id":758045,"username":"shinya.maeda","name":"Shinya Maeda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/758045/avatar.png","web_url":"https://gitlab.com/shinya.maeda"},"type":"ISSUE","assignee":{"id":4373269,"username":"ali-gitlab","name":"Alishan Ladhani","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4373269/avatar.png","web_url":"https://gitlab.com/ali-gitlab"},"user_notes_count":14,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/378863","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/378863","notes":"https://gitlab.com/api/v4/projects/278964/issues/378863/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/378863/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#378863","relative":"#378863","full":"gitlab-org/gitlab#378863"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":9149,"epic":{"id":643608,"iid":9149,"title":"Release Stage Error budget and performance improvements - FY23Q4","url":"/groups/gitlab-org/-/epics/9149","group_id":9970,"human_readable_end_date":"Jan 31, 2023","human_readable_timestamp":"\u003cstrong\u003e16\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":117461732,"iid":378818,"project_id":278964,"title":"[Feature flag] Rollout of `container_registry_delete_repository_with_cron_worker`","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n## Summary\n\nThis issue is to rollout [the feature](https://gitlab.com/gitlab-org/gitlab/-/issues/217702) on production,\nthat is currently behind the `container_registry_delete_repository_with_cron_worker` feature flag.\n\nWe're changing how we delete container repositories from the container registry.\n\nThis ~\"feature flag\" switches between the old and new approach.\n\n## Owners\n\n- Team: Container Registry\n- Most appropriate slack channel to reach out to: `#g_container-registry`\n- Best individual to reach out to: @10io\n- PM: @trizzi \n- EM: @michelletorres \n\n## Stakeholders\n\n\u003c!--\nAre there any other stages or teams involved that need to be kept in the loop?\n\n- Name of a PM\n- The Support Team\n- The Delivery Team\n--\u003e\n\n## Expectations\n\n### What are we expecting to happen?\n\nContainer repositories are deleted properly along with _all_ their tags.\n\n### When is the feature viable?\n\nWhen all container repositories are properly handled by the new approach.\n\n### What might happen if this goes wrong?\n\n* Container repositories never destroyed but in the `delete_scheduled` state (eg. greyed out in the UI).\n* Tags are not _entirely_ destroyed.\n\n### What can we monitor to detect problems with this?\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? --\u003e\n_Consider mentioning checks for 5xx errors or other anomalies like an increase in redirects \n(302 HTTP response status)_\n\n### What can we check for monitoring production after rollouts?\n\n_Consider adding links to check for Sentry errors, Production logs for 5xx, 302s, etc._\n\n## Rollout Steps\n\n### Rollout on non-production environments\n\n- Ensure that the feature MRs have been deployed to non-production environments.\n    - [x] `/chatops run auto_deploy status 9355175115f3ffc13fe56aab0a9db0ca94316e6f`\n- [x] Enable the feature globally on non-production environments.\n    - [x] `/chatops run feature set container_registry_delete_repository_with_cron_worker true --dev --staging --staging-ref`\n- [x] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n      The best environment to validate the feature in is [staging-canary](https://about.gitlab.com/handbook/engineering/infrastructure/environments/#staging-canary)\n      as this is the first environment deployed to. Note you will need to make sure you are configured to use canary as outlined [here](https://about.gitlab.com/handbook/engineering/infrastructure/environments/canary-stage/)\n      when accessing the staging environment in order to make sure you are testing appropriately.\n\n### Specific rollout on production\n\n- Ensure that the feature MRs have been deployed to both production and canary.\n    - [x] `/chatops run auto_deploy status 9355175115f3ffc13fe56aab0a9db0ca94316e6f`\n- If you're using [project-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [ ] `/chatops run feature set --project=gitlab-org/gitlab,gitlab-org/gitlab-foss,gitlab-com/www-gitlab-com container_registry_delete_repository_with_cron_worker true`\n- If you're using [group-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [ ] `/chatops run feature set --group=gitlab-org,gitlab-com container_registry_delete_repository_with_cron_worker true`\n- If you're using [user-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [ ] `/chatops run feature set --user=\u003cyour-username\u003e container_registry_delete_repository_with_cron_worker true`\n- [ ] Verify that the feature works on the specific entries. Posting the QA result in this issue is preferable.\n\n### Preparation before global rollout\n\n- [x] Set a milestone to the rollout issue to signal for enabling and removing the feature flag when it is stable.\n- [ ] Check if the feature flag change needs to be accompanied with a\n  [change management issue](https://about.gitlab.com/handbook/engineering/infrastructure/change-management/#feature-flags-and-the-change-management-process).\n  Cross link the issue here if it does.\n- [ ] Ensure that you or a representative in development can be available for at least 2 hours after feature flag updates in production.\n  If a different developer will be covering, or an exception is needed, please inform the oncall SRE by using the `@sre-oncall` Slack alias.\n- [ ] Ensure that documentation has been updated ([More info](https://docs.gitlab.com/ee/development/documentation/feature_flags.html#features-that-became-enabled-by-default)).\n- [ ] Announce on [the feature issue](https://gitlab.com/gitlab-org/gitlab/-/issues/217702) an estimated time this will be enabled on GitLab.com. \n- [ ] Ensure that any breaking changes have been announced following the [release post process](https://about.gitlab.com/handbook/marketing/blog/release-posts/#deprecations-removals-and-breaking-changes) to ensure GitLab customers are aware.\n- [x] Notify `#support_gitlab-com` and your team channel ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#communicate-the-change)).\n\n### Global rollout on production\n\nFor visibility, all `/chatops` commands that target production should be executed in the `#production` slack channel and cross-posted (with the command results) to the responsible team's slack channel (`#g_TEAM_NAME`).\n\n- [x] [Incrementally roll out](https://docs.gitlab.com/ee/development/feature_flags/controls.html#process) the feature.\n  - If the feature flag in code has [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform **actor-based** rollout.\n    - [ ] `/chatops run feature set container_registry_delete_repository_with_cron_worker \u003crollout-percentage\u003e --actors`\n  - If the feature flag in code does **NOT** have [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform time-based rollout (**random** rollout).\n    - [ ] `/chatops run feature set container_registry_delete_repository_with_cron_worker \u003crollout-percentage\u003e --random`\n  - Enable the feature globally on production environment.\n    - [x] `/chatops run feature set container_registry_delete_repository_with_cron_worker true`\n- [ ] Announce on [the feature issue](https://gitlab.com/gitlab-org/gitlab/-/issues/217702) that the feature has been globally enabled.\n- [ ] Wait for [at least one day for the verification term](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release).\n\n### (Optional) Release the feature with the feature flag\n\nIf you're still unsure whether the feature is [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release)\nbut want to release it in the current milestone, you can change the default state of the feature flag to be enabled.\nTo do so, follow these steps:\n\n- [ ] Create a merge request with the following changes. Ask for review and merge it.\n    - [ ] Set the `default_enabled` attribute in [the feature flag definition](https://docs.gitlab.com/ee/development/feature_flags/#feature-flag-definition-and-validation) to `true`.\n    - [ ] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the default-enabling MR has been included in the release package.\n      If the merge request was deployed before [the monthly release was tagged](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run release check \u003cmerge-request-url\u003e \u003cmilestone\u003e`\n- [ ] Consider cleaning up the feature flag from all environments by running these chatops command in `#production` channel. Otherwise these settings may override the default enabled.\n    - [ ] `/chatops run feature delete container_registry_delete_repository_with_cron_worker --dev --staging --staging-ref --production`\n- [ ] Close [the feature issue](https://gitlab.com/gitlab-org/gitlab/-/issues/217702) to indicate the feature will be released in the current milestone.\n- [ ] Set the next milestone to this rollout issue for scheduling [the flag removal](#release-the-feature).\n- [ ] (Optional) You can [create a separate issue](https://gitlab.com/gitlab-org/gitlab/-/issues/new?issuable_template=Feature%20Flag%20Cleanup) for scheduling the steps below to [Release the feature](#release-the-feature).\n    - [ ] Set the title to \"[Feature flag] Cleanup `container_registry_delete_repository_with_cron_worker`\".\n    - [ ] Execute the `/copy_metadata \u003cthis-rollout-issue-link\u003e` quick action to copy the labels from this rollout issue.\n    - [ ] Link this rollout issue as a related issue.\n    - [ ] Close this rollout issue.\n\n**WARNING:** This approach has the downside that it makes it difficult for us to\n[clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) the flag.\nFor example, on-premise users could disable the feature on their GitLab instance. But when you\nremove the flag at some point, they suddenly see the feature as enabled and they can't roll it back\nto the previous behavior. To avoid this potential breaking change, use this approach only for urgent\nmatters.\n\n### Release the feature\n\nAfter the feature has been [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release),\nthe [clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up)\nshould be done as soon as possible to permanently enable the feature and reduce complexity in the\ncodebase.\n\nYou can either [create a follow-up issue for Feature Flag Cleanup](https://gitlab.com/gitlab-org/gitlab/-/issues/new?issuable_template=Feature%20Flag%20Cleanup) or use the checklist below in this same issue.\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [x] Create a merge request to remove `container_registry_delete_repository_with_cron_worker` feature flag. Ask for review and merge it.\n    - [x] Remove all references to the feature flag from the codebase.\n    - [x] Remove the YAML definitions for the feature from the repository.\n    - [x] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [x] Ensure that the cleanup MR has been included in the release package.\n      If the merge request was deployed before [the monthly release was tagged](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [x] `/chatops run release check \u003cmerge-request-url\u003e \u003cmilestone\u003e`\n- [x] Close [the feature issue](https://gitlab.com/gitlab-org/gitlab/-/issues/217702) to indicate the feature will be released in the current milestone.\n- [x] If not already done, clean up the feature flag from all environments by running these chatops command in `#production` channel:\n    - [x] `/chatops run feature delete container_registry_delete_repository_with_cron_worker --dev --staging --staging-ref --production`\n- [x] Close this rollout issue.\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set container_registry_delete_repository_with_cron_worker false\n```\n\n\u003c!-- A feature flag can also be used for rolling out a bug fix or a maintenance work.\nIn this scenario, labels must be related to it, for example; ~\"type::feature\", ~\"type::bug\" or ~\"type::maintenance\".\nPlease use /copy_metadata to copy the labels from the issue you're rolling out. --\u003e","state":"closed","created_at":"2022-10-24T14:13:29.080Z","updated_at":"2022-12-14T12:53:12.957Z","closed_at":"2022-12-14T12:53:07.452Z","closed_by":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"labels":["Category:Container Registry","devops::package","feature flag","group::container registry","section::ops","workflow::production"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"}],"author":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"type":"ISSUE","assignee":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"user_notes_count":19,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/378818","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":47,"completed_count":19},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"19 of 47 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/378818","notes":"https://gitlab.com/api/v4/projects/278964/issues/378818/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/378818/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#378818","relative":"#378818","full":"gitlab-org/gitlab#378818"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":117451440,"iid":378801,"project_id":278964,"title":"Hierarchy widget - Validate parent/child based on restrictions stored in DB","description":"When a new hierarchy relation is created, there should be a validation which checks that restrictions stored in DB for given parent/child are valid.","state":"closed","created_at":"2022-10-24T11:35:30.695Z","updated_at":"2022-12-21T12:01:51.186Z","closed_at":"2022-12-20T07:48:44.459Z","closed_by":{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"},"labels":["Track Health Status","backend","devops::plan","group::product planning","missed:15.7","section::dev","type::feature","workflow::in review"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"}],"author":{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"},"type":"ISSUE","assignee":{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/378801","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/378801","notes":"https://gitlab.com/api/v4/projects/278964/issues/378801/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/378801/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#378801","relative":"#378801","full":"gitlab-org/gitlab#378801"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":9434,"epic":{"id":676068,"iid":9434,"title":"Work Items - Relationship validation and restrictions","url":"/groups/gitlab-org/-/epics/9434","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":"on_track"},{"id":117451291,"iid":378799,"project_id":278964,"title":"Hierarchy widget - Define DB schema for storing parent/child relation restrictions","description":"To be able to store restrictions for various types (and in future also allow user to customize these), these can not be hardcoded in model (as we have now for issue/task relationship), but we need to introduce a new model which allows storing these restrictions in DB.\n\nSchema should allow restrictions described in https://gitlab.com/groups/gitlab-org/-/epics/8993 or existing hardcoded issue/task [restrictions](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/models/work_items/parent_link.rb#L15-16) and should allow more customization in future.\n\nThis is related to how widget definitions mapping tables should look like (https://gitlab.com/gitlab-org/gitlab/-/issues/374092), perhaps also blocked by the issue.\n\n\n### Proposal (taken from https://gitlab.com/gitlab-org/gitlab/-/issues/378799#note_1149402175)\n\nThis is related to relations between work items in general. Because there can be different restrictions for different types of relations (parent/child restrictions in hierarchy widget may differ from restrictions in \"related work items\" widget), I think it makes sense to keep also restriction definitions separate. So proposal below focuses on parent/child restrictions only assuming that other relation types would be defined separately.\n\nAnother option would be to define one generic \"relation\" scheme which would attempt to keep restrictions for all possible relations between work items, but a major downside is that this would lead to having everything stored together which means also wider table (unless we would store data as JSONB).\n\nTo sum known use-cases listed in https://gitlab.com/groups/gitlab-org/-/epics/8993 and existing restrictions for issue/type:\n\n* Tasks are children of Issues (row id 0 in table below)\n* Objectives can be nested on each other 9 levels deep (row id 1 in table below)\n* Key Results are children of Objectives (row id 2 in table below)\n* Issues are children of Issues (row id 3 in table below)\n\nAssuming there are following records in work_item_types table (this assumes this table looks like proposed in https://gitlab.com/gitlab-org/gitlab/-/issues/374092):\n\n| id | name | namespace_id| disabled |\n| ------ | ------ |-------| -------- |\n| 0      | issue  | | | \n| 1      | task   | | |\n| 2      | requirement | | |\n| 3      | objective  | | | \n| 4      | key result   | | |\n| 5      | custom type 1 | 1 | |\n| 6      | custom type 2 | 1 | |\n| 7      | epic | | |\n\nA possible solution would be storing these in the following table and allow override approach similar to overrides proposed in https://gitlab.com/gitlab-org/gitlab/-/issues/374092. table might be called e.g. `work_item_hierarchy_restrictions`:\n\n| id | namespace_id | disabled | parent_type_id | child_type_id | maximum_depth |\n| -- | ------------ | -------- | --------- | -------- | ------------- |\n| 0  |              | false    | 0         | 1        | 1 |\n| 1  |              | false    | 3         | 3        | 9 |\n| 2  |              | false    | 3         | 4        | 1 |\n| 3  |              | false    | 0         | 0        | 1 |\n| 4  |  1           | true     | 0         | 0        | 1 |\n| 5  |  1           | false    | 3         | 3        | 4 |\n| 6  |              | false    | 7         | 0        | 1 |\n| 7  |              | false    | 7         | 7        | 7 |\n\n* only restrictions listed in table are allowed\n* parent_type_id/child_type_id are foreign keys referencing work_item_types.id (so the benefit of this approach is we keep referential integrity)\n* maximum_depth defines how many relations of this type can be stacked on each other (perhaps makes sense only if parent_type_id==child_type_id)\n* independently on max_depth we should still keep hardcoded maximum depth limit for the whole tree (e.g. 10) to make sure users can't define too deep trees which would cause performance issues\n* once custom types are allowed, also user-defined restrictions for custom types can be added in the same way (as parent_type_id and child_type_id just references work_item_type.id)\n* there are also other restrictions for issue/task: whether both are in the same project and if child is confidential for confidential parent - I can imagine these could be made configurable in future too, but perhaps can be left hardcoded for now for all types?\n* similar to above, it's possible that other hierarchy restrictions settings will be needed in future which would need additional fields, but perhaps we can add them when needed\n* records with IDs 6 and 7 demonstrate epic\u003c-\u003eissue relationship: issue can be child of an epic, epic can be child of other epic (with max depth of 7)\n\n### Future customizations\n\n* this table is prefilled with default set of restrictions (having namespace_id nil)\n* when we allow custom restrictions/custom types, users can add namespaced restrictions (with namespace_id set) which will override same default restriction. Same restriction is a record with same parent_type_id and child_id\n* any overrides of default types will be allowed only in root namespaces (and these overrides will be inherited in the whole group hierarchy), note that this might be re-considered in future (https://gitlab.com/gitlab-org/gitlab/-/issues/378799#note_1159052478)\n* the default value can be either customized (e.g. row id 5 in table above - it tells that nested level of objectives is 4 levels max and number of children for one objective is 10) or disabled (row id 4 - disables restriction which allows that issue can be parents of other issues)\n\nPotential risks:\n* it's a bit more complicated to get \"valid\" set of restrictions (as namespaced rules override default rules), but I think this is not too big issue as this can be handled on Rails side in worst case.\n* we could use this concept to predifne different sets of restrictions (but allow only one set of restrictions), then users could switch to different set (e.g. by default we would allow Epic-\u003eIssue-\u003eTask hiearchies, but user could choose to use rather Feature-\u003eIssue only). If there would be too many overrides of default settings, then `work_item_hierarchy_restrictions` might grow noticeably. But I tend to think this should scale sufficiently for now.\n\nOther options:\n* use restrictions per each work item type in JSONB format - a downside is that we loose referential integrity (and it means also additional logic to assure integrity of referenced types)\n\n@mcelicalderonG @digitalmoksha @acroitor @gitlab-org/plan-stage/backend-engineers WDYT?","state":"closed","created_at":"2022-10-24T11:32:01.923Z","updated_at":"2022-12-08T15:19:12.921Z","closed_at":"2022-11-22T07:35:40.878Z","closed_by":{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"},"labels":["Track Health Status","Unplanned","backend","devops::plan","group::product planning","missed:15.6","section::dev","type::feature","workflow::in review"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"}],"author":{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"},"type":"ISSUE","assignee":{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"},"user_notes_count":56,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/378799","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":1,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/378799","notes":"https://gitlab.com/api/v4/projects/278964/issues/378799/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/378799/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#378799","relative":"#378799","full":"gitlab-org/gitlab#378799"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":9434,"epic":{"id":676068,"iid":9434,"title":"Work Items - Relationship validation and restrictions","url":"/groups/gitlab-org/-/epics/9434","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":117445273,"iid":378764,"project_id":278964,"title":"Move config for status filter","description":"The goal is to break the connection with `ee/app/assets/javascripts/security_dashboard/helpers.js`, move the filter configurations into the filter component. This will improve the readability and make it less likely to miss :thumbsup: \n\n```diff\n// helpers.js\n- export const stateFilter\n\n// status_filter.vue\n+ [move configurations here]\n```","state":"closed","created_at":"2022-10-24T09:46:36.538Z","updated_at":"2022-11-06T07:46:57.540Z","closed_at":"2022-11-06T07:46:57.517Z","closed_by":{"id":4907528,"username":"dftian","name":"Daniel Tian","state":"active","avatar_url":"https://secure.gravatar.com/avatar/5d7186a64c42708833291afd7749c7b5?s=80\u0026d=identicon","web_url":"https://gitlab.com/dftian"},"labels":["[deprecated] Accepting merge requests","devops::govern","frontend","group::threat insights","maintenance::refactor","section::sec","type::maintenance"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[],"author":{"id":3993566,"username":"sming-gitlab","name":"Samantha Ming","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3993566/avatar.png","web_url":"https://gitlab.com/sming-gitlab"},"type":"ISSUE","assignee":null,"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/378764","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/378764","notes":"https://gitlab.com/api/v4/projects/278964/issues/378764/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/378764/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#378764","relative":"#378764","full":"gitlab-org/gitlab#378764"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8872,"epic":{"id":613055,"iid":8872,"title":"Refactor the vulnerability filters to make the query string as the SSOT","url":"/groups/gitlab-org/-/epics/8872","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":117445271,"iid":378763,"project_id":278964,"title":"Move config for severity filter","description":"The goal is to break the connection with `ee/app/assets/javascripts/security_dashboard/helpers.js`, move the filter configurations into the filter component. This will improve the readability and make it less likely to miss :thumbsup: \n\n```diff\n// helpers.js\n- export const severityFilter\n\n// severity_filter.vue\n+ [move configurations here]\n```","state":"closed","created_at":"2022-10-24T09:46:35.306Z","updated_at":"2022-11-06T07:46:52.631Z","closed_at":"2022-11-06T07:46:52.602Z","closed_by":{"id":4907528,"username":"dftian","name":"Daniel Tian","state":"active","avatar_url":"https://secure.gravatar.com/avatar/5d7186a64c42708833291afd7749c7b5?s=80\u0026d=identicon","web_url":"https://gitlab.com/dftian"},"labels":["[deprecated] Accepting merge requests","devops::govern","frontend","group::threat insights","maintenance::refactor","section::sec","type::maintenance"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[],"author":{"id":3993566,"username":"sming-gitlab","name":"Samantha Ming","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3993566/avatar.png","web_url":"https://gitlab.com/sming-gitlab"},"type":"ISSUE","assignee":null,"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/378763","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/378763","notes":"https://gitlab.com/api/v4/projects/278964/issues/378763/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/378763/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#378763","relative":"#378763","full":"gitlab-org/gitlab#378763"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8872,"epic":{"id":613055,"iid":8872,"title":"Refactor the vulnerability filters to make the query string as the SSOT","url":"/groups/gitlab-org/-/epics/8872","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":117445268,"iid":378761,"project_id":278964,"title":"Move config for scanner filter","description":"The goal is to break the connection with `ee/app/assets/javascripts/security_dashboard/helpers.js`, move the filter configurations into the filter component. This will improve the readability and make it less likely to miss :thumbsup: \n\n```diff\n// helpers.js\n- export const vendorScannerFilter\n\n// scanner_filter.vue\n+ [move configurations here]\n```","state":"closed","created_at":"2022-10-24T09:46:34.812Z","updated_at":"2022-11-06T07:52:11.107Z","closed_at":"2022-11-06T07:52:11.082Z","closed_by":{"id":4907528,"username":"dftian","name":"Daniel Tian","state":"active","avatar_url":"https://secure.gravatar.com/avatar/5d7186a64c42708833291afd7749c7b5?s=80\u0026d=identicon","web_url":"https://gitlab.com/dftian"},"labels":["[deprecated] Accepting merge requests","devops::govern","frontend","group::threat insights","maintenance::refactor","section::sec","type::maintenance"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[],"author":{"id":3993566,"username":"sming-gitlab","name":"Samantha Ming","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3993566/avatar.png","web_url":"https://gitlab.com/sming-gitlab"},"type":"ISSUE","assignee":null,"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/378761","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/378761","notes":"https://gitlab.com/api/v4/projects/278964/issues/378761/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/378761/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#378761","relative":"#378761","full":"gitlab-org/gitlab#378761"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8872,"epic":{"id":613055,"iid":8872,"title":"Refactor the vulnerability filters to make the query string as the SSOT","url":"/groups/gitlab-org/-/epics/8872","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":117445267,"iid":378760,"project_id":278964,"title":"Move config for tool filter","description":"The goal is to break the connection with `ee/app/assets/javascripts/security_dashboard/helpers.js`, move the filter configurations into the filter component. This will improve the readability and make it less likely to miss :thumbsup: \n\n```diff\n// helpers.js\n- export const simpleScannerFilterPipeline\n\n// simple_filter.vue\n+ [move configurations here]\n```","state":"closed","created_at":"2022-10-24T09:46:34.353Z","updated_at":"2022-11-06T07:49:55.953Z","closed_at":"2022-11-06T07:49:55.926Z","closed_by":{"id":4907528,"username":"dftian","name":"Daniel Tian","state":"active","avatar_url":"https://secure.gravatar.com/avatar/5d7186a64c42708833291afd7749c7b5?s=80\u0026d=identicon","web_url":"https://gitlab.com/dftian"},"labels":["[deprecated] Accepting merge requests","devops::govern","frontend","group::threat insights","maintenance::refactor","section::sec","type::maintenance"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[],"author":{"id":3993566,"username":"sming-gitlab","name":"Samantha Ming","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3993566/avatar.png","web_url":"https://gitlab.com/sming-gitlab"},"type":"ISSUE","assignee":null,"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/378760","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/378760","notes":"https://gitlab.com/api/v4/projects/278964/issues/378760/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/378760/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#378760","relative":"#378760","full":"gitlab-org/gitlab#378760"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8872,"epic":{"id":613055,"iid":8872,"title":"Refactor the vulnerability filters to make the query string as the SSOT","url":"/groups/gitlab-org/-/epics/8872","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":117445266,"iid":378759,"project_id":278964,"title":"Move config for activity filter","description":"The goal is to break the connection with `ee/app/assets/javascripts/security_dashboard/helpers.js`, move the filter configurations into the filter component. This will improve the readability and make it less likely to miss :thumbsup: \n\n```diff\n// helpers.js\n- export const activityFilter\n\n// activity_filter.vue\n+ [move configurations here]\n```","state":"closed","created_at":"2022-10-24T09:46:33.799Z","updated_at":"2022-11-06T07:50:20.160Z","closed_at":"2022-11-06T07:50:20.132Z","closed_by":{"id":4907528,"username":"dftian","name":"Daniel Tian","state":"active","avatar_url":"https://secure.gravatar.com/avatar/5d7186a64c42708833291afd7749c7b5?s=80\u0026d=identicon","web_url":"https://gitlab.com/dftian"},"labels":["[deprecated] Accepting merge requests","devops::govern","frontend","group::threat insights","maintenance::refactor","section::sec","type::maintenance"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[],"author":{"id":3993566,"username":"sming-gitlab","name":"Samantha Ming","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3993566/avatar.png","web_url":"https://gitlab.com/sming-gitlab"},"type":"ISSUE","assignee":null,"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/378759","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/378759","notes":"https://gitlab.com/api/v4/projects/278964/issues/378759/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/378759/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#378759","relative":"#378759","full":"gitlab-org/gitlab#378759"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8872,"epic":{"id":613055,"iid":8872,"title":"Refactor the vulnerability filters to make the query string as the SSOT","url":"/groups/gitlab-org/-/epics/8872","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":117445265,"iid":378758,"project_id":278964,"title":"Move config for cluster filter","description":"The goal is to break the connection with `ee/app/assets/javascripts/security_dashboard/helpers.js`, move the filter configurations into the filter component. This will improve the readability and make it less likely to miss :thumbsup: \n\n```diff\n// helpers.js\n- export const clusterFilter\n\n// cluster_filter.vue\n+ [move configurations here]\n```","state":"closed","created_at":"2022-10-24T09:46:33.144Z","updated_at":"2022-11-06T07:52:01.834Z","closed_at":"2022-11-06T07:52:01.811Z","closed_by":{"id":4907528,"username":"dftian","name":"Daniel Tian","state":"active","avatar_url":"https://secure.gravatar.com/avatar/5d7186a64c42708833291afd7749c7b5?s=80\u0026d=identicon","web_url":"https://gitlab.com/dftian"},"labels":["[deprecated] Accepting merge requests","devops::govern","frontend","group::threat insights","maintenance::refactor","section::sec","type::maintenance"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[],"author":{"id":3993566,"username":"sming-gitlab","name":"Samantha Ming","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3993566/avatar.png","web_url":"https://gitlab.com/sming-gitlab"},"type":"ISSUE","assignee":null,"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/378758","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/378758","notes":"https://gitlab.com/api/v4/projects/278964/issues/378758/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/378758/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#378758","relative":"#378758","full":"gitlab-org/gitlab#378758"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8872,"epic":{"id":613055,"iid":8872,"title":"Refactor the vulnerability filters to make the query string as the SSOT","url":"/groups/gitlab-org/-/epics/8872","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":117445262,"iid":378757,"project_id":278964,"title":"Move config for image filter","description":"The goal is to break the connection with `ee/app/assets/javascripts/security_dashboard/helpers.js`, move the filter configurations into the filter component. This will improve the readability and make it less likely to miss :thumbsup: \n\n```diff\n// helpers.js\n- export const imageFilter\n\n// image_filter.vue\n+ [move configurations here]\n```","state":"closed","created_at":"2022-10-24T09:46:28.854Z","updated_at":"2022-11-06T07:50:52.976Z","closed_at":"2022-11-06T07:50:52.953Z","closed_by":{"id":4907528,"username":"dftian","name":"Daniel Tian","state":"active","avatar_url":"https://secure.gravatar.com/avatar/5d7186a64c42708833291afd7749c7b5?s=80\u0026d=identicon","web_url":"https://gitlab.com/dftian"},"labels":["[deprecated] Accepting merge requests","devops::govern","frontend","group::threat insights","maintenance::refactor","section::sec","type::maintenance"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[],"author":{"id":3993566,"username":"sming-gitlab","name":"Samantha Ming","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3993566/avatar.png","web_url":"https://gitlab.com/sming-gitlab"},"type":"ISSUE","assignee":null,"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/378757","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/378757","notes":"https://gitlab.com/api/v4/projects/278964/issues/378757/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/378757/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#378757","relative":"#378757","full":"gitlab-org/gitlab#378757"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8872,"epic":{"id":613055,"iid":8872,"title":"Refactor the vulnerability filters to make the query string as the SSOT","url":"/groups/gitlab-org/-/epics/8872","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":117445183,"iid":378753,"project_id":278964,"title":"Move config for project filter","description":"The goal is to break the connection with `ee/app/assets/javascripts/security_dashboard/helpers.js`, move the filter configurations into the filter component. This will improve the readability and make it less likely to miss :thumbsup: \n\n```diff\n// helpers.js\n- export const projectFilter\n\n// project_filter.vue\n+ [move configurations here]\n```","state":"closed","created_at":"2022-10-24T09:45:35.756Z","updated_at":"2022-11-06T07:51:16.050Z","closed_at":"2022-11-06T07:51:15.930Z","closed_by":{"id":4907528,"username":"dftian","name":"Daniel Tian","state":"active","avatar_url":"https://secure.gravatar.com/avatar/5d7186a64c42708833291afd7749c7b5?s=80\u0026d=identicon","web_url":"https://gitlab.com/dftian"},"labels":["[deprecated] Accepting merge requests","devops::govern","frontend","group::threat insights","maintenance::refactor","section::sec","type::maintenance"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[],"author":{"id":3993566,"username":"sming-gitlab","name":"Samantha Ming","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3993566/avatar.png","web_url":"https://gitlab.com/sming-gitlab"},"type":"ISSUE","assignee":null,"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/378753","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/378753","notes":"https://gitlab.com/api/v4/projects/278964/issues/378753/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/378753/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#378753","relative":"#378753","full":"gitlab-org/gitlab#378753"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8872,"epic":{"id":613055,"iid":8872,"title":"Refactor the vulnerability filters to make the query string as the SSOT","url":"/groups/gitlab-org/-/epics/8872","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":117439134,"iid":378736,"project_id":278964,"title":"Fix GitHub company name on import page","description":"### Problem\n\nCurrently on `Import repositories from GitHub page` (`/import/github/status`) the writing of GitHub name is not consistent, we see \"From github\":\n\n![Screen_Shot_2022-10-24_at_10.04.08](/uploads/aa1f817279e5d50e8f9c1e9bbba0b876/Screen_Shot_2022-10-24_at_10.04.08.png)\n\n### Solution\n\nWe should always write GitHub (G and H capital letters).","state":"closed","created_at":"2022-10-24T08:14:44.642Z","updated_at":"2022-11-13T14:03:41.180Z","closed_at":"2022-10-28T09:55:27.083Z","closed_by":{"id":4826728,"username":"m_frankiewicz","name":"Magdalena Frankiewicz","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ca314fa77051f58ced6e3e5bf7f0dd48?s=80\u0026d=identicon","web_url":"https://gitlab.com/m_frankiewicz"},"labels":["Category:Importers","Importer:GitHub","devops::manage","frontend","group::import","section::dev","type::bug","workflow::production"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":4826728,"username":"m_frankiewicz","name":"Magdalena Frankiewicz","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ca314fa77051f58ced6e3e5bf7f0dd48?s=80\u0026d=identicon","web_url":"https://gitlab.com/m_frankiewicz"}],"author":{"id":4826728,"username":"m_frankiewicz","name":"Magdalena Frankiewicz","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ca314fa77051f58ced6e3e5bf7f0dd48?s=80\u0026d=identicon","web_url":"https://gitlab.com/m_frankiewicz"},"type":"ISSUE","assignee":{"id":4826728,"username":"m_frankiewicz","name":"Magdalena Frankiewicz","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ca314fa77051f58ced6e3e5bf7f0dd48?s=80\u0026d=identicon","web_url":"https://gitlab.com/m_frankiewicz"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/378736","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/378736","notes":"https://gitlab.com/api/v4/projects/278964/issues/378736/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/378736/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#378736","relative":"#378736","full":"gitlab-org/gitlab#378736"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":117350465,"iid":378694,"project_id":278964,"title":"Batched background migrations don't split and retry batches if ActiveRecord::QueryCanceled is raised","description":"We currently split and retry failed background migration\nbatches that have failed because of a timeout exception.\nThe list of timeout exceptions should also include\nActiveRecord:QueryCanceled since in can be raised as\nPG::QueryCanceled: ERROR:  canceling statement due to statement\ntimeout.\n\nWe can see this in the transition logs of active migrations\n```sql\n       exception_class       |                            exception_message\n-----------------------------+-------------------------------------------------------------------------\n                             |\n ActiveRecord::QueryCanceled | PG::QueryCanceled: ERROR:  canceling statement due to statement timeout\n```","state":"closed","created_at":"2022-10-21T21:59:35.594Z","updated_at":"2022-11-13T16:04:33.103Z","closed_at":"2022-11-09T17:24:01.867Z","closed_by":{"id":8110537,"username":"mcelicalderonG","name":"Mario Celi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8110537/avatar.png","web_url":"https://gitlab.com/mcelicalderonG"},"labels":["Category:Database","database","devops::data_stores","feature::enhancement","group::database","section::enablement","type::feature","workflow::production"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":8110537,"username":"mcelicalderonG","name":"Mario Celi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8110537/avatar.png","web_url":"https://gitlab.com/mcelicalderonG"}],"author":{"id":8110537,"username":"mcelicalderonG","name":"Mario Celi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8110537/avatar.png","web_url":"https://gitlab.com/mcelicalderonG"},"type":"ISSUE","assignee":{"id":8110537,"username":"mcelicalderonG","name":"Mario Celi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8110537/avatar.png","web_url":"https://gitlab.com/mcelicalderonG"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/378694","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/378694","notes":"https://gitlab.com/api/v4/projects/278964/issues/378694/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/378694/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#378694","relative":"#378694","full":"gitlab-org/gitlab#378694"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":117340985,"iid":378670,"project_id":278964,"title":"Make Vulnerability and State transition creations feature flag(`deprecate_vulnerabilities_feedback`) agnostic when user interacts with findings","description":"Right now as part of deprecation of `Vulnerabilities::Feedback`, we are creating Vulnerability when user interacts with findings (dismissing finding, creating issue or creating MR with `deprecate_vulnerabilities_feedback` enabled. But as part of rollout discussion https://gitlab.com/gitlab-org/gitlab/-/issues/361797#note_1131871406, we found that it will be reliable to create Vulnerability and State transition with Feedback creation without depending on FF, so that if anything goes wrong after FF enabling, we can revert back and not end up in inconsistent state.\n\n### Implementation plan: \n\nWe need to make sure the following places where we are checking FF, do not have impact on feedback, state transition and vulnerability creation: \n\n- [x] `ee/app/controllers/ee/projects/issues_controller.rb`\n- [x] `ee/app/finders/security/findings_finder.rb` (we did not introduce FF here yet)\n- [x] `ee/app/finders/security/vulnerabilities_finder.rb` (https://gitlab.com/gitlab-org/gitlab/-/merge_requests/102238)\n- [x] `ee/app/graphql/mutations/security/finding/create_issue.rb` (can keep this one as this mutation is not used anywhere from ui right now)\n- [x] `ee/app/services/security/findings/dismiss_service.rb`\n- [x] `ee/app/services/security/ingestion/tasks/ingest_vulnerabilities/create.rb` (https://gitlab.com/gitlab-org/gitlab/-/merge_requests/102238)\n- [x] `ee/app/services/security/ingestion/tasks/ingest_vulnerabilities/update.rb` (https://gitlab.com/gitlab-org/gitlab/-/merge_requests/102238)\n- [x] `ee/app/services/vulnerabilities/confirm_service.rb` (can keep this feature flag, as vulnerability or state transition creation does not depend on FF here)\n- [x] `ee/app/services/vulnerabilities/dismiss_service.rb` (https://gitlab.com/gitlab-org/gitlab/-/merge_requests/102238) \n- [x] `ee/app/services/vulnerabilities/finding_dismiss_service.rb` (https://gitlab.com/gitlab-org/gitlab/-/merge_requests/102238)\n- [x] `ee/app/services/vulnerabilities/resolve_service.rb`  (can keep this feature flag, as vulnerability or state transition creation does not depend on FF here)\n- [x] `ee/app/services/vulnerabilities/revert_to_detected_service.rb`  (can keep this feature flag, as vulnerability or state transition creation does not depend on FF here)\n\n### Issues that will be impacted by this and need (re)verification: \n\n- [x] https://gitlab.com/gitlab-org/gitlab/-/issues/361950 \n- [x] https://gitlab.com/gitlab-org/gitlab/-/issues/372470\n- [x] https://gitlab.com/gitlab-org/gitlab/-/issues/371791","state":"closed","created_at":"2022-10-21T19:29:12.576Z","updated_at":"2023-01-05T18:37:37.276Z","closed_at":"2022-12-08T21:30:53.223Z","closed_by":{"id":7825316,"username":"subashis","name":"Subashis  Chakraborty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7825316/avatar.png","web_url":"https://gitlab.com/subashis"},"labels":["Category:Vulnerability Management","backend","devops::govern","group::threat insights","maintenance::refactor","section::sec","type::maintenance","workflow::verification"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":7825316,"username":"subashis","name":"Subashis  Chakraborty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7825316/avatar.png","web_url":"https://gitlab.com/subashis"}],"author":{"id":7825316,"username":"subashis","name":"Subashis  Chakraborty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7825316/avatar.png","web_url":"https://gitlab.com/subashis"},"type":"ISSUE","assignee":{"id":7825316,"username":"subashis","name":"Subashis  Chakraborty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7825316/avatar.png","web_url":"https://gitlab.com/subashis"},"user_notes_count":16,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/378670","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":15,"completed_count":15},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"15 of 15 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/378670","notes":"https://gitlab.com/api/v4/projects/278964/issues/378670/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/378670/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#378670","relative":"#378670","full":"gitlab-org/gitlab#378670"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5629,"epic":{"id":228751,"iid":5629,"title":"Deprecate and remove Vulnerabilities::Feedback","url":"/groups/gitlab-org/-/epics/5629","group_id":9970},"iteration":null,"health_status":null},{"id":117339931,"iid":378666,"project_id":278964,"title":"Provide a way to opt in to the navigation alpha and beta","description":"## Problem to solve\n\nAs we work to implement the navigation redesign, we need to provide a means for users to opt in to this experience in order to use it and provide feedback (feedback mechanism may be a separate issue). \n\n### Intended users\n\n* [All](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/)\n\n\n## Proposal\n\n- Add a **Toggle switch** in User Profile Menu - see Design Management\n- Toggle opts-in to the **Navigation Alpha** (non-supported and will be broken)\n- Once feature-complete, we begin **Navigation Beta** (non-supported and beta testing). \n   - For some, the toggle will be disabled, they will receive the **Current** OR **Beta navigation** UI and participate in tests.\n\n### Documentation\n\n- [ ] Add page in GitLab Docs for switching to North Star opt-in @rdickenson \n   - [ ] Note that if beta's are running it may not be available\n\n### Data\n\n- [ ] Determine how we'll track clicks in both states (Old nav vs North Star) @mikegreiling @thutterer \n- [x] Determine how we can query for all users who have this setting turned on @thutterer  \n\n  ```\n  UserPreference.where(use_new_navigation: true).count\n  ```\n\n### Testing\n\n\u003c!-- What risks does this change pose? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing? See the test engineering process for further help: https://about.gitlab.com/handbook/engineering/quality/test-engineering/ --\u003e\n\n### What does success look like, and how can we measure that?\n\n- We can detect who has the opt-in switched on in the data\n- We can seamlessly switch between both states and are able to have the events update accordingly\n\n## Implementation Guide\n\n#### Resources\n- [Figma File](https://www.figma.com/file/kAAMkIqKPE4rRYo1JQIheI/Navigation-North-Star?node-id=3497%3A115852\u0026t=mBTbrs2FDP2n7ERu-1)\n- [Prototype](https://www.figma.com/proto/kAAMkIqKPE4rRYo1JQIheI/Navigation-North-Star?page-id=3497%3A114581\u0026node-id=3497%3A114582\u0026viewport=5371%2C-4688%2C1\u0026scaling=min-zoom\u0026starting-point-node-id=3497%3A114582)\n\n#### Tasks\n- [ ] Include a toggle within the User menu to turn on/off the navigation redesign\n- [ ] Clicking any portion of the dropdown option updates the toggle (user doesn't have to click specifically on the toggle element)","state":"closed","created_at":"2022-10-21T18:46:20.061Z","updated_at":"2022-12-21T17:07:48.742Z","closed_at":"2022-12-16T16:29:41.642Z","closed_by":{"id":1125848,"username":"samdbeckham","name":"Sam Beckham","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1125848/avatar.png","web_url":"https://gitlab.com/samdbeckham"},"labels":["Category:Navigation \u0026 Settings","Deliverable","Next Up","Technical Writing","UX","backend","devops::manage","frontend","group::foundations","missed-deliverable","missed:15.6","section::dev","tw::finished","type::feature","workflow::staging"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":11485645,"username":"thutterer","name":"Thomas Hutterer","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11485645/avatar.png","web_url":"https://gitlab.com/thutterer"}],"author":{"id":5041243,"username":"nickbrandt","name":"Nick Brandt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/96e3036898d44a8ad7063ba07cce0998?s=80\u0026d=identicon","web_url":"https://gitlab.com/nickbrandt"},"type":"ISSUE","assignee":{"id":11485645,"username":"thutterer","name":"Thomas Hutterer","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11485645/avatar.png","web_url":"https://gitlab.com/thutterer"},"user_notes_count":35,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/378666","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":6,"completed_count":1},"weight":5,"blocking_issues_count":0,"has_tasks":true,"task_status":"1 of 6 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/378666","notes":"https://gitlab.com/api/v4/projects/278964/issues/378666/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/378666/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#378666","relative":"#378666","full":"gitlab-org/gitlab#378666"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":9044,"epic":{"id":629014,"iid":9044,"title":"Navigation redesign (beta) - Super sidebar","url":"/groups/gitlab-org/-/epics/9044","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":null},{"id":117332237,"iid":378651,"project_id":278964,"title":"Overage modal: test cases","description":"We need to consider multiple test cases when working with overage modal:\n\nFree subscription: no overage modal is shown\n\n| Case | Related test |\n|------|--------------|\n| no overage modal is shown | [manage_members_spec.rb#L105](https://gitlab.com/gitlab-org/gitlab/-/blob/b100ab6988b56626ebf57fad4d9490375cd83b8a/ee/spec/features/groups/members/manage_members_spec.rb#L105) |\n\nPremium subscription:\n\n| Case | Related test |\n|------|--------------|\n| Show modal when adding a **user** by ID with role Guest to a group increases the users over subscription | [manage_members_spec.rb#L114](https://gitlab.com/gitlab-org/gitlab/-/blob/b100ab6988b56626ebf57fad4d9490375cd83b8a/ee/spec/features/groups/members/manage_members_spec.rb#L114) |\n| Show modal when adding a **user** by ID with role Developer and higher to a group increases the users over subscription | [manage_members_spec.rb#L115](https://gitlab.com/gitlab-org/gitlab/-/blob/b100ab6988b56626ebf57fad4d9490375cd83b8a/ee/spec/features/groups/members/manage_members_spec.rb#L115) |\n| Show modal when adding a **user** by email with role Guest to a group increases the users over subscription | [manage_members_spec.rb#L117](https://gitlab.com/gitlab-org/gitlab/-/blob/b100ab6988b56626ebf57fad4d9490375cd83b8a/ee/spec/features/groups/members/manage_members_spec.rb#L117) |\n| Show modal when adding a **user** by email with role Developer and higher to a group increases the users over subscription | [manage_members_spec.rb#L118](https://gitlab.com/gitlab-org/gitlab/-/blob/b100ab6988b56626ebf57fad4d9490375cd83b8a/ee/spec/features/groups/members/manage_members_spec.rb#L118) |\n| Show modal when adding a **group** with role Guest to a group increases the users over subscription | [manage_groups_spec.rb#L95](https://gitlab.com/gitlab-org/gitlab/-/blob/8bd8c34654557f0ab58286e17c2c4b9c147e52a3/ee/spec/features/groups/members/manage_groups_spec.rb#L95) |\n| Show modal when adding a **group** with role Developer and higher to a group increases the users over subscription | [manage_groups_spec.rb#L96](https://gitlab.com/gitlab-org/gitlab/-/blob/8bd8c34654557f0ab58286e17c2c4b9c147e52a3/ee/spec/features/groups/members/manage_groups_spec.rb#L96) |\n| Don't show modal if a receiving group is not enrolled into quarterly reconciliation | tested on Ultimate |\n\nUltimate subscription:\n\n| Case | Related test |\n|------|--------------|\n| Don't show modal when adding a user with role Guest | [manage_members_spec.rb#L176](https://gitlab.com/gitlab-org/gitlab/-/blob/b100ab6988b56626ebf57fad4d9490375cd83b8a/ee/spec/features/groups/members/manage_members_spec.rb#L176) |\n| Show modal when adding a user by ID with role Developer and higher to a group increases the users over subscription | [manage_members_spec.rb#L177](https://gitlab.com/gitlab-org/gitlab/-/blob/b100ab6988b56626ebf57fad4d9490375cd83b8a/ee/spec/features/groups/members/manage_members_spec.rb#L177) |\n| Show modal when adding a user by email with role Developer and higher to a group increases the users over subscription | [manage_members_spec.rb#L180](https://gitlab.com/gitlab-org/gitlab/-/blob/b100ab6988b56626ebf57fad4d9490375cd83b8a/ee/spec/features/groups/members/manage_members_spec.rb#L180) |\n| Don't show modal when adding a group with role Guest | [manage_groups_spec.rb#L117](https://gitlab.com/gitlab-org/gitlab/-/blob/8bd8c34654557f0ab58286e17c2c4b9c147e52a3/ee/spec/features/groups/members/manage_groups_spec.rb#L117) |\n| Show modal when adding a group with role Developer and higher to a group increases the users over subscription | [manage_groups_spec.rb#L118](https://gitlab.com/gitlab-org/gitlab/-/blob/8bd8c34654557f0ab58286e17c2c4b9c147e52a3/ee/spec/features/groups/members/manage_groups_spec.rb#L118) |\n| Don't show modal when adding a **user** with role Guest and group **already has** overage | Should be covered in https://gitlab.com/gitlab-org/gitlab/-/issues/383238 \u003cbr\u003e[manage_members_spec.rb#L189](https://gitlab.com/gitlab-org/gitlab/-/blob/b100ab6988b56626ebf57fad4d9490375cd83b8a/ee/spec/features/groups/members/manage_members_spec.rb#L189) |\n| Don't show modal if a receiving group is not enrolled into quarterly reconciliation | 'when adding to a group not eligible for reconciliation' [manage_members_spec.rb#L198](https://gitlab.com/gitlab-org/gitlab/-/blob/b100ab6988b56626ebf57fad4d9490375cd83b8a/ee/spec/features/groups/members/manage_members_spec.rb#L198) |","state":"closed","created_at":"2022-10-21T15:54:40.000Z","updated_at":"2022-12-13T22:20:53.403Z","closed_at":"2022-12-13T09:49:27.845Z","closed_by":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"labels":["devops::fulfillment","feature flag","frontend","group::billing and subscription management","section::fulfillment","test","type::maintenance","workflow::production"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"}],"author":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"type":"ISSUE","assignee":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"user_notes_count":13,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/378651","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":1,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/378651","notes":"https://gitlab.com/api/v4/projects/278964/issues/378651/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/378651/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#378651","relative":"#378651","full":"gitlab-org/gitlab#378651"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7804,"epic":{"id":485458,"iid":7804,"title":"[SaaS] Modal that informs users of additional charges before adding a member","url":"/groups/gitlab-org/-/epics/7804","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":{"id":96282,"iid":173,"sequence":4,"group_id":9970,"title":"15.7 Iteration 2","description":"","state":3,"created_at":"2022-11-14T20:25:41.592Z","updated_at":"2022-12-18T00:05:02.411Z","start_date":"2022-12-04","due_date":"2022-12-17","web_url":"https://gitlab.com/groups/gitlab-org/-/iterations/96282"},"health_status":"on_track"},{"id":117331939,"iid":378649,"project_id":278964,"title":"Use gitlabSubscriptionsPreviewBillableUserChange in overage modal","description":"### Problem:\n\nDon't show overage when adding guests to Ultimate group.\n\n### Proposal:\n\nWe have introduced preview to check overages at the moment of addition in https://gitlab.com/gitlab-org/gitlab/-/merge_requests/90195/. FE should call this as API and use `hasOverage`, `seatsInSubscription` and `newBillableUserCount` to show/hide [overage modal](https://gitlab.com/gitlab-org/gitlab/-/blob/7359d23f4e078479969c872924150219c6f1665f/ee/app/assets/javascripts/invite_members/components/invite_modal_base.vue). We should be able to remove most of the FE calulations and use the BE service purely.\n\n### Tests consideration:\n\nWe have plenty of tests cases to cover, TBD add a separate issue with their description and related integration tests","state":"closed","created_at":"2022-10-21T15:45:29.463Z","updated_at":"2022-11-21T12:06:23.524Z","closed_at":"2022-11-21T11:03:53.318Z","closed_by":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"labels":["Track Health Status","devops::fulfillment","feature flag","feature::enhancement","frontend","group::billing and subscription management","missed:15.6","section::fulfillment","type::feature","workflow::production"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"}],"author":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"type":"ISSUE","assignee":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/378649","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":1,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/378649","notes":"https://gitlab.com/api/v4/projects/278964/issues/378649/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/378649/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#378649","relative":"#378649","full":"gitlab-org/gitlab#378649"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7804,"epic":{"id":485458,"iid":7804,"title":"[SaaS] Modal that informs users of additional charges before adding a member","url":"/groups/gitlab-org/-/epics/7804","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":{"id":96281,"iid":172,"sequence":3,"group_id":9970,"title":"15.7 Iteration 1","description":"","state":3,"created_at":"2022-11-14T20:24:48.891Z","updated_at":"2022-12-04T00:05:09.115Z","start_date":"2022-11-18","due_date":"2022-12-03","web_url":"https://gitlab.com/groups/gitlab-org/-/iterations/96281"},"health_status":"on_track"},{"id":117327419,"iid":378642,"project_id":278964,"title":"Stop relying on 'known_events' when adding metrics to Service Ping","description":"As discussed [here](https://gitlab.com/gitlab-data/analytics/-/issues/14302#note_1139475909), we are currently loading Redis events from `known_events` yaml files and automatically adding their metrics to Service Ping by adding a `_weekly` and `_monthly` suffix to their name. \n\nThis is happening in the [`unique_events_data`](https://gitlab.com/gitlab-org/gitlab/blob/master/lib/gitlab/usage_data_counters/hll_redis_counter.rb#L134) method of HLLRedisCounter.\n\nThe same metrics also need to be defined using metrics definitions, creating duplication and room for error [like the one from [linked discussion](https://gitlab.com/gitlab-data/analytics/-/issues/14302#note_1139475909)]. To solve this, we should stop using known_events when creating the Service Ping load and just add the metrics based on their instrumentation classes.","state":"closed","created_at":"2022-10-21T14:33:39.111Z","updated_at":"2022-12-08T21:32:52.496Z","closed_at":"2022-12-08T21:32:52.468Z","closed_by":{"id":9712164,"username":"nbelokolodov","name":"Niko Belokolodov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9712164/avatar.png","web_url":"https://gitlab.com/nbelokolodov"},"labels":["backend","devops::analytics","group::product intelligence","section::analytics","type::maintenance","workflow::production"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":9712164,"username":"nbelokolodov","name":"Niko Belokolodov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9712164/avatar.png","web_url":"https://gitlab.com/nbelokolodov"}],"author":{"id":1863977,"username":"michold","name":"MichaÅ‚ Wielich","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1863977/avatar.png","web_url":"https://gitlab.com/michold"},"type":"ISSUE","assignee":{"id":9712164,"username":"nbelokolodov","name":"Niko Belokolodov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9712164/avatar.png","web_url":"https://gitlab.com/nbelokolodov"},"user_notes_count":6,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/378642","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/378642","notes":"https://gitlab.com/api/v4/projects/278964/issues/378642/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/378642/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#378642","relative":"#378642","full":"gitlab-org/gitlab#378642"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6140,"epic":{"id":285452,"iid":6140,"title":"Migrate Metrics which are dynamically added from usage_data.rb to instrumentation classes","url":"/groups/gitlab-org/-/epics/6140","group_id":9970},"iteration":null,"health_status":null},{"id":117327238,"iid":378641,"project_id":278964,"title":"Improve `choose-an-appropriate-migration-type` documentation","description":"**Context:**\n\nAdding schema change additions (Example: `add_column`) using a post-migration can cause problems when tagging and deploying a release candidate: pods need to be restarted.\n\nOur current documentation does not provide enough information about which methods are not allowed in post-deployment migrations and why.\n\n**Solution:**\n\nImprove the current documentation (`migration_style_guide.html#choose-an-appropriate-migration-type`).\n\nhttps://docs.gitlab.com/ee/development/migration_style_guide.html#choose-an-appropriate-migration-type","state":"closed","created_at":"2022-10-21T14:31:32.711Z","updated_at":"2022-12-06T02:26:32.310Z","closed_at":"2022-11-05T01:11:48.988Z","closed_by":{"id":480097,"username":"alexives","name":"Alex Ives","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/480097/avatar.png","web_url":"https://gitlab.com/alexives"},"labels":["Category:Database","Technical Writing","backend","database::active","devops::govern","documentation","group::compliance","section::sec","type::maintenance","workflow::in review"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":9821577,"username":"huzaifaiftikhar1","name":"Huzaifa Iftikhar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9821577/avatar.png","web_url":"https://gitlab.com/huzaifaiftikhar1"}],"author":{"id":9231122,"username":"dfrazao-gitlab","name":"Diogo FrazÃ£o","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9231122/avatar.png","web_url":"https://gitlab.com/dfrazao-gitlab"},"type":"ISSUE","assignee":{"id":9821577,"username":"huzaifaiftikhar1","name":"Huzaifa Iftikhar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9821577/avatar.png","web_url":"https://gitlab.com/huzaifaiftikhar1"},"user_notes_count":4,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/378641","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/378641","notes":"https://gitlab.com/api/v4/projects/278964/issues/378641/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/378641/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#378641","relative":"#378641","full":"gitlab-org/gitlab#378641"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":9068,"epic":{"id":630933,"iid":9068,"title":"Database Review: Documentation improvements","url":"/groups/gitlab-org/-/epics/9068","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":117326143,"iid":378638,"project_id":278964,"title":"IP Group enforcement regression in the Package Registry","description":"## :fire: Problem\n\nIn https://gitlab.com/gitlab-org/gitlab/-/issues/363863, we fixed a ~security vulnerability where the [group IP enforcement](https://docs.gitlab.com/ee/user/group/access_and_permissions.html#restrict-group-access-by-ip-address) was not properly respected by the Package Registry.\n\n(A) The fix used there was quite simple: if there is an IP enforcement violation, then we simply remove _all_ package registry permissions. See https://gitlab.com/gitlab-org/gitlab/-/blob/8287b24dca55519deec457aea4b25846463b0e98/ee/app/policies/ee/project_policy.rb#L423 and https://gitlab.com/gitlab-org/gitlab/-/blob/8287b24dca55519deec457aea4b25846463b0e98/ee/app/policies/ee/group_policy.rb#L415.\n\n(B) On the other hand, we have a community effort around this [issue](https://gitlab.com/gitlab-org/gitlab/-/issues/329253). Among the changes, we needed to put more conditions on how `read_package` is evaluated and granted by policies. Because of this [rule](https://gitlab.com/gitlab-org/gitlab/-/blob/2d2f0bcb347a44cbe56fb579a101bf967f3f534a/app/policies/project_policy.rb#L636), we were forced there to [create](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/90963) package dedicated policies for [project](https://gitlab.com/gitlab-org/gitlab/-/blob/2d2f0bcb347a44cbe56fb579a101bf967f3f534a/app/policies/packages/policies/project_policy.rb) and [group](https://gitlab.com/gitlab-org/gitlab/-/blob/2d2f0bcb347a44cbe56fb579a101bf967f3f534a/app/policies/packages/policies/group_policy.rb). These policies are super simple: for `read_package` use my rules, for everything else, use the project/group policy.\n\n(A) was deployed in %\"15.3\" and (B) in %\"15.4\".\n\nNow guess what happens when (A) and (B) are together? Yeah, :boom: \n\nGroup IP enforcement is again not respected from %\"15.4\" for the `read_package` permission which is the one permission used when pulling packages. \n\nIn few words: this is a security issue regression.\n\n## :fire_engine: Solution\n\n* Update the package dedicated policies to properly deny `read_package` if a group ip violation is detected.\n   * Defense in depth: go further and simply deny all `*_package` permissions.\n   * :warning: the project policy was updated for %\"15.6\" in https://gitlab.com/gitlab-org/gitlab/-/merge_requests/100260. So we don't need the changes for the project policy object in the `master` branch MR.\n* Update the specs.\n   * This went out of the radar of the specs because the group ip logic was assert on policy specs but this time around, we want to make sure that this regression can't pop up again.\n   * For the above, simply add spec examples at the request specs level for the package registry. If possible for all package formats.\n\n## :pray: Thanks\n\nCredits where they are due.\n\nThe above was [discovered](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/100260#note_1144516402) in a ~\"Community contribution\" (from `@wwwjon`) where a job failed on spec trying to pull a PyPI package from a group ip restricted project.","state":"closed","created_at":"2022-10-21T14:11:38.467Z","updated_at":"2023-01-15T14:48:18.159Z","closed_at":"2022-12-01T19:04:31.576Z","closed_by":{"id":12459192,"username":"dmeshcharakou","name":"Dzmitry Meshcharakou","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12459192/avatar.png","web_url":"https://gitlab.com/dmeshcharakou"},"labels":["Category:Package Registry","backend","bug::vulnerability","devops::package","group::package registry","priority::3","section::ops","security","severity::3","type::bug","workflow::production"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":12459192,"username":"dmeshcharakou","name":"Dzmitry Meshcharakou","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12459192/avatar.png","web_url":"https://gitlab.com/dmeshcharakou"}],"author":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"type":"ISSUE","assignee":{"id":12459192,"username":"dmeshcharakou","name":"Dzmitry Meshcharakou","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12459192/avatar.png","web_url":"https://gitlab.com/dmeshcharakou"},"user_notes_count":20,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2022-12-26","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/378638","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/378638","notes":"https://gitlab.com/api/v4/projects/278964/issues/378638/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/378638/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#378638","relative":"#378638","full":"gitlab-org/gitlab#378638"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":117325883,"iid":378637,"project_id":278964,"title":"Ensure new schema additions are executed as regular migrations","description":"The following methods must be called in regular migrations:\n\n   - `add_column`\n   - `create_table`\n   - ~~add_concurrent_foreign_key~~\n\nIf one of these methods is used in a post migration. The rubocop job should fail.","state":"closed","created_at":"2022-10-21T14:06:40.711Z","updated_at":"2022-11-20T16:05:24.195Z","closed_at":"2022-11-14T21:53:38.450Z","closed_by":{"id":12352353,"username":"jon_jenkins","name":"Jon Jenkins","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12352353/avatar.png","web_url":"https://gitlab.com/jon_jenkins"},"labels":["Category:Database","backend","database::active","devops::data_stores","group::database","section::enablement","type::maintenance"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":12352353,"username":"jon_jenkins","name":"Jon Jenkins","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12352353/avatar.png","web_url":"https://gitlab.com/jon_jenkins"}],"author":{"id":9231122,"username":"dfrazao-gitlab","name":"Diogo FrazÃ£o","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9231122/avatar.png","web_url":"https://gitlab.com/dfrazao-gitlab"},"type":"ISSUE","assignee":{"id":12352353,"username":"jon_jenkins","name":"Jon Jenkins","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12352353/avatar.png","web_url":"https://gitlab.com/jon_jenkins"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/378637","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/378637","notes":"https://gitlab.com/api/v4/projects/278964/issues/378637/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/378637/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#378637","relative":"#378637","full":"gitlab-org/gitlab#378637"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8892,"epic":{"id":613623,"iid":8892,"title":"Database Review: Cops improvement (RuboCop)","url":"/groups/gitlab-org/-/epics/8892","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":117290812,"iid":378601,"project_id":278964,"title":"[Feature flag] Enable `ci_partitioning_use_ci_builds_metadata_routing_table`","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n## Summary\n\nThis issue is to rollout [the feature](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/100935) on production,\nthat is currently behind the `ci_partitioning_use_ci_builds_metadata_routing_table` feature flag.\n\nWill switch the reads and writes for the `Ci::BuildMetadata` model from the `ci_builds_metadata` table to its routing table: `p_ci_builds_metadata`.\n\nWe don't have an actor for this feature flag, the rollout will be based on the percentage of time strategy/\n\n## Owners\n\n- Team: ~\"group::pipeline execution\" \n- Most appropriate slack channel to reach out to: `#f_ci_time_decay`\n- Best individual to reach out to: `@mbobin`\n- PM: `@jheimbuck_gl` \n\n## Stakeholders\n\n\u003c!--\nAre there any other stages or teams involved that need to be kept in the loop?\n\n- Name of a PM\n- The Support Team\n- The Delivery Team\n--\u003e\n\n## Expectations\n\n### What are we expecting to happen?\n\nNothing, everything should still work normally, but using `p_ci_builds_metadata` instead of `ci_builds_metadata`.\n\n### When is the feature viable?\n\n\u003c!-- What are the settings we need to configure in order to have this feature viable? --\u003e\n\n\u003c!-- \nExample below:\n \n1. Enable service ping collection\n   `ApplicationSetting.first.update(usage_ping_enabled: true)`\n--\u003e\n\n### What might happen if this goes wrong?\n\n`5xx` errors for pipelines creation and processing related to incorrect SQL query. The feature flag can be turned off.\n\n### What can we monitor to detect problems with this?\n\n - SQL errors: https://log.gprd.gitlab.net/goto/6b62c900-5c18-11ed-8d37-e9a2f393ea2a\n - [API error rate](https://dashboards.gitlab.net/d/stage-groups-pipeline_execution/stage-groups-pipeline-execution-group-dashboard?orgId=1\u0026from=1667273280000\u0026to=1667294939999\u0026viewPanel=25)\n - [Web error rate](https://dashboards.gitlab.net/d/stage-groups-pipeline_execution/stage-groups-pipeline-execution-group-dashboard?orgId=1\u0026from=1667273280000\u0026to=1667294939999\u0026viewPanel=26)\n - [Sidekiq error rate](https://dashboards.gitlab.net/d/stage-groups-pipeline_execution/stage-groups-pipeline-execution-group-dashboard?orgId=1\u0026from=1667273340000\u0026to=1667294999999\u0026viewPanel=41)\n - [Duration of the builds queue retrieval using the big query SQL](https://dashboards.gitlab.net/d/stage-groups-pipeline_execution/stage-groups-pipeline-execution-group-dashboard?orgId=1\u0026from=1667273400000\u0026to=1667295059999\u0026viewPanel=2762861754)\n\n### What can we check for monitoring production after rollouts?\n\n- https://sentry.gitlab.net/gitlab/gitlabcom/\n\n## Rollout Steps\n\n### Rollout on non-production environments\n\n- Ensure that the feature MRs have been deployed to non-production environments.\n    - [x] `/chatops run auto_deploy status f8cc9e78f289089908fc6811f42e6784eba34930`\n- [ ] Enable the feature globally on non-production environments.\n    - [x] `/chatops run feature set ci_partitioning_use_ci_builds_metadata_routing_table true --dev --staging --staging-ref`\n- [ ] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n      The best environment to validate the feature in is [staging-canary](https://about.gitlab.com/handbook/engineering/infrastructure/environments/#staging-canary)\n      as this is the first environment deployed to. Note you will need to make sure you are configured to use canary as outlined [here](https://about.gitlab.com/handbook/engineering/infrastructure/environments/canary-stage/)\n      when accessing the staging environment in order to make sure you are testing appropriately.\n\n### Specific rollout on production\n\n- Ensure that the feature MRs have been deployed to both production and canary.\n    - [x] `/chatops run auto_deploy status f8cc9e78f289089908fc6811f42e6784eba34930`\n- If you're using [project-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [-] `/chatops run feature set --project=gitlab-org/gitlab,gitlab-org/gitlab-foss,gitlab-com/www-gitlab-com \u003cfeature-flag-name\u003e true`\n- If you're using [group-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [-] `/chatops run feature set --group=gitlab-org,gitlab-com \u003cfeature-flag-name\u003e true`\n- If you're using [user-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [-] `/chatops run feature set --user=\u003cyour-username\u003e \u003cfeature-flag-name\u003e true`\n- [-] Verify that the feature works on the specific entries. Posting the QA result in this issue is preferable.\n\n### Preparation before global rollout\n\n- [x] Set a milestone to the rollout issue to signal for enabling and removing the feature flag when it is stable.\n- [ ] Check if the feature flag change needs to be accompanied with a\n  [change management issue](https://about.gitlab.com/handbook/engineering/infrastructure/change-management/#feature-flags-and-the-change-management-process).\n  Cross link the issue here if it does.\n- [x] Ensure that you or a representative in development can be available for at least 2 hours after feature flag updates in production.\n  If a different developer will be covering, or an exception is needed, please inform the oncall SRE by using the `@sre-oncall` Slack alias.\n- [ ] Ensure that documentation has been updated ([More info](https://docs.gitlab.com/ee/development/documentation/feature_flags.html#features-that-became-enabled-by-default)).\n- [ ] Announce on [the feature issue](ISSUE LINK) an estimated time this will be enabled on GitLab.com. \n- [ ] Ensure that any breaking changes have been announced following the [release post process](https://about.gitlab.com/handbook/marketing/blog/release-posts/#deprecations-removals-and-breaking-changes) to ensure GitLab customers are aware.\n- [ ] Notify `#support_gitlab-com` and your team channel ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#communicate-the-change)).\n\n### Global rollout on production\n\nFor visibility, all `/chatops` commands that target production should be executed in the `#production` slack channel and cross-posted (with the command results) to the responsible team's slack channel (`#g_TEAM_NAME`).\n\n- [x] [Incrementally roll out](https://docs.gitlab.com/ee/development/feature_flags/controls.html#process) the feature.\n  - If the feature flag in code has [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform **actor-based** rollout.\n    - [-] `/chatops run feature set \u003cfeature-flag-name\u003e \u003crollout-percentage\u003e --actors`\n  - If the feature flag in code does **NOT** have [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform time-based rollout (**random** rollout).\n    - [x] `/chatops run feature set ci_partitioning_use_ci_builds_metadata_routing_table \u003crollout-percentage\u003e --random`\n  - Enable the feature globally on production environment.\n    - [x] `/chatops run feature set ci_partitioning_use_ci_builds_metadata_routing_table true`\n- [ ] Announce on [the feature issue](ISSUE LINK) that the feature has been globally enabled.\n- [ ] Wait for [at least one day for the verification term](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release).\n\n### (Optional) Release the feature with the feature flag\n\nIf you're still unsure whether the feature is [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release)\nbut want to release it in the current milestone, you can change the default state of the feature flag to be enabled.\nTo do so, follow these steps:\n\n- [ ] Create a merge request with the following changes. Ask for review and merge it.\n    - [ ] Set the `default_enabled` attribute in [the feature flag definition](https://docs.gitlab.com/ee/development/feature_flags/#feature-flag-definition-and-validation) to `true`.\n    - [ ] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the default-enabling MR has been included in the release package.\n      If the merge request was deployed before [the monthly release was tagged](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run release check \u003cmerge-request-url\u003e \u003cmilestone\u003e`\n- [ ] Consider cleaning up the feature flag from all environments by running these chatops command in `#production` channel. Otherwise these settings may override the default enabled.\n    - [ ] `/chatops run feature delete \u003cfeature-flag-name\u003e --dev --staging --staging-ref --production`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [ ] Set the next milestone to this rollout issue for scheduling [the flag removal](#release-the-feature).\n- [ ] (Optional) You can [create a separate issue](https://gitlab.com/gitlab-org/gitlab/-/issues/new?issuable_template=Feature%20Flag%20Cleanup) for scheduling the steps below to [Release the feature](#release-the-feature).\n    - [ ] Set the title to \"[Feature flag] Cleanup `\u003cfeature-flag-name\u003e`\".\n    - [ ] Execute the `/copy_metadata \u003cthis-rollout-issue-link\u003e` quick action to copy the labels from this rollout issue.\n    - [ ] Link this rollout issue as a related issue.\n    - [ ] Close this rollout issue.\n\n**WARNING:** This approach has the downside that it makes it difficult for us to\n[clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) the flag.\nFor example, on-premise users could disable the feature on their GitLab instance. But when you\nremove the flag at some point, they suddenly see the feature as enabled and they can't roll it back\nto the previous behavior. To avoid this potential breaking change, use this approach only for urgent\nmatters.\n\n### Release the feature\n\nAfter the feature has been [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release),\nthe [clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up)\nshould be done as soon as possible to permanently enable the feature and reduce complexity in the\ncodebase.\n\nYou can either [create a follow-up issue for Feature Flag Cleanup](https://gitlab.com/gitlab-org/gitlab/-/issues/new?issuable_template=Feature%20Flag%20Cleanup) or use the checklist below in this same issue.\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [x] Create a merge request to remove `ci_partitioning_use_ci_builds_metadata_routing_table` feature flag. Ask for review and merge it.\n    - [ ] Remove all references to the feature flag from the codebase.\n    - [ ] Remove the YAML definitions for the feature from the repository.\n    - [ ] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [x] Ensure that the cleanup MR has been included in the release package.\n      If the merge request was deployed before [the monthly release was tagged](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run release check \u003cmerge-request-url\u003e \u003cmilestone\u003e`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [x] If not already done, clean up the feature flag from all environments by running these chatops command in `#production` channel:\n    - [ ] `/chatops run feature delete ci_partitioning_use_ci_builds_metadata_routing_table --dev --staging --staging-ref --production`\n- [ ] Close this rollout issue.\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set ci_partitioning_use_ci_builds_metadata_routing_table false\n```\n\n\u003c!-- A feature flag can also be used for rolling out a bug fix or a maintenance work.\nIn this scenario, labels must be related to it, for example; ~\"type::feature\", ~\"type::bug\" or ~\"type::maintenance\".\nPlease use /copy_metadata to copy the labels from the issue you're rolling out. --\u003e","state":"closed","created_at":"2022-10-21T06:47:07.773Z","updated_at":"2023-01-10T15:52:55.866Z","closed_at":"2022-11-28T09:21:24.039Z","closed_by":{"id":731181,"username":"mbobin","name":"Marius Bobin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c0a726d6aa37d780309f7b3ea3555a14?s=80\u0026d=identicon","web_url":"https://gitlab.com/mbobin"},"labels":["CI data partitioning","Track Health Status","ci::scaling","devops::verify","feature flag","group::pipeline execution","maintenance::scalability","missed:15.6","section::ops","type::maintenance"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":731181,"username":"mbobin","name":"Marius Bobin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c0a726d6aa37d780309f7b3ea3555a14?s=80\u0026d=identicon","web_url":"https://gitlab.com/mbobin"}],"author":{"id":731181,"username":"mbobin","name":"Marius Bobin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c0a726d6aa37d780309f7b3ea3555a14?s=80\u0026d=identicon","web_url":"https://gitlab.com/mbobin"},"type":"ISSUE","assignee":{"id":731181,"username":"mbobin","name":"Marius Bobin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c0a726d6aa37d780309f7b3ea3555a14?s=80\u0026d=identicon","web_url":"https://gitlab.com/mbobin"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2022-11-21","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/378601","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":42,"completed_count":11},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"11 of 42 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/378601","notes":"https://gitlab.com/api/v4/projects/278964/issues/378601/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/378601/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#378601","relative":"#378601","full":"gitlab-org/gitlab#378601"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":117288819,"iid":378598,"project_id":278964,"title":"SCIM Provisioning should happen without Group Association","description":"* Update `build_scim_identity` method to accept an optional group_id parameter.\n* Update 'ee/lib/ee/gitlab/scim/provisioning_service.rb' to work with saml_provider set in AdminSettings instead\n* Update `ee/lib/ee/gitlab/scim/reprovision_service.rb` `ee/lib/ee/gitlab/scim/deprovision_service.rb` similarly","state":"closed","created_at":"2022-10-21T05:41:44.544Z","updated_at":"2022-12-20T06:08:05.188Z","closed_at":"2022-12-20T06:08:05.157Z","closed_by":{"id":11811081,"username":"sgarg_gitlab","name":"Smriti Garg","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11811081/avatar.png","web_url":"https://gitlab.com/sgarg_gitlab"},"labels":["Deliverable","Enterprise Edition","Track Health Status","backend","customer","devops::manage","group::authentication and authorization","section::dev","type::feature","workflow::in review"],"milestone":{"id":2745648,"iid":83,"group_id":9970,"title":"15.8","description":"","state":"active","created_at":"2022-08-22T16:57:34.875Z","updated_at":"2022-08-22T16:57:34.875Z","due_date":"2023-01-17","start_date":"2022-12-18","expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/83"},"assignees":[{"id":11811081,"username":"sgarg_gitlab","name":"Smriti Garg","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11811081/avatar.png","web_url":"https://gitlab.com/sgarg_gitlab"}],"author":{"id":11811081,"username":"sgarg_gitlab","name":"Smriti Garg","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11811081/avatar.png","web_url":"https://gitlab.com/sgarg_gitlab"},"type":"ISSUE","assignee":{"id":11811081,"username":"sgarg_gitlab","name":"Smriti Garg","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11811081/avatar.png","web_url":"https://gitlab.com/sgarg_gitlab"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/378598","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":1,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/378598","notes":"https://gitlab.com/api/v4/projects/278964/issues/378598/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/378598/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#378598","relative":"#378598","full":"gitlab-org/gitlab#378598"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":9055,"epic":{"id":630369,"iid":9055,"title":"Add SCIM API endpoint support at instance level","url":"/groups/gitlab-org/-/epics/9055","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":"on_track"},{"id":117288772,"iid":378597,"project_id":278964,"title":"Make group_id an optional parameter for SCIMIdentity table","description":"* Schema changes to remove not-null constraint on group_id\n* Schema changes to ScimOauthAccessToken to remove non-null constraint on group_id\n* Model changes in scim_idenity.rb\n* SCIMFinder changes to return scim_identities with an optional group_id parameter","state":"closed","created_at":"2022-10-21T05:39:37.758Z","updated_at":"2022-11-21T13:29:33.867Z","closed_at":"2022-11-21T12:42:01.219Z","closed_by":{"id":11811081,"username":"sgarg_gitlab","name":"Smriti Garg","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11811081/avatar.png","web_url":"https://gitlab.com/sgarg_gitlab"},"labels":["Deliverable","Track Health Status","backend","devops::manage","feature::addition","group::authentication and authorization","section::dev","type::feature"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":11811081,"username":"sgarg_gitlab","name":"Smriti Garg","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11811081/avatar.png","web_url":"https://gitlab.com/sgarg_gitlab"}],"author":{"id":11811081,"username":"sgarg_gitlab","name":"Smriti Garg","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11811081/avatar.png","web_url":"https://gitlab.com/sgarg_gitlab"},"type":"ISSUE","assignee":{"id":11811081,"username":"sgarg_gitlab","name":"Smriti Garg","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11811081/avatar.png","web_url":"https://gitlab.com/sgarg_gitlab"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/378597","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/378597","notes":"https://gitlab.com/api/v4/projects/278964/issues/378597/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/378597/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#378597","relative":"#378597","full":"gitlab-org/gitlab#378597"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":9055,"epic":{"id":630369,"iid":9055,"title":"Add SCIM API endpoint support at instance level","url":"/groups/gitlab-org/-/epics/9055","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":117276391,"iid":378574,"project_id":278964,"title":"Review auth team owned gems and identify Ruby 3 compatability","description":"Based on the epic https://gitlab.com/groups/gitlab-org/-/epics/8845, we are aiming to get ready for Ruby 3 upgrade. This means we'd need to verify all Auth team owned gems have a Ruby 3 build available (vendored or external). This task is to review those in the [spread sheet](https://docs.google.com/spreadsheets/d/1gweXRsv0MdMXMyejuWpmGmp2T123geq2rlsJrdDh8r0/edit#gid=0) and take the following corrective action\n-  If the status has been reviewed with `Action required` `Y`, notes indicate the action to take. We will want to do a check on each gem, and if it has reasonable unit tests available, then setup Ruby 3 to run those specs with Ruby 3. If they pass, that provides us first layer of confidence. Once this is done, the `Action required` can be set to `N`\n- If the unit tests don't exist, or are are very basic, please file an issue to add UT to the gem or if we can remove/replace it. The `Action required` in this case will stay `Y`\nPlease reach out to @jessieay or @adil.farrukh in case of questions","state":"closed","created_at":"2022-10-20T21:47:28.656Z","updated_at":"2023-01-05T19:15:05.024Z","closed_at":"2023-01-05T19:15:04.996Z","closed_by":{"id":12519771,"username":"adil.farrukh","name":"Adil Farrukh","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12519771/avatar.png","web_url":"https://gitlab.com/adil.farrukh"},"labels":["Deliverable","Track Health Status","devops::manage","group::authentication and authorization","section::dev","type::maintenance"],"milestone":{"id":2745648,"iid":83,"group_id":9970,"title":"15.8","description":"","state":"active","created_at":"2022-08-22T16:57:34.875Z","updated_at":"2022-08-22T16:57:34.875Z","due_date":"2023-01-17","start_date":"2022-12-18","expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/83"},"assignees":[],"author":{"id":12519771,"username":"adil.farrukh","name":"Adil Farrukh","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12519771/avatar.png","web_url":"https://gitlab.com/adil.farrukh"},"type":"ISSUE","assignee":null,"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/378574","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/378574","notes":"https://gitlab.com/api/v4/projects/278964/issues/378574/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/378574/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#378574","relative":"#378574","full":"gitlab-org/gitlab#378574"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":"on_track"},{"id":117256769,"iid":378508,"project_id":278964,"title":"[Performance] Internal pages API endpoint is slow","description":"## Problem\n\nEditor group error budgets are affected by slow `/api/v4/internal/pages` endpoint.\n\nI found that it was consistently slow for specific clients. Majority of cases are CPU bound. \n\n\u003cimg src=\"/uploads/35354805a360816033325058e9ded5ab/Screenshot_2022-10-20_at_16.55.49.png\" width=1000px\u003e\n\n[Source](https://log.gprd.gitlab.net/goto/a85780a0-5086-11ed-b0ec-930003e0679c)\n\n## Proposal\n\nInvestigate why it takes a second or longer to generate a response. I suspect we have a non-performant Ruby code that affects specific client configurations.","state":"closed","created_at":"2022-10-20T14:58:27.514Z","updated_at":"2022-12-21T12:02:56.142Z","closed_at":"2022-12-02T11:03:01.187Z","closed_by":{"id":421631,"username":"vyaklushin","name":"Vasilii Iakliushin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/421631/avatar.png","web_url":"https://gitlab.com/vyaklushin"},"labels":["Category:Pages","Deliverable","backend","bug::performance","devops::create","group::editor","section::dev","type::bug","workflow::verification"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":421631,"username":"vyaklushin","name":"Vasilii Iakliushin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/421631/avatar.png","web_url":"https://gitlab.com/vyaklushin"}],"author":{"id":421631,"username":"vyaklushin","name":"Vasilii Iakliushin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/421631/avatar.png","web_url":"https://gitlab.com/vyaklushin"},"type":"ISSUE","assignee":{"id":421631,"username":"vyaklushin","name":"Vasilii Iakliushin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/421631/avatar.png","web_url":"https://gitlab.com/vyaklushin"},"user_notes_count":11,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/378508","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/378508","notes":"https://gitlab.com/api/v4/projects/278964/issues/378508/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/378508/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#378508","relative":"#378508","full":"gitlab-org/gitlab#378508"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":117245276,"iid":378498,"project_id":278964,"title":"Reduce urgency for no-op / deprecated unleash client endpoints","description":"\u003e More over since these are not customer using features that we support, we can also ask ~\"group::scalability\" if these endpoints can be removed in overall calculation (ignore-list) or if that is not possible as a workaround we can increase the urgency factory to 5s.\n\nWhile [investigating error budget optimizations](https://gitlab.com/gitlab-org/ci-cd/release-group/release/-/issues/179#note_1136125234), we noticed the below endpoints are top violators of apdex and can be ignored as they are deprecated/no-op or as a workaround the urgency factor can be set to 5s.\n\n* `POST /api/:version/feature_flags/unleash/:project_id/client/metrics`\n* `GET /api/:version/feature_flags/unleash/:project_id/features`\n\nCreating this issue to follow up with ~\"group::scalability\" so that they can be added to a ignore list or if that is not possible, we can lower the urgency to `5s`.","state":"closed","created_at":"2022-10-20T13:33:40.308Z","updated_at":"2022-11-02T17:48:08.729Z","closed_at":"2022-11-02T11:19:31.371Z","closed_by":{"id":9253328,"username":"bala.kumar","name":"Bala Kumar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9253328/avatar.png","web_url":"https://gitlab.com/bala.kumar"},"labels":["Category:Feature Flags","Error Budget Improvement","backend","devops::release","group::release","section::ops","type::maintenance","workflow::verification"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":9253328,"username":"bala.kumar","name":"Bala Kumar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9253328/avatar.png","web_url":"https://gitlab.com/bala.kumar"}],"author":{"id":9253328,"username":"bala.kumar","name":"Bala Kumar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9253328/avatar.png","web_url":"https://gitlab.com/bala.kumar"},"type":"ISSUE","assignee":{"id":9253328,"username":"bala.kumar","name":"Bala Kumar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9253328/avatar.png","web_url":"https://gitlab.com/bala.kumar"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/378498","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/378498","notes":"https://gitlab.com/api/v4/projects/278964/issues/378498/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/378498/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#378498","relative":"#378498","full":"gitlab-org/gitlab#378498"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":9149,"epic":{"id":643608,"iid":9149,"title":"Release Stage Error budget and performance improvements - FY23Q4","url":"/groups/gitlab-org/-/epics/9149","group_id":9970,"human_readable_end_date":"Jan 31, 2023","human_readable_timestamp":"\u003cstrong\u003e16\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":117227110,"iid":378476,"project_id":278964,"title":"Add missing `dependent: :nullify` on User for `has_many: created_projects`","description":"See https://gitlab.com/gitlab-org/gitlab/-/issues/351064#note_1142781154 for details.","state":"closed","created_at":"2022-10-20T09:40:47.262Z","updated_at":"2022-11-22T12:52:23.274Z","closed_at":"2022-10-28T12:37:04.278Z","closed_by":{"id":4093067,"username":"manojmj","name":"Manoj M J","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4093067/avatar.png","web_url":"https://gitlab.com/manojmj"},"labels":["backend","bug::functional","devops::manage","group::organization","namespace","section::dev","type::bug"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":4093067,"username":"manojmj","name":"Manoj M J","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4093067/avatar.png","web_url":"https://gitlab.com/manojmj"}],"author":{"id":4093067,"username":"manojmj","name":"Manoj M J","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4093067/avatar.png","web_url":"https://gitlab.com/manojmj"},"type":"ISSUE","assignee":{"id":4093067,"username":"manojmj","name":"Manoj M J","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4093067/avatar.png","web_url":"https://gitlab.com/manojmj"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/378476","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/378476","notes":"https://gitlab.com/api/v4/projects/278964/issues/378476/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/378476/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#378476","relative":"#378476","full":"gitlab-org/gitlab#378476"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7405,"epic":{"id":423423,"iid":7405,"title":"Unify member management between projects and groups - Owner Role","url":"/groups/gitlab-org/-/epics/7405","group_id":9970,"human_readable_end_date":"Mar 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e months remaining"},"iteration":null,"health_status":null},{"id":117206420,"iid":378460,"project_id":278964,"title":"Health Status `not` filter  option on issue list","description":"## Release Post\n\nWhen attempting to narrow down the scope of issues you need to review quickly, having flexible filter options is a game changer. In this release, we now have the ability to filter issues and work items using a `not` [issue list filter](https://docs.gitlab.com/ee/user/project/issues/managing_issues.html#filter-the-list-of-issues) for Health Status. This empowers users to quickly find records which are not `on track` as an efficient workflow.\n\n![health_status_not_filter](/uploads/50d8c3e421be29936a7f24129c8fa7d0/health_status_not_filter.gif)\n\n## Summary\n\nIn https://gitlab.com/gitlab-org/gitlab/-/issues/218711 we implemented the ability to filter the issue list by Health Status. However we don't have the option to use the `â‰ ` operator.\n\n\n## Proposal\n\nWe should allow the use of the `â‰ ` operator when filtering issue list and board by health status.\n\n![not_equal](/uploads/e7201801de6a72c40956e74f51e72a5d/not_equal.gif)\n\n## Docs Support\n\nFor issues requiring an update to GitLab docs, please note that this is part of the definition of done for this issue. Please create a separate MR for the docs update related to the MR for the actual change to ensure code reviews are not blocked by TW reviews.\n\n- [ ] This issue requires an update to GitLab docs\n- [x] This issue does not require an update to GitLab docs","state":"closed","created_at":"2022-10-19T23:33:29.227Z","updated_at":"2023-01-09T14:33:19.385Z","closed_at":"2023-01-09T14:33:19.353Z","closed_by":{"id":2890431,"username":"amandarueda","name":"Amanda Rueda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2890431/avatar.png","web_url":"https://gitlab.com/amandarueda"},"labels":["Category:Portfolio Management","GitLab Free","GitLab Premium","GitLab Ultimate","Track Health Status","backend","backend complete","devops::plan","frontend","group::product planning","missed:15.7","release post item::in review","section::dev","type::feature","usability","workflow::verification"],"milestone":{"id":2745648,"iid":83,"group_id":9970,"title":"15.8","description":"","state":"active","created_at":"2022-08-22T16:57:34.875Z","updated_at":"2022-08-22T16:57:34.875Z","due_date":"2023-01-17","start_date":"2022-12-18","expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/83"},"assignees":[{"id":3509693,"username":"nicolasdular","name":"Nicolas Dular","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c4a21f15150c12ddf13fd848597cddd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/nicolasdular"}],"author":{"id":2890431,"username":"amandarueda","name":"Amanda Rueda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2890431/avatar.png","web_url":"https://gitlab.com/amandarueda"},"type":"ISSUE","assignee":{"id":3509693,"username":"nicolasdular","name":"Nicolas Dular","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c4a21f15150c12ddf13fd848597cddd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/nicolasdular"},"user_notes_count":12,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/378460","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":1},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"1 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/378460","notes":"https://gitlab.com/api/v4/projects/278964/issues/378460/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/378460/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#378460","relative":"#378460","full":"gitlab-org/gitlab#378460"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2952,"epic":{"id":33858,"iid":2952,"title":"Increase visibility and accessibility of Issue/Epic Health Status","url":"/groups/gitlab-org/-/epics/2952","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":"on_track"},{"id":117206382,"iid":378459,"project_id":278964,"title":"Update display of health status to utilize common format","description":"## Summary\n\nWhen health status is set on the issue, the value is utilizing the gitlab-ui's default format. When viewing health status in other areas like the issues list, issue boards and epics, the format includes color and a border around the value. It is easy to miss that the value has been set while viewing the issue because you've created a mental model expecting the colored format.\n\n## Proposal\n\nMatch the common format of the value from these other areas in the issue view.\n\n## Example\n\n|Issue View|Issue List|Board|Epic|\n|---|---|---|---|\n|![Screen_Shot_2022-10-19_at_6.37.11_PM](/uploads/558d633f284d80fcd5a8863dc96b2473/Screen_Shot_2022-10-19_at_6.37.11_PM.png)|![Screen_Shot_2022-10-19_at_6.37.52_PM](/uploads/88f2e81c4fe0a14510379d471e2f2389/Screen_Shot_2022-10-19_at_6.37.52_PM.png)|![Screen_Shot_2022-10-19_at_6.38.25_PM](/uploads/9a24d762e23fdf18b7f83f69a25c5c9d/Screen_Shot_2022-10-19_at_6.38.25_PM.png)|![Screen_Shot_2022-10-19_at_6.39.05_PM](/uploads/df7491c31e223cdd185b9a633bfa8007/Screen_Shot_2022-10-19_at_6.39.05_PM.png)|\n\n## Additional Information\n\nNote, this was originally shipped in https://gitlab.com/gitlab-org/gitlab/-/merge_requests/28547\n\n## Docs Support\n\nFor issues requiring an update to GitLab docs, please note that this is part of the definition of done for this issue. Please create a separate MR for the docs update related to the MR for the actual change to ensure code reviews are not blocked by TW reviews.\n\n- [ ] This issue requires an update to GitLab docs\n- [x] This issue does not require an update to GitLab docs","state":"closed","created_at":"2022-10-19T23:32:43.192Z","updated_at":"2022-10-31T23:45:54.116Z","closed_at":"2022-10-31T23:45:54.092Z","closed_by":{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"},"labels":["devops::plan","feature::enhancement","frontend","group::product planning","section::dev","type::feature","workflow::production"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"}],"author":{"id":2890431,"username":"amandarueda","name":"Amanda Rueda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2890431/avatar.png","web_url":"https://gitlab.com/amandarueda"},"type":"ISSUE","assignee":{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/378459","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":1},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"1 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/378459","notes":"https://gitlab.com/api/v4/projects/278964/issues/378459/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/378459/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#378459","relative":"#378459","full":"gitlab-org/gitlab#378459"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2952,"epic":{"id":33858,"iid":2952,"title":"Increase visibility and accessibility of Issue/Epic Health Status","url":"/groups/gitlab-org/-/epics/2952","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":"needs_attention"},{"id":117194326,"iid":378443,"project_id":278964,"title":"Support creating of deployment approval rules in project-level protected environments settings UI","description":"## Problem\n\nWe have had API-basis support for [multiple approval rules](https://docs.gitlab.com/ee/ci/environments/deployment_approvals.html#multiple-approval-rules) implemented in gitlab#345678, but similar to gitlab#362236 and gitlab#355708, we still need to extend that feature to the frontend part, so that users can interact more easily with multiple approval rules in project-level protected environment settings UI.\n\nCurrently, the settings UI for [Protected Environments](https://docs.gitlab.com/ee/ci/environments/protected_environments.html) only displays [unified approval settings](https://docs.gitlab.com/ee/ci/environments/deployment_approvals.html#unified-approval-setting) for a specific environment as shown :point_down_tone2:\n\n![Screenshot_2022-07-13_at_6.49.32_PM](https://gitlab.com/gitlab-org/gitlab/uploads/e774772346b5a5d11922cc9c042fab08/Screenshot_2022-07-13_at_6.49.32_PM.png)\n\nIt does not display the correct amount of required approvals (if only multiple approvals rules are used, the amount will be zero despite each rule having a required approvals count). Additionally, there's no listing of approval rules and their associated **access level**, **group**, or **project**.\n\n## Proposal\n\nUpdate the frontend part to support creation of approval rules in the project-level protected environments settings UI.\n\n| Proposed Flow |\n|---------------|\n| ![Screen_Shot_2022-08-23_at_4.00.09_PM](https://gitlab.com/groups/gitlab-org/-/uploads/056817a6510fad4f0754972b08a55f72/Screen_Shot_2022-08-23_at_4.00.09_PM.png) |\n\n## Designs:\n\n#### Flow for protecting an environment:\n\n**Flow with Banner:**\n\nFor one milestone after this launches, we provide users with a banner letting them know where unified approval rules went and more information about multiple approval rules. After this milestone passes, we remove the banner and move the information to the approval rules help text.\n\n| Banner |\n|--------|\n| ![Screen_Shot_2022-10-19_at_8.42.10_AM](https://gitlab.com/groups/gitlab-org/-/uploads/f0b81815dd2cfdec5b1d07889d1f232e/Screen_Shot_2022-10-19_at_8.42.10_AM.png) |\n\n* API: https://docs.gitlab.com/ee/ci/environments/deployment_approvals.html#unified-approval-setting\n* Multiple Approval Rules: https://docs.gitlab.com/ee/ci/environments/deployment_approvals.html#multiple-approval-rules\n\n**Flow after banner (+1 milestone in the future):**\n\n* Full UX Flow with details can be found [here](https://gitlab.com/gitlab-org/gitlab/-/issues/367700/designs/UX_Flow_-_Protected_Environment_Settings__No_Environments_Protected_.png).\n* Provide users with help text on how to use unified approval rules.\n* Note: If a user is selected for an approval rule, we lock the amount of approvals to 1.\n\n| Settings Page | Environment Selected | Approvers/Executors Selected |\n|---------------|----------------------|------------------------------|\n| ![1.1__approval_count__form-2](https://gitlab.com/groups/gitlab-org/-/uploads/7d0ee1e8af124a5d2ffb9a6dd307692b/1.1__approval_count__form-2.png) | ![Screen_Shot_2022-10-19_at_8.43.08_AM](https://gitlab.com/groups/gitlab-org/-/uploads/99646c5d2fee7bbddd6fee36e1dac6e0/Screen_Shot_2022-10-19_at_8.43.08_AM.png) | ![Screen_Shot_2022-10-19_at_8.43.15_AM](https://gitlab.com/groups/gitlab-org/-/uploads/c47c9fcdc5d41aa8400af2933a054a96/Screen_Shot_2022-10-19_at_8.43.15_AM.png) |\n\n## [Figma File](https://www.figma.com/file/Khc6SllbMl78afplkQ27TB/Support-multiple-approval-rules-in-project-level-protected-environments-settings-UI?node-id=67%3A29862)\n\n#### Protected environment UI:\n\n* Full UX Flow with details can be found [here](https://gitlab.com/gitlab-org/gitlab/-/issues/367700/designs/UX_Flow_-_Protected_Environment_Settings__Protected_Environments_.png).\n\n| Collapsed | Expanded | Modals |\n|-----------|----------|--------|\n| ![Screen_Shot_2022-08-31_at_4.37.56_PM](https://gitlab.com/groups/gitlab-org/-/uploads/3d6531e8d8bec679c63ee5de1d6a5d43/Screen_Shot_2022-08-31_at_4.37.56_PM.png) | ![Screen_Shot_2022-08-24_at_9.17.50_AM](https://gitlab.com/groups/gitlab-org/-/uploads/880fbceebe02c50f48949d25fe9cf4b6/Screen_Shot_2022-08-24_at_9.17.50_AM.png) | ![Screen_Shot_2022-08-24_at_9.17.57_AM](https://gitlab.com/groups/gitlab-org/-/uploads/1387c11eb74caf1a321643e598004074/Screen_Shot_2022-08-24_at_9.17.57_AM.png) |\n\n## Technical Proposal\n\n* Use the [`access_dropdown`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/assets/javascripts/projects/settings/components/access_dropdown.vue) for level selection.\n* use [gitlab ui form components](https://gitlab-org.gitlab.io) for inputs, buttons\n* remove the input that maps to `requiredApprovalCount`, moving it to the per-rule section as per design\n* vueify card. behaviour is currently described in [`protected_environment_create.js`](https://gitlab.com/gitlab-org/gitlab/-/blob/8b4947cfcf3c9ba648eccd26a860af24daa5a5b8/ee/app/assets/javascripts/protected_environments/protected_environment_create.js), but will be much easier to recreate and maintain in vue, as we can take advantage of the `access_dropdown.vue` as well as the various environment dropdowns (`environments_dropdown.vue`, `ci_environments_dropdown.vue`) (long-term consider making a reusable one to replace all three with), would also solve gitlab-org/gitlab#375781\n  * this means creating an entry point in `ee/app/views/projects/protected_environments/_form.html.haml`, moving the card body to vue.\n  * also means using axios to post creation and definining protected environment endpoints in `ee/app/assets/javascripts/api.js`, see [api docs](https://docs.gitlab.com/ee/api/protected_environments.html#example-delete-an-approval_rule-record) for approval rule creation format\n\nAll should be behind a feature flag, `protected_environments_multiple_rules_setting_ui`. If this flag hasn't been created yet, [please do](https://docs.gitlab.com/ee/development/feature_flags/#feature-flags-in-the-development-of-gitlab) and attach the flag rollout to \u0026amp;9042\n\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2022-10-19T18:18:36.478Z","updated_at":"2022-12-21T12:05:44.112Z","closed_at":"2022-12-20T13:35:12.859Z","closed_by":{"id":3379682,"username":"vshushlin","name":"Vladimir Shushlin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3379682/avatar.png","web_url":"https://gitlab.com/vshushlin"},"labels":["Category:Environment Management","Deliverable","GitLab Premium","Next Up","Release::P1","SUS::Impacting","Technical Writing","UI text","UX","devops::release","direction","feature::enhancement","frontend","group::release","section::ops","severity::3","tw::finished","type::feature","workflow::in review"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":262533,"username":"afontaine","name":"Andrew Fontaine","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/262533/avatar.png","web_url":"https://gitlab.com/afontaine"}],"author":{"id":262533,"username":"afontaine","name":"Andrew Fontaine","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/262533/avatar.png","web_url":"https://gitlab.com/afontaine"},"type":"ISSUE","assignee":{"id":262533,"username":"afontaine","name":"Andrew Fontaine","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/262533/avatar.png","web_url":"https://gitlab.com/afontaine"},"user_notes_count":13,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/378443","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":2,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/378443","notes":"https://gitlab.com/api/v4/projects/278964/issues/378443/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/378443/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#378443","relative":"#378443","full":"gitlab-org/gitlab#378443"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":9042,"epic":{"id":628927,"iid":9042,"title":"Support multiple approval rules in project-level protected environments settings UI","url":"/groups/gitlab-org/-/epics/9042","group_id":9970,"human_readable_end_date":"Mar 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e months remaining"},"iteration":null,"health_status":null},{"id":117193211,"iid":378441,"project_id":278964,"title":"GitLab Migration - mark entity as failed when exception occur","description":"In the following workers, it's possible for an error to occur and the worker to die. And since the entity status isn't updated to `fail`, the migration process will get stuck until the migration times out.\n\n[Worker 1](https://gitlab.com/gitlab-org/gitlab/-/blob/40ca181cb040e89bc2d2a639f91f1c58b9f00c7a/app/workers/bulk_imports/entity_worker.rb#L46)\n\n[Worker 2](https://gitlab.com/gitlab-org/gitlab/-/blob/d3ba4bd23ac1f8eba3333f8098cf265c99287376/app/workers/bulk_imports/export_request_worker.rb#L21)\n\n[Worker 3](https://gitlab.com/gitlab-org/gitlab/-/blob/22d137c93d41fb8d20a7073d29fa964c1a6ee014/app/workers/bulk_imports/pipeline_worker.rb#L36-51) - More details on [this comment](https://gitlab.com/gitlab-org/gitlab/-/issues/381593#note_1160959461)","state":"closed","created_at":"2022-10-19T17:59:26.419Z","updated_at":"2022-12-21T12:04:09.655Z","closed_at":"2022-12-19T12:40:31.671Z","closed_by":{"id":674121,"username":"georgekoltsov","name":"George Koltsov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/674121/avatar.png","web_url":"https://gitlab.com/georgekoltsov"},"labels":["Category:Importers","Deliverable","Importer:GitLab Migration","backend","devops::manage","group::import","quad-planning::complete-no-action","section::dev","type::maintenance","workflow::production"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":674121,"username":"georgekoltsov","name":"George Koltsov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/674121/avatar.png","web_url":"https://gitlab.com/georgekoltsov"}],"author":{"id":11165152,"username":"rodrigo.tomonari","name":"Rodrigo Tomonari","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11165152/avatar.png","web_url":"https://gitlab.com/rodrigo.tomonari"},"type":"ISSUE","assignee":{"id":674121,"username":"georgekoltsov","name":"George Koltsov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/674121/avatar.png","web_url":"https://gitlab.com/georgekoltsov"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/378441","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/378441","notes":"https://gitlab.com/api/v4/projects/278964/issues/378441/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/378441/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#378441","relative":"#378441","full":"gitlab-org/gitlab#378441"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":117192914,"iid":378440,"project_id":278964,"title":"Add _REQUEST_HEADERS_BASE64 variable to DAST API","description":"### Problem\n\nOn-demand scans for dynamic analysis of APIs will be switching over to using DAST API instead of DAST. To support this effort a new variable `DAST_API_REQUEST_HEADERS_BASE64` is needed that is compatible with the `DAST_REQUEST_HEADERS_BASE64` variable. This variable is commonly used to contain authentication secrets, by Base64 encoding the data it's output in the job console can be masked.\n\nThis requirement [came up while discussing a bug](https://gitlab.com/gitlab-org/gitlab/-/issues/378325#note_1141606427) found in the current on-demand implementation.\n\n### Proposal\n\nAdd a new variable `DAST_API_REQUEST_HEADERS_BASE64` that is a base64 encoded version of `DAST_API_REQUEST_HEADERS`.\n\nRequirements:\n\n1. [x] Variable contents are Base64 encoded, otherwise functions the same as `DAST_API_REQUEST_HEADERS`\n1. [x] Providing both `DAST_API_REQUEST_HEADERS` and `DAST_API_REQUEST_HEADERS_BASE64` results in an error message\n1. [x] Do not display the Base64-decoded string in the console output\n1. [x] Document this new variable and it's usage","state":"closed","created_at":"2022-10-19T17:50:25.699Z","updated_at":"2022-12-06T00:00:29.579Z","closed_at":"2022-12-01T14:20:29.708Z","closed_by":{"id":7488329,"username":"herbmadrigal","name":"Herber Madrigal","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7488329/avatar.png","web_url":"https://gitlab.com/herbmadrigal"},"labels":["Category:API Security","GitLab Ultimate","backend","devops::secure","feature::enhancement","group::dynamic analysis","milestone::p1","section::sec","type::feature","workflow::verification"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":7488329,"username":"herbmadrigal","name":"Herber Madrigal","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7488329/avatar.png","web_url":"https://gitlab.com/herbmadrigal"}],"author":{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"},"type":"ISSUE","assignee":{"id":7488329,"username":"herbmadrigal","name":"Herber Madrigal","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7488329/avatar.png","web_url":"https://gitlab.com/herbmadrigal"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/378440","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":4,"completed_count":4},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"4 of 4 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/378440","notes":"https://gitlab.com/api/v4/projects/278964/issues/378440/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/378440/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#378440","relative":"#378440","full":"gitlab-org/gitlab#378440"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":117192605,"iid":378437,"project_id":278964,"title":"GitLab Version - Follow event naming best practices for analytics","description":"## What / Why\n\nAfter chatting with @dstull about the tracking events implementing as part of https://gitlab.com/gitlab-org/gitlab/-/issues/369442 it was noticed they aren't following our best practices defined here: https://docs.gitlab.com/ee/development/snowplow/#structured-event-taxonomy\n\nThe following events should be refactored to better align with these practices:\n\n1. [`rendered_version_badge`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/assets/javascripts/vue_shared/components/gitlab_version_check.vue#L59-61)\n2. [`click_version_badge`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/assets/javascripts/vue_shared/components/gitlab_version_check.vue#L70)\n3. [`click_version_help_dropdown`](https://gitlab.com/gitlab-org/gitlab/-/blob/15340456060e969132f3aaeada3acce7c13f4f5c/app/views/layouts/header/_gitlab_version.html.haml#L8)\n\n## Proposal\n\nThe events should be refactored as follows\n\n**`rendered_vesion_badge`**\n\n```js\nthis.track('render', {\n  label: 'version_badge',\n  property: this.title\n});\n```\n\n**`click_version_badge`**\n\n```js\nthis.track('click_link', {\n  label: 'version_badge',\n  property: this.title\n});\n```\n\n**`click_version_help_dropdown`**\n\n```haml\ndata: {\n  testid: 'gitlab-version-container',\n  track_action: 'click_link',\n  track_label: 'version_help_dropdown',\n  track_property: \"#{Gitlab.version_info.major}.#{Gitlab.version_info.minor}\"\n}\n```","state":"closed","created_at":"2022-10-19T17:42:36.851Z","updated_at":"2022-10-25T16:32:54.602Z","closed_at":"2022-10-25T16:32:54.458Z","closed_by":{"id":4748809,"username":"zcuddy","name":"Zack Cuddy","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4748809/avatar.png","web_url":"https://gitlab.com/zcuddy"},"labels":["analytics","devops::systems","feature::enhancement","frontend","group::distribution","section::enablement","snowplow tracking events","type::feature","workflow::in review"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":4748809,"username":"zcuddy","name":"Zack Cuddy","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4748809/avatar.png","web_url":"https://gitlab.com/zcuddy"}],"author":{"id":4748809,"username":"zcuddy","name":"Zack Cuddy","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4748809/avatar.png","web_url":"https://gitlab.com/zcuddy"},"type":"ISSUE","assignee":{"id":4748809,"username":"zcuddy","name":"Zack Cuddy","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4748809/avatar.png","web_url":"https://gitlab.com/zcuddy"},"user_notes_count":1,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/378437","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/378437","notes":"https://gitlab.com/api/v4/projects/278964/issues/378437/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/378437/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#378437","relative":"#378437","full":"gitlab-org/gitlab#378437"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5180,"epic":{"id":179385,"iid":5180,"title":"Improve self-managed upgrade rate","url":"/groups/gitlab-org/-/epics/5180","group_id":9970,"human_readable_end_date":"Dec 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null}]