[{"id":33959711,"iid":216158,"project_id":278964,"title":"Add iteration to issue","description":"Add ability to add and remove an iteration to an issue, on the sidebar.\n\nNeed to add `IssueSetSprint` mutation.","state":"closed","created_at":"2020-04-29T15:50:22.416Z","updated_at":"2020-08-13T16:15:35.503Z","closed_at":"2020-08-13T16:15:35.466Z","closed_by":{"id":590748,"username":"mdelaossa","name":"Mario de la Ossa","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/590748/avatar.png","web_url":"https://gitlab.com/mdelaossa"},"labels":["GitLab Starter","Technical Writing","devops::plan","documentation","frontend","group::project management","issues","merge requests","milestones","missed:13.0","missed:13.1","tw::finished","type::feature","workflow::verification"],"milestone":{"id":1233746,"iid":49,"group_id":9970,"title":"13.2","description":"https://about.gitlab.com/releases/2020/07/22/gitlab-13-2-released/","state":"closed","created_at":"2020-04-09T17:28:01.032Z","updated_at":"2022-04-13T14:48:24.167Z","due_date":"2020-07-17","start_date":"2020-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/49"},"assignees":[{"id":590748,"username":"mdelaossa","name":"Mario de la Ossa","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/590748/avatar.png","web_url":"https://gitlab.com/mdelaossa"},{"id":4447636,"username":"sstern","name":"Scott Stern","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4447636/avatar.png","web_url":"https://gitlab.com/sstern"}],"author":{"id":3507264,"username":"donaldcook","name":"Donald Cook","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3507264/avatar.png","web_url":"https://gitlab.com/donaldcook"},"type":"ISSUE","assignee":{"id":590748,"username":"mdelaossa","name":"Mario de la Ossa","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/590748/avatar.png","web_url":"https://gitlab.com/mdelaossa"},"user_notes_count":33,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/216158","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/216158","notes":"https://gitlab.com/api/v4/projects/278964/issues/216158/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/216158/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#216158","relative":"#216158","full":"gitlab-org/gitlab#216158"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4012,"epic":{"id":84923,"iid":4012,"title":"Iterations MVC","url":"/groups/gitlab-org/-/epics/4012","group_id":9970,"human_readable_end_date":"Jul 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":33959133,"iid":216157,"project_id":278964,"title":"Add usage ping recording_finished_at field","description":"\nUsage ping calculation takes some time in our gitlab.com servers and maybe on self-managed servers too. We could add a `recording_finished_at` timestamp field, in the usage ping next the `recorded_at` which is set at the beginning.\n\nThis would allow us to see how long it takes for the usage ping to get calculated.\n\ncc @sid_reddy @jeromezng @alinamihaila  @kathleentam","state":"closed","created_at":"2020-04-29T15:44:43.318Z","updated_at":"2020-05-07T23:18:36.596Z","closed_at":"2020-05-07T23:18:36.540Z","closed_by":{"id":3717078,"username":"cablett","name":"charlie ablett","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3717078/avatar.png","web_url":"https://gitlab.com/cablett"},"labels":["devops::growth","group::product intelligence","workflow::in dev"],"milestone":{"id":991112,"iid":42,"group_id":9970,"title":"13.0","description":"","state":"closed","created_at":"2019-09-04T15:20:39.024Z","updated_at":"2020-10-08T12:00:55.725Z","due_date":"2020-05-17","start_date":"2020-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/42"},"assignees":[{"id":4409816,"username":"a_akgun","name":"Alper Akgun","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4409816/avatar.png","web_url":"https://gitlab.com/a_akgun"}],"author":{"id":4409816,"username":"a_akgun","name":"Alper Akgun","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4409816/avatar.png","web_url":"https://gitlab.com/a_akgun"},"type":"ISSUE","assignee":{"id":4409816,"username":"a_akgun","name":"Alper Akgun","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4409816/avatar.png","web_url":"https://gitlab.com/a_akgun"},"user_notes_count":1,"merge_requests_count":1,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/216157","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/216157","notes":"https://gitlab.com/api/v4/projects/278964/issues/216157/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/216157/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#216157","relative":"#216157","full":"gitlab-org/gitlab#216157"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":33958797,"iid":216156,"project_id":278964,"title":"Ability to create an iteration","description":"User should be able to create an iteration.\n\nNeed `GroupCreateSprint` mutation.\n\n### Solution\n![create-iterations-flow](/uploads/3a451ca915bebc8bc86c3e720154c774/create-iterations-flow.png)","state":"closed","created_at":"2020-04-29T15:41:33.545Z","updated_at":"2020-07-08T01:30:30.937Z","closed_at":"2020-07-08T01:30:30.430Z","closed_by":{"id":832471,"username":"psimyn","name":"Simon Knox","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3de75939c39eecd6ea2215ec740a8037?s=80\u0026d=identicon","web_url":"https://gitlab.com/psimyn"},"labels":["GitLab Starter","backend","devops::plan","documentation","frontend","group::project management","issues","merge requests","milestones","missed:13.1","type::feature","workflow::in review"],"milestone":{"id":1233746,"iid":49,"group_id":9970,"title":"13.2","description":"https://about.gitlab.com/releases/2020/07/22/gitlab-13-2-released/","state":"closed","created_at":"2020-04-09T17:28:01.032Z","updated_at":"2022-04-13T14:48:24.167Z","due_date":"2020-07-17","start_date":"2020-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/49"},"assignees":[{"id":832471,"username":"psimyn","name":"Simon Knox","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3de75939c39eecd6ea2215ec740a8037?s=80\u0026d=identicon","web_url":"https://gitlab.com/psimyn"},{"id":4554611,"username":"hollyreynolds","name":"Holly Reynolds","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4554611/avatar.png","web_url":"https://gitlab.com/hollyreynolds"}],"author":{"id":3507264,"username":"donaldcook","name":"Donald Cook","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3507264/avatar.png","web_url":"https://gitlab.com/donaldcook"},"type":"ISSUE","assignee":{"id":832471,"username":"psimyn","name":"Simon Knox","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3de75939c39eecd6ea2215ec740a8037?s=80\u0026d=identicon","web_url":"https://gitlab.com/psimyn"},"user_notes_count":3,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/216156","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/216156","notes":"https://gitlab.com/api/v4/projects/278964/issues/216156/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/216156/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#216156","relative":"#216156","full":"gitlab-org/gitlab#216156"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4012,"epic":{"id":84923,"iid":4012,"title":"Iterations MVC","url":"/groups/gitlab-org/-/epics/4012","group_id":9970,"human_readable_end_date":"Jul 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":33958301,"iid":216155,"project_id":278964,"title":"Retry sending the usage ping","description":"To harden usage ping we could retry the usage ping send whenever a self-managed network error doesn't allow sending.","state":"closed","created_at":"2020-04-29T15:29:07.471Z","updated_at":"2020-08-19T14:45:20.565Z","closed_at":"2020-08-07T14:50:01.699Z","closed_by":{"id":4373269,"username":"ali-gitlab","name":"Alishan Ladhani","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4373269/avatar.png","web_url":"https://gitlab.com/ali-gitlab"},"labels":["devops::growth","group::product intelligence","workflow::verification"],"milestone":{"id":1233752,"iid":50,"group_id":9970,"title":"13.3","description":"https://about.gitlab.com/releases/2020/08/22/gitlab-13-3-released/","state":"closed","created_at":"2020-04-09T17:39:21.090Z","updated_at":"2022-04-13T14:50:18.976Z","due_date":"2020-08-17","start_date":"2020-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/50"},"assignees":[{"id":4373269,"username":"ali-gitlab","name":"Alishan Ladhani","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4373269/avatar.png","web_url":"https://gitlab.com/ali-gitlab"}],"author":{"id":4409816,"username":"a_akgun","name":"Alper Akgun","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4409816/avatar.png","web_url":"https://gitlab.com/a_akgun"},"type":"ISSUE","assignee":{"id":4373269,"username":"ali-gitlab","name":"Alishan Ladhani","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4373269/avatar.png","web_url":"https://gitlab.com/ali-gitlab"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/216155","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/216155","notes":"https://gitlab.com/api/v4/projects/278964/issues/216155/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/216155/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#216155","relative":"#216155","full":"gitlab-org/gitlab#216155"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3903,"epic":{"id":81053,"iid":3903,"title":"Usage Ping Enhancements Q3","url":"/groups/gitlab-org/-/epics/3903","group_id":9970,"human_readable_end_date":"Oct 31, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":33956662,"iid":216152,"project_id":278964,"title":"Tech Eval: Merge request reference links broken in releases page","description":"\u003c!-- Instructions: Use this template for a proof of concept or when a deeper technical evaluation is required. Please weigh tech evaluation issues and follow the instructions below accordingly. --\u003e \n\n### Topic to Evaluate\n\nIssue: [Merge request reference links broken in releases page](https://gitlab.com/gitlab-org/gitlab/-/issues/202174)\n\n* We need to research where the bug is that is causing the issue in order to properly assign a FE/BE DRI.\n* The current, high-level guess is that markdown parsing on the backend is missing for private projects. However, it's uncertain if this true. It may the case that markdown styling is inadvertently being removed on the frontend. \n\n### Proposal\n\nSpend half a day tracking down this bug. Once the bug is found, update the issue with it's location and ideas for possible fixes (https://gitlab.com/gitlab-org/gitlab/-/issues/202174)","state":"closed","created_at":"2020-04-29T14:50:44.072Z","updated_at":"2020-05-13T12:38:18.110Z","closed_at":"2020-05-13T12:34:36.860Z","closed_by":{"id":4905402,"username":"jreporter","name":"Jackie Porter","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4905402/avatar.png","web_url":"https://gitlab.com/jreporter"},"labels":["Category:Release Orchestration","Release::P2","cicd::active","devops::release","frontend","workflow::production"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[{"id":4460785,"username":"lelouchB","name":"ASHUTOSH KUMAR SINGH","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a75a93758899bc976e7ba7b3d2c318dc?s=80\u0026d=identicon","web_url":"https://gitlab.com/lelouchB"}],"author":{"id":4446737,"username":"jakeburden","name":"Jake Burden","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4446737/avatar.png","web_url":"https://gitlab.com/jakeburden"},"type":"ISSUE","assignee":{"id":4460785,"username":"lelouchB","name":"ASHUTOSH KUMAR SINGH","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a75a93758899bc976e7ba7b3d2c318dc?s=80\u0026d=identicon","web_url":"https://gitlab.com/lelouchB"},"user_notes_count":12,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/216152","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/216152","notes":"https://gitlab.com/api/v4/projects/278964/issues/216152/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/216152/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#216152","relative":"#216152","full":"gitlab-org/gitlab#216152"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":33954806,"iid":216145,"project_id":278964,"title":"Import all users from a Jira instance and display them on a form","description":"Import all users from a Jira instance display them in a form on GitLab. The scope of this issue is simply fetching thee users and displaying them in the form.\n\nTry to pre-match them on BE is tracked by https://gitlab.com/gitlab-org/gitlab/-/issues/219023, MR opened https://gitlab.com/gitlab-org/gitlab/-/merge_requests/33883\n\n![Screen_Shot_2020-05-28_at_10.55.47_AM](/uploads/9987ce198893f0b5b0b241d755871c52/Screen_Shot_2020-05-28_at_10.55.47_AM.png)","state":"closed","created_at":"2020-04-29T14:10:02.163Z","updated_at":"2021-11-16T19:03:10.478Z","closed_at":"2020-07-17T16:29:59.087Z","closed_by":{"id":4545397,"username":"cngo","name":"Coung Ngo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4545397/avatar.png","web_url":"https://gitlab.com/cngo"},"labels":["Category:Jira Importer","backend","devops::plan","frontend","group::project management","missed:13.0","release post item","type::feature","workflow::production"],"milestone":{"id":1233746,"iid":49,"group_id":9970,"title":"13.2","description":"https://about.gitlab.com/releases/2020/07/22/gitlab-13-2-released/","state":"closed","created_at":"2020-04-09T17:28:01.032Z","updated_at":"2022-04-13T14:48:24.167Z","due_date":"2020-07-17","start_date":"2020-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/49"},"assignees":[{"id":508743,"username":"jarka","name":"Jarka Košanová","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3931dae84deb01d2881e4909077b8dbe?s=80\u0026d=identicon","web_url":"https://gitlab.com/jarka"},{"id":4545397,"username":"cngo","name":"Coung Ngo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4545397/avatar.png","web_url":"https://gitlab.com/cngo"}],"author":{"id":508743,"username":"jarka","name":"Jarka Košanová","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3931dae84deb01d2881e4909077b8dbe?s=80\u0026d=identicon","web_url":"https://gitlab.com/jarka"},"type":"ISSUE","assignee":{"id":508743,"username":"jarka","name":"Jarka Košanová","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3931dae84deb01d2881e4909077b8dbe?s=80\u0026d=identicon","web_url":"https://gitlab.com/jarka"},"user_notes_count":24,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/216145","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/216145","notes":"https://gitlab.com/api/v4/projects/278964/issues/216145/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/216145/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#216145","relative":"#216145","full":"gitlab-org/gitlab#216145"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3095,"epic":{"id":42475,"iid":3095,"title":"Setup User Mapping and Import Comments, Assignees, and Reporters","url":"/groups/gitlab-org/-/epics/3095","group_id":9970,"human_readable_end_date":"Feb 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":33953484,"iid":216140,"project_id":278964,"title":"Implement reformatted grouped report text","description":"### Problem to solve\n\nTaken from #204176\n\u003e @tlavi conducted SAST research with participants which revealed that users are confused by a job failing or succeeding and  the relationship to vulnerabilities being found within it. For example, it's confusing if a job succeeds even though there are vulnerabilities found within. See the video of the research readout [here](https://drive.google.com/open?id=1xKIKUP0YYsPWSzNKCLFD9OQRXp-9A8Ef) and the slides [here](https://docs.google.com/presentation/d/1qZ2Vdeua9L8iJCAqj2G4uhkl5LNKC-9prUhamcALS0Q/edit?usp=sharing).\n\nThis issue split from #204176 to address the message change and addition of colored text shown in the mockup below.\n\n![image](/uploads/716c8a6819acb0f3d8224213d9d0985d/image.png)\n\n\n### Proposal\n\nThe current way we generate the report text is a bit cumbersome and any changes to it would be tricky.\nWe're probably better off rewriting it using [`\u003cgl-sprintf /\u003e`]() and some nicer logic.\n\nThe text in the screenshot reads: `Security scanning found 2 critical and 1 high severity vulnerabilities out of 162`.\nWe'd need to catch all the other cases though.\n\n### Documentation\n\nTBD\n\n### Availability \u0026 Testing\n\nThe unit tests for the text generator will need updating and/or any other tests that rely on them working.\nDon't just delete them and write new ones as this will help us ensure we've caught all the edge cases.\n\n### What does success look like, and how can we measure that?\n\nSuccess looks like the screenshot without any issues with edge cases.\n\n\n## Implimentation plan\n- [x] Update the current tests to match what we expect to see\n- [x] Change the grouped text reports to accept severity instead of `new`, `dismissed`, etc.\n- [x] Update the output of grouped reports text to math the tests\n- [ ]~~Add colorization of the severities with `\u003cgl-sprintf\u003e`~~","state":"closed","created_at":"2020-04-29T13:39:49.384Z","updated_at":"2020-07-18T07:08:49.785Z","closed_at":"2020-06-29T11:21:29.623Z","closed_by":{"id":1125848,"username":"samdbeckham","name":"Sam Beckham","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1125848/avatar.png","web_url":"https://gitlab.com/samdbeckham"},"labels":["Category:SAST","Category:Vulnerability Management","Deliverable","UI text","UX","UX debt","devops::secure","frontend","group::static analysis","missed-deliverable","missed:13.1","workflow::verification"],"milestone":{"id":1233746,"iid":49,"group_id":9970,"title":"13.2","description":"https://about.gitlab.com/releases/2020/07/22/gitlab-13-2-released/","state":"closed","created_at":"2020-04-09T17:28:01.032Z","updated_at":"2022-04-13T14:48:24.167Z","due_date":"2020-07-17","start_date":"2020-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/49"},"assignees":[{"id":1125848,"username":"samdbeckham","name":"Sam Beckham","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1125848/avatar.png","web_url":"https://gitlab.com/samdbeckham"},{"id":4415483,"username":"beckalippert","name":"Becka Lippert","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4415483/avatar.png","web_url":"https://gitlab.com/beckalippert"}],"author":{"id":1125848,"username":"samdbeckham","name":"Sam Beckham","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1125848/avatar.png","web_url":"https://gitlab.com/samdbeckham"},"type":"ISSUE","assignee":{"id":1125848,"username":"samdbeckham","name":"Sam Beckham","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1125848/avatar.png","web_url":"https://gitlab.com/samdbeckham"},"user_notes_count":19,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/216140","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":3},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"3 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/216140","notes":"https://gitlab.com/api/v4/projects/278964/issues/216140/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/216140/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#216140","relative":"#216140","full":"gitlab-org/gitlab#216140"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3246,"epic":{"id":51772,"iid":3246,"title":"Simplify \u0026 Cleanup","url":"/groups/gitlab-org/-/epics/3246","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":"needs_attention"},{"id":33948465,"iid":216134,"project_id":278964,"title":"Geo: Update the Geo setting forms","description":"## Problems to solve\n\n- Too many help-text\n- Inconsistency in the width of the form fields\n- No the limitations on the input \n\n## Current design\n\n![Screenshot_2020-04-29_at_14.05.32](/uploads/ea7ea47cfff9e04a00ccb619a9940e99/Screenshot_2020-04-29_at_14.05.32.png)\n\n## Proposed design\n\n![Setting-proposed](/uploads/5cdd49ec927512aa7360ebb55eb1d489/Setting-proposed.png)\n\n- [Prototype](https://www.sketch.com/s/c8130d05-600c-4ad4-8c2e-002500a95b62/p/216134-settings)\n- [Spec](https://gitlab-org.gitlab.io/gitlab-design/hosted/sunjung/%23216134-settings/)\n\n## Rules\n\n| Input type | Field name | Possible value range | Default value |\n| ------ | ------ | ------ | ------ |\n| Number | Connection timeout (in seconds) | `1-120` | 10  |\n| Text | Allowed Geo IP | `IP format` | `0.0.0.0/0, ::/0` |\n\n\n## References\n\n- [Help text of forms](https://design.gitlab.com/components/forms#help-text)","state":"closed","created_at":"2020-04-29T12:08:06.412Z","updated_at":"2022-04-25T18:40:27.821Z","closed_at":"2020-07-09T21:15:37.408Z","closed_by":{"id":15139,"username":"rspeicher","name":"Robert Speicher","state":"active","avatar_url":"https://secure.gravatar.com/avatar/73c8253932541a7b5cbc5d79493f2bea?s=80\u0026d=identicon","web_url":"https://gitlab.com/rspeicher"},"labels":["Engineering","Technical Writing","UI polish","UI text","UX","devops::systems","frontend","group::geo","workflow::in review"],"milestone":{"id":1233746,"iid":49,"group_id":9970,"title":"13.2","description":"https://about.gitlab.com/releases/2020/07/22/gitlab-13-2-released/","state":"closed","created_at":"2020-04-09T17:28:01.032Z","updated_at":"2022-04-13T14:48:24.167Z","due_date":"2020-07-17","start_date":"2020-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/49"},"assignees":[{"id":4748809,"username":"zcuddy","name":"Zack Cuddy","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4748809/avatar.png","web_url":"https://gitlab.com/zcuddy"}],"author":{"id":4903414,"username":"sunjungp","name":"Sunjung Park","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a2c072c26031ffd81b676b43eeb7b781?s=80\u0026d=identicon","web_url":"https://gitlab.com/sunjungp"},"type":"ISSUE","assignee":{"id":4748809,"username":"zcuddy","name":"Zack Cuddy","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4748809/avatar.png","web_url":"https://gitlab.com/zcuddy"},"user_notes_count":18,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/216134","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/216134","notes":"https://gitlab.com/api/v4/projects/278964/issues/216134/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/216134/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#216134","relative":"#216134","full":"gitlab-org/gitlab#216134"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":"needs_attention"},{"id":33947378,"iid":216131,"project_id":278964,"title":"Document JOB_TOKEN to access Releases API","description":"\u003c!--\n\n* Use this issue template for suggesting new docs or updates to existing docs.\n  Note: Doc work as part of feature development is covered in the Feature Request template.\n\n* For issues related to features of the docs.gitlab.com site, see\n     https://gitlab.com/gitlab-org/gitlab-docs/issues/\n\n* For information about documentation content and process, see\n     https://docs.gitlab.com/ee/development/documentation/ --\u003e\n\n### Problem to solve\n\nIt is now possible to create a Release using the JOB_TOKEN as authentication, after https://gitlab.com/gitlab-org/gitlab/-/merge_requests/20632.\n\nThe API documentation has been updated [here](https://docs.gitlab.com/ee/api/README.html#gitlab-ci-job-token) but it would be useful to also document the acceptance of this token [here](https://docs.gitlab.com/ee/api/releases/#create-a-release)\n\n\n\u003c!-- Include the following detail as necessary:\n* What product or feature(s) affected?\n* What docs or doc section affected? Include links or paths.\n* Is there a problem with a specific document, or a feature/process that's not addressed sufficiently in docs?\n* Any other ideas or requests?\n--\u003e\n\n### Further details\n\n\u003c!--\n* Any concepts, procedures, reference info we could add to make it easier to successfully use GitLab?\n* Include use cases, benefits, and/or goals for this work.\n* If adding content: What audience is it intended for? (What roles and scenarios?)\n  For ideas, see personas at https://design.gitlab.com/research/personas or the persona labels at\n  https://gitlab.com/groups/gitlab-org/-/labels?utf8=%E2%9C%93\u0026subscribed=\u0026search=persona%3A\n--\u003e\n\n### Proposal\n\n\u003c!-- Further specifics for how can we solve the problem. --\u003e\n\n### Who can address the issue\n\n\u003c!-- What if any special expertise is required to resolve this issue? --\u003e\n\n### Other links/references\n\n\u003c!-- E.g. related GitLab issues/MRs --\u003e","state":"closed","created_at":"2020-04-29T11:43:54.827Z","updated_at":"2020-09-25T15:48:35.254Z","closed_at":"2020-09-25T15:48:35.199Z","closed_by":{"id":4155490,"username":"marcel.amirault","name":"Marcel Amirault","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4155490/avatar.png","web_url":"https://gitlab.com/marcel.amirault"},"labels":["Category:Pages","Category:Release Orchestration","Release::P3","[deprecated] Accepting merge requests","api","backend","cicd::active","devops::release","documentation","section::ops","workflow::ready for development"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":4391348,"username":"sean_carroll","name":"Sean Carroll","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4391348/avatar.png","web_url":"https://gitlab.com/sean_carroll"},"type":"ISSUE","assignee":null,"user_notes_count":2,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/216131","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/216131","notes":"https://gitlab.com/api/v4/projects/278964/issues/216131/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/216131/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#216131","relative":"#216131","full":"gitlab-org/gitlab#216131"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":33946424,"iid":216128,"project_id":278964,"title":"Combine Admin Audit Event, Group and Project Audit Logs templates into one unified template","description":"### Problem to solve\n\nThe existing Admin Audit Events, Group and Project Audit Logs use two different templates but are comparatively similar with minor deviations in filter options. This separation makes these tables more difficult to work with and prone to errors.\n\n### Proposal\n\nWe should combine these two templates to make future development work easier and less error-prone.","state":"closed","created_at":"2020-04-29T11:20:04.830Z","updated_at":"2022-03-28T19:24:04.992Z","closed_at":"2020-05-14T14:22:40.427Z","closed_by":{"id":5209897,"username":"rob.hunt","name":"Robert Hunt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5209897/avatar.png","web_url":"https://gitlab.com/rob.hunt"},"labels":["Category:Audit Events","Deliverable","Enterprise Edition","backend","devops::manage","estimation::completed","frontend","group::compliance","priority::2","workflow::ready for development"],"milestone":{"id":1112145,"iid":47,"group_id":9970,"title":"13.1","description":"","state":"closed","created_at":"2020-01-03T12:28:30.160Z","updated_at":"2020-10-08T12:01:07.361Z","due_date":"2020-06-17","start_date":"2020-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/47"},"assignees":[{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"}],"author":{"id":5209897,"username":"rob.hunt","name":"Robert Hunt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5209897/avatar.png","web_url":"https://gitlab.com/rob.hunt"},"type":"ISSUE","assignee":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/216128","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/216128","notes":"https://gitlab.com/api/v4/projects/278964/issues/216128/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/216128/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#216128","relative":"#216128","full":"gitlab-org/gitlab#216128"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3179,"epic":{"id":47461,"iid":3179,"title":"Filtering Audit Events","url":"/groups/gitlab-org/-/epics/3179","group_id":9970,"human_readable_end_date":"Oct 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":33946222,"iid":216127,"project_id":278964,"title":"Convert Admin Audit Events search filter to use the new Pajama's component","description":"### Problem to solve\n\nThe current Admin Audit Events search filter uses a HAML template to generate the filter dropdowns and is limited to only 1 event type per search.\n\n### Proposal\n\nIn relation to the work for #32388 we need to move this to a Vue component using the new `GlFilteredSearch` Pajama's component instead. This will greatly improve the usability of the search functionality for the user and allow us to tie it to a new or updated API to make future work easier.\n\n![image](/uploads/b883a61c06c0ff63410da6fb35c64970/image.png)","state":"closed","created_at":"2020-04-29T11:12:12.828Z","updated_at":"2020-12-15T18:29:32.261Z","closed_at":"2020-05-14T09:50:22.322Z","closed_by":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"labels":["Category:Audit Events","Enterprise Edition","UX","devops::manage","estimation::completed","frontend","group::compliance"],"milestone":{"id":991112,"iid":42,"group_id":9970,"title":"13.0","description":"","state":"closed","created_at":"2019-09-04T15:20:39.024Z","updated_at":"2020-10-08T12:00:55.725Z","due_date":"2020-05-17","start_date":"2020-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/42"},"assignees":[{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},{"id":5209897,"username":"rob.hunt","name":"Robert Hunt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5209897/avatar.png","web_url":"https://gitlab.com/rob.hunt"}],"author":{"id":5209897,"username":"rob.hunt","name":"Robert Hunt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5209897/avatar.png","web_url":"https://gitlab.com/rob.hunt"},"type":"ISSUE","assignee":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"user_notes_count":13,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/216127","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/216127","notes":"https://gitlab.com/api/v4/projects/278964/issues/216127/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/216127/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#216127","relative":"#216127","full":"gitlab-org/gitlab#216127"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3179,"epic":{"id":47461,"iid":3179,"title":"Filtering Audit Events","url":"/groups/gitlab-org/-/epics/3179","group_id":9970,"human_readable_end_date":"Oct 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":33946032,"iid":216126,"project_id":278964,"title":"Convert Admin Audit Events table to use a Vue component","description":"### Problem to solve\n\nThe current Admin Audit Events table uses a HAML template to generate the table and pagination.\n\n### Proposal\n\nIn relation to the work for #32388 we need to move this to a Vue component instead to allow us to dynamically change the table values when the filters are selected and a new API call is made.\n\n![image](/uploads/95d65269f56d962372eacecfd9491925/image.png)","state":"closed","created_at":"2020-04-29T11:04:43.327Z","updated_at":"2021-06-17T17:53:08.190Z","closed_at":"2020-05-05T02:13:52.099Z","closed_by":{"id":120073,"username":"DylanGriffith","name":"Dylan Griffith","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/120073/avatar.png","web_url":"https://gitlab.com/DylanGriffith"},"labels":["Category:Audit Events","Enterprise Edition","UX","backend","devops::manage","estimation::completed","frontend","group::compliance","workflow::verification"],"milestone":{"id":991112,"iid":42,"group_id":9970,"title":"13.0","description":"","state":"closed","created_at":"2019-09-04T15:20:39.024Z","updated_at":"2020-10-08T12:00:55.725Z","due_date":"2020-05-17","start_date":"2020-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/42"},"assignees":[{"id":5209897,"username":"rob.hunt","name":"Robert Hunt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5209897/avatar.png","web_url":"https://gitlab.com/rob.hunt"}],"author":{"id":5209897,"username":"rob.hunt","name":"Robert Hunt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5209897/avatar.png","web_url":"https://gitlab.com/rob.hunt"},"type":"ISSUE","assignee":{"id":5209897,"username":"rob.hunt","name":"Robert Hunt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5209897/avatar.png","web_url":"https://gitlab.com/rob.hunt"},"user_notes_count":1,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/216126","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/216126","notes":"https://gitlab.com/api/v4/projects/278964/issues/216126/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/216126/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#216126","relative":"#216126","full":"gitlab-org/gitlab#216126"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3179,"epic":{"id":47461,"iid":3179,"title":"Filtering Audit Events","url":"/groups/gitlab-org/-/epics/3179","group_id":9970,"human_readable_end_date":"Oct 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":33945026,"iid":216122,"project_id":278964,"title":"Use search to quickly find and discover images hosted in the GitLab Container Registry","description":"### Problem to solve\nAs a development team that publishes many images using GitLab CI/CD, when we need to find an image, we need the ability to search by image name in the Container Registry UI, so that we can quickly find the image and correlated metadata we are looking for. \n\n### Intended users\n* [Delaney (Development Team Lead)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#delaney-development-team-lead)\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Devon (DevOps Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#devon-devops-engineer)\n* [Sidney (Systems Administrator)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sidney-systems-administrator)\n* [Rachel (Release Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#rachel-release-manager) \n* [Simone (Software Engineer in Test)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#simone-software-engineer-in-test)\n* [Allison (Application Ops)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#allison-application-ops) \n\n### User experience goal\n- The user should be able to quickly find any images matching a specific name. A common use case is to search for images that contain `Release` or `Master` or a given `Commit_SHA`\n\n\n### Proposal\nGive users of the GitLab Container Registry the ability to search for images by name in the project and group-level container registries. \n\n### Further details\n![Screenshot_2020-04-29_at_12.44.37](/uploads/b85fdd7ebcf27ecc2a82533604360067/Screenshot_2020-04-29_at_12.44.37.png)\n\n\n### Permissions and Security\n- There are no permissions updates needed for this change. \n\n### Documentation\n- Update https://docs.gitlab.com/ee/user/packages/container_registry/#control-container-registry-from-within-gitlab\n\n### What does success look like, and how can we measure that?\n- For GitLab, we would like to see an increased usage of the Container Registry UI. We'd like to drive more users to the app for discovering and managing images. \n- For our users, success looks like when they want to find a specific image to validate that it was built correctly or troubleshoot when something has gone wrong, it's fast and easy. \n\n#### New metrics\n- Count the total number of searches at the project and group-level\n- Capture a list of search terms\n\n\n","state":"closed","created_at":"2020-04-29T10:43:08.885Z","updated_at":"2020-05-15T19:52:50.370Z","closed_at":"2020-05-14T08:08:36.920Z","closed_by":{"id":4584738,"username":"nmezzopera","name":"Nicolò Maria Mezzopera","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4584738/avatar.png","web_url":"https://gitlab.com/nmezzopera"},"labels":["Category:Container Registry","UX","devops::package","frontend","group::package registry","package:active","workflow::in review"],"milestone":{"id":991112,"iid":42,"group_id":9970,"title":"13.0","description":"","state":"closed","created_at":"2019-09-04T15:20:39.024Z","updated_at":"2020-10-08T12:00:55.725Z","due_date":"2020-05-17","start_date":"2020-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/42"},"assignees":[{"id":4584738,"username":"nmezzopera","name":"Nicolò Maria Mezzopera","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4584738/avatar.png","web_url":"https://gitlab.com/nmezzopera"}],"author":{"id":4584738,"username":"nmezzopera","name":"Nicolò Maria Mezzopera","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4584738/avatar.png","web_url":"https://gitlab.com/nmezzopera"},"type":"ISSUE","assignee":{"id":4584738,"username":"nmezzopera","name":"Nicolò Maria Mezzopera","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4584738/avatar.png","web_url":"https://gitlab.com/nmezzopera"},"user_notes_count":15,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/216122","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/216122","notes":"https://gitlab.com/api/v4/projects/278964/issues/216122/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/216122/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#216122","relative":"#216122","full":"gitlab-org/gitlab#216122"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3211,"epic":{"id":50161,"iid":3211,"title":"Update the User Interface (UI) for the Container Registry","url":"/groups/gitlab-org/-/epics/3211","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":33943566,"iid":216120,"project_id":278964,"title":"Migrating old snippets to repositories commits using a random admin account","description":"When a snippet-author no longer has access to the snippet, we create the initial commit in a background migration using an admin account: `User.admins.active.first`.\n\nThis might not be the right thing to do for some instances, should we perhaps do this using a newly created bot-account?\n\n___\nThe following discussion from !29927 should be addressed:\n\n- [ ] @reprazent started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/29927#note_333539237):  (+3 comments)\n\n    \u003e Creating the commits as a random admin might not be the best solution for this: For GitLab.com this would be `@jacobvosmaer-gitlab-admin`. Should we create a fixed user for this?","state":"closed","created_at":"2020-04-29T10:10:46.450Z","updated_at":"2022-10-24T20:03:43.191Z","closed_at":"2020-05-07T10:17:29.690Z","closed_by":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier López","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"labels":["Category:Snippets","backend","devops::create","group::editor"],"milestone":{"id":991112,"iid":42,"group_id":9970,"title":"13.0","description":"","state":"closed","created_at":"2019-09-04T15:20:39.024Z","updated_at":"2020-10-08T12:00:55.725Z","due_date":"2020-05-17","start_date":"2020-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/42"},"assignees":[{"id":955795,"username":"fjsanpedro","name":"Francisco Javier López","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"}],"author":{"id":171554,"username":"reprazent","name":"Bob Van Landuyt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/171554/avatar.png","web_url":"https://gitlab.com/reprazent"},"type":"ISSUE","assignee":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier López","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"user_notes_count":12,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/216120","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/216120","notes":"https://gitlab.com/api/v4/projects/278964/issues/216120/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/216120/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#216120","relative":"#216120","full":"gitlab-org/gitlab#216120"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":33942435,"iid":216117,"project_id":278964,"title":"Retry failed vulnerability export jobs","description":"This is an improvement on vulnerability exports to enable default retry mechanism of Sidekiq in case if the export generation fails and mark the export object as failed with in the execution of last try. Please check the discussion for more information: https://gitlab.com/gitlab-org/gitlab/-/merge_requests/29920#note_332174490","state":"closed","created_at":"2020-04-29T09:44:44.261Z","updated_at":"2020-06-19T20:39:17.334Z","closed_at":"2020-06-19T20:39:17.304Z","closed_by":{"id":480804,"username":"thiagocsf","name":"Thiago Figueiró","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/480804/avatar.png","web_url":"https://gitlab.com/thiagocsf"},"labels":["Category:Vulnerability Management","backend","backstage [DEPRECATED]","devops::govern","group::threat insights","maintenance::refactor","workflow::verification"],"milestone":{"id":1112145,"iid":47,"group_id":9970,"title":"13.1","description":"","state":"closed","created_at":"2020-01-03T12:28:30.160Z","updated_at":"2020-10-08T12:01:07.361Z","due_date":"2020-06-17","start_date":"2020-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/47"},"assignees":[{"id":5721376,"username":"minac","name":"Mehmet Emin INAC","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d8bdee790902422e3554e411a173c7c0?s=80\u0026d=identicon","web_url":"https://gitlab.com/minac"}],"author":{"id":5721376,"username":"minac","name":"Mehmet Emin INAC","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d8bdee790902422e3554e411a173c7c0?s=80\u0026d=identicon","web_url":"https://gitlab.com/minac"},"type":"ISSUE","assignee":{"id":5721376,"username":"minac","name":"Mehmet Emin INAC","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d8bdee790902422e3554e411a173c7c0?s=80\u0026d=identicon","web_url":"https://gitlab.com/minac"},"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/216117","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/216117","notes":"https://gitlab.com/api/v4/projects/278964/issues/216117/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/216117/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#216117","relative":"#216117","full":"gitlab-org/gitlab#216117"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":33937136,"iid":216104,"project_id":278964,"title":"Define environment type in `.gitlab-ci.yml`","description":"\u003c!-- The first three sections: \"Problem to solve\", \"Intended users\" and \"Proposal\", are strongly recommended, while the rest of the sections can be filled out during the problem validation or breakdown phase. However, keep in mind that providing complete and relevant information early helps our product team validate the problem and start working on a solution. --\u003e\n\n### Problem to solve\n\nDuring the analysis on Deploy Freezes https://gitlab.com/groups/gitlab-org/-/epics/767, the fact that we don't identify an environment as `production` or `staging` was highlighted. GitLab is extremely flexible when it comes to environment names, but we don't currently identify one of the environments as the production environment, other than by name.\n\nHeroku has the concept of [Pipelines](https://devcenter.heroku.com/articles/pipelines) which are not a CI pipeline but rather the series of environments must pass through before being finally deployed. For example a Pipeline might be defined as `staging -\u003e production`. Heroku is less flexible than GitLab, but it does have the advantage where it is clear which environment is production.\n\nIf we presume that the actual production environment is the most important always treated differently in terms of engineer access, audit access, log retention, backup policies, oncall etc, is there an opportunity to optionally define is as 'production' via `.gitlab-ci.yml`, and then use this indicator as a starting point for sensible defaults?\n\nExamples might be:\n\n- Default deploy freeze windows to production environments\n- Default different log retention and backup strategies for production environments\n- Create blanket access controls to manage production environments and have a clear view of which users have rights to production environments\n\nNote that there might be the potential for multiple `production` environments, eg: a read-only copy of environment for reporting usage.\n\nIn terms of implementation, it could be as simple as adding a new key to `.gitlab-ci.yml`.\n\n\u003c!-- What problem do we solve? Try to define the who/what/why of the opportunity as a user story. For example, \"As a (who), I want (what), so I can (why/value).\" --\u003e\n\n### User experience goal\n\n\u003c!-- What is the single user experience workflow this problem addresses? \nFor example, \"The user should be able to use the UI/API/.gitlab-ci.yml with GitLab to \u003cperform a specific task\u003e\"\nhttps://about.gitlab.com/handbook/engineering/ux/ux-research-training/user-story-mapping/ --\u003e \n\n### Intended users\n\n\u003c!-- Who will use this feature? If known, include any of the following: types of users (e.g. Developer), personas, or specific company roles (e.g. Release Manager). It's okay to write \"Unknown\" and fill this field in later.\n\nPersonas are described at https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/\n\n* [Rachel (Release Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#rachel-release-manager)\n* [Parker (Product Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#parker-product-manager)\n* [Delaney (Development Team Lead)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#delaney-development-team-lead)\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Presley (Product Designer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#presley-product-designer)\n* [Devon (DevOps Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#devon-devops-engineer)\n* [Sidney (Systems Administrator)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sidney-systems-administrator)\n* [Sam (Security Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sam-security-analyst)\n* [Dana (Data Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#dana-data-analyst)\n* [Simone (Software Engineer in Test)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#simone-software-engineer-in-test)\n* [Allison (Application Ops)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#allison-application-ops) --\u003e\n\n### Further details\n\n\u003c!-- Include use cases, benefits, goals, or any other details that will help us understand the problem better. --\u003e\n\n### Proposal\n\n\u003c!-- How are we going to solve the problem? Try to include the user journey! https://about.gitlab.com/handbook/journeys/#user-journey --\u003e\n\n### Permissions and Security\n\n\u003c!-- What permissions are required to perform the described actions? Are they consistent with the existing permissions as documented for users, groups, and projects as appropriate? Is the proposed behavior consistent between the UI, API, and other access methods (e.g. email replies)?--\u003e\n\n### Documentation\n\n\u003c!-- See the Feature Change Documentation Workflow https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html\n\n* Add all known Documentation Requirements in this section. See https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html#documentation-requirements\n* If this feature requires changing permissions, update the permissions document. See https://docs.gitlab.com/ee/user/permissions.html --\u003e\n\n### Availability \u0026 Testing\n\n\u003c!-- This section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\nWhat risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning --\u003e\n\n### What does success look like, and how can we measure that?\n\n\u003c!-- Define both the success metrics and acceptance criteria. Note that success metrics indicate the desired business outcomes, while acceptance criteria indicate when the solution is working correctly. If there is no way to measure success, link to an issue that will implement a way to measure this. --\u003e\n\n### What is the type of buyer?\n\n\u003c!-- What is the buyer persona for this feature? See https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/buyer-persona/\nIn which enterprise tier should this feature go? See https://about.gitlab.com/handbook/product/pricing/#four-tiers --\u003e\n\n### Is this a cross-stage feature?\n\n\u003c!-- Communicate if this change will affect multiple Stage Groups or product areas. We recommend always start with the assumption that a feature request will have an impact into another Group. Loop in the most relevant PM and Product Designer from that Group to provide strategic support to help align the Group's broader plan and vision, as well as to avoid UX and technical debt. https://about.gitlab.com/handbook/product/#cross-stage-features --\u003e\n\n### Links / references","state":"closed","created_at":"2020-04-29T07:50:23.686Z","updated_at":"2022-06-03T08:38:24.419Z","closed_at":"2022-06-03T08:19:42.102Z","closed_by":{"id":758045,"username":"shinya.maeda","name":"Shinya Maeda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/758045/avatar.png","web_url":"https://gitlab.com/shinya.maeda"},"labels":["Category:Release Orchestration","UX","[deprecated] Accepting merge requests","backend","cicd::active","deploy","devops::release","direction","environments","frontend","group::release","section::ops","type::feature","workflow::scheduling"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":4391348,"username":"sean_carroll","name":"Sean Carroll","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4391348/avatar.png","web_url":"https://gitlab.com/sean_carroll"},"type":"ISSUE","assignee":null,"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/216104","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":4,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/216104","notes":"https://gitlab.com/api/v4/projects/278964/issues/216104/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/216104/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#216104","relative":"#216104","full":"gitlab-org/gitlab#216104"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3296,"epic":{"id":53417,"iid":3296,"title":"Environments: New Features","url":"/groups/gitlab-org/-/epics/3296","group_id":9970,"human_readable_end_date":"Apr 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":33937120,"iid":216103,"project_id":278964,"title":"Personal Access Token (PAT) expiry is notifying [a] for impersonation tokens [b] at Premium","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\n~\"GitLab Premium\" [Customer](https://gitlab.my.salesforce.com/0016100000W3BBgAAN) [reported](https://gitlab.zendesk.com/agent/tickets/154070) (internal links) that after upgrading from 12.2 to 12.9, users started receiving warning emails that their personal access tokens were expiring soon.\n\nImplemented to close issue https://gitlab.com/gitlab-org/gitlab/-/issues/3649 via MRs https://gitlab.com/gitlab-org/gitlab/-/merge_requests/17344 and https://gitlab.com/gitlab-org/gitlab/-/merge_requests/19296 PAT expiry is an ~\"GitLab Ultimate\" feature, so this was challenging as the UI does not surface any information about this feature on ~\"GitLab Premium\" \n\nFurther investigation identified that the tokens being alerted for were impersonation tokens.\n\n```\n# Find a user that has received the email\nuser = User.find_by_username('username')\n\n# Get PATs that have had notifications sent\nuser.personal_access_tokens.where(expire_notification_delivered: true)\n```\nImpersonation tokens are created by administrators, not users, and so it's not useful for users to be notified about their expiry - not even on ~\"GitLab Ultimate\" \n\nAdditionally, the customer's users did not know impersonation tokens existed.\n\n### Steps to reproduce\n\nCreate short lived impersonation tokens for users?\n\n### Example Project\n\n\n\n### What is the current *bug* behavior?\n\n- Email notifications for impersonation tokens to users.\n- ~~Email notifications for expiring tokens at~~ ~\"GitLab Premium\" ([we decided this is expected behavior](https://gitlab.com/gitlab-org/gitlab/-/issues/216103#note_333858531))\n\n### What is the expected *correct* behavior?\n\n~~At present (not withstanding https://gitlab.com/gitlab-org/gitlab/-/issues/211494) the PAT expiry feature should not work at all ~\"GitLab Premium\".~~\n\nUsers should not be notified that their PATs are expiring when in fact their impersonation tokens are expiring. Users can't do anything about impersonation tokens, and in any event, the emails say their PATs are expiring, which is confusing.\n\n### Proposal\n\nIgnore impersonation tokens for notification purposes.\n\n### Out of scope\n\nNotification emails for impersonation tokens will be disabled by the proposal, and restoring them is out of scope.  Restoring them will be executed under Issue #216269.\n\n### Possible fixes\n\nFix number 1 is to just ignore impersonation tokens.\n\nThey can be set to expire when created, via the API, to comply with company policies. This doesn't seem to be limited to Ultimate.  It doesn't make sense to email users about these at all, and administrators don't care - they created them to expire.\n\nRaw SQL from back end MR  https://gitlab.com/gitlab-org/gitlab/-/merge_requests/19296#be17d576f8f1a2ecf1903b77a53a6229ac7de4c1 currently:\n\n```sql\nSELECT \"users\".* FROM \"users\" \n  WHERE \n  (EXISTS \n    (SELECT 1 FROM \"personal_access_tokens\"\n     WHERE \n        (personal_access_tokens.user_id = users.id) AND \n        (revoked = false AND \n         expire_notification_delivered = false AND \n         expires_at \u003e= CURRENT_DATE AND \n         expires_at \u003c= '2019-11-21 20:54:15.241017'))) LIMIT 1000\n```\n\nI think it should be further restricting the results from the personal_access_tokens table.\n\n```sql\nSELECT \"users\".* FROM \"users\" \n  WHERE \n  (EXISTS \n    (SELECT 1 FROM \"personal_access_tokens\"\n     WHERE \n        (personal_access_tokens.user_id = users.id) AND \n        (revoked = false AND \n         expire_notification_delivered = false AND \n         impersonation = false AND \n         expires_at \u003e= CURRENT_DATE AND \n         expires_at \u003c= '2019-11-21 20:54:15.241017'))) LIMIT 1000\n```\n","state":"closed","created_at":"2020-04-29T07:49:44.526Z","updated_at":"2020-09-15T22:03:25.880Z","closed_at":"2020-05-28T14:45:49.791Z","closed_by":{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"},"labels":["authentication","backend","customer","devops::manage","group::compliance","personal access tokens","severity::2","type::bug","workflow::verification"],"milestone":{"id":1112145,"iid":47,"group_id":9970,"title":"13.1","description":"","state":"closed","created_at":"2020-01-03T12:28:30.160Z","updated_at":"2020-10-08T12:01:07.361Z","due_date":"2020-06-17","start_date":"2020-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/47"},"assignees":[{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"}],"author":{"id":4624911,"username":"bprescott_","name":"Ben Prescott_","state":"active","avatar_url":"https://secure.gravatar.com/avatar/91aa28150f430ec564dc5af5952c35a0?s=80\u0026d=identicon","web_url":"https://gitlab.com/bprescott_"},"type":"ISSUE","assignee":{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"},"user_notes_count":23,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/216103","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/216103","notes":"https://gitlab.com/api/v4/projects/278964/issues/216103/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/216103/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#216103","relative":"#216103","full":"gitlab-org/gitlab#216103"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":33934515,"iid":216093,"project_id":278964,"title":"StateMachines::InvalidTransition: Cannot transition status via :drop from :manual (Reason(s): Status cannot transition via \"drop\")","description":"https://sentry.gitlab.net/gitlab/gitlabcom/issues/1560030/?referrer=gitlab_plugin\n\n```\nStateMachines::InvalidTransition: Cannot transition status via :drop from :manual (Reason(s): Status cannot transition via \"drop\")\n  state_machines/event.rb:224:in `block in add_actions'\n    object.send(qualified_name, *args) || raise(StateMachines::InvalidTransition.new(object, machine, name))\n  state_machines/machine.rb:729:in `block (2 levels) in define_helper'\n    block.call((scope == :instance ? self.class : self).state_machine(name), self, *block_args)\n  deployments/older_deployments_drop_service.rb:15:in `block in execute'\n    older_deployment.deployable\u0026.drop!(:forward_deployment_failure)\n  active_record/relation/batches.rb:70:in `block (2 levels) in find_each'\n    records.each { |record| yield record }\n  active_record/relation/batches.rb:70:in `each'\n    records.each { |record| yield record }\n...\n(86 additional frame(s) were not displayed)\n\nStateMachines::InvalidTransition: Cannot transition status via :drop from :manual (Reason(s): Status cannot transition via \"drop\")\n```","state":"closed","created_at":"2020-04-29T06:47:11.267Z","updated_at":"2020-07-13T14:31:34.491Z","closed_at":"2020-05-18T17:11:26.189Z","closed_by":{"id":15139,"username":"rspeicher","name":"Robert Speicher","state":"active","avatar_url":"https://secure.gravatar.com/avatar/73c8253932541a7b5cbc5d79493f2bea?s=80\u0026d=identicon","web_url":"https://gitlab.com/rspeicher"},"labels":["Category:Continuous Delivery","Unscheduled","cicd::active","devops::release","group::release","priority::2","severity::2","type::bug","workflow::in review"],"milestone":{"id":1112145,"iid":47,"group_id":9970,"title":"13.1","description":"","state":"closed","created_at":"2020-01-03T12:28:30.160Z","updated_at":"2020-10-08T12:01:07.361Z","due_date":"2020-06-17","start_date":"2020-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/47"},"assignees":[{"id":758045,"username":"shinya.maeda","name":"Shinya Maeda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/758045/avatar.png","web_url":"https://gitlab.com/shinya.maeda"}],"author":{"id":402401,"username":"jobbot","name":"Bot","state":"active","avatar_url":"https://secure.gravatar.com/avatar/aaa6738f1ebf25404010884af511b0e7?s=80\u0026d=identicon","web_url":"https://gitlab.com/jobbot"},"type":"ISSUE","assignee":{"id":758045,"username":"shinya.maeda","name":"Shinya Maeda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/758045/avatar.png","web_url":"https://gitlab.com/shinya.maeda"},"user_notes_count":5,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/216093","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/216093","notes":"https://gitlab.com/api/v4/projects/278964/issues/216093/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/216093/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#216093","relative":"#216093","full":"gitlab-org/gitlab#216093"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":33933073,"iid":216091,"project_id":278964,"title":"Align author dropdown height to be the same as filter input","description":"In the commits page, the author dropdown height is not the same as the \"filter by commit message\" searchbox.\n\n![image](/uploads/ef05f68ceb990b72a72a8e9220162d9a/image.png)\n\nThe commits page is located here:\n\n![image](/uploads/730c13149305bbb1798409f04edfa914/image.png)","state":"closed","created_at":"2020-04-29T05:35:26.744Z","updated_at":"2020-07-01T03:53:44.421Z","closed_at":"2020-05-14T08:19:13.257Z","closed_by":{"id":3199302,"username":"dmishunov","name":"Denys Mishunov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d85e45af29611ac2c1395e3c3d6ec5d6?s=80\u0026d=identicon","web_url":"https://gitlab.com/dmishunov"},"labels":["UX","UX debt","devops::create","frontend"],"milestone":null,"assignees":[{"id":3993566,"username":"sming-gitlab","name":"Samantha Ming","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3993566/avatar.png","web_url":"https://gitlab.com/sming-gitlab"}],"author":{"id":3993566,"username":"sming-gitlab","name":"Samantha Ming","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3993566/avatar.png","web_url":"https://gitlab.com/sming-gitlab"},"type":"ISSUE","assignee":{"id":3993566,"username":"sming-gitlab","name":"Samantha Ming","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3993566/avatar.png","web_url":"https://gitlab.com/sming-gitlab"},"user_notes_count":3,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/216091","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/216091","notes":"https://gitlab.com/api/v4/projects/278964/issues/216091/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/216091/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#216091","relative":"#216091","full":"gitlab-org/gitlab#216091"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":33931863,"iid":216089,"project_id":278964,"title":"Improve personal access token scope UI Text","description":"The UI Text for the new Personal Access Token page could be improved. Right now, it looks like the checkbox list is just displaying the parameter names, but these should probably be proper sentence case titles for each checkbox.\n\n#### Example:\n\n- `api` -\u003e **API** (or maybe even **Write API** to match the description, and the other fields below, and moved next to `read_api`)\n- `read_user` -\u003e **Read User**\n- etc.\n\n**Edit:** Upon a little more research, I find no mention of any of this UI text in `gitlab.pot`, so if memory serves, that means this is not using externalized text either? That can be improved at the same time, I suspect.\n\n**Edit 2:** i18n support will be added in https://gitlab.com/gitlab-org/gitlab/-/issues/331804\n\n![Screen_Shot_2020-04-29_at_12.32.04](/uploads/f39c4499ba8bc388828d5287bb952488/Screen_Shot_2020-04-29_at_12.32.04.png)","state":"closed","created_at":"2020-04-29T04:03:29.557Z","updated_at":"2021-06-29T08:35:31.178Z","closed_at":"2021-06-29T08:35:31.162Z","closed_by":{"id":4155490,"username":"marcel.amirault","name":"Marcel Amirault","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4155490/avatar.png","web_url":"https://gitlab.com/marcel.amirault"},"labels":["Category:Internationalization","[deprecated] Accepting merge requests","backend","candidate::14.2","devops::manage","frontend","group::authentication and authorization","section::dev","workflow::ready for development"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":4155490,"username":"marcel.amirault","name":"Marcel Amirault","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4155490/avatar.png","web_url":"https://gitlab.com/marcel.amirault"},"type":"ISSUE","assignee":null,"user_notes_count":41,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/216089","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/216089","notes":"https://gitlab.com/api/v4/projects/278964/issues/216089/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/216089/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#216089","relative":"#216089","full":"gitlab-org/gitlab#216089"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":33931842,"iid":216088,"project_id":278964,"title":"Validate user-generated regular expression issues with the Tag Cleanup Policy","description":"### Problem to solve\n\nThe GitLab Tag Cleanup Policy allows you to create a per-project expiration policy so that you can make sure that older tags and images are regularly removed from the Container Registry. When defining a policy, you may use regular expression to determine which tags should be expired. \n\nHowever, The `container_repository:cleanup_container_repository` job is spiking up to error rates of 25%.  These errors are being caused by user-generated regular expressions that considered invalid by `Gitlab::UntrustedRegexp`. If this is due to users having entered invalid regexes into the `name_regex` field and the users are unaware that the job is failing, it's likely these will continue to occur regularly as the job runs.\n\n\n### Intended users\n\n* [Delaney (Development Team Lead)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#delaney-development-team-lead)\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Devon (DevOps Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#devon-devops-engineer)\n* [Sidney (Systems Administrator)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sidney-systems-administrator)\n\n### User experience goal\n\n- Users are aware of when they have entered an invalid regex and have the opportunity to fix it before it fails. \n\n### Proposal\n- Set `enabled = false` when an expiration policy fails in this manner and somehow notify the user or admin that the policy has been disabled and must be fixed and re-enabled.\n- Add a validation that checks the input against the `Gitlab::UntrustedRegexp` rules.\n\n### Permissions and Security\n\n- There are no permissions changes required for this change\n\n### Documentation\n\n- Add a note to https://docs.gitlab.com/ee/user/packages/container_registry/#expiration-policy to ensure users are aware that we will validate their regex\n\n### Availability \u0026 Testing\n\n\u003c!-- This section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\nWhat risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning --\u003e\n\n### What does success look like, and how can we measure that?\n- Success looks like we see an acceptable amount of errors being thrown for the Image expiration policy. We can measure this by using our existing [sidekiq dashboard](https://dashboards.gitlab.net/d/sidekiq-queue-detail/sidekiq-queue-detail?orgId=1\u0026from=now-6h\u0026to=now\u0026panelId=13\u0026tz=UTC\u0026var-environment=gprd\u0026var-stage=main\u0026var-queue=container_repository:cleanup_container_repository). \n\n","state":"closed","created_at":"2020-04-29T04:02:02.041Z","updated_at":"2020-06-23T18:25:37.782Z","closed_at":"2020-06-17T14:21:28.234Z","closed_by":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"labels":["Category:Container Registry","Deliverable","Package:P1","backend","devops::package","group::package registry","package:active","ruby","type::feature","workflow::production"],"milestone":{"id":1112145,"iid":47,"group_id":9970,"title":"13.1","description":"","state":"closed","created_at":"2020-01-03T12:28:30.160Z","updated_at":"2020-10-08T12:01:07.361Z","due_date":"2020-06-17","start_date":"2020-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/47"},"assignees":[{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"}],"author":{"id":402401,"username":"jobbot","name":"Bot","state":"active","avatar_url":"https://secure.gravatar.com/avatar/aaa6738f1ebf25404010884af511b0e7?s=80\u0026d=identicon","web_url":"https://gitlab.com/jobbot"},"type":"ISSUE","assignee":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"user_notes_count":22,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/216088","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/216088","notes":"https://gitlab.com/api/v4/projects/278964/issues/216088/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/216088/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#216088","relative":"#216088","full":"gitlab-org/gitlab#216088"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":33931129,"iid":216083,"project_id":278964,"title":"Expose `created_at` on a Group's Members API","description":"\u003c!-- The first three sections: \"Problem to solve\", \"Intended users\" and \"Proposal\", are strongly recommended, while the rest of the sections can be filled out during the problem validation or breakdown phase. However, keep in mind that providing complete and relevant information early helps our product team validate the problem and start working on a solution. --\u003e\n\n### Problem to solve\n\n\u003c!-- What problem do we solve? Try to define the who/what/why of the opportunity as a user story. For example, \"As a (who), I want (what), so I can (why/value).\" --\u003e\n\nWe currently have no way to look up via the API when a user was added to a particular group. This information is only available by hovering over the member in the Members UI.\n\n![Screen_Shot_2020-04-28_at_1.24.29_PM](/uploads/6ec0a0d9bbc3b01188380f14715375bf/Screen_Shot_2020-04-28_at_1.24.29_PM.png)\n\nAdditionally, the Access Requests API only provide a user's given name and no way (as far as I could see) to track that back to a given user.\n\n### User experience goal\n\n\u003c!-- What is the single user experience workflow this problem addresses? \nFor example, \"The user should be able to use the UI/API/.gitlab-ci.yml with GitLab to \u003cperform a specific task\u003e\"\nhttps://about.gitlab.com/handbook/engineering/ux/ux-research-training/user-story-mapping/ --\u003e \n\nThe intent is to ease the access of this information so that use the API to look up and see how long a user has been active in a particular group.\n\n### Intended users\n\n* [Devon (DevOps Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#devon-devops-engineer)\n* [Sidney (Systems Administrator)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sidney-systems-administrator)\n* [Sam (Security Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sam-security-analyst)\n\n### Further details\n\n\u003c!-- Include use cases, benefits, goals, or any other details that will help us understand the problem better. --\u003e\n\nWe have a customer asking when their users were added to their GitLab.com parent group to determine when they went out of compliance with their licensing.\n\n### Proposal\n\n\u003c!-- How are we going to solve the problem? Try to include the user journey! https://about.gitlab.com/handbook/journeys/#user-journey --\u003e\n\nAdd the `created_at` to the values that are shown in the [GitLab Group's Members API](https://docs.gitlab.com/ee/api/members.html#get-a-member-of-a-group-or-project) endpoint.\n\n### Permissions and Security\n\n\u003c!-- What permissions are required to perform the described actions? Are they consistent with the existing permissions as documented for users, groups, and projects as appropriate? Is the proposed behavior consistent between the UI, API, and other access methods (e.g. email replies)?--\u003e\n\n### Documentation\n\n\u003c!-- See the Feature Change Documentation Workflow https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html\n\n* Add all known Documentation Requirements in this section. See https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html#documentation-requirements\n* If this feature requires changing permissions, update the permissions document. See https://docs.gitlab.com/ee/user/permissions.html --\u003e\n\n### Availability \u0026 Testing\n\n\u003c!-- This section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\nWhat risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning --\u003e\n\n### What does success look like, and how can we measure that?\n\n\u003c!-- Define both the success metrics and acceptance criteria. Note that success metrics indicate the desired business outcomes, while acceptance criteria indicate when the solution is working correctly. If there is no way to measure success, link to an issue that will implement a way to measure this. --\u003e\n\n### What is the type of buyer?\n\n\u003c!-- What is the buyer persona for this feature? See https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/buyer-persona/\nIn which enterprise tier should this feature go? See https://about.gitlab.com/handbook/product/pricing/#four-tiers --\u003e\n\n### Is this a cross-stage feature?\n\n\u003c!-- Communicate if this change will affect multiple Stage Groups or product areas. We recommend always start with the assumption that a feature request will have an impact into another Group. Loop in the most relevant PM and Product Designer from that Group to provide strategic support to help align the Group's broader plan and vision, as well as to avoid UX and technical debt. https://about.gitlab.com/handbook/product/#cross-stage-features --\u003e\n\n### Links / references","state":"closed","created_at":"2020-04-29T03:06:42.876Z","updated_at":"2020-10-16T06:32:25.295Z","closed_at":"2020-10-16T06:29:48.710Z","closed_by":{"id":443319,"username":"smcgivern","name":"Sean McGivern","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/443319/avatar.png","web_url":"https://gitlab.com/smcgivern"},"labels":["Category:Authentication and Authorization","devops::create","group::authentication and authorization","section::dev","type::feature"],"milestone":{"id":1233754,"iid":52,"group_id":9970,"title":"13.5","description":"https://about.gitlab.com/releases/2020/10/22/gitlab-13-5-released/","state":"closed","created_at":"2020-04-09T17:39:21.990Z","updated_at":"2022-04-21T07:21:12.213Z","due_date":"2020-10-17","start_date":"2020-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/52"},"assignees":[{"id":756755,"username":"raju249","name":"Rajendra Kadam","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/756755/avatar.png","web_url":"https://gitlab.com/raju249"}],"author":{"id":428430,"username":"poffey21","name":"Tim Poffenbarger","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/428430/avatar.png","web_url":"https://gitlab.com/poffey21"},"type":"ISSUE","assignee":{"id":756755,"username":"raju249","name":"Rajendra Kadam","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/756755/avatar.png","web_url":"https://gitlab.com/raju249"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/216083","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":1,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/216083","notes":"https://gitlab.com/api/v4/projects/278964/issues/216083/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/216083/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#216083","relative":"#216083","full":"gitlab-org/gitlab#216083"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":33931053,"iid":216082,"project_id":278964,"title":"Support specifying java version at scan time for the gemnasium-maven analyzer","description":"### Problem to solve\n\nThe `gemnasium-maven` analyzer is currently on jdk11. We have gotten several user requests to use Dependency Scanning with [jdk13](https://gitlab.com/gitlab-org/gitlab/-/issues/213057) and [jdk14](https://gitlab.com/gitlab-org/gitlab/-/issues/213057) projects. Additionally, users have continued asking us about how to use Dependency Scanning on [jdk8](https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium-maven/-/merge_requests/21#note_291316734) projects. \n\n### Intended users\n\nPersonas are described at https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/\n\n* [Delaney (Development Team Lead)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#delaney-development-team-lead)\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n\n### Proposal\n\nThere are several proposals possible (this list is non-exhaustive): \n\n1. update our documentation to instruct users on how to rebuild our analyzer images with a different jdk\n1. publish multiple versions of the analyzer supporting different java versions\n1. allow users to specify the java version to be used at scan time.\n1. don't update the analyzer but rather wait for Dependency Scanning to migrate to a build/scan phase split (as capture in [this epic](https://gitlab.com/groups/gitlab-org/-/epics/1858)).\n\nOptions 1 and 2 are simpler in terms of eng cost, but both have drawbacks in terms of complexity for the user and operational complexity for us (e.g. maintaining analyzer images per java version).  \n\nOption 3 would work well since it allows fine grained control of the java version for users. It is in line with other analyzer variables we use to configure images. And it would be similar to the way SAST and License Compliance (see [SAST_JAVA_VERSION](https://docs.gitlab.com/ee/user/application_security/sast/#analyzer-settings) and [LM_JAVA_VERSION](https://docs.gitlab.com/ee/user/compliance/license_compliance/#available-variables)) handle different jdk versions.\n\nOption 4 is the most optimal. It would allow us to significantly uncomplicate the analyzer and give users maximum versatility. The implementation plan won't go into this one since it is already broken down in https://gitlab.com/gitlab-org/gitlab/-/issues/13477.\n\n### Implementation plan\n\n- [x] introduce variable `DS_JAVA_VERSION`\n- [x] install all supported Java versions in the [Dockerfile](https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium-maven) similar to how this is done in [Spotbugs](https://gitlab.com/gitlab-org/security-products/analyzers/spotbugs/-/blob/v2.6.0/Dockerfile#L74-85)\n  - [x] jdk8\n  - [x] jdk11\n  - [x] jdk13\n  - [x] jdk14\n- [x] add `asdf` version manager to the analyzer at build time\n- [x] at scan time, switch default java version if user specified version does not match it, similar to how spotbugs does this in the [run.sh](https://gitlab.com/gitlab-org/security-products/analyzers/spotbugs/-/blob/v2.6.0/run.sh#L38) script, however, this functionality will be implemented as part of the [gemnasium-maven analyzer code](https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium-maven/-/blob/master/analyze.go)\n\n### Documentation\n\n- [x] update Dependency Scanning [documentation](https://docs.gitlab.com/ee/user/application_security/dependency_scanning/) with the new variable and explain which java versions are supported\n    - https://gitlab.com/gitlab-org/gitlab/-/merge_requests/34233\n- [x] When this documentation done please close https://gitlab.com/gitlab-org/gitlab/-/issues/213631 and https://gitlab.com/gitlab-org/gitlab/-/issues/213057 with a link to the documentation of how to specify version and when they can use those directions (i.e. with the release of 13.1, or after downloading new container, or both)\n\n\n### Availability \u0026 Testing\n\nFor [java-maven](https://gitlab.com/gitlab-org/security-products/tests/java-maven), [java-gradle](https://gitlab.com/gitlab-org/security-products/tests/java-gradle), and [scala-sbt](https://gitlab.com/gitlab-org/security-products/tests/scala-sbt) test projects add tests for:\n\n- [x] java 8\n- [x] java 11\n- [x] java 13\n- [x] java 14\n\nSee the [Testing](https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium-maven/-/merge_requests/53#testing) section of the MR for more details\n\n### What does success look like, and how can we measure that?\n\nUsers will be able to scan dependencies for projects using any of the supported java versions.\n\n### Is this a cross-stage feature?\n\nNo.\n\n### Links / references","state":"closed","created_at":"2020-04-29T03:02:00.219Z","updated_at":"2020-11-13T17:25:17.417Z","closed_at":"2020-07-03T07:08:04.446Z","closed_by":{"id":1674572,"username":"adamcohen","name":"Adam Cohen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/68fe8da9d9dfc88d0d150808cd364825?s=80\u0026d=identicon","web_url":"https://gitlab.com/adamcohen"},"labels":["Category:Dependency Scanning","Deliverable","Enterprise Edition","GitLab Ultimate","backend","customer","devops::secure","group::composition analysis","missed-deliverable","missed:13.1","quad-planning::complete-action","type::feature","workflow::production"],"milestone":{"id":1233746,"iid":49,"group_id":9970,"title":"13.2","description":"https://about.gitlab.com/releases/2020/07/22/gitlab-13-2-released/","state":"closed","created_at":"2020-04-09T17:28:01.032Z","updated_at":"2022-04-13T14:48:24.167Z","due_date":"2020-07-17","start_date":"2020-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/49"},"assignees":[{"id":1674572,"username":"adamcohen","name":"Adam Cohen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/68fe8da9d9dfc88d0d150808cd364825?s=80\u0026d=identicon","web_url":"https://gitlab.com/adamcohen"}],"author":{"id":4668304,"username":"ifrenkel","name":"Igor Frenkel","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a73e8113c53ac25297ce751e59bbb1d3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ifrenkel"},"type":"ISSUE","assignee":{"id":1674572,"username":"adamcohen","name":"Adam Cohen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/68fe8da9d9dfc88d0d150808cd364825?s=80\u0026d=identicon","web_url":"https://gitlab.com/adamcohen"},"user_notes_count":34,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/216082","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":14,"completed_count":14},"weight":5,"blocking_issues_count":0,"has_tasks":true,"task_status":"14 of 14 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/216082","notes":"https://gitlab.com/api/v4/projects/278964/issues/216082/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/216082/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#216082","relative":"#216082","full":"gitlab-org/gitlab#216082"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":33929077,"iid":216073,"project_id":278964,"title":"Enable/Disable Policies","description":"\u003c!-- The first three sections: \"Problem to solve\", \"Intended users\" and \"Proposal\", are strongly recommended, while the rest of the sections can be filled out during the problem validation or breakdown phase. However, keep in mind that providing complete and relevant information early helps our product team validate the problem and start working on a solution. --\u003e\n\n### Problem to solve\n\n\u003c!-- What problem do we solve? Try to define the who/what/why of the opportunity as a user story. For example, \"As a (who), I want (what), so I can (why/value).\" --\u003e\nCurrently all policies for Container Security can only be managed in code.  Currently several pain points exist due to the lack of a policy management UI:\n* Code does not allow an easy way to scan a page and visualize which policies are enabled vs disabled\n* Users need to be able to disable a policy without deleting it\n\n### Intended users\n\n\u003c!-- Who will use this feature? If known, include any of the following: types of users (e.g. Developer), personas, or specific company roles (e.g. Release Manager). It's okay to write \"Unknown\" and fill this field in later.\n\nPersonas are described at https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/\n\n* [Rachel (Release Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#rachel-release-manager)\n* [Parker (Product Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#parker-product-manager)\n* [Delaney (Development Team Lead)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#delaney-development-team-lead)\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Presley (Product Designer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#presley-product-designer)\n* [Devon (DevOps Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#devon-devops-engineer)\n* [Sidney (Systems Administrator)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sidney-systems-administrator)\n* [Sam (Security Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sam-security-analyst)\n* [Dana (Data Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#dana-data-analyst)\n* [Simone (Software Engineer in Test)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#simone-software-engineer-in-test)\n* [Allison (Application Ops)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#allison-application-ops) --\u003e\nThis feature is targeted specifically at the Security team:\n* [Sam (Security Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sam-security-analyst)\n\n### Further details\n\n\u003c!-- Include use cases, benefits, goals, or any other details that will help us understand the problem better. --\u003e\nThis is intended to be the Minimal Viable Change (MVC) toward a larger policy management portal.  Eventually we will want to be able to provide audit trails, policy differentials, policy suggestions, and feedback on the performance and efficacy of the policies.  To allow us to iterate quickly, rather than trying to build all the features at once, this issue is focused on delivering just the first piece of the longer-term solution.\n\n### Proposal\n\n\u003c!-- How are we going to solve the problem? Try to include the user journey! https://about.gitlab.com/handbook/journeys/#user-journey --\u003e\nFor the first MVC, we will limit the policy page to just Container Network Policy (Cilium) management.\n\nThe policy management portal will allow users to do the following:\n* View whether those policies are currently enabled or disabled\n* Enable and disable policies (we may need to contribute to the upstream project to add a setting for this)\n\n### Permissions and Security\n\n\u003c!-- What permissions are required to perform the described actions? Are they consistent with the existing permissions as documented for users, groups, and projects as appropriate? Is the proposed behavior consistent between the UI, API, and other access methods (e.g. email replies)?--\u003e\nUsers must be an Owner or Maintainer on the project to access the policy configuration page.\n\n### Documentation\n\n\u003c!-- See the Feature Change Documentation Workflow https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html\n\n* Add all known Documentation Requirements in this section. See https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html#documentation-requirements\n* If this feature requires changing permissions, update the permissions document. See https://docs.gitlab.com/ee/user/permissions.html --\u003e\nDocumentation will be added to describe how to enable and disable policies on the policy management page.\n\n### Availability \u0026 Testing\n\n\u003c!-- This section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\nWhat risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning --\u003e\n* Verify that the enabled/disabled status shown in the UI matches what is shown in code\n* Verify that enabling/disabling a policy pack in the UI accurately changes the state of the policy pack in the production environment\n\n### What does success look like, and how can we measure that?\n\n\u003c!-- Define both the success metrics and acceptance criteria. Note that success metrics indicate the desired business outcomes, while acceptance criteria indicate when the solution is working correctly. If there is no way to measure success, link to an issue that will implement a way to measure this. --\u003e\n\n### What is the type of buyer?\n\n\u003c!-- What is the buyer persona for this feature? See https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/buyer-persona/\nIn which enterprise tier should this feature go? See https://about.gitlab.com/handbook/product/pricing/#four-tiers --\u003e\nThis will be available for ~\"GitLab Ultimate\"\n\n### Is this a cross-stage feature?\n\n\u003c!-- Communicate if this change will affect multiple Stage Groups or product areas. We recommend always start with the assumption that a feature request will have an impact into another Group. Loop in the most relevant PM and Product Designer from that Group to provide strategic support to help align the Group's broader plan and vision, as well as to avoid UX and technical debt. https://about.gitlab.com/handbook/product/#cross-stage-features --\u003e\n\n### Links / references\n* https://gitlab.com/gitlab-org/gitlab/-/issues/36500","state":"closed","created_at":"2020-04-29T00:30:25.393Z","updated_at":"2020-06-18T07:09:18.766Z","closed_at":"2020-06-05T01:42:02.603Z","closed_by":{"id":4825543,"username":"aevstifeev","name":"Arthur Evstifeev","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4825543/avatar.png","web_url":"https://gitlab.com/aevstifeev"},"labels":["Category:Container Network Security","Deliverable","Enterprise Edition","GitLab Ultimate","backend","backend-weight::2","devops::govern","direction","documentation","frontend","frontend-weight::1","group::security policies","type::feature","workflow::verification"],"milestone":{"id":1112145,"iid":47,"group_id":9970,"title":"13.1","description":"","state":"closed","created_at":"2020-01-03T12:28:30.160Z","updated_at":"2020-10-08T12:01:07.361Z","due_date":"2020-06-17","start_date":"2020-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/47"},"assignees":[{"id":4825543,"username":"aevstifeev","name":"Arthur Evstifeev","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4825543/avatar.png","web_url":"https://gitlab.com/aevstifeev"},{"id":4946308,"username":"ngaskill","name":"Nick Gaskill","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4946308/avatar.png","web_url":"https://gitlab.com/ngaskill"},{"id":5292351,"username":"sam.white","name":"Sam White","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d467fb024d1858d279e6a36e028436ac?s=80\u0026d=identicon","web_url":"https://gitlab.com/sam.white"}],"author":{"id":5292351,"username":"sam.white","name":"Sam White","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d467fb024d1858d279e6a36e028436ac?s=80\u0026d=identicon","web_url":"https://gitlab.com/sam.white"},"type":"ISSUE","assignee":{"id":4825543,"username":"aevstifeev","name":"Arthur Evstifeev","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4825543/avatar.png","web_url":"https://gitlab.com/aevstifeev"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/216073","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/216073","notes":"https://gitlab.com/api/v4/projects/278964/issues/216073/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/216073/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#216073","relative":"#216073","full":"gitlab-org/gitlab#216073"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3328,"epic":{"id":54559,"iid":3328,"title":"MVC: Initial Security Policy UI","url":"/groups/gitlab-org/-/epics/3328","group_id":9970,"human_readable_end_date":"Jun 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":33929044,"iid":216072,"project_id":278964,"title":"View policies","description":"\u003c!-- The first three sections: \"Problem to solve\", \"Intended users\" and \"Proposal\", are strongly recommended, while the rest of the sections can be filled out during the problem validation or breakdown phase. However, keep in mind that providing complete and relevant information early helps our product team validate the problem and start working on a solution. --\u003e\n\n### Problem to solve\n\n\u003c!-- What problem do we solve? Try to define the who/what/why of the opportunity as a user story. For example, \"As a (who), I want (what), so I can (why/value).\" --\u003e\n* Users who are not comfortable with editing configuration or yaml files are excluded from being able to use Container Security features\n\n### Intended users\n\n\u003c!-- Who will use this feature? If known, include any of the following: types of users (e.g. Developer), personas, or specific company roles (e.g. Release Manager). It's okay to write \"Unknown\" and fill this field in later.\n\nPersonas are described at https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/\n\n* [Rachel (Release Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#rachel-release-manager)\n* [Parker (Product Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#parker-product-manager)\n* [Delaney (Development Team Lead)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#delaney-development-team-lead)\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Presley (Product Designer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#presley-product-designer)\n* [Devon (DevOps Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#devon-devops-engineer)\n* [Sidney (Systems Administrator)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sidney-systems-administrator)\n* [Sam (Security Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sam-security-analyst)\n* [Dana (Data Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#dana-data-analyst)\n* [Simone (Software Engineer in Test)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#simone-software-engineer-in-test)\n* [Allison (Application Ops)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#allison-application-ops) --\u003e\nThis feature is targeted specifically at the Security team:\n* [Sam (Security Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sam-security-analyst)\n\n### Further details\n\n\u003c!-- Include use cases, benefits, goals, or any other details that will help us understand the problem better. --\u003e\nThis is intended to be the Minimal Viable Change (MVC) toward a larger policy management portal. Eventually we will want to be able to provide audit trails, policy differentials, policy suggestions, and feedback on the performance and efficacy of the policies. To allow us to iterate quickly, rather than trying to build all the features at once, this issue is focused on delivering just the first piece of the longer-term solution.\n\n### Proposal\n\n\u003c!-- How are we going to solve the problem? Try to include the user journey! https://about.gitlab.com/handbook/journeys/#user-journey --\u003e\nFor the first MVC, we will limit the policy page to just Container Network Policy (Cilium) management.\n\nThe policy management portal will allow users to do the following:\n* View policies that exist\n\n### Permissions and Security\n\n\u003c!-- What permissions are required to perform the described actions? Are they consistent with the existing permissions as documented for users, groups, and projects as appropriate? Is the proposed behavior consistent between the UI, API, and other access methods (e.g. email replies)?--\u003e\nUsers must be an Owner or Maintainer on the project to access the policy configuration page.\n\n### Documentation\n\n\u003c!-- See the Feature Change Documentation Workflow https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html\n\n* Add all known Documentation Requirements in this section. See https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html#documentation-requirements\n* If this feature requires changing permissions, update the permissions document. See https://docs.gitlab.com/ee/user/permissions.html --\u003e\nDocumentation will be added to describe how to access and use the policy management page.\n\n### Availability \u0026 Testing\n\n\u003c!-- This section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\nWhat risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning --\u003e\n* Verify that only owners and maintainers can access the policy page\n* Verify that adding a new policy directly via a kubectl command results in a new policy appearing in the policy UI\n* Verify that deleting a policy directly via a kubectl command results in the policy being removed from the policy UI\n\n### What does success look like, and how can we measure that?\n\n\u003c!-- Define both the success metrics and acceptance criteria. Note that success metrics indicate the desired business outcomes, while acceptance criteria indicate when the solution is working correctly. If there is no way to measure success, link to an issue that will implement a way to measure this. --\u003e\n\n### What is the type of buyer?\n\n\u003c!-- What is the buyer persona for this feature? See https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/buyer-persona/\nIn which enterprise tier should this feature go? See https://about.gitlab.com/handbook/product/pricing/#four-tiers --\u003e\nThis will be available for ~\"GitLab Ultimate\"\n\n### Is this a cross-stage feature?\n\n\u003c!-- Communicate if this change will affect multiple Stage Groups or product areas. We recommend always start with the assumption that a feature request will have an impact into another Group. Loop in the most relevant PM and Product Designer from that Group to provide strategic support to help align the Group's broader plan and vision, as well as to avoid UX and technical debt. https://about.gitlab.com/handbook/product/#cross-stage-features --\u003e\n\n### Links / references\n* https://gitlab.com/gitlab-org/gitlab/-/issues/36500","state":"closed","created_at":"2020-04-29T00:26:26.371Z","updated_at":"2020-06-18T07:09:18.804Z","closed_at":"2020-06-05T01:47:33.283Z","closed_by":{"id":4825543,"username":"aevstifeev","name":"Arthur Evstifeev","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4825543/avatar.png","web_url":"https://gitlab.com/aevstifeev"},"labels":["Category:Container Network Security","Deliverable","Enterprise Edition","GitLab Ultimate","backend","backend-weight::3","devops::govern","direction","documentation","frontend","frontend-weight::5","group::security policies","type::feature","workflow::staging"],"milestone":{"id":1112145,"iid":47,"group_id":9970,"title":"13.1","description":"","state":"closed","created_at":"2020-01-03T12:28:30.160Z","updated_at":"2020-10-08T12:01:07.361Z","due_date":"2020-06-17","start_date":"2020-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/47"},"assignees":[{"id":4825543,"username":"aevstifeev","name":"Arthur Evstifeev","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4825543/avatar.png","web_url":"https://gitlab.com/aevstifeev"},{"id":4946308,"username":"ngaskill","name":"Nick Gaskill","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4946308/avatar.png","web_url":"https://gitlab.com/ngaskill"},{"id":5292351,"username":"sam.white","name":"Sam White","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d467fb024d1858d279e6a36e028436ac?s=80\u0026d=identicon","web_url":"https://gitlab.com/sam.white"}],"author":{"id":5292351,"username":"sam.white","name":"Sam White","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d467fb024d1858d279e6a36e028436ac?s=80\u0026d=identicon","web_url":"https://gitlab.com/sam.white"},"type":"ISSUE","assignee":{"id":4825543,"username":"aevstifeev","name":"Arthur Evstifeev","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4825543/avatar.png","web_url":"https://gitlab.com/aevstifeev"},"user_notes_count":13,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/216072","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":8,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/216072","notes":"https://gitlab.com/api/v4/projects/278964/issues/216072/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/216072/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#216072","relative":"#216072","full":"gitlab-org/gitlab#216072"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3328,"epic":{"id":54559,"iid":3328,"title":"MVC: Initial Security Policy UI","url":"/groups/gitlab-org/-/epics/3328","group_id":9970,"human_readable_end_date":"Jun 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":33926905,"iid":216064,"project_id":278964,"title":"Improve Quick Actions DSL","description":"## Summary\n\nThe Quick Actions DSL has the following issues:\n\n- it is flat, rather than nested, which makes reading harder, makes the code more complex, and makes it easy to make mistakes\n- the use of flat, decorator-style commands means the most important bit (`command :foo`) has to be last, which is hard to scan\n- there is no safety - attributes can be defined more than once, commands can have the same names\n- there is lots of redundancy (blocks take the same params, types are mentioned for every command)\n\nDSL code is still code, and if we want it to be maintainable, updating the DSL would be helpful.\n\n## Improvements\n\nBetter, more readable DSL code, and hopefully more teams will write quick actions, which are extremely useful\n\n## Risks\n\nMinimal - we have an excellent test suite.\n\n## Involved components\n\n- `lib/gitlab/quick_actions`, and `ee/lib/ee/gitlab/quick_actions`","state":"closed","created_at":"2020-04-28T22:03:02.888Z","updated_at":"2022-12-13T21:58:48.433Z","closed_at":"2022-12-13T21:58:48.409Z","closed_by":{"id":3614858,"username":"alexkalderimis","name":"Alex Kalderimis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3614858/avatar.png","web_url":"https://gitlab.com/alexkalderimis"},"labels":["[deprecated] Accepting merge requests","backend","backstage [DEPRECATED]","devops::plan","group::project management","missed:13.1","quick actions","section::dev"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":3614858,"username":"alexkalderimis","name":"Alex Kalderimis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3614858/avatar.png","web_url":"https://gitlab.com/alexkalderimis"},"type":"ISSUE","assignee":null,"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/216064","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/216064","notes":"https://gitlab.com/api/v4/projects/278964/issues/216064/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/216064/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#216064","relative":"#216064","full":"gitlab-org/gitlab#216064"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":33925519,"iid":216055,"project_id":278964,"title":"Attempts to \"Download the artifacts archive\" for a tag ref via the Jobs API is failing with a \"404 Not found\"","description":"### Overview\r\n\r\nWe're attempting to [download the artifacts archive](https://docs.gitlab.com/ee/api/jobs.html#download-the-artifacts-archive) via the following URL:\r\n\r\n```\r\nGET /projects/:id/jobs/artifacts/:ref_name/download?job=name\r\n```\r\n\r\nWe're seeing this fail with the following error:\r\n\r\n```\r\n{\"message\":\"404 Not found\"}\r\n```\r\n\r\nWhen attempting to use a tag as the `ref_name`.\r\n\r\n### Components\r\n\r\nWe're using the following:\r\n\r\n* The `v4` Jobs API\r\n* The GitLab Shared Runner\r\n\r\n### Test Cases\r\n\r\nA few notes for background:\r\n\r\n* :white_check_mark: Attempts to download artifacts on the `master` ref works correctly: `GET /projects/:id/jobs/artifacts/master/download?job=name`\r\n* :white_check_mark: Attempts to download the artifacts from the expected job ID also works correctly: `GET projects/:id/jobs/:job_id/artifacts`\r\n* :no_entry_sign: Attempts to download artifacts with the specific tag as a `ref` fail. \r\n\r\nI can, however confirm that these artifacts are available for this ref by running the following command:\r\n\r\n```\r\ncurl -H\"PRIVATE-TOKEN: XXXXXXXX\" https://gitlab.com/api/v4/projects/12345678/jobs/000111222\r\n```\r\n\r\nWhich returns a response like the following:\r\n\r\n```json\r\n{\r\n  \"id\": 000111222,\r\n  \"status\": \"success\",\r\n  \"stage\": \"build\",\r\n  \"name\": \"build-zip\",\r\n  \"ref\": \"0.3.0\",\r\n  \"tag\": true,\r\n  \"created_at\": \"2020-04-28T12:56:51.203Z\",\r\n  \"artifacts_file\": {\r\n    \"filename\": \"artifacts.zip\",\r\n    \"size\": 371601\r\n  },\r\n  \"artifacts_expire_at\": null\r\n}\r\n```\r\n\r\nMy expectation [from the documentation](https://docs.gitlab.com/ee/api/jobs.html#download-the-artifacts-archive) is that the following command should work:\r\n\r\n```\r\ncurl -H\"PRIVATE-TOKEN: XXXXXXXX\" https://gitlab.com/api/v4/projects/12345678/jobs/artifacts/0.3.0/download?job=build-zip\r\n```\r\n\r\nSince it is a valid tag ref with a valid artifacts file. Instead, it fails with the following:\r\n\r\n```\r\n{\"message\":\"404 Not found\"}\r\n```\r\n\r\nThis was working for previous tags for us, so I'm not sure if it's due to a regression here?","state":"closed","created_at":"2020-04-28T21:00:53.793Z","updated_at":"2022-08-01T20:02:46.756Z","closed_at":"2020-05-22T07:23:42.515Z","closed_by":{"id":2187482,"username":"ashmckenzie","name":"Ash McKenzie","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2187482/avatar.png","web_url":"https://gitlab.com/ashmckenzie"},"labels":["CI artifacts","api","api:consistency","awaiting feedback","devops::verify","group::pipeline execution","priority::2","regression","regression:12.10","severity::2","type::bug"],"milestone":{"id":1112145,"iid":47,"group_id":9970,"title":"13.1","description":"","state":"closed","created_at":"2020-01-03T12:28:30.160Z","updated_at":"2020-10-08T12:01:07.361Z","due_date":"2020-06-17","start_date":"2020-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/47"},"assignees":[{"id":64248,"username":"stanhu","name":"Stan Hu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/64248/stanhu.jpg","web_url":"https://gitlab.com/stanhu"},{"id":722076,"username":"matteeyah","name":"Matija Čupić","state":"active","avatar_url":"https://secure.gravatar.com/avatar/8bc04cc15e0adba406cf56fecd9d910a?s=80\u0026d=identicon","web_url":"https://gitlab.com/matteeyah"}],"author":{"id":3570273,"username":"wb3","name":"Will Baumann","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3570273/avatar.png","web_url":"https://gitlab.com/wb3"},"type":"ISSUE","assignee":{"id":64248,"username":"stanhu","name":"Stan Hu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/64248/stanhu.jpg","web_url":"https://gitlab.com/stanhu"},"user_notes_count":72,"merge_requests_count":2,"upvotes":20,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/216055","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/216055","notes":"https://gitlab.com/api/v4/projects/278964/issues/216055/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/216055/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#216055","relative":"#216055","full":"gitlab-org/gitlab#216055"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":33922502,"iid":216052,"project_id":278964,"title":"Move IDE specs to Vue test-utils","description":"## Description\n\nSome of the unit tests in the `ide` folder are still using the deprecated mount helpers. Let's update these to `@vue/test-utils`.\n\n- [ ] `spec/frontend/ide/components/new_dropdown/modal_spec.js`\n- [ ] `spec/frontend/ide/components/new_dropdown/index_spec.js`\n\n## Context\n\nThe following discussion from !30398 should be addressed:\n\n- [ ] @wortschi started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/30398#note_332663492): \n\n    \u003e **Suggestion:** Should we create a follow-up task for introducing VTU in this spec file?","state":"closed","created_at":"2020-04-28T20:03:04.802Z","updated_at":"2020-06-05T08:34:21.817Z","closed_at":"2020-06-05T08:34:21.412Z","closed_by":{"id":2398164,"username":"himkp","name":"Himanshu Kapoor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2398164/avatar.png","web_url":"https://gitlab.com/himkp"},"labels":["[deprecated] Accepting merge requests","backstage [DEPRECATED]","devops::create","frontend","group::editor","test"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":2233420,"username":"pslaughter","name":"Paul Slaughter","state":"active","avatar_url":"https://secure.gravatar.com/avatar/631b25421eb206ab44cb2793ef09d881?s=80\u0026d=identicon","web_url":"https://gitlab.com/pslaughter"},"type":"ISSUE","assignee":null,"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/216052","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/216052","notes":"https://gitlab.com/api/v4/projects/278964/issues/216052/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/216052/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":"https://gitlab.com/api/v4/projects/278964/issues/220444"},"references":{"short":"#216052","relative":"#216052","full":"gitlab-org/gitlab#216052"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2445,"epic":{"id":17889,"iid":2445,"title":"Convert Jest specs to use @vue/test-utils","url":"/groups/gitlab-org/-/epics/2445","group_id":9970,"human_readable_end_date":"Feb 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":33922450,"iid":216051,"project_id":278964,"title":"Update CODEOWNERS documentation RE sections","description":"As part of #12137 we will need to update the documentation for CODEOWNERS, including new information about how sections work.","state":"closed","created_at":"2020-04-28T20:02:41.903Z","updated_at":"2021-10-28T14:11:30.588Z","closed_at":"2020-07-16T11:58:54.462Z","closed_by":{"id":236961,"username":"marcia","name":"Marcia Ramos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/236961/avatar.png","web_url":"https://gitlab.com/marcia"},"labels":["Code Owners","Deliverable","backend","devops::create","documentation","group::source code","missed-deliverable","missed:13.1","type::maintenance","workflow::in review"],"milestone":{"id":1233746,"iid":49,"group_id":9970,"title":"13.2","description":"https://about.gitlab.com/releases/2020/07/22/gitlab-13-2-released/","state":"closed","created_at":"2020-04-09T17:28:01.032Z","updated_at":"2022-04-13T14:48:24.167Z","due_date":"2020-07-17","start_date":"2020-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/49"},"assignees":[{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"}],"author":{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"},"type":"ISSUE","assignee":{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"},"user_notes_count":3,"merge_requests_count":1,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/216051","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/216051","notes":"https://gitlab.com/api/v4/projects/278964/issues/216051/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/216051/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#216051","relative":"#216051","full":"gitlab-org/gitlab#216051"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3593,"epic":{"id":68775,"iid":3593,"title":"Sectional CODEOWNERS","url":"/groups/gitlab-org/-/epics/3593","group_id":9970,"human_readable_end_date":"Mar 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":33920493,"iid":216048,"project_id":278964,"title":"Misleading message displays when MR request is first submitted","description":"## Problem to solve\n\nAfter submitting an MR, the page temporarily displays the following message until the pipeline begins running:\n\n![MR-message](/uploads/585a7162c6ca7c089b20c33125dcb329/MR-message.jpg)\n\nAfter the pipeline begins running, the merge button displays as expected.\n\nThis interaction is disorienting, because there are no items to resolve and it causes the user to believe that there is action to be taken when there is not.\n\n## Possible Solutions\n\n* Don't display a message at all, since the interim state persists for a short time. Just load the merge widget when it's available.\n* Update the message to accurately reflect that the MR is waiting for the pipeline to begin running.\n\nThe current short term solution is to create a message that is less misleading. There is an open MR: https://gitlab.com/gitlab-org/gitlab/-/merge_requests/34958 and so far, the message would be: A CI/CD pipeline must run and be successful before merge. (?)  where the ? leads to the documentation on Pipelines must succeed this would be less confusing to user.\n\nThe second step will be to add a loading state to this widget. Because we cannot determine if a pipeline is being created or if there is just no pipeline, we can add a loading time of X amount (say 1 minute) where we tell our user we are checking status of their pipeline. If it get created under the required time, they see the normal pipeline widget (so they skipped the error message altogether). If it doesn't, they see the new message A CI/CD pipeline must run and be successful before merge. (?) .\n\nThe long term solution would be more in line with exposing more data to the FE about the current state of the project so that we can give meaningful, accurate message for all states, but this is far off in time due to complexity on the API side.\n\n\n## Proposal\n\nBecause the problem to solve is a scenario when a pipeline exists and there is a brief delay until it starts running, the proposed remedy is to **replace** the existing misleading message `You can only merge once the items above are resolved` with a generic message to prevent the perception of a error that requires further action.\n\nPossible copy for generic message:\n- Waiting for pipeline to start...\n- Checking ability to merge automatically...\n\n\n\u003cdetails\u003e\n   \u003csummary markdown=\"span\"\u003eExpand here for previous Proposal which is de-scoped from this issue and deferred to later iteration in https://gitlab.com/gitlab-org/gitlab/-/issues/225609\u003c/summary\u003e\n\nDisplay a specific message near the “Merge” button if the [Pipelines must succeed](https://docs.gitlab.com/ee/user/project/merge_requests/merge_when_pipeline_succeeds.html#only-allow-merge-requests-to-be-merged-if-the-pipeline-succeeds) merge check is enabled.\n\n| On page load | “Pipelines must succeed” enabled and pipeline hasn't started or finished | “Pipelines must succeed” enabled and pipeline has failed | “Pipelines must succeed” disabled |\n|---|---|---|---|\n| ![image](/uploads/c0280d48d9ffc20a9b0ba1819c85f34a/image.png) | Show **Merge When Pipeline Succeeds** button enabled. | Per the [documentation](https://docs.gitlab.com/ee/user/project/merge_requests/merge_when_pipeline_succeeds.html#only-allow-merge-requests-to-be-merged-if-the-pipeline-succeeds), we already show this [state](https://docs.gitlab.com/ee/user/project/merge_requests/img/merge_when_pipeline_succeeds_only_if_succeeds_msg.png). | Merge button should be enabled regardless of pipeline status, but we need to check whether that’s the case today. |\n\u003c/details\u003e\n\n## Additional context\n\nThis is happening on every single MR and it happens because we have the option Pipelines Must succeed turned on, and the pipeline for the MR is not yet processed.  When the MR is created, this goes back to normal.\nSome time after this issue was created, we had worked on improving a different state: when a user had Pipeline Must Succeed turned on, but was using no internal or external CI. The message was too generic, so we added a message for that state which said: Pipelines must succeed for merge requests to be eligible to merge. Please enable pipelines for this project to continue. For more information, see the documentation.\nThis message was supposed to only appear when a user had no CI config, but we realized afterwards that if an MR has no pipeline, even if there is a CI configuration, we cannot make the difference which mean that currently, this is the message people are seeing when creating a MR on gitlab.com.","state":"closed","created_at":"2020-04-28T19:49:18.433Z","updated_at":"2021-11-24T00:23:17.647Z","closed_at":"2020-07-16T23:25:33.036Z","closed_by":{"id":5327378,"username":"f_caplette","name":"Frédéric Caplette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5327378/avatar.png","web_url":"https://gitlab.com/f_caplette"},"labels":["CEO Interest","Category:Source Code Management","MR-Improvements","UX","backend","devops::verify","frontend","group::pipeline execution","merge request widget","merge requests","needs weight","priority::1","severity::2","type::bug","workflow::production"],"milestone":{"id":1233746,"iid":49,"group_id":9970,"title":"13.2","description":"https://about.gitlab.com/releases/2020/07/22/gitlab-13-2-released/","state":"closed","created_at":"2020-04-09T17:28:01.032Z","updated_at":"2022-04-13T14:48:24.167Z","due_date":"2020-07-17","start_date":"2020-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/49"},"assignees":[{"id":5327378,"username":"f_caplette","name":"Frédéric Caplette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5327378/avatar.png","web_url":"https://gitlab.com/f_caplette"}],"author":{"id":3473743,"username":"clenneville","name":"Christie Lenneville","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3473743/avatar.png","web_url":"https://gitlab.com/clenneville"},"type":"ISSUE","assignee":{"id":5327378,"username":"f_caplette","name":"Frédéric Caplette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5327378/avatar.png","web_url":"https://gitlab.com/f_caplette"},"user_notes_count":75,"merge_requests_count":0,"upvotes":3,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/216048","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/216048","notes":"https://gitlab.com/api/v4/projects/278964/issues/216048/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/216048/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#216048","relative":"#216048","full":"gitlab-org/gitlab#216048"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3776,"epic":{"id":75116,"iid":3776,"title":"Merge Request Constancy","url":"/groups/gitlab-org/-/epics/3776","group_id":9970,"human_readable_end_date":"Nov 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":33919624,"iid":216045,"project_id":278964,"title":"To-Do: Capture resolution mechanism","description":"### Problem to solve\n\nGitLab does not know much about how users interact with Todos.  Specifically, we do not know how Todos are entering a \"resolved\" state (currently `done`, but could also mean `dismissed` after Issue #215046 has been executed).\n\n### Proposal\n\nSave the type of resolution mechanism to the Todo record as `resolved_by_action` with these options:\n\n- api-all-done (triggered by [API mark all todos as done](https://docs.gitlab.com/ee/api/todos.html#mark-all-todos-as-done))\n- api-done (triggered by [API mark a todo as done](https://docs.gitlab.com/ee/api/todos.html#mark-a-todo-as-done))\n- mark-all-done (triggered by the \"Done\" button on the [To-Do List](https://gitlab.com/dashboard/todos))\n- mark-done (triggered by the \"Mark all as done\" button on the [To-Do List](https://gitlab.com/dashboard/todos))\n- system-done (triggered by any automatic/system action to mark a Todo as \"done\")\n- close-all (only if [the \"closed\" state has been introduced](https://gitlab.com/gitlab-org/gitlab/-/issues/217970); triggered by the button to \"Close all\" on the [To-Do List](https://gitlab.com/dashboard/todos))\n\nNote: `resolved_by_action` should always be blank for Todos in a \"pending\" state, so if a user clicks any \"Undo\" button the `resolved_by_action` should be reverted to nil.\n\n### Out of scope\n\n- No backfill migration for resolved Todos should be introduced under this issue, because 1) it would be burdensome and 2) we don't know if users historically interpreted \"done\" as \"complete\" or \"dismiss\".\n- No new resolution actions or states will be introduced under this issue\n- This new attribute should not be exposed in the API, because it is for internal research only.\n\n### Links / references\n\n- This issue was spun out of [To-Do API: Distinguish which action resulted in the resolution](https://gitlab.com/gitlab-org/gitlab/-/issues/215046).","state":"closed","created_at":"2020-04-28T19:35:11.141Z","updated_at":"2020-06-02T21:32:49.441Z","closed_at":"2020-05-28T16:00:40.259Z","closed_by":{"id":15139,"username":"rspeicher","name":"Robert Speicher","state":"active","avatar_url":"https://secure.gravatar.com/avatar/73c8253932541a7b5cbc5d79493f2bea?s=80\u0026d=identicon","web_url":"https://gitlab.com/rspeicher"},"labels":["backend","backstage [DEPRECATED]","devops::manage","group::optimize","priority::3","type::feature","workflow::in review"],"milestone":{"id":1112145,"iid":47,"group_id":9970,"title":"13.1","description":"","state":"closed","created_at":"2020-01-03T12:28:30.160Z","updated_at":"2020-10-08T12:01:07.361Z","due_date":"2020-06-17","start_date":"2020-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/47"},"assignees":[{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"}],"author":{"id":4512390,"username":"djensen","name":"Dan Jensen","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4512390/avatar.png","web_url":"https://gitlab.com/djensen"},"type":"ISSUE","assignee":{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"},"user_notes_count":17,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/216045","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/216045","notes":"https://gitlab.com/api/v4/projects/278964/issues/216045/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/216045/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#216045","relative":"#216045","full":"gitlab-org/gitlab#216045"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3061,"epic":{"id":40510,"iid":3061,"title":"Inbox Analytics","url":"/groups/gitlab-org/-/epics/3061","group_id":9970,"human_readable_end_date":"Jun 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":33918713,"iid":216043,"project_id":278964,"title":"Add scanner name, version and URL to the issue and MR feedback descriptions","description":"### Problem to solve\n\nAdd scanner name, version and URL to the issue and MR feedback descriptions, when create issue or MR from vulnerability feedback.\n\n### Intended users\n\n\u003c!-- Who will use this feature? If known, include any of the following: types of users (e.g. Developer), personas, or specific company roles (e.g. Release Manager). It's okay to write \"Unknown\" and fill this field in later.\n\nPersonas are described at https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/\n\n* [Rachel (Release Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#rachel-release-manager)\n* [Parker (Product Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#parker-product-manager)\n* [Delaney (Development Team Lead)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#delaney-development-team-lead)\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Presley (Product Designer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#presley-product-designer)\n* [Devon (DevOps Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#devon-devops-engineer)\n* [Sidney (Systems Administrator)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sidney-systems-administrator)\n* [Sam (Security Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sam-security-analyst)\n* [Dana (Data Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#dana-data-analyst)\n* [Simone (Software Engineer in Test)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#simone-software-engineer-in-test)\n* [Allison (Application Ops)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#allison-application-ops) --\u003e\n\n### Further details\n\n\u003c!-- Include use cases, benefits, goals, or any other details that will help us understand the problem better. --\u003e\n\n### Proposal\n\nTODO: follow the proposal and the implementation plan from https://gitlab.com/gitlab-org/gitlab/-/issues/196979 and update accordingly to provide that information to the issue and MR descriptions we use when creating these feedback items.\n\nWhen creating an issue or an MR from a finding, we fill their description with data from the vulnerability. This issue is about enriching these descriptions with the new data available.\n\nThese are the templates to update:\n\n* https://gitlab.com/gitlab-org/gitlab/blob/master/ee/app/views/vulnerabilities/issue_description.md.erb\n* https://gitlab.com/gitlab-org/gitlab/blob/master/ee/app/views/vulnerabilities/merge_request_description.md.erb\n\n### Permissions and Security\n\n\u003c!-- What permissions are required to perform the described actions? Are they consistent with the existing permissions as documented for users, groups, and projects as appropriate? Is the proposed behavior consistent between the UI, API, and other access methods (e.g. email replies)?--\u003e\n\n### Documentation\n\n\u003c!-- See the Feature Change Documentation Workflow https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html\n\n* Add all known Documentation Requirements in this section. See https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html#documentation-requirements\n* If this feature requires changing permissions, update the permissions document. See https://docs.gitlab.com/ee/user/permissions.html --\u003e\n\n### Availability \u0026 Testing\n\n\u003c!-- This section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\nWhat risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning --\u003e\n\n### What does success look like, and how can we measure that?\n\n\u003c!-- Define both the success metrics and acceptance criteria. Note that success metrics indicate the desired business outcomes, while acceptance criteria indicate when the solution is working correctly. If there is no way to measure success, link to an issue that will implement a way to measure this. --\u003e\n\n## Implementation plan (should be started after https://gitlab.com/gitlab-org/gitlab/-/issues/215178)\n\n* [x] Allow `Projects::VulnerabilityFeedbackController` accept new information (param permits) \n* [x] Pass it to `VulnerabilityFeedback::CreateService`, `Issues::CreateFromVulnerabilityDataService`, `Issues::CreateFromVulnerabilityDataService`,   `MergeRequests::CreateFromVulnerabilityDataService`\n* [x] Pass it to [issue_description.erb](https://gitlab.com/gitlab-org/gitlab/blob/master/ee/app/views/vulnerabilities/issue_description.md.erb) and  [merge_request_description.md.erb](https://gitlab.com/gitlab-org/gitlab/blob/master/ee/app/views/vulnerabilities/merge_request_description.md.erb)\n\n### What is the type of buyer?\n\n\u003c!-- What is the buyer persona for this feature? See https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/buyer-persona/\nIn which enterprise tier should this feature go? See https://about.gitlab.com/handbook/product/pricing/#four-tiers --\u003e\n\n### Is this a cross-stage feature?\n\nThis is a follow up from ~\"devops::secure\" work that now impacts ~\"devops::defend\" (~\"group::threat insights\").\n\n\n### Links / references","state":"closed","created_at":"2020-04-28T18:59:18.577Z","updated_at":"2020-10-18T07:10:43.035Z","closed_at":"2020-10-14T10:29:30.443Z","closed_by":{"id":3696420,"username":"caneldem","name":"Can Eldem","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3696420/avatar.png","web_url":"https://gitlab.com/caneldem"},"labels":["Category:Container Scanning","Category:DAST","Category:Dependency Scanning","Category:SAST","Deliverable","Enterprise Edition","GitLab Ultimate","backend","devops::secure","group::composition analysis","section::sec","type::feature","workflow::in dev"],"milestone":{"id":1233754,"iid":52,"group_id":9970,"title":"13.5","description":"https://about.gitlab.com/releases/2020/10/22/gitlab-13-5-released/","state":"closed","created_at":"2020-04-09T17:39:21.990Z","updated_at":"2022-04-21T07:21:12.213Z","due_date":"2020-10-17","start_date":"2020-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/52"},"assignees":[{"id":3696420,"username":"caneldem","name":"Can Eldem","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3696420/avatar.png","web_url":"https://gitlab.com/caneldem"}],"author":{"id":52092,"username":"gonzoyumo","name":"Olivier Gonzalez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/651e0ff81c3995a05269f7c80895fe89?s=80\u0026d=identicon","web_url":"https://gitlab.com/gonzoyumo"},"type":"ISSUE","assignee":{"id":3696420,"username":"caneldem","name":"Can Eldem","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3696420/avatar.png","web_url":"https://gitlab.com/caneldem"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/216043","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":3},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"3 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/216043","notes":"https://gitlab.com/api/v4/projects/278964/issues/216043/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/216043/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#216043","relative":"#216043","full":"gitlab-org/gitlab#216043"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3176,"epic":{"id":46936,"iid":3176,"title":"Add scanner name, version and URL to findings and vulnerabilities","url":"/groups/gitlab-org/-/epics/3176","group_id":9970,"human_readable_end_date":"Oct 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":33918046,"iid":216040,"project_id":278964,"title":"Update `SafeLink` component to use `GlLink`","description":"Let's update https://gitlab.com/gitlab-org/gitlab/-/blob/master/ee/app/assets/javascripts/vue_shared/components/safe_link.vue to use `GlLink`. This way we don't have to rely on engineers remembering to pass `noreferrer noopener` for security but can leverage the fact that our component already does.","state":"closed","created_at":"2020-04-28T18:36:53.049Z","updated_at":"2020-06-19T07:35:27.146Z","closed_at":"2020-06-19T06:55:22.574Z","closed_by":{"id":411701,"username":"kushalpandya","name":"Kushal Pandya","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/411701/avatar.png","web_url":"https://gitlab.com/kushalpandya"},"labels":["Deliverable","backstage [DEPRECATED]","devops::secure","frontend","maintenance::refactor","workflow::in review"],"milestone":{"id":1112145,"iid":47,"group_id":9970,"title":"13.1","description":"","state":"closed","created_at":"2020-01-03T12:28:30.160Z","updated_at":"2020-10-08T12:01:07.361Z","due_date":"2020-06-17","start_date":"2020-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/47"},"assignees":[{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"}],"author":{"id":109884,"username":"sarahghp","name":"Sarah Groff Hennigh-Palermo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3b3a4be73ec22c01a87b77ddc2bb6f7d?s=80\u0026d=identicon","web_url":"https://gitlab.com/sarahghp"},"type":"ISSUE","assignee":{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"},"user_notes_count":7,"merge_requests_count":1,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/216040","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/216040","notes":"https://gitlab.com/api/v4/projects/278964/issues/216040/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/216040/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#216040","relative":"#216040","full":"gitlab-org/gitlab#216040"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":"on_track"},{"id":33915633,"iid":216035,"project_id":278964,"title":"Snippet clone copy buttons are off center","description":"### Problem to solve\n\nThe copy buttons in the `clone` dropdown in Snippets are off center:\n\n![Screenshot_2020-04-28_12.40.38](/uploads/abdc82d8fa92ac83e63cad9d892892c3/Screenshot_2020-04-28_12.40.38.png)\n\n### Proposal\n\nThese should be updated with the correct spacing in the area.","state":"closed","created_at":"2020-04-28T17:42:13.623Z","updated_at":"2020-05-18T07:08:00.276Z","closed_at":"2020-05-08T08:47:24.712Z","closed_by":{"id":3199302,"username":"dmishunov","name":"Denys Mishunov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d85e45af29611ac2c1395e3c3d6ec5d6?s=80\u0026d=identicon","web_url":"https://gitlab.com/dmishunov"},"labels":["Category:Snippets","Deliverable","UX","devops::create","frontend","group::editor","type::bug"],"milestone":{"id":991112,"iid":42,"group_id":9970,"title":"13.0","description":"","state":"closed","created_at":"2019-09-04T15:20:39.024Z","updated_at":"2020-10-08T12:00:55.725Z","due_date":"2020-05-17","start_date":"2020-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/42"},"assignees":[{"id":3199302,"username":"dmishunov","name":"Denys Mishunov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d85e45af29611ac2c1395e3c3d6ec5d6?s=80\u0026d=identicon","web_url":"https://gitlab.com/dmishunov"}],"author":{"id":2935693,"username":"phikai","name":"Kai Armstrong","state":"active","avatar_url":"https://secure.gravatar.com/avatar/2c5d6a63b41cbeb3ea4cccda82e758e1?s=80\u0026d=identicon","web_url":"https://gitlab.com/phikai"},"type":"ISSUE","assignee":{"id":3199302,"username":"dmishunov","name":"Denys Mishunov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d85e45af29611ac2c1395e3c3d6ec5d6?s=80\u0026d=identicon","web_url":"https://gitlab.com/dmishunov"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/216035","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/216035","notes":"https://gitlab.com/api/v4/projects/278964/issues/216035/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/216035/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#216035","relative":"#216035","full":"gitlab-org/gitlab#216035"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":33914414,"iid":216031,"project_id":278964,"title":"Show accurate error message when: pipelines disabled, MR must succeed option is on and external pipelines are disabled","description":"This is the first step towards fixing the Epic https://gitlab.com/gitlab-org/gitlab/-/issues/12686 to show accurate messages when MR button is disabled. This specific issue should not focus on the problem as a whole, but a very specific instance where the settings are simply invalid and we give no help to users.\n\n* Pipelines are disabled\n* MR pipeline must succeed is turned on\n* No external CI is setup\n\nThis correspond to option C in the EPIC:\n\n**C.** Pipelines are disabled and there is no pipeline information available for the commit (pipelines were not enabled or there was no ci configuration when the commit was created):\n\n* Settings -\u003e General -\u003e Merge Requests -\u003e Merge checks -\u003e \"Pipelines must succeed\" is **enabled**\n* Settings -\u003e General -\u003e Visibility, project features, permissions -\u003e \"Pipelines\" is **disabled**\n* Pipeline information is generally not shown anymore except in merge requests where it is required to succeed.\n* Pipeline section of merge request widget states: `No pipeline was run for this commit.`\n* The merge section of the merge request widget states: `Pipelines must succeed for merge requests to be eligible to merge. Please enable pipelines for this project to continue. For more information, see the documentation.`","state":"closed","created_at":"2020-04-28T17:08:20.964Z","updated_at":"2021-02-19T09:42:32.902Z","closed_at":"2020-05-25T20:55:10.025Z","closed_by":{"id":5327378,"username":"f_caplette","name":"Frédéric Caplette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5327378/avatar.png","web_url":"https://gitlab.com/f_caplette"},"labels":["Category:Continuous Integration","UX","devops::verify","frontend","group::pipeline execution","pipeline","priority::2","severity::2","type::bug"],"milestone":{"id":1112145,"iid":47,"group_id":9970,"title":"13.1","description":"","state":"closed","created_at":"2020-01-03T12:28:30.160Z","updated_at":"2020-10-08T12:01:07.361Z","due_date":"2020-06-17","start_date":"2020-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/47"},"assignees":[{"id":5327378,"username":"f_caplette","name":"Frédéric Caplette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5327378/avatar.png","web_url":"https://gitlab.com/f_caplette"}],"author":{"id":5327378,"username":"f_caplette","name":"Frédéric Caplette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5327378/avatar.png","web_url":"https://gitlab.com/f_caplette"},"type":"ISSUE","assignee":{"id":5327378,"username":"f_caplette","name":"Frédéric Caplette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5327378/avatar.png","web_url":"https://gitlab.com/f_caplette"},"user_notes_count":18,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/216031","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/216031","notes":"https://gitlab.com/api/v4/projects/278964/issues/216031/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/216031/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#216031","relative":"#216031","full":"gitlab-org/gitlab#216031"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3288,"epic":{"id":53017,"iid":3288,"title":"Merge button disabled without clear explanation | Merge blocked by \"Pipelines must succeed\" option","url":"/groups/gitlab-org/-/epics/3288","group_id":9970,"human_readable_end_date":"Jun 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":33908625,"iid":216015,"project_id":278964,"title":"UX: Display banner warning admin when the licensed user count has been exceeded","description":"NOTE: This is the UX Design issue for https://gitlab.com/gitlab-org/gitlab/-/issues/215959","state":"closed","created_at":"2020-04-28T15:00:14.945Z","updated_at":"2020-05-20T18:15:53.152Z","closed_at":"2020-05-07T16:00:09.492Z","closed_by":{"id":4377833,"username":"esybrant","name":"Emily Sybrant","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4377833/avatar.png","web_url":"https://gitlab.com/esybrant"},"labels":["DEPRECATED Growth-Deliverable","UX","[DEPRECATED] UX: Transparent Billing and Renewal","devops::fulfillment","devops::growth","link::child issue"],"milestone":{"id":991112,"iid":42,"group_id":9970,"title":"13.0","description":"","state":"closed","created_at":"2019-09-04T15:20:39.024Z","updated_at":"2020-10-08T12:00:55.725Z","due_date":"2020-05-17","start_date":"2020-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/42"},"assignees":[{"id":4377833,"username":"esybrant","name":"Emily Sybrant","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4377833/avatar.png","web_url":"https://gitlab.com/esybrant"}],"author":{"id":2890431,"username":"amandarueda","name":"Amanda Rueda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2890431/avatar.png","web_url":"https://gitlab.com/amandarueda"},"type":"ISSUE","assignee":{"id":4377833,"username":"esybrant","name":"Emily Sybrant","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4377833/avatar.png","web_url":"https://gitlab.com/esybrant"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2020-05-05","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/216015","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/216015","notes":"https://gitlab.com/api/v4/projects/278964/issues/216015/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/216015/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#216015","relative":"#216015","full":"gitlab-org/gitlab#216015"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":33907741,"iid":216014,"project_id":278964,"title":"Wiki events should be created by git-access pushes","description":"\u003c!-- The first three sections: \"Problem to solve\", \"Intended users\" and \"Proposal\", are strongly recommended, while the rest of the sections can be filled out during the problem validation or breakdown phase. However, keep in mind that providing complete and relevant information early helps our product team validate the problem and start working on a solution. --\u003e\n\n### Problem to solve\n\nWiki events should be created by pushes to wiki repos\n\n### Intended users\n\nAny user who edits a wiki locally and pushes changes with Git.\n\n### Further details\n\nThis is aimed at making user contributions more visible, supporting all preferred workflows.\n\n### Proposal\n\nThis adds behavior into the post-push event handler that records changes for all edited (created/modified or deleted) wiki pages.\n\n### Documentation\n\nThis does not require any user changes.\n\n### Feature flags\n\nThis feature is guarded behind the `:wiki_events_on_git_push` ~\"feature flag\" \n\n### Availability \u0026 Testing\n\nTests are needed that simulate the behavior of editing a wiki using the git-access protocol.\n\n### What does success look like, and how can we measure that?\n\nA user's contributions will be visible on the project activity stream following a git push to the wiki.","state":"closed","created_at":"2020-04-28T14:44:18.344Z","updated_at":"2021-04-24T10:03:21.331Z","closed_at":"2020-06-02T21:37:28.554Z","closed_by":{"id":3614858,"username":"alexkalderimis","name":"Alex Kalderimis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3614858/avatar.png","web_url":"https://gitlab.com/alexkalderimis"},"labels":["Category:Wiki","backend","devops::create","group::editor","missed:13.0","type::feature","workflow::production"],"milestone":{"id":1112145,"iid":47,"group_id":9970,"title":"13.1","description":"","state":"closed","created_at":"2020-01-03T12:28:30.160Z","updated_at":"2020-10-08T12:01:07.361Z","due_date":"2020-06-17","start_date":"2020-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/47"},"assignees":[{"id":3614858,"username":"alexkalderimis","name":"Alex Kalderimis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3614858/avatar.png","web_url":"https://gitlab.com/alexkalderimis"}],"author":{"id":3614858,"username":"alexkalderimis","name":"Alex Kalderimis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3614858/avatar.png","web_url":"https://gitlab.com/alexkalderimis"},"type":"ISSUE","assignee":{"id":3614858,"username":"alexkalderimis","name":"Alex Kalderimis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3614858/avatar.png","web_url":"https://gitlab.com/alexkalderimis"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/216014","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/216014","notes":"https://gitlab.com/api/v4/projects/278964/issues/216014/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/216014/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#216014","relative":"#216014","full":"gitlab-org/gitlab#216014"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3192,"epic":{"id":47998,"iid":3192,"title":"Uncoupling wiki page slugs, filename and title","url":"/groups/gitlab-org/-/epics/3192","group_id":9970},"iteration":null,"health_status":null},{"id":33905391,"iid":216010,"project_id":278964,"title":"Render custom emoji in Banzai","description":"### Problem to solve\n\nThis is part of https://gitlab.com/groups/gitlab-org/-/epics/1820 and https://gitlab.com/groups/gitlab-org/-/epics/3966.\n\nTo support custom emoji, we need to make it possible to render them in GitLab Flavored Markdown text. At the moment `:fox:` will be rendered as :fox:, so the text gets replaced by it's associated multi-color image, aka emoji.\n\n### Further details\n\nAll the GitLab Flavored Markdown is being processed in Banzai. And for emoji in particular in [`lib/banzai/filter/emoji_filter.rb`](https://gitlab.com/gitlab-org/gitlab/blob/master/lib/banzai/filter/emoji_filter.rb). This filter should be changed so it recognizes custom emoji as well and it replaces them will the associated image.\n\nIt's important to consider the use case of graceful degradation to a text representation, if possible. Since custom emoji will use actual images, so we should at least set the `alt` for these images.\n\n### Documentation\n\n\u003c!-- See the Feature Change Documentation Workflow https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html\n\n* Add all known Documentation Requirements in this section. See https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html#documentation-requirements\n* If this feature requires changing permissions, update the permissions document. See https://docs.gitlab.com/ee/user/permissions.html --\u003e\n\nNecessary to update technical docs for better understanding of how to use it.\n\n### Availability \u0026 Testing\n\n\u003c!-- This section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\nWhat risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning --\u003e\n\n### What does success look like, and how can we measure that?\n\n\u003c!-- Define both the success metrics and acceptance criteria. Note that success metrics indicate the desired business outcomes, while acceptance criteria indicate when the solution is working correctly. If there is no way to measure success, link to an issue that will implement a way to measure this. --\u003e\n\n### What is the type of buyer?\n\n\u003c!-- What is the buyer persona for this feature? See https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/buyer-persona/\nIn which enterprise tier should this feature go? See https://about.gitlab.com/handbook/product/pricing/#four-tiers --\u003e\n\n### Is this a cross-stage feature?\n\n\u003c!-- Communicate if this change will affect multiple Stage Groups or product areas. We recommend always start with the assumption that a feature request will have an impact into another Group. Loop in the most relevant PM and Product Designer from that Group to provide strategic support to help align the Group's broader plan and vision, as well as to avoid UX and technical debt. https://about.gitlab.com/handbook/product/#cross-stage-features --\u003e\n\n### Links / references","state":"closed","created_at":"2020-04-28T13:59:55.050Z","updated_at":"2022-03-11T16:09:14.581Z","closed_at":"2021-02-25T08:17:40.666Z","closed_by":{"id":660180,"username":"toon","name":"Toon Claes","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/660180/avatar.png","web_url":"https://gitlab.com/toon"},"labels":["Community contribution","award emoji","backend","devops::plan","emoji","group::project management","section::dev","type::feature"],"milestone":{"id":1233760,"iid":56,"group_id":9970,"title":"13.9","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.334Z","updated_at":"2022-04-21T07:21:28.468Z","due_date":"2021-02-17","start_date":"2021-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/56"},"assignees":[{"id":756755,"username":"raju249","name":"Rajendra Kadam","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/756755/avatar.png","web_url":"https://gitlab.com/raju249"}],"author":{"id":853414,"username":"andr3","name":"André Luís","state":"active","avatar_url":"https://secure.gravatar.com/avatar/241e39726efb512a29621070ccf26a90?s=80\u0026d=identicon","web_url":"https://gitlab.com/andr3"},"type":"ISSUE","assignee":{"id":756755,"username":"raju249","name":"Rajendra Kadam","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/756755/avatar.png","web_url":"https://gitlab.com/raju249"},"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/216010","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/216010","notes":"https://gitlab.com/api/v4/projects/278964/issues/216010/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/216010/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#216010","relative":"#216010","full":"gitlab-org/gitlab#216010"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3966,"epic":{"id":83424,"iid":3966,"title":"Custom emoji backend-only driven MVP","url":"/groups/gitlab-org/-/epics/3966","group_id":9970,"human_readable_end_date":"Mar 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":33905168,"iid":216009,"project_id":278964,"title":"Error handling when importing wikis from Bitbucket","description":"### Background\n\nThe following discussion from !30169 should be addressed:\n\n- [ ] @iroussos started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/30169#note_330366438):  (+2 comments)\n\n    \u003e Not directly related to this update, but it may be worth checking:\n    \u003e \n    \u003e If we are creating an empty wiki in the `GithubImport::Importer::RepositoryImporter` when `project.wiki.repository.import_repository` fails, why don't we do the same in `BitbucketImport::Importer`?\n    \u003e \n    \u003e https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/gitlab/bitbucket_import/importer.rb#L83\n\n### Proposal\n\nIn [`Gitlab::BitbucketImport::Importer#import_wiki`](https://gitlab.com/gitlab-org/gitlab/blob/aad68a0d813b16aed923086d00eb5e4556c171ba/lib/gitlab/bitbucket_import/importer.rb#L78), catch Git errors and create an empty wiki instead, as we do in [`Gitlab::GithubImport::Importer::RepositoryImporter#import_wiki_repository`](https://gitlab.com/gitlab-org/gitlab/blob/aad68a0d813b16aed923086d00eb5e4556c171ba/lib/gitlab/github_import/importer/repository_importer.rb#L72).","state":"closed","created_at":"2020-04-28T13:54:40.653Z","updated_at":"2022-07-18T03:03:30.116Z","closed_at":"2022-07-18T03:03:30.094Z","closed_by":{"id":1786152,"username":"gitlab-bot","name":"🤖 GitLab Bot 🤖","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1786152/avatar.png","web_url":"https://gitlab.com/gitlab-bot"},"labels":["Category:Importers","Category:Wiki","auto closed","devops::create","group::editor","maintenance::refactor","priority::3","section::dev","severity::4","stale","type::bug","vintage","workflow::planning breakdown"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":423116,"username":"toupeira","name":"Markus Koller","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7585ed50675c4febe7619f25b44f7fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/toupeira"},"type":"ISSUE","assignee":null,"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/216009","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/216009","notes":"https://gitlab.com/api/v4/projects/278964/issues/216009/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/216009/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#216009","relative":"#216009","full":"gitlab-org/gitlab#216009"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3337,"epic":{"id":55209,"iid":3337,"title":"[EPIC] Import wiki from various sources","url":"/groups/gitlab-org/-/epics/3337","group_id":9970},"iteration":null,"health_status":null},{"id":33904384,"iid":216008,"project_id":278964,"title":"Auto Deploy to EC2","description":"### Problem to solve\n\n\u003c!-- What problem do we solve? --\u003e\n\nAfter we deliver https://gitlab.com/gitlab-org/gitlab/-/issues/201742, it would make it easier for us to apply this template for users deploying to AWS from the autoDevOps Flow.\n\n### Intended users\n\n\u003c!-- Who will use this feature? If known, include any of the following: types of users (e.g. Developer), personas, or specific company roles (e.g. Release Manager). It's okay to write \"Unknown\" and fill this field in later.\n\n* [Rachel (Release Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#rachel-release-manager)\n* [Parker (Product Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#parker-product-manager)\n* [Delaney (Development Team Lead)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#delaney-development-team-lead)\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Presley (Product Designer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#presley-product-designer)\n* [Devon (DevOps Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#devon-devops-engineer)\n* [Sidney (Systems Administrator)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sidney-systems-administrator)\n* [Sam (Security Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sam-security-analyst)\n* [Dana (Data Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#dana-data-analyst)\n\nPersonas are described at https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/ --\u003e\n\nUsers deploying to AWS EC2\n\n### Further details\n\n\u003c!-- Include use cases, benefits, and/or goals (contributes to our vision?) --\u003e\n\nBased on https://gitlab.com/gitlab-org/gitlab/-/issues/215136 a user will need to define EC2 as their deployment target so that AutoDeploy knows where to deploy to\n\n### Proposal\n\n\u003c!-- How are we going to solve the problem? Try to include the user journey! https://about.gitlab.com/handbook/journeys/#user-journey --\u003e\n\nIf a user has defined `EC2`as their launch type\n\nthen the [autoDeploy template](https://gitlab.com/gitlab-org/gitlab/issues/207962) will be initiated from autoDevOps\nthat will call the [EC2 template](https://gitlab.com/gitlab-org/gitlab/-/issues/201742)\n\nUse cases:\n\n* We need to make sure that if the user is using Kubernetes - Auto Deploy will initiate Deploy to Kubernetes template.\n* If a user is not using Kubernetes, and has \"ECS\" as the launch type defined auto Deploy will initiate the template as defined in https://gitlab.com/gitlab-org/gitlab/-/issues/208132\n* If a user is not using Kubernetes, and has \"EC2\" as the launch type defined auto Deploy will initiate the template as defined in https://gitlab.com/gitlab-org/gitlab/-/issues/201742\n* If a user is not using Kubernetes and not using AWS, both templates are skipped - a proper error should be shown *\"Missing Launch Type\"*\n* If a user is using Kubernetes and deploying to AWS - Only run the deploy Kubernetes template\n\n### Permissions and Security\n\n\u003c!-- What permissions are required to perform the described actions? Are they consistent with the existing permissions as documented for users, groups, and projects as appropriate? Is the proposed behavior consistent between the UI, API, and other access methods (e.g. email replies)?--\u003e\n\n### Documentation\n\n\u003c!-- See the Feature Change Documentation Workflow https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html\nAdd all known Documentation Requirements here, per https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html#documentation-requirements\nIf this feature requires changing permissions, this document https://docs.gitlab.com/ee/user/permissions.html must be updated accordingly. --\u003e\n\n### Availability \u0026 Testing\n\n\u003c!-- This section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\n What risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning --\u003e\n\n\n### What does success look like, and how can we measure that?\n\n\u003c!-- Define both the success metrics and acceptance criteria. Note that success metrics indicate the desired business outcomes, while acceptance criteria indicate when the solution is working correctly. If there is no way to measure success, link to an issue that will implement a way to measure this. --\u003e\n\n### What is the type of buyer?\n\n\u003c!-- Which leads to: in which enterprise tier should this feature go? See https://about.gitlab.com/handbook/product/pricing/#four-tiers --\u003e\n\n### Links / references","state":"closed","created_at":"2020-04-28T13:34:52.466Z","updated_at":"2021-01-21T11:26:52.054Z","closed_at":"2020-11-05T08:56:00.398Z","closed_by":{"id":4192493,"username":"ebaque","name":"Etienne Baqué","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4192493/avatar.png","web_url":"https://gitlab.com/ebaque"},"labels":["Alliances - AWS","Category:Continuous Delivery","Deliverable","Release::P1","UX","cicd::active","devops::release","direction","group::release","needs weight","release post item::in review","section::ops","type::feature","workflow::verification"],"milestone":{"id":1233755,"iid":53,"group_id":9970,"title":"13.6","description":"https://about.gitlab.com/releases/2020/11/22/gitlab-13-6-released/","state":"closed","created_at":"2020-04-09T17:39:22.328Z","updated_at":"2022-04-13T14:51:04.376Z","due_date":"2020-11-17","start_date":"2020-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/53"},"assignees":[{"id":4192493,"username":"ebaque","name":"Etienne Baqué","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4192493/avatar.png","web_url":"https://gitlab.com/ebaque"}],"author":{"id":4156460,"username":"ogolowinski","name":"Orit Golowinski","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4156460/avatar.png","web_url":"https://gitlab.com/ogolowinski"},"type":"ISSUE","assignee":{"id":4192493,"username":"ebaque","name":"Etienne Baqué","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4192493/avatar.png","web_url":"https://gitlab.com/ebaque"},"user_notes_count":28,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/216008","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/216008","notes":"https://gitlab.com/api/v4/projects/278964/issues/216008/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/216008/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#216008","relative":"#216008","full":"gitlab-org/gitlab#216008"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3897,"epic":{"id":80870,"iid":3897,"title":"Expand AutoDevops for AWS targets","url":"/groups/gitlab-org/-/epics/3897","group_id":9970,"human_readable_end_date":"Jul 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":33903763,"iid":216004,"project_id":278964,"title":"Allow admins to revoke PAT tokens via API","description":"\u003c!-- The first three sections: \"Problem to solve\", \"Intended users\" and \"Proposal\", are strongly recommended, while the rest of the sections can be filled out during the problem validation or breakdown phase. However, keep in mind that providing complete and relevant information early helps our product team validate the problem and start working on a solution. --\u003e\n\n### Problem to solve\n\n\u003c!-- What problem do we solve? Try to define the who/what/why of the opportunity as a user story. For example, \"As a (who), I want (what), so I can (why/value).\" --\u003e\n\nIn https://gitlab.com/gitlab-org/gitlab/-/issues/214811 we will implement a manual `Revoke` button inside the [credentials inventory](https://docs.gitlab.com/ee/user/admin_area/credentials_inventory.html) to enable `administrators` to revoke access tokens they know to be out of date.\n\nA manual `Revoke` button does not sufficiently support larger organizations that rely on GitLab's APIs to programmatically carry out many functions within the application. Further, there's no way for a compliance-minded organization to automatically enforce their credential rotation policy.\n\n### Intended users\n\n* [Sidney (Systems Administrator)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sidney-systems-administrator)\n* [Cameron (Compliance Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#cameron-compliance-manager)\n\n### Further details\n\n\u003c!-- Include use cases, benefits, goals, or any other details that will help us understand the problem better. --\u003e\n\nStriking a balance between disruptive workflows and what compliance-minded organizations require from GitLab is a challenge. With this issue, part of https://gitlab.com/groups/gitlab-org/-/epics/3084, I believe we can find that balance.\n\nThis implementation would allow for organizations to implement an enforcement policy for their users without GitLab building in native, programmatic enforcement that may not be desirable for all scenarios.\n\n### Proposal\n\n\u003c!-- How are we going to solve the problem? Try to include the user journey! https://about.gitlab.com/handbook/journeys/#user-journey --\u003e\n\nCreate an API endpoint, e.g. `/tokens`, that allows anyone who can revoke a particular PAT credential within the UI to do the following:\n\n* ~~Define PAT expiration duration (should update the setting within the `admin area`)~~\n* Revoke a single PAT from a single user\n* ~~Revoke all PATs from a single user~~\n\n*Note: Revoking all PATs from all users seems potentially too heavy-handed and may be unnecessary with a script to revoke all PATs from a single user*\n\n### Permissions and Security\n\n\u003c!-- What permissions are required to perform the described actions? Are they consistent with the existing permissions as documented for users, groups, and projects as appropriate? Is the proposed behavior consistent between the UI, API, and other access methods (e.g. email replies)?--\u003e\n\nOnly `administrators` or `users` who own the PAT credential should be able to use this feature via API.\n\n### Documentation\n\n\u003c!-- See the Feature Change Documentation Workflow https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html\n\n* Add all known Documentation Requirements in this section. See https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html#documentation-requirements\n* If this feature requires changing permissions, update the permissions document. See https://docs.gitlab.com/ee/user/permissions.html --\u003e\n\n### Availability \u0026 Testing\n\n\u003c!-- This section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\nWhat risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning --\u003e\n\n### What does success look like, and how can we measure that?\n\n\u003c!-- Define both the success metrics and acceptance criteria. Note that success metrics indicate the desired business outcomes, while acceptance criteria indicate when the solution is working correctly. If there is no way to measure success, link to an issue that will implement a way to measure this. --\u003e\n\n### What is the type of buyer?\n\n\u003c!-- What is the buyer persona for this feature? See https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/buyer-persona/\nIn which enterprise tier should this feature go? See https://about.gitlab.com/handbook/product/pricing/#four-tiers --\u003e\n\n### Is this a cross-stage feature?\n\n\u003c!-- Communicate if this change will affect multiple Stage Groups or product areas. We recommend always start with the assumption that a feature request will have an impact into another Group. Loop in the most relevant PM and Product Designer from that Group to provide strategic support to help align the Group's broader plan and vision, as well as to avoid UX and technical debt. https://about.gitlab.com/handbook/product/#cross-stage-features --\u003e\n\n### Links / references","state":"closed","created_at":"2020-04-28T13:21:06.894Z","updated_at":"2022-04-06T22:50:02.139Z","closed_at":"2020-08-18T13:42:58.464Z","closed_by":{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"},"labels":["Category:Compliance Management","Deliverable","Enterprise Edition","GitLab Ultimate","backend","devops::manage","group::authentication and authorization","priority::2","release post item::in review","type::feature","workflow::production"],"milestone":{"id":1233752,"iid":50,"group_id":9970,"title":"13.3","description":"https://about.gitlab.com/releases/2020/08/22/gitlab-13-3-released/","state":"closed","created_at":"2020-04-09T17:39:21.090Z","updated_at":"2022-04-13T14:50:18.976Z","due_date":"2020-08-17","start_date":"2020-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/50"},"assignees":[{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"}],"author":{"id":4748651,"username":"mattgonzales-gitlab","name":"Matt Gonzales (ex-GitLab)","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4748651/avatar.png","web_url":"https://gitlab.com/mattgonzales-gitlab"},"type":"ISSUE","assignee":{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"},"user_notes_count":22,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/216004","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/216004","notes":"https://gitlab.com/api/v4/projects/278964/issues/216004/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/216004/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#216004","relative":"#216004","full":"gitlab-org/gitlab#216004"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3084,"epic":{"id":42150,"iid":3084,"title":"Improve PAT \u0026 SSH credential inventory \u0026 management","url":"/groups/gitlab-org/-/epics/3084","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":"on_track"},{"id":33889288,"iid":215975,"project_id":278964,"title":"[:monaco_snippets] Enable Monaco as default editor for Snippets by default","description":"## What\n\nRemove the `:monaco_snippets` feature flag.\n\nThe feature flag has been enabled globally on gitlab.com at the end of %12.9 and was enabled during the whole %\"12.10\" without any major issue. A couple of minor visual glitches were promptly fixed at the end of %12.9. So it is considered to be pretty safe to enable this feature by default.\n\n## Owners\n\n- Team: Create::Editor (Frontend)\n- Most appropriate slack channel to reach out to: `#g_create_editor`\n- Best individual to reach out to: @dmishunov\n\n## Expectations\n\n### What are we expecting to happen?\n\nWhen editing a snippet, the editor will be Monaco instead of ACE. Visually this will be reflected in:\n\n* user's \"Syntax highlighting theme\" setting for the \"Dark\" theme will be considered in the editor\n* syntax highlighting, in general, will be significantly improved\n* syntax highlighting will be updated when the user changes the extension of the snippet file\n\n### What might happen if this goes wrong?\n\nThe editing of Snippets will be broken if the editor crashes\n\n### What can we monitor to detect problems with this?\n\nhttps://app.periscopedata.com/app/gitlab/596308/Snippets---Create:Editor-GitLab.com-Product-Metrics\n\n## Roll Out Steps\n\n- [x] Enable on staging\n- [x] Test on staging\n- [ ] Ensure that documentation has been updated\n- [x] Enable on GitLab.com for individual groups/projects listed above and verify behaviour\n- [ ] Coordinate a time to enable the flag with `#production` and `#g_delivery` on slack.\n- [ ] Announce on the issue an estimated time this will be enabled on GitLab.com\n- [x] Enable on GitLab.com by running chatops command in `#production`\n- [ ] Cross post chatops slack command to `#support_gitlab-com` and in your team channel\n- [x] Announce on the issue that the flag has been enabled\n- [x] Remove feature flag and add changelog entry\n- [ ] After the flag removal is deployed, [clean up the feature flag](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) by running chatops command in `#production` channel\n\n/cc @phikai @rkuba @fjsanpedro","state":"closed","created_at":"2020-04-28T08:09:32.695Z","updated_at":"2020-05-18T07:08:00.314Z","closed_at":"2020-05-06T07:07:38.672Z","closed_by":{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"},"labels":["Category:Snippets","Deliverable","backstage [DEPRECATED]","devops::create","feature flag","frontend","group::editor","workflow::in review"],"milestone":{"id":991112,"iid":42,"group_id":9970,"title":"13.0","description":"","state":"closed","created_at":"2019-09-04T15:20:39.024Z","updated_at":"2020-10-08T12:00:55.725Z","due_date":"2020-05-17","start_date":"2020-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/42"},"assignees":[{"id":3199302,"username":"dmishunov","name":"Denys Mishunov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d85e45af29611ac2c1395e3c3d6ec5d6?s=80\u0026d=identicon","web_url":"https://gitlab.com/dmishunov"}],"author":{"id":3199302,"username":"dmishunov","name":"Denys Mishunov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d85e45af29611ac2c1395e3c3d6ec5d6?s=80\u0026d=identicon","web_url":"https://gitlab.com/dmishunov"},"type":"ISSUE","assignee":{"id":3199302,"username":"dmishunov","name":"Denys Mishunov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d85e45af29611ac2c1395e3c3d6ec5d6?s=80\u0026d=identicon","web_url":"https://gitlab.com/dmishunov"},"user_notes_count":1,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/215975","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":11,"completed_count":6},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"6 of 11 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/215975","notes":"https://gitlab.com/api/v4/projects/278964/issues/215975/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/215975/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#215975","relative":"#215975","full":"gitlab-org/gitlab#215975"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":33888271,"iid":215971,"project_id":278964,"title":"Technical discovery issue: Forking snippets proof of concept (Iteration N)","description":"In https://gitlab.com/gitlab-org/gitlab/issues/39274 we plan to implement the ability to fork snippets. We have already the code and structure to fork projects but everything is tied to them. \n\nThe investigation into whether or not the existing project forking logic can be reused should have been carried out in https://gitlab.com/gitlab-org/gitlab/-/issues/204907.\n\nThe outcome from this issue should be some sort of Proof of Concept that we can use to think about the solution and also as foundations of the real issue.\n\n#### Definition of done\n\n* Attempt to implement the bare minimum from the result of https://gitlab.com/gitlab-org/gitlab/-/issues/204907\n* Report back on PoC success\n  * Create issues required to complete Snippet Forking\n\n/cc @dsatcher","state":"closed","created_at":"2020-04-28T07:44:00.421Z","updated_at":"2020-06-22T18:27:14.172Z","closed_at":"2020-06-22T18:27:14.097Z","closed_by":{"id":5249152,"username":"vij","name":"Vijay Hawoldar","state":"active","avatar_url":"https://secure.gravatar.com/avatar/14567a8b4af4374011c43778878de399?s=80\u0026d=identicon","web_url":"https://gitlab.com/vij"},"labels":["Category:Snippets","backend","backend-weight::2","devops::create","group::editor","workflow::scheduling"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":5249152,"username":"vij","name":"Vijay Hawoldar","state":"active","avatar_url":"https://secure.gravatar.com/avatar/14567a8b4af4374011c43778878de399?s=80\u0026d=identicon","web_url":"https://gitlab.com/vij"},"type":"ISSUE","assignee":null,"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/215971","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/215971","notes":"https://gitlab.com/api/v4/projects/278964/issues/215971/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/215971/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#215971","relative":"#215971","full":"gitlab-org/gitlab#215971"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":33877627,"iid":215954,"project_id":278964,"title":"Secure UI \u0026 Doc Text Updates - Change terminology of \"Report type\" to \"Scan type\"","description":"### Problem to solve\n\nCurrently, we refer to our security scanners (SAST, DAST, Container Scanning, Dependency Scanning, Secret Detection) as `Report type` in the UI and GitLab docs (example [here](https://gitlab.com/help/user/application_security/security_dashboard/index#supported-reports)). With the addition of [exportable security reports](https://gitlab.com/gitlab-org/gitlab/-/issues/197494) on all dashboards (instance-, group-, and project-level), and upcoming work on scanner-specific reports, we need to differentiate between `reports` and `scanners`. \n\n### Screenshots of area affected in the UI\n\n###### Filter on Security Dashboard:\n\n\u003cimg src=\"/uploads/b00165763806ca6389969c922ea82f9f/Screen_Shot_2020-04-27_at_5.02.01_PM.png\" width=\"50%\"\u003e\n\n### Proposal\n\nChange \"Report type\" to \"Scan type\" in UI and docs.\n\n### Implementation Plan\n\n* [ ] **Note**: gitlab.com/gitlab-org/gitlab/-/merge_requests/32370 is WIP to port the standalone vulnerability page - once it has been merged the copy change will have to be [done here as well](`ee/app/assets/javascripts/vulnerabilities/components/details.vue`)\n* [ ] Find and replace for any mentions of \"report type\" to \"scan type\" (We may have missed some though [this thread](https://gitlab.com/gitlab-org/gitlab/-/issues/215954#note_346389987) seems to have captured them all)\n* [ ] Update any screenshots in the documentation that mention \"report type\" https://docs.gitlab.com/ee/user/application_security/security_dashboard/\n\n\n/ cc @vkarnes @andyvolpe @cam.x @kmann @tmccaslin @matt_wilson @NicoleSchwartz @derekferguson @rdickenson","state":"closed","created_at":"2020-04-27T22:33:41.399Z","updated_at":"2021-04-03T08:40:05.703Z","closed_at":"2020-09-10T19:00:42.078Z","closed_by":{"id":401232,"username":"theoretick","name":"Lucas Charles","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/401232/squares-nail-wall-art.jpg","web_url":"https://gitlab.com/theoretick"},"labels":["Secure UX::Shared","Technical Writing","UI text","UX","devops::secure","frontend","group::static analysis","section::sec","security dashboard","static code analysis","tw::doing","workflow::scheduling"],"milestone":{"id":1212252,"iid":48,"group_id":9970,"title":"Next 1-3 releases","description":"Issues which are not quite ready to schedule, but should be considered as part of the near-term roadmap.","state":"active","created_at":"2020-03-26T20:39:10.889Z","updated_at":"2020-03-26T20:39:10.889Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/48"},"assignees":[{"id":3658061,"username":"rdickenson","name":"Russell Dickenson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3658061/avatar.png","web_url":"https://gitlab.com/rdickenson"},{"id":4155411,"username":"dpisek","name":"David Pisek","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4155411/avatar.png","web_url":"https://gitlab.com/dpisek"},{"id":4415483,"username":"beckalippert","name":"Becka Lippert","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4415483/avatar.png","web_url":"https://gitlab.com/beckalippert"},{"id":5329074,"username":"tmccaslin","name":"Taylor McCaslin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5329074/avatar.png","web_url":"https://gitlab.com/tmccaslin"}],"author":{"id":4415483,"username":"beckalippert","name":"Becka Lippert","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4415483/avatar.png","web_url":"https://gitlab.com/beckalippert"},"type":"ISSUE","assignee":{"id":3658061,"username":"rdickenson","name":"Russell Dickenson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3658061/avatar.png","web_url":"https://gitlab.com/rdickenson"},"user_notes_count":35,"merge_requests_count":0,"upvotes":3,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/215954","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/215954","notes":"https://gitlab.com/api/v4/projects/278964/issues/215954/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/215954/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#215954","relative":"#215954","full":"gitlab-org/gitlab#215954"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3246,"epic":{"id":51772,"iid":3246,"title":"Simplify \u0026 Cleanup","url":"/groups/gitlab-org/-/epics/3246","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":33877264,"iid":215952,"project_id":278964,"title":"Switching diff view styles doesn't load the correct diffs","description":"### Summary\n\nSwitching diff view styles results in a UI with all of the files, but no diffs.\n\n### Steps to reproduce\n\n1. Load an MR diffs page\n2. Use the UI to switch to the other view type (e.g. `inline` =\u003e `side-by-side` or `side-by-side` =\u003e `inline`)\n3. Note the diff file(s) after the page has finished loading.\n\n### Example Project\n\nhttps://gitlab.com/gitlab-org/gitlab/-/merge_requests/29204/diffs?view=parallel\n\n(Purely example, it can be any MR).\n\n### What is the current *bug* behavior?\n\nThe diff files are empty after the switch finishes loading.\n\n### What is the expected *correct* behavior?\n\nThe loaded files should show diffs in the selected style.\n\n### Relevant logs and/or screenshots\n\nA [slack conversation](https://app.slack.com/client/T02592416/CK75EF2A2/thread/CK75EF2A2-1586424991.114400):\n\n```\nnick 19 days ago\nI can't view blob_spec.rb in side-by--side diff mode? https://gitlab.com/gitlab-org/gitlab/-/merge_requests/29204/diffs?view=parallel\n----\nnick  19 days ago\noh, there we go. page reload fixed it\n----\nandr3  18 days ago\nInteresting, had you just switched from parallel to inline?\n----\nandr3  18 days ago\nMoving from parallel to inline I got this.\n[SCREENSHOT #1]\n----\nandr3  18 days ago\nsomething failed when setting the inline lines /cc @Thomas Randolph\n[SCREENSHOT #2]\n----\nnick  18 days ago\nno, i'd just switched from inline to parallel\n----\nnick  18 days ago\nso maybe it's broken in both ways\n----\nandr3  18 days ago\nyeah we worked on that code recently. but it has been working for a couple of weeks already. Maybe something else was touched in the last deploy…? We’ll look into it. Seems like a recent regression.\n----\nThomas Randolph  18 days ago\nHrm. This is my only recent change to diffs: https://gitlab.com/gitlab-org/gitlab/-/merge_requests/28962/diffs#note_318816977\n----\nThomas Randolph  18 days ago\nIt seems benign, but I've learned that nothing is benign in the diffs code...\n----\nandr3  18 days ago\n\u003e Deployed to gprd 18 hours ago\nThis is consistent with the feeling this didn’t happen before. :confused: Might be worth spending a bit investigating this. sounds like a regression from 12.10\n----\nThomas Randolph  18 days ago\nErrr, this is because the request for the new view style is broken:\nhttps://gitlab.com/gitlab-org/gitlab/-/merge_requests/29204/diffs_batch.json?view=parallel\u0026per_page=20\u0026w=0\u0026view=inline\u0026page=1 two \"view\", switching from parallel to inline.\nI recall this from when we were getting Split Diffs finalized.... should have been fixed...\n```\n\n| SCREENSHOT # 1 | SCREENSHOT # 2 |\n| ------------- | ------------- |\n| ![image](/uploads/0577a9d88c2dd141d3b932a12c3630d0/image.png) | ![image](/uploads/09caa3d577989c91e6b3f43e4d44ea69/image.png) |\n\n### Output of checks\n\nThis bug happens on GitLab.com\n\n### Possible fixes\n\nIt's most probable that [this `get`](https://gitlab.com/gitlab-org/gitlab/-/blob/3ade64ee60f69077a28887c8e4ecd14aa1a6c866/app/assets/javascripts/diffs/store/actions.js#L120-125) should be updated to use `mergeUrlParams` like [this line a bit earlier](https://gitlab.com/gitlab-org/gitlab/-/blob/3ade64ee60f69077a28887c8e4ecd14aa1a6c866/app/assets/javascripts/diffs/store/actions.js#L86). Without `mergeUrlParams`, parameters already present in the active URL (already part of the endpoint in use), are not overwritten with parameters of the same name. Instead same name parameters are tacked onto the end, resulting in duplicates and undefined behavior.","state":"closed","created_at":"2020-04-27T22:14:04.500Z","updated_at":"2020-12-07T16:46:45.933Z","closed_at":"2020-06-08T18:27:36.612Z","closed_by":{"id":4414431,"username":"thomasrandolph","name":"Thomas Randolph","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6462fcd577d8c957abd2dc23956cfbec?s=80\u0026d=identicon","web_url":"https://gitlab.com/thomasrandolph"},"labels":["Category:Code Review Workflow","Deliverable","devops::create","frontend","group::code review","merge requests","priority::2","severity::3","type::bug","workflow::production"],"milestone":{"id":1112145,"iid":47,"group_id":9970,"title":"13.1","description":"","state":"closed","created_at":"2020-01-03T12:28:30.160Z","updated_at":"2020-10-08T12:01:07.361Z","due_date":"2020-06-17","start_date":"2020-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/47"},"assignees":[{"id":4414431,"username":"thomasrandolph","name":"Thomas Randolph","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6462fcd577d8c957abd2dc23956cfbec?s=80\u0026d=identicon","web_url":"https://gitlab.com/thomasrandolph"}],"author":{"id":4414431,"username":"thomasrandolph","name":"Thomas Randolph","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6462fcd577d8c957abd2dc23956cfbec?s=80\u0026d=identicon","web_url":"https://gitlab.com/thomasrandolph"},"type":"ISSUE","assignee":{"id":4414431,"username":"thomasrandolph","name":"Thomas Randolph","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6462fcd577d8c957abd2dc23956cfbec?s=80\u0026d=identicon","web_url":"https://gitlab.com/thomasrandolph"},"user_notes_count":15,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/215952","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/215952","notes":"https://gitlab.com/api/v4/projects/278964/issues/215952/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/215952/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#215952","relative":"#215952","full":"gitlab-org/gitlab#215952"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":33873480,"iid":215938,"project_id":278964,"title":"Board switching dropdown has misaligned X","description":"## Description\n\nNoticed on `.com`\n\n![Screen_Shot_2020-04-27_at_11.47.28_AM](/uploads/6ee54d2f9580726ec650429a8eb5a994/Screen_Shot_2020-04-27_at_11.47.28_AM.png)","state":"closed","created_at":"2020-04-27T20:13:04.325Z","updated_at":"2020-05-14T05:34:33.011Z","closed_at":"2020-05-14T05:34:32.957Z","closed_by":{"id":832471,"username":"psimyn","name":"Simon Knox","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3de75939c39eecd6ea2215ec740a8037?s=80\u0026d=identicon","web_url":"https://gitlab.com/psimyn"},"labels":["devops::plan","frontend","group::project management","priority::3","severity::3","type::bug","workflow::verification"],"milestone":{"id":991112,"iid":42,"group_id":9970,"title":"13.0","description":"","state":"closed","created_at":"2019-09-04T15:20:39.024Z","updated_at":"2020-10-08T12:00:55.725Z","due_date":"2020-05-17","start_date":"2020-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/42"},"assignees":[{"id":832471,"username":"psimyn","name":"Simon Knox","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3de75939c39eecd6ea2215ec740a8037?s=80\u0026d=identicon","web_url":"https://gitlab.com/psimyn"}],"author":{"id":2233420,"username":"pslaughter","name":"Paul Slaughter","state":"active","avatar_url":"https://secure.gravatar.com/avatar/631b25421eb206ab44cb2793ef09d881?s=80\u0026d=identicon","web_url":"https://gitlab.com/pslaughter"},"type":"ISSUE","assignee":{"id":832471,"username":"psimyn","name":"Simon Knox","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3de75939c39eecd6ea2215ec740a8037?s=80\u0026d=identicon","web_url":"https://gitlab.com/psimyn"},"user_notes_count":3,"merge_requests_count":2,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/215938","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/215938","notes":"https://gitlab.com/api/v4/projects/278964/issues/215938/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/215938/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#215938","relative":"#215938","full":"gitlab-org/gitlab#215938"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":33871312,"iid":215933,"project_id":278964,"title":"Move license-management project to analyzers/license-finder","description":"### Problem to solve\n\nLicense Compliance feature is currently relying on one unique tool called License Finder. Like other security features before, this tool is wrapped in a single \"top-level\" project: https://gitlab.com/gitlab-org/security-products/license-management.\n\nThough, while we've migrated all tools to dedicated [analyzers](https://gitlab.com/gitlab-org/security-products/analyzers), we haven't done it yet for license-management  (nor for dast which has its [own issue](https://gitlab.com/gitlab-org/gitlab/-/issues/215930)).\n\nThis creates inconsistencies that block stage wide initiatives in UX and engineering.\n\n### Intended users\n\n\u003c!-- Who will use this feature? If known, include any of the following: types of users (e.g. Developer), personas, or specific company roles (e.g. Release Manager). It's okay to write \"Unknown\" and fill this field in later.\n\nPersonas are described at https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/\n\n* [Rachel (Release Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#rachel-release-manager)\n* [Parker (Product Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#parker-product-manager)\n* [Delaney (Development Team Lead)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#delaney-development-team-lead)\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Presley (Product Designer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#presley-product-designer)\n* [Devon (DevOps Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#devon-devops-engineer)\n* [Sidney (Systems Administrator)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sidney-systems-administrator)\n* [Sam (Security Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sam-security-analyst)\n* [Dana (Data Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#dana-data-analyst)\n* [Simone (Software Engineer in Test)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#simone-software-engineer-in-test)\n* [Allison (Application Ops)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#allison-application-ops) --\u003e\n\n### Further details\n\nEven if we have a single tool to provide license compliance today, we might replace it, add new ones someday or even break this one down into per language analyzer. We also want to support 3rd party integrations so moving to an architecture that is made for it will make things simpler for everyone.\n\n### Proposal\n\n1. * [ ] in %\"13.0\" initiate the migration from a user perspective:\n     * [ ]  create https://gitlab.com/gitlab-org/security-products/analyzers/license-finder project, with just a README\n     * [ ]  add instructions in the current release job for license-management to create docker image tag aliases and push **additionally** under https://gitlab.com/gitlab-org/security-products/analyzers/license-finder\n     * [ ]  update the vendored templates and documentation to point to the new image \n     * [ ]  deprecate the usage of docker images under https://gitlab.com/gitlab-org/security-products/license-management in documentation\n2. * [ ] whenever CA team has time, effectively migrate the content of [license-management project](https://gitlab.com/gitlab-org/security-products/license-management) into the new location: https://gitlab.com/gitlab-org/security-products/analyzers/license-finder\n     * [ ]  clone repo under the new project\n     * [ ]  update any script pointing to old license-management repo\n     * [ ]  remove content from the old repo, prevent write on the git repo\n     * [ ]  keep pushing images under that \"license-management\" namespace registry for backward compatibility\n     * [ ]  remove the [`GITLAB_TOKEN`](https://gitlab.com/gitlab-org/security-products/license-management/-/settings/ci_cd) var, and revoke the token in the [`gitlab-bot`](https://gitlab.com/gitlab-bot) account.\n3. * [ ] in %\"14.0\" or before if we agree on [doing a breaking change in a minor release](https://about.gitlab.com/handbook/product/product-management/process/#introducing-a-breaking-change-in-a-minor-release):\n     * [ ]  stop pushing images under the old \"license-management\" registry\n     * [ ]  archive \"license-management\" project\n     * [ ]  clean the documentation\n\n\n\n\n### Permissions and Security\n\n\u003c!-- What permissions are required to perform the described actions? Are they consistent with the existing permissions as documented for users, groups, and projects as appropriate? Is the proposed behavior consistent between the UI, API, and other access methods (e.g. email replies)?--\u003e\n\n### Documentation\n\n\u003c!-- See the Feature Change Documentation Workflow https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html\n\n* Add all known Documentation Requirements in this section. See https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html#documentation-requirements\n* If this feature requires changing permissions, update the permissions document. See https://docs.gitlab.com/ee/user/permissions.html --\u003e\n\n### Availability \u0026 Testing\n\n\u003c!-- This section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\nWhat risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning --\u003e\n\n### What does success look like, and how can we measure that?\n\n\u003c!-- Define both the success metrics and acceptance criteria. Note that success metrics indicate the desired business outcomes, while acceptance criteria indicate when the solution is working correctly. If there is no way to measure success, link to an issue that will implement a way to measure this. --\u003e\n\n### What is the type of buyer?\n\n\u003c!-- What is the buyer persona for this feature? See https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/buyer-persona/\nIn which enterprise tier should this feature go? See https://about.gitlab.com/handbook/product/pricing/#four-tiers --\u003e\n\n### Is this a cross-stage feature?\n\n\u003c!-- Communicate if this change will affect multiple Stage Groups or product areas. We recommend always start with the assumption that a feature request will have an impact into another Group. Loop in the most relevant PM and Product Designer from that Group to provide strategic support to help align the Group's broader plan and vision, as well as to avoid UX and technical debt. https://about.gitlab.com/handbook/product/#cross-stage-features --\u003e\n\n### Links / references\n\n* https://docs.gitlab.com/ee/user/project/index.html#redirects-when-changing-repository-paths\n* https://docs.gitlab.com/ee/user/project/settings/#transferring-an-existing-project-into-another-namespace\n\n### Implementation Plan\n\n* [x] migrate the content of [license-management project](https://gitlab.com/gitlab-org/security-products/license-management) into the new location: https://gitlab.com/gitlab-org/security-products/analyzers/license-finder\n     * [x]  clone repo under the new project\n     * [x]  update any script pointing to old license-management repo\n     * [x]  remove content from the old repo, prevent write on the git repo\n     * [x]  remove the [`GITLAB_TOKEN`](https://gitlab.com/gitlab-org/security-products/license-management/-/settings/ci_cd) var, and revoke the token in the [`gitlab-bot`](https://gitlab.com/gitlab-bot) account.\n     * [x]  clean the [license-management project](https://gitlab.com/gitlab-org/security-products/license-management) documentation to refer to the new location.\n     * [x] disable merge requests on gitlab.com/gitlab-org/security-products/license-management\n     * [x] disable pipelines on gitlab.com/gitlab-org/security-products/license-management","state":"closed","created_at":"2020-04-27T19:14:47.983Z","updated_at":"2021-11-11T15:34:48.625Z","closed_at":"2020-10-09T16:44:26.593Z","closed_by":{"id":971158,"username":"xlgmokha","name":"mo khan","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cc8d289bc1a24067f9af4f92452f4fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/xlgmokha"},"labels":["Category:License Compliance","Deliverable","Enterprise Edition","GitLab Ultimate","backend","devops::secure","group::composition analysis","section::sec","type::maintenance"],"milestone":{"id":1233754,"iid":52,"group_id":9970,"title":"13.5","description":"https://about.gitlab.com/releases/2020/10/22/gitlab-13-5-released/","state":"closed","created_at":"2020-04-09T17:39:21.990Z","updated_at":"2022-04-21T07:21:12.213Z","due_date":"2020-10-17","start_date":"2020-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/52"},"assignees":[{"id":971158,"username":"xlgmokha","name":"mo khan","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cc8d289bc1a24067f9af4f92452f4fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/xlgmokha"}],"author":{"id":52092,"username":"gonzoyumo","name":"Olivier Gonzalez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/651e0ff81c3995a05269f7c80895fe89?s=80\u0026d=identicon","web_url":"https://gitlab.com/gonzoyumo"},"type":"ISSUE","assignee":{"id":971158,"username":"xlgmokha","name":"mo khan","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cc8d289bc1a24067f9af4f92452f4fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/xlgmokha"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/215933","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":23,"completed_count":8},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"8 of 23 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/215933","notes":"https://gitlab.com/api/v4/projects/278964/issues/215933/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/215933/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#215933","relative":"#215933","full":"gitlab-org/gitlab#215933"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":1662,"epic":{"id":10152,"iid":1662,"title":"License Compliance (License Scanning) - Minimal to Viable (again)","url":"/groups/gitlab-org/-/epics/1662","group_id":9970,"human_readable_end_date":"Mar 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e months remaining"},"iteration":null,"health_status":null},{"id":33869452,"iid":215929,"project_id":278964,"title":"Test Group Import/Export with ndjson on Staging","description":"As part of rolling out the new ndjson based import/export, we need to enable the feature flag (`group_import_export_ndjson`) and test it on staging.","state":"closed","created_at":"2020-04-27T18:19:01.853Z","updated_at":"2021-05-18T21:01:10.748Z","closed_at":"2020-04-27T18:25:04.742Z","closed_by":{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"},"labels":["Category:Importers","Importer:Project Export/Import","devops::manage","group::import"],"milestone":{"id":991112,"iid":42,"group_id":9970,"title":"13.0","description":"","state":"closed","created_at":"2019-09-04T15:20:39.024Z","updated_at":"2020-10-08T12:00:55.725Z","due_date":"2020-05-17","start_date":"2020-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/42"},"assignees":[{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"}],"author":{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"},"type":"ISSUE","assignee":{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/215929","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/215929","notes":"https://gitlab.com/api/v4/projects/278964/issues/215929/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/215929/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#215929","relative":"#215929","full":"gitlab-org/gitlab#215929"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2734,"epic":{"id":24334,"iid":2734,"title":"Introduce `.ndjson` as a way to process import","url":"/groups/gitlab-org/-/epics/2734","group_id":9970,"human_readable_end_date":"Jun 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":33866686,"iid":215921,"project_id":278964,"title":"Bug: Fix spacing between Severity and Vulnerability columns on group \u0026 instance security dashboards","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\nThe data in the columns are running together on the group-level and instance-level security dashboards:\n\nGroup example:\n![Screen_Shot_2020-04-27_at_11.08.02_AM](/uploads/68f37366a07412ba31b24e132916f302/Screen_Shot_2020-04-27_at_11.08.02_AM.png)\n\n\n\nInstance example:\n\n![Screen_Shot_2020-04-27_at_11.50.57_AM](/uploads/2a2f1f4dda8e2174eb24b1a0fea4b8e4/Screen_Shot_2020-04-27_at_11.50.57_AM.png)\n\nThis doesn't seem to be a problem on the project level dashboards.\n\n\n### Steps to reproduce\n\nGo to group and instance security dashboards (make sure projects with vulnerabilities have been added).\n\n### What is the current *bug* behavior?\n\nWords too close together, sometimes overlapping\n\n### What is the expected *correct* behavior?\n\nMore spacing between columns, see project security dashboard example:\n\n![security_dashboard_screenshot](/uploads/62c2dcc57ff57e99680447c0bd54b46b/security_dashboard_screenshot.png)\n\n\n### Output of checks\n\nThis bug happens on GitLab.com\n\n#### Results of GitLab environment info\n\n#### Results of GitLab application Check\n\n### Possible fixes\n\ncc @lkerr","state":"closed","created_at":"2020-04-27T16:55:12.536Z","updated_at":"2020-05-26T03:39:06.112Z","closed_at":"2020-05-26T03:39:05.476Z","closed_by":{"id":480804,"username":"thiagocsf","name":"Thiago Figueiró","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/480804/avatar.png","web_url":"https://gitlab.com/thiagocsf"},"labels":["UX","UX debt","devops::govern","frontend","group::threat insights","security dashboard","type::bug","workflow::production"],"milestone":{"id":991112,"iid":42,"group_id":9970,"title":"13.0","description":"","state":"closed","created_at":"2019-09-04T15:20:39.024Z","updated_at":"2020-10-08T12:00:55.725Z","due_date":"2020-05-17","start_date":"2020-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/42"},"assignees":[{"id":5535246,"username":"svedova","name":"Savas Vedova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535246/avatar.png","web_url":"https://gitlab.com/svedova"}],"author":{"id":4415483,"username":"beckalippert","name":"Becka Lippert","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4415483/avatar.png","web_url":"https://gitlab.com/beckalippert"},"type":"ISSUE","assignee":{"id":5535246,"username":"svedova","name":"Savas Vedova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535246/avatar.png","web_url":"https://gitlab.com/svedova"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/215921","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/215921","notes":"https://gitlab.com/api/v4/projects/278964/issues/215921/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/215921/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#215921","relative":"#215921","full":"gitlab-org/gitlab#215921"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":33866630,"iid":215919,"project_id":278964,"title":"Net::SMTPSyntaxError with invalid email address that passed validation","description":"### Problem\nError: \"Net::SMTPSyntaxError: 501 Invalid command or cannot parse to address\" when a user issued a PUT request to `/profile/emails/:email_id/resend_confirmation_instructions`.  See the [Sentry report](https://sentry.gitlab.net/gitlab/gitlabcom/issues/1509786).\n\n### Backtrace\n```\nNet::SMTPSyntaxError: 501 Invalid command or cannot parse to address\n\n  net/smtp.rb:969:in `check_response'\n    raise res.exception_class, res.message\n  net/smtp.rb:937:in `getok'\n    check_response res\n  net/smtp.rb:865:in `rcptto'\n    getok(\"RCPT TO:\u003c#{to_addr}\u003e\")\n  net/smtp.rb:846:in `block in rcptto_list'\n    rcptto addr\n  net/smtp.rb:844:in `each'\n    to_addrs.flatten.each do |addr|\n...\n(161 additional frame(s) were not displayed)\n\nNet::SMTPSyntaxError: 501 Invalid command or cannot parse to address\n\n```\n\n### Proposal\n\nValidate `Email#email` with the [valid_email gem](https://github.com/hallelujah/valid_email) (instead of `DeviseEmailValidator`).\n\n### Out of scope\n\nValidating other email attributes with the `valid_email` gem (instead of `DeviseEmailValidator`) is out of scope. If tightening validation on `Email#email` is successful, then `DeviseEmailValidator` can be replaced in a follow-on issue.\n\n### Technical notes\n\nUse of `Devise.email_regexp` for validating emails was introduced in https://gitlab.com/gitlab-org/gitlab-foss/-/merge_requests/2771","state":"closed","created_at":"2020-04-27T16:53:13.885Z","updated_at":"2022-01-07T18:32:18.398Z","closed_at":"2020-05-06T07:08:49.264Z","closed_by":{"id":273486,"username":"jameslopez","name":"James Lopez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/273486/avatar.png","web_url":"https://gitlab.com/jameslopez"},"labels":["customer","devops::manage","gpg","group::compliance","reproduced on GitLab.com","severity::3","type::bug","user profile","workflow::in review"],"milestone":{"id":991112,"iid":42,"group_id":9970,"title":"13.0","description":"","state":"closed","created_at":"2019-09-04T15:20:39.024Z","updated_at":"2020-10-08T12:00:55.725Z","due_date":"2020-05-17","start_date":"2020-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/42"},"assignees":[{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"}],"author":{"id":402401,"username":"jobbot","name":"Bot","state":"active","avatar_url":"https://secure.gravatar.com/avatar/aaa6738f1ebf25404010884af511b0e7?s=80\u0026d=identicon","web_url":"https://gitlab.com/jobbot"},"type":"ISSUE","assignee":{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"},"user_notes_count":5,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/215919","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/215919","notes":"https://gitlab.com/api/v4/projects/278964/issues/215919/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/215919/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#215919","relative":"#215919","full":"gitlab-org/gitlab#215919"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":33864303,"iid":215913,"project_id":278964,"title":"Allow merge when `License-Check` approve denied licenses","description":"This is a part of https://gitlab.com/gitlab-org/gitlab/-/issues/196845\n\nThis is followed from https://gitlab.com/gitlab-org/gitlab/-/issues/215891\n\nWhen MR contains `denied` licenses, this MR is not mergeable.\n\nWe need to allow MR to be mergeable if `License-Check` is turned on and User approves MR with `denied` licenses.\n\n### Implementation plan\n\n1. The field `policy_violation` (true/false) to `EE::MergeRequestPollCachedWidgetEntity` should returns `false` if denied licenses are found but there is a `License-Check` approval.\n1. Change `MergeRequest` object [state](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/models/merge_request.rb#L906) to mergeable for the same condition.","state":"closed","created_at":"2020-04-27T15:51:39.807Z","updated_at":"2021-04-03T08:34:32.899Z","closed_at":"2020-07-17T09:30:04.727Z","closed_by":{"id":1378158,"username":"brytannia","name":"Tetiana Chupryna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1378158/avatar.png","web_url":"https://gitlab.com/brytannia"},"labels":["Category:License Compliance","Enterprise Edition","GitLab Ultimate","Stretch","approvals","backend","blocked","devops::secure","group::composition analysis","missed:13.1","quad-planning::complete-no-action","security reports","sub-issue","type::feature","workflow::verification"],"milestone":{"id":1233746,"iid":49,"group_id":9970,"title":"13.2","description":"https://about.gitlab.com/releases/2020/07/22/gitlab-13-2-released/","state":"closed","created_at":"2020-04-09T17:28:01.032Z","updated_at":"2022-04-13T14:48:24.167Z","due_date":"2020-07-17","start_date":"2020-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/49"},"assignees":[{"id":1378158,"username":"brytannia","name":"Tetiana Chupryna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1378158/avatar.png","web_url":"https://gitlab.com/brytannia"}],"author":{"id":1378158,"username":"brytannia","name":"Tetiana Chupryna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1378158/avatar.png","web_url":"https://gitlab.com/brytannia"},"type":"ISSUE","assignee":{"id":1378158,"username":"brytannia","name":"Tetiana Chupryna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1378158/avatar.png","web_url":"https://gitlab.com/brytannia"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/215913","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/215913","notes":"https://gitlab.com/api/v4/projects/278964/issues/215913/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/215913/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#215913","relative":"#215913","full":"gitlab-org/gitlab#215913"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":1662,"epic":{"id":10152,"iid":1662,"title":"License Compliance (License Scanning) - Minimal to Viable (again)","url":"/groups/gitlab-org/-/epics/1662","group_id":9970,"human_readable_end_date":"Mar 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e months remaining"},"iteration":null,"health_status":null},{"id":33856625,"iid":215900,"project_id":278964,"title":"Remove deprecated `_exportable_id` parameters from vulnerability export workers","description":"As we can not directly remove the redundant parameters from the `VulnerabilityExports::ExportWorker#perform` and `VulnerabilityExports::ExportDeletionWorker#perform`, I've just deprecated them with default values. After we ship the feature, at some point we have to delete those parameters entirely.\n\nFor more information and background please check the [comment](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/29920#note_332090800)\n\n## Implementation plan\n\n- [ ] ~backend modify `VulnerabilityExports::ExportWorker#perform` declaration to not include `_exportable_id = nil`\n- [ ] ~backend modify `VulnerabilityExports::ExportDeletionWorker#perform` declaration to not include `_exportable_id = nil`","state":"closed","created_at":"2020-04-27T14:43:51.238Z","updated_at":"2020-08-26T23:09:11.457Z","closed_at":"2020-08-18T10:24:06.253Z","closed_by":{"id":443319,"username":"smcgivern","name":"Sean McGivern","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/443319/avatar.png","web_url":"https://gitlab.com/smcgivern"},"labels":["Category:Vulnerability Management","Community contribution","backend","devops::secure","good for new contributors","group::threat insights","maintenance::refactor","security dashboard","type::maintenance","workflow::in dev"],"milestone":{"id":1233753,"iid":51,"group_id":9970,"title":"13.4","description":"https://about.gitlab.com/releases/2020/09/22/gitlab-13-4-released/","state":"closed","created_at":"2020-04-09T17:39:21.662Z","updated_at":"2022-04-13T14:50:33.769Z","due_date":"2020-09-17","start_date":"2020-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/51"},"assignees":[{"id":6651670,"username":"jzeng88","name":"Justin Zeng","state":"active","avatar_url":"https://secure.gravatar.com/avatar/60ec8c1378094f2208c0253cfb95b838?s=80\u0026d=identicon","web_url":"https://gitlab.com/jzeng88"}],"author":{"id":5721376,"username":"minac","name":"Mehmet Emin INAC","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d8bdee790902422e3554e411a173c7c0?s=80\u0026d=identicon","web_url":"https://gitlab.com/minac"},"type":"ISSUE","assignee":{"id":6651670,"username":"jzeng88","name":"Justin Zeng","state":"active","avatar_url":"https://secure.gravatar.com/avatar/60ec8c1378094f2208c0253cfb95b838?s=80\u0026d=identicon","web_url":"https://gitlab.com/jzeng88"},"user_notes_count":11,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/215900","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/215900","notes":"https://gitlab.com/api/v4/projects/278964/issues/215900/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/215900/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#215900","relative":"#215900","full":"gitlab-org/gitlab#215900"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":33856457,"iid":215898,"project_id":278964,"title":"Remove LSIF API endpoints that aren't used","description":"LSIF API endpoint has been introduced in https://gitlab.com/gitlab-org/gitlab/-/merge_requests/23674\n\nAfter a couple of iterations, we've decided to load files directly from object storage: https://gitlab.com/gitlab-org/gitlab/-/merge_requests/27688, that made the endpoint unused\n\nSince we don't use them, let's consider removing them. The functionality is undocumented and behind a feature flag, it should be safe removing this code","state":"closed","created_at":"2020-04-27T14:39:54.437Z","updated_at":"2020-06-26T04:12:33.094Z","closed_at":"2020-06-25T14:05:24.894Z","closed_by":{"id":1161495,"username":"igor.drozdov","name":"Igor Drozdov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1161495/avatar.png","web_url":"https://gitlab.com/igor.drozdov"},"labels":["[deprecated] Accepting merge requests","[deprecated] 🍎","backend","backstage [DEPRECATED]","devops::create","group::source code","maintenance::refactor","workflow::ready for development"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[{"id":1161495,"username":"igor.drozdov","name":"Igor Drozdov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1161495/avatar.png","web_url":"https://gitlab.com/igor.drozdov"}],"author":{"id":1161495,"username":"igor.drozdov","name":"Igor Drozdov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1161495/avatar.png","web_url":"https://gitlab.com/igor.drozdov"},"type":"ISSUE","assignee":{"id":1161495,"username":"igor.drozdov","name":"Igor Drozdov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1161495/avatar.png","web_url":"https://gitlab.com/igor.drozdov"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/215898","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/215898","notes":"https://gitlab.com/api/v4/projects/278964/issues/215898/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/215898/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#215898","relative":"#215898","full":"gitlab-org/gitlab#215898"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":33855824,"iid":215894,"project_id":278964,"title":"Map Jira author and assignee to a gitlab User","description":"Now we store real Jira issue author and assignee in metadata section of GitLab issue. We should store the information in the correct fields (author, assignee) and use Jira user mapped to GitLab user.\n\nAs the first iteration, we should simply take the information in the jira issue json and map the users to GitLab users based on their emails. Only users, who are project members, should be mapped. If a user is not found for an email, it will be logged. Issue won't be not assigned and the issue author remains default (`project.creator` now and import owner once https://gitlab.com/gitlab-org/gitlab/-/issues/215569 is fixed - MR in review).\n\n### Solution:\n[View design solution here](https://gitlab.com/gitlab-org/gitlab/-/issues/215894/designs/design_1588778281754.png)\n\n","state":"closed","created_at":"2020-04-27T14:26:49.554Z","updated_at":"2020-05-19T14:33:24.447Z","closed_at":"2020-05-18T05:07:41.548Z","closed_by":{"id":508743,"username":"jarka","name":"Jarka Košanová","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3931dae84deb01d2881e4909077b8dbe?s=80\u0026d=identicon","web_url":"https://gitlab.com/jarka"},"labels":["Category:Jira Importer","backend","devops::plan","direction","group::project management","workflow::in review"],"milestone":{"id":991112,"iid":42,"group_id":9970,"title":"13.0","description":"","state":"closed","created_at":"2019-09-04T15:20:39.024Z","updated_at":"2020-10-08T12:00:55.725Z","due_date":"2020-05-17","start_date":"2020-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/42"},"assignees":[{"id":508743,"username":"jarka","name":"Jarka Košanová","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3931dae84deb01d2881e4909077b8dbe?s=80\u0026d=identicon","web_url":"https://gitlab.com/jarka"}],"author":{"id":508743,"username":"jarka","name":"Jarka Košanová","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3931dae84deb01d2881e4909077b8dbe?s=80\u0026d=identicon","web_url":"https://gitlab.com/jarka"},"type":"ISSUE","assignee":{"id":508743,"username":"jarka","name":"Jarka Košanová","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3931dae84deb01d2881e4909077b8dbe?s=80\u0026d=identicon","web_url":"https://gitlab.com/jarka"},"user_notes_count":32,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/215894","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/215894","notes":"https://gitlab.com/api/v4/projects/278964/issues/215894/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/215894/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#215894","relative":"#215894","full":"gitlab-org/gitlab#215894"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3095,"epic":{"id":42475,"iid":3095,"title":"Setup User Mapping and Import Comments, Assignees, and Reporters","url":"/groups/gitlab-org/-/epics/3095","group_id":9970,"human_readable_end_date":"Feb 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":33855425,"iid":215891,"project_id":278964,"title":"Make MR not mergeable if License Compliance has found denied licenses","description":"This is a part of https://gitlab.com/gitlab-org/gitlab/-/issues/196845\n\nIf MR has successfully finished `license_scanning` job and some `denied` licenses are found, we need to prevent merging of Merge Request.\n\n### Implementation plan\n\n1. Hide all work behind feature flag `license_compliance_denies_mr`\n1. Define if MR has `denied` licenses (`SoftwareLicensePoliciesFinder` and `LicenseScanningReportLicenseEntity` for the reference)\n1. Add a field `policy_violation` (true/false) to `EE::MergeRequestPollCachedWidgetEntity` with value found on previous step.\n1. Change `MergeRequest` object [state](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/models/merge_request.rb#L906) to not mergeable if denied licenses are found. Keep in mind that this is EE feature and work should be done in `ee` directory. This step can be dangerous so it requires thorough testing.","state":"closed","created_at":"2020-04-27T14:18:12.382Z","updated_at":"2021-05-17T20:10:55.467Z","closed_at":"2020-07-09T11:35:56.924Z","closed_by":{"id":1378158,"username":"brytannia","name":"Tetiana Chupryna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1378158/avatar.png","web_url":"https://gitlab.com/brytannia"},"labels":["Category:License Compliance","Deliverable","Enterprise Edition","GitLab Ultimate","approvals","backend","devops::secure","group::composition analysis","missed-deliverable","missed:13.1","quad-planning::complete-no-action","security reports","sub-issue","type::feature","workflow::verification"],"milestone":{"id":1233746,"iid":49,"group_id":9970,"title":"13.2","description":"https://about.gitlab.com/releases/2020/07/22/gitlab-13-2-released/","state":"closed","created_at":"2020-04-09T17:28:01.032Z","updated_at":"2022-04-13T14:48:24.167Z","due_date":"2020-07-17","start_date":"2020-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/49"},"assignees":[{"id":1378158,"username":"brytannia","name":"Tetiana Chupryna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1378158/avatar.png","web_url":"https://gitlab.com/brytannia"}],"author":{"id":1378158,"username":"brytannia","name":"Tetiana Chupryna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1378158/avatar.png","web_url":"https://gitlab.com/brytannia"},"type":"ISSUE","assignee":{"id":1378158,"username":"brytannia","name":"Tetiana Chupryna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1378158/avatar.png","web_url":"https://gitlab.com/brytannia"},"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/215891","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/215891","notes":"https://gitlab.com/api/v4/projects/278964/issues/215891/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/215891/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#215891","relative":"#215891","full":"gitlab-org/gitlab#215891"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":33851713,"iid":215879,"project_id":278964,"title":"SSRF via repository mirror URL","description":"**[HackerOne report #860196](https://hackerone.com/reports/860196)** by `sky003` on 2020-04-27, assigned to @jeremymatos:\n\n### Summary\n\nSSRF protection can be bypassed by using malformed git repository URL. URL format:  \n```  \ngit://localhost:[port]/[controlled-payload]@[legit-host]/  \nExample: git://localhost:1234/whatever-you-want@example.com/  \n``` \n\n### Steps to reproduce\n\n_1. Log into the gitlab server and start TCP listener on port 1234 ($ nc -vvlp 1234).  \n_2. Open \"Settings\" \u003e \"Repository\" \u003e \"Mirroring repositories\" and use the following payload to create a mirror:\n\n```  \nGit repository URL: git://localhost@example.com/  \nPassword: 1234/some-path?some-query=some-val#  \n```  \n![mirroring-repositories-page.png](https://h1.sec.gitlab.net/a/a9793f2f-4984-4194-9a33-853e4717d48d/mirroring-repositories-page.png)  \n_3. Trigger an update for the mirror you created.  \n![trigger-mirror-update.png](https://h1.sec.gitlab.net/a/4140ce1d-2ae2-4ddc-8fee-6765af090a86/trigger-mirror-update.png)  \n_4. Check TCP listener. You should see the incoming connection.  \n![ssrf2.png](https://h1.sec.gitlab.net/a/93383599-9d04-4f4f-8216-56f92e7c62a4/ssrf2.png)\n\n### Impact\n\nMalicious user can establish TCP connection with local/internal network resources. For the most cases it's gonna be a blind SSRF (malicious user can read some git output from repository mirror update status, which is an error message).\n\n### What is the current *bug* behavior?\n\nThere's URL parsing differentials with gitlab  app and git.\n\n### What is the expected *correct* behavior?\n\nSince \"git\" protocol is not designed to have any authentication mechanism, I guess the URL part which contains the credentials can be safely removed.\n\n## Impact\n\nMalicious user can establish TCP connection with local/internal network resources. For the most cases it's gonna be a blind SSRF (malicious user can read some git output from repository mirror update status, which is an error message).\n\n## Attachments\n\n**Warning:** Attachments received through HackerOne, please exercise caution!\n\n* [ssrf2.png](https://h1.sec.gitlab.net/a/93383599-9d04-4f4f-8216-56f92e7c62a4/ssrf2.png)\n* [trigger-mirror-update.png](https://h1.sec.gitlab.net/a/4140ce1d-2ae2-4ddc-8fee-6765af090a86/trigger-mirror-update.png)\n* [mirroring-repositories-page.png](https://h1.sec.gitlab.net/a/a9793f2f-4984-4194-9a33-853e4717d48d/mirroring-repositories-page.png)","state":"closed","created_at":"2020-04-27T13:08:28.340Z","updated_at":"2022-07-07T12:31:12.760Z","closed_at":"2020-09-02T16:55:09.705Z","closed_by":{"id":4554599,"username":"m_gill","name":"Michelle Gill","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4554599/avatar.png","web_url":"https://gitlab.com/m_gill"},"labels":["Deliverable","HackerOne","backend","devops::create","group::source code","priority::3","section::dev","security","severity::3","workflow::in review"],"milestone":{"id":1233752,"iid":50,"group_id":9970,"title":"13.3","description":"https://about.gitlab.com/releases/2020/08/22/gitlab-13-3-released/","state":"closed","created_at":"2020-04-09T17:39:21.090Z","updated_at":"2022-04-13T14:50:18.976Z","due_date":"2020-08-17","start_date":"2020-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/50"},"assignees":[{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"}],"author":{"id":2741139,"username":"gitlab-securitybot","name":"GitLab SecurityBot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2741139/avatar.png","web_url":"https://gitlab.com/gitlab-securitybot"},"type":"ISSUE","assignee":{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"},"user_notes_count":23,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2020-07-24","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/215879","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/215879","notes":"https://gitlab.com/api/v4/projects/278964/issues/215879/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/215879/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#215879","relative":"#215879","full":"gitlab-org/gitlab#215879"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":33832051,"iid":215846,"project_id":278964,"title":"Require jobs with allow_failure to pass if MR changes the jobs behaviour","description":"## Problem:\n\nGiven some jobs are allowed to fail in the pipeline, when an MR changes the behaviour of these jobs in a way that would break the job, the pipeline must be able to prevent the MR from being merged.\n\nWe need a reliable way to catch failures from changes that would change the behaviour of those `allowed to fail` jobs.\n\nStages where this problem could occur:\n- `review` stage\n- `qa` stage\n- `prepare` stage\n- `post-test` stage\n\n## Context:\n\nReview app deployment was completely broken due to ~backstage change https://gitlab.com/gitlab-org/gitlab/-/merge_requests/30272. This would have been caught on the MR **automatically** if the `review-deploy` job has not been allowed to fail for this MR.\n\n## Proposal:\n\nDisable `allow_failure` on specific jobs when an MR change is related to the job behaviour. For example, any change in `scripts/review_apps` should require review app related jobs to pass.\n\n/cc @gl-quality/eng-prod","state":"closed","created_at":"2020-04-27T05:20:49.353Z","updated_at":"2020-05-07T21:01:59.658Z","closed_at":"2020-05-07T08:12:16.678Z","closed_by":{"id":423915,"username":"godfat","name":"Lin Jen-Shin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/8c73dab2ecd23d5b5627a0235ae2f9b1?s=80\u0026d=identicon","web_url":"https://gitlab.com/godfat"},"labels":["Engineering Productivity","backstage [DEPRECATED]","ci-build","ep::pipeline","priority::2","workflow::in review"],"milestone":{"id":991112,"iid":42,"group_id":9970,"title":"13.0","description":"","state":"closed","created_at":"2019-09-04T15:20:39.024Z","updated_at":"2020-10-08T12:00:55.725Z","due_date":"2020-05-17","start_date":"2020-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/42"},"assignees":[{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"}],"author":{"id":461042,"username":"caalberts","name":"Albert Salim","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/461042/avatar.png","web_url":"https://gitlab.com/caalberts"},"type":"ISSUE","assignee":{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"user_notes_count":7,"merge_requests_count":1,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/215846","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/215846","notes":"https://gitlab.com/api/v4/projects/278964/issues/215846/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/215846/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#215846","relative":"#215846","full":"gitlab-org/gitlab#215846"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":33831796,"iid":215844,"project_id":278964,"title":"Leverage scan object to improve integration test scan duration check for Analyzers","description":"## Summary\n\nhttps://gitlab.com/gitlab-org/gitlab/issues/34903 added a [check analyzer scan duration](https://gitlab.com/gitlab-org/security-products/ci-templates/-/blob/a3e72f6a9a4c0bb62040fd26374af2012c876f8f/includes-dev/analyzer.yml#L70-86) job to the `ci-templates` project which checks the scan duration of the integration test stage to ensure that it doesn't exceed the `MAX_SCAN_DURATION_SECONDS` value.\n\nOnce [add scan object to the Security Reports JSON format](https://gitlab.com/gitlab-org/gitlab/issues/37123) has been completed, we can leverage this scan object to provide the `scan.start_time` and `scan.end_time` values required for calculating the scan duration, which will simplify the tests.\n\n## Improvements\n\nUpdate the [`check analyzer scan duration` and `integration test` jobs in includes-dev/analyzer.ym](https://gitlab.com/gitlab-org/security-products/ci-templates/-/blob/a3e72f6a9a4c0bb62040fd26374af2012c876f8f/includes-dev/analyzer.yml#L70-102) to use the `scan.start_time` and `scan.end_time` values provided by [add scan object to the Security Reports JSON format](https://gitlab.com/gitlab-org/gitlab/issues/37123).\n\n## Involved components\n\nSee [improvements section](#improvements)\n\n## Testing\n\nTry to make the QA fail by running an analysis that gets over the threshold, then ensure that it works as expected when the scan is under the threshold.","state":"closed","created_at":"2020-04-27T05:03:28.732Z","updated_at":"2020-12-02T03:57:55.414Z","closed_at":"2020-08-12T19:05:43.407Z","closed_by":{"id":52092,"username":"gonzoyumo","name":"Olivier Gonzalez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/651e0ff81c3995a05269f7c80895fe89?s=80\u0026d=identicon","web_url":"https://gitlab.com/gonzoyumo"},"labels":["Category:Container Scanning","Category:DAST","Category:Dependency Scanning","Category:License Compliance","Category:SAST","Category:Secret Detection","Enterprise Edition","GitLab Ultimate","QA","[deprecated] Accepting merge requests","backend","backstage [DEPRECATED]","blocked","bug::performance","devops::secure","feature::addition","group::composition analysis","type::feature","wontfix","workflow::scheduling"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":1674572,"username":"adamcohen","name":"Adam Cohen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/68fe8da9d9dfc88d0d150808cd364825?s=80\u0026d=identicon","web_url":"https://gitlab.com/adamcohen"},"type":"ISSUE","assignee":null,"user_notes_count":7,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/215844","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/215844","notes":"https://gitlab.com/api/v4/projects/278964/issues/215844/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/215844/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#215844","relative":"#215844","full":"gitlab-org/gitlab#215844"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":33826624,"iid":215800,"project_id":278964,"title":"Milestone description divider line doesn't hide when no description","description":"### Problem\nWhen there is no description on the Milestones pages, the border below where the description would appear still displays. The title of the milestone has a border-bottom applied to it as well which causes a double line appearance that seems to have no purpose.\n![Screen_Shot_2020-04-26_at_9.04.08_PM](/uploads/ddd00701494b95d1ab179513dfb5a359/Screen_Shot_2020-04-26_at_9.04.08_PM.png)\n\n### Proposal\nDetect when there isn't a description and hide the line, or apply a border-bottom to the Description content itself rather than the entire block.","state":"closed","created_at":"2020-04-27T01:07:16.420Z","updated_at":"2020-09-16T13:37:39.877Z","closed_at":"2020-09-16T13:37:39.844Z","closed_by":{"id":5965371,"username":"jlear","name":"Jake Lear","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5965371/avatar.png","web_url":"https://gitlab.com/jlear"},"labels":["UX","UX debt","devops::plan","frontend","group::project management","section::dev","workflow::in review"],"milestone":{"id":1233753,"iid":51,"group_id":9970,"title":"13.4","description":"https://about.gitlab.com/releases/2020/09/22/gitlab-13-4-released/","state":"closed","created_at":"2020-04-09T17:39:21.662Z","updated_at":"2022-04-13T14:50:33.769Z","due_date":"2020-09-17","start_date":"2020-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/51"},"assignees":[{"id":5965371,"username":"jlear","name":"Jake Lear","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5965371/avatar.png","web_url":"https://gitlab.com/jlear"}],"author":{"id":4554611,"username":"hollyreynolds","name":"Holly Reynolds","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4554611/avatar.png","web_url":"https://gitlab.com/hollyreynolds"},"type":"ISSUE","assignee":{"id":5965371,"username":"jlear","name":"Jake Lear","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5965371/avatar.png","web_url":"https://gitlab.com/jlear"},"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/215800","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/215800","notes":"https://gitlab.com/api/v4/projects/278964/issues/215800/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/215800/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#215800","relative":"#215800","full":"gitlab-org/gitlab#215800"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":33801673,"iid":215747,"project_id":278964,"title":"Inline Code Coverage Report parsing fails on multiple source directories","description":"### Summary\n\nIn the event of multiple `\u003csource\u003e` directives in cobertura.xml, the coverage report fails to parse completely (as it tries to do `.each()` over a String.\n\nFurthermore, the actual `source` directory values aren't read or utilized, so Java-based projects are unable to use inline code coverage.\n\nThese are bugs affecting the implementation of #3708. \n\nWe should handle these exceptions gracefully and document this limitation on the inline-code-coverage page.\n\n### Steps to reproduce\nAttempt to parse a Cobertura file with multiple source directories. This fails instantly. Example below.\n\n```xml\n            \u003ccoverage branch-rate=\"0.656028368794\" complexity=\"377.0\" line-rate=\"0.80602006689\" timestamp=\"1587504897\"\u003e\n              \u003csources\u003e\n                \u003csource\u003eproject-api/src/main/java\u003c/source\u003e\n                \u003csource\u003eproject-impl/src/main/java\u003c/source\u003e\n              \u003c/sources\u003e\n              \u003cpackages\u003e\n                \u003cpackage branch-rate=\"0.5\" complexity=\"13.0\" line-rate=\"0.594594594595\" name=\"com.d2dx.v1.model\"\u003e\n                  \u003cclasses\u003e\n                    \u003cclass branch-rate=\"0.0\" complexity=\"1.0\" filename=\"com/d2dx/v1/model/Error.java\" line-rate=\"0.0\" name=\"com.d2dx.v1.model.Error\"\u003e\n                      \u003cmethods\u003e\n                        \u003cmethod branch-rate=\"0.0\" complexity=\"1.0\" line-rate=\"0.0\" name=\"of\" signature=\"(Lcom/d2dx/v1/model/Error$Error;)Lcom/d2dx/v1/model/Error;\"\u003e\n                          \u003clines\u003e\n                            \u003cline branch=\"false\" hits=\"2\" number=\"1\"/\u003e\n                            \u003cline branch=\"false\" hits=\"0\" number=\"2\"/\u003e\n                          \u003c/lines\u003e\n                        \u003c/method\u003e\n                      \u003c/methods\u003e\n                    \u003c/class\u003e\n                  \u003c/classes\u003e\n                \u003c/package\u003e\n              \u003c/packages\u003e\n            \u003c/coverage\u003e\n```\n\nFurthermore, in a Maven project, the standard layout will be `project_dir`/`src/main/java`/`package/of/Class.java`. In Cobertura XML this translates to\n\n```xml\n\u003ccoverage\u003e\n  \u003csources\u003e\u003csource\u003esrc/main/java\u003c/source\u003e\u003c/sources\u003e\n  \u003cclasses\u003e\u003cclass filename=\"package/of/Class.java\"\u003e\u003c/class\u003e\u003c/classes\u003e\n\u003c/coverage\u003e\n```\n\nSince GitLab *completely* ignores the `source` directive, the `coverage_reports.json` output of GitLab will report zero (0) covered files. This is because GitLab has indexed the file `package/of/Class.java` but the filename in the repository is `src/main/java/package/of/Class.java`. \n\nBoth of these scenarios are encompassed in the sample XML above.\n\n### Example Project\n\nThe feature isn't enabled on GitLab.com and therefore cannot be reproduced on GitLab.com. I can extract a sample if desired, but I need to install another private GitLab to reproduce so I'd rather not do it if the above report is sufficient.\n\n### What is the current *bug* behavior?\n\nIf multiple source entries are found, `coverage_reports.json` will fail to load (with a 400, if I recall correctly).\n\nIf it's used on a Java project, `coverage_reports.json` will report 0 files have coverage due to the filename/path mismatch.\n\n### What is the expected *correct* behavior?\n\n`coverage_reports.json` should not fail to load for cobertura.xml with multiple `\u003csource\u003e` entries.\n\n`coverage-reports.json` should correctly point out the path for Java projects.\n\n\n### Possible fixes\n1. `cobertura.rb` needs to differentiate between Array and String entries of source key\n2. `coverage_reports.rb` should match up files with sourcepaths\n3. We should handle these exceptions gracefully and document this limitation on the inline-code-coverage page.\n\nhttps://gitlab.com/meledine/gitlab/-/merge_requests/1/diffs\n\nApart from the spec (just playing around there really) the code in `cobertura.rb` and `coverage_reports.rb` is the workaround we are currently using for the issue. As noted in the diff, I expect you probably want a solution using the `pick` method, but I'm not fluent enough in Ruby to make that workaround.","state":"closed","created_at":"2020-04-25T17:44:52.187Z","updated_at":"2022-09-08T23:36:44.377Z","closed_at":"2020-08-18T10:11:03.925Z","closed_by":{"id":1758950,"username":"iamricecake","name":"Erick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1758950/avatar.png","web_url":"https://gitlab.com/iamricecake"},"labels":["Category:Code Testing and Coverage","backend","customer","devops::verify","group::pipeline insights","missed-SLO","missed:13.2","priority::2","severity::3","type::bug","workflow::production"],"milestone":{"id":1233752,"iid":50,"group_id":9970,"title":"13.3","description":"https://about.gitlab.com/releases/2020/08/22/gitlab-13-3-released/","state":"closed","created_at":"2020-04-09T17:39:21.090Z","updated_at":"2022-04-13T14:50:18.976Z","due_date":"2020-08-17","start_date":"2020-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/50"},"assignees":[{"id":1758950,"username":"iamricecake","name":"Erick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1758950/avatar.png","web_url":"https://gitlab.com/iamricecake"}],"author":{"id":1970784,"username":"meledine","name":"Vladimir Katardjiev","state":"active","avatar_url":"https://secure.gravatar.com/avatar/8c2ae3437a8e3a14f59fdd88f9ff451f?s=80\u0026d=identicon","web_url":"https://gitlab.com/meledine"},"type":"ISSUE","assignee":{"id":1758950,"username":"iamricecake","name":"Erick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1758950/avatar.png","web_url":"https://gitlab.com/iamricecake"},"user_notes_count":20,"merge_requests_count":0,"upvotes":3,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/215747","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/215747","notes":"https://gitlab.com/api/v4/projects/278964/issues/215747/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/215747/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#215747","relative":"#215747","full":"gitlab-org/gitlab#215747"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4178,"epic":{"id":93152,"iid":4178,"title":"Inline Code Coverage in GitLab","url":"/groups/gitlab-org/-/epics/4178","group_id":9970,"human_readable_end_date":"Jan 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":33782108,"iid":215725,"project_id":278964,"title":"Read child pipeline artifacts for MR reports (Promoted)","description":"### Release notes\n\nWhen using parent-child pipelines, you are unable to trace those artifacts generated in the downstream pipeline to the parent. Now, GitLab supports reading pipeline artifacts for merge request reports, enabling you to efficiently view and consume test results in your pipelines. \n\n### Problem to solve\n\n\u003c!-- What problem do we solve? Try to define the who/what/why of the opportunity as a user story. For example, \"As a (who), I want (what), so I can (why/value).\" --\u003e\n\nWhen a user generates a dynamic pipeline, the artifacts from the child (dynamically created pipeline) are not brought back to the parent pipeline which prevents GitLab's most valuable page, the Merge Request page, from properly displaying results gathered from the dynamically created child pipeline.\n\nThis is aimed to address [Parent/Child Pipelines](https://docs.gitlab.com/ee/ci/parent_child_pipelines.html) (including Dynamic Pipelines) given that they never receive a Pipeline in the Pipelines list view of a project.  \n\nThis is **not** dealing with [Multi-Project Pipelines](https://docs.gitlab.com/ee/ci/multi_project_pipelines.html) as those pipelines will show a pipeline for the \"child\" in the Pipelines list view of a project.\n\n### Intended users\n\n\n* [Rachel (Release Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#rachel-release-manager)\n* [Parker (Product Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#parker-product-manager)\n* [Delaney (Development Team Lead)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#delaney-development-team-lead)\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Sam (Security Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sam-security-analyst)\n* [Simone (Software Engineer in Test)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#simone-software-engineer-in-test)\n\n### Further details\n\n\u003c!-- Include use cases, benefits, goals, or any other details that will help us understand the problem better. --\u003e\n\nThis issue is part of a more comprehensive solution detailed in https://gitlab.com/groups/gitlab-org/-/epics/3156. Visibility of child artifacts for parent pipelines is a key component of solving for separation of duties within CI/CD pipelines.\n\n**Things Able to be Generated but not Reported On within Dynamically-created Child Pipeline**:\n\n**Ultimate**\n\n* `artifacts:reports:sast`\n* `artifacts:reports:dependency_scanning`\n* `artifacts:reports:container_scanning`\n* `artifacts:reports:dast`\n* `artifacts:reports:license_scanning`\n\n**Premium**\n\n* `artifacts:reports:performance` - Load/Browser\n* `artifacts:reports:metrics`\n\n**Free**\n\n* `artifacts:reports:codequality`\n* Code Coverage detection for the parent pipeline / MR, although it will be displayed for a child job.\n* `artifacts:reports:junit`\n* `artifacts:reports:cobertura`\n\n\n### Proposal\n\n\u003c!-- How are we going to solve the problem? Try to include the user journey! https://about.gitlab.com/handbook/journeys/#user-journey --\u003e\n\nWhen a dynamically-generated pipeline is created and the parent `trigger:` job has a `strategy: depend` applied, all artifacts from the child pipelines are retrieved and utilized for reporting purposes - specifically but not limited to within the Merge Request page.\n\nSome of the report artifacts are blocked by multiple report performance - https://gitlab.com/gitlab-org/gitlab/-/issues/335447. See table below for the full list.\n\nSo we need to address these 2 groups separately:\n\n1. Include reports from child pipelines for those that are not blocked :white_check_mark:  https://gitlab.com/gitlab-org/gitlab/-/issues/362876\n1. Address blocking issue :x: https://gitlab.com/gitlab-org/gitlab/-/issues/335447\n1. Include reports from child pipelines that are now unblocked\n\n| blocked? | report_type         |\n|----------|---------------------|\n| ✅        | cobertura           |\n| ✅        | coverage_report     |\n| :warning:       | junit               |\n| :warning:      | codequality         |\n| ✅        | accessibility       |\n| ✅        | terraform           |\n| :warning:      | license_scanning    |\n| ✅        | metrics             |\n| ✅        | api_fuzzing         |\n| ✅        | container_scanning  |\n| ✅        | coverage_fuzzing    |\n| ✅        | dast                |\n| ✅        | dependency_scanning |\n| ✅        | sast                |\n| ✅        | secret_detection    |\n| ❌        | browser_performance |\n| ❌        | load_performance    |\n\nCaveats:\n\n1. Other than on the MR, the following reports (`junit`, `code_quality`, `license_scanning`) are used in a few other places that don't use `latest_report_builds`, so in those places, the reports from child pipeline would not be included.\n1. Security dashboard is [exposed](https://gitlab.com/gitlab-org/gitlab/blob/84a5101ef22df91049a580fda312483ba959a9b3/ee/app/presenters/ee/ci/pipeline_presenter.rb#L9) based on `latest_report_artifacts`. So there could be situation where the MR shows the security reports from child pipeline, but the security dashboard is not exposed.\n1. Projects::LicensesController uses a different method to query the report, so it would still not include the child pipeline report\n\n### Permissions and Security\n\n\u003c!-- What permissions are required to perform the described actions? Are they consistent with the existing permissions as documented for users, groups, and projects as appropriate? Is the proposed behavior consistent between the UI, API, and other access methods (e.g. email replies)?--\u003e\n\n### Documentation\n\n\u003c!-- See the Feature Change Documentation Workflow https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html\n\n* Add all known Documentation Requirements in this section. See https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html#documentation-requirements\n* If this feature requires changing permissions, update the permissions document. See https://docs.gitlab.com/ee/user/permissions.html --\u003e\n\n### Availability \u0026 Testing\n\n\u003c!-- This section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\nWhat risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning --\u003e\n\n### What does success look like, and how can we measure that?\n\n\u003c!-- Define both the success metrics and acceptance criteria. Note that success metrics indicate the desired business outcomes, while acceptance criteria indicate when the solution is working correctly. If there is no way to measure success, link to an issue that will implement a way to measure this. --\u003e\n\n### What is the type of buyer?\n\nUltimate / Gold Buyer\n\n### Is this a cross-stage feature?\n\n\u003c!-- Communicate if this change will affect multiple Stage Groups or product areas. We recommend always start with the assumption that a feature request will have an impact into another Group. Loop in the most relevant PM and Product Designer from that Group to provide strategic support to help align the Group's broader plan and vision, as well as to avoid UX and technical debt. https://about.gitlab.com/handbook/product/#cross-stage-features --\u003e\n\n### Links / references\n\nBlocked by https://gitlab.com/groups/gitlab-org/-/epics/6302\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2020-04-25T03:30:14.276Z","updated_at":"2022-12-07T17:31:03.700Z","closed_at":"2022-06-07T22:20:57.796Z","closed_by":{"id":3029776,"username":"shampton","name":"Scott Hampton","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3029776/avatar.png","web_url":"https://gitlab.com/shampton"},"labels":["CI artifacts","Category:Build Artifacts","FY23::Q2","GitLab Core","GitLab Free","backend","customer","devops::verify","direction","group::pipeline insights","internal customer","merge requests","missed-deliverable","missed:13.6","missed:13.7","missed:13.8","release post item::in review","section::ops","type::feature","workflow::planning breakdown"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[],"author":{"id":428430,"username":"poffey21","name":"Tim Poffenbarger","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/428430/avatar.png","web_url":"https://gitlab.com/poffey21"},"type":"ISSUE","assignee":null,"user_notes_count":181,"merge_requests_count":0,"upvotes":124,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/215725","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":8,"blocking_issues_count":5,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/215725","notes":"https://gitlab.com/api/v4/projects/278964/issues/215725/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/215725/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#215725","relative":"#215725","full":"gitlab-org/gitlab#215725"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8205,"epic":{"id":541703,"iid":8205,"title":"Read child pipeline artifacts for MR reports","url":"/groups/gitlab-org/-/epics/8205","group_id":9970,"human_readable_end_date":"Jul 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":33773880,"iid":215717,"project_id":278964,"title":"Eliminate audit_events#updated_at column to save storage space","description":"## Summary\n\nThe `audit_events` table has an `updated_at` column that is not used and can be eliminated to save storage space.\n\n## Further details\n\nThe `audit_events#updated_at` column is a `timestamp without time zone`, which occupies [8 bytes of storage](https://www.postgresql.org/docs/9.1/datatype-datetime.html) per record.  The `audit_events` table is relatively large.  On gitlab.com it had [86 million records in 2018-10](https://gitlab.com/gitlab-org/gitlab/-/issues/7865#note_109418643).  If we assume it has 150 million records now, the `updated_at` data is occupying 1.2 GB of storage space on gitlab.com.\n\nNote: Currently the `audit_events` table is the subject of multiple issues that hope to make it more manageable to query ([example](https://gitlab.com/gitlab-org/gitlab/-/issues/7865)).\n\n## Improvements\n\nSave 1.2GB of storage space on gitlab.com.\n\n## Risks\n\nNegligible\n\n## Involved components\n\n- db/structure.sql\n\n## Preliminary testing\n\nThere do not seem to be any records in production where the updated timestamp does not simply duplicate the created timestamp:\n```\nupdated_audit_events = AuditEvent.where('created_at != updated_at').limit(1)\n...\nActiveRecord::QueryCanceled (PG::QueryCanceled: ERROR:  canceling statement due to statement timeout)\n```","state":"closed","created_at":"2020-04-24T21:42:57.709Z","updated_at":"2020-05-19T16:20:13.908Z","closed_at":"2020-05-18T21:17:17.012Z","closed_by":{"id":4512390,"username":"djensen","name":"Dan Jensen","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4512390/avatar.png","web_url":"https://gitlab.com/djensen"},"labels":["Next Up","backend","backstage [DEPRECATED]","devops::manage","group::compliance","workflow::scheduling"],"milestone":null,"assignees":[],"author":{"id":4512390,"username":"djensen","name":"Dan Jensen","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4512390/avatar.png","web_url":"https://gitlab.com/djensen"},"type":"ISSUE","assignee":null,"user_notes_count":3,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/215717","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/215717","notes":"https://gitlab.com/api/v4/projects/278964/issues/215717/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/215717/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#215717","relative":"#215717","full":"gitlab-org/gitlab#215717"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":33771536,"iid":215715,"project_id":278964,"title":"Random registry push failures due to ActiveRecord::RecordInvalid (Validation failed: Name has already been taken)","description":"### Summary\n\nPodman gets error copying image to the remote destination: Error trying to reuse blob sha256:dbfdadd47341d8fef76248007931eade2b2039a376eb9e38861916be0cb06d40 at destination: unexpected http code: 422 (Unprocessable Entity)\n\nNote this error only occurs on initial push attempt, all subsequent pushes are successful.\n\n### Steps to reproduce\n\nCreate Group/Project, ensure Container Registry is enabled. Authenticate podman to registry. Use podman to push image to the remote gitlab registry.\n\nThis issue can also be reproduced with other tools and not just podman. Another example: https://gitlab.com/gitlab-org/charts/gitlab/-/issues/2590.\n\n### Example Project\n\nNA\n\n### What is the current *bug* behavior?\n\nError is produced:\n\n```\n[root@localhost]# podman push localhost/hello/world:latest registry.example.com:4567/container-images/images/hello/world:latest\nGetting image source signatures\nCopying blob ebc8bce41e75 skipped: already exists  \nCopying blob 3115593a9788 skipped: already exists  \nCopying blob 877b494a9f30 skipped: already exists  \nCopying blob 27fe649c2f1d skipped: already exists  \nCopying blob 25ba9f7b8f48 skipped: already exists  \nCopying blob 662009dcc419 [--------------------------------------] 0.0b / 0.0b\nError: Error copying image to the remote destination: Error trying to reuse blob sha256:dbfdadd47341d8fef76248007931eade2b2039a376eb9e38861916be0cb06d40 at destination: unexpected http code: 422 (Unprocessable Entity), URL: https://registry.example.com:8881/jwt/auth?account=root\u0026scope=repository%3Acontainer-images%2Fimages%2Fhello%2Fworld%3Apull%2Cpush\u0026service=container_registry\n```\n\n### What is the expected *correct* behavior?\n\nPush should complete with no errors and send metadata\n\n### Relevant logs and/or screenshots\n\n```\nStarted GET \"/jwt/auth?account=root\u0026scope=repository%3Acontainer-images%2Fimages%2Fhello%2Fworld%3Apull%2Cpush\u0026service=container_registry\" for 172.30.30.10 at 2020-04-24 20:35:17 +0000\nStarted GET \"/jwt/auth?account=root\u0026scope=repository%3Acontainer-images%2Fimages%2Fhello%2Fworld%3Apull%2Cpush\u0026service=container_registry\" for 172.30.30.10 at 2020-04-24 20:35:17 +0000\nStarted GET \"/jwt/auth?account=root\u0026scope=repository%3Acontainer-images%2Fimages%2Fhello%2Fworld%3Apull%2Cpush\u0026service=container_registry\" for 172.30.30.10 at 2020-04-24 20:35:17 +0000\nStarted GET \"/jwt/auth?account=root\u0026scope=repository%3Acontainer-images%2Fimages%2Fhello%2Fworld%3Apull%2Cpush\u0026service=container_registry\" for 172.30.30.10 at 2020-04-24 20:35:17 +0000\nStarted GET \"/jwt/auth?account=root\u0026scope=repository%3Acontainer-images%2Fimages%2Fhello%2Fworld%3Apull%2Cpush\u0026service=container_registry\" for 172.30.30.10 at 2020-04-24 20:35:17 +0000\nStarted GET \"/jwt/auth?account=root\u0026scope=repository%3Acontainer-images%2Fimages%2Fhello%2Fworld%3Apull%2Cpush\u0026service=container_registry\" for 172.30.30.10 at 2020-04-24 20:35:17 +0000\nProcessing by JwtController#auth as HTML\n  Parameters: {\"account\"=\u003e\"root\", \"scope\"=\u003e\"repository:container-images/images/hello/world:pull,push\", \"service\"=\u003e\"container_registry\"}\nProcessing by JwtController#auth as HTML\nProcessing by JwtController#auth as HTML\n  Parameters: {\"account\"=\u003e\"root\", \"scope\"=\u003e\"repository:container-images/images/hello/world:pull,push\", \"service\"=\u003e\"container_registry\"}\n  Parameters: {\"account\"=\u003e\"root\", \"scope\"=\u003e\"repository:container-images/images/hello/world:pull,push\", \"service\"=\u003e\"container_registry\"}\nProcessing by JwtController#auth as HTML\nProcessing by JwtController#auth as HTML\nProcessing by JwtController#auth as HTML\n  Parameters: {\"account\"=\u003e\"root\", \"scope\"=\u003e\"repository:container-images/images/hello/world:pull,push\", \"service\"=\u003e\"container_registry\"}\n  Parameters: {\"account\"=\u003e\"root\", \"scope\"=\u003e\"repository:container-images/images/hello/world:pull,push\", \"service\"=\u003e\"container_registry\"}\n  Parameters: {\"account\"=\u003e\"root\", \"scope\"=\u003e\"repository:container-images/images/hello/world:pull,push\", \"service\"=\u003e\"container_registry\"}\nCompleted 200 OK in 185ms (Views: 0.3ms | ActiveRecord: 14.3ms | Elasticsearch: 0.0ms | Allocations: 15307)\nCompleted 422 Unprocessable Entity in 189ms (ActiveRecord: 20.8ms | Elasticsearch: 0.0ms | Allocations: 19141)\n\nActiveRecord::RecordInvalid (Validation failed: Name has already been taken):\n\napp/models/container_repository.rb:94:in `tap'\napp/models/container_repository.rb:94:in `create_from_path!'\nlib/gitlab/metrics/instrumentation.rb:161:in `block in create_from_path!'\n```\n\n### Output of checks\n\nNA\n\n#### Results of GitLab environment info\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to GitLab environment info\u003c/summary\u003e\n\n\u003cpre\u003e\n\nSystem information\nSystem:\t\t\nCurrent User:\tgit\nUsing RVM:\tno\nRuby Version:\t2.6.5p114\nGem Version:\t2.7.10\nBundler Version:1.17.3\nRake Version:\t12.3.3\nRedis Version:\t5.0.7\nGit Version:\t2.24.1\nSidekiq Version:5.2.7\nGo Version:\tunknown\n\nGitLab information\nVersion:\t12.9.2\nRevision:\tac5568eb5d8\nDirectory:\t/opt/gitlab/embedded/service/gitlab-rails\nDB Adapter:\tPostgreSQL\nDB Version:\t10.12\nURL:\t\thttps://puppet.dw.lab:8881\nHTTP Clone URL:\thttps://puppet.dw.lab:8881/some-group/some-project.git\nSSH Clone URL:\tssh://git@puppet.dw.lab:8882/some-group/some-project.git\nUsing LDAP:\tno\nUsing Omniauth:\tyes\nOmniauth Providers: \n\nGitLab Shell\nVersion:\t12.0.0\nRepository storage paths:\n- default: \t/var/opt/gitlab/git-data/repositories\nGitLab Shell path:\t\t/opt/gitlab/embedded/service/gitlab-shell\nGit:\t\t/opt/gitlab/embedded/bin/git\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n#### Results of GitLab application Check\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to the GitLab application check\u003c/summary\u003e\n\u003cpre\u003e\n\nChecking GitLab subtasks ...\n\nChecking GitLab Shell ...\n\nGitLab Shell: ... GitLab Shell version \u003e= 12.0.0 ? ... OK (12.0.0)\nRunning /opt/gitlab/embedded/service/gitlab-shell/bin/check\nInternal API available: OK\nRedis available via internal API: OK\ngitlab-shell self-check successful\n\nChecking GitLab Shell ... Finished\n\nChecking Gitaly ...\n\nGitaly: ... default ... OK\n\nChecking Gitaly ... Finished\n\nChecking Sidekiq ...\n\nSidekiq: ... Running? ... yes\nNumber of Sidekiq processes ... 1\n\nChecking Sidekiq ... Finished\n\nChecking Incoming Email ...\n\nIncoming Email: ... Reply by email is disabled in config/gitlab.yml\n\nChecking Incoming Email ... Finished\n\nChecking LDAP ...\n\nLDAP: ... LDAP is disabled in config/gitlab.yml\n\nChecking LDAP ... Finished\n\nChecking GitLab App ...\n\nGit configured correctly? ... yes\nDatabase config exists? ... yes\nAll migrations up? ... yes\nDatabase contains orphaned GroupMembers? ... no\nGitLab config exists? ... yes\nGitLab config up to date? ... yes\nLog directory writable? ... yes\nTmp directory writable? ... yes\nUploads directory exists? ... yes\nUploads directory has correct permissions? ... yes\nUploads directory tmp has correct permissions? ... skipped (no tmp uploads folder yet)\nInit script exists? ... skipped (omnibus-gitlab has no init script)\nInit script up-to-date? ... skipped (omnibus-gitlab has no init script)\nProjects have namespace: ... \n2/1 ... yes\nRedis version \u003e= 2.8.0? ... yes\nRuby version \u003e= 2.5.3 ? ... yes (2.6.5)\nGit version \u003e= 2.22.0 ? ... yes (2.24.1)\nGit user has default SSH configuration? ... yes\nActive users: ... 1\nIs authorized keys file accessible? ... yes\n\nChecking GitLab App ... Finished\n\n\nChecking GitLab subtasks ... Finished\n\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n### Possible fixes\n\nhttps://gitlab.com/gitlab-org/gitlab/-/blob/master/app/models/container_repository.rb#L96-103\n\nIssue appears to be a race condition in caused by the jwt token service. Possible that multiple unsaved ContainerRepository objects are getting instantiated but not persisted yet. Then at some point are attempting to persist but failing validation. I have a fix that I will MR against this issue that catches the exception and will instead do a lookup of the persisted model.","state":"closed","created_at":"2020-04-24T20:53:31.777Z","updated_at":"2021-12-02T09:18:07.825Z","closed_at":"2021-11-12T15:30:36.763Z","closed_by":{"id":9516393,"username":"michelletorres","name":"Michelle Torres","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9516393/avatar.png","web_url":"https://gitlab.com/michelletorres"},"labels":["Category:Authentication and Authorization","Category:Container Registry","Deliverable","Package:P1","backend","customer","devops::package","group::package registry","missed:13.0","missed:13.1","missed:13.2","missed:13.3","missed:13.4","ruby","section::ops","sup-eng-contrib-potential","type::bug","workflow::production"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[],"author":{"id":4007634,"username":"derekmwright","name":"Derek Wright","state":"active","avatar_url":"https://secure.gravatar.com/avatar/45da1bf4376d6f184e41de57e03789b9?s=80\u0026d=identicon","web_url":"https://gitlab.com/derekmwright"},"type":"ISSUE","assignee":null,"user_notes_count":35,"merge_requests_count":0,"upvotes":11,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/215715","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/215715","notes":"https://gitlab.com/api/v4/projects/278964/issues/215715/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/215715/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#215715","relative":"#215715","full":"gitlab-org/gitlab#215715"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":33767485,"iid":215697,"project_id":278964,"title":"Allow groups to disable 2FA requirement for subgroups","description":"\u003c!-- The first three sections: \"Problem to solve\", \"Intended users\" and \"Proposal\", are strongly recommended, while the rest of the sections can be filled out during the problem validation or breakdown phase. However, keep in mind that providing complete and relevant information early helps our product team validate the problem and start working on a solution. --\u003e\n\n### Problem to solve\n\nAs an Owner in a group, I want to be able to globally disable the 2FA requirement on all sub-groups in my group on GitLab.com. Today, all users in SSO enabled groups are added as guest at the top level and are in every subgroup due to inheritance. If a user in a sub-group turns on MFA, all users in an SSO enabled group would have 2FA required. This leads to a bad experience for customers that have opted to have MFA handled outside of Gitlab.\n\n### Intended users\n\n* [Sidney (Systems Administrator)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sidney-systems-administrator)\n\n\n### Further details\n\nThis is similar to the feature to bypass 2FA for certain identity providers on self-managed:\n\nhttps://docs.gitlab.com/ee/integration/omniauth.html#bypassing-two-factor-authentication\n\n### Proposal\nCreate a toggle for top-level group owners to prevent enabling of 2FA in all sub-group descendants. Do not allow subgroups below to turn on MFA.\n\n### Permissions and Security\n\nOwner in the top-level group (where SAML SSO is configured)\n\n### Documentation\n\n\u003c!-- See the Feature Change Documentation Workflow https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html\n\n* Add all known Documentation Requirements in this section. See https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html#documentation-requirements\n* If this feature requires changing permissions, update the permissions document. See https://docs.gitlab.com/ee/user/permissions.html --\u003e\n\n### Availability \u0026 Testing\n\n**What risks does this change pose to our availability?**\n\nThis feature appears to be low risk for GitLab instance availability. \n\n**How might it affect the quality of the product?**\n\nThis feature is going to improve user experience (and so the quality of the product) by allowing users that use SSO along with external MFA to disable 2FA\nat top-level so that sub-group admins do not enable it accidentally causing confusion and sub-optimal user experience.\n\n**What additional test coverage or changes to tests will be needed?**\n\nEnsure the following scenarios are covered:\n\n* By default, \"Allow MFA to be configured in subgroups\", should be checked to continue existing behaviour.\n* When \"Allow MFA to be configured in subgroups\" checkbox state is changed form checked to unchecked, any sub-groups that already have 2FA enabled should now have it disabled.\n* When \"Allow MFA to be configured in subgroups\" checkbox state is at unchecked, sub-groups should not see the \"Two-factor authentication\" section. \n* When \"Allow MFA to be configured in subgroups\" checkbox state is at unchecked, top level group should see the \"Two-factor authentication\" section and the user should be able to enable/disable it.\n\nThese scenarios could be coved at levels lower than end-to-end tests. No end-to-end tests would be required. However, we should ensure that the `package-and-qa` job should be run ensure existing end-to-end tests pass. \n\n**Will it require cross-browser testing?**\n\nI this feature is not UI heavy so extensive cross-browser testing shouldn't be requried.\n\n\u003c!-- This section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\nWhat risks does this change pose to our availability? How might it affect the quality of the product? \n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning --\u003e\n\n### What does success look like, and how can we measure that?\n\n\u003c!-- Define both the success metrics and acceptance criteria. Note that success metrics indicate the desired business outcomes, while acceptance criteria indicate when the solution is working correctly. If there is no way to measure success, link to an issue that will implement a way to measure this. --\u003e\n\n### What is the type of buyer?\n\n\u003c!-- What is the buyer persona for this feature? See https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/buyer-persona/\nIn which enterprise tier should this feature go? See https://about.gitlab.com/handbook/product/pricing/#four-tiers --\u003e\n\n### Is this a cross-stage feature?\n\n\u003c!-- Communicate if this change will affect multiple Stage Groups or product areas. We recommend always start with the assumption that a feature request will have an impact into another Group. Loop in the most relevant PM and Product Designer from that Group to provide strategic support to help align the Group's broader plan and vision, as well as to avoid UX and technical debt. https://about.gitlab.com/handbook/product/#cross-stage-features --\u003e\n\n### Links / references","state":"closed","created_at":"2020-04-24T17:57:30.046Z","updated_at":"2022-05-18T14:55:53.112Z","closed_at":"2020-10-19T09:28:17.445Z","closed_by":{"id":2629166,"username":"lmcandrew","name":"Liam McAndrew","state":"active","avatar_url":"https://secure.gravatar.com/avatar/5801f5e2fd21127836c0be61ec71f06b?s=80\u0026d=identicon","web_url":"https://gitlab.com/lmcandrew"},"labels":["Category:Authentication and Authorization","Next Up","backend","customer","devops::manage","group::authentication and authorization","missed:13.4","quad-planning::complete-action","section::dev","type::feature","workflow::production"],"milestone":{"id":1233754,"iid":52,"group_id":9970,"title":"13.5","description":"https://about.gitlab.com/releases/2020/10/22/gitlab-13-5-released/","state":"closed","created_at":"2020-04-09T17:39:21.990Z","updated_at":"2022-04-21T07:21:12.213Z","due_date":"2020-10-17","start_date":"2020-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/52"},"assignees":[{"id":2982208,"username":"mksionek","name":"Gosia Ksionek","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2982208/avatar.png","web_url":"https://gitlab.com/mksionek"},{"id":5709669,"username":"mushakov","name":"Melissa Ushakov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5709669/avatar.png","web_url":"https://gitlab.com/mushakov"}],"author":{"id":786106,"username":"lyle","name":"Lyle Kozloff","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f94534d0df4ebb24d5634eb42548d8b4?s=80\u0026d=identicon","web_url":"https://gitlab.com/lyle"},"type":"ISSUE","assignee":{"id":2982208,"username":"mksionek","name":"Gosia Ksionek","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2982208/avatar.png","web_url":"https://gitlab.com/mksionek"},"user_notes_count":32,"merge_requests_count":0,"upvotes":7,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/215697","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/215697","notes":"https://gitlab.com/api/v4/projects/278964/issues/215697/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/215697/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#215697","relative":"#215697","full":"gitlab-org/gitlab#215697"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":33764481,"iid":215684,"project_id":278964,"title":"Auto-Remediation - Bot profile - Frontend","description":"- This is a sub-issue for https://gitlab.com/gitlab-org/gitlab/-/issues/216027\n- ~backend issue: https://gitlab.com/gitlab-org/gitlab/-/issues/215669\n\n# Problem to solve\n\nAs part of the **Suggested Solution** feature, a bot user will automatically author remediation MRs to address fixable vulnerabilities.\n\nThe bot is similar to any other user account, but we want it to stand out so that it can't be confused with a normal user. We also want to provide links to the documentation where the bot's purpose will be explained.\n\n![bot_profile](/uploads/ac6cad78c0ff3fbc4bd35265c92b5ec5/bot_profile.png)\n\n:robot: [avatar in Figma](https://www.figma.com/file/0DhXXlTakscLiHZLKuiJ6C/Illustration-library?node-id=19%3A0)\n\n\n### Implementation plan\n\n- [x] User popover:\n  - [x] Hardcode a link to the bot's documentation\n\n![Screen_Shot_2020-09-10_at_1.17.08_PM](/uploads/7ac277196cea357372f41e04ab737488/Screen_Shot_2020-09-10_at_1.17.08_PM.png)\n\n- [x] User lists (admin area)\n  - [x] Hardcode a link to the bot's documentation\n\n![Screen_Shot_2020-09-10_at_1.18.10_PM](/uploads/f6d624c925060ed02fa31efa29b7cd9b/Screen_Shot_2020-09-10_at_1.18.10_PM.png)\n\n- [x] User profile\n  - [x] Hardcode a link to the bot's documentation (doesn't need to be hardcoded as it is set as the user's website in the backend)\n  - [x] Remove all tabs but **Overview** and **Activity**\n  - [x] Remove the **Projects** column and make the **Activity** column span the full width\n\n![bot_profile](/uploads/954a50ef592da5a573eb580d380e754d/bot_profile.png)","state":"closed","created_at":"2020-04-24T16:25:52.233Z","updated_at":"2021-04-03T08:46:04.089Z","closed_at":"2020-10-20T17:22:31.842Z","closed_by":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"labels":["AST Leadership","Category:Container Scanning","Category:Dependency Scanning","Deliverable","Enterprise Edition","GitLab Ultimate","devops::secure","direction","frontend","group::composition analysis","section::sec","sub-issue","type::feature","workflow::in review"],"milestone":{"id":1233754,"iid":52,"group_id":9970,"title":"13.5","description":"https://about.gitlab.com/releases/2020/10/22/gitlab-13-5-released/","state":"closed","created_at":"2020-04-09T17:39:21.990Z","updated_at":"2022-04-21T07:21:12.213Z","due_date":"2020-10-17","start_date":"2020-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/52"},"assignees":[{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"}],"author":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"type":"ISSUE","assignee":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"user_notes_count":5,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/215684","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":8,"completed_count":8},"weight":3,"blocking_issues_count":1,"has_tasks":true,"task_status":"8 of 8 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/215684","notes":"https://gitlab.com/api/v4/projects/278964/issues/215684/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/215684/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#215684","relative":"#215684","full":"gitlab-org/gitlab#215684"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3188,"epic":{"id":47781,"iid":3188,"title":"Auto-Remediation: auto-create merge request","url":"/groups/gitlab-org/-/epics/3188","group_id":9970,"human_readable_end_date":"Aug 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":33764403,"iid":215682,"project_id":278964,"title":"Suggested Solution - Settings for auto-fix - frontend","description":"- This is a sub-issue for https://gitlab.com/gitlab-org/gitlab/-/issues/216026\n- ~backend issue: https://gitlab.com/gitlab-org/gitlab/-/issues/215668\n\n### Problem to solve\nImplements the ~frontend part for adding a new setting for enabling/disabling Suggestion Solutions.\n\n![a](/uploads/a90a1c9395ad130857c139d6587abc8e/a.png)\n\n### Implementation plan\n\n* Create and push the `security_auto_fix` feature flag.\n* Create the new `Auto-fix vulnerabilities` section in Security \u0026 Compliance \u003e Configuration (`picture a.`).\n* Implement API calls to toggle the setting.","state":"closed","created_at":"2020-04-24T16:22:35.157Z","updated_at":"2021-07-19T09:17:17.252Z","closed_at":"2020-05-08T12:17:02.026Z","closed_by":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"labels":["auto remediation","devops::secure","frontend","group::composition analysis","quad-planning::complete-no-action","sub-issue","type::feature","workflow::verification"],"milestone":{"id":991112,"iid":42,"group_id":9970,"title":"13.0","description":"","state":"closed","created_at":"2019-09-04T15:20:39.024Z","updated_at":"2020-10-08T12:00:55.725Z","due_date":"2020-05-17","start_date":"2020-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/42"},"assignees":[{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"}],"author":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"type":"ISSUE","assignee":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/215682","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/215682","notes":"https://gitlab.com/api/v4/projects/278964/issues/215682/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/215682/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#215682","relative":"#215682","full":"gitlab-org/gitlab#215682"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":33764117,"iid":215679,"project_id":278964,"title":"DAST vulnerabilities show more information about the request - Backend","description":"This is tracking ~backend work for #36332\n\n## Implementation \n\n- [x] The `request` and `response` should be added to `evidence` in the DAST Report Format schema.\n- [x] DAST should be converted to generate the JSON report based on accessing the ZAP API, not by using the generated ZAP report. This is because the ZAP report does not contain the information required that lets us obtain the request/response associated with the vulnerability.\n- [x] DAST should add the `request` and `response` to the `evidence` in the JSON report. \n- [x] DAST tests should be updated to include `request` and `response` output. Information that changes with each request should be normalized before comparison in the tests.\n- [x] DAST should be released with a new minor version.\n- [x] The DAST schema should be released with a new patch version.\n- [x] GitLab Rails should be updated to expose the `request` and `response` information.\n- [x] The request and response should be displayed on the Security Dashboard vulnerabilities, Pipeline Security Tab,  Merge Request widget, and new ~~standalone vulnerability page~~ (done in another issue).\n- [x] Security products other than DAST should not expose the request/response information.\n- [x] Clean up the old ZAP Report usage in the DAST report classes\n- [x] ~~Add to 14.0 deprecation building the ZAP report using `-J`~~ Not considered required.\n- [x] Update DAST documentation to remove any `-J` limitations\n- [x] Communicate the changes to the way headers are stored `{}` -\u003e `[{}, {}]`\n- [x] Ensure that query parameters are added to the URL\n- [x] Investigate status code of 0 (see full scan test) (seems to be no different to the known redirect error)\n- [x] Use a feature toggle so we can verify the feature is ready (safe) to be released)\n- [x] Extract `Vulnerabilities` from the Secure Report Format generation in DAST Python\n- [x] Turn feature toggle off (once approved)\n- [x] Expose `request`/`response` headers in the report, and for certain headers, the mask the value with 8 asterisks. e.g. `Authorization: ********`\n- [x] Users can set the headers to mask using the environment variable `DAST_MASK_HTTP_HEADERS`. Multiple values can be supplied if separated by a comma e.g `DAST_MASK_HTTP_HEADERS=Authorization,Cookie`.\n- [x] If no headers are defined by `DAST_MASK_HTTP_HEADERS`, mask the headers `Set-Cookie`, `Cookie`, `Proxy-Authorization` and `Authorization`.\n- [x] Header names should be case insensitive. e.g. `DAST_MASK_HTTP_HEADERS=set-cookie`\n- [x] `Cookie/Set-Cookie` headers will be treated as special cases, their values will be masked. e.g. `Cookie: sessionId=**********; bizId=**********`\n- [x] Values that are part of the `Set-Cookie` header should not be masked, e.g. `HttpOnly`, `Secure`. See [possible values](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Set-Cookie).\n- [x] Document usage of the new variables in the DAST documentation.","state":"closed","created_at":"2020-04-24T16:12:36.796Z","updated_at":"2020-06-18T22:11:30.066Z","closed_at":"2020-06-18T22:11:29.974Z","closed_by":{"id":4312863,"username":"cam_swords","name":"Cameron Swords","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3b729cf96bcced6384ebb94f0362bd4b?s=80\u0026d=identicon","web_url":"https://gitlab.com/cam_swords"},"labels":["backend","devops::secure","group::dynamic analysis","missed:13.0","sub-issue","workflow::verification"],"milestone":{"id":1112145,"iid":47,"group_id":9970,"title":"13.1","description":"","state":"closed","created_at":"2020-01-03T12:28:30.160Z","updated_at":"2020-10-08T12:01:07.361Z","due_date":"2020-06-17","start_date":"2020-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/47"},"assignees":[{"id":3658061,"username":"rdickenson","name":"Russell Dickenson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3658061/avatar.png","web_url":"https://gitlab.com/rdickenson"},{"id":4312863,"username":"cam_swords","name":"Cameron Swords","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3b729cf96bcced6384ebb94f0362bd4b?s=80\u0026d=identicon","web_url":"https://gitlab.com/cam_swords"}],"author":{"id":5412787,"username":"nmccorrison","name":"Neil McCorrison","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5412787/avatar.png","web_url":"https://gitlab.com/nmccorrison"},"type":"ISSUE","assignee":{"id":3658061,"username":"rdickenson","name":"Russell Dickenson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3658061/avatar.png","web_url":"https://gitlab.com/rdickenson"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/215679","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":25,"completed_count":25},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"25 of 25 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/215679","notes":"https://gitlab.com/api/v4/projects/278964/issues/215679/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/215679/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#215679","relative":"#215679","full":"gitlab-org/gitlab#215679"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":33763402,"iid":215672,"project_id":278964,"title":"Replace Vue component event bus with mitt implementation in standalone vulnerabilities","description":"## Summary\n\nPer https://gitlab.com/gitlab-org/gitlab/-/merge_requests/30244#note_330660605\n\n\u003e What concerns me is we're adding an event bus and in Vue 3 event bus [will be removed](https://github.com/vuejs/rfcs/blob/master/active-rfcs/0020-events-api-change.md#adoption-strategy). I planned to announce a list of 'features-not-to-be-added' on Tuesday on FE call to make our migration to Vue 3 more smooth, and event buses are one of these features.\n\n## Improvements\n\nReasoning for Vue removing the $on method [here](https://github.com/vuejs/rfcs/blob/master/active-rfcs/0020-events-api-change.md#adoption-strategy)\n\n## Risks\n\nWe need to wait until [mitt](https://github.com/developit/mitt) is installed and verified in our code base\n\n## Involved components\n\n`ee/app/assets/javascripts/vulnerabilities/components/vulnerabilities_event_bus.js`\n\n`ee/app/assets/javascripts/vulnerabilities/components/footer.vue`\n\n`ee/app/assets/javascripts/vulnerabilities/components/header.vue`\n\nRelated to !30244","state":"closed","created_at":"2020-04-24T15:48:38.790Z","updated_at":"2020-11-09T20:38:53.201Z","closed_at":"2020-11-09T20:38:53.168Z","closed_by":{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"},"labels":["Category:Vulnerability Management","[deprecated] Accepting merge requests","devops::secure","frontend","frontend-weight::1","group::threat insights","section::sec","type::maintenance","workflow::ready for development"],"milestone":{"id":1233755,"iid":53,"group_id":9970,"title":"13.6","description":"https://about.gitlab.com/releases/2020/11/22/gitlab-13-6-released/","state":"closed","created_at":"2020-04-09T17:39:22.328Z","updated_at":"2022-04-13T14:51:04.376Z","due_date":"2020-11-17","start_date":"2020-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/53"},"assignees":[],"author":{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"},"type":"ISSUE","assignee":null,"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/215672","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/215672","notes":"https://gitlab.com/api/v4/projects/278964/issues/215672/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/215672/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#215672","relative":"#215672","full":"gitlab-org/gitlab#215672"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":33762136,"iid":215669,"project_id":278964,"title":"Suggested Solution - Auto-fix MRs - backend","description":"This is a sub-issue for https://gitlab.com/gitlab-org/gitlab/-/issues/216027\n\nWe need to create auto-fix MR if the setting for auto-fix is enabled:\n\n### Implementation plan\n* Register the bot user `GitLab-security-bot` that will author auto-fix MRs.\n    * When registering the bot, we should set a status that will make it clear that it's system bot: `:robot: System user bot`\n* Make `GitLab-security-bot`'s profile link available to the frontend (HAML).\n* Automatically create remediation MRs assigned to `GitLab-security-bot` and labelled with `gitlab-vulnerability-auto-fix` whenever an available solution is detected for a given vulnerability.\n* Notify the users that MRs were created via an alert/flash message (`picture e.`).","state":"closed","created_at":"2020-04-24T15:29:22.816Z","updated_at":"2021-07-30T16:45:00.667Z","closed_at":"2020-12-17T15:04:59.613Z","closed_by":{"id":1378158,"username":"brytannia","name":"Tetiana Chupryna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1378158/avatar.png","web_url":"https://gitlab.com/brytannia"},"labels":["AST Leadership","Category:Container Scanning","Category:Dependency Scanning","Deliverable","Enterprise Edition","GitLab Ultimate","backend","devops::secure","direction","feature::enhancement","group::composition analysis","missed-deliverable","missed:13.5","missed:13.6","section::sec","sub-issue","type::feature","workflow::verification"],"milestone":{"id":1233757,"iid":54,"group_id":9970,"title":"13.7","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:43:14.893Z","updated_at":"2022-04-13T14:51:12.240Z","due_date":"2020-12-17","start_date":"2020-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/54"},"assignees":[{"id":1378158,"username":"brytannia","name":"Tetiana Chupryna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1378158/avatar.png","web_url":"https://gitlab.com/brytannia"}],"author":{"id":1378158,"username":"brytannia","name":"Tetiana Chupryna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1378158/avatar.png","web_url":"https://gitlab.com/brytannia"},"type":"ISSUE","assignee":{"id":1378158,"username":"brytannia","name":"Tetiana Chupryna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1378158/avatar.png","web_url":"https://gitlab.com/brytannia"},"user_notes_count":25,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/215669","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":1,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/215669","notes":"https://gitlab.com/api/v4/projects/278964/issues/215669/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/215669/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#215669","relative":"#215669","full":"gitlab-org/gitlab#215669"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3188,"epic":{"id":47781,"iid":3188,"title":"Auto-Remediation: auto-create merge request","url":"/groups/gitlab-org/-/epics/3188","group_id":9970,"human_readable_end_date":"Aug 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":33758813,"iid":215668,"project_id":278964,"title":"Suggested Solution - Settings for auto-fix - backend","description":"This is a sub-issue for https://gitlab.com/gitlab-org/gitlab/-/issues/216026\n\nWe need to collect and save User preference for auto-fix solutions.\n\n### Implementation plan\n\n* Create an API endpoint (`Projects::Security::ConfigurationController#auto_fix`) to toggle the new project setting `Automatically create MRs` for different report types. \n\n```\nPOST namespace/project/-/security/configuration/auto_fix\n\nparams\n{\n  feature: String, ['container_scanning', 'dependency_scanning', 'all']\n  enable: Boolean\n}\n```\n\n* Those settings should be enabled by default.\n\nSettings (`ConfigurationPresenter#to_h`) hash will include a new key:\n```ruby\n{  \n  \"auto_fix_enabled\": {\n    \"dependency_scanning\": Boolean,\n    \"container_scanning\": Boolean\n  },\n  \"auto_fix_user_path\": String\n}\n```","state":"closed","created_at":"2020-04-24T15:24:26.674Z","updated_at":"2021-04-03T08:32:51.256Z","closed_at":"2020-06-17T14:27:52.210Z","closed_by":{"id":1378158,"username":"brytannia","name":"Tetiana Chupryna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1378158/avatar.png","web_url":"https://gitlab.com/brytannia"},"labels":["Deliverable","Enterprise Edition","GitLab Ultimate","auto remediation","backend","devops::secure","group::composition analysis","quad-planning::complete-no-action","sub-issue","type::feature","vulnerability interaction","workflow::verification"],"milestone":{"id":1112145,"iid":47,"group_id":9970,"title":"13.1","description":"","state":"closed","created_at":"2020-01-03T12:28:30.160Z","updated_at":"2020-10-08T12:01:07.361Z","due_date":"2020-06-17","start_date":"2020-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/47"},"assignees":[{"id":1378158,"username":"brytannia","name":"Tetiana Chupryna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1378158/avatar.png","web_url":"https://gitlab.com/brytannia"}],"author":{"id":1378158,"username":"brytannia","name":"Tetiana Chupryna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1378158/avatar.png","web_url":"https://gitlab.com/brytannia"},"type":"ISSUE","assignee":{"id":1378158,"username":"brytannia","name":"Tetiana Chupryna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1378158/avatar.png","web_url":"https://gitlab.com/brytannia"},"user_notes_count":16,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/215668","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/215668","notes":"https://gitlab.com/api/v4/projects/278964/issues/215668/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/215668/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#215668","relative":"#215668","full":"gitlab-org/gitlab#215668"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":33755753,"iid":215662,"project_id":278964,"title":"Backend: Empty `only`/`except` combined with `rules` (and vice-versa) should be a valid CI config","description":"Currently, if I have the following CI config:\n\n```yaml\njob-a:\n  only:\n    refs:\n      - master\n  except:\n    refs:\n      - merge_requests\n  script: echo \"foo\"\n\njob-b:\n  extends: job-a\n  rules:\n    - if: '$CI_MERGE_REQUEST_ID'\n  script: echo \"bar\"\n```\n\nI get a validation error:\n\n```\njobs:job-b config key may not be used with `rules`: only, except\n```\n\nNote that we get the same problem if `job-a` is defined in a template.\n\n### Proposal \n\nWhile the error is preventing clashing conditions, it would be great to be able to make the `only`/`except` empty so that we don't get the validation error:\n\n```yaml\njob-a:\n  only:\n    refs:\n      - master\n  except:\n    refs:\n      - merge_requests\n  script: echo \"foo\"\n\njob-b:\n  extends: job-a\n  only: null\n  except: null\n  rules:\n    - if: '$CI_MERGE_REQUEST_ID'\n  script: echo \"bar\"\n```\n\n~~The above seems intuitive and in line with how you can make other keywords empty (e.g. `before_script: []` or `dependencies: []` are familiar patterns).~~ --\u003e [2022-12-12] Updated proposal to use `null` instead of `[]`/`{}` in order to remain consistent with [excluding a keyword](https://docs.gitlab.com/ee/ci/yaml/yaml_optimization.html#exclude-a-key-from-extends) (see [discussion](https://gitlab.com/gitlab-org/gitlab/-/issues/215662#note_1204058383)).\n\nThis proposal would solve https://gitlab.com/gitlab-org/gitlab/issues/31371 (which I'm going to close in favor of this actionable proposal).\n\nNotes:\n\n1. That this proposal should work the same if `job-a` is defined in a template.\n1. The same thing should apply to rules, `rules: null`, i.e. the following should be valid as well:\n\n   ```yaml\n   job-a:\n     rules:\n       - if: '$CI_MERGE_REQUEST_ID'\n     script: echo \"foo\"\n\n   job-b:\n     extends: job-a\n     rules: null\n     only:\n       refs:\n         - master\n     except:\n       refs:\n         - merge_requests\n     script: echo \"bar\"\n   ```\n\n## Implementation\n| ~backend | MR |\n| ------ | ------ |\n| Allow CI `only`/`except` to be combined with `rules` when null | https://gitlab.com/gitlab-org/gitlab/-/merge_requests/106895 |","state":"closed","created_at":"2020-04-24T14:14:22.828Z","updated_at":"2022-12-23T18:12:21.784Z","closed_at":"2022-12-20T17:11:47.485Z","closed_by":{"id":12867582,"username":"lma-git","name":"Leaminn Ma","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12867582/avatar.png","web_url":"https://gitlab.com/lma-git"},"labels":["CI rules","Category:Continuous Integration","Category:Pipeline Authoring","backend","candidate::15.8","customer","devops::verify","group::pipeline authoring","internal customer","section::ops","type::feature","workflow::production"],"milestone":{"id":2745648,"iid":83,"group_id":9970,"title":"15.8","description":"","state":"active","created_at":"2022-08-22T16:57:34.875Z","updated_at":"2022-08-22T16:57:34.875Z","due_date":"2023-01-17","start_date":"2022-12-18","expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/83"},"assignees":[{"id":12867582,"username":"lma-git","name":"Leaminn Ma","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12867582/avatar.png","web_url":"https://gitlab.com/lma-git"}],"author":{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"type":"ISSUE","assignee":{"id":12867582,"username":"lma-git","name":"Leaminn Ma","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12867582/avatar.png","web_url":"https://gitlab.com/lma-git"},"user_notes_count":18,"merge_requests_count":0,"upvotes":11,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/215662","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/215662","notes":"https://gitlab.com/api/v4/projects/278964/issues/215662/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/215662/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#215662","relative":"#215662","full":"gitlab-org/gitlab#215662"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":33755128,"iid":215658,"project_id":278964,"title":"API endpoint for listing all group and project memberships for a user","description":"\u003c!-- The first three sections: \"Problem to solve\", \"Intended users\" and \"Proposal\", are strongly recommended, while the rest of the sections can be filled out during the problem validation or breakdown phase. However, keep in mind that providing complete and relevant information early helps our product team validate the problem and start working on a solution. --\u003e\n\n### Problem to solve\n\n\u003c!-- What problem do we solve? Try to define the who/what/why of the opportunity as a user story. For example, \"As a (who), I want (what), so I can (why/value).\" --\u003e\n\nCompliance-minded organizations, or generally those with standard auditing practices, need to be able to view a [list of user access](https://gitlab.com/gitlab-org/gitlab/-/issues/1772) within their GitLab instances. Knowing what users are part of specific groups and projects helps an organization audit those memberships as part of their access management policy.\n\nCurrently, GitLab does not provide a simple, friendly way to obtain this information and the only current workaround is leveraging multiple GitLab API endpoints to create this report.\n\n### Intended users\n\n[Cameron (Compliance Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#cameron-compliance-manager)\n\n### Further details\n\n\u003c!-- Include use cases, benefits, goals, or any other details that will help us understand the problem better. --\u003e\n\nThis is the first iterative change we can make towards delivering this feature to customers due to some technical challenges with the [original proposal](https://gitlab.com/gitlab-org/gitlab/-/issues/1772). Of import:\n\n* Rendering the data within the GitLab UI has a considerable performance cost (e.g. 6.75s to render data for 20 users)\n* Using current API endpoints also has a considerable performance cost (e.g. 9s for 44 users)\n* UX challenges for larger instances where group and project memberships may be high\n\n### Proposal\n\n\u003c!-- How are we going to solve the problem? Try to include the user journey! https://about.gitlab.com/handbook/journeys/#user-journey --\u003e\n\nCreate a GraphQL API endpoint specifically tuned for querying data about a user's group and project memberships. The JSON response would look similar to this:\n\n```json\n[\n  {\n    \"user_id\": 1,\n    \"memberships\": [\n      {\n        \"access_level\": 20,\n        \"created_by_id\": 37,\n        \"source_id\": 1,\n        \"source_type\": \"Project\",\n        \"created_at\" : \"2017-03-17T17:18:09.283Z\",\n        \"updated_at\" : \"2017-03-17T17:18:09.283Z\"\n      },\n      {\n        \"access_level\": 20,\n        \"created_by_id\": 20,\n        \"source_id\": 3,\n        \"source_type\": \"Namespace\",\n        \"created_at\" : \"2017-03-17T17:18:09.283Z\",\n        \"updated_at\" : \"2017-03-17T17:18:09.283Z\"\n      },\n      {\n        \"access_level\": 40,\n        \"created_by_id\": nil,\n        \"source_id\": 28,\n        \"source_type\": \"Project\",\n        \"created_at\" : \"2017-03-17T17:18:09.283Z\",\n        \"updated_at\" : \"2017-03-17T17:18:09.283Z\"\n      }\n    ]\n  },\n  {\n    \"user_id\": 20,\n    \"memberships\": [\n      {\n        \"access_level\": 50,\n        \"created_by_id\": 1,\n        \"source_id\": 5,\n        \"source_type\": \"Project\",\n        \"created_at\" : \"2017-03-17T17:18:09.283Z\",\n        \"updated_at\" : \"2017-03-17T17:18:09.283Z\"\n      }\n    ]\n  }\n]\n```\n\n### Permissions and Security\n\n\u003c!-- What permissions are required to perform the described actions? Are they consistent with the existing permissions as documented for users, groups, and projects as appropriate? Is the proposed behavior consistent between the UI, API, and other access methods (e.g. email replies)?--\u003e\n\nOnly `administrators` should be able to pull this data via API.\n\n### Documentation\n\n\u003c!-- See the Feature Change Documentation Workflow https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html\n\n* Add all known Documentation Requirements in this section. See https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html#documentation-requirements\n* If this feature requires changing permissions, update the permissions document. See https://docs.gitlab.com/ee/user/permissions.html --\u003e\n\n### Availability \u0026 Testing\n\n\u003c!-- This section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\nWhat risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning --\u003e\n\n### What does success look like, and how can we measure that?\n\n\u003c!-- Define both the success metrics and acceptance criteria. Note that success metrics indicate the desired business outcomes, while acceptance criteria indicate when the solution is working correctly. If there is no way to measure success, link to an issue that will implement a way to measure this. --\u003e\n\n### What is the type of buyer?\n\n\u003c!-- What is the buyer persona for this feature? See https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/buyer-persona/\nIn which enterprise tier should this feature go? See https://about.gitlab.com/handbook/product/pricing/#four-tiers --\u003e\n\n### Is this a cross-stage feature?\n\n\u003c!-- Communicate if this change will affect multiple Stage Groups or product areas. We recommend always start with the assumption that a feature request will have an impact into another Group. Loop in the most relevant PM and Product Designer from that Group to provide strategic support to help align the Group's broader plan and vision, as well as to avoid UX and technical debt. https://about.gitlab.com/handbook/product/#cross-stage-features --\u003e\n\n### Links / references\n\n- [Example GraphQL endpoint implementation](https://gitlab.com/gitlab-org/gitlab/-/commit/063270db71344f68607c714a9ccf590181e2e050)\n\n### GraphQL Query\n\n```graphql\n{\n  users {\n    pageInfo {\n      startCursor\n      endCursor\n      hasNextPage\n    }\n    nodes {\n      id\n      ...memberships\n    }\n  }\n}\n\n\nfragment membership on MemberInterface {\n  createdAt\n  updatedAt\n  accessLevel {\n    integerValue\n    stringValue\n  }\n  createdBy {\n    id\n  }\n}\n\nfragment memberships on User {\n  groupMemberships {\n    nodes {\n      ...membership\n      group {\n        id\n      }\n    }\n  }\n  \n  projectMemberships {\n    nodes {\n      ...membership\n      project {\n        id\n      }\n    }\n  }\n}\n```","state":"closed","created_at":"2020-04-24T13:58:18.171Z","updated_at":"2022-03-28T19:24:05.034Z","closed_at":"2020-06-18T08:01:26.165Z","closed_by":{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"},"labels":["Category:Audit Reports [DEPRECATED]","Deliverable","GitLab Core","backend","devops::manage","direction","group::compliance","priority::1","type::feature","workflow::verification"],"milestone":{"id":1112145,"iid":47,"group_id":9970,"title":"13.1","description":"","state":"closed","created_at":"2020-01-03T12:28:30.160Z","updated_at":"2020-10-08T12:01:07.361Z","due_date":"2020-06-17","start_date":"2020-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/47"},"assignees":[{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"}],"author":{"id":4748651,"username":"mattgonzales-gitlab","name":"Matt Gonzales (ex-GitLab)","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4748651/avatar.png","web_url":"https://gitlab.com/mattgonzales-gitlab"},"type":"ISSUE","assignee":{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"},"user_notes_count":65,"merge_requests_count":2,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/215658","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/215658","notes":"https://gitlab.com/api/v4/projects/278964/issues/215658/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/215658/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#215658","relative":"#215658","full":"gitlab-org/gitlab#215658"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2429,"epic":{"id":17735,"iid":2429,"title":"Audit Reports: Minimal Maturity","url":"/groups/gitlab-org/-/epics/2429","group_id":9970,"human_readable_end_date":"Jun 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":33754911,"iid":215657,"project_id":278964,"title":"Searching issues with Epic=Any doesn't return anything","description":"## Description\n\nJust noticed this on `.com` and in a review app:\n\n![Screen_Shot_2020-04-24_at_8.45.43_AM](/uploads/63eda1df26903d5936a970aee67faf51/Screen_Shot_2020-04-24_at_8.45.43_AM.png)\n\nhttps://gitlab.com/groups/gitlab-org/-/issues?scope=all\u0026utf8=%E2%9C%93\u0026state=opened\u0026epic_id=Any","state":"closed","created_at":"2020-04-24T13:53:23.176Z","updated_at":"2021-11-08T16:53:51.200Z","closed_at":"2020-05-18T14:59:52.071Z","closed_by":{"id":3860200,"username":"egrieff","name":"Eugenia Grieff","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3860200/avatar.png","web_url":"https://gitlab.com/egrieff"},"labels":["Breakdown Sufficient","Category:Portfolio Management","[deprecated] Accepting merge requests","backend","devops::plan","epics","group::product planning","priority::3","severity::3","type::bug","workflow::verification"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[{"id":3860200,"username":"egrieff","name":"Eugenia Grieff","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3860200/avatar.png","web_url":"https://gitlab.com/egrieff"}],"author":{"id":2233420,"username":"pslaughter","name":"Paul Slaughter","state":"active","avatar_url":"https://secure.gravatar.com/avatar/631b25421eb206ab44cb2793ef09d881?s=80\u0026d=identicon","web_url":"https://gitlab.com/pslaughter"},"type":"ISSUE","assignee":{"id":3860200,"username":"egrieff","name":"Eugenia Grieff","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3860200/avatar.png","web_url":"https://gitlab.com/egrieff"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/215657","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/215657","notes":"https://gitlab.com/api/v4/projects/278964/issues/215657/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/215657/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#215657","relative":"#215657","full":"gitlab-org/gitlab#215657"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":33754471,"iid":215655,"project_id":278964,"title":"In create issue under epic form, project dropdown width shoves issue title","description":"## Description\n\nJust noticed this on a recent review app. This happens when project titles are really long.\n\n![Screen_Shot_2020-04-24_at_8.38.18_AM](/uploads/0cdc93d03743676caf403c9fc35cde2f/Screen_Shot_2020-04-24_at_8.38.18_AM.png)\n\nI'd expect these to keep their original 50/50 split\n\n![Screen_Shot_2020-04-24_at_8.39.39_AM](/uploads/d1312c665ebab1f13f9be5f815092a39/Screen_Shot_2020-04-24_at_8.39.39_AM.png)","state":"closed","created_at":"2020-04-24T13:40:30.844Z","updated_at":"2021-05-03T02:07:36.958Z","closed_at":"2021-05-03T02:07:36.901Z","closed_by":{"id":1786152,"username":"gitlab-bot","name":"🤖 GitLab Bot 🤖","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1786152/avatar.png","web_url":"https://gitlab.com/gitlab-bot"},"labels":["[deprecated] Accepting merge requests","auto closed","devops::plan","frontend","group::project management","priority::4","section::dev","severity::4","stale","type::bug","vintage"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":2233420,"username":"pslaughter","name":"Paul Slaughter","state":"active","avatar_url":"https://secure.gravatar.com/avatar/631b25421eb206ab44cb2793ef09d881?s=80\u0026d=identicon","web_url":"https://gitlab.com/pslaughter"},"type":"ISSUE","assignee":null,"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/215655","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/215655","notes":"https://gitlab.com/api/v4/projects/278964/issues/215655/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/215655/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#215655","relative":"#215655","full":"gitlab-org/gitlab#215655"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":79561275,"iid":322452,"project_id":278964,"title":"Allow Sidekiq jobs to use readonly database replicas","description":"Currently `Sidekiq` always use `primary`, but not always needs. This means that all of Sidekiq's database traffic will hit the primary, whereas only some web database traffic will hit the primary. From https://dashboards.gitlab.net/d/000000144/postgresql-overview, we can see that none of the replicas are used as much as the primary, but all of them are in the same ballpark.\n\nOverall, our metrics [suggest](https://dashboards.gitlab.net/explore?orgId=1\u0026left=%5B%22now-24h%22,%22now%22,%22Global%22,%7B%22expr%22:%22sum%20(rate(sidekiq_jobs_db_seconds_sum%7Benv%3D%5C%22gprd%5C%22%7D%5B1m%5D))%22,%22requestId%22:%22Q-18712458-a678-44ab-b48b-9e509ced6065-0Q-c2ef5993-0d06-465f-bb6a-45f37efe34ae-1A%22,%22format%22:%22time_series%22,%22instant%22:false,%22hide%22:false%7D,%7B%22expr%22:%22sum%20(controller_action:gitlab_sql_duration_seconds_sum:rate1m%7Benv%3D%5C%22gprd%5C%22%7D)%22,%22requestId%22:%22Q-18712458-a678-44ab-b48b-9e509ced6065-0Q-c2ef5993-0d06-465f-bb6a-45f37efe34ae-1B%22,%22format%22:%22time_series%22,%22instant%22:false,%22hide%22:false%7D,%7B%22ui%22:%5Btrue,true,true,%22none%22%5D%7D%5D) that we spend more database time in web transactions (green line) than Sidekiq jobs (orange line), but Sidekiq is still a significant percentage:\n\n![image](/uploads/954e016b435a9587f9bac597ce4b6476/image.png)\n\nWe currently have no way to distinguish whether the given worker\nrequires read-only or read-write access to data. It seems that\nif we would start annotating workers, we could call for majority\nof time Replicas instead, for operations that do not require `read-write`\nand super up-to date data, like:\n\n- all notifications\n- all webhooks\n- all ...\n\nThis would allow us to remove a number of `SELECT` statements from `master`.\n\ngitlab-org/gitlab~12994248 is spending a lot of effort of annotating workers,\nmaybe following the same pattern we could do the same.\n\n## Proposed solution\n1. We should be able to define the `data consistency` requirement for a worker:\n\n* `always`: the worker is required to use primary (a default)\n* `sticky`: worker would use replica as long as possible, but would switch to primary either on write or long replication lag: use on jobs that require to be executed as fast as possible\n* `delayed`: worker would switch to primary only on write, would use replica always if there's a long replication lag the job will be delayed, and only if the replica is not up to date on the next retry, it will switch to the primary. It should be used on jobs where we are fine to delay the execution of a given job, due to their importance: `expire caches`, or `execute hooks`...\n\nIt is also possible to control `data consistency` configuration with the feature flag for each worker:\n\n```ruby\ndata_consistency :delayed, feature_flag: load_balancing_for_build_hooks_worker\n```\n2. In order to be safer, we should be able to control LoadBalancing for the Sidekiq by setting the ENV variable `ENABLE_LOAD_BALANCING_FOR_SIDEKIQ` to 'true'\n\nRollout plan:\n\n## Rollout plan:\n1. For GitLab.com, possibly Omnibus too: we should make sure that the pgbouncer nodes for the read-only replicas are configured with a sidekiq pool. At present, (iirc) only the primary has a Sidekiq pool (since the replica pool would be unused). - @jarv  opened a Charts issue https://gitlab.com/gitlab-org/charts/gitlab/-/issues/2619 for this, once this is done we will need to add an option to allow Sidekiq to use the loadbalancing config.\n1. We will also need to configure the read-replica pgbouncer pools on the `patroni` nodes https://gitlab.com/gitlab-com/gl-infra/infrastructure/-/issues/12871\n1. Enable load balancing for Sidekiq by setting ENV\\[`ENABLE_LOAD_BALANCING_FOR_SIDEKIQ`\\]='true'. This will enable load balancing, but we will still always use `primary` database for all workers since workers data_consistency will default to: `always`\n1. In https://gitlab.com/gitlab-org/gitlab/-/issues/324232 we will configure BuildHooksWorker data_consistency to `:delayed`, controlled by the feature flag: `load_balancing_for_build_hooks_worker`\n1. Rollout of a feature flag: `load_balancing_for_build_hooks_worker`\n1. If everything is fine, we will proceed with updating other workers listed in https://gitlab.com/groups/gitlab-org/-/epics/5592","state":"closed","created_at":"2020-04-24T13:04:16.432Z","updated_at":"2022-07-11T12:13:52.637Z","closed_at":"2021-04-07T14:18:38.569Z","closed_by":{"id":4787364,"username":"nmilojevic1","name":"Nikola Milojevic","state":"active","avatar_url":"https://secure.gravatar.com/avatar/8451d96c8a6229c26374f6278f44dac0?s=80\u0026d=identicon","web_url":"https://gitlab.com/nmilojevic1"},"labels":["Category:Application Performance","devops::data_stores","group::application performance","group::scalability","rapid action","rapid action::shift db load from primary","section::ops","workflow::staging"],"milestone":{"id":1406669,"iid":59,"group_id":9970,"title":"13.11","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-08-13T14:23:09.688Z","updated_at":"2022-04-21T07:22:08.835Z","due_date":"2021-04-17","start_date":"2021-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/59"},"assignees":[{"id":4787364,"username":"nmilojevic1","name":"Nikola Milojevic","state":"active","avatar_url":"https://secure.gravatar.com/avatar/8451d96c8a6229c26374f6278f44dac0?s=80\u0026d=identicon","web_url":"https://gitlab.com/nmilojevic1"}],"author":{"id":12452,"username":"ayufan","name":"Kamil Trzciński","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a285e30f35d72526fb0954e8fe7cefa?s=80\u0026d=identicon","web_url":"https://gitlab.com/ayufan"},"type":"ISSUE","assignee":{"id":4787364,"username":"nmilojevic1","name":"Nikola Milojevic","state":"active","avatar_url":"https://secure.gravatar.com/avatar/8451d96c8a6229c26374f6278f44dac0?s=80\u0026d=identicon","web_url":"https://gitlab.com/nmilojevic1"},"user_notes_count":92,"merge_requests_count":0,"upvotes":5,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/322452","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":8,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/322452","notes":"https://gitlab.com/api/v4/projects/278964/issues/322452/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/322452/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#322452","relative":"#322452","full":"gitlab-org/gitlab#322452"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5592,"epic":{"id":225026,"iid":5592,"title":"Shift DB load from Primary to Replicas Rapid Action | Goal 3: BuildHooksWorker queries read-replicas","url":"/groups/gitlab-org/-/epics/5592","group_id":9970,"human_readable_end_date":"Apr 24, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":33752955,"iid":215646,"project_id":278964,"title":"Implement worker that `hard-deletes` old CI jobs metadata","description":"Currently, we implemented the [Deprecate retention of build metadata older than 3 months\n(https://gitlab.com/gitlab-org/gitlab-foss/-/issues/50939).\n\nThis after a specified period allows us to disable ability for jobs to be retried. In such\ncases they are marked as `archived` and cannot be triggered. This does not prevent trigger\nthe whole pipeline for a given commit, but this makes this pipeline to loose some metadata to be removed:\n- metadata of individual builds\n- DAG dependencies\n- etc.\n\nThe above is based on assumption, after some period you do not really care about being able to retry\nan individual job. You can still trigger the whole pipeline. Holding all these data is storage intensive\nas DB is not infinitely scalable.\n\nThis is the first step, as we implemented `soft-delete` (we disallow, but do not remove actual data).\n\nNext step would be to start `hard-delete` of these data, after they hit a deadline. This allows us\nto remove a substantial amount of data from Database, and make the whole system significantly more\nhealthy.\n\nI would assume that we would introduce some worker that would walk the table and delete these entries.\nThis worker likely would be executed once a month or even less frequently.","state":"closed","created_at":"2020-04-24T12:57:34.718Z","updated_at":"2022-09-08T13:05:37.572Z","closed_at":"2022-08-24T16:13:00.689Z","closed_by":{"id":4512666,"username":"jheimbuck_gl","name":"James Heimbuck","state":"active","avatar_url":"https://secure.gravatar.com/avatar/8dd2ef9c1cacb6e80d7ca47db6f0ce22?s=80\u0026d=identicon","web_url":"https://gitlab.com/jheimbuck_gl"},"labels":["CI/CD Core Platform","Category:Continuous Integration","Engineering Allocation","SaaS","backend","bug::performance","database","devops::verify","group::pipeline execution","priority::3","section::ops","severity::2","type::maintenance","workflow::refinement"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":12452,"username":"ayufan","name":"Kamil Trzciński","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a285e30f35d72526fb0954e8fe7cefa?s=80\u0026d=identicon","web_url":"https://gitlab.com/ayufan"},"type":"ISSUE","assignee":null,"user_notes_count":60,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/215646","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":0,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/215646","notes":"https://gitlab.com/api/v4/projects/278964/issues/215646/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/215646/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#215646","relative":"#215646","full":"gitlab-org/gitlab#215646"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7643,"epic":{"id":453550,"iid":7643,"title":"Retention strategies for tables","url":"/groups/gitlab-org/-/epics/7643","group_id":9970},"iteration":null,"health_status":null},{"id":33749999,"iid":215640,"project_id":278964,"title":"Stored XSS on PyPi simple API endpoint","description":"**[HackerOne report #856836](https://hackerone.com/reports/856836)** by `vakzz` on 2020-04-23, assigned to @dcouture:\n\n### Summary  \nThe recently released PyPi package feature has a new endpoint at `/api/:version/projects/:id/packages/pypi/simple/*package_name` which exposes an HTML page listing the package versions. The `package_link`'s are generated using the following code:\n\n[package_presenter.rb#L50](https://gitlab.com/gitlab-org/gitlab/-/blob/master/ee/app/presenters/packages/pypi/package_presenter.rb#L50)\n\n```ruby  \n      def package_link(url, required_python, filename)  \n        \"\u003ca href=\\\"#{url}\\\" data-requires-python=\\\"#{required_python}\\\"\u003e#{filename}\u003c/a\u003e\u003cbr\u003e\"  \n      end  \n```\n\nThe only sanitation on `required_python` is that it is less than 50 characters (db constraint), otherwise arbitrary html can be injected.  \n### Steps to reproduce\n\n1. Create project  \n1. Create a pypi package with `requires_python='\"\u003e\u003cscript\u003ealert(1)\u003c/script\u003e'`\n\n    ```bash  \ncurl -v \"https://__token__:$TOKEN@gitlab.com/api/v4/projects/18315917/packages/pypi\" -F content=@/tmp/lala.txt -F requires_python=2.7 -F version=1 -F name='package_test_1' -F requires_python='\"\u003e\u003cscript\u003ealert(1)\u003c/script\u003e'  \n    ````  \n1. Visit the simple api endpoint and see the injected code: https://gitlab.com/api/v4/projects/18315917/packages/pypi/simple/package_test_1\n\n    ```html  \n        \u003c!DOCTYPE html\u003e  \n        \u003chtml\u003e  \n          \u003chead\u003e  \n            \u003ctitle\u003eLinks for package_test_1\u003c/title\u003e  \n          \u003c/head\u003e  \n          \u003cbody\u003e  \n            \u003ch1\u003eLinks for package_test_1\u003c/h1\u003e  \n            \u003ca href=\"https://gitlab.com/api/v4/projects/18315917/packages/pypi/files/lala.txt#sha256=\" data-requires-python=\"\"\u003e\u003cscript\u003ealert(1)\u003c/script\u003e\"\u003elala.txt\u003c/a\u003e\u003cbr\u003e  \n          \u003c/body\u003e  \n        \u003c/html\u003e  \n    ```\n\nCurrently will be blocked by the csp on gitlab.com\n\n### Impact  \n* An attacker could execute arbitrary javascript by sending a user or getting them to click on a url to the simple api endpoint \n\n### Examples  \n* https://gitlab.com/api/v4/projects/18315917/packages/pypi/simple/package_test_1\n\n### What is the current *bug* behavior?  \nThe user supplied fields used by the `package_presenter` are not all sanitized\n\n### What is the expected *correct* behavior?  \nAll of the user supplied fields in `package_presenter` should be sanitized before being turned into html\n\n### Output of checks  \nThis bug happens on GitLab.com\n\n## Impact\n\n* An attacker could execute arbitrary javascript by sending a user or getting them to click on a url to the simple api endpoint","state":"closed","created_at":"2020-04-24T11:51:19.899Z","updated_at":"2020-09-28T14:34:16.056Z","closed_at":"2020-07-02T13:02:10.197Z","closed_by":{"id":4086191,"username":"cmaxim","name":"Costel Maxim","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4086191/avatar.png","web_url":"https://gitlab.com/cmaxim"},"labels":["HackerOne","devops::package","group::package registry","priority::3","security","severity::3","workflow::in review"],"milestone":{"id":1233746,"iid":49,"group_id":9970,"title":"13.2","description":"https://about.gitlab.com/releases/2020/07/22/gitlab-13-2-released/","state":"closed","created_at":"2020-04-09T17:28:01.032Z","updated_at":"2022-04-13T14:48:24.167Z","due_date":"2020-07-17","start_date":"2020-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/49"},"assignees":[{"id":4262651,"username":"ggelatti","name":"Giorgenes Gelatti","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4262651/avatar.png","web_url":"https://gitlab.com/ggelatti"}],"author":{"id":2741139,"username":"gitlab-securitybot","name":"GitLab SecurityBot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2741139/avatar.png","web_url":"https://gitlab.com/gitlab-securitybot"},"type":"ISSUE","assignee":{"id":4262651,"username":"ggelatti","name":"Giorgenes Gelatti","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4262651/avatar.png","web_url":"https://gitlab.com/ggelatti"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2020-07-23","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/215640","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/215640","notes":"https://gitlab.com/api/v4/projects/278964/issues/215640/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/215640/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#215640","relative":"#215640","full":"gitlab-org/gitlab#215640"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":33746194,"iid":215637,"project_id":278964,"title":"Enable group import be able to import `json` or `ndjson` without flipping the feature flag.","description":"The [introduction of the Group Import/Export with ndjson](https://gitlab.com/gitlab-org/gitlab/-/issues/212327) is not backward compatible, which means that after enabling the `group_import_export_ndjson` Feature Flag users will be able to use only `ndjson`.\n\nTo avoid that we need a way to enable the Group Import to be able to import either `ndjson` or `json` exported packages.\n\n---\nPOC: https://gitlab.com/gitlab-org/gitlab/-/merge_requests/30055","state":"closed","created_at":"2020-04-24T11:06:43.917Z","updated_at":"2020-05-13T09:44:23.689Z","closed_at":"2020-05-13T09:44:23.321Z","closed_by":{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"},"labels":["Category:Importers","Unplanned","devops::manage","group::import","milestone::p1"],"milestone":{"id":991112,"iid":42,"group_id":9970,"title":"13.0","description":"","state":"closed","created_at":"2019-09-04T15:20:39.024Z","updated_at":"2020-10-08T12:00:55.725Z","due_date":"2020-05-17","start_date":"2020-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/42"},"assignees":[{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"}],"author":{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"},"type":"ISSUE","assignee":{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/215637","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/215637","notes":"https://gitlab.com/api/v4/projects/278964/issues/215637/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/215637/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#215637","relative":"#215637","full":"gitlab-org/gitlab#215637"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":33744748,"iid":215633,"project_id":278964,"title":"Too frequent retries for some domains LE","description":"https://sentry.gitlab.net/gitlab/gitlabcom/issues/1537547/?query=is%3Aunresolved%20%22Acme%3A%3AClient%3A%3AError%3A%3ARateLimited%22\n\n```\nAcme::Client::Error::RateLimited: Error creating new order :: too many certificates already issued for exact set of domains: semoir.app: see https://letsencrypt.org/docs/rate-limits/\n  acme/client/faraday_middleware.rb:54:in `raise_on_error!'\n    raise error_class, error_message\n  acme/client/faraday_middleware.rb:38:in `on_complete'\n    raise_on_error!\n  acme/client/faraday_middleware.rb:23:in `block in call'\n    @app.call(env).on_complete { |response_env| on_complete(response_env) }\n  faraday/response.rb:61:in `on_complete'\n    yield(env)\n  acme/client/faraday_middleware.rb:23:in `call'\n    @app.call(env).on_complete { |response_env| on_complete(response_env) }\n...\n(88 additional frame(s) were not displayed)\n\nError creating new order :: too many certificates already issued for exact set of domains: semoir.app: see https://letsencrypt.org/docs/rate-limits/\n```","state":"closed","created_at":"2020-04-24T10:38:33.413Z","updated_at":"2021-12-20T03:03:38.096Z","closed_at":"2021-12-20T03:03:38.066Z","closed_by":{"id":1786152,"username":"gitlab-bot","name":"🤖 GitLab Bot 🤖","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1786152/avatar.png","web_url":"https://gitlab.com/gitlab-bot"},"labels":["Category:Pages","[deprecated] Accepting merge requests","[deprecated] low hanging fruit","auto closed","devops::release","group::release","priority::3","section::ops","severity::3","stale","type::bug","vintage"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":402401,"username":"jobbot","name":"Bot","state":"active","avatar_url":"https://secure.gravatar.com/avatar/aaa6738f1ebf25404010884af511b0e7?s=80\u0026d=identicon","web_url":"https://gitlab.com/jobbot"},"type":"ISSUE","assignee":null,"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/215633","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/215633","notes":"https://gitlab.com/api/v4/projects/278964/issues/215633/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/215633/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#215633","relative":"#215633","full":"gitlab-org/gitlab#215633"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":33744663,"iid":215632,"project_id":278964,"title":"ActiveJob::SerializationError: Unsupported argument type: PagesDomainPresenter","description":"https://sentry.gitlab.net/gitlab/gitlabcom/issues/1524634/?referrer=gitlab_plugin\n\n```\nActiveJob::SerializationError: Unsupported argument type: PagesDomainPresenter\n  active_job/serializers.rb:28:in `serialize'\n    raise SerializationError.new(\"Unsupported argument type: #{argument.class.name}\") unless serializer\n  active_job/arguments.rb:87:in `serialize_argument'\n    Serializers.serialize(argument)\n  active_job/arguments.rb:34:in `block in serialize'\n    arguments.map { |argument| serialize_argument(argument) }\n  active_job/arguments.rb:34:in `map'\n    arguments.map { |argument| serialize_argument(argument) }\n  active_job/arguments.rb:34:in `serialize'\n    arguments.map { |argument| serialize_argument(argument) }\n...\n(172 additional frame(s) were not displayed)\n\nActiveJob::SerializationError: Unsupported argument type: PagesDomainPresenter\n```","state":"closed","created_at":"2020-04-24T10:37:55.493Z","updated_at":"2020-05-12T12:54:25.454Z","closed_at":"2020-05-12T12:54:25.423Z","closed_by":{"id":3379682,"username":"vshushlin","name":"Vladimir Shushlin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3379682/avatar.png","web_url":"https://gitlab.com/vshushlin"},"labels":["Category:Pages","Release::P1","cicd::active","devops::release","priority::2","priority::3","regression","regression:12.10","severity::2","severity::3","type::bug","workflow::in review"],"milestone":{"id":991112,"iid":42,"group_id":9970,"title":"13.0","description":"","state":"closed","created_at":"2019-09-04T15:20:39.024Z","updated_at":"2020-10-08T12:00:55.725Z","due_date":"2020-05-17","start_date":"2020-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/42"},"assignees":[{"id":3379682,"username":"vshushlin","name":"Vladimir Shushlin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3379682/avatar.png","web_url":"https://gitlab.com/vshushlin"}],"author":{"id":402401,"username":"jobbot","name":"Bot","state":"active","avatar_url":"https://secure.gravatar.com/avatar/aaa6738f1ebf25404010884af511b0e7?s=80\u0026d=identicon","web_url":"https://gitlab.com/jobbot"},"type":"ISSUE","assignee":{"id":3379682,"username":"vshushlin","name":"Vladimir Shushlin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3379682/avatar.png","web_url":"https://gitlab.com/vshushlin"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/215632","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/215632","notes":"https://gitlab.com/api/v4/projects/278964/issues/215632/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/215632/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#215632","relative":"#215632","full":"gitlab-org/gitlab#215632"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":33741232,"iid":215630,"project_id":278964,"title":"Geo: Verification details reference synchronisation","description":"### Problem to solve\n\n\u003c!-- What problem do we solve? Try to define the who/what/why of the opportunity as a user story. For example, \"As a (who), I want (what), so I can (why/value).\" --\u003e\n\nWe currently use the same popover for verification and replication. Technically this is not correct, because for verification nothing is syncronized:\n\n![Screenshot_2020-04-24_at_11.38.37](/uploads/3a265833257ce2cc38831176a55cbcff/Screenshot_2020-04-24_at_11.38.37.png)\n\n### Intended users\n\n* [Sidney (Systems Administrator)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sidney-systems-administrator)\n\n### Further details\n\n\u003c!-- Include use cases, benefits, goals, or any other details that will help us understand the problem better. --\u003e\n\n### Proposal\n\n\u003c!-- How are we going to solve the problem? Try to include the user journey! https://about.gitlab.com/handbook/journeys/#user-journey --\u003e\n\n1. We could just change the language on the popover to say \"Verified\" instead of \"Synced\"\n2. We could think about rolling verification into the synronization overview rather than having it separate.\n\n### Links / references","state":"closed","created_at":"2020-04-24T10:10:56.320Z","updated_at":"2021-05-25T20:06:10.659Z","closed_at":"2021-05-25T14:04:55.455Z","closed_by":{"id":4748809,"username":"zcuddy","name":"Zack Cuddy","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4748809/avatar.png","web_url":"https://gitlab.com/zcuddy"},"labels":["Enterprise Edition","GitLab Premium","UI text","UX","devops::systems","frontend","group::geo","section::enablement","workflow::in review"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":4748809,"username":"zcuddy","name":"Zack Cuddy","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4748809/avatar.png","web_url":"https://gitlab.com/zcuddy"}],"author":{"id":3944199,"username":"fzimmer","name":"Fabian Zimmer","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3944199/avatar.png","web_url":"https://gitlab.com/fzimmer"},"type":"ISSUE","assignee":{"id":4748809,"username":"zcuddy","name":"Zack Cuddy","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4748809/avatar.png","web_url":"https://gitlab.com/zcuddy"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/215630","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/215630","notes":"https://gitlab.com/api/v4/projects/278964/issues/215630/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/215630/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#215630","relative":"#215630","full":"gitlab-org/gitlab#215630"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4712,"epic":{"id":135048,"iid":4712,"title":"Geo: Implement the new design of the Geo node page","url":"/groups/gitlab-org/-/epics/4712","group_id":9970,"human_readable_end_date":"Jun 22, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":33732529,"iid":215613,"project_id":278964,"title":"Allow Ci::Minutes::BatchResetService to continue with next batch in case of failues","description":"## Problem\n\nFrom https://gitlab.com/gitlab-org/gitlab/-/merge_requests/29684#note_329847627:\n\n1. Right now if one of the \"sub-batch\" (of 1000) [fails](https://gitlab.com/gitlab-org/gitlab/-/blob/972aca59596e27f20bd6f2e4526eeeb2c9445763/ee/app/services/ci/minutes/batch_reset_service.rb#L35) the whole batch of 100,000 blows up. This is better than the previous version when the whole reset was interrupted but it's still bad.\n\n2. We also print the first 10 IDs in the batch that failed. This is not really useful as it does not identify the ID range that failed\n\n## Proposal\n\n1. I think we should change this approach to a \"best effort\" by logging an error in Sentry when a transaction is rolled back and continue with the next batch. This way we know exactly the impact of the failure.\n\n2. In doing this we could also log the first and last IDs of the batch, rather than the first 10 IDs. This would allow us to know which batch we can manually retry.","state":"closed","created_at":"2020-04-24T08:23:52.853Z","updated_at":"2020-09-03T13:38:13.752Z","closed_at":"2020-06-16T13:33:28.074Z","closed_by":{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"},"labels":["Category:Continuous Integration","customer","devops::verify","group::pipeline execution","internal customer","maintenance::refactor","severity::1","workflow::production"],"milestone":{"id":1112145,"iid":47,"group_id":9970,"title":"13.1","description":"","state":"closed","created_at":"2020-01-03T12:28:30.160Z","updated_at":"2020-10-08T12:01:07.361Z","due_date":"2020-06-17","start_date":"2020-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/47"},"assignees":[{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"}],"author":{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"},"type":"ISSUE","assignee":{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/215613","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/215613","notes":"https://gitlab.com/api/v4/projects/278964/issues/215613/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/215613/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#215613","relative":"#215613","full":"gitlab-org/gitlab#215613"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":"on_track"},{"id":33724225,"iid":215592,"project_id":278964,"title":"Avoid N+1 queries on project search","description":"## About\n\nWhen working on adding compliance framework settings on project view (gitlab-org/gitlab!29137), we've noticed some test failures on the N+1 tests around searching projects (https://gitlab.com/gitlab-org/gitlab/-/jobs/508606713)\n\n@ifarkas has curiously raised some questions around why other missing preloads do not cause the test to fail\n\n\u003e I was just curious seeing that in `Dashboard::ProjectsController` we also preload `creator`, or `project_feature`. Those aren't preloaded here, yet the spec doesn't fail because of N+1, but it failed for `compliance_framework_setting`. :shrug:\n\nhttps://gitlab.com/gitlab-org/gitlab/-/merge_requests/29137#note_329767783\n\n## Investigation\n\n- The N+1 test seems to be incorrectly set up to capture these addition N+1 hotspots on `creator` and `project_feature`. I suspect that we are using the same `creator` and `project_feature` and cached queries are not counted.\n- I have tried to dig in the performance bar results in Gitlab.com search page and confirmed that there are quite a lot of N+1 queries around `creator` and `project_feature`\n\n## Proposal\n\n- Fix `./ee/spec/features/search/elastic/global_search_spec.rb` test to correctly pick up N+1 queries\n- Add appropriate preloads to improve performance of search page\n\n## Notes\n- There could be other search scopes (e.g. issues, milestones) that could exhibit N+1 queries too\n- How we can avoid missing out on these new preloads moving forward\n  - Can we consolidate these preloads? At the moment, we have these logic in two places\n    - The controller (i.e `Dashboard::ProjectsController`)   \n    - The [elastic module](https://gitlab.com/gitlab-org/gitlab/blob/master/ee/lib/gitlab/elastic/search_results.rb#L25-50) (i.e. `Elastic::SearchResults`","state":"closed","created_at":"2020-04-24T02:23:40.383Z","updated_at":"2022-05-31T11:23:31.193Z","closed_at":"2020-06-16T17:43:49.173Z","closed_by":{"id":4888751,"username":"changzhengliu","name":"Changzheng Liu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4888751/avatar.png","web_url":"https://gitlab.com/changzhengliu"},"labels":["Category:Global Search","backstage [DEPRECATED]","bug::performance","devops::data_stores","group::global search","workflow::verification"],"milestone":{"id":1112145,"iid":47,"group_id":9970,"title":"13.1","description":"","state":"closed","created_at":"2020-01-03T12:28:30.160Z","updated_at":"2020-10-08T12:01:07.361Z","due_date":"2020-06-17","start_date":"2020-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/47"},"assignees":[{"id":398752,"username":"tancnle","name":"Tan Le","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/398752/avatar.png","web_url":"https://gitlab.com/tancnle"}],"author":{"id":398752,"username":"tancnle","name":"Tan Le","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/398752/avatar.png","web_url":"https://gitlab.com/tancnle"},"type":"ISSUE","assignee":{"id":398752,"username":"tancnle","name":"Tan Le","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/398752/avatar.png","web_url":"https://gitlab.com/tancnle"},"user_notes_count":4,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/215592","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/215592","notes":"https://gitlab.com/api/v4/projects/278964/issues/215592/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/215592/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#215592","relative":"#215592","full":"gitlab-org/gitlab#215592"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":33723678,"iid":215587,"project_id":278964,"title":"Forcing a comment BEFORE dismissing a vulnerability in the Security Dashboard","description":"\u003c!-- The first three sections: \"Problem to solve\", \"Intended users\" and \"Proposal\", are strongly recommended, while the rest of the sections can be filled out during the problem validation or breakdown phase. However, keep in mind that providing complete and relevant information early helps our product team validate the problem and start working on a solution. --\u003e\n\n### Problem to solve\nMany organizations require some commentary before closing or dismissing security risks especially when they are labeled \"high\" or \"critical\".  This would be helpful for other contributors to understand why at a glance a security vuln was dismissed.  Creating an issue associated with a vulnerability would partially capture this information automatically BUT this collaboration is not inherited when dismissing a vulnerability.  \n\n\u003c!-- What problem do we solve? Try to define the who/what/why of the opportunity as a user story. For example, \"As a (who), I want (what), so I can (why/value).\" --\u003e\n\n### Intended users\n\n* Administrators \n* policy enforcement \n* audit team\n* compliance team\n\n\u003c!-- Who will use this feature? If known, include any of the following: types of users (e.g. Developer), personas, or specific company roles (e.g. Release Manager). It's okay to write \"Unknown\" and fill this field in later.\n\nPersonas are described at https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/\n\n* [Rachel (Release Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#rachel-release-manager)\n* [Parker (Product Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#parker-product-manager)\n* [Delaney (Development Team Lead)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#delaney-development-team-lead)\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Presley (Product Designer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#presley-product-designer)\n* [Devon (DevOps Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#devon-devops-engineer)\n* [Sidney (Systems Administrator)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sidney-systems-administrator)\n* [Sam (Security Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sam-security-analyst)\n* [Dana (Data Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#dana-data-analyst)\n* [Simone (Software Engineer in Test)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#simone-software-engineer-in-test)\n* [Allison (Application Ops)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#allison-application-ops) --\u003e\n\n### Proposal\nForce a comment before enabling dismissing a vulnerability so folks don't forget to comment sidestepping company policy by accident.\n\n\u003c!-- How are we going to solve the problem? Try to include the user journey! https://about.gitlab.com/handbook/journeys/#user-journey --\u003e\n\n\n### What is the type of buyer?\n\nAnyone who has to follow company application policies. \n\n\u003c!-- What is the buyer persona for this feature? See https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/buyer-persona/\nIn which enterprise tier should this feature go? See https://about.gitlab.com/handbook/product/pricing/#four-tiers --\u003e","state":"closed","created_at":"2020-04-24T01:43:26.744Z","updated_at":"2020-06-04T22:07:06.880Z","closed_at":"2020-06-04T22:07:06.854Z","closed_by":{"id":4708748,"username":"matt_wilson","name":"Matt Wilson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4708748/avatar.png","web_url":"https://gitlab.com/matt_wilson"},"labels":["Secure UX::Compliance \u0026 Auditing","UX Dev Team","security","type::feature"],"milestone":null,"assignees":[{"id":1534957,"username":"jkrooswyk","name":"Joel Krooswyk","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1534957/avatar.png","web_url":"https://gitlab.com/jkrooswyk"},{"id":4829746,"username":"dknopf1","name":"Daryl Knopf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/773d75f18d1f6af134e95a7fea7dde74?s=80\u0026d=identicon","web_url":"https://gitlab.com/dknopf1"}],"author":{"id":4829746,"username":"dknopf1","name":"Daryl Knopf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/773d75f18d1f6af134e95a7fea7dde74?s=80\u0026d=identicon","web_url":"https://gitlab.com/dknopf1"},"type":"ISSUE","assignee":{"id":1534957,"username":"jkrooswyk","name":"Joel Krooswyk","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1534957/avatar.png","web_url":"https://gitlab.com/jkrooswyk"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/215587","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/215587","notes":"https://gitlab.com/api/v4/projects/278964/issues/215587/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/215587/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#215587","relative":"#215587","full":"gitlab-org/gitlab#215587"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":33717445,"iid":215570,"project_id":278964,"title":"Merge Request page has requests that error 404 when user does not have access to SAST and DAST reports","description":"If you load an MR, for example https://gitlab.com/gitlab-org/gitlab/-/merge_requests/29128, and look at a console you see two requests that are result in 404's:\n\n* https://gitlab.com/gitlab-org/gitlab/-/vulnerability_feedback?category=sast\n* https://gitlab.com/gitlab-org/gitlab/-/vulnerability_feedback?category=dast\n\n||\n|-|\n|![Screenshot_from_2020-05-26_20-31-45](/uploads/4aa23727421bf1374ea863bb96ec7a17/Screenshot_from_2020-05-26_20-31-45.png)|\n\n---\n\nThis does not happen on a user account with \"Developer\" permissions, but is appearing for a user with \"Guest\" permissions.\n\n### Acceptance Criteria\n\n1. User without permission for SAST and DAST reports (i.e. \"Guest\") does not attempt the two AJAX requests.\n2. User with permissions for SAST and DAST reports (i.e. \"Developer\") does attempt and successfully completes the two AJAX requests.\n\n### Technical notes\nThe source of the two requests is in these two `if` checks:\n\nhttps://gitlab.com/gitlab-org/gitlab/blob/e61e29a0ce22946c42eb3ff7a6d6aa331a63ed9f/ee/app/assets/javascripts/vue_shared/security_reports/grouped_security_reports_app.vue#L209-226\n\n```js\n    if (sastDiffEndpoint \u0026\u0026 this.hasSastReports) {\n      ...\n    }\n    if (dastDiffEndpoint \u0026\u0026 this.hasDastReports) {\n      ...\n    }\n```\n\nIt doesn't check if the user has access to the SAST and DAST reports, so we need to add in that check.","state":"closed","created_at":"2020-04-23T20:15:18.893Z","updated_at":"2020-07-31T03:51:22.107Z","closed_at":"2020-07-31T03:51:22.076Z","closed_by":{"id":5535431,"username":"mparuszewski","name":"Alan (Maciej) Paruszewski","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535431/avatar.png","web_url":"https://gitlab.com/mparuszewski"},"labels":["Alliances - AWS","Category:Vulnerability Management","devops::secure","frontend","frontend-weight::3","group::threat insights","priority::3","severity::3","type::bug","workflow::staging"],"milestone":{"id":1233746,"iid":49,"group_id":9970,"title":"13.2","description":"https://about.gitlab.com/releases/2020/07/22/gitlab-13-2-released/","state":"closed","created_at":"2020-04-09T17:28:01.032Z","updated_at":"2022-04-13T14:48:24.167Z","due_date":"2020-07-17","start_date":"2020-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/49"},"assignees":[{"id":5535431,"username":"mparuszewski","name":"Alan (Maciej) Paruszewski","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535431/avatar.png","web_url":"https://gitlab.com/mparuszewski"}],"author":{"id":926632,"username":"joshlambert","name":"Joshua Lambert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a0bdc5209b11e9c0953f80234dcb4ffb?s=80\u0026d=identicon","web_url":"https://gitlab.com/joshlambert"},"type":"ISSUE","assignee":{"id":5535431,"username":"mparuszewski","name":"Alan (Maciej) Paruszewski","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535431/avatar.png","web_url":"https://gitlab.com/mparuszewski"},"user_notes_count":24,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/215570","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/215570","notes":"https://gitlab.com/api/v4/projects/278964/issues/215570/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/215570/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#215570","relative":"#215570","full":"gitlab-org/gitlab#215570"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4013,"epic":{"id":84937,"iid":4013,"title":"MR Security Report key defects and technical enhancements","url":"/groups/gitlab-org/-/epics/4013","group_id":9970,"human_readable_end_date":"Sep 22, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":33716391,"iid":215569,"project_id":278964,"title":"Issue import from Jira shows issues imported by Project Owner all the time","description":"**[HackerOne report #856915](https://hackerone.com/reports/856915)** by `ashish_r_padelkar` on 2020-04-23:\n\n### Summary\n\nHello,\n\nThe issue imported from Jira by maintainers in project still shows that issues are imported by main project owner. This is a problem for a project owners/maintainers to really know who actually imported the issues from Jira as all the maintainers can impersonate project owner.\n\n### Steps to reproduce\n\n1. Setup integration with Jira in your project. This can be done by any project maintainer  \n2. Login as one of the maintainer in the project and go to `https://gitlab.com/\u003cGroup\u003e/\u003cProject\u003e/-/import/jira`  \n3. Import the issues from Jira. At this point, you will see that `Reporter` is shown as current logged in user while importing but once you complete the import and see the issue list, You see that all the issues are shown as created by main project owner.\n\n### What is the current *bug* behavior?\n\nAll the issues imported from Jira are shown as imported by project owner allowing other maintainers in project to impersonate owner in importing issues.\n\n### What is the expected *correct* behavior?\n\nCorrect maintainer username should be displayed for all the imported issues from Jira. \n\n\n### Output of checks\n\nThis bug happens on GitLab.com and omnibus `GitLab Enterprise Edition 12.10.0-ee`\n\nRegards,  \nAshish\n\n## Impact\n\nJira imported issues are shown as created by main project owner .","state":"closed","created_at":"2020-04-23T19:45:25.316Z","updated_at":"2020-06-02T20:11:09.599Z","closed_at":"2020-05-18T05:05:42.434Z","closed_by":{"id":508743,"username":"jarka","name":"Jarka Košanová","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3931dae84deb01d2881e4909077b8dbe?s=80\u0026d=identicon","web_url":"https://gitlab.com/jarka"},"labels":["Category:Jira Importer","HackerOne","backend","devops::plan","group::project management","priority::3","severity::3","type::bug","workflow::in review"],"milestone":{"id":991112,"iid":42,"group_id":9970,"title":"13.0","description":"","state":"closed","created_at":"2019-09-04T15:20:39.024Z","updated_at":"2020-10-08T12:00:55.725Z","due_date":"2020-05-17","start_date":"2020-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/42"},"assignees":[{"id":508743,"username":"jarka","name":"Jarka Košanová","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3931dae84deb01d2881e4909077b8dbe?s=80\u0026d=identicon","web_url":"https://gitlab.com/jarka"}],"author":{"id":2741139,"username":"gitlab-securitybot","name":"GitLab SecurityBot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2741139/avatar.png","web_url":"https://gitlab.com/gitlab-securitybot"},"type":"ISSUE","assignee":{"id":508743,"username":"jarka","name":"Jarka Košanová","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3931dae84deb01d2881e4909077b8dbe?s=80\u0026d=identicon","web_url":"https://gitlab.com/jarka"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/215569","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/215569","notes":"https://gitlab.com/api/v4/projects/278964/issues/215569/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/215569/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#215569","relative":"#215569","full":"gitlab-org/gitlab#215569"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3095,"epic":{"id":42475,"iid":3095,"title":"Setup User Mapping and Import Comments, Assignees, and Reporters","url":"/groups/gitlab-org/-/epics/3095","group_id":9970,"human_readable_end_date":"Feb 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":33710797,"iid":215557,"project_id":278964,"title":"Remove input validation from typed custom variables of \"AWS_\" keys","description":"Thanks for a new 12.10 release of gitlab. In this release you add a new feature of so-called [typed custom variables](https://docs.gitlab.com/ee/ci/variables/README.html#custom-variables-validated-by-gitlab) like `AWS_` keys. This is a handy improvement for sure.\n\nBut there is validation a for `AWS_` keys which is not necessary. 20 symbols for `access_key_id` and 40 symbols for `secret key`. You [decided](https://gitlab.com/gitlab-org/gitlab/issues/26777#note_276386019) to implement this validation based [on this article](https://aws.amazon.com/blogs/security/a-safer-way-to-distribute-aws-credentials-to-ec2/).\n\nBut there is no standardised format for these keys. At least I was not able to find out. Even in that article, right after example regular expressions they say:\n\n\u003e We can’t guarantee these regular expressions will work forever (we reserve the right to change the format of access key IDs and secret access keys) but they’re a start.\n\n\nConsider systems implementing S3 APIs. It may have slightly different access keys and it OK. When making an API call, client should sign it first using SHA256 HMAC. There are [examples](https://docs.aws.amazon.com/general/latest/gr/sigv4-signed-request-examples.html) of how to do this. As you can see, there is actually no need to provide 40 symbol length secret key to send a valid request. It all maps to sha256 hash anyway. [`aws` sdk](https://github.com/boto/botocore/blob/238881fd4eb0cec90d9987a0326035ea862ebc25/botocore/auth.py#L151) also does not care of key length.\n\nPlease remove this validation. Thanks!","state":"closed","created_at":"2020-04-23T17:24:12.415Z","updated_at":"2020-10-06T20:32:14.208Z","closed_at":"2020-07-14T05:16:03.108Z","closed_by":{"id":636429,"username":"mikegreiling","name":"Mike Greiling","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/636429/avatar.png","web_url":"https://gitlab.com/mikegreiling"},"labels":["Category:Continuous Delivery","devops::release","frontend-weight::1","group::release","type::feature"],"milestone":{"id":1233746,"iid":49,"group_id":9970,"title":"13.2","description":"https://about.gitlab.com/releases/2020/07/22/gitlab-13-2-released/","state":"closed","created_at":"2020-04-09T17:28:01.032Z","updated_at":"2022-04-13T14:48:24.167Z","due_date":"2020-07-17","start_date":"2020-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/49"},"assignees":[{"id":64248,"username":"stanhu","name":"Stan Hu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/64248/stanhu.jpg","web_url":"https://gitlab.com/stanhu"}],"author":{"id":703683,"username":"runfor","name":"Ilya Konyukhov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b4d43b2ed9732525b9234c02b2d73597?s=80\u0026d=identicon","web_url":"https://gitlab.com/runfor"},"type":"ISSUE","assignee":{"id":64248,"username":"stanhu","name":"Stan Hu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/64248/stanhu.jpg","web_url":"https://gitlab.com/stanhu"},"user_notes_count":3,"merge_requests_count":1,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/215557","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/215557","notes":"https://gitlab.com/api/v4/projects/278964/issues/215557/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/215557/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#215557","relative":"#215557","full":"gitlab-org/gitlab#215557"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":33706191,"iid":215546,"project_id":278964,"title":"Add automatic changelog when MRs are generated due to version update of 'common' project.","description":"## Summary\nBefore working on this issue, please read [this](https://gitlab.com/gitlab-org/gitlab/-/issues/11466). When we did the work for updating the version of `common` in all analyzers, we missed the automatic 'changelog' creation work as this is big enough to have a separate iteration. This issue addresses those missing parts to be implemented.\n\nThe following items need to be implemented in order to make the MR generation process faster.\n\n* Create changelog automatically for all the MRs generated from version update of `common`.\n* Automatic version bump (minor versus patch) in the changelog of all generated MRs.\n* Add additional information in the description of generated MRs which can be extracted from the changelog of `common` library.\n\n## Improvements\n* This will automate the changelog creation process in the generated MR.\n* Please address the suggested improvements described in this [MR](https://gitlab.com/gitlab-org/security-products/ci-templates/-/merge_requests/90) as refactoring.\n\n## Implementation Plan\n### Work in https://gitlab.com/gitlab-org/security-products/ci-templates/blob/master/includes-dev/analyzer.yml\n\n* [ ] Modify the job that triggers the downstream pipeline for creating MR. Pass additional information to the downstream pipeline. We can use this information in the description of the generated MR.\n\n### Work in https://gitlab.com/gitlab-org/security-products/analyzers/common/blob/master/.gitlab-ci.yml\n\n* [ ] There is job to create MR automatically when version of 'common' is bumped up. We need to work on this job to add a changelog automatically.\n\n## Risks\n* As a changelog is created automatically, we need to test properly that the version in the changelog is updated as expected. Otherwise, we will see the wrong version.\n\n## Involved components\n\n\u003c!--\nList files or directories that will be changed by the refactoring.\n--\u003e\n\n## Optional: Intended side effects\n\n\u003c!--\nIf the refactoring involves changes apart from the main improvements (such as a better UI), list them here.\nIt may be a good idea to create separate issues and link them here.\n--\u003e\n\n\n## Optional: Missing test coverage\n\n\u003c!--\nIf you are aware of tests that need to be written or adjusted apart from unit tests for the changed components,\nplease list them here.\n--\u003e","state":"closed","created_at":"2020-04-23T15:56:13.764Z","updated_at":"2021-12-10T17:53:42.216Z","closed_at":"2021-12-10T17:53:42.210Z","closed_by":{"id":3652047,"username":"twoodham","name":"Thomas Woodham","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3652047/avatar.png","web_url":"https://gitlab.com/twoodham"},"labels":["Category:Container Scanning","Category:Dependency Scanning","Category:SAST","Enterprise Edition","backend","backstage [DEPRECATED]","devops::secure","group::static analysis","section::sec"],"milestone":null,"assignees":[],"author":{"id":5427309,"username":"ssarka","name":"Saikat Sarkar","state":"blocked","avatar_url":"https://secure.gravatar.com/avatar/097feebc1eb82b858a9046fe9b6d9176?s=80\u0026d=identicon","web_url":"https://gitlab.com/ssarka"},"type":"ISSUE","assignee":null,"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/215546","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/215546","notes":"https://gitlab.com/api/v4/projects/278964/issues/215546/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/215546/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#215546","relative":"#215546","full":"gitlab-org/gitlab#215546"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":33704286,"iid":215545,"project_id":278964,"title":"Change Jira importer Vue app to use API instead of controller#show for list of Jira projects","description":"The Jira importer Vue app currently gets the list of Jira projects from `jira_controller#show`. Instead, it should get it from the API so that we can remove the `show` method.","state":"closed","created_at":"2020-04-23T15:42:09.640Z","updated_at":"2020-06-02T12:46:31.600Z","closed_at":"2020-06-02T12:46:31.564Z","closed_by":{"id":4545397,"username":"cngo","name":"Coung Ngo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4545397/avatar.png","web_url":"https://gitlab.com/cngo"},"labels":["Category:Jira Importer","devops::plan","frontend","group::project management","type::feature","workflow::production"],"milestone":{"id":1112145,"iid":47,"group_id":9970,"title":"13.1","description":"","state":"closed","created_at":"2020-01-03T12:28:30.160Z","updated_at":"2020-10-08T12:01:07.361Z","due_date":"2020-06-17","start_date":"2020-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/47"},"assignees":[{"id":4545397,"username":"cngo","name":"Coung Ngo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4545397/avatar.png","web_url":"https://gitlab.com/cngo"}],"author":{"id":4545397,"username":"cngo","name":"Coung Ngo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4545397/avatar.png","web_url":"https://gitlab.com/cngo"},"type":"ISSUE","assignee":{"id":4545397,"username":"cngo","name":"Coung Ngo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4545397/avatar.png","web_url":"https://gitlab.com/cngo"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/215545","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/215545","notes":"https://gitlab.com/api/v4/projects/278964/issues/215545/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/215545/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#215545","relative":"#215545","full":"gitlab-org/gitlab#215545"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2826,"epic":{"id":28231,"iid":2826,"title":"Import Jira Issues: Second Iteration","url":"/groups/gitlab-org/-/epics/2826","group_id":9970,"human_readable_end_date":"Jun 22, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":33702772,"iid":215542,"project_id":278964,"title":"Show flash alert on issues page which displays the Jira import status","description":"The Jira importer UX flow (https://whimsical.com/EzRSSRSikrHoR3Q9VSAf72) states that there should be a flash alert on the issues page in the following cases:\n\n- When a Jira import is in progress, a flash alert should be displayed with the message `Import in progress. Refresh the page to see newly added issues`\n- When a Jira import has finished, a flash alert should be displayed with the message `39 issues successfully imported with the issue \u003clabel\u003e`, where the label is the label applied to the imported issues such as `jira-import::KEY-1`","state":"closed","created_at":"2020-04-23T15:27:05.733Z","updated_at":"2020-07-06T14:09:18.190Z","closed_at":"2020-05-21T13:57:36.127Z","closed_by":{"id":4545397,"username":"cngo","name":"Coung Ngo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4545397/avatar.png","web_url":"https://gitlab.com/cngo"},"labels":["Category:Jira Importer","devops::plan","frontend","group::project management","type::feature","workflow::production"],"milestone":{"id":1112145,"iid":47,"group_id":9970,"title":"13.1","description":"","state":"closed","created_at":"2020-01-03T12:28:30.160Z","updated_at":"2020-10-08T12:01:07.361Z","due_date":"2020-06-17","start_date":"2020-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/47"},"assignees":[{"id":4545397,"username":"cngo","name":"Coung Ngo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4545397/avatar.png","web_url":"https://gitlab.com/cngo"}],"author":{"id":4545397,"username":"cngo","name":"Coung Ngo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4545397/avatar.png","web_url":"https://gitlab.com/cngo"},"type":"ISSUE","assignee":{"id":4545397,"username":"cngo","name":"Coung Ngo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4545397/avatar.png","web_url":"https://gitlab.com/cngo"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/215542","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/215542","notes":"https://gitlab.com/api/v4/projects/278964/issues/215542/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/215542/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#215542","relative":"#215542","full":"gitlab-org/gitlab#215542"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2826,"epic":{"id":28231,"iid":2826,"title":"Import Jira Issues: Second Iteration","url":"/groups/gitlab-org/-/epics/2826","group_id":9970,"human_readable_end_date":"Jun 22, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":33701300,"iid":215539,"project_id":278964,"title":"Add redirect from Jira integration setup page to Jira import page","description":"For the Jira importer flow (https://whimsical.com/EzRSSRSikrHoR3Q9VSAf72), once the user has configured the Jira integration setup page they should be redirected to the Jira import page which is where they were before.\n\nExpected user flow:\n- User is at the Jira integration page (e.g. with query parameter) — `gitlab-org/gitlab-test/-/services/jira/edit?redirect_to=import_jira`\n- User completes configuration and clicks `Test settings and save changes`\n- User is redirected to Jira import page — `gitlab-org/gitlab-shell/-/import/jira`\n\nThis would be a backend change as it touches backend code such as `app/controllers/projects/services_controller.rb#update`","state":"closed","created_at":"2020-04-23T15:01:01.845Z","updated_at":"2021-01-21T14:10:34.716Z","closed_at":"2020-06-30T04:53:10.748Z","closed_by":{"id":508743,"username":"jarka","name":"Jarka Košanová","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3931dae84deb01d2881e4909077b8dbe?s=80\u0026d=identicon","web_url":"https://gitlab.com/jarka"},"labels":["Category:Jira Importer","backend","devops::plan","group::project management","missed:13.0","missed:13.1","type::feature","workflow::production"],"milestone":{"id":1112145,"iid":47,"group_id":9970,"title":"13.1","description":"","state":"closed","created_at":"2020-01-03T12:28:30.160Z","updated_at":"2020-10-08T12:01:07.361Z","due_date":"2020-06-17","start_date":"2020-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/47"},"assignees":[{"id":508743,"username":"jarka","name":"Jarka Košanová","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3931dae84deb01d2881e4909077b8dbe?s=80\u0026d=identicon","web_url":"https://gitlab.com/jarka"}],"author":{"id":4545397,"username":"cngo","name":"Coung Ngo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4545397/avatar.png","web_url":"https://gitlab.com/cngo"},"type":"ISSUE","assignee":{"id":508743,"username":"jarka","name":"Jarka Košanová","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3931dae84deb01d2881e4909077b8dbe?s=80\u0026d=identicon","web_url":"https://gitlab.com/jarka"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/215539","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/215539","notes":"https://gitlab.com/api/v4/projects/278964/issues/215539/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/215539/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#215539","relative":"#215539","full":"gitlab-org/gitlab#215539"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2826,"epic":{"id":28231,"iid":2826,"title":"Import Jira Issues: Second Iteration","url":"/groups/gitlab-org/-/epics/2826","group_id":9970,"human_readable_end_date":"Jun 22, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":33695498,"iid":215534,"project_id":278964,"title":"Gitlab::Git::CommandError: 4:Deadline Exceeded","description":"https://sentry.gitlab.net/gitlab/gitlabcom/issues/1460663/?referrer=gitlab_plugin\n\n```\nGRPC::DeadlineExceeded: 4:Deadline Exceeded\n  grpc/generic/active_call.rb:31:in `check_status'\n    fail GRPC::BadStatus.new_status_exception(\n  grpc/generic/active_call.rb:181:in `attach_status_results_and_complete_call'\n    recv_status_batch_result.check_status\n  grpc/generic/active_call.rb:170:in `receive_and_check_status'\n    attach_status_results_and_complete_call(batch_result)\n  grpc/generic/active_call.rb:338:in `each_remote_read_then_finish'\n    receive_and_check_status\n  gitlab/gitaly_client/commit_service.rb:123:in `each'\n    response.flat_map do |message|\n...\n(160 additional frame(s) were not displayed)\n\nGitlab::Git::CommandError: 4:Deadline Exceeded\n  gitlab/git/wraps_gitaly_errors.rb:13:in `rescue in wrapped_gitaly_errors'\n    raise Gitlab::Git::CommandError.new(e)\n  gitlab/git/wraps_gitaly_errors.rb:6:in `wrapped_gitaly_errors'\n    def wrapped_gitaly_errors(\u0026block)\n  gitlab/metrics/instrumentation.rb:161:in `block in wrapped_gitaly_errors'\n    .measure { super }\n  gitlab/metrics/method_call.rb:36:in `measure'\n    retval = yield\n  gitlab/metrics/instrumentation.rb:161:in `wrapped_gitaly_errors'\n    .measure { super }\n...\n(153 additional frame(s) were not displayed)\n\nGitlab::Git::CommandError: 4:Deadline Exceeded\n```","state":"closed","created_at":"2020-04-23T13:42:25.962Z","updated_at":"2021-08-13T15:04:47.431Z","closed_at":"2021-07-29T08:49:05.617Z","closed_by":{"id":64248,"username":"stanhu","name":"Stan Hu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/64248/stanhu.jpg","web_url":"https://gitlab.com/stanhu"},"labels":["Application Limits","Category:Gitaly","Category:Source Code Management","[deprecated] Accepting merge requests","devops::create","group::source code","priority::3","section::dev","severity::3","type::bug"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[],"author":{"id":402401,"username":"jobbot","name":"Bot","state":"active","avatar_url":"https://secure.gravatar.com/avatar/aaa6738f1ebf25404010884af511b0e7?s=80\u0026d=identicon","web_url":"https://gitlab.com/jobbot"},"type":"ISSUE","assignee":null,"user_notes_count":18,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/215534","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/215534","notes":"https://gitlab.com/api/v4/projects/278964/issues/215534/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/215534/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":"https://gitlab.com/api/v4/projects/278964/issues/334140"},"references":{"short":"#215534","relative":"#215534","full":"gitlab-org/gitlab#215534"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":33687551,"iid":215524,"project_id":278964,"title":"Add Endpoint to fetch DAG jobs","description":"We are working on implementing a tab on the pipeline page to visualize DAG relationship with a graph. https://gitlab.com/gitlab-org/gitlab/-/issues/215517\n\nTo build this graph, we would need an endpoint that we can call that returns all DAG jobs with their needs. Also, we would need to receive jobs that are needed by DAG that aren't necessarily DAGs themselves. The structure that we currently receives for pipelines would work fine. Here is an example of a response:\n\n```\n{\n  \"details\": {\n    \"stages\": [\n      {\n        \"name\": \"prepare\",\n        \"title\": \"build: passed\",\n        \"groups\": [\n          \"jobs\": [ { \"name\": \"setup-test-env pg11\" },{ \"name\": \"compile-assets pull-cache\" }]\n         ]\n      },\n      {\n        \"name\": \"fixtures\",\n        \"title\": \"build: passed\",\n        \"groups\": [\n          \"jobs\": [{\n            \"name\": \"frontend-fixtures\",\n            \"needs\": [\"setup-test-env pg11\", \"compile-assets pull-cache\"]\n          },\n          {\n            \"name\": \"frontend-fixtures-as-if-foss\",\n            \"needs\": [\"setup-test-env pg11\", \"compile-assets pull-cache\"]\n          }]\n        ]\n      },\n}\n```\n\n# Tasks\n\n- [ ] Create Entity that serializes DAG pipeline\n- [ ] Generate different JSON response bodies for ~frontend to be used for testing","state":"closed","created_at":"2020-04-23T11:59:50.122Z","updated_at":"2021-04-03T08:40:10.336Z","closed_at":"2020-05-22T13:18:58.609Z","closed_by":{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"},"labels":["backend","devops::verify","group::pipeline execution","missed:13.0","pipeline","workflow::production"],"milestone":{"id":1112145,"iid":47,"group_id":9970,"title":"13.1","description":"","state":"closed","created_at":"2020-01-03T12:28:30.160Z","updated_at":"2020-10-08T12:01:07.361Z","due_date":"2020-06-17","start_date":"2020-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/47"},"assignees":[{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"}],"author":{"id":5327378,"username":"f_caplette","name":"Frédéric Caplette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5327378/avatar.png","web_url":"https://gitlab.com/f_caplette"},"type":"ISSUE","assignee":{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"},"user_notes_count":24,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/215524","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/215524","notes":"https://gitlab.com/api/v4/projects/278964/issues/215524/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/215524/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#215524","relative":"#215524","full":"gitlab-org/gitlab#215524"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":33686886,"iid":215518,"project_id":278964,"title":"Expose requirement test results in GraphQL","description":"Related to https://gitlab.com/gitlab-org/gitlab/-/issues/215516\n\nWe will need to expose in GraphQL API [information about requirements](https://gitlab.com/gitlab-org/gitlab/-/issues/215506) - what requirements were confirmed, by who and when. This data will be consumed by [UI for browsing this data](https://gitlab.com/gitlab-org/gitlab/-/issues/215516).\n\nOnly API for reading this info should be needed, not mutations (data will be created by parsing job artifacts).","state":"closed","created_at":"2020-04-23T11:52:47.066Z","updated_at":"2020-10-16T19:49:11.903Z","closed_at":"2020-06-16T11:27:45.618Z","closed_by":{"id":426128,"username":"felipe_artur","name":"Felipe Artur","state":"active","avatar_url":"https://secure.gravatar.com/avatar/dbad92659914f56621cbdd726e283e60?s=80\u0026d=identicon","web_url":"https://gitlab.com/felipe_artur"},"labels":["Breakdown Sufficient","Category:Requirements Management","GitLab Ultimate","backend","devops::plan","direction","group::product planning","workflow::verification"],"milestone":{"id":1112145,"iid":47,"group_id":9970,"title":"13.1","description":"","state":"closed","created_at":"2020-01-03T12:28:30.160Z","updated_at":"2020-10-08T12:01:07.361Z","due_date":"2020-06-17","start_date":"2020-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/47"},"assignees":[{"id":426128,"username":"felipe_artur","name":"Felipe Artur","state":"active","avatar_url":"https://secure.gravatar.com/avatar/dbad92659914f56621cbdd726e283e60?s=80\u0026d=identicon","web_url":"https://gitlab.com/felipe_artur"}],"author":{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"},"type":"ISSUE","assignee":{"id":426128,"username":"felipe_artur","name":"Felipe Artur","state":"active","avatar_url":"https://secure.gravatar.com/avatar/dbad92659914f56621cbdd726e283e60?s=80\u0026d=identicon","web_url":"https://gitlab.com/felipe_artur"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/215518","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/215518","notes":"https://gitlab.com/api/v4/projects/278964/issues/215518/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/215518/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#215518","relative":"#215518","full":"gitlab-org/gitlab#215518"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2859,"epic":{"id":30408,"iid":2859,"title":"Trace Requirements to Tests","url":"/groups/gitlab-org/-/epics/2859","group_id":9970,"human_readable_end_date":"Jul 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":33686297,"iid":215516,"project_id":278964,"title":"UI for browsing requirements tests results","description":"Whenever user confirms that requirements are met (by triggering [a manual job](https://gitlab.com/gitlab-org/gitlab/-/issues/215510) in pipeline, we will [create a record for each requirement](https://gitlab.com/gitlab-org/gitlab/-/issues/215506).\n\nIt would be nice to have a user interface for browsing these reports (in the first iteration we will set only `passed` status when user triggers the job).\n\nWe will need to expose these data in our GraphQL - perhaps this could be tracked separately (https://gitlab.com/gitlab-org/gitlab/-/issues/215518)\n\n/cc @nickbrandt","state":"closed","created_at":"2020-04-23T11:41:57.163Z","updated_at":"2020-10-16T19:49:11.757Z","closed_at":"2020-06-10T11:52:26.051Z","closed_by":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"labels":["devops::plan","documentation","frontend","group::product planning","type::feature","workflow::in dev"],"milestone":{"id":1112145,"iid":47,"group_id":9970,"title":"13.1","description":"","state":"closed","created_at":"2020-01-03T12:28:30.160Z","updated_at":"2020-10-08T12:01:07.361Z","due_date":"2020-06-17","start_date":"2020-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/47"},"assignees":[{"id":411701,"username":"kushalpandya","name":"Kushal Pandya","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/411701/avatar.png","web_url":"https://gitlab.com/kushalpandya"},{"id":5041243,"username":"nickbrandt","name":"Nick Brandt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/96e3036898d44a8ad7063ba07cce0998?s=80\u0026d=identicon","web_url":"https://gitlab.com/nickbrandt"}],"author":{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"},"type":"ISSUE","assignee":{"id":411701,"username":"kushalpandya","name":"Kushal Pandya","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/411701/avatar.png","web_url":"https://gitlab.com/kushalpandya"},"user_notes_count":10,"merge_requests_count":2,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/215516","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/215516","notes":"https://gitlab.com/api/v4/projects/278964/issues/215516/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/215516/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#215516","relative":"#215516","full":"gitlab-org/gitlab#215516"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2859,"epic":{"id":30408,"iid":2859,"title":"Trace Requirements to Tests","url":"/groups/gitlab-org/-/epics/2859","group_id":9970,"human_readable_end_date":"Jul 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":33685658,"iid":215514,"project_id":278964,"title":"Allow passing status for each requirement in CI job report","description":"In the [first iteration](https://gitlab.com/gitlab-org/gitlab/-/issues/215513) we assume that job report (JSON file) contains confirmation only for all jobs - something like `{\"*\":\"passed\"}` saying that all requirements passed.\n\nIt would be nice to accept state per each requirement, so user could pass in the JSON file state for specific requirements, e.g.:\n\n```\n{\n  \"requirement_iid1\": \"passed\";\n  \"requirement_iid2\": \"failed\";\n  \"requirement_iid3\": \"failed\";\n}\n```\n\nAllow the parser to parse and create TestReports for multiple requirements, rather than all at once using `*`. Add support for parsing status for individual requirements. See https://gitlab.com/gitlab-org/gitlab/-/merge_requests/33031/diffs#note_353097705.\n\nRelated to https://gitlab.com/gitlab-org/gitlab/-/issues/215513 and https://gitlab.com/groups/gitlab-org/-/epics/2859#note_310970936","state":"closed","created_at":"2020-04-23T11:30:23.482Z","updated_at":"2020-10-16T19:49:11.612Z","closed_at":"2020-07-10T08:57:48.971Z","closed_by":{"id":4418630,"username":"johnhope","name":"John Hope","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4418630/avatar.png","web_url":"https://gitlab.com/johnhope"},"labels":["Breakdown Sufficient","backend","devops::plan","group::product planning","missed:13.1","type::feature","workflow::verification"],"milestone":{"id":1233746,"iid":49,"group_id":9970,"title":"13.2","description":"https://about.gitlab.com/releases/2020/07/22/gitlab-13-2-released/","state":"closed","created_at":"2020-04-09T17:28:01.032Z","updated_at":"2022-04-13T14:48:24.167Z","due_date":"2020-07-17","start_date":"2020-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/49"},"assignees":[{"id":3717078,"username":"cablett","name":"charlie ablett","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3717078/avatar.png","web_url":"https://gitlab.com/cablett"}],"author":{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"},"type":"ISSUE","assignee":{"id":3717078,"username":"cablett","name":"charlie ablett","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3717078/avatar.png","web_url":"https://gitlab.com/cablett"},"user_notes_count":15,"merge_requests_count":1,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/215514","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/215514","notes":"https://gitlab.com/api/v4/projects/278964/issues/215514/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/215514/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#215514","relative":"#215514","full":"gitlab-org/gitlab#215514"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2859,"epic":{"id":30408,"iid":2859,"title":"Trace Requirements to Tests","url":"/groups/gitlab-org/-/epics/2859","group_id":9970,"human_readable_end_date":"Jul 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":33684953,"iid":215513,"project_id":278964,"title":"Create CI parser for requirements job artifact","description":"When user clicks [the requirement manual job](https://gitlab.com/gitlab-org/gitlab/-/issues/215510) in CI pipeline, this job will produce an artifact - a CSV file which says that all requirements passed - e.g. `*;passed;`.\n\nWe need to add a CI report type and parser similar to other CI parsers (`lib/gitlab/ci/parsers`) to process these reports when [pipeline finishes](https://gitlab.com/gitlab-org/gitlab/-/blob/12-9-stable-ee/ee/app/models/ee/ci/pipeline.rb#L54). This parser will iterate through all open requirements on the project and fills a [\"test report/confirmation\"](https://gitlab.com/gitlab-org/gitlab/-/issues/215506) for each of them.\n\nRelated to https://gitlab.com/groups/gitlab-org/-/epics/2859","state":"closed","created_at":"2020-04-23T11:21:30.803Z","updated_at":"2020-10-16T19:49:33.125Z","closed_at":"2020-06-16T14:28:53.387Z","closed_by":{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"},"labels":["Breakdown Sufficient","backend","devops::plan","group::product planning","type::feature","workflow::in review"],"milestone":{"id":1112145,"iid":47,"group_id":9970,"title":"13.1","description":"","state":"closed","created_at":"2020-01-03T12:28:30.160Z","updated_at":"2020-10-08T12:01:07.361Z","due_date":"2020-06-17","start_date":"2020-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/47"},"assignees":[{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"}],"author":{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"},"type":"ISSUE","assignee":{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/215513","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/215513","notes":"https://gitlab.com/api/v4/projects/278964/issues/215513/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/215513/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#215513","relative":"#215513","full":"gitlab-org/gitlab#215513"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2859,"epic":{"id":30408,"iid":2859,"title":"Trace Requirements to Tests","url":"/groups/gitlab-org/-/epics/2859","group_id":9970,"human_readable_end_date":"Jul 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":33679691,"iid":215510,"project_id":278964,"title":"Add documentation how to create CI job for \"pass all requirements\" test report","description":"Create a CI job definition with semantic \"I confirmed that requirements are met\".\n\n* it should be [a manual job](https://docs.gitlab.com/ee/ci/yaml/README.html#whenmanual)\n* this job could be added into pipeline dynamically depending whether there are some open requirements in the project or not (this should be possible - https://gitlab.com/groups/gitlab-org/-/epics/2859#note_328877704), we could consider doing this in a second iteration though? :thinking: \n* it will produce a job artifact consumed by CI requirements report parser (TODO add an issue link), the content could be just a CSV file with single row representing that all requirements passed - e.g. `*;passed` - the reason is that this would be easy to extend in next iteration when we will [trace specific tests (step 3)](https://gitlab.com/groups/gitlab-org/-/epics/2859#note_310970936)\n* it will be up to users to add this job into gitlab CI YML file of their project, but we could add it as a non-blocking optional (allow_failure: true) job for gitlab project \n* job sample should be included also in documentation\n\nvery roughly it might be something like:\n\n```\nconfirm_requirements:\n  stage: deploy\n  script: \"echo '*;passed;' \u003e tmp/requirements.csv\"\n  when: manual\n  artifacts:\n    paths:\n      - tmp/requirements.csv\n```\n\nRelated to https://gitlab.com/groups/gitlab-org/-/epics/2859 and specifically https://gitlab.com/groups/gitlab-org/-/epics/2859#note_328030969","state":"closed","created_at":"2020-04-23T11:03:13.167Z","updated_at":"2020-10-16T19:49:32.990Z","closed_at":"2020-06-18T13:31:28.697Z","closed_by":{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"},"labels":["Breakdown Sufficient","backend","devops::plan","direction","documentation","group::product planning","type::feature","workflow::in review"],"milestone":{"id":1112145,"iid":47,"group_id":9970,"title":"13.1","description":"","state":"closed","created_at":"2020-01-03T12:28:30.160Z","updated_at":"2020-10-08T12:01:07.361Z","due_date":"2020-06-17","start_date":"2020-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/47"},"assignees":[{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"}],"author":{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"},"type":"ISSUE","assignee":{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/215510","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/215510","notes":"https://gitlab.com/api/v4/projects/278964/issues/215510/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/215510/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#215510","relative":"#215510","full":"gitlab-org/gitlab#215510"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2859,"epic":{"id":30408,"iid":2859,"title":"Trace Requirements to Tests","url":"/groups/gitlab-org/-/epics/2859","group_id":9970,"human_readable_end_date":"Jul 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":33677062,"iid":215506,"project_id":278964,"title":"Create table for storing requirements test results","description":"This is a first step towards connecting CI results with requirements. Let's suppose there is a manual job in CI with meaning \"I confirmed that requirements are met\" (https://gitlab.com/gitlab-org/gitlab/-/issues/215510). The plan is that when user manually triggers this job, then this job will automatically fill record(s) which requirements were met and confirmed by the user.\n\nWe need a model and table (or multiple tables) which would store which requirements were confirmed by who and when. So each record should keep following info:\n\n* pipeline_id - pipeline from which the manual \"confirmation\" job was triggered\n* user_id - user who triggered the job (confirmed requirements)\n* timestamp - when the requirement was confirmed\n* requirement_id - requirement which was confirmed - for the first iteration these would be all open requirements (at the time when the job was triggered- so we should create this record for each requirement)\n* state - for the first iteration all states will be set automatically to `passed`, in a next iteration when we [connect tests with requirements](https://gitlab.com/groups/gitlab-org/-/epics/2859#note_310970936), the state might be different\n\nThe name for this model/table is not settled yet, a few times before terms like \"test session\" or \"test report\" were used, but this is still something to clarify, also UX designs might help choosing proper name for this.\n\nUpdate: `Test report` is the preferred term (see https://gitlab.com/gitlab-org/gitlab/-/issues/215506#note_331185212).\n\nRelated to https://gitlab.com/groups/gitlab-org/-/epics/2859","state":"closed","created_at":"2020-04-23T10:17:21.850Z","updated_at":"2020-10-16T19:49:32.848Z","closed_at":"2020-06-15T11:33:23.662Z","closed_by":{"id":426128,"username":"felipe_artur","name":"Felipe Artur","state":"active","avatar_url":"https://secure.gravatar.com/avatar/dbad92659914f56621cbdd726e283e60?s=80\u0026d=identicon","web_url":"https://gitlab.com/felipe_artur"},"labels":["Breakdown Sufficient","Category:Requirements Management","backend","devops::plan","direction","group::product planning","planning priority","type::feature","workflow::verification"],"milestone":{"id":991112,"iid":42,"group_id":9970,"title":"13.0","description":"","state":"closed","created_at":"2019-09-04T15:20:39.024Z","updated_at":"2020-10-08T12:00:55.725Z","due_date":"2020-05-17","start_date":"2020-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/42"},"assignees":[{"id":426128,"username":"felipe_artur","name":"Felipe Artur","state":"active","avatar_url":"https://secure.gravatar.com/avatar/dbad92659914f56621cbdd726e283e60?s=80\u0026d=identicon","web_url":"https://gitlab.com/felipe_artur"}],"author":{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"},"type":"ISSUE","assignee":{"id":426128,"username":"felipe_artur","name":"Felipe Artur","state":"active","avatar_url":"https://secure.gravatar.com/avatar/dbad92659914f56621cbdd726e283e60?s=80\u0026d=identicon","web_url":"https://gitlab.com/felipe_artur"},"user_notes_count":6,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/215506","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/215506","notes":"https://gitlab.com/api/v4/projects/278964/issues/215506/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/215506/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#215506","relative":"#215506","full":"gitlab-org/gitlab#215506"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2859,"epic":{"id":30408,"iid":2859,"title":"Trace Requirements to Tests","url":"/groups/gitlab-org/-/epics/2859","group_id":9970,"human_readable_end_date":"Jul 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":33675120,"iid":215501,"project_id":278964,"title":"Add Support for Canary-Weight ingress annotation via API","description":"\u003c!-- The first three sections: \"Problem to solve\", \"Intended users\" and \"Proposal\", are strongly recommended, while the rest of the sections can be filled out during the problem validation or breakdown phase. However, keep in mind that providing complete and relevant information early helps our product team validate the problem and start working on a solution. --\u003e\n\nWe want to allow our users additional flexibility for configuring advanced deployments. Based on the output of https://gitlab.com/gitlab-org/gitlab/issues/199043, we have decided to extend our NGINX ingress support by adding support for additional parameters\n\n### Problem to solve\n\n\u003c!-- What problem do we solve? Try to define the who/what/why of the opportunity as a user story. For example, \"As a (who), I want (what), so I can (why/value).\" --\u003e\n\nThis issue is a first iteration for implementing a load balancer in GitLab, the idea is to add an easy way to configure NGNIX annotations which are used to customize their behavior. Simply put - it allows you to customize your canary to anything you want to control. We decided to start with weights - which is an elegant way to achieve blue/green deployments.\n\n### Intended users\n\n\u003c!-- Who will use this feature? If known, include any of the following: types of users (e.g. Developer), personas, or specific company roles (e.g. Release Manager). It's okay to write \"Unknown\" and fill this field in later.\n\nPersonas are described at https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/\n\n* [Rachel (Release Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#rachel-release-manager)\n* [Parker (Product Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#parker-product-manager)\n* [Delaney (Development Team Lead)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#delaney-development-team-lead)\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Presley (Product Designer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#presley-product-designer)\n* [Devon (DevOps Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#devon-devops-engineer)\n* [Sidney (Systems Administrator)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sidney-systems-administrator)\n* [Sam (Security Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sam-security-analyst)\n* [Dana (Data Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#dana-data-analyst)\n* [Simone (Software Engineer in Test)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#simone-software-engineer-in-test)\n* [Allison (Application Ops)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#allison-application-ops) --\u003e\n\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Devon (DevOps Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#devon-devops-engineer)\n\n### Further details\n\n\u003c!-- Include use cases, benefits, goals, or any other details that will help us understand the problem better. --\u003e\n\nA typical scenario of the rule is based on weight, that is, blue-green deployment. You can set the weight from 0 to 100 to implement that kind of application release. At any time, only one of the environments is production. For this example, currently green is production and blue is canary. Initially, the weight of canary is set to 0 which means no traffic is forwarded to this release. You can introduce a small portion of traffic to blue version step by step, test and verify it. If everything is OK then you can shift all requests from green to blue by set the weight of blue to 100 which makes blue the production release. In a word, with such canary releasing process, the application is upgraded smoothly.\n\n![image](/uploads/c4448b7809b958df84c5c7eb56c55444/image.png)\n\n`nginx.ingress.kubernetes.io/canary-weight: `The integer based (0 - 100) percent of random requests that should be routed to the service specified in the canary Ingress. A weight of 0 implies that no requests will be sent to the service in the Canary ingress by this canary rule. A weight of 100 means implies all requests will be sent to the alternative service specified in the Ingress.\n\n### Proposal\n\n\u003c!-- How are we going to solve the problem? Try to include the user journey! https://about.gitlab.com/handbook/journeys/#user-journey --\u003e\n\nUse the following annotation syntax:\n`ingress.annotations Ingress annotations `{kubernetes.io/tls-acme: \"true\", kubernetes.io/ingress.class: \"nginx\"}``\n\nUser will fill in an integer weight value of 0-100.\n\n```\n$ kubectl apply -f weighted-canary.ingress -n ingress-demo\ningress.extensions/canary created\n```\n\n4.1. Now create a canaryIngress. The following file uses canary-weightannotation to introduce 30%of all traffic to the canary version.\n\nThe yaml file is as follows.\n\n```\napiVersion: extensions/v1beta1\nkind: Ingress\nmetadata:\n  name: canary\n  annotations:\n    kubernetes.io/ingress.class: nginx\n    nginx.ingress.kubernetes.io/canary: \"true\"\n    nginx.ingress.kubernetes.io/canary-weight: \"30\"\nspec:\n  rules:\n  - host: kubesphere.io\n    http:\n      paths:\n      - backend:\n          serviceName: canary\n          servicePort: 80\n```\n\n### Not in scope of this issue\n\nAny UI representation of the current status, configuration or ability to switch deployments\n\n### Permissions and Security\n\n\u003c!-- What permissions are required to perform the described actions? Are they consistent with the existing permissions as documented for users, groups, and projects as appropriate? Is the proposed behavior consistent between the UI, API, and other access methods (e.g. email replies)?--\u003e\n\n### Documentation\n\n\u003c!-- See the Feature Change Documentation Workflow https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html\n\n* Add all known Documentation Requirements in this section. See https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html#documentation-requirements\n* If this feature requires changing permissions, update the permissions document. See https://docs.gitlab.com/ee/user/permissions.html --\u003e\n\n### Availability \u0026 Testing\n\n\u003c!-- This section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\nWhat risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning --\u003e\n\n### What does success look like, and how can we measure that?\n\n\u003c!-- Define both the success metrics and acceptance criteria. Note that success metrics indicate the desired business outcomes, while acceptance criteria indicate when the solution is working correctly. If there is no way to measure success, link to an issue that will implement a way to measure this. --\u003e\n\n### What is the type of buyer?\n\n\u003c!-- What is the buyer persona for this feature? See https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/buyer-persona/\nIn which enterprise tier should this feature go? See https://about.gitlab.com/handbook/product/pricing/#four-tiers --\u003e\n\n### Is this a cross-stage feature?\n\n\u003c!-- Communicate if this change will affect multiple Stage Groups or product areas. We recommend always start with the assumption that a feature request will have an impact into another Group. Loop in the most relevant PM and Product Designer from that Group to provide strategic support to help align the Group's broader plan and vision, as well as to avoid UX and technical debt. https://about.gitlab.com/handbook/product/#cross-stage-features --\u003e\n\n### Links / references\n\n* https://kubesphere.io/docs/quick-start/ingress-canary/\n* https://kubernetes.github.io/ingress-nginx/user-guide/nginx-configuration/annotations/#canary\n* https://kubernetes.io/docs/concepts/services-networking/ingress-controllers/\n\n### TODO\n\n- [ ] Update https://docs.gitlab.com/ee/user/project/deploy_boards.html#enabling-deploy-boards","state":"closed","created_at":"2020-04-23T09:28:11.830Z","updated_at":"2021-01-28T13:16:19.386Z","closed_at":"2020-11-13T03:33:09.677Z","closed_by":{"id":758045,"username":"shinya.maeda","name":"Shinya Maeda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/758045/avatar.png","web_url":"https://gitlab.com/shinya.maeda"},"labels":["Category:Advanced Deployments","Deliverable","Release::P1","cicd::active","devops::release","direction","group::release","release post item::in review","section::ops","type::feature","workflow::verification"],"milestone":{"id":1233755,"iid":53,"group_id":9970,"title":"13.6","description":"https://about.gitlab.com/releases/2020/11/22/gitlab-13-6-released/","state":"closed","created_at":"2020-04-09T17:39:22.328Z","updated_at":"2022-04-13T14:51:04.376Z","due_date":"2020-11-17","start_date":"2020-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/53"},"assignees":[{"id":758045,"username":"shinya.maeda","name":"Shinya Maeda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/758045/avatar.png","web_url":"https://gitlab.com/shinya.maeda"}],"author":{"id":4156460,"username":"ogolowinski","name":"Orit Golowinski","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4156460/avatar.png","web_url":"https://gitlab.com/ogolowinski"},"type":"ISSUE","assignee":{"id":758045,"username":"shinya.maeda","name":"Shinya Maeda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/758045/avatar.png","web_url":"https://gitlab.com/shinya.maeda"},"user_notes_count":54,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/215501","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/215501","notes":"https://gitlab.com/api/v4/projects/278964/issues/215501/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/215501/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#215501","relative":"#215501","full":"gitlab-org/gitlab#215501"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3142,"epic":{"id":44626,"iid":3142,"title":"Update NGNIX Ingress Parameters annotations to Helm","url":"/groups/gitlab-org/-/epics/3142","group_id":9970,"human_readable_end_date":"Dec 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null}]