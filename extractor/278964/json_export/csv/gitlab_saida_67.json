[{"id":87592754,"iid":331687,"project_id":278964,"title":"Add a \"Switch branch\" tooltip to the branch selector in the pipeline editor","description":"## Problem\n\nThe branch selector doesn't have a visible label, which is fine given the selector defaults to the default branch. However, there are other ways to add more clarity to the function of the selector, such as adding a tooltip on hover.\n\n## Proposal\n\nAdd a hover-over tooltip for the selector that says \"Switch branch\". \n\n![image](/uploads/d30c639efb0b30cd0c03f1a21ee0ea53/image.png)\n\ncc @mgandres","state":"closed","created_at":"2021-05-24T05:49:57.871Z","updated_at":"2021-06-11T12:41:26.538Z","closed_at":"2021-06-11T12:41:26.523Z","closed_by":{"id":4477803,"username":"pburdette","name":"Payton Burdette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477803/avatar.png","web_url":"https://gitlab.com/pburdette"},"labels":["Category:Pipeline Authoring","UI polish","UX","Verify candidate","devops::verify","frontend","group::pipeline authoring","section::ops","workflow::verification"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":4477803,"username":"pburdette","name":"Payton Burdette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477803/avatar.png","web_url":"https://gitlab.com/pburdette"}],"author":{"id":4706959,"username":"nadia_sotnikova","name":"Nadia Sotnikova","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4706959/avatar.png","web_url":"https://gitlab.com/nadia_sotnikova"},"type":"ISSUE","assignee":{"id":4477803,"username":"pburdette","name":"Payton Burdette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477803/avatar.png","web_url":"https://gitlab.com/pburdette"},"user_notes_count":5,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/331687","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/331687","notes":"https://gitlab.com/api/v4/projects/278964/issues/331687/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/331687/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#331687","relative":"#331687","full":"gitlab-org/gitlab#331687"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5393,"epic":{"id":202656,"iid":5393,"title":"Pipeline Editor - Branch selector","url":"/groups/gitlab-org/-/epics/5393","group_id":9970,"human_readable_end_date":"Oct 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":87592194,"iid":331686,"project_id":278964,"title":"Follow-up from \"Rename service to integration in HAML views\"","description":"The following discussion from !62011 should be addressed:\n\n- [ ] @.luke started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/62011#note_583195744):  (+1 comment)\n\n    \u003e **Question**\n    \u003e \n    \u003e At the bottom of this file we pass `project` as `@project` - should we either: \n    \u003e \n    \u003e - Pass in a `project` to this partial like we do in `app/views/projects/services/edit.html.haml` and use that?\n    \u003e - Just use `@project` here instead of assigning a `project`?\n    \u003e - Assign a `project` at the top of this partial somewhere and use that here and in place of `@project`?","state":"closed","created_at":"2021-05-24T05:28:28.523Z","updated_at":"2022-11-22T19:41:09.674Z","closed_at":"2021-07-09T14:38:57.350Z","closed_by":{"id":4704683,"username":"justin_ho","name":"Justin Ho Tuan Duong","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4704683/avatar.png","web_url":"https://gitlab.com/justin_ho"},"labels":["devops::manage","frontend","group::ecosystem [DEPRECATED]","maintenance::refactor","section::dev"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":4704683,"username":"justin_ho","name":"Justin Ho Tuan Duong","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4704683/avatar.png","web_url":"https://gitlab.com/justin_ho"}],"author":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"type":"ISSUE","assignee":{"id":4704683,"username":"justin_ho","name":"Justin Ho Tuan Duong","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4704683/avatar.png","web_url":"https://gitlab.com/justin_ho"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/331686","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/331686","notes":"https://gitlab.com/api/v4/projects/278964/issues/331686/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/331686/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#331686","relative":"#331686","full":"gitlab-org/gitlab#331686"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":87585423,"iid":331675,"project_id":278964,"title":"Revoked User can approve a Merge Request created by him via approve/unapprove API which leads to Merge request info leak","description":"**[HackerOne report #1198317](https://hackerone.com/reports/1198317)** by `muthu_prakash` on 2021-05-15, assigned to GitLab Team:\n\n[Report](#report) | [How To Reproduce](#how-to-reproduce)\n\n## Report\n\n#####  Summary\n\nIn Gitlab when a user is demoted to Guest role, the Guest user will not be able to view and edit the Merge requests in a project even if the merge request is created by him. But the Guest user can use the Approvals API to approve/unapprove the merge request even after the User is demoted to Guest. This API also leaks the Merge request details which the guest user is not supposed to view.\n\n#####  Steps to reproduce\n\n- Created a new Project with private access  \n- Created a new file in master branch (Made some changes )  \n- Invited a user with a maintainer role.  \n- From the maintainer role account created a new branch named test, made some changes.  \n- After that from project admin account I created a Merge request with source branch as test and target branch as master.  \n- Assigned that merge request to the maintainer role access user.  \n- After creating the merge request, from project admin account demoted the maintainer role user to Guest role  \n- From demoted user account I created a personal access token with all the available scopes selected  \n- Using API client sent a POST request to the approvals endpoint    \n   Sample endpoint:   \n     - https://gitlab.com/api/v4/projects/26669301/merge_requests/1/unapprove  \n     - https://gitlab.com/api/v4/projects/26669301/merge_requests/1/approve  \n- This API endpoint will respond with 201 status with the merge request details which the Guest user is not supposed to approve and view. \n\n#####  Impact  \nDemoted users can approve the merge requests created by them and can view the confidential data of those merge requests once their role revoked. This leads to sensitive info disclosure to unauthorised users\n\n#####  What is the current *bug* behavior?\n\nDemoted users can approve the merge requests created by them and can view the confidential data of those merge requests once their role is revoked\n\n\n#####  What is the expected *correct* behavior?\n\nDemoted users should be blocked from  approving the merge requests created by them and viewing  the confidential data of those merge requests once their role is revoked \n\n\n#####  Output of checks\n\nThis bug happens on GitLab.com\n\n####  Impact\n\nDemoted users can approve the merge requests created by them and can view the confidential data of those merge requests once their role revoked. This leads to sensitive info disclosure to unauthorised users\n\n## How To Reproduce\n\nPlease add [reproducibility information] to this section:\n\n1.\n1.\n1.\n\n[reproducibility information]: https://about.gitlab.com/handbook/engineering/security/#reproducibility-on-security-issues","state":"closed","created_at":"2021-05-24T00:15:57.689Z","updated_at":"2022-01-12T16:00:29.259Z","closed_at":"2021-12-06T04:09:09.697Z","closed_by":{"id":4901936,"username":"dskim_gitlab","name":"Sincheol (David) Kim","state":"active","avatar_url":"https://secure.gravatar.com/avatar/84a984a56c54d1d31338678421cecc32?s=80\u0026d=identicon","web_url":"https://gitlab.com/dskim_gitlab"},"labels":["Deliverable","HackerOne","Weakness::CAPEC-233","backend","devops::create","group::code review","priority::3","section::dev","security","security-backlog::review-complete","severity::3","workflow::in review"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":4901936,"username":"dskim_gitlab","name":"Sincheol (David) Kim","state":"active","avatar_url":"https://secure.gravatar.com/avatar/84a984a56c54d1d31338678421cecc32?s=80\u0026d=identicon","web_url":"https://gitlab.com/dskim_gitlab"}],"author":{"id":2741139,"username":"gitlab-securitybot","name":"GitLab SecurityBot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2741139/avatar.png","web_url":"https://gitlab.com/gitlab-securitybot"},"type":"ISSUE","assignee":{"id":4901936,"username":"dskim_gitlab","name":"Sincheol (David) Kim","state":"active","avatar_url":"https://secure.gravatar.com/avatar/84a984a56c54d1d31338678421cecc32?s=80\u0026d=identicon","web_url":"https://gitlab.com/dskim_gitlab"},"user_notes_count":32,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2022-02-21","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/331675","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/331675","notes":"https://gitlab.com/api/v4/projects/278964/issues/331675/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/331675/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#331675","relative":"#331675","full":"gitlab-org/gitlab#331675"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":87574483,"iid":331670,"project_id":278964,"title":"SAML synchronization should warn before it kills direct member list","description":"Opening as feature as per discussion in https://gitlab.com/gitlab-org/gitlab/-/issues/330902#note_575780391\n\nUse case: Hello team, We have a question about Group Owners can bypassing SSO enforce.\nA customer complained that they are an owner of the group, however, their access level was reverted when using SSO link. After testing this, we concluded that the owner gets to reserve their access level if they are the only owners of the group. If there are multiple owners, signing in with the SSO login link would override their access level, leaving the ability to bypass the SSO to only one - last - owner.\n\nIt would be nice if the GUI provided a warning about the direct members being lost before applying in this scenario.\n\nNote that this is the documented behavior.  However, from a UI/UX perspective, it's usually a good idea for GUIs to warn about dangerous actions.  This is an example of the \"principle of least surprise\".\n\n#### [Figma work file](https://www.figma.com/file/yJuTVdPyaRk22neMqr4KpM/12495-One-Click-account-take-over-with-SAML?node-id=0%3A1)\n\n## Implementation plan\n\n### Add warning\n\n![Screen_Shot_2021-08-13_at_2.07.16_PM](/uploads/5597bfe33075dc8ba1cba8d9aeda63d3/Screen_Shot_2021-08-13_at_2.07.16_PM.png)\n\n### Update docs\n\nUpdate docs and add diagram\n\n![mermaid-diagram-20210810172838](/uploads/723a72c6bde0f254b5238389eaf98f9d/mermaid-diagram-20210810172838.png)\n\n`In the above diagram when Faye Ledner signs in she is removed from GitLab Group C because she is not part of SAML Group C. Also, even though John Smith is a part of SAML Group C he is not added to GitLab Group C because he was not the one signing in.`","state":"closed","created_at":"2021-05-23T11:15:14.743Z","updated_at":"2021-09-21T16:20:48.221Z","closed_at":"2021-09-07T14:06:05.600Z","closed_by":{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"},"labels":["Category:Authentication and Authorization","Support Team Contributions","UX","candidate::14.3","customer","design-weight::2","devops::manage","documentation","frontend","group::authentication and authorization","section::dev","tw-weight::3","workflow::production"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"}],"author":{"id":4156460,"username":"ogolowinski","name":"Orit Golowinski","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4156460/avatar.png","web_url":"https://gitlab.com/ogolowinski"},"type":"ISSUE","assignee":{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"},"user_notes_count":17,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/331670","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/331670","notes":"https://gitlab.com/api/v4/projects/278964/issues/331670/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/331670/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#331670","relative":"#331670","full":"gitlab-org/gitlab#331670"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6385,"epic":{"id":310982,"iid":6385,"title":"Group SAML Sync for GitLab.com (non MVC)","url":"/groups/gitlab-org/-/epics/6385","group_id":9970},"iteration":null,"health_status":null},{"id":87546199,"iid":331656,"project_id":278964,"title":"Create documentation for CI Minutes Consumption and Quotas on Shared Runners","description":"### Overview \n\nAs we begin to tackle abuse and understand how to manage enforcement of quotas across various plans it would be great to have a SSOT of how CI minute consumption and quotas work, and his cost factors play into that.\n\n### Proposal \n\nCreate documentation for our CI minutes cost factor/consumption/quotas details for Shared Runners. Things to include in the documentation:\n\n- What are CI minutes? \n    - SaaS: Limits per plan. Exceptions on SaaS (disabled limits). Instance defaults.\n    - Self-hosted: how to use CI minutes to set quotas. Limit per namespace. Instance defaults.\n- How a job affects the CI minutes consumption (calculation, cost factor).\n    - Namespace and project-level tracking.\n- Additional minutes / purchases\n- Monthly reset / manual reset\n- CI minutes notifications sent to namespace owners","state":"closed","created_at":"2021-05-22T13:49:45.909Z","updated_at":"2021-12-21T13:49:40.883Z","closed_at":"2021-12-21T13:49:40.869Z","closed_by":{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"},"labels":["CI minutes","Category:Continuous Integration","Technical Writing","Verify::P2","backend","devops::verify","documentation","group::pipeline execution","missed:14.3","missed:14.6","section::ops","type::feature","workflow::production"],"milestone":{"id":2156369,"iid":68,"group_id":9970,"title":"14.7","description":"","state":"active","created_at":"2021-07-21T17:39:41.786Z","updated_at":"2021-07-21T17:39:41.786Z","due_date":"2022-01-17","start_date":"2021-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/68"},"assignees":[{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"}],"author":{"id":4905402,"username":"jreporter","name":"Jackie Porter","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4905402/avatar.png","web_url":"https://gitlab.com/jreporter"},"type":"ISSUE","assignee":{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"},"user_notes_count":31,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/331656","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/331656","notes":"https://gitlab.com/api/v4/projects/278964/issues/331656/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/331656/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#331656","relative":"#331656","full":"gitlab-org/gitlab#331656"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5653,"epic":{"id":231355,"iid":5653,"title":"CI minutes limits for public projects on GitLab.com","url":"/groups/gitlab-org/-/epics/5653","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":"on_track"},{"id":87534905,"iid":331652,"project_id":278964,"title":"Support Java 16 for Dependency Scanning gradle projects","description":"### Release notes\n\nhttps://docs.gitlab.com/ee/user/application_security/dependency_scanning/#configuring-specific-analyzers-used-by-dependency-scanning\n\nFor customers keeping using Java 16 you will be happy to know that you are now supported by our Dependency Scanning analyzers. Please set the `DS_JAVA_VERSION` environment variable to leverage this enhancement.\n\n### Summary\n\n`java 16` is supported in dependency scanning for `maven` but not for `gradle` due to issues with gradle 7 support in `gemnasium-gradle-plugin`.\n\n### Further details\n\nWhen adding java 16 support in [this issue](https://gitlab.com/gitlab-org/gitlab/-/issues/325565) it was discovered that the current [gemnasium-gradle-plugin](https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium-gradle-plugin) (v0.3.3) uses functionality deprecated in gradle 7 (which is the only gradle version to support java 16): https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium-maven/-/merge_requests/111#note_566224662\n\nTherefore, the original issue was changed to describe only adding support for `maven`. The `gradle` implementation is left to this issue.\n\n### Implementation plan\n\nNote: adoptopenjdk-16.0.0+36 was already added in.\n* [x] update `gemnasium-gradle-plugin` to remove deprecated functionality (https://gitlab.com/gitlab-org/gitlab/-/issues/329805)\n* [x] add java16 branch to [java-gradle test project](https://gitlab.com/gitlab-org/security-products/tests/java-gradle) to change the distribution url to point to gradle 7\n* [x] add test for java 16 using gradle\n* [x] release new version of gemnasium-maven\n\n### Documentation\n\n* [x] support for java 16 to be documented under `DS_JAVA_VERSION` row of [DS analyzer configuration](https://docs.gitlab.com/ee/user/application_security/dependency_scanning/#configuring-specific-analyzers-used-by-dependency-scanning).\n\n### Availability \u0026 Testing\n\nAdd java 16 job for each supported framework as in https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium-maven/-/blob/master/.gitlab-ci.yml#L58\n\n* [x] java-gradle","state":"closed","created_at":"2021-05-22T02:34:48.979Z","updated_at":"2021-10-28T13:56:34.712Z","closed_at":"2021-07-15T14:30:10.143Z","closed_by":{"id":52092,"username":"gonzoyumo","name":"Olivier Gonzalez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/651e0ff81c3995a05269f7c80895fe89?s=80\u0026d=identicon","web_url":"https://gitlab.com/gonzoyumo"},"labels":["Category:Dependency Scanning","Deliverable","Enterprise Edition","GitLab Ultimate","backend","devops::secure","documentation","group::composition analysis","release post item","release post item::in review","section::sec","type::maintenance","workflow::canary"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":4668304,"username":"ifrenkel","name":"Igor Frenkel","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a73e8113c53ac25297ce751e59bbb1d3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ifrenkel"}],"author":{"id":4668304,"username":"ifrenkel","name":"Igor Frenkel","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a73e8113c53ac25297ce751e59bbb1d3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ifrenkel"},"type":"ISSUE","assignee":{"id":4668304,"username":"ifrenkel","name":"Igor Frenkel","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a73e8113c53ac25297ce751e59bbb1d3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ifrenkel"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/331652","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":6,"completed_count":6},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"6 of 6 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/331652","notes":"https://gitlab.com/api/v4/projects/278964/issues/331652/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/331652/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#331652","relative":"#331652","full":"gitlab-org/gitlab#331652"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":"on_track"},{"id":87532179,"iid":331649,"project_id":278964,"title":"[issue_boards_filtered_search] Enable gl-filtered-search on issue boards","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n## Summary\n\nThis issue is to rollout [the feature](ISSUE LINK) on production,\nthat is currently behind the `issue_boards_filtered_search` feature flag.\n\n\u003c!-- Short description of what the feature is about and link to relevant other issues. --\u003e\n\n## Owners\n\n- Team: group::plan\n- Most appropriate slack channel to reach out to: `#s_plan`\n- Best individual to reach out to: @fguibert\n- PM: @cdybenko \n\n## Stakeholders\n\n\u003c!--\nAre there any other stages or teams involved that need to be kept in the loop?\n\n- Name of a PM\n- The Support Team\n- The Delivery Team\n--\u003e\n\n## The Rollout Plan\n\n- Partial Rollout on GitLab.com with testing groups\n- Rollout on GitLab.com for a certain period (How long)\n- Percentage Rollout on GitLab.com\n- Rollout Feature for everyone as soon as it's ready\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? Sentry errors reports can also be useful to review --\u003e\n\n## Testing Groups/Projects/Users\n\n\u003c!-- If applicable, any groups/projects that are happy to have this feature turned on early. Some organizations may wish to test big changes they are interested in with a small subset of users ahead of time for example. --\u003e\n\n- `gitlab-org/gitlab` project\n- `gitlab-org`/`gitlab-com` groups\n- ...\n\n\n## Expectations\n\n### What are we expecting to happen?\n\n\u003c!-- Describe the expected outcome when rolling out this feature --\u003e\n\n### What might happen if this goes wrong?\n\n\u003c!-- Should the feature flag be turned off? Any MRs that need to be rolled back? Communication that needs to happen? What are some things you can think of that could go wrong - data loss or broken pages? --\u003e\n\n### What can we monitor to detect problems with this?\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? --\u003e\n\n## Rollout Steps\n\n### Rollout on non-production environments\n\n- [ ] Ensure that the feature MRs have been deployed to non-production environments.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- [ ] Enable the feature globally on non-production environments.\n    - [ ] `/chatops run feature set \u003cfeature-flag-name\u003e true --dev`\n    - [ ] `/chatops run feature set \u003cfeature-flag-name\u003e true --staging`\n- [ ] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n\n### Preparation before production rollout\n\n- [ ] Ensure that the feature MRs have been deployed to both production and canary.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- [ ] Check if the feature flag change needs to be accompanied with a\n  [change management issue](https://about.gitlab.com/handbook/engineering/infrastructure/change-management/#feature-flags-and-the-change-management-process).\n  Cross link the issue here if it does.\n- [ ] Ensure that you or a representative in development can be available for at least 2 hours after feature flag updates in production.\n  If a different developer will be covering, or an exception is needed, please inform the oncall SRE by using the `@sre-oncall` Slack alias.\n- [ ] Ensure that documentation has been updated ([More info](https://docs.gitlab.com/ee/development/documentation/feature_flags.html#features-that-became-enabled-by-default)).\n- [ ] Announce on [the feature issue](ISSUE LINK) an estimated time this will be enabled on GitLab.com.\n- [ ] If the feature flag in code has [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), enable it on GitLab.com for [testing groups/projects](#testing-groupsprojectsusers).\n    - [ ] `/chatops run feature set --\u003cactor-type\u003e=\u003cactor\u003e \u003cfeature-flag-name\u003e true`\n- [ ] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n\n### Global rollout on production\n\n- [x] [Incrementally roll out](https://docs.gitlab.com/ee/development/feature_flags/controls.html#process) the feature.\n  - If the feature flag in code has [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform **actor-based** rollout.\n    - [ ] `/chatops run feature set \u003cfeature-flag-name\u003e \u003crollout-percentage\u003e --actors`\n  - If the feature flag in code does **NOT** have [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform time-based rollout (**random** rollout).\n    - [ ] `/chatops run feature set \u003cfeature-flag-name\u003e \u003crollout-percentage\u003e`\n  - Enable the feature globally on production environment.\n    - [x] `/chatops run feature set \u003cfeature-flag-name\u003e true`\n- [ ] Announce on [the feature issue](ISSUE LINK) that the feature has been globally enabled.\n- [ ] Cross-post chatops slack command to `#support_gitlab-com`.\n  ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#communicate-the-change)) and in your team channel\n- [x] Wait for [at least one day for the verification term](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release).\n\n### (Optional) Release the feature with the feature flag\n\nIf you're still unsure whether the feature is [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release)\nbut want to release it in the current milestone, you can change the default state of the feature flag to be enabled.\nTo do so, follow these steps:\n\n- [x] Create a merge request with the following changes. Ask for review and merge it.\n    - [x] Set the `default_enabled` attribute in [the feature flag definition](https://docs.gitlab.com/ee/development/feature_flags/#feature-flag-definition-and-validation) to `true`.\n    - [x] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the above MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit\u003e`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n\n**WARNING:** This approach has the downside that it makes it difficult for us to\n[clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) the flag.\nFor example, on-premise users could disable the feature on their GitLab instance. But when you\nremove the flag at some point, they suddenly see the feature as enabled and they can't roll it back\nto the previous behavior. To avoid this potential breaking change, use this approach only for urgent\nmatters.\n\n### Release the feature\n\nAfter the feature has been [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release),\nthe [clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up)\nshould be done as soon as possible to permanently enable the feature and reduce complexity in the\ncodebase.\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [ ] Create a merge request to remove `\u003cfeature-flag-name\u003e` feature flag. Ask for review and merge it.\n    - [ ] Remove all references to the feature flag from the codebase.\n    - [ ] Remove the YAML definitions for the feature from the repository.\n    - [ ] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the above MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit\u003e`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [ ] Clean up the feature flag from all environments by running these chatops command in `#production` channel:\n    - [ ] `/chatops run feature delete \u003cfeature-flag-name\u003e --dev`\n    - [ ] `/chatops run feature delete \u003cfeature-flag-name\u003e --staging`\n    - [ ] `/chatops run feature delete \u003cfeature-flag-name\u003e`\n- [ ] Close this rollout issue.\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set \u003cfeature-flag-name\u003e false\n```","state":"closed","created_at":"2021-05-21T23:02:10.289Z","updated_at":"2022-02-22T02:48:02.549Z","closed_at":"2022-02-22T02:48:02.529Z","closed_by":{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"},"labels":["devops::plan","feature flag","group::product planning","missed:14.7","missed:14.8","section::dev","workflow::production"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"}],"author":{"id":4447636,"username":"sstern","name":"Scott Stern","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4447636/avatar.png","web_url":"https://gitlab.com/sstern"},"type":"ISSUE","assignee":{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"},"user_notes_count":13,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/331649","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":41,"completed_count":6},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"6 of 41 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/331649","notes":"https://gitlab.com/api/v4/projects/278964/issues/331649/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/331649/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#331649","relative":"#331649","full":"gitlab-org/gitlab#331649"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":87527347,"iid":331641,"project_id":278964,"title":"Show warning if no .git in the URL when importing Repo by URL","description":"## Problem to solve\n\nPer [this comment](https://gitlab.com/gitlab-org/gitlab/-/issues/276953#note_581772677), [enforcing .git in the URL when importing](https://gitlab.com/gitlab-org/gitlab/-/issues/276953) impacted a customer in [internal ticket](https://gitlab.zendesk.com/agent/tickets/214015) who can no longer use Import from URL feature to import projects from xp-dev.com. It seems like there are platforms that don't necessarily expose URLs ending with .git.\n\n## Steps to reproduce\n1. Create an account at xp-dev.com (they have 30 days trial with no credit card information) - \u003e Create a test project \n1. Try importing that project to GitLab using Import by URL feature.\n1. Unable to find a way to get a URL ending with `.git`\n\n## Proposed solution\nA 3-step solution was proposed in [this comment](https://gitlab.com/gitlab-org/gitlab/-/issues/331641#note_583624896):\n1. Revert current MR (https://gitlab.com/gitlab-org/gitlab/-/issues/331803)\n2. **Switch from \"error message\" to \"warning\" (this issue)**\n3. Switch from \"dummy error message\" to making real backend-based validation \"if the supplied URL feels like GIT url\" (https://gitlab.com/gitlab-org/gitlab/-/issues/331641). \n\nThis issue implements step 2:\nWhen the URL doesn't end with `.git`, show a warning, similar to the original solution. To do that, we should add a validation to the URL field that would fail unless the URL ends in `.git` upon clicking on the `Create project` button. If the validation fails, a warning is displayed, similar to the [original solution](https://gitlab.com/gitlab-org/gitlab/-/issues/276953#proposed-solution). However, the warning would be non-blocking and the user would be able to continue with the next action.\n\nThis is the desired text of the warning:\n\n`A repository URL usually ends in a .git suffix, although this is not required. Double check to make sure your repository URL is correct.`","state":"closed","created_at":"2021-05-21T19:40:30.273Z","updated_at":"2021-08-05T10:51:02.133Z","closed_at":"2021-08-05T10:51:02.116Z","closed_by":{"id":1230286,"username":"xanf","name":"Illya Klymov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ce4d16557b46210fa57641531b570dd4?s=80\u0026d=identicon","web_url":"https://gitlab.com/xanf"},"labels":["Category:Importers","Importer:Git","Next Up","UX","customer","devops::manage","estimation::completed","frontend","group::import","milestone::p2","section::dev","workflow::verification"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":1230286,"username":"xanf","name":"Illya Klymov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ce4d16557b46210fa57641531b570dd4?s=80\u0026d=identicon","web_url":"https://gitlab.com/xanf"}],"author":{"id":5247073,"username":"hdelalic","name":"Haris DelaliÄ‡","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5247073/avatar.png","web_url":"https://gitlab.com/hdelalic"},"type":"ISSUE","assignee":{"id":1230286,"username":"xanf","name":"Illya Klymov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ce4d16557b46210fa57641531b570dd4?s=80\u0026d=identicon","web_url":"https://gitlab.com/xanf"},"user_notes_count":21,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/331641","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/331641","notes":"https://gitlab.com/api/v4/projects/278964/issues/331641/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/331641/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#331641","relative":"#331641","full":"gitlab-org/gitlab#331641"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3128,"epic":{"id":44070,"iid":3128,"title":"Repo by URL Importer","url":"/groups/gitlab-org/-/epics/3128","group_id":9970,"human_readable_end_date":"Feb 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":87524081,"iid":331631,"project_id":278964,"title":"Make API Fuzzing latest template the stable template","description":"For 14.0 make the latest API Fuzzing CI template the new stable template. We will continue to have a latest template so we don't break users.\n\nTasks:\n\n1. [x] Copy API Fuzzing latest CI template to stable\n1. [x] Copy tests from latest to stable","state":"closed","created_at":"2021-05-21T17:55:31.340Z","updated_at":"2021-10-28T13:56:36.384Z","closed_at":"2021-06-15T17:48:56.565Z","closed_by":{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"},"labels":["Category:Fuzz Testing","GitLab Ultimate","backend","devops::secure","group::dynamic analysis","section::sec","type::maintenance","workflow::verification"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"}],"author":{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"},"type":"ISSUE","assignee":{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/331631","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":2},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"2 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/331631","notes":"https://gitlab.com/api/v4/projects/278964/issues/331631/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/331631/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#331631","relative":"#331631","full":"gitlab-org/gitlab#331631"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":87522144,"iid":331628,"project_id":278964,"title":"Make eslint identifier as primary identifier in semgrep findings","description":"This issue is similar to https://gitlab.com/gitlab-org/gitlab/-/issues/331551. In this task, we need to make a similar change for [eslint](https://gitlab.com/gitlab-org/security-products/analyzers/eslint).\n\nIn the current [implementation](https://gitlab.com/gitlab-org/security-products/analyzers/semgrep/-/blob/16c930166b746a5a74de19ed67e1c17f21c0185d/convert.go#L58), `semgrep` is putting its own identifier first in the list of identifiers. This makes `remapping` task hard. For this reason, we need to make [eslint](https://gitlab.com/gitlab-org/security-products/analyzers/eslint) identifier as [primary identifier](https://gitlab.com/gitlab-org/gitlab/-/blob/e4eb9c66d5d0b7daea516d94141743f5cb759cfd/ee/app/models/vulnerabilities/finding.rb#L339) in [semgrep](https://gitlab.com/gitlab-org/security-products/analyzers/semgrep) findings.","state":"closed","created_at":"2021-05-21T17:10:08.716Z","updated_at":"2022-04-11T03:34:20.176Z","closed_at":"2022-04-06T21:35:23.672Z","closed_by":{"id":401232,"username":"theoretick","name":"Lucas Charles","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/401232/squares-nail-wall-art.jpg","web_url":"https://gitlab.com/theoretick"},"labels":["Category:SAST","[deprecated] Accepting merge requests","backend","devops::secure","group::static analysis","section::sec","type::feature"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":5427309,"username":"ssarka","name":"Saikat Sarkar","state":"blocked","avatar_url":"https://secure.gravatar.com/avatar/097feebc1eb82b858a9046fe9b6d9176?s=80\u0026d=identicon","web_url":"https://gitlab.com/ssarka"},"type":"ISSUE","assignee":null,"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/331628","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/331628","notes":"https://gitlab.com/api/v4/projects/278964/issues/331628/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/331628/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":"https://gitlab.com/api/v4/projects/278964/issues/328062"},"references":{"short":"#331628","relative":"#331628","full":"gitlab-org/gitlab#331628"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6440,"epic":{"id":314498,"iid":6440,"title":"Enable new analyzers to take over reporting for existing vulnerabilities","url":"/groups/gitlab-org/-/epics/6440","group_id":9970,"human_readable_end_date":"Aug 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":87522047,"iid":331627,"project_id":278964,"title":"Document why FF rollouts with percentage of actors is preferred over percentage of time","description":"As a follow-up to https://gitlab.com/gitlab-org/gitlab/-/issues/327117:\n\n\u003e Document why \"percentage of time\" rollout is discouraged and we should use \"percentage of actors\" instead. For percentage of \u003e time to be used correctly we need to ensure that the feature works correctly in between feature checks. If we use \u003e `Feature.enabled?` multiple times in the code, the \"% of time\" has good chance of introducing inconsistent behaviour.","state":"closed","created_at":"2021-05-21T17:08:07.056Z","updated_at":"2021-06-01T22:43:09.805Z","closed_at":"2021-06-01T22:43:06.398Z","closed_by":{"id":5709468,"username":"cheryl.li","name":"Cheryl Li","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5709468/avatar.png","web_url":"https://gitlab.com/cheryl.li"},"labels":["Category:Continuous Integration","Category:Pipeline Authoring","corrective action","devops::verify","documentation","group::pipeline execution","section::ops","workflow::production"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":5709468,"username":"cheryl.li","name":"Cheryl Li","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5709468/avatar.png","web_url":"https://gitlab.com/cheryl.li"}],"author":{"id":5709468,"username":"cheryl.li","name":"Cheryl Li","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5709468/avatar.png","web_url":"https://gitlab.com/cheryl.li"},"type":"ISSUE","assignee":{"id":5709468,"username":"cheryl.li","name":"Cheryl Li","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5709468/avatar.png","web_url":"https://gitlab.com/cheryl.li"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/331627","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/331627","notes":"https://gitlab.com/api/v4/projects/278964/issues/331627/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/331627/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#331627","relative":"#331627","full":"gitlab-org/gitlab#331627"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":87521940,"iid":331626,"project_id":278964,"title":"Make secondary identifier matching if there is no signatures match and no uuid match","description":"The following quotation has been extracted from https://gitlab.com/gitlab-org/gitlab/-/issues/322384#note_582225105\n\n\u003e We need to make this change because of the following reason.\n\u003e \n\u003e Suppose, there is a `semgrep` finding in a project's master branch pipeline. Now, we are going to change the [primary identifier](https://gitlab.com/gitlab-org/gitlab/-/blob/e4eb9c66d5d0b7daea516d94141743f5cb759cfd/ee/app/models/vulnerabilities/finding.rb#L339) of [semgrep](https://gitlab.com/gitlab-org/security-products/analyzers/semgrep) to [bandit](https://gitlab.com/gitlab-org/security-products/analyzers/bandit) identifier. Now, after triggering a pipeline in the new MR, we will notice that the same `semgrep` finding has been attributed as `fixed` and `added`. In order to resolve this issue, we need to use [secondary identifier matching](https://gitlab.com/gitlab-org/gitlab/-/blob/c2d59c4fd9129dbd812d8a23aa67212a18bdda1d/ee/lib/gitlab/ci/reports/security/vulnerability_reports_comparer.rb#L110)\n\nWe need to perform the matching in `StoreReportService` in order to do the actual remapping during persisting different finding. Following is an except from this [comment](https://gitlab.com/gitlab-org/gitlab/-/issues/299589#note_596064370).\n\n\u003e Most of the solution seems focused on `VulnerabilityReportsComparer` but that service is only used for displaying the diff within the UI, not for the actual remapping that must be done within `StoreReportService`. We should be sure to update that worker in order to persist different findings rather than only show the diff within the UI.\n\n### Summary\nWe need to find a solution using secondary matching in `StoreReportService` rather than `VulnerabilityReportsComparer`. This will help us to eliminate the burden of matching in displaying diff in UI. In this [comment](https://gitlab.com/gitlab-org/gitlab/-/issues/299589#note_596064370), we talked about performance issues as well. During implementation, we need to monitor how this will hamper the performance.","state":"closed","created_at":"2021-05-21T17:05:01.108Z","updated_at":"2022-04-25T03:22:33.093Z","closed_at":"2022-04-21T15:45:14.556Z","closed_by":{"id":32707,"username":"rossfuhrman","name":"rossfuhrman","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/32707/avatar.png","web_url":"https://gitlab.com/rossfuhrman"},"labels":["Category:SAST","[deprecated] Accepting merge requests","backend","devops::secure","feature::addition","group::static analysis","section::sec","type::feature"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":5427309,"username":"ssarka","name":"Saikat Sarkar","state":"blocked","avatar_url":"https://secure.gravatar.com/avatar/097feebc1eb82b858a9046fe9b6d9176?s=80\u0026d=identicon","web_url":"https://gitlab.com/ssarka"},"type":"ISSUE","assignee":null,"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/331626","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/331626","notes":"https://gitlab.com/api/v4/projects/278964/issues/331626/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/331626/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#331626","relative":"#331626","full":"gitlab-org/gitlab#331626"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6440,"epic":{"id":314498,"iid":6440,"title":"Enable new analyzers to take over reporting for existing vulnerabilities","url":"/groups/gitlab-org/-/epics/6440","group_id":9970,"human_readable_end_date":"Aug 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":87521841,"iid":331624,"project_id":278964,"title":"Change dropdowns in Admin / General / Visibility and Access control to be radio buttons","description":"## Issue\nThe dropdowns in the `Admin / General / Visibility and Access control` section are unnecessary, do not aid in usability, and are not accessible. As well it hides the setting header as the dropdown pops up instead of down from the selection point.\n\n| Default branch protection | Default project creation protection |\n| ------ | ------ |\n| ![Screen_Shot_2021-05-21_at_11.56.31_AM](/uploads/02ab733c4de4a7288e7145e26c2f8321/Screen_Shot_2021-05-21_at_11.56.31_AM.png) | ![Screen_Shot_2021-05-21_at_11.55.17_AM](/uploads/f5b7face0c23446d468be7ac1282ab75/Screen_Shot_2021-05-21_at_11.55.17_AM.png) |\n\n## Proposal \nConvert these dropdowns to radio buttons.\n\n#### Default branch protection\n* **Not protected**\n   - Both developers and maintainers can push new commits, force push, or delete the branch.\n* **Protected against pushes**\n   - Developers cannot push new commits, but are allowed to accept merge requests to the branch. Maintainers can push to the branch.\n* **Partially protected**\n   - Both developers and maintainers can push new commits, but cannot force push or delete the branch.\n* **Fully protected**\n   - Developers cannot push new commits, but maintainers can. No one can force push or delete the branch.\n\n#### Default project creation protection\n* **No one**\n  * Projects cannot be created.\n* **Maintainers**\n  * Only maintainers can create projects.\n* **Maintainers + Developers**\n  * Both maintainers and developers can create projects.\n\n\n### Availability \u0026 Testing\n\n\u003c!-- This section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\nWhat risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning --\u003e\n\nPlease run the `package-and-qa` job to ensure all end-to-end tests are fine.","state":"closed","created_at":"2021-05-21T17:00:29.648Z","updated_at":"2021-11-12T22:00:21.003Z","closed_at":"2021-11-01T15:19:11.540Z","closed_by":{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"},"labels":["Category:Authentication and Authorization","FY22::Q4","GitLab Core","GitLab Premium","GitLab Ultimate","UX","accessibility","candidate::14.5","devops::manage","frontend","group::authentication and authorization","priority::4","quad-planning::complete-action","section::dev","settings","workflow::production"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"}],"author":{"id":4584545,"username":"dmoraBerlin","name":"Daniel Mora","state":"active","avatar_url":"https://secure.gravatar.com/avatar/0604ecfb7035e409af09d4a3b6d7dcb2?s=80\u0026d=identicon","web_url":"https://gitlab.com/dmoraBerlin"},"type":"ISSUE","assignee":{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"},"user_notes_count":14,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/331624","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":1,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/331624","notes":"https://gitlab.com/api/v4/projects/278964/issues/331624/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/331624/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#331624","relative":"#331624","full":"gitlab-org/gitlab#331624"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":87517595,"iid":331614,"project_id":278964,"title":"[security_configuration_redesign] Feature Flag Rollout","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n## Summary\n\nThis issue is to rollout the [redesigned Secure Configuration Page](https://gitlab.com/groups/gitlab-org/-/epics/5820) on production,\nthat is currently behind the `security_configuration_redesign` feature flag.\n\nToggling this feature-flag will enable Phase 1 of the according [Epic](https://gitlab.com/groups/gitlab-org/-/epics/5820)\n\nWithin the same MR the docs also need to be adjusted:\n\nLink to Docs: https://docs.gitlab.com/ee/user/application_security/configuration/\n- warning needs to be removed since this feature is now available for all\n- Add a sentence that there will be different experiences according to the User's licence.\n\n\n\u003c!-- Short description of what the feature is about and link to relevant other issues. --\u003e\n\nIt triggers the display between the current Secure Configuration Page and the redesigned one.\n\n## Owners\n\n- Team: Secure Analyzer Frontend Team\n- Most appropriate slack channel to reach out to: `#s_secure-analyzer-frontend`\n- Best individual to reach out to: @jannik_lehmann, @markrian \n- PM: @nmccorrison \n\n## Stakeholders\n\n\u003c!--\nAre there any other stages or teams involved that need to be kept in the loop?\n\n- Name of a PM\n- The Support Team\n- The Delivery Team\n--\u003e\n\n## The Rollout Plan\n\n- Partial Rollout on GitLab.com with testing project(s)\n- ~~Rollout on GitLab.com for a certain period (How long)~~\n- ~~Percentage Rollout on GitLab.com~~\n- Rollout Feature for everyone as soon as it's ready\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? Sentry errors reports can also be useful to review --\u003e\n\n## Testing Groups/Projects/Users\n\n\u003c!-- If applicable, any groups/projects that are happy to have this feature turned on early. Some organizations may wish to test big changes they are interested in with a small subset of users ahead of time for example. --\u003e\n\n- Staging\n   - https://staging.gitlab.com/markrian/secrets-detection-test/-/security/configuration\n- Production\n   - https://gitlab.com/markrian-test/security-configuration-redesign-test-project/-/security/configuration (this is a private project by necessity, so request access from DRIs to see it)\n\n## Expectations\n\n### What are we expecting to happen?\n\n\u003c!-- Describe the expected outcome when rolling out this feature --\u003e\n\n### What might happen if this goes wrong?\n\n\u003c!-- Should the feature flag be turned off? Any MRs that need to be rolled back? Communication that needs to happen? What are some things you can think of that could go wrong - data loss or broken pages? --\u003e\n\n### What can we monitor to detect problems with this?\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? --\u003e\n\n## Rollout Steps\n\n### Rollout on non-production environments\n\n- [x] Ensure that the feature MRs have been deployed to non-production environments.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- [x] Enable the feature globally on non-production environments.\n    - [-] `/chatops run feature set security_configuration_redesign true --dev`\n    - [x] `/chatops run feature set security_configuration_redesign true --staging`\n- [x] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n\n### Preparation before production rollout\n\n- [x] Ensure that the feature MRs have been deployed to both production and canary.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- [x] Check if the feature flag change needs to be accompanied with a\n  [change management issue](https://about.gitlab.com/handbook/engineering/infrastructure/change-management/#feature-flags-and-the-change-management-process).\n  Cross link the issue here if it does.\n- [x] Ensure that you or a representative in development can be available for at least 2 hours after feature flag updates in production.\n  If a different developer will be covering, or an exception is needed, please inform the oncall SRE by using the `@sre-oncall` Slack alias.\n- [x] Ensure that documentation has been updated ([More info](https://docs.gitlab.com/ee/development/documentation/feature_flags.html#features-that-became-enabled-by-default)). https://gitlab.com/gitlab-org/gitlab/-/merge_requests/64303\n- [x] Announce on [this issue](https://gitlab.com/gitlab-org/gitlab/-/issues/331614#note_614005557) an estimated time this will be enabled on GitLab.com.\n- [x] If the feature flag in code has [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), enable it on GitLab.com for [testing groups/projects](#testing-groupsprojectsusers).\n    - [x] `/chatops run feature set --\u003cactor-type\u003e=\u003cactor\u003e security_configuration_redesign true`\n- [x] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n\n### Global rollout on production\n\n- [x] [Incrementally roll out](https://docs.gitlab.com/ee/development/feature_flags/controls.html#process) the feature.\n  - ~~If the feature flag in code has [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform **actor-based** rollout.~~\n    - [-] `/chatops run feature set security_configuration_redesign \u003crollout-percentage\u003e --actors`\n  - ~~If the feature flag in code does **NOT** have [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform time-based rollout (**random** rollout).~~\n    - [-] `/chatops run feature set security_configuration_redesign \u003crollout-percentage\u003e`\n  - Enable the feature globally on production environment.\n    - [x] `/chatops run feature set security_configuration_redesign true`\n- [x] Announce on this issue that the feature has been globally enabled.\n- [x] Cross-post chatops slack command to `#support_gitlab-com`.\n  ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#communicate-the-change)) and in your team channel\n- [x] Wait for [at least one day for the verification term](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release).\n\n## Flag Removal / Release the feature\n\nThe removal phase is tracked in https://gitlab.com/gitlab-org/gitlab/-/issues/333112.\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set security_configuration_redesign false\n```","state":"closed","created_at":"2021-05-21T15:20:33.062Z","updated_at":"2022-08-12T22:38:05.027Z","closed_at":"2021-07-26T08:59:13.528Z","closed_by":{"id":553096,"username":"markrian","name":"Mark Florian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/553096/avatar.png","web_url":"https://gitlab.com/markrian"},"labels":["[deprecated] Accepting merge requests","documentation","feature flag","missed:14.1","type::feature","workflow::verification"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":553096,"username":"markrian","name":"Mark Florian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/553096/avatar.png","web_url":"https://gitlab.com/markrian"},{"id":7293390,"username":"jannik_lehmann","name":"Jannik Lehmann","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7293390/avatar.png","web_url":"https://gitlab.com/jannik_lehmann"}],"author":{"id":7293390,"username":"jannik_lehmann","name":"Jannik Lehmann","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7293390/avatar.png","web_url":"https://gitlab.com/jannik_lehmann"},"type":"ISSUE","assignee":{"id":553096,"username":"markrian","name":"Mark Florian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/553096/avatar.png","web_url":"https://gitlab.com/markrian"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/331614","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":20,"completed_count":19},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"19 of 20 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/331614","notes":"https://gitlab.com/api/v4/projects/278964/issues/331614/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/331614/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#331614","relative":"#331614","full":"gitlab-org/gitlab#331614"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6147,"epic":{"id":286279,"iid":6147,"title":"Phase 1 (FOSS / non-Ultimate)","url":"/groups/gitlab-org/-/epics/6147","group_id":9970,"human_readable_end_date":"Aug 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":87486113,"iid":331584,"project_id":278964,"title":"Remove deprecated metrics from Usage Ping","description":"These metrics are deprecated for a while we could remove them\n\n* Update metrics status to removed\n* remove metrics implementation from usahe_data.rb\n* regenerate dictionary\n\n[Remove a metrics guide](https://docs.gitlab.com/ee/development/usage_ping/#4-remove-a-metric)\n\n```ruby\n{:\"usage_activity_by_stage.manage.bulk_imports.gitlab\"=\u003e-1000}\n{:\"usage_activity_by_stage.manage.groups_imported\"=\u003e-1000}\n{:\"usage_activity_by_stage.manage.issues_imported.csv\"=\u003e-1000}\n{:\"usage_activity_by_stage.manage.issues_imported.jira\"=\u003e-1000}\n{:\"usage_activity_by_stage.manage.issues_imported.fogbugz\"=\u003e-1000}\n{:\"usage_activity_by_stage.manage.issues_imported.phabricator\"=\u003e-1000}\n{:\"usage_activity_by_stage.manage.projects_imported.git\"=\u003e-1000}\n{:\"usage_activity_by_stage.manage.projects_imported.gitea\"=\u003e-1000}\n{:\"usage_activity_by_stage.manage.projects_imported.total\"=\u003e-1000}\n{:\"usage_activity_by_stage.manage.projects_imported.github\"=\u003e-1000}\n{:\"usage_activity_by_stage.manage.projects_imported.gitlab\"=\u003e-1000}\n{:\"usage_activity_by_stage.manage.projects_imported.manifest\"=\u003e-1000}\n{:\"usage_activity_by_stage.manage.projects_imported.bitbucket\"=\u003e-1000}\n{:\"usage_activity_by_stage.manage.projects_imported.gitlab_project\"=\u003e-1000}\n{:\"usage_activity_by_stage.manage.projects_imported.bitbucket_server\"=\u003e-1000}\n{:\"usage_activity_by_stage_monthly.manage.bulk_imports.gitlab\"=\u003e-1000}\n{:\"usage_activity_by_stage_monthly.manage.groups_imported\"=\u003e-1000}\n{:\"usage_activity_by_stage_monthly.manage.issues_imported.csv\"=\u003e-1000}\n{:\"usage_activity_by_stage_monthly.manage.issues_imported.jira\"=\u003e-1000}\n{:\"usage_activity_by_stage_monthly.manage.issues_imported.fogbugz\"=\u003e-1000}\n{:\"usage_activity_by_stage_monthly.manage.issues_imported.phabricator\"=\u003e-1000}\n{:\"usage_activity_by_stage_monthly.manage.projects_imported.git\"=\u003e-1000}\n{:\"usage_activity_by_stage_monthly.manage.projects_imported.gitea\"=\u003e-1000}\n{:\"usage_activity_by_stage_monthly.manage.projects_imported.total\"=\u003e-1000}\n{:\"usage_activity_by_stage_monthly.manage.projects_imported.github\"=\u003e-1000}\n{:\"usage_activity_by_stage_monthly.manage.projects_imported.gitlab\"=\u003e-1000}\n{:\"usage_activity_by_stage_monthly.manage.projects_imported.manifest\"=\u003e-1000}\n{:\"usage_activity_by_stage_monthly.manage.projects_imported.bitbucket\"=\u003e-1000}\n{:\"usage_activity_by_stage_monthly.manage.projects_imported.gitlab_project\"=\u003e-1000}\n{:\"usage_activity_by_stage_monthly.manage.projects_imported.bitbucket_server\"=\u003e-1000}\n```","state":"closed","created_at":"2021-05-21T08:00:09.935Z","updated_at":"2021-12-02T08:36:23.777Z","closed_at":"2021-12-02T08:36:23.763Z","closed_by":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"labels":["[deprecated] Accepting merge requests","devops::growth","group::product intelligence","maintenance::refactor","milestone::p4","section::growth","type::maintenance","workflow::ready for development"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"type":"ISSUE","assignee":null,"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/331584","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/331584","notes":"https://gitlab.com/api/v4/projects/278964/issues/331584/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/331584/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#331584","relative":"#331584","full":"gitlab-org/gitlab#331584"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5931,"epic":{"id":264515,"iid":5931,"title":"Usage Ping Maintenance","url":"/groups/gitlab-org/-/epics/5931","group_id":9970,"human_readable_end_date":"Jan 31, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":87485466,"iid":331583,"project_id":278964,"title":"Revisit `last_for_board_id` query used on epic boards","description":"When we have more epic board position, we should revisit if the query which finds the last epic position on a board is performant enough.\n\nThe following discussion from !59379 should be addressed:\n\n- [ ] @ahegyi started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/59379#note_573627197):  (+11 comments)\n\n    \u003e @jarka, since we don't have PRD data, I can only rely on the execution plan. \n    \u003e \n    \u003e I was interested in the top position count for a given `epic_board_id` but I got no records.\n    \u003e \n    \u003e ```sql\n    \u003e select epic_board_id, count(*) from boards_epic_board_positions group by 1 order by 2 desc limit 10;\n    \u003e ```\n    \u003e \n    \u003e The efficiency of the  `last_for_board_id` query will depend on the number of position record because the `ORDER BY` clause is not covered with an index. Index with the following columns would help: `epic_board_id, relative_position DESC`. Since we don't have records yet, we can take care of this in a follow up issue, it's your call.\n    \u003e \n    \u003e See more information about `ORDER BY` clause and index coverage: https://docs.gitlab.com/ee/development/database/pagination_guidelines.html#index-coverage\n    \u003e \n    \u003e Can `relative_position` be `NULL`? In that case we'll need a special ordering: `relative_position DESC NULLS LAST`. Otherwise rows with NULL values will show up on top.","state":"closed","created_at":"2021-05-21T07:49:50.472Z","updated_at":"2022-02-11T15:12:24.126Z","closed_at":"2022-02-11T15:12:24.087Z","closed_by":{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"},"labels":["Stretch","[deprecated] Accepting merge requests","backend","devops::plan","group::product planning","missed:14.2","missed:14.3","missed:14.4","missed:14.5","section::dev","workflow::ready for development"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"}],"author":{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"},"type":"ISSUE","assignee":{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/331583","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/331583","notes":"https://gitlab.com/api/v4/projects/278964/issues/331583/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/331583/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#331583","relative":"#331583","full":"gitlab-org/gitlab#331583"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":87467931,"iid":331568,"project_id":278964,"title":"View History of All Group Migrations - Backend","description":"### Problem to solve \n\nThe user needs a way to view the history of all previously imported groups. \n\n### Issue scope\n\n**This issue is focused on implementing the API backend for the feature described below.**\n\n### JTBD\n\nWhen I need to refer back to the groups that I've imported, I want to view a list of all my previously imported groups and when they were imported so that I can verify I've imported all of the intended groups.\n\n### User experience goal\n\nThe user experience should be a similar experience to Project imports to sustain consistent behavior. \n\n### Proposal\n\n1. Add `History` link on the Import group page, above the import options. \n2. The table within the `Group import history` page should include the following columns and actions:\n- Source group\n- New group\n- Imported by\n- Date \n- Status\n3. The table is able to be filtered by `Source group name`\n4. The `Details` button appears which leads to a page with reasons why the import failed. This feature will eventually be applicable to the successful imports as well. \n\n![Group_import_history_-_v2](/uploads/a7547857880b1961da6e548198e977d3/Group_import_history_-_v2.jpg)\n\n[UX Designs for View History of All Group Imports (Figma file)](https://www.figma.com/file/0ry7WfPaWbrzkvlpwh1UC4/267788-History-of-Project-Imports-Copy?node-id=33%3A0)","state":"closed","created_at":"2021-05-21T00:10:41.060Z","updated_at":"2021-10-14T23:16:26.184Z","closed_at":"2021-07-05T12:46:32.147Z","closed_by":{"id":674121,"username":"georgekoltsov","name":"George Koltsov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/674121/avatar.png","web_url":"https://gitlab.com/georgekoltsov"},"labels":["Importer:GitLab Migration","Next Up","SUS::FY22 Q2 - Incomplete","backend","devops::manage","estimation::completed","group::import","milestone::p3","section::dev","workflow::verification"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":674121,"username":"georgekoltsov","name":"George Koltsov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/674121/avatar.png","web_url":"https://gitlab.com/georgekoltsov"}],"author":{"id":5247073,"username":"hdelalic","name":"Haris DelaliÄ‡","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5247073/avatar.png","web_url":"https://gitlab.com/hdelalic"},"type":"ISSUE","assignee":{"id":674121,"username":"georgekoltsov","name":"George Koltsov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/674121/avatar.png","web_url":"https://gitlab.com/georgekoltsov"},"user_notes_count":6,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/331568","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/331568","notes":"https://gitlab.com/api/v4/projects/278964/issues/331568/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/331568/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#331568","relative":"#331568","full":"gitlab-org/gitlab#331568"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4613,"epic":{"id":126554,"iid":4613,"title":"GitLab Migration - UX improvements","url":"/groups/gitlab-org/-/epics/4613","group_id":9970,"human_readable_end_date":"Mar 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e months remaining"},"iteration":null,"health_status":null},{"id":87467739,"iid":331567,"project_id":278964,"title":"View History of All Project Imports - Backend","description":"## Problem to solve\n\nCurrently, the user can access the project import history of a single source (e.g. GitHub). This experience is limiting if a user wants to see a list of all imported projects. This also requires a lot of switching between sources if there are many. \n\nWe need a way for the user to view the history of **ALL** projects imported into a GitLab instance from all connected sources, collectively. By doing so, we reduce and/or eliminate the frustration when trying to locate details regarding previous imports. \n\n### JTBD\n\nWhen I need to refer back to projects that I've imported, I want the ability to view a list of all my previously imported projects and when they were imported, so that I can verify I've imported all of the intended projects.\n\n### User experience\n\nCreate an intuitive and path-of-least-resistance experience for the user to quickly view the history of the imported projects.\n\n## Proposal\n\nAdd `History` link to `Import project` page which then links to a `Project import history` page.\n\nThe following columns appear within the `Project import history` list:\n\n- Source\n- Destination\n- Date\n- Status\n![Poject_import_history_-_v5](/uploads/bd984ef1e209c7875addf9db55bd6b02/Poject_import_history_-_v5.jpg)\n\n[UX Designs for View History of All Project Imports (Figma file) ](https://www.figma.com/file/aC6FEQO86Vk02eAD9kJC0d/267788-History-of-Project-Imports?node-id=1%3A1437)","state":"closed","created_at":"2021-05-21T00:03:52.161Z","updated_at":"2022-04-18T10:57:34.054Z","closed_at":"2022-03-24T11:31:00.382Z","closed_by":{"id":1230286,"username":"xanf","name":"Illya Klymov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ce4d16557b46210fa57641531b570dd4?s=80\u0026d=identicon","web_url":"https://gitlab.com/xanf"},"labels":["Category:Importers","Deliverable","Importer:Project Export/Import","Next Up","UX","backend","devops::manage","estimation::completed","frontend","group::import","milestone::p3","missed-deliverable","missed:14.8","missed:14.9","section::dev","workflow::verification"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":1230286,"username":"xanf","name":"Illya Klymov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ce4d16557b46210fa57641531b570dd4?s=80\u0026d=identicon","web_url":"https://gitlab.com/xanf"}],"author":{"id":5247073,"username":"hdelalic","name":"Haris DelaliÄ‡","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5247073/avatar.png","web_url":"https://gitlab.com/hdelalic"},"type":"ISSUE","assignee":{"id":1230286,"username":"xanf","name":"Illya Klymov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ce4d16557b46210fa57641531b570dd4?s=80\u0026d=identicon","web_url":"https://gitlab.com/xanf"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/331567","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/331567","notes":"https://gitlab.com/api/v4/projects/278964/issues/331567/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/331567/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#331567","relative":"#331567","full":"gitlab-org/gitlab#331567"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3684,"epic":{"id":71524,"iid":3684,"title":"Improve Project Creation UX","url":"/groups/gitlab-org/-/epics/3684","group_id":9970,"human_readable_end_date":"Dec 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":87463026,"iid":331554,"project_id":278964,"title":"UX: Give Admins control over accidental user overages via a `User Cap` admin setting","description":"This is the UX design issue for https://gitlab.com/gitlab-org/gitlab/-/issues/328237\n\n### Note to designer\n\nWhen this issue is picked up, please advise the BE team on \"guidance to provide option to see number of users that will get auto-approved as a result of modifying the User Cap and Require admin approval for new sign-ups settings\" per [this comment](https://gitlab.com/gitlab-org/gitlab/-/issues/328237#note_582231968) so they can work in parallel. :pray_tone2:\n\n### Proposal\n\n- Add the number of users being approved to the existing modal\n- Only show the modal if 1 or more users will be approved by the settings change","state":"closed","created_at":"2021-05-20T20:26:26.622Z","updated_at":"2021-11-03T17:02:07.053Z","closed_at":"2021-07-19T20:10:07.712Z","closed_by":{"id":4377833,"username":"esybrant","name":"Emily Sybrant","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4377833/avatar.png","web_url":"https://gitlab.com/esybrant"},"labels":["UX","[deprecated] Category:Utilization","devops::fulfillment","group::utilization","missed:14.1","section::fulfillment","type::feature"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":4377833,"username":"esybrant","name":"Emily Sybrant","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4377833/avatar.png","web_url":"https://gitlab.com/esybrant"}],"author":{"id":2890431,"username":"amandarueda","name":"Amanda Rueda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2890431/avatar.png","web_url":"https://gitlab.com/amandarueda"},"type":"ISSUE","assignee":{"id":4377833,"username":"esybrant","name":"Emily Sybrant","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4377833/avatar.png","web_url":"https://gitlab.com/esybrant"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/331554","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/331554","notes":"https://gitlab.com/api/v4/projects/278964/issues/331554/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/331554/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#331554","relative":"#331554","full":"gitlab-org/gitlab#331554"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4315,"epic":{"id":103540,"iid":4315,"title":"[Self-managed] Give Admins control over accidental user overages via a `User Cap` admin setting","url":"/groups/gitlab-org/-/epics/4315","group_id":9970},"iteration":null,"health_status":null},{"id":87462987,"iid":331553,"project_id":278964,"title":"[SM User Caps FE]: Ask admins to confirm auto approval of pending users only when pending users risk being approved","description":"This is the ~frontend issue for https://gitlab.com/gitlab-org/gitlab/-/issues/328237\n\n### Design\n\n[UX issue](https://gitlab.com/gitlab-org/gitlab/-/issues/331554/)","state":"closed","created_at":"2021-05-20T20:25:13.615Z","updated_at":"2021-07-28T15:04:58.740Z","closed_at":"2021-07-28T15:00:07.321Z","closed_by":{"id":5249152,"username":"vij","name":"Vijay Hawoldar","state":"active","avatar_url":"https://secure.gravatar.com/avatar/14567a8b4af4374011c43778878de399?s=80\u0026d=identicon","web_url":"https://gitlab.com/vij"},"labels":["[deprecated] Category:Utilization","devops::fulfillment","frontend","group::utilization","section::fulfillment","type::feature","workflow::verification"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":5249152,"username":"vij","name":"Vijay Hawoldar","state":"active","avatar_url":"https://secure.gravatar.com/avatar/14567a8b4af4374011c43778878de399?s=80\u0026d=identicon","web_url":"https://gitlab.com/vij"}],"author":{"id":2890431,"username":"amandarueda","name":"Amanda Rueda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2890431/avatar.png","web_url":"https://gitlab.com/amandarueda"},"type":"ISSUE","assignee":{"id":5249152,"username":"vij","name":"Vijay Hawoldar","state":"active","avatar_url":"https://secure.gravatar.com/avatar/14567a8b4af4374011c43778878de399?s=80\u0026d=identicon","web_url":"https://gitlab.com/vij"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/331553","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/331553","notes":"https://gitlab.com/api/v4/projects/278964/issues/331553/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/331553/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#331553","relative":"#331553","full":"gitlab-org/gitlab#331553"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4315,"epic":{"id":103540,"iid":4315,"title":"[Self-managed] Give Admins control over accidental user overages via a `User Cap` admin setting","url":"/groups/gitlab-org/-/epics/4315","group_id":9970},"iteration":null,"health_status":null},{"id":87462355,"iid":331552,"project_id":278964,"title":"Add tracking-calculator to semgrep.","description":"Right now, we don't have [tracking-calculator](https://gitlab.com/gitlab-org/secure/vulnerability-research/pocs/post-analyzers/tracking-calculator) for [semgrep](https://gitlab.com/gitlab-org/security-products/analyzers/semgrep), [bandit](https://gitlab.com/gitlab-org/security-products/analyzers/bandit), and [eslint](https://gitlab.com/gitlab-org/security-products/analyzers/eslint). As we are going to use vulnerability_traking to identify any vulnerability, we need to add [tracking-calculator](https://gitlab.com/gitlab-org/secure/vulnerability-research/pocs/post-analyzers/tracking-calculator) to [semgrep](https://gitlab.com/gitlab-org/security-products/analyzers/semgrep). Right now, only [bakeman](https://gitlab.com/gitlab-org/security-products/analyzers/brakeman/-/blob/d0a172c4a232ee3bc127176b2a129558ecee4810/Dockerfile#L3) has tracking-calculator.","state":"closed","created_at":"2021-05-20T20:05:19.628Z","updated_at":"2022-05-20T18:54:19.221Z","closed_at":"2021-06-18T18:13:55.891Z","closed_by":{"id":5427309,"username":"ssarka","name":"Saikat Sarkar","state":"blocked","avatar_url":"https://secure.gravatar.com/avatar/097feebc1eb82b858a9046fe9b6d9176?s=80\u0026d=identicon","web_url":"https://gitlab.com/ssarka"},"labels":["Category:SAST","backend","devops::secure","feature::addition","group::static analysis","section::sec","type::feature","workflow::ready for development"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":5427309,"username":"ssarka","name":"Saikat Sarkar","state":"blocked","avatar_url":"https://secure.gravatar.com/avatar/097feebc1eb82b858a9046fe9b6d9176?s=80\u0026d=identicon","web_url":"https://gitlab.com/ssarka"}],"author":{"id":5427309,"username":"ssarka","name":"Saikat Sarkar","state":"blocked","avatar_url":"https://secure.gravatar.com/avatar/097feebc1eb82b858a9046fe9b6d9176?s=80\u0026d=identicon","web_url":"https://gitlab.com/ssarka"},"type":"ISSUE","assignee":{"id":5427309,"username":"ssarka","name":"Saikat Sarkar","state":"blocked","avatar_url":"https://secure.gravatar.com/avatar/097feebc1eb82b858a9046fe9b6d9176?s=80\u0026d=identicon","web_url":"https://gitlab.com/ssarka"},"user_notes_count":14,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/331552","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":8,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/331552","notes":"https://gitlab.com/api/v4/projects/278964/issues/331552/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/331552/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#331552","relative":"#331552","full":"gitlab-org/gitlab#331552"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5144,"epic":{"id":176669,"iid":5144,"title":"Improve tracking accuracy of SAST, Secret Detection findings","url":"/groups/gitlab-org/-/epics/5144","group_id":9970,"human_readable_end_date":"Sep 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":87462287,"iid":331551,"project_id":278964,"title":"Make bandit identifier as primary identifier in semgrep findings","description":"In the current [implementation](https://gitlab.com/gitlab-org/security-products/analyzers/semgrep/-/blob/16c930166b746a5a74de19ed67e1c17f21c0185d/convert.go#L58), `semgrep` is putting its own identifier first in the list of identifiers. This makes `remapping` task hard. For this reason, we need to make [bandit](https://gitlab.com/gitlab-org/security-products/analyzers/bandit) identifier as [primary identifier](https://gitlab.com/gitlab-org/gitlab/-/blob/e4eb9c66d5d0b7daea516d94141743f5cb759cfd/ee/app/models/vulnerabilities/finding.rb#L339) in [semgrep](https://gitlab.com/gitlab-org/security-products/analyzers/semgrep) findings.","state":"closed","created_at":"2021-05-20T20:02:03.221Z","updated_at":"2022-04-11T03:34:20.217Z","closed_at":"2022-04-06T21:35:06.969Z","closed_by":{"id":401232,"username":"theoretick","name":"Lucas Charles","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/401232/squares-nail-wall-art.jpg","web_url":"https://gitlab.com/theoretick"},"labels":["Category:SAST","[deprecated] Accepting merge requests","backend","devops::secure","feature::addition","group::static analysis","section::sec","type::feature"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":5427309,"username":"ssarka","name":"Saikat Sarkar","state":"blocked","avatar_url":"https://secure.gravatar.com/avatar/097feebc1eb82b858a9046fe9b6d9176?s=80\u0026d=identicon","web_url":"https://gitlab.com/ssarka"},"type":"ISSUE","assignee":null,"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/331551","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/331551","notes":"https://gitlab.com/api/v4/projects/278964/issues/331551/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/331551/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":"https://gitlab.com/api/v4/projects/278964/issues/328062"},"references":{"short":"#331551","relative":"#331551","full":"gitlab-org/gitlab#331551"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6440,"epic":{"id":314498,"iid":6440,"title":"Enable new analyzers to take over reporting for existing vulnerabilities","url":"/groups/gitlab-org/-/epics/6440","group_id":9970,"human_readable_end_date":"Aug 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":87457347,"iid":331539,"project_id":278964,"title":"DevOps Adoption tooltip shows incorrect data","description":"### Summary\nIn the adoption table, the tooltip for the \"true\" value says \"Not adopted\"\n\n![Screen_Shot_2021-05-20_at_10.52.31_AM](/uploads/3e8cf0f547a77515a8bfd06f104a48aa/Screen_Shot_2021-05-20_at_10.52.31_AM.png)\n\n### How to reproduce\n\nIn the group-level devops adoption table, go (preferably the `Sec` tab, but it should happen on any other tab too), change the sort attribute or direction and hover over a true value to see the tooltip.","state":"closed","created_at":"2021-05-20T17:55:20.119Z","updated_at":"2021-06-08T18:34:32.346Z","closed_at":"2021-06-07T07:11:27.421Z","closed_by":{"id":3101551,"username":"blabuschagne","name":"Brandon Labuschagne","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3101551/avatar.png","web_url":"https://gitlab.com/blabuschagne"},"labels":["devops::manage","frontend","group::optimize","priority::2","section::dev","severity::3","type::bug","workflow::production"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":3101551,"username":"blabuschagne","name":"Brandon Labuschagne","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3101551/avatar.png","web_url":"https://gitlab.com/blabuschagne"}],"author":{"id":4447217,"username":"ljlane","name":"Larissa Lane","state":"blocked","avatar_url":"https://secure.gravatar.com/avatar/ac4027d3a4e3bd62740ea1443a42f6c5?s=80\u0026d=identicon","web_url":"https://gitlab.com/ljlane"},"type":"ISSUE","assignee":{"id":3101551,"username":"blabuschagne","name":"Brandon Labuschagne","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3101551/avatar.png","web_url":"https://gitlab.com/blabuschagne"},"user_notes_count":16,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/331539","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/331539","notes":"https://gitlab.com/api/v4/projects/278964/issues/331539/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/331539/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#331539","relative":"#331539","full":"gitlab-org/gitlab#331539"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":87452928,"iid":331534,"project_id":278964,"title":"DAST MR widget link should be replaced with a button","description":"### Problem to solve\n\nThis MR widget should use a download button in place of the `Download scanned resources` link shown below:\n\n![Screen_Shot_2021-05-20_at_11.40.35_AM](/uploads/62d072a925d9bfd64d83ffb372dec955/Screen_Shot_2021-05-20_at_11.40.35_AM.png)\n\n### Proposal\n\n**TLDR:** Update both buttons to the [`Small button`](https://design.gitlab.com/components/button#sizing) component\n\nIn order to provide users with a consistent experience while interacting with the security merge request widget, all similar actions within the subgroup headers (e.g. SAST, DAST, Coverage fuzzing, etc.) should utilize the same Pajamas Components. \n\nFor this specific issue, the [`Small button`](https://design.gitlab.com/components/button#sizing) component is likely the best candidate to align on since it will ensure all of the subgroup headers remain a consistent size and allows for the security widget's primary actions (e.g. View full report \u0026 Expand/Collapse) to maintain their prominence. \n\nIn addition to updating the button styles, the `download` icon used on the Coverage fuzzing button should also be removed. [As stated in the Pajamas documentation](https://design.gitlab.com/components/button#dropdown-buttons) for dropdown buttons:\n\n\u003e The chevron is the only icon that should be present with a text label.\n\n| Current State | Proposed State |\n| ------ | ------ |\n| ![Security_Widget_-_SubGroupAcitons_-_Current](/uploads/270d120b2ec336b44e8a52bca3426629/Security_Widget_-_SubGroupAcitons_-_Current.png) | ![Security_Widget_-_SubGroupAcitons_-_Proposed](/uploads/4695bf42709bf414ba488c43acc90699/Security_Widget_-_SubGroupAcitons_-_Proposed.png) |\n\n## Proposal Update\n\nThere were some changes to the Design during UX-Review for consistency reasons https://gitlab.com/gitlab-org/gitlab/-/merge_requests/63407#note_594698779\n\n| proposal update |\n| ------ |\n| ![Screenshot_2021-06-08_at_16.19.52](/uploads/5a4d7b525c970234a1a63abe26551f90/Screenshot_2021-06-08_at_16.19.52.png)|\n\n\n\n\n### Implementation Plan\n\n- [ ] Update DAST widget\n  - [ ] Replace `GlLink` with `GlButton` component in [`grouped_security_reports_app.vue`](https://gitlab.com/gitlab-org/gitlab/blob/c4ce7dfd0b5d56f8f1390139eeb999b726d030d2/ee/app/assets/javascripts/vue_shared/security_reports/grouped_security_reports_app.vue#L610)\n  - [ ] Add `size` attribute as `sm`\n- [ ] Update Coverage Fuzzing Widget\n  - [ ] Remove `icon` attribute from  [`security_report_download_dropdown.vue`](https://gitlab.com/gitlab-org/gitlab/blob/254a5576a738591d33692f9ed7fda5c0a933bb78/app/assets/javascripts/vue_shared/security_reports/components/security_report_download_dropdown.vue#L36)\n  - [ ] Update `size` attribute as `sm`\n\ncc @derekferguson","state":"closed","created_at":"2021-05-20T16:48:29.347Z","updated_at":"2021-06-24T15:08:53.165Z","closed_at":"2021-06-22T13:13:06.265Z","closed_by":{"id":7293390,"username":"jannik_lehmann","name":"Jannik Lehmann","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7293390/avatar.png","web_url":"https://gitlab.com/jannik_lehmann"},"labels":["Category:DAST","UX debt","devops::secure","frontend","group::dynamic analysis","priority::3","section::sec","severity::4","type::bug","workflow::ready for development"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":7293390,"username":"jannik_lehmann","name":"Jannik Lehmann","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7293390/avatar.png","web_url":"https://gitlab.com/jannik_lehmann"}],"author":{"id":4415483,"username":"beckalippert","name":"Becka Lippert","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4415483/avatar.png","web_url":"https://gitlab.com/beckalippert"},"type":"ISSUE","assignee":{"id":7293390,"username":"jannik_lehmann","name":"Jannik Lehmann","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7293390/avatar.png","web_url":"https://gitlab.com/jannik_lehmann"},"user_notes_count":20,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/331534","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":6,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 6 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/331534","notes":"https://gitlab.com/api/v4/projects/278964/issues/331534/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/331534/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#331534","relative":"#331534","full":"gitlab-org/gitlab#331534"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":87444587,"iid":331523,"project_id":278964,"title":"Investigate vertical sharding of merge requests data","description":"In https://gitlab.com/groups/gitlab-org/-/epics/5883 we are looking into vertically sharding our database. As part of that we are looking into what it would take to shard the CI tables. \n\nIn this issue we'll look at what it takes to vertically shard merge requests data, such as the `merge_requests` table.","state":"closed","created_at":"2021-05-20T14:26:57.944Z","updated_at":"2022-05-31T12:22:57.889Z","closed_at":"2021-05-26T16:02:07.952Z","closed_by":{"id":209240,"username":"yorickpeterse","name":"Yorick Peterse","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/209240/avatar.png","web_url":"https://gitlab.com/yorickpeterse"},"labels":["Category:Pods","database","devops::data_stores","group::pods","section::enablement"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":209240,"username":"yorickpeterse","name":"Yorick Peterse","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/209240/avatar.png","web_url":"https://gitlab.com/yorickpeterse"}],"author":{"id":209240,"username":"yorickpeterse","name":"Yorick Peterse","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/209240/avatar.png","web_url":"https://gitlab.com/yorickpeterse"},"type":"ISSUE","assignee":{"id":209240,"username":"yorickpeterse","name":"Yorick Peterse","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/209240/avatar.png","web_url":"https://gitlab.com/yorickpeterse"},"user_notes_count":34,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/331523","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/331523","notes":"https://gitlab.com/api/v4/projects/278964/issues/331523/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/331523/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#331523","relative":"#331523","full":"gitlab-org/gitlab#331523"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6167,"epic":{"id":287358,"iid":6167,"title":"Decomposition: CI Tables","url":"/groups/gitlab-org/-/epics/6167","group_id":9970,"human_readable_end_date":"Oct 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":87443171,"iid":331520,"project_id":278964,"title":"Add Sisense snippet information to YAML files","description":"Currently, we keep the information for building xMAU dashboards in sheetload.usage_ping_metrics_sections spreadsheet.\n\nWe could have this information in YAML files. And change there what should be added for a specific stage and group to a chart.\n\n* Add a new attribute to metric yaml file proposed name `xmau_metric_type` \n* `xmau` is one of umau, smau, gmau column that is in the [spreadsheet](https://docs.google.com/spreadsheets/d/1_b-BoKfrt2iH1dYUMYBxSw_CFpYiQ2W84XD3-AnfuwY/edit#gid=301893442)\n* `xmau_metric_type` is an array of enum values. The values could be one of `gmau`,`smau`,`paid_gmau`, `umau`, more values can be added in future.\n* using the spreadsheet we can build a script to update the metric definitions. Looking at the columns smau, gmau, may, paid_gmau values TRUE/FALSE we add the values in YAML file.\n\nI'll take 3 examples of how yaml would look like for 3 metrics\n\n1. `analytics_unique_visits.analytics_unique_visits_for_any_target`\n\n```yaml\ndashboard_types: â€‹[]\n```\n\n2. `usage_activity_by_stage_monthly.plan.epics`\n\n```yaml\ndashboard_types:\n- gmau\n- paid_gmau\n```\n\n3. `usage_activity_by_stage_monthly.release.deployments`\n\n```yaml\ndashboard_types:\n- smau\n```\n\n### Scenarios\n\nUsing information from table add related dashboard_types\n\n| smau | gmau | mau | paid_gmau | dashboard_type |\n| ---  | ---  | --- | ---       |  ---  |\n| TRUE | FALSE| FALSE | FALSE | [smau] |\n| TRUE | TRUE| FALSE | FALSE | [smau, gmau] |\n| TRUE | TRUE| TRUE | FALSE | [smau, gmau, mau] |\n| TRUE | TRUE| TRUE | FALSE | [smau, gmau, may, paid_gmau] |\n| ... | rest of combinations | | |\n\n\n\ncc @gitlab-org/growth/product-intelligence  @mpeychet\\_","state":"closed","created_at":"2021-05-20T14:05:28.290Z","updated_at":"2021-08-16T06:32:34.788Z","closed_at":"2021-08-16T01:56:17.022Z","closed_by":{"id":8198564,"username":"rkadam3","name":"Rajendra Kadam","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8198564/avatar.png","web_url":"https://gitlab.com/rkadam3"},"labels":["backend","devops::growth","group::product intelligence","section::growth","workflow::production"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":8198564,"username":"rkadam3","name":"Rajendra Kadam","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8198564/avatar.png","web_url":"https://gitlab.com/rkadam3"}],"author":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"type":"ISSUE","assignee":{"id":8198564,"username":"rkadam3","name":"Rajendra Kadam","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8198564/avatar.png","web_url":"https://gitlab.com/rkadam3"},"user_notes_count":32,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/331520","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/331520","notes":"https://gitlab.com/api/v4/projects/278964/issues/331520/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/331520/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#331520","relative":"#331520","full":"gitlab-org/gitlab#331520"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":87442552,"iid":331517,"project_id":278964,"title":"Update ffi from 1.13.1 to 1.15.1","description":"Mainly to utilize the following fix for M1 macOS:\n\n\u003e Add new extconf option --enable-libffi-alloc which is enabled per default on Apple M1 (arm64-darwin).\n\nFull diff in the upstream: https://github.com/ffi/ffi/compare/1.13.1...v1.15.1\n\nBlocked by [ffi/ffi#899](https://github.com/ffi/ffi/pull/899)\n\nBlocks gitlab-org/gitlab-development-kit#1230","state":"closed","created_at":"2021-05-20T13:56:50.054Z","updated_at":"2022-06-23T11:46:47.308Z","closed_at":"2022-06-23T11:46:47.242Z","closed_by":{"id":100770,"username":"tnir","name":"Takuya Noguchi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/100770/canstock6553672_288.png","web_url":"https://gitlab.com/tnir"},"labels":["Category:GDK","Category:Internationalization","Community contribution","backend","maintenance::dependency","maintenance::refactor","released::published","workflow::production"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":100770,"username":"tnir","name":"Takuya Noguchi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/100770/canstock6553672_288.png","web_url":"https://gitlab.com/tnir"}],"author":{"id":100770,"username":"tnir","name":"Takuya Noguchi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/100770/canstock6553672_288.png","web_url":"https://gitlab.com/tnir"},"type":"ISSUE","assignee":{"id":100770,"username":"tnir","name":"Takuya Noguchi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/100770/canstock6553672_288.png","web_url":"https://gitlab.com/tnir"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2021-06-08","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/331517","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/331517","notes":"https://gitlab.com/api/v4/projects/278964/issues/331517/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/331517/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#331517","relative":"#331517","full":"gitlab-org/gitlab#331517"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":87434399,"iid":331506,"project_id":278964,"title":"Pipelines of projects with compliance framework do not include local changes","description":"### Summary\n\nPipelines of projects with compliance framework do not include local changes.\n\n### Steps to reproduce\n\n1. Create a Compliance CI template in the Compliance project\n```yml\ncompliance_job:\n  stage: build\n  script:\n    - echo \"Performing compliance build steps\"\n\ninclude:\n  - project: '$CI_PROJECT_PATH'\n    file: '$CI_CONFIG_PATH'\n\n```\n2. Create a Compliance framework (e.g `SOX`) and associate with the Compliance CI template\n3. Assign the Compliance framework to a Developer project\n4. Add a CI template to the Developer project\n```yml\ntest_job:\n  stage: test\n  script:\n    - echo \"Performing test steps\"\n```\n5. Create an MR that modifies the `.gitlab-ci.yml` file in the developer's project.\n6. Observe that the pipeline in the MR uses the Compliance CI template `.gitlab-ci.yml` file defined in the default branch's `.gitlab-ci.yml` and ignores any changes made in the MR.\n\n### Example Project\n\nhttps://gitlab.com/sam-s-test-group/expressexample/-/merge_requests/3\n\n### What is the current *bug* behavior?\n\nCI template changes on the Developer project are clobbered and replaced with the Compliance CI template.\n\n### What is the expected *correct* behavior?\n\nPipelines on the Developer projects should reflect changes on the target branch. In other words, we should see the merged CI pipeline.\n\n```yml\ncompliance_job:\n  stage: build\n  script:\n    - echo \"Performing compliance build steps\"\n\ntest_job:\n  stage: test\n  script:\n    - echo \"Performing test steps\"\n```\n\n### Relevant logs and/or screenshots\n\n\u003c!-- Paste any relevant logs - please use code blocks (```) to format console output, logs, and code\n as it's tough to read otherwise. --\u003e\n\n### Output of checks\n\n\u003c!-- If you are reporting a bug on GitLab.com, write: This bug happens on GitLab.com --\u003e\n\n#### Results of GitLab environment info\n\n\u003c!--  Input any relevant GitLab environment information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to GitLab environment info\u003c/summary\u003e\n\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:env:info`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:env:info RAILS_ENV=production`)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n#### Results of GitLab application Check\n\n\u003c!--  Input any relevant GitLab application check information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to the GitLab application check\u003c/summary\u003e\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:check SANITIZE=true`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:check RAILS_ENV=production SANITIZE=true`)\n\n(we will only investigate if the tests are passing)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n### Possible fixes\n\nLooking closer at the pipeline config source, it seems that the `include` section introduced by the Compliance framework clobbered the local content.\n\nInstead of this,\n\n```yml\ninclude:\n  - project: compliance-project\n    file: \"compliance-gitlab-ci.yml\"\n  - local: \".gitlab-ci.yml\"\n```\n\nWe have this\n\n```yml\ninclude:\n  - project: compliance-project\n    file: \"compliance-gitlab-ci.yml\"\n```\n\n- Note: We originally tried using `ref: '$CI_COMMIT_REF_NAME'` but this did not work, since that variable is evaluated at build time, rather than at the pipeline assembly time.","state":"closed","created_at":"2021-05-20T12:07:11.402Z","updated_at":"2021-09-08T20:24:53.057Z","closed_at":"2021-08-13T09:13:12.344Z","closed_by":{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"},"labels":["approaching-SLO","backend","customer","devops::manage","group::compliance","missed-SLO","missed:14.1","priority::1","section::dev","severity::2","type::bug","workflow::verification"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"}],"author":{"id":398752,"username":"tancnle","name":"Tan Le","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/398752/avatar.png","web_url":"https://gitlab.com/tancnle"},"type":"ISSUE","assignee":{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"},"user_notes_count":43,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":"2021-07-20","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/331506","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/331506","notes":"https://gitlab.com/api/v4/projects/278964/issues/331506/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/331506/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#331506","relative":"#331506","full":"gitlab-org/gitlab#331506"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6241,"epic":{"id":294509,"iid":6241,"title":"Compliance pipeline post-MVC issues","url":"/groups/gitlab-org/-/epics/6241","group_id":9970,"human_readable_end_date":"Feb 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":87426364,"iid":331499,"project_id":278964,"title":"Geo should use Rails 6 many databases support","description":"## Problem\n\nCurrently, Geo manually manages additional DB connections. This results in a number of overwrites to provide this kind of support.\n\nIt should rather depend on Rails 6 many databases support to reduce complexity of the implementation.\nThis conflicts to some extent with many databases support and causes additional complexity on dealing with Geo\ndoing something unique.\n\n```ruby\nmodule Geo\n  class TrackingBase \u003c ApplicationRecord\n    self.abstract_class = true\n\n    NOT_CONFIGURED_MSG     = 'Geo secondary database is not configured'\n    SecondaryNotConfigured = Class.new(StandardError)\n\n    if ::Gitlab::Geo.geo_database_configured?\n      establish_connection Rails.configuration.geo_database\n    end\n\n    def self.connected?\n      return false unless ::Gitlab::Geo.geo_database_configured?\n\n      connection_handler.connected?(connection_specification_name)\n    end\n\n    def self.connection\n      unless ::Gitlab::Geo.geo_database_configured?\n        message = NOT_CONFIGURED_MSG\n        message = \"#{message}\\nIn the GDK root, try running `make geo-setup`\" if Rails.env.development?\n        raise SecondaryNotConfigured, message\n      end\n\n      # Don't call super because LoadBalancing::ActiveRecordProxy will intercept it\n      retrieve_connection\n    rescue ActiveRecord::NoDatabaseError\n      raise SecondaryNotConfigured, NOT_CONFIGURED_MSG\n    end\n  end\nend\n```\n\n## Proposal\n\nThis needs subissues, in particular since it needs changes to omnibus-gitlab and charts.\n\n- [ ] Configure tracking database in `database.yml` instead of custom `database_geo.yml`\n- [ ] Use `connects_to` to make Geo models use the tracking database instead of `def self.connection` override in `Geo::TrackingBase`\n- [ ] Use `connected_to` block to manually use the tracking database instead of `Gitlab::Geo::DatabaseTasks#set_db_env`\n- [ ] Deprecate custom `rake geo:db:*` rake tasks in favor of built-in tasks `rake db:*:geo`\n- [ ] Make sure the changes are [backwards compatible across updates](https://docs.gitlab.com/ee/development/multi_version_compatibility.html)\n\n## References\n\n- https://guides.rubyonrails.org/active_record_multiple_databases.html\n- https://tomkadwill.com/multiple-databases-in-rails","state":"closed","created_at":"2021-05-20T10:45:58.237Z","updated_at":"2021-08-02T19:39:55.305Z","closed_at":"2021-07-26T22:43:20.773Z","closed_by":{"id":4554077,"username":"nhxnguyen","name":"Nick Nguyen","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4554077/avatar.png","web_url":"https://gitlab.com/nhxnguyen"},"labels":["Category:Pods","database","devops::systems","group::geo","pods::active","section::enablement","wg_database-scalability","workflow::ready for development"],"milestone":null,"assignees":[],"author":{"id":12452,"username":"ayufan","name":"Kamil TrzciÅ„ski","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a285e30f35d72526fb0954e8fe7cefa?s=80\u0026d=identicon","web_url":"https://gitlab.com/ayufan"},"type":"ISSUE","assignee":null,"user_notes_count":9,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/331499","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":5,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 5 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/331499","notes":"https://gitlab.com/api/v4/projects/278964/issues/331499/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/331499/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#331499","relative":"#331499","full":"gitlab-org/gitlab#331499"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6158,"epic":{"id":286517,"iid":6158,"title":"Decomposition: Geo supports multiple databases","url":"/groups/gitlab-org/-/epics/6158","group_id":9970,"human_readable_end_date":"Dec 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":87425461,"iid":331496,"project_id":278964,"title":"Rollout of pending builds parity","description":"## Summary\n\nThis issue is to rollout [the feature](https://gitlab.com/gitlab-org/gitlab/-/issues/329764) on production,\nthat is currently behind the `ci_pending_builds_queue_maintain` feature flag.\n\n## Owners\n\n- Team: ~\"group::continuous integration\" \n- Most appropriate slack channel to reach out to: `#g_ci`\n- Best individual to reach out to: @grzesiek\n- PM: @jreporter \n\n## The Rollout Plan\n\n- [x] Full rollout and verification on staging\n- [x] Full rollout to `grzesiek/ci-cd-sandbox` on production\n- [x] Full rollout to `gitlab-org/gitlab` on production\n- [x] 10% rollout on gitlab.com\n- [x] 25% rollout on gitlab.com\n- [x] 50% rollout on gitlab.com\n- [x] 100% rollout on gitlab.com\n\n## Expectations\n\n### What are we expecting to happen?\n\nBuilds being created and processed correctly.\n\n### What can we monitor to detect problems with this?\n\nhttps://dashboards.gitlab.net/d/stage-groups-continuous_integration/stage-groups-group-dashboard-verify-continuous-integration\n\n```","state":"closed","created_at":"2021-05-20T10:25:23.346Z","updated_at":"2023-01-10T15:52:41.031Z","closed_at":"2021-05-26T12:51:11.704Z","closed_by":{"id":263716,"username":"grzesiek","name":"Grzegorz Bizon","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/263716/avatar.jpeg","web_url":"https://gitlab.com/grzesiek"},"labels":["Engineering Allocation","ci::scaling","devops::verify","feature flag","group::pipeline execution","section::ops","workflow::production"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":263716,"username":"grzesiek","name":"Grzegorz Bizon","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/263716/avatar.jpeg","web_url":"https://gitlab.com/grzesiek"}],"author":{"id":263716,"username":"grzesiek","name":"Grzegorz Bizon","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/263716/avatar.jpeg","web_url":"https://gitlab.com/grzesiek"},"type":"ISSUE","assignee":{"id":263716,"username":"grzesiek","name":"Grzegorz Bizon","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/263716/avatar.jpeg","web_url":"https://gitlab.com/grzesiek"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2021-05-24","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/331496","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":7,"completed_count":7},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"7 of 7 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/331496","notes":"https://gitlab.com/api/v4/projects/278964/issues/331496/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/331496/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#331496","relative":"#331496","full":"gitlab-org/gitlab#331496"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5909,"epic":{"id":261464,"iid":5909,"title":"Introduce additional database table to improve builds queuing mechanisms","url":"/groups/gitlab-org/-/epics/5909","group_id":9970,"human_readable_end_date":"Oct 22, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":87412589,"iid":331484,"project_id":278964,"title":"[DevOps Adoption] Link group titles to group","description":"Group title in the table should link to the group DevOps Adoption page for that group.\n\n![devops_adopt_table_group_link](/uploads/9b586884dc6d25e0562f0b693015e0d2/devops_adopt_table_group_link.png)","state":"closed","created_at":"2021-05-20T07:45:23.763Z","updated_at":"2021-10-22T07:58:01.889Z","closed_at":"2021-10-22T07:58:01.870Z","closed_by":{"id":3101551,"username":"blabuschagne","name":"Brandon Labuschagne","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3101551/avatar.png","web_url":"https://gitlab.com/blabuschagne"},"labels":["Next Up","devops::manage","frontend","group::optimize","priority::2","section::dev","workflow::production"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":3101551,"username":"blabuschagne","name":"Brandon Labuschagne","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3101551/avatar.png","web_url":"https://gitlab.com/blabuschagne"}],"author":{"id":1749038,"username":"wortschi","name":"Martin Wortschack","state":"active","avatar_url":"https://secure.gravatar.com/avatar/81f1a88935a2a512aa14db650ed37fdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/wortschi"},"type":"ISSUE","assignee":{"id":3101551,"username":"blabuschagne","name":"Brandon Labuschagne","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3101551/avatar.png","web_url":"https://gitlab.com/blabuschagne"},"user_notes_count":13,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/331484","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/331484","notes":"https://gitlab.com/api/v4/projects/278964/issues/331484/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/331484/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#331484","relative":"#331484","full":"gitlab-org/gitlab#331484"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6050,"epic":{"id":274617,"iid":6050,"title":"[DevOps Adoption] Usability improvements","url":"/groups/gitlab-org/-/epics/6050","group_id":9970,"human_readable_end_date":"Nov 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":87408438,"iid":331479,"project_id":278964,"title":"Delay in updating open Merge Request and Issue count badges on Geo secondary","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\nIt takes around 20 minutes to update open Merge Request count on the left nav bar of a project on the Geo secondary.\n\nLooks like the cache key `open_merge_requests_count` is not updated immediately after the merge request is replicated.\n\nWorkarounds:\n\n- Run `sudo gitlab-rake cache:clear` on the Secondary. This clears cache at instance level.\n- To just refer the `open_merge_requests_count` cache, run the following in Rails console:\n\n```ruby\np = Project.find(1) # Replace 1 with project ID \ncache = Projects::OpenMergeRequestsCountService.new(p)\ncache.refresh_cache # refresh cache\n```\n\n### Steps to reproduce\n\n- Create a project\n- Create a merge request\n- Visit the project page on the Geo secondary site\n- The badge on Merge Requests in the left nav bar is 0 but should be 1\n\n### What is the current *bug* behavior?\n\nIt takes 20 minutes to refresh/update the cache.\n\n### What is the expected *correct* behavior?\n\nCache should refresh/update immediately after the MR is replicated.\n\n### Relevant logs and/or screenshots\n\n\u003c!-- Paste any relevant logs - please use code blocks (```) to format console output, logs, and code\n as it's tough to read otherwise. --\u003e\n\n### Output of checks\n\n\u003c!-- If you are reporting a bug on GitLab.com, write: This bug happens on GitLab.com --\u003e\n\n#### Results of GitLab environment info\n\n\u003c!--  Input any relevant GitLab environment information if needed. --\u003e\n\nGitLab 13.11.4-ee.\n\n#### Results of GitLab application Check\n\n\u003c!--  Input any relevant GitLab application check information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to the GitLab application check\u003c/summary\u003e\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:check SANITIZE=true`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:check RAILS_ENV=production SANITIZE=true`)\n\n(we will only investigate if the tests are passing)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n### Possible fixes\n\n\u003c!-- If you can, link to the line of code that might be responsible for the problem. --\u003e","state":"closed","created_at":"2021-05-20T06:29:29.694Z","updated_at":"2021-06-08T17:54:01.245Z","closed_at":"2021-06-08T15:13:46.107Z","closed_by":{"id":4554077,"username":"nhxnguyen","name":"Nick Nguyen","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4554077/avatar.png","web_url":"https://gitlab.com/nhxnguyen"},"labels":["backend","customer","devops::systems","group::geo","section::enablement","severity::3","type::bug","workflow::in review"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"}],"author":{"id":5287461,"username":"psureshbabu","name":"Priyan Sureshbabu","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cf2976ba76d1e6194fb48522cb9ca061?s=80\u0026d=identicon","web_url":"https://gitlab.com/psureshbabu"},"type":"ISSUE","assignee":{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/331479","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/331479","notes":"https://gitlab.com/api/v4/projects/278964/issues/331479/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/331479/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#331479","relative":"#331479","full":"gitlab-org/gitlab#331479"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":87402193,"iid":331473,"project_id":278964,"title":"Privilege escalation of \"external user\" (with maintainer privilege) to internal access  through project token","description":"**[HackerOne report #1193062](https://hackerone.com/reports/1193062)** by `joaxcar` on 2021-05-12, assigned to @rchan-gitlab:\n\n[Report](#report) | [How To Reproduce](#how-to-reproduce)\n\n## Report\n\n#####  Summary\n\nAn \"external user\" (a user account with the status external) which is granted \"Maintainer\" role on any project on the GitLab instance where \"project tokens\" are allowed can elevate its privilege to \"Internal\". An external user with maintainer permissions could create a project token, which will be connected to a bot user with internal privileges on the GitLab instance. Thus, now being able to access all internal projects and snippets as a Guest user. This includes\n\n* Accessing all information about internal projects as if having Guest permissions (including source code)  \n* Creating issues on internal projects  \n* Creating projects and groups (these will contain no members and thus be of little use)\n\nAn external user is by the documentation described as a way to let external contractors get access to limited parts of a GitLab instance [link](https://docs.gitlab.com/ee/user/permissions.html#external-users). Stating that  \n```  \nThis feature may be useful when for example a contractor is working on a given project and should only have access to that project.  \n```  \nThere are no warnings about giving an external user maintainer permissions. It is also possible for ANY internal user to elevate the external user to maintainer on any internal project created by that user. Thus, there is no need to ask an Admin for permission to do this. Thus, an external user (if not already granted maintainer on a project) only needs to convince one other user on the system to create a project and invite the external user as maintainer. \n\n\n#####  Steps to reproduce\n\n1. Create a user with \"external user\" activated  \n2. Use any internal user to invite the \"external user\" as maintainer to a project  \n3. Login as the \"external user\" and create a project token on the project, save the token  \n4. Use the token to probe internal projects  \n```  \n curl --header \"Authorization: Bearer \u003cTOKEN\u003e\" \"https://gitlab.domain.com/api/v4/projects\"  \n```  \ncreate groups  \n```  \n curl -X POST --header \"Authorization: Bearer \u003cTOKEN\u003e\" \"https://gitlab.domain.com/api/v4/groups?name=newg\u0026path=newgroup\"  \n```  \ncreate issues on internal projects  \n```  \ncurl -X POST --header \"Authorization: Bearer \u003cTOKEN\u003e\" \"https://gitlab.domain.com/api/v4/projects/21/issues?title=iWasHere\"   \n```  \naccess source code  \n```  \ncurl --header \"Authorization: Bearer \u003cTOKEN\u003e\" \"https://gitlab.domain.com/api/v4/projects/19/repository/blobs/83d9398518bdf1519b7b8fbbb3fa3e305a8554ef/raw\"  \n```\n\n#####  Impact\n\nAn external user can access all internal projects. Thus leading to severe information disclosure and ability to interact by issues. \n\n#####  What is the current *bug* behavior?\n\nAn external user with maintainer privileges to a project can create a project token which is connected to a Bot with internal access.\n\n#####  What is the expected *correct* behavior?\n\nThe bot should not have internal access to the GitLab instance. It is stated that  \n```  \nProject access tokens are scoped to a project and can be used to authenticate with the GitLab API.  \n```  \n[link](https://docs.gitlab.com/ee/user/project/settings/project_access_tokens.html)  \nWhich makes it seam like the token does not have any permissions outside the project.  \nThe bot should probably have \"external privilege\" as standard. At least an external user should not be able to use the bot to access internal projects.\n\n######  Results of GitLab environment info\n\n```  \nSystem information  \nSystem:\t\t  \nCurrent User:\tgitlab  \nUsing RVM:\tno  \nRuby Version:\t3.0.1p64  \nGem Version:\t/usr/lib/ruby/2.7.0/bundler/spec_set.rb:86:in `block in materialize': Could not find rake-13.0.3 in any of the sources (Bundler::GemNotFound)  \n\tfrom /usr/lib/ruby/2.7.0/bundler/spec_set.rb:80:in `map!'  \n\tfrom /usr/lib/ruby/2.7.0/bundler/spec_set.rb:80:in `materialize'  \n\tfrom /usr/lib/ruby/2.7.0/bundler/definition.rb:170:in `specs'  \n\tfrom /usr/lib/ruby/2.7.0/bundler/definition.rb:237:in `specs_for'  \n\tfrom /usr/lib/ruby/2.7.0/bundler/definition.rb:226:in `requested_specs'  \n\tfrom /usr/lib/ruby/2.7.0/bundler/runtime.rb:101:in `block in definition_method'  \n\tfrom /usr/lib/ruby/2.7.0/bundler/runtime.rb:20:in `setup'  \n\tfrom /usr/lib/ruby/2.7.0/bundler.rb:149:in `setup'  \n\tfrom /usr/lib/ruby/2.7.0/bundler/setup.rb:20:in `block in \u003ctop (required)\u003e'  \n\tfrom /usr/lib/ruby/2.7.0/bundler/ui/shell.rb:136:in `with_level'  \n\tfrom /usr/lib/ruby/2.7.0/bundler/ui/shell.rb:88:in `silence'  \n\tfrom /usr/lib/ruby/2.7.0/bundler/setup.rb:20:in `\u003ctop (required)\u003e'  \n\tfrom \u003cinternal:/usr/lib/ruby/3.0.0/rubygems/core_ext/kernel_require.rb\u003e:85:in `require'  \n\tfrom \u003cinternal:/usr/lib/ruby/3.0.0/rubygems/core_ext/kernel_require.rb\u003e:85:in `require'  \nBundler Version:unknown  \nRake Version:\t13.0.3  \nRedis Version:\t6.2.3  \nGit Version:\t2.31.1  \nSidekiq Version:5.2.9  \nGo Version:\tgo1.16.4 linux/amd64\n\nGitLab information  \nVersion:\t13.10.4  \nRevision:\te11cc45d59e  \nDirectory:\t/usr/share/webapps/gitlab  \nDB Adapter:\tPostgreSQL  \nDB Version:\t13.2  \nURL:\t\thttp://gitlab.joaxcar.com  \nHTTP Clone URL:\thttp://gitlab.joaxcar.com/some-group/some-project.git  \nSSH Clone URL:\tgitlab@gitlab.joaxcar.com:some-group/some-project.git  \nUsing LDAP:\tno  \nUsing Omniauth:\tyes  \nOmniauth Providers: \n\nGitLab Shell  \nVersion:\t13.17.0  \nRepository storage paths:  \n- default: \t/var/lib/gitlab/repositories  \nGitLab Shell path:\t\t/usr/share/webapps/gitlab-shell  \nGit:\t\t/usr/bin/git  \n```\n\n####  Impact\n\nAn external user can access all internal projects. Thus leading to severe information disclosure and ability to interact by issues. \n\nThe user can now  \n* Accessing all information about internal projects as if having Guest permissions (including source code)  \n* Creating issues on internal projects  \n* Creating projects and groups (these will contain no members and thus be of little use)\n\n## How To Reproduce\n\nPlease add [reproducibility information] to this section:\n\n1.\n1.\n1.\n\n[reproducibility information]: https://about.gitlab.com/handbook/engineering/security/#reproducibility-on-security-issues\n\n## Proposal\n\nScope the permission of the project access token to be an external access token.\n\n## All proposals considered\n\n1. ~~Limit the creation of the project access token to limited set of users~~. https://gitlab.com/gitlab-org/gitlab/-/issues/331473#note_580396051 (Considered too complex)\n1. Scope the permission of the project access token to be an external access token. https://gitlab.com/gitlab-org/gitlab/-/issues/331473#note_580396051\n1. ~~Prohibit external users from creating project tokens~~. https://gitlab.com/gitlab-org/gitlab/-/issues/331473#note_627885698 (Leaves vulnerable tokens which we can't arbitrarily disable/delete)\n1. ~~Prohibit external users to be promoted to Maintainers~~. https://gitlab.com/gitlab-org/gitlab/-/issues/331473#note_627885698 (Leaves vulnerable tokens which we can't arbitrarily disable/delete)","state":"closed","created_at":"2021-05-20T02:25:39.506Z","updated_at":"2021-10-11T11:01:34.098Z","closed_at":"2021-08-26T08:54:08.287Z","closed_by":{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"},"labels":["Category:Authentication and Authorization","Category:User Management","Epic 6340","FY22::Q3","HackerOne","Weakness::CAPEC-233","backend","candidate::14.2","devops::manage","group::authentication and authorization","section::dev","security","severity::3"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"}],"author":{"id":2741139,"username":"gitlab-securitybot","name":"GitLab SecurityBot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2741139/avatar.png","web_url":"https://gitlab.com/gitlab-securitybot"},"type":"ISSUE","assignee":{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"},"user_notes_count":39,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2021-08-18","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/331473","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/331473","notes":"https://gitlab.com/api/v4/projects/278964/issues/331473/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/331473/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#331473","relative":"#331473","full":"gitlab-org/gitlab#331473"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":"at_risk"},{"id":87401489,"iid":331470,"project_id":278964,"title":"Record impersonation details in Auditor service","description":"# Problem to solve\n\nThe legacy service (i.e. `AuditEventService`) is\ncapable of recording [impersonation details](https://gitlab.com/gitlab-org/gitlab/blob/master/ee/app/services/ee/audit_event_service.rb#L284-290).\nWe'd like to replicate this behaviour on the new service `Gitlab::Audit::Auditor`.\n\n# Proposal\n\n- Expand logic to build author in the the `Audit::BuildService`\n- Extract `impersonator` from the `User`\n- Wrap it in `Audit::ImpersonatedUser`\n- Ensure the impersonator name is included in the message (ie. `Added a new setting (by Johny Ive)`)","state":"closed","created_at":"2021-05-20T01:55:09.595Z","updated_at":"2021-06-03T17:54:32.621Z","closed_at":"2021-06-03T12:23:05.637Z","closed_by":{"id":398752,"username":"tancnle","name":"Tan Le","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/398752/avatar.png","web_url":"https://gitlab.com/tancnle"},"labels":["Category:Audit Events","backend","devops::manage","group::compliance","priority::1","section::dev","severity::1","type::bug","workflow::verification"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":398752,"username":"tancnle","name":"Tan Le","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/398752/avatar.png","web_url":"https://gitlab.com/tancnle"}],"author":{"id":398752,"username":"tancnle","name":"Tan Le","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/398752/avatar.png","web_url":"https://gitlab.com/tancnle"},"type":"ISSUE","assignee":{"id":398752,"username":"tancnle","name":"Tan Le","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/398752/avatar.png","web_url":"https://gitlab.com/tancnle"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/331470","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/331470","notes":"https://gitlab.com/api/v4/projects/278964/issues/331470/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/331470/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#331470","relative":"#331470","full":"gitlab-org/gitlab#331470"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":87394355,"iid":331461,"project_id":278964,"title":"Follow template development guidelines on container scanning template","description":"\u003c!--\nImplementation issues are used break-up a large piece of work into small, discrete tasks that can\nmove independently through the build workflow steps. They're typically used to populate a Feature\nEpic. Once created, an implementation issue is usually refined in order to populate and review the\nimplementation plan and weight.\nExample workflow: https://about.gitlab.com/handbook/engineering/development/threat-management/planning/diagram.html#plan\n--\u003e\n\n## Why are we doing this work\n\nWe want our template to follow the guidelines: https://docs.gitlab.com/ee/development/cicd/templates.html#explain-requirements-and-expectations\n\n\n\u003c!--\nA brief explanation of the why, not the what or how. Assume the reader doesn't know the\nbackground and won't have time to dig-up information from comment threads.\n--\u003e\n\n\n## Relevant links\n\u003c!--\nInformation that the developer might need to refer to when implementing the issue.\n\n- [Design Issue](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e)\n  - [Design 1](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e/designs/\u003cimage\u003e.png)\n  - [Design 2](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e/designs/\u003cimage\u003e.png)\n- [Similar implementation](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/\u003cid\u003e)\n--\u003e\n\n\n## Non-functional requirements\n\u003c!--\nAdd details for required items and delete others.\n--\u003e\n\n- [ ] Documentation:\n- [ ] Feature flag:\n- [ ] Performance:\n- [ ] Testing:\n\n\n## Implementation plan\n\n1. [x] Amend the template comments to comply with guidelines where reasonable.\n\n\u003c!--\nSteps and the parts of the code that will need to get updated. The plan can also\ncall-out responsibilities for other team members or teams.\n\ne.g.:\n\n- [ ] ~frontend Step 1\n  - [ ] `@person` Step 1a\n- [ ] ~frontend Step 2\n\n--\u003e\n\n\n\u003c!--\nWorkflow and other relevant labels\n\n# ~\"group::\" ~\"Category:\" ~\"GitLab Ultimate\"\nOther settings you might want to include when creating the issue.\n\n# /assign @\n# /epic \u0026\n--\u003e","state":"closed","created_at":"2021-05-19T21:25:43.142Z","updated_at":"2021-05-26T04:46:04.983Z","closed_at":"2021-05-26T04:46:04.956Z","closed_by":{"id":480804,"username":"thiagocsf","name":"Thiago FigueirÃ³","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/480804/avatar.png","web_url":"https://gitlab.com/thiagocsf"},"labels":["Category:Container Scanning","backend","devops::govern","documentation","group::security policies","section::sec","workflow::in review"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":480804,"username":"thiagocsf","name":"Thiago FigueirÃ³","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/480804/avatar.png","web_url":"https://gitlab.com/thiagocsf"}],"author":{"id":480804,"username":"thiagocsf","name":"Thiago FigueirÃ³","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/480804/avatar.png","web_url":"https://gitlab.com/thiagocsf"},"type":"ISSUE","assignee":{"id":480804,"username":"thiagocsf","name":"Thiago FigueirÃ³","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/480804/avatar.png","web_url":"https://gitlab.com/thiagocsf"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/331461","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":8,"completed_count":1},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"1 of 8 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/331461","notes":"https://gitlab.com/api/v4/projects/278964/issues/331461/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/331461/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#331461","relative":"#331461","full":"gitlab-org/gitlab#331461"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5462,"epic":{"id":213052,"iid":5462,"title":"Follow-on Improvements to Trivy Integration","url":"/groups/gitlab-org/-/epics/5462","group_id":9970,"human_readable_end_date":"Jul 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":87390511,"iid":331459,"project_id":278964,"title":"Subscription Expiration banner shown on subgroups","description":"### Summary\n\nSaaS subscription expiration banner is no longer shown when a future-dated renewal exists.  Related to the following:\n\n1. https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/2624  \n1. https://gitlab.com/gitlab-org/gitlab/-/issues/300809  \n1. https://gitlab.com/gitlab-org/gitlab/-/issues/324157  \n1. https://gitlab.zendesk.com/agent/tickets/217294\n\nHowever, the banner does still appear in subgroups and nested projects.  Example reported in [this customer ticket](https://gitlab.zendesk.com/agent/tickets/213460) (internal only).\n\nReported more details here: https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/2624#note_580252416\n\n/cc @amandarueda","state":"closed","created_at":"2021-05-19T20:26:52.348Z","updated_at":"2021-07-18T07:09:01.398Z","closed_at":"2021-06-24T18:16:46.888Z","closed_by":{"id":5249152,"username":"vij","name":"Vijay Hawoldar","state":"active","avatar_url":"https://secure.gravatar.com/avatar/14567a8b4af4374011c43778878de399?s=80\u0026d=identicon","web_url":"https://gitlab.com/vij"},"labels":["Deliverable","[deprecated] Category:Utilization","[deprecated] ðŸŽ","backend","customer","devops::fulfillment","group::utilization","priority::2","section::fulfillment","severity::3","type::bug","workflow::production"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":5249152,"username":"vij","name":"Vijay Hawoldar","state":"active","avatar_url":"https://secure.gravatar.com/avatar/14567a8b4af4374011c43778878de399?s=80\u0026d=identicon","web_url":"https://gitlab.com/vij"}],"author":{"id":4447183,"username":"kevenhughes","name":"Keven Hughes","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4447183/avatar.png","web_url":"https://gitlab.com/kevenhughes"},"type":"ISSUE","assignee":{"id":5249152,"username":"vij","name":"Vijay Hawoldar","state":"active","avatar_url":"https://secure.gravatar.com/avatar/14567a8b4af4374011c43778878de399?s=80\u0026d=identicon","web_url":"https://gitlab.com/vij"},"user_notes_count":12,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/331459","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/331459","notes":"https://gitlab.com/api/v4/projects/278964/issues/331459/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/331459/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#331459","relative":"#331459","full":"gitlab-org/gitlab#331459"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":87389195,"iid":331455,"project_id":278964,"title":"Generic packages events are not captured with usage ping","description":"### Context\n\nIn https://gitlab.com/gitlab-org/gitlab/-/issues/205578, we started measuring user-level adoption of the GitLab Package Registry. You can view this data in the [Package adoption and growth dashboard](https://app.periscopedata.com/app/gitlab/805350/Package:-User-Adoption-and-Growth). There are several events that are defined that we are not collecting data for. For some events, like [container registry events](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/60541#note_567965755), this is expected. \n\n### Problem to solve\n\nThe problem is that we are not currently collecting any data for generic packages. This data should be available as we can see that the feature is being used. As a PM, this data would help me to prioritize between generic packages and other product features. In addition, seeing deploy token and guest usage would be informative for prioritization and design decisions.\n\n#### Impacted metrics\n\n- `counts.package_events_i_package_generic_delete_package`\n- `counts.package_events_i_package_generic_pull_package`\n- `counts.package_events_i_package_generic_push_package`\n- `redis_hll_counters.user_packages.i_package_generic_user_weekly`\n- `redis_hll_counters.user_packages.i_package_generic_user_monthly`\n- `redis_hll_counters.deploy_token_packages.i_package_generic_deploy_token_weekly`\n- `redis_hll_counters.deploy_token_packages.i_package_generic_deploy_token_monthly`\n\n\n### Proposal\n\nInvestigate why generic package activity is not working with the usage ping. Fix the issue and add any relevant charts to the Package adoption dashboard.","state":"closed","created_at":"2021-05-19T19:53:38.257Z","updated_at":"2021-11-03T14:30:35.876Z","closed_at":"2021-08-20T13:25:41.397Z","closed_by":{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"},"labels":["Category:Package Registry","Deliverable","Generic Package Repository","Package:P2","Stretch","backend","devops::package","group::package registry","ruby","section::ops","workflow::in review"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"}],"author":{"id":3799560,"username":"trizzi","name":"Tim Rizzi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3799560/avatar.png","web_url":"https://gitlab.com/trizzi"},"type":"ISSUE","assignee":{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"},"user_notes_count":9,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/331455","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/331455","notes":"https://gitlab.com/api/v4/projects/278964/issues/331455/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/331455/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#331455","relative":"#331455","full":"gitlab-org/gitlab#331455"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2289,"epic":{"id":15774,"iid":2289,"title":"Delicious data (package)","url":"/groups/gitlab-org/-/epics/2289","group_id":9970,"human_readable_end_date":"Oct 31, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":87388649,"iid":331449,"project_id":278964,"title":"Improve browser Total Blocking Time (TBT) performance of Project Files Tree page into S2 tier","description":"The Project Files Tree page's browser Total Blocking Time (TBT) performance is unperformant:\n\n```\n* Environment:                10k\n* Environment Version:        15.0.0-pre `bb46288cf63`\n* Date:                       2022-05-10\n\nNAME                                  | FCP (ms) | LCP (ms)       | TBT (ms)         | SI (ms) | LVC (ms) | TFR SIZE (kb) | SCORE | RESULT\n--------------------------------------|----------|----------------|------------------|---------|----------|---------------|-------|-------\nweb_project_files                     | 985      | âœ“ 1687 (\u003c2500) | âœ˜ 9983 (\u003c9000)   | 1258    | 6550     | 432.2         | 67    | FAILED\n```\n\n[The Project Files Tree page being tested can be seen here on Staging](https://staging.gitlab.com/gpt/large_projects/gitlabhq1/-/tree/master/spec/lib/gitlab). This page is showing files under project's directory, below is the screenshot of page's [historical test TBT results](http://10k.testbed.gitlab.net/-/grafana/d/jH6yoWVMz/gitlab-performance-sitespeed-results?orgId=1\u0026from=now-14d\u0026to=now\u0026var-test_name=web_project_files)\n\n![Screenshot_2022-05-10_at_10.26.54](/uploads/143a6899b959369b250863043c224439/Screenshot_2022-05-10_at_10.26.54.png)\n\n### Test Details\n\nTesting was done on our [10k Reference Architecture](https://docs.gitlab.com/ee/administration/reference_architectures/10k_users.html) environment with [our lab condition SiteSpeed pipeline](https://gitlab.com/gitlab-org/quality/performance-sitespeed) (named GitLab Browser Performance Tool internally). The project being tested is a copy of [gitlabhq](https://staging.gitlab.com/gpt/large_projects/gitlabhq1/) (tarball can be found [here](https://gitlab.com/gitlab-org/quality/performance-data/-/blob/master/projects_export/gitlabhq_export_13.0.0.tar.gz)). GitLab Browser Performance Tool tests information is listed at [Current test details](https://gitlab.com/gitlab-org/quality/performance-sitespeed/-/wikis/Current-Test-Details) page.\n\nThe latest GitLab Browser Performance pipeline results can always be found [here](https://gitlab.com/gitlab-org/quality/performance/-/wikis/Benchmarks/SiteSpeed/10k). Through this page the full SiteSpeed report can be found via the `SiteSpeed Report` link on that page.\n\nAs per our [performance targets](https://about.gitlab.com/handbook/engineering/quality/issue-triage/#severity) this page's TBT metric is regularly above the target of 9000 ms which is ~\"severity::1\" . Task is to improve the page's browser performance into next tier.","state":"closed","created_at":"2021-05-19T19:40:50.909Z","updated_at":"2022-11-21T12:01:26.164Z","closed_at":"2022-11-08T13:08:00.225Z","closed_by":{"id":4477602,"username":"niskhakova","name":"Nailia Iskhakova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477602/avatar.png","web_url":"https://gitlab.com/niskhakova"},"labels":["Category:Source Code Management","Deliverable","Quality:performance-issues","bug::performance","devops::create","frontend","frontend-weight::2","group::source code","missed-SLO","missed-deliverable","missed:14.10","missed:14.2","missed:14.3","missed:14.4","missed:14.8","missed:14.9","missed:15.0","missed:15.1","performance-refinement","priority::2","section::dev","severity::1","type::bug","workflow::in dev"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"}],"author":{"id":4477602,"username":"niskhakova","name":"Nailia Iskhakova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477602/avatar.png","web_url":"https://gitlab.com/niskhakova"},"type":"ISSUE","assignee":{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"},"user_notes_count":26,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2022-11-18","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/331449","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/331449","notes":"https://gitlab.com/api/v4/projects/278964/issues/331449/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/331449/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#331449","relative":"#331449","full":"gitlab-org/gitlab#331449"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":87388543,"iid":331445,"project_id":278964,"title":"Improve browser Total Blocking Time (TBT) performance of Project File Blame page into S2 tier","description":"The Project File Blame page's browser Total Blocking Time (TBT) performance is unperformant:\n\n```\nNAME                   | FCP (ms) | LCP (ms)         | TBT (ms)         | SI (ms) | LVC (ms) | TFR SIZE (kb) | SCORE | RESULT\n-----------------------|----------|------------------|------------------|---------|----------|---------------|-------|-------\nweb_project_file_blame | 4302     | âœ“ 4449 (\u003c5000)   | âœ“ 14466 (\u003c27500) | 4846    | 25700    | 930.8         | 79    | Passed\n```\n\n[The Project File Blame page being tested can be seen here on Staging](https://staging.gitlab.com/gpt/large_projects/gitlabhq1/-/blame/master/spec/models/project_spec.rb). This page is showing blame results for the file, below is the screenshot of page's [historical test TBT results](http://10k.testbed.gitlab.net/-/grafana/d/jH6yoWVMz/gitlab-performance-sitespeed-results?orgId=1\u0026from=now-14d\u0026to=now\u0026var-test_name=web_project_file_blame)\n\n![Screenshot_2021-05-19_at_22.34.19](/uploads/5c86ece404f5f23e22de308f45687234/Screenshot_2021-05-19_at_22.34.19.png)\n\n### Test Details\n\nTesting was done on our [10k Reference Architecture](https://docs.gitlab.com/ee/administration/reference_architectures/10k_users.html) environment with [our lab condition SiteSpeed pipeline](https://gitlab.com/gitlab-org/quality/performance-sitespeed) (named GitLab Browser Performance Tool internally). The project being tested is a copy of [gitlabhq](https://staging.gitlab.com/gpt/large_projects/gitlabhq1/) (tarball can be found [here](https://gitlab.com/gitlab-org/quality/performance-data/-/blob/master/projects_export/gitlabhq_export_13.0.0.tar.gz)). GitLab Browser Performance Tool tests information is listed at [Current test details](https://gitlab.com/gitlab-org/quality/performance-sitespeed/-/wikis/Current-Test-Details) page.\n\nThe latest GitLab Browser Performance pipeline results can always be found [here](https://gitlab.com/gitlab-org/quality/performance/-/wikis/Benchmarks/SiteSpeed/10k). Through this page the full SiteSpeed report can be found via the `SiteSpeed Report` link on that page.\n\nAs per our [performance targets](https://about.gitlab.com/handbook/engineering/quality/issue-triage/#severity) this page's TBT metric is above the target of 9000 ms which is ~\"severity::1\" . Task is to improve the page's browser performance into next tier.","state":"closed","created_at":"2021-05-19T19:37:18.281Z","updated_at":"2022-03-20T13:26:08.987Z","closed_at":"2021-08-05T14:24:05.358Z","closed_by":{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"},"labels":["Category:Source Code Management","Deliverable","Quality:performance-issues","bug::performance","devops::create","frontend","group::source code","missed-deliverable","missed:14.1","performance-refinement","quad-planning::complete-action","section::dev","severity::1","workflow::ready for development"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"}],"author":{"id":4477602,"username":"niskhakova","name":"Nailia Iskhakova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477602/avatar.png","web_url":"https://gitlab.com/niskhakova"},"type":"ISSUE","assignee":{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"},"user_notes_count":14,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/331445","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/331445","notes":"https://gitlab.com/api/v4/projects/278964/issues/331445/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/331445/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#331445","relative":"#331445","full":"gitlab-org/gitlab#331445"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":87384550,"iid":331437,"project_id":278964,"title":"Review all Geo tables and related models for columns that are affected by the PK data type conversion","description":"We should review all the Geo tables and models and identify columns affected by \u00264785.\n\nThose are at least columns whose data type must be updated before we swap the related columns in GitLab's main database, but there may be other cases as well.","state":"closed","created_at":"2021-05-19T18:16:32.031Z","updated_at":"2022-05-30T15:29:19.823Z","closed_at":"2021-05-20T13:58:06.797Z","closed_by":{"id":480097,"username":"alexives","name":"Alex Ives","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/480097/avatar.png","web_url":"https://gitlab.com/alexives"},"labels":["Category:Database","Engineering Allocation","devops::data_stores","group::database","section::enablement"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":480097,"username":"alexives","name":"Alex Ives","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/480097/avatar.png","web_url":"https://gitlab.com/alexives"}],"author":{"id":1982738,"username":"iroussos","name":"Yannis Roussos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1982738/avatar.png","web_url":"https://gitlab.com/iroussos"},"type":"ISSUE","assignee":{"id":480097,"username":"alexives","name":"Alex Ives","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/480097/avatar.png","web_url":"https://gitlab.com/alexives"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/331437","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/331437","notes":"https://gitlab.com/api/v4/projects/278964/issues/331437/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/331437/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#331437","relative":"#331437","full":"gitlab-org/gitlab#331437"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6041,"epic":{"id":274305,"iid":6041,"title":"Update Geo tables affected by the PK Overflow risk conversions","url":"/groups/gitlab-org/-/epics/6041","group_id":9970,"human_readable_end_date":"Oct 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":87379196,"iid":331433,"project_id":278964,"title":"Modify the Group and Project filter options in Global Search to put more prominence on the Group/Project Name","description":"### Problem to solve\n\nCurrently, the dropdown options presented for the Group and Project filters in Global Search list out the entire path/parent group(s) in the option, placing the Project/Group name at the end of the Option. This makes it difficult to scan the option list when looking for specific Groups/Projects.\n\n### Proposal\n\nUtilize the [GitLab UI Avatar/Icon + Secondary Text variant](https://gitlab-org.gitlab.io/gitlab-ui/?path=/story/base-dropdown--with-avatar-and-secondary-text) to identify the Name of the Group/Project on the first line in each option, with the parent group(s) listed as secondary text underneath. This will also add the Group/Project Avatar/Icon which will be an additional affordance for users in quickly identifying groups/projects.","state":"closed","created_at":"2021-05-19T17:09:30.173Z","updated_at":"2022-05-30T16:32:14.689Z","closed_at":"2021-06-04T15:41:08.799Z","closed_by":{"id":4748809,"username":"zcuddy","name":"Zack Cuddy","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4748809/avatar.png","web_url":"https://gitlab.com/zcuddy"},"labels":["Category:Global Search","UX","advanced search","devops::data_stores","frontend","group::global search","section::enablement","workflow::in dev"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":4748809,"username":"zcuddy","name":"Zack Cuddy","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4748809/avatar.png","web_url":"https://gitlab.com/zcuddy"}],"author":{"id":5724558,"username":"JohnMcGuire","name":"John McGuire","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5724558/avatar.png","web_url":"https://gitlab.com/JohnMcGuire"},"type":"ISSUE","assignee":{"id":4748809,"username":"zcuddy","name":"Zack Cuddy","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4748809/avatar.png","web_url":"https://gitlab.com/zcuddy"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/331433","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/331433","notes":"https://gitlab.com/api/v4/projects/278964/issues/331433/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/331433/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#331433","relative":"#331433","full":"gitlab-org/gitlab#331433"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6040,"epic":{"id":274289,"iid":6040,"title":"Improve the sorting and search experience for the project and group dropdowns in global search","url":"/groups/gitlab-org/-/epics/6040","group_id":9970,"human_readable_end_date":"Sep 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":87364840,"iid":331423,"project_id":278964,"title":"[SSH keys] Expiration notifications are not sent for SSH keys expiring in the past","description":"### Problem\n\nThe cron job that schedules notifications to users that their SSH keys have or are about to expire does not take in to account that SSH keys may have expired _in the past_. This is only an issue for the first run but there are many SSH keys that have expired weeks, months or even years ago and those users do not currently receive a notification.\n\n### Proposal\n\n* Rename the `Key.expired_today_and_not_notified` scope to `Key.expired_and_not_notified`.\n* Alter the scope to return keys that have expired anytime in the past including today.\n* Update associated specs.\n\nWe want to release this in a 13.12 patch so that users are informed before the 14.0 breaking release.","state":"closed","created_at":"2021-05-19T13:38:34.424Z","updated_at":"2023-01-12T02:16:56.361Z","closed_at":"2021-06-09T08:33:53.543Z","closed_by":{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"},"labels":["backend","devops::manage","group::compliance","priority::1","section::dev","severity::1","type::bug","workflow::verification"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"}],"author":{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"},"type":"ISSUE","assignee":{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/331423","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/331423","notes":"https://gitlab.com/api/v4/projects/278964/issues/331423/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/331423/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#331423","relative":"#331423","full":"gitlab-org/gitlab#331423"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":87360018,"iid":331417,"project_id":278964,"title":"Select pending builds from `ci_pending_builds` table","description":"## Description\n\nThis is the next iteration after https://gitlab.com/gitlab-org/gitlab/-/issues/329764.\n\nThis iteration is about using the recently introduced table to accelerate queuing. The outcome of the previous iteration was to validate that the new table can receive inserts and deletes in a transaction with status change in `ci_builds` in a way that this does not make performance noticeably worse. \n\nIn this iteration we want to actually use this table.\n\n## Proposal\n\n1. Update the `ci_pending_builds_maintain` feature flat to default enabled,\n1. Backfill `ci_pending_builds` table during a post deployment migration,\n1. Select builds from `ci_pending`, join with `ci_builds` and other tables,\n1. Enable this mechanism on production using feature flag toggle.","state":"closed","created_at":"2021-05-19T12:35:39.369Z","updated_at":"2023-01-10T15:52:40.718Z","closed_at":"2021-06-09T13:51:07.661Z","closed_by":{"id":263716,"username":"grzesiek","name":"Grzegorz Bizon","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/263716/avatar.jpeg","web_url":"https://gitlab.com/grzesiek"},"labels":["Engineering Allocation","ci::scaling","devops::verify","group::pipeline execution","section::ops","workflow::production"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":263716,"username":"grzesiek","name":"Grzegorz Bizon","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/263716/avatar.jpeg","web_url":"https://gitlab.com/grzesiek"}],"author":{"id":263716,"username":"grzesiek","name":"Grzegorz Bizon","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/263716/avatar.jpeg","web_url":"https://gitlab.com/grzesiek"},"type":"ISSUE","assignee":{"id":263716,"username":"grzesiek","name":"Grzegorz Bizon","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/263716/avatar.jpeg","web_url":"https://gitlab.com/grzesiek"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2021-05-31","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/331417","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/331417","notes":"https://gitlab.com/api/v4/projects/278964/issues/331417/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/331417/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#331417","relative":"#331417","full":"gitlab-org/gitlab#331417"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5909,"epic":{"id":261464,"iid":5909,"title":"Introduce additional database table to improve builds queuing mechanisms","url":"/groups/gitlab-org/-/epics/5909","group_id":9970,"human_readable_end_date":"Oct 22, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":87359706,"iid":331416,"project_id":278964,"title":"[DevOps Adoption] [FE] Remove remaining references to segments","description":"### Problem\n\nDevOps Adoption still makes references to segments even though we have pivoted away from segments.\n\n### Proposal\n\nIn https://gitlab.com/gitlab-org/gitlab/-/issues/324414 we changed the ~backend API to no longer reference segments. We want to keep our feature consistent by removing all ~frontend code references to segments too.","state":"closed","created_at":"2021-05-19T12:33:00.236Z","updated_at":"2021-07-07T07:18:15.326Z","closed_at":"2021-07-07T07:18:15.313Z","closed_by":{"id":3101551,"username":"blabuschagne","name":"Brandon Labuschagne","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3101551/avatar.png","web_url":"https://gitlab.com/blabuschagne"},"labels":["devops::manage","frontend","group::optimize","maintenance::refactor","priority::3","section::dev","workflow::production"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":3101551,"username":"blabuschagne","name":"Brandon Labuschagne","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3101551/avatar.png","web_url":"https://gitlab.com/blabuschagne"}],"author":{"id":3101551,"username":"blabuschagne","name":"Brandon Labuschagne","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3101551/avatar.png","web_url":"https://gitlab.com/blabuschagne"},"type":"ISSUE","assignee":{"id":3101551,"username":"blabuschagne","name":"Brandon Labuschagne","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3101551/avatar.png","web_url":"https://gitlab.com/blabuschagne"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/331416","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/331416","notes":"https://gitlab.com/api/v4/projects/278964/issues/331416/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/331416/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#331416","relative":"#331416","full":"gitlab-org/gitlab#331416"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":87358614,"iid":331413,"project_id":278964,"title":"Investigate what other tables need to be vertically sharded to allow vertical sharding of ci_builds","description":"As part of https://gitlab.com/groups/gitlab-org/-/epics/5883 we want to look into what it takes to vertically shard the `ci_builds` table. \n\nIn this issue we should look into what other tables we may need to shard if we want to vertically shard `ci_builds`. There is some overlap with https://gitlab.com/gitlab-org/gitlab/-/issues/331412, but that issue mostly focuses on the constraints side of things. There may be other tables we'd want to move into this CI database, such as tables related to CI even though we don't necessarily join these tables or have foreign keys pointing to them.\n\nThe knowledge of this likely already exists as a form of tribal knowledge to some extend, but we should use this issue to clearly write it down; allowing us to more easily refer to it later.\n\nConfidence level: 80%","state":"closed","created_at":"2021-05-19T12:18:58.881Z","updated_at":"2022-05-31T12:22:58.548Z","closed_at":"2021-07-14T15:27:10.350Z","closed_by":{"id":12452,"username":"ayufan","name":"Kamil TrzciÅ„ski","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a285e30f35d72526fb0954e8fe7cefa?s=80\u0026d=identicon","web_url":"https://gitlab.com/ayufan"},"labels":["Category:Pods","database","devops::data_stores","group::pods","section::enablement","workflow::blocked"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[{"id":12452,"username":"ayufan","name":"Kamil TrzciÅ„ski","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a285e30f35d72526fb0954e8fe7cefa?s=80\u0026d=identicon","web_url":"https://gitlab.com/ayufan"}],"author":{"id":209240,"username":"yorickpeterse","name":"Yorick Peterse","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/209240/avatar.png","web_url":"https://gitlab.com/yorickpeterse"},"type":"ISSUE","assignee":{"id":12452,"username":"ayufan","name":"Kamil TrzciÅ„ski","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a285e30f35d72526fb0954e8fe7cefa?s=80\u0026d=identicon","web_url":"https://gitlab.com/ayufan"},"user_notes_count":18,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/331413","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/331413","notes":"https://gitlab.com/api/v4/projects/278964/issues/331413/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/331413/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#331413","relative":"#331413","full":"gitlab-org/gitlab#331413"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6167,"epic":{"id":287358,"iid":6167,"title":"Decomposition: CI Tables","url":"/groups/gitlab-org/-/epics/6167","group_id":9970,"human_readable_end_date":"Oct 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":87358380,"iid":331412,"project_id":278964,"title":"Investigate constraints for a vertically sharded ci_builds table","description":"As part of https://gitlab.com/groups/gitlab-org/-/epics/5883 we want to look into what it takes to vertically shard the `ci_builds` table. \n\nIn this issue specifically we should look into how the constraints applied to this table (e.g. foreign keys), how they would work if `ci_builds` were to reside in its own database, how many tables we'd have to move over to keep the constraints, etc.\n\nConfidence level: 80%","state":"closed","created_at":"2021-05-19T12:14:22.327Z","updated_at":"2022-05-31T12:22:59.108Z","closed_at":"2021-07-14T15:27:17.729Z","closed_by":{"id":12452,"username":"ayufan","name":"Kamil TrzciÅ„ski","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a285e30f35d72526fb0954e8fe7cefa?s=80\u0026d=identicon","web_url":"https://gitlab.com/ayufan"},"labels":["Category:Pods","[deprecated] Accepting merge requests","database","devops::data_stores","group::pods","section::enablement","workflow::ready for development"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":209240,"username":"yorickpeterse","name":"Yorick Peterse","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/209240/avatar.png","web_url":"https://gitlab.com/yorickpeterse"},"type":"ISSUE","assignee":null,"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/331412","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/331412","notes":"https://gitlab.com/api/v4/projects/278964/issues/331412/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/331412/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#331412","relative":"#331412","full":"gitlab-org/gitlab#331412"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6167,"epic":{"id":287358,"iid":6167,"title":"Decomposition: CI Tables","url":"/groups/gitlab-org/-/epics/6167","group_id":9970,"human_readable_end_date":"Oct 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":87358361,"iid":331411,"project_id":278964,"title":"Investigate JOINs for a vertically sharded ci_builds table","description":"As part of https://gitlab.com/groups/gitlab-org/-/epics/5883 we want to look into what it takes to vertically shard the `ci_builds` table. \n\nIn this issue specifically we should look into how other tables are joined onto rows in this table, how often this happens, how we'd get rid of those joins (if at all possible), etc. The end goal is to have a better understanding of how much application code needs changing to make this a possibility.\n\nConfidence level for the due date: 80%","state":"closed","created_at":"2021-05-19T12:13:41.060Z","updated_at":"2022-05-31T12:22:59.657Z","closed_at":"2021-07-14T15:27:14.772Z","closed_by":{"id":12452,"username":"ayufan","name":"Kamil TrzciÅ„ski","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a285e30f35d72526fb0954e8fe7cefa?s=80\u0026d=identicon","web_url":"https://gitlab.com/ayufan"},"labels":["Category:Pods","database","devops::data_stores","group::pods","section::enablement","workflow::ready for development"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[{"id":12452,"username":"ayufan","name":"Kamil TrzciÅ„ski","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a285e30f35d72526fb0954e8fe7cefa?s=80\u0026d=identicon","web_url":"https://gitlab.com/ayufan"}],"author":{"id":209240,"username":"yorickpeterse","name":"Yorick Peterse","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/209240/avatar.png","web_url":"https://gitlab.com/yorickpeterse"},"type":"ISSUE","assignee":{"id":12452,"username":"ayufan","name":"Kamil TrzciÅ„ski","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a285e30f35d72526fb0954e8fe7cefa?s=80\u0026d=identicon","web_url":"https://gitlab.com/ayufan"},"user_notes_count":20,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/331411","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/331411","notes":"https://gitlab.com/api/v4/projects/278964/issues/331411/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/331411/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#331411","relative":"#331411","full":"gitlab-org/gitlab#331411"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6167,"epic":{"id":287358,"iid":6167,"title":"Decomposition: CI Tables","url":"/groups/gitlab-org/-/epics/6167","group_id":9970,"human_readable_end_date":"Oct 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":87357874,"iid":331410,"project_id":278964,"title":"VSA persisted default stage cannot be removed or edited","description":"Bug: A persisted value stream cannot be edited when the name is 'default'.\n\nValue stream analytics provides an in-memory value stream called 'default' which was possible to edit and persist in the past. It's also possible to create a new value stream called 'default' which would replace the in-memory value stream.\n\nHow to reproduce it:\n\n1. Make sure to have at least a premium license.\n2. Create a group.\n3. Go to Analytics \u003e Value Stream\n4. Notice that we loaded the default value stream (in-memory).\n4. Create a new value stream (top right dropdown). Call the value stream 'default'.\n5. Now this value stream cannot be edited.\n\nExpected: persisted value streams should be editable.","state":"closed","created_at":"2021-05-19T12:04:11.857Z","updated_at":"2021-10-05T07:29:37.318Z","closed_at":"2021-06-01T08:55:07.435Z","closed_by":{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"},"labels":["backend","devops::manage","group::optimize","section::dev","severity::3","type::bug","workflow::production"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"}],"author":{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"},"type":"ISSUE","assignee":{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/331410","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/331410","notes":"https://gitlab.com/api/v4/projects/278964/issues/331410/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/331410/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#331410","relative":"#331410","full":"gitlab-org/gitlab#331410"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":87357798,"iid":331409,"project_id":278964,"title":"Fill the Status column in the pipeline security dashboard","description":"\u003c!--\nImplementation issues are used break-up a large piece of work into small, discrete tasks that can\nmove independently through the build workflow steps. They're typically used to populate a Feature\nEpic. Once created, an implementation issue is usually refined in order to populate and review the\nimplementation plan and weight.\nExample workflow: https://about.gitlab.com/handbook/engineering/development/threat-management/planning/diagram.html#plan\n--\u003e\n\n## Why are we doing this work\n\u003c!--\nA brief explanation of the why, not the what or how. Assume the reader doesn't know the\nbackground and won't have time to dig-up information from comment threads.\n--\u003e\n\nRecently, with https://gitlab.com/gitlab-org/gitlab/-/merge_requests/61536 we started using the `vulnerability_list.vue` component in the `Pipeline Security Dashboard`. This list is backed by GraphQL and was already used in the `Project`, `Group` and `Instance`. The status column in the pipeline security dashboard currently is displayed as empty (see the screenshot below). We need to fetch that data from GraphQL and display it. This issue contains a little ~backend work required as we'll need to define the status field in the GraphQL Resolver. Since it's (should be) minimal work, I'm not going to create a separate issue for the ~backend. \n\n![Screenshot_2021-05-19_at_15.07.50](/uploads/c2fa76ef88fd32bd5a5d8d1e5d99ef6e/Screenshot_2021-05-19_at_15.07.50.png)\n\n## Steps to reproduce:\n\n1. Fork a repository (such as https://gitlab.com/gitlab-examples/security/security-reports/)\n2. Run the pipeline\n3. Enable the feature flag: `:pipeline_security_dashboard_graphql`\n4. Go to Project \u003e CI/CD \u003e Pipelines \u003e Your Pipeline \u003e Security Tab\n\n\n## Relevant links\n\u003c!--\nInformation that the developer might need to refer to when implementing the issue.\n\n- [Design Issue](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e)\n  - [Design 1](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e/designs/\u003cimage\u003e.png)\n  - [Design 2](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e/designs/\u003cimage\u003e.png)\n- [Similar implementation](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/\u003cid\u003e)\n--\u003e\n\n\n## Implementation plan\n\n- [x] ~backend Expose the `state` field in `ee/app/graphql/types/pipeline_security_report_finding_type.rb`. The type of the field needs to be `VulnerabilityStateEnum`.\n- [ ] ~frontend Extend `graphql/queries/pipeline_findings.query.graphql` so that it fetches the status column and make sure that the `ee/app/assets/javascripts/security_dashboard/components/vulnerability_list.vue` displays it.\n- [ ] ~frontend Implement tests.\n\n\n\u003c!--\nWorkflow and other relevant labels\n\n# ~\"group::\" ~\"Category:\" ~\"GitLab Ultimate\"\nOther settings you might want to include when creating the issue.\n\n# /assign @\n# /epic \u0026\n--\u003e","state":"closed","created_at":"2021-05-19T12:02:48.054Z","updated_at":"2021-10-28T13:56:38.183Z","closed_at":"2021-06-18T00:18:39.572Z","closed_by":{"id":4155411,"username":"dpisek","name":"David Pisek","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4155411/avatar.png","web_url":"https://gitlab.com/dpisek"},"labels":["Category:Vulnerability Management","Deliverable","SUS::FY22 Q1 - Incomplete","devops::secure","documentation","frontend","group::threat insights","section::sec","type::maintenance","workflow::verification"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":4155411,"username":"dpisek","name":"David Pisek","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4155411/avatar.png","web_url":"https://gitlab.com/dpisek"}],"author":{"id":5535246,"username":"svedova","name":"Savas Vedova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535246/avatar.png","web_url":"https://gitlab.com/svedova"},"type":"ISSUE","assignee":{"id":4155411,"username":"dpisek","name":"David Pisek","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4155411/avatar.png","web_url":"https://gitlab.com/dpisek"},"user_notes_count":12,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/331409","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":1},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"1 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/331409","notes":"https://gitlab.com/api/v4/projects/278964/issues/331409/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/331409/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#331409","relative":"#331409","full":"gitlab-org/gitlab#331409"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4969,"epic":{"id":148197,"iid":4969,"title":"Convert the pipeline security tab to use GraphQL \u0026 shared UI components","url":"/groups/gitlab-org/-/epics/4969","group_id":9970,"human_readable_end_date":"Jul 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":87353399,"iid":331403,"project_id":278964,"title":"[FE] Display vulnerability modal instead of linking to standalone page in the pipeline security dashboard","description":"\u003c!--\nImplementation issues are used break-up a large piece of work into small, discrete tasks that can\nmove independently through the build workflow steps. They're typically used to populate a Feature\nEpic. Once created, an implementation issue is usually refined in order to populate and review the\nimplementation plan and weight.\nExample workflow: https://about.gitlab.com/handbook/engineering/development/threat-management/planning/diagram.html#plan\n--\u003e\n\n## Why are we doing this work\n\u003c!--\nA brief explanation of the why, not the what or how. Assume the reader doesn't know the\nbackground and won't have time to dig-up information from comment threads.\n--\u003e\n\nRecently, with https://gitlab.com/gitlab-org/gitlab/-/merge_requests/61536 we started using the `vulnerability_list.vue` component in the `Pipeline Security Dashboard`. This list is backed by GraphQL and was already used in the `Project`, `Group` and `Instance`. Those dashboards list vulnerabilities, whereas the pipeline dashboard display the findings. Briefly, a vulnerability is a finding that is found in the default branch, therefore they have standalone pages. The vulnerability list currently links all items to their standalone pages but with this issue we'll extend this behaviour for the pipeline security dashboard and open a modal instead.\n\nIt should look this when implemented:\n\n![pipeline-modal](/uploads/af89547e10640455234655146872d5ef/pipeline-modal.gif)\n\n\n## Steps to reproduce:\n\n1. Fork a repository (such as https://gitlab.com/gitlab-examples/security/security-reports/)\n2. Run the pipeline\n3. Enable the feature flag: `:pipeline_security_dashboard_graphql`\n4. Go to Project \u003e CI/CD \u003e Pipelines \u003e Your Pipeline \u003e Security Tab\n\n\n## Relevant links\n\u003c!--\nInformation that the developer might need to refer to when implementing the issue.\n\n- [Design Issue](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e)\n  - [Design 1](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e/designs/\u003cimage\u003e.png)\n  - [Design 2](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e/designs/\u003cimage\u003e.png)\n- [Similar implementation](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/\u003cid\u003e)\n--\u003e\n\n\n## Implementation plan\n\n- [ ] ~frontend `ee/app/assets/javascripts/security_dashboard/components/vulnerability_list.vue` will have to open a modal when a finding title is clicked. The current implementation can be found in `ee/app/assets/javascripts/security_dashboard/components/security_dashboard_vuex.vue` (check for the `issue-modal`). We'll have to mount that component when `isPipeline` is `true` in the `vulnerability_list.vue` component.\n- [ ] ~frontend Implement tests.\n\n\n\u003c!--\nWorkflow and other relevant labels\n\n# ~\"group::\" ~\"Category:\" ~\"GitLab Ultimate\"\nOther settings you might want to include when creating the issue.\n\n# /assign @\n# /epic \u0026\n--\u003e","state":"closed","created_at":"2021-05-19T10:59:23.445Z","updated_at":"2021-10-28T13:56:39.312Z","closed_at":"2021-07-28T02:00:00.565Z","closed_by":{"id":4155411,"username":"dpisek","name":"David Pisek","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4155411/avatar.png","web_url":"https://gitlab.com/dpisek"},"labels":["Category:Vulnerability Management","Deliverable","SUS::FY22 Q1 - Incomplete","devops::secure","documentation","frontend","group::threat insights","missed:14.0","missed:14.1","section::sec","type::maintenance","workflow::verification"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":4155411,"username":"dpisek","name":"David Pisek","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4155411/avatar.png","web_url":"https://gitlab.com/dpisek"}],"author":{"id":5535246,"username":"svedova","name":"Savas Vedova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535246/avatar.png","web_url":"https://gitlab.com/svedova"},"type":"ISSUE","assignee":{"id":4155411,"username":"dpisek","name":"David Pisek","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4155411/avatar.png","web_url":"https://gitlab.com/dpisek"},"user_notes_count":13,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/331403","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/331403","notes":"https://gitlab.com/api/v4/projects/278964/issues/331403/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/331403/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#331403","relative":"#331403","full":"gitlab-org/gitlab#331403"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4969,"epic":{"id":148197,"iid":4969,"title":"Convert the pipeline security tab to use GraphQL \u0026 shared UI components","url":"/groups/gitlab-org/-/epics/4969","group_id":9970,"human_readable_end_date":"Jul 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":87352373,"iid":331401,"project_id":278964,"title":"[FE] Implement filtering functionality in the pipeline security dashboard","description":"\u003c!--\nImplementation issues are used break-up a large piece of work into small, discrete tasks that can\nmove independently through the build workflow steps. They're typically used to populate a Feature\nEpic. Once created, an implementation issue is usually refined in order to populate and review the\nimplementation plan and weight.\nExample workflow: https://about.gitlab.com/handbook/engineering/development/threat-management/planning/diagram.html#plan\n--\u003e\n\n## Why are we doing this work\n\u003c!--\nA brief explanation of the why, not the what or how. Assume the reader doesn't know the\nbackground and won't have time to dig-up information from comment threads.\n--\u003e\n\nRecently, with https://gitlab.com/gitlab-org/gitlab/-/merge_requests/61536 we started using the `vulnerability_list.vue` component in the `Pipeline Security Dashboard`. This list is backed by GraphQL and was already used in the `Project`, `Group` and `Instance`. Right now, it only displays the pipeline findings, but filtering was not implemented. This issue is about implementing the missing filtering functionality.\n\n## Steps to reproduce:\n\n1. Fork a repository (such as https://gitlab.com/gitlab-examples/security/security-reports/)\n2. Run the pipeline\n3. Enable the feature flag: `:pipeline_security_dashboard_graphql`\n4. Go to Project \u003e CI/CD \u003e Pipelines \u003e Your Pipeline \u003e Security Tab\n\n\n## Relevant links\n\u003c!--\nInformation that the developer might need to refer to when implementing the issue.\n\n- [Design Issue](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e)\n  - [Design 1](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e/designs/\u003cimage\u003e.png)\n  - [Design 2](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e/designs/\u003cimage\u003e.png)\n- [Similar implementation](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/\u003cid\u003e)\n--\u003e\n\n\n## Implementation plan\n\n- [x] ~frontend `ee/app/assets/javascripts/security_dashboard/components/pipeline_findings.vue` handles the query for fetching the findings. We just need to pass the filter parameters to the GraphQL query and update the `graphql/queries/pipeline_findings.query.graphql` file to support filtering.\n- [x] ~frontend Implement tests.\n\n\n\u003c!--\nWorkflow and other relevant labels\n\n# ~\"group::\" ~\"Category:\" ~\"GitLab Ultimate\"\nOther settings you might want to include when creating the issue.\n\n# /assign @\n# /epic \u0026\n--\u003e","state":"closed","created_at":"2021-05-19T10:50:39.524Z","updated_at":"2021-10-28T13:56:39.896Z","closed_at":"2021-08-23T10:19:02.833Z","closed_by":{"id":4155411,"username":"dpisek","name":"David Pisek","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4155411/avatar.png","web_url":"https://gitlab.com/dpisek"},"labels":["Category:Vulnerability Management","Deliverable","SUS::FY22 Q1 - Incomplete","devops::secure","documentation","frontend","group::threat insights","section::sec","type::maintenance","workflow::verification"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":4155411,"username":"dpisek","name":"David Pisek","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4155411/avatar.png","web_url":"https://gitlab.com/dpisek"}],"author":{"id":5535246,"username":"svedova","name":"Savas Vedova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535246/avatar.png","web_url":"https://gitlab.com/svedova"},"type":"ISSUE","assignee":{"id":4155411,"username":"dpisek","name":"David Pisek","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4155411/avatar.png","web_url":"https://gitlab.com/dpisek"},"user_notes_count":24,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/331401","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":2},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"2 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/331401","notes":"https://gitlab.com/api/v4/projects/278964/issues/331401/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/331401/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#331401","relative":"#331401","full":"gitlab-org/gitlab#331401"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4969,"epic":{"id":148197,"iid":4969,"title":"Convert the pipeline security tab to use GraphQL \u0026 shared UI components","url":"/groups/gitlab-org/-/epics/4969","group_id":9970,"human_readable_end_date":"Jul 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":87351586,"iid":331399,"project_id":278964,"title":"[FE] Implement sorting functionality in the pipeline security dashboard","description":"\u003c!--\nImplementation issues are used break-up a large piece of work into small, discrete tasks that can\nmove independently through the build workflow steps. They're typically used to populate a Feature\nEpic. Once created, an implementation issue is usually refined in order to populate and review the\nimplementation plan and weight.\nExample workflow: https://about.gitlab.com/handbook/engineering/development/threat-management/planning/diagram.html#plan\n--\u003e\n\n## Why are we doing this work\n\u003c!--\nA brief explanation of the why, not the what or how. Assume the reader doesn't know the\nbackground and won't have time to dig-up information from comment threads.\n--\u003e\n\nRecently, with https://gitlab.com/gitlab-org/gitlab/-/merge_requests/61536 we started using the `vulnerability_list.vue` component in the `Pipeline Security Dashboard`. This list is backed by GraphQL and was already used in the `Project`, `Group` and `Instance`. Right now, it only displays the pipeline findings, but sorting was not implemented. This issue is about implementing the missing sorting functionality.\n\n## Steps to reproduce:\n\n1. Fork a repository (such as https://gitlab.com/gitlab-examples/security/security-reports/)\n2. Run the pipeline\n3. Enable the feature flag: `:pipeline_security_dashboard_graphql`\n4. Go to Project \u003e CI/CD \u003e Pipelines \u003e Your Pipeline \u003e Security Tab\n\n\n## Relevant links\n\u003c!--\nInformation that the developer might need to refer to when implementing the issue.\n\n- [Design Issue](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e)\n  - [Design 1](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e/designs/\u003cimage\u003e.png)\n  - [Design 2](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e/designs/\u003cimage\u003e.png)\n- [Similar implementation](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/\u003cid\u003e)\n--\u003e\n\n\n## Implementation plan\n\n- [ ] ~frontend `ee/app/assets/javascripts/security_dashboard/components/pipeline_findings.vue` contains already some code for sorting. It was copy pasted from similar components. We just need to pass the sorting parameters to the GraphQL query and update the `graphql/queries/pipeline_findings.query.graphql` file to support sorting.\n- [ ] ~frontend Implement tests.\n\n\n\u003c!--\nWorkflow and other relevant labels\n\n# ~\"group::\" ~\"Category:\" ~\"GitLab Ultimate\"\nOther settings you might want to include when creating the issue.\n\n# /assign @\n# /epic \u0026\n--\u003e","state":"closed","created_at":"2021-05-19T10:36:31.935Z","updated_at":"2022-05-24T05:48:54.895Z","closed_at":"2022-05-24T05:48:54.875Z","closed_by":{"id":4155411,"username":"dpisek","name":"David Pisek","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4155411/avatar.png","web_url":"https://gitlab.com/dpisek"},"labels":["Category:Vulnerability Management","SUS::FY22 Q1 - Incomplete","devops::secure","documentation","frontend","group::threat insights","missed-deliverable","missed:14.0","missed:14.1","section::sec","type::maintenance","workflow::blocked"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":5535246,"username":"svedova","name":"Savas Vedova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535246/avatar.png","web_url":"https://gitlab.com/svedova"},"type":"ISSUE","assignee":null,"user_notes_count":12,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/331399","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/331399","notes":"https://gitlab.com/api/v4/projects/278964/issues/331399/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/331399/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#331399","relative":"#331399","full":"gitlab-org/gitlab#331399"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4969,"epic":{"id":148197,"iid":4969,"title":"Convert the pipeline security tab to use GraphQL \u0026 shared UI components","url":"/groups/gitlab-org/-/epics/4969","group_id":9970,"human_readable_end_date":"Jul 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":87350461,"iid":331398,"project_id":278964,"title":"Remove :geo_terraform_state_version_verification feature flag","description":"\u003c!-- Title suggestion: [Feature flag] Remove FEATURE_FLAG_NAME --\u003e\n\n## Feature\n\nThe `:geo_terraform_state_version_verification` feature flag was previously [enabled by default](https://gitlab.com/gitlab-org/gitlab/-/issues/329963) and should be removed.\n\n## Owners\n\n- Group: ~\"group::geo\"\n- Slack channel: `#g_geo`\n- DRI: @aakriti.gupta\n- PM: @nhxnguyen \n\n**Removal**\n\nThis is an __important__ phase, that should be either done in the next Milestone or as soon as possible. For the cleanup phase, please follow our documentation on how to  [clean up the feature flag](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up).\n\n- [x] Remove `:geo_terraform_state_version_verification` feature flag\n    - [x] Remove all references to the feature flag from the codebase\n    - [x] Remove the YAML definitions for the feature from the repository\n    - [x] Create a Changelog Entry\n\n- [x] Clean up the feature flag from all environments by running this chatops command in `#production` channel `/chatops run feature delete some_feature`.\n\n- [x] Close this issue after the feature flag is removed from the codebase.","state":"closed","created_at":"2021-05-19T10:14:12.247Z","updated_at":"2021-06-17T12:11:21.769Z","closed_at":"2021-06-11T13:48:41.382Z","closed_by":{"id":4158075,"username":"aakriti.gupta","name":"Aakriti Gupta","state":"active","avatar_url":"https://secure.gravatar.com/avatar/992a080bc7d9f8c22ff7186db1c76dbd?s=80\u0026d=identicon","web_url":"https://gitlab.com/aakriti.gupta"},"labels":["devops::systems","feature flag","group::geo","maintenance::refactor","quad-planning::complete-no-action","section::enablement","workflow::in review"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":4158075,"username":"aakriti.gupta","name":"Aakriti Gupta","state":"active","avatar_url":"https://secure.gravatar.com/avatar/992a080bc7d9f8c22ff7186db1c76dbd?s=80\u0026d=identicon","web_url":"https://gitlab.com/aakriti.gupta"}],"author":{"id":4158075,"username":"aakriti.gupta","name":"Aakriti Gupta","state":"active","avatar_url":"https://secure.gravatar.com/avatar/992a080bc7d9f8c22ff7186db1c76dbd?s=80\u0026d=identicon","web_url":"https://gitlab.com/aakriti.gupta"},"type":"ISSUE","assignee":{"id":4158075,"username":"aakriti.gupta","name":"Aakriti Gupta","state":"active","avatar_url":"https://secure.gravatar.com/avatar/992a080bc7d9f8c22ff7186db1c76dbd?s=80\u0026d=identicon","web_url":"https://gitlab.com/aakriti.gupta"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/331398","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":6,"completed_count":6},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"6 of 6 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/331398","notes":"https://gitlab.com/api/v4/projects/278964/issues/331398/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/331398/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#331398","relative":"#331398","full":"gitlab-org/gitlab#331398"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5285,"epic":{"id":189747,"iid":5285,"title":"Geo: Self Service Framework - Verify all Blob Replicators","url":"/groups/gitlab-org/-/epics/5285","group_id":9970,"human_readable_end_date":"Jan 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":87347307,"iid":331395,"project_id":278964,"title":"Display tooltip message for scheduled pipelines limit","description":"## Problem to Solve\n\nThis is a ~frontend MVC for https://gitlab.com/gitlab-org/gitlab/-/issues/323066.\n\nScheduled pipelines that run at high frequencies could lead to harmful loads on GitLab.com's shared runners.\n\n### MVC Solution\n\nFor the MVC, we can rate limit the number of scheduled pipelines that can run per day for free tier users. The agreed number of allowed scheduled pipelines to run on any given day is **10**.\n\nFor ~frontend, we'll need to:\n\nDisplay a `?` icon beside the cron syntax input field with a tooltip on hover. The message should read `Scheduled pipelines cannot run more frequently than once per hour. A pipeline configured to run more frequently only starts after one hour has elapsed since the last time it ran.`\n\n\nIn the next milestone, we can follow up with the implementation to prevent users from creating a scheduled pipeline after they reached the quota.\n\n## Relevant Links\n\n- [Main Issue](https://gitlab.com/gitlab-org/gitlab/-/issues/323066)\n\n## Non-functional Requirements\n\n- [ ] **Documentation:** Update https://docs.gitlab.com/ee/ci/pipelines/schedules.html to explain why we need to implement this limitation. Emphasize that this change will impact free users only.\n- [ ] **Feature flag:** We'll put this under a feature flag so it will be easy to enable/disable the feature at will depending on the urgency and if there are further changes needed\n\n## Implementation Plan\n\nPiggy back of BE MR https://gitlab.com/gitlab-org/gitlab/-/merge_requests/62826 and only display the message based on the FF ` ci_daily_limit_for_pipeline_schedules`.\n\nThe message will be implemented in `app/assets/javascripts/pages/projects/pipeline_schedules/shared/components/interval_pattern_input.vue`","state":"closed","created_at":"2021-05-19T09:41:42.298Z","updated_at":"2021-06-28T13:35:24.647Z","closed_at":"2021-06-28T13:29:39.417Z","closed_by":{"id":4477803,"username":"pburdette","name":"Payton Burdette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477803/avatar.png","web_url":"https://gitlab.com/pburdette"},"labels":["Category:Continuous Integration","UX","corrective action","devops::verify","frontend","group::pipeline execution","section::ops","type::feature","workflow::production"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":4477803,"username":"pburdette","name":"Payton Burdette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477803/avatar.png","web_url":"https://gitlab.com/pburdette"}],"author":{"id":7598233,"username":"mgandres","name":"Mireya Andres","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c96bce45a06f2dd722144db3f52456bf?s=80\u0026d=identicon","web_url":"https://gitlab.com/mgandres"},"type":"ISSUE","assignee":{"id":4477803,"username":"pburdette","name":"Payton Burdette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477803/avatar.png","web_url":"https://gitlab.com/pburdette"},"user_notes_count":37,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/331395","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/331395","notes":"https://gitlab.com/api/v4/projects/278964/issues/331395/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/331395/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#331395","relative":"#331395","full":"gitlab-org/gitlab#331395"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":"on_track"},{"id":87343410,"iid":331391,"project_id":278964,"title":"Improve the copy for `Pipeline must succeed` section to reflect critical changes","description":"## ðŸ§© Problem statement\nEnabling `Pipeline must succeed` disables the `Merge immediately` button the in the pipeline widgets in the MRs. But this is not explicitly mentioned in the copy for the setting option.\n\n\n## â³ Background\nhttps://gitlab.com/gitlab-org/gitlab/-/issues/320981#note_578018148\n\n## ðŸ“ Proposal\n\nChange the copy to\n\n---------\n* [ ] **Pipelines must succeed**  \n  Merge requests can't be merged if the latest pipeline did not succeed or is still running.\n----------","state":"closed","created_at":"2021-05-19T09:12:18.100Z","updated_at":"2022-02-02T13:29:09.158Z","closed_at":"2022-02-02T13:29:09.140Z","closed_by":{"id":4477803,"username":"pburdette","name":"Payton Burdette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477803/avatar.png","web_url":"https://gitlab.com/pburdette"},"labels":["Category:Continuous Integration","FY23::Q1","OKR","SUS::Impacting","Technical Writing","UI text","UX","Verify::P2","devops::verify","frontend","group::pipeline execution","section::ops","severity::2","workflow::production"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":4477803,"username":"pburdette","name":"Payton Burdette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477803/avatar.png","web_url":"https://gitlab.com/pburdette"}],"author":{"id":6115425,"username":"v_mishra","name":"Veethika M","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f09a3a0badac17a57e28b4e18a45c1c0?s=80\u0026d=identicon","web_url":"https://gitlab.com/v_mishra"},"type":"ISSUE","assignee":{"id":4477803,"username":"pburdette","name":"Payton Burdette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477803/avatar.png","web_url":"https://gitlab.com/pburdette"},"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/331391","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/331391","notes":"https://gitlab.com/api/v4/projects/278964/issues/331391/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/331391/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#331391","relative":"#331391","full":"gitlab-org/gitlab#331391"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6035,"epic":{"id":273949,"iid":6035,"title":"Merge immediately possible in unexpected scenarios with merge trains enabled","url":"/groups/gitlab-org/-/epics/6035","group_id":9970,"human_readable_timestamp":"\u003cstrong\u003e607\u003c/strong\u003e days elapsed"},"iteration":null,"health_status":null},{"id":87340926,"iid":331364,"project_id":278964,"title":"Mirrors won't download new LFS files","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\n\u003c!-- Summarize the bug encountered concisely. --\u003e\n\nThis is a rather specific bug introduced by https://gitlab.com/gitlab-org/gitlab/-/merge_requests/41770 and https://gitlab.com/gitlab-org/gitlab/-/issues/214211\n\nThe lack of handling of the following error causes no new LFS downloads to occur after the first import of the pull mirror repository:\n\n```\n{\"severity\":\"ERROR\",\"time\":\"2021-05-19T07:53:08.653Z\",\"correlation_id\":\"01F61STA29DWG7RS7XBXCE2RX4\",\"user_id\":1,\"project_id\":33,\"import_url\":\"https://:*****@gitlab.com/hchouraria/lfs-test3.git\",\"error_message\":\"Validation failed: Lfs object already exists in repository\"}\n```\n\n### Steps to reproduce\n\n\u003c!-- Describe how one can reproduce the issue - this is very important. Please use an ordered list. --\u003e\n\n- Create a git repository anywhere outside your GitLab instance\n  - For example, on GitHub, or on a different GitLab instance (such as GitLab.com if using Self-Managed, or vice-versa)\n- Push some initial LFS files to the repository, with a file size above 1.0 MiB\n\n```\ngit lfs track *.big\ngit add .gitattributes\ngit commit -m \"add lfs tracking entry\"\n\n# Creates a 1.1 MiB file\ndd if=/dev/random of=file1.big bs=1024 count=1100\ngit add file1.big\ngit commit -m \"add file1 to lfs\"\n\ngit push origin main\n```\n\n- Setup a mirroring of this repository in your GitLab.com or SM GitLab instance.\n  - Choose new project, \"Run CI/CD for external repository\" to do this.\n  - You can use either GitHub integration, or Repo by URL, the source does not matter.\n\n- Wait for the initial import to complete. Try to download the LFS `file1.big` file from repo UI. It works/downloads/carries data.\n\n- Now go back to the external source repo. Add another LFS file and push. File size does not matter now.\n\n```\n# Creates a 10 MiB file\ndd if=/dev/random of=file2.big bs=1024 count=10000\ngit add file2.big\ngit commit -m \"add file2 to lfs\"\n\ngit push origin main\n```\n\n- Wait for the mirror repo to complete fetching the new changes\n\n- Observe that the following error appears in the `update_mirror_service_json.log`:\n\n```\n{\"severity\":\"ERROR\",\"time\":\"2021-05-19T07:53:08.653Z\",\"correlation_id\":\"01F61STA29DWG7RS7XBXCE2RX4\",\"user_id\":1,\"project_id\":33,\"import_url\":\"https://:*****@gitlab.com/group/project.git\",\"error_message\":\"Validation failed: Lfs object already exists in repository\"}\n```\n\n- Observe that the repo UI now shows the `file2.big` file, but if you attempt to download it, it fails with a 404.\n\n- Repeat the steps above to add as many new regular or LFS files, and observe that none of the new LFS files' actual data are being downloaded automatically anymore\n\n- Only the first LFS file, present during initial import, is present/downloadable\n\n### Example Project\n\n\u003c!-- If possible, please create an example project here on GitLab.com that exhibits the problematic \nbehavior, and link to it here in the bug report. If you are using an older version of GitLab, this \nwill also determine whether the bug is fixed in a more recent version. --\u003e\n\nFile `file12.big` on https://gitlab.com/gitlab-gold/hchouraria/lfs-downloads-fail\n\n404: https://gitlab.com/gitlab-gold/hchouraria/lfs-downloads-fail/-/raw/main/file12.big\n\n### What is the current *bug* behavior?\n\n\u003c!-- Describe what actually happens. --\u003e\n\nNo new LFS files added to source repo are downloaded by the mirror automatically\nNew LFS files in the repo do not download in CI/CD, and return 404 on the UIs when downloaded\n\n### What is the expected *correct* behavior?\n\n\u003c!-- Describe what you should see instead. --\u003e\n\nAll new LFS files added to source repo must be downloaded by the mirror automatically\nNew LFS files in the repo must be available to CI/CD and downloads on the UIs\n\n### Relevant logs and/or screenshots\n\n\u003c!-- Paste any relevant logs - please use code blocks (```) to format console output, logs, and code\n as it's tough to read otherwise. --\u003e\n\n```\n{\"severity\":\"ERROR\",\"time\":\"2021-05-19T07:53:08.653Z\",\"correlation_id\":\"01F61STA29DWG7RS7XBXCE2RX4\",\"user_id\":1,\"project_id\":33,\"import_url\":\"https://:*****@gitlab.com/group/project.git\",\"error_message\":\"Validation failed: Lfs object already exists in repository\"}\n```\n\n### Output of checks\n\n\u003c!-- If you are reporting a bug on GitLab.com, write: This bug happens on GitLab.com --\u003e\n\nThis bug happens on GitLab.com\n\n### Possible fixes\n\n\u003c!-- If you can, link to the line of code that might be responsible for the problem. --\u003e\n\nThe issue is in file `app/services/projects/lfs_pointers/lfs_download_service.rb` on line:\n\n```\nreturn link_existing_lfs_object! if lfs_size \u003e LARGE_FILE_SIZE \u0026\u0026 lfs_object\n```\n\n- When the LFS object list is retrieved, all the existing OIDs are part of the list.\n- We try to perform a `link_existing_lfs_object!` for one such pre-existing file.\n- But this fails with the object validation error, because a record for an `LfsObjectsProject` model already exists\n- The exception thrown breaks the entire download loop and aborts\n- No file beyond the first (repeated) OID is processed\n- No new LFS files end up being truly downloaded\n\nThe only workarounds I can think of are rather impractical:\n\n- Setup the mirror when there are no pre-existing LFS files in the source repo (or)\n- Ensure no pre-existing LFS file is above 1 MiB ever (even in history of the repo)\n\nThis bug effectively breaks use of LFS with mirroring options (using GitLab as the CI/CD endpoint for external repos being the use-case) so it is pretty severe for those that already have been using LFS on their source systems.","state":"closed","created_at":"2021-05-19T08:53:15.221Z","updated_at":"2023-01-09T08:19:13.105Z","closed_at":"2021-07-06T09:54:49.847Z","closed_by":{"id":1161495,"username":"igor.drozdov","name":"Igor Drozdov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1161495/avatar.png","web_url":"https://gitlab.com/igor.drozdov"},"labels":["Category:Source Code Management","Deliverable","Git LFS","backend","backend-weight::3","customer","devops::create","group::source code","priority::2","regression","regression:13.4","reproduced on GitLab.com","section::dev","severity::2","type::bug","workflow::ready for development"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":1161495,"username":"igor.drozdov","name":"Igor Drozdov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1161495/avatar.png","web_url":"https://gitlab.com/igor.drozdov"}],"author":{"id":7536567,"username":"hchouraria","name":"Harsh Chouraria","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7536567/avatar.png","web_url":"https://gitlab.com/hchouraria"},"type":"ISSUE","assignee":{"id":1161495,"username":"igor.drozdov","name":"Igor Drozdov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1161495/avatar.png","web_url":"https://gitlab.com/igor.drozdov"},"user_notes_count":24,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/331364","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/331364","notes":"https://gitlab.com/api/v4/projects/278964/issues/331364/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/331364/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#331364","relative":"#331364","full":"gitlab-org/gitlab#331364"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":87336784,"iid":331359,"project_id":278964,"title":"Provide alternative UBI image for container scanning image","description":"## Why are we doing this work\n\nFrom [Epic](https://gitlab.com/groups/gitlab-org/-/epics/5775):\n\u003e For US Government customers to use GitLab's container scanning analyzer, they need to have it built on a UBI-based image.\n\nAs a part of https://gitlab.com/gitlab-org/gitlab/-/issues/327785 we have investigated if we can build container-scanning image with trivy with [UBI image](https://www.redhat.com/en/blog/introducing-red-hat-universal-base-image).\n\nIn this issue we want to implement this change in https://gitlab.com/gitlab-org/security-products/analyzers/container-scanning repository.\n\nNew image must be available in as `.../container-scanning/ubi/trivy:4`, `.../container-scanning/ubi/gripe:4` in GitLab Container Registry and customers should be able to choose it by providing variable in GitLab CI/CD YAML file, like: `CS_ANALYZER_IMAGE` with full analyzer image path.\n\nIn scope of this task we also need to ensure that we are not using `sudo` or privileged user to perform scan.\n\n## Relevant links\n\n- [Epic](https://gitlab.com/groups/gitlab-org/-/epics/5775)\n- [MVC MR](https://gitlab.com/gitlab-org/security-products/analyzers/container-scanning/-/merge_requests/48)\n\n## Non-functional requirements\n\u003c!--\nAdd details for required items and delete others.\n--\u003e\n\n- [x] Documentation: this change and option has to be documented in https://docs.gitlab.com/ee/user/application_security/container_scanning/\n- [-] Feature flag: no need for feature flag, as this is an option that customer will enable manually\n- [x] Performance:\n  - [x] Verify and compare the image size between UBI and Alpine\n  - [x] Verify and compare the container scanning job duration between UBI and Alpine\n- [x] Testing:\n  - [x] Ensure that all unit tests are passing for both UBI and Alpine image,\n  - [x] Ensure that all integration tests are passing for both UBI and Alpine image,\n  - [x] Test distribution-specific code with additional unit tests\n\n\n## Implementation plan\n\n- [x] ~documentation add additional section to https://docs.gitlab.com/ee/user/application_security/container_scanning/ with explanation how to use UBI Image in CI/CD,\n- [x] ~backend add new Dockerfile.ubi file that will build UBI image with container scanning analyzer,\n  - [x] ~backend ensure that it is not using `sudo` or additional privileges,\n- [x] ~backend modify `.gitlab-ci.yml` file to build image for UBI and to run all unit/integration tests for both images,\n- [x] ~backend modify `lib/gcs/shell.rb` to use `update-ca-trust extract` instead of `update-ca-certificates` when operating in UBI image,\n- [x] ~backend modify `script/setup.sh` to use directory from `mktemp -d` instead of `/tmp`\n- [x] ~backend configure `spec/fixtures/haproxy.cfg` to support both versions of haproxy (from UBI and Alpine),\n- [x] ~backend modify `spec/support/proxy_server.rb` to support both Alpine and UBI images,","state":"closed","created_at":"2021-05-19T07:59:03.490Z","updated_at":"2022-02-16T22:28:41.383Z","closed_at":"2021-07-12T03:49:59.750Z","closed_by":{"id":8401507,"username":"sashi_kumar","name":"Sashi Kumar Kumaresan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8401507/avatar.png","web_url":"https://gitlab.com/sashi_kumar"},"labels":["Category:Container Scanning","backend","devops::govern","group::security policies","section::sec","workflow::verification"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":8401507,"username":"sashi_kumar","name":"Sashi Kumar Kumaresan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8401507/avatar.png","web_url":"https://gitlab.com/sashi_kumar"}],"author":{"id":5535431,"username":"mparuszewski","name":"Alan (Maciej) Paruszewski","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535431/avatar.png","web_url":"https://gitlab.com/mparuszewski"},"type":"ISSUE","assignee":{"id":8401507,"username":"sashi_kumar","name":"Sashi Kumar Kumaresan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8401507/avatar.png","web_url":"https://gitlab.com/sashi_kumar"},"user_notes_count":13,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/331359","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":16,"completed_count":16},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"16 of 16 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/331359","notes":"https://gitlab.com/api/v4/projects/278964/issues/331359/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/331359/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#331359","relative":"#331359","full":"gitlab-org/gitlab#331359"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5775,"epic":{"id":251105,"iid":5775,"title":"Test and Publish a UBI-based Container Scanning Image","url":"/groups/gitlab-org/-/epics/5775","group_id":9970,"human_readable_end_date":"Jul 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":87323038,"iid":331348,"project_id":278964,"title":"Update http-parser from 1.2.1 to 1.2.3","description":"This library `http-parser` gem is used by `kubeclient` gme via `http` gem (which was introduced in gitlab-org/gitlab-foss!7994).\n\nBlocks gitlab-org/gitlab-development-kit#1226","state":"closed","created_at":"2021-05-19T04:05:13.309Z","updated_at":"2021-05-20T13:53:48.494Z","closed_at":"2021-05-20T13:53:08.898Z","closed_by":{"id":100770,"username":"tnir","name":"Takuya Noguchi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/100770/canstock6553672_288.png","web_url":"https://gitlab.com/tnir"},"labels":["Category:Kubernetes Management","automation:ml","automation:ml wrong","devops::configure","group::configure","maintenance::dependency","maintenance::refactor","section::dev","workflow::production"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":100770,"username":"tnir","name":"Takuya Noguchi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/100770/canstock6553672_288.png","web_url":"https://gitlab.com/tnir"}],"author":{"id":100770,"username":"tnir","name":"Takuya Noguchi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/100770/canstock6553672_288.png","web_url":"https://gitlab.com/tnir"},"type":"ISSUE","assignee":{"id":100770,"username":"tnir","name":"Takuya Noguchi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/100770/canstock6553672_288.png","web_url":"https://gitlab.com/tnir"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2021-05-24","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/331348","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/331348","notes":"https://gitlab.com/api/v4/projects/278964/issues/331348/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/331348/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#331348","relative":"#331348","full":"gitlab-org/gitlab#331348"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":87319830,"iid":331337,"project_id":278964,"title":"Rename TRIVY_DEBUG to CS_DEBUG","description":"\u003c!--\nImplementation issues are used break-up a large piece of work into small, discrete tasks that can\nmove independently through the build workflow steps. They're typically used to populate a Feature\nEpic. Once created, an implementation issue is usually refined in order to populate and review the\nimplementation plan and weight.\nExample workflow: https://about.gitlab.com/handbook/engineering/development/threat-management/planning/diagram.html#plan\n--\u003e\n\n## Why are we doing this work\n\nWe want to avoid scanner-specific variables in our [documentation](https://docs.gitlab.com/ee/user/application_security/container_scanning/#available-variables).\n\nAs often as possible, we want to abstract the underlying scanner's variables under a `CS_` name so that:\n1. The same variable can work for any scanner in the container scanning analyzer\n1. Users don't get the impression that it's safe to use any scanner-specific variables\n\nAs this is a breaking change, we want to do it in %14.0.\n\n\n\u003c!--\nA brief explanation of the why, not the what or how. Assume the reader doesn't know the\nbackground and won't have time to dig-up information from comment threads.\n--\u003e\n\n\n## Relevant links\n\u003c!--\nInformation that the developer might need to refer to when implementing the issue.\n\n- [Design Issue](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e)\n  - [Design 1](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e/designs/\u003cimage\u003e.png)\n  - [Design 2](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e/designs/\u003cimage\u003e.png)\n- [Similar implementation](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/\u003cid\u003e)\n--\u003e\n\n\n## Non-functional requirements\n\u003c!--\nAdd details for required items and delete others.\n--\u003e\n\n- [ ] Documentation:\n- [ ] Feature flag:\n- [ ] Performance:\n- [ ] Testing:\n\n\n## Implementation plan\n\n1. [ ] Rename `TRIVY_DEBUG`\n   1. [ ] In `gcs`\n   1. [ ] In the docs\n\n\u003c!--\nSteps and the parts of the code that will need to get updated. The plan can also\ncall-out responsibilities for other team members or teams.\n\ne.g.:\n\n- [ ] ~3412464 Step 1\n- [ ] ~3412464 Step 2\n\n--\u003e\n\n\n\u003c!--\nWorkflow and other relevant labels\n\n# ~\"group::\" ~\"Category:\" ~3207279\nOther settings you might want to include when creating the issue.\n\n# /assign @\n# /epic \u0026\n--\u003e","state":"closed","created_at":"2021-05-19T01:54:48.988Z","updated_at":"2021-05-28T05:41:39.102Z","closed_at":"2021-05-28T05:41:39.084Z","closed_by":{"id":5721376,"username":"minac","name":"Mehmet Emin INAC","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d8bdee790902422e3554e411a173c7c0?s=80\u0026d=identicon","web_url":"https://gitlab.com/minac"},"labels":["Category:Container Scanning","backend","devops::govern","feature::enhancement","group::security policies","section::sec","type::feature","workflow::in review"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":5721376,"username":"minac","name":"Mehmet Emin INAC","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d8bdee790902422e3554e411a173c7c0?s=80\u0026d=identicon","web_url":"https://gitlab.com/minac"}],"author":{"id":480804,"username":"thiagocsf","name":"Thiago FigueirÃ³","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/480804/avatar.png","web_url":"https://gitlab.com/thiagocsf"},"type":"ISSUE","assignee":{"id":5721376,"username":"minac","name":"Mehmet Emin INAC","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d8bdee790902422e3554e411a173c7c0?s=80\u0026d=identicon","web_url":"https://gitlab.com/minac"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/331337","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":9,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 9 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/331337","notes":"https://gitlab.com/api/v4/projects/278964/issues/331337/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/331337/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#331337","relative":"#331337","full":"gitlab-org/gitlab#331337"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5462,"epic":{"id":213052,"iid":5462,"title":"Follow-on Improvements to Trivy Integration","url":"/groups/gitlab-org/-/epics/5462","group_id":9970,"human_readable_end_date":"Jul 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":87318561,"iid":331336,"project_id":278964,"title":"Rearrange the subgroup menu items in the Security \u0026 Compliance to confirm to Pajamas pattern","description":"\u003c!-- This template is a great use for issues that are feature::additions or technical tasks for larger issues.--\u003e\n\n### Proposal \n\nThe order of the subgroup menu items for `Security \u0026 Compliance` should match the visual order of the menu. The default active item should be the first sub nav group item ([Pajamas](https://design.gitlab.com/regions/navigation#sub-nav-group)).\n\n\u003e the `Security \u0026 Compliance` menu. This menu points to the `Dashboard` first whether it exists, then to the `Audit Events`, then to `Dependencies`, and then to the first menu item. But there are more examples, like the `Operations` menu which also can point to different menu items (and not necessarily the first), or the `Analytics` menu as you commented.\n\nSource: https://gitlab.com/gitlab-org/gitlab/-/issues/323428#note_566556890\n\nTo achieve this the subgroup menu `Security \u0026 Compliance` should follow the proposed visual \u0026 menu selection order:\n\n| Licensed features available | Licensed features NOT available |\n| ------ | ------ |\n| Security Dashboard | Discover |\n| Vulnerability Report | Audit Events |\n| On-demand Scans | Configuration |\n| Dependency List | |\n| License Compliance | |\n| Threat Monitoring | |\n| Audit Events | |\n| Configuration | |\n\n\u003cdetails\u003e\u003csummary\u003eExisting visual \u0026 menu selection order\u003c/summary\u003e\n\n| Current visual order | Current menu selection order |\n| ------ | ------ |\n| Security Dashboard | Security Dashboard |\n| Vulnerability Report| Audit Events |\n| On-demand Scans| Dependency List |\n| Dependency List| Vulnerability Report |\n| License Compliance| On-demand Scans |\n| Threat Monitoring| License Compliance |\n| Configuration | Threat Monitoring |\n| Audit Events | Configuration |\n\n\u003c/details\u003e","state":"closed","created_at":"2021-05-19T01:03:32.737Z","updated_at":"2021-06-10T00:46:43.035Z","closed_at":"2021-06-04T05:35:48.483Z","closed_by":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier LÃ³pez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"labels":["Category:Navigation \u0026 Settings","SUS::Impacting","Secure UX::Shared","UX","automation:ml","automation:ml wrong","devops::secure","frontend","group::static analysis","section::sec"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":955795,"username":"fjsanpedro","name":"Francisco Javier LÃ³pez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"}],"author":{"id":2338505,"username":"mle","name":"Michael Le","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2338505/avatar.png","web_url":"https://gitlab.com/mle"},"type":"ISSUE","assignee":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier LÃ³pez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"user_notes_count":42,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/331336","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/331336","notes":"https://gitlab.com/api/v4/projects/278964/issues/331336/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/331336/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#331336","relative":"#331336","full":"gitlab-org/gitlab#331336"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5647,"epic":{"id":229847,"iid":5647,"title":"Create:Editor -- 13.11 - 14.0 -- Update Left Sidebar","url":"/groups/gitlab-org/-/epics/5647","group_id":9970,"human_readable_end_date":"Jul 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":87316905,"iid":331329,"project_id":278964,"title":"GET /api/:version/repos/:namespace/:project/branches causes many Gitaly errors: Gitlab::Git::Repository::NoRepository","description":"https://sentry.gitlab.net/gitlab/gitlabcom/issues/2606264/?referrer=gitlab_plugin\n\n```\nGRPC::NotFound: 5:GetRepoPath: not a git repository: \"/var/opt/gitlab/git-data/repositories/@hashed/[redacted].git\".\n  grpc/generic/active_call.rb:29:in `check_status'\n    fail GRPC::BadStatus.new_status_exception(\n  grpc/generic/active_call.rb:180:in `attach_status_results_and_complete_call'\n    recv_status_batch_result.check_status\n  grpc/generic/active_call.rb:169:in `receive_and_check_status'\n    attach_status_results_and_complete_call(batch_result)\n  grpc/generic/active_call.rb:337:in `each_remote_read_then_finish'\n    receive_and_check_status\n\nGitlab::Git::Repository::NoRepository: 5:GetRepoPath: not a git repository: \"/var/opt/gitlab/git-data/repositories/@hashed/[redacted].git\".\n  gitlab/git/wraps_gitaly_errors.rb:9:in `rescue in wrapped_gitaly_errors'\n    raise Gitlab::Git::Repository::NoRepository, e\n  gitlab/git/wraps_gitaly_errors.rb:6:in `wrapped_gitaly_errors'\n    def wrapped_gitaly_errors(\u0026block)\n  gitlab/git/repository.rb:131:in `local_branches'\n    wrapped_gitaly_errors do\n  repository.rb:770:in `local_branches'\n    @local_branches ||= raw_repository.local_branches\n  gitlab/metrics/instrumentation.rb:160:in `block in branches'\n    .measure { super }\n...\n(149 additional frame(s) were not displayed)\n```","state":"closed","created_at":"2021-05-18T23:39:38.220Z","updated_at":"2022-11-22T19:41:23.111Z","closed_at":"2021-08-06T00:23:23.180Z","closed_by":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"labels":["Stretch","backend","devops::manage","group::ecosystem [DEPRECATED]","section::dev","severity::3","type::bug","workflow::verification"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"}],"author":{"id":402401,"username":"jobbot","name":"Bot","state":"active","avatar_url":"https://secure.gravatar.com/avatar/aaa6738f1ebf25404010884af511b0e7?s=80\u0026d=identicon","web_url":"https://gitlab.com/jobbot"},"type":"ISSUE","assignee":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"user_notes_count":14,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/331329","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/331329","notes":"https://gitlab.com/api/v4/projects/278964/issues/331329/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/331329/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#331329","relative":"#331329","full":"gitlab-org/gitlab#331329"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6913,"epic":{"id":370101,"iid":6913,"title":"Integrations Error Budgets","url":"/groups/gitlab-org/-/epics/6913","group_id":9970},"iteration":null,"health_status":null},{"id":87316256,"iid":331327,"project_id":278964,"title":"FE: Update the `Status` column in the Policy table to be a checkbox","description":"## Why are we doing this work\n- Users want to easily see if a policy is enabled or not visually\n\n## Relevant links\nDesign: https://gitlab.com/groups/gitlab-org/-/uploads/7e0dd6a4bfff1a85672bcf58ecb86d0c/policies-states.png\n\n## Non-functional requirements\n- [-] Documentation\n  - [-] Update screenshots if needed.\n- [x] Testing\n  - [x] Renders correct icon and tooltip for enabled policies.\n  - [x] Does not render anything for disabled policies.\n\n## Implementation plan\n- [x] ~frontend update the `status` column in https://gitlab.com/gitlab-org/gitlab/-/blob/master/ee/app/assets/javascripts/threat_monitoring/components/network_policy_list.vue to match designs\n  - [x] It should be the table's left-most column.\n  - [x] It should not have a label.\n  - [x] Enabled policies should have a checkmark icon and a tooltip stating `Enabled`.\n  - [x] The cell should be left empty for disabled policies.","state":"closed","created_at":"2021-05-18T23:19:07.307Z","updated_at":"2021-06-30T22:51:28.979Z","closed_at":"2021-06-30T22:44:24.784Z","closed_by":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"labels":["devops::govern","frontend","frontend-weight::2","group::security policies","section::sec","workflow::in review"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"}],"author":{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"},"type":"ISSUE","assignee":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/331327","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":8,"completed_count":8},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"8 of 8 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/331327","notes":"https://gitlab.com/api/v4/projects/278964/issues/331327/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/331327/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#331327","relative":"#331327","full":"gitlab-org/gitlab#331327"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5362,"epic":{"id":198770,"iid":5362,"title":"Allow Users to Edit yaml-mode Scan Execution Policies in the Policy UI","url":"/groups/gitlab-org/-/epics/5362","group_id":9970,"human_readable_end_date":"Sep 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":87316142,"iid":331326,"project_id":278964,"title":"GET /api/:version/repos/:namespace/:project/commits/:sha frequent Gitaly timeouts with GRPC::DeadlineExceeded: 4:Deadline Exceeded.","description":"We see frequent Gitaly timeouts during Jira integration syncs. \n\nThe timeout happens in the Gitaly `CommitDiff` RPC call. Affected URIs will look like `api/v3/repos/...`. \n\n\nhttps://sentry.gitlab.net/gitlab/gitlabcom/issues/2646494/\n\n```\nGRPC::DeadlineExceeded: 4:Deadline Exceeded.\n  grpc/generic/active_call.rb:29:in `check_status'\n    fail GRPC::BadStatus.new_status_exception(\n  grpc/generic/active_call.rb:180:in `attach_status_results_and_complete_call'\n    recv_status_batch_result.check_status\n  grpc/generic/active_call.rb:169:in `receive_and_check_status'\n    attach_status_results_and_complete_call(batch_result)\n  grpc/generic/active_call.rb:337:in `each_remote_read_then_finish'\n    receive_and_check_status\n```","state":"closed","created_at":"2021-05-18T23:11:42.265Z","updated_at":"2022-11-22T19:41:23.684Z","closed_at":"2021-11-17T01:15:50.047Z","closed_by":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"labels":["Category:API","Deliverable","backend","bug::performance","customer","devops::manage","group::integrations","missed-deliverable","missed:14.2","priority::3","reliability","section::dev","severity::3","type::bug","workflow::verification"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"}],"author":{"id":402401,"username":"jobbot","name":"Bot","state":"active","avatar_url":"https://secure.gravatar.com/avatar/aaa6738f1ebf25404010884af511b0e7?s=80\u0026d=identicon","web_url":"https://gitlab.com/jobbot"},"type":"ISSUE","assignee":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"user_notes_count":43,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/331326","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/331326","notes":"https://gitlab.com/api/v4/projects/278964/issues/331326/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/331326/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#331326","relative":"#331326","full":"gitlab-org/gitlab#331326"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6913,"epic":{"id":370101,"iid":6913,"title":"Integrations Error Budgets","url":"/groups/gitlab-org/-/epics/6913","group_id":9970},"iteration":null,"health_status":null},{"id":87314388,"iid":331321,"project_id":278964,"title":"Replace alert details assignee sidebar component with the `sidebar_assignees_widget`","description":"## History\n\n- As part of the creation of the [Threat Monitoring Alert page](https://gitlab.com/groups/gitlab-org/-/epics/5041), I created a sidebar that allowed the user to [assignee users to an alert](https://gitlab.com/gitlab-org/gitlab/-/issues/331010), exactly like in the alert details page. \n- When looking to reuse the [sidebar assignee component built by the monitor team](https://gitlab.com/gitlab-org/gitlab/blob/master/app/assets/javascripts/vue_shared/alert_details/components/sidebar/sidebar_assignees.vue), I found [an assignee widget](https://gitlab.com/gitlab-org/gitlab/blob/master/app/assets/javascripts/sidebar/components/assignees/sidebar_assignees_widget.vue) had been built to be used for issues, MRs, and epics, which [works great for alerts as well](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/61839).\n\n![Screen_Shot_2021-05-18_at_3.31.19_PM](/uploads/f845bd37f4027cdd6545444121629113/Screen_Shot_2021-05-18_at_3.31.19_PM.png)\n\n## Motivation\n- Moving the alert details sidebar to use the GitLab standard `sidebar_assignee_widget` will reduce dev time necessary to maintain the currently used `sidebar_assignees` component if any bugs arise or any changes occur on a GitLab-level styling\n\n## Implementation\n- [ ] follow https://gitlab.com/gitlab-org/gitlab/-/merge_requests/61839 in swapping out the component\n- [ ] delete the [sidebar assignee component](https://gitlab.com/gitlab-org/gitlab/blob/master/app/assets/javascripts/vue_shared/alert_details/components/sidebar/sidebar_assignees.vue) and any children\n- [ ] delete the component-specific graphql queries created in https://gitlab.com/gitlab-org/gitlab/-/merge_requests/61839\n- [ ] delete any related tests\n- [ ] remove `assignees` from the [alert fragment](https://gitlab.com/gitlab-org/gitlab/blob/master/app/assets/javascripts/graphql_shared/fragments/alert.fragment.graphql) and add it to the [get_alerts query](https://gitlab.com/gitlab-org/gitlab/blob/master/app/assets/javascripts/graphql_shared/queries/get_alerts.query.graphql)","state":"closed","created_at":"2021-05-18T21:47:18.043Z","updated_at":"2022-09-20T04:43:25.239Z","closed_at":"2022-09-20T04:43:25.220Z","closed_by":{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"},"labels":["[deprecated] Accepting merge requests","devops::govern","frontend","frontend-weight::3","group::security policies","section::ops"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"},"type":"ISSUE","assignee":null,"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/331321","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":5,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 5 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/331321","notes":"https://gitlab.com/api/v4/projects/278964/issues/331321/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/331321/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#331321","relative":"#331321","full":"gitlab-org/gitlab#331321"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":87314238,"iid":331320,"project_id":278964,"title":"[UX] Allow customers to make change to the subscription before auto-renewal occurs (SaaS)","description":"### Problem\n\nFor customers who are on auto-renew, we will remove the ability to renew subscription manually. This will create a gap in the experience for users that would like to make a change to the number of seats or tier, to take effect on renewal day.\n\nCustomers who are not on auto-renew will still have the ability to manually renew 15 days prior to the end of their subscription term. https://gitlab.com/gitlab-org/gitlab/-/issues/342971\n\nFor SaaS - we currently will auto-renew you based on Billable users, which can be lower or higher than what you purchased. Customer might want predictability at renewal so they would want to specify # of seats to renew at.\n\nHere's a [ticket](https://gitlab.zendesk.com/agent/tickets/249674) that shows the need for this functionality.\n\n### Proposal\n\n30 days before the renewal date:\n1. Allow customer to upgrade Plan tier\n1. Allow customer to increase number of users higher than number of active users\n1. Allow customer to increase or decrease amount of storage subscription (iterative approach)\n   1. MVC iteration (which is exactly what we're doing today) - do not allow editing of the storage section and they would automatically renew for exactly the storage they had last year.\n   1. Add an info banner to let them know they need to check their Storage usage before changing this, with a link to storage usage page.\n   1. Final: Check storage usage and make the quantity selector intelligent.\n1. Allow customer to update billing address and payment method\n1. No payment will be taken when the customer manages their autorenewal, payment will process on the autorenewal date\n\n**Note:** Customers can cancel autorenew up until 30 days from subscription renewal date. Once 30 days is passed, we will allow them to start making modifications to their autorenew.\n\n### Design\n\n**Important note:** This issue only covers the management of the autorenewal. The subscriptions \u0026 purchases page (which is where the customer will enter the manage autorenewal flow) will be handled in a [separate issue](https://gitlab.com/gitlab-org/gitlab/-/issues/333823). The subscriptions \u0026 purchases page that you'll see at the beginning of the flow is a wireframe for placeholder purposes only.\n\n- :clapper: [Walkthrough video](https://www.loom.com/share/2659c7bd0a81454aa60ba765e985554e)\n- :mouse2: [Clickable prototype](https://www.figma.com/proto/Ql1Cqokfkq5b9bjUAra54F/Subscription-management-in-GitLab.com?page-id=607%3A1998\u0026node-id=727%3A3200\u0026viewport=501%2C48%2C0.13\u0026scaling=min-zoom\u0026starting-point-node-id=727%3A3200)\n- :eyes: See design section for detailed screens and use cases not covered in the video/prototype\n\n### Next steps\n\n[Solution validation issue](https://gitlab.com/gitlab-org/gitlab/-/issues/342972)","state":"closed","created_at":"2021-05-18T21:39:31.174Z","updated_at":"2021-12-03T13:41:58.002Z","closed_at":"2021-10-22T21:44:39.301Z","closed_by":{"id":4377833,"username":"esybrant","name":"Emily Sybrant","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4377833/avatar.png","web_url":"https://gitlab.com/esybrant"},"labels":["Category:Purchase","Technical Writing","UI text","UX","customer","devops::fulfillment","group::purchase","missed:14.4","section::fulfillment","workflow::design"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":4377833,"username":"esybrant","name":"Emily Sybrant","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4377833/avatar.png","web_url":"https://gitlab.com/esybrant"}],"author":{"id":4377833,"username":"esybrant","name":"Emily Sybrant","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4377833/avatar.png","web_url":"https://gitlab.com/esybrant"},"type":"ISSUE","assignee":{"id":4377833,"username":"esybrant","name":"Emily Sybrant","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4377833/avatar.png","web_url":"https://gitlab.com/esybrant"},"user_notes_count":9,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/331320","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":1,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/331320","notes":"https://gitlab.com/api/v4/projects/278964/issues/331320/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/331320/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#331320","relative":"#331320","full":"gitlab-org/gitlab#331320"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6970,"epic":{"id":374918,"iid":6970,"title":"Allow customers to change subscription before auto-renewal","url":"/groups/gitlab-org/-/epics/6970","group_id":9970,"human_readable_end_date":"Nov 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":87311385,"iid":331315,"project_id":278964,"title":"GithubImporter: Optimize Pull Request Review Importer","description":"## Problem\n\nThe Github API does not provide a way to fetch all the pull requests reviews of a project (repo), like it provides for comments, instead we have to fetch the reviews by Pull Request.\n\nFor this reason, the `Gitlab::GithubImport::Importer::PullRequestsReviewsImporter`Â¹ have to iterate over the imported pull requests and for each one do request the reviews, which might be more than one page. \n\nIf the importer hits a rate limit, the process restarts, and the imported pull requests are skippedÂ², but the importer goes over all the review pages again.\n\nIn other words, for some projects with large number of pull requests and large number of reviews per pull request, we might end up with duplicated reviews and unnecessary API requests, which would lead to longer importing times.\n\n## Proposed solution\n\n- To avoid duplicated comments, besides caching the Pull Requests ids, also cache the review ids and skip the already processed ones.\n- To avoid unnecessary API requests, use the `PageCounter` to only request pages that weren't yet imported.\n\n### Reference\n1. https://gitlab.com/gitlab-org/gitlab/-/merge_requests/48632 - First version of the Pull Requests reviews importer\n1. https://gitlab.com/gitlab-org/gitlab/-/merge_requests/60668 - Skip already imported Pull Requests reviews\n1. Related to: https://gitlab.com/gitlab-org/gitlab/-/issues/330783","state":"closed","created_at":"2021-05-18T20:40:12.719Z","updated_at":"2021-06-14T13:58:07.983Z","closed_at":"2021-06-14T13:58:07.645Z","closed_by":{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"},"labels":["Category:Importers","Importer:GitHub","Next Up","Unplanned","backend","devops::manage","feature::enhancement","group::import","section::dev","type::feature","workflow::production"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"}],"author":{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"},"type":"ISSUE","assignee":{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/331315","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/331315","notes":"https://gitlab.com/api/v4/projects/278964/issues/331315/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/331315/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#331315","relative":"#331315","full":"gitlab-org/gitlab#331315"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3051,"epic":{"id":39431,"iid":3051,"title":"ðŸ’¡ GitHub Importer improvements","url":"/groups/gitlab-org/-/epics/3051","group_id":9970},"iteration":null,"health_status":null},{"id":87311211,"iid":331314,"project_id":278964,"title":"On-Demand DAST Site Profile - hover/click issues on Edit button","description":"Before raising an issue to the GitLab issue tracker, please read through our guide for finding help to determine the best place to post:\n\n* https://about.gitlab.com/getting-help/\n\nIf you are experiencing an issue when using GitLab.com, your first port of call should be the Community Forum. Your issue may have already been reported there by another user. Please check:\n\n* https://forum.gitlab.com/\n\nIf you feel that your issue can be categorized as a reproducible bug or a feature proposal, please use one of the issue templates provided and include as much information as possible.\n\nThank you for helping to make GitLab a better product.\n\n___\n\n### Bug Demonstration\n\n![DAST_on-demand_bug](/uploads/e6cfd101690cb61a355186530e1bbf69/DAST_on-demand_bug.mp4)\n\n### Steps to Reproduce\n\n1. From a project ([sample project](https://gitlab.com/gitlab-examples/security/security-reports/-/on_demand_scans/new)), navigate to the `On-demand Scans` page under the `Security \u0026 Compliance` menu\n1. Select an existing site profile (or create one if it doesn't already exist)\n1. Hover on the center of the `Edit profile` button\n1. Click on the center of the `Edit profile` button\n\n**Expected Results:**\n- Tool-tip should appear when hovering anywhere on the button\n- When clicking anywhere on the button, the user is taken to the `Edit Site Profile` page\n\n**Actual Results:**\n- Only the outer few pixels of the button can be hovered or clicked. Doing either on the center of the button (icon area) produces no results","state":"closed","created_at":"2021-05-18T20:38:30.740Z","updated_at":"2021-05-20T03:33:42.968Z","closed_at":"2021-05-20T02:42:09.450Z","closed_by":{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"},"labels":["Category:DAST","devops::secure","frontend","group::dynamic analysis","priority::1","section::sec","severity::2","type::bug","workflow::production"],"milestone":{"id":1233762,"iid":58,"group_id":9970,"title":"13.12","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.948Z","updated_at":"2022-04-21T07:22:18.898Z","due_date":"2021-05-17","start_date":"2021-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/58"},"assignees":[{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"}],"author":{"id":8655314,"username":"mfangman","name":"Michael Fangman","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8655314/avatar.png","web_url":"https://gitlab.com/mfangman"},"type":"ISSUE","assignee":{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/331314","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/331314","notes":"https://gitlab.com/api/v4/projects/278964/issues/331314/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/331314/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#331314","relative":"#331314","full":"gitlab-org/gitlab#331314"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":87302250,"iid":331297,"project_id":278964,"title":"Missing pagination headers for Branches endpoint","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\nThe Link, X-Next-Page, X-Page, X-Per-Page, X-Prev-Page, X-Total, and X-Total-Pages pagination headers are intermittently missing in responses from the repository/branches endpoint for repositories with more than 20 branches. Sometimes responses have the headers, sometimes they do not.\n\nThis breaks clients that use those headers to know if they need to make multiple requests to get the entire branch list.\n\n\u003c!-- Summarize the bug encountered concisely. --\u003e\n\n### Steps to reproduce\n\n\u003c!-- Describe how one can reproduce the issue - this is very important. Please use an ordered list. --\u003e\n1. Call \"https://gitlab.com/api/v4/projects/278964/repository/branches\" endpoint (or any other repository with more than 20 branches) multiple times.\n2. Some responses will have the pagination headers, some will not.\n\n### Example Project\n\n\u003c!-- If possible, please create an example project here on GitLab.com that exhibits the problematic \nbehaviour, and link to it here in the bug report. If you are using an older version of GitLab, this \nwill also determine whether the bug is fixed in a more recent version. --\u003e\n\nhttps://gitlab.com/gitlab-org/gitlab\n\nhttps://gitlab.com/api/v4/projects/278964/repository/branches\n\n### What is the current *bug* behavior?\n\n\u003c!-- Describe what actually happens. --\u003e\nThe pagination headers are missing from some responses.\n\n### What is the expected *correct* behavior?\nFor requests that require pagination, the pagination headers should always be returned so the client knows to make additional requests.\n\n\u003c!-- Describe what you should see instead. --\u003e\n\n### Relevant logs and/or screenshots\n\n\u003c!-- Paste any relevant logs - please use code blocks (```) to format console output, logs, and code\n as it's tough to read otherwise. --\u003e\n\nRequest:\n```\nGET /api/v4/projects/278964/repository/branches HTTP/1.1\nPrivate-Token: [REDACTED]\nHost: gitlab.com\nConnection: close\n```\n\nCorrect response headers:\n```\nHTTP/1.1 200 OK\nDate: Tue, 18 May 2021 17:39:40 GMT\nContent-Type: application/json\nTransfer-Encoding: chunked\nConnection: close\nVary: Accept-Encoding\nCache-Control: max-age=0, private, must-revalidate\nEtag: W/\"010523fe711f4b29ddb444429dfacc7e\"\nLink: \u003chttps://gitlab.com/api/v4/projects/278964/repository/branches?id=278964\u0026page=2\u0026per_page=20\u003e; rel=\"next\", \u003chttps://gitlab.com/api/v4/projects/278964/repository/branches?id=278964\u0026page=1\u0026per_page=20\u003e; rel=\"first\", \u003chttps://gitlab.com/api/v4/projects/278964/repository/branches?id=278964\u0026page=369\u0026per_page=20\u003e; rel=\"last\"\nVary: Origin\nX-Content-Type-Options: nosniff\nX-Frame-Options: SAMEORIGIN\nX-Gitlab-Feature-Category: source_code_management\nX-Next-Page: 2\nX-Page: 1\nX-Per-Page: 20\nX-Prev-Page: \nX-Request-Id: 01F608ZMNY34QPBVPMV9WKYH1Z\nX-Runtime: 0.652903\nX-Total: 7374\nX-Total-Pages: 369\nStrict-Transport-Security: max-age=31536000\nReferrer-Policy: strict-origin-when-cross-origin\nRateLimit-Observed: 1\nRateLimit-Remaining: 1999\nRateLimit-Reset: 1621359640\nRateLimit-ResetTime: Tue, 18 May 2021 17:40:40 GMT\nRateLimit-Limit: 2000\nGitLab-LB: fe-10-lb-gprd\nGitLab-SV: localhost\nCF-Cache-Status: DYNAMIC\ncf-request-id: 0a2228ea75000061dcf882e000000001\nExpect-CT: max-age=604800, report-uri=\"https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct\"\nServer: cloudflare\nCF-RAY: 6516ddbd8bd361dc-YVR\n```\n\nIncorrect response headers:\n```\nHTTP/1.1 200 OK\nDate: Tue, 18 May 2021 17:39:46 GMT\nContent-Type: application/json\nTransfer-Encoding: chunked\nConnection: close\nVary: Accept-Encoding\nCache-Control: max-age=0, private, must-revalidate\nEtag: W/\"010523fe711f4b29ddb444429dfacc7e\"\nVary: Origin\nX-Content-Type-Options: nosniff\nX-Frame-Options: SAMEORIGIN\nX-Gitlab-Feature-Category: source_code_management\nX-Request-Id: 01F608ZTSVBQJ7KGPK4WGMQEFX\nX-Runtime: 0.043717\nStrict-Transport-Security: max-age=31536000\nReferrer-Policy: strict-origin-when-cross-origin\nRateLimit-Observed: 2\nRateLimit-Remaining: 1998\nRateLimit-Reset: 1621359646\nRateLimit-ResetTime: Tue, 18 May 2021 17:40:46 GMT\nRateLimit-Limit: 2000\nGitLab-LB: fe-11-lb-gprd\nGitLab-SV: localhost\nCF-Cache-Status: DYNAMIC\ncf-request-id: 0a222902f0000061dd7a344000000001\nExpect-CT: max-age=604800, report-uri=\"https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct\"\nServer: cloudflare\nCF-RAY: 6516dde4b9ae61dd-YVR\n```\n\n### Output of checks\n\n\u003c!-- If you are reporting a bug on GitLab.com, write: This bug happens on GitLab.com --\u003e\nThis bug happens on GitLab.com\n\n#### Results of GitLab environment info\n\n\u003c!--  Input any relevant GitLab environment information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to GitLab environment info\u003c/summary\u003e\n\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:env:info`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:env:info RAILS_ENV=production`)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n#### Results of GitLab application Check\n\n\u003c!--  Input any relevant GitLab application check information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to the GitLab application check\u003c/summary\u003e\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:check SANITIZE=true`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:check RAILS_ENV=production SANITIZE=true`)\n\n(we will only investigate if the tests are passing)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n### Possible fixes\n\n\u003c!-- If you can, link to the line of code that might be responsible for the problem. --\u003e","state":"closed","created_at":"2021-05-18T17:53:49.628Z","updated_at":"2021-08-16T10:52:14.822Z","closed_at":"2021-07-06T09:23:08.728Z","closed_by":{"id":421631,"username":"vyaklushin","name":"Vasilii Iakliushin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/421631/avatar.png","web_url":"https://gitlab.com/vyaklushin"},"labels":["Category:Source Code Management","Deliverable","api","backend","customer","devops::create","group::source code","needs investigation","priority::2","section::dev","severity::2","spike","type::bug","workflow::verification"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":421631,"username":"vyaklushin","name":"Vasilii Iakliushin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/421631/avatar.png","web_url":"https://gitlab.com/vyaklushin"}],"author":{"id":42592,"username":"tylerherman","name":"Tyler Herman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/bc402c1843749f7c4ab2e5d377b3a3f8?s=80\u0026d=identicon","web_url":"https://gitlab.com/tylerherman"},"type":"ISSUE","assignee":{"id":421631,"username":"vyaklushin","name":"Vasilii Iakliushin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/421631/avatar.png","web_url":"https://gitlab.com/vyaklushin"},"user_notes_count":18,"merge_requests_count":0,"upvotes":7,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/331297","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/331297","notes":"https://gitlab.com/api/v4/projects/278964/issues/331297/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/331297/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#331297","relative":"#331297","full":"gitlab-org/gitlab#331297"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":87301015,"iid":331295,"project_id":278964,"title":"Describe vertical shards migrations in a way that we can populate vertical and main at the same time","description":"## Problem\n\nOnce we enable feature slices for very long time we will have to migrate manage many schemas at the same time in two styles:\n\n1. Style 1: A single monolithic database containing all tables\n2. Style 2: A main database, and a number of smaller logical databases. Each of them having its own schema.\n\nHow we could describe Style 1, re-using definitions of Style 2 and ensure that they are consistently migrated?\n\n## Proposal\n\nWould it be defined as this?\n\n```yaml\nproduction:\n  main_primary:\n    migrations_paths: [db/migrate, db/post_migrate, db/archive_migrate, db/archive_post_migrate]\n  archive_primary:\n    migrations_paths: [db/archive_migrate, db/archive_post_migrate]\n```\n\nWhat it does mean?\n\n1. For schema `main_primary` we run migrations of all other databases\n2. For other schemas we run only they specific ones","state":"closed","created_at":"2021-05-18T17:39:58.204Z","updated_at":"2021-06-22T21:24:09.265Z","closed_at":"2021-06-22T21:24:09.253Z","closed_by":{"id":2535118,"username":"tkuah","name":"Thong Kuah","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f7b51bdd49a4914d29504d7ff4c3f7b9?s=80\u0026d=identicon","web_url":"https://gitlab.com/tkuah"},"labels":["auto updated"],"milestone":null,"assignees":[],"author":{"id":12452,"username":"ayufan","name":"Kamil TrzciÅ„ski","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a285e30f35d72526fb0954e8fe7cefa?s=80\u0026d=identicon","web_url":"https://gitlab.com/ayufan"},"type":"ISSUE","assignee":null,"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/331295","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/331295","notes":"https://gitlab.com/api/v4/projects/278964/issues/331295/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/331295/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#331295","relative":"#331295","full":"gitlab-org/gitlab#331295"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6103,"epic":{"id":281355,"iid":6103,"title":"Decomposition: Support for many databases","url":"/groups/gitlab-org/-/epics/6103","group_id":9970,"human_readable_end_date":"Sep 16, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":87296025,"iid":331291,"project_id":278964,"title":"[DevOps Adoption] Restore \"previous calendar month\" perspective","description":"## Problem to solve\n\nDevOps Adoption was [originally introduced](https://gitlab.com/gitlab-org/gitlab/-/issues/247130) with a perspective of \"previous calendar month\".  At the beginning of each month, the data was processed for the whole previous month.  However, at the end of the month the data could feel stale so under https://gitlab.com/gitlab-org/gitlab/-/issues/289856 we modified DevOps Adoption to have a perspective of \"current calendar month\".  Now, however, at the beginning of the month the data could feel misleading (because it might only look at a few days of activity).  Under https://gitlab.com/gitlab-org/gitlab/-/issues/329708 we discussed changing to a perspective of \"past 30 days\" which would be updated daily.  But that would be relatively complex, so [we decided to revert](https://gitlab.com/gitlab-org/gitlab/-/issues/329708#note_576030567) to a perspective of \"previous calendar month\".\n\n## Proposal\n\nDevOps Adoption (both instance-level and group-level) should display data from the previous calendar month.  This data should be generated at the beginning of each new calendar month.\n\n## Tech details\n\n* Provide an ability to query snapshots for months in a range, so we can query for \"previous\" month.\n* Adjust cron job to be executed once per month","state":"closed","created_at":"2021-05-18T16:25:26.166Z","updated_at":"2021-06-14T17:48:44.937Z","closed_at":"2021-06-14T14:10:54.097Z","closed_by":{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"},"labels":["backend","devops::manage","feature::enhancement","group::optimize","section::dev","type::feature"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"}],"author":{"id":4512390,"username":"djensen","name":"Dan Jensen","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4512390/avatar.png","web_url":"https://gitlab.com/djensen"},"type":"ISSUE","assignee":{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"},"user_notes_count":16,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/331291","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/331291","notes":"https://gitlab.com/api/v4/projects/278964/issues/331291/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/331291/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#331291","relative":"#331291","full":"gitlab-org/gitlab#331291"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":87290301,"iid":331285,"project_id":278964,"title":"Add support for creating multiple files in bulk to metric definitions generator","description":"[`Gitlab::UsageMetricDefinitionGenerator`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/generators/gitlab/usage_metric_definition_generator.rb) currently allows only for generation of one metric definition YAML file at a time. This can be slow and frustrating when multiple files have to be generated by a developer.\n\n### Proposal \n\nAllow passing multiple key path arguments to the generator to generate multiple metric definitions at the same time, e.g.:\n```plaintext\nbundle exec rails g gitlab:usage_metric_definition \u003ckey_path_1\u003e \u003ckey_path_2\u003e \u003ckey_path_3\u003e --dir 7d\n```\nThis would result in generating three metric definitions with different key paths in the correct folder for the weekly time frame.","state":"closed","created_at":"2021-05-18T14:56:49.436Z","updated_at":"2022-05-05T18:23:54.588Z","closed_at":"2021-11-19T10:33:52.137Z","closed_by":{"id":3509693,"username":"nicolasdular","name":"Nicolas Dular","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c4a21f15150c12ddf13fd848597cddd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/nicolasdular"},"labels":["backend","devops::growth","group::product intelligence","maintenance::workflow","section::growth","type::maintenance","workflow::in review"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[{"id":9712164,"username":"nbelokolodov","name":"Niko Belokolodov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9712164/avatar.png","web_url":"https://gitlab.com/nbelokolodov"}],"author":{"id":8013274,"username":"pskorupa","name":"Piotr Skorupa","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8013274/avatar.png","web_url":"https://gitlab.com/pskorupa"},"type":"ISSUE","assignee":{"id":9712164,"username":"nbelokolodov","name":"Niko Belokolodov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9712164/avatar.png","web_url":"https://gitlab.com/nbelokolodov"},"user_notes_count":13,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/331285","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/331285","notes":"https://gitlab.com/api/v4/projects/278964/issues/331285/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/331285/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#331285","relative":"#331285","full":"gitlab-org/gitlab#331285"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5279,"epic":{"id":189497,"iid":5279,"title":"Service Ping 2.0 Enhancements","url":"/groups/gitlab-org/-/epics/5279","group_id":9970,"human_readable_end_date":"Jul 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":87290180,"iid":331277,"project_id":278964,"title":"Enable `assumeImmutableResults` in ee/app/assets/javascripts/security_configuration/dast_scanner_profiles/graphql/provider.js","description":"- [ ] Set `assumeImmutableResults` to `true` in the Apollo provider that's instantiated in ee/app/assets/javascripts/security_configuration/dast_scanner_profiles/graphql/provider.js.\n- [ ] Verify that the app is working properly.\n- [ ] If needed, update the implementation so that the app works with immutable objects (e.g. leverage `immer` for cache mutations).","state":"closed","created_at":"2021-05-18T14:54:52.187Z","updated_at":"2021-08-24T13:27:25.213Z","closed_at":"2021-08-24T13:27:25.181Z","closed_by":{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"},"labels":["Category:DAST","devops::secure","frontend","group::dynamic analysis","maintenance::refactor","section::sec","workflow::production"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"}],"author":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"type":"ISSUE","assignee":{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/331277","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/331277","notes":"https://gitlab.com/api/v4/projects/278964/issues/331277/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/331277/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#331277","relative":"#331277","full":"gitlab-org/gitlab#331277"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6025,"epic":{"id":273430,"iid":6025,"title":"Enable `assumeImmutableResults` in Apollo providers","url":"/groups/gitlab-org/-/epics/6025","group_id":9970,"human_readable_end_date":"Nov 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":87290182,"iid":331279,"project_id":278964,"title":"Enable `assumeImmutableResults` in ee/app/assets/javascripts/security_configuration/corpus_management/corpus_management_bundle.js","description":"\n## Implementation Plan\n\n- [x] Checkout development branch\n- [x] Enable feature flag `:corpus_management`\n- [x] Set `assumeImmutableResults` to `true` in the Apollo provider that's instantiated in ee/app/assets/javascripts/security_configuration/corpus_management/corpus_management_bundle.js.\n- [x] Verify that the app is working properly.\n- [x] If needed, update the implementation so that the app works with immutable objects (e.g. leverage `immer` for cache mutations). We already levarage immer and `produce` functions from immer. So most of the work is verifying we didn't miss anything.","state":"closed","created_at":"2021-05-18T14:54:52.181Z","updated_at":"2021-06-30T17:23:28.765Z","closed_at":"2021-06-30T17:23:28.746Z","closed_by":{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"},"labels":["Category:DAST","devops::secure","frontend","group::dynamic analysis","maintenance::refactor","section::sec","workflow::production"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"}],"author":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"type":"ISSUE","assignee":{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/331279","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":5,"completed_count":5},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"5 of 5 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/331279","notes":"https://gitlab.com/api/v4/projects/278964/issues/331279/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/331279/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#331279","relative":"#331279","full":"gitlab-org/gitlab#331279"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6025,"epic":{"id":273430,"iid":6025,"title":"Enable `assumeImmutableResults` in Apollo providers","url":"/groups/gitlab-org/-/epics/6025","group_id":9970,"human_readable_end_date":"Nov 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":87290181,"iid":331278,"project_id":278964,"title":"Enable `assumeImmutableResults` in ee/app/assets/javascripts/threat_monitoring/index.js","description":"- [x] Set `assumeImmutableResults` to `true` in the Apollo provider that's instantiated in ee/app/assets/javascripts/threat_monitoring/index.js.\n- [x] Verify that the app is working properly.\n- [x] If needed, update the implementation so that the app works with immutable objects (e.g. leverage `immer` for cache mutations).","state":"closed","created_at":"2021-05-18T14:54:52.089Z","updated_at":"2021-06-30T22:15:29.423Z","closed_at":"2021-06-30T22:14:49.771Z","closed_by":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"labels":["devops::govern","frontend","group::security policies","maintenance::refactor","section::sec"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"}],"author":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"type":"ISSUE","assignee":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/331278","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":3},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"3 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/331278","notes":"https://gitlab.com/api/v4/projects/278964/issues/331278/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/331278/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#331278","relative":"#331278","full":"gitlab-org/gitlab#331278"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6025,"epic":{"id":273430,"iid":6025,"title":"Enable `assumeImmutableResults` in Apollo providers","url":"/groups/gitlab-org/-/epics/6025","group_id":9970,"human_readable_end_date":"Nov 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":87290177,"iid":331275,"project_id":278964,"title":"Enable `assumeImmutableResults` in ee/app/assets/javascripts/security_configuration/api_fuzzing/graphql/provider.js","description":"## Implementation Plan\n\n- [x] Set `assumeImmutableResults` to `true` in the Apollo provider that's instantiated in ee/app/assets/javascripts/security_configuration/api_fuzzing/graphql/provider.js.\n- [x] Verify that the app is working properly.\n- [x] If needed, update the implementation so that the app works with immutable objects (e.g. leverage `immer` for cache mutations). Doesn't look like we have any resolvers here. As far as I know the places where we need to use `immer` and immmutable values are in the resolvers. Most of the work here is to verify it works with the flag enabled.","state":"closed","created_at":"2021-05-18T14:54:52.047Z","updated_at":"2021-06-30T17:23:55.564Z","closed_at":"2021-06-30T17:23:55.551Z","closed_by":{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"},"labels":["devops::secure","frontend","maintenance::refactor","section::sec","workflow::production"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"}],"author":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"type":"ISSUE","assignee":{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/331275","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":3},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"3 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/331275","notes":"https://gitlab.com/api/v4/projects/278964/issues/331275/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/331275/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#331275","relative":"#331275","full":"gitlab-org/gitlab#331275"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6025,"epic":{"id":273430,"iid":6025,"title":"Enable `assumeImmutableResults` in Apollo providers","url":"/groups/gitlab-org/-/epics/6025","group_id":9970,"human_readable_end_date":"Nov 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":87290006,"iid":331271,"project_id":278964,"title":"Improve graphql operations job output","description":"### Problem\n\nAPI Security prints a list of all operations along with respective status codes. This allows the user to verify we are able to correctly call each operation in an API. When testing a GraphQL endpoint, only a single operation is printed. Instead, this should be a list of the operation + service.\n\nIn this example output, runner finds 7 operation+services, but the `Tested Operations` output only has one:\n\n```log\n2021-11-04 00:00:00 [INF] API Security: Loaded 7 operations from: assets/dast-graphql-har/graphql.har\n2021-11-04 00:00:00 [INF] API Security: Testing operation: 'POST /graphql :: createUser'.\n2021-11-04 00:00:00 [INF] API Security: Finished testing operation 'POST /graphql :: createUser' performed 2930 requests.\n2021-11-04 00:00:00 [INF] API Security: Testing operation: 'POST /graphql :: changeUsername'.\n2021-11-04 00:00:00 [INF] API Security: Finished testing operation 'POST /graphql :: changeUsername' performed 2332 requests.\n2021-11-04 00:00:00 [INF] API Security: Testing operation: 'POST /graphql :: node'.\n2021-11-04 00:00:00 [INF] API Security: Finished testing operation 'POST /graphql :: node' performed 1926 requests.\n2021-11-04 00:00:00 [INF] API Security: Testing operation: 'POST /graphql :: user'.\n2021-11-04 00:00:00 [INF] API Security: Finished testing operation 'POST /graphql :: user' performed 1520 requests.\n2021-11-04 00:00:00 [INF] API Security: Testing operation: 'POST /graphql :: findUser'.\n2021-11-04 00:00:00 [INF] API Security: Finished testing operation 'POST /graphql :: findUser' performed 1926 requests.\n2021-11-04 00:00:00 [INF] API Security: Testing operation: 'POST /graphql :: allUsers'.\n2021-11-04 00:00:00 [INF] API Security: Finished testing operation 'POST /graphql :: allUsers' performed 1520 requests.\n2021-11-04 00:00:00 [INF] API Security: Testing operation: 'POST /graphql :: deleteUser'.\n2021-11-04 00:00:00 [INF] API Security: Finished testing operation 'POST /graphql :: deleteUser' performed 1926 requests.\n2021-11-04 00:00:00 [INF] API Security: Finished testing. Performed a total of 14080 requests.\n2021-11-04 00:00:00 [INF] API Security: Generating security report as 'gl-dast-api-report.json'.\n2021-11-04 00:00:00 [INF] API Security: \n2021-11-04 00:00:00 [INF] API Security: --[ Tested Operations ]-------------------------\n2021-11-04 00:00:00 [INF] API Security: 200 POST http://target:7779/graphql OK\n2021-11-04 00:00:00 [INF] API Security: ------------------------------------------------\n```\n\n### Proposal\n\nDisplay all 7 operation+service combinations. A database change might be needed to store recordings of each service call.\n\n### Implementation plan\n\n`worker-entry` shows _tested operation_ by using a collection of job operaions, represented by `ScannedResource` class. \n\n1. [x] Update database schema\n   1. [x] Add `Function` property to `ScannedResource`\n   1. [x] Add migration\n   1. [x] Update tests\n1. [x] Update `Repository::SaveScannedResource` to allow creating a new row when function text is different.\n     - from `(x =\u003e x.JobId == resource.JobId \u0026\u0026 x.Method == resource.Method \u0026\u0026 x.Url == resource.Url)`\n     - to `(x =\u003e x.JobId == resource.JobId \u0026\u0026 x.Method == resource.Method \u0026\u0026 x.Url == resource.Url \u0026\u0026 x.Function == resource.Function)`\n1. [x] When creating an instance of `ScannedResource`, set property `ScannedResource.Function` in:\n   1. [x] `WebCheckStrategy::SaveScannedResource`  using `exchange.Exchange.Operation.Body.Function` (used by `WebProxyMaachine` and `WebRunnerMachine`). `Function` can be set here, since both `IWebMachine` uses this method. (Scanned Resource)\n   1. [X] `WebRunnerMachine::Run` using `_runnerService.CurrentOperation.Function`). (Skiped Resource)\n   1. [x] `ProxySession::OnBeforeRequest`. Using `IWebApiService::OperationFromRequest` the operation name can be computed. (Skiped Resource)\n1. [x] Update `web\\SDK\\worker-entry\\src\\worker_entry\\main.py`, in `WorkerEntry::display_finished_message` to **optionally** display `Function` in section:\n   1. [x]  `Tested Operations`\n```log\n2021-11-04 00:00:00 [INF] API Security: --[ Tested Operations ]-------------------------\n2021-11-04 00:00:00 [INF] API Security: 200 POST http://target:7779/graphql :: deleteUser OK \n```\n   1. [x]  `Excluded Operations`\n```log\n2021-11-04 00:00:00 [INF] API Security: --[ Excluded Operations ]-----------------------\n2021-11-04 00:00:00 [INF] API Security: POST http://target:7779/graphql :: deleteUser \n```\n1. [x]  Add or Update test. Assess that an operation can produce multiple scaned resource entries with different function.","state":"closed","created_at":"2021-05-18T14:52:16.945Z","updated_at":"2021-11-10T20:26:59.134Z","closed_at":"2021-11-10T20:26:59.118Z","closed_by":{"id":7488329,"username":"herbmadrigal","name":"Herber Madrigal","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7488329/avatar.png","web_url":"https://gitlab.com/herbmadrigal"},"labels":["Category:DAST","GitLab Ultimate","backend","devops::secure","group::dynamic analysis","priority::3","section::sec","severity::4","type::bug","workflow::verification"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"},{"id":7488329,"username":"herbmadrigal","name":"Herber Madrigal","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7488329/avatar.png","web_url":"https://gitlab.com/herbmadrigal"}],"author":{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"},"type":"ISSUE","assignee":{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"},"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/331271","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":13,"completed_count":13},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"13 of 13 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/331271","notes":"https://gitlab.com/api/v4/projects/278964/issues/331271/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/331271/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#331271","relative":"#331271","full":"gitlab-org/gitlab#331271"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":87282661,"iid":331266,"project_id":278964,"title":"Unauthorised error on usage request when visiting the merge request page when signed out","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\n\u003c!-- Summarize the bug encountered concisely. --\u003e\n\nWhen a signed out user visits the MR page, the usage data request results in an error.\n\n### Steps to reproduce\n\n\u003c!-- Describe how one can reproduce the issue - this is very important. Please use an ordered list. --\u003e\n\n1. visit any MR page when signed out\n1. see error message on console\n\n### Example Project\n\n\u003c!-- If possible, please create an example project here on GitLab.com that exhibits the problematic \nbehavior, and link to it here in the bug report. If you are using an older version of GitLab, this \nwill also determine whether the bug is fixed in a more recent version. --\u003e\n\n### What is the current *bug* behavior?\n\n\u003c!-- Describe what actually happens. --\u003e\n\n### What is the expected *correct* behavior?\n\n\u003c!-- Describe what you should see instead. --\u003e\n\n### Relevant logs and/or screenshots\n\n\u003c!-- Paste any relevant logs - please use code blocks (```) to format console output, logs, and code\n as it's tough to read otherwise. --\u003e\n\n![Screenshot_2021-05-18_at_13.55.19](/uploads/40efe14c46494d836e1b26d3da7c959a/Screenshot_2021-05-18_at_13.55.19.png)","state":"closed","created_at":"2021-05-18T12:58:31.790Z","updated_at":"2021-06-01T10:05:44.443Z","closed_at":"2021-05-31T19:01:31.208Z","closed_by":{"id":3509693,"username":"nicolasdular","name":"Nicolas Dular","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c4a21f15150c12ddf13fd848597cddd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/nicolasdular"},"labels":["[deprecated] Accepting merge requests","devops::growth","frontend","group::product intelligence","section::growth","severity::3","type::bug","workflow::production"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[],"author":{"id":853414,"username":"andr3","name":"AndrÃ© LuÃ­s","state":"active","avatar_url":"https://secure.gravatar.com/avatar/241e39726efb512a29621070ccf26a90?s=80\u0026d=identicon","web_url":"https://gitlab.com/andr3"},"type":"ISSUE","assignee":null,"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/331266","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/331266","notes":"https://gitlab.com/api/v4/projects/278964/issues/331266/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/331266/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#331266","relative":"#331266","full":"gitlab-org/gitlab#331266"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":87282554,"iid":331263,"project_id":278964,"title":"Add \"change made by\" and \"peer reviewed by\" to the Compliance Dashboard","description":"## Problem to solve\n\nAdd two new sections, `Change made by` and `Peer review by`, to the compliance drawer https://gitlab.com/gitlab-org/gitlab/-/issues/299357.\n\n## Proposal\n\n`Change made by`\n\n- Show commit authors for MR\n\n`Peer review by`\n\n- Show commenters on MR\n- Show approvers for MR\n- Show who merged the MR\n\n## Design \n\n![Group_8](/uploads/0f8754438aa9d827c10c1526550105b8/Group_8.png)\n\n## Implementation\n\n:two:\n\n~backend\n\n1. Add `participants`, `committers` and `merged_by` to `MergeRequestComplianceEntity`\n1. Update `MergeRequestComplianceEntity` specs\n\n~frontend\n\n1. Render a list of committers \n1. Render a list of commenters\n1. Render a list of approvers\n1. Render the user that merged the MR\n1. Create tests for each component\n\n* Use `GlAvatarsInline` component to display the users\n* Use `GlAvatarLabeled` for the merged by","state":"closed","created_at":"2021-05-18T12:56:01.981Z","updated_at":"2021-07-12T06:31:06.800Z","closed_at":"2021-07-12T06:31:06.779Z","closed_by":{"id":5209897,"username":"rob.hunt","name":"Robert Hunt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5209897/avatar.png","web_url":"https://gitlab.com/rob.hunt"},"labels":["Category:Compliance Management","Enterprise Edition","GitLab Ultimate","devops::manage","feature::addition","frontend","group::compliance","missed:14.0","priority::2","section::dev","type::feature","workflow::verification"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":5209897,"username":"rob.hunt","name":"Robert Hunt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5209897/avatar.png","web_url":"https://gitlab.com/rob.hunt"}],"author":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"type":"ISSUE","assignee":{"id":5209897,"username":"rob.hunt","name":"Robert Hunt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5209897/avatar.png","web_url":"https://gitlab.com/rob.hunt"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/331263","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/331263","notes":"https://gitlab.com/api/v4/projects/278964/issues/331263/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/331263/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#331263","relative":"#331263","full":"gitlab-org/gitlab#331263"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5237,"epic":{"id":184672,"iid":5237,"title":"Convert compliance dashboard into an insightful report","url":"/groups/gitlab-org/-/epics/5237","group_id":9970,"human_readable_end_date":"May 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":87280666,"iid":331262,"project_id":278964,"title":"undefined method `project_level?' for nil:NilClass","description":"### Summary\n\nTrying to configure the instance-level integrations for **Mattermost slash commands** or **Slack slash commands** gives an undefined method error.\n\nThis is due to `@service` no longer existing in `IntegrationsActions` (used by admin and group integrations controller) after https://gitlab.com/gitlab-org/gitlab/-/merge_requests/60649.\n\n### Steps to reproduce\n\n- Go to Admin -\u003e Settings -\u003e Integrations\n- Click on Mattermost slash commands or Slack slash commands\n- :bomb: `undefined method project_level? for nil:NilClass`","state":"closed","created_at":"2021-05-18T12:27:14.943Z","updated_at":"2022-11-22T19:41:25.498Z","closed_at":"2021-05-25T05:24:23.328Z","closed_by":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"labels":["Category:Integrations","backend","devops::manage","group::ecosystem [DEPRECATED]","section::dev","slash commands","type::bug"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"}],"author":{"id":1315742,"username":"arturoherrero","name":"Arturo Herrero","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1315742/avatar.png","web_url":"https://gitlab.com/arturoherrero"},"type":"ISSUE","assignee":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"user_notes_count":12,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/331262","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/331262","notes":"https://gitlab.com/api/v4/projects/278964/issues/331262/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/331262/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#331262","relative":"#331262","full":"gitlab-org/gitlab#331262"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":87278600,"iid":331260,"project_id":278964,"title":"Group Import/Export has epic labels association missing","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\nWhen Importing a group that has epics with labels using Group Import/Export imported epics lose their labels association. \n\n### Steps to reproduce\n\n1. Export a group with epics that have labels on them\n2. Import a group and observe imported epics\n3. Verify epics do not have labels associated\n\n### What is the current *bug* behavior?\n\nEpics do not have labels preserved. \n\n### What is the expected *correct* behavior?\n\nEpics should have labels preserved. \n\n### Possible fixes\n\nUpdate https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/gitlab/import_export/group/import_export.yml to include labels in epics association.\n\n```\n- label_links:\n  - :label\n```","state":"closed","created_at":"2021-05-18T11:52:54.280Z","updated_at":"2021-05-26T13:26:43.743Z","closed_at":"2021-05-26T13:26:33.404Z","closed_by":{"id":674121,"username":"georgekoltsov","name":"George Koltsov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/674121/avatar.png","web_url":"https://gitlab.com/georgekoltsov"},"labels":["Category:Importers","DEPRECATED_group import","Importer:Group Export/Import","Next Up","devops::manage","estimation::completed","group::import","section::dev","type::bug","workflow::production"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":674121,"username":"georgekoltsov","name":"George Koltsov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/674121/avatar.png","web_url":"https://gitlab.com/georgekoltsov"}],"author":{"id":674121,"username":"georgekoltsov","name":"George Koltsov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/674121/avatar.png","web_url":"https://gitlab.com/georgekoltsov"},"type":"ISSUE","assignee":{"id":674121,"username":"georgekoltsov","name":"George Koltsov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/674121/avatar.png","web_url":"https://gitlab.com/georgekoltsov"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/331260","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/331260","notes":"https://gitlab.com/api/v4/projects/278964/issues/331260/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/331260/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#331260","relative":"#331260","full":"gitlab-org/gitlab#331260"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4614,"epic":{"id":126555,"iid":4614,"title":"ðŸž Group Export/Import bugs","url":"/groups/gitlab-org/-/epics/4614","group_id":9970},"iteration":null,"health_status":null},{"id":87275645,"iid":331259,"project_id":278964,"title":"Unable to disable repository_update_events through webhooks API","description":"When trying to create a new webhooks through the `/hooks` endpoint the webhook will be created however the `repository_update_events` tag is being ignored and will always be enabled. \n\n![Screenshot_2021-05-18_at_11.49.02](/uploads/00a190b361234d7d7961e2d6b9d4605a/Screenshot_2021-05-18_at_11.49.02.png)","state":"closed","created_at":"2021-05-18T10:59:12.755Z","updated_at":"2022-11-22T19:41:26.102Z","closed_at":"2021-06-27T22:43:04.020Z","closed_by":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"labels":["Category:API","api","backend","devops::manage","good for new contributors","group::ecosystem [DEPRECATED]","section::dev","severity::3","type::bug","workflow::verification"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"}],"author":{"id":5722081,"username":"nwestbury","name":"Nick Westbury","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5722081/avatar.png","web_url":"https://gitlab.com/nwestbury"},"type":"ISSUE","assignee":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/331259","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/331259","notes":"https://gitlab.com/api/v4/projects/278964/issues/331259/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/331259/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#331259","relative":"#331259","full":"gitlab-org/gitlab#331259"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":87275229,"iid":331255,"project_id":278964,"title":"Show disabled input for Service Desk custom email with help text when not configured","description":"\u003c!-- This template is a great use for issues that are feature::additions or technical tasks for larger issues.--\u003e\n\n### Proposal \n\n\nIn the Project Settings \u003e General \u003e Service Desk UI, make the `custom suffix` section visible, but with a disabled input and a [suggestion to configure service_desk_email](https://docs.gitlab.com/ee/user/project/service_desk.html#using-custom-email-address) when the user does not have `service_desk_email` configured.\n\n\n### Background\n\nCurrently users are confused about the `service_desk_email` configuration section. Many think it's required for setting up Service Desk in general, when that's done using the `incoming_email` section, and wonder why Service Desk isn't working properly when it's configured.\n\nSimilarly, when they _do_ have `incoming_email` configured (but not `service_desk_email`) they don't see the custom email [address portion of the UI](https://gitlab.com/gitlab-org/gitlab/-/issues/295640). It is simply hidden from view with no guidance or help.\n\nThis change makes it visible and points the user to the documentation where they can learn more. Combined with the documentation update in https://gitlab.com/gitlab-org/gitlab/-/issues/295640 this should make Service Desk configuration clearer.\n\n\u003c!-- Use this section to explain the feature and how it will work. It can be helpful to add technical details, design proposals, and links to related epics or issues. --\u003e\n\n\u003c!-- Consider adding related issues and epics to this issue. You can also reference the Feature Proposal Template (https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Feature%20proposal%20-%20detailed.md) for additional details to consider adding to this issue. Additionally, as a data oriented organization, when your feature exits planning breakdown, consider adding the `What does success look like, and how can we measure that?` section.\n\n--\u003e","state":"closed","created_at":"2021-05-18T10:51:38.465Z","updated_at":"2023-01-12T00:33:27.746Z","closed_at":"2021-09-23T16:06:45.676Z","closed_by":{"id":3236898,"username":"rajatgitlab","name":"Rajat Jain","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3236898/avatar.png","web_url":"https://gitlab.com/rajatgitlab"},"labels":["Category:Service Desk","Deliverable","GitLab Core","GitLab Premium","GitLab Ultimate","Next Up","UX","devops::plan","frontend","group::respond","section::dev","workflow::production"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":3236898,"username":"rajatgitlab","name":"Rajat Jain","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3236898/avatar.png","web_url":"https://gitlab.com/rajatgitlab"},{"id":4418630,"username":"johnhope","name":"John Hope","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4418630/avatar.png","web_url":"https://gitlab.com/johnhope"}],"author":{"id":4418630,"username":"johnhope","name":"John Hope","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4418630/avatar.png","web_url":"https://gitlab.com/johnhope"},"type":"ISSUE","assignee":{"id":3236898,"username":"rajatgitlab","name":"Rajat Jain","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3236898/avatar.png","web_url":"https://gitlab.com/rajatgitlab"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/331255","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/331255","notes":"https://gitlab.com/api/v4/projects/278964/issues/331255/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/331255/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#331255","relative":"#331255","full":"gitlab-org/gitlab#331255"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":87267828,"iid":331241,"project_id":278964,"title":"Geo: Documentation verification related feature flags","description":"\u003c!--\n\n* Use this issue template for suggesting new docs or updates to existing docs.\n  Note: Doc work as part of feature development is covered in the Feature Request template.\n\n* For issues related to features of the docs.gitlab.com site, see\n     https://gitlab.com/gitlab-org/gitlab-docs/issues/\n\n* For information about documentation content and process, see\n     https://docs.gitlab.com/ee/development/documentation/ --\u003e\n\n### Problem to solve\n\n\u003c!-- Include the following detail as necessary:\n* What product or feature(s) affected?\n* What docs or doc section affected? Include links or paths.\n* Is there a problem with a specific document, or a feature/process that's not addressed sufficiently in docs?\n* Any other ideas or requests?\n--\u003e\n\n### Further details\n\nFollow-up from [this discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/61263#note_577413738):\n\n\u003e I think we need to add a bunch of sections at the bottom of https://docs.gitlab.com/ee/administration/geo/replication/datatypes.html#enable-or-disable-lfs-object-replication-using-the-self-service-framework for all the verification feature flags we have. It is very annoying since we will remove the feature flags soon. \n\nWe want to add in a section with a list of data types whose verification is behind feature flags. This list should be updated every time we add/remove a verification feature flag.\n\n\u003c!--\n* Any concepts, procedures, reference info we could add to make it easier to successfully use GitLab?\n* Include use cases, benefits, and/or goals for this work.\n* If adding content: What audience is it intended for? (What roles and scenarios?)\n  For ideas, see personas at https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/ or the persona labels at\n  https://gitlab.com/groups/gitlab-org/-/labels?utf8=%E2%9C%93\u0026subscribed=\u0026search=persona%3A\n--\u003e","state":"closed","created_at":"2021-05-18T09:05:24.315Z","updated_at":"2021-06-15T16:48:26.704Z","closed_at":"2021-06-14T22:37:52.907Z","closed_by":{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"},"labels":["automation:ml","devops::systems","documentation","group::geo","section::enablement","workflow::in review"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":4158075,"username":"aakriti.gupta","name":"Aakriti Gupta","state":"active","avatar_url":"https://secure.gravatar.com/avatar/992a080bc7d9f8c22ff7186db1c76dbd?s=80\u0026d=identicon","web_url":"https://gitlab.com/aakriti.gupta"}],"author":{"id":4158075,"username":"aakriti.gupta","name":"Aakriti Gupta","state":"active","avatar_url":"https://secure.gravatar.com/avatar/992a080bc7d9f8c22ff7186db1c76dbd?s=80\u0026d=identicon","web_url":"https://gitlab.com/aakriti.gupta"},"type":"ISSUE","assignee":{"id":4158075,"username":"aakriti.gupta","name":"Aakriti Gupta","state":"active","avatar_url":"https://secure.gravatar.com/avatar/992a080bc7d9f8c22ff7186db1c76dbd?s=80\u0026d=identicon","web_url":"https://gitlab.com/aakriti.gupta"},"user_notes_count":5,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/331241","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/331241","notes":"https://gitlab.com/api/v4/projects/278964/issues/331241/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/331241/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#331241","relative":"#331241","full":"gitlab-org/gitlab#331241"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5285,"epic":{"id":189747,"iid":5285,"title":"Geo: Self Service Framework - Verify all Blob Replicators","url":"/groups/gitlab-org/-/epics/5285","group_id":9970,"human_readable_end_date":"Jan 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":87266189,"iid":331239,"project_id":278964,"title":"Add setting to include retried jobs for pipeline webhooks","description":"For the [Datadog CI integration](https://gitlab.com/gitlab-org/gitlab/-/issues/270123) we are using pipeline webhooks and there was a breaking change in https://gitlab.com/gitlab-org/gitlab/-/merge_requests/53159 that is filtering out retried jobs. We needed those to show visibility on them.\n\nRetried jobs were excluded from the payload for performance reasons, but we can add a setting on webhooks to include retried jobs in the payload. For the first iteration the setting does not need a UI change because it will just be used for the Datadog integration.\n\nThe setting can be added as a new boolean column on the web_hooks table and maybe we can have a separate [data builder](https://gitlab.com/gitlab-org/gitlab/-/blob/v14.0.5-ee/lib/gitlab/data_builder/pipeline.rb) for a pipeline including retry jobs.\n\ncc @Andysoiron","state":"closed","created_at":"2021-05-18T08:49:39.132Z","updated_at":"2022-08-17T04:33:13.623Z","closed_at":"2021-08-02T09:54:27.203Z","closed_by":{"id":6503748,"username":"AdrianLC","name":"AdriÃ¡n LÃ³pez Calvo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6503748/avatar.png","web_url":"https://gitlab.com/AdrianLC"},"labels":["Category:Pipeline Authoring","Stretch","automation:ml","backend","devops::verify","feature::enhancement","group::pipeline authoring","section::ops","type::feature","workflow::verification"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":423116,"username":"toupeira","name":"Markus Koller","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7585ed50675c4febe7619f25b44f7fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/toupeira"}],"author":{"id":6503748,"username":"AdrianLC","name":"AdriÃ¡n LÃ³pez Calvo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6503748/avatar.png","web_url":"https://gitlab.com/AdrianLC"},"type":"ISSUE","assignee":{"id":423116,"username":"toupeira","name":"Markus Koller","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7585ed50675c4febe7619f25b44f7fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/toupeira"},"user_notes_count":32,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/331239","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/331239","notes":"https://gitlab.com/api/v4/projects/278964/issues/331239/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/331239/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#331239","relative":"#331239","full":"gitlab-org/gitlab#331239"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":87260781,"iid":331231,"project_id":278964,"title":"Remove `ff_evaluate_group_level_compliance_pipeline` feature flag","description":"\u003c!-- Title suggestion: [Feature flag] Remove FEATURE_FLAG_NAME --\u003e\n\n## Feature\n\nThe `:feature_name` feature flag was previously [enabled by default](https://gitlab.com/gitlab-org/gitlab/-/issues/300324) and should be removed.\n\n## Owners\n\n- Group: ~\"group::compliance\"\n- Slack channel: `#g_manage_compliance`\n- DRI: @tancnle \n- PM: @stkerr \n\n**Removal**\n\nThis is an __important__ phase, that should be either done in the next Milestone or as soon as possible. For the cleanup phase, please follow our documentation on how to  [clean up the feature flag](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up).\n\n- [x] Remove `:ff_evaluate_group_level_compliance_pipeline` feature flag\n    - [x] Remove all references to the feature flag from the codebase\n    - [x] Remove the YAML definitions for the feature from the repository\n    - [x] Create a Changelog Entry\n\n- [ ] Clean up the feature flag from all environments by running this chatops command in `#production` channel `/chatops run feature delete some_feature`.\n\n- [x] Close this issue after the feature flag is removed from the codebase.","state":"closed","created_at":"2021-05-18T08:02:56.071Z","updated_at":"2021-08-12T10:22:26.070Z","closed_at":"2021-08-12T10:22:26.046Z","closed_by":{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"},"labels":["backend","devops::manage","documentation","feature flag","group::compliance","maintenance::refactor","missed:14.0","missed:14.1","section::dev","workflow::in review"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"}],"author":{"id":398752,"username":"tancnle","name":"Tan Le","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/398752/avatar.png","web_url":"https://gitlab.com/tancnle"},"type":"ISSUE","assignee":{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/331231","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":6,"completed_count":5},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"5 of 6 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/331231","notes":"https://gitlab.com/api/v4/projects/278964/issues/331231/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/331231/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#331231","relative":"#331231","full":"gitlab-org/gitlab#331231"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":"on_track"},{"id":87248670,"iid":331220,"project_id":278964,"title":"Add equivalent of DOCKER_INSECURE and REGISTRY_INSECURE to container scanning","description":"\u003c!--\nImplementation issues are used break-up a large piece of work into small, discrete tasks that can\nmove independently through the build workflow steps. They're typically used to populate a Feature\nEpic. Once created, an implementation issue is usually refined in order to populate and review the\nimplementation plan and weight.\nExample workflow: https://about.gitlab.com/handbook/engineering/development/threat-management/planning/diagram.html#plan\n--\u003e\n\n## Why are we doing this work\n\nFor feature compatibility with the previous container-scanning analyzer, we need an equivalent of the `DOCKER_INSECURE` and `REGISTRY_INSECURE` [configuration variables](https://docs.gitlab.com/ee/user/application_security/container_scanning/#available-variables) and rename to `CS_DOCKER_INSECURE` and `CS_REGISTRY_INSECURE`:\n\n| Variable | Default | Description |\n| ------ | ------ | ------ |\n| `CS_DOCKER_INSECURE` | false | Disable certificate validation when accessing secure Docker registries over HTTPS. |\n| `CS_REGISTRY_INSECURE` | false | Allow insecure connections (HTTP) to a container registry. |\n\n\u003c!--\nA brief explanation of the why, not the what or how. Assume the reader doesn't know the\nbackground and won't have time to dig-up information from comment threads.\n--\u003e\n\n\n## Relevant links\n\u003c!--\nInformation that the developer might need to refer to when implementing the issue.\n\n- [Design Issue](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e)\n  - [Design 1](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e/designs/\u003cimage\u003e.png)\n  - [Design 2](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e/designs/\u003cimage\u003e.png)\n- [Similar implementation](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/\u003cid\u003e)\n--\u003e\n\n\n## Non-functional requirements\n\u003c!--\nAdd details for required items and delete others.\n--\u003e\n\n- [x] Documentation: Update variables in [doc/user/application_security/container_scanning/index.md](https://gitlab.com/gitlab-org/gitlab/-/blob/4414493c/doc/user/application_security/container_scanning/index.md#available-variables)\n- [-] Feature flag:\n- [-] Performance:\n- [x] Testing: \n    - [x] Test scanner with `CS_DOCKER_INSECURE` and `CS_REGISTRY_INSECURE`\n\n\n## Implementation plan\n\n1. [x] Add support for `CS_REGISTRY_INSECURE` and `CS_DOCKER_INSECURE`. Default value false. And update documentation for the same.\n1. [x] For Trivy add support for the variables [here](https://gitlab.com/gitlab-org/security-products/analyzers/container-scanning/-/blob/9b8e0198/lib/gcs/environment.rb#L46-54):\n    1. [x] `CS_DOCKER_INSECURE` maps to `TRIVY_INSECURE`\n    1. [x] `CS_REGISTRY_INSECURE` maps to `TRIVY_NON_SSL`.\n\n\n\u003c!--\nSteps and the parts of the code that will need to get updated. The plan can also\ncall-out responsibilities for other team members or teams.\n\ne.g.:\n\n- [ ] ~3412464 Step 1\n  - [ ] `@zhang.xichun` Step 1a\n- [ ] ~3412464 Step 2\n\n--\u003e\n\n\n\u003c!--\nWorkflow and other relevant labels\n\n# ~\"group::\" ~\"Category:\" ~3207279\nOther settings you might want to include when creating the issue.\n\n# /assign @\n# /epic \u0026\n--\u003e","state":"closed","created_at":"2021-05-18T04:40:32.422Z","updated_at":"2021-06-06T23:45:27.425Z","closed_at":"2021-06-04T04:09:01.623Z","closed_by":{"id":8401507,"username":"sashi_kumar","name":"Sashi Kumar Kumaresan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8401507/avatar.png","web_url":"https://gitlab.com/sashi_kumar"},"labels":["Category:Container Scanning","backend","devops::govern","feature::enhancement","group::security policies","section::sec","type::feature","workflow::verification"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":8401507,"username":"sashi_kumar","name":"Sashi Kumar Kumaresan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8401507/avatar.png","web_url":"https://gitlab.com/sashi_kumar"}],"author":{"id":480804,"username":"thiagocsf","name":"Thiago FigueirÃ³","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/480804/avatar.png","web_url":"https://gitlab.com/thiagocsf"},"type":"ISSUE","assignee":{"id":8401507,"username":"sashi_kumar","name":"Sashi Kumar Kumaresan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8401507/avatar.png","web_url":"https://gitlab.com/sashi_kumar"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/331220","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":10,"completed_count":7},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"7 of 10 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/331220","notes":"https://gitlab.com/api/v4/projects/278964/issues/331220/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/331220/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#331220","relative":"#331220","full":"gitlab-org/gitlab#331220"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5462,"epic":{"id":213052,"iid":5462,"title":"Follow-on Improvements to Trivy Integration","url":"/groups/gitlab-org/-/epics/5462","group_id":9970,"human_readable_end_date":"Jul 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":87244124,"iid":331194,"project_id":278964,"title":"Follow-up: Update save value stream button text","description":"## Solution\n\nWe should update some of the [VSA button text](https://gitlab.com/gitlab-org/gitlab/-/blob/master/ee/app/assets/javascripts/analytics/cycle_analytics/components/create_value_stream_form/constants.js#L6):\n- \"Save Value Stream\" =\u003e \"Save value stream\"\n- \"Create Value Stream\" =\u003e \"Create value stream\"\n- \"Edit Value Stream\" =\u003e \"Edit value stream\"\n\n\n## Background\n\nThe following discussion from !61461 should be addressed:\n\n- [ ] @msedlakjakubowski started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/61461#note_577242709): \n\n    \u003e - Start with the action (\"To do X, do Y\")\n    \u003e - Remove another image\n    \u003e \n    \u003e \n    \u003e ```suggestion:-2+0\n    \u003e 1. To undo any modifications, select **Restore value stream defaults**.\n    \u003e 1. Select **Save Value Stream**.\n    \u003e ```\n    \u003e \n    \u003e Sidenote: if **Save Value Stream** is the text on the button, it should be capitalized as **Save value stream**, but it's a task for another time.","state":"closed","created_at":"2021-05-18T01:07:14.799Z","updated_at":"2022-07-14T06:43:57.592Z","closed_at":"2021-12-22T05:49:18.379Z","closed_by":{"id":3397881,"username":"ekigbo","name":"Ezekiel Kigbo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3397881/avatar.png","web_url":"https://gitlab.com/ekigbo"},"labels":["UI polish","UI text","[deprecated] Accepting merge requests","devops::manage","frontend","frontend-weight::1","group::optimize","section::dev","severity::4"],"milestone":{"id":2156369,"iid":68,"group_id":9970,"title":"14.7","description":"","state":"active","created_at":"2021-07-21T17:39:41.786Z","updated_at":"2021-07-21T17:39:41.786Z","due_date":"2022-01-17","start_date":"2021-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/68"},"assignees":[],"author":{"id":3397881,"username":"ekigbo","name":"Ezekiel Kigbo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3397881/avatar.png","web_url":"https://gitlab.com/ekigbo"},"type":"ISSUE","assignee":null,"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/331194","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/331194","notes":"https://gitlab.com/api/v4/projects/278964/issues/331194/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/331194/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#331194","relative":"#331194","full":"gitlab-org/gitlab#331194"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":87242159,"iid":331186,"project_id":278964,"title":"DAST merges the output of Browserker and ZAP to create a Secure JSON report","description":"\n### Proposal \n\nAs a stepping stone to replacing ZAP, Browserker will produce a JSON report in the Secure report format. During the transitionary period while DAST runs both ZAP and Browserker, two JSON reports will be created.\n\nThis issue captures merging both of those reports into a single JSON report for ingestion into the Security Dashboard.","state":"closed","created_at":"2021-05-17T23:20:47.802Z","updated_at":"2021-10-04T19:32:45.116Z","closed_at":"2021-10-04T19:32:45.101Z","closed_by":{"id":5344211,"username":"craigmsmith","name":"Craig Smith","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5344211/avatar.png","web_url":"https://gitlab.com/craigmsmith"},"labels":["Category:DAST","GitLab Ultimate","dast::browserker","devops::secure","group::dynamic analysis","section::sec","workflow::in review"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":5344211,"username":"craigmsmith","name":"Craig Smith","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5344211/avatar.png","web_url":"https://gitlab.com/craigmsmith"}],"author":{"id":4312863,"username":"cam_swords","name":"Cameron Swords","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3b729cf96bcced6384ebb94f0362bd4b?s=80\u0026d=identicon","web_url":"https://gitlab.com/cam_swords"},"type":"ISSUE","assignee":{"id":5344211,"username":"craigmsmith","name":"Craig Smith","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5344211/avatar.png","web_url":"https://gitlab.com/craigmsmith"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/331186","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/331186","notes":"https://gitlab.com/api/v4/projects/278964/issues/331186/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/331186/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#331186","relative":"#331186","full":"gitlab-org/gitlab#331186"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6538,"epic":{"id":323773,"iid":6538,"title":"Implement the X-Content-Type-Header Missing vulnerability check in DAST browser-based engine","url":"/groups/gitlab-org/-/epics/6538","group_id":9970,"human_readable_end_date":"Nov 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":87234402,"iid":331181,"project_id":278964,"title":"Change integration base classes to be more clearly defined as base classes","description":"This issue came out of this discussion https://gitlab.com/gitlab-org/gitlab/-/merge_requests/61744#note_576987150.\n\n\n## About\n\nWe have some integration models that are used as base classes, but are not named as such, so they appear as though they are actual integrations.\n\nWe want to ~~rename these models, and also~~ (edit: done) mark them as abstract classes with `self.abstract_class = true`.\n\nThe integration base classes are:\n\n1. `Integrations::BaseIssueTracker` \n1. `Integrations::BaseMonitoring`\n1. `Integrations::BaseSlashCommands`\n1. `Integrations::BaseChatNotification`\n1. `Integrations::BaseCi`\n\n## Proposal\n\n### Rename the classes\n\nRename these classes to: \n\n1. ~~`Integrations::BaseIssueTracker`~~ renamed in https://gitlab.com/gitlab-org/gitlab/-/merge_requests/63019\n1. ~~`Integrations::BaseMonitoring`~~ renamed in https://gitlab.com/gitlab-org/gitlab/-/merge_requests/62645\n1. ~~`Integrations::BaseSlashCommands`~~ renamed in https://gitlab.com/gitlab-org/gitlab/-/merge_requests/63015\n1. ~~`Integrations::BaseChatNotification`~~ renamed in https://gitlab.com/gitlab-org/gitlab/-/merge_requests/61957\n1. ~~`Integrations::BaseCi`~~ renamed in https://gitlab.com/gitlab-org/gitlab/-/merge_requests/62359\n\n### Mark them all as abstract classes\n\nAdd `self.abstract_class = true` to these classes. ~\"won't do\" https://gitlab.com/gitlab-org/gitlab/-/issues/331181#note_1042022271.\n\n### Availability \u0026 Testing\n\n* run `package-and-qa` \n* consider overriding `base_class` on integrations that inherit from the base classes to match existing behavior as per this comment: https://gitlab.com/gitlab-org/gitlab/-/issues/331181#note_1034209944\n\n\u003c!-- This section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\nWhat risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the Quality Engineering quad planning and test planning processes and reach out to your counterpart Software Engineer in Test for assistance. \nQuad Planning: https://about.gitlab.com/handbook/engineering/quality/quality-engineering/quad-planning \nTest Planning: https://about.gitlab.com/handbook/engineering/quality/quality-engineering/test-engineering/#test-planning --\u003e","state":"closed","created_at":"2021-05-17T21:36:43.695Z","updated_at":"2022-11-22T19:41:28.746Z","closed_at":"2022-07-27T20:10:47.310Z","closed_by":{"id":6115756,"username":"joseph","name":"Joseph Wambua","state":"active","avatar_url":"https://secure.gravatar.com/avatar/97a2e7dc3273d27e993f35de226a0ed6?s=80\u0026d=identicon","web_url":"https://gitlab.com/joseph"},"labels":["backend","devops::manage","group::integrations","maintenance::refactor","quad-planning::complete-action","section::dev","type::maintenance","wontfix"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":6115756,"username":"joseph","name":"Joseph Wambua","state":"active","avatar_url":"https://secure.gravatar.com/avatar/97a2e7dc3273d27e993f35de226a0ed6?s=80\u0026d=identicon","web_url":"https://gitlab.com/joseph"}],"author":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"type":"ISSUE","assignee":{"id":6115756,"username":"joseph","name":"Joseph Wambua","state":"active","avatar_url":"https://secure.gravatar.com/avatar/97a2e7dc3273d27e993f35de226a0ed6?s=80\u0026d=identicon","web_url":"https://gitlab.com/joseph"},"user_notes_count":15,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/331181","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/331181","notes":"https://gitlab.com/api/v4/projects/278964/issues/331181/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/331181/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#331181","relative":"#331181","full":"gitlab-org/gitlab#331181"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":87233538,"iid":331177,"project_id":278964,"title":"Several bugs identified in reports","description":"### Problem\n\nSeveral bugs have been identified in the security report generation.\n\n### Proposal\n\nAddress the following issues:\n\n1. [x] Disable the known vulnerabilities check. This feature is already covered through dependency scanning.\n1. [x] Update CORS check to use sub-meta for each sub-fault. Continuing work from sub-fault MR.\n1. [x] Fix template substitutions in sub-faults for CORS\n1. [x] Update Handlebars.Net and use new exception on failed replacement\n   1. [x] Fix bugs related to failed replacement\n   1. [x] Update tests as needed\n1. [x] Update schema URL in report services\n1. [x] Use mode to set `SecurityReport.Scan.Type`\n1. [x] Publish a new container","state":"closed","created_at":"2021-05-17T21:19:05.328Z","updated_at":"2021-05-17T23:50:17.041Z","closed_at":"2021-05-17T23:50:16.992Z","closed_by":{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"},"labels":["Category:DAST","GitLab Ultimate","backend","devops::secure","group::dynamic analysis","priority::3","severity::3","type::bug","workflow::verification"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"}],"author":{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"},"type":"ISSUE","assignee":{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/331177","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":9,"completed_count":9},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"9 of 9 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/331177","notes":"https://gitlab.com/api/v4/projects/278964/issues/331177/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/331177/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#331177","relative":"#331177","full":"gitlab-org/gitlab#331177"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":87229162,"iid":331163,"project_id":278964,"title":"Error Budget audit for verify::testing","description":"# Description\n\nAs part of our Q2 key result to [implement the first wave of our error budget tracking](https://gitlab.com/gitlab-com/www-gitlab-com/-/issues/11689), we need to audit the [current error budget dashboard](https://dashboards.gitlab.net/d/stage-groups-testing/stage-groups-group-dashboard-verify-testing?orgId=1) to check for any missing items that should be included.\n\n# Proposal\n\n1. Review the existing endpoints included in the tracking\n1. Make a list of endpoints (~\"Category:Build Artifacts\" likely a source of lots of them) that are missing for features/systems managed by ~\"group::testing\" \n   - [Grafana dashboard](https://dashboards.gitlab.net/d/stage-groups-pipeline_execution/stage-groups-group-dashboard-verify-pipeline-execution?viewPanel=16\u0026orgId=1\u0026from=now-24h\u0026to=now\u0026var-PROMETHEUS_DS=Global\u0026var-environment=gprd\u0026var-stage=main\u0026var-controller=Projects::ArtifactsController\u0026var-controller=Projects::BuildArtifactsController\u0026var-action=All\u0026var-runner_type=All) from PE\n   - Create an issue/issues to add those in an upcoming milestone or assign to @jheimbuck_gl for scheduling.\n1. Review artifact upload related incident on [2021-07-20](https://gitlab.com/gitlab-com/gl-infra/production/-/issues/5194) to validate if end points impacted are part of error budget tracking.\n1. Make a list of endpoints in a new issue to remove/migrate to another team tracking (~\"Category:Code Quality\" likely) that are for systems/features not managed by ~\"group::testing\"\n\n\n# Error Budget Audit List\n\n## Public API\n\nPublic REST API endpoints that are part of our feature categories\n\n### Build Artifacts\n\n* [x] GET /projects/:id/jobs/:job_id/artifacts\n* [x] GET /projects/:id/jobs/artifacts/:ref_name/download?job=name\n* [x] GET /projects/:id/jobs/:job_id/artifacts/\\*artifact_path\n* [x] GET /projects/:id/jobs/artifacts/:ref_name/raw/\\*artifact_path?job=name\n* [x] POST /projects/:id/jobs/:job_id/artifacts/keep\n* [x] DELETE /projects/:id/jobs/:job_id/artifacts\n\n### Code Testing and Coverage\n\nAs far as I can tell, we don't have any public API endpoints for this feature category.\n\n### Performance Testing\n\nAs far as I can tell, we don't have any public API endpoints for this feature category.\n\n### Usability Testing\n\n* [x] POST /projects/:id/merge_requests/:merge_request_iid/visual_review_discussions\n\n### Accessibility Testing\n\nAs far as I can tell, we don't have any public API endpoints for this feature category.\n\n### Review Apps\n\nAs far as I can tell, we don't have any public API endpoints for this feature category.\n\n## Internal API\n\nFiles that have/may have endpoints that are part of our feature categories\n\n### Build Artifacts\n\n* [x] app/controllers/projects/artifacts_controller.rb\n* [x] app/controllers/projects/build_artifacts_controller.rb\n* [x] app/controllers/projects/pipelines_controller.rb\n\n### Code Testing and Coverage\n\n* [x] app/controllers/projects/pipelines/tests_controller.rb\n* [ ] ~~ee/app/controllers/projects/quality/test_cases_controller.rb~~ (this is owned by Quality)\n* [ ] ee/app/controllers/groups/analytics/coverage_reports_controller.rb **Missing feature category**\n* [ ] app/controllers/projects/badges_controller.rb **Missing feature category for `coverage` endpoint**\n* [ ] app/controllers/projects/graphs_controller.rb **Missing feature category for `get_daily_coverage_options` endpoint**\n* [x] app/controllers/projects/merge_requests_controller.rb\n\n### Performance Testing\n\nFrom what I can tell, the endpoints used for this are all public endpoints for artifacts.\n\n### Usability Testing\n\nAs far as I can tell, the only endpoint used for usability testing is the one public API endpoint.\n\n### Accessibility Testing\n\n* [x] app/controllers/projects/merge_requests_controller.rb\n\n### Review Apps\n\nI can't seem to find any review app endpoints","state":"closed","created_at":"2021-05-17T19:49:09.906Z","updated_at":"2022-08-30T14:20:51.882Z","closed_at":"2021-10-05T19:53:49.137Z","closed_by":{"id":3029776,"username":"shampton","name":"Scott Hampton","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3029776/avatar.png","web_url":"https://gitlab.com/shampton"},"labels":["Category:Code Testing and Coverage","OKR","Stretch","[deprecated] Accepting merge requests","devops::verify","group::pipeline insights","missed:14.1","missed:14.2","missed:14.3","section::ops","workflow::ready for development"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[],"author":{"id":3029776,"username":"shampton","name":"Scott Hampton","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3029776/avatar.png","web_url":"https://gitlab.com/shampton"},"type":"ISSUE","assignee":null,"user_notes_count":15,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/331163","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":17,"completed_count":13},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"13 of 17 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/331163","notes":"https://gitlab.com/api/v4/projects/278964/issues/331163/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/331163/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#331163","relative":"#331163","full":"gitlab-org/gitlab#331163"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":87221181,"iid":331156,"project_id":278964,"title":"Remove the customize homepage banner","description":"# Problem\nCurrently, if a user hasn't started a trial or customized the homepage `gitlab.com/` then we stack recommendation banners, as seen below.\n \n![image](/uploads/62229bb49c2077c79378d3e50969e3d8/image.png)\n \n# Solution\n \nRemove the customize homepage banner","state":"closed","created_at":"2021-05-17T17:26:01.761Z","updated_at":"2022-01-09T22:48:04.567Z","closed_at":"2021-12-16T17:00:33.317Z","closed_by":{"id":10216431,"username":"syarynovskyi","name":"Serhii Yarynovskyi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10216431/avatar.png","web_url":"https://gitlab.com/syarynovskyi"},"labels":["DEPRECATED Growth-Deliverable","devops::growth","group::acquisition","priority::4","section::growth","severity::4","type::bug","workflow::production"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[{"id":10216431,"username":"syarynovskyi","name":"Serhii Yarynovskyi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10216431/avatar.png","web_url":"https://gitlab.com/syarynovskyi"}],"author":{"id":4413992,"username":"s_awezec","name":"Sam Awezec","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4413992/avatar.png","web_url":"https://gitlab.com/s_awezec"},"type":"ISSUE","assignee":{"id":10216431,"username":"syarynovskyi","name":"Serhii Yarynovskyi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10216431/avatar.png","web_url":"https://gitlab.com/syarynovskyi"},"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/331156","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/331156","notes":"https://gitlab.com/api/v4/projects/278964/issues/331156/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/331156/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#331156","relative":"#331156","full":"gitlab-org/gitlab#331156"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":87220403,"iid":331154,"project_id":278964,"title":"Enable dismissing banner for credit card validation","description":"### Overview \n\nWe implemented a banner and users cannot dismiss it. \n\n### Proposal \nAllow users to dismiss the banner and only show it again when they attempt to run a pipeline:\n\n![Dismissable_validation_banner](/uploads/ba51383ef82575590bb6c708ab9cc49d/Dismissable_validation_banner.png)\n\n----------------\n\n(Old proposal: Remove the \"validate credit card\" message on the failed pipeline when re-viewing it ([example](https://gitlab.com/ccvalidationtest/learn-gitlab/-/pipelines/304108531)))","state":"closed","created_at":"2021-05-17T17:05:53.227Z","updated_at":"2022-02-01T16:28:30.405Z","closed_at":"2021-09-09T18:22:28.139Z","closed_by":{"id":4905402,"username":"jreporter","name":"Jackie Porter","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4905402/avatar.png","web_url":"https://gitlab.com/jreporter"},"labels":["Category:Continuous Integration","UX","Verify::P2","devops::verify","frontend","group::pipeline execution","section::ops","workflow::production"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":4477803,"username":"pburdette","name":"Payton Burdette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477803/avatar.png","web_url":"https://gitlab.com/pburdette"}],"author":{"id":4905402,"username":"jreporter","name":"Jackie Porter","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4905402/avatar.png","web_url":"https://gitlab.com/jreporter"},"type":"ISSUE","assignee":{"id":4477803,"username":"pburdette","name":"Payton Burdette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477803/avatar.png","web_url":"https://gitlab.com/pburdette"},"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/331154","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/331154","notes":"https://gitlab.com/api/v4/projects/278964/issues/331154/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/331154/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#331154","relative":"#331154","full":"gitlab-org/gitlab#331154"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6075,"epic":{"id":277863,"iid":6075,"title":"Pipeline Abuse Prevention - Minimal Maturity","url":"/groups/gitlab-org/-/epics/6075","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":null},{"id":87218799,"iid":331151,"project_id":278964,"title":"Update source of `draft` to MR Grape entity","description":"After adding `draft` as a field to the Merge Request schema, we need to update the source of the data returned by the Grape entity(ies?) for Merge Requests.","state":"closed","created_at":"2021-05-17T16:26:31.372Z","updated_at":"2022-10-21T12:01:36.779Z","closed_at":"2022-10-03T17:44:37.075Z","closed_by":{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"},"labels":["Category:Code Review Workflow","Deliverable","backend","devops::create","frontend","group::code review","quad-planning::complete-no-action","section::dev","type::feature"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"}],"author":{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"},"type":"ISSUE","assignee":{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"},"user_notes_count":18,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/331151","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/331151","notes":"https://gitlab.com/api/v4/projects/278964/issues/331151/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/331151/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#331151","relative":"#331151","full":"gitlab-org/gitlab#331151"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3879,"epic":{"id":80141,"iid":3879,"title":"Rename WIP merge requests to Draft","url":"/groups/gitlab-org/-/epics/3879","group_id":9970,"human_readable_end_date":"Oct 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":87216899,"iid":331147,"project_id":278964,"title":"Pre-fill selected option when navigating from Pricing \u003e Purchase","description":"**Problem:**\n\nWhen I navigate from https://about.gitlab.com/pricing/ and select \"Premium\" then \"SaaS\" I'm presented with the checkout screen without Premium preselected in the first drop down. \n\n**Expected solution:**\n\nPre-select Premium when landing on that page.","state":"closed","created_at":"2021-05-17T15:50:32.741Z","updated_at":"2021-05-20T21:44:00.148Z","closed_at":"2021-05-20T06:24:31.875Z","closed_by":{"id":4430316,"username":"rhardarson","name":"Ragnar Hardarson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4430316/avatar.png","web_url":"https://gitlab.com/rhardarson"},"labels":["Category:Purchase","devops::fulfillment","frontend","group::purchase","section::fulfillment","workflow::production"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":4430316,"username":"rhardarson","name":"Ragnar Hardarson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4430316/avatar.png","web_url":"https://gitlab.com/rhardarson"}],"author":{"id":5413970,"username":"justinfarris","name":"Justin Farris","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5413970/avatar.png","web_url":"https://gitlab.com/justinfarris"},"type":"ISSUE","assignee":{"id":4430316,"username":"rhardarson","name":"Ragnar Hardarson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4430316/avatar.png","web_url":"https://gitlab.com/rhardarson"},"user_notes_count":8,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/331147","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/331147","notes":"https://gitlab.com/api/v4/projects/278964/issues/331147/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/331147/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#331147","relative":"#331147","full":"gitlab-org/gitlab#331147"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":87216350,"iid":331146,"project_id":278964,"title":"License Compliance Approvals required even when no new denied licenses have been found","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\n\u003c!-- Summarize the bug encountered concisely. --\u003e\n\n\u003e ![Screen_Shot_2021-05-17_at_8.59.03_AM](/uploads/0a7556054957aa1ab45b0d2863461f63/Screen_Shot_2021-05-17_at_8.59.03_AM.png)\n\nThe license compliance capability is inappropriately blocking users from merging. This is a similar issue to what our security compliance capability suffered [prior to 13.4](https://gitlab.com/gitlab-org/gitlab/-/issues/222643).\n\n### Steps to reproduce\n\n\u003c!-- Describe how one can reproduce the issue - this is very important. Please use an ordered list. --\u003e\n\n1. Deny one of the licenses existing on the default branch.\n1. Turn on the License Approval feature\n1. Create an MR that doesn't change anything related to licenses (like update Readme)\n1. Wait until the pipeline is finished.\n\n### Example Project\n\n\u003c!-- If possible, please create an example project here on GitLab.com that exhibits the problematic \nbehavior, and link to it here in the bug report. If you are using an older version of GitLab, this \nwill also determine whether the bug is fixed in a more recent version. --\u003e\n\n### What is the current *bug* behavior?\n\nLicense approval is required because of denied licenses added\n\n### What is the expected *correct* behavior?\n\nLicense approval is fall back to optional\n\n### Relevant logs and/or screenshots\n\n\u003c!-- Paste any relevant logs - please use code blocks (```) to format console output, logs, and code\n as it's tough to read otherwise. --\u003e\n\n### Output of checks\n\n\u003c!-- If you are reporting a bug on GitLab.com, write: This bug happens on GitLab.com --\u003e\n\n#### Results of GitLab environment info\n\n\u003c!--  Input any relevant GitLab environment information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to GitLab environment info\u003c/summary\u003e\n\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:env:info`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:env:info RAILS_ENV=production`)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n#### Results of GitLab application Check\n\n\u003c!--  Input any relevant GitLab application check information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to the GitLab application check\u003c/summary\u003e\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:check SANITIZE=true`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:check RAILS_ENV=production SANITIZE=true`)\n\n(we will only investigate if the tests are passing)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n### Implementation plan\n\n1. Add a condition to [has_denied_policies?](https://gitlab.com/gitlab-org/gitlab/-/blob/cd6f590cfe9e76a68160f0e9c530933a9856b942/ee/app/models/ee/merge_request.rb#L163) to check only new licenses\n1. Use `Ci::CompareLicenseScanningReportsService` to get a list of added licenses and then check what is denied\n1. Add tests that cover this case","state":"closed","created_at":"2021-05-17T15:41:51.658Z","updated_at":"2021-06-22T17:58:16.549Z","closed_at":"2021-06-18T13:52:33.158Z","closed_by":{"id":4668304,"username":"ifrenkel","name":"Igor Frenkel","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a73e8113c53ac25297ce751e59bbb1d3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ifrenkel"},"labels":["Category:License Compliance","Deliverable","Enterprise Edition","GitLab Ultimate","backend","devops::secure","group::composition analysis","missed-SLO","priority::1","section::sec","severity::1","type::bug","workflow::canary"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":4668304,"username":"ifrenkel","name":"Igor Frenkel","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a73e8113c53ac25297ce751e59bbb1d3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ifrenkel"}],"author":{"id":428430,"username":"poffey21","name":"Tim Poffenbarger","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/428430/avatar.png","web_url":"https://gitlab.com/poffey21"},"type":"ISSUE","assignee":{"id":4668304,"username":"ifrenkel","name":"Igor Frenkel","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a73e8113c53ac25297ce751e59bbb1d3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ifrenkel"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/331146","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/331146","notes":"https://gitlab.com/api/v4/projects/278964/issues/331146/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/331146/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#331146","relative":"#331146","full":"gitlab-org/gitlab#331146"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":87214060,"iid":331144,"project_id":278964,"title":"[Feature flag] Removal of `ssh_key_expiration_email_notification`","description":"\u003c!-- Title suggestion: [Feature flag] Remove FEATURE_FLAG_NAME --\u003e\n\n## Feature\n\nThe `:ssh_key_expiration_email_notification` feature flag was previously [enabled by default](https://gitlab.com/gitlab-org/gitlab/-/issues/326386) and should be removed.\n\n## Owners\n\n- Group: ~\"group::compliance\"\n- Slack channel: `#g_manage_compliance`\n- DRI: @mwoolf\n- PM: @stkerr\n\n**Removal**\n\nThis is an __important__ phase, that should be either done in the next Milestone or as soon as possible. For the cleanup phase, please follow our documentation on how to  [clean up the feature flag](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up).\n\n- [x] Remove `:feature_name` feature flag\n    - [x] Remove all references to the feature flag from the codebase\n    - [x] Remove the YAML definitions for the feature from the repository\n    - [x] Create a Changelog Entry\n\n- [x] Clean up the feature flag from all environments by running this chatops command in `#production` channel `/chatops run feature delete some_feature`.\n\n- [x] Close this issue after the feature flag is removed from the codebase.","state":"closed","created_at":"2021-05-17T15:23:05.448Z","updated_at":"2021-06-16T13:32:41.408Z","closed_at":"2021-06-15T12:09:54.229Z","closed_by":{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"},"labels":["backend","devops::manage","feature flag","group::compliance","maintenance::refactor","section::dev","workflow::verification"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"}],"author":{"id":4512390,"username":"djensen","name":"Dan Jensen","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4512390/avatar.png","web_url":"https://gitlab.com/djensen"},"type":"ISSUE","assignee":{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/331144","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":6,"completed_count":6},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"6 of 6 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/331144","notes":"https://gitlab.com/api/v4/projects/278964/issues/331144/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/331144/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#331144","relative":"#331144","full":"gitlab-org/gitlab#331144"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":87211189,"iid":331139,"project_id":278964,"title":"Can't change email for group notifications","description":"**Summary**\n\nWhen I try to change my email in notification settings for specific groups, it gives a 404 error. This is caused by the urls using `%2F` instead of a `/` (slash) (I confirmed this by using a curl and only editing the slashes in the url).\n\n**Steps to Reproduce**\n\n1. https://gitlab.com/-/profile/notifications\n2. Try to change your email for any groups you have (you need to have more than 1 email addresses)\n3. 404","state":"closed","created_at":"2021-05-17T14:38:28.379Z","updated_at":"2022-01-06T22:53:56.702Z","closed_at":"2021-12-17T04:54:06.625Z","closed_by":{"id":4093067,"username":"manojmj","name":"Manoj M J","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4093067/avatar.png","web_url":"https://gitlab.com/manojmj"},"labels":["Category:Authentication and Authorization","approaching-SLO","backend","devops::manage","emails","group::authentication and authorization","missed-SLO","missed:14.3","priority::2","section::dev","severity::2","type::bug","user settings","workflow::in review"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[{"id":4093067,"username":"manojmj","name":"Manoj M J","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4093067/avatar.png","web_url":"https://gitlab.com/manojmj"}],"author":{"id":38545,"username":"taylankasap","name":"Taylan Kasap","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/38545/avatar.png","web_url":"https://gitlab.com/taylankasap"},"type":"ISSUE","assignee":{"id":4093067,"username":"manojmj","name":"Manoj M J","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4093067/avatar.png","web_url":"https://gitlab.com/manojmj"},"user_notes_count":16,"merge_requests_count":0,"upvotes":6,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/331139","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/331139","notes":"https://gitlab.com/api/v4/projects/278964/issues/331139/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/331139/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#331139","relative":"#331139","full":"gitlab-org/gitlab#331139"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":87203183,"iid":331133,"project_id":278964,"title":"Add support to suggest metrics names","description":"### Proposal\n\nHave a method that returns the name suggestion corresponding to the implementation and key path\n\n* For non database metrics - build a suggested name\n* For database metrics will return a general placeholder\n\n\nResources: \n\nExisting naming suggestion implementation could be used.\n\n- https://gitlab.com/gitlab-org/gitlab/-/tree/master/lib/gitlab/usage/metrics/names_suggestions\n- https://docs.gitlab.com/ee/development/usage_ping/metrics_dictionary.html#metric-name","state":"closed","created_at":"2021-05-17T13:40:59.736Z","updated_at":"2021-06-18T07:09:12.789Z","closed_at":"2021-06-08T06:37:13.944Z","closed_by":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"labels":["Deliverable","backend","devops::growth","group::product intelligence","milestone::p1","section::growth","workflow::production"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"}],"author":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"type":"ISSUE","assignee":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/331133","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/331133","notes":"https://gitlab.com/api/v4/projects/278964/issues/331133/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/331133/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#331133","relative":"#331133","full":"gitlab-org/gitlab#331133"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6116,"epic":{"id":283521,"iid":6116,"title":"MVC for usage ping generated using YAML files","url":"/groups/gitlab-org/-/epics/6116","group_id":9970,"human_readable_end_date":"Jun 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":87198571,"iid":331121,"project_id":278964,"title":"Cleanup policies, fix `.requiring_cleanup` scope","description":"### Summary\n\nSmall container repositories will get cleaned up many times during a single policy execution due to this [scope](https://gitlab.com/gitlab-org/gitlab/-/blob/6f6e21c699530b1d1abfc61b8230a643d107e1b5/app/models/container_repository.rb#L49). What happens is that the repository will do `ongoing` -\u003e `unscheduled` -\u003e `ongoing` -\u003e `unscheduled` -\u003e ... until the policy's `next_run_at` is scheduled to a future time.\n\n### Solution\n\nUpdate the scope so that repositories are only cleaned *once* per policy executions.","state":"closed","created_at":"2021-05-17T12:46:46.701Z","updated_at":"2021-06-04T07:58:05.109Z","closed_at":"2021-06-04T07:58:05.076Z","closed_by":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"labels":["Category:Container Registry","backend","devops::package","group::package registry","package:active","ruby","section::ops","type::bug","workflow::production"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"}],"author":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"type":"ISSUE","assignee":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"user_notes_count":12,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/331121","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/331121","notes":"https://gitlab.com/api/v4/projects/278964/issues/331121/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/331121/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#331121","relative":"#331121","full":"gitlab-org/gitlab#331121"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null}]