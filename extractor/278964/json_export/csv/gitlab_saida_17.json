[{"id":110489577,"iid":365886,"project_id":278964,"title":"Support injecting the certificate for self signed KAS/gitlab into the kubeconfig directly","description":"### Problem to solve \n\nWhen using a self-signed certificate with GitLab, the CI/CD tunnel does not work out of the box:\n\n```\n$ kubectl config get-contexts\nCURRENT  NAME              CLUSTER  AUTHINFO  NAMESPACE`\nagent/config/project:the-agent  gitlab   agent:1\n$ kubectl config use-context test/test:sandbox`\nSwitched to context \"agent/config/project:the-agent\".\n$ kubectl get pods\nUnable to connect to the server: x509: certificate signed by unknown authority\n```\n\n#### Current workaround\n\nThe user can do **one** of the following:\n\n- set a CI/CD variable `SSL_CERT_FILE` with their KAS certificate in PEM format\n- or, configure their kubernetes clients with `--certificate-authority=$KAS_CERTIFICATE`, where `KAS_CERTIFICATE` is a CI/CD variable with the CA certificate for their KAS host\n- or, configure their kubernetes client `--insecure-skip-tls-verify=true` (_not recommended_)\n\n### Proposal\n\nAdd an optional GitLab configuration\n\n```yml\n# config/gitlab.yml\nproduction:\n  gitlab_kas:\n    # ...\n    ca_certificate_file: /path/to/kas/certificate.crt\n```\n\nWhen present, feed the value of the certificate into `certificate-authority-data` in the GitLab-generated `KUBECONFIG` in CI/CD.\n\nThis configuration should also be exposed in GitLab Omnibus and the GitLab Helm chart. In a follow up, consider automatically configuring the value.\n\n### Further details\n\nFor implementation, you can follow along the following MRs, adding configuration for KAS to GitLab, Omnibus and the GitLab Helm Chart:\n\n- https://gitlab.com/gitlab-org/gitlab/-/merge_requests/54260\n- https://gitlab.com/gitlab-org/omnibus-gitlab/-/merge_requests/5016\n- https://gitlab.com/gitlab-org/charts/gitlab/-/merge_requests/1879\n\n### Permissions and Security\n\n\u003c!-- What permissions are required to perform the described actions? Are they consistent with the existing permissions as documented for users, groups, and projects as appropriate? Is the proposed behavior consistent between the UI, API, and other access methods (e.g. email replies)?\nConsider adding checkboxes and expectations of users with certain levels of membership https://docs.gitlab.com/ee/user/permissions.html\n* [ ] Add expected impact to members with no access (0)\n* [ ] Add expected impact to Guest (10) members\n* [ ] Add expected impact to Reporter (20) members\n* [ ] Add expected impact to Developer (30) members\n* [ ] Add expected impact to Maintainer (40) members\n* [ ] Add expected impact to Owner (50) members --\u003e\n\n### Documentation\n\n\u003c!-- See the Feature Change Documentation Workflow https://docs.gitlab.com/ee/development/documentation/workflow.html#for-a-product-change\n\n* Add all known Documentation Requirements in this section. See https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html#documentation-requirements\n* If this feature requires changing permissions, update the permissions document. See https://docs.gitlab.com/ee/user/permissions.html --\u003e\n\n### Availability \u0026 Testing\n\n\u003c!-- This section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\nWhat risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning --\u003e\n\n### What does success look like, and how can we measure that?\n\n\u003c!--\nDefine both the success metrics and acceptance criteria. Note that success metrics indicate the desired business outcomes, while acceptance criteria indicate when the solution is working correctly. If there is no way to measure success, link to an issue that will implement a way to measure this.\n\nCreate tracking issue using the the Snowplow event tracking template. See https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Snowplow%20event%20tracking.md\n--\u003e\n\n### What is the type of buyer?\n\n\u003c!-- What is the buyer persona for this feature? See https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/buyer-persona/\nIn which enterprise tier should this feature go? See https://about.gitlab.com/handbook/product/pricing/#four-tiers --\u003e\n\n### Is this a cross-stage feature?\n\n\u003c!-- Communicate if this change will affect multiple Stage Groups or product areas. We recommend always start with the assumption that a feature request will have an impact into another Group. Loop in the most relevant PM and Product Designer from that Group to provide strategic support to help align the Group's broader plan and vision, as well as to avoid UX and technical debt. https://about.gitlab.com/handbook/product/#cross-stage-features --\u003e\n\n### Links / references\n\n\u003c!--  Label reminders - you should have one of each of the following labels.\nRead the descriptions on https://gitlab.com/gitlab-org/gitlab/-/labels to find the correct ones --\u003e","state":"closed","created_at":"2022-06-21T16:50:56.953Z","updated_at":"2022-07-07T18:21:12.139Z","closed_at":"2022-07-05T19:12:39.110Z","closed_by":{"id":4545061,"username":"nagyv-gitlab","name":"Viktor Nagy (GitLab)","state":"active","avatar_url":"https://secure.gravatar.com/avatar/fb255c1e9c228b9356af165939b3ac9b?s=80\u0026d=identicon","web_url":"https://gitlab.com/nagyv-gitlab"},"labels":["[deprecated] Accepting merge requests","backend","customer","devops::configure","feature::enhancement","group::configure","section::ops","type::feature","workflow::ready for development"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":3354822,"username":"dperic","name":"DanielP","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4990109ad74a71f224785cdb74373cef?s=80\u0026d=identicon","web_url":"https://gitlab.com/dperic"},"type":"ISSUE","assignee":null,"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/365886","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":6,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 6 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/365886","notes":"https://gitlab.com/api/v4/projects/278964/issues/365886/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/365886/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#365886","relative":"#365886","full":"gitlab-org/gitlab#365886"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3329,"epic":{"id":54574,"iid":3329,"title":"GitLab Agent for Kubernetes","url":"/groups/gitlab-org/-/epics/3329","group_id":9970,"human_readable_end_date":"May 17, 2023","human_readable_timestamp":"\u003cstrong\u003e4\u003c/strong\u003e months remaining"},"iteration":null,"health_status":null},{"id":110485238,"iid":365876,"project_id":278964,"title":"[Feature flag] Rollout of `ci_value_change_for_processable_and_rules_entry`","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n## Summary\n\nThis issue is to rollout !90238 on production,\nthat is currently behind the `ci_value_change_for_processable_and_rules_entry` feature flag.\n\n\u003c!-- Short description of what the feature is about and link to relevant other issues. --\u003e\n\n## Owners\n\n- Team: ~\"group::pipeline authoring\" \n- Most appropriate slack channel to reach out to: `#g_pipeline-authoring`\n- Best individual to reach out to: @furkanayhan \n- PM: `@dhershkovitch`\n\n## Expectations\n\n### What are we expecting to happen?\n\nWe expect nothing to change because it is a refactoring.\n\n### What might happen if this goes wrong?\n\nRules may be evaluated wrongly and some jobs are not created while they need to be, or vice versa.\n\nWe can safely disable the feature flag.\n\n### What can we monitor to detect problems with this?\n\n* We should not see a decrease of 201 response code of `Projects::PipelinesController#create` endpoint: https://log.gprd.gitlab.net/goto/7d638af810e4b002de03d9df7132175c\n* We should not see an increase of pipeline creation errors via `PostReceive`: https://log.gprd.gitlab.net/goto/1f47665f46009eab2b3e142a251ac17c\n  * This metric is not enough itself because it is just a **number**. We should provide a metric like; errors / total number of enqueued workers `PostReceive`. Help?\n  * For now; compare it with: https://log.gprd.gitlab.net/goto/542b35f80796baf5163d870af8796391\n\n## Rollout Steps\n\n### Rollout on non-production environments\n\n- Ensure that the feature MRs have been deployed to non-production environments.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- [x] Enable the feature globally on non-production environments.\n    - [x] `/chatops run feature set ci_value_change_for_processable_and_rules_entry true --dev --staging`\n- [x] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n      The best environment to validate the feature in is [staging-canary](https://about.gitlab.com/handbook/engineering/infrastructure/environments/#staging-canary)\n      as this is the first environment deployed to. Note you will need to make sure you are configured to use canary as outlined [here](https://about.gitlab.com/handbook/engineering/infrastructure/environments/canary-stage/)\n      when accessing the staging environment in order to make sure you are testing appropriately.\n\n### Global rollout on production\n- [X] Announce on [the feature issue](ISSUE LINK) that the feature has been globally enabled.\n- [x] Wait for [at least one day for the verification term](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release).\n\n### Release the feature\n\n- [x] Create a merge request to remove `ci_value_change_for_processable_and_rules_entry` feature flag. Ask for review and merge it.\n    - [x] Remove all references to the feature flag from the codebase.\n    - [x] Remove the YAML definitions for the feature from the repository.\n    - [x] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [-] Ensure that the cleanup MR has been included in the release package.\n      If the merge request was deployed before [the monthly release was tagged](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [-] `/chatops run release check \u003cmerge-request-url\u003e \u003cmilestone\u003e`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [x] If not already done, clean up the feature flag from all environments by running these chatops command in `#production` channel:\n    - [x] `/chatops run feature delete ci_value_change_for_processable_and_rules_entry --dev --staging --production`\n- [x] Close this rollout issue.\n\n## Rollback Steps\n\n- This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set ci_value_change_for_processable_and_rules_entry false\n```","state":"closed","created_at":"2022-06-21T15:32:14.951Z","updated_at":"2022-07-15T11:14:25.663Z","closed_at":"2022-07-15T11:14:25.648Z","closed_by":{"id":3946912,"username":"lauraX","name":"Laura Montemayor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3946912/avatar.png","web_url":"https://gitlab.com/lauraX"},"labels":["backend","feature flag","feature::addition","type::feature","workflow::in review"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"},{"id":3946912,"username":"lauraX","name":"Laura Montemayor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3946912/avatar.png","web_url":"https://gitlab.com/lauraX"}],"author":{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"},"type":"ISSUE","assignee":{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/365876","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":14,"completed_count":13},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"13 of 14 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/365876","notes":"https://gitlab.com/api/v4/projects/278964/issues/365876/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/365876/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#365876","relative":"#365876","full":"gitlab-org/gitlab#365876"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":110483099,"iid":365870,"project_id":278964,"title":"Clean up migrate_vulnerability_finding_uuids feature flag","description":"## Summary\n\nThis issue is to cleanup the `migrate_vulnerability_finding_uuids` feature flag, after the feature flag has been enabled by default for an appropriate amount of time in production.\n\n## Owners\n\n- Team: Secure - Threat Insights\n- Most appropriate slack channel to reach out to: `#g_secure_threat_insights`\n- Best individual to reach out to: @Quintasan \n- PM: @thiagocsf \n\n## Stakeholders\n\n## Expectations\n\n### What might happen if this goes wrong?\n\n### Cleaning up the feature flag\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [X] Create a merge request to remove `migrate_vulnerability_finding_uuids` feature flag. Ask for review and merge it.\n    - [X] Remove all references to the feature flag from the codebase.\n    - [X] Remove the YAML definitions for the feature from the repository.\n    - [X] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [x] Ensure that the cleanup MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-cleanup-mr\u003e`\n- [x] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [x] If not already done, clean up the feature flag from all environments by running these chatops command in `#production` channel:\n    - [x] `/chatops run feature delete migrate_vulnerability_finding_uuids --dev`\n    - [x] `/chatops run feature delete migrate_vulnerability_finding_uuids --staging`\n    - [x] `/chatops run feature delete migrate_vulnerability_finding_uuids`\n- [x] Close this rollout issue.","state":"closed","created_at":"2022-06-21T15:02:48.324Z","updated_at":"2022-06-22T21:04:37.975Z","closed_at":"2022-06-22T21:04:37.943Z","closed_by":{"id":487608,"username":"Quintasan","name":"Michał Zając","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/487608/avatar.png","web_url":"https://gitlab.com/Quintasan"},"labels":["backend","feature flag","feature::addition","type::feature","workflow::in dev"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":487608,"username":"Quintasan","name":"Michał Zając","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/487608/avatar.png","web_url":"https://gitlab.com/Quintasan"}],"author":{"id":487608,"username":"Quintasan","name":"Michał Zając","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/487608/avatar.png","web_url":"https://gitlab.com/Quintasan"},"type":"ISSUE","assignee":{"id":487608,"username":"Quintasan","name":"Michał Zając","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/487608/avatar.png","web_url":"https://gitlab.com/Quintasan"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/365870","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":12,"completed_count":12},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"12 of 12 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/365870","notes":"https://gitlab.com/api/v4/projects/278964/issues/365870/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/365870/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#365870","relative":"#365870","full":"gitlab-org/gitlab#365870"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":110481624,"iid":365862,"project_id":278964,"title":"[Feature flag] Rollout of `ci_minimal_cost_factor_for_gitlab_contributors`","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n## Summary\n\nThis issue is to rollout https://gitlab.com/gitlab-org/gitlab/-/issues/365447+ on production,\nthat is currently behind the `ci_minimal_cost_factor_for_gitlab_contributors` feature flag.\n\n\u003c!-- Short description of what the feature is about and link to relevant other issues. --\u003e\n\n## Owners\n\n- Team: ~\"group::pipeline execution\" \n- Most appropriate slack channel to reach out to: `#g_pipeline-execution`\n- Best individual to reach out to: @fabiopitino\n- PM: @jheimbuck_gl \n\n## Stakeholders\n\n\u003c!--\nAre there any other stages or teams involved that need to be kept in the loop?\n\n- Name of a PM\n- The Support Team\n- The Delivery Team\n--\u003e\n\n## Expectations\n\n### What are we expecting to happen?\n\nWhen the feature flag is enabled we should expect merge request pipelines from ~\"Community contribution\" to `gitlab-org` and `gitlab-com` projects to receive a low cost factor that enables contributors to use up to 300,000 minutes of shared runners. This quantity should make contributors to comfortably run enough pipelines throughout the month.\n\nWe are also logging contributions in Kibana so we should expect the following logs to appear:\n\n```ruby\nGitlab::AppLogger.info(\n  message: \"GitLab contributor cost factor granted\",\n  cost_factor: gitlab_contribution_cost_factor,\n  project_path: @build.project.full_path,\n  pipeline_id: @build.pipeline_id)\n```\n\nThis feature flag should not affect contributions from forks targeting projects outside `gitlab-org` or `gitlab-com` groups or any other public projects.\n\n### When is the feature viable?\n\nAs soon as https://gitlab.com/gitlab-org/gitlab/-/merge_requests/89742+ is merged.\n\n### What might happen if this goes wrong?\n\nWe need to ensure that the expected behavior is happening and that we are not granting a low cost factor to pipelines outside the defined condition. For example:\n- pipelines not from forks\n- pipelines from other forks not targeting GitLab projects\n- non merge request pipelines\n\nNote that we currently have an open bug https://gitlab.com/gitlab-org/gitlab/-/issues/364282 where CI minutes consumption is not accumulated in specific scenarios described in the issue.\n\n### What can we monitor to detect problems with this?\n\n- Sentry errors\n- Track errors and performance of `PUT /jobs/:id` runner endpoint - ensure no errors occur and no performance degradation\n- Track errors and performance of `PATCH /jobs/:id/trace` runner endpoint - ensure no errors occur and no performance degradation\n\n### What can we check for monitoring production after rollouts?\n\nSame as above.\n\n## Rollout Steps\n\n### Rollout on non-production environments\n\n- Ensure that the feature MRs have been deployed to non-production environments.\n    - [x] `/chatops run auto_deploy status 906c4fd0b54b4feaf2d69149bb7113ed50ada1c4`\n- [x] Enable the feature globally on non-production environments.\n    - [x] `/chatops run feature set ci_minimal_cost_factor_for_gitlab_contributors true --dev --staging`\n- [x] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n      The best environment to validate the feature in is [staging-canary](https://about.gitlab.com/handbook/engineering/infrastructure/environments/#staging-canary)\n      as this is the first environment deployed to. Note you will need to make sure you are configured to use canary as outlined [here](https://about.gitlab.com/handbook/engineering/infrastructure/environments/canary-stage/)\n      when accessing the staging environment in order to make sure you are testing appropriately.\n\n### Specific rollout on production\n\n- Ensure that the feature MRs have been deployed to both production and canary.\n    - [x] `/chatops run auto_deploy status 906c4fd0b54b4feaf2d69149bb7113ed50ada1c4`\n- If you're using [project-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [x] `/chatops run feature set --project=gitlab-org/gitlab,gitlab-org/gitlab-foss,gitlab-com/www-gitlab-com ci_minimal_cost_factor_for_gitlab_contributors true`\n    - [x] /chatops run feature set --namespace=gitlab-org,gitlab-com  ci_minimal_cost_factor_for_gitlab_namespaces true\n- [x] Verify that the feature works on the specific entries. Posting the QA result in this issue is preferable.\n\n### Preparation before global rollout\n\n- [x] Ensure that you or a representative in development can be available for at least 2 hours after feature flag updates in production.\n  If a different developer will be covering, or an exception is needed, please inform the oncall SRE by using the `@sre-oncall` Slack alias.\n- [x] Announce on [the feature issue](ISSUE LINK) an estimated time this will be enabled on GitLab.com. \n- [ ] Notify `#support_gitlab-com` and your team channel ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#communicate-the-change)).\n\n### Global rollout on production\n\nFor visibility, all `/chatops` commands that target production should be executed in the `#production` slack channel and cross-posted (with the command results) to the responsible team's slack channel (`#g_TEAM_NAME`).\n\n- [x] [Incrementally roll out](https://docs.gitlab.com/ee/development/feature_flags/controls.html#process) the feature.\n  - If the feature flag in code has [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform **actor-based** rollout.\n    - [x] `/chatops run feature set ci_minimal_cost_factor_for_gitlab_contributors 25 --actors`\n  - If the feature flag in code does **NOT** have [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform time-based rollout (**random** rollout).\n    - [x] `/chatops run feature set ci_minimal_cost_factor_for_gitlab_contributors true`\n- [x] Announce on [the feature issue](ISSUE LINK) that the feature has been globally enabled.\n- [x] Wait for [at least one day for the verification term](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release).\n\n### Release the feature\n\nAfter the feature has been [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release),\nthe [clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up)\nshould be done as soon as possible to permanently enable the feature and reduce complexity in the\ncodebase.\n\nYou can either [create a follow-up issue for Feature Flag Cleanup](https://gitlab.com/gitlab-org/gitlab/-/issues/new?issuable_template=Feature%20Flag%20Cleanup) or use the checklist below in this same issue.\n\n- [x] Create a merge request to remove `ci_minimal_cost_factor_for_gitlab_contributors` feature flag. Ask for review and merge it.\n    - [x] https://gitlab.com/gitlab-org/gitlab/-/merge_requests/92584\n- [x] Ensure that the cleanup MR has been included in the release package.\n      If the merge request was deployed before [the monthly release was tagged](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [x] `/chatops run release check https://gitlab.com/gitlab-org/gitlab/-/merge_requests/89742 \u003cmilestone\u003e`\n- [x] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [x] If not already done, clean up the feature flag from all environments by running these chatops command in `#production` channel:\n    - [x] `/chatops run auto_deploy status b5058709` \n    - [x] `/chatops run feature delete ci_minimal_cost_factor_for_gitlab_contributors --dev --staging`\n    - [x] `/chatops run auto_deploy status b5058709` \n    - [x] `/chatops run feature delete ci_minimal_cost_factor_for_gitlab_contributors --production`\n\n- [x] Close this rollout issue.\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set ci_minimal_cost_factor_for_gitlab_contributors false\n```","state":"closed","created_at":"2022-06-21T14:37:34.075Z","updated_at":"2022-08-03T00:38:19.991Z","closed_at":"2022-07-21T20:29:45.206Z","closed_by":{"id":4626651,"username":"allison.browne","name":"Allison Browne","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4bc33904c3bd3f2dce3db4e5af4ad1ae?s=80\u0026d=identicon","web_url":"https://gitlab.com/allison.browne"},"labels":["CI minutes","Category:Continuous Integration","backend","devops::verify","feature flag","feature::enhancement","group::pipeline execution","section::ops","type::feature","workflow::production"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":4626651,"username":"allison.browne","name":"Allison Browne","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4bc33904c3bd3f2dce3db4e5af4ad1ae?s=80\u0026d=identicon","web_url":"https://gitlab.com/allison.browne"}],"author":{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"},"type":"ISSUE","assignee":{"id":4626651,"username":"allison.browne","name":"Allison Browne","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4bc33904c3bd3f2dce3db4e5af4ad1ae?s=80\u0026d=identicon","web_url":"https://gitlab.com/allison.browne"},"user_notes_count":6,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/365862","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":28,"completed_count":26},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"26 of 28 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/365862","notes":"https://gitlab.com/api/v4/projects/278964/issues/365862/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/365862/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#365862","relative":"#365862","full":"gitlab-org/gitlab#365862"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":110479872,"iid":365859,"project_id":278964,"title":"Backend: Stop expanding file variables when sending to Runner","description":"## Summary\n\nThis issue is extracted from https://gitlab.com/gitlab-org/gitlab/-/issues/29407\n\nFrom the comments https://gitlab.com/gitlab-org/gitlab/-/issues/29407#note_947110258 and https://gitlab.com/gitlab-org/gitlab/-/issues/29407#note_989127953\n\n| Step | Status |\n| ------ | ------ |\n| **1. GitLab: Stop expanding file variables when sending to Runner** | :point_left: You are here |\n| 2. Runner: Refactor the creation of the job temporary file path | https://gitlab.com/gitlab-org/gitlab-runner/-/issues/29128 |\n| 3. Fix file variables in Runner | https://gitlab.com/gitlab-org/gitlab/-/issues/29407 |\n\nTODOs:\n- GitLab needs to start sending file variables to Runner non-expanded because Runner already does this.\n- Use a feature flag.\n\n## Technical proposal\n\nfrom: https://gitlab.com/gitlab-org/gitlab/-/issues/29407#note_906397647\n\nAdded some file variables; ![Screen_Shot_2022-04-08_at_19.22.47](https://gitlab.com/gitlab-org/gitlab/uploads/3b0c55bade7a385c063f1ef67b337d4f/Screen_Shot_2022-04-08_at_19.22.47.png)\n\nUsed this config YAML which includes some examples from comments in this and another issue;\n\n```yaml\nvariables:\n    EXTRA_ARGS: \"-f $TEST_FILE\"\n    DOCKER_REMOTE_ARGS: --tlscacert=\"$DOCKER_CA_CERT\"\n    EXTRACTED_CRT_FILE: ${DOCKER_CA_CERT}.crt\n    MY_FILE_VAR: $TEST_FILE\n\ntest:\n    script:\n        - echo \"run something $EXTRA_ARGS\"\n        - echo \"docker run $DOCKER_REMOTE_ARGS\"\n        - echo \"run --output=$EXTRACTED_CRT_FILE\"\n        - echo \"Will read private key from $MY_FILE_VAR\"\n```\n\n## Currently\n\nWhen Runner asks the job, GitLab send the job variables in this format;\n\n```ruby\n {:key=\u003e\"TEST_FILE\", :value=\u003e\"hello, this is test\", :public=\u003efalse, :file=\u003etrue, :masked=\u003efalse},\n {:key=\u003e\"EXTRA_ARGS\", :value=\u003e\"-f hello, this is test\", :public=\u003etrue, :masked=\u003efalse},\n {:key=\u003e\"DOCKER_CA_CERT\", :value=\u003e\"BEGIN\\nthis is secret\\nEND\", :public=\u003efalse, :file=\u003etrue, :masked=\u003efalse},\n {:key=\u003e\"DOCKER_REMOTE_ARGS\", :value=\u003e\"--tlscacert=\\\"BEGIN\\nthis is secret\\nEND\\\"\", :public=\u003etrue, :masked=\u003efalse},\n {:key=\u003e\"EXTRACTED_CRT_FILE\", :value=\u003e\"BEGIN\\nthis is secret\\nEND.crt\", :public=\u003etrue, :masked=\u003efalse},\n {:key=\u003e\"MY_FILE_VAR\", :value=\u003e\"hello, this is test\", :public=\u003etrue, :masked=\u003efalse},\n```\n\nAs you can see, file variables are expanded into YAML variables.\n\nJob result:\n\n![Screen_Shot_2022-04-08_at_19.27.06](https://gitlab.com/gitlab-org/gitlab/uploads/06dcb20f0f2d26a50d8838d579be4027/Screen_Shot_2022-04-08_at_19.27.06.png)\n\n## Proposal\n\nWith this POC change;\n\n```diff\n--- a/lib/gitlab/ci/variables/collection.rb\n+++ b/lib/gitlab/ci/variables/collection.rb\n@@ -78,7 +78,7 @@ def expand_value(value, keep_undefined: false)\n             if match[:key]\n               # we matched variable\n               if variable = self[match[:key]]\n-                variable.value\n+                variable.file? ? match[0] : variable.value\n               elsif keep_undefined\n                 match[0]\n               end\n```\n\nGitLab start sending variables of the job like this;\n\n```ruby\n {:key=\u003e\"TEST_FILE\", :value=\u003e\"hello, this is test\", :public=\u003efalse, :file=\u003etrue, :masked=\u003efalse},\n {:key=\u003e\"EXTRA_ARGS\", :value=\u003e\"-f $TEST_FILE\", :public=\u003etrue, :masked=\u003efalse},\n {:key=\u003e\"DOCKER_CA_CERT\", :value=\u003e\"BEGIN\\nthis is secret\\nEND\", :public=\u003efalse, :file=\u003etrue, :masked=\u003efalse},\n {:key=\u003e\"DOCKER_REMOTE_ARGS\", :value=\u003e\"--tlscacert=\\\"$DOCKER_CA_CERT\\\"\", :public=\u003etrue, :masked=\u003efalse},\n {:key=\u003e\"EXTRACTED_CRT_FILE\", :value=\u003e\"${DOCKER_CA_CERT}.crt\", :public=\u003etrue, :masked=\u003efalse},\n {:key=\u003e\"MY_FILE_VAR\", :value=\u003e\"$TEST_FILE\", :public=\u003etrue, :masked=\u003efalse},\n```\n\nAs you can see, file variables are not expanded. However, now they are expanded by Runner;\n\n![Screen_Shot_2022-04-08_at_19.33.59](https://gitlab.com/gitlab-org/gitlab/uploads/45ee9b648dce16ff3b7b081122fb7cad/Screen_Shot_2022-04-08_at_19.33.59.png)","state":"closed","created_at":"2022-06-21T14:15:24.434Z","updated_at":"2022-09-20T17:21:36.655Z","closed_at":"2022-08-22T09:54:16.683Z","closed_by":{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"},"labels":["Category:Pipeline Authoring","backend","candidate::15.3","devops::verify","group::pipeline authoring","section::ops","severity::2","type::feature","workflow::production"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"}],"author":{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"},"type":"ISSUE","assignee":{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"},"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/365859","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/365859","notes":"https://gitlab.com/api/v4/projects/278964/issues/365859/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/365859/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#365859","relative":"#365859","full":"gitlab-org/gitlab#365859"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":{"id":65958,"iid":78,"sequence":23,"group_id":9970,"title":null,"description":null,"state":3,"created_at":"2022-06-24T00:05:02.620Z","updated_at":"2022-09-05T00:05:02.060Z","start_date":"2022-08-22","due_date":"2022-09-04","web_url":"https://gitlab.com/groups/gitlab-org/-/iterations/65958"},"health_status":"on_track"},{"id":110470931,"iid":365847,"project_id":278964,"title":"Award emojis API for an internal note is accessible to users without access to the note","description":"Steps to reproduce:\n\n1. Create an internal note and award an emoji to it\n2. As a user with access to the issue but not the note, request `/api/v4/projects/:id/issues/:issue_iid/notes/:note_id/award_emoji`\n3. See emojis awarded to the note\n\nThis happens because in the award emoji API, we only check the `read_xxx` access to the parent noteable: https://gitlab.com/gitlab-org/gitlab/-/blob/dd1e70d3676891025534dc4a1e89ca9383178fe7/lib/api/award_emoji.rb#L104-105\n\nThis requires a `note_id` so it is not easy to exploit, but you can get `note_id` from email notifications if the user previously had access to the note.","state":"closed","created_at":"2022-06-21T11:56:21.481Z","updated_at":"2022-12-16T18:03:47.613Z","closed_at":"2022-11-02T16:12:40.311Z","closed_by":{"id":3509693,"username":"nicolasdular","name":"Nicolas Dular","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c4a21f15150c12ddf13fd848597cddd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/nicolasdular"},"labels":["Track Health Status","auto updated","backend","bug::vulnerability","devops::plan","group::product planning","missed:15.5","priority::3","section::dev","security","severity::4","type::bug","workflow::verification"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":3509693,"username":"nicolasdular","name":"Nicolas Dular","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c4a21f15150c12ddf13fd848597cddd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/nicolasdular"}],"author":{"id":2880930,"username":"engwan","name":"Heinrich Lee Yu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2880930/avatar.png","web_url":"https://gitlab.com/engwan"},"type":"ISSUE","assignee":{"id":3509693,"username":"nicolasdular","name":"Nicolas Dular","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c4a21f15150c12ddf13fd848597cddd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/nicolasdular"},"user_notes_count":17,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2022-12-21","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/365847","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/365847","notes":"https://gitlab.com/api/v4/projects/278964/issues/365847/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/365847/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#365847","relative":"#365847","full":"gitlab-org/gitlab#365847"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":110467702,"iid":365840,"project_id":278964,"title":"Add DAST scan configuration and latest pipeline details  - Backend","description":"### Proposal \n\n~frontend needs the following information to be displayed on the [DAST Configuration Page](https://gitlab.com/gitlab-org/gitlab/-/security/configuration/dast):\n\n1. Is DAST configured?\n1. Latest pipeline details\n   1. timestamp\n   1. pipeline id\n   1. pipeline path\n\n### Designs\n\n![dast_status](/uploads/294a3c32ef393b3d8ae421fa6f121aa5/dast_status.png)\n\n### Implementation Plan\n\n~frontend task - https://gitlab.com/gitlab-org/gitlab/-/issues/365407\n\n~backend plan: TBD","state":"closed","created_at":"2022-06-21T10:50:00.425Z","updated_at":"2022-08-01T03:22:55.024Z","closed_at":"2022-07-26T06:02:56.547Z","closed_by":{"id":8995688,"username":"atiwari71","name":"Aditya Tiwari","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8995688/avatar.png","web_url":"https://gitlab.com/atiwari71"},"labels":["Category:DAST","backend","devops::secure","group::dynamic analysis","section::sec","type::feature","workflow::refinement"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":8995688,"username":"atiwari71","name":"Aditya Tiwari","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8995688/avatar.png","web_url":"https://gitlab.com/atiwari71"}],"author":{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"},"type":"ISSUE","assignee":{"id":8995688,"username":"atiwari71","name":"Aditya Tiwari","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8995688/avatar.png","web_url":"https://gitlab.com/atiwari71"},"user_notes_count":18,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/365840","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/365840","notes":"https://gitlab.com/api/v4/projects/278964/issues/365840/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/365840/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#365840","relative":"#365840","full":"gitlab-org/gitlab#365840"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8373,"epic":{"id":565709,"iid":8373,"title":"DAST CI/CD configuration polish","url":"/groups/gitlab-org/-/epics/8373","group_id":9970,"human_readable_end_date":"Aug 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":110465880,"iid":365839,"project_id":278964,"title":"Frontend: Add path or untracked to the .gitlab-ci.yml JSON schema","description":"### Problem\nPipeline caching will not be kicked in if cache is missing `paths` or `untracked`\n\n### Proposal\n\nLet's add path or untracked to the JSON schema","state":"closed","created_at":"2022-06-21T10:19:50.981Z","updated_at":"2022-11-17T20:38:13.534Z","closed_at":"2022-11-15T06:47:22.793Z","closed_by":{"id":7598233,"username":"mgandres","name":"Mireya Andres","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c96bce45a06f2dd722144db3f52456bf?s=80\u0026d=identicon","web_url":"https://gitlab.com/mgandres"},"labels":["Category:Pipeline Authoring","Technical Writing","UI text","auto updated","candidate::15.6","devops::verify","feature::addition","frontend","group::pipeline authoring","section::ops","type::maintenance","workflow::production"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":7598233,"username":"mgandres","name":"Mireya Andres","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c96bce45a06f2dd722144db3f52456bf?s=80\u0026d=identicon","web_url":"https://gitlab.com/mgandres"}],"author":{"id":4509877,"username":"dhershkovitch","name":"Dov Hershkovitch","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7daa3113f0359f08a217fa800d9cc1d2?s=80\u0026d=identicon","web_url":"https://gitlab.com/dhershkovitch"},"type":"ISSUE","assignee":{"id":7598233,"username":"mgandres","name":"Mireya Andres","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c96bce45a06f2dd722144db3f52456bf?s=80\u0026d=identicon","web_url":"https://gitlab.com/mgandres"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/365839","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/365839","notes":"https://gitlab.com/api/v4/projects/278964/issues/365839/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/365839/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#365839","relative":"#365839","full":"gitlab-org/gitlab#365839"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":110464409,"iid":365838,"project_id":278964,"title":"Add post-deployment migration that checks BackfillImportedIssueSearchData background migration is completed.","description":"Once https://gitlab.com/gitlab-org/gitlab/-/merge_requests/90378 is deployed to production, in the _next release_ we need to add a post-deployment migration that checks that the batched background migration is completed.\n\nMore details [about batched background migrations](https://docs.gitlab.com/ee/development/database/batched_background_migrations.html).","state":"closed","created_at":"2022-06-21T09:56:12.073Z","updated_at":"2022-08-12T16:05:09.397Z","closed_at":"2022-08-12T16:05:09.374Z","closed_by":{"id":11342168,"username":"carlad-gl","name":"Carla Drago","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11342168/avatar.png","web_url":"https://gitlab.com/carlad-gl"},"labels":["Category:Importers","Importer:GitHub","Migration","Next Up","[deprecated] Accepting merge requests","database","devops::manage","group::import","section::dev","type::maintenance"],"milestone":null,"assignees":[],"author":{"id":11342168,"username":"carlad-gl","name":"Carla Drago","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11342168/avatar.png","web_url":"https://gitlab.com/carlad-gl"},"type":"ISSUE","assignee":null,"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/365838","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/365838","notes":"https://gitlab.com/api/v4/projects/278964/issues/365838/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/365838/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#365838","relative":"#365838","full":"gitlab-org/gitlab#365838"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":110450932,"iid":365823,"project_id":278964,"title":"Highlight conflicts on diff of conflicted file with the rest of the changes","description":"## Background\n\nIn https://gitlab.com/gitlab-org/gitlab/-/issues/276918#note_974980765, we received a feedback wherein it's confusing that when a file is conflicted and it has other changes that weren't conflicted, only the conflicted parts will be shown.\n\n## Proposal\n\nHighlight the conflicted parts of the diff file with the rest of the changes. Technical implementation TBD (needs investigation).\n\nAlso consider if the non-conflicted changes can also be shown in the conflict editor.\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2022-06-21T05:24:30.105Z","updated_at":"2022-11-21T12:01:46.758Z","closed_at":"2022-11-02T06:54:45.660Z","closed_by":{"id":1884221,"username":"patrickbajao","name":"Patrick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1884221/avatar.png","web_url":"https://gitlab.com/patrickbajao"},"labels":["Deliverable","GitLab Free","Technical Writing","Track Health Status","UX","backend","devops::create","direction","documentation","feature::enhancement","group::code review","missed-deliverable","missed:15.3","missed:15.4","section::dev","type::feature"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":1884221,"username":"patrickbajao","name":"Patrick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1884221/avatar.png","web_url":"https://gitlab.com/patrickbajao"}],"author":{"id":1884221,"username":"patrickbajao","name":"Patrick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1884221/avatar.png","web_url":"https://gitlab.com/patrickbajao"},"type":"ISSUE","assignee":{"id":1884221,"username":"patrickbajao","name":"Patrick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1884221/avatar.png","web_url":"https://gitlab.com/patrickbajao"},"user_notes_count":17,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/365823","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/365823","notes":"https://gitlab.com/api/v4/projects/278964/issues/365823/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/365823/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#365823","relative":"#365823","full":"gitlab-org/gitlab#365823"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4893,"epic":{"id":142729,"iid":4893,"title":"Merge conflicts in diffs","url":"/groups/gitlab-org/-/epics/4893","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":110449333,"iid":365820,"project_id":278964,"title":"FE: Create schedule cluster rule component","description":"\u003c!--\nImplementation issues are used break-up a large piece of work into small, discrete tasks that can\nmove independently through the build workflow steps. They're typically used to populate a Feature\nEpic. Once created, an implementation issue is usually refined in order to populate and review the\nimplementation plan and weight.\nExample workflow: https://about.gitlab.com/handbook/engineering/development/threat-management/planning/diagram.html#plan\n--\u003e\n\n## Why are we doing this work\n- Users want to create rules that are based off of a schedule \n\n## Relevant links\n![image](/uploads/2aa102737dcf8494762d98afdc8be6ec/image.png)\n\n## Non-functional requirements\n- [ ] Feature flag:\n- [ ] Testing:\n\n## Implementation plan\n- [ ] ~3412464 create schedule agent rule mode\n  - look at `scan_result_policy_editor.vue` for examples on using the `policy_rule_builder.vue` component\n\n## Verification steps\n1. Navigate to a project with a ~3207279 license and that has the `:scan_execution_rule_mode` feature flag turned on\n1. Navigate to `Security \u0026 Compliance` =\u003e `Policies` =\u003e `New policy` =\u003e `Scan Execution Policy`\n1. Verify rule mode schedule rule works","state":"closed","created_at":"2022-06-21T04:13:37.913Z","updated_at":"2022-09-20T03:54:36.100Z","closed_at":"2022-07-07T18:00:43.649Z","closed_by":{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"},"labels":["devops::govern","frontend","frontend-weight::3","group::security policies","section::sec","type::feature","workflow::refinement"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"},"type":"ISSUE","assignee":null,"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/365820","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/365820","notes":"https://gitlab.com/api/v4/projects/278964/issues/365820/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/365820/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":"https://gitlab.com/api/v4/projects/278964/issues/367278"},"references":{"short":"#365820","relative":"#365820","full":"gitlab-org/gitlab#365820"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5363,"epic":{"id":198785,"iid":5363,"title":"Allow Users to Edit Rule-mode Scan Execution Policies in the Policy UI","url":"/groups/gitlab-org/-/epics/5363","group_id":9970,"human_readable_end_date":"Dec 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":110445397,"iid":365816,"project_id":278964,"title":"Syntax highlighting doesn't appear to work correctly","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"type::bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=type::bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\nOn some themes, the syntax highlighting seems pretty broken.\n\nTake this file for instance: https://gitlab.com/gitlab-org/gitlab/-/blob/master/ee/app/services/vulnerabilities/resolve_service.rb\n\nLight and Monokai seem wrong, but for posterity I've included all the themes below.\n\nNot that in my tests Sourcegraph is turned _off_.\n\n| Theme | Screenshot |\n| ------ | ------ |\n| Light | ![Screen_Shot_2022-06-21_at_1.16.44_PM](/uploads/fed6c16059ce9c9df01be7f9de175058/Screen_Shot_2022-06-21_at_1.16.44_PM.png) |\n| Dark | ![Screen_Shot_2022-06-21_at_1.23.41_PM](/uploads/51bc380e1cfea9e324f395c30e094b69/Screen_Shot_2022-06-21_at_1.23.41_PM.png) |\n| Solarized Light | ![Screen_Shot_2022-06-21_at_1.24.03_PM](/uploads/d8c183c4afe2eb20b75f44d8edd63e67/Screen_Shot_2022-06-21_at_1.24.03_PM.png) |\n| Solarized Dark | ![Screen_Shot_2022-06-21_at_1.24.30_PM](/uploads/85269037a3057e22534749b1958fd03b/Screen_Shot_2022-06-21_at_1.24.30_PM.png) |\n| Monokai | ![Screen_Shot_2022-06-21_at_1.24.51_PM](/uploads/de7e27e44a98c51a35054cf91b207775/Screen_Shot_2022-06-21_at_1.24.51_PM.png) |\n\n### Steps to reproduce\n\nSet a theme and visit the file.","state":"closed","created_at":"2022-06-21T01:26:49.139Z","updated_at":"2022-11-08T11:04:30.609Z","closed_at":"2022-08-22T02:40:49.838Z","closed_by":{"id":3945330,"username":"seanarnold","name":"Sean Arnold","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c0bda1b68a7462959aa82bb63bda9b80?s=80\u0026d=identicon","web_url":"https://gitlab.com/seanarnold"},"labels":["Category:Source Code Management","Stretch","devops::create","frontend","group::source code","section::dev","severity::4","type::bug","workflow::verification"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":11703928,"username":"nradina","name":"Nataliia Radina","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11703928/avatar.png","web_url":"https://gitlab.com/nradina"}],"author":{"id":3945330,"username":"seanarnold","name":"Sean Arnold","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c0bda1b68a7462959aa82bb63bda9b80?s=80\u0026d=identicon","web_url":"https://gitlab.com/seanarnold"},"type":"ISSUE","assignee":{"id":11703928,"username":"nradina","name":"Nataliia Radina","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11703928/avatar.png","web_url":"https://gitlab.com/nradina"},"user_notes_count":13,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/365816","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/365816","notes":"https://gitlab.com/api/v4/projects/278964/issues/365816/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/365816/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#365816","relative":"#365816","full":"gitlab-org/gitlab#365816"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":110423421,"iid":365769,"project_id":278964,"title":"Get familiar with UX of suggested reviewers","description":"This issue is a follow-up from a meeting between the Code Review and Applied ML groups on 2022-06-08 ([agenda](https://docs.google.com/document/d/1L_JaYgKCotdgaTaDjIIFFBQqV7QfKs7SCB3jsfY10uk/edit#bookmark=id.fra0kldzycgk), [recording](https://www.youtube.com/watch?v=mCiJa8ODPU4)).\n\n## Purpose\n\nGet familiar with:\n- Current state of the experience of suggested reviewers, including:\n   - Internal and external (early beta customers) feedback.\n      - https://gitlab.com/gitlab-org/gitlab/-/issues/357923\n      - https://gitlab.com/gitlab-org/modelops/applied-ml/review-recommender/ci-templates/-/issues/3\n   - How suggestions are presented to users.\n   - How the feature is set up.\n- Inner-workings of the model used for suggestions.\n- Future plans for improvement.\n   - https://gitlab.com/gitlab-org/modelops/applied-ml/review-recommender/recommendation-engine/-/issues/4\n   - There may be other docs/issues with plans.\n\nCompare with the competitor evaluation done in https://gitlab.com/gitlab-org/competitor-evaluations/-/issues/27+.\n- Look at set up/configuration of other tools\n\n## Goals\n\n- Understand the current/future state of the feature.\n- Plan how UX can best support the feature's development.\n- Highlight UX issues to resolve before general availability of the feature (must haves and nice to haves).\n\n\n## Summary\n- Model v2 will be a vast improvement over the current iteration. It will take into account 11 additional [inputs](https://gitlab.com/gitlab-org/modelops/applied-ml/review-recommender/recommendation-engine/-/issues/4#model-v2-milestone-20) spread across two milestones; additionally, it should be quicker to update (faster pipelines)\n- We 15 beta testers for the next iteration. They don't want to test the feature until it appears in the dropdown (they don't want the noise of the bot comments)\n- Applied ML will be monitoring the model accuracy ongoing as well as seeking out and exploring any feedback from the feature. They will also likely do some sort of running report on some recurring timeframe as it will directly drive model improvements.\n- We do not need a setting to turn on/off the feature yet since the beta users will have to configure/opt-in","state":"closed","created_at":"2022-06-20T14:54:28.795Z","updated_at":"2022-07-25T21:07:08.968Z","closed_at":"2022-07-18T15:30:44.680Z","closed_by":{"id":201566,"username":"annabeldunstone","name":"Annabel Dunstone Gray","state":"active","avatar_url":"https://secure.gravatar.com/avatar/85c0203926134720f9a9aa8c6e264c78?s=80\u0026d=identicon","web_url":"https://gitlab.com/annabeldunstone"},"labels":["UX","UX solution validation","ai assisted::reviewer-recommender","auto updated","devops::create","group::code review","section::dev","workflow::solution validation"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":201566,"username":"annabeldunstone","name":"Annabel Dunstone Gray","state":"active","avatar_url":"https://secure.gravatar.com/avatar/85c0203926134720f9a9aa8c6e264c78?s=80\u0026d=identicon","web_url":"https://gitlab.com/annabeldunstone"}],"author":{"id":626804,"username":"pedroms","name":"Pedro Moreira da Silva","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c306f087d191ac15549f3c11e3bed321?s=80\u0026d=identicon","web_url":"https://gitlab.com/pedroms"},"type":"ISSUE","assignee":{"id":201566,"username":"annabeldunstone","name":"Annabel Dunstone Gray","state":"active","avatar_url":"https://secure.gravatar.com/avatar/85c0203926134720f9a9aa8c6e264c78?s=80\u0026d=identicon","web_url":"https://gitlab.com/annabeldunstone"},"user_notes_count":19,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/365769","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/365769","notes":"https://gitlab.com/api/v4/projects/278964/issues/365769/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/365769/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#365769","relative":"#365769","full":"gitlab-org/gitlab#365769"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6113,"epic":{"id":282909,"iid":6113,"title":"Applied ML customer facing MVC of integration of unreview","url":"/groups/gitlab-org/-/epics/6113","group_id":9970,"human_readable_end_date":"May 31, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":110408883,"iid":365746,"project_id":278964,"title":"Navbar search field does not expand if focused before the page javascript completely loads","description":" \n\n### Summary\n\nThis is a follow-up issue to cover a specific edge case [from this MR](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/88531) when the user clicks the header search input field before the javascript completely loads.\n \n![focus](/uploads/af5a0a44cb8541658207831f30513068/focus.gif)\n\nAs seen in the screen capture above, the default dropdown options are still not shown initially, as well as the search field width does not expand until after the user starts typing. Ideally, the width expansion would occur on focus of the search field so it is not jarring for a user as they start typing, regardless of if we are able to show the initial dropdown options or not.\n\n### Steps to reproduce\n\nreload the page and immediately click into the header search input field and wait\n\n### What is the current *bug* behavior?\n\ncurrently following steps to reproduce no dropdown appears\n\n### What is the expected *correct* behavior?\n\nafter repeating the steps the dropdown with default choices appears \n\n### Possible fixes\n\nadd javascript timeout that checks whether the field is indeed focused after page reload","state":"closed","created_at":"2022-06-20T11:59:38.754Z","updated_at":"2022-09-21T12:08:25.636Z","closed_at":"2022-09-06T14:43:23.064Z","closed_by":{"id":4888751,"username":"changzhengliu","name":"Changzheng Liu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4888751/avatar.png","web_url":"https://gitlab.com/changzhengliu"},"labels":["Category:Global Search","Deliverable","SUS::Impacting","UX","bug::ux","devops::data_stores","frontend","group::global search","missed-deliverable","missed:15.3","priority::4","section::enablement","severity::4","type::bug"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":10776513,"username":"tbulva","name":"Tomas Bulva","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10776513/avatar.png","web_url":"https://gitlab.com/tbulva"}],"author":{"id":10776513,"username":"tbulva","name":"Tomas Bulva","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10776513/avatar.png","web_url":"https://gitlab.com/tbulva"},"type":"ISSUE","assignee":{"id":10776513,"username":"tbulva","name":"Tomas Bulva","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10776513/avatar.png","web_url":"https://gitlab.com/tbulva"},"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/365746","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/365746","notes":"https://gitlab.com/api/v4/projects/278964/issues/365746/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/365746/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#365746","relative":"#365746","full":"gitlab-org/gitlab#365746"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7821,"epic":{"id":486667,"iid":7821,"title":"Improve Navbar UX to improve discoverability and usefulness of Global Search","url":"/groups/gitlab-org/-/epics/7821","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":110385127,"iid":365718,"project_id":278964,"title":"Frontend: Set the pipeline icon size to 16px in the mini pipeline graph dropdown.","description":"\u003c!-- This template is a great use for issues that are feature::additions or technical tasks for larger issues.--\u003e\n\n### Problem\n\nThis issue is to address the inconsistency in the size of pipeline icons in the product. When a pipeline icon is used as an icon and not a button like in the mini pipeline graph, its size should be 16 x 16 px. \n\n[- Related discussion in an MR](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/88958#note_988364806)\n\n![image](/uploads/34796614ecc405837c3b5c9c5c674358/image.png)\n\n## Proposal\n\nSet the pipeline icon size to 16px in the mini pipeline graph dropdown.\n\n\u003c!-- Use this section to explain the feature and how it will work. It can be helpful to add technical details, design proposals, and links to related epics or issues. --\u003e\n\n\u003c!-- Consider adding related issues and epics to this issue. You can also reference the Feature Proposal Template (https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Feature%20proposal%20-%20detailed.md) for additional details to consider adding to this issue. Additionally, as a data oriented organization, when your feature exits planning breakdown, consider adding the `What does success look like, and how can we measure that?` section.\n--\u003e\n\n\u003c!-- Label reminders\nUse the following resources to find the appropriate labels:\n- https://gitlab.com/gitlab-org/gitlab/-/labels\n- https://about.gitlab.com/handbook/product/categories/features/\n--\u003e","state":"closed","created_at":"2022-06-20T04:33:49.927Z","updated_at":"2022-12-16T18:04:35.499Z","closed_at":"2022-12-13T17:16:00.909Z","closed_by":{"id":11222776,"username":"bsandlin","name":"Briley  Sandlin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11222776/avatar.png","web_url":"https://gitlab.com/bsandlin"},"labels":["Category:Pipeline Authoring","GitLab Free","GitLab Premium","GitLab Ultimate","SUS::Non-impacting","UX","candidate::15.7","devops::verify","documentation","feature::addition","frontend","group::pipeline authoring","section::ops","type::feature"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":11222776,"username":"bsandlin","name":"Briley  Sandlin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11222776/avatar.png","web_url":"https://gitlab.com/bsandlin"}],"author":{"id":4706959,"username":"nadia_sotnikova","name":"Nadia Sotnikova","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4706959/avatar.png","web_url":"https://gitlab.com/nadia_sotnikova"},"type":"ISSUE","assignee":{"id":11222776,"username":"bsandlin","name":"Briley  Sandlin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11222776/avatar.png","web_url":"https://gitlab.com/bsandlin"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/365718","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/365718","notes":"https://gitlab.com/api/v4/projects/278964/issues/365718/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/365718/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#365718","relative":"#365718","full":"gitlab-org/gitlab#365718"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6135,"epic":{"id":285131,"iid":6135,"title":"Mini Pipeline Graph - Making CI Navigation Easier","url":"/groups/gitlab-org/-/epics/6135","group_id":9970,"human_readable_end_date":"Nov 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":110313649,"iid":365661,"project_id":278964,"title":"Add sbom report background processing","description":"\u003c!--\nImplementation issues are used break-up a large piece of work into small, discrete tasks that can\nmove independently through the build workflow steps. They're typically used to populate a Feature\nEpic. Once created, an implementation issue is usually refined in order to populate and review the\nimplementation plan and weight.\nExample workflow: https://about.gitlab.com/handbook/engineering/development/threat-management/planning/diagram.html#plan\n--\u003e\n\n## Why are we doing this work\n\nThis is an implementation issue for facilitating sbom artifact ingestion by implementing a queue and background worker to add components to the database.\n\n## Relevant links\n\nThis is part of a wider epic to add SBOM ingestion: gitlab-org\u00268024 \n\n## Non-functional requirements\n\n- [ ] Documentation: tbd\n- [ ] Feature flag: Add a `cyclonedx_sbom_ingestion` feature flag and check it before invoking `StoreScansWorker`.\n- [ ] Performance: tbd\n- [ ] Testing: tbd\n\n## Proposal\n\nAdd a queue and background worker for processing sbom artifact and a trigger in the pipeline state to invoke the worker.\n\n## Implementation plan\n\n- [ ] ~backend add worker similar to the [StoreScansWorker](https://gitlab.com/gitlab-org/gitlab/blob/master/ee/app/workers/security/store_scans_worker.rb) which already exists\n- [ ] ~backend add a queue for the worker https://gitlab.com/gitlab-org/gitlab/-/blob/master/ee/app/workers/all_queues.yml\n- [ ] ~backend add an `after_commit` trigger for the worker in https://gitlab.com/gitlab-org/gitlab/-/blob/master/ee/app/models/ee/ci/pipeline.rb#L61, behind a feature flag. \n\n## Verification steps\n\u003c!--\nAdd verification steps to help GitLab team members test the implementation. This is particularly useful\nduring the MR review and the ~\"workflow::verification\" step. You may not know exactly what the\nverification steps should be during issue refinement, so you can always come back later to add\nthem.\n\n1. Check-out the corresponding branch\n1. ...\n1. Profit!\n--\u003e","state":"closed","created_at":"2022-06-17T17:52:37.392Z","updated_at":"2022-08-08T03:22:36.252Z","closed_at":"2022-08-05T20:17:44.341Z","closed_by":{"id":8953999,"username":"bwill","name":"Brian Williams","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8953999/avatar.png","web_url":"https://gitlab.com/bwill"},"labels":["Category:Container Scanning","Category:Dependency Scanning","Enterprise Edition","GitLab Ultimate","Software Bill of Materials (SBoM)","WorkingGroup::ContinuousScanning","backend","devops::govern","feature::addition","group::security policies","section::sec","type::feature","workflow::blocked"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":8953999,"username":"bwill","name":"Brian Williams","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8953999/avatar.png","web_url":"https://gitlab.com/bwill"}],"author":{"id":4668304,"username":"ifrenkel","name":"Igor Frenkel","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a73e8113c53ac25297ce751e59bbb1d3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ifrenkel"},"type":"ISSUE","assignee":{"id":8953999,"username":"bwill","name":"Brian Williams","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8953999/avatar.png","web_url":"https://gitlab.com/bwill"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/365661","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":7,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 7 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/365661","notes":"https://gitlab.com/api/v4/projects/278964/issues/365661/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/365661/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#365661","relative":"#365661","full":"gitlab-org/gitlab#365661"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8024,"epic":{"id":518303,"iid":8024,"title":"Ingest SBOM reports","url":"/groups/gitlab-org/-/epics/8024","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":110312152,"iid":365631,"project_id":278964,"title":"Integrations settings template: External Wiki","description":"### Background\n\nSee [parent epic](https://gitlab.com/groups/gitlab-org/-/epics/6094) for problem statement and more context.\n\nApply new settings template to External Wiki.","state":"closed","created_at":"2022-06-17T17:16:04.009Z","updated_at":"2022-11-22T18:35:30.382Z","closed_at":"2022-08-01T04:18:55.876Z","closed_by":{"id":4704683,"username":"justin_ho","name":"Justin Ho Tuan Duong","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4704683/avatar.png","web_url":"https://gitlab.com/justin_ho"},"labels":["auto updated","devops::manage","frontend","group::integrations","section::dev","type::feature","workflow::production"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":4704683,"username":"justin_ho","name":"Justin Ho Tuan Duong","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4704683/avatar.png","web_url":"https://gitlab.com/justin_ho"}],"author":{"id":10222550,"username":"g.hickman","name":"Grant Hickman","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10222550/avatar.png","web_url":"https://gitlab.com/g.hickman"},"type":"ISSUE","assignee":{"id":4704683,"username":"justin_ho","name":"Justin Ho Tuan Duong","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4704683/avatar.png","web_url":"https://gitlab.com/justin_ho"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/365631","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/365631","notes":"https://gitlab.com/api/v4/projects/278964/issues/365631/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/365631/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#365631","relative":"#365631","full":"gitlab-org/gitlab#365631"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6094,"epic":{"id":280449,"iid":6094,"title":"Improve integrations settings template","url":"/groups/gitlab-org/-/epics/6094","group_id":9970,"human_readable_end_date":"Aug 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":110312079,"iid":365627,"project_id":278964,"title":"Integrations settings template: Discord Notifications","description":"### Background\n\nSee [parent epic](https://gitlab.com/groups/gitlab-org/-/epics/6094) for problem statement and more context.\n\nApply new settings template to Discord Notifications.","state":"closed","created_at":"2022-06-17T17:13:54.611Z","updated_at":"2022-11-22T18:35:33.500Z","closed_at":"2022-08-01T04:16:53.883Z","closed_by":{"id":4704683,"username":"justin_ho","name":"Justin Ho Tuan Duong","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4704683/avatar.png","web_url":"https://gitlab.com/justin_ho"},"labels":["auto updated","devops::manage","frontend","group::integrations","section::dev","type::feature","workflow::production"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":4704683,"username":"justin_ho","name":"Justin Ho Tuan Duong","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4704683/avatar.png","web_url":"https://gitlab.com/justin_ho"}],"author":{"id":10222550,"username":"g.hickman","name":"Grant Hickman","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10222550/avatar.png","web_url":"https://gitlab.com/g.hickman"},"type":"ISSUE","assignee":{"id":4704683,"username":"justin_ho","name":"Justin Ho Tuan Duong","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4704683/avatar.png","web_url":"https://gitlab.com/justin_ho"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/365627","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/365627","notes":"https://gitlab.com/api/v4/projects/278964/issues/365627/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/365627/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#365627","relative":"#365627","full":"gitlab-org/gitlab#365627"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6094,"epic":{"id":280449,"iid":6094,"title":"Improve integrations settings template","url":"/groups/gitlab-org/-/epics/6094","group_id":9970,"human_readable_end_date":"Aug 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":110308637,"iid":365607,"project_id":278964,"title":"Sometimes pending comments cannot be displayed in a merge request","description":"If you start a review of an MR and add pending comments, sometimes after a while those comments become inaccessible.\n\nIt's not obvious to me how to reproduce, but here's a video of it happening in https://gitlab.com/gitlab-org/gitlab/-/merge_requests/89441:\n\n![Peek_2022-06-17_16-47](/uploads/b273560103ed24bde4fe1b885ca882b4/Peek_2022-06-17_16-47.mp4)\n\nMy wild guess as to what's happening:\n\n1. I created those comments\n2. The author pushed some new changes, possibly moving the lines of code I commented on, or outright changing them\n\nI know there are some issues with comments added on whitespace-only lines, and then when you uncheck `Show whitespace changes`, those comments are no longer visible. But this doesn't seem to be the case here. The comments are never shown anymore.\n\nSo, there's no way for me to edit or delete those pending comments without _submitting_ them, which I may not want to do, since they're sort of in draft state.","state":"closed","created_at":"2022-06-17T15:49:48.661Z","updated_at":"2022-10-21T12:01:35.763Z","closed_at":"2022-09-28T09:47:37.085Z","closed_by":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"labels":["Cannot reproduce","Deliverable","SUS::Impacting","UX","bug::ux","customer","devops::create","frontend","group::code review","merge requests","missed-deliverable","missed:15.4","priority::2","section::dev","severity::3","type::bug","workflow::ready for development"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"}],"author":{"id":553096,"username":"markrian","name":"Mark Florian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/553096/avatar.png","web_url":"https://gitlab.com/markrian"},"type":"ISSUE","assignee":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"user_notes_count":21,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/365607","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/365607","notes":"https://gitlab.com/api/v4/projects/278964/issues/365607/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/365607/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#365607","relative":"#365607","full":"gitlab-org/gitlab#365607"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":110307705,"iid":365605,"project_id":278964,"title":"Enforce rate limits on webhook executions for customers per plan","description":"### Release notes\n\nIntroduced in %\"15.2\" for GitLab.com users, rate limits will be enforced to protect the performance and availability of the GitLab application (and in return it protects performance for all tenants). Limits are applied per plan and namespace, and are based on the number of seats in your subscription.\n\n\n#### Rate limits\n\nThe number of times a webhook can be called per minute, per top-level namespace.\nThe limit varies depending on your plan and the number of seats in your subscription.\n\n| Plan              | Default for GitLab.com  |\n|----------------------|-------------------------|\n| Free    | `500` |\n| Premium | `99` seats or fewer: `1,600`\u003cbr\u003e`100-399` seats: `2,800`\u003cbr\u003e`400` seats or more: `4,000` |\n| Ultimate and open source |`999` seats or fewer: `6,000`\u003cbr\u003e`1,000-4,999` seats: `9,000`\u003cbr\u003e`5,000` seats or more: `13,000` |\n\nLearn more by visiting our [documentation on webhook rate limits](https://docs.gitlab.com/ee/user/gitlab_com/index.html#webhooks).\n\n\n### Description\n\nAfter we've added soft limits with logging in https://gitlab.com/gitlab-org/gitlab/-/issues/337228, this issue will follow up to enforce the limits. Below are the required steps:\n\n1. Reviewing the logs and discussing\n1. Implementing the hard limit\n1. Working out what to do with the single Premium customer who is the outlier https://gitlab.com/gitlab-org/gitlab/-/issues/337228#note_992723695 (either working with them to change or else perhaps making them exempt at least in the medium term)\n\nSee discussion in https://gitlab.com/gitlab-org/ecosystem-stage/team-tasks/-/issues/146#note_993254234.\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2022-06-17T15:30:14.188Z","updated_at":"2022-11-22T18:35:40.735Z","closed_at":"2022-07-08T05:43:08.394Z","closed_by":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"labels":["Application Limits","Deliverable","Eng-Inter-Dept::Rate Limits","Error Budget Improvement","GitLab Core","GitLab Premium","GitLab Ultimate","availability::limit","backend","devops::manage","direction","documentation","group::integrations","release post item::in review","reliability","section::dev","severity::3","type::feature","workflow::production"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"}],"author":{"id":10222550,"username":"g.hickman","name":"Grant Hickman","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10222550/avatar.png","web_url":"https://gitlab.com/g.hickman"},"type":"ISSUE","assignee":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"user_notes_count":19,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2022-04-11","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/365605","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/365605","notes":"https://gitlab.com/api/v4/projects/278964/issues/365605/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/365605/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#365605","relative":"#365605","full":"gitlab-org/gitlab#365605"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8975,"epic":{"id":623279,"iid":8975,"title":"Improve the reliability of webhooks: Webhook rate limiting","url":"/groups/gitlab-org/-/epics/8975","group_id":9970,"human_readable_end_date":"Dec 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":110303875,"iid":365602,"project_id":278964,"title":"Highlight.js: dark highlighting theme is missing colors","description":"### Problem\n\nI noticed a difference in code highlighted by Highlight.js.\n\n| With Highlight.js | With rouge |\n| ------ | ------ |\n| ![Screenshot_2022-06-17_at_15.59.12](/uploads/13298a98db1ac8c477d70dd5d77b9ee5/Screenshot_2022-06-17_at_15.59.12.png) | ![Screenshot_2022-06-17_at_15.59.22](/uploads/57cfb37e8bc936c7afccb498f65a12c0/Screenshot_2022-06-17_at_15.59.22.png) |\n\n\nClasses, modules and method names are missing the color. \n\nLinks:\n* https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/controllers/projects/blame_controller.rb (Highlight.js)\n* https://gitlab.com/gitlab-org/gitlab/-/blame/master/app/controllers/projects/blame_controller.rb (Rouge)\n\n\nMy configuration:\n![Screenshot_2022-06-17_at_15.59.33](/uploads/986d78b6023e68003865d888a1902a15/Screenshot_2022-06-17_at_15.59.33.png)","state":"closed","created_at":"2022-06-17T14:10:36.327Z","updated_at":"2022-07-15T14:03:07.039Z","closed_at":"2022-07-15T14:03:07.020Z","closed_by":{"id":11703928,"username":"nradina","name":"Nataliia Radina","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11703928/avatar.png","web_url":"https://gitlab.com/nradina"},"labels":["Category:Source Code Management","Stretch","devops::create","frontend","group::source code","priority::4","section::dev","severity::4","type::bug","workflow::verification"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":11703928,"username":"nradina","name":"Nataliia Radina","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11703928/avatar.png","web_url":"https://gitlab.com/nradina"}],"author":{"id":421631,"username":"vyaklushin","name":"Vasilii Iakliushin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/421631/avatar.png","web_url":"https://gitlab.com/vyaklushin"},"type":"ISSUE","assignee":{"id":11703928,"username":"nradina","name":"Nataliia Radina","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11703928/avatar.png","web_url":"https://gitlab.com/nradina"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/365602","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/365602","notes":"https://gitlab.com/api/v4/projects/278964/issues/365602/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/365602/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#365602","relative":"#365602","full":"gitlab-org/gitlab#365602"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":110296738,"iid":365596,"project_id":278964,"title":"Handle rate-limited 429 responses when testing integration settings","description":"## Summary\n\n\u003c!--\nPlease briefly describe what part of the code base needs to be refactored.\n--\u003e\n\nWhen we hit the rate limit for testing the integration settings (https://gitlab.com/gitlab-org/gitlab/-/merge_requests/90257) we currently get a generic error message `Something went wrong on our end`:\n\n![image](/uploads/b57d8357b2d4be82ec03367596f49184/image.png)\n\nWe could show a more specific message here, and should also skip the Sentry notifications at https://gitlab.com/gitlab-org/gitlab/blob/32d9b096791e8b9de271c5c086df08dd0b4805a6/app/assets/javascripts/integrations/edit/components/integration_form.vue#L154\n\n## Improvements\n\n\u003c!--\nExplain the benefits of refactoring this code.\nSee also https://about.gitlab.com/handbook/values/index.html#say-why-not-just-what\n--\u003e\n\nWe could just use the plaintext response body `This endpoint has been requested too many times. Try again later.` directly:\n\n```diff\ndiff --git i/app/assets/javascripts/integrations/edit/components/integration_form.vue w/app/assets/javascripts/integrations/edit/components/integration_form.vue\nindex 9307d7c2d3d..b206f1b3a45 100644\n--- i/app/assets/javascripts/integrations/edit/components/integration_form.vue\n+++ w/app/assets/javascripts/integrations/edit/components/integration_form.vue\n@@ -150,8 +150,12 @@ export default {\n           this.$toast.show(I18N_SUCCESSFUL_CONNECTION_MESSAGE);\n         })\n         .catch((error) =\u003e {\n-          this.$toast.show(I18N_DEFAULT_ERROR_MESSAGE);\n-          Sentry.captureException(error);\n+          if (error?.response?.code == 429) {\n+            this.$toast.show(error.response.body);\n+          } else {\n+            this.$toast.show(I18N_DEFAULT_ERROR_MESSAGE);\n+            Sentry.captureException(error);\n+          }\n         })\n         .finally(() =\u003e {\n           this.isTesting = false;\n```\n\nOr we could also return a custom JSON response from the ~backend:\n\n```ruby\ncheck_rate_limit!(:project_testing_integration, scope: [@project, current_user]) do\n  render json: { error: true, message: _('This endpoint has been requested too many times. Try again later.') }, status: :too_many_requests\nend\n```\n\nAnd use that in the ~frontend:\n\n```diff\ndiff --git i/app/assets/javascripts/integrations/edit/components/integration_form.vue w/app/assets/javascripts/integrations/edit/components/integration_form.vue\nindex 9307d7c2d3d..26d5ffd5502 100644\n--- i/app/assets/javascripts/integrations/edit/components/integration_form.vue\n+++ w/app/assets/javascripts/integrations/edit/components/integration_form.vue\n@@ -150,8 +150,11 @@ export default {\n           this.$toast.show(I18N_SUCCESSFUL_CONNECTION_MESSAGE);\n         })\n         .catch((error) =\u003e {\n-          this.$toast.show(I18N_DEFAULT_ERROR_MESSAGE);\n-          Sentry.captureException(error);\n+          this.$toast.show(error?.response?.data?.message || I18N_DEFAULT_ERROR_MESSAGE);\n+\n+          if (error?.response?.code != 429) {\n+            Sentry.captureException(error);\n+          }\n         })\n         .finally(() =\u003e {\n           this.isTesting = false;\n```","state":"closed","created_at":"2022-06-17T12:44:06.332Z","updated_at":"2022-11-22T18:35:41.412Z","closed_at":"2022-09-12T13:15:43.349Z","closed_by":{"id":11722161,"username":"bmarjanovic","name":"Bojan Marjanovic","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11722161/avatar.png","web_url":"https://gitlab.com/bmarjanovic"},"labels":["Category:Integrations","backend","devops::manage","feature::enhancement","frontend","group::integrations","section::dev","type::feature","workflow::production"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[{"id":11722161,"username":"bmarjanovic","name":"Bojan Marjanovic","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11722161/avatar.png","web_url":"https://gitlab.com/bmarjanovic"}],"author":{"id":423116,"username":"toupeira","name":"Markus Koller","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7585ed50675c4febe7619f25b44f7fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/toupeira"},"type":"ISSUE","assignee":{"id":11722161,"username":"bmarjanovic","name":"Bojan Marjanovic","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11722161/avatar.png","web_url":"https://gitlab.com/bmarjanovic"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/365596","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/365596","notes":"https://gitlab.com/api/v4/projects/278964/issues/365596/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/365596/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#365596","relative":"#365596","full":"gitlab-org/gitlab#365596"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":110282451,"iid":365578,"project_id":278964,"title":"Make Auditor include json fields of AuditEventService's audit json log.","description":"## Problem Statement\n\nAs of now Auditor Class logs event as json for logging purposes \n```ruby\n events.each { |event| file_logger.info(event.as_json) }\n```\n\nSample Json\n```json\n{\n  \"severity\": \"INFO\",\n  \"time\": \"2022-06-17T09:12:29.873Z\",\n  \"correlation_id\": \"01G5REYWC6FC6T2RJTC9J7S2JD\",\n  \"id\": null,\n  \"author_id\": 1,\n  \"entity_id\": 6,\n  \"entity_type\": \"Project\",\n  \"details\": {\n    \"change\": \"number of required approvals\",\n    \"from\": 1,\n    \"to\": 10,\n    \"author_name\": \"Administrator\",\n    \"target_id\": 45,\n    \"target_type\": \"ApprovalProjectRule\",\n    \"target_details\": \"my rule\",\n    \"custom_message\": \"Changed number of required approvals from 1 to 10\",\n    \"ip_address\": \"127.0.0.1\",\n    \"entity_path\": \"flightjs/Flight\"\n  },\n  \"ip_address\": \"127.0.0.1\",\n  \"author_name\": \"Administrator\",\n  \"entity_path\": \"flightjs/Flight\",\n  \"target_details\": \"my rule\",\n  \"created_at\": \"2022-06-17T09:12:29.823Z\",\n  \"target_type\": \"ApprovalProjectRule\",\n  \"target_id\": 45\n}\n```\n\nIn AuditEventService\n\nWe merge event details and log a flat Json\n\n```ruby\nfile_logger.info(base_payload.merge(formatted_details))\n```\n\nSample Json\n```json\n{\n  \"severity\": \"INFO\",\n  \"time\": \"2022-06-17T09:19:13.050Z\",\n  \"correlation_id\": \"01G5RFB64N03341DZEV2GR6BST\",\n  \"author_id\": 1,\n  \"author_name\": \"Administrator\",\n  \"entity_id\": 6,\n  \"entity_type\": \"Project\",\n  \"created_at\": \"2022-06-17T09:19:13.034+00:00\",\n  \"ip_address\": \"127.0.0.1\",\n  \"change\": \"number of required approvals\",\n  \"from\": \"1\",\n  \"to\": \"10\",\n  \"target_id\": 46,\n  \"target_type\": \"ApprovalProjectRule\",\n  \"target_details\": \"my rule\",\n  \"entity_path\": \"flightjs/Flight\"\n}\n```\nAs we would like to shift from AuditEventService to Auditor we want to keep json logging structure same without introducing any ~\"breaking change\"\n\n## Proposed Solution\n\nMerge details of event into event json currently being used by Auditor so that it contains all the fields.\n\nmore info: https://gitlab.com/gitlab-org/gitlab/-/issues/363091#note_989620585\n\nSample Json would look like\n\n```json\n{\n  \"severity\": \"INFO\",\n  \"time\": \"2022-06-17T09:12:29.873Z\",\n  \"correlation_id\": \"01G5REYWC6FC6T2RJTC9J7S2JD\",\n  \"id\": null,\n  \"author_id\": 1,\n  \"entity_id\": 6,\n  \"entity_type\": \"Project\",\n  \"details\": {\n    \"change\": \"number of required approvals\",\n    \"from\": 1,\n    \"to\": 10,\n    \"author_name\": \"Administrator\",\n    \"target_id\": 45,\n    \"target_type\": \"ApprovalProjectRule\",\n    \"target_details\": \"my rule\",\n    \"custom_message\": \"Changed number of required approvals from 1 to 10\",\n    \"ip_address\": \"127.0.0.1\",\n    \"entity_path\": \"flightjs/Flight\"\n  },\n  \"ip_address\": \"127.0.0.1\",\n  \"author_name\": \"Administrator\",\n  \"entity_path\": \"flightjs/Flight\",\n  \"target_details\": \"my rule\",\n  \"created_at\": \"2022-06-17T09:12:29.823Z\",\n  \"target_type\": \"ApprovalProjectRule\",\n  \"target_id\": 45,\n  \"change\": \"number of required approvals\",\n  \"from\": \"1\",\n  \"to\": \"10\",\n  \"custom_message\": \"Changed number of required approvals from 1 to 10\"\n}\n```\n\nI see one con of this solution will be that there would be duplicate fields present in both details and the main json.\n\nWe can remove the details field in a major release as a ~\"breaking change\"","state":"closed","created_at":"2022-06-17T09:38:25.346Z","updated_at":"2022-07-13T08:19:36.291Z","closed_at":"2022-07-13T08:19:36.270Z","closed_by":{"id":10467142,"username":"harsimarsandhu","name":"Harsimar Sandhu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10467142/avatar.png","web_url":"https://gitlab.com/harsimarsandhu"},"labels":["Category:Audit Events","auto updated","backend","devops::manage","group::compliance","priority::1","section::dev","type::bug","workflow::verification"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":10467142,"username":"harsimarsandhu","name":"Harsimar Sandhu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10467142/avatar.png","web_url":"https://gitlab.com/harsimarsandhu"}],"author":{"id":10467142,"username":"harsimarsandhu","name":"Harsimar Sandhu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10467142/avatar.png","web_url":"https://gitlab.com/harsimarsandhu"},"type":"ISSUE","assignee":{"id":10467142,"username":"harsimarsandhu","name":"Harsimar Sandhu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10467142/avatar.png","web_url":"https://gitlab.com/harsimarsandhu"},"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/365578","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/365578","notes":"https://gitlab.com/api/v4/projects/278964/issues/365578/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/365578/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#365578","relative":"#365578","full":"gitlab-org/gitlab#365578"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8118,"epic":{"id":527365,"iid":8118,"title":"Specific event shortlist to add event type information for","url":"/groups/gitlab-org/-/epics/8118","group_id":9970,"human_readable_end_date":"Sep 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":110270878,"iid":365545,"project_id":278964,"title":"Rename CycloneDX files in gemnasium analyzers to follow specification","description":"### Proposal\n\nBased on the `File naming` discussion [here](https://gitlab.com/gitlab-org/gitlab/-/issues/360766#note_989603545), we decided that in order to adhere to the [Recognized file patterns](https://cyclonedx.org/specification/overview/#recognized-file-patterns) in the CycloneDX specification, we should update the naming convention for CycloneDX files produced by the gemnasium analyzers and switch from `cyclonedx-\u003cpackage-type\u003e-\u003cpackage-manager\u003e.json` to `gl-sbom-\u003cpackage-type\u003e-\u003cpackage-manager\u003e.cdx.json`. The purpose of this issue is to implement that change.\n\n### Implementation plan\n\n1. [x] Update [gemnasium](https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium)\n\n   1. [x] Update the [setOutputFilePath](https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium/blob/5621f5a/cyclonedx/convert.go#L143-147) function to use `gl-sbom-\u003cpackage-type\u003e-\u003cpackage-manager\u003e.cdx.json`:\n   \n      ```diff\n      - fileName := fmt.Sprintf(\"cyclonedx-%s-%s.json\", sbom.PackageType, sbom.PackageManager)\n      + fileName := fmt.Sprintf(\"gl-sbom-%s-%s.cdx.json\", sbom.PackageType, sbom.PackageManager)\n      ```\n   \n   1. [x] Update the names of all the `cyclonedx-*.json` files in the [qa/expect](https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium/-/tree/5621f5a/qa/expect) dir to `gl-sbom-\u003cpackage-type\u003e-\u003cpackage-manager\u003e.cdx.json`.\n   \n   1. [x] Update the `components[].files.path` references in the following `sbom-manifest.json` files to use the new `gl-sbom-*.cdx.json` filename:\n   \n      - [qa/expect/multi-project/subdirs/sbom-manifest.json](https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium/blob/042e688/qa/expect/multi-project/subdirs/sbom-manifest.json#L1-1)\n      - [qa/expect/python-pip/no-pillow/sbom-manifest.json](https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium/blob/042e688/qa/expect/python-pip/no-pillow/sbom-manifest.json#L1-1)\n      - [qa/expect/scala-sbt/multiproject/default/sbom-manifest.json](https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium/blob/042e688/qa/expect/scala-sbt/multiproject/default/sbom-manifest.json#L1-1)\n   \n   1. [x] Update all the `cyclonedx-*.json` references in the image specs in `gemnasium` to use `gl-sbom-\u003cpackage-type\u003e-\u003cpackage-manager\u003e.cdx.json`:\n      - [gemnasium_image_spec.rb](https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium/blob/5621f5a/spec/gemnasium_image_spec.rb#L1)\n      - [gemnasium-maven_image_spec.rb](https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium/blob/5621f5a/spec/gemnasium-maven_image_spec.rb#L1)\n      - [gemnasium-python_image_spec.rb](https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium/blob/5621f5a/spec/gemnasium-python_image_spec.rb#L1)\n   \n   1. [x] Update the reference to `cyclonedx-*.json` in the [image test](https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium/blob/5621f5a/.gitlab/ci/image.gitlab-ci.yml#L73-73) job to use `gl-sbom-\u003cpackage-type\u003e-\u003cpackage-manager\u003e.cdx.json`:\n   \n      ```diff\n      artifacts:\n        when: always\n        paths:\n          - tmp/qa-*/fixtures/**/gl-dependency-scanning-report.json\n      -   - tmp/qa-*/fixtures/**/cyclonedx-*.json\n      +   - tmp/qa-*/fixtures/**/gl-sbom-*.cdx.json\n          - tmp/qa-*/fixtures/**/sbom-manifest.json\n      ```\n\n   1. [x] Rename the `EXPECTED_CYCLONEDX_ARTIFACTS` to `gl-sbom-*.cdx.json` in the following QA integration tests:\n\n      - [gemnasium.gitlab-ci.yml](https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium/blob/5621f5a/.gitlab/ci/gemnasium.gitlab-ci.yml#L49-49)\n      - [gemnasium-python.gitlab-ci.yml](https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium/blob/5621f5a/.gitlab/ci/gemnasium-python.gitlab-ci.yml#L93-93)\n      - [gemnasium-maven.gitlab-ci.yml](https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium/blob/5621f5a/.gitlab/ci/gemnasium-maven.gitlab-ci.yml#L84-84)\n\n   Implemented in the following MR: https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium/-/merge_requests/346+\n\n1. [x] Update all the `cyclonedx-*.json` references to use `gl-sbom-\u003cpackage-type\u003e-\u003cpackage-manager\u003e.cdx.json` in the [integration-test project](https://gitlab.com/gitlab-org/security-products/analyzers/integration-test/):\n\n   - [spec/fixtures/multi-project/subdirs/sbom-manifest.json](https://gitlab.com/gitlab-org/security-products/analyzers/integration-test/blob/c10e5bb/spec/fixtures/multi-project/subdirs/sbom-manifest.json#L1-1)\n   - [spec/expect/multi-project/subdirs/sbom-manifest.json](https://gitlab.com/gitlab-org/security-products/analyzers/integration-test/blob/c10e5bb/spec/expect/multi-project/subdirs/sbom-manifest.json#L1-1)\n   - [README.md](https://gitlab.com/gitlab-org/security-products/analyzers/integration-test/blob/c10e5bb/README.md#L1-1)\n\n   Implemented in the following MR: https://gitlab.com/gitlab-org/security-products/analyzers/integration-test/-/merge_requests/30+\n\n1. [x] Update the [Dependency-Scanning.gitlab-ci.yml](https://gitlab.com/gitlab-org/gitlab/blob/73688770366/lib/gitlab/ci/templates/Jobs/Dependency-Scanning.gitlab-ci.yml#L49-52) template and the [Dependency Scanning docs](https://gitlab.com/gitlab-org/gitlab/blob/0561f2165b1/doc/user/application_security/dependency_scanning/index.md#L1-1)\n\n   1. [x] Update the [Dependency-Scanning.gitlab-ci.yml](https://gitlab.com/gitlab-org/gitlab/blob/73688770366/lib/gitlab/ci/templates/Jobs/Dependency-Scanning.gitlab-ci.yml#L49-52) template to use `gl-sbom-*.cdx.json`:\n   \n      ```diff\n      artifacts:\n        paths:\n      -   - \"**/cyclonedx-*.json\"\n      +   - \"**/gl-sbom-*.cdx.json\"\n      ```\n   \n   1. [x] Update the [Dependency Scanning docs](https://gitlab.com/gitlab-org/gitlab/blob/0561f2165b1/doc/user/application_security/dependency_scanning/index.md#L1-1) and replace references to `cyclonedx-*.json` with `gl-sbom-\u003cpackage-type\u003e-\u003cpackage-manager\u003e.cdx.json`.\n\n   Implemented in the following MR: https://gitlab.com/gitlab-org/gitlab/-/merge_requests/90870+\n\n### Risks\n\nThis is a breaking change, however, the [CycloneDX Software Bill of Materials](https://docs.gitlab.com/ee/user/application_security/dependency_scanning/#cyclonedx-software-bill-of-materials) is a beta feature and \"the reports are subject to change during the beta period\", so we should be free to change this without worrying about impacting anyone.","state":"closed","created_at":"2022-06-17T05:10:16.124Z","updated_at":"2022-07-12T19:48:30.026Z","closed_at":"2022-07-06T13:45:35.153Z","closed_by":{"id":1674572,"username":"adamcohen","name":"Adam Cohen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/68fe8da9d9dfc88d0d150808cd364825?s=80\u0026d=identicon","web_url":"https://gitlab.com/adamcohen"},"labels":["Category:Dependency Scanning","GitLab Ultimate","Stretch","backend","devops::secure","feature::enhancement","group::composition analysis","section::sec","type::feature","workflow::production"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":1674572,"username":"adamcohen","name":"Adam Cohen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/68fe8da9d9dfc88d0d150808cd364825?s=80\u0026d=identicon","web_url":"https://gitlab.com/adamcohen"}],"author":{"id":1674572,"username":"adamcohen","name":"Adam Cohen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/68fe8da9d9dfc88d0d150808cd364825?s=80\u0026d=identicon","web_url":"https://gitlab.com/adamcohen"},"type":"ISSUE","assignee":{"id":1674572,"username":"adamcohen","name":"Adam Cohen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/68fe8da9d9dfc88d0d150808cd364825?s=80\u0026d=identicon","web_url":"https://gitlab.com/adamcohen"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/365545","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":11,"completed_count":11},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"11 of 11 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/365545","notes":"https://gitlab.com/api/v4/projects/278964/issues/365545/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/365545/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#365545","relative":"#365545","full":"gitlab-org/gitlab#365545"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8206,"epic":{"id":541792,"iid":8206,"title":"Extract SBoM making jobs from Dependency Scanning, License Scanning","url":"/groups/gitlab-org/-/epics/8206","group_id":9970,"human_readable_end_date":"Sep 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":110266880,"iid":365535,"project_id":278964,"title":"[Feature flag] Enable callout for failed web-hooks","description":"## Summary\n\nThis issue is to rollout [callouts for failed web-hooks](https://gitlab.com/groups/gitlab-org/-/epics/8083)\non production,\nthat is currently behind the `webhooks_failed_callout` feature flag.\n\nThis will show a banner on some pages informing relevant users\nwhen a web-hook they have access to has failed.\n\nNote: this feature depends on https://gitlab.com/gitlab-org/gitlab/-/issues/329849 - which must be enabled at the same time.\n\n## Owners\n\n- Team: ~group::integrations\n- Most appropriate slack channel to reach out to: `#g_ecosytem_integrations`\n- Best individual to reach out to: @alexkalderimis\n- PM: @g.hickman\n\n## Stakeholders\n\n\u003c!--\nAre there any other stages or teams involved that need to be kept in the loop?\n\n- Name of a PM\n- The Support Team\n- The Delivery Team\n--\u003e\n\n## Expectations\n\n### What are we expecting to happen?\n\nUsers will notice when web-hooks are failing, and fix or delete them as appropriate.\n\n### When is the feature viable?\n\nWhen we meet the following conditions:\n\n1. We can show a banner informing the user, scoped to a specific project\n2. We can dismiss the banner on a per-project basis\n\n### What might happen if this goes wrong?\n\nThe queries to determine if we show the banner or not could be expensive -\nthese are cached for that reason, but if we notice a significant increase in\nload, we should disable the flag, and address the impact.\n\n### What can we monitor to detect problems with this?\n\nLook for:\n\n- increase in DB load across project pages\n- increase in timeouts\n- increase in `5xx` errors in Sentry\n\n### What can we check for monitoring production after rollouts?\n\n_Consider adding links to check for Sentry errors, Production logs for 5xx, 302s, etc._\n\n## Rollout Steps\n\n### Rollout on non-production environments\n\n- Ensure that the feature MRs have been deployed to non-production environments.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- [x] Enable the feature globally on non-production environments.\n    - [x] `/chatops run feature set webhooks_failed_callout true --dev --staging`\n- [x] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n      The best environment to validate the feature in is [staging-canary](https://about.gitlab.com/handbook/engineering/infrastructure/environments/#staging-canary)\n      as this is the first environment deployed to. Note you will need to make sure you are configured to use canary as outlined [here](https://about.gitlab.com/handbook/engineering/infrastructure/environments/canary-stage/)\n      when accessing the staging environment in order to make sure you are testing appropriately.\n\n### Specific rollout on production\n\n- Ensure that the feature MRs have been deployed to both production and canary.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- If you're using [project-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [x] `/chatops run feature set --project=gitlab-org/gitlab,gitlab-org/gitlab-foss,gitlab-com/www-gitlab-com webhooks_failed_callout true`\n- If you're using [group-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [ ] `/chatops run feature set --group=gitlab-org,gitlab-com webhooks_failed_callout true`\n- If you're using [user-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [ ] `/chatops run feature set --user=\u003cyour-username\u003e webhooks_failed_callout true`\n- [x] Verify that the feature works on the specific entries. Posting the QA result in this issue is preferable.\n\n### Preparation before global rollout\n\n- [ ] Check if the feature flag change needs to be accompanied with a\n  [change management issue](https://about.gitlab.com/handbook/engineering/infrastructure/change-management/#feature-flags-and-the-change-management-process).\n  Cross link the issue here if it does.\n- [ ] Ensure that you or a representative in development can be available for at least 2 hours after feature flag updates in production.\n  If a different developer will be covering, or an exception is needed, please inform the oncall SRE by using the `@sre-oncall` Slack alias.\n- [ ] Ensure that documentation has been updated ([More info](https://docs.gitlab.com/ee/development/documentation/feature_flags.html#features-that-became-enabled-by-default)).\n- [ ] Announce on [the feature issue](https://gitlab.com/groups/gitlab-org/-/epics/8083) an estimated time this will be enabled on GitLab.com. \n- [ ] Ensure that any breaking changes have been announced following the [release post process](https://about.gitlab.com/handbook/marketing/blog/release-posts/#deprecations-removals-and-breaking-changes) to ensure GitLab customers are aware.\n- [ ] Notify `#support_gitlab-com` and your team channel ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#communicate-the-change)).\n\n### Global rollout on production\n\nFor visibility, all `/chatops` commands that target production should be executed in the `#production` slack channel and cross-posted (with the command results) to the responsible team's slack channel (`#g_TEAM_NAME`).\n\n- [x] [Incrementally roll out](https://docs.gitlab.com/ee/development/feature_flags/controls.html#process) the feature.\n  - If the feature flag in code has [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform **actor-based** rollout.\n    - [x] `/chatops run feature set webhooks_failed_callout \u003crollout-percentage\u003e --actors`\n  - If the feature flag in code does **NOT** have [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform time-based rollout (**random** rollout).\n    - [ ] `/chatops run feature set webhooks_failed_callout \u003crollout-percentage\u003e --random`\n  - Enable the feature globally on production environment.\n    - [x] `/chatops run feature set webhooks_failed_callout true`\n- [x] Announce on [the feature issue](https://gitlab.com/groups/gitlab-org/-/epics/8083) that the feature has been globally enabled.\n- [ ] Wait for [at least one day for the verification term](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release).\n\n### (Optional) Release the feature with the feature flag\n\nIf you're still unsure whether the feature is [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release)\nbut want to release it in the current milestone, you can change the default state of the feature flag to be enabled.\nTo do so, follow these steps:\n\n- [ ] Create a merge request with the following changes. Ask for review and merge it.\n    - [ ] Set the `default_enabled` attribute in [the feature flag definition](https://docs.gitlab.com/ee/development/feature_flags/#feature-flag-definition-and-validation) to `true`.\n    - [ ] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the default-enabling MR has been included in the release package.\n      If the merge request was deployed before [the monthly release was tagged](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run release check https://gitlab.com/gitlab-org/gitlab/-/merge_requests/89471 15.2`\n- [x] Consider cleaning up the feature flag from all environments by running these chatops command in `#production` channel. Otherwise these settings may override the default enabled.\n    - [ ] `/chatops run feature delete webhooks_failed_callout --dev --staging --production`\n- [ ] Close [the feature issue](https://gitlab.com/groups/gitlab-org/-/epics/8083) to indicate the feature will be released in the current milestone.\n- [ ] Set the next milestone to this rollout issue for scheduling [the flag removal](#release-the-feature).\n- [ ] (Optional) You can [create a separate issue](https://gitlab.com/gitlab-org/gitlab/-/issues/new?issuable_template=Feature%20Flag%20Cleanup) for scheduling the steps below to [Release the feature](#release-the-feature).\n    - [ ] Set the title to \"[Feature flag] Cleanup `webhooks_failed_callout`\".\n    - [ ] Execute the `/copy_metadata \u003cthis-rollout-issue-link\u003e` quick action to copy the labels from this rollout issue.\n    - [ ] Link this rollout issue as a related issue.\n    - [ ] Close this rollout issue.\n\n**WARNING:** This approach has the downside that it makes it difficult for us to\n[clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) the flag.\nFor example, on-premise users could disable the feature on their GitLab instance. But when you\nremove the flag at some point, they suddenly see the feature as enabled and they can't roll it back\nto the previous behavior. To avoid this potential breaking change, use this approach only for urgent\nmatters.\n\n### Release the feature\n\nAfter the feature has been [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release),\nthe [clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up)\nshould be done as soon as possible to permanently enable the feature and reduce complexity in the\ncodebase.\n\nYou can either [create a follow-up issue for Feature Flag Cleanup](https://gitlab.com/gitlab-org/gitlab/-/issues/new?issuable_template=Feature%20Flag%20Cleanup) or use the checklist below in this same issue.\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [x] Create a merge request to remove `webhooks_failed_callout` feature flag. Ask for review and merge it.\n    - [x] Remove all references to the feature flag from the codebase.\n    - [x] Remove the YAML definitions for the feature from the repository.\n    - [x] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [x] Ensure that the cleanup MR has been included in the release package.\n      If the merge request was deployed before [the monthly release was tagged](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run release check https://gitlab.com/gitlab-org/gitlab/-/merge_requests/89471 15.2`\n- [ ] Close [the feature issue](https://gitlab.com/groups/gitlab-org/-/epics/8083) to indicate the feature will be released in the current milestone.\n- [x] If not already done, clean up the feature flag from all environments by running these chatops command in `#production` channel:\n    - [ ] `/chatops run feature delete webhooks_failed_callout --dev --staging --production`\n- [ ] Close this rollout issue.\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set webhooks_failed_callout false\n```","state":"closed","created_at":"2022-06-17T01:19:11.133Z","updated_at":"2022-12-21T12:10:27.627Z","closed_at":"2022-11-30T15:28:50.086Z","closed_by":{"id":3614858,"username":"alexkalderimis","name":"Alex Kalderimis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3614858/avatar.png","web_url":"https://gitlab.com/alexkalderimis"},"labels":["Category:Integrations","Deliverable","backend","devops::manage","feature flag","feature::addition","group::integrations","missed-deliverable","missed:15.2","missed:15.3","missed:15.4","missed:15.5","missed:15.6","section::dev","type::feature","workflow::in review"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":3614858,"username":"alexkalderimis","name":"Alex Kalderimis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3614858/avatar.png","web_url":"https://gitlab.com/alexkalderimis"}],"author":{"id":3614858,"username":"alexkalderimis","name":"Alex Kalderimis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3614858/avatar.png","web_url":"https://gitlab.com/alexkalderimis"},"type":"ISSUE","assignee":{"id":3614858,"username":"alexkalderimis","name":"Alex Kalderimis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3614858/avatar.png","web_url":"https://gitlab.com/alexkalderimis"},"user_notes_count":37,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/365535","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":46,"completed_count":18},"weight":0,"blocking_issues_count":0,"has_tasks":true,"task_status":"18 of 46 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/365535","notes":"https://gitlab.com/api/v4/projects/278964/issues/365535/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/365535/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#365535","relative":"#365535","full":"gitlab-org/gitlab#365535"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8083,"epic":{"id":524600,"iid":8083,"title":"Improve the reliability of webhooks: Auto-disable Failing Webhooks","url":"/groups/gitlab-org/-/epics/8083","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":null},{"id":110265990,"iid":365532,"project_id":278964,"title":"Upstream pipeline execution can be controlled by users with CI permissions in a downstream project","description":"## A Problem\n\nIn the course of investigating https://gitlab.com/gitlab-org/gitlab/-/issues/348465, we discovered that retrying a job in a downstream pipeline allows the retrying user to take ownership of all the skipped jobs in any upstream pipeline, regardless of their permissions on the upstream project.\n\nIn this example, Build 6 has failed in the downstream pipeline.\n\n```mermaid\ngraph TD\n    A[Upstream Pipeline, Build 1, SUCCESS] --\u003e B[Upstream Pipeline, Build 2, SUCCESS]\n    B[Upstream Pipeline, Build 2, SUCCESS] --\u003e C[Trigger job to Downstream Pipeline, Bridge 3]\n    C[Trigger job to Downstream Pipeline, Bridge 3, FAILED] --\u003e D[Upstream Pipeline, Build 4, SKIPPED]\n    D[Upstream Pipeline, Build 4, SKIPPED] --\u003e E[Upstream Pipeline, Build 5, SKIPPED]\n    C[Trigger job to Downstream Pipeline, Bridge 3, FAILED] --\u003e F[Downstream Pipeline, Build 6, FAILED]\n    F[Downstream Pipeline, Build 6, FAILED] --\u003e G[Downstream Pipeline, Build 7, SKIPPED]\n```\n\nBy retrying Build 6, I will take ownership of Build 6, Build 7, Bridge 3, Build 4, and Build 5. Also, all of those jobs we be queued for processing. Whether or not I have permission to access, nevermind execute CI, in the upstream project is disregarded. This logic is built into the [AfterRequeueJobService](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/services/ci/after_requeue_job_service.rb#L8-9), where we call `#process_subsequent_jobs` and `#reset_source_bridge`\n\n### A walk through the code paths\n\n`#process_subsequent_jobs` transfers job ownership of any job in the pipeline that was skipped, as long as it's in a subsequent stage or directly `needs` the job being retried. The details of the logic are fairly clear in the AfterRequeueJobService. This much logic makes sense to me, as the retryer is now directly responsible for those jobs being executed, and it makes sense that we record them as such. At this point, Build 6 and Build 7 have been reassigned to the retryer and set to run again.\n\n`#reset_source_bridge` is where we start to bypass permissions. This helper method calls `Ci::Pipeline#reset_source_bridge` and passes it the same user. In [that method](https://gitlab.com/gitlab-org/gitlab/-/blob/ab4df0058734381b0d6ab98a3a5bdd9cea302d51/app/models/ci/pipeline.rb#L1277-1282), we reset the status of the source bridge to `pending`, so it can wait for the eventual success or failure of the downstream pipeline, and then _we pass the source bridge into another instance of AfterRequeueJobService, with the same user_. This applies the same reassign-all-subsequent-jobs logic with the retryer from the downstream pipeline, but now we're applying it to remaining jobs in the upstream pipeline. We have no idea if this user is even a member of the project. There's no check on the identity of the user at all.\n\n### Why was this built in this way?\n\nI don't think this behavior is something we ever decided intentionally. There are two other things that we decided, on principle:\n\n1. When a depended-on downstream pipeline changes from failure to success, the now non-blocked upstream pipeline should continue processing.\n2. When someone takes a manual action to cause a pipeline to execute, they should be directly assigned as the owner of that execution.\n\nBy making both of those things true, we made it possible for people to take over jobs that they otherwise would not have the permissions to create.\n\nThis is, on paper, a privilege escalation by granting CI execution rights in a project to anyone with CI execution rights in a downstream project.\n\n### Does this actually happen to anyone?\n\nIn practice on our ops instance, we saw subsequent jobs, especially trigger jobs to other downstream pipelines, fail because the jobs had all been reassigned to a user that did not have permission to take the actions of a job that normally belongs to the release bot. SETs that retried QA smoke test pipelines were taking ownership of SaaS deployments, which would then fail. This is not good for us, but could potentially be worse if we were more picky about who deploys when and had a problem with tracing accountability.\n\n## A Proposal\n\nMy proposal is simply to not reset the source bridge (trigger job). Conveniently, ~\"group::pipeline authoring\" is already working on the functionality to directly retry a trigger job https://gitlab.com/groups/gitlab-org/-/epics/6947. This is already useful in a scenario where the downstream pipeline is fails to be created at all. Permissions problems, such as the kind we saw in https://gitlab.com/gitlab-org/gitlab/-/issues/348465, are an example of when we want this kind of retry functionality. It was never built, because retrying the downstream pipeline, by resetting the source bridge, effectively retried the source bridge job automatically.\n\nWe should not do this. At least not without checking the CI permissions in the upstream project first. Something to the effect of:\n\n```diff\n  module Ci\n    class Pipeline\n\n      def reset_source_bridge!(current_user)\n-       return unless bridge_waiting?\n+       return unless bridge_waiting? \u0026\u0026 user.can?(:execute_pipeline, source_bridge.project)\n\n        source_bridge.pending!\n        Ci::AfterRequeueJobService.new(project, current_user).execute(source_bridge) # rubocop:disable CodeReuse/ServiceClass\n      end\n```\n\nSo because the upstream pipeline will no longer restart it's execution, we'll probably also want to send some kind of notification to the upstream project _if and when_ the downstream pipeline succeeds. At this point, the upstream pipeline will be \"unblocked\", and someone with correct permissions can click retry https://gitlab.com/groups/gitlab-org/-/epics/6947 to restart upstream execution.\n\n### Summary of Changes\n\n1. Check user CI permissions in upstream project before resetting the status of the upstream bridge job\n2. Make sure that the new \"Retry\" functionality https://gitlab.com/groups/gitlab-org/-/epics/6947 marks a bridge job as successful when the downstream pipeline has been retried and fixed.\n3. In case where the source bridge is not restarted, provide some kind of notification in the upstream project of the downstream pipeline success. Someone needs to be reminded to retry the source bridge to start the upstream pipeline execution.","state":"closed","created_at":"2022-06-17T00:43:01.827Z","updated_at":"2022-12-05T13:45:12.696Z","closed_at":"2022-11-02T20:12:53.833Z","closed_by":{"id":4992072,"username":"dcouture","name":"Dominic Couture","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4992072/avatar.png","web_url":"https://gitlab.com/dcouture"},"labels":["Category:Continuous Integration","Category:Pipeline Authoring","Deliverable","OKR","Track Health Status","Verify::P1","auto updated","backend","bug::vulnerability","devops::verify","group::pipeline execution","missed-deliverable","missed:15.2","missed:15.5","priority::2","section::ops","security","security-awards::awarded","severity::3","type::bug","workflow::verification"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":4626651,"username":"allison.browne","name":"Allison Browne","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4bc33904c3bd3f2dce3db4e5af4ad1ae?s=80\u0026d=identicon","web_url":"https://gitlab.com/allison.browne"}],"author":{"id":730684,"username":"drew","name":"drew stachon","state":"active","avatar_url":"https://secure.gravatar.com/avatar/59b7f2c95acd4a085d964f745ead6bdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/drew"},"type":"ISSUE","assignee":{"id":4626651,"username":"allison.browne","name":"Allison Browne","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4bc33904c3bd3f2dce3db4e5af4ad1ae?s=80\u0026d=identicon","web_url":"https://gitlab.com/allison.browne"},"user_notes_count":67,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":"2022-07-26","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/365532","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/365532","notes":"https://gitlab.com/api/v4/projects/278964/issues/365532/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/365532/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#365532","relative":"#365532","full":"gitlab-org/gitlab#365532"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":"on_track"},{"id":110259985,"iid":365524,"project_id":278964,"title":"Integrate newly created gem supporting Microsoft Graph API email sending into GitLab","description":"In https://gitlab.com/gitlab-org/gitlab/-/issues/369980 we will create a gem supporting Microsoft Graph API email sending. This issue is about the integration of that gem into GitLab.\n\n\nTo configure GitLab to deliver emails using Microsoft Graph API with OAuth 2.0 client credentials flow admins can set `microsoft_graph_mailer` setting in `gitlab.yml`:\n\n```yml\n  # Allows delivery of emails using Microsoft Graph API with OAuth 2.0 client credentials flow.\n  microsoft_graph_mailer:\n    enabled: false\n    # The unique identifier for the user. To use Microsoft Graph on behalf of the user.\n    user_id: \"YOUR-USER-ID\"\n    # The directory tenant the application plans to operate against, in GUID or domain-name format.\n    tenant: \"YOUR-TENANT-ID\"\n    # The application ID that's assigned to your app. You can find this information in the portal where you registered your app.\n    client_id: \"YOUR-CLIENT-ID\"\n    # The client secret that you generated for your app in the app registration portal.\n    client_secret: \"YOUR-CLIENT-SECRET-ID\"\n    # Defaults to \"https://login.microsoftonline.com\".\n    azure_ad_endpoint:\n    # Defaults to \"https://graph.microsoft.com\".\n    graph_endpoint:\n```","state":"closed","created_at":"2022-06-16T20:03:22.895Z","updated_at":"2022-11-21T12:02:21.671Z","closed_at":"2022-11-07T12:15:56.011Z","closed_by":{"id":9717295,"username":"bdenkovych","name":"Bogdan Denkovych","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9717295/avatar.png","web_url":"https://gitlab.com/bdenkovych"},"labels":["Category:Authentication and Authorization","Deliverable","customer","devops::manage","group::authentication and authorization","maintenance::dependency","missed-deliverable","missed:15.2","release post item::in review","section::dev","type::maintenance","workflow::verification"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":9717295,"username":"bdenkovych","name":"Bogdan Denkovych","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9717295/avatar.png","web_url":"https://gitlab.com/bdenkovych"}],"author":{"id":508743,"username":"jarka","name":"Jarka Košanová","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3931dae84deb01d2881e4909077b8dbe?s=80\u0026d=identicon","web_url":"https://gitlab.com/jarka"},"type":"ISSUE","assignee":{"id":9717295,"username":"bdenkovych","name":"Bogdan Denkovych","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9717295/avatar.png","web_url":"https://gitlab.com/bdenkovych"},"user_notes_count":13,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/365524","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/365524","notes":"https://gitlab.com/api/v4/projects/278964/issues/365524/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/365524/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#365524","relative":"#365524","full":"gitlab-org/gitlab#365524"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8259,"epic":{"id":548348,"iid":8259,"title":"Support delivery of emails using Microsoft Graph API with OAuth 2.0 client credentials flow","url":"/groups/gitlab-org/-/epics/8259","group_id":9970,"human_readable_end_date":"Nov 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":110259889,"iid":365523,"project_id":278964,"title":"Create a gem to support Microsoft Graph API email sending","description":"Based on the discussion in https://gitlab.com/groups/gitlab-org/-/epics/8259#note_994660242 we need to create a gem to support Microsoft Graph API email sending and integrate it into our release","state":"closed","created_at":"2022-06-16T19:58:18.490Z","updated_at":"2022-08-21T12:01:56.961Z","closed_at":"2022-08-05T13:10:05.517Z","closed_by":{"id":9717295,"username":"bdenkovych","name":"Bogdan Denkovych","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9717295/avatar.png","web_url":"https://gitlab.com/bdenkovych"},"labels":["Category:Authentication and Authorization","Deliverable","backend","customer","devops::manage","group::authentication and authorization","quad-planning::complete-no-action","section::dev","type::maintenance","workflow::ready for development"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":9717295,"username":"bdenkovych","name":"Bogdan Denkovych","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9717295/avatar.png","web_url":"https://gitlab.com/bdenkovych"}],"author":{"id":508743,"username":"jarka","name":"Jarka Košanová","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3931dae84deb01d2881e4909077b8dbe?s=80\u0026d=identicon","web_url":"https://gitlab.com/jarka"},"type":"ISSUE","assignee":{"id":9717295,"username":"bdenkovych","name":"Bogdan Denkovych","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9717295/avatar.png","web_url":"https://gitlab.com/bdenkovych"},"user_notes_count":16,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/365523","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/365523","notes":"https://gitlab.com/api/v4/projects/278964/issues/365523/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/365523/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#365523","relative":"#365523","full":"gitlab-org/gitlab#365523"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8259,"epic":{"id":548348,"iid":8259,"title":"Support delivery of emails using Microsoft Graph API with OAuth 2.0 client credentials flow","url":"/groups/gitlab-org/-/epics/8259","group_id":9970,"human_readable_end_date":"Nov 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":110257376,"iid":365506,"project_id":278964,"title":"[MR Widget Eng]: Implement modal logic to the Security Widget","description":"### Summary\n\nWhen the new MR Security Widget is enabled through `refactor_security_extension` feature flag and there are vulnerabilities found, clicking on them opens a modal. As seen below on the images, the refactored version lacks some logic (see the buttons). We need to implement that. \n\n| Refactored | header |\n| ------ | ------ |\n| ![image](/uploads/cfee0e8eb92727154e635378d4daa36f/image.png) | ![Screenshot_2022-06-16_at_21.33.21](/uploads/deaf8ba7c4fe0a0bc1f864cfaf7f2b4f/Screenshot_2022-06-16_at_21.33.21.png) |\n\n### Implementation plan\n\n- [ ] https://gitlab.com/gitlab-org/gitlab/-/blob/master/ee/app/assets/javascripts/vue_merge_request_widget/extensions/security_reports/index.js#L96 contains the logic for the refactored widget's modal data. We need to mimic the same logic passed to this modal: https://gitlab.com/gitlab-org/gitlab/-/blob/master/ee/app/assets/javascripts/vue_shared/security_reports/grouped_security_reports_app.vue#L793\n\n\n### Availability and testing\n\n-  Make sure existing Secure E2E tests are not broken with this change ([Run Package and QA](https://about.gitlab.com/handbook/engineering/development/sec/secure/threat-insights/#how-to-classify-mrs-which-need-to-run-package-and-qa))","state":"closed","created_at":"2022-06-16T18:26:59.407Z","updated_at":"2022-08-08T03:22:36.297Z","closed_at":"2022-08-04T15:02:11.618Z","closed_by":{"id":5535246,"username":"svedova","name":"Savas Vedova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535246/avatar.png","web_url":"https://gitlab.com/svedova"},"labels":["Category:Vulnerability Management","GitLab Ultimate","[deprecated] Accepting merge requests","devops::secure","frontend","group::threat insights","missed:15.2","quad-planning::complete-action","section::sec","type::feature","workflow::ready for development"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[],"author":{"id":5535246,"username":"svedova","name":"Savas Vedova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535246/avatar.png","web_url":"https://gitlab.com/svedova"},"type":"ISSUE","assignee":null,"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/365506","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/365506","notes":"https://gitlab.com/api/v4/projects/278964/issues/365506/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/365506/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#365506","relative":"#365506","full":"gitlab-org/gitlab#365506"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7881,"epic":{"id":496182,"iid":7881,"title":"[MR Widget Eng] Security","url":"/groups/gitlab-org/-/epics/7881","group_id":9970,"human_readable_end_date":"Aug 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":110254293,"iid":365502,"project_id":278964,"title":"[MR Widget Eng]: Add summary highlights to Security Widget","description":"\u003c!-- This issue template can be used as a great starting point for feature requests. The section \"Release notes\" can be used as a summary of the feature and is also required if you want to have your release post blog MR auto generated using the release post item generator:  https://about.gitlab.com/handbook/marketing/blog/release-posts/#release-post-item-generator. The remaining sections are the backbone for every feature in GitLab.\n\nThe goal of this template is brevity for quick/smaller iterations. For a more thorough list of considerations for larger features or feature sets, you can leverage the detailed [feature proposal](https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Feature%20proposal%20-%20detailed.md). --\u003e\n\n### Summary\n\nAdd summary highlights to the Refactored MR Security Widget.\n\n| Existing | Refactored (using Extension API) |\n| ------ | ------ |\n| ![Screenshot_2022-06-16_at_21.12.39](/uploads/bf09500c85e1b30ebdb4f51f4cb80b77/Screenshot_2022-06-16_at_21.12.39.png) | ![Screenshot_2022-05-03_at_13.33.04](/uploads/5e454cf0e0f7d93e361dc721a7cc9e0d/Screenshot_2022-05-03_at_13.33.04.png) |\n\nExpected design: \n\n![MR Core Widget](/uploads/9a7278dfbae00586f808f7a947009929/Security.png)\n\n### Implementation plan\n\n- [ ] https://gitlab.com/gitlab-org/gitlab/-/blob/master/ee/app/assets/javascripts/vue_merge_request_widget/extensions/security_reports/index.js#L60 Contains the logic where we display the summary. Using the [Extension API](https://docs.gitlab.com/ee/development/new_fe_guide/modules/widget_extensions.html) we need add the highlights (X critical, Y High and Z Other)","state":"closed","created_at":"2022-06-16T17:41:08.103Z","updated_at":"2022-08-22T03:20:57.420Z","closed_at":"2022-08-19T07:23:00.235Z","closed_by":{"id":5535246,"username":"svedova","name":"Savas Vedova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535246/avatar.png","web_url":"https://gitlab.com/svedova"},"labels":["Category:Vulnerability Management","GitLab Ultimate","devops::secure","frontend","group::threat insights","missed:15.2","section::sec","type::feature","workflow::in review"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":5535246,"username":"svedova","name":"Savas Vedova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535246/avatar.png","web_url":"https://gitlab.com/svedova"}],"author":{"id":5535246,"username":"svedova","name":"Savas Vedova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535246/avatar.png","web_url":"https://gitlab.com/svedova"},"type":"ISSUE","assignee":{"id":5535246,"username":"svedova","name":"Savas Vedova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535246/avatar.png","web_url":"https://gitlab.com/svedova"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/365502","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/365502","notes":"https://gitlab.com/api/v4/projects/278964/issues/365502/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/365502/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#365502","relative":"#365502","full":"gitlab-org/gitlab#365502"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8353,"epic":{"id":564248,"iid":8353,"title":"[MR Widget] V2","url":"/groups/gitlab-org/-/epics/8353","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":110254169,"iid":365501,"project_id":278964,"title":"Clicking Line in File Sometimes Reverts Permalink URL","description":"### Summary\n\nWhen browsing files in a repository, clicking a particular line in a file sometimes reverts a permalink URL.\n\nThis does not happen every time.\n\n### Steps to reproduce\n\n1. Navigate to the [GitLab project](https://gitlab.com/gitlab-org/gitlab).\n2. Press `t` on the keyboard to search for a file.\n3. Find the file `ee/spec/requests/lfs_http_spec.rb`.\n4. Click the file to open it in the browser.\n5. Click the **Permalink** button.\n6. Click any line in the file.  The permalink will revert to the original URL with the line appended to it.\n\n![RecordingBug-small](/uploads/544c599bdcb89185a7259644bedd32f0/RecordingBug-small.mov)\n\nHowever, follow these steps and the issue will not occur.\n\n1. Navigate to the [GitLab project](https://gitlab.com/gitlab-org/gitlab).\n2. Click through the files to navigate to the same file.  Click `ee`, then `spec`, then `requests`, then `lfs_http_spec.rb`.\n3. Click the **Permalink** button.  Notice this causes a page refresh.\n4. Click any line in the file.  The permalink URL remains and the clicked line is appended to it.\n\n![RecordingGood-small](/uploads/c4fc48152a95d524af948be007b327f7/RecordingGood-small.mov)\n\n### Example Project\n\nThis is reproducible on `gitlab.com`.\n\n### What is the current *bug* behavior?\n\nThe permalink reverts to the original URL when a line in the file is clicked.\n\n### What is the expected *correct* behavior?\n\nThe URL should remain a permalink.  The line clicked in the file should be appended onto the end of the permalink URL.","state":"closed","created_at":"2022-06-16T17:39:14.871Z","updated_at":"2022-10-21T12:01:14.986Z","closed_at":"2022-09-26T09:46:20.155Z","closed_by":{"id":11703928,"username":"nradina","name":"Nataliia Radina","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11703928/avatar.png","web_url":"https://gitlab.com/nradina"},"labels":["Category:Source Code Management","Deliverable","bug::functional","devops::create","frontend","frontend-weight::1","group::source code","section::dev","type::bug","workflow::production"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":11703928,"username":"nradina","name":"Nataliia Radina","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11703928/avatar.png","web_url":"https://gitlab.com/nradina"}],"author":{"id":3716529,"username":"jagood","name":"Jason Goodman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6696c95a1788e2d4bee67df636805ecc?s=80\u0026d=identicon","web_url":"https://gitlab.com/jagood"},"type":"ISSUE","assignee":{"id":11703928,"username":"nradina","name":"Nataliia Radina","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11703928/avatar.png","web_url":"https://gitlab.com/nradina"},"user_notes_count":11,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/365501","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/365501","notes":"https://gitlab.com/api/v4/projects/278964/issues/365501/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/365501/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#365501","relative":"#365501","full":"gitlab-org/gitlab#365501"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":110250591,"iid":365490,"project_id":278964,"title":"Add popover support for MR Extension API","description":"Add popover support for MR Extension API, so it can be used for the following issues \u003e \n\nMR Security Widget:\n- https://gitlab.com/gitlab-org/gitlab/-/issues/346064\n- https://gitlab.com/gitlab-org/gitlab/-/issues/361562\n\n| - |- |\n| ------ | ------ |\n| ![](https://gitlab.com/gitlab-org/gitlab/uploads/e578faeaea3caa09081ee2783a8e2cb9/image.png) | ![image](/uploads/1e80c2d93d19817c51170a8d2fd62eeb/image.png) |","state":"closed","created_at":"2022-06-16T16:11:00.029Z","updated_at":"2022-07-20T17:57:38.012Z","closed_at":"2022-07-20T17:57:38.001Z","closed_by":{"id":3993566,"username":"sming-gitlab","name":"Samantha Ming","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3993566/avatar.png","web_url":"https://gitlab.com/sming-gitlab"},"labels":["auto updated","devops::create","group::code review","merge request widget","merge requests","section::dev"],"milestone":null,"assignees":[{"id":3993566,"username":"sming-gitlab","name":"Samantha Ming","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3993566/avatar.png","web_url":"https://gitlab.com/sming-gitlab"}],"author":{"id":3993566,"username":"sming-gitlab","name":"Samantha Ming","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3993566/avatar.png","web_url":"https://gitlab.com/sming-gitlab"},"type":"ISSUE","assignee":{"id":3993566,"username":"sming-gitlab","name":"Samantha Ming","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3993566/avatar.png","web_url":"https://gitlab.com/sming-gitlab"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/365490","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":1,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/365490","notes":"https://gitlab.com/api/v4/projects/278964/issues/365490/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/365490/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#365490","relative":"#365490","full":"gitlab-org/gitlab#365490"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":110248773,"iid":365484,"project_id":278964,"title":"Maven Gemnasium scanner does not use private maven repositories defined in build.gradle.kts in gemnasiumDumpDependencies task","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"type::bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=type::bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\nIn a multi-module maven project, the Maven Gemnasium dependency scanner fails to utilize the repositories defined for the subprojects in the `backend:gemnasiumDumpDependencies` task.  The project structure has a frontend and a backend and both successfully build (and resolve dependencies) with `gradlew assemble`.  This renders the scanner completely useless if referencing dependencies in private maven repositories.\n\n### Steps to reproduce\n\n```shell\ndocker run -it --rm -e ADDITIONAL_CA_CERT_BUNDLE=\u003cCertificate hidden for customer privacy\u003e -e SECURE_LOG_LEVEL=debug -v /dev/gitlab/my-app:/my-app registry.gitlab.com/security-products/gemnasium-maven:3 /bin/bash\n\nroot@e1f08f82def6:/my-app# /analyzer run\n```\n\n### Example Project\n\n\u003c!-- If possible, please create an example project here on GitLab.com that exhibits the problematic \nbehavior, and link to it here in the bug report. If you are using an older version of GitLab, this \nwill also determine whether the bug is fixed in a more recent version. --\u003e\n\n### What is the current *bug* behavior?\n\nThe gemnasiumDumpDependencies task that is being injected into the build does not utilize the Maven private repositories defined for allprojects or subprojects.\n\n### What is the expected *correct* behavior?\n\nThe gemnasiumDumpDependencies task will utilize the privately hosted maven repository.\n\n### Relevant logs and/or screenshots\n\n```shell\nroot@e1f08f82def6:/my-app# /analyzer run\n\nUsing java version 'adoptopenjdk-17.0.2+8'\n[INFO] [gemnasium-maven] [2022-06-16T15:01:57Z] ▶ GitLab gemnasium-maven analyzer v3.2.0\n[DEBU] [gemnasium-maven] [2022-06-16T15:01:58Z] ▶ /opt/asdf/shims/keytool -importcert -alias custom -file /etc/ssl/certs/ca-certificates.crt -trustcacerts -noprompt -storepass changeit -keystore /opt/asdf/installs/java/adoptopenjdk-17.0.2+8/lib/security/cacerts\nWarning: use -cacerts option to access cacerts keystore\nCertificate was added to keystore\n\n[DEBU] [gemnasium-maven] [2022-06-16T15:01:58Z] ▶ inspect directory: .\n[DEBU] [gemnasium-maven] [2022-06-16T15:01:58Z] ▶ skip ignored directory: .adcp\n[DEBU] [gemnasium-maven] [2022-06-16T15:01:58Z] ▶ skip ignored directory: .git\n[DEBU] [gemnasium-maven] [2022-06-16T15:01:58Z] ▶ skip ignored directory: .github\n[DEBU] [gemnasium-maven] [2022-06-16T15:01:58Z] ▶ skip ignored directory: .gradle\n[DEBU] [gemnasium-maven] [2022-06-16T15:01:58Z] ▶ electing gradle for maven because this is the first match\n[DEBU] [gemnasium-maven] [2022-06-16T15:01:58Z] ▶ electing gradle for maven because this is the first match\n[INFO] [gemnasium-maven] [2022-06-16T15:01:58Z] ▶ Detected supported dependency files in '.'. Dependency files detected in this directory will be processed. Dependency files in other directories will be skipped.\n[DEBU] [gemnasium-maven] [2022-06-16T15:01:58Z] ▶ Exporting dependencies for /my-app/build.gradle.kts\n[DEBU] [gemnasium-maven] [2022-06-16T15:03:21Z] ▶ /my-app/gradlew --init-script /gemnasium-gradle-plugin-init.gradle gemnasiumDumpDependencies\nDownloading https://services.gradle.org/distributions/gradle-7.3.1-bin.zip\n...........10%...........20%...........30%...........40%...........50%...........60%...........70%...........80%...........90%...........100%\n\nWelcome to Gradle 7.3.1!\n\nHere are the highlights of this release:\n - Easily declare new test suites in Java projects\n - Support for Java 17\n - Support for Scala 3\n\nFor more details see https://docs.gradle.org/7.3.1/release-notes.html\n\nStarting a Gradle Daemon (subsequent builds will be faster)\n\n\u003e Configure project :backend\n{PATH=/opt/asdf/shims:/opt/asdf/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin, GEMNASIUM_DB_REF_NAME=master, ASDF_DIR=/opt/asdf, GRADLE_PLUGIN_INIT_PATH=/gemnasium-gradle-plugin-init.gradle, CI_DEBUG_TRACE=false, ASDF_JAVA_VERSION=adoptopenjdk-17.0.2+8, HISTSIZE=0, JAVA_HOME=/opt/asdf/installs/java/adoptopenjdk-17.0.2+8, DEP_GRAPH_PLUGIN=addSbtPlugin(\"net.virtual-void\" % \"sbt-dependency-graph\" % \"0.10.0-RC1\" from \"file:///sbt-dependency-graph-plugin/sbt-dependency-graph-0.10.0-RC1.jar\"), TERM=xterm, LANG=C.UTF-8, HISTFILESIZE=0, SECURE_LOG_LEVEL=debug, PROMPT_COMMAND=prompt_command; prompt_command, PWD=/my-app, _=/analyzer-binary, ASDF_VERSION=v0.8.1, GEMNASIUM_DB_REMOTE_URL=https://gitlab.com/gitlab-org/security-products/gemnasium-db.git, OLDPWD=/my-app, ASDF_DATA_DIR=/opt/asdf, HOSTNAME=e1f08f82def6, GEMNASIUM_DB_LOCAL_PATH=/gemnasium-db, ADDITIONAL_CA_CERT_BUNDLE=\u003cCertificate hidden for customer privacy\u003e, SHLVL=2, HOME=/gemnasium-maven, GEMNASIUM_DB_WEB_URL=https://gitlab.com/gitlab-org/security-products/gemnasium-db, VRANGE_DIR=/vrange}\n\n\u003e Task :gemnasiumDumpDependencies\nNo dependencies found in project\n\n\u003e Task :acceptance:gemnasiumDumpDependencies\nNo dependencies found in project\n\n\u003e Task :backend:gemnasiumDumpDependencies FAILED\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':backend:gemnasiumDumpDependencies'.\n\u003e Project has 1 unresolved dependencies: **(Dependency name hidden but confirmed to be accessible in the private maven repository)**\n\n* Try:\n\u003e Run with --stacktrace option to get the stack trace.\n\u003e Run with --info or --debug option to get more log output.\n\u003e Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nDeprecated Gradle features were used in this build, making it incompatible with Gradle 8.0.\n\nYou can use '--warning-mode all' to show the individual deprecation warnings and determine if they come from your own scripts or plugins.\n\nSee https://docs.gradle.org/7.3.1/userguide/command_line_interface.html#sec:command_line_warnings\n\nBUILD FAILED in 1m 22s\n3 actionable tasks: 3 executed\n\nexit status 1\n```\n\n### Possible fixes\n\nSee https://gitlab.com/gitlab-org/gitlab/-/issues/365484#note_1066679855\n\n### Contributing factor(s)\n\nThe `keytool` does not import all certificates in a certificate bundle. This can be tested by running the following steps using the latest gemnasium-maven v3 image i.e. `registry.gitlab.com/gitlab-org/security-products/analyzers/gemnasium-maven:3`.\n\n\u003e Note: These steps emulate the steps taken by the analyzer\n\n1. The analyzer appends the contents of `ADDITIONAL_CA_CERT_BUNDLE` to the default ca bundle path i.e. `/etc/ssl/certs/ca-certificates.crt`: [code ref](https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium/-/blob/c2a92edeed15f7d162944ac386d67ff83e2b68ab/cmd/gemnasium-maven/main.go#L132-135). This is the equivalent of the following: `cat $ADDITIONAL_CA_CERT_BUNDLE \u003e\u003e /etc/ssl/certs/ca-certificates.crt`\n\n2. The analyzer then updates the default java keystore by importing the default ca bundle path: [code ref](https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium/-/blob/c2a92edeed15f7d162944ac386d67ff83e2b68ab/keystore/keystore.go#L31-42). This is the equivalent of the following:\n\n    ```\n    keytool -importcert \\\n    -alias custom \\\n    -file /etc/ssl/certs/ca-certficates.crt\n    -trustcacerts \\\n    -noprompt \\\n    -storepass changeit \\\n    -keystore \"$JAVA_HOME/lib/security/cacerts\"\n    ```\n\n3. The analyzer then runs the dependency scan with only the first certificate inside `/etc/ssl/certs/ca-certificates.crt` added. This can be verified by outputting the contents of keystore and comparing against the first certificate in the default bundle path.\n\n    ```\n    keytool -list -noprompt -alias custom -keystore $JAVA_HOME/lib/security/cacerts -storepass changeit\n    head -n 100 /etc/ssl/certs/ca-certificates.crt\n    ```\n\n\u003e Note: You can also verify that only one certficate was added by doing a before and after comparison of the total certs inside of the keystore. This requires ommitting the `-alias custom` flag argument in the 3\u003csup\u003erd\u003c/sup\u003e step.\n\n### Implementation plan\n\nThe bug fix requires adding every certificate individually instead of all at once.\n\n- [x] update the [`Update`](https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium/-/blob/c2a92edeed15f7d162944ac386d67ff83e2b68ab/keystore/keystore.go#L18-29) function to so that it splits the bundle into individual certs and then adds them sequentially.\n\n### Out of scope\n\nAdd integration tests to test the analyzer with private repos. See https://gitlab.com/gitlab-org/gitlab/-/issues/380871+","state":"closed","created_at":"2022-06-16T15:30:33.953Z","updated_at":"2022-11-21T12:07:26.533Z","closed_at":"2022-11-09T18:14:33.444Z","closed_by":{"id":11279441,"username":"hacks4oats","name":"Oscar Tovar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11279441/avatar.png","web_url":"https://gitlab.com/hacks4oats"},"labels":["Category:Dependency Scanning","Deliverable","approaching-SLO","backend","devops::secure","group::composition analysis","missed-SLO","missed-deliverable","missed:15.5","priority::2","section::sec","severity::2","type::bug","workflow::production"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":11279441,"username":"hacks4oats","name":"Oscar Tovar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11279441/avatar.png","web_url":"https://gitlab.com/hacks4oats"}],"author":{"id":1081511,"username":"tannerbragg91","name":"Tanner Bragg","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1081511/avatar.png","web_url":"https://gitlab.com/tannerbragg91"},"type":"ISSUE","assignee":{"id":11279441,"username":"hacks4oats","name":"Oscar Tovar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11279441/avatar.png","web_url":"https://gitlab.com/hacks4oats"},"user_notes_count":31,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/365484","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":1},"weight":5,"blocking_issues_count":0,"has_tasks":true,"task_status":"1 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/365484","notes":"https://gitlab.com/api/v4/projects/278964/issues/365484/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/365484/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#365484","relative":"#365484","full":"gitlab-org/gitlab#365484"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":"on_track"},{"id":110247040,"iid":365480,"project_id":278964,"title":"[Feature flag] Cleanup `dast_ui_redesign`","description":"## Summary\n\nThis issue is to cleanup the `dast_ui_redesign` feature flag, after the feature flag has been enabled by default for an appropriate amount of time in production.\n\nRollout issue - https://gitlab.com/gitlab-org/gitlab/-/issues/360820\n\n## Owners\n\n- Team: ~\"group::dynamic analysis\" \n- Most appropriate slack channel to reach out to: `#g_secure-dynamic-analysis`\n- Best individual to reach out to: @arfedoro @djadmin \n- PM: @derekferguson \n\n## Expectations\n\n### What might happen if this goes wrong?\n\n\u003c!-- Any MRs that need to be rolled back? Communication that needs to happen? What are some things you can think of that could go wrong - data loss or broken pages? --\u003e\n\n### Cleaning up the feature flag\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [x] Create a merge request to remove `\u003cfeature-flag-name\u003e` feature flag. Ask for review and merge it.\n    - [x] Remove all references to the feature flag from the codebase.\n    - [x] Remove the YAML definitions for the feature from the repository.\n    - [x] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [x] Ensure that the cleanup MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-cleanup-mr\u003e`\n- [x] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [ ] If not already done, clean up the feature flag from all environments by running these chatops command in `#production` channel:\n    - [ ] `/chatops run feature delete \u003cfeature-flag-name\u003e --dev`\n    - [x] `/chatops run feature delete \u003cfeature-flag-name\u003e --staging`\n    - [x] `/chatops run feature delete \u003cfeature-flag-name\u003e`\n- [x] Close this rollout issue.","state":"closed","created_at":"2022-06-16T15:09:13.618Z","updated_at":"2022-11-01T08:47:24.696Z","closed_at":"2022-11-01T08:47:24.671Z","closed_by":{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"},"labels":["feature flag","feature::addition","type::feature","workflow::production"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"}],"author":{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"},"type":"ISSUE","assignee":{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/365480","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":12,"completed_count":10},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"10 of 12 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/365480","notes":"https://gitlab.com/api/v4/projects/278964/issues/365480/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/365480/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#365480","relative":"#365480","full":"gitlab-org/gitlab#365480"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8372,"epic":{"id":565704,"iid":8372,"title":"On-demand DAST configuration improvements","url":"/groups/gitlab-org/-/epics/8372","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":null},{"id":110242599,"iid":365472,"project_id":278964,"title":"Follow-up from \"Rename the \"Dark\" and \"Light\" theme to avoid confusion with \"Dark Mode\"\"","description":"Match the sample plates color in theme selector with the actual color used for the header\n\nThe following discussion from !90039 should be addressed:\n\n- [ ] @ohoral started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/90039#note_992768551):  (+1 comment)\n\n    \u003e This is not introduced here and I'm wondering whether it was done on purpose to distinguish more between the themes, but preview plates do not match the color of the header - for the Gray, Light Gray, and Dark mode\n    \u003e \n    \u003e ![Screenshot_2022-06-15_at_14.44.56](/uploads/790a970aaa6f9f3163be9772d244cde5/Screenshot_2022-06-15_at_14.44.56.png)\n    \u003e \n    \u003e @aregnery WDYT?\n    \u003e \n    \u003e I'm fine to follow up on this as this might need to be addressed or not and was not introduced in this MR but just wanted to flag it.","state":"closed","created_at":"2022-06-16T13:54:01.367Z","updated_at":"2022-11-22T18:35:44.457Z","closed_at":"2022-07-06T17:20:47.229Z","closed_by":{"id":4339707,"username":"ohoral","name":"Olena Horal-Koretska","state":"active","avatar_url":"https://secure.gravatar.com/avatar/42796a7332b4608eb9785986719e7215?s=80\u0026d=identicon","web_url":"https://gitlab.com/ohoral"},"labels":["auto updated","devops::manage","frontend","group::foundations","missed:15.1","priority::4","section::dev","severity::4","type::bug","workflow::in review"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":4339707,"username":"ohoral","name":"Olena Horal-Koretska","state":"active","avatar_url":"https://secure.gravatar.com/avatar/42796a7332b4608eb9785986719e7215?s=80\u0026d=identicon","web_url":"https://gitlab.com/ohoral"}],"author":{"id":4339707,"username":"ohoral","name":"Olena Horal-Koretska","state":"active","avatar_url":"https://secure.gravatar.com/avatar/42796a7332b4608eb9785986719e7215?s=80\u0026d=identicon","web_url":"https://gitlab.com/ohoral"},"type":"ISSUE","assignee":{"id":4339707,"username":"ohoral","name":"Olena Horal-Koretska","state":"active","avatar_url":"https://secure.gravatar.com/avatar/42796a7332b4608eb9785986719e7215?s=80\u0026d=identicon","web_url":"https://gitlab.com/ohoral"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/365472","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/365472","notes":"https://gitlab.com/api/v4/projects/278964/issues/365472/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/365472/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#365472","relative":"#365472","full":"gitlab-org/gitlab#365472"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":110234695,"iid":365467,"project_id":278964,"title":"Group Access Token cannot access project via git+HTTP when added as a member via a project sharing","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"type::bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=type::bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\n\u003c!-- Summarize the bug encountered concisely. --\u003e\n\nRelated to https://gitlab.com/gitlab-org/gitlab/-/issues/365185.\n\n### Steps to reproduce\n\n\u003c!-- Describe how one can reproduce the issue - this is very important. Please use an ordered list. --\u003e\n\n1. created a top-level group called `Team A`\n1. created a `Group Level Access Token` in `Team A`\n1. created another top-level group called `Projects`\n1. created `Project A` with a repo in `Projects` group\n1. added `Team A` as a member of `Project A`\n\n### What is the current *bug* behavior?\n\n\u003c!-- Describe what actually happens. --\u003e\n\n* querying `Project A` via API using the `Group Level Access Token` still works. :white_check_mark:\n* accessing `Project A` via `git+HTTP` using the `Group Level Access Token` fails. :octagonal_sign:\n\n### What is the expected *correct* behavior?\n\n\u003c!-- Describe what you should see instead. --\u003e\n\n* querying `Project A` via API using the `Group Level Access Token` still works. :white_check_mark:\n* accessing `Project A` via `git+HTTP` using the `Group Level Access Token` works. :white_check_mark:","state":"closed","created_at":"2022-06-16T12:03:02.573Z","updated_at":"2022-08-03T13:23:30.375Z","closed_at":"2022-06-23T10:59:08.647Z","closed_by":{"id":4554599,"username":"m_gill","name":"Michelle Gill","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4554599/avatar.png","web_url":"https://gitlab.com/m_gill"},"labels":["Deliverable","backend","group::authentication and authorization","priority::2","severity::2","type::bug","workflow::production"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":1315784,"username":"ifarkas","name":"Imre Farkas","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b4dcfa5185b8513751b447d76b069bf6?s=80\u0026d=identicon","web_url":"https://gitlab.com/ifarkas"}],"author":{"id":1315784,"username":"ifarkas","name":"Imre Farkas","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b4dcfa5185b8513751b447d76b069bf6?s=80\u0026d=identicon","web_url":"https://gitlab.com/ifarkas"},"type":"ISSUE","assignee":{"id":1315784,"username":"ifarkas","name":"Imre Farkas","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b4dcfa5185b8513751b447d76b069bf6?s=80\u0026d=identicon","web_url":"https://gitlab.com/ifarkas"},"user_notes_count":0,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/365467","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/365467","notes":"https://gitlab.com/api/v4/projects/278964/issues/365467/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/365467/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#365467","relative":"#365467","full":"gitlab-org/gitlab#365467"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":110233259,"iid":365464,"project_id":278964,"title":"UX Sidebar Improvements","description":"New DastProfilesConfigurator in on demands scans form.\n\nIt must be used for $URL/$PROJECT_ID/-/on_demand_scans/new\n\nunder feature flag\n```ruby\n   Feature.enable(:dast_ui_redesign)\n   ```\n\nSome UX improvements from [comment](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/90059#note_992645810) should it be implemented in this Issue.\n\nThere must be difference between `reading` and `editing` mode","state":"closed","created_at":"2022-06-16T11:35:41.858Z","updated_at":"2022-06-22T11:35:42.781Z","closed_at":"2022-06-22T11:35:42.765Z","closed_by":{"id":10762712,"username":"arfedoro","name":"Artur Fedorov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10762712/avatar.png","web_url":"https://gitlab.com/arfedoro"},"labels":["Category:DAST","UX","devops::secure","frontend","group::dynamic analysis","section::sec","type::maintenance","workflow::in dev"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":10762712,"username":"arfedoro","name":"Artur Fedorov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10762712/avatar.png","web_url":"https://gitlab.com/arfedoro"}],"author":{"id":10762712,"username":"arfedoro","name":"Artur Fedorov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10762712/avatar.png","web_url":"https://gitlab.com/arfedoro"},"type":"ISSUE","assignee":{"id":10762712,"username":"arfedoro","name":"Artur Fedorov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10762712/avatar.png","web_url":"https://gitlab.com/arfedoro"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/365464","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/365464","notes":"https://gitlab.com/api/v4/projects/278964/issues/365464/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/365464/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#365464","relative":"#365464","full":"gitlab-org/gitlab#365464"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7631,"epic":{"id":451408,"iid":7631,"title":"On-demand DAST configuration improvements","url":"/groups/gitlab-org/-/epics/7631","group_id":9970,"human_readable_end_date":"Aug 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":110231570,"iid":365462,"project_id":278964,"title":"Rename Aggregations::Issueables::LazyBlockAggregate","description":"With !89632 the lazy loader `Aggregations::Issueables::LazyBlockAggregate` was extended to cover the `blocking` relationship as well as `blocked` so the name could be improved:\n\nIt was suggested to use `LazyLinksAggregate` instead, as it would fit better with the corresponding models. See https://gitlab.com/gitlab-org/gitlab/-/merge_requests/89632#note_993869088.","state":"closed","created_at":"2022-06-16T11:07:15.508Z","updated_at":"2022-06-21T09:13:55.164Z","closed_at":"2022-06-21T09:13:55.141Z","closed_by":{"id":3860200,"username":"egrieff","name":"Eugenia Grieff","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3860200/avatar.png","web_url":"https://gitlab.com/egrieff"},"labels":["backend","devops::plan","group::product planning","type::maintenance","workflow::verification"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":3860200,"username":"egrieff","name":"Eugenia Grieff","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3860200/avatar.png","web_url":"https://gitlab.com/egrieff"}],"author":{"id":3860200,"username":"egrieff","name":"Eugenia Grieff","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3860200/avatar.png","web_url":"https://gitlab.com/egrieff"},"type":"ISSUE","assignee":{"id":3860200,"username":"egrieff","name":"Eugenia Grieff","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3860200/avatar.png","web_url":"https://gitlab.com/egrieff"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/365462","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/365462","notes":"https://gitlab.com/api/v4/projects/278964/issues/365462/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/365462/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#365462","relative":"#365462","full":"gitlab-org/gitlab#365462"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":110227418,"iid":365456,"project_id":278964,"title":"[Feature flag] Roll out `import_release_authors_from_github`","description":"## Summary\n\nThis issue is to rollout flag `import_release_authors_from_github`\n\nRelated issue : https://gitlab.com/gitlab-org/gitlab/-/issues/343448\nRelated MR: https://gitlab.com/gitlab-org/gitlab/-/merge_requests/89692/diffs\n\n\u003c!-- Short description of what the feature is about and link to relevant other issues. --\u003e\n\n## Owners\n\n- Team: `group::release`\n- Most appropriate slack channel to reach out to: `#s_release`\n- Best individual to reach out to: @bala.kumar \n- PM:@cbalane\n\n## Stakeholders\n\n\u003c!--\nAre there any other stages or teams involved that need to be kept in the loop?\n\n- Name of a PM\n- The Support Team\n- The Delivery Team\n--\u003e\n\n## Expectations\n\n### What are we expecting to happen?\n\nWhen a release is imported from Github it is expected to have the release author_id present in Gitlab.\n\n### When is the feature viable?\n\nWhile importing releases from Github to Gitlab.\n\n\u003c!-- \nExample below:\n \n1. Enable service ping collection\n   `ApplicationSetting.first.update(usage_ping_enabled: true)`\n--\u003e\n\n### What might happen if this goes wrong?\n\n\n### What can we monitor to detect problems with this?\n\n### What can we check for monitoring production after rollouts?\n\n\n\n## Rollout Steps\n\n### Rollout on non-production environments\n\n- Ensure that the feature MRs have been deployed to non-production environments.\n    - [x] `/chatops run auto_deploy statusf9a4b0e4bc5161151abc6e7289da83a5304da764`\n- [x] Enable the feature globally on non-production environments.\n    - [x] `/chatops run feature set import_release_authors_from_github true --dev`\n    - [x] `/chatops run feature set import_release_authors_from_github true --staging`\n- [x] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n\n### Specific rollout on production\n\n- Ensure that the feature MRs have been deployed to both production and canary.\n    - [x] `/chatops run auto_deploy status 651aeff6bcc301be32f7cb1eb532cbab7189e3b1`\n- If you're using [project-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [ ] `/chatops run feature set --project=gitlab-org/gitlab import_release_authors_from_github true`\n    - [ ] `/chatops run feature set --project=gitlab-org/gitlab-foss import_release_authors_from_github true`\n    - [ ] `/chatops run feature set --project=gitlab-com/www-gitlab-com import_release_authors_from_github true`\n- If you're using [group-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [ ] `/chatops run feature set --group=gitlab-org import_release_authors_from_github true`\n    - [ ] `/chatops run feature set --group=gitlab-com import_release_authors_from_github true`\n- If you're using [user-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [ ] `/chatops run feature set --user=\u003cyour-username\u003e import_release_authors_from_github true`\n- [ ] Verify that the feature works on the specific entries. Posting the QA result in this issue is preferable.\n\n### Preparation before global rollout\n\n- [ ] Check if the feature flag change needs to be accompanied with a\n  [change management issue](https://about.gitlab.com/handbook/engineering/infrastructure/change-management/#feature-flags-and-the-change-management-process).\n  Cross link the issue here if it does.\n- [ ] Ensure that you or a representative in development can be available for at least 2 hours after feature flag updates in production.\n  If a different developer will be covering, or an exception is needed, please inform the oncall SRE by using the `@sre-oncall` Slack alias.\n- [ ] Ensure that documentation has been updated ([More info](https://docs.gitlab.com/ee/development/documentation/feature_flags.html#features-that-became-enabled-by-default)).\n- [ ] Announce on [the feature issue](ISSUE LINK) an estimated time this will be enabled on GitLab.com.\n- [ ] Notify `#support_gitlab-com` and your team channel ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#communicate-the-change)).\n\n### Global rollout on production\n\nFor visibility, all `/chatops` commands that target production should be executed in the `#production` slack channel and cross-posted (with the command results) to the responsible team's slack channel (`#g_TEAM_NAME`).\n\n- [x] [Incrementally roll out](https://docs.gitlab.com/ee/development/feature_flags/controls.html#process) the feature.\n  - If the feature flag in code has [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform **actor-based** rollout.\n    - [ ] `/chatops run feature set import_release_authors_from_github \u003crollout-percentage\u003e --actors`\n  - If the feature flag in code does **NOT** have [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform time-based rollout (**random** rollout).\n    - [ ] `/chatops run feature set import_release_authors_from_github \u003crollout-percentage\u003e`\n  - Enable the feature globally on production environment.\n    - [x] `/chatops run feature set import_release_authors_from_github true`\n- [x] Announce on [the feature issue](ISSUE LINK) that the feature has been globally enabled.\n- [x] Wait for [at least one day for the verification term](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release).\n\n### (Optional) Release the feature with the feature flag\n\nIf you're still unsure whether the feature is [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release)\nbut want to release it in the current milestone, you can change the default state of the feature flag to be enabled.\nTo do so, follow these steps:\n\n- [x] Create a merge request with the following changes. Ask for review and merge it.\n    - [x] Set the `default_enabled` attribute in [the feature flag definition](https://docs.gitlab.com/ee/development/feature_flags/#feature-flag-definition-and-validation) to `true`.\n    - [x] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [x] Ensure that the default-enabling MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-default-enabling-mr\u003e`\n- [x] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [ ] Set the next milestone to this rollout issue for scheduling [the flag removal](#release-the-feature).\n- [x] (Optional) You can create a separate issue for scheduling the steps below to [Release the feature](#release-the-feature).\n    - [x] Set the title to \"[Feature flag] Cleanup `import_release_authors_from_github`\".\n    - [ ] Execute the `/copy_metadata \u003cthis-rollout-issue-link\u003e` quick action to copy the labels from this rollout issue.\n    - [x] Link this rollout issue as a related issue.\n    - [x] Close this rollout issue.\n\n**WARNING:** This approach has the downside that it makes it difficult for us to\n[clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) the flag.\nFor example, on-premise users could disable the feature on their GitLab instance. But when you\nremove the flag at some point, they suddenly see the feature as enabled and they can't roll it back\nto the previous behavior. To avoid this potential breaking change, use this approach only for urgent\nmatters.\n\n### Release the feature\n\nAfter the feature has been [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release),\nthe [clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up)\nshould be done as soon as possible to permanently enable the feature and reduce complexity in the\ncodebase.\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [ ] Create a merge request to remove `import_release_authors_from_github` feature flag. Ask for review and merge it.\n    - [ ] Remove all references to the feature flag from the codebase.\n    - [ ] Remove the YAML definitions for the feature from the repository.\n    - [ ] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the cleanup MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-cleanup-mr\u003e`\n- [x] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [x] Clean up the feature flag from all environments by running these chatops command in `#production` channel:\n    - [x] `/chatops run feature delete import_release_authors_from_github --dev`\n    - [x] `/chatops run feature delete import_release_authors_from_github --staging`\n    - [x] `/chatops run feature delete import_release_authors_from_github `\n- [ ] Close this rollout issue.\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set import_release_authors_from_github false\n```","state":"closed","created_at":"2022-06-16T09:53:03.501Z","updated_at":"2022-07-22T12:07:32.721Z","closed_at":"2022-06-29T14:39:03.725Z","closed_by":{"id":9253328,"username":"bala.kumar","name":"Bala Kumar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9253328/avatar.png","web_url":"https://gitlab.com/bala.kumar"},"labels":["feature flag","group::release","type::maintenance","workflow::verification"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":9253328,"username":"bala.kumar","name":"Bala Kumar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9253328/avatar.png","web_url":"https://gitlab.com/bala.kumar"}],"author":{"id":9253328,"username":"bala.kumar","name":"Bala Kumar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9253328/avatar.png","web_url":"https://gitlab.com/bala.kumar"},"type":"ISSUE","assignee":{"id":9253328,"username":"bala.kumar","name":"Bala Kumar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9253328/avatar.png","web_url":"https://gitlab.com/bala.kumar"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/365456","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":49,"completed_count":25},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"25 of 49 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/365456","notes":"https://gitlab.com/api/v4/projects/278964/issues/365456/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/365456/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#365456","relative":"#365456","full":"gitlab-org/gitlab#365456"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8375,"epic":{"id":565993,"iid":8375,"title":"Ensure new Releases always have `author_id`","url":"/groups/gitlab-org/-/epics/8375","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":null},{"id":110223575,"iid":365450,"project_id":278964,"title":"In Profile Emails Preferences  Labels are positioned wrong","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"type::bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=type::bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\n\u003c!-- Summarize the bug encountered concisely. --\u003e\nLabels are missaligned in email preferences\n![Screenshot_2022-06-16_at_10.47.56](/uploads/e691c53e486e5aae6b8ee6cedd043a01/Screenshot_2022-06-16_at_10.47.56.png)\n### Steps to reproduce\n\n\u003c!-- Describe how one can reproduce the issue - this is very important. Please use an ordered list. --\u003e\n\n1. Go to Profile \u003e Preferences\n2. On the left-side menu click Emails\n3. Observe labels missaligned on every screen size  \n\n### Example Project\n\nhttps://gitlab.com/-/profile/emails\n\u003c!-- If possible, please create an example project here on GitLab.com that exhibits the problematic \nbehavior, and link to it here in the bug report. If you are using an older version of GitLab, this \nwill also determine whether the bug is fixed in a more recent version. --\u003e\n\n### What is the current *bug* behavior?\n\n\u003c!-- Describe what actually happens. --\u003e\n\nLabels are not on the same level. If there is not enough space they should be displayed in two rows but differently\n\n### What is the expected *correct* behavior?\n\nI am not sure how it should be, need UX advice.\nProbably labels should be displayed in one line on the same level. \n\n\u003c!-- Describe what you should see instead. --\u003e\n\n### Possible fixes\n\n[**Figma work file**](https://www.figma.com/file/awnJjubkiCd974E8kNw8Uf/Untitled?node-id=0%3A1)\n\n\n\n| Desktop | Mobile |\n| ------ | ------ |\n| ![Frame_4](/uploads/77b4b29781c8e3f337f4816e72b5d68c/Frame_4.png) | ![Frame_5](/uploads/3c042ba71bb8386ae88bea92804f0e9b/Frame_5.png) |\n\n\u003c!-- If you can, link to the line of code that might be responsible for the problem. --\u003e","state":"closed","created_at":"2022-06-16T08:55:39.944Z","updated_at":"2022-08-21T12:01:57.021Z","closed_at":"2022-08-05T10:32:02.473Z","closed_by":{"id":11004366,"username":"eduardosanz","name":"Eduardo Sanz García","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11004366/avatar.png","web_url":"https://gitlab.com/eduardosanz"},"labels":["Deliverable","SUS::Impacting","UX","automation:ml","candidate::15.3","devops::manage","frontend","group::authentication and authorization","priority::4","section::dev","severity::4","type::bug","workflow::in dev"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":11004366,"username":"eduardosanz","name":"Eduardo Sanz García","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11004366/avatar.png","web_url":"https://gitlab.com/eduardosanz"}],"author":{"id":11703928,"username":"nradina","name":"Nataliia Radina","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11703928/avatar.png","web_url":"https://gitlab.com/nradina"},"type":"ISSUE","assignee":{"id":11004366,"username":"eduardosanz","name":"Eduardo Sanz García","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11004366/avatar.png","web_url":"https://gitlab.com/eduardosanz"},"user_notes_count":13,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/365450","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/365450","notes":"https://gitlab.com/api/v4/projects/278964/issues/365450/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/365450/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#365450","relative":"#365450","full":"gitlab-org/gitlab#365450"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":110221927,"iid":365447,"project_id":278964,"title":"Reduce cost factor for community contributors of GitLab-org to run sufficient pipelines","description":"## Problem\n\nWith the enforcement of CI minutes for public projects and the use of `cost_factor: 0.008` has shown some impacts to the wider-community contributing to `gitlab-org` projects, primarily `gitlab-org/gitlab` project. \n\nThe problem is primarily the large pipeline that consumes a lot of CI minutes which are counted against the contributor's quota.\n\n## Proposal\n\n* For a contribution to any `gitlab-org` or `gitlab-com` group project from a fork:\n  * Use cost factor `(monthly limit / 300,000)`","state":"closed","created_at":"2022-06-16T08:36:51.623Z","updated_at":"2022-09-07T14:01:08.347Z","closed_at":"2022-07-19T13:14:27.556Z","closed_by":{"id":4626651,"username":"allison.browne","name":"Allison Browne","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4bc33904c3bd3f2dce3db4e5af4ad1ae?s=80\u0026d=identicon","web_url":"https://gitlab.com/allison.browne"},"labels":["CI minutes","Category:Continuous Integration","Deliverable","Verify::P2","backend","devops::verify","documentation","feature::enhancement","group::pipeline execution","section::ops","type::feature","workflow::verification"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":4626651,"username":"allison.browne","name":"Allison Browne","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4bc33904c3bd3f2dce3db4e5af4ad1ae?s=80\u0026d=identicon","web_url":"https://gitlab.com/allison.browne"}],"author":{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"},"type":"ISSUE","assignee":{"id":4626651,"username":"allison.browne","name":"Allison Browne","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4bc33904c3bd3f2dce3db4e5af4ad1ae?s=80\u0026d=identicon","web_url":"https://gitlab.com/allison.browne"},"user_notes_count":46,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/365447","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/365447","notes":"https://gitlab.com/api/v4/projects/278964/issues/365447/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/365447/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#365447","relative":"#365447","full":"gitlab-org/gitlab#365447"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5653,"epic":{"id":231355,"iid":5653,"title":"CI minutes limits for public projects on GitLab.com","url":"/groups/gitlab-org/-/epics/5653","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":"on_track"},{"id":110217152,"iid":365443,"project_id":278964,"title":"Service Ping add max duration to Service Ping health dashboard","description":"Add a dashboard in Sisense, [Service Ping Health](https://app.periscopedata.com/app/gitlab/968489/Product-Intelligence---Service-Ping-Health)\n\nMax duration for metrics generation\n\nValues are logged with https://gitlab.com/gitlab-org/gitlab/-/merge_requests/82607","state":"closed","created_at":"2022-06-16T07:30:04.330Z","updated_at":"2022-09-21T12:06:31.970Z","closed_at":"2022-09-05T14:56:52.290Z","closed_by":{"id":1863977,"username":"michold","name":"Michał Wielich","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1863977/avatar.png","web_url":"https://gitlab.com/michold"},"labels":["Deliverable","PI System Reliability and Monitoring","backend","devops::analytics","feature::enhancement","group::product intelligence","section::analytics","type::feature","workflow::in dev"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":1863977,"username":"michold","name":"Michał Wielich","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1863977/avatar.png","web_url":"https://gitlab.com/michold"}],"author":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"type":"ISSUE","assignee":{"id":1863977,"username":"michold","name":"Michał Wielich","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1863977/avatar.png","web_url":"https://gitlab.com/michold"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/365443","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/365443","notes":"https://gitlab.com/api/v4/projects/278964/issues/365443/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/365443/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#365443","relative":"#365443","full":"gitlab-org/gitlab#365443"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7030,"epic":{"id":378920,"iid":7030,"title":"Product Intelligence – Improve Monitoring and Reliability","url":"/groups/gitlab-org/-/epics/7030","group_id":9970,"human_readable_end_date":"Jan 31, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":110216420,"iid":365442,"project_id":278964,"title":"Implement fallback to Rouge for languages not supported by Highlight.js (and track usage)","description":"As part of [moving to Highlight.js for highlighting source code](https://gitlab.com/groups/gitlab-org/-/epics/7146) we need to implement a fallback to Rouge (the old way of highlighting source code) for languages that Highlight.js does not support, and track the usage of the fallback.\n\nThis will ensure our transition to Highlight.js is smooth and give us a better understanding of how often the fallback is used (also track the language as part of the tracking event if possible?)\n\n### Resources\n\n- [Data For Product Managers](https://about.gitlab.com/handbook/business-technology/data-team/programs/data-for-product-managers/)\n- [Product Intelligence Guide](https://about.gitlab.com/handbook/product/product-intelligence-guide/)\n- [Metrics Dictionary (for reference)](https://metrics.gitlab.com/snowplow/)\n- [Implement Snowplow tracking](https://docs.gitlab.com/ee/development/snowplow/implementation.html)\n\n### Testing\n\nPlease note that since the changes are under feature flag, E2E tests in the MR will run against the default state (disabled). To ensure the tests still pass, it is possible to trigger `package-and-qa-ff-enabled` by editing feature flag definition file or creating a connected Draft MR that does, please refer to [Confirming that end-to-end tests pass with a feature flag enabled](https://docs.gitlab.com/ee/development/testing_guide/end_to_end/feature_flags.html#confirming-that-end-to-end-tests-pass-with-a-feature-flag-enabled) and reach out to SET if any help required.","state":"closed","created_at":"2022-06-16T07:17:59.299Z","updated_at":"2022-08-25T20:40:57.594Z","closed_at":"2022-06-27T07:08:43.254Z","closed_by":{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"},"labels":["Category:Source Code Management","Deliverable","devops::create","frontend","group::source code","quad-planning::complete-action","section::dev","type::feature","workflow::verification"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"}],"author":{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"},"type":"ISSUE","assignee":{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"},"user_notes_count":13,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/365442","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/365442","notes":"https://gitlab.com/api/v4/projects/278964/issues/365442/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/365442/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#365442","relative":"#365442","full":"gitlab-org/gitlab#365442"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7146,"epic":{"id":387817,"iid":7146,"title":"Highlight source code syntax on the frontend using HighlightJS","url":"/groups/gitlab-org/-/epics/7146","group_id":9970,"human_readable_end_date":"Dec 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":110215204,"iid":365441,"project_id":278964,"title":"Add License feature availability checks in Auditor","description":"## Problem Statement\n\nCurrently [Auditor Class](https://gitlab.com/gitlab-org/gitlab/-/blob/master/ee/lib/gitlab/audit/auditor.rb) does not have any License feature checks\nand as we want to shift from AuditEventService to Auditor for audit events creation it makes sense to have these license checks in Auditor as well.\n\n## Proposed Solution\n- [x] Compile a list of audit events using auditor and fails to create when license checks are used.\n\n| audit event | test file |\n| ------ | ------ |\n| GPG Keys creation | https://gitlab.com/gitlab-org/gitlab/-/blob/master/ee/spec/services/ee/gpg_keys/create_service_spec.rb |\n| GPG Keys deletion | https://gitlab.com/gitlab-org/gitlab/-/blob/master/ee/spec/services/ee/gpg_keys/destroy_service_spec.rb |\n| Activate Member | https://gitlab.com/gitlab-org/gitlab/-/blob/master/ee/spec/services/members/activate_service_spec.rb|\n| Keys deletion | https://gitlab.com/gitlab-org/gitlab/-/blob/master/ee/spec/services/ee/keys/destroy_service_spec.rb|\n| Disable 2FA | https://gitlab.com/gitlab-org/gitlab/-/blob/master/ee/spec/services/ee/two_factor/destroy_service_spec.rb |\n- [x] Make sure these audit events require license check, if not add a bypass for license check for these audit events.\n- [x] Add license checks in auditor","state":"closed","created_at":"2022-06-16T06:55:54.713Z","updated_at":"2022-07-12T12:57:45.995Z","closed_at":"2022-07-12T12:57:45.971Z","closed_by":{"id":10467142,"username":"harsimarsandhu","name":"Harsimar Sandhu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10467142/avatar.png","web_url":"https://gitlab.com/harsimarsandhu"},"labels":["Category:Audit Events","auto updated","devops::manage","group::compliance","priority::1","section::dev","type::bug","workflow::production"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":10467142,"username":"harsimarsandhu","name":"Harsimar Sandhu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10467142/avatar.png","web_url":"https://gitlab.com/harsimarsandhu"}],"author":{"id":10467142,"username":"harsimarsandhu","name":"Harsimar Sandhu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10467142/avatar.png","web_url":"https://gitlab.com/harsimarsandhu"},"type":"ISSUE","assignee":{"id":10467142,"username":"harsimarsandhu","name":"Harsimar Sandhu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10467142/avatar.png","web_url":"https://gitlab.com/harsimarsandhu"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/365441","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":3},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"3 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/365441","notes":"https://gitlab.com/api/v4/projects/278964/issues/365441/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/365441/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#365441","relative":"#365441","full":"gitlab-org/gitlab#365441"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8118,"epic":{"id":527365,"iid":8118,"title":"Specific event shortlist to add event type information for","url":"/groups/gitlab-org/-/epics/8118","group_id":9970,"human_readable_end_date":"Sep 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":110211616,"iid":365438,"project_id":278964,"title":"Remove metrics that take long time from Service Ping generation for GitLab.com","description":"## Problem\n\nService Ping generation takes more than 40 hours in the last 2-3 weeks.\n\nThere is a risk to not be able to generate it successfully\n\n## Proposal\n\nRemove/Optimize metrics that take long time from Service Ping generation for GitLab.com\n\n### Proposed metrics to be removed\n\nSee monitoring issue https://gitlab.com/gitlab-org/gitlab/-/issues/362739#note_975137024\n\n- [counts.ci_internal_pipelines](https://gitlab.com/gitlab-org/gitlab/-/blob/master/config/metrics/counts_all/20210216175512_ci_internal_pipelines.yml) `12.5` hours \n- [counts.issues_created_gitlab_alerts](https://gitlab.com/gitlab-org/gitlab/-/blob/master/config/metrics/counts_all/20210216180443_issues_created_gitlab_alerts.yml) 3.47796 hours\n- [counts.issues_created_manually_from_alerts](https://gitlab.com/gitlab-org/gitlab/-/blob/master/config/metrics/counts_all/20210216180445_issues_created_manually_from_alerts.yml) 3.47796\n\n\n## Next steps for this\n\n- [ ] Remove the metrics for GitLab.com\n- [ ] Regenerate Service Ping when the changes are in production. This will require access to the production rails console. Follow https://gitlab.com/gitlab-org/gitlab/-/issues/362739#how-to-generate-usage-ping-for-gtilabcom\n- [ ] Create individual issues for the broken metrics to fix them","state":"closed","created_at":"2022-06-16T05:53:38.434Z","updated_at":"2022-08-05T11:52:16.055Z","closed_at":"2022-07-04T10:18:55.159Z","closed_by":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"labels":["Affects Product Data","Service Ping","Unplanned","backend","bug::performance","devops::analytics","group::product intelligence","priority::1","section::analytics","severity::2","type::bug","workflow::production"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":9712164,"username":"nbelokolodov","name":"Niko Belokolodov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9712164/avatar.png","web_url":"https://gitlab.com/nbelokolodov"}],"author":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"type":"ISSUE","assignee":{"id":9712164,"username":"nbelokolodov","name":"Niko Belokolodov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9712164/avatar.png","web_url":"https://gitlab.com/nbelokolodov"},"user_notes_count":15,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/365438","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/365438","notes":"https://gitlab.com/api/v4/projects/278964/issues/365438/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/365438/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#365438","relative":"#365438","full":"gitlab-org/gitlab#365438"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":110205352,"iid":365419,"project_id":278964,"title":"Remove the text that artifact storage may be incorrect","description":"We have recently fixed artifact storage. \n\nNow that it should be working, we should remove the warning that it may be wrong: ![image](/uploads/816826b24971b8f19a02a59c92ed5926/image.png)","state":"closed","created_at":"2022-06-16T03:06:58.469Z","updated_at":"2022-09-16T17:00:03.757Z","closed_at":"2022-06-23T15:57:54.753Z","closed_by":{"id":3029776,"username":"shampton","name":"Scott Hampton","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3029776/avatar.png","web_url":"https://gitlab.com/shampton"},"labels":["Category:Build Artifacts","frontend","group::pipeline insights","maintenance::dependency","missed:15.1","needs weight","type::maintenance","workflow::production"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":3029776,"username":"shampton","name":"Scott Hampton","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3029776/avatar.png","web_url":"https://gitlab.com/shampton"}],"author":{"id":926632,"username":"joshlambert","name":"Joshua Lambert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a0bdc5209b11e9c0953f80234dcb4ffb?s=80\u0026d=identicon","web_url":"https://gitlab.com/joshlambert"},"type":"ISSUE","assignee":{"id":3029776,"username":"shampton","name":"Scott Hampton","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3029776/avatar.png","web_url":"https://gitlab.com/shampton"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/365419","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/365419","notes":"https://gitlab.com/api/v4/projects/278964/issues/365419/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/365419/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#365419","relative":"#365419","full":"gitlab-org/gitlab#365419"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":"on_track"},{"id":110205252,"iid":365417,"project_id":278964,"title":"Namespace-level container usage does not report accurately","description":"I just pushed a container to a project, and the container size was updated correctly as soon as I checked: ![image](/uploads/99989cd4be7216291b10ddcc5943f6d2/image.png)\n\nUnfortunately when I checked the namespace level storage stats, the container registry showed blank (as in no size at all):\n\n![image](/uploads/067bcd27aeaa8671e952b6ca80488a69/image.png)","state":"closed","created_at":"2022-06-16T03:03:44.785Z","updated_at":"2022-07-05T09:28:33.275Z","closed_at":"2022-06-22T03:30:41.084Z","closed_by":{"id":926632,"username":"joshlambert","name":"Joshua Lambert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a0bdc5209b11e9c0953f80234dcb4ffb?s=80\u0026d=identicon","web_url":"https://gitlab.com/joshlambert"},"labels":["[deprecated] Category:Utilization","devops::fulfillment","group::utilization","section::fulfillment","type::bug","workflow::production"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":10373497,"username":"kpalchyk","name":"Kos Palchyk","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10373497/avatar.png","web_url":"https://gitlab.com/kpalchyk"}],"author":{"id":926632,"username":"joshlambert","name":"Joshua Lambert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a0bdc5209b11e9c0953f80234dcb4ffb?s=80\u0026d=identicon","web_url":"https://gitlab.com/joshlambert"},"type":"ISSUE","assignee":{"id":10373497,"username":"kpalchyk","name":"Kos Palchyk","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10373497/avatar.png","web_url":"https://gitlab.com/kpalchyk"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/365417","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/365417","notes":"https://gitlab.com/api/v4/projects/278964/issues/365417/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/365417/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#365417","relative":"#365417","full":"gitlab-org/gitlab#365417"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":110204745,"iid":365416,"project_id":278964,"title":"Only show the link to the project homepage when viewing package from group package registry","description":"## Context \nOn a customer call, a customer shared their screen with me and was asking why there is a link to the project home page on the package detail view. \n![Screen_Shot_2022-07-18_at_12.43.24](/uploads/e3ce6483fc265705d6e5e3f46bad03b9/Screen_Shot_2022-07-18_at_12.43.24.png)\n\n## When this link shows\n* This link only shows when the package is published via a pipeline\n* This link shows when viewing the project's package registry\n* This link shows when viewing the group's package registry\n\n## Proposal\nIt is superfluous to show this link when viewing the project's package registry. I propose to only show this link when looking at the group's package registry\n\n## Implementation plan\n\n- Update `v-if` condition https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/assets/javascripts/packages_and_registries/package_registry/components/details/package_title.vue#L111 to consider `isGroupPage` (which can be `inject`ed) before rendering template","state":"closed","created_at":"2022-06-16T02:47:58.817Z","updated_at":"2022-09-08T06:13:51.386Z","closed_at":"2022-08-15T05:46:56.687Z","closed_by":{"id":11214192,"username":"rchanila","name":"Rahul Chanila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11214192/avatar.png","web_url":"https://gitlab.com/rchanila"},"labels":["Category:Package Registry","Community contribution","Hackathon","UX","devops::package","feature::enhancement","frontend","frontend-weight::1","good for new contributors","group::package registry","package-review-weight::1","section::ops","type::feature","workflow::verification"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":536474,"username":"parkourkarthik","name":"Karthik (PK)","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/536474/avatar.png","web_url":"https://gitlab.com/parkourkarthik"}],"author":{"id":9608331,"username":"katiemacoy","name":"Katie Macoy","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9608331/avatar.png","web_url":"https://gitlab.com/katiemacoy"},"type":"ISSUE","assignee":{"id":536474,"username":"parkourkarthik","name":"Karthik (PK)","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/536474/avatar.png","web_url":"https://gitlab.com/parkourkarthik"},"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/365416","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/365416","notes":"https://gitlab.com/api/v4/projects/278964/issues/365416/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/365416/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#365416","relative":"#365416","full":"gitlab-org/gitlab#365416"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":110204447,"iid":365415,"project_id":278964,"title":"Non project members can view public projects Deploy Keys","description":"**[HackerOne report #1600325](https://hackerone.com/reports/1600325)** by `jimeno` on 2022-06-14, assigned to @nmalcolm:\n\n[Report](#report) | [Attachments](#attachments) | [How To Reproduce](#how-to-reproduce)\n\n## Report\n\n#####  Summary\n\nNon project member can view Deploy Keys of public projects while they shouldn't. REST API strictly forbids this behavior while the `/-/autocomplete/*` special endpoint allows it.\n\nAs you can see [here](https://docs.gitlab.com/ee/user/project/deploy_keys/#view-deploy-keys) in the official documentation, deploy keys can only be seen from Repository settings. An area to which non members do not have access.\n\n#####  Steps to reproduce\n\n1. Victim creates a public project with any dummy file  \n2. Browse to settings -\u003e repository -\u003e deploy keys (not tokens, be careful!!)  \n3. Create one with any contents, with write permissions  \n4. As a different user who is NOT a project member, browse to the project page and copy the project identifier via the UI  \n5. As this user, browse to `https://gitlab.com/-/autocomplete/deploy_keys_with_owners?project_id=[project-id]` and notice how the keys are shown to you.\n\n#####  Impact\n\nNon project members can view project deploy keys. \n\n#####  Examples\n\n1. Sign in to your GitLab SaaS account.  \n2. Browse to `https://gitlab.com/-/autocomplete/deploy_keys_with_owners?project_id=37015326` and you'll see Deploy Keys of `https://gitlab.com/jimen0/x` (project ID is `37015326`).\n\n#####  What is the current *bug* behavior?\n\nDeploy keys autocomplete endpoint just checks if the user can view the repository, not if they have write access to it.\n\nThis doesn't happen through the REST API:\n\n```console  \n$ curl -H 'Content-Type:application/json' -H \"PRIVATE-TOKEN: ${PAT_ATTACKER}\" \"https://gl.jimenolabs.net/api/v4/projects/160/deploy_keys\" -s | jq .  \n{\n  \"message\": \"403 Forbidden\"  \n}\n```\n\nNotice the difference in the code.\n\n* Autocomplete [endpoint](https://sourcegraph.com/gitlab.com/gitlab-org/gitlab/-/blob/app/controllers/autocomplete_controller.rb?L62):\n\n    ```ruby  \n      def deploy_keys_with_owners  \n        deploy_keys = DeployKey.with_write_access_for_project(project) # --\u003e NOTICE HOW HERE THE KEYS ARE FETCHED WITHOUT TAKING INTO ACCOUNT THE CURRENT USER  \n      \n        render json: DeployKeys::BasicDeployKeySerializer.new.represent(  \n          deploy_keys, { with_owner: true, user: current_user }  \n        )  \n      end  \n    ```\n\n* [Rest API](https://sourcegraph.com/gitlab.com/gitlab-org/gitlab/-/blob/lib/api/deploy_keys.rb?L50-54):\n\n    ```ruby  \n          get \":id/deploy_keys\" do  \n            keys = user_project.deploy_keys_projects.preload(deploy_key: :user)  \n      \n            present paginate(keys), with: Entities::DeployKeysProject  \n          end  \n    ```\n\n#####  What is the expected *correct* behavior?\n\nAutocomplete endpoint takes `current_user` into account when fetching the project keys.\n\n#####  Relevant logs and/or screenshots\n\nN/A.\n\n#####  Output of checks\n\nThis bug happens on GitLab.com.\n\n######  Results of GitLab environment info\n\n```console  \nroot@gl:/# gitlab-rake gitlab:env:info\n\nSystem information  \nSystem:\t\t  \nProxy:\t\tno  \nCurrent User:\tgit  \nUsing RVM:\tno  \nRuby Version:\t2.7.5p203  \nGem Version:\t3.1.4  \nBundler Version:2.2.33  \nRake Version:\t13.0.6  \nRedis Version:\t6.2.6  \nSidekiq Version:6.4.0  \nGo Version:\tunknown\n\nGitLab information  \nVersion:\t15.0.1-ee  \nRevision:\td69f38d4a95  \nDirectory:\t/opt/gitlab/embedded/service/gitlab-rails  \nDB Adapter:\tPostgreSQL  \nDB Version:\t12.10  \nURL:\t\thttps://gl.jimenolabs.net  \nHTTP Clone URL:\thttps://gl.jimenolabs.net/some-group/some-project.git  \nSSH Clone URL:\tgit@gl.jimenolabs.net:some-group/some-project.git  \nElasticsearch:\tno  \nGeo:\t\tno  \nUsing LDAP:\tno  \nUsing Omniauth:\tyes  \nOmniauth Providers: auth0\n\nGitLab Shell  \nVersion:\t14.3.0  \nRepository storage paths:  \n- default: \t/var/opt/gitlab/git-data/repositories  \nGitLab Shell path:\t\t/opt/gitlab/embedded/service/gitlab-shell  \n```\n\n####  Impact\n\nNon project members can view project deploy keys.\n\n## Attachments\n\n**Warning:** Attachments received through HackerOne, please exercise caution!\n\n* [Captura_de_Pantalla_2022-06-14_a_las_13.31.14.png](https://h1.sec.gitlab.net/a/5b9db342-f1cd-4289-bd4b-2ce06d82d4fc/Captura_de_Pantalla_2022-06-14_a_las_13.31.14.png)\n\n## How To Reproduce\n\nPlease add [reproducibility information] to this section:\n\n1.\n1.\n1.\n\n[reproducibility information]: https://about.gitlab.com/handbook/engineering/security/#reproducibility-on-security-issues","state":"closed","created_at":"2022-06-16T02:37:50.875Z","updated_at":"2022-09-02T03:10:24.341Z","closed_at":"2022-07-29T08:56:01.076Z","closed_by":{"id":9043659,"username":"rshambhuni","name":"Rohit Shambhuni","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9043659/avatar.png","web_url":"https://gitlab.com/rshambhuni"},"labels":["Category:Continuous Delivery","Deliverable","HackerOne","Next Up","Release::P1","Weakness::CWE-284","bug::vulnerability","devops::release","group::release","priority::3","section::ops","security","severity::3","type::bug","workflow::awaiting security release"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":11334402,"username":"ahmed.hemdan","name":"Ahmed Hemdan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11334402/avatar.png","web_url":"https://gitlab.com/ahmed.hemdan"}],"author":{"id":2741139,"username":"gitlab-securitybot","name":"GitLab SecurityBot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2741139/avatar.png","web_url":"https://gitlab.com/gitlab-securitybot"},"type":"ISSUE","assignee":{"id":11334402,"username":"ahmed.hemdan","name":"Ahmed Hemdan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11334402/avatar.png","web_url":"https://gitlab.com/ahmed.hemdan"},"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2022-08-26","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/365415","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/365415","notes":"https://gitlab.com/api/v4/projects/278964/issues/365415/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/365415/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#365415","relative":"#365415","full":"gitlab-org/gitlab#365415"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":110198557,"iid":365408,"project_id":278964,"title":"PUT /api/:version/projects/:id/hooks/:hook_id can be slow","description":"### Summary\n\nThe `PUT /api/:version/projects/:id/hooks/:hook_id` endpoint can be slow,\nwhich has a negative impact on error-budgets.\n\nSee: https://log.gprd.gitlab.net/goto/20e88380-ecfe-11ec-b86b-d963a1a6788e\n\n### Possible fixes\n\nTBD","state":"closed","created_at":"2022-06-15T22:54:47.001Z","updated_at":"2022-11-22T18:35:47.478Z","closed_at":"2022-08-25T14:35:42.866Z","closed_by":{"id":3614858,"username":"alexkalderimis","name":"Alex Kalderimis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3614858/avatar.png","web_url":"https://gitlab.com/alexkalderimis"},"labels":["Category:Webhooks","Error Budget Improvement","[deprecated] Accepting merge requests","backend","bug::performance","devops::manage","group::integrations","missed:15.3","section::dev","type::bug","won't do"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[],"author":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"type":"ISSUE","assignee":null,"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/365408","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/365408","notes":"https://gitlab.com/api/v4/projects/278964/issues/365408/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/365408/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#365408","relative":"#365408","full":"gitlab-org/gitlab#365408"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6913,"epic":{"id":370101,"iid":6913,"title":"Integrations Error Budgets","url":"/groups/gitlab-org/-/epics/6913","group_id":9970},"iteration":null,"health_status":null},{"id":110197960,"iid":365407,"project_id":278964,"title":"Add status badge and pipeline details for DAST configuration page - Frontend","description":"Blocked by [#90059](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/90059)\n\nAfter new DastProfilesConfigurator in configuration page is merged.\n\nIt must be used for $URL/$PROJECT_ID/-/security/configuration page\n\nunder feature flag\n```ruby\n   Feature.enable(:dast_ui_redesign)\n   ```\n\nAccording to new [design](https://www.figma.com/proto/o6NoqgLnxv0KnK2y9Qum51/DAST-Configuration-UI?page-id=1020%3A54423\u0026node-id=1132%3A80771\u0026viewport=-660%2C1450%2C0.05\u0026scaling=min-zoom\u0026starting-point-node-id=1132%3A78789) \n\nAdd status label for DAST in page header\n\nBefore raising an issue to the GitLab issue tracker, please read through our guide for finding help to determine the best place to post:\n\n* https://about.gitlab.com/getting-help/\n\nIf you are experiencing an issue when using GitLab.com, your first port of call should be the Community Forum. Your issue may have already been reported there by another user. Please check:\n\n* https://forum.gitlab.com/\n\nIf you feel that your issue can be categorized as a reproducible bug or a feature proposal, please use one of the issue templates provided and include as much information as possible.\n\nThank you for helping to make GitLab a better product.\n\n\u003c!-- template sourced from https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Default.md --\u003e","state":"closed","created_at":"2022-06-15T22:32:39.371Z","updated_at":"2022-08-01T03:22:55.129Z","closed_at":"2022-07-29T14:45:16.733Z","closed_by":{"id":10762712,"username":"arfedoro","name":"Artur Fedorov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10762712/avatar.png","web_url":"https://gitlab.com/arfedoro"},"labels":["Category:DAST","devops::secure","frontend","group::dynamic analysis","section::sec","type::feature","workflow::in dev"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":10762712,"username":"arfedoro","name":"Artur Fedorov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10762712/avatar.png","web_url":"https://gitlab.com/arfedoro"}],"author":{"id":10762712,"username":"arfedoro","name":"Artur Fedorov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10762712/avatar.png","web_url":"https://gitlab.com/arfedoro"},"type":"ISSUE","assignee":{"id":10762712,"username":"arfedoro","name":"Artur Fedorov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10762712/avatar.png","web_url":"https://gitlab.com/arfedoro"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/365407","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/365407","notes":"https://gitlab.com/api/v4/projects/278964/issues/365407/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/365407/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#365407","relative":"#365407","full":"gitlab-org/gitlab#365407"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8373,"epic":{"id":565709,"iid":8373,"title":"DAST CI/CD configuration polish","url":"/groups/gitlab-org/-/epics/8373","group_id":9970,"human_readable_end_date":"Aug 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":110195222,"iid":365399,"project_id":278964,"title":"Add a start and due date to a task","description":"\u003c!-- This issue template can be used as a great starting point for feature requests. The section \"Release notes\" can be used as a summary of the feature and is also required if you want to have your release post blog MR auto generated using the release post item generator:  https://about.gitlab.com/handbook/marketing/blog/release-posts/#release-post-item-generator. The remaining sections are the backbone for every feature in GitLab.\n\nThe goal of this template is brevity for quick/smaller iterations. For a more thorough list of considerations for larger features or feature sets, you can leverage the detailed [feature proposal](https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Feature%20proposal%20-%20detailed.md). --\u003e\n\n### Release notes\n\nSometimes tasks on issues need to happen on a specific date or will span more than one day. You can now optionally add a start and due date to a task to more efficiently communicate the date range when the task will be actioned upon and completed. \n\nhttps://docs.gitlab.com/ee/user/tasks.html\n\n### Problem to solve\n\nFirst iteration in larger work item date widget: https://gitlab.com/groups/gitlab-org/-/epics/8194#problem-to-solve.\n\n### Proposal\n\nOptional work items widget allowing for a start and end date.\n\n![Screen_Shot_2022-09-15_at_2.23.19_PM](/uploads/0b7220076651931cd052ed1ca3fc8b3e/Screen_Shot_2022-09-15_at_2.23.19_PM.png)\n\n#### Design\n\nMVC design is attached in design manager. More end-state design, and discussion, can be found in https://gitlab.com/gitlab-org/gitlab/-/issues/366245 — notably different in this MVC include only manual date setting (\"syncing\"/inheritance to follow in later iterations) and using 2 separate date inputs rather than a unified date range selector (UI pattern to be iterated). \n\n### Feature Usage Metrics\n\nSnowplow tracking label: `item_dates`\n\n### Redis Counter\n\n* **name:** `users_updating_work_item_dates`\n* **redis_slot:** `users`\n* **include in the following aggregation counters:**\n  * [x] `xmau_plan`\n  * [x] `xmau_project_management`\n  * [ ] `xmau_product_planning`\n  * [ ] `xmau_certify`\n  * [x] `users_work_items`\n\n\u003c!-- Label reminders\nUse the following resources to find the appropriate labels:\n- https://gitlab.com/gitlab-org/gitlab/-/labels\n- https://about.gitlab.com/handbook/product/categories/features/\n--\u003e\n\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2022-06-15T21:06:33.004Z","updated_at":"2022-10-24T21:22:17.399Z","closed_at":"2022-10-24T21:22:17.033Z","closed_by":{"id":3507264,"username":"donaldcook","name":"Donald Cook","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3507264/avatar.png","web_url":"https://gitlab.com/donaldcook"},"labels":["Deliverable","GitLab Free","UX","backend","backend complete","devops::plan","direction","documentation","frontend","group::project management","missed-deliverable","missed:15.5","release post item","release post item::in review","section::dev","type::feature","workflow::production"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":4545397,"username":"cngo","name":"Coung Ngo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4545397/avatar.png","web_url":"https://gitlab.com/cngo"},{"id":8110537,"username":"mcelicalderonG","name":"Mario Celi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8110537/avatar.png","web_url":"https://gitlab.com/mcelicalderonG"}],"author":{"id":3507264,"username":"donaldcook","name":"Donald Cook","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3507264/avatar.png","web_url":"https://gitlab.com/donaldcook"},"type":"ISSUE","assignee":{"id":4545397,"username":"cngo","name":"Coung Ngo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4545397/avatar.png","web_url":"https://gitlab.com/cngo"},"user_notes_count":37,"merge_requests_count":0,"upvotes":3,"downvotes":0,"due_date":"2022-07-29","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/365399","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":5,"completed_count":3},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"3 of 5 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/365399","notes":"https://gitlab.com/api/v4/projects/278964/issues/365399/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/365399/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#365399","relative":"#365399","full":"gitlab-org/gitlab#365399"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8194,"epic":{"id":540256,"iid":8194,"title":"📆 Work Items - Due Date/Date Range/Date Inheritance","url":"/groups/gitlab-org/-/epics/8194","group_id":9970,"human_readable_end_date":"Oct 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":110191390,"iid":365382,"project_id":278964,"title":"Backend: Investigate the root cause and fix Internal server error: undefined method `bsearch'","description":"## Summary\n\nThis ~\"type::bug\" was encountered on gitlab.com, and then on GDK locally, where it was identified where it was coming from.\n\nWhen using a remote `include` like in the description, we get an error: `Internal server error: undefined method `bsearch' for nil:NilClass\"`, which comes from [the `exists\\` keyword\\](https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/gitlab/ci/build/rules/rule/clause/exists.rb#L37).\n\nThe config shows up like this as well, which isn't very helpful: \n![Screen_Shot_2022-06-02_at_8.44.39_PM](/uploads/a93ee833de31053bed585c57c3f7584c/Screen_Shot_2022-06-02_at_8.44.39_PM.png)\n\n```\nNoMethodError (undefined method `bsearch' for nil:NilClass):\n  lib/gitlab/ci/build/rules/rule/clause/exists.rb:37:in `block in exact_matches?'\n  lib/gitlab/ci/build/rules/rule/clause/exists.rb:37:in `any?'\n  lib/gitlab/ci/build/rules/rule/clause/exists.rb:37:in `exact_matches?'\n  lib/gitlab/ci/build/rules/rule/clause/exists.rb:21:in `satisfied_by?'\n  lib/gitlab/ci/build/rules/rule.rb:27:in `block in matches?'\n  lib/gitlab/ci/build/rules/rule.rb:27:in `all?'\n  lib/gitlab/ci/build/rules/rule.rb:27:in `matches?'\n  lib/gitlab/ci/config/external/rules.rb:25:in `block in match_rule'\n  lib/gitlab/ci/config/external/rules.rb:25:in `each'\n  lib/gitlab/ci/config/external/rules.rb:25:in `find'\n  lib/gitlab/ci/config/external/rules.rb:25:in `match_rule'\n  lib/gitlab/ci/config/external/rules.rb:19:in `evaluate'\n  lib/gitlab/ci/config/external/mapper.rb:76:in `verify_rules_without_instrumentation'\n  lib/gitlab/ci/config/external/mapper.rb:71:in `block in verify_rules'\n  lib/gitlab/ci/pipeline/logger.rb:33:in `instrument'\n  lib/gitlab/ci/config/external/mapper.rb:70:in `verify_rules'\n  lib/gitlab/ci/config/external/mapper.rb:45:in `each'\n  lib/gitlab/ci/config/external/mapper.rb:45:in `filter_map'\n  lib/gitlab/ci/config/external/mapper.rb:45:in `process_without_instrumentation'\n  lib/gitlab/ci/config/external/mapper.rb:31:in `block in process'\n  lib/gitlab/ci/pipeline/logger.rb:33:in `instrument'\n  lib/gitlab/ci/config/external/mapper.rb:30:in `process'\n  lib/gitlab/ci/config/external/processor.rb:14:in `initialize'\n  lib/gitlab/ci/config/external/file/base.rb:116:in `new'\n  lib/gitlab/ci/config/external/file/base.rb:116:in `expand_includes'\n  lib/gitlab/ci/config/external/file/base.rb:79:in `block in expanded_content_hash'\n  lib/gitlab/utils/strong_memoize.rb:44:in `strong_memoize'\n  lib/gitlab/ci/config/external/file/base.rb:78:in `expanded_content_hash'\n  lib/gitlab/ci/config/external/file/base.rb:46:in `to_hash'\n  lib/gitlab/ci/config/external/file/base.rb:110:in `validate_hash!'\n  lib/gitlab/ci/config/external/file/base.rb:54:in `block in validate!'\n  lib/gitlab/ci/pipeline/logger.rb:33:in `instrument'\n  lib/gitlab/ci/config/external/file/base.rb:50:in `validate!'\n  lib/gitlab/ci/config/external/mapper.rb:130:in `verify!'\n  lib/gitlab/ci/config/external/mapper.rb:50:in `each'\n  lib/gitlab/ci/config/external/mapper.rb:50:in `process_without_instrumentation'\n  lib/gitlab/ci/config/external/mapper.rb:31:in `block in process'\n  lib/gitlab/ci/pipeline/logger.rb:33:in `instrument'\n  lib/gitlab/ci/config/external/mapper.rb:30:in `process'\n  lib/gitlab/ci/config/external/processor.rb:14:in `initialize'\n```\n\n## Reproduce\n\n```yaml\n# .gitlab-ci.yml of the project\n\ninclude:\n  - remote: http://example.com/random-address/include.yml\n```\n\n```yaml\n# http://example.com/random-address/include.yml\n\ninclude:\n  - local: sub-include.yml\n    rules:\n      - exists:\n        - \"Dockerfile\"\n```\n\nThis bug only occurs when the remote include has an `include` with an `exist` rule.\n\n## Problem\n\nHowever, if the remote file has `rules` inside of their `include`s, we cannot process them because we don't have enough context to know file changes, variables, etc.\n\nCurrently, when you define;\n\n```yaml\n# http://example.com/random-address/include.yml\n\ninclude:\n  - remote: http://example.com/random-address/builds.yml\n    rules:\n      - if: $CI_COMMIT_BRANCH == \"master\"\n```\n\nthe rule is always evaluated as `false` and the file will not be included.\n\nHowever, when you define the rule with `exists`;\n\n```yaml\n# http://example.com/random-address/include.yml\n\ninclude:\n  - remote: http://example.com/random-address/builds.yml\n    rules:\n      - exists: [Dockerfile]\n```\n\nwe get an error.\n\nWe have this error because in `lib/gitlab/ci/build/rules/rule/clause/exists.rb`;\n\n```ruby\ndef satisfied_by?(_pipeline, context)\n  paths = worktree_paths(context)\n\n  exact_matches?(paths) || pattern_matches?(paths)\nend\n\nprivate\n\ndef worktree_paths(context)\n  return unless context.project\n\n  if @top_level_only\n    context.top_level_worktree_paths\n  else\n    context.all_worktree_paths\n  end\nend\n\ndef exact_matches?(paths)\n  @exact_globs.any? { |glob| paths.bsearch { |path| glob \u003c=\u003e path } }\nend\n```\n\n* we don't have `context`, so we don't have `context.project`\n* `worktree_paths` returns `nil`\n* and we try to call methods on `paths`, which is nil.\n\n## Proposal\n\nI think what we need to do here is to return `[]` from `worktree_paths` instead of `nil`, so that `exists` will also behave as `if` for the `include`s.\n\n\u003c!--\n## Documentation \n\n_NOTE: This section is optional, but can be used for easy access to any relevant documentation URLs._\n--\u003e\n\n## Links/References","state":"closed","created_at":"2022-06-15T19:28:49.377Z","updated_at":"2022-08-26T15:59:12.055Z","closed_at":"2022-08-25T18:19:43.956Z","closed_by":{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"},"labels":["Category:Pipeline Authoring","approaching-SLO","auto updated","backend","bug::functional","devops::verify","group::pipeline authoring","missed-SLO","priority::2","section::ops","severity::2","type::bug","workflow::production"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"}],"author":{"id":9468400,"username":"marknuzzo","name":"Mark Nuzzo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9468400/avatar.png","web_url":"https://gitlab.com/marknuzzo"},"type":"ISSUE","assignee":{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"},"user_notes_count":23,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/365382","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/365382","notes":"https://gitlab.com/api/v4/projects/278964/issues/365382/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/365382/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#365382","relative":"#365382","full":"gitlab-org/gitlab#365382"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":{"id":65958,"iid":78,"sequence":23,"group_id":9970,"title":null,"description":null,"state":3,"created_at":"2022-06-24T00:05:02.620Z","updated_at":"2022-09-05T00:05:02.060Z","start_date":"2022-08-22","due_date":"2022-09-04","web_url":"https://gitlab.com/groups/gitlab-org/-/iterations/65958"},"health_status":"on_track"},{"id":110185922,"iid":365372,"project_id":278964,"title":"Issue comments no longer opening as external links (target=\"_blank\")","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"type::bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=type::bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\nWe previously opened all links in issue comments as `target=\"_blank\"` but this behavior has apparently stopped working.\n\nThe behavior still occurs within issue descriptions, however.\n\n### Steps to reproduce\n\n1. Add external link in issue comment\n2. Click it\n3. Content is opened in same tab/window\n\n### Example Project\n\nhttps://gitlab.com/gitlab-org/gitlab/-/issues/365372#note_993005150\n\n### What is the current *bug* behavior?\n\nLinks open in same tab/window\n\n### What is the expected *correct* behavior?\n\nLinks should open in new tab/window\n\n### Relevant logs and/or screenshots\n\n\u003c!-- Paste any relevant logs - please use code blocks (```) to format console output, logs, and code\n as it's tough to read otherwise. --\u003e\n\n### Output of checks\n\nThis bug happens on GitLab.com\n\n### Possible fixes","state":"closed","created_at":"2022-06-15T17:23:25.085Z","updated_at":"2022-07-26T12:21:31.624Z","closed_at":"2022-07-26T12:21:31.570Z","closed_by":{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"},"labels":["devops::plan","frontend","group::dynamic analysis","section::dev","type::bug","workflow::canary"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"}],"author":{"id":401232,"username":"theoretick","name":"Lucas Charles","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/401232/squares-nail-wall-art.jpg","web_url":"https://gitlab.com/theoretick"},"type":"ISSUE","assignee":{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"},"user_notes_count":6,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/365372","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/365372","notes":"https://gitlab.com/api/v4/projects/278964/issues/365372/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/365372/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#365372","relative":"#365372","full":"gitlab-org/gitlab#365372"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":110184591,"iid":365370,"project_id":278964,"title":"Clicking on pending comments with collapsed diffs does nothing","description":"## Steps to reproduce\n\n1. Open an MR that has some changes;\n2. Start a review and leave some comments;\n3. Collapse all the files in the MR;\n4. Click on pending comments and then on one of the comments in the list.\n\nExpectation: the file containing a comment should be expanded, window should be scrolled to the comment\n\nReality: nothing happens","state":"closed","created_at":"2022-06-15T16:48:32.650Z","updated_at":"2022-08-23T14:52:41.943Z","closed_at":"2022-06-27T22:41:03.194Z","closed_by":{"id":2410096,"username":"JonstonChan","name":"Jonston Chan","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6dbe2781758eec51d1e476e10487e5f6?s=80\u0026d=identicon","web_url":"https://gitlab.com/JonstonChan"},"labels":["Deliverable","devops::create","frontend","group::code review","merge requests","priority::3","section::dev","severity::3","type::bug"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":2410096,"username":"JonstonChan","name":"Jonston Chan","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6dbe2781758eec51d1e476e10487e5f6?s=80\u0026d=identicon","web_url":"https://gitlab.com/JonstonChan"}],"author":{"id":10539680,"username":"slashmanov","name":"Stanislav Lashmanov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10539680/avatar.png","web_url":"https://gitlab.com/slashmanov"},"type":"ISSUE","assignee":{"id":2410096,"username":"JonstonChan","name":"Jonston Chan","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6dbe2781758eec51d1e476e10487e5f6?s=80\u0026d=identicon","web_url":"https://gitlab.com/JonstonChan"},"user_notes_count":3,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/365370","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/365370","notes":"https://gitlab.com/api/v4/projects/278964/issues/365370/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/365370/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#365370","relative":"#365370","full":"gitlab-org/gitlab#365370"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":110183078,"iid":365363,"project_id":278964,"title":"[SPIKE] View real-time updates of reviewers in merge request sidebar","description":"\u003c!-- This template is a great use for issues that are feature::additions or technical tasks for larger issues.--\u003e\n\n### Proposal\n\n\u003c!-- Use this section to explain the feature and how it will work. It can be helpful to add technical details, design proposals, and links to related epics or issues. --\u003e\n\nSimilar to the work done by ~\"devops::plan\" for Assignees, this issue tracks the same effort for Reviewers on Merge Requests.\n\n### Details\n\nThis issue should be fleshed out a bit more.\n\nIn essence we need to figure out the steps required for this to feasible.\n\n\u003c!-- Consider adding related issues and epics to this issue. You can also reference the Feature Proposal Template (https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Feature%20proposal%20-%20detailed.md) for additional details to consider adding to this issue. Additionally, as a data oriented organization, when your feature exits planning breakdown, consider adding the `What does success look like, and how can we measure that?` section.\n--\u003e\n\n\u003c!-- Label reminders\nUse the following resources to find the appropriate labels:\n- https://gitlab.com/gitlab-org/gitlab/-/labels\n- https://about.gitlab.com/handbook/product/categories/features/\n--\u003e\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2022-06-15T16:19:57.748Z","updated_at":"2022-09-15T16:07:54.881Z","closed_at":"2022-07-05T03:53:24.335Z","closed_by":{"id":1884221,"username":"patrickbajao","name":"Patrick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1884221/avatar.png","web_url":"https://gitlab.com/patrickbajao"},"labels":["Category:Code Review Workflow","Deliverable","backend","backend-weight::2","devops::create","direction","feature::enhancement","frontend","frontend-weight::2","group::code review","section::dev","spike","type::feature"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},{"id":1884221,"username":"patrickbajao","name":"Patrick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1884221/avatar.png","web_url":"https://gitlab.com/patrickbajao"}],"author":{"id":853414,"username":"andr3","name":"André Luís","state":"active","avatar_url":"https://secure.gravatar.com/avatar/241e39726efb512a29621070ccf26a90?s=80\u0026d=identicon","web_url":"https://gitlab.com/andr3"},"type":"ISSUE","assignee":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"user_notes_count":18,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/365363","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/365363","notes":"https://gitlab.com/api/v4/projects/278964/issues/365363/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/365363/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#365363","relative":"#365363","full":"gitlab-org/gitlab#365363"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8333,"epic":{"id":560409,"iid":8333,"title":"Real-time merge request reviewers","url":"/groups/gitlab-org/-/epics/8333","group_id":9970,"human_readable_end_date":"Nov 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":110181573,"iid":365361,"project_id":278964,"title":"Migrate 12 Pajamas Components","description":"This is the issue to track the progress of migrating Pajama components, which is an OKR for Q2.\n\nRead more https://gitlab.com/gitlab-org/ecosystem-stage/team-tasks/-/issues/140","state":"closed","created_at":"2022-06-15T15:51:32.080Z","updated_at":"2022-08-21T12:05:27.324Z","closed_at":"2022-07-19T19:28:43.373Z","closed_by":{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"},"labels":["Deliverable","OKR","Product Operations","UX","devops::secure","frontend","group::composition analysis","priority::1","section::sec","type::maintenance"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"}],"author":{"id":1378158,"username":"brytannia","name":"Tetiana Chupryna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1378158/avatar.png","web_url":"https://gitlab.com/brytannia"},"type":"ISSUE","assignee":{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/365361","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":0,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/365361","notes":"https://gitlab.com/api/v4/projects/278964/issues/365361/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/365361/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#365361","relative":"#365361","full":"gitlab-org/gitlab#365361"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":"on_track"},{"id":110178769,"iid":365358,"project_id":278964,"title":"[Feature flag] Rollout of `markup_rendering_timeout`","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n## Summary\n\nThis feature flag has been introduced in https://gitlab.com/gitlab-org/gitlab/-/merge_requests/89509 and is related to the following issues:\n\n- https://gitlab.com/gitlab-org/gitlab/-/issues/352774\n- https://gitlab.com/gitlab-org/gitlab/-/issues/31012\n\nEnabling this feature flag reduces the max time we should spend on markup content rendering.\n\n\u003c!-- Short description of what the feature is about and link to relevant other issues. --\u003e\n\n## Owners\n\n- Team: Source Code\n- Most appropriate slack channel to reach out to: `#g_create_source-code-be`\n- Best individual to reach out to: @igor.drozdov\n\n## Stakeholders\n\n\u003c!--\nAre there any other stages or teams involved that need to be kept in the loop?\n\n- Name of a PM\n- The Support Team\n- The Delivery Team\n--\u003e\n\n## Expectations\n\n### What are we expecting to happen?\n\n\u003c!-- Describe the expected outcome when rolling out this feature --\u003e\n\n### When is the feature viable?\n\n\u003c!-- What are the settings we need to configure in order to have this feature viable? --\u003e\n\n\u003c!-- \nExample below:\n \n1. Enable service ping collection\n   `ApplicationSetting.first.update(usage_ping_enabled: true)`\n--\u003e\n\n### What might happen if this goes wrong?\n\n\u003c!-- Should the feature flag be turned off? Any MRs that need to be rolled back? Communication that needs to happen? What are some things you can think of that could go wrong - data loss or broken pages? --\u003e\n\n### What can we monitor to detect problems with this?\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? --\u003e\n_Consider mentioning checks for 5xx errors or other anomalies like an increase in redirects \n(302 HTTP response status)_\n\n### What can we check for monitoring production after rollouts?\n\n_Consider adding links to check for Sentry errors, Production logs for 5xx, 302s, etc._\n\n## Rollout Steps\n\n### Rollout on non-production environments\n\n- Ensure that the feature MRs have been deployed to non-production environments.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- [x] Enable the feature globally on non-production environments.\n    - [x] `/chatops run feature set \u003cfeature-flag-name\u003e true --dev --staging`\n- [x] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n      The best environment to validate the feature in is [staging-canary](https://about.gitlab.com/handbook/engineering/infrastructure/environments/#staging-canary)\n      as this is the first environment deployed to. Note you will need to make sure you are configured to use canary as outlined [here](https://about.gitlab.com/handbook/engineering/infrastructure/environments/canary-stage/)\n      when accessing the staging environment in order to make sure you are testing appropriately.\n\n### Specific rollout on production\n\n- Ensure that the feature MRs have been deployed to both production and canary.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- If you're using [project-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [x] `/chatops run feature set --project=gitlab-org/gitlab,gitlab-org/gitlab-foss,gitlab-com/www-gitlab-com \u003cfeature-flag-name\u003e true`\n- If you're using [group-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [x] `/chatops run feature set --group=gitlab-org,gitlab-com \u003cfeature-flag-name\u003e true`\n- If you're using [user-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [x] `/chatops run feature set --user=\u003cyour-username\u003e \u003cfeature-flag-name\u003e true`\n- [x] Verify that the feature works on the specific entries. Posting the QA result in this issue is preferable.\n\n### Preparation before global rollout\n\n- [x] Check if the feature flag change needs to be accompanied with a\n  [change management issue](https://about.gitlab.com/handbook/engineering/infrastructure/change-management/#feature-flags-and-the-change-management-process).\n  Cross link the issue here if it does.\n- [x] Ensure that you or a representative in development can be available for at least 2 hours after feature flag updates in production.\n  If a different developer will be covering, or an exception is needed, please inform the oncall SRE by using the `@sre-oncall` Slack alias.\n- [x] Ensure that documentation has been updated ([More info](https://docs.gitlab.com/ee/development/documentation/feature_flags.html#features-that-became-enabled-by-default)).\n- [x] Announce on [the feature issue](ISSUE LINK) an estimated time this will be enabled on GitLab.com. \n- [x] Ensure that any breaking changes have been announced following the [release post process](https://about.gitlab.com/handbook/marketing/blog/release-posts/#deprecations-removals-and-breaking-changes) to ensure GitLab customers are aware.\n- [x] Notify `#support_gitlab-com` and your team channel ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#communicate-the-change)).\n\n### Global rollout on production\n\nFor visibility, all `/chatops` commands that target production should be executed in the `#production` slack channel and cross-posted (with the command results) to the responsible team's slack channel (`#g_TEAM_NAME`).\n\n- [x] [Incrementally roll out](https://docs.gitlab.com/ee/development/feature_flags/controls.html#process) the feature.\n  - If the feature flag in code has [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform **actor-based** rollout.\n    - [x] `/chatops run feature set \u003cfeature-flag-name\u003e \u003crollout-percentage\u003e --actors`\n  - If the feature flag in code does **NOT** have [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform time-based rollout (**random** rollout).\n    - [x] `/chatops run feature set \u003cfeature-flag-name\u003e \u003crollout-percentage\u003e --random`\n  - Enable the feature globally on production environment.\n    - [x] `/chatops run feature set \u003cfeature-flag-name\u003e true`\n- [x] Announce on [the feature issue](ISSUE LINK) that the feature has been globally enabled.\n- [x] Wait for [at least one day for the verification term](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release).\n\n### (Optional) Release the feature with the feature flag\n\nIf you're still unsure whether the feature is [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release)\nbut want to release it in the current milestone, you can change the default state of the feature flag to be enabled.\nTo do so, follow these steps:\n\n- [x] Create a merge request with the following changes. Ask for review and merge it.\n    - [x] Set the `default_enabled` attribute in [the feature flag definition](https://docs.gitlab.com/ee/development/feature_flags/#feature-flag-definition-and-validation) to `true`.\n    - [x] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the default-enabling MR has been included in the release package.\n      If the merge request was deployed before [the monthly release was tagged](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [x] `/chatops run release check \u003cmerge-request-url\u003e \u003cmilestone\u003e`\n- [x] Consider cleaning up the feature flag from all environments by running these chatops command in `#production` channel. Otherwise these settings may override the default enabled.\n    - [x] `/chatops run feature delete \u003cfeature-flag-name\u003e --dev --staging --production`\n- [x] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [x] Set the next milestone to this rollout issue for scheduling [the flag removal](#release-the-feature).\n- [x] (Optional) You can [create a separate issue](https://gitlab.com/gitlab-org/gitlab/-/issues/new?issuable_template=Feature%20Flag%20Cleanup) for scheduling the steps below to [Release the feature](#release-the-feature).\n    - [x] Set the title to \"[Feature flag] Cleanup `\u003cfeature-flag-name\u003e`\".\n    - [x] Execute the `/copy_metadata \u003cthis-rollout-issue-link\u003e` quick action to copy the labels from this rollout issue.\n    - [x] Link this rollout issue as a related issue.\n    - [x] Close this rollout issue.\n\n**WARNING:** This approach has the downside that it makes it difficult for us to\n[clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) the flag.\nFor example, on-premise users could disable the feature on their GitLab instance. But when you\nremove the flag at some point, they suddenly see the feature as enabled and they can't roll it back\nto the previous behavior. To avoid this potential breaking change, use this approach only for urgent\nmatters.\n\n### Release the feature\n\nAfter the feature has been [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release),\nthe [clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up)\nshould be done as soon as possible to permanently enable the feature and reduce complexity in the\ncodebase.\n\nYou can either [create a follow-up issue for Feature Flag Cleanup](https://gitlab.com/gitlab-org/gitlab/-/issues/new?issuable_template=Feature%20Flag%20Cleanup) or use the checklist below in this same issue.\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [x] Create a merge request to remove `\u003cfeature-flag-name\u003e` feature flag. Ask for review and merge it.\n    - [x] Remove all references to the feature flag from the codebase.\n    - [x] Remove the YAML definitions for the feature from the repository.\n    - [x] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the cleanup MR has been included in the release package.\n      If the merge request was deployed before [the monthly release was tagged](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run release check \u003cmerge-request-url\u003e \u003cmilestone\u003e`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [ ] If not already done, clean up the feature flag from all environments by running these chatops command in `#production` channel:\n    - [ ] `/chatops run feature delete \u003cfeature-flag-name\u003e --dev --staging --production`\n- [ ] Close this rollout issue.\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set \u003cfeature-flag-name\u003e false\n```","state":"closed","created_at":"2022-06-15T15:10:52.435Z","updated_at":"2022-12-21T16:10:33.016Z","closed_at":"2022-12-20T10:56:22.096Z","closed_by":{"id":1161495,"username":"igor.drozdov","name":"Igor Drozdov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1161495/avatar.png","web_url":"https://gitlab.com/igor.drozdov"},"labels":["Category:Source Code Management","backend","devops::create","feature flag","feature::addition","group::source code","missed:15.2","missed:15.3","missed:15.4","missed:15.5","missed:15.6","section::dev","type::feature"],"milestone":{"id":2745648,"iid":83,"group_id":9970,"title":"15.8","description":"","state":"active","created_at":"2022-08-22T16:57:34.875Z","updated_at":"2022-08-22T16:57:34.875Z","due_date":"2023-01-17","start_date":"2022-12-18","expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/83"},"assignees":[{"id":194645,"username":"digitalmoksha","name":"Brett Walker","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/194645/avatar.png","web_url":"https://gitlab.com/digitalmoksha"},{"id":1161495,"username":"igor.drozdov","name":"Igor Drozdov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1161495/avatar.png","web_url":"https://gitlab.com/igor.drozdov"}],"author":{"id":1161495,"username":"igor.drozdov","name":"Igor Drozdov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1161495/avatar.png","web_url":"https://gitlab.com/igor.drozdov"},"type":"ISSUE","assignee":{"id":194645,"username":"digitalmoksha","name":"Brett Walker","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/194645/avatar.png","web_url":"https://gitlab.com/digitalmoksha"},"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/365358","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":46,"completed_count":38},"weight":0,"blocking_issues_count":0,"has_tasks":true,"task_status":"38 of 46 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/365358","notes":"https://gitlab.com/api/v4/projects/278964/issues/365358/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/365358/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#365358","relative":"#365358","full":"gitlab-org/gitlab#365358"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":110161743,"iid":365342,"project_id":278964,"title":"Fix gitlab_project import from creating releases with empty authors and enhance test cases for bulk import and file based import","description":"Fix `gitlab_project` import from creating releases with empty authors as observed in [production data](https://gitlab.com/gitlab-org/gitlab/-/issues/365350#note_998041613).\n\nBelow spec suggestion can also help to validate the same.\n\nSpec inclusion suggestion - https://gitlab.com/gitlab-org/gitlab/-/merge_requests/89694#note_992409074\n\n```\nFor Bulk Import, it's the spec you mentioned. I think it makes sense to also add cases when:\n\n* Author id is a non existent id. Author id should be updated to the importer user id\n* Author id field is present but the value is nil. It should be updated to the importer user id\n* Author id is absent, it should log import failure, since this is no longer a valid case (`expect(entity.failures.last).to eq(...)`)\n\nFor file-based Project Import/Export I see that:\n\n1. On export, we already check [author id presence](https://gitlab.com/gitlab-org/gitlab/blob/f34ba9ce7bce747bcd78f68956f19d2f68e3cb71/spec/lib/gitlab/import_export/project/tree_saver_spec.rb#L118-131) in tests\n1. On import, we should update [this test](https://gitlab.com/gitlab-org/gitlab/blob/f34ba9ce7bce747bcd78f68956f19d2f68e3cb71/spec/lib/gitlab/import_export/project/tree_restorer_spec.rb#L386-402) for `author_id` presence\n```","state":"closed","created_at":"2022-06-15T12:09:11.885Z","updated_at":"2022-07-19T11:35:33.191Z","closed_at":"2022-07-19T11:35:33.145Z","closed_by":{"id":9253328,"username":"bala.kumar","name":"Bala Kumar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9253328/avatar.png","web_url":"https://gitlab.com/bala.kumar"},"labels":["Category:Release Orchestration","Release::P1","devops::release","group::release","priority::3","section::ops","severity::3","type::bug","workflow::verification"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":9253328,"username":"bala.kumar","name":"Bala Kumar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9253328/avatar.png","web_url":"https://gitlab.com/bala.kumar"}],"author":{"id":9253328,"username":"bala.kumar","name":"Bala Kumar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9253328/avatar.png","web_url":"https://gitlab.com/bala.kumar"},"type":"ISSUE","assignee":{"id":9253328,"username":"bala.kumar","name":"Bala Kumar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9253328/avatar.png","web_url":"https://gitlab.com/bala.kumar"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/365342","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":1,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/365342","notes":"https://gitlab.com/api/v4/projects/278964/issues/365342/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/365342/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#365342","relative":"#365342","full":"gitlab-org/gitlab#365342"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8375,"epic":{"id":565993,"iid":8375,"title":"Ensure new Releases always have `author_id`","url":"/groups/gitlab-org/-/epics/8375","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":null},{"id":110152503,"iid":365332,"project_id":278964,"title":"[Feature flag] Rollout of `use_redis_hll_instrumentation_classes`","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n## Summary\n\nThis issue is to rollout [the feature](ISSUE LINK) on production,\nthat is currently behind the `\u003cfeature-flag-name\u003e` feature flag.\n\n\u003c!-- Short description of what the feature is about and link to relevant other issues. --\u003e\n\n## Owners\n\n- Team: ~\"group::product intelligence\" \n- Most appropriate slack channel to reach out to: `#g_product_intelligence`\n- Best individual to reach out to: @mikolaj_wawrzyniak \n- PM: @alinamihaila \n\n## Stakeholders\n\n\u003c!--\nAre there any other stages or teams involved that need to be kept in the loop?\n\n- Name of a PM\n- The Support Team\n- The Delivery Team\n--\u003e\n\n## Expectations\n\n### What are we expecting to happen?\n\nRedis HLL metrics will be collected via instrumentation classes framework instead of direct call to `Gitlab::UsageDataCounters::HLLRedisCounter.unique_events_data`\n\n### When is the feature viable?\n\n\u003c!-- What are the settings we need to configure in order to have this feature viable? --\u003e\n\n\u003c!-- \nExample below:\n \n1. Enable service ping collection\n   `ApplicationSetting.first.update(usage_ping_enabled: true)`\n--\u003e\n\n### What might happen if this goes wrong?\n\nRedis Hll metrics might be missing \n\n### What can we monitor to detect problems with this?\n\nBrowse Service Ping payload, check if all Redis HLL metrics are present, list of metrics can be viewed at https://metrics.gitlab.com/?q=redis_hll\n\n### What can we check for monitoring production after rollouts?\n\n_Consider adding links to check for Sentry errors, Production logs for 5xx, 302s, etc._\n\n## Rollout Steps\n\n### Rollout on non-production environments\n\n- Ensure that the feature MRs have been deployed to non-production environments.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- [x] Enable the feature globally on non-production environments.\n    - [ ] `/chatops run feature set \u003cfeature-flag-name\u003e true --dev --staging`\n- [x] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n      The best environment to validate the feature in is [staging-canary](https://about.gitlab.com/handbook/engineering/infrastructure/environments/#staging-canary)\n      as this is the first environment deployed to. Note you will need to make sure you are configured to use canary as outlined [here](https://about.gitlab.com/handbook/engineering/infrastructure/environments/canary-stage/)\n      when accessing the staging environment in order to make sure you are testing appropriately.\n\n### Specific rollout on production\n\n- Ensure that the feature MRs have been deployed to both production and canary.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- If you're using [project-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [ ] `/chatops run feature set --project=gitlab-org/gitlab,gitlab-org/gitlab-foss,gitlab-com/www-gitlab-com \u003cfeature-flag-name\u003e true`\n- If you're using [group-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [ ] `/chatops run feature set --group=gitlab-org,gitlab-com \u003cfeature-flag-name\u003e true`\n- If you're using [user-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [ ] `/chatops run feature set --user=\u003cyour-username\u003e \u003cfeature-flag-name\u003e true`\n- [ ] Verify that the feature works on the specific entries. Posting the QA result in this issue is preferable.\n\n### Preparation before global rollout\n\n- [ ] Check if the feature flag change needs to be accompanied with a\n  [change management issue](https://about.gitlab.com/handbook/engineering/infrastructure/change-management/#feature-flags-and-the-change-management-process).\n  Cross link the issue here if it does.\n- [ ] Ensure that you or a representative in development can be available for at least 2 hours after feature flag updates in production.\n  If a different developer will be covering, or an exception is needed, please inform the oncall SRE by using the `@sre-oncall` Slack alias.\n- [ ] Ensure that documentation has been updated ([More info](https://docs.gitlab.com/ee/development/documentation/feature_flags.html#features-that-became-enabled-by-default)).\n- [ ] Announce on [the feature issue](ISSUE LINK) an estimated time this will be enabled on GitLab.com. \n- [ ] Ensure that any breaking changes have been announced following the [release post process](https://about.gitlab.com/handbook/marketing/blog/release-posts/#deprecations-removals-and-breaking-changes) to ensure GitLab customers are aware.\n- [ ] Notify `#support_gitlab-com` and your team channel ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#communicate-the-change)).\n\n### Global rollout on production\n\nFor visibility, all `/chatops` commands that target production should be executed in the `#production` slack channel and cross-posted (with the command results) to the responsible team's slack channel (`#g_TEAM_NAME`).\n\n- [ ] [Incrementally roll out](https://docs.gitlab.com/ee/development/feature_flags/controls.html#process) the feature.\n  - If the feature flag in code has [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform **actor-based** rollout.\n    - [ ] `/chatops run feature set \u003cfeature-flag-name\u003e \u003crollout-percentage\u003e --actors`\n  - If the feature flag in code does **NOT** have [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform time-based rollout (**random** rollout).\n    - [ ] `/chatops run feature set \u003cfeature-flag-name\u003e \u003crollout-percentage\u003e --random`\n  - Enable the feature globally on production environment.\n    - [x] `/chatops run feature set \u003cfeature-flag-name\u003e true`\n- [ ] Announce on [the feature issue](ISSUE LINK) that the feature has been globally enabled.\n- [ ] Wait for [at least one day for the verification term](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release).\n\n### (Optional) Release the feature with the feature flag\n\nIf you're still unsure whether the feature is [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release)\nbut want to release it in the current milestone, you can change the default state of the feature flag to be enabled.\nTo do so, follow these steps:\n\n- [ ] Create a merge request with the following changes. Ask for review and merge it.\n    - [ ] Set the `default_enabled` attribute in [the feature flag definition](https://docs.gitlab.com/ee/development/feature_flags/#feature-flag-definition-and-validation) to `true`.\n    - [ ] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the default-enabling MR has been included in the release package.\n      If the merge request was deployed before [the monthly release was tagged](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run release check \u003cmerge-request-url\u003e \u003cmilestone\u003e`\n- [ ] Consider cleaning up the feature flag from all environments by running these chatops command in `#production` channel. Otherwise these settings may override the default enabled.\n    - [ ] `/chatops run feature delete \u003cfeature-flag-name\u003e --dev --staging --production`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [ ] Set the next milestone to this rollout issue for scheduling [the flag removal](#release-the-feature).\n- [ ] (Optional) You can [create a separate issue](https://gitlab.com/gitlab-org/gitlab/-/issues/new?issuable_template=Feature%20Flag%20Cleanup) for scheduling the steps below to [Release the feature](#release-the-feature).\n    - [ ] Set the title to \"[Feature flag] Cleanup `\u003cfeature-flag-name\u003e`\".\n    - [ ] Execute the `/copy_metadata \u003cthis-rollout-issue-link\u003e` quick action to copy the labels from this rollout issue.\n    - [ ] Link this rollout issue as a related issue.\n    - [ ] Close this rollout issue.\n\n**WARNING:** This approach has the downside that it makes it difficult for us to\n[clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) the flag.\nFor example, on-premise users could disable the feature on their GitLab instance. But when you\nremove the flag at some point, they suddenly see the feature as enabled and they can't roll it back\nto the previous behavior. To avoid this potential breaking change, use this approach only for urgent\nmatters.\n\n### Release the feature\n\nAfter the feature has been [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release),\nthe [clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up)\nshould be done as soon as possible to permanently enable the feature and reduce complexity in the\ncodebase.\n\nYou can either [create a follow-up issue for Feature Flag Cleanup](https://gitlab.com/gitlab-org/gitlab/-/issues/new?issuable_template=Feature%20Flag%20Cleanup) or use the checklist below in this same issue.\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [x] Create a merge request to remove `\u003cfeature-flag-name\u003e` feature flag. Ask for review and merge it.\n    - [x] Remove all references to the feature flag from the codebase.\n    - [x] Remove the YAML definitions for the feature from the repository.\n    - [ ] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the cleanup MR has been included in the release package.\n      If the merge request was deployed before [the monthly release was tagged](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run release check \u003cmerge-request-url\u003e \u003cmilestone\u003e`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [ ] If not already done, clean up the feature flag from all environments by running these chatops command in `#production` channel:\n    - [ ] `/chatops run feature delete \u003cfeature-flag-name\u003e --dev --staging --production`\n- [ ] Close this rollout issue.\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set \u003cfeature-flag-name\u003e false\n```\n\n## Testing\n\nEnsure QA pipelines are passing","state":"closed","created_at":"2022-06-15T10:04:52.301Z","updated_at":"2022-08-17T08:30:37.817Z","closed_at":"2022-08-17T08:30:37.794Z","closed_by":{"id":4807002,"username":"mikolaj_wawrzyniak","name":"Mikołaj Wawrzyniak","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4807002/avatar.png","web_url":"https://gitlab.com/mikolaj_wawrzyniak"},"labels":["backend","devops::analytics","feature flag","feature::addition","group::product intelligence","quad-planning::complete-action","section::analytics","type::feature","workflow::verification"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":4807002,"username":"mikolaj_wawrzyniak","name":"Mikołaj Wawrzyniak","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4807002/avatar.png","web_url":"https://gitlab.com/mikolaj_wawrzyniak"}],"author":{"id":4807002,"username":"mikolaj_wawrzyniak","name":"Mikołaj Wawrzyniak","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4807002/avatar.png","web_url":"https://gitlab.com/mikolaj_wawrzyniak"},"type":"ISSUE","assignee":{"id":4807002,"username":"mikolaj_wawrzyniak","name":"Mikołaj Wawrzyniak","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4807002/avatar.png","web_url":"https://gitlab.com/mikolaj_wawrzyniak"},"user_notes_count":9,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/365332","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":46,"completed_count":7},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"7 of 46 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/365332","notes":"https://gitlab.com/api/v4/projects/278964/issues/365332/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/365332/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#365332","relative":"#365332","full":"gitlab-org/gitlab#365332"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":110131499,"iid":365313,"project_id":278964,"title":"Conditionally run gemnasium child pipelines based on MR title","description":"### Summary\n\nNow that https://gitlab.com/gitlab-org/gitlab/-/issues/198361+ has been completed, the gemnasium project builds and tests 3 different analyzer projects:\n\n1. `gemnasium`\n2. `gemnasium-python`\n3. `gemnasium-maven`\n\nThe`gemnasium-maven` child pipeline takes [over 40 minutes](https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium/-/pipelines/563127357) to complete. This can slow down the development process considerably when working on a feature that targets one of the other analyzers, and it consumes resources unnecessarily, since we don't need to build and test `gemnasium-maven` for every pipeline.\n\nThe purpose of this issue is to figure out how to conditionally run child pipelines based on the title of the merge request. For example, if the MR title contains `[gemnasium-maven only]`, then only the `gemnasium-maven` child pipeline should be run, otherwise it won't be executed. This would allow us to create an MR with a title such as `Implement some feature for gemnasium [gemnasium only]` and this would prevent the `gemnasium-maven` and `gemnasium-python` child pipelines from running.\n\nSee [this discussion](https://gitlab.com/groups/gitlab-org/-/epics/8206#note_978936519) for more details, specifically the part about:\n\n\u003e ... we'll need the ability to skip child pipelines based on the title of the MR, as described in [Switch to Merge Request pipelines](https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium/-/merge_requests/335#note_970406317)\n\n### Implementation plan\n\n1. Switch gemnasium to use [merge request pipelines](https://docs.gitlab.com/ee/ci/pipelines/merge_request_pipelines.html).\n\n   See https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium/-/merge_requests/339+ for a starting point.\n\n1. Combine 2 rules to `always` run the child pipeline when it matches the title of the MR, and to `never` run it when the title is specific to some other child pipeline, for example:\n\n   ```yaml\n   rules:\n     - if: $CI_MERGE_REQUEST_TITLE =~ /\\[gemnasium-maven only\\]/\n       when: always\n     - if: $CI_MERGE_REQUEST_TITLE =~ /only\\]/\n       when: never\n     - when: always\n   ```\n\n   This should work because the rules will be evaluated in that exact order.\n\n1. Add [this workaround](https://gitlab.com/gitlab-org/gitlab/-/issues/217668#note_822456105) to the [`.gitlab-ci.yml` in gemnasium](https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium/-/blob/5621f5a37a1bcea27878496eb0f565f6d6abc2cb/.gitlab-ci.yml) to allow secure templates to run in Merge Request pipelines.\n\n### Future steps\n\nIdeally we would have fine-grained control to selectively build gemnasium-maven redhat/FIPS, for instance.\n\nAgain, we would need to switch to MR pipelines to do that. This would be solved by https://gitlab.com/gitlab-org/gitlab/-/issues/217668+ but I suggest we simply implement workarounds in the `gemnasium` project.\n\n\n/cc @fcatteau @sam.white","state":"closed","created_at":"2022-06-15T04:36:49.929Z","updated_at":"2022-12-12T11:21:33.620Z","closed_at":"2022-07-04T05:31:42.022Z","closed_by":{"id":1674572,"username":"adamcohen","name":"Adam Cohen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/68fe8da9d9dfc88d0d150808cd364825?s=80\u0026d=identicon","web_url":"https://gitlab.com/adamcohen"},"labels":["Category:Dependency Scanning","Stretch","backend","devops::secure","group::composition analysis","maintenance::pipelines","section::sec","type::maintenance","workflow::production"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":1674572,"username":"adamcohen","name":"Adam Cohen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/68fe8da9d9dfc88d0d150808cd364825?s=80\u0026d=identicon","web_url":"https://gitlab.com/adamcohen"}],"author":{"id":1674572,"username":"adamcohen","name":"Adam Cohen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/68fe8da9d9dfc88d0d150808cd364825?s=80\u0026d=identicon","web_url":"https://gitlab.com/adamcohen"},"type":"ISSUE","assignee":{"id":1674572,"username":"adamcohen","name":"Adam Cohen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/68fe8da9d9dfc88d0d150808cd364825?s=80\u0026d=identicon","web_url":"https://gitlab.com/adamcohen"},"user_notes_count":5,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/365313","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/365313","notes":"https://gitlab.com/api/v4/projects/278964/issues/365313/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/365313/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#365313","relative":"#365313","full":"gitlab-org/gitlab#365313"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8206,"epic":{"id":541792,"iid":8206,"title":"Extract SBoM making jobs from Dependency Scanning, License Scanning","url":"/groups/gitlab-org/-/epics/8206","group_id":9970,"human_readable_end_date":"Sep 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":110123971,"iid":365299,"project_id":278964,"title":"`merge_status` is inconsistent across different users and does not refresh on API request","description":"Depending on token, different results are returned for merge_status.\n\nAlso, with_merge_status_recheck sometimes seems to have no effect.\n\n## ticket\nhttps://gitlab.zendesk.com/agent/tickets/298058 (internal link only)\n\n## output from below script using various tokens:\n\n```\ntoken:{token}\t\t\t\t\t\t\t\t                   token:{my token}\nid: 8784 status: can_be_merged\t\t\t\t\t\t     id: 8756 status: can_be_merged\nid: 8783 status: can_be_merged\t\t\t\t\t\t     id: 8745 status: can_be_merged\nid: 8782 status: can_be_merged\t\t\t\t\t\t     id: 8744 status: cannot_be_merged\nid: 8780 status: can_be_merged\t\t\t\t\t\t     id: 8743 status: can_be_merged\nid: 8779 status: can_be_merged\t\t\t\t\t\t     id: 8722 status: can_be_merged\nid: 8778 status: can_be_merged\t\t\t\t\t\t     id: 8679 status: can_be_merged\nid: 8777 status: can_be_merged\t\t\t\t\t\t     token:{generic token}\nid: 8776 status: can_be_merged\t\t\t\t\t\t     id: 8756 status: checking\nid: 8774 status: can_be_merged\t\t\t\t\t\t     id: 8745 status: can_be_merged\nid: 8773 status: can_be_merged\t\t\t\t\t\t     id: 8744 status: checking\nid: 8772 status: can_be_merged\t\t\t\t\t\t     id: 8743 status: can_be_merged\nid: 8771 status: can_be_merged\t\t\t\t\t\t     id: 8722 status: can_be_merged\nid: 8770 status: can_be_merged\t\t\t\t\t\t     id: 8679 status: can_be_merged\nid: 8769 status: can_be_merged\t\t\t\t\t\t     \u003e\u003e\u003e # just one\nid: 8765 status: can_be_merged\t\t\t\t\t\t     \u003e\u003e\u003e ID='/8744'\nid: 8760 status: can_be_merged\t\t\t\t\t\t     \u003e\u003e\u003e for token in my_token, gen_token:\nid: 8748 status: can_be_merged\t\t\t\t\t\t     ...     print(\"token:{token}\")\nid: 8745 status: can_be_merged\t\t\t\t\t\t     ...     headers = {**({}),\nid: 8744 status: checking\t\t\t\t\t\t           ...\t 'Private-Token': token,\nid: 8742 status: checking\t\t\t\t\t\t           ...\t 'pagination': 'keyset'}\nid: 8713 status: can_be_merged\t\t\t\t\t\t     ...     url= GL_URL + MRS + ID\nid: 8679 status: can_be_merged\t\t\t\t\t\t     ...     resp = getattr(requests, verb.lower())(url,headers=headers)\nid: 8642 status: checking\t\t\t\t\t\t           ...     body = json.loads(resp.text)\nid: 8744 status: cannot_be_merged\t\t\t\t\t     ...     for mr in [body]:\nid: 8742 status: cannot_be_merged\t\t\t\t\t     ...\t print(f\"id: {mr['iid']} status: {mr['merge_status']}\")\nid: 8642 status: cannot_be_merged\t\t\t\t\t     ...\n\t\t\t\t\t\t\t\t\t                             token:{token}\n\t\t\t\t\t\t\t\t\t                             id: 8744 status: cannot_be_merged\n\t\t\t\t\t\t\t\t\t                             token:{token}\n\t\t\t\t\t\t\t\t\t                             id: 8744 status: cannot_be_merged\n```\n\n\n\n\u003cdetails\u003e\u003csummary\u003ecustomer python script used to test inconsistency\u003c/summary\u003e\n\n``` python\nimport requests\n\nENT_PROJ_ID = 4124\nGL_URL = \"https://cloudlab.us.oracle.com/api/v4\"\n\nMRS = f'/projects/{ENT_PROJ_ID}/merge_requests'\n\nID = '/8744'\n\nparams = {'state': 'opened', 'with_merge_status_recheck': 'true'}\n\nmy_token = 'XXX'\ngen_token = 'YYY'\n\nverb=\"GET\"\n\nfor token in my_token, gen_token:\n    print(\"token:{token}\")\n    headers = {**({}),\n        'Private-Token': token,\n        'pagination': 'keyset'}\n    url= GL_URL + MRS\n    resp = getattr(requests, verb.lower())(url,headers=headers, params=params )\n    body = json.loads(resp.text)\n    while 'next' in resp.links:\n        resp = getattr(requests, verb.lower())(resp.links['next']['url'], params=params, headers=headers)\n        d = json.loads(resp.text)\n        if type(d) is list:\n            body.extend(d)\n        else:\n            body.update(d)\n    for mr in body:\n        print(f\"id: {mr['iid']} status: {mr['merge_status']}\")\n```\n\u003c/details\u003e","state":"closed","created_at":"2022-06-14T22:25:17.179Z","updated_at":"2022-08-22T10:04:55.539Z","closed_at":"2022-08-16T16:51:11.099Z","closed_by":{"id":5918904,"username":"marc_shaw","name":"Marc Shaw","state":"active","avatar_url":"https://secure.gravatar.com/avatar/78c946cb19e40815a2b5d97cefecec6a?s=80\u0026d=identicon","web_url":"https://gitlab.com/marc_shaw"},"labels":["Category:Code Review Workflow","Deliverable","backend","customer","devops::create","group::code review","priority::2","section::dev","severity::2","type::bug","workflow::production"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":5918904,"username":"marc_shaw","name":"Marc Shaw","state":"active","avatar_url":"https://secure.gravatar.com/avatar/78c946cb19e40815a2b5d97cefecec6a?s=80\u0026d=identicon","web_url":"https://gitlab.com/marc_shaw"}],"author":{"id":3212547,"username":"lwbrown","name":"Lewis Brown","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d725bcbc95bf4fc74842103e8089612b?s=80\u0026d=identicon","web_url":"https://gitlab.com/lwbrown"},"type":"ISSUE","assignee":{"id":5918904,"username":"marc_shaw","name":"Marc Shaw","state":"active","avatar_url":"https://secure.gravatar.com/avatar/78c946cb19e40815a2b5d97cefecec6a?s=80\u0026d=identicon","web_url":"https://gitlab.com/marc_shaw"},"user_notes_count":12,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/365299","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/365299","notes":"https://gitlab.com/api/v4/projects/278964/issues/365299/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/365299/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#365299","relative":"#365299","full":"gitlab-org/gitlab#365299"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":110120374,"iid":365292,"project_id":278964,"title":"Ensure all examples from the GFM specification pass in client-side Markdown parser","description":"## The problem\n\nIn %\"15.1\", we finished implementing support for deserializing for all the content types specified in the Commonmark and the GitHub Flavored Markdown specifications in the Content Editor. \n\nHowever, after running the Snapshot tests that @cwoolley-gitlab has been working on in https://gitlab.com/gitlab-org/gitlab/-/merge_requests/89953, we noticed that there are 48 examples from the GitHub Flavored Markdown specification that the Content Editor can’t deserialize in the client.\n\n## The solution\n\nWe should ensure that the client-side parser provides robust support for Commonmark and GFM before moving forward with implementing support for GitLab Flavored Markdown. This is important because we can’t deliver a client-side parser that can’t process Markdown that is already supported by the backend.\n\n## Availability and Testing\n\nPlease ensure `content_editor_spec` E2E still passes for regression purposes. SET review of the MR would be beneficial.\n\n## Failing examples\n\n- [ ] [118](https://github.github.com/gfm/#example-118) https://gitlab.com/gitlab-org/gitlab/-/merge_requests/92384\n- [ ] [122](https://github.github.com/gfm/#example-122) https://gitlab.com/gitlab-org/gitlab/-/merge_requests/91706\n- [ ] [123](https://github.github.com/gfm/#example-123) https://gitlab.com/gitlab-org/gitlab/-/merge_requests/91706\n- [ ] [124](https://github.github.com/gfm/#example-124) https://gitlab.com/gitlab-org/gitlab/-/merge_requests/91706\n- [ ] [125](https://github.github.com/gfm/#example-125) https://gitlab.com/gitlab-org/gitlab/-/merge_requests/91706\n- [ ] [129](https://github.github.com/gfm/#example-129) https://gitlab.com/gitlab-org/gitlab/-/merge_requests/91706\n- [ ] [131](https://github.github.com/gfm/#example-131) https://gitlab.com/gitlab-org/gitlab/-/merge_requests/91706\n- [ ] [133](https://github.github.com/gfm/#example-133) https://gitlab.com/gitlab-org/gitlab/-/merge_requests/91706\n- [ ] [137](https://github.github.com/gfm/#example-137) https://gitlab.com/gitlab-org/gitlab/-/merge_requests/91628/\n- [ ] [138](https://github.github.com/gfm/#example-138) https://gitlab.com/gitlab-org/gitlab/-/merge_requests/91706\n- [ ] [139](https://github.github.com/gfm/#example-139) https://gitlab.com/gitlab-org/gitlab/-/merge_requests/91706\n- [ ] [140](https://github.github.com/gfm/#example-140) https://gitlab.com/gitlab-org/gitlab/-/merge_requests/91706\n- [ ] [141](https://github.github.com/gfm/#example-141) https://gitlab.com/gitlab-org/gitlab/-/merge_requests/91706\n- [ ] [142](https://github.github.com/gfm/#example-142) https://gitlab.com/gitlab-org/gitlab/-/merge_requests/91706\n- [ ] [143](https://github.github.com/gfm/#example-143) https://gitlab.com/gitlab-org/gitlab/-/merge_requests/91706\n- [ ] [144](https://github.github.com/gfm/#example-144) https://gitlab.com/gitlab-org/gitlab/-/merge_requests/91706\n- [ ] [145](https://github.github.com/gfm/#example-145) https://gitlab.com/gitlab-org/gitlab/-/merge_requests/91706\n- [ ] [146](https://github.github.com/gfm/#example-146) https://gitlab.com/gitlab-org/gitlab/-/merge_requests/92376\n- [ ] [147](https://github.github.com/gfm/#example-147) https://gitlab.com/gitlab-org/gitlab/-/merge_requests/91706\n- [ ] [148](https://github.github.com/gfm/#example-148) https://gitlab.com/gitlab-org/gitlab/-/merge_requests/92376\n- [ ] [149](https://github.github.com/gfm/#example-149) https://gitlab.com/gitlab-org/gitlab/-/merge_requests/92376\n- [ ] [150](https://github.github.com/gfm/#example-150) https://gitlab.com/gitlab-org/gitlab/-/merge_requests/91706\n- [ ] [151](https://github.github.com/gfm/#example-151) https://gitlab.com/gitlab-org/gitlab/-/merge_requests/92376\n- [ ] [152](https://github.github.com/gfm/#example-152) https://gitlab.com/gitlab-org/gitlab/-/merge_requests/92376 \n- [ ] [153](https://github.github.com/gfm/#example-153) https://gitlab.com/gitlab-org/gitlab/-/merge_requests/91706\n- [ ] [154](https://github.github.com/gfm/#example-154) https://gitlab.com/gitlab-org/gitlab/-/merge_requests/91706\n- [ ] [155](https://github.github.com/gfm/#example-155) https://gitlab.com/gitlab-org/gitlab/-/merge_requests/91706\n- [ ] [157](https://github.github.com/gfm/#example-157) https://gitlab.com/gitlab-org/gitlab/-/merge_requests/91706\n- [ ] [158](https://github.github.com/gfm/#example-158) https://gitlab.com/gitlab-org/gitlab/-/merge_requests/91706\n- [ ] [170](https://github.github.com/gfm/#example-170) https://gitlab.com/gitlab-org/gitlab/-/merge_requests/91706\n- [ ] [288](https://github.github.com/gfm/#example-288) https://gitlab.com/gitlab-org/gitlab/-/merge_requests/92376\n- [ ] [289](https://github.github.com/gfm/#example-289) https://gitlab.com/gitlab-org/gitlab/-/merge_requests/92376\n- [ ] [500](https://github.github.com/gfm/#example-500) https://gitlab.com/gitlab-org/gitlab/-/merge_requests/91706\n- [ ] [525](https://github.github.com/gfm/#example-525) https://gitlab.com/gitlab-org/gitlab/-/merge_requests/91628/\n- [ ] [532](https://github.github.com/gfm/#example-532) https://gitlab.com/gitlab-org/gitlab/-/merge_requests/91706\n- [ ] [539](https://github.github.com/gfm/#example-539) https://gitlab.com/gitlab-org/gitlab/-/merge_requests/91628/\n- [ ] [544](https://github.github.com/gfm/#example-544) https://gitlab.com/gitlab-org/gitlab/-/merge_requests/91706\n- [ ] [632](https://github.github.com/gfm/#example-632) https://gitlab.com/gitlab-org/gitlab/-/merge_requests/91706\n- [ ] [633](https://github.github.com/gfm/#example-633) https://gitlab.com/gitlab-org/gitlab/-/merge_requests/91706\n- [ ] [634](https://github.github.com/gfm/#example-634) https://gitlab.com/gitlab-org/gitlab/-/merge_requests/91706\n- [ ] [636](https://github.github.com/gfm/#example-636) https://gitlab.com/gitlab-org/gitlab/-/merge_requests/91706\n- [ ] [653](https://github.github.com/gfm/#example-653) https://gitlab.com/gitlab-org/gitlab/-/merge_requests/91706","state":"closed","created_at":"2022-06-14T20:13:35.174Z","updated_at":"2022-08-21T12:01:47.677Z","closed_at":"2022-07-18T13:32:52.139Z","closed_by":{"id":3540517,"username":"ealcantara","name":"Enrique Alcántara","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3540517/avatar.png","web_url":"https://gitlab.com/ealcantara"},"labels":["Content Editor","Deliverable","devops::create","frontend","group::editor","quad-planning::complete-action","section::dev","type::feature","workflow::ready for development"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":3540517,"username":"ealcantara","name":"Enrique Alcántara","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3540517/avatar.png","web_url":"https://gitlab.com/ealcantara"}],"author":{"id":3540517,"username":"ealcantara","name":"Enrique Alcántara","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3540517/avatar.png","web_url":"https://gitlab.com/ealcantara"},"type":"ISSUE","assignee":{"id":3540517,"username":"ealcantara","name":"Enrique Alcántara","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3540517/avatar.png","web_url":"https://gitlab.com/ealcantara"},"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/365292","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":42,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 42 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/365292","notes":"https://gitlab.com/api/v4/projects/278964/issues/365292/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/365292/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#365292","relative":"#365292","full":"gitlab-org/gitlab#365292"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7720,"epic":{"id":469003,"iid":7720,"title":"Deserialize GLFM on the frontend","url":"/groups/gitlab-org/-/epics/7720","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":null},{"id":110115376,"iid":365278,"project_id":278964,"title":"Non \"Eligible User\" able to create and approve MRs","description":"## Problem to Solve\n\nIn public projects where non-project members can submit merge requests via a fork those users are made [`Eligible approvers`](https://docs.gitlab.com/ee/user/project/merge_requests/approvals/rules.html#eligible-approvers) on that specific merge request. This allows them to approve the merge request, which could satisfy any approval rules the project may have.\n\n## Proposal\n\nUsers who submit a merge request via a fork should be treated as an eligible approver.\n\n### Additional Details\n\nIt's possible we're giving these users implicit `developer` roles on that merge request which gives them that capability.\n\nIt was reproduced in https://gitlab.com/phikai/my-public-test-project/-/merge_requests/58","state":"closed","created_at":"2022-06-14T18:12:27.044Z","updated_at":"2022-12-01T19:58:51.135Z","closed_at":"2022-07-13T03:58:49.754Z","closed_by":{"id":4901936,"username":"dskim_gitlab","name":"Sincheol (David) Kim","state":"active","avatar_url":"https://secure.gravatar.com/avatar/84a984a56c54d1d31338678421cecc32?s=80\u0026d=identicon","web_url":"https://gitlab.com/dskim_gitlab"},"labels":["Category:Code Review Workflow","Deliverable","backend","devops::create","group::code review","priority::2","section::dev","severity::2","type::bug"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":4901936,"username":"dskim_gitlab","name":"Sincheol (David) Kim","state":"active","avatar_url":"https://secure.gravatar.com/avatar/84a984a56c54d1d31338678421cecc32?s=80\u0026d=identicon","web_url":"https://gitlab.com/dskim_gitlab"}],"author":{"id":142752,"username":"garyh","name":"Gary Holtz","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/142752/avatar.png","web_url":"https://gitlab.com/garyh"},"type":"ISSUE","assignee":{"id":4901936,"username":"dskim_gitlab","name":"Sincheol (David) Kim","state":"active","avatar_url":"https://secure.gravatar.com/avatar/84a984a56c54d1d31338678421cecc32?s=80\u0026d=identicon","web_url":"https://gitlab.com/dskim_gitlab"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/365278","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/365278","notes":"https://gitlab.com/api/v4/projects/278964/issues/365278/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/365278/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#365278","relative":"#365278","full":"gitlab-org/gitlab#365278"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":110101077,"iid":365261,"project_id":278964,"title":"Follow-up from \"Removed unused graphql field issuesCount\"","description":"With https://gitlab.com/gitlab-org/gitlab/-/merge_requests/73854, we moved `issuesCount` to a separate query using Apollo. The reason was because it is the slowest field and was causing performance issues with boards rendering.\n\nWe never actually removed the field from the original query, so now we're actually making the query twice. I went to remove it, but found a failing spec, around swimlanes. Looks like we are still using it to calculate the issues with no epic sum.","state":"closed","created_at":"2022-06-14T14:22:31.101Z","updated_at":"2022-08-22T21:56:51.039Z","closed_at":"2022-08-22T21:56:50.856Z","closed_by":{"id":3507264,"username":"donaldcook","name":"Donald Cook","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3507264/avatar.png","web_url":"https://gitlab.com/donaldcook"},"labels":["bug::performance","devops::plan","frontend","group::project management","priority::3","section::dev","severity::3","type::bug","workflow::in review"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":3507264,"username":"donaldcook","name":"Donald Cook","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3507264/avatar.png","web_url":"https://gitlab.com/donaldcook"}],"author":{"id":3507264,"username":"donaldcook","name":"Donald Cook","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3507264/avatar.png","web_url":"https://gitlab.com/donaldcook"},"type":"ISSUE","assignee":{"id":3507264,"username":"donaldcook","name":"Donald Cook","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3507264/avatar.png","web_url":"https://gitlab.com/donaldcook"},"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/365261","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":0,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/365261","notes":"https://gitlab.com/api/v4/projects/278964/issues/365261/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/365261/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#365261","relative":"#365261","full":"gitlab-org/gitlab#365261"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":110099120,"iid":365259,"project_id":278964,"title":"[Feature flag] Rollout audit event streaming custom headers UI","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n## Summary\n\nThis issue is to rollout the [custom HTTP headers for audit event streams UI](https://gitlab.com/groups/gitlab-org/-/epics/7975) on production,\nthat is currently behind the `:custom_headers_streaming_audit_events_ui` feature flag.\n\n\u003c!-- Short description of what the feature is about and link to relevant other issues. --\u003e\n\n## Owners\n\n- Team: ~\"group::compliance\" \n- Most appropriate slack channel to reach out to: `#g_manage_compliance`\n- Best individual to reach out to: @rob.hunt \n- PM: @stkerr \n\n## Stakeholders\n\n\u003c!--\nAre there any other stages or teams involved that need to be kept in the loop?\n\n- Name of a PM\n- The Support Team\n- The Delivery Team\n--\u003e\n\n## Expectations\n\n### What are we expecting to happen?\n\n* Audit event streaming destinations can now have up to 20 custom HTTP headers defined per destination in the UI.\n\n### When is the feature viable?\n\nWhen the following issues are running in production:\n\n* https://gitlab.com/gitlab-org/gitlab/-/issues/361630+\n* https://gitlab.com/gitlab-org/gitlab/-/issues/361631+\n* https://gitlab.com/gitlab-org/gitlab/-/issues/361632+\n* https://gitlab.com/gitlab-org/gitlab/-/issues/361633+\n* https://gitlab.com/gitlab-org/gitlab/-/issues/361925+\n\n\u003c!-- \nExample below:\n \n1. Enable service ping collection\n   `ApplicationSetting.first.update(usage_ping_enabled: true)`\n--\u003e\n\n### What might happen if this goes wrong?\n\n\u003c!-- Should the feature flag be turned off? Any MRs that need to be rolled back? Communication that needs to happen? What are some things you can think of that could go wrong - data loss or broken pages? --\u003e\n\n### What can we monitor to detect problems with this?\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? --\u003e\n_Consider mentioning checks for 5xx errors or other anomalies like an increase in redirects \n(302 HTTP response status)_\n\n### What can we check for monitoring production after rollouts?\n\n_Consider adding links to check for Sentry errors, Production logs for 5xx, 302s, etc._\n\n## Rollout Steps\n\n### Rollout on non-production environments\n\n- Ensure that the feature MRs have been deployed to non-production environments.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- [x] Enable the feature globally on non-production environments.\n    - [x] `/chatops run feature set custom_headers_streaming_audit_events_ui true --dev`\n    - [x] `/chatops run feature set custom_headers_streaming_audit_events_ui true --staging`\n- [x] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n      The best environment to validate the feature in is [staging-canary](https://about.gitlab.com/handbook/engineering/infrastructure/environments/#staging-canary)\n      as this is the first environment deployed to. Note you will need to make sure you are configured to use canary as outlined [here](https://about.gitlab.com/handbook/engineering/infrastructure/environments/canary-stage/)\n      when accessing the staging environment in order to make sure you are testing appropriately.\n\n### Specific rollout on production\n\n- Ensure that the feature MRs have been deployed to both production and canary.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- If you're using [group-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [x] `/chatops run feature set --group=gitlab-org custom_headers_streaming_audit_events_ui true`\n    - [x] `/chatops run feature set --group=gitlab-com custom_headers_streaming_audit_events_ui true`\n- [x] Verify that the feature works on the specific entries. Posting the QA result in this issue is preferable.\n\n### Preparation before global rollout\n\n- [x] Check if the feature flag change needs to be accompanied with a\n  [change management issue](https://about.gitlab.com/handbook/engineering/infrastructure/change-management/#feature-flags-and-the-change-management-process).\n  Cross link the issue here if it does.\n- [x] Ensure that you or a representative in development can be available for at least 2 hours after feature flag updates in production.\n  If a different developer will be covering, or an exception is needed, please inform the oncall SRE by using the `@sre-oncall` Slack alias.\n- [x] Ensure that documentation has been updated ([More info](https://docs.gitlab.com/ee/development/documentation/feature_flags.html#features-that-became-enabled-by-default)).\n- [x] Announce on [the feature issue](ISSUE LINK) an estimated time this will be enabled on GitLab.com. \n- [x] Ensure that any breaking changes have been announced following the [release post process](https://about.gitlab.com/handbook/marketing/blog/release-posts/#deprecations-removals-and-breaking-changes) to ensure GitLab customers are aware.\n- [x] Notify `#support_gitlab-com` and your team channel ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#communicate-the-change)).\n\n### Global rollout on production\n\nFor visibility, all `/chatops` commands that target production should be executed in the `#production` slack channel and cross-posted (with the command results) to the responsible team's slack channel (`#g_manage_compliance`).\n\n- [x] [Incrementally roll out](https://docs.gitlab.com/ee/development/feature_flags/controls.html#process) the feature.\n  - If the feature flag in code has [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform **actor-based** rollout.\n    - [x] `/chatops run feature set custom_headers_streaming_audit_events_ui \u003crollout-percentage\u003e --actors`\n  - Enable the feature globally on production environment.\n    - [x] `/chatops run feature set custom_headers_streaming_audit_events_ui true`\n- [x] Announce on [the feature issue](ISSUE LINK) that the feature has been globally enabled.\n- [x] Wait for [at least one day for the verification term](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release).\n\n### Release the feature\n\nAfter the feature has been [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release),\nthe [clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up)\nshould be done as soon as possible to permanently enable the feature and reduce complexity in the\ncodebase.\n\nYou can either [create a follow-up issue for Feature Flag Cleanup](https://gitlab.com/gitlab-org/gitlab/-/issues/new?issuable_template=Feature%20Flag%20Cleanup) or use the checklist below in this same issue.\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [x] Create a merge request to remove `custom_headers_streaming_audit_events_ui` feature flag. Ask for review and merge it.\n    - [x] Remove all references to the feature flag from the codebase.\n    - [x] Remove the YAML definitions for the feature from the repository.\n    - [x] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the cleanup MR has been included in the release package.\n      If the merge request was deployed before [the monthly release was tagged](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run release check \u003cmerge-request-url\u003e \u003cmilestone\u003e`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [x] If not already done, clean up the feature flag from all environments by running these chatops command in `#production` channel:\n    - [x] `/chatops run feature delete custom_headers_streaming_audit_events_ui --dev`\n    - [x] `/chatops run feature delete custom_headers_streaming_audit_events_ui --staging`\n    - [x] `/chatops run feature delete custom_headers_streaming_audit_events_ui`\n- [ ] Close this rollout issue.\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set custom_headers_streaming_audit_events_ui false\n```","state":"closed","created_at":"2022-06-14T14:01:34.553Z","updated_at":"2022-12-06T02:25:53.180Z","closed_at":"2022-08-09T15:33:38.300Z","closed_by":{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"},"labels":["Category:Audit Events","GraphQL","customer","devops::manage","documentation","feature flag","feature::addition","frontend","group::compliance","priority::1","section::dev","type::feature","workflow::in dev"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":5209897,"username":"rob.hunt","name":"Robert Hunt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5209897/avatar.png","web_url":"https://gitlab.com/rob.hunt"},{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"}],"author":{"id":5209897,"username":"rob.hunt","name":"Robert Hunt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5209897/avatar.png","web_url":"https://gitlab.com/rob.hunt"},"type":"ISSUE","assignee":{"id":5209897,"username":"rob.hunt","name":"Robert Hunt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5209897/avatar.png","web_url":"https://gitlab.com/rob.hunt"},"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/365259","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":33,"completed_count":28},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"28 of 33 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/365259","notes":"https://gitlab.com/api/v4/projects/278964/issues/365259/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/365259/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#365259","relative":"#365259","full":"gitlab-org/gitlab#365259"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7975,"epic":{"id":512618,"iid":7975,"title":"UI screens to specify custom HTTP headers for streaming audit events","url":"/groups/gitlab-org/-/epics/7975","group_id":9970,"human_readable_end_date":"Aug 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":110096970,"iid":365255,"project_id":278964,"title":"Deserialize mermaid and plantUML diagrams on the FE","description":"","state":"closed","created_at":"2022-06-14T13:39:34.757Z","updated_at":"2022-09-26T13:30:02.578Z","closed_at":"2022-09-02T15:37:01.042Z","closed_by":{"id":3540517,"username":"ealcantara","name":"Enrique Alcántara","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3540517/avatar.png","web_url":"https://gitlab.com/ealcantara"},"labels":["Content Editor","Deliverable","GitLab Free","auto updated","backend","devops::create","feature flag","feature::enhancement","frontend","group::editor","section::dev","type::feature","workflow::verification"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":3540517,"username":"ealcantara","name":"Enrique Alcántara","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3540517/avatar.png","web_url":"https://gitlab.com/ealcantara"}],"author":{"id":3540517,"username":"ealcantara","name":"Enrique Alcántara","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3540517/avatar.png","web_url":"https://gitlab.com/ealcantara"},"type":"ISSUE","assignee":{"id":3540517,"username":"ealcantara","name":"Enrique Alcántara","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3540517/avatar.png","web_url":"https://gitlab.com/ealcantara"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/365255","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/365255","notes":"https://gitlab.com/api/v4/projects/278964/issues/365255/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/365255/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#365255","relative":"#365255","full":"gitlab-org/gitlab#365255"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7720,"epic":{"id":469003,"iid":7720,"title":"Deserialize GLFM on the frontend","url":"/groups/gitlab-org/-/epics/7720","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":null},{"id":110087408,"iid":365234,"project_id":278964,"title":"Bearer token is pasted as \"[object Object]\" when send an OpenAPI example request","description":"### Summary\n\nBearer token is pasted as `[object Object]` when send an OpenAPI example request\n\n### Steps to reproduce\n\nCreate a repository, create an OpenAPI file with at least one working endpoint with JWT token authorization.\nOpen OpenAPI file in GitLab, click _Authorize_, paste valid token, click _Authorize_ to save token, then close the popup, select any endpoint that would work with pasted token. Click _Try it out_, paste valid request parameters (if needed), click _Execute_.\n\n### What is the current *bug* behavior?\n\nBearer token has value `[object Object]`:\n```bash\ncurl -X 'GET' \\\n  'https://\u003chosname\u003e/\u003cpath\u003e?\u003cparameters\u003e' \\\n  -H 'accept: application/json' \\\n  -H 'Authorization: Bearer [object Object]'\n```\n\n### What is the expected *correct* behavior?\n\nBearer token is pasted correctly to request headers:\n```bash\ncurl -X 'GET' \\\n  'https://\u003chosname\u003e/\u003cpath\u003e?\u003cparameters\u003e' \\\n  -H 'accept: application/json' \\\n  -H 'Authorization: Bearer abcdefg... bla-bla-bla... token...'\n```\n\n### Relevant logs and/or screenshots\n\n![gitlab_issue](/uploads/26291ac447ee804aeb0ad8a7b45f8903/gitlab_issue.PNG)\n\n#### Other details\n\nGitLab Enterprise Edition 14.9.3-ee","state":"closed","created_at":"2022-06-14T11:50:51.479Z","updated_at":"2022-07-07T16:03:05.657Z","closed_at":"2022-07-07T16:03:05.622Z","closed_by":{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"},"labels":["Category:Source Code Management","devops::manage","frontend","group::authentication and authorization","priority::2","section::dev","severity::2","type::bug","workflow::verification"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[],"author":{"id":736535,"username":"oleksii.bulba","name":"Oleksii Bulba","state":"active","avatar_url":"https://secure.gravatar.com/avatar/55dcb98e371de6bde098e0790ed667b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/oleksii.bulba"},"type":"ISSUE","assignee":null,"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/365234","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/365234","notes":"https://gitlab.com/api/v4/projects/278964/issues/365234/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/365234/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#365234","relative":"#365234","full":"gitlab-org/gitlab#365234"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":110087296,"iid":365228,"project_id":278964,"title":"Package details page: add loader for additional metadata","description":"See epic https://gitlab.com/groups/gitlab-org/-/epics/8241 for more details.","state":"closed","created_at":"2022-06-14T11:48:16.395Z","updated_at":"2022-07-13T04:21:36.514Z","closed_at":"2022-06-17T02:00:45.287Z","closed_by":{"id":11214192,"username":"rchanila","name":"Rahul Chanila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11214192/avatar.png","web_url":"https://gitlab.com/rchanila"},"labels":["Category:Package Registry","Package:P2","SUS::Impacting","Stretch","UX","auto updated","customer","devops::package","feature::enhancement","frontend","frontend-weight::2","group::package registry","performance-refinement","priority::2","section::ops","severity::4","type::feature","workflow::in review"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":11214192,"username":"rchanila","name":"Rahul Chanila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11214192/avatar.png","web_url":"https://gitlab.com/rchanila"}],"author":{"id":11214192,"username":"rchanila","name":"Rahul Chanila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11214192/avatar.png","web_url":"https://gitlab.com/rchanila"},"type":"ISSUE","assignee":{"id":11214192,"username":"rchanila","name":"Rahul Chanila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11214192/avatar.png","web_url":"https://gitlab.com/rchanila"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/365228","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/365228","notes":"https://gitlab.com/api/v4/projects/278964/issues/365228/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/365228/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#365228","relative":"#365228","full":"gitlab-org/gitlab#365228"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8241,"epic":{"id":546092,"iid":8241,"title":"Redesign package details loading experience","url":"/groups/gitlab-org/-/epics/8241","group_id":9970,"human_readable_end_date":"Jun 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":110085604,"iid":365224,"project_id":278964,"title":"Add support for K8s v1.24","description":"## Scope\n\nThe scope of this issue is to add support for Kubernetes 1.24\n\n## Actions\n\n\u003c!-- Likely in the form of checkboxed elements --\u003e\n\n- [x] Cluster management project template: Nothing\n- [x] Auto DevOps: Update our [helper image](https://gitlab.com/gitlab-org/cluster-integration/test-utils/k3s-gitlab-ci/) and its [version in the test matrix](https://gitlab.com/gitlab-org/cluster-integration/auto-deploy-image/-/blob/cded3c1bdca3c04e4cf6fd3ad40a6b16bb6160b8/.gitlab/ci/test.gitlab-ci.yml#L12):\n  - Helper: https://gitlab.com/gitlab-org/cluster-integration/test-utils/k3s-gitlab-ci/-/merge_requests/21\n  - auto-deploy-image: https://gitlab.com/gitlab-org/cluster-integration/auto-deploy-image/-/merge_requests/281\n- [x] Documentation: [Update supported cluster versions](https://docs.gitlab.com/ee/user/clusters/agent/#supported-cluster-versions) - https://gitlab.com/gitlab-org/gitlab/-/merge_requests/91326\n- [x] Secure: Secure K8s-related features are tested\n\n## References\n- https://kubernetes.io/blog/2022/05/03/kubernetes-1-24-release-announcement/","state":"closed","created_at":"2022-06-14T11:15:12.838Z","updated_at":"2022-10-13T03:52:13.994Z","closed_at":"2022-07-11T00:04:22.883Z","closed_by":{"id":3167938,"username":"tigerwnz","name":"Tiger Watson","state":"active","avatar_url":"https://secure.gravatar.com/avatar/eb2c062f746fe8a57d693ee307942aa5?s=80\u0026d=identicon","web_url":"https://gitlab.com/tigerwnz"},"labels":["Deliverable","devops::configure","group::configure","section::ops","type::feature","workflow::production"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":3167938,"username":"tigerwnz","name":"Tiger Watson","state":"active","avatar_url":"https://secure.gravatar.com/avatar/eb2c062f746fe8a57d693ee307942aa5?s=80\u0026d=identicon","web_url":"https://gitlab.com/tigerwnz"}],"author":{"id":4584738,"username":"nmezzopera","name":"Nicolò Maria Mezzopera","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4584738/avatar.png","web_url":"https://gitlab.com/nmezzopera"},"type":"ISSUE","assignee":{"id":3167938,"username":"tigerwnz","name":"Tiger Watson","state":"active","avatar_url":"https://secure.gravatar.com/avatar/eb2c062f746fe8a57d693ee307942aa5?s=80\u0026d=identicon","web_url":"https://gitlab.com/tigerwnz"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/365224","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":4,"completed_count":4},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"4 of 4 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/365224","notes":"https://gitlab.com/api/v4/projects/278964/issues/365224/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/365224/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#365224","relative":"#365224","full":"gitlab-org/gitlab#365224"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7884,"epic":{"id":496589,"iid":7884,"title":"Add support for Kubernetes version 1.24","url":"/groups/gitlab-org/-/epics/7884","group_id":9970,"human_readable_end_date":"Jul 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":110084791,"iid":365222,"project_id":278964,"title":"Groups originating from group shares, that the user has access to, are not listed when forking a project via the UI","description":"See https://gitlab.com/gitlab-org/gitlab/-/issues/296817#note_990492301 for details.\n\nReproduction steps are similar as in https://gitlab.com/gitlab-org/gitlab/-/issues/296817.\n\nWe are not able to see the groups originating from the group share in the list.","state":"closed","created_at":"2022-06-14T10:59:38.720Z","updated_at":"2022-10-21T07:54:16.919Z","closed_at":"2022-10-20T12:26:25.527Z","closed_by":{"id":4093067,"username":"manojmj","name":"Manoj M J","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4093067/avatar.png","web_url":"https://gitlab.com/manojmj"},"labels":["Group Sharing","[deprecated] Accepting merge requests","backend","devops::manage","group::organization","missed:15.2","permissions","section::dev","type::bug","workflow::ready for development"],"milestone":null,"assignees":[],"author":{"id":4093067,"username":"manojmj","name":"Manoj M J","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4093067/avatar.png","web_url":"https://gitlab.com/manojmj"},"type":"ISSUE","assignee":null,"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/365222","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/365222","notes":"https://gitlab.com/api/v4/projects/278964/issues/365222/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/365222/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#365222","relative":"#365222","full":"gitlab-org/gitlab#365222"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8184,"epic":{"id":539079,"iid":8184,"title":"Group sharing enhancements","url":"/groups/gitlab-org/-/epics/8184","group_id":9970,"human_readable_end_date":"Apr 17, 2023","human_readable_timestamp":"\u003cstrong\u003e3\u003c/strong\u003e months remaining"},"iteration":null,"health_status":null},{"id":110084725,"iid":365221,"project_id":278964,"title":"Groups originating from group shares, that the user has access to, are not listed when performing Group transfers via the UI","description":"See https://gitlab.com/gitlab-org/gitlab/-/issues/296817#note_990492301 for details.\n\nReproduction steps are similar as in https://gitlab.com/gitlab-org/gitlab/-/issues/296817.\n\nWe are not able to see the groups originating from the group share in the list.","state":"closed","created_at":"2022-06-14T10:58:21.068Z","updated_at":"2023-01-12T07:39:54.940Z","closed_at":"2022-11-11T19:11:14.157Z","closed_by":{"id":4093067,"username":"manojmj","name":"Manoj M J","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4093067/avatar.png","web_url":"https://gitlab.com/manojmj"},"labels":["Deliverable","Group Sharing","backend","devops::manage","frontend","group::organization","milestone::p1","missed-deliverable","missed:15.2","missed:15.4","permissions","release post item","section::dev","type::bug","workflow::verification"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"}],"author":{"id":4093067,"username":"manojmj","name":"Manoj M J","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4093067/avatar.png","web_url":"https://gitlab.com/manojmj"},"type":"ISSUE","assignee":{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"},"user_notes_count":19,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/365221","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/365221","notes":"https://gitlab.com/api/v4/projects/278964/issues/365221/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/365221/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#365221","relative":"#365221","full":"gitlab-org/gitlab#365221"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8184,"epic":{"id":539079,"iid":8184,"title":"Group sharing enhancements","url":"/groups/gitlab-org/-/epics/8184","group_id":9970,"human_readable_end_date":"Apr 17, 2023","human_readable_timestamp":"\u003cstrong\u003e3\u003c/strong\u003e months remaining"},"iteration":null,"health_status":null},{"id":110065927,"iid":365202,"project_id":278964,"title":"Follow-up from \"Fix artifact downloads on Security tab\"","description":"The following discussion from !89217 should be addressed:\n\n- [ ] @jiaan started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/89217#note_984727926): \n\n    \u003e **Suggestion (non-blocking / follow-up):** This took me a while to understand. :sweat_smile: WDYT about making this condition more declarative through variable names? For example creating a computed prop to describe `this.findArtifacts(SECURITY_REPORT_TYPE_ENUM_DAST).length \u003e 0)` and then referencing it here. I think it would help make this more maintainable.\n\n## How to set up and validate locally \n\n1. Import the following gitlab project [2022-06-03_05-04-949_gitlab-examples_security_secur_export.tar.gz](/uploads/ac35a4bd926b5cc7cb0ef74afe3da9d5/2022-06-03_05-04-949_gitlab-examples_security_secur_export.tar.gz)\n\n1. Run the pipeline on master, wait for it to complete\n\n1. Navigate to the pipeline page\n\n1. Click on a single pipeline\n\n1. Then click on the Security tab\n\n1. Verify you can download each artifact\n\n1. Verify artifact contents correspond to the report type","state":"closed","created_at":"2022-06-14T06:23:33.394Z","updated_at":"2022-07-20T18:59:15.140Z","closed_at":"2022-07-20T18:59:15.121Z","closed_by":{"id":3993566,"username":"sming-gitlab","name":"Samantha Ming","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3993566/avatar.png","web_url":"https://gitlab.com/sming-gitlab"},"labels":["devops::secure","frontend","group::threat insights","section::sec","type::maintenance","workflow::verification"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":3993566,"username":"sming-gitlab","name":"Samantha Ming","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3993566/avatar.png","web_url":"https://gitlab.com/sming-gitlab"}],"author":{"id":4155411,"username":"dpisek","name":"David Pisek","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4155411/avatar.png","web_url":"https://gitlab.com/dpisek"},"type":"ISSUE","assignee":{"id":3993566,"username":"sming-gitlab","name":"Samantha Ming","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3993566/avatar.png","web_url":"https://gitlab.com/sming-gitlab"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/365202","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/365202","notes":"https://gitlab.com/api/v4/projects/278964/issues/365202/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/365202/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#365202","relative":"#365202","full":"gitlab-org/gitlab#365202"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":110065265,"iid":365201,"project_id":278964,"title":"Delete obsolete project_selector store module","description":"The `project_selector` store module seems to be obsolete and we might be able to remove it altogether. Let's make sure it's not used anywhere anymore, and delete the related code if it isn't.\n\n\n## How to verify\n\n1. Go to your instance's security dashboard `-/security/dashboard` and check point `3` below\n1. Go to a group's security dashboard (Group -\u003e \"Security \u0026 Compliance\" -\u003e \"Security Dashboard\") and check point `3` below\n1. Make sure the \"Project security status\" widget renders as expected (showing data, can be interacted with, no console errors)","state":"closed","created_at":"2022-06-14T06:12:30.489Z","updated_at":"2022-07-15T00:49:24.172Z","closed_at":"2022-07-15T00:49:24.148Z","closed_by":{"id":4155411,"username":"dpisek","name":"David Pisek","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4155411/avatar.png","web_url":"https://gitlab.com/dpisek"},"labels":["devops::secure","frontend","group::threat insights","maintenance::refactor","section::sec","type::maintenance","workflow::verification"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[],"author":{"id":4155411,"username":"dpisek","name":"David Pisek","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4155411/avatar.png","web_url":"https://gitlab.com/dpisek"},"type":"ISSUE","assignee":null,"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/365201","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/365201","notes":"https://gitlab.com/api/v4/projects/278964/issues/365201/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/365201/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#365201","relative":"#365201","full":"gitlab-org/gitlab#365201"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":110059674,"iid":365198,"project_id":278964,"title":"Project creators should automatically become OWNER","description":"If a user creates a project, there should be an OWNER record created.\n\nRelated (or may solve) https://gitlab.com/gitlab-org/gitlab/-/issues/7583 which at the time of writing still has some comments, e.g. https://gitlab.com/gitlab-org/gitlab/-/issues/7583#note_877319195 indicating the bug still occurs, despite the issue being closed :thinking: Also addresses https://gitlab.com/groups/gitlab-org/-/epics/7405#note_950362378","state":"closed","created_at":"2022-06-14T02:56:46.570Z","updated_at":"2022-06-14T02:58:25.744Z","closed_at":"2022-06-14T02:58:25.614Z","closed_by":{"id":3717078,"username":"cablett","name":"charlie ablett","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3717078/avatar.png","web_url":"https://gitlab.com/cablett"},"labels":["devops::manage","feature::enhancement","group::organization","section::dev","type::feature"],"milestone":null,"assignees":[],"author":{"id":3717078,"username":"cablett","name":"charlie ablett","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3717078/avatar.png","web_url":"https://gitlab.com/cablett"},"type":"ISSUE","assignee":null,"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/365198","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/365198","notes":"https://gitlab.com/api/v4/projects/278964/issues/365198/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/365198/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":"https://gitlab.com/api/v4/projects/278964/issues/17095"},"references":{"short":"#365198","relative":"#365198","full":"gitlab-org/gitlab#365198"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":110056269,"iid":365193,"project_id":278964,"title":"Update and simplify the `create blank project` form","description":"\nFollowing the dramatic success of the experiment where we simplified the group and project creation in the registration flow (https://gitlab.com/groups/gitlab-org/-/epics/4825) we should also update the \"create blank project\" form on the create project screen. This is the issue for the MVC, follow-up iterations of this initiative can be found in the epic (https://gitlab.com/groups/gitlab-org/-/epics/7375)\n\n## Spec\n\n**Updated from original due to https://gitlab.com/gitlab-org/gitlab/-/issues/365193#note_1024159736**\n\n* remove the \"Project description\" text area\n* track user input in the `slug` field on a per `user` basis","state":"closed","created_at":"2022-06-13T23:46:20.523Z","updated_at":"2022-08-08T20:39:48.102Z","closed_at":"2022-08-08T17:51:35.747Z","closed_by":{"id":3841241,"username":"dstull","name":"Doug Stull","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2d7b8532bca28f593b193b012841a40?s=80\u0026d=identicon","web_url":"https://gitlab.com/dstull"},"labels":["SUS::Impacting","devops::growth","free user priority","group::acquisition","section::growth","severity::2","type::feature","workflow::in review"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":3841241,"username":"dstull","name":"Doug Stull","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2d7b8532bca28f593b193b012841a40?s=80\u0026d=identicon","web_url":"https://gitlab.com/dstull"}],"author":{"id":9347704,"username":"gdoud","name":"Gayle Doud","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9347704/avatar.png","web_url":"https://gitlab.com/gdoud"},"type":"ISSUE","assignee":{"id":3841241,"username":"dstull","name":"Doug Stull","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2d7b8532bca28f593b193b012841a40?s=80\u0026d=identicon","web_url":"https://gitlab.com/dstull"},"user_notes_count":47,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/365193","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/365193","notes":"https://gitlab.com/api/v4/projects/278964/issues/365193/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/365193/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#365193","relative":"#365193","full":"gitlab-org/gitlab#365193"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7375,"epic":{"id":420252,"iid":7375,"title":"Feature discovery upgrade flow for project without a group is a dead end","url":"/groups/gitlab-org/-/epics/7375","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":110053933,"iid":365186,"project_id":278964,"title":"Trial User can be assigned company page attrs","description":"We've noticed an issue on staging when testing the trial flow:\n\n```\nCompleted 500 Internal Server Error in 4ms (ActiveRecord: 0.3ms | Allocations: 1225)\nActiveModel::UnknownAttributeError (unknown attribute 'website_url' for TrialUser.):\napp/controllers/trials_controller.rb:208:in `build_trial_user'\napp/controllers/concerns/emits_prometheus_metrics.rb:15:in `block in label_metrics'\n```\n\nWe believe the solution here is to allow `TrialUser` to be assigned these attributes.","state":"closed","created_at":"2022-06-13T21:46:12.120Z","updated_at":"2022-06-17T00:30:35.255Z","closed_at":"2022-06-17T00:30:35.236Z","closed_by":{"id":2709171,"username":"jayswain","name":"Jay","state":"active","avatar_url":"https://secure.gravatar.com/avatar/9425e277e593759683640b83676c911c?s=80\u0026d=identicon","web_url":"https://gitlab.com/jayswain"},"labels":["auto updated","free user priority","group::adoption DEPRECATED","workflow::in review"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":4303974,"username":"jejacks0n1","name":"Jeremy Jackson","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4303974/avatar.png","web_url":"https://gitlab.com/jejacks0n1"}],"author":{"id":2709171,"username":"jayswain","name":"Jay","state":"active","avatar_url":"https://secure.gravatar.com/avatar/9425e277e593759683640b83676c911c?s=80\u0026d=identicon","web_url":"https://gitlab.com/jayswain"},"type":"ISSUE","assignee":{"id":4303974,"username":"jejacks0n1","name":"Jeremy Jackson","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4303974/avatar.png","web_url":"https://gitlab.com/jejacks0n1"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/365186","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/365186","notes":"https://gitlab.com/api/v4/projects/278964/issues/365186/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/365186/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#365186","relative":"#365186","full":"gitlab-org/gitlab#365186"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":110049002,"iid":365176,"project_id":278964,"title":"Dependency scanning fails for npm if lockfileVersion equals 3","description":"\n### Summary\nSame problem as it was https://gitlab.com/gitlab-org/gitlab/-/issues/273651 but nowdays gemnasium lacks support of lockfileVersion = 3.\n\n### Release Post\n\nDependency Scanning supports NPM projects that utilize lockfile version 3.\n\n### Gitalab version\nTested on 14.10 and 15.0\n\n### Possible fixes\nAdd to gemnasium support of lockfileVersion = 3\n\n### Implementation\n\n1. Update the [`scanner/parser/npm/lockfile.go`](https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium/-/blob/36495a8f5db83870d041e4c768030c6301f3dd1b/scanner/parser/npm/lockfile.go#L39-52) parser to parse the packages field if parsing a v3 lockfile.\n2. Update the [`scanner/parser/npm/lockfile_test.go`](https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium/-/blob/36495a8f5db83870d041e4c768030c6301f3dd1b/scanner/parser/npm/lockfile_test.go) tests so that it includes test cases for v3 lockfiles.\n3. Update the [Obtaining dependency information by parsing lockfiles](https://docs.gitlab.com/ee/user/application_security/dependency_scanning/#obtaining-dependency-information-by-parsing-lockfiles) table so that the NPM tested versions include and link to 9.x tests.\n\n### Testing\n\nTest the NPM project https://gitlab.com/gitlab-org/security-products/tests/js-npm either in the main branch or a FREEZE branch","state":"closed","created_at":"2022-06-13T19:13:14.778Z","updated_at":"2022-12-19T03:24:36.226Z","closed_at":"2022-12-16T14:59:43.451Z","closed_by":{"id":52092,"username":"gonzoyumo","name":"Olivier Gonzalez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/651e0ff81c3995a05269f7c80895fe89?s=80\u0026d=identicon","web_url":"https://gitlab.com/gonzoyumo"},"labels":["Category:Dependency Scanning","Enterprise Edition","GitLab Ultimate","Stretch","backend","devops::secure","feature::enhancement","group::composition analysis","quad-planning::complete-action","section::sec","type::feature","workflow::production"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":4668304,"username":"ifrenkel","name":"Igor Frenkel","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a73e8113c53ac25297ce751e59bbb1d3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ifrenkel"}],"author":{"id":336027,"username":"dm3ch","name":"Dmitry Chepurovskiy","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/336027/avatar.png","web_url":"https://gitlab.com/dm3ch"},"type":"ISSUE","assignee":{"id":4668304,"username":"ifrenkel","name":"Igor Frenkel","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a73e8113c53ac25297ce751e59bbb1d3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ifrenkel"},"user_notes_count":32,"merge_requests_count":0,"upvotes":3,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/365176","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/365176","notes":"https://gitlab.com/api/v4/projects/278964/issues/365176/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/365176/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#365176","relative":"#365176","full":"gitlab-org/gitlab#365176"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4292,"epic":{"id":101598,"iid":4292,"title":"Enhance Supported Languages and Packages Dependency Scanning","url":"/groups/gitlab-org/-/epics/4292","group_id":9970,"human_readable_end_date":"Dec 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"needs_attention"},{"id":110035241,"iid":365168,"project_id":278964,"title":"Remove Snowplow Micro ENV value fallback","description":"Issue https://gitlab.com/gitlab-org/gitlab/-/issues/358623 has introduced a new way of setting up snowplow micro - the ENV values are no longer needed.\n\nAfter this change has been deployed and announced, we are ready to remove the ENV values fallback (we can still keep the old fallbacks: `enabled` -\u003e `false` and `uri` -\u003e `SnowplowMicro::DEFAULT_URI`).\n\nThe mention of ENV values should also be removed from the docs and we should also remove them from gdk's procfile.","state":"closed","created_at":"2022-06-13T15:10:10.365Z","updated_at":"2022-08-11T08:22:15.707Z","closed_at":"2022-08-11T08:22:15.374Z","closed_by":{"id":9712164,"username":"nbelokolodov","name":"Niko Belokolodov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9712164/avatar.png","web_url":"https://gitlab.com/nbelokolodov"},"labels":["Unplanned","backend","devops::analytics","group::product intelligence","maintenance::refactor","section::analytics","type::maintenance","workflow::production"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":9712164,"username":"nbelokolodov","name":"Niko Belokolodov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9712164/avatar.png","web_url":"https://gitlab.com/nbelokolodov"}],"author":{"id":1863977,"username":"michold","name":"Michał Wielich","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1863977/avatar.png","web_url":"https://gitlab.com/michold"},"type":"ISSUE","assignee":{"id":9712164,"username":"nbelokolodov","name":"Niko Belokolodov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9712164/avatar.png","web_url":"https://gitlab.com/nbelokolodov"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/365168","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/365168","notes":"https://gitlab.com/api/v4/projects/278964/issues/365168/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/365168/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#365168","relative":"#365168","full":"gitlab-org/gitlab#365168"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":110033211,"iid":365166,"project_id":278964,"title":"Change `destination_name` to `destination_slug` for bulk imports API","description":"There has been confusion about what the `destination_name` field  in bulk imports refers to.\nIt actually refers to the destination slug (i.e. the _last_ part of the URL).\nHowever, because it includes \"name\" and is also referred to as \"name\" in the UI, users confuse it with the group name.\n\nWe therefore need to change any reference to `destination_name` to `destination_slug`. This will require several steps:\n\nImplementation suggestions: \n\nSuggestion 1:\n\n* [ ] add a `destination_slug` column to the `bulk_import_entities` table on the database\n* [ ] populate each row's `destination_slug` with the data from the `destination_name` column\n* [ ] change any occurrence of `destination_slug` in the bulk_importer and api to `destination_path`, for both Groups and Projects\n* [ ] delete the `destination_name` column\n* [ ] update the api documentation (both REST and GraphQL)\n* [ ] update the UI (see https://gitlab.com/gitlab-org/gitlab/-/issues/347510) to clarify that the input field is for a `slug` not a `name`\n\nSuggestion 2:\n\nAdd `destination_slug` on API level without changing it on database level. This should provide clarity for the user that entered information should be a group slug, not a group name.","state":"closed","created_at":"2022-06-13T14:42:27.931Z","updated_at":"2022-08-08T14:25:26.542Z","closed_at":"2022-08-02T16:18:04.380Z","closed_by":{"id":674121,"username":"georgekoltsov","name":"George Koltsov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/674121/avatar.png","web_url":"https://gitlab.com/georgekoltsov"},"labels":["Category:Importers","Importer:GitLab Migration","Next Up","backend","database","devops::manage","group::import","section::dev","type::maintenance","workflow::production"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":674121,"username":"georgekoltsov","name":"George Koltsov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/674121/avatar.png","web_url":"https://gitlab.com/georgekoltsov"}],"author":{"id":11342168,"username":"carlad-gl","name":"Carla Drago","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11342168/avatar.png","web_url":"https://gitlab.com/carlad-gl"},"type":"ISSUE","assignee":{"id":674121,"username":"georgekoltsov","name":"George Koltsov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/674121/avatar.png","web_url":"https://gitlab.com/georgekoltsov"},"user_notes_count":18,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/365166","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":6,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 6 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/365166","notes":"https://gitlab.com/api/v4/projects/278964/issues/365166/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/365166/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#365166","relative":"#365166","full":"gitlab-org/gitlab#365166"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":"at_risk"},{"id":110028052,"iid":365144,"project_id":278964,"title":"Tech debt - Refactor report artifacts","description":"## Problem\n\nThis is a follow up issue fro https://gitlab.com/gitlab-org/gitlab/-/merge_requests/88633.\n\nWe seem to duplicate lot of business logic when fetching artifact from a build or a pipeline.\n\n## Solution\n\nRealign our definition of what is a report from different artifacts generated by many builds/pipelines.\n\n### Refactor 1\n\n\u003e\u003e\u003e\nFollow-up ~\"maintenance::refactor\" ideas:\n\n- [x] `Ci::Build.with_reports` scope should probably be `with_artifacts` since it accepts any artifacts scope. As we consolidate the concept of a pipeline having multiple reports based on multiple artifacts, using `with_reports` at build level is confusing.\n- [ ] #366873+\n- [x] `Ci::JobArtifact.with_reports` should probably be `.all_reports` since the artifact doesn't \"contain reports\" but its a piece of the report. The `Ci::JobArtifact.all_reports` clarifies that we are filtering artifacts of any report type.\n\u003e\u003e\u003e\n\nFrom https://gitlab.com/gitlab-org/gitlab/-/merge_requests/88633#note_981390337:\n\n### Refactor 2\n\n\u003e\u003e\u003e\nThere is another duplicate usage of this in `Security::ReportFetchService` :sweat: which internally has also a wrong assumption by using `.last` because a report could contain data from multiple jobs.\n\nI'll open an issue to discuss this design issues since we are leaking implementation details everywhere and have code that has wrong expectations.\n\u003e\u003e\u003e\n\n\n### Refactor 3\nFrom https://gitlab.com/gitlab-org/gitlab/-/merge_requests/88633#note_981390328:\n\n\u003e\u003e\u003e\nThis is a duplicate logic of `latest_report_builds` :grimacing: We should check if this method is expected to also include descendants' builds.\n\u003e\u003e\u003e","state":"closed","created_at":"2022-06-13T13:24:23.460Z","updated_at":"2022-07-12T07:30:26.237Z","closed_at":"2022-07-12T07:30:26.218Z","closed_by":{"id":5251734,"username":"morefice","name":"Max Orefice","state":"active","avatar_url":"https://secure.gravatar.com/avatar/0a910912e24727d7eef579cd047f7651?s=80\u0026d=identicon","web_url":"https://gitlab.com/morefice"},"labels":["Category:Build Artifacts","Verify::P1","[deprecated] Accepting merge requests","backend","devops::verify","follow-up","group::pipeline insights","priority::1","section::ops","type::maintenance","workflow::ready for development"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[],"author":{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"},"type":"ISSUE","assignee":null,"user_notes_count":19,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/365144","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":2},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"2 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/365144","notes":"https://gitlab.com/api/v4/projects/278964/issues/365144/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/365144/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#365144","relative":"#365144","full":"gitlab-org/gitlab#365144"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":110021988,"iid":365140,"project_id":278964,"title":"Support variable expansion on environment:auto_stop_in","description":"## Release Notes\n\nWith this update, you can now use a variable when specifying the lifetime of an environment.\n\n## Problem\n\n[`environment:auto_stop_in`](https://docs.gitlab.com/ee/ci/yaml/#environmentauto_stop_in) keyword doesn't support variable expansion. We should support it.\n\n## Use case\n\nhttps://gitlab.com/gitlab-org/gitlab/-/issues/264198#note_849058703\n\n```\n.deploy_my_cluster: \u0026deploy_cluster\n  stage: deploy\n  image:\n    name: hashicorp/terraform:${TERRAFORM_VERSION}\n    entrypoint: [\"\"]\n  before_script:\n    - terraform init\n  script:\n    # plan generated in a previous job as an artifact\n    - terraform apply -auto-approve plan.${ENVIRONMENT}.json\n  rules:\n    - if: '$CI_PIPELINE_SOURCE == \"pipeline\" \u0026\u0026 $CI_COMMIT_BRANCH == \"master\" \u0026\u0026 $RESET_TTL != \"yes\" \u0026\u0026 $ENVIRONMENT != \"prod\"'\n    - if: '$CI_PIPELINE_SOURCE == \"push\" \u0026\u0026 $CI_COMMIT_BRANCH == \"master\" \u0026\u0026 $RESET_TTL != \"yes\" \u0026\u0026 $ENVIRONMENT != \"prod\"'\n    - if: '$CI_PIPELINE_SOURCE == \"web\" \u0026\u0026 $CI_COMMIT_BRANCH == \"master\" \u0026\u0026 $RESET_TTL != \"yes\" \u0026\u0026 $ENVIRONMENT == $JOB_ENVIRONMENT'\n      when: manual\n  tags:\n    - docker\n    - my_company\n  environment:\n    name: $ENVIRONMENT\n    on_stop: destroy_swarm_cluster\n    auto_stop_in: $TTL\n\ndeploy_swarm_prod:\n  \u003c\u003c: *deploy_cluster\n  variables:\n    JOB_ENVIRONMENT: 'prod'\n    TTL: 'never'\n\ndeploy_swarm_preprod:\n  \u003c\u003c: *deploy_cluster\n  variables:\n    JOB_ENVIRONMENT: 'preprod'\n    TTL: '3 days'\n```\n\n## Proposal\n\n- We loose the `auto_stop_in` validation to String type from duration parser's validation.\n- Renew the `environments.auto_stop_in` with variable expansion when a deployment succeeded.\n- Set the `environments.auto_stop_in` with variable expansion when an environment is created. (This could be optional. We need to make sure the user expectations)\n- Track the parser error in Sentry/Log. This is helpful to debug user errors.\n\nHere is a PoC: https://gitlab.com/gitlab-org/gitlab/-/merge_requests/93536","state":"closed","created_at":"2022-06-13T11:38:14.034Z","updated_at":"2022-09-21T12:04:23.336Z","closed_at":"2022-09-14T09:07:37.871Z","closed_by":{"id":9253328,"username":"bala.kumar","name":"Bala Kumar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9253328/avatar.png","web_url":"https://gitlab.com/bala.kumar"},"labels":["Category:Environment Management","Deliverable","GitLab Free","Next Up","Release::P1","backend","backend-weight::2","devops::release","group::release","release post item::in review","section::ops","type::feature","workflow::in review"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":9253328,"username":"bala.kumar","name":"Bala Kumar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9253328/avatar.png","web_url":"https://gitlab.com/bala.kumar"}],"author":{"id":758045,"username":"shinya.maeda","name":"Shinya Maeda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/758045/avatar.png","web_url":"https://gitlab.com/shinya.maeda"},"type":"ISSUE","assignee":{"id":9253328,"username":"bala.kumar","name":"Bala Kumar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9253328/avatar.png","web_url":"https://gitlab.com/bala.kumar"},"user_notes_count":10,"merge_requests_count":0,"upvotes":6,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/365140","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/365140","notes":"https://gitlab.com/api/v4/projects/278964/issues/365140/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/365140/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#365140","relative":"#365140","full":"gitlab-org/gitlab#365140"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":110018856,"iid":365131,"project_id":278964,"title":"Make BulkImport to handle Net::ReadTimeout","description":"## Summary\n\nBulkImport pipelines fail to successfully import a group when the source instance is busy and can't handle the request in a certain amount of time. \n\nThis issue was originate after this discussion: https://gitlab.com/gitlab-org/gitlab/-/issues/363390#note_988768783\n\n## Detail\n\nWhen the source instance is busy and the response takes more than 30 seconds a Net::ReadTimeout is raised and the pipeline is marked as failed. Because the source instance can become available after a period, the BulkImport should retry the pipeline because the source instance can eventually respond to the request. \n\nDoing this will increase the number of imports that are successfully imported. \n\nOn [production logs - internal only](https://log.gprd.gitlab.net/app/discover#/?_g=(filters:!(),refreshInterval:(pause:!t,value:0),time:(from:now-30d%2Fd,to:now))\u0026_a=h@c6bfd1e), it's possible to see that this error happened a few times before\n\n\n**Proposed solution**\n\nThe BulkImport should retry the pipeline a couple of times when a `Net::ReadTimeout` is raised before marking the pipeline as failed.","state":"closed","created_at":"2022-06-13T10:38:47.157Z","updated_at":"2022-07-15T16:15:59.151Z","closed_at":"2022-07-06T10:52:45.573Z","closed_by":{"id":11165152,"username":"rodrigo.tomonari","name":"Rodrigo Tomonari","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11165152/avatar.png","web_url":"https://gitlab.com/rodrigo.tomonari"},"labels":["Category:Importers","Importer:GitLab Migration","Next Up","backend","devops::manage","group::import","section::dev","type::feature","workflow::production"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[{"id":11165152,"username":"rodrigo.tomonari","name":"Rodrigo Tomonari","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11165152/avatar.png","web_url":"https://gitlab.com/rodrigo.tomonari"}],"author":{"id":11165152,"username":"rodrigo.tomonari","name":"Rodrigo Tomonari","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11165152/avatar.png","web_url":"https://gitlab.com/rodrigo.tomonari"},"type":"ISSUE","assignee":{"id":11165152,"username":"rodrigo.tomonari","name":"Rodrigo Tomonari","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11165152/avatar.png","web_url":"https://gitlab.com/rodrigo.tomonari"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/365131","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/365131","notes":"https://gitlab.com/api/v4/projects/278964/issues/365131/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/365131/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#365131","relative":"#365131","full":"gitlab-org/gitlab#365131"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4931,"epic":{"id":145558,"iid":4931,"title":"GitLab Migration - Technical Improvements","url":"/groups/gitlab-org/-/epics/4931","group_id":9970,"human_readable_end_date":"Dec 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":110018418,"iid":365129,"project_id":278964,"title":"Follow-up from \"Update admin deletion protection settings\"","description":"The following discussion from !86568 should be addressed:\n\n- [ ] @stomlinson started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/86568#note_982265061):  (+1 comment)\n\n    \u003e ```suggestion:-0+0\n    \u003e ```\n    \u003e \n    \u003e It's fine to use a transaction here since we're only executing a single update on a single row. Skipping the transaction would also be safe, but I prefer to make migrations as simple as they can possibly be in case someone needs to read one quickly.","state":"closed","created_at":"2022-06-13T10:30:12.174Z","updated_at":"2022-06-16T08:12:52.618Z","closed_at":"2022-06-16T08:12:52.566Z","closed_by":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"labels":["backend","database","devops::manage","group::compliance","priority::4","section::dev","type::maintenance","workflow::verification"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"}],"author":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"type":"ISSUE","assignee":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/365129","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/365129","notes":"https://gitlab.com/api/v4/projects/278964/issues/365129/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/365129/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#365129","relative":"#365129","full":"gitlab-org/gitlab#365129"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7568,"epic":{"id":444363,"iid":7568,"title":"Revamp project deletion setting options for clearer interpretation","url":"/groups/gitlab-org/-/epics/7568","group_id":9970,"human_readable_end_date":"Sep 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":109978846,"iid":365105,"project_id":278964,"title":"Instrument DORA Group trend chart - \"Deployment Frequency\" and \"Lead time for changes\" Unique Views/Month","description":"## Problem to Solve\n\nCurrently we track MAU for \"Deployment Frequency\" and \"Lead time for changes\" only for **Projects-level**. \n\n### Proposal\n\n1. Add 1 new counter for the number of unique users that view **Groups-level** - analytics/ci_cd?tab=deployment-frequency. usage_action_name= 'g_analytics_ci_cd_deployment_frequency_monthly'\n2. Add 1 new counter for the number of unique users that view any **Groups-level** analytics/ci_cd?tab=lead-time. usage_action_name= 'g_analytics_ci_cd_lead_time_monthly'\n3. Add the 2 counters to ~\"group::optimize\" GMAU metric -  https://metrics.gitlab.com/?q=analytics_unique_visits.analytics_unique_visits_for_any_target_monthly.\n\n### Additional Details\n\n**Projects-level** MAU for:\n-  [DORA Deployment Frequency (Project) Unique Views/Month](https://app.periscopedata.com/app/gitlab/779829/Manage:Optimize-Feature-Usage?widget=14795302\u0026udv=0) \n- [DORA Lead time for changes (Project) Unique Views/Month](https://app.periscopedata.com/app/gitlab/779829/Manage:Optimize-Feature-Usage?widget=14795306\u0026udv=0)","state":"closed","created_at":"2022-06-12T16:37:18.900Z","updated_at":"2022-07-21T12:02:18.432Z","closed_at":"2022-07-06T10:15:07.398Z","closed_by":{"id":4826728,"username":"m_frankiewicz","name":"Magdalena Frankiewicz","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ca314fa77051f58ced6e3e5bf7f0dd48?s=80\u0026d=identicon","web_url":"https://gitlab.com/m_frankiewicz"},"labels":["Data team review","Deliverable","auto updated","backend","devops::manage","feature","feature::enhancement","group::optimize","instrumentation","priority::3","section::dev","type::feature","workflow::production"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":4826728,"username":"m_frankiewicz","name":"Magdalena Frankiewicz","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ca314fa77051f58ced6e3e5bf7f0dd48?s=80\u0026d=identicon","web_url":"https://gitlab.com/m_frankiewicz"}],"author":{"id":10879254,"username":"hsnir1","name":"Haim Snir","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10879254/avatar.png","web_url":"https://gitlab.com/hsnir1"},"type":"ISSUE","assignee":{"id":4826728,"username":"m_frankiewicz","name":"Magdalena Frankiewicz","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ca314fa77051f58ced6e3e5bf7f0dd48?s=80\u0026d=identicon","web_url":"https://gitlab.com/m_frankiewicz"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/365105","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/365105","notes":"https://gitlab.com/api/v4/projects/278964/issues/365105/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/365105/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#365105","relative":"#365105","full":"gitlab-org/gitlab#365105"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8230,"epic":{"id":544672,"iid":8230,"title":"Instrument VSA and DORA","url":"/groups/gitlab-org/-/epics/8230","group_id":9970,"human_readable_end_date":"Jul 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":109978813,"iid":365104,"project_id":278964,"title":"Instrument DORA trend chart - \"Change Failure Rate\" Unique Views/Month","description":"### Problem\n\nRelated to https://gitlab.com/gitlab-org/gitlab/-/issues/357072+ and https://gitlab.com/gitlab-org/gitlab/-/issues/363846+ \n\nWe would like to know the MAU for the DORA trend charts (pages), in order to understand how users have adopted [DORA](https://docs.gitlab.com/ee/user/analytics/#devops-research-and-assessment-dora-key-metrics). \n\n### Proposal\n\n1. Add 1 new counter for the number of unique users that view any Project's url analytics/ci_cd?tab=change-failure-rate. usage_action_name= 'p_analytics_ci_cd_change_failure_rate_monthly'\n2. Add 1 new counter for the number of unique users that view any Group's url analytics/ci_cd?tab=change-failure-rate. usage_action_name= 'g_analytics_ci_cd_change_failure_rate_monthly'.\n3. Add the 2 counters to ~\"group::optimize\" GMAU metric -  https://metrics.gitlab.com/?q=analytics_unique_visits.analytics_unique_visits_for_any_target_monthly.\n\n### Additional Details\n\n- MAU for [DORA Deployment Frequency (Project) Unique Views/Month](https://app.periscopedata.com/app/gitlab/779829/Manage:Optimize-Feature-Usage?widget=14795302\u0026udv=0) \n- MAU for [DORA Lead time for changes (Project) Unique Views/Month](https://app.periscopedata.com/app/gitlab/779829/Manage:Optimize-Feature-Usage?widget=14795306\u0026udv=0)","state":"closed","created_at":"2022-06-12T16:36:15.728Z","updated_at":"2022-07-18T08:46:15.381Z","closed_at":"2022-07-18T08:01:47.394Z","closed_by":{"id":4826728,"username":"m_frankiewicz","name":"Magdalena Frankiewicz","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ca314fa77051f58ced6e3e5bf7f0dd48?s=80\u0026d=identicon","web_url":"https://gitlab.com/m_frankiewicz"},"labels":["Data team review","auto updated","devops::manage","group::optimize","instrumentation","priority::3","section::dev","workflow::production"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":3397881,"username":"ekigbo","name":"Ezekiel Kigbo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3397881/avatar.png","web_url":"https://gitlab.com/ekigbo"}],"author":{"id":10879254,"username":"hsnir1","name":"Haim Snir","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10879254/avatar.png","web_url":"https://gitlab.com/hsnir1"},"type":"ISSUE","assignee":{"id":3397881,"username":"ekigbo","name":"Ezekiel Kigbo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3397881/avatar.png","web_url":"https://gitlab.com/ekigbo"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/365104","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/365104","notes":"https://gitlab.com/api/v4/projects/278964/issues/365104/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/365104/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#365104","relative":"#365104","full":"gitlab-org/gitlab#365104"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8230,"epic":{"id":544672,"iid":8230,"title":"Instrument VSA and DORA","url":"/groups/gitlab-org/-/epics/8230","group_id":9970,"human_readable_end_date":"Jul 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":109978767,"iid":365103,"project_id":278964,"title":"Instrument DORA trend chart - \"Time to restore service\" Unique Views/Month","description":"### Problem\n\nRelated to https://gitlab.com/gitlab-org/gitlab/-/issues/356959+ and https://gitlab.com/gitlab-org/gitlab/-/issues/363846+ \n\nWe would like to know the MAU for the new DORA  \"Time to restore service\" trend chart (page), in order to understand how users have adopted [DORA](https://docs.gitlab.com/ee/user/analytics/#devops-research-and-assessment-dora-key-metrics). \n\n### Proposal\n\n1. Create 1 new counter for the number of unique users that view any Project's url analytics/ci_cd?tab=time-to-restore-service. usage_action_name= 'p_analytics_ci_cd_time_to_restore_service_monthly'\n2. Create 1 new counter for the number of unique users that view any Group's url analytics/ci_cd?tab=time-to-restore-service. usage_action_name= 'g_analytics_ci_cd_time_to_restore_service_monthly'.\n3. Add the 2 counters to ~\"group::optimize\" GMAU metric -  https://metrics.gitlab.com/?q=analytics_unique_visits.analytics_unique_visits_for_any_target_monthly.\n\n### Additional Details\n\n- MAU for [DORA Deployment Frequency (Project) Unique Views/Month](https://app.periscopedata.com/app/gitlab/779829/Manage:Optimize-Feature-Usage?widget=14795302\u0026udv=0) \n- MAU for [DORA Lead time for changes (Project) Unique Views/Month](https://app.periscopedata.com/app/gitlab/779829/Manage:Optimize-Feature-Usage?widget=14795306\u0026udv=0)","state":"closed","created_at":"2022-06-12T16:34:04.340Z","updated_at":"2022-07-25T14:51:36.558Z","closed_at":"2022-07-06T10:01:14.230Z","closed_by":{"id":4826728,"username":"m_frankiewicz","name":"Magdalena Frankiewicz","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ca314fa77051f58ced6e3e5bf7f0dd48?s=80\u0026d=identicon","web_url":"https://gitlab.com/m_frankiewicz"},"labels":["Data team review","Deliverable","auto updated","backend","devops::manage","feature::enhancement","group::optimize","instrumentation","priority::3","section::dev","type::feature","workflow::production"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":4826728,"username":"m_frankiewicz","name":"Magdalena Frankiewicz","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ca314fa77051f58ced6e3e5bf7f0dd48?s=80\u0026d=identicon","web_url":"https://gitlab.com/m_frankiewicz"}],"author":{"id":10879254,"username":"hsnir1","name":"Haim Snir","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10879254/avatar.png","web_url":"https://gitlab.com/hsnir1"},"type":"ISSUE","assignee":{"id":4826728,"username":"m_frankiewicz","name":"Magdalena Frankiewicz","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ca314fa77051f58ced6e3e5bf7f0dd48?s=80\u0026d=identicon","web_url":"https://gitlab.com/m_frankiewicz"},"user_notes_count":18,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/365103","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/365103","notes":"https://gitlab.com/api/v4/projects/278964/issues/365103/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/365103/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#365103","relative":"#365103","full":"gitlab-org/gitlab#365103"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8230,"epic":{"id":544672,"iid":8230,"title":"Instrument VSA and DORA","url":"/groups/gitlab-org/-/epics/8230","group_id":9970,"human_readable_end_date":"Jul 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":109940664,"iid":365084,"project_id":278964,"title":"[After %15.2] Remove wip/unwip from app/services/merge_requests/base_service.rb handle_draft_event","description":"This is a follow up to #363403 and !89271 to be worked on after %15.2!\n\nIn !89271, we updated [MergeRequests::BaseService#handle_draft_event](app/services/merge_requests/base_service.rb#L134) to accept `wip`/`unwip` and `draft`/`ready` as internal draft event states. This should ensure a smooth transition from the former event states `wip`/`unwip` to the more recent `draft`/`ready` states, as the states are used in frontend JavaScript [app/assets/javascripts/merge_request.js](app/assets/javascripts/merge_request.js).\n\nAs discussed in !89271, after %15.2, we can remove the former event states `wip`/`unwip` from [MergeRequests::BaseService#handle_draft_event](app/services/merge_requests/base_service.rb#L134] and the accompanying code comment (while keeping event states `draft`/`ready`).\n\n## Implementation Guide\n\nAfter %15.2:\n* Open [app/services/merge_requests/base_service.rb](app/services/merge_requests/base_service.rb)\n* Navigate to method [MergeRequests::BaseService#handle_draft_event](app/services/merge_requests/base_service.rb#L127)\n* Remove line `when 'wip' then MergeRequest.draft_title(title)`\n* Remove line `when 'unwip' then MergeRequest.draftless_title(title)`\n* Remove comment lines `Supports both wip and draft permutations of draft_event.`, `This support can be removed \u003e= %15.2`","state":"closed","created_at":"2022-06-10T21:01:58.834Z","updated_at":"2022-07-21T12:01:29.167Z","closed_at":"2022-07-12T07:51:11.826Z","closed_by":{"id":5918904,"username":"marc_shaw","name":"Marc Shaw","state":"active","avatar_url":"https://secure.gravatar.com/avatar/78c946cb19e40815a2b5d97cefecec6a?s=80\u0026d=identicon","web_url":"https://gitlab.com/marc_shaw"},"labels":["Deliverable","backend","devops::create","group::code review","section::dev"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":5918904,"username":"marc_shaw","name":"Marc Shaw","state":"active","avatar_url":"https://secure.gravatar.com/avatar/78c946cb19e40815a2b5d97cefecec6a?s=80\u0026d=identicon","web_url":"https://gitlab.com/marc_shaw"}],"author":{"id":566785,"username":"quatauta","name":"Daniel Schömer","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ed9979fe7dd7bcc809cfa79faacaf59e?s=80\u0026d=identicon","web_url":"https://gitlab.com/quatauta"},"type":"ISSUE","assignee":{"id":5918904,"username":"marc_shaw","name":"Marc Shaw","state":"active","avatar_url":"https://secure.gravatar.com/avatar/78c946cb19e40815a2b5d97cefecec6a?s=80\u0026d=identicon","web_url":"https://gitlab.com/marc_shaw"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/365084","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/365084","notes":"https://gitlab.com/api/v4/projects/278964/issues/365084/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/365084/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#365084","relative":"#365084","full":"gitlab-org/gitlab#365084"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3879,"epic":{"id":80141,"iid":3879,"title":"Rename WIP merge requests to Draft","url":"/groups/gitlab-org/-/epics/3879","group_id":9970,"human_readable_end_date":"Oct 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":109937112,"iid":365075,"project_id":278964,"title":"Remove infinitely_collapsible_sections feature flag","description":"## Summary\n\nThis issue is set to track the removal of the `infinitely_collapsible_sections` feature flag and related code, as due to https://gitlab.com/gitlab-org/gitlab/-/issues/341769+ the original [issue](https://gitlab.com/gitlab-org/gitlab/-/issues/29766) is ~\"workflow::blocked\" . As not to keep the current feature flag dormant for an extended period of time it has been decided to remove it per this [thread](https://gitlab.com/gitlab-org/gitlab/-/issues/335297#note_981691029)","state":"closed","created_at":"2022-06-10T18:53:30.064Z","updated_at":"2022-07-01T12:01:57.699Z","closed_at":"2022-06-23T19:08:28.557Z","closed_by":{"id":829774,"username":"jivanvl","name":"Jose Ivan Vargas","state":"active","avatar_url":"https://secure.gravatar.com/avatar/730cc1b85a20f2a3891829f7aa198972?s=80\u0026d=identicon","web_url":"https://gitlab.com/jivanvl"},"labels":["Category:Continuous Integration","devops::verify","feature flag","frontend","group::pipeline execution","section::ops","type::feature","workflow::production"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":829774,"username":"jivanvl","name":"Jose Ivan Vargas","state":"active","avatar_url":"https://secure.gravatar.com/avatar/730cc1b85a20f2a3891829f7aa198972?s=80\u0026d=identicon","web_url":"https://gitlab.com/jivanvl"}],"author":{"id":829774,"username":"jivanvl","name":"Jose Ivan Vargas","state":"active","avatar_url":"https://secure.gravatar.com/avatar/730cc1b85a20f2a3891829f7aa198972?s=80\u0026d=identicon","web_url":"https://gitlab.com/jivanvl"},"type":"ISSUE","assignee":{"id":829774,"username":"jivanvl","name":"Jose Ivan Vargas","state":"active","avatar_url":"https://secure.gravatar.com/avatar/730cc1b85a20f2a3891829f7aa198972?s=80\u0026d=identicon","web_url":"https://gitlab.com/jivanvl"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/365075","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/365075","notes":"https://gitlab.com/api/v4/projects/278964/issues/365075/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/365075/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#365075","relative":"#365075","full":"gitlab-org/gitlab#365075"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":109931528,"iid":365058,"project_id":278964,"title":"Create a Vulnerability::StateTransition entry for redetected vulnerabilities","description":"## Why are we doing this work?\n\nAfter introducing new Vulnerabilities ingestion framework we noticed that `resolved` Vulnerabilities that were discovered again in the default branch weren't marked as `detected`. This bug was addressed by https://gitlab.com/gitlab-org/gitlab/-/issues/361650+ but recently we have introduced `Vulnerability::StateTransition` model which we want to start populating as soon as possible.\n\n## Implementation plan\n\n1. Adjust `MarkResolvedAsDetected` task (`ee/app/services/security/ingestion/tasks/ingest_vulnerabilities/mark_resolved_as_detected.rb`) to create `Vulnerability::StateTransition` entries for affected Vulnerabilities","state":"closed","created_at":"2022-06-10T16:09:57.100Z","updated_at":"2022-07-19T20:49:39.459Z","closed_at":"2022-07-14T22:57:21.009Z","closed_by":{"id":7825316,"username":"subashis","name":"Subashis  Chakraborty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7825316/avatar.png","web_url":"https://gitlab.com/subashis"},"labels":["Category:Vulnerability Management","auto updated","backend","devops::secure","feature::addition","group::threat insights","section::sec","type::feature","workflow::verification"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":7825316,"username":"subashis","name":"Subashis  Chakraborty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7825316/avatar.png","web_url":"https://gitlab.com/subashis"}],"author":{"id":487608,"username":"Quintasan","name":"Michał Zając","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/487608/avatar.png","web_url":"https://gitlab.com/Quintasan"},"type":"ISSUE","assignee":{"id":7825316,"username":"subashis","name":"Subashis  Chakraborty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7825316/avatar.png","web_url":"https://gitlab.com/subashis"},"user_notes_count":13,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/365058","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/365058","notes":"https://gitlab.com/api/v4/projects/278964/issues/365058/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/365058/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#365058","relative":"#365058","full":"gitlab-org/gitlab#365058"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5629,"epic":{"id":228751,"iid":5629,"title":"Deprecate and remove Vulnerabilities::Feedback","url":"/groups/gitlab-org/-/epics/5629","group_id":9970},"iteration":null,"health_status":null},{"id":109930025,"iid":365057,"project_id":278964,"title":"Move specification validation from worker-entry to scanner","description":"## Problem\n\nSome code related to how to handle specification documents requires writing the code twice. Once in Python and another in C#. For example the two following issues:\n- https://gitlab.com/gitlab-org/gitlab/-/issues/357052 where the code to access the protected URLs should be written in worker-entry and also in the scanner. \n- https://gitlab.com/gitlab-org/gitlab/-/issues/357041, where code to store external references, should happen in worker-entry but part of it should happen in the scanner.\n\nThis leads to duplicate efforts to achieve the same goal, and also a chance of getting out of sync validation between scanner and worker-entry. \n\n## Proposal\n\nAt least in this stage, move validation logic from worker-entry to the scanner, and communicate through WebAPI. Thus related issues about document retrieval and storage could happen all in the scanner.\n\n1. [x] Create base classes to accept validation requests and provide validation response\n    1. [x] Create a base `ValidationRequest` class with common information (e.g. RunnerOptions) values to perform validations. (e.g.`RunnerOptions` property)\n    1. [x] Create a base `ValidationResponse`\n1. [ ] In worker-entry update `glapifuzzing` to include a WebAPI call to validation(s) endpoint:\n    1. [x] `ValidateHar(Request)`\n    1. [x] `ValidateOpenApi(Request)`\n    1. [x] `ValidatePostmanCollection(Request)`\n    1. All of then can share logic to perform requests with different URL, e.g. `_ValidateSpecification(Request, document_type)`. Make sure that:\n        1. [x] 200 =\u003e Pass the deserialized response object\n        1. [x] 400 =\u003e Log error and raise `glapifuzzing.ValidationError`\n        1. [x] 500 =\u003e Log error and raise `Exception`\n1. [x] Make sure `scheme` gets properly computed in `worker-entry`. It is use to compute `hostoverride`\n1. [x] Move `har` validation from the `worker-entry` to the `scanner`\n    1. [x] In the scanner create \n        1. [x] `HarController`\n        1. [x] `HarValidationRequest`,\n        1. [x] `HarValidationResponse`\n        1. [x] `HarValidationResponse HarController.Validate(HarValidationRequest request)` \n    1. [x] ~In worker-entry replace `_validate_har` with a WebAPI call to `HarController.Validate` using the `glapifuzzing` module.~  `validate` method in `glapifuzzing` method selects the proper controller endpoint.\n    1. [x] Move each validation (test can be implemented in a complementary service (e.g. `HarValidator`). **add tests for each case**\n        1. [x] Valid HAR reference `if not os.path.exists(har) and not har.lower().startswith('http'):`\n        1. [x] HAR Reference is accessible and it is JSON\n            1. File `with open(har, mode='rb') as fd: data = json.loads(fd.read().decode('utf-8-sig'))`\n            1. URL `req = requests.get(har, allow_redirects=True, verify=False) data = json.loads(req.content.decode('utf-8-sig'))`\n        1. [x] Validate is JSON and Not Empty\n        1. [x] HAR JSON has entry `$.log` \n        1. [x] HAR JSON has entry `$.log.version` equals to  `1.2`\n        1. [x] HAR JSON has entry `$.log.entries`\n        1. [x] HAR JSON has entry `$.log.entries` is a list with more or more elements\n1. [ ] Move `Postman`validation from `worker-entry` to the `scanner`. **add tests for each case**\n    1. In the scanner create \n        1. [x] `PostmanCollectionController`,\n        1. [x] `PostmanCollectionValidationRequest`\n        1. [x] `PostmanCollectionValidationResponse`\n        1. [x] `PostmanCollectionValidationResponse PostmanCollectionController.Validate(PostmanCollectionValidationRequest request)` \n    1. [x] In worker-entry replace `_validate_postman` with a WebAPI call to `PostmanCollectionController.Validate` using the `glapifuzzing` module.\n    1. [x] Move `_validate_postman_variable_file` to the scanner. **add tests for each case**\n        1. [x] For each postman variable file check:\n            1. [x] Reference is valid `not os.path.exists(postman_variables) and not postman_variables.lower().startswith('http'):`\n            1. Validate JSON is accessible\n                1. [x]. File `with open(postman_variables, 'rb') as fd:`\n                1. [x] URL `req = requests.get(postman_variables, allow_redirects=True, verify=False)`\n            1. [x] Content is not empty \n            1. [x] Content is JSON\n    1. [x] Move each validation (test can be implemented in a complementary service (e.g. `PostmanValidator`)**add tests for each case**\n        1. [x] Validate PostmanCollection reference `if not os.path.exists(postman) and not postman.lower().startswith('http'):`\n        1. [x] Validate JSON is accessible\n            1. [x] File `with open(postman, 'rb') as fd:`\n            1. [x] URL `req = requests.get(postman, allow_redirects=True, verify=False)`\n        1. [x] Validate is JSON and Not Empty\n        1. [x] PostmanCollection con JSON has entry `$.info`\n        1. [x] PostmanCollection con JSON has entry `$.info.schema`\n        1. [x] PostmanCollection JSON  entry `$.info.schema`  is valid (`https://schema.getpostman.com/json/collection/v2.0.0/collection.json`, or `https://schema.getpostman.com/json/collection/v2.1.0/collection.json`)\n        1. [x] PostmanCollection con JSON has entry `$.item[*]` has at least one item\n        1. [x] Validate the postman variable files\n        1. [x] Validate parameter postman variable generation `postman_variables_generation.lower() not in [\"none\", \"dynamic\", \"all\"]:`\n    1. [x] Move `_validate_openapi` to the scanner**add tests for each case**\n        1. [x] Validate OpenApi reference `if not os.path.exists(openapi) and not openapi.lower().startswith('http'):`\n        1. [x] Validate JSON is accessible \n            1. [x] File `with open(openapi, 'rb') as fd:`\n            1. [ x URL `req = requests.get(openapi, allow_redirects=True, verify=False)`\n        1. [x] Validate is JSON and not empty\n        1. [x] Validate has property `$.swagger` or `$.openapi`\n1. All `ValidationResponse` is expected to return\n    1. In the case of a 2xx response\n        2. A collection of `ValidationErrors`. An empty list means, no validation error\n        1. Each `ValidationErrors` has a FriendlyErrorMessage\n            1. TDB uses the first error message to raise an exception `ConfigurationValidationError`\n1. Update `worker-entry` tests\n    1. [x] Update tests if they were depending on the error message.\n\n# Questions / ideas\n1. [-] ~Should validation return all errors at once? One at a time. It feels to me that all at once, but limiting console output up to N, and debug output all.~ Returns a list of errors, although initial errors are dot not allow collecting more errors (e.g. file cannot be downloaded, hence it cannot check file content).\n1. [x] Should we join the existing `relaxed_openapi_validation` in worker-entry with the new validation in the backend?  maybe in a follow-up issue. A/ Combine existing API call with new validations.\n1. [x] There are common validations such as document exists but based on some business logic, e.g. document is a local file path, then use base_path to look for it, and maybe traverse it if needed, but if the document is URL then just make sure the document is available (e.g. 200 OK). This would apply almost to a document. Maybe this is a chance to share these common validations. A/ Share logic for these validations\n1. [x] Some validations may happen twice, once in the endpoint `abcController.Validate` and then in the `abcReader.GetRequests`. Should try to reuse the same validation? Should they remain apart? Should do this in this issue or maybe a follow-up issue? For now lets keep them apart\n1. [x] Parse (DOM) vs Deserialization to validate? Pros, cons? A/ No preference","state":"closed","created_at":"2022-06-10T15:32:09.541Z","updated_at":"2022-07-22T14:38:48.129Z","closed_at":"2022-07-22T14:38:48.113Z","closed_by":{"id":7488329,"username":"herbmadrigal","name":"Herber Madrigal","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7488329/avatar.png","web_url":"https://gitlab.com/herbmadrigal"},"labels":["Category:API Security","devops::secure","group::dynamic analysis","milestone::p1","section::sec","type::maintenance","workflow::verification"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":7488329,"username":"herbmadrigal","name":"Herber Madrigal","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7488329/avatar.png","web_url":"https://gitlab.com/herbmadrigal"}],"author":{"id":7488329,"username":"herbmadrigal","name":"Herber Madrigal","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7488329/avatar.png","web_url":"https://gitlab.com/herbmadrigal"},"type":"ISSUE","assignee":{"id":7488329,"username":"herbmadrigal","name":"Herber Madrigal","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7488329/avatar.png","web_url":"https://gitlab.com/herbmadrigal"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/365057","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":61,"completed_count":59},"weight":1,"blocking_issues_count":2,"has_tasks":true,"task_status":"59 of 61 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/365057","notes":"https://gitlab.com/api/v4/projects/278964/issues/365057/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/365057/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#365057","relative":"#365057","full":"gitlab-org/gitlab#365057"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":109922307,"iid":365054,"project_id":278964,"title":"Add ViewComponent for settings layout","description":"We want to try and create a consistent settings layout throughout the application. The preferred layout looks like this:\n\n![image](/uploads/886179c16d29e28a37710a73dc36bf2f/image.png)\n\nTo achieve this two column layout you currently need to use and reuse HTML with the correct CSS classes. We should create a `ViewComponent` component that takes care of the required markup and CSS classes.\n\n## Proposed API\n\n### Arguments\n\n- `border`\n\n### Slots\n\n- `title`\n- `description`\n- `settings`\n\n## Availability and Testing\n- No E2E test needed at this time, please ensure appropriate coverage in unit and/or integration tests\n- Please run `package-and-qa` job on MR to verify no regressions occur. Feel free to reach out to @vburton if any questions on test failures.","state":"closed","created_at":"2022-06-10T14:43:59.165Z","updated_at":"2022-08-22T15:55:38.384Z","closed_at":"2022-08-22T15:55:38.364Z","closed_by":{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"},"labels":["Deliverable","devops::manage","frontend","group::organization","maintenance::refactor","quad-planning::complete-action","section::dev","type::maintenance","workflow::in review"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"}],"author":{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"},"type":"ISSUE","assignee":{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"},"user_notes_count":3,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/365054","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/365054","notes":"https://gitlab.com/api/v4/projects/278964/issues/365054/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/365054/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#365054","relative":"#365054","full":"gitlab-org/gitlab#365054"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":109921763,"iid":365052,"project_id":278964,"title":"Refactor aggregation to use terms vs. composite","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"type::bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=type::bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\nThe language aggregations used for blob search currently use [composite aggregation](https://www.elastic.co/guide/en/elasticsearch/reference/current/search-aggregations-bucket-composite-aggregation.html). I found during testing that there are some issues with the aggregation buckets returned:\n\n* buckets are returned by natural ordering (not by count descending)\n* there are performance implications for using composite aggregations\n\n\n### Steps to reproduce\n\nRun the query below against staging and use a common search term '*' or 'test' to see the difference in aggregations returned.\n\n\u003cdetails\u003e\n\n\u003csummary\u003eblob Elasticsearch query\u003c/summary\u003e\n\n```json\n{\n  \"query\": {\n    \"bool\": {\n      \"must\": {\n        \"simple_query_string\": {\n          \"_name\": \"blob:match:search_terms\",\n          \"fields\": [\n            \"blob.content\",\n            \"blob.file_name\",\n            \"blob.path\"\n          ],\n          \"query\": \"*\",\n          \"default_operator\": \"and\"\n        }\n      },\n      \"must_not\": [],\n      \"should\": [],\n      \"filter\": [\n        {\n          \"has_parent\": {\n            \"_name\": \"blob:authorized:project\",\n            \"parent_type\": \"project\",\n            \"query\": {\n              \"bool\": {\n                \"should\": [\n                  {\n                    \"bool\": {\n                      \"filter\": [\n                        {\n                          \"term\": {\n                            \"visibility_level\": {\n                              \"_name\": \"blob:authorized:project:any\",\n                              \"value\": 0\n                            }\n                          }\n                        },\n                        {\n                          \"terms\": {\n                            \"_name\": \"blob:authorized:project:repository:enabled_or_private\",\n                            \"repository_access_level\": [\n                              20,\n                              10\n                            ]\n                          }\n                        }\n                      ]\n                    }\n                  },\n                  {\n                    \"bool\": {\n                      \"_name\": \"blob:authorized:project:visibility:10:repository:access_level\",\n                      \"filter\": [\n                        {\n                          \"term\": {\n                            \"visibility_level\": {\n                              \"_name\": \"blob:authorized:project:visibility:10\",\n                              \"value\": 10\n                            }\n                          }\n                        },\n                        {\n                          \"terms\": {\n                            \"_name\": \"blob:authorized:project:visibility:10:repository:access_level:enabled_or_private\",\n                            \"repository_access_level\": [\n                              20,\n                              10\n                            ]\n                          }\n                        }\n                      ]\n                    }\n                  },\n                  {\n                    \"bool\": {\n                      \"_name\": \"blob:authorized:project:visibility:20:repository:access_level\",\n                      \"filter\": [\n                        {\n                          \"term\": {\n                            \"visibility_level\": {\n                              \"_name\": \"blob:authorized:project:visibility:20\",\n                              \"value\": 20\n                            }\n                          }\n                        },\n                        {\n                          \"terms\": {\n                            \"_name\": \"blob:authorized:project:visibility:20:repository:access_level:enabled_or_private\",\n                            \"repository_access_level\": [\n                              20,\n                              10\n                            ]\n                          }\n                        }\n                      ]\n                    }\n                  }\n                ]\n              }\n            }\n          }\n        },\n        {\n          \"term\": {\n            \"type\": {\n              \"_name\": \"doc:is_a:blob\",\n              \"value\": \"blob\"\n            }\n          }\n        }\n      ]\n    }\n  },\n  \"size\": 20,\n  \"from\": 0,\n  \"sort\": [\n    \"_score\"\n  ],\n  \"highlight\": {\n    \"pre_tags\": [\n      \"gitlabelasticsearch→\"\n    ],\n    \"post_tags\": [\n      \"←gitlabelasticsearch\"\n    ],\n    \"number_of_fragments\": 0,\n    \"fields\": {\n      \"blob.content\": {},\n      \"blob.file_name\": {}\n    }\n  },\n  \"aggs\": {\n    \"lang\": {\n      \"terms\": {\n        \"field\": \"blob.language\",\n        \"size\": 100\n      }\n    },\n    \"language\": {\n      \"composite\": {\n        \"sources\": [\n          {\n            \"language\": {\n              \"terms\": {\n                \"field\": \"blob.language\"\n              }\n            }\n          }\n        ]\n      }\n    }\n  }\n}\n```\n\n\u003c/details\u003e\n\n#### composite aggregation (current)\n\n\u003cimg src=\"/uploads/85c7baf68b776755801d8e0daa996872/image.png\" alt=\"drawing\" width=\"400\"/\u003e\n\n#### terms aggregation (proposed)\n\n\u003cimg src=\"/uploads/5f81993e7791777c52d7e8cfc55196f8/image.png\" alt=\"drawing\" width=\"400\"/\u003e\n\n### Possible fixes\n\nI recommend we switch to a [terms aggregation](https://www.elastic.co/guide/en/elasticsearch/reference/current/search-aggregations-bucket-terms-aggregation.html#search-aggregations-bucket-terms-aggregation) due to the performance improvements and the automatic sort by count descending. I've tested this out in staging and it works.","state":"closed","created_at":"2022-06-10T14:32:48.080Z","updated_at":"2022-08-21T12:07:03.027Z","closed_at":"2022-08-09T19:15:03.687Z","closed_by":{"id":5708766,"username":"terrichu","name":"Terri Chu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5708766/avatar.png","web_url":"https://gitlab.com/terrichu"},"labels":["Category:Global Search","Deliverable","devops::data_stores","feature::enhancement","group::global search","section::enablement","type::feature","workflow::verification"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":5708766,"username":"terrichu","name":"Terri Chu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5708766/avatar.png","web_url":"https://gitlab.com/terrichu"}],"author":{"id":5708766,"username":"terrichu","name":"Terri Chu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5708766/avatar.png","web_url":"https://gitlab.com/terrichu"},"type":"ISSUE","assignee":{"id":5708766,"username":"terrichu","name":"Terri Chu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5708766/avatar.png","web_url":"https://gitlab.com/terrichu"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/365052","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":1,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/365052","notes":"https://gitlab.com/api/v4/projects/278964/issues/365052/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/365052/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#365052","relative":"#365052","full":"gitlab-org/gitlab#365052"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6853,"epic":{"id":362357,"iid":6853,"title":"Add search filtering by programming language","url":"/groups/gitlab-org/-/epics/6853","group_id":9970,"human_readable_end_date":"Aug 22, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":109915567,"iid":365043,"project_id":278964,"title":"Remove epic_issue validation check in EE::Issues::ExportCsvService","description":"Maintenance task for https://gitlab.com/gitlab-org/gitlab/-/issues/339514\n\nThis check can be expensive and is no longer needed after running the [migration to clean invalid records](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/79557).\n\nSee https://gitlab.com/gitlab-org/gitlab/-/merge_requests/76686#note_963988189 for more context.","state":"closed","created_at":"2022-06-10T13:18:02.160Z","updated_at":"2022-06-29T13:37:03.649Z","closed_at":"2022-06-29T13:37:03.630Z","closed_by":{"id":3860200,"username":"egrieff","name":"Eugenia Grieff","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3860200/avatar.png","web_url":"https://gitlab.com/egrieff"},"labels":["Importer:CSV Issues","Stretch","backend","devops::plan","group::product planning","issues","section::dev","type::maintenance","workflow::verification"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":3860200,"username":"egrieff","name":"Eugenia Grieff","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3860200/avatar.png","web_url":"https://gitlab.com/egrieff"}],"author":{"id":3860200,"username":"egrieff","name":"Eugenia Grieff","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3860200/avatar.png","web_url":"https://gitlab.com/egrieff"},"type":"ISSUE","assignee":{"id":3860200,"username":"egrieff","name":"Eugenia Grieff","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3860200/avatar.png","web_url":"https://gitlab.com/egrieff"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/365043","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/365043","notes":"https://gitlab.com/api/v4/projects/278964/issues/365043/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/365043/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#365043","relative":"#365043","full":"gitlab-org/gitlab#365043"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":109914547,"iid":365041,"project_id":278964,"title":"Add the date that the MR was merged to the Chain of Custody report","description":"\u003c!-- This issue template can be used as a great starting point for feature requests. The section \"Release notes\" can be used as a summary of the feature and is also required if you want to have your release post blog MR auto generated using the release post item generator:  https://about.gitlab.com/handbook/marketing/blog/release-posts/#release-post-item-generator. The remaining sections are the backbone for every feature in GitLab.\n\nThe goal of this template is brevity for quick/smaller iterations. For a more thorough list of considerations for larger features or feature sets, you can leverage the detailed [feature proposal](https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Feature%20proposal%20-%20detailed.md). --\u003e\n\n### Release notes\n\n\u003c!-- What is the problem and solution you're proposing? This content sets the overall vision for the feature and serves as the release notes that will populate in various places, including the [release post blog](https://about.gitlab.com/releases/categories/releases/) and [Gitlab project releases](https://gitlab.com/gitlab-org/gitlab/-/releases). \" --\u003e\n\n### Problem to solve\n\n\u003c!-- What is the user problem you are trying to solve with this issue? --\u003e\n\nToday the [Chain of Custody report ](https://docs.gitlab.com/ee/user/compliance/compliance_report/#chain-of-custody-report) includes information about commits that have occurred and includes information such as the commit SHA, the project, the author, and some other info. It does not however include the date or time when the MR was merged.\n\nThis means that to find the time for an MR, a  user must take the chain of custody report and cross-reference it with a list of Git commits to identify the time a merge occurred. This is time consuming and error prone. This lack of date information also makes it quite difficult to easily filter the report down to a relevant date range. For large organizations, the custody report will be quite long and so not being able to easily filter makes audits much more difficult.\n\n### Proposal\n\n\u003c!-- Use this section to explain the feature and how it will work. It can be helpful to add technical details, design proposals, and links to related epics or issues. --\u003e\n\nAdd a new column to the chain of custody report that includes the time that the report was merged.\n\n### Intended users\n\n* [Cameron (Compliance Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#cameron-compliance-manager)\n\n\u003c!-- Who will use this feature? If known, include any of the following: types of users (e.g. Developer), personas, or specific company roles (e.g. Release Manager). It's okay to write \"Unknown\" and fill this field in later.\n\nPersonas are described at https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/\n\n* [Parker (Product Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#parker-product-manager)\n* [Delaney (Development Team Lead)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#delaney-development-team-lead)\n* [Presley (Product Designer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#presley-product-designer)\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Priyanka (Platform Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#priyanka-platform-engineer)\n* [Sidney (Systems Administrator)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sidney-systems-administrator)\n* [Sam (Security Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sam-security-analyst)\n* [Rachel (Release Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#rachel-release-manager)\n* [Alex (Security Operations Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#alex-security-operations-engineer)\n* [Simone (Software Engineer in Test)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#simone-software-engineer-in-test)\n* [Allison (Application Ops)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#allison-application-ops)\n* [Ingrid (Infrastructure Operator)](https://about.gitlab.com/handbook/product/personas/#ingrid-infrastructure-operator)\n* [Dakota (Application Development Director)](https://about.gitlab.com/handbook/product/personas/#dakota-application-development-director)\n* [Dana (Data Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#dana-data-analyst)\n* [Eddie (Content Editor)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#eddie-content-editor)\n--\u003e\n\n### Feature Usage Metrics\n\n\u003c!-- How are you going to track usage of this feature? Think about user behavior and their interaction with the product. What indicates someone is getting value from it?\n\nCreate tracking issue using the Snowplow event tracking template. See https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Snowplow%20event%20tracking.md\n\n--\u003e\n\n\u003c!-- Label reminders\nUse the following resources to find the appropriate labels:\n- https://gitlab.com/gitlab-org/gitlab/-/labels\n- https://about.gitlab.com/handbook/product/categories/features/\n--\u003e\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n\n## Implementation plan\n\n1. [x] Update the `ee/app/services/merge_commits/export_csv_service.rb` to include the `Date merged` in the CSV data.\n1. [x] Update the export service and related specs.\n1. [x] Update documentation if required.","state":"closed","created_at":"2022-06-10T12:56:00.421Z","updated_at":"2022-07-14T05:51:45.675Z","closed_at":"2022-07-14T05:51:45.660Z","closed_by":{"id":11881043,"username":"wandering_person","name":"Michael Becker","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11881043/avatar.png","web_url":"https://gitlab.com/wandering_person"},"labels":["Category:Compliance Management","GitLab Ultimate","backend","devops::manage","direction","documentation","group::compliance","section::dev","type::feature"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":11881043,"username":"wandering_person","name":"Michael Becker","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11881043/avatar.png","web_url":"https://gitlab.com/wandering_person"}],"author":{"id":4376883,"username":"stkerr","name":"Sam Kerr","state":"active","avatar_url":"https://secure.gravatar.com/avatar/591c8b969464f7b4fb97b6f2f654f11a?s=80\u0026d=identicon","web_url":"https://gitlab.com/stkerr"},"type":"ISSUE","assignee":{"id":11881043,"username":"wandering_person","name":"Michael Becker","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11881043/avatar.png","web_url":"https://gitlab.com/wandering_person"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/365041","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":3},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"3 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/365041","notes":"https://gitlab.com/api/v4/projects/278964/issues/365041/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/365041/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#365041","relative":"#365041","full":"gitlab-org/gitlab#365041"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":109914301,"iid":365040,"project_id":278964,"title":"Develop strategy for feature flags in browser-based DAST","description":"\n### Proposal\n\nFeature flags that are made available in DAST should be automatically propagated to Browserker.\n\nIt is _not_ proposed that feature flags created on the GitLab.com project are used for this purpose. These feature flags are not made available to the pipeline as CI variables.\n\n### Suggested implementation strategy\n\n#### Part 1 - DAST/ZAP\n\n- [x] Read the OS environment for any variables that begin with `FF_DAST`.\n- [x] For each of the above variables, add them to the Browserker configuration file. For example, with `FF_DAST_OPTIMIZE_REGEXPS: \"true\"` and `FF_USE_BROWSER_FOR_ACTIVE_CHECKS: \"false\"`, the configuration file would be written as follows:\n\n```go\n[FeatureFlags]\nOptimizeRegexps = true\nUseBrowserForActiveChecks = false\n```\n\n#### Part 2 - Browserker\n\nFor the below steps, please use `Config.ConsoleLogLevels` as an example of a similar problem/how this could work.\n\n- [x] Add field `Config.FeatureFlags` of type `map[browserk.FeatureFlag]bool`\n- [x] In `config.NewConfig`, initialize `FeatureFlags` as an empty map.\n- [x] Add field `tomlConfig.FeatureFlags` of type `map[string]interface{}`\n- [x] In `toml.ToConfig`, parse the feature flags, converting `map[string]interface{}` to `map[browserk.FeatureFlag]bool`\n  - [x] Make sure errors are handled appropriately\n- [x] In `config.Merge`, create a new function `assignFeatureFlags` where the feature flags should be overwritten. This should be similar to `assignLogLevels`.\n- [x] Please add unit tests","state":"closed","created_at":"2022-06-10T12:51:33.985Z","updated_at":"2022-07-04T13:41:25.605Z","closed_at":"2022-07-04T13:41:25.587Z","closed_by":{"id":4312863,"username":"cam_swords","name":"Cameron Swords","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3b729cf96bcced6384ebb94f0362bd4b?s=80\u0026d=identicon","web_url":"https://gitlab.com/cam_swords"},"labels":["Category:DAST","GitLab Ultimate","dast::browserker","devops::secure","group::dynamic analysis","section::sec","type::feature"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":4312863,"username":"cam_swords","name":"Cameron Swords","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3b729cf96bcced6384ebb94f0362bd4b?s=80\u0026d=identicon","web_url":"https://gitlab.com/cam_swords"}],"author":{"id":4312863,"username":"cam_swords","name":"Cameron Swords","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3b729cf96bcced6384ebb94f0362bd4b?s=80\u0026d=identicon","web_url":"https://gitlab.com/cam_swords"},"type":"ISSUE","assignee":{"id":4312863,"username":"cam_swords","name":"Cameron Swords","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3b729cf96bcced6384ebb94f0362bd4b?s=80\u0026d=identicon","web_url":"https://gitlab.com/cam_swords"},"user_notes_count":15,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/365040","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":9,"completed_count":9},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"9 of 9 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/365040","notes":"https://gitlab.com/api/v4/projects/278964/issues/365040/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/365040/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#365040","relative":"#365040","full":"gitlab-org/gitlab#365040"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5779,"epic":{"id":251192,"iid":5779,"title":"Browser-based DAST - Passive Attack Parity","url":"/groups/gitlab-org/-/epics/5779","group_id":9970,"human_readable_end_date":"Aug 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":109912632,"iid":365038,"project_id":278964,"title":"Backend - Spike on backend tasks needed to support issues on group level","description":"Investigate what are the tasks from ~backend perspective needed to be able to support work items at group level\n\n### High level list of tasks\n\n#### Phase 1 - Setup\n1. [ ] add `namespace_id` column to `issues` table\n   - Can be worked on as soon as %\"15.2\" \n1. [ ] Ensure `issues#namespace_id` is populated when issue is created, updated, moved, etc \n   - Can be worked on as soon as %\"15.2\" after namespace_id column is added    \n1. [ ] backfilling namespace_id column with `project_namespace_id`\n   - Can be worked on as soon as %\"15.2\" \n1. [ ] Finalize backfilling `namespace_id` column with `project_namespace_id`\n   - Can be worked on as soon as %\"15.3\" \n1. [ ] Add not null constraint on `issues#namespace_id` after backfilling is complete\n   - Can be worked on in %\"15.3\" after finalize backfilling `namespace_id` column is done.\n\n#### Phase 2 - Prerequisite work\n1. [ ] Investigate permission model as well as any performance concerns related to that with issues being available at various hierarchy levels\n   - PoC on permission checks may be require or maybe we can make use of FFs or both.\n1. [ ] Investigate what other models need to support namespaces before we can have work item at namespace level\n   - notes\n   - ???\n1. [ ] Adjust CRUD service(s) to handle `project_id` and `namespace_id `\n   - Can/should be broken down into smaller, more specific tasks/issues.\n   - Can also partially be started in %15.2 but after 1\n1. [ ] Adjust APIs(REST and GraphQL) to handle `project_id` and `namespace_id `\n   - Ideally should be broken into smaller more specific endpoints.\n   - Can also partially be started in %15.2 after 1\n1. [ ] Investigate how would finders at subgroup or project level fetch work items from higher level groups. \n   - [ ] what about confidential issues from higher level groups ?\n\n\n#### Phase 3 - MVC\n1. [ ] Allow a restricted list of specific work item types at group level, e.g. epics only, so that work items reach parity with existing Plan items.\n\n#### Phase 4 - Work items at group level\n1. [ ] Conceptualise which work items flow up and down the hierarchy and how does that happen under what situations, are there any configurations needed, etc\n1. [ ] Investigate any index changes needed on `issues` table given the usage of `namespace_id` vs `project_id`\n1. [ ] Investigate bulk update of work items from group level\n   - This would require UX involvement as well. Having different work item types from different projects, groups etc in the bulk update list can make it tricky to have bulk update.\n1. [ ] `issue_search_data` would also need `namespace_id`. This table is also currently partitioned by `project_id` which complicates things a bit.","state":"closed","created_at":"2022-06-10T12:31:05.822Z","updated_at":"2022-09-23T01:19:49.066Z","closed_at":"2022-09-20T08:45:00.906Z","closed_by":{"id":3483274,"username":"acroitor","name":"Alexandru Croitor","state":"active","avatar_url":"https://secure.gravatar.com/avatar/461378ef52c26eec55e6c15ec09bb9ed?s=80\u0026d=identicon","web_url":"https://gitlab.com/acroitor"},"labels":["Stretch","auto updated","backend","devops::plan","group::project management","section::dev","spike","type::feature","workflow::in dev"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":3483274,"username":"acroitor","name":"Alexandru Croitor","state":"active","avatar_url":"https://secure.gravatar.com/avatar/461378ef52c26eec55e6c15ec09bb9ed?s=80\u0026d=identicon","web_url":"https://gitlab.com/acroitor"}],"author":{"id":3483274,"username":"acroitor","name":"Alexandru Croitor","state":"active","avatar_url":"https://secure.gravatar.com/avatar/461378ef52c26eec55e6c15ec09bb9ed?s=80\u0026d=identicon","web_url":"https://gitlab.com/acroitor"},"type":"ISSUE","assignee":{"id":3483274,"username":"acroitor","name":"Alexandru Croitor","state":"active","avatar_url":"https://secure.gravatar.com/avatar/461378ef52c26eec55e6c15ec09bb9ed?s=80\u0026d=identicon","web_url":"https://gitlab.com/acroitor"},"user_notes_count":45,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/365038","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":16,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 16 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/365038","notes":"https://gitlab.com/api/v4/projects/278964/issues/365038/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/365038/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#365038","relative":"#365038","full":"gitlab-org/gitlab#365038"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8308,"epic":{"id":555233,"iid":8308,"title":"Add support for work items natively within Groups","url":"/groups/gitlab-org/-/epics/8308","group_id":9970,"human_readable_end_date":"Dec 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":109910766,"iid":365029,"project_id":278964,"title":"Finalise cleanup cleanup members records with `member_namespace_id` null migration","description":"To ensure https://gitlab.com/gitlab-org/gitlab/-/issues/365028+ completed successfully on self-managed instances we need to also finalize this migration. see https://docs.gitlab.com/ee/development/database/batched_background_migrations.html#example point 4.","state":"closed","created_at":"2022-06-10T11:58:37.490Z","updated_at":"2022-11-21T12:02:39.406Z","closed_at":"2022-10-25T18:54:25.419Z","closed_by":{"id":5966677,"username":"serenafang","name":"Serena Fang","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5966677/avatar.png","web_url":"https://gitlab.com/serenafang"},"labels":["Deliverable","auto updated","backend","devops::manage","group::organization","milestone::p1","missed-deliverable","missed:15.4","missed:15.5","namespace","quad-planning::complete-no-action","section::dev","type::maintenance","workflow::in dev"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":5966677,"username":"serenafang","name":"Serena Fang","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5966677/avatar.png","web_url":"https://gitlab.com/serenafang"}],"author":{"id":3483274,"username":"acroitor","name":"Alexandru Croitor","state":"active","avatar_url":"https://secure.gravatar.com/avatar/461378ef52c26eec55e6c15ec09bb9ed?s=80\u0026d=identicon","web_url":"https://gitlab.com/acroitor"},"type":"ISSUE","assignee":{"id":5966677,"username":"serenafang","name":"Serena Fang","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5966677/avatar.png","web_url":"https://gitlab.com/serenafang"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/365029","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/365029","notes":"https://gitlab.com/api/v4/projects/278964/issues/365029/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/365029/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#365029","relative":"#365029","full":"gitlab-org/gitlab#365029"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7054,"epic":{"id":379658,"iid":7054,"title":"Consolidate Group and Project member management","url":"/groups/gitlab-org/-/epics/7054","group_id":9970,"human_readable_end_date":"Nov 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":109910752,"iid":365028,"project_id":278964,"title":"Cleanup members records with `member_namespace_id` null","description":"When both namespace and project members have backfilled `member_namespace_id`, there will some `members` records with `member_namespace_id` not set - these are invalid `members` records which were skipped during backfilling because their source didn't exist, due to polymorphic `source` association.\n\nWe can re-verify all of `members` records with with NULL `member_namespace_id` have invalid source and delete these. see https://gitlab.com/gitlab-org/gitlab/-/merge_requests/88401+ as an example\n\nIMPORTANT This issue depends on backfill migration finishing successfully, i.e. we need to run a finalize migration first https://gitlab.com/gitlab-org/gitlab/-/issues/365027+","state":"closed","created_at":"2022-06-10T11:57:58.320Z","updated_at":"2022-10-21T12:02:19.322Z","closed_at":"2022-09-30T01:28:53.251Z","closed_by":{"id":3717078,"username":"cablett","name":"charlie ablett","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3717078/avatar.png","web_url":"https://gitlab.com/cablett"},"labels":["Deliverable","auto updated","backend","devops::manage","group::organization","missed-deliverable","missed:15.2","missed:15.3","missed:15.4","namespace","quad-planning::complete-no-action","section::dev","type::maintenance","workflow::in dev"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":3717078,"username":"cablett","name":"charlie ablett","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3717078/avatar.png","web_url":"https://gitlab.com/cablett"}],"author":{"id":3483274,"username":"acroitor","name":"Alexandru Croitor","state":"active","avatar_url":"https://secure.gravatar.com/avatar/461378ef52c26eec55e6c15ec09bb9ed?s=80\u0026d=identicon","web_url":"https://gitlab.com/acroitor"},"type":"ISSUE","assignee":{"id":3717078,"username":"cablett","name":"charlie ablett","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3717078/avatar.png","web_url":"https://gitlab.com/cablett"},"user_notes_count":25,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/365028","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/365028","notes":"https://gitlab.com/api/v4/projects/278964/issues/365028/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/365028/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#365028","relative":"#365028","full":"gitlab-org/gitlab#365028"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7054,"epic":{"id":379658,"iid":7054,"title":"Consolidate Group and Project member management","url":"/groups/gitlab-org/-/epics/7054","group_id":9970,"human_readable_end_date":"Nov 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":109910688,"iid":365027,"project_id":278964,"title":"Finalise backfilling project namespace members migration","description":"To ensure https://gitlab.com/gitlab-org/gitlab/-/issues/344812+(implemented in https://gitlab.com/gitlab-org/gitlab/-/merge_requests/79204) completed successfully on self-managed instances we need to also finalize this migration that wil lcheck that migration completed successfully. see https://docs.gitlab.com/ee/development/database/batched_background_migrations.html#example point 4.","state":"closed","created_at":"2022-06-10T11:57:31.712Z","updated_at":"2022-07-21T12:02:08.874Z","closed_at":"2022-07-04T07:27:44.336Z","closed_by":{"id":3717078,"username":"cablett","name":"charlie ablett","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3717078/avatar.png","web_url":"https://gitlab.com/cablett"},"labels":["Deliverable","auto updated","backend","devops::manage","group::organization","namespace","quad-planning::complete-no-action","section::dev","type::maintenance","workflow::in dev"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":3717078,"username":"cablett","name":"charlie ablett","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3717078/avatar.png","web_url":"https://gitlab.com/cablett"}],"author":{"id":3483274,"username":"acroitor","name":"Alexandru Croitor","state":"active","avatar_url":"https://secure.gravatar.com/avatar/461378ef52c26eec55e6c15ec09bb9ed?s=80\u0026d=identicon","web_url":"https://gitlab.com/acroitor"},"type":"ISSUE","assignee":{"id":3717078,"username":"cablett","name":"charlie ablett","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3717078/avatar.png","web_url":"https://gitlab.com/cablett"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/365027","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/365027","notes":"https://gitlab.com/api/v4/projects/278964/issues/365027/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/365027/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#365027","relative":"#365027","full":"gitlab-org/gitlab#365027"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7054,"epic":{"id":379658,"iid":7054,"title":"Consolidate Group and Project member management","url":"/groups/gitlab-org/-/epics/7054","group_id":9970,"human_readable_end_date":"Nov 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null}]