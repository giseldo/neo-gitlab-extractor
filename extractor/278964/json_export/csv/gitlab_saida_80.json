[{"id":80483502,"iid":323768,"project_id":278964,"title":"Factory pattern for migration job instantiation","description":"The following discussion from !54628 should be addressed:\n\n- [ ] @mayra-cabrera started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/54628#note_523530535):  (+1 comment)\n\n    \u003e Do we plan to have any other strategy? :thinking: \n    \u003e \n    \u003e I also wonder if we should just save `PrimaryKeyBatchingStrategy` instead of `Gitlab::Database::BackgroudnMigration::PrimaryKeyBatchingStrategy`. Just in case we ever decide to move `PrimaryKeyBatchingStrategy` to another module","state":"closed","created_at":"2021-03-08T15:45:16.157Z","updated_at":"2022-05-30T15:33:39.166Z","closed_at":"2021-03-17T19:36:14.486Z","closed_by":{"id":5297955,"username":"pbair","name":"Patrick Bair","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5297955/avatar.png","web_url":"https://gitlab.com/pbair"},"labels":["Category:Database","Engineering Allocation","devops::data_stores","group::database","section::enablement","workflow::production"],"milestone":{"id":1233761,"iid":57,"group_id":9970,"title":"13.10","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.646Z","updated_at":"2022-04-21T07:22:00.171Z","due_date":"2021-03-17","start_date":"2021-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/57"},"assignees":[{"id":5297955,"username":"pbair","name":"Patrick Bair","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5297955/avatar.png","web_url":"https://gitlab.com/pbair"}],"author":{"id":1562869,"username":"abrandl","name":"Andreas Brandl","state":"active","avatar_url":"https://secure.gravatar.com/avatar/487c4c74f7e1714b5a270e00d4735e84?s=80\u0026d=identicon","web_url":"https://gitlab.com/abrandl"},"type":"ISSUE","assignee":{"id":5297955,"username":"pbair","name":"Patrick Bair","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5297955/avatar.png","web_url":"https://gitlab.com/pbair"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/323768","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/323768","notes":"https://gitlab.com/api/v4/projects/278964/issues/323768/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/323768/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#323768","relative":"#323768","full":"gitlab-org/gitlab#323768"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5654,"epic":{"id":231455,"iid":5654,"title":"Improve background migrations for primary key conversions","url":"/groups/gitlab-org/-/epics/5654","group_id":9970,"human_readable_end_date":"Jun 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":80475027,"iid":323750,"project_id":278964,"title":"Geo project/wiki sync shows no errors when Gitaly is down","description":"### Summary\n\nDuring a Premium customer's Geo failover scenario ([ZD](https://gitlab.zendesk.com/agent/tickets/191991) - internal only), we noticed that after re-adding the initial node as a secondary, projects and wikis did not get replicated (and were 100% queued with _no attempts_). Manually trying to sync them showed a gitaly error, and once we fixed that, all projects got replicated, but there was no error and one could wait indefinitely for them to sync.\n\n### Steps to reproduce\n\nStop gitaly on the Geo secondary, create a new project on the primary - notice the project sync never gets scheduled and UI says \"queued\".\n\n### What is the current *bug* behavior?\n\nRepositories don't get any sync attempt. UI also confusingly says \"Queued\" - when that's *not* the case (and can lead to investigating queuing problems - it did for us initially)\n\n### What is the expected *correct* behavior?\n\nRepositories show as failed maybe, or _some_ kind of error in the geo logs.\n\n### Possible fixes\n\nI believe this happens because in logcursor, we only [enqueue the job if the shard is healthy](https://gitlab.com/gitlab-org/gitlab/blob/925686b2c5281711786a6619914b7054e43b81e4/ee/lib/gitlab/geo/log_cursor/events/repository_created_event.rb#L16-18).","state":"closed","created_at":"2021-03-08T13:46:17.146Z","updated_at":"2021-04-13T03:12:34.730Z","closed_at":"2021-04-13T03:12:34.663Z","closed_by":{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"},"labels":["Enterprise Edition","GitLab Premium","customer","devops::systems","group::geo","section::enablement","severity::3","type::bug","workflow::in review"],"milestone":{"id":1406669,"iid":59,"group_id":9970,"title":"13.11","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-08-13T14:23:09.688Z","updated_at":"2022-04-21T07:22:08.835Z","due_date":"2021-04-17","start_date":"2021-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/59"},"assignees":[{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"}],"author":{"id":4375373,"username":"cat","name":"Catalin Irimie","state":"active","avatar_url":"https://secure.gravatar.com/avatar/fd4f68fe3a123d56ac4413dc960b7559?s=80\u0026d=identicon","web_url":"https://gitlab.com/cat"},"type":"ISSUE","assignee":{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/323750","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":0,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/323750","notes":"https://gitlab.com/api/v4/projects/278964/issues/323750/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/323750/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#323750","relative":"#323750","full":"gitlab-org/gitlab#323750"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":80471973,"iid":323743,"project_id":278964,"title":"[Feature flag] Rollout of `vue_issues_list`","description":"## Summary\n\nThis issue is to rollout [the group/project issues list Vue refactor](https://gitlab.com/gitlab-org/gitlab/-/issues/322755) on production, that is currently behind the `vue_issues_list` feature flag.\n\n## Owners\n\n- Team: ~\"group::project management\" \n- Most appropriate slack channel to reach out to: `#s_plan`\n- Best individual to reach out to: `@cngo`\n- PM: `@gweaver`\n\n## Stakeholders\n\n\u003c!--\nAre there any other stages or teams involved that need to be kept in the loop?\n\n- Name of a PM\n- The Support Team\n- The Delivery Team\n--\u003e\n\n## Expectations\n\n### What are we expecting to happen?\n\nThe group/project issues list page will be rendered with Vue instead of Haml\n\n### When is the feature viable?\n\n\u003c!-- What are the settings we need to configure in order to have this feature viable? --\u003e\n\n\u003c!-- \nExample below:\n \n1. Enable service ping collection\n   `ApplicationSetting.first.update(usage_ping_enabled: true)`\n--\u003e\n\n### What might happen if this goes wrong?\n\nThe group/project issues list page might not render or work as expected, preventing users from using the page as expected. If there is a serious error with no workaround, the feature flag should be turned off.\n\n\u003c!-- Should the feature flag be turned off? Any MRs that need to be rolled back? Communication that needs to happen? What are some things you can think of that could go wrong - data loss or broken pages? --\u003e\n\n### What can we monitor to detect problems with this?\n\nhttps://dashboards.gitlab.net/d/stage-groups-project_management/stage-groups-project-management-group-dashboard?orgId=1\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant?\n_Consider mentioning checks for 5xx errors or other anomalies like an increase in redirects \n(302 HTTP response status)_\n--\u003e\n\n### What can we check for monitoring production after rollouts?\n\n\u003c!-- _Consider adding links to check for Sentry errors, Production logs for 5xx, 302s, etc._ --\u003e\n\n## Rollout Steps\n\n### Rollout on non-production environments\n\n- Ensure that the feature MRs have been deployed to non-production environments.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- [x] Enable the feature globally on non-production environments.\n    - [x] `/chatops run feature set vue_issues_list true --dev`\n    - [x] `/chatops run feature set vue_issues_list true --staging`\n- [x] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n\n### Specific rollout on production\n\n- Ensure that the feature MRs have been deployed to both production and canary.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- If you're using [group-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [x] `/chatops run feature set --group=gitlab-org vue_issues_list true`\n    - [x] `/chatops run feature set --group=gitlab-com vue_issues_list true`\n- [x] Verify that the feature works on the specific entries. Posting the QA result in this issue is preferable.\n\n### Preparation before global rollout\n\n- [x] Check if the feature flag change needs to be accompanied with a\n  [change management issue](https://about.gitlab.com/handbook/engineering/infrastructure/change-management/#feature-flags-and-the-change-management-process).\n  Cross link the issue here if it does.\n- [x] Ensure that you or a representative in development can be available for at least 2 hours after feature flag updates in production.\n  If a different developer will be covering, or an exception is needed, please inform the oncall SRE by using the `@sre-oncall` Slack alias.\n- [x] Ensure that documentation has been updated ([More info](https://docs.gitlab.com/ee/development/documentation/feature_flags.html#features-that-became-enabled-by-default)).\n- [ ] Announce on [the feature issue](https://gitlab.com/gitlab-org/gitlab/-/issues/322755) an estimated time this will be enabled on GitLab.com.\n- [x] Notify `#support_gitlab-com` and your team channel ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#communicate-the-change)).\n\n### Global rollout on production\n\nFor visibility, all `/chatops` commands that target production should be executed in the `#production` slack channel and cross-posted (with the command results) to the responsible team's slack channel (`#g_TEAM_NAME`).\n\n- [x] [Incrementally roll out](https://docs.gitlab.com/ee/development/feature_flags/controls.html#process) the feature.\n  - If the feature flag in code has [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform **actor-based** rollout.\n    - [x] `/chatops run feature set vue_issues_list \u003crollout-percentage\u003e --actors`\n  - Enable the feature globally on production environment.\n    - [x] `/chatops run feature set vue_issues_list true`\n- [ ] Announce on [the feature issue](https://gitlab.com/gitlab-org/gitlab/-/issues/322755) that the feature has been globally enabled.\n- [x] Wait for [at least one day for the verification term](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release).\n\n### (Optional) Release the feature with the feature flag\n\nIf you're still unsure whether the feature is [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release)\nbut want to release it in the current milestone, you can change the default state of the feature flag to be enabled.\nTo do so, follow these steps:\n\n- [x] Create a merge request with the following changes. Ask for review and merge it.\n    - [x] Set the `default_enabled` attribute in [the feature flag definition](https://docs.gitlab.com/ee/development/feature_flags/#feature-flag-definition-and-validation) to `true`.\n    - [x] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [x] Ensure that the default-enabling MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-default-enabling-mr\u003e`\n- [x] Close [the feature issue](https://gitlab.com/gitlab-org/gitlab/-/issues/322755) to indicate the feature will be released in the current milestone.\n- [ ] Set the next milestone to this rollout issue for scheduling [the flag removal](#release-the-feature).\n- [x] (Optional) You can [create a separate issue](https://gitlab.com/gitlab-org/gitlab/-/issues/new?issuable_template=Feature%20Flag%20Cleanup) for scheduling the steps below to [Release the feature](#release-the-feature).\n    - [x] Set the title to \"[Feature flag] Cleanup `vue_issues_list`\".\n    - [x] Execute the `/copy_metadata \u003cthis-rollout-issue-link\u003e` quick action to copy the labels from this rollout issue.\n    - [x] Link this rollout issue as a related issue.\n    - [x] Close this rollout issue.\n\n**WARNING:** This approach has the downside that it makes it difficult for us to\n[clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) the flag.\nFor example, on-premise users could disable the feature on their GitLab instance. But when you\nremove the flag at some point, they suddenly see the feature as enabled and they can't roll it back\nto the previous behavior. To avoid this potential breaking change, use this approach only for urgent\nmatters.\n\n### Release the feature\n\nAfter the feature has been [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release),\nthe [clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up)\nshould be done as soon as possible to permanently enable the feature and reduce complexity in the\ncodebase.\n\nYou can either [create a follow-up issue for Feature Flag Cleanup](https://gitlab.com/gitlab-org/gitlab/-/issues/new?issuable_template=Feature%20Flag%20Cleanup) or use the checklist below in this same issue.\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [ ] Create a merge request to remove `vue_issues_list` feature flag. Ask for review and merge it.\n    - [ ] Remove all references to the feature flag from the codebase.\n    - [ ] Remove the YAML definitions for the feature from the repository.\n    - [ ] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the cleanup MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-cleanup-mr\u003e`\n- [ ] Close [the feature issue](https://gitlab.com/gitlab-org/gitlab/-/issues/322755) to indicate the feature will be released in the current milestone.\n- [ ] Clean up the feature flag from all environments by running these chatops command in `#production` channel:\n    - [ ] `/chatops run feature delete vue_issues_list --dev`\n    - [ ] `/chatops run feature delete vue_issues_list --staging`\n    - [ ] `/chatops run feature delete vue_issues_list`\n- [ ] Close this rollout issue.\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set vue_issues_list false\n```","state":"closed","created_at":"2021-03-08T13:02:53.363Z","updated_at":"2022-05-05T17:20:56.718Z","closed_at":"2022-04-20T13:25:11.959Z","closed_by":{"id":4545397,"username":"cngo","name":"Coung Ngo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4545397/avatar.png","web_url":"https://gitlab.com/cngo"},"labels":["Deliverable","customer","devops::plan","feature flag","feature::addition","frontend","group::project management","missed-deliverable","missed:14.7","missed:14.8","section::dev","type::feature","workflow::production"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":4545397,"username":"cngo","name":"Coung Ngo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4545397/avatar.png","web_url":"https://gitlab.com/cngo"}],"author":{"id":4545397,"username":"cngo","name":"Coung Ngo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4545397/avatar.png","web_url":"https://gitlab.com/cngo"},"type":"ISSUE","assignee":{"id":4545397,"username":"cngo","name":"Coung Ngo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4545397/avatar.png","web_url":"https://gitlab.com/cngo"},"user_notes_count":41,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/323743","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":44,"completed_count":28},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"28 of 44 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/323743","notes":"https://gitlab.com/api/v4/projects/278964/issues/323743/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/323743/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#323743","relative":"#323743","full":"gitlab-org/gitlab#323743"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":{"id":48486,"iid":61,"sequence":14,"group_id":9970,"title":"Iteration 14","description":null,"state":3,"created_at":"2022-02-15T00:05:01.813Z","updated_at":"2022-05-11T00:05:05.423Z","start_date":"2022-04-27","due_date":"2022-05-10","web_url":"https://gitlab.com/groups/gitlab-org/-/iterations/48486"},"health_status":null},{"id":80471065,"iid":323740,"project_id":278964,"title":"Button to backfill/refresh DORA daily metrics in the past","description":"## Problem\n\nAs we discussed in https://gitlab.com/gitlab-org/gitlab/-/issues/291746 and https://gitlab.com/gitlab-org/gitlab/-/issues/322404, we started persisting pre-aggregated data into our database for performance improvement. This works nice at scale, but given the aggregation-and-store life cycle happens on daily basis, some users could see blank data in old days. For example, if a project was [imported](https://docs.gitlab.com/ee/user/project/settings/import_export.html) from the other project, it could miss daily metrics data in the past even if some deployments data exist. In this case, the daily metrics will re-appear after the import date, but users might want to see the metrics graph in the last 90 days, right now.\n\n## Proposal\n\nWe introduce a new GraphQL API endpoint to backfill the daily metrics in the past 90 days.\n\nHere is a script to execute it via rails console.\n\n```ruby\nproject = Project.find_by_full_path('\u003cgroup\u003e/\u003cproject\u003e')\nproject.environments.production.each do |environment|\n  (90.days.ago.to_date..Time.now.to_date).each do |date|\n    Dora::DailyMetrics.refresh!(environment, date)\n  end\nend\n```\n\nWe can provide a button [in DORA metrics UI](https://docs.gitlab.com/ee/user/analytics/ci_cd_analytics.html#deployment-frequency-charts) to let users perform on-demand refresh/backfill for the missing daily metrics in the past, by just one-click.","state":"closed","created_at":"2021-03-08T12:45:57.410Z","updated_at":"2021-11-11T10:28:52.804Z","closed_at":"2021-11-11T10:28:52.792Z","closed_by":{"id":758045,"username":"shinya.maeda","name":"Shinya Maeda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/758045/avatar.png","web_url":"https://gitlab.com/shinya.maeda"},"labels":["Category:Continuous Delivery","[deprecated] Accepting merge requests","backend-weight::1","devops::release","frontend-weight::1","group::release","section::ops","type::feature"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":758045,"username":"shinya.maeda","name":"Shinya Maeda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/758045/avatar.png","web_url":"https://gitlab.com/shinya.maeda"},"type":"ISSUE","assignee":null,"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/323740","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/323740","notes":"https://gitlab.com/api/v4/projects/278964/issues/323740/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/323740/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#323740","relative":"#323740","full":"gitlab-org/gitlab#323740"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":80468052,"iid":323739,"project_id":278964,"title":"Improvement: Change the Custom Compliance Frameworks GraphQL response to be consistent","description":"## Summary\n\nThe existing implementation of the Custom Compliance Frameworks GraphQL listing endpoint seems to sort by last updated in ascending order. This results in the most recently changed framework appearing at the bottom of the list rather than retaining its initial position:\n\n![Screen_Recording_2021-03-05_at_14.59.38](/uploads/e590ad57e5ab85d77e7f057d9b10a91e/Screen_Recording_2021-03-05_at_14.59.38.mov)\n\n## Improvements\n\nIt would be better if the position of the framework was maintained even after it had been edited. This could be done by alphabetical order or by the last created date. The main thing is that when a user edits a framework, it doesn't jump around (especially once we start implementing pagination!).\n\n## Risks\n\nNone, this is purely an ordering change.\n\n## Involved components\n\n* [`ee/app/graphql/resolvers/compliance_management/framework_resolver.rb`](ee/app/graphql/resolvers/compliance_management/framework_resolver.rb)\n* [`ee/app/graphql/ee/types/project_type.rb`](ee/app/graphql/ee/types/project_type.rb#L168)\n\n## Optional: Intended side effects\n\nThe order of the compliance frameworks is consistent between updates\n\n\n## Optional: Missing test coverage\n\nWill need a test to confirm this works as expected","state":"closed","created_at":"2021-03-08T12:07:02.959Z","updated_at":"2021-10-28T13:59:10.717Z","closed_at":"2021-03-09T10:17:21.440Z","closed_by":{"id":5209897,"username":"rob.hunt","name":"Robert Hunt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5209897/avatar.png","web_url":"https://gitlab.com/rob.hunt"},"labels":["Category:Compliance Management","Enterprise Edition","GitLab Premium","Stuff that should Just Work","backend","devops::manage","group::compliance","section::dev","type::maintenance"],"milestone":{"id":1233761,"iid":57,"group_id":9970,"title":"13.10","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.646Z","updated_at":"2022-04-21T07:22:00.171Z","due_date":"2021-03-17","start_date":"2021-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/57"},"assignees":[{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"}],"author":{"id":5209897,"username":"rob.hunt","name":"Robert Hunt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5209897/avatar.png","web_url":"https://gitlab.com/rob.hunt"},"type":"ISSUE","assignee":{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/323739","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/323739","notes":"https://gitlab.com/api/v4/projects/278964/issues/323739/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/323739/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#323739","relative":"#323739","full":"gitlab-org/gitlab#323739"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4082,"epic":{"id":88440,"iid":4082,"title":"Improve the concept of compliance frameworks","url":"/groups/gitlab-org/-/epics/4082","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":80461548,"iid":323735,"project_id":278964,"title":"Update Product Intelligence review guidelines for Snowplow/frontend review","description":"We have now the guide for Product Intelligence review https://docs.gitlab.com/ee/development/usage_ping/product_intelligence_review.html\n\nWith this issue we want to add and improve the guide for Snowplow/frontend reviews.\n\n### Frontend review guidelines\n\n* ...\n* ...\n\nProduct Intelligence [Dangerfile](https://gitlab.com/gitlab-org/gitlab/-/blob/master/danger/product_intelligence/Dangerfile#L65)\n\ncc @gitlab-org/growth/product-intelligence","state":"closed","created_at":"2021-03-08T11:00:05.257Z","updated_at":"2021-04-14T01:01:38.146Z","closed_at":"2021-04-14T01:01:38.076Z","closed_by":{"id":5412956,"username":"agarciatesares","name":"Axel García","state":"active","avatar_url":"https://secure.gravatar.com/avatar/11d24c6151c640aa435f8de30a01f5b8?s=80\u0026d=identicon","web_url":"https://gitlab.com/agarciatesares"},"labels":["Technical Writing","devops::growth","docs::improvement","documentation","group::product intelligence","milestone::p1","section::growth"],"milestone":{"id":1406669,"iid":59,"group_id":9970,"title":"13.11","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-08-13T14:23:09.688Z","updated_at":"2022-04-21T07:22:08.835Z","due_date":"2021-04-17","start_date":"2021-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/59"},"assignees":[{"id":5412956,"username":"agarciatesares","name":"Axel García","state":"active","avatar_url":"https://secure.gravatar.com/avatar/11d24c6151c640aa435f8de30a01f5b8?s=80\u0026d=identicon","web_url":"https://gitlab.com/agarciatesares"}],"author":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"type":"ISSUE","assignee":{"id":5412956,"username":"agarciatesares","name":"Axel García","state":"active","avatar_url":"https://secure.gravatar.com/avatar/11d24c6151c640aa435f8de30a01f5b8?s=80\u0026d=identicon","web_url":"https://gitlab.com/agarciatesares"},"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/323735","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/323735","notes":"https://gitlab.com/api/v4/projects/278964/issues/323735/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/323735/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#323735","relative":"#323735","full":"gitlab-org/gitlab#323735"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5218,"epic":{"id":183240,"iid":5218,"title":"Standardize Snowplow Schema","url":"/groups/gitlab-org/-/epics/5218","group_id":9970,"human_readable_end_date":"Apr 30, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":80456147,"iid":323730,"project_id":278964,"title":"[Feature flag] Rollout of `new_graphql_keyset_pagination`","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n## What\n\nRemove the `:new_graphql_keyset_pagination` feature flag.\n\nIntroduced in !56751.\n\n## Owners\n\n- Team: ~\"group::optimize\" \n- Most appropriate slack channel to reach out to: `#g_manage_optimize`\n- Best individual to reach out to: @ahegyi, @euko \n\n## Expectations\n\n### What are we expecting to happen?\n\n### What might happen if this goes wrong?\n\n### What can we monitor to detect problems with this?\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? Sentry errors reports can alse be useful to review --\u003e\n\n\n## Beta groups/projects\n\nIf applicable, any groups/projects that are happy to have this feature turned on early. Some organizations may wish to test big changes they are interested in with a small subset of users ahead of time for example.\n\n- `gitlab-org/gitlab` project\n- `gitlab-org`/`gitlab-com` groups\n- ...\n\n## Roll Out Steps\n\n- [x] Enable on staging (`/chatops run feature set feature_name true --staging`)\n- [x] Test on staging\n- [ ] Ensure that documentation has been updated\n- [ ] Enable on GitLab.com for individual groups/projects listed above and verify behaviour  (`/chatops run feature set --project=gitlab-org/gitlab feature_name true`)\n- [ ] Coordinate a time to enable the flag with the SRE oncall and release managers\n  - In `#production` mention `@sre-oncall` and `@release-managers`. Once an SRE on call and Release Manager on call confirm, you can proceed with the rollout\n- [ ] Announce on the issue an estimated time this will be enabled on GitLab.com\n- [x] Enable on GitLab.com by running chatops command in `#production` (`/chatops run feature set feature_name true`)\n- [ ] Cross post chatops Slack command to `#support_gitlab-com` ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#where-to-run-commands)) and in your team channel\n- [ ] Announce on the issue that the flag has been enabled\n- [ ] Remove feature flag and add changelog entry. Ensure that the feature flag definition YAML file has been removed in the **same MR** that is removing the feature flag from the code\n- [ ] After the flag removal is deployed, [clean up the feature flag](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) by running chatops command in `#production` channel\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set --project=gitlab-org/gitlab feature_name false\n```","state":"closed","created_at":"2021-03-08T10:01:09.732Z","updated_at":"2022-08-21T12:02:14.958Z","closed_at":"2022-08-08T06:11:08.175Z","closed_by":{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"},"labels":["Deliverable","GraphQL","backend","blocked","devops::manage","feature flag","group::optimize","missed-deliverable","missed:14.10","priority::3","section::dev","type::maintenance","workflow::production"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"}],"author":{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"},"type":"ISSUE","assignee":{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"},"user_notes_count":57,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/323730","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":12,"completed_count":3},"weight":4,"blocking_issues_count":0,"has_tasks":true,"task_status":"3 of 12 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/323730","notes":"https://gitlab.com/api/v4/projects/278964/issues/323730/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/323730/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#323730","relative":"#323730","full":"gitlab-org/gitlab#323730"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":80451545,"iid":323725,"project_id":278964,"title":"Follow-up from \"Use only uuid to pick correct finding from the reports\"","description":"The following discussion from !55643 should be addressed:\n\n- [ ] @10io started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/55643#note_524094439): \n\n    \u003e Thoughts for a follow up:\n    \u003e \n    \u003e I see several specs examples using `:finding1` and `:finding2` as `let!` variables.\n    \u003e \n    \u003e We could imagine grouping those examples in a single `context` where `:finding1` and `:finding2` are `let_it_be` variables\n\n### Implementation plan\n\n- [ ] ~backend Currently we are creating finding records for each context in `ee/spec/models/security/finding_spec.rb`. We can create top-level finding records with `let_it_be` helper to improve the performance of this test.","state":"closed","created_at":"2021-03-08T09:21:50.501Z","updated_at":"2021-10-28T13:59:12.543Z","closed_at":"2021-06-13T06:20:34.624Z","closed_by":{"id":7915086,"username":"adarshravichandran91","name":"adarsh ravi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d3f8beb6b7ead432e284daec73963938?s=80\u0026d=identicon","web_url":"https://gitlab.com/adarshravichandran91"},"labels":["Category:Vulnerability Management","backend","devops::secure","good for new contributors","group::threat insights","section::sec","type::maintenance","workflow::in dev"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":7915086,"username":"adarshravichandran91","name":"adarsh ravi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d3f8beb6b7ead432e284daec73963938?s=80\u0026d=identicon","web_url":"https://gitlab.com/adarshravichandran91"}],"author":{"id":5721376,"username":"minac","name":"Mehmet Emin INAC","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d8bdee790902422e3554e411a173c7c0?s=80\u0026d=identicon","web_url":"https://gitlab.com/minac"},"type":"ISSUE","assignee":{"id":7915086,"username":"adarshravichandran91","name":"adarsh ravi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d3f8beb6b7ead432e284daec73963938?s=80\u0026d=identicon","web_url":"https://gitlab.com/adarshravichandran91"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/323725","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/323725","notes":"https://gitlab.com/api/v4/projects/278964/issues/323725/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/323725/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#323725","relative":"#323725","full":"gitlab-org/gitlab#323725"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":80442287,"iid":323715,"project_id":278964,"title":"Add missing tooltip to Apply suggestion button","description":"### Summary\n\n\u003c!-- Summarize the bug encountered concisely. --\u003e\n\nIn https://gitlab.com/gitlab-org/gitlab/-/merge_requests/48597 we added the ability to apply a suggestion with a custom commit message, but the tooltip got removed in the process.\n\nThe tooltip had an explanation when the button was disabled, and the explanation varied depending on the case. The tooltip explanations were implemented in https://gitlab.com/gitlab-org/gitlab/-/issues/219455 (see related MRs in that issue).\n\n### Steps to reproduce\n\n\u003c!-- Describe how one can reproduce the issue - this is very important. Please use an ordered list. --\u003e\n\n1. Add a suggestion to an MR.\n1. Change the line on which the suggestion was made, so that it conflicts with the suggested change.\n1. The Apply suggestion button should now be greyed out.\n1. Hover over the Apply Suggestion button, notice that there's no tooltip explaining why the suggestion cannot be applied.\n\n### Example project\n\nhttps://gitlab.com/jerasmus/jerasmus-test-project/-/merge_requests/30#note_524050314\n\n### What is the current *bug* behavior?\n\nWhen hovering over the Apply suggestion button in its disabled state, there is no tooltip explaining why the button is disabled (why the suggestion cannot be applied).\n\n### What is the expected *correct* behavior?\n\nWhen hovering over the Apply suggestion button in its disabled state, there should be tooltip explaining why the button is disabled (why the suggestion cannot be applied).\n\n### Relevant logs and/or screenshots\n\n![Screenshot_2021-03-08_at_09.14.05](/uploads/a1815c42eac99fc1fd92f1d0d7ad5f72/Screenshot_2021-03-08_at_09.14.05.png)\n\n### Possible fixes\n\nRe-add `v-gl-tooltip.viewport=\"tooltipMessage\"` to the button.","state":"closed","created_at":"2021-03-08T07:30:23.966Z","updated_at":"2021-04-22T01:05:56.854Z","closed_at":"2021-04-22T01:05:56.794Z","closed_by":{"id":4017300,"username":"jboyson","name":"Justin Boyson","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4017300/avatar.png","web_url":"https://gitlab.com/jboyson"},"labels":["Category:Code Review Workflow","Deliverable","devops::create","frontend","group::code review","merge requests","priority::2","regression","regression:13.9","section::dev","severity::3","type::bug","workflow::verification"],"milestone":{"id":1406669,"iid":59,"group_id":9970,"title":"13.11","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-08-13T14:23:09.688Z","updated_at":"2022-04-21T07:22:08.835Z","due_date":"2021-04-17","start_date":"2021-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/59"},"assignees":[{"id":4017300,"username":"jboyson","name":"Justin Boyson","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4017300/avatar.png","web_url":"https://gitlab.com/jboyson"}],"author":{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"},"type":"ISSUE","assignee":{"id":4017300,"username":"jboyson","name":"Justin Boyson","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4017300/avatar.png","web_url":"https://gitlab.com/jboyson"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/323715","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/323715","notes":"https://gitlab.com/api/v4/projects/278964/issues/323715/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/323715/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#323715","relative":"#323715","full":"gitlab-org/gitlab#323715"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":80438318,"iid":323713,"project_id":278964,"title":"Deprecate old DORA4 Analytics Project API","description":"## Problem\n\nIn a few months ago, we [introduced](https://gitlab.com/gitlab-org/gitlab/-/issues/279039) an API to fetch DORA metrics at project-level. This API is functionally fine, however, it has a couple of problems:\n\n- It frequently times out due to the inefficient aggregation approach, which causes [SLA issue](https://gitlab.com/gitlab-org/gitlab/-/issues/322404).\n- Due to the inefficiency, we can't enable the [group-level API feature flag](https://gitlab.com/gitlab-org/gitlab/-/issues/300239).\n- The [API path](https://docs.gitlab.com/ee/api/dora4_project_analytics.html) (`/projects/:id/analytics/deployment_frequency`) is inappropriate. It should be scoped by `dora`.\n- `environment` parameter should be optional as DORA metrics targets production only. \n- The API design is not extensible/manageable as we have to create new path per metric.\n- The cost to fix the current APIs is much more expensive than introducing new APIs, because we have to handle the breaking change carefully.\n\n## Proposal\n\nAfter we've added new generic-and-performant APIs in https://gitlab.com/gitlab-org/gitlab/-/issues/291746 and https://gitlab.com/gitlab-org/gitlab/-/issues/322404, we'll deprecate the old APIs. To do so, we have to change the API path in frontend at first (for project-level deployment frequency)","state":"closed","created_at":"2021-03-08T06:18:46.846Z","updated_at":"2021-05-03T08:19:34.096Z","closed_at":"2021-04-09T19:58:05.649Z","closed_by":{"id":493585,"username":"nfriend","name":"Nathan Friend","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cd23f74a33fc7d8dfe081948696551a5?s=80\u0026d=identicon","web_url":"https://gitlab.com/nfriend"},"labels":["Category:Continuous Delivery","Deliverable","Release::P1","cicd::active","deprecation","devops::release","group::release","section::ops","workflow::verification"],"milestone":{"id":1406669,"iid":59,"group_id":9970,"title":"13.11","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-08-13T14:23:09.688Z","updated_at":"2022-04-21T07:22:08.835Z","due_date":"2021-04-17","start_date":"2021-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/59"},"assignees":[{"id":493585,"username":"nfriend","name":"Nathan Friend","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cd23f74a33fc7d8dfe081948696551a5?s=80\u0026d=identicon","web_url":"https://gitlab.com/nfriend"}],"author":{"id":758045,"username":"shinya.maeda","name":"Shinya Maeda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/758045/avatar.png","web_url":"https://gitlab.com/shinya.maeda"},"type":"ISSUE","assignee":{"id":493585,"username":"nfriend","name":"Nathan Friend","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cd23f74a33fc7d8dfe081948696551a5?s=80\u0026d=identicon","web_url":"https://gitlab.com/nfriend"},"user_notes_count":15,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/323713","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/323713","notes":"https://gitlab.com/api/v4/projects/278964/issues/323713/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/323713/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#323713","relative":"#323713","full":"gitlab-org/gitlab#323713"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":80432334,"iid":323709,"project_id":278964,"title":"Display hashes associated with a package","description":"\u003c!-- This template is a great use for issues that are feature::additions or technical tasks for larger issues.--\u003e\n\n### Proposal \n\nWhen a user looks at a Package through the web interface there is no way for them to know what hashes are associated with a package. This makes it difficult for a user to ensure that the package they are downloading is the correct package besides name/version number. \n\n| Design Comp |\n|---|\n|![Screen_Shot_2021-04-28_at_2.23.55_PM](/uploads/4347e181875ccbff208a9b477d3bca83/Screen_Shot_2021-04-28_at_2.23.55_PM.png)|\n\nIf a user is downloading Package X.YY, having a hash in the web interface would provide some assurance and allow them to lock their build to a specific hash as well as version number. Having a hash can help organizations ensure that packages have not been tampered with. \n\nBelow is a screenshot from how PyPI handles hashes in its web interfaces. \n\n![Notification_Center](/uploads/bbba3db3fb49a9dba000ba74f0b136a1/Notification_Center.png)\n![Notification_Center](/uploads/d77eae0673df7c325a42c70f11c5e18e/Notification_Center.png)\n\nThe hashes are not of broad importance and not used by everyone, but it would be nice to have a small link somewhere on the package screen to display them. It's an important security tool to help combat a variety of attacks including supply-chain and dependency confusion.","state":"closed","created_at":"2021-03-08T04:04:13.650Z","updated_at":"2022-12-08T17:14:45.310Z","closed_at":"2021-06-15T13:25:24.412Z","closed_by":{"id":4584738,"username":"nmezzopera","name":"Nicolò Maria Mezzopera","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4584738/avatar.png","web_url":"https://gitlab.com/nmezzopera"},"labels":["Category:Package Registry","Deliverable","Generic Package Repository","Package:P1","UX debt","devops::package","frontend","group::package registry","section::ops","workflow::in review"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":4584738,"username":"nmezzopera","name":"Nicolò Maria Mezzopera","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4584738/avatar.png","web_url":"https://gitlab.com/nmezzopera"}],"author":{"id":4310743,"username":"sethgitlab","name":"Seth Berger","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4310743/avatar.png","web_url":"https://gitlab.com/sethgitlab"},"type":"ISSUE","assignee":{"id":4584738,"username":"nmezzopera","name":"Nicolò Maria Mezzopera","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4584738/avatar.png","web_url":"https://gitlab.com/nmezzopera"},"user_notes_count":47,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/323709","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/323709","notes":"https://gitlab.com/api/v4/projects/278964/issues/323709/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/323709/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#323709","relative":"#323709","full":"gitlab-org/gitlab#323709"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":80425957,"iid":323705,"project_id":278964,"title":"Follow-up from \"Offload tracking onboarding progress to worker\" - use onboarding feature category","description":"# Overview\n\nAs part of https://gitlab.com/gitlab-org/gitlab/-/merge_requests/54573#note_512793009 the `product_analytics` feature category was eventually used, as this was the only Growth owned category at the time. \n\n# Next step\n\nRefactor `OnboardingProgressWroker` to use the new `onboarding` feature category\n\nThe following discussion from !54573 should be addressed:\n\n- [ ] @reprazent started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/54573#note_512793009):  (+4 comments)\n\n    \u003e Having this with the `:subgroups` feature category, will mean that this worker is the responsibility of the ~\"group::access\": https://gitlab.com/gitlab-com/www-gitlab-com/-/blob/1278b6990466ab1e2c321e0289386686d81893bf/data/stages.yml#L72\n    \u003e \n    \u003e Which I don't think is correct in this case. Though the ~\"group::activation\" does not seem to have [any feature categories linked to it](https://gitlab.com/gitlab-com/www-gitlab-com/-/blob/1278b6990466ab1e2c321e0289386686d81893bf/data/stages.yml#L1547). Would it be okay to add [`product_analytics`](https://gitlab.com/gitlab-com/www-gitlab-com/-/blob/1278b6990466ab1e2c321e0289386686d81893bf/data/stages.yml#L1547) so the responsibility remains in ~\"section::growth\" (~\"group::product intelligence\").  \n    \u003e \n    \u003e @pcalder @jstava Would that be okay for now? Are feature categories going to be defined for ~\"group::activation\"?\n\nSee https://about.gitlab.com/handbook/product/categories/features/#growthactivation-group","state":"closed","created_at":"2021-03-08T00:06:30.471Z","updated_at":"2021-10-28T13:59:13.147Z","closed_at":"2021-09-23T01:41:39.462Z","closed_by":{"id":4234774,"username":"pcalder","name":"Phil Calder","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4234774/avatar.png","web_url":"https://gitlab.com/pcalder"},"labels":["devops::growth","group::activation","section::growth","type::maintenance"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[],"author":{"id":4234774,"username":"pcalder","name":"Phil Calder","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4234774/avatar.png","web_url":"https://gitlab.com/pcalder"},"type":"ISSUE","assignee":null,"user_notes_count":2,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/323705","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/323705","notes":"https://gitlab.com/api/v4/projects/278964/issues/323705/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/323705/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#323705","relative":"#323705","full":"gitlab-org/gitlab#323705"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":80420316,"iid":323701,"project_id":278964,"title":"Failure in browser_ui/4_verify/ci_variable/pipeline_with_protected_variable_spec.rb | Verify Pipeline with protected variable exposes variable on protected branch","description":"### Full description\n\nVerify Pipeline with protected variable exposes variable on protected branch\n\n### File path\n\n./qa/specs/features/browser_ui/4_verify/ci_variable/pipeline_with_protected_variable_spec.rb\n\n### Stack trace\n\n```\nFailure/Error:\n  Resource::Repository::Commit.fabricate_via_api! do |commit|\n    commit.api_client = api_client\n    commit.project = project\n    commit.branch = 'protected-branch'\n    commit.commit_message = Faker::Lorem.sentence\n    commit.add_files(\n      [\n        {\n          file_path: \"#{Faker::Lorem.word}.txt\",\n          content: Faker::Lorem.sentence\n\nQA::Resource::ApiFabricator::ResourceFabricationFailedError:\n  Fabrication of QA::Resource::Repository::Commit using the API failed (400) with `{\"message\":\"A file with this name already exists\"}`.\n```\n\nFirst happened in https://gitlab.com/gitlab-org/gitlab-qa-mirror/-/jobs/1079076986.","state":"closed","created_at":"2021-03-07T18:59:35.330Z","updated_at":"2021-05-04T15:31:46.416Z","closed_at":"2021-05-04T15:31:46.349Z","closed_by":{"id":5022822,"username":"treagitlab","name":"Tiffany Rea","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5022822/avatar.png","web_url":"https://gitlab.com/treagitlab"},"labels":["Category:Continuous Integration","QA","Quality","devops::verify","failure::flaky-test","found:master","group::pipeline execution","needs weight","priority::2","section::ops","test","workflow::production"],"milestone":{"id":1233762,"iid":58,"group_id":9970,"title":"13.12","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.948Z","updated_at":"2022-04-21T07:22:18.898Z","due_date":"2021-05-17","start_date":"2021-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/58"},"assignees":[{"id":5022822,"username":"treagitlab","name":"Tiffany Rea","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5022822/avatar.png","web_url":"https://gitlab.com/treagitlab"}],"author":{"id":1614863,"username":"gitlab-qa","name":"GitLab QA Bot","state":"active","avatar_url":"https://secure.gravatar.com/avatar/15fea3f486070f5cb8da2193b9585411?s=80\u0026d=identicon","web_url":"https://gitlab.com/gitlab-qa"},"type":"ISSUE","assignee":{"id":5022822,"username":"treagitlab","name":"Tiffany Rea","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5022822/avatar.png","web_url":"https://gitlab.com/treagitlab"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/323701","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/323701","notes":"https://gitlab.com/api/v4/projects/278964/issues/323701/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/323701/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#323701","relative":"#323701","full":"gitlab-org/gitlab#323701"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":"on_track"},{"id":80409306,"iid":323694,"project_id":278964,"title":"Clicking on \"Create CI/CD\" quick button should take the user to the pipeline editor","description":"\u003c!-- The first section \"Release notes\" is required if you want to have your release post blog MR auto generated. Currently in BETA, details on the **release post item generator** can be found in the handbook:  https://about.gitlab.com/handbook/marketing/blog/release-posts/#release-post-item-generator and this video: https://www.youtube.com/watch?v=rfn9ebgTwKg. The next four sections: \"Problem to solve\", \"Intended users\", \"User experience goal\", and \"Proposal\", are strongly recommended in your first draft, while the rest of the sections can be filled out during the problem validation or breakdown phase. However, keep in mind that providing complete and relevant information early helps our product team validate the problem and start working on a solution. --\u003e\n\n### Release notes\n\n\u003c!-- What is the problem and solution you're proposing? This content sets the overall vision for the feature and serves as the release notes that will populate in various places, including the [release post blog](https://about.gitlab.com/releases/categories/releases/) and [Gitlab project releases](https://gitlab.com/gitlab-org/gitlab/-/releases). \" --\u003e\n\n### Problem to solve \n\nCurrently, when someone clicks on the quick button to create new CI/CD in GitLab's main page, they are directed to the single file editor. This is not the recommended page to edit your main pipeline configuration file, instead we should redirect our users to the Pipeline editor\n\n### Intended users\n\n\u003c!-- Who will use this feature? If known, include any of the following: types of users (e.g. Developer), personas, or specific company roles (e.g. Release Manager). It's okay to write \"Unknown\" and fill this field in later.\n\nPersonas are described at https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/\n\n* [Cameron (Compliance Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#cameron-compliance-manager)\n* [Parker (Product Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#parker-product-manager)\n* [Delaney (Development Team Lead)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#delaney-development-team-lead)\n* [Presley (Product Designer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#presley-product-designer)\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Devon (DevOps Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#devon-devops-engineer)\n* [Sidney (Systems Administrator)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sidney-systems-administrator)\n* [Sam (Security Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sam-security-analyst)\n* [Rachel (Release Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#rachel-release-manager)\n* [Alex (Security Operations Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#alex-security-operations-engineer)\n* [Simone (Software Engineer in Test)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#simone-software-engineer-in-test)\n* [Allison (Application Ops)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#allison-application-ops)\n* [Priyanka (Platform Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#priyanka-platform-engineer)\n* [Dana (Data Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#dana-data-analyst)\n* [Eddie (Content Editor)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#eddie-content-editor)\n--\u003e\n\n### User experience goal\n\nWith the introduction of the [Pipeline Editor,](https://gitlab.com/gitlab-org/gitlab/-/ci/editor) now it makes more sense to guide the user directly towards the first step in CI/CD onboarding.\n\nWhen someone clicks on the quick button to create a CI/CD pipeline, we should take them to the Pipeline Editor empty state, from where they can start their first pipeline configuration and run it. \n\nThere are 3 possible routes that needs to be updated from the user point of view:\n\n* Blank project without a repository https://gitlab.com/gitlab-org/gitlab/-/issues/300061\n* Project with files but without pipeline configuration file https://gitlab.com/gitlab-org/gitlab/-/issues/323694#note_530070536\n* Project with a repo but without any files https://gitlab.com/gitlab-org/gitlab/-/issues/323694#note_530070536\n\nThe Empty States are being implemented in https://gitlab.com/groups/gitlab-org/-/epics/5276. and this issue should implement only after empty state are made available \n\nhttps://gitlab.com/gitlab-org/gitlab/-/issues/27709","state":"closed","created_at":"2021-03-07T12:01:54.793Z","updated_at":"2021-04-18T07:08:16.533Z","closed_at":"2021-04-07T06:49:34.791Z","closed_by":{"id":7598233,"username":"mgandres","name":"Mireya Andres","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c96bce45a06f2dd722144db3f52456bf?s=80\u0026d=identicon","web_url":"https://gitlab.com/mgandres"},"labels":["Category:Pipeline Authoring","Deliverable","GitLab Core","devops::verify","frontend","group::pipeline authoring","section::ops","type::feature","workflow::production"],"milestone":{"id":1406669,"iid":59,"group_id":9970,"title":"13.11","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-08-13T14:23:09.688Z","updated_at":"2022-04-21T07:22:08.835Z","due_date":"2021-04-17","start_date":"2021-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/59"},"assignees":[{"id":7598233,"username":"mgandres","name":"Mireya Andres","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c96bce45a06f2dd722144db3f52456bf?s=80\u0026d=identicon","web_url":"https://gitlab.com/mgandres"}],"author":{"id":4509877,"username":"dhershkovitch","name":"Dov Hershkovitch","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7daa3113f0359f08a217fa800d9cc1d2?s=80\u0026d=identicon","web_url":"https://gitlab.com/dhershkovitch"},"type":"ISSUE","assignee":{"id":7598233,"username":"mgandres","name":"Mireya Andres","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c96bce45a06f2dd722144db3f52456bf?s=80\u0026d=identicon","web_url":"https://gitlab.com/mgandres"},"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/323694","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/323694","notes":"https://gitlab.com/api/v4/projects/278964/issues/323694/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/323694/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#323694","relative":"#323694","full":"gitlab-org/gitlab#323694"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":"on_track"},{"id":80393707,"iid":323686,"project_id":278964,"title":"User popover looks narrowed and text are overflowed outside","description":"### Summary\n\nUser popover looks narrowed and text are overflowed outside\n\n### Relevant logs and/or screenshots\n\n![image](/uploads/1c2e0e4eb52357a12a8279f81078c4f2/image.png)\n\n### Output of checks\n\nThis bug happens on GitLab.com","state":"closed","created_at":"2021-03-06T18:18:39.793Z","updated_at":"2022-05-24T12:01:05.171Z","closed_at":"2022-05-16T14:37:23.164Z","closed_by":{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"},"labels":["Category:User Management","Deliverable","devops::manage","frontend","group::organization","priority::4","section::dev","severity::4","type::bug","workflow::verification"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"}],"author":{"id":6395788,"username":"yo","name":"yoginth.eth","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6395788/avatar.png","web_url":"https://gitlab.com/yo"},"type":"ISSUE","assignee":{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"},"user_notes_count":10,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/323686","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/323686","notes":"https://gitlab.com/api/v4/projects/278964/issues/323686/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/323686/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#323686","relative":"#323686","full":"gitlab-org/gitlab#323686"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":80383111,"iid":323678,"project_id":278964,"title":"Partitioning: Drop non-partitioned web_hook_logs table","description":"As the final step of partitioning the `web_hook_logs` table (\u00265558), we'll remove the non-partitioned archive table.\n\nIt will follow the successful swap of the base web_hook_logs table with the partitioned copy (gitlab-org/gitlab#323677), after monitoring for a period of time that it caused no issues. It may be released in the same milestone as gitlab-org/gitlab#323677 are, at worst case scenario, in the milestone that follows it.","state":"closed","created_at":"2021-03-06T11:23:17.868Z","updated_at":"2022-05-30T15:33:41.467Z","closed_at":"2021-06-15T10:23:23.299Z","closed_by":{"id":1562869,"username":"abrandl","name":"Andreas Brandl","state":"active","avatar_url":"https://secure.gravatar.com/avatar/487c4c74f7e1714b5a270e00d4735e84?s=80\u0026d=identicon","web_url":"https://gitlab.com/abrandl"},"labels":["Category:Database","Engineering Allocation","devops::data_stores","group::database","section::enablement"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":1982738,"username":"iroussos","name":"Yannis Roussos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1982738/avatar.png","web_url":"https://gitlab.com/iroussos"}],"author":{"id":1982738,"username":"iroussos","name":"Yannis Roussos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1982738/avatar.png","web_url":"https://gitlab.com/iroussos"},"type":"ISSUE","assignee":{"id":1982738,"username":"iroussos","name":"Yannis Roussos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1982738/avatar.png","web_url":"https://gitlab.com/iroussos"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/323678","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/323678","notes":"https://gitlab.com/api/v4/projects/278964/issues/323678/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/323678/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#323678","relative":"#323678","full":"gitlab-org/gitlab#323678"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5558,"epic":{"id":221473,"iid":5558,"title":"Partitioning: web_hook_logs table","url":"/groups/gitlab-org/-/epics/5558","group_id":9970,"human_readable_end_date":"Jul 16, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":80383060,"iid":323677,"project_id":278964,"title":"Partitioning: Swap base web_hook_logs table with partitioned copy","description":"The fourth step for partitioning the `web_hook_logs` table (\u00265558) is to swap the current non-partitioned table and the partitioned copy.\n\nIt will enable the partitioned table as the canonical `web_hook_logs` table to be used by the application, while the old non-partitioned table will be kept as an archive table (`web_hook_logs_archived`). The existing triggers will be swapped to keep the archive table in sync with the partitioned table. \n\nThe archive table will be dropped with a follow-up migration after the operation is confirmed as successful and no issues are observed.\n\nIt has to follow the successful completion of (gitlab-org/gitlab#323675, gitlab-org/gitlab#323676) and will be deployed one milestone after those two are released.","state":"closed","created_at":"2021-03-06T11:21:51.610Z","updated_at":"2022-05-30T15:33:42.202Z","closed_at":"2021-04-27T13:07:12.661Z","closed_by":{"id":3910448,"username":"craig-gomes","name":"Craig Gomes","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3910448/avatar.png","web_url":"https://gitlab.com/craig-gomes"},"labels":["Category:Database","Engineering Allocation","devops::data_stores","group::database","section::enablement"],"milestone":{"id":1233762,"iid":58,"group_id":9970,"title":"13.12","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.948Z","updated_at":"2022-04-21T07:22:18.898Z","due_date":"2021-05-17","start_date":"2021-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/58"},"assignees":[{"id":1562869,"username":"abrandl","name":"Andreas Brandl","state":"active","avatar_url":"https://secure.gravatar.com/avatar/487c4c74f7e1714b5a270e00d4735e84?s=80\u0026d=identicon","web_url":"https://gitlab.com/abrandl"},{"id":1982738,"username":"iroussos","name":"Yannis Roussos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1982738/avatar.png","web_url":"https://gitlab.com/iroussos"}],"author":{"id":1982738,"username":"iroussos","name":"Yannis Roussos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1982738/avatar.png","web_url":"https://gitlab.com/iroussos"},"type":"ISSUE","assignee":{"id":1562869,"username":"abrandl","name":"Andreas Brandl","state":"active","avatar_url":"https://secure.gravatar.com/avatar/487c4c74f7e1714b5a270e00d4735e84?s=80\u0026d=identicon","web_url":"https://gitlab.com/abrandl"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/323677","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/323677","notes":"https://gitlab.com/api/v4/projects/278964/issues/323677/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/323677/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#323677","relative":"#323677","full":"gitlab-org/gitlab#323677"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5558,"epic":{"id":221473,"iid":5558,"title":"Partitioning: web_hook_logs table","url":"/groups/gitlab-org/-/epics/5558","group_id":9970,"human_readable_end_date":"Jul 16, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":80382851,"iid":323676,"project_id":278964,"title":"Partitioning: Add foreign key and secondary indexes to partitioned web_hook_logs","description":"The third step for partitioning the `web_hook_logs` table (\u00265558) is to add the foreign key and the secondary indexes defined for `web_hook_logs` to the partitioned table.\n\nForeign key to be added:\n- `fk_rails_666826e111 FOREIGN KEY (web_hook_id) REFERENCES web_hooks(id) ON DELETE CASCADE`\n\nIndexes to be added:\n- `index_web_hook_logs_on_created_at_and_web_hook_id btree (created_at, web_hook_id)`\n- `index_web_hook_logs_on_web_hook_id btree (web_hook_id)`\n\nIt has to follow the cleanup and successful completion of the backfilling migration (gitlab-org/gitlab#323675) and will be deployed in the same milestone as that operation.","state":"closed","created_at":"2021-03-06T11:12:28.849Z","updated_at":"2022-05-30T15:33:42.756Z","closed_at":"2021-04-19T14:57:43.615Z","closed_by":{"id":1982738,"username":"iroussos","name":"Yannis Roussos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1982738/avatar.png","web_url":"https://gitlab.com/iroussos"},"labels":["Category:Database","Engineering Allocation","devops::data_stores","group::database","section::enablement","workflow::production"],"milestone":{"id":1406669,"iid":59,"group_id":9970,"title":"13.11","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-08-13T14:23:09.688Z","updated_at":"2022-04-21T07:22:08.835Z","due_date":"2021-04-17","start_date":"2021-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/59"},"assignees":[{"id":1982738,"username":"iroussos","name":"Yannis Roussos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1982738/avatar.png","web_url":"https://gitlab.com/iroussos"}],"author":{"id":1982738,"username":"iroussos","name":"Yannis Roussos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1982738/avatar.png","web_url":"https://gitlab.com/iroussos"},"type":"ISSUE","assignee":{"id":1982738,"username":"iroussos","name":"Yannis Roussos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1982738/avatar.png","web_url":"https://gitlab.com/iroussos"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/323676","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/323676","notes":"https://gitlab.com/api/v4/projects/278964/issues/323676/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/323676/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#323676","relative":"#323676","full":"gitlab-org/gitlab#323676"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5558,"epic":{"id":221473,"iid":5558,"title":"Partitioning: web_hook_logs table","url":"/groups/gitlab-org/-/epics/5558","group_id":9970,"human_readable_end_date":"Jul 16, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":80382762,"iid":323675,"project_id":278964,"title":"Partitioning: Cleanup web_hook_logs backfill","description":"The second step for partitioning the `web_hook_logs` table (\u00265558) is to cleanup the background migration that we used to copy data into the partitioned `web_hook_logs` table.\n\nThis will have to follow by one milestone the initiation of the partitioning and the scheduling of the background jobs in gitlab-org/gitlab#323674","state":"closed","created_at":"2021-03-06T11:05:58.601Z","updated_at":"2022-05-30T15:33:43.834Z","closed_at":"2021-03-30T20:01:45.111Z","closed_by":{"id":1982738,"username":"iroussos","name":"Yannis Roussos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1982738/avatar.png","web_url":"https://gitlab.com/iroussos"},"labels":["Category:Database","Engineering Allocation","devops::data_stores","group::database","section::enablement","workflow::production"],"milestone":{"id":1406669,"iid":59,"group_id":9970,"title":"13.11","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-08-13T14:23:09.688Z","updated_at":"2022-04-21T07:22:08.835Z","due_date":"2021-04-17","start_date":"2021-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/59"},"assignees":[{"id":1982738,"username":"iroussos","name":"Yannis Roussos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1982738/avatar.png","web_url":"https://gitlab.com/iroussos"}],"author":{"id":1982738,"username":"iroussos","name":"Yannis Roussos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1982738/avatar.png","web_url":"https://gitlab.com/iroussos"},"type":"ISSUE","assignee":{"id":1982738,"username":"iroussos","name":"Yannis Roussos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1982738/avatar.png","web_url":"https://gitlab.com/iroussos"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/323675","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/323675","notes":"https://gitlab.com/api/v4/projects/278964/issues/323675/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/323675/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#323675","relative":"#323675","full":"gitlab-org/gitlab#323675"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5558,"epic":{"id":221473,"iid":5558,"title":"Partitioning: web_hook_logs table","url":"/groups/gitlab-org/-/epics/5558","group_id":9970,"human_readable_end_date":"Jul 16, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":80381689,"iid":323674,"project_id":278964,"title":"Partitioning: Initiate the web_hook_logs partitioning","description":"The first step for partitioning the `web_hook_logs` table (\u00265558) is to create the initial partitions (covering existing data), add the trigger that will keep the partitioned table in sync with the original table and schedule the background migration jobs that will copy all the existing data. \n\nIn detail, the following will be covered:\n\n1. Create a new partitioned table with a nearly identical schema as `web_hook_logs`. The only differences will be that the primary key is `bigint` (to address gitlab-org/gitlab#276021) and that the indexes will be missing (to facilitate faster inserts).\n1. Create all the monthly partitions that cover the existing data.\n1. Install a trigger that keeps tables in sync - in particular it mirrors inserts, updates and deletes into `web_hook_logs` to the newly created table\n1. Schedule background migration jobs to copy data from `web_hook_logs` to the partitioned table\n1. Add explicit primary key definition to `WebHookLog`. This will not affect the current behavior of the application, but will facilitate the smooth transition when we are going to swap the tables two milestones after the partitioning is initiated.","state":"closed","created_at":"2021-03-06T10:46:26.426Z","updated_at":"2022-05-30T15:33:44.467Z","closed_at":"2021-03-12T15:35:09.718Z","closed_by":{"id":1982738,"username":"iroussos","name":"Yannis Roussos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1982738/avatar.png","web_url":"https://gitlab.com/iroussos"},"labels":["Category:Database","Deliverable","Engineering Allocation","devops::data_stores","group::database","section::enablement","workflow::production"],"milestone":{"id":1233761,"iid":57,"group_id":9970,"title":"13.10","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.646Z","updated_at":"2022-04-21T07:22:00.171Z","due_date":"2021-03-17","start_date":"2021-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/57"},"assignees":[{"id":1982738,"username":"iroussos","name":"Yannis Roussos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1982738/avatar.png","web_url":"https://gitlab.com/iroussos"}],"author":{"id":1982738,"username":"iroussos","name":"Yannis Roussos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1982738/avatar.png","web_url":"https://gitlab.com/iroussos"},"type":"ISSUE","assignee":{"id":1982738,"username":"iroussos","name":"Yannis Roussos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1982738/avatar.png","web_url":"https://gitlab.com/iroussos"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/323674","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/323674","notes":"https://gitlab.com/api/v4/projects/278964/issues/323674/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/323674/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#323674","relative":"#323674","full":"gitlab-org/gitlab#323674"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5558,"epic":{"id":221473,"iid":5558,"title":"Partitioning: web_hook_logs table","url":"/groups/gitlab-org/-/epics/5558","group_id":9970,"human_readable_end_date":"Jul 16, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":80370681,"iid":323668,"project_id":278964,"title":"Clean up issues with api/discussions.md","description":"The following discussion from !51032 should be addressed:\n\nItems for `doc/api/discussions.md` identified by @tommd need to be addressed by this follow-up, assigned to an engineer:\n\n- Add a curl example for:\n    - [x] single-line comments\n    - [ ] multi-line comments\n- [x] Document how to post single line comments.\n- [x] Document how to construct a linecode - hash of the file name (path included) underscore old line number (is this needed? Some tools don't even know the old number), underscore and the new line number.\n- [x] Document the bug where incorrect SHAs result in HTTP 500 but still posts a comment with the \"download\" button which I pictured in the original issue. https://gitlab.com/gitlab-org/gitlab/-/issues/281143 https://gitlab.com/gitlab-org/gitlab/-/issues/296829","state":"closed","created_at":"2021-03-06T00:28:49.522Z","updated_at":"2022-11-17T20:07:07.149Z","closed_at":"2022-11-17T20:07:07.104Z","closed_by":{"id":5133434,"username":"aqualls","name":"Amy Qualls","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5133434/avatar.png","web_url":"https://gitlab.com/aqualls"},"labels":["Category:Code Review Workflow","Technical Writing","[deprecated] Accepting merge requests","backend","devops::create","docs-only","docs::fix","documentation","group::code review","maintenance::refactor","missed:13.11","quick win","section::dev","tw::triaged","type::maintenance"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":5133434,"username":"aqualls","name":"Amy Qualls","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5133434/avatar.png","web_url":"https://gitlab.com/aqualls"},"type":"ISSUE","assignee":null,"user_notes_count":17,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/323668","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":5,"completed_count":4},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"4 of 5 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/323668","notes":"https://gitlab.com/api/v4/projects/278964/issues/323668/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/323668/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#323668","relative":"#323668","full":"gitlab-org/gitlab#323668"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":80370257,"iid":323666,"project_id":278964,"title":"Show some projects to click on the group test coverage before a user selects","description":"\u003c!-- This issue template can be used a great starting point for feature requests. The last section \"Release notes\" can be used as a summary of the feature and is also required if you want to have your release post blog MR auto generated using the release post item generator:  https://about.gitlab.com/handbook/marketing/blog/release-posts/#release-post-item-generator. The remaining sections are the backbone for every feature in GitLab. --\u003e\n\n### Release notes \n\n\u003c!-- What is the problem and solution you're proposing? This content sets the overall vision for the feature and serves as the release notes that will populate in various places, including the [release post blog](https://about.gitlab.com/releases/categories/releases/) and [Gitlab project releases](https://gitlab.com/gitlab-org/gitlab/-/releases). \" --\u003e\n\n### Problem to solve \n\nAs a user looking at the group test coverage page, I want to see some projects when I land on the page, so I can click through to a project I think needs attention.\n\nPM Note: We're seeing low engagement from users who start on this page, they are not clicking through to a project. We think that providing something to click when they land will make them look for projects they care about.\n\n\u003c!-- What is the user problem you are trying to solve with this issue? --\u003e\n\n### Proposal \n\n\u003c!-- Use this section to explain the feature and how it will work. It can be helpful to add technical details, design proposals, and links to related epics or issues. --\u003e\n\n\n\n\u003c!--- Use the following resources to find the appropriate labels:\n- https://gitlab.com/gitlab-org/gitlab/-/labels\n- https://about.gitlab.com/handbook/product/categories/features/\n\nConsider adding related issues and epics to this issue. You can also reference the Feature Proposal Template (https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Feature%20proposal.md) for additional details to consider adding to this issue. Additionally, as a data oriented organization, when your feature exits planning breakdown, consider adding the `What does success look like, and how can we measure that?` section.\n\nOther sections to consider adding: \n\n### Intended users\n\nWho will use this feature? If known, include any of the following: types of users (e.g. Developer), personas, or specific company roles (e.g. Release Manager). It's okay to write \"Unknown\" and fill this field in later.\n\nPersonas are described at https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/\n\n* [Cameron (Compliance Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#cameron-compliance-manager)\n* [Parker (Product Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#parker-product-manager)\n* [Delaney (Development Team Lead)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#delaney-development-team-lead)\n* [Presley (Product Designer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#presley-product-designer)\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Devon (DevOps Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#devon-devops-engineer)\n* [Sidney (Systems Administrator)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sidney-systems-administrator)\n* [Sam (Security Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sam-security-analyst)\n* [Rachel (Release Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#rachel-release-manager) \n* [Alex (Security Operations Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#alex-security-operations-engineer)\n* [Simone (Software Engineer in Test)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#simone-software-engineer-in-test)\n* [Allison (Application Ops)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#allison-application-ops) \n* [Priyanka (Platform Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#priyanka-platform-engineer)\n* [Dana (Data Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#dana-data-analyst)\n\n\n### User experience goal\n\nWhat is the single user experience workflow this problem addresses? \nFor example, \"The user should be able to use the UI/API/.gitlab-ci.yml with GitLab to \u003cperform a specific task\u003e\"\nhttps://about.gitlab.com/handbook/engineering/ux/ux-research-training/user-story-mapping/ \n\n\n### Further details\n\nInclude use cases, benefits, goals, or any other details that will help us understand the problem better. \n\n### Permissions and Security\n\n\u003c!-- What permissions are required to perform the described actions? Are they consistent with the existing permissions as documented for users, groups, and projects as appropriate? Is the proposed behavior consistent between the UI, API, and other access methods (e.g. email replies)?\nConsider adding checkboxes and expectations of users with certain levels of membership https://docs.gitlab.com/ee/user/permissions.html\n* [ ] Add expected impact to members with no access (0)\n* [ ] Add expected impact to Guest (10) members\n* [ ] Add expected impact to Reporter (20) members\n* [ ] Add expected impact to Developer (30) members \n* [ ] Add expected impact to Maintainer (40) members\n* [ ] Add expected impact to Owner (50) members \n\n### Documentation\n\n See the Feature Change Documentation Workflow https://docs.gitlab.com/ee/development/documentation/workflow.html#for-a-product-change\n\n* Add all known Documentation Requirements in this section. See https://docs.gitlab.com/ee/development/documentation/workflow.html\n* If this feature requires changing permissions, update the permissions document. See https://docs.gitlab.com/ee/user/permissions.html \n\n### Availability \u0026 Testing\n\nThis section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\nWhat risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning \n\n### What does success look like, and how can we measure that?\n\nDefine both the success metrics and acceptance criteria. Note that success metrics indicate the desired business outcomes, while acceptance criteria indicate when the solution is working correctly. If there is no way to measure success, link to an issue that will implement a way to measure this. \n\n### What is the type of buyer?\n\nWhat is the buyer persona for this feature? See https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/buyer-persona/\nIn which enterprise tier should this feature go? See https://about.gitlab.com/handbook/product/pricing/#three-tiers\n\n### Is this a cross-stage feature?\n\nCommunicate if this change will affect multiple Stage Groups or product areas. We recommend always start with the assumption that a feature request will have an impact into another Group. Loop in the most relevant PM and Product Designer from that Group to provide strategic support to help align the Group's broader plan and vision, as well as to avoid UX and technical debt. https://about.gitlab.com/handbook/product/#cross-stage-features --\u003e","state":"closed","created_at":"2021-03-06T00:01:55.187Z","updated_at":"2021-10-14T13:22:13.139Z","closed_at":"2021-10-13T17:24:33.237Z","closed_by":{"id":3374280,"username":"mfluharty","name":"Miranda Fluharty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3374280/avatar.png","web_url":"https://gitlab.com/mfluharty"},"labels":["Category:Code Testing and Coverage","GitLab Premium","UX","devops::verify","feature::enhancement","frontend","group::pipeline insights","section::ops","type::feature","workflow::in review"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":3374280,"username":"mfluharty","name":"Miranda Fluharty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3374280/avatar.png","web_url":"https://gitlab.com/mfluharty"}],"author":{"id":4512666,"username":"jheimbuck_gl","name":"James Heimbuck","state":"active","avatar_url":"https://secure.gravatar.com/avatar/8dd2ef9c1cacb6e80d7ca47db6f0ce22?s=80\u0026d=identicon","web_url":"https://gitlab.com/jheimbuck_gl"},"type":"ISSUE","assignee":{"id":3374280,"username":"mfluharty","name":"Miranda Fluharty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3374280/avatar.png","web_url":"https://gitlab.com/mfluharty"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/323666","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":6,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 6 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/323666","notes":"https://gitlab.com/api/v4/projects/278964/issues/323666/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/323666/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#323666","relative":"#323666","full":"gitlab-org/gitlab#323666"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":80368860,"iid":323663,"project_id":278964,"title":"Improve tracking class on frontend","description":"These are some improvements for the [`Tracking`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/assets/javascripts/tracking.js) class.\n\nSome of these come from the conclusions in #321578.\n\n- Keep all related constants in a separate file.\n- Allow `extra` parameter. https://gitlab.com/gitlab-org/gitlab/-/issues/325746\n- Allow using multiple contexts (alongside [`gitlab_standard`](https://gitlab.com/gitlab-org/iglu/-/blob/master/public/schemas/com.gitlab/gitlab_standard/jsonschema/1-0-3)).","state":"closed","created_at":"2021-03-05T22:44:46.805Z","updated_at":"2021-06-18T15:33:37.132Z","closed_at":"2021-06-16T20:46:35.299Z","closed_by":{"id":5412956,"username":"agarciatesares","name":"Axel García","state":"active","avatar_url":"https://secure.gravatar.com/avatar/11d24c6151c640aa435f8de30a01f5b8?s=80\u0026d=identicon","web_url":"https://gitlab.com/agarciatesares"},"labels":["devops::growth","frontend","group::product intelligence","missed:13.11","missed:13.12","section::growth","workflow::production"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":5412956,"username":"agarciatesares","name":"Axel García","state":"active","avatar_url":"https://secure.gravatar.com/avatar/11d24c6151c640aa435f8de30a01f5b8?s=80\u0026d=identicon","web_url":"https://gitlab.com/agarciatesares"}],"author":{"id":5412956,"username":"agarciatesares","name":"Axel García","state":"active","avatar_url":"https://secure.gravatar.com/avatar/11d24c6151c640aa435f8de30a01f5b8?s=80\u0026d=identicon","web_url":"https://gitlab.com/agarciatesares"},"type":"ISSUE","assignee":{"id":5412956,"username":"agarciatesares","name":"Axel García","state":"active","avatar_url":"https://secure.gravatar.com/avatar/11d24c6151c640aa435f8de30a01f5b8?s=80\u0026d=identicon","web_url":"https://gitlab.com/agarciatesares"},"user_notes_count":15,"merge_requests_count":0,"upvotes":3,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/323663","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/323663","notes":"https://gitlab.com/api/v4/projects/278964/issues/323663/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/323663/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#323663","relative":"#323663","full":"gitlab-org/gitlab#323663"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5569,"epic":{"id":223482,"iid":5569,"title":"Snowplow Maintenance","url":"/groups/gitlab-org/-/epics/5569","group_id":9970,"human_readable_end_date":"Jan 31, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":80366515,"iid":323660,"project_id":278964,"title":"Make it more obvious that a request to deploy an environment has been requested successfully","description":"### Challenge\n\nIt is not obvious if clicking to deploy an environment made this request successfully. There is not change to the UI for at least many seconds. This is the current design in production:\n\n![image](/uploads/75e0f73cec7b911ec307dff83d4af7ff/image.png)\n\nScenario:\n- User clicks `Deploy`\n- Nothing seems to happen\n- User clicks `Deploy` again\n- An alert banner appears notifying the user that \"something went wrong\"\n- The user waits, and sees that the pipeline has changed- indicating that *maybe* the deploy is working\n\n### Proposal \n\n[See proposal in Design Management](https://gitlab.com/gitlab-org/gitlab/-/issues/323660/designs/mr-widget--deploy-env__proposal.png)\n\n\u003cdetails\u003e\n  \u003csummary\u003e\nProposal v1\n  \u003c/summary\u003e\n  ---\n  \n:bulb: **Ideas**:\n\n- Change button label from [-Deploy-] to [+Start environment+] to match the `Stop` action\n- Add a spinner to the `Deploy` button while the request is still in process\n- Label reads `Starting environment` while the deploy is in progress\n- Bonus: add [+Stop+] or even [+Stop environment+] to the `Stop` button\n\n![CleanShot_2021-03-05_at_15.10.59](/uploads/af55f3b4cd91ff72dbb47d55c4b01750/CleanShot_2021-03-05_at_15.10.59.gif) \n\n\u003c/details\u003e","state":"closed","created_at":"2021-03-05T21:15:40.022Z","updated_at":"2022-09-29T14:41:23.847Z","closed_at":"2022-09-29T14:41:23.829Z","closed_by":{"id":262533,"username":"afontaine","name":"Andrew Fontaine","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/262533/avatar.png","web_url":"https://gitlab.com/afontaine"},"labels":["Category:Release Orchestration","Next Up","Release::P2","SUS::FY22 Q2 - Incomplete","Technical Writing","UX","cicd::active","devops::release","environments","feature::enhancement","frontend","frontend-weight::2","group::release","merge requests","section::ops","type::feature","workflow::production"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":262533,"username":"afontaine","name":"Andrew Fontaine","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/262533/avatar.png","web_url":"https://gitlab.com/afontaine"}],"author":{"id":3617348,"username":"uhlexsis","name":"Alexis Ginsberg","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3617348/avatar.png","web_url":"https://gitlab.com/uhlexsis"},"type":"ISSUE","assignee":{"id":262533,"username":"afontaine","name":"Andrew Fontaine","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/262533/avatar.png","web_url":"https://gitlab.com/afontaine"},"user_notes_count":33,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/323660","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/323660","notes":"https://gitlab.com/api/v4/projects/278964/issues/323660/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/323660/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#323660","relative":"#323660","full":"gitlab-org/gitlab#323660"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":80365163,"iid":323653,"project_id":278964,"title":"Scope a Board to an Iteration Cadence","description":"## Problem To Solve\n\nSee parent epic for full details. This is related to this issue -- https://gitlab.com/gitlab-org/gitlab/-/issues/323347\n\n## Proposal\n\n- Scope Board to Iteration Cadence\n- Scope to `Current` is disabled until the cadence scope is set \n\n## UX\n| Default Scope Settings | Extended Scope Settings |\n| ------ | ------ |\n| ![board-default](https://gitlab.com/gitlab-org/gitlab/uploads/eaf560b2f964b75eebf645203ad7422e/board-default.png) | ![board-dropdown](https://gitlab.com/gitlab-org/gitlab/uploads/b42152aa91ecc9c7f9a62b5d3f7e1104/board-dropdown.png) |\n\n\n\n## Acceptance\n\n- [x] I can scope a Board to an iteration cadence (`cadence name \u003e open iterations`)\n- [x] I can scope a Board to the current iteration with a cadence (`cadence name \u003e current iteration`)\n- [x] I can scope a Board to a specific iteration within a cadence (`cadence name \u003e specific iteration`)\n\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2021-03-05T20:30:37.139Z","updated_at":"2022-05-18T20:57:51.359Z","closed_at":"2022-05-04T00:19:36.443Z","closed_by":{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"},"labels":["Category:Issue Tracking","Category:Team Planning","GitLab Starter","Technical Writing","backend","customer","devops::plan","direction","documentation","frontend","group::product planning","missed:14.10","section::dev","tw-weight::3","type::feature","workflow::production"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"}],"author":{"id":4303289,"username":"gweaver","name":"Gabe Weaver","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4303289/avatar.png","web_url":"https://gitlab.com/gweaver"},"type":"ISSUE","assignee":{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"},"user_notes_count":84,"merge_requests_count":0,"upvotes":10,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/323653","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":3},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"3 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/323653","notes":"https://gitlab.com/api/v4/projects/278964/issues/323653/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/323653/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#323653","relative":"#323653","full":"gitlab-org/gitlab#323653"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5077,"epic":{"id":163847,"iid":5077,"title":"Support multiple, automated Iteration Cadences","url":"/groups/gitlab-org/-/epics/5077","group_id":9970,"human_readable_end_date":"Oct 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":80365080,"iid":323652,"project_id":278964,"title":"Support Iteration Cadences in Iterations Drop Down (Issues Sidebar \u0026 Filter Bar)","description":"## Problem To Solve\n\nSee parent epic for full details.\n\n## Proposal\n\n- Group Iterations by Iteration Cadence within Iterations Drop Down\n\n## UX\n\n![Screen_Shot_2021-03-05_at_3.28.34_PM](https://gitlab.com/gitlab-org/gitlab/uploads/03d633bbe8fbb047fbfb5ffccf5d8a11/Screen_Shot_2021-03-05_at_3.28.34_PM.png)\n\n![](https://gitlab.com/gitlab-org/gitlab/uploads/a87a855d776a8643ace836f89ae59e1e/Scope_by_cadence_-_default.png)\n\n## Acceptance\n\nSidebar:\n\n- [ ] I can see all iterations grouped by their iteration cadence in all sidebars that show `Iteration` as an editable field.\n- [ ] Closed iterations are not shown.\n\nFilter Bar:\n\n- [ ] I can see all iterations grouped by their iteration cadence in all filter bars that allow for filtering by `Iteration`\n- [ ] I can also filter by `Current` or `Open` within each cadence (https://gitlab.com/gitlab-org/gitlab/-/issues/323653#note_528409466) \n- [ ] When a Board is scoped to `Open` cadence, only show iterations from within that cadence in the dropdown.\n\nAdditional for Filter bar in Boards:\n\n- [ ] When a Board is scoped to a current iteration, show the `Iteration` option in the filter dropdown in a disabled state with a tooltip explaining why.\n\nBulk Edit:\n\n- [ ] When bulk editing, I see iterations grouped by their cadence.\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2021-03-05T20:27:23.334Z","updated_at":"2021-11-08T15:59:55.090Z","closed_at":"2021-05-24T16:50:30.358Z","closed_by":{"id":4303289,"username":"gweaver","name":"Gabe Weaver","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4303289/avatar.png","web_url":"https://gitlab.com/gweaver"},"labels":["Category:Issue Tracking","Category:Team Planning","GitLab Starter","Next Up","backend","devops::plan","direction","frontend","group::project management","missed:13.11","missed:13.12","section::dev","type::feature","workflow::planning breakdown"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":3507264,"username":"donaldcook","name":"Donald Cook","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3507264/avatar.png","web_url":"https://gitlab.com/donaldcook"}],"author":{"id":4303289,"username":"gweaver","name":"Gabe Weaver","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4303289/avatar.png","web_url":"https://gitlab.com/gweaver"},"type":"ISSUE","assignee":{"id":3507264,"username":"donaldcook","name":"Donald Cook","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3507264/avatar.png","web_url":"https://gitlab.com/donaldcook"},"user_notes_count":2,"merge_requests_count":0,"upvotes":7,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/323652","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":7,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 7 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/323652","notes":"https://gitlab.com/api/v4/projects/278964/issues/323652/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/323652/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":"https://gitlab.com/api/v4/projects/278964/issues/293925"},"references":{"short":"#323652","relative":"#323652","full":"gitlab-org/gitlab#323652"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5077,"epic":{"id":163847,"iid":5077,"title":"Support multiple, automated Iteration Cadences","url":"/groups/gitlab-org/-/epics/5077","group_id":9970,"human_readable_end_date":"Oct 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":80359937,"iid":323645,"project_id":278964,"title":"F/u/f !51003: Reduce clutter \u0026 complexity in the view using helper methods","description":"The following discussion from !51003 should be addressed:\n\n- [ ] @oregand started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/51003#note_515332972):  (+5 comments)\n\n    \u003e **nitpick(non-blocking)**\n    \u003e \n    \u003e Given these are getting quite large, I would suggest pulling them into a helper method inside a helper, given this would let us expand the specs and cut down on the `haml` code to parse :smile:","state":"closed","created_at":"2021-03-05T18:34:07.969Z","updated_at":"2021-10-28T13:59:14.399Z","closed_at":"2021-03-12T15:50:12.208Z","closed_by":{"id":5755274,"username":"dreedy","name":"Dallas Reedy","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5755274/avatar.png","web_url":"https://gitlab.com/dreedy"},"labels":["devops::growth","group::acquisition","section::growth","type::maintenance"],"milestone":{"id":1233761,"iid":57,"group_id":9970,"title":"13.10","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.646Z","updated_at":"2022-04-21T07:22:00.171Z","due_date":"2021-03-17","start_date":"2021-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/57"},"assignees":[{"id":5755274,"username":"dreedy","name":"Dallas Reedy","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5755274/avatar.png","web_url":"https://gitlab.com/dreedy"}],"author":{"id":5755274,"username":"dreedy","name":"Dallas Reedy","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5755274/avatar.png","web_url":"https://gitlab.com/dreedy"},"type":"ISSUE","assignee":{"id":5755274,"username":"dreedy","name":"Dallas Reedy","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5755274/avatar.png","web_url":"https://gitlab.com/dreedy"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/323645","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/323645","notes":"https://gitlab.com/api/v4/projects/278964/issues/323645/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/323645/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#323645","relative":"#323645","full":"gitlab-org/gitlab#323645"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":80358555,"iid":323639,"project_id":278964,"title":"BulkImports: Add more information to the logs","description":"## Problem to solve\n\nCurrently, one cannot filter to see all the logs of the same Group Migration at once.\n\n### Context\n\nWhen a user starts a new Gitlab Group Migration a `BulkImport` and a `BulkImports::Entity` is created for each Group to migrate. If the group has subgroups, each Subgroup will then have a `BulkImports::Entity`.\n\nTherefore, having the `bulk_import_entity_id` in the logs is very helpful, but to be able to filter in a larger level, per migration, the `bulk_import_id` is also very relevant in the logs.\n\nWhen importing *subrelations*, like Epic's Emoji Awards, the current epic is passed in the workflow as an `extra` field, in the `BulkImports::Pipeline::Context` object. This way, logging the `extra` data is required to find subrelations logs.\n\n## Proposed solution\n\n- Add `bulk_import_id` to the logs.\n- Also add `BulkImports::Pipeline::Context#extra` to the logs","state":"closed","created_at":"2021-03-05T18:03:10.964Z","updated_at":"2021-03-25T18:13:53.756Z","closed_at":"2021-03-25T18:13:53.704Z","closed_by":{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"},"labels":["Category:Importers","Next Up","backend","devops::manage","estimation::completed","group::import","section::dev","workflow::production"],"milestone":{"id":1233761,"iid":57,"group_id":9970,"title":"13.10","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.646Z","updated_at":"2022-04-21T07:22:00.171Z","due_date":"2021-03-17","start_date":"2021-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/57"},"assignees":[{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"}],"author":{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"},"type":"ISSUE","assignee":{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/323639","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/323639","notes":"https://gitlab.com/api/v4/projects/278964/issues/323639/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/323639/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#323639","relative":"#323639","full":"gitlab-org/gitlab#323639"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":80357871,"iid":323637,"project_id":278964,"title":"Project export download rate limit inconsistent","description":"### Summary\n\nThe [project import/export documentation](https://docs.gitlab.com/ee/user/project/settings/import_export.html) currently states that export downloads are limited to \"*1 download per group per minute*\". However, this only seems to be the case if the `web_url` is used and not the `api_url`.\n\n### Steps to reproduce\n\n1. Start the export of two different projects (e.g. two personal projects)\n1. Wait until both exports are ready to be downloaded\n1. Try to download both exports using the `web_url` (used by the UI)\n1. The second download should fail with a rate limit message\n1. Now try to download both exports using the `api_url` (`https://gitlab.com/api/v4/projects/{id}/export/download`)\n1. Both downloads will succeed\n\n### What is the current *bug* behavior?\n\nThe rate limit for downloading project exports seems to be inconsistent between `api_url` and `web_url`. The latter only allows one download per minute - as intended - while the former allows downloads seemingly unrestricted (tested with up to 13 different export downloads in the span of one minute). The `api_url` seems to be only rate limited, if one tries to re-download the same project export within one minute.\n\nHappens for personal and group projects alike.\n\n### What is the expected *correct* behavior?\n\nThe `api_url` should be rate limited just like the `web_url` and only allow \"*1 download per group per minute*\".\n\n### Relevant logs and/or screenshots\n\n![export-test](/uploads/13bb729b3db4909f8776d77364ca0a5a/export-test.mp4)\n\n### Output of checks\n\nThis bug happens on GitLab.com","state":"closed","created_at":"2021-03-05T17:48:13.529Z","updated_at":"2022-04-19T09:23:57.074Z","closed_at":"2022-04-15T15:12:53.477Z","closed_by":{"id":784278,"username":"eggerd","name":"Dustin Eckhardt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/784278/avatar.png","web_url":"https://gitlab.com/eggerd"},"labels":["Category:Importers","Importer:Project Export/Import","[deprecated] Accepting merge requests","backend","devops::manage","estimation::completed","group::import","milestone::p4","section::dev","severity::3","type::bug","workflow::scheduling"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":784278,"username":"eggerd","name":"Dustin Eckhardt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/784278/avatar.png","web_url":"https://gitlab.com/eggerd"},"type":"ISSUE","assignee":null,"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/323637","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/323637","notes":"https://gitlab.com/api/v4/projects/278964/issues/323637/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/323637/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#323637","relative":"#323637","full":"gitlab-org/gitlab#323637"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3054,"epic":{"id":39522,"iid":3054,"title":"🐞 Project Export/Import bugs","url":"/groups/gitlab-org/-/epics/3054","group_id":9970},"iteration":null,"health_status":null},{"id":80354152,"iid":323626,"project_id":278964,"title":"Stop adding totals for Redis HLL metrics","description":"We add dynamically totals for Redis HLL metrics. We should stop adding this because \n\n1. Data might be not used\n\n2. [Data might be not relevant](https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/gitlab/usage_data_counters/known_events/common.yml#L133)\nIn this case for search events a total over this events doesn't make sense as `i_search_total` is in fact the total\n\n```\n- name: i_search_total\n  category: search\n  redis_slot: search\n  aggregation: weekly\n  feature_flag: search_track_unique_users\n- name: i_search_advanced\n  category: search\n  redis_slot: search\n  aggregation: weekly\n  feature_flag: search_track_unique_users\n- name: i_search_paid\n  category: search\n  redis_slot: search\n  aggregation: weekly\n  feature_flag: search_track_unique_users\n``` \n\n3. [Started to cause performance issues](https://gitlab.com/gitlab-org/gitlab/-/issues/295204)\n\n### Proposal\n\n* Remove the [totals from usage ping for new metrics.](https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/gitlab/usage_data_counters/hll_redis_counter.rb#L92)\n* The existing totals should remain until we can confirm they are not used\n* ~~We might consider adding an attribute to event definition to enable/disable totals~~\n* Use aggregated metrics option to build the totals([proposal from note](https://gitlab.com/gitlab-org/gitlab/-/issues/323626#note_524128078))","state":"closed","created_at":"2021-03-05T16:41:21.051Z","updated_at":"2021-12-06T16:03:13.631Z","closed_at":"2021-10-28T15:35:31.853Z","closed_by":{"id":8200977,"username":"lmejia2","name":"Luis Mejia","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8200977/avatar.png","web_url":"https://gitlab.com/lmejia2"},"labels":["Data team review","backend","devops::growth","group::product intelligence","maintenance::refactor","section::growth","workflow::ready for review"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":8200977,"username":"lmejia2","name":"Luis Mejia","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8200977/avatar.png","web_url":"https://gitlab.com/lmejia2"}],"author":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"type":"ISSUE","assignee":{"id":8200977,"username":"lmejia2","name":"Luis Mejia","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8200977/avatar.png","web_url":"https://gitlab.com/lmejia2"},"user_notes_count":16,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/323626","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/323626","notes":"https://gitlab.com/api/v4/projects/278964/issues/323626/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/323626/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#323626","relative":"#323626","full":"gitlab-org/gitlab#323626"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5552,"epic":{"id":220901,"iid":5552,"title":"Stop adding metrics automatically to usage data redis_hll_counters top level key","url":"/groups/gitlab-org/-/epics/5552","group_id":9970,"human_readable_end_date":"Nov 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":80351580,"iid":323617,"project_id":278964,"title":"Update Billing Page UI for New Trial Plans","description":"## Summary\n\nIn https://gitlab.com/gitlab-org/gitlab/-/issues/322043 we are creating new plan types specifically for trials.\n\nThis issue is to make two final updates to the UI to support these new plans.  We need to fix the instances pictured below where the word \"Trial\" is repeated.\n\n![Screen shot](https://gitlab.com/gitlab-org/gitlab/uploads/39a574fbbeb9d3fcfb12871c37cefb3d/Screenshot_2021-04-27_at_18.59.37.png)\n\nSee: https://gitlab.com/gitlab-org/gitlab/-/issues/323617#note_573463590\n\n## Availability \u0026 Testing\n\n\u003c!-- This section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\nWhat risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning --\u003e\n\nThis change will likely require two chunks of tests or test updates:\n\n1. Unit test for the new Plan type\n1. Refactor any existing test(s) using the old Plan and update with the new Trial Plan.","state":"closed","created_at":"2021-03-05T16:06:25.731Z","updated_at":"2021-07-28T20:25:19.257Z","closed_at":"2021-07-28T18:54:17.520Z","closed_by":{"id":3716529,"username":"jagood","name":"Jason Goodman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6696c95a1788e2d4bee67df636805ecc?s=80\u0026d=identicon","web_url":"https://gitlab.com/jagood"},"labels":["[deprecated] Category:Utilization","[deprecated] 🍎","backend","devops::fulfillment","group::utilization","missed:14.1","quad-planning::complete-action","section::fulfillment","workflow::verification"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":3716529,"username":"jagood","name":"Jason Goodman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6696c95a1788e2d4bee67df636805ecc?s=80\u0026d=identicon","web_url":"https://gitlab.com/jagood"}],"author":{"id":2890431,"username":"amandarueda","name":"Amanda Rueda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2890431/avatar.png","web_url":"https://gitlab.com/amandarueda"},"type":"ISSUE","assignee":{"id":3716529,"username":"jagood","name":"Jason Goodman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6696c95a1788e2d4bee67df636805ecc?s=80\u0026d=identicon","web_url":"https://gitlab.com/jagood"},"user_notes_count":27,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/323617","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/323617","notes":"https://gitlab.com/api/v4/projects/278964/issues/323617/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/323617/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#323617","relative":"#323617","full":"gitlab-org/gitlab#323617"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5431,"epic":{"id":208354,"iid":5431,"title":"Create a diverse trial offering","url":"/groups/gitlab-org/-/epics/5431","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":null},{"id":80351343,"iid":323616,"project_id":278964,"title":"Improve Total Blocking Time performance metric of Merge Request Changes page with large amount of changes","description":"\u003c!-- This template is a great use for issues that are feature::additions or technical tasks for larger issues.--\u003e\n\n### Important\n\n* This issue is meant to track the impact of the solutions put in place. Will be closed when the TBT metric is within acceptable ranges\n* For a concrete solution we're attempting, see issue https://gitlab.com/gitlab-org/gitlab/-/issues/321691 please\n\n### Proposal \n\n\u003c!-- Use this section to explain the feature and how it will work. It can be helpful to add technical details, design proposals, and links to related epics or issues. --\u003e\n\n\u003c!-- Consider adding related issues and epics to this issue. You can also reference the Feature Proposal Template (https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Feature%20proposal.md) for additional details to consider adding to this issue. Additionally, as a data oriented organization, when your feature exits planning breakdown, consider adding the `What does success look like, and how can we measure that?` section.\n\n--\u003e\n\nBefore we shipped the fix to https://gitlab.com/gitlab-org/gitlab/-/issues/241841, this was the result of the MR Changes tab for 10k architecture reference:\n\n\nNAME                                  | FCP (ms) | LCP (ms)        | TBT (ms)         | SI (ms) | LVC (ms) | TFR SIZE (kb) | SCORE | RESULT\n--------------------------------------|----------|-----------------|------------------|---------|----------|---------------|-------|-------\n`web_project_merge_request_changes | 1538 | ✘ 12542 (\u003c12500) | ✓ 26156 (\u003c32500) | 9963 | 12616 | 1352.1 | 73 | **{-FAILED-}**\n\n\nAfter this is how it looked.\n\nNAME                                  | FCP (ms) | LCP (ms)        | TBT (ms)         | SI (ms) | LVC (ms) | TFR SIZE (kb) | SCORE | RESULT\n--------------------------------------|----------|-----------------|------------------|---------|----------|---------------|-------|-------\nweb_project_merge_request_changes     | 1826     | ✓ 9898 (\u003c17500) | ✓ 26222 (\u003c32500) | 8301    | 16117    | 1179.9        | 71    | **{+Passed+}**\n\n\n# Target metric to improve\n\nTaking a closer look at the TBT, it still fluctuates a look soaring to 30s frequently.\n\n![Screenshot_2020-12-21_at_19.11.10](/uploads/1bac5965f2417f44fc132b010ef78116/Screenshot_2020-12-21_at_19.11.10.png)\n\nhttp://10k.testbed.gitlab.net/-/grafana/d/jH6yoWVMz/gitlab-performance-sitespeed-results?viewPanel=4\u0026orgId=1\u0026from=now-30d\u0026to=now\n\nWe need to bring down the TBT value.\n\n# More details\n\nSee this thread for context: https://gitlab.com/gitlab-org/gitlab/-/issues/241841#note_469085171","state":"closed","created_at":"2021-03-05T16:02:24.074Z","updated_at":"2021-04-18T07:06:26.774Z","closed_at":"2021-04-13T17:46:06.180Z","closed_by":{"id":853414,"username":"andr3","name":"André Luís","state":"active","avatar_url":"https://secure.gravatar.com/avatar/241e39726efb512a29621070ccf26a90?s=80\u0026d=identicon","web_url":"https://gitlab.com/andr3"},"labels":["Category:Code Review Workflow","Deliverable","Quality","Quality:performance-issues","bug::performance","devops::create","frontend","group::code review","merge requests","missed-SLO","performance-refinement","priority::2","regression","regression:13.10","section::dev","severity::1","type::bug"],"milestone":{"id":1406669,"iid":59,"group_id":9970,"title":"13.11","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-08-13T14:23:09.688Z","updated_at":"2022-04-21T07:22:08.835Z","due_date":"2021-04-17","start_date":"2021-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/59"},"assignees":[{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"}],"author":{"id":853414,"username":"andr3","name":"André Luís","state":"active","avatar_url":"https://secure.gravatar.com/avatar/241e39726efb512a29621070ccf26a90?s=80\u0026d=identicon","web_url":"https://gitlab.com/andr3"},"type":"ISSUE","assignee":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/323616","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":0,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/323616","notes":"https://gitlab.com/api/v4/projects/278964/issues/323616/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/323616/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#323616","relative":"#323616","full":"gitlab-org/gitlab#323616"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":80343297,"iid":323583,"project_id":278964,"title":"SCSS - Update plan badges so they all use the same color","description":"The following discussion from https://gitlab.com/gitlab-org/gitlab/-/merge_requests/54685#note_521087920 should be addressed:\n\n\u003e * [ ] vitallium I'm a bit confused (Sorry if I'm missing the idea behind this MR :sweat_smile: ). Why would we want to do that? This is conflicting with our End of Availability announcement and our [pricing page](https://about.gitlab.com/pricing/). These plans no longer exist. If we were to display it again, I imagine this would be confusing from a user perspective.\n\u003e \n\u003e Since everything should be moved to Premium and Ultimate, the colors are not relevant anymore. They are also flawed in terms of accessibility, below some contrast ratio tests: \n\u003e \n\u003e | Bronze (is okay)  | Silver | Gold |\n\u003e | ------ | ------ | ------ |\n\u003e |![image](/uploads/878befbbacc0aa1d51452ab0827c17b3/image.png) |![image](/uploads/8f612ad3da1cba8f6f21cf71f021c2ac/image.png) |![image](/uploads/3c428bca79981b529760f32d117e01ac/image.png) |\n\u003e \n\u003e Hence, I suggest we use the same color (purple mentioned [above](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/54685#note_517359119)) for all plans. This would help us remain consistent with the rest of the app while making everything simpler to maintain. \n\u003e \n\u003e cc esybrant timnoah Curious to get your thoughts too if you think we should/should not move in this direction.","state":"closed","created_at":"2021-03-05T14:34:07.733Z","updated_at":"2022-12-16T00:19:22.725Z","closed_at":"2022-12-16T00:19:22.705Z","closed_by":{"id":5211906,"username":"csouthard","name":"Chase Southard","state":"active","avatar_url":"https://secure.gravatar.com/avatar/5e2adecb9fa1d32cf007754824aa358f?s=80\u0026d=identicon","web_url":"https://gitlab.com/csouthard"},"labels":["[deprecated] Accepting merge requests","[deprecated] Category:Utilization","devops::fulfillment","frontend","group::utilization","onboarding","section::fulfillment","type::feature"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":4412383,"username":"kcomoli","name":"Kevin Comoli","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4412383/avatar.png","web_url":"https://gitlab.com/kcomoli"},"type":"ISSUE","assignee":null,"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/323583","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/323583","notes":"https://gitlab.com/api/v4/projects/278964/issues/323583/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/323583/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#323583","relative":"#323583","full":"gitlab-org/gitlab#323583"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":80340449,"iid":323580,"project_id":278964,"title":"Epic migration should include system notes","description":"## Problem to Solve\n\nWith the implementation of the [Epic migration MVC](https://gitlab.com/gitlab-org/gitlab/-/issues/250281) we need to migrate over system notes of the epic. \n\n\n## Proposed Solution\n\nUpdate `lib/gitlab/import_export/group/import_export.yml` to include `system_note_metadata`, which should start including system notes in the export/import of group epics. \n\n# Documentation\n* User docs: https://docs.gitlab.com/ee/user/group/import/ ([WIP](https://docs.gitlab.com/gitlab-org/gitlab/-/issues/292107)) \n* Dev docs: https://docs.gitlab.com/ee/development/bulk_import.html","state":"closed","created_at":"2021-03-05T14:11:13.116Z","updated_at":"2021-06-14T13:20:29.523Z","closed_at":"2021-06-14T13:20:29.508Z","closed_by":{"id":674121,"username":"georgekoltsov","name":"George Koltsov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/674121/avatar.png","web_url":"https://gitlab.com/georgekoltsov"},"labels":["Category:Importers","Importer:GitLab Migration","Next Up","auto updated","backend","devops::manage","estimation::completed","group::import","milestone::p2","missed:13.11","missed:13.12","quad-planning::complete-action","section::dev","workflow::verification"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":674121,"username":"georgekoltsov","name":"George Koltsov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/674121/avatar.png","web_url":"https://gitlab.com/georgekoltsov"}],"author":{"id":674121,"username":"georgekoltsov","name":"George Koltsov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/674121/avatar.png","web_url":"https://gitlab.com/georgekoltsov"},"type":"ISSUE","assignee":{"id":674121,"username":"georgekoltsov","name":"George Koltsov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/674121/avatar.png","web_url":"https://gitlab.com/georgekoltsov"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/323580","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/323580","notes":"https://gitlab.com/api/v4/projects/278964/issues/323580/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/323580/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#323580","relative":"#323580","full":"gitlab-org/gitlab#323580"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5189,"epic":{"id":179639,"iid":5189,"title":"Group Migration - Complete Epics","url":"/groups/gitlab-org/-/epics/5189","group_id":9970,"human_readable_end_date":"Jul 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":80332263,"iid":323577,"project_id":278964,"title":"Remove records from `security_findings` where UUID is null","description":"## Why are we doing this work\n\nWe are in the process of deprecating the usage of the `project_fingerprint` attribute of the findings. By using `uuid` values to identify findings, we can easily associate any related entity with finding.\n\nIn https://gitlab.com/gitlab-org/gitlab/-/issues/277327 we have fixed all records for which we could compute the UUID. The remaining records are unsalvageable due to expired build artifacts or missing primary identifiers.\n\n## Implementation plan\n\n- [x] ~database Write a background migration to drop records from `security_findings` table where `uuid` column is `null`","state":"closed","created_at":"2021-03-05T12:58:33.423Z","updated_at":"2021-03-26T15:02:38.918Z","closed_at":"2021-03-26T15:02:31.163Z","closed_by":{"id":5721376,"username":"minac","name":"Mehmet Emin INAC","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d8bdee790902422e3554e411a173c7c0?s=80\u0026d=identicon","web_url":"https://gitlab.com/minac"},"labels":["Category:Vulnerability Management","backend","devops::secure","good for new contributors","group::threat insights","section::sec","workflow::verification"],"milestone":{"id":1406669,"iid":59,"group_id":9970,"title":"13.11","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-08-13T14:23:09.688Z","updated_at":"2022-04-21T07:22:08.835Z","due_date":"2021-04-17","start_date":"2021-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/59"},"assignees":[],"author":{"id":487608,"username":"Quintasan","name":"Michał Zając","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/487608/avatar.png","web_url":"https://gitlab.com/Quintasan"},"type":"ISSUE","assignee":null,"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/323577","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":1},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"1 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/323577","notes":"https://gitlab.com/api/v4/projects/278964/issues/323577/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/323577/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#323577","relative":"#323577","full":"gitlab-org/gitlab#323577"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2791,"epic":{"id":27148,"iid":2791,"title":"Deprecate and remove project_fingerprint","url":"/groups/gitlab-org/-/epics/2791","group_id":9970},"iteration":null,"health_status":null},{"id":80323204,"iid":323572,"project_id":278964,"title":"Add snowplow events for the extended VSA form","description":"## Description\n\nAs part of the rollout of the extended VSA form and switching to the [new horizontal navigation](https://gitlab.com/gitlab-org/gitlab/-/issues/246493), we should track various user actions\nin order to get a better insight into how the new features are being used.\n\nRelevant events we should track:\n- Creating a new value stream\n- Editing value stream\n- Deleting a value stream\n- Selecting a value stream\n- Interactions with the horizontal path navigation\n\nThis can be done on the Frontend via the relevant buttons user's use to interact with these new features\n\n\u003c!--\n* Use this issue template for creating requests to track snowplow events\n* Snowplow events can be both Frontend (javascript) or Backend (Ruby)\n* Snowplow is currently not used for self-hosted instances of GitLab - Self-hosted still rely on usage ping for product analytics - Snowplow is used for GitLab SaaS\n* You do not need to create an issue to track generic front-end events, such as All page views, sessions, link clicks, some button clicks, etc.\n* What you should capture are specific events with defined business logic. For example, when a user creates an incident by escalating an existing alert, or when a user creates and pushes up a new Node package to the NPM registry.\n* For more details read https://about.gitlab.com/handbook/business-ops/data-team/programs/data-for-product-managers/\n --\u003e\n\n\u003c!--\nWe generally recommend events be tracked using a [structured event](https://docs.snowplowanalytics.com/docs/understanding-tracking-design/out-of-the-box-vs-custom-events-and-entities/#structured-events) which has 5 properties you can use. There may be instances where structured events are not sufficient. You may want to track an event where the property changes frequently or is general something very unique. In those cases, use a [self-describing event](https://docs.snowplowanalytics.com/docs/understanding-tracking-design/out-of-the-box-vs-custom-events-and-entities/#self-describing-events)\n\n--\u003e\n\n\u003c!--## Structured Snowplow events to track\n\n* Category: The page or backend area of the application. Unless infeasible, please use the Rails page attribute by default in the frontend, and namespace + classname on the backend. If you're not sure what it is, work with your engineering manager to figure it out.\n* Action: A string that is used to define the user action. The first word should always describe the action or aspect: clicks should be `click`, activations should be `activate`, creations should be `create`, etc. Use underscores to describe what was acted on; for example, activating a form field would be `activate_form_input`. An interface action like clicking on a dropdown would be `click_dropdown`, while a behavior like creating a project record from the backend would be `create_project`\n* Label: Optional. The specific element, or object that's being acted on. This is either the label of the element (e.g. a tab labeled 'Create from template' may be `create_from_template`) or a unique identifier if no text is available (e.g. closing the Groups dropdown in the top navbar might be `groups_dropdown_close`), or it could be the name or title attribute of a record being created.\n* Property: Optional. Any additional property of the element, or object being acted on.\n* Value: Optional, numeric. Describes a numeric value or something directly related to the event. This could be the value of an input (e.g. `10` when clicking `internal` visibility)\n\n| Category | Action | Label | Property | Feature Issue | Additional Information |\n| ------ | ------ | ------ | ------ | ------ | ------ |\n| cell | cell | cell | cell | cell | cell |\n| cell | cell | cell | cell | cell | cell |\n\n\n  Snowplow event tracking starts with instrumentation and completed after a chart is created in Sisense.\n\n  Use this checklist to ensure all steps are completed\n--\u003e\n\n## Snowplow event tracking checklist\n* [x] Engineering complete work and deploy changes to GitLab SaaS\n* [x] Verify the new Snowplow events are listed in the [Snowplow Event Exploration](https://app.periscopedata.com/app/gitlab/539181/Snowplow-Event-Exploration---last-30-days) dashboard\n* [ ] Create chart(s) to track your event(s) in the relevant dashboard\n  * [ ] Use the [Chart Snowplow Actions](https://app.periscopedata.com/app/gitlab/snippet/Chart-Snowplow-Actions/5546da87ae2c4a3fbc98415c88b3eedd/edit) SQL snippet to quickly visualize usage. See [example](https://app.periscopedata.com/app/gitlab/737489/Health-Group-Dashboard?widget=9797112\u0026udv=0)\n\n\u003c!-- Label reminders - you should have one of each of the following labels.\nUse the following resources to find the appropriate labels:\n- https://gitlab.com/gitlab-org/gitlab/-/labels\n- https://about.gitlab.com/handbook/product/categories/features/\n--\u003e","state":"closed","created_at":"2021-03-05T11:35:00.572Z","updated_at":"2021-06-11T13:23:53.213Z","closed_at":"2021-06-11T13:23:53.193Z","closed_by":{"id":1749038,"username":"wortschi","name":"Martin Wortschack","state":"active","avatar_url":"https://secure.gravatar.com/avatar/81f1a88935a2a512aa14db650ed37fdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/wortschi"},"labels":["Category:Value Stream Management","devops::manage","frontend","group::optimize","missed:13.11","missed:13.12","priority::4","section::dev","snowplow tracking events","type::feature","workflow::verification"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":3397881,"username":"ekigbo","name":"Ezekiel Kigbo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3397881/avatar.png","web_url":"https://gitlab.com/ekigbo"}],"author":{"id":3397881,"username":"ekigbo","name":"Ezekiel Kigbo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3397881/avatar.png","web_url":"https://gitlab.com/ekigbo"},"type":"ISSUE","assignee":{"id":3397881,"username":"ekigbo","name":"Ezekiel Kigbo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3397881/avatar.png","web_url":"https://gitlab.com/ekigbo"},"user_notes_count":9,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/323572","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":4,"completed_count":2},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"2 of 4 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/323572","notes":"https://gitlab.com/api/v4/projects/278964/issues/323572/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/323572/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#323572","relative":"#323572","full":"gitlab-org/gitlab#323572"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":80309710,"iid":323560,"project_id":278964,"title":"Add Metrics YAML definitions for metrics that are in an array","description":"Metrics like topology and geo nodes are arrays of values. \n\nHow we should have the YAML definitions for this cases?\n\n* [ ] Add example of topology and geo nodes structure \n* [ ] Update issue description with proposal","state":"closed","created_at":"2021-03-05T08:56:41.494Z","updated_at":"2021-04-27T11:51:59.125Z","closed_at":"2021-04-27T11:51:59.069Z","closed_by":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"labels":["devops::growth","group::product intelligence","milestone::p1","missed:13.10","missed:13.11","section::growth","workflow::in dev"],"milestone":{"id":1233762,"iid":58,"group_id":9970,"title":"13.12","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.948Z","updated_at":"2022-04-21T07:22:18.898Z","due_date":"2021-05-17","start_date":"2021-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/58"},"assignees":[{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"}],"author":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"type":"ISSUE","assignee":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/323560","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":0},"weight":8,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/323560","notes":"https://gitlab.com/api/v4/projects/278964/issues/323560/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/323560/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#323560","relative":"#323560","full":"gitlab-org/gitlab#323560"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5280,"epic":{"id":189641,"iid":5280,"title":"Generate Metrics Dictionary from yml files","url":"/groups/gitlab-org/-/epics/5280","group_id":9970,"human_readable_end_date":"May 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":80304201,"iid":323553,"project_id":278964,"title":"Update Usage Ping metrics definitions to deprecated","description":"We have a list of deprecated metrics in Usage Ping, having value returned `-1000` this should also reflect in the corresponding  YAML metrics definition.\n\n[We send -1000 value for this metrics](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/51495/diffs), this means are deprecated\n\nDeprecated metrics are added to [Monitoring Usage Ping issue](https://gitlab.com/gitlab-org/gitlab/-/issues/321996#note_516781512)\n\n```\n{:\"usage_activity_by_stage.manage.bulk_imports.gitlab\"=\u003e-1000}\n{:\"usage_activity_by_stage.manage.groups_imported\"=\u003e-1000}\n{:\"usage_activity_by_stage.manage.issues_imported.csv\"=\u003e-1000}\n{:\"usage_activity_by_stage.manage.issues_imported.jira\"=\u003e-1000}\n{:\"usage_activity_by_stage.manage.issues_imported.fogbugz\"=\u003e-1000}\n{:\"usage_activity_by_stage.manage.issues_imported.phabricator\"=\u003e-1000}\n{:\"usage_activity_by_stage.manage.projects_imported.git\"=\u003e-1000}\n{:\"usage_activity_by_stage.manage.projects_imported.gitea\"=\u003e-1000}\n{:\"usage_activity_by_stage.manage.projects_imported.total\"=\u003e-1000}\n{:\"usage_activity_by_stage.manage.projects_imported.github\"=\u003e-1000}\n{:\"usage_activity_by_stage.manage.projects_imported.gitlab\"=\u003e-1000}\n{:\"usage_activity_by_stage.manage.projects_imported.manifest\"=\u003e-1000}\n{:\"usage_activity_by_stage.manage.projects_imported.bitbucket\"=\u003e-1000}\n{:\"usage_activity_by_stage.manage.projects_imported.gitlab_project\"=\u003e-1000}\n{:\"usage_activity_by_stage.manage.projects_imported.bitbucket_server\"=\u003e-1000}\n{:\"usage_activity_by_stage_monthly.manage.bulk_imports.gitlab\"=\u003e-1000}\n{:\"usage_activity_by_stage_monthly.manage.groups_imported\"=\u003e-1000}\n{:\"usage_activity_by_stage_monthly.manage.issues_imported.csv\"=\u003e-1000}\n{:\"usage_activity_by_stage_monthly.manage.issues_imported.jira\"=\u003e-1000}\n{:\"usage_activity_by_stage_monthly.manage.issues_imported.fogbugz\"=\u003e-1000}\n{:\"usage_activity_by_stage_monthly.manage.issues_imported.phabricator\"=\u003e-1000}\n{:\"usage_activity_by_stage_monthly.manage.projects_imported.git\"=\u003e-1000}\n{:\"usage_activity_by_stage_monthly.manage.projects_imported.gitea\"=\u003e-1000}\n{:\"usage_activity_by_stage_monthly.manage.projects_imported.total\"=\u003e-1000}\n{:\"usage_activity_by_stage_monthly.manage.projects_imported.github\"=\u003e-1000}\n{:\"usage_activity_by_stage_monthly.manage.projects_imported.gitlab\"=\u003e-1000}\n{:\"usage_activity_by_stage_monthly.manage.projects_imported.manifest\"=\u003e-1000}\n{:\"usage_activity_by_stage_monthly.manage.projects_imported.bitbucket\"=\u003e-1000}\n{:\"usage_activity_by_stage_monthly.manage.projects_imported.gitlab_project\"=\u003e-1000}\n{:\"usage_activity_by_stage_monthly.manage.projects_imported.bitbucket_server\"=\u003e-1000}\n```\n\nWith this issue we should:\n\n* Update metrics definition to `status: deprecated`\n* Generate the new dictionary","state":"closed","created_at":"2021-03-05T07:44:53.580Z","updated_at":"2021-03-17T14:09:00.654Z","closed_at":"2021-03-17T14:08:07.541Z","closed_by":{"id":8198564,"username":"rkadam3","name":"Rajendra Kadam","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8198564/avatar.png","web_url":"https://gitlab.com/rkadam3"},"labels":["devops::growth","group::product intelligence","milestone::p2","product intelligence::onboarding issue","section::growth","workflow::in review"],"milestone":null,"assignees":[{"id":8198564,"username":"rkadam3","name":"Rajendra Kadam","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8198564/avatar.png","web_url":"https://gitlab.com/rkadam3"}],"author":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"type":"ISSUE","assignee":{"id":8198564,"username":"rkadam3","name":"Rajendra Kadam","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8198564/avatar.png","web_url":"https://gitlab.com/rkadam3"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/323553","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/323553","notes":"https://gitlab.com/api/v4/projects/278964/issues/323553/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/323553/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#323553","relative":"#323553","full":"gitlab-org/gitlab#323553"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5279,"epic":{"id":189497,"iid":5279,"title":"Service Ping 2.0 Enhancements","url":"/groups/gitlab-org/-/epics/5279","group_id":9970,"human_readable_end_date":"Jul 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":80301978,"iid":323552,"project_id":278964,"title":"Guest project member can access log of jobs with enabled debug logging","description":"**[HackerOne report #1113405](https://hackerone.com/reports/1113405)** by `jimeno` on 2021-02-28, assigned to @ngeorge1:\n\n[Report](#report) | [Attachments](#attachments) | [How To Reproduce](#how-to-reproduce)\n\n## Report\n\n#####  Summary\n\nGuest project member can access log of jobs with enabled debugging after some, presumably, caching period. Official [documentation](https://docs.gitlab.com/ee/user/permissions.html) says they can't.\n\n![permissions_doc.png](https://h1.sec.gitlab.net/a/a3040412-8e95-4fe4-8641-5ecca1361247/permissions_doc.png)\n\nGitLab official [docs](https://docs.gitlab.com/ee/ci/variables/README.html#restricted-access-to-debug-logging) say:\n\n\u003e With restricted access to debug logging, only users with developer or higher permissions can view job logs when debug logging is enabled with a variable in:  \n\u003e\n\u003e - The .gitlab-ci.yml file.  \n\u003e - The CI/CD variables set within the GitLab UI.\n\nThey provide an [example](https://docs.gitlab.com/ee/ci/variables/README.html#enable-debug-logging) of enabling the debug mode too.\n\n\u003e To enable debug logs (traces), set the CI_DEBUG_TRACE variable to true:\n\n```yml  \njob_name:  \n  variables:  \n    CI_DEBUG_TRACE: \"true\"  \n```\n\nI decided to test caching mechanisms in GitLab after reading https://gitlab.com/gitlab-org/gitlab/-/issues/289944, which is another caching bug at GitLab that was rewarded and fixed.\n\n#####  Steps to reproduce\n\n1. As userA (victim) create a project and enable GitLab CI for it by adding the following YAML file to it.\n\n    ```yaml  \n    image: alpine:latest  \n      \n    variables:  \n      FOO: bar  \n      \n    stages:  \n      - test  \n      \n    dummy:  \n      variables:  \n        CI_DEBUG_TRACE: \"true\"  \n      stage: test  \n      script:  \n        - echo \"${FOO}\"  \n    ```\n\n2. Invite userB (attacker) to your project with Guest role.\n\n    ![project_members.png](https://h1.sec.gitlab.net/a/32f812f4-0c20-4223-9b0e-828f47799c01/project_members.png)\n\n3. As your victim user, browse to the [GraphQL explorer](https://gitlab.com/-/graphql-explorer) and run the following query in order to find the Job ID. Please note we are only doing this step to find job's ID. In a real world scenario, attacker could omit this step by bruteforcing it (incremental, decimal number). Please, remember to replace `fullPath` with yours (`project_author/project_name`).\n\n    ```graphql  \n    query infogathering {  \n      project(fullPath:\"naaytesting2/proje\") {  \n        pipelines {  \n          edges {  \n            node {  \n              id  \n              stages {  \n                edges {  \n                  node {  \n                    name  \n                    groups {  \n                      edges {  \n                        node {  \n                          name  \n                          jobs {  \n                            edges {  \n                              node {  \n                                name  \n                                detailedStatus {  \n                                  detailsPath  \n                                }  \n                              }  \n                            }  \n                          }  \n                        }  \n                      }  \n                    }  \n                  }  \n                }  \n              }  \n            }  \n          }  \n        }  \n      }  \n    }  \n    ```\n\n4. Grab the Job ID from the `detailsPath` value in the response. In my case it looks like `/naaytesting2/proje/-/jobs/1061991036` --\u003e `1061991036`.\n\n5. Wait for at least 2 minutes. As your attacker user, build the final attack URL by replacing the placeholders in this URL: `https://gitlab.com/AUTHOR/PROJECTNAME/-/jobs/JOBID/artifacts/download?file_type=trace`. In my case, the final URL looked like `https://gitlab.com/naaytesting2/proja/-/jobs/1061991036/artifacts/download?file_type=trace`.\n\n6. Download and open the `job.log` file.\n\n7. If victim tries to browse to the job directly, for example at `https://gitlab.com/naaytesting2/proje/-/jobs/1062011620` they get an insufficient permissions error.\n\n    [redacted]\n\n#####  Impact\n\nRoles aren't respected when accessing jobs with debug logging enabled.\n\n#####  Examples\n\nAttached you will find a test repository. However, I don't think this is helpful.\n\n#####  What is the current *bug* behavior?\n\nRoles aren't respected and Guest members can access jobs they aren't supposed to access.\n\n#####  What is the expected *correct* behavior?\n\nGuest and Reporter members get a 403/404 response when trying to access jobs they aren't supposed to access.\n\n#####  Relevant logs and/or screenshots\n\nPlease, find a detailed step by step reproduction attached to this report.\n\n[redacted]\n\n\n#####  Output of checks\n\nThis bug happens on GitLab.com\n\n######  Results of GitLab environment info\n\nN/A. Tests performed 2020/02/28 19:00-20:30 Madrid time.\n\n####  Impact\n\nRoles aren't respected when accessing jobs with debug logging enabled.\n\n## Attachments\n\n**Warning:** Attachments received through HackerOne, please exercise caution!\n\n* [redacted]\n* [project_members.png](https://h1.sec.gitlab.net/a/32f812f4-0c20-4223-9b0e-828f47799c01/project_members.png)\n* [permissions_doc.png](https://h1.sec.gitlab.net/a/a3040412-8e95-4fe4-8641-5ecca1361247/permissions_doc.png)\n* [redacted]\n\n# Technical proposal\n\n`Projects::ArtifactsController#download` only checks the `read_build` policy to determine whether a user has access. When `file_type` is `trace` and `build.debug_mode?`, `#download` should additionally apply the `read_build_trace` policy","state":"closed","created_at":"2021-03-05T07:03:24.616Z","updated_at":"2023-01-03T10:04:41.520Z","closed_at":"2022-05-02T21:47:05.476Z","closed_by":{"id":4226366,"username":"ankelly","name":"Andrew Kelly","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4226366/avatar.png","web_url":"https://gitlab.com/ankelly"},"labels":["Category:Continuous Integration","Deliverable","FY23::Q1","HackerOne","OKR","Verify candidate","Verify::P1","Weakness::CWE-284","backend","bug::vulnerability","devops::verify","group::pipeline execution","missed-SLO","missed-deliverable","missed:14.10","priority::3","section::ops","security","severity::3","type::bug","workflow::awaiting security release"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":4059128,"username":"avielle","name":"Avielle Wolfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4059128/avatar.png","web_url":"https://gitlab.com/avielle"}],"author":{"id":2741139,"username":"gitlab-securitybot","name":"GitLab SecurityBot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2741139/avatar.png","web_url":"https://gitlab.com/gitlab-securitybot"},"type":"ISSUE","assignee":{"id":4059128,"username":"avielle","name":"Avielle Wolfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4059128/avatar.png","web_url":"https://gitlab.com/avielle"},"user_notes_count":29,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2021-06-03","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/323552","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/323552","notes":"https://gitlab.com/api/v4/projects/278964/issues/323552/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/323552/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#323552","relative":"#323552","full":"gitlab-org/gitlab#323552"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":80300999,"iid":323548,"project_id":278964,"title":"Unify metrics definition YAML file in one file","description":"This is needed for data team in order to be easier to import the metric definitions.\n\nThis could be also seen as the Usage Ping schema\n\n### Proposal \n\nHave a JSON unified file with all informations.\n\n1. Have a rake task similar with the [bundle exec rake gitlab:usage_data:generate_metrics_dictionary](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html)\n\nEach time we change the definitions files the unified file should be updated. \n\n2. Have an API for this where we return the unified data\n\ncc @gitlab-org/growth/product-intelligence/engineers @mpeychet\\_","state":"closed","created_at":"2021-03-05T06:37:57.826Z","updated_at":"2021-04-15T18:58:23.949Z","closed_at":"2021-04-15T18:58:23.886Z","closed_by":{"id":8013274,"username":"pskorupa","name":"Piotr Skorupa","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8013274/avatar.png","web_url":"https://gitlab.com/pskorupa"},"labels":["devops::growth","group::product intelligence","product intelligence::onboarding issue","section::growth","workflow::verification"],"milestone":{"id":1406669,"iid":59,"group_id":9970,"title":"13.11","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-08-13T14:23:09.688Z","updated_at":"2022-04-21T07:22:08.835Z","due_date":"2021-04-17","start_date":"2021-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/59"},"assignees":[{"id":8013274,"username":"pskorupa","name":"Piotr Skorupa","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8013274/avatar.png","web_url":"https://gitlab.com/pskorupa"}],"author":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"type":"ISSUE","assignee":{"id":8013274,"username":"pskorupa","name":"Piotr Skorupa","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8013274/avatar.png","web_url":"https://gitlab.com/pskorupa"},"user_notes_count":12,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/323548","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/323548","notes":"https://gitlab.com/api/v4/projects/278964/issues/323548/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/323548/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#323548","relative":"#323548","full":"gitlab-org/gitlab#323548"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5279,"epic":{"id":189497,"iid":5279,"title":"Service Ping 2.0 Enhancements","url":"/groups/gitlab-org/-/epics/5279","group_id":9970,"human_readable_end_date":"Jul 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":80298251,"iid":323547,"project_id":278964,"title":"Geo: Add troubleshooting commands for data types handled by the SSF","description":"I can't find it right now but I thought there was a document with typical Rails console commands that especially help Support when troubleshooting.\n\nFor example, we should add:\n\nTo sync a Package File on a secondary, synchronously, if you have the ID, you can run:\n\n```ruby\npackage_file = Packages::PackageFile.find(id)\npackage_file.replicator.download\n```\n\nIf you have a `Geo::PackageFileRegistry` object:\n\n```ruby\nregistry = Geo::PackageFileRegistry.find(registry_id)\nregistry.replicator.download\n```\n\nThe main kinds of classes are Registry, Model, and Replicator. If you have an instance of one of these classes, you can get the others.\n\n```ruby\nmodel_record = Packages::PackageFile.last\nmodel_record.replicator.registry.replicator.model_record # just showing that these methods exist\n```","state":"closed","created_at":"2021-03-05T05:41:52.223Z","updated_at":"2021-03-18T16:05:51.913Z","closed_at":"2021-03-18T16:05:51.353Z","closed_by":{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"},"labels":["devops::systems","documentation","group::geo","section::enablement"],"milestone":{"id":1233761,"iid":57,"group_id":9970,"title":"13.10","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.646Z","updated_at":"2022-04-21T07:22:00.171Z","due_date":"2021-03-17","start_date":"2021-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/57"},"assignees":[{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"}],"author":{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"},"type":"ISSUE","assignee":{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/323547","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":0,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/323547","notes":"https://gitlab.com/api/v4/projects/278964/issues/323547/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/323547/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#323547","relative":"#323547","full":"gitlab-org/gitlab#323547"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":80289113,"iid":323527,"project_id":278964,"title":"Directory lock button label is sometimes incorrect","description":"### Summary\n\nWhen using the directory/file tree without refreshing the page the \"Lock\"/\"Unlock\" button will sometimes read incorrectly.\n\n### Steps to reproduce\n\nCreate two directories (`temp1` and `temp2`). Navigate to `temp1` and click the \"Lock\" button. Click the two dots to move up one directory and then click `temp2`. The button will say \"Unlock\" even though this directory isn't locked.\n\n### What is the current *bug* behavior?\n\n\"Lock\"/\"Unlock\" button doesn't sync with current directory\n\n### What is the expected *correct* behavior?\n\n\"Lock\"/\"Unlock\" button should stay in sync with current directory\n\n### Relevant logs and/or screenshots\n\n![Screen_Recording_2021-03-04_at_4.18.56_PM](/uploads/a6f2028cbae5052e49b378068a6801e1/Screen_Recording_2021-03-04_at_4.18.56_PM.mov)\n\n### Possible fixes\n\nThis is tricky to fix because the \"Lock\"/\"Unlock\" button is in HAML and the directory/file tree is in Vue. We need to somehow fetch the lock status of the current directory when navigating between directories. It may make sense to move these buttons into the Vue app. There is https://gitlab.com/groups/gitlab-org/-/epics/5531 which is tracking a similar effort.","state":"closed","created_at":"2021-03-05T00:24:27.407Z","updated_at":"2022-05-13T14:05:56.208Z","closed_at":"2022-04-13T19:17:59.172Z","closed_by":{"id":853414,"username":"andr3","name":"André Luís","state":"active","avatar_url":"https://secure.gravatar.com/avatar/241e39726efb512a29621070ccf26a90?s=80\u0026d=identicon","web_url":"https://gitlab.com/andr3"},"labels":["Category:Source Code Management","[deprecated] Accepting merge requests","bug::transient","devops::create","frontend","group::source code","missed:13.12","missed:14.0","missed:14.1","missed:14.2","missed:14.3","missed:14.4","priority::2","section::dev","severity::3","type::bug"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[],"author":{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"},"type":"ISSUE","assignee":null,"user_notes_count":12,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/323527","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/323527","notes":"https://gitlab.com/api/v4/projects/278964/issues/323527/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/323527/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#323527","relative":"#323527","full":"gitlab-org/gitlab#323527"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":80287554,"iid":323525,"project_id":278964,"title":"Allow instance level runners to be restricted to certain plan types - MVC","description":"### Problem to solve \n\nOn GitLab.com, when malicious users abuse or overwhelm the system it can have denial-of-service impacts on paying customers (malicous or over-zealous usage appears to almost always come from the free tier). And while our teams have some tools to combat this as it happens, it for the most part is a reaction and there's often an impact to legitimate use. \n\nCurrently we have three types of runners (instance runners, group runners, specific runners), and a single CI build queue. All new jobs from pipelines get added to a single queue, and then when runners poll for a job to execute they're assigned a job if it matches their criteria such as specificity (ie: a `gitlab-org` group runner won't pick up a job that's from the `gitlab-com` group), tags (ie: a job tagged with `docker` will only be picked up by a runner having a matching tag).\n\nThis is likely a GitLab.com specific problem to solve, however there are some ways it could be iterated on to be of interest to self-hosted users.\n\n\n### Intended users\n\n* [Sidney (Systems Administrator)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sidney-systems-administrator)\n* [Alex (Security Operations Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#alex-security-operations-engineer)\n\n### User experience goal\n\nPaying users should be protected from the impacts of malicious users or insulated from the impacts of the system being overwhelmed.\n\n### Proposal (original)\n\nAt a high-level, I propose adding an option in the admin page for instance runners, that allows instance admin's to be able to specify that these runners can only be assigned jobs that are associated with specific plan types. Then, when/if this feature is used, when a runner is requesting a job only jobs associated with projects, which are associated with namespaces, which are associated with the specific plan types are considered.\n\n\nA mock-up of the UI might look like this:\n\n:warning: Mock-up made by a Backend Engineering Manager :warning: \n\n![Screen_Shot_2021-03-04_at_3.11.56_PM](/uploads/6507665b0a9d94b861478a261df441a2/Screen_Shot_2021-03-04_at_3.11.56_PM.png)\n\n\n### Further details\n\nIf done this way, the runners themselves would have no knowledge of being restricted to specific plans. So no change needs to happen on the runner side of the interaction.\n\nOn the infrastructure side, we could then not only shard these runners by plan type but move those runners into plan-specific GCP projects. This would even further insulate paying tiers from abuse by providing them with their own GCP quotas to use.\n\nThis could be further iterated on to allow restricting the runners to only pick up jobs triggered by specific users or users of specific groups - which would solve the problem being asked for in https://gitlab.com/gitlab-org/gitlab/-/issues/290997\n\nAs we introduce more \"premium\" type runners (macOS, Windows, GPU enabled instances, higher capacity instances) those could then be restricted to paying tiers or specific paying tiers.\n\n## Implementation plan \n\n**Note** The solution implemented for this MVC did not include a UI change to the Admin Area \u003e Runners view.\n\n\n- [ ] Add the ability to specify a list of plans that a specific instance runner will support.\n- [ ] Add a mechanism so that only projects belonging to the namespace with the matching play type will be able to execute jobs on that specific instance runner.","state":"closed","created_at":"2021-03-04T23:23:56.314Z","updated_at":"2022-06-20T16:50:57.714Z","closed_at":"2022-05-25T22:59:23.430Z","closed_by":{"id":4228834,"username":"DarrenEastman","name":"Darren Eastman","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4228834/avatar.png","web_url":"https://gitlab.com/DarrenEastman"},"labels":["Roadmap","[Deprecated] Category:Runner","[deprecated] Accepting merge requests","customer","devops::verify","gitlab.com","group::runner","missed:14.0","missed:14.1","missed:14.2","runner::saas","section::ops","type::feature"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[],"author":{"id":2469083,"username":"erushton","name":"Elliot Rushton","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4194662ce4a5b5f53e61689fd7a2daf9?s=80\u0026d=identicon","web_url":"https://gitlab.com/erushton"},"type":"ISSUE","assignee":null,"user_notes_count":68,"merge_requests_count":0,"upvotes":6,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/323525","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":0},"weight":5,"blocking_issues_count":1,"has_tasks":true,"task_status":"0 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/323525","notes":"https://gitlab.com/api/v4/projects/278964/issues/323525/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/323525/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#323525","relative":"#323525","full":"gitlab-org/gitlab#323525"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6058,"epic":{"id":275817,"iid":6058,"title":"Limit access to a runner to specified users, group or projects","url":"/groups/gitlab-org/-/epics/6058","group_id":9970,"human_readable_timestamp":"\u003cstrong\u003eUpcoming\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":80276333,"iid":323500,"project_id":278964,"title":"Gemnasium is crashing with a fatal YAML parsing error when scanning urijs node module","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\nGemnasium is crashing with a fatal YAML parsing error when scanning urijs node module\n```\n$ /analyzer run\n[INFO] [Gemnasium] [2021-03-04T17:27:17Z] ▶ GitLab Gemnasium analyzer v2.29.2\n[INFO] [Gemnasium] [2021-03-04T17:27:18Z] ▶ Using commit be504874a46309f877f6e56eeee87c26e0fc0d46\n of vulnerability database\n[FATA] [Gemnasium] [2021-03-04T17:27:18Z] ▶ yaml: line 6: found unknown escape character\n```\n\n\u003c!-- Summarize the bug encountered concisely. --\u003e\n\n### Steps to reproduce\n\n1. Create a project with `gemnasium-dependency_scanning` job. \n2. It should be a nodejs project using yarn\n3. Add this to package.json:\n\n```\n{\n  \"name\": \"quick-test-example\",\n  \"version\": \"1.0.0\",\n  \"main\": \"app.js\",\n  \"author\": \"Some author\",\n  \"license\": \"ISC\",\n  \"dependencies\": {\n    \"urijs\": \"1.19.6\"\n  }\n}\n```\n\n4. Run `yarn install` and commit to repo. \n5. The job `gemnasium-dependency_scanning`  will fail with a fatal YAML parsing error\n\n### Example Project\n\n\u003c!-- If possible, please create an example project here on GitLab.com that exhibits the problematic \nbehavior, and link to it here in the bug report. If you are using an older version of GitLab, this \nwill also determine whether the bug is fixed in a more recent version. --\u003e\n\nhttps://gitlab.com/gitlab-gold/kategrechishkinatestgroup/gemnasium-bug\n\n### What is the current *bug* behavior?\n\nThe `gemnasium-dependency_scanning` fails with a YAML parsing error `yaml: line 6: found unknown escape character`\n\n### What is the expected *correct* behavior?\n\n`gemnasium-dependency_scanning` job should be completed successfully.\n\n### Relevant logs and/or screenshots\n\n```\n$ /analyzer run\n[INFO] [Gemnasium] [2021-03-04T17:27:17Z] ▶ GitLab Gemnasium analyzer v2.29.2\n[INFO] [Gemnasium] [2021-03-04T17:27:18Z] ▶ Using commit be504874a46309f877f6e56eeee87c26e0fc0d46\n of vulnerability database\n[FATA] [Gemnasium] [2021-03-04T17:27:18Z] ▶ yaml: line 6: found unknown escape character\n```\n\n\n### Possible fixes\n\n- Fix invalid YAML syntax in advisory description\n\n### Workaround\n\nPin Gemnasium analyzer v2.27.0 image \n\n\u003c!-- If you can, link to the line of code that might be responsible for the problem. --\u003e","state":"closed","created_at":"2021-03-04T18:15:32.773Z","updated_at":"2021-03-18T07:08:45.536Z","closed_at":"2021-03-04T19:40:54.166Z","closed_by":{"id":52092,"username":"gonzoyumo","name":"Olivier Gonzalez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/651e0ff81c3995a05269f7c80895fe89?s=80\u0026d=identicon","web_url":"https://gitlab.com/gonzoyumo"},"labels":["Deliverable","backend","customer","devops::secure","group::composition analysis","priority::1","section::sec","type::bug","workflow::verification"],"milestone":{"id":1233761,"iid":57,"group_id":9970,"title":"13.10","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.646Z","updated_at":"2022-04-21T07:22:00.171Z","due_date":"2021-03-17","start_date":"2021-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/57"},"assignees":[{"id":52092,"username":"gonzoyumo","name":"Olivier Gonzalez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/651e0ff81c3995a05269f7c80895fe89?s=80\u0026d=identicon","web_url":"https://gitlab.com/gonzoyumo"}],"author":{"id":7272738,"username":"kategrechishkina","name":"Kate Grechishkina","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7272738/avatar.png","web_url":"https://gitlab.com/kategrechishkina"},"type":"ISSUE","assignee":{"id":52092,"username":"gonzoyumo","name":"Olivier Gonzalez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/651e0ff81c3995a05269f7c80895fe89?s=80\u0026d=identicon","web_url":"https://gitlab.com/gonzoyumo"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/323500","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/323500","notes":"https://gitlab.com/api/v4/projects/278964/issues/323500/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/323500/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#323500","relative":"#323500","full":"gitlab-org/gitlab#323500"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":80275518,"iid":323498,"project_id":278964,"title":"Unable to edit squash commit message when squashing is required in MRs","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\n\u003c!-- Summarize the bug encountered concisely. --\u003e\n\n### Steps to reproduce\n\n- In project settings, `Squash commits when merging`, I select `Require`.\n- In a merge request, I cannot edit the squash commit message.\n\nThe squash commit selection UI _does_ appear if I choose `Encourage` in the settings. But I want it for `Require`\n\n\u003c!-- Describe how one can reproduce the issue - this is very important. Please use an ordered list. --\u003e\n\n### Example Project\n\n\u003c!-- If possible, please create an example project here on GitLab.com that exhibits the problematic \nbehavior, and link to it here in the bug report. If you are using an older version of GitLab, this \nwill also determine whether the bug is fixed in a more recent version. --\u003e\n\n### What is the current *bug* behavior?\n\n\u003c!-- Describe what actually happens. --\u003e\n\n### What is the expected *correct* behavior?\n\n\u003c!-- Describe what you should see instead. --\u003e\n\n### Relevant logs and/or screenshots\n\n![image](/uploads/8b2875ffadeafdf7f50f4fab46698e14/image.png)\n\n### Output of checks\n\n\u003c!-- If you are reporting a bug on GitLab.com, write: This bug happens on GitLab.com --\u003e\n\n#### Results of GitLab environment info\n\n\u003c!--  Input any relevant GitLab environment information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to GitLab environment info\u003c/summary\u003e\n\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:env:info`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:env:info RAILS_ENV=production`)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n#### Results of GitLab application Check\n\n\u003c!--  Input any relevant GitLab application check information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to the GitLab application check\u003c/summary\u003e\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:check SANITIZE=true`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:check RAILS_ENV=production SANITIZE=true`)\n\n(we will only investigate if the tests are passing)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n### Possible fixes\n\n\u003c!-- If you can, link to the line of code that might be responsible for the problem. --\u003e","state":"closed","created_at":"2021-03-04T18:00:55.985Z","updated_at":"2021-06-30T16:21:56.917Z","closed_at":"2021-06-30T16:21:56.902Z","closed_by":{"id":4017300,"username":"jboyson","name":"Justin Boyson","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4017300/avatar.png","web_url":"https://gitlab.com/jboyson"},"labels":["Category:Code Review Workflow","Deliverable","approaching-SLO","devops::create","frontend","group::code review","merge requests","missed-SLO","priority::1","section::dev","severity::2","type::bug","workflow::verification"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":4017300,"username":"jboyson","name":"Justin Boyson","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4017300/avatar.png","web_url":"https://gitlab.com/jboyson"}],"author":{"id":3805879,"username":"_victorwu_","name":"Victor Wu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3805879/avatar.png","web_url":"https://gitlab.com/_victorwu_"},"type":"ISSUE","assignee":{"id":4017300,"username":"jboyson","name":"Justin Boyson","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4017300/avatar.png","web_url":"https://gitlab.com/jboyson"},"user_notes_count":7,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/323498","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/323498","notes":"https://gitlab.com/api/v4/projects/278964/issues/323498/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/323498/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#323498","relative":"#323498","full":"gitlab-org/gitlab#323498"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":80272571,"iid":323495,"project_id":278964,"title":"Geo: Package file sync fails to follow redirects for direct download object storage","description":"[Internal Slack conversation](https://gitlab.slack.com/archives/C32LCGC1H/p1614624551069700)\n\nLooks like same problem as https://gitlab.com/gitlab-org/gitlab/-/issues/201995, for the Geo framework Blob strategy.\n\nWorkaround should be the same: Use `proxy_download` option when configuring object storage on the primary. It's less efficient though.","state":"closed","created_at":"2021-03-04T17:17:12.905Z","updated_at":"2021-03-17T13:54:39.315Z","closed_at":"2021-03-12T03:20:48.733Z","closed_by":{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"},"labels":["customer","devops::systems","group::geo","priority::2","section::enablement","severity::2","type::bug","workflow::in review"],"milestone":{"id":1233761,"iid":57,"group_id":9970,"title":"13.10","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.646Z","updated_at":"2022-04-21T07:22:00.171Z","due_date":"2021-03-17","start_date":"2021-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/57"},"assignees":[{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"}],"author":{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"},"type":"ISSUE","assignee":{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/323495","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/323495","notes":"https://gitlab.com/api/v4/projects/278964/issues/323495/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/323495/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#323495","relative":"#323495","full":"gitlab-org/gitlab#323495"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":80271926,"iid":323493,"project_id":278964,"title":"[Feature flag] Enable caching issues count in group sidebar","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n## What\n\nRemove the `:cached_sidebar_open_issues_count` feature flag ...\n\n## Owners\n\n- Team: Plan\n- Most appropriate slack channel to reach out to: `#s_plan-be`\n- Best individual to reach out to: @egrieff\n\n## Expectations\n\n### What are we expecting to happen?\n\n1. When a group has more than `1000` issues:\n  - Loading times for all group pages should be reduced (1 fewer `count` query).\n  - Redis calls will increase (Cached value expire every 24 hours).\n  - The sidebar will display a truncated count for open issues. Example: `1.3k`.\n2. When a group has fewer than `1000` issues:\n  - No changes.\n\n### What might happen if this goes wrong?\n\nNegative feedback from users no longer seeing a precise issues count at the group level. No performance impact.\n\n### What can we monitor to detect problems with this?\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? Sentry errors reports can alse be useful to review --\u003e\n\n\n## Beta groups/projects\n\nIf applicable, any groups/projects that are happy to have this feature turned on early. Some organizations may wish to test big changes they are interested in with a small subset of users ahead of time for example.\n\n- `gitlab-org/gitlab` project\n- `gitlab-org`/`gitlab-com` groups\n- ...\n\n## Roll Out Steps\n\n- [x] Enable on staging (`/chatops run feature set feature_name true --staging`)\n- [x] Test on staging\n- [x] Ensure that documentation has been updated\n- [x] Enable on GitLab.com for individual groups/projects listed above and verify behaviour  (`/chatops run feature set --project=gitlab-org/gitlab feature_name true`)\n- [x] Coordinate a time to enable the flag with the SRE oncall and release managers\n  - In `#production` mention `@sre-oncall` and `@release-managers`. Once an SRE on call and Release Manager on call confirm, you can proceed with the rollout\n- [x] Announce on the issue an estimated time this will be enabled on GitLab.com\n- [x] Enable on GitLab.com by running chatops command in `#production` (`/chatops run feature set feature_name true`)\n- [x] Cross post chatops Slack command to `#support_gitlab-com` ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#where-to-run-commands)) and in your team channel\n- [x] Announce on the issue that the flag has been enabled\n- [x] Remove feature flag and add changelog entry. Ensure that the feature flag definition YAML file has been removed in the **same MR** that is removing the feature flag from the code\n- [x] After the flag removal is deployed, [clean up the feature flag](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) by running chatops command in `#production` channel\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set --project=gitlab-org/gitlab feature_name false\n```","state":"closed","created_at":"2021-03-04T17:09:46.162Z","updated_at":"2021-04-14T09:42:38.916Z","closed_at":"2021-04-14T09:42:38.759Z","closed_by":{"id":3860200,"username":"egrieff","name":"Eugenia Grieff","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3860200/avatar.png","web_url":"https://gitlab.com/egrieff"},"labels":["backend","devops::plan","feature flag","group::product planning","section::dev","workflow::in dev"],"milestone":{"id":1406669,"iid":59,"group_id":9970,"title":"13.11","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-08-13T14:23:09.688Z","updated_at":"2022-04-21T07:22:08.835Z","due_date":"2021-04-17","start_date":"2021-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/59"},"assignees":[{"id":3860200,"username":"egrieff","name":"Eugenia Grieff","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3860200/avatar.png","web_url":"https://gitlab.com/egrieff"}],"author":{"id":3860200,"username":"egrieff","name":"Eugenia Grieff","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3860200/avatar.png","web_url":"https://gitlab.com/egrieff"},"type":"ISSUE","assignee":{"id":3860200,"username":"egrieff","name":"Eugenia Grieff","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3860200/avatar.png","web_url":"https://gitlab.com/egrieff"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/323493","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":12,"completed_count":11},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"11 of 12 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/323493","notes":"https://gitlab.com/api/v4/projects/278964/issues/323493/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/323493/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#323493","relative":"#323493","full":"gitlab-org/gitlab#323493"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":80264928,"iid":323487,"project_id":278964,"title":"Add referrer property to Jira Links inside GitLab","description":"## Problem to solve\n\nWe now have a few features that are connecting GitLab directly in to Jira, such as in the navigation sidebar, or viewing the details of an issue from the Issue List. Because this traffic looks like any other, Atlassian has no insight as to how much usage is being driven by the features we're adding. They've requested that we add a referrer string anywhere that we're linking directly to Jira.\n\n## Proposal\n\nAppend a referrer property to any links in GitLab that are sending the user to Jira Cloud:\n\n- On gitlab.com: `atlOrigin=eyJpIjoiY2QyZTJiZDRkNGZhNGZlMWI3NzRkNTBmZmVlNzNiZTkiLCJwIjoianN3LWdpdGxhYi1pbnQifQ`\n- On self-managed instances: `atlOrigin=eyJpIjoiYjM0MTA4MzUyYTYxNDVkY2IwMzVjOGQ3ZWQ3NzMwM2QiLCJwIjoianN3LWdpdGxhYlNNLWludCJ9`\n- On development and test environments: don't append anything\n\nDocumentation for this can be found here: https://developer.atlassian.com/developer-guide/client-identification/\n\nThese links can be found in the following locations:\n\n- [x] In the `Jira Issues -\u003e Open Jira` sidebar link\n- [x] On the Jira Issue List, when clicking on an issue\n- [x] On the Jira Issue List, when clicking `Create new issue in Jira`\n- Referencing a Jira issue. For your information, there is another issue related to the web URLs that we can take into consideration https://gitlab.com/gitlab-org/gitlab/-/issues/329420\n  - [x] On an MR detail view, in the title and description, when referencing a Jira Issue\n  - [x] On a Commit detail view, in the description, when referencing a Jira issue","state":"closed","created_at":"2021-03-04T15:42:19.928Z","updated_at":"2022-11-22T19:48:56.628Z","closed_at":"2021-06-16T13:10:58.554Z","closed_by":{"id":423116,"username":"toupeira","name":"Markus Koller","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7585ed50675c4febe7619f25b44f7fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/toupeira"},"labels":["Category:Integrations","Integration::Jira","Stretch","backend","devops::manage","group::ecosystem [DEPRECATED]","section::dev","type::maintenance","workflow::verification"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":423116,"username":"toupeira","name":"Markus Koller","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7585ed50675c4febe7619f25b44f7fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/toupeira"}],"author":{"id":3646819,"username":"deuley","name":"Patrick Deuley","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3646819/avatar.png","web_url":"https://gitlab.com/deuley"},"type":"ISSUE","assignee":{"id":423116,"username":"toupeira","name":"Markus Koller","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7585ed50675c4febe7619f25b44f7fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/toupeira"},"user_notes_count":22,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/323487","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":5,"completed_count":5},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"5 of 5 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/323487","notes":"https://gitlab.com/api/v4/projects/278964/issues/323487/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/323487/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#323487","relative":"#323487","full":"gitlab-org/gitlab#323487"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":80259338,"iid":323477,"project_id":278964,"title":"Add Gradle Kotlin installations commands","description":"### Context\n\nIn !55738 we added support for Gradle Groovy DSL install and setup commands. However, we did not include Gradle Kotlin DSL install and setup commands. This can be frustrating for users of Gradle Kotlin. \n\n### Proposal\n\nAdd Gradle Kotlin DSL instructions to the Package Registry UI so that Java Developers can quickly get up and running with the Package Registry.","state":"closed","created_at":"2021-03-04T14:23:53.177Z","updated_at":"2021-06-22T08:47:15.918Z","closed_at":"2021-05-12T18:44:19.770Z","closed_by":{"id":4584738,"username":"nmezzopera","name":"Nicolò Maria Mezzopera","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4584738/avatar.png","web_url":"https://gitlab.com/nmezzopera"},"labels":["Category:Package Registry","Maven Repository","Package:P2","devops::package","frontend","group::package registry","section::ops","workflow::in review"],"milestone":{"id":1233762,"iid":58,"group_id":9970,"title":"13.12","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.948Z","updated_at":"2022-04-21T07:22:18.898Z","due_date":"2021-05-17","start_date":"2021-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/58"},"assignees":[{"id":4584738,"username":"nmezzopera","name":"Nicolò Maria Mezzopera","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4584738/avatar.png","web_url":"https://gitlab.com/nmezzopera"}],"author":{"id":4584738,"username":"nmezzopera","name":"Nicolò Maria Mezzopera","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4584738/avatar.png","web_url":"https://gitlab.com/nmezzopera"},"type":"ISSUE","assignee":{"id":4584738,"username":"nmezzopera","name":"Nicolò Maria Mezzopera","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4584738/avatar.png","web_url":"https://gitlab.com/nmezzopera"},"user_notes_count":4,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/323477","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/323477","notes":"https://gitlab.com/api/v4/projects/278964/issues/323477/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/323477/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#323477","relative":"#323477","full":"gitlab-org/gitlab#323477"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":80235011,"iid":323449,"project_id":278964,"title":"Placeholder for sensitive fields in DAST Site Profile Form","description":"This is a follow up from https://gitlab.com/gitlab-org/gitlab/-/merge_requests/51583#note_521129769\n\n#### Problem Statement\n\nWe need to show a placeholder for sensitive fields while editing a DAST Site Profile form.\n\n- Username (Text input)\n- Password (Password input)\n- Request headers (Text area) \n\nPlease note that request headers are optional\n\ncc @annabeldunstone\n\n#### Implementation Plan\n\n- [x] Consider request headers \u0026 password as sensitive fields (password is already being considered sensitive)\n  - [x] `username` shouldn't be sensitive\n- [x] Show a placeholder `[Redacted]` for sensitive fields\n- [x] Remove them the DAST profile summary\n  - [x] Remove it from the graphql query\n  - [x] Remove the summary cell\n- [x] Add specs to cover\n  - [x] sensitive fields\n  - [x] placeholder","state":"closed","created_at":"2021-03-04T09:36:36.623Z","updated_at":"2021-03-30T23:18:56.075Z","closed_at":"2021-03-17T10:09:29.236Z","closed_by":{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"},"labels":["Category:DAST","UX","devops::secure","frontend","group::dynamic analysis","section::sec","workflow::production"],"milestone":{"id":1233761,"iid":57,"group_id":9970,"title":"13.10","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.646Z","updated_at":"2022-04-21T07:22:00.171Z","due_date":"2021-03-17","start_date":"2021-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/57"},"assignees":[{"id":201566,"username":"annabeldunstone","name":"Annabel Dunstone Gray","state":"active","avatar_url":"https://secure.gravatar.com/avatar/85c0203926134720f9a9aa8c6e264c78?s=80\u0026d=identicon","web_url":"https://gitlab.com/annabeldunstone"},{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"}],"author":{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"},"type":"ISSUE","assignee":{"id":201566,"username":"annabeldunstone","name":"Annabel Dunstone Gray","state":"active","avatar_url":"https://secure.gravatar.com/avatar/85c0203926134720f9a9aa8c6e264c78?s=80\u0026d=identicon","web_url":"https://gitlab.com/annabeldunstone"},"user_notes_count":14,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/323449","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":9,"completed_count":9},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"9 of 9 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/323449","notes":"https://gitlab.com/api/v4/projects/278964/issues/323449/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/323449/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#323449","relative":"#323449","full":"gitlab-org/gitlab#323449"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3771,"epic":{"id":75071,"iid":3771,"title":"DAST Site profile - add remaining options","url":"/groups/gitlab-org/-/epics/3771","group_id":9970,"human_readable_end_date":"May 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":80261326,"iid":323480,"project_id":278964,"title":"Jira integration doesn't work","description":"\u003c!---\nPlease read this!\n\nBefore you create a new issue, please make sure that you already ran\n\n`sudo gitlab-ctl reconfigure`\n\nAlso make sure to search in https://gitlab.com/gitlab-org/omnibus-gitlab/issues,\nto verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\n\u003c!-- Describe in short the bug you've encountered --\u003e\n\nCommit does not link with jira issue when jira integration settings inherit from global jira integration settings.\n\nIf I set up project jira integration settings then commit link with jira issue successfully.\n\n\n### Steps to reproduce\n\n1. Set up global jira integration settings in **Admin Area** -\u003e **Integrations** -\u003e **Jira**\n2. In project group set **Use default settings**\n3. In project in the project group also set **Use default settings**\n4. Push commit with my jira tiket in a comment\n\n\u003c!-- How one can reproduce the issue - this is very important --\u003e\n\n### What is the current *bug* behavior?\n\n\u003c!-- What actually happens --\u003e\n\nComment or/and mention does not add to jira tiket\n\n### What is the expected *correct* behavior?\n\n\u003c!-- What you should see instead --\u003e\n\nComment or/and mention add to jira tiket\n\n### Relevant logs\n\n\u003cdetails\u003e\n\u003csummary\u003e Relevant logs \u003c/summary\u003e\n\u003cpre\u003e\n\u003c!-- \nPaste any relevant logs.\nLive log output can be found with `sudo gitlab-ctl tail`.\nLog files live in `/var/log/gitlab` by default.\n--\u003e\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n### Details of package version\n\n\n\n\n\u003cdetails\u003e\n\u003csummary\u003eProvide the package version installation details\u003c/summary\u003e\n\u003cpre\u003e\n\u003c!--\nFor Debian, Ubuntu based systems, paste the output of:\n`dpkg-query -l \"gitlab-*\"`\n\nFor RHEL based systems (CentOS, RHEL, OL, Scientific, OpenSUSE, SLES), paste the output of:\n`rpm -qa | grep 'gitlab'`\n\nIf you can't provide these details, see https://about.gitlab.com/getting-help/ page on where to ask your question.\n--\u003e\n\n\u003c/pre\u003e\n\n\u003c/details\u003e\n\n### Environment details\n\n* Operating System: `REPLACE-WITH-DETAILS`\n* Installation Target, remove incorrect values:\n  * Bare Metal Machine\n  * VM: Digital Ocean, AWS, GCP, Azure, Other `REPLACE-WITH-DETAILS`\n  * Other: `REPLACE-WITH-DETAILS`\n* Installation Type, remove incorrect values:\n  * New Installation\n  * Upgrade from version `REPLACE-WITH-DETAILS`\n  * Other: `REPLACE-WITH-DETAILS`\n* Is there any other software running on the machine: `REPLACE-WITH-DETAILS`\n* Is this a single or multiple node installation?\n* Resources\n  * CPU: `REPLACE-WITH-DETAILS`\n  * Memory total: `REPLACE-WITH-DETAILS`\n\n### Configuration details\n\n\u003cdetails\u003e\n\u003csummary\u003e Provide the relevant sections of `/etc/gitlab/gitlab.rb` \u003c/summary\u003e\n\u003cpre\u003e\n\u003c!--\nPaste the details but omit lines starting with `#`. Relevant lines can be retrieved by\nrunning `grep -v -e '^#' -e '^$' /etc/gitlab/gitlab.rb`. Be certain to sanitize sensitive\nconfiguration such as passwords and secrets.\n--\u003e\n\n\u003c/pre\u003e\n\nomnibus installation\n\nGitLab 13.8.2 (643958d42f2)\n\n\u003c/details\u003e\n\n### Workaround\n\nhttps://gitlab.com/gitlab-org/gitlab/-/issues/323480#note_522289487","state":"closed","created_at":"2021-03-04T08:29:32.779Z","updated_at":"2022-11-22T19:48:59.724Z","closed_at":"2022-10-03T03:06:07.372Z","closed_by":{"id":1786152,"username":"gitlab-bot","name":"🤖 GitLab Bot 🤖","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1786152/avatar.png","web_url":"https://gitlab.com/gitlab-bot"},"labels":["Cannot reproduce","Category:Integrations","Integration::Jira","[deprecated] Accepting merge requests","auto closed","backend","category::vision","devops::manage","group::integrations","section::dev","severity::3","stale","type::bug","vintage"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":1664320,"username":"burtsevyg","name":"Бурцев Юрий","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1664320/avatar.png","web_url":"https://gitlab.com/burtsevyg"},"type":"ISSUE","assignee":null,"user_notes_count":10,"merge_requests_count":0,"upvotes":6,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/323480","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/323480","notes":"https://gitlab.com/api/v4/projects/278964/issues/323480/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/323480/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#323480","relative":"#323480","full":"gitlab-org/gitlab#323480"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":80225501,"iid":323439,"project_id":278964,"title":"Accept `comment` for all vulnerability state changes","description":"## Why are we doing this work\n\nDue to a ~backend limitation, the scope of #292636 was changed to add a comment only when changing a vulnerability state to \"dismissed\".\n\nThis issue is to follow-up the work and enable the `comment` field for all state changes.\n\n\n## Relevant links\n\n- Design issue: #267582\n- Backend issue to add ability for comments in all state changes: #323129 \n- Original issue: #292636\n\n## Non-functional requirements\n\n- [ ] Documentation:\n- [ ] Feature flag:\n- [ ] Performance:\n    - Create `Vulnerabilities::StateTransition` records via a Sidekiq worker if user selects more than X (100?) Vulnerabilities so that we don't timeout. This can be done in a follow-up issue if the initial MR grows too big.\n- [ ] Testing:\n\n## Implementation plan\n\n- [X] Add a length constraint on `comment` (done, max size is 255 characters)\n- [ ] Adjust `ee/app/services/vulnerabilities/dismiss_service.rb` to pass `comment` to `Vulnerabilities::StateTransition.create`\n- [ ] Make sure `ee/app/services/security/findings/dismiss_service.rb` passes `comment` when creating `Vulnerabilities::StateTransition`\n- [ ] Adjust GraphQL mutations under `ee/app/graphql/mutations/vulnerabilities/*` to accept a `comment` and add it to `Vulnerabilities::StateTransition`\n- [ ] Make sure we don't accept `dismissal_reason` outside of dismissal mutations","state":"closed","created_at":"2021-03-04T08:07:20.411Z","updated_at":"2022-10-24T22:59:17.085Z","closed_at":"2022-09-15T11:08:37.215Z","closed_by":{"id":487608,"username":"Quintasan","name":"Michał Zając","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/487608/avatar.png","web_url":"https://gitlab.com/Quintasan"},"labels":["Category:Vulnerability Management","backend","devops::govern","feature::enhancement","group::threat insights","section::sec","type::feature","workflow::blocked"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[{"id":7825316,"username":"subashis","name":"Subashis  Chakraborty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7825316/avatar.png","web_url":"https://gitlab.com/subashis"}],"author":{"id":480804,"username":"thiagocsf","name":"Thiago Figueiró","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/480804/avatar.png","web_url":"https://gitlab.com/thiagocsf"},"type":"ISSUE","assignee":{"id":7825316,"username":"subashis","name":"Subashis  Chakraborty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7825316/avatar.png","web_url":"https://gitlab.com/subashis"},"user_notes_count":20,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/323439","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":9,"completed_count":1},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"1 of 9 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/323439","notes":"https://gitlab.com/api/v4/projects/278964/issues/323439/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/323439/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#323439","relative":"#323439","full":"gitlab-org/gitlab#323439"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4649,"epic":{"id":129180,"iid":4649,"title":"Vulnerability bulk status updates","url":"/groups/gitlab-org/-/epics/4649","group_id":9970,"human_readable_timestamp":"\u003cstrong\u003e788\u003c/strong\u003e days elapsed"},"iteration":null,"health_status":null},{"id":80222945,"iid":323434,"project_id":278964,"title":"Update the child pipeline highlight and button states","description":"## Problem\n\nCurrently the child/downstream pipelines in the pipeline graph don't have the same hover highlight as the jobs in the graph. Also, the \"expand\" buttons lack appropriate states. \n\n## WIP Proposal\n\nUpdate the child/downstream pipeline highlight and add appropriate states to the button to align with other buttons in Pajamas.\n\n:arrow_right: [Figma Specs](https://www.figma.com/file/sfiMvCL6LqwpK3QrYvTwM7/PA-Allow-for-easier-correlation-of-child-pipelines-with-their-trigger-jobs?node-id=509%3A330) :arrow_left: \n\n|  | \n| ------ | \n| ![image](/uploads/7b83123ba0daeb93fbcfe651542f8d90/image.png)|","state":"closed","created_at":"2021-03-04T07:15:32.659Z","updated_at":"2022-08-12T14:38:07.493Z","closed_at":"2022-08-05T15:38:42.210Z","closed_by":{"id":5327378,"username":"f_caplette","name":"Frédéric Caplette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5327378/avatar.png","web_url":"https://gitlab.com/f_caplette"},"labels":["Category:Pipeline Authoring","SUS::Impacting","UI polish","UX","devops::verify","frontend","group::pipeline authoring","pipeline graphs","section::ops","severity::4"],"milestone":null,"assignees":[{"id":5327378,"username":"f_caplette","name":"Frédéric Caplette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5327378/avatar.png","web_url":"https://gitlab.com/f_caplette"}],"author":{"id":4706959,"username":"nadia_sotnikova","name":"Nadia Sotnikova","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4706959/avatar.png","web_url":"https://gitlab.com/nadia_sotnikova"},"type":"ISSUE","assignee":{"id":5327378,"username":"f_caplette","name":"Frédéric Caplette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5327378/avatar.png","web_url":"https://gitlab.com/f_caplette"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/323434","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/323434","notes":"https://gitlab.com/api/v4/projects/278964/issues/323434/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/323434/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#323434","relative":"#323434","full":"gitlab-org/gitlab#323434"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5542,"epic":{"id":218495,"iid":5542,"title":"UI polish - Pipeline Authoring","url":"/groups/gitlab-org/-/epics/5542","group_id":9970,"human_readable_end_date":"Jun 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":80209519,"iid":323418,"project_id":278964,"title":"Verify and validate your Terraform modules in the UI","description":"### Release notes \n\nDid you know that nearly 1/3 of GitLab.com workspaces contain a Terraform module? That's why we are committed to adding support for publishing and sharing Terraform modules to the GitLab Package Registry. This new user interface will allow you to quickly find and validate the module you are looking for. Simply navigate to Packages \u0026 Registries-\u003eInfrastructure Registry and you can see all of your projects' modules, including the branch/commit and build data (when relevant). \n\n### Problem to solve \nWhen you are using the GitLab Package Registry, you need to be able to discover and view items in the application so that you can either validate that you are using the correct version or troubleshoot when something is wrong. However, the current MVC of the Terraform registry does not include a front end. This could make discovering and sharing modules difficult. \n\n\n### Proposal \n\nCreate a new sub-nav under Packages \u0026 Registries called `Infrastructure Registry` and add support for viewing a projects' modules in one place. \n\n#### User interface\n![image](/uploads/341e17950c70201c46d0acf74231b96e/image.png)\n![image](/uploads/389320a504650d0bd0a7319b1f034b5a/image.png)","state":"closed","created_at":"2021-03-03T23:22:33.206Z","updated_at":"2021-08-16T11:44:53.342Z","closed_at":"2021-06-16T14:35:42.550Z","closed_by":{"id":4584738,"username":"nmezzopera","name":"Nicolò Maria Mezzopera","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4584738/avatar.png","web_url":"https://gitlab.com/nmezzopera"},"labels":["Category:Package Registry","Deliverable","GitLab Core","Package:P1","Terraform Registry","devops::package","direction","frontend","group::package registry","missed-deliverable","missed:13.11","package:cross-group-dependency","package:scaling","quad-planning::complete-no-action","section::ops","type::feature","workflow::in dev"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":4584738,"username":"nmezzopera","name":"Nicolò Maria Mezzopera","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4584738/avatar.png","web_url":"https://gitlab.com/nmezzopera"}],"author":{"id":3799560,"username":"trizzi","name":"Tim Rizzi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3799560/avatar.png","web_url":"https://gitlab.com/trizzi"},"type":"ISSUE","assignee":{"id":4584738,"username":"nmezzopera","name":"Nicolò Maria Mezzopera","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4584738/avatar.png","web_url":"https://gitlab.com/nmezzopera"},"user_notes_count":46,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/323418","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/323418","notes":"https://gitlab.com/api/v4/projects/278964/issues/323418/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/323418/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#323418","relative":"#323418","full":"gitlab-org/gitlab#323418"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3221,"epic":{"id":50826,"iid":3221,"title":"Terraform module registry","url":"/groups/gitlab-org/-/epics/3221","group_id":9970,"human_readable_end_date":"Jan 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"needs_attention"},{"id":80207312,"iid":323413,"project_id":278964,"title":"Runner fails to pass configuration file on session start","description":"### Problem\n\nConfiguration files are used with API Fuzzing to define a basic configuration. The csharp runner doesn't pass the provided configuration file to the scanner on session start.\n\n### Proposal\n\nUpdate the csharp library to support passing configuration files and update runner to utilize them properly.\n\nTasks:\n\n1. [ ] Add test that fails if the configuration file is not provided\n1. [x] Update csharp library\n1. [x] Update runner code\n   - Pass configuration file\n   - Validate configuration file\n1. [x] Release new container","state":"closed","created_at":"2021-03-03T22:21:13.756Z","updated_at":"2021-10-13T14:48:50.085Z","closed_at":"2021-03-05T01:41:41.356Z","closed_by":{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"},"labels":["Category:Fuzz Testing","GitLab Ultimate","backend","devops::secure","group::dynamic analysis","priority::2","severity::2","type::bug","workflow::verification"],"milestone":{"id":1233761,"iid":57,"group_id":9970,"title":"13.10","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.646Z","updated_at":"2022-04-21T07:22:00.171Z","due_date":"2021-03-17","start_date":"2021-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/57"},"assignees":[{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"}],"author":{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"},"type":"ISSUE","assignee":{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/323413","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":4,"completed_count":3},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"3 of 4 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/323413","notes":"https://gitlab.com/api/v4/projects/278964/issues/323413/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/323413/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#323413","relative":"#323413","full":"gitlab-org/gitlab#323413"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":80195383,"iid":323384,"project_id":278964,"title":"BulkImports: Introduce the concurrency by running each pipeline on its own job","description":"## Context\n\nAs part of the road to a better concurrent approach (https://gitlab.com/groups/gitlab-org/-/epics/5544) for the Gitlab Group Migration, we need a way to keep track of the status of each pipeline. \n\nWith the new required fields to keep track of a Pipeline job, introduced in https://gitlab.com/gitlab-org/gitlab/-/issues/323382, now it'll be possible to run each pipeline on it's own job.\n\n## Proposed changes\n\n1. Introduce the concurrency by running each pipeline on its own job\n\n* Replace `BulkImports::Groups::Importer` by `BulkImports::Groups::Stages` to keep the Stages definition\n* Create the current Entity's trackers for each pipeline, something like\n\n```ruby\n  #  app/workers/bulk_import_worker.rb\n  def perform(bulk_import_id)\n    # ...\n\n    created_entities.first(next_batch_size).each do |entity|\n      BulkImports::Groups::Stages.create_trackers_for(entity)\n      BulkImports::EntityWorker.perform_async(entity.id)\n      entity.start!\n    end\n  end\n```\n* Remove the `transition created: :finished` from `app/models/bulk_imports/tracker.rb` - This transition should not be required anymore now that every tracker needs to be started to be finished.\n* Create the `BulkImports::PipelineWorker`\n* Change the `BulkImports::EntityWorker` to call `BulkImports::PipelineWorker` instead of the `BulkImports::Groups::Importer`\n\nThese changes were also done in the spike: https://gitlab.com/gitlab-org/gitlab/-/issues/270098","state":"closed","created_at":"2021-03-03T18:37:19.603Z","updated_at":"2021-05-18T20:41:37.266Z","closed_at":"2021-04-15T15:12:08.528Z","closed_by":{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"},"labels":["Category:Importers","Importer:GitLab Migration","Next Up","backend","devops::manage","estimation::completed","group::import","milestone::p2","section::dev","workflow::production"],"milestone":{"id":1406669,"iid":59,"group_id":9970,"title":"13.11","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-08-13T14:23:09.688Z","updated_at":"2022-04-21T07:22:08.835Z","due_date":"2021-04-17","start_date":"2021-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/59"},"assignees":[{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"}],"author":{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"},"type":"ISSUE","assignee":{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/323384","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":2,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/323384","notes":"https://gitlab.com/api/v4/projects/278964/issues/323384/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/323384/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#323384","relative":"#323384","full":"gitlab-org/gitlab#323384"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5544,"epic":{"id":218957,"iid":5544,"title":"Group Migration - Concurrent model","url":"/groups/gitlab-org/-/epics/5544","group_id":9970,"human_readable_end_date":"Apr 16, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":80195094,"iid":323382,"project_id":278964,"title":"BulkImports: Add `pipeline_name`, `stage`, `jid` and `status` to `BulkImports::Tracker`","description":"## Context\n\nAs part of the road to a better concurrent approach (https://gitlab.com/groups/gitlab-org/-/epics/5544) for the Gitlab Group Migration, we need a way to keep track of the status of each pipeline. Currently, the data-model already have a way to keep track of the pagination requirements for each pipeline in the `bulkimport_trackers` table. Since the pagination is already scoped by pipeline, it seems to be a _perfect_ place to add more data required by the concurrent model.\n\n## Proposed changes\n\n1. Add `stage`, `jid` and `status` to `BulkImports::Tracker`\n1. Add `attribute_alias :pipeline_name, :relation`, to make more explicit what's being saved in this column. \n   Adding a new column would add constraints complexity since `relation` is already required and `pipeline_name` would also be required, in case of a database revert we could end up with null values on columns that have a `not_null` constraint.\n1. Add the a state machine to `BulkImports::Tracker`, similar to the one in `BulkImports::Entity`\n\n_Based on the spike: https://gitlab.com/gitlab-org/gitlab/-/merge_requests/54970_","state":"closed","created_at":"2021-03-03T18:31:34.887Z","updated_at":"2021-05-18T20:41:37.105Z","closed_at":"2021-03-25T18:08:15.939Z","closed_by":{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"},"labels":["Category:Importers","Deliverable","Importer:GitLab Migration","Next Up","backend","devops::manage","estimation::completed","group::import","section::dev","workflow::production"],"milestone":{"id":1233761,"iid":57,"group_id":9970,"title":"13.10","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.646Z","updated_at":"2022-04-21T07:22:00.171Z","due_date":"2021-03-17","start_date":"2021-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/57"},"assignees":[{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"}],"author":{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"},"type":"ISSUE","assignee":{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/323382","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/323382","notes":"https://gitlab.com/api/v4/projects/278964/issues/323382/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/323382/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#323382","relative":"#323382","full":"gitlab-org/gitlab#323382"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5544,"epic":{"id":218957,"iid":5544,"title":"Group Migration - Concurrent model","url":"/groups/gitlab-org/-/epics/5544","group_id":9970,"human_readable_end_date":"Apr 16, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":80193979,"iid":323381,"project_id":278964,"title":"Add help text and counters to `excluded URLs` and `additional request headers` in site profile editor","description":"![Screen_Shot_2021-03-03_at_12.21.22_PM](/uploads/ef4d89d027e4b8ef2d13eaed96df04b0/Screen_Shot_2021-03-03_at_12.21.22_PM.png)","state":"closed","created_at":"2021-03-03T18:10:02.394Z","updated_at":"2021-04-08T16:53:59.625Z","closed_at":"2021-03-11T08:50:00.053Z","closed_by":{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"},"labels":["Category:DAST","Technical Writing","UX","devops::secure","documentation","frontend","group::dynamic analysis","section::sec","workflow::production"],"milestone":{"id":1233761,"iid":57,"group_id":9970,"title":"13.10","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.646Z","updated_at":"2022-04-21T07:22:00.171Z","due_date":"2021-03-17","start_date":"2021-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/57"},"assignees":[{"id":201566,"username":"annabeldunstone","name":"Annabel Dunstone Gray","state":"active","avatar_url":"https://secure.gravatar.com/avatar/85c0203926134720f9a9aa8c6e264c78?s=80\u0026d=identicon","web_url":"https://gitlab.com/annabeldunstone"},{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"}],"author":{"id":201566,"username":"annabeldunstone","name":"Annabel Dunstone Gray","state":"active","avatar_url":"https://secure.gravatar.com/avatar/85c0203926134720f9a9aa8c6e264c78?s=80\u0026d=identicon","web_url":"https://gitlab.com/annabeldunstone"},"type":"ISSUE","assignee":{"id":201566,"username":"annabeldunstone","name":"Annabel Dunstone Gray","state":"active","avatar_url":"https://secure.gravatar.com/avatar/85c0203926134720f9a9aa8c6e264c78?s=80\u0026d=identicon","web_url":"https://gitlab.com/annabeldunstone"},"user_notes_count":15,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/323381","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/323381","notes":"https://gitlab.com/api/v4/projects/278964/issues/323381/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/323381/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#323381","relative":"#323381","full":"gitlab-org/gitlab#323381"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3771,"epic":{"id":75071,"iid":3771,"title":"DAST Site profile - add remaining options","url":"/groups/gitlab-org/-/epics/3771","group_id":9970,"human_readable_end_date":"May 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":80191980,"iid":323377,"project_id":278964,"title":"Split manage_feature.vue up into scanner-specific components","description":"## Why are we doing this work\n\nThis issue is about refactoring the `Manage` column of the Security Configuration table so as to make it easier/simpler to add scanner-specific controls (e.g., for https://gitlab.com/groups/gitlab-org/-/epics/4908 and https://gitlab.com/gitlab-org/gitlab/-/issues/263251).\n\nCurrently, the `Manage` column in the Security Configuration table is implemented via exactly one component: [`manage_feature.vue`](https://gitlab.com/gitlab-org/gitlab/blob/c7dec002106629bd84e25a3bf4d47fa01239696f/ee/app/assets/javascripts/security_configuration/components/manage_feature.vue). What it renders depends on what type of scanner it's been given. While it currently only caters to two different types (SAST-like and DAST Profiles), it will likely get unwieldy as more scanners receive configuration UIs or similar.\n\nThe aim of this issue is to extract scanner-specific components from `manage_feature.vue`, such that each is much simpler.\n\n## Relevant links\n\n- [PoC/Spike on rearchitecting page](https://gitlab.com/gitlab-org/gitlab/-/issues/322624)\n\n## Non-functional requirements\n\u003c!--\nAdd details for required items and delete others.\n--\u003e\n\n- [-] Documentation:\n- [-] Feature flag:\n- [-] Performance:\n- [x] Testing:\n  - [x] Update component tests for configuration table\n  - [x] Add new component tests for split out components\n  - [x] Run manual `package-and-qa` job (to verify https://gitlab.com/gitlab-org/gitlab/-/merge_requests/56117 passes)\n\n## Implementation plan\n\n~frontend\n- [x] Extract `manage_dast_profiles.vue` from `manage_feature.vue`\n- [x] Extract `manage_generic.vue` from `manage_feature.vue`\n- [x] Embed above components into `scanners` constants definition (see [`scanners_constants.js`](https://gitlab.com/gitlab-org/gitlab/-/blob/39779539787f280375fb491cc683f25a4003547f/app/assets/javascripts/security_configuration/components/scanners_constants.js#L81))\n- [x] Use dynamic component in `configuration_table.vue` to render provided scanner-specific component","state":"closed","created_at":"2021-03-03T17:31:35.821Z","updated_at":"2021-10-28T13:59:16.171Z","closed_at":"2021-03-26T15:53:37.253Z","closed_by":{"id":553096,"username":"markrian","name":"Mark Florian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/553096/avatar.png","web_url":"https://gitlab.com/markrian"},"labels":["Category:SAST","Deliverable","GitLab Core","GitLab Ultimate","devops::secure","frontend","group::static analysis","section::sec","type::maintenance","workflow::verification"],"milestone":{"id":1406669,"iid":59,"group_id":9970,"title":"13.11","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-08-13T14:23:09.688Z","updated_at":"2022-04-21T07:22:08.835Z","due_date":"2021-04-17","start_date":"2021-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/59"},"assignees":[{"id":553096,"username":"markrian","name":"Mark Florian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/553096/avatar.png","web_url":"https://gitlab.com/markrian"}],"author":{"id":553096,"username":"markrian","name":"Mark Florian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/553096/avatar.png","web_url":"https://gitlab.com/markrian"},"type":"ISSUE","assignee":{"id":553096,"username":"markrian","name":"Mark Florian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/553096/avatar.png","web_url":"https://gitlab.com/markrian"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/323377","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":8,"completed_count":8},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"8 of 8 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/323377","notes":"https://gitlab.com/api/v4/projects/278964/issues/323377/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/323377/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#323377","relative":"#323377","full":"gitlab-org/gitlab#323377"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5460,"epic":{"id":212894,"iid":5460,"title":"Rearchitect Security Configuration page to unify FOSS/EE implementations","url":"/groups/gitlab-org/-/epics/5460","group_id":9970,"human_readable_end_date":"Apr 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":80191921,"iid":323376,"project_id":278964,"title":"Move Security Configuration UI strings to frontend","description":"## Why are we doing this work\n\nThis issue is about making a SSOT for the user-facing names, descriptions and help links for the scanners in the Security \u0026 Compliance configuration page.\n\nThey are currently defined twice: once in the ~backend [`projects/security/configuration_presenter.rb`](https://gitlab.com/gitlab-org/gitlab/blob/16c7a51a151c4ae21233f03551fb6c015d1d3fa0/ee/app/presenters/projects/security/configuration_presenter.rb#L12-50) (used by the Ultimate version of the page), and again in the ~frontend [`~/security_configuration/components/features_constants.js`](https://gitlab.com/gitlab-org/gitlab/blob/8938dfae8ed71f264976e8892a8c93abf4b51c73/app/assets/javascripts/security_configuration/components/features_constants.js#L15-68) (used by the FOSS version of the page).\n\nThis duplication has _already_ caused some drift in the display/wording/ordering of the table in the two circumstances, which will continue to happen until they're merged into a SSOT.\n\n## Relevant links\n\n- [PoC/Spike on rearchitecting page](https://gitlab.com/gitlab-org/gitlab/-/issues/322624)\n\n## Non-functional requirements\n\u003c!--\nAdd details for required items and delete others.\n--\u003e\n\n- [-] Documentation:\n- [-] Feature flag:\n- [-] Performance:\n- [ ] Testing:\n   - [ ] Existing specs for the `configuration_presenter.rb` will need to be updated\n\n\n## Implementation plan\n\n~frontend \n- [ ] Create client-side array of scanners (\"features\" in the current implementation) that contain the name, description and help page path in `~/security_configuration`. This probably meaning updating the existing one in [`~/security_configuration/components/features_constants.js`](https://gitlab.com/gitlab-org/gitlab/blob/8938dfae8ed71f264976e8892a8c93abf4b51c73/app/assets/javascripts/security_configuration/components/features_constants.js)\n- [ ] Possibly extract the existing table as a separate component.\n- [ ] Consume array in Ultimate version of the page. Rather than reading these from the ~backend provided \"features\", construct the table rows from the client-side constants.","state":"closed","created_at":"2021-03-03T17:29:39.455Z","updated_at":"2021-10-28T13:59:16.659Z","closed_at":"2021-03-16T15:45:58.370Z","closed_by":{"id":553096,"username":"markrian","name":"Mark Florian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/553096/avatar.png","web_url":"https://gitlab.com/markrian"},"labels":["Category:SAST","Deliverable","GitLab Core","GitLab Ultimate","devops::secure","frontend","group::static analysis","section::sec","type::maintenance","workflow::verification"],"milestone":{"id":1233761,"iid":57,"group_id":9970,"title":"13.10","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.646Z","updated_at":"2022-04-21T07:22:00.171Z","due_date":"2021-03-17","start_date":"2021-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/57"},"assignees":[{"id":553096,"username":"markrian","name":"Mark Florian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/553096/avatar.png","web_url":"https://gitlab.com/markrian"}],"author":{"id":553096,"username":"markrian","name":"Mark Florian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/553096/avatar.png","web_url":"https://gitlab.com/markrian"},"type":"ISSUE","assignee":{"id":553096,"username":"markrian","name":"Mark Florian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/553096/avatar.png","web_url":"https://gitlab.com/markrian"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/323376","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":5,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 5 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/323376","notes":"https://gitlab.com/api/v4/projects/278964/issues/323376/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/323376/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#323376","relative":"#323376","full":"gitlab-org/gitlab#323376"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5460,"epic":{"id":212894,"iid":5460,"title":"Rearchitect Security Configuration page to unify FOSS/EE implementations","url":"/groups/gitlab-org/-/epics/5460","group_id":9970,"human_readable_end_date":"Apr 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":80191557,"iid":323375,"project_id":278964,"title":"Move Security Configuration scanner status strings to frontend","description":"## Why are we doing this work\n\nThis is about defining the scanner status strings (`Enabled`, `Not enabled`, `Enabled with Auto DevOps`) in the ~frontend, and removing them from the ~backend.\n\nThe scanner status strings in the Security Configuration page are currently defined in the [backend](https://gitlab.com/gitlab-org/gitlab/blob/8a96b3e23fa0dd3c2731259bbdecd4acfe93da69/ee/app/presenters/projects/security/configuration_presenter.rb#L61-65). Since all the data necessary to determine which user-facing strings to render is _already_ provided to the frontend, the frontend should determine what to render. In addition, the [DAST Profiles \"scanner\" must be handled in an awkward way](https://gitlab.com/gitlab-org/gitlab/blob/8a96b3e23fa0dd3c2731259bbdecd4acfe93da69/ee/app/presenters/projects/security/configuration_presenter.rb#L83), since it cannot be \"enabled\" or \"disabled\" as such.\n\nInstead, the aim here would be to create scanner-specific components for the status, using component polymorphism similar to what's described in https://gitlab.com/gitlab-org/gitlab/-/issues/323376, but for the `Status` column rather than the `Manage` column.\n\n## Relevant links\n\n- [PoC/Spike on rearchitecting page](https://gitlab.com/gitlab-org/gitlab/-/issues/322624)\n\n## Non-functional requirements\n\u003c!--\nAdd details for required items and delete others.\n--\u003e\n\n- [-] Documentation:\n- [-] Feature flag:\n- [-] Performance:\n- [ ] Testing:\n  - [ ] Update component tests for configuration table\n  - [ ] Add new component tests for split out components\n\n## Implementation plan\n\n~frontend\n- [ ] Extract `status_dast_profiles.vue` from `feature_status.vue`\n- [ ] Extract `status_generic.vue` from `feature_status.vue`\n- [ ] Embed above components into `scanners` constants definition (see [`scanners_constants.js`](https://gitlab.com/gitlab-org/gitlab/-/blob/39779539787f280375fb491cc683f25a4003547f/app/assets/javascripts/security_configuration/components/scanners_constants.js#L81))\n- [ ] Use dynamic component in `configuration_table.vue` to render provided scanner-specific component","state":"closed","created_at":"2021-03-03T17:26:12.696Z","updated_at":"2021-10-28T13:59:17.106Z","closed_at":"2021-03-22T18:43:33.149Z","closed_by":{"id":553096,"username":"markrian","name":"Mark Florian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/553096/avatar.png","web_url":"https://gitlab.com/markrian"},"labels":["Category:SAST","GitLab Core","GitLab Ultimate","devops::secure","frontend","group::static analysis","missed:13.10","section::sec","type::maintenance","workflow::verification"],"milestone":{"id":1406669,"iid":59,"group_id":9970,"title":"13.11","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-08-13T14:23:09.688Z","updated_at":"2022-04-21T07:22:08.835Z","due_date":"2021-04-17","start_date":"2021-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/59"},"assignees":[{"id":553096,"username":"markrian","name":"Mark Florian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/553096/avatar.png","web_url":"https://gitlab.com/markrian"}],"author":{"id":553096,"username":"markrian","name":"Mark Florian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/553096/avatar.png","web_url":"https://gitlab.com/markrian"},"type":"ISSUE","assignee":{"id":553096,"username":"markrian","name":"Mark Florian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/553096/avatar.png","web_url":"https://gitlab.com/markrian"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/323375","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":7,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 7 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/323375","notes":"https://gitlab.com/api/v4/projects/278964/issues/323375/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/323375/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#323375","relative":"#323375","full":"gitlab-org/gitlab#323375"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5460,"epic":{"id":212894,"iid":5460,"title":"Rearchitect Security Configuration page to unify FOSS/EE implementations","url":"/groups/gitlab-org/-/epics/5460","group_id":9970,"human_readable_end_date":"Apr 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":80188595,"iid":323370,"project_id":278964,"title":"Consolidate issue/epic board arguments in GraphQL","description":"We should consider consolidating issue/epic board arguments.\n\nThe following discussion from !55237 should be addressed:\n\n- [ ] @felipe_artur started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/55237#note_520546824):  (+2 comments)\n\n    \u003e I wonder if `labels` and `labels_ids` could be moved to `ScopedBoardMutation` concern.  \n    \u003e \n    \u003e Anyway, if possible, it could be done in a follow-up.\n\nUPDATE: Also EpicBoardCreate mutation (originally added in https://gitlab.com/gitlab-org/gitlab/-/issues/233434) has missing labels/label_ids arguments (for scoped labels) - we should make these label args available on create too (https://gitlab.com/gitlab-org/gitlab/-/issues/231389#note_523950365)","state":"closed","created_at":"2021-03-03T16:34:35.354Z","updated_at":"2021-04-14T17:20:33.767Z","closed_at":"2021-03-15T15:24:22.180Z","closed_by":{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"},"labels":["backend","devops::plan","group::product planning","maintenance::refactor","section::dev","workflow::verification"],"milestone":{"id":1233761,"iid":57,"group_id":9970,"title":"13.10","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.646Z","updated_at":"2022-04-21T07:22:00.171Z","due_date":"2021-03-17","start_date":"2021-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/57"},"assignees":[{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"}],"author":{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"},"type":"ISSUE","assignee":{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"},"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/323370","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/323370","notes":"https://gitlab.com/api/v4/projects/278964/issues/323370/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/323370/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#323370","relative":"#323370","full":"gitlab-org/gitlab#323370"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5069,"epic":{"id":163295,"iid":5069,"title":"🏗 Epic Boards - MVC 2 - Re-order and edit boards","url":"/groups/gitlab-org/-/epics/5069","group_id":9970,"human_readable_end_date":"Jun 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":80187704,"iid":323367,"project_id":278964,"title":"How to page \u0026 acknowledge manually created incidents","description":"## Problem to be solved\n\nToday, Incident management is set up to trigger escalation policies for new alerts. In this scenario, the on-call responder who is paged can end the paging by acknowledging the alert by changing it's status to from triggered to acknowledged. If the responder changes the status back, we restart the escalation policy and begin paging again.\n\nWhen a user creates an incident manually, there is no associated alert. \n\nWe need to enable paging on incidents and the ability for a responder to \"acknowledge\" and end paging for a manually created incident AND to \"un-acknowledge\" or restart paging on an incident for a different escalation policy or user.\n\n## Things to figure out\n- Today, escalation policies are only triggered be alerts. We need to adapt this to also allow escalation policies be be triggered by Incidents\n- Incidents only have two statuses: OPEN or CLOSED - we will need to figure out how to allow a user to acknowledge and un-acknowledge and incident\n\n## Intended Users\n* [Devon (DevOps Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#devon-devops-engineer)\n* [Allison (Application Ops)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#allison-application-ops)\n* [Priyanka (Platform Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#priyanka-platform-engineer)\n\n## User Experience\n\nUser creates an incident and selects the Escalation Policy or user to trigger paging for that Incident. On-call responder can \"acknowledge\" an incident to indicate that they are working on the incident and to end paging.\n\n## Design\n\nIntroduce sidebar items that surface Status and Escalation Policies:\n\n| Status and escalation policy sidebar items | Status dropdown options | More information about what changing the status does | Escalation policy dropdown | No escalation policies created | No escalation policies created - expanded | Hidden edit button for those without proper permissions | System note for Paging status changes | Surface status on incident list |\n| ------ | ------ | ------ | ------ | ------ | ------ | ------ |  ------ | ------ | \n| ![Status_sidebar_item](/uploads/4c960aeda21c78518740ba3ecc11b66a/Status_sidebar_item.png) | ![Status_dropdown](/uploads/3b85e4862f02b0dec302c641a1527778/Status_dropdown.png)| ![Tooltip](/uploads/5d9dc19cf766040f8fc3bf19f2f3736f/Tooltip.png) | ![Paging_dropdown](/uploads/f146272bf83b705c36937bcfa90464f6/Paging_dropdown.png) | ![Paging_dropdown_-_no_policies](/uploads/d009759f47f5ca4cc9680465c6c4a570/Paging_dropdown_-_no_policies.png) | ![Paging_dropdown_-_no_policies_expanded](/uploads/b44b3d2ea39dcd287fb16e23e0b718b1/Paging_dropdown_-_no_policies_expanded.png) | ![Non-developers](/uploads/93323d437f49f979ce100068f96fda88/Non-developers.png)  | ![System_note_3](/uploads/f9b33bfda372018997d6fe1ec10c0065/System_note_3.png)|![Surface_status_on_incident_list](/uploads/c4d0934264821bc09047d82cb27b2abf/Surface_status_on_incident_list.png) |\n\nNotes:\n- Only `developers and up` will be able to edit the incident status or escalation policy. Reporters and non-project members will have the `Edit` button hidden. \n- Changing the incident status to `acknowledged` or `resolved` will stop paging according to the specified escalation policy. On the other hand, changing the status from `acknowledged` or `resolved` to `triggered` will re-start paging.\n- If an incident was created from an alert, the alert and incident statuses will be mirrored (so, an ACKed alert will become and ACKed incident).\n- For incidents created from alerts - if an escalation policy has been created for the project, the escalation policy will be pre-populated when the incident is created. For manual incidents, the escalation policy needs to be defined manually.\n\nEmail to users when paged:\n\n\u003e An incident has been triggered in \\[group/project\\].\n\u003e \n\u003e [View incident details](/gitlab-org/gitlab/-/blob/master/url)\n\u003e \n\u003e Title: \\[Insert title here\\]\n\u003e \n\u003e Description: \\[Insert description here\\]\n\u003e \n\u003e Escalation policy: \\[Insert escalation policy, if present\\]\n\u003e \n\u003e Metric: \\[Insert metric, if available\\]*\n\n_[Metric could be a string or a link, up to the discretion of the engineer implementing this issue. Longer-term, we'll likely include a png of the metric but that's out of scope for the first iteration.]_\n\n[Figma file](https://www.figma.com/file/EGigpP5ioLGPolJolNvjze/Ack-ing-and-escalating-manually-created-incidents-gitlab-com-and-323367?node-id=63%3A342)\n\n## Technical Implementation Plan\n\n- :warning: Assumption! When escalation policies are changed, existing alerts and incidents will be escalated according to the previous policy. If the status is updated to triggered, the new policy will be applied instead. \n\nThe plan below has 3 steps. Part 1 blocks part 2, which blocks part 3. 3A-C can be completed in parallel.\n\n#### Part 1: Add table/model for `IssuableEscalationStatus`. ~backend \n\nScope: \n- Add new table. \n- Add new model.\n- Add `IssuableEscalationStatus` `has_one` associations to issues.\n\n| Column | Required | Type \u2028 | Description |\n|--------|----------|--------|-------------|\n| id | true | Integer | ID of the object |\n| issue_id | true | Integer | Incident which has an escalation status |\n| escalation_policy_id | false | Integer | Incident which has an escalation status |\n| status | Integer | One of `AlertManagement::Alert::STATUSES` |  |\n\nValidations/constraints:\n\n* `issue`, `status` should both be present\n* `escalation_policy` should be in the same project as `issue`, if present\n* `status` should be in `AlertManagement::Alert::STATUSES`\n* Unique constraint: `issue_id` should be unique\n\n#### Part 2: Add escalation support for incidents. ~backend \n\nScope: \n- Auto-create an `IssuableEscalationStatus` for new incidents without an associated alert.\n- Escalate incidents w/o alerts based on `IssuableEscalationStatus` according to escalation policy, per approach in https://gitlab.com/gitlab-org/monitor/monitor/-/issues/56#note_538327473.\n- Add new email to be sent when paging on incident.\n- When the issue-type is changed, delete an existing `IssuableEscalationStatus`.\n- When the incident is moved to another project, set the `escalation_policy_id` to `null`, reset the status to `Triggered`.\n\nBlocked by: https://gitlab.com/gitlab-org/gitlab/-/issues/323139\n\n#### Part 3A: Add slash command for escalating an incident. ~backend \n\nScope: \n- Add new slash command `/page \u003cescalation-policy\u003e`\n\nSlash command should require an escalation policy from the project as an argument. It should only be available on incidents. It should only be available to developer+. It should not be available on incidents with an associated alert.\n\nIf paging has already begun for an escalation policy, reset the `status` to `Triggered`, change the `escalation_policy_id` and re-start escalating on the new policy. \n\n#### Part 3B: Add `Status` dropdown in the UI. ~backend ~frontend \n\nScope: \n- Dropdown should include same options as the `Alert` status dropdown. ~frontend \n- Expose `IssuableEscalationStatus` in GraphQL API. ~backend \n\nUI should show alert's statuses if the incident is associated with an alert. In this scenario, changing the status should update the status of the alert. \n\nSetting the status of an incident to `Triggered` should reset the `Escalations` for the incident.\n\n#### Part 3C: Add Escalation policy dropdown in the UI. ~backend ~frontend \n\nScope: \n- Dropdown should include all the escalation policies available for the project. ~frontend \n- Expose `EscalationPolicies` in GraphQL API. ~backend \n\nIf applicable, UI should show the currently firing escalation policy. Setting the escalation policy should start notifications on that policy for the incident.","state":"closed","created_at":"2021-03-03T16:17:53.597Z","updated_at":"2021-06-28T19:53:23.868Z","closed_at":"2021-04-07T15:50:51.664Z","closed_by":{"id":2799498,"username":"ameliabauerly","name":"Amelia Bauerly","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2799498/avatar.png","web_url":"https://gitlab.com/ameliabauerly"},"labels":["Category:Incident Management","Technical Writing","UI text","UX","auto updated","devops::monitor","direction","group::respond","section::ops","workflow::ready for development"],"milestone":{"id":1406669,"iid":59,"group_id":9970,"title":"13.11","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-08-13T14:23:09.688Z","updated_at":"2022-04-21T07:22:08.835Z","due_date":"2021-04-17","start_date":"2021-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/59"},"assignees":[{"id":2799498,"username":"ameliabauerly","name":"Amelia Bauerly","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2799498/avatar.png","web_url":"https://gitlab.com/ameliabauerly"}],"author":{"id":3796140,"username":"sarahwaldner","name":"Sarah Waldner","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3796140/avatar.png","web_url":"https://gitlab.com/sarahwaldner"},"type":"ISSUE","assignee":{"id":2799498,"username":"ameliabauerly","name":"Amelia Bauerly","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2799498/avatar.png","web_url":"https://gitlab.com/ameliabauerly"},"user_notes_count":75,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/323367","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/323367","notes":"https://gitlab.com/api/v4/projects/278964/issues/323367/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/323367/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#323367","relative":"#323367","full":"gitlab-org/gitlab#323367"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5716,"epic":{"id":244744,"iid":5716,"title":"Escalating manually created incidents","url":"/groups/gitlab-org/-/epics/5716","group_id":9970,"human_readable_end_date":"Sep 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":80187505,"iid":323366,"project_id":278964,"title":"Clean up temporary code after introducing a new Jira integration setting","description":"## Summary\n\n\u003c!--\nPlease briefly describe what part of the code base needs to be refactored.\n--\u003e\n\nThis is a follow-up to https://gitlab.com/gitlab-org/gitlab/-/issues/322477 / https://gitlab.com/gitlab-org/gitlab/-/merge_requests/55773\n\nAfter this change is released we can remove some temporary code to handle the rollout of this change.\n\n## Involved components\n\n\u003c!--\nList files or directories that will be changed by the refactoring.\n--\u003e\n\n- https://gitlab.com/gitlab-org/gitlab/blob/d480e2974ca7d7fdc8074c4735e2621d2a0bf672/app/controllers/concerns/service_params.rb#L91-98\n- https://gitlab.com/gitlab-org/gitlab/blob/d480e2974ca7d7fdc8074c4735e2621d2a0bf672/app/models/project_services/jira_service.rb#L245-253\n- https://gitlab.com/gitlab-org/gitlab/blob/d480e2974ca7d7fdc8074c4735e2621d2a0bf672/spec/models/project_services/jira_service_spec.rb#L677-691\n- https://gitlab.com/gitlab-org/gitlab/blob/d480e2974ca7d7fdc8074c4735e2621d2a0bf672/spec/controllers/projects/services_controller_spec.rb#L200-218","state":"closed","created_at":"2021-03-03T16:14:21.528Z","updated_at":"2022-11-22T19:49:08.122Z","closed_at":"2021-03-10T17:15:26.685Z","closed_by":{"id":423116,"username":"toupeira","name":"Markus Koller","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7585ed50675c4febe7619f25b44f7fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/toupeira"},"labels":["Category:Integrations","backend","devops::manage","group::ecosystem [DEPRECATED]","section::dev","type::maintenance"],"milestone":{"id":1406669,"iid":59,"group_id":9970,"title":"13.11","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-08-13T14:23:09.688Z","updated_at":"2022-04-21T07:22:08.835Z","due_date":"2021-04-17","start_date":"2021-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/59"},"assignees":[{"id":423116,"username":"toupeira","name":"Markus Koller","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7585ed50675c4febe7619f25b44f7fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/toupeira"}],"author":{"id":423116,"username":"toupeira","name":"Markus Koller","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7585ed50675c4febe7619f25b44f7fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/toupeira"},"type":"ISSUE","assignee":{"id":423116,"username":"toupeira","name":"Markus Koller","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7585ed50675c4febe7619f25b44f7fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/toupeira"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/323366","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/323366","notes":"https://gitlab.com/api/v4/projects/278964/issues/323366/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/323366/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#323366","relative":"#323366","full":"gitlab-org/gitlab#323366"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":80182436,"iid":323360,"project_id":278964,"title":"Follow-up from \"Add update and destroy API endpoints to ExternalApprovalRules\"","description":"The following discussion from !55197 should be addressed:\n\n- [ ] @tancnle started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/55197#note_521034285): \n\n    \u003e **suggestion (non-blocking):** This is not a part of this changeset but I think it's worth pointing out that the pagination params are applied to `post`, instead of `get` :thinking:. We can do a follow-up MR if required.","state":"closed","created_at":"2021-03-03T15:06:05.692Z","updated_at":"2021-03-15T14:38:28.028Z","closed_at":"2021-03-15T14:38:27.963Z","closed_by":{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"},"labels":["backend","devops::manage","feature::enhancement","group::compliance","section::dev","type::feature","workflow::in review"],"milestone":{"id":1233761,"iid":57,"group_id":9970,"title":"13.10","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.646Z","updated_at":"2022-04-21T07:22:00.171Z","due_date":"2021-03-17","start_date":"2021-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/57"},"assignees":[{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"}],"author":{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"},"type":"ISSUE","assignee":{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/323360","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/323360","notes":"https://gitlab.com/api/v4/projects/278964/issues/323360/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/323360/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#323360","relative":"#323360","full":"gitlab-org/gitlab#323360"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":80178113,"iid":323353,"project_id":278964,"title":"Frontend: Create a single consistent style for the pipeline mini graph","description":"### Description\n\nCurrently each our mini pipeline graph has a slightly different appearance depending on where it's rendered:\n\n| commit | MR widget | pipeline list |\n| ------ | ------ | ------ |\n| ![commit](/uploads/cef715e90b991fc9ed77992e589ba1da/commit.png) | ![mr](/uploads/d1804ec7e14b59591d317ac7020d3ce4/mr.png) | ![pipeline](/uploads/83e5fe18c274f4215c176d142d13e4a8/pipeline.png)| \n\nThe discrepancy is only a couple of px:\n\n| MR widget | Pipeline List |\n| ------ | ------ |\n| ![Screen_Shot_2021-03-04_at_11.17.03_AM](/uploads/d34d6bbb0b5616759f1588997e5dc3ff/Screen_Shot_2021-03-04_at_11.17.03_AM.png) | ![Screen_Shot_2021-03-04_at_11.13.55_AM](/uploads/fd614521e615c87fdfb29089c222c890/Screen_Shot_2021-03-04_at_11.13.55_AM.png) |\n\n#### Technical Details\n\n- The commit pipeline should be updated by: https://gitlab.com/gitlab-org/gitlab/-/merge_requests/55363\n- The class `mr-widget-pipeline-stages` should be removed as part of this fix. \n- In an old commit we have a leftover comment mentioning this should be addressed a some point:\n  - https://gitlab.com/gitlab-org/gitlab-foss/-/commit/bc5a92061d8de3ac181f17be6cd633b3a18f38a7#5911018b20223af6f332e0349c1aa38f8601a063_304_305\n\n### Original Suggestion\n\nThe following discussion from !55199 should be addressed:\n\n- [ ] @mrincon started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/55199#note_521223062): \n\n    \u003e **Suggestion (for follow-up):** The `mr-widget-pipeline-stages` class is responsible for making the mini pipeline just a couple of pixels smaller per stage, and this style could be remove in favor of having a single consistent look for it.\n    \u003e \n    \u003e I'll discuss this with our ~UX team.","state":"closed","created_at":"2021-03-03T14:04:26.914Z","updated_at":"2022-09-02T15:16:34.271Z","closed_at":"2022-08-30T17:01:22.818Z","closed_by":{"id":11222776,"username":"bsandlin","name":"Briley  Sandlin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11222776/avatar.png","web_url":"https://gitlab.com/bsandlin"},"labels":["Category:Pipeline Authoring","SUS::Impacting","UI polish","devops::verify","frontend","group::pipeline authoring","onboarding","pipeline graphs","section::ops","severity::4","type::maintenance","workflow::production"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":11222776,"username":"bsandlin","name":"Briley  Sandlin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11222776/avatar.png","web_url":"https://gitlab.com/bsandlin"}],"author":{"id":1607849,"username":"mrincon","name":"Miguel Rincon","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1607849/avatar.png","web_url":"https://gitlab.com/mrincon"},"type":"ISSUE","assignee":{"id":11222776,"username":"bsandlin","name":"Briley  Sandlin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11222776/avatar.png","web_url":"https://gitlab.com/bsandlin"},"user_notes_count":16,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/323353","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/323353","notes":"https://gitlab.com/api/v4/projects/278964/issues/323353/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/323353/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#323353","relative":"#323353","full":"gitlab-org/gitlab#323353"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6135,"epic":{"id":285131,"iid":6135,"title":"Mini Pipeline Graph - Making CI Navigation Easier","url":"/groups/gitlab-org/-/epics/6135","group_id":9970,"human_readable_end_date":"Nov 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":{"id":65958,"iid":78,"sequence":23,"group_id":9970,"title":null,"description":null,"state":3,"created_at":"2022-06-24T00:05:02.620Z","updated_at":"2022-09-05T00:05:02.060Z","start_date":"2022-08-22","due_date":"2022-09-04","web_url":"https://gitlab.com/groups/gitlab-org/-/iterations/65958"},"health_status":null},{"id":80173797,"iid":323350,"project_id":278964,"title":"Destroy packages in a scalable way","description":"### :fire: Problem\n\nAt the heart of the package registries, we have two main models:\n* `Packages::Package`. This is the main model with a `name` and `version`. This model can have many:\n* `Packages::PackageFile`. This is what represents a file. Usually, it's the package archive but it can really be anything. Among other things, this model encapsulates the link to the physical file (whether it is on object storage or the local file system).\n\nWhat happens when we want to delete a `Packages::Package`?\n\nUsually, to delete models in a really fast way, we use `#delete` or `#delete_all` which in turn will build a `DELETE` sql query.\n\nWe can't use that for `Packages::Package` because they are linked to `Packages::PackageFile` which in turn is linked to a physical file. As such, to destroy a package, we need:\n1. instantiate the `Packages::Package` model\n1. call `#destroy!` or one of its friends\n1. `#destroy!` will trigger a callback function that will remove the physical file from its location (object storage or local file system).\n\nDeleting a single `Packages::PackageFile` can take some time (imagine the network requests that have to be done to object storage). Now, if the `Packages::Package` has many, many (eg. thousands) of `Packages::PackageFiles`, destroying the package (and all the linked files) will take a non trivial amount of time.\n\nCurrently, package destruction is done inline within whatever process is destroying the package. It can be a web request or a background worker. Both have limits in their execution time. In particular, a web request has a hard limit of 60secs.\n\nAs we can see, packages packed with files could hit those ~\"Application Limits\".\n\n### :fire_engine: Proposed solution \n\nInstead of destroying the package files right away, mark the `Packages::Package` as \"deleted\".\n\nHave dedicated workers that constantly get those \"deleted\" packages and try to destroy them starting by the files. Their execution time should be limited and so the destruction operation can be stopped and resumed at will.\n\nThis is a similar approach used for container cleanup policies execution where the executable policies are marked and some workers will pick them up.\n\n#### :wrench: Technical aspects\n\n* Use the `status` column of `Packages::Package` with a new possible values: `deleted`, `delete_ongoing`\n* Use a [limited capacity worker](https://docs.gitlab.com/ee/development/sidekiq_style_guide.html#limited-capacity-worker).\n   * Don't forget that the worker should \"lock\" the package before marking it as `delete_ongoing`. This is to avoid a situation where two workers are processing the same package.\n   * The number of workers available for this should be an application setting.\n* Destroy the package files first and then the package itself\n* Limit the execution time. Background workers have a general limit set to 5min.\n* Have a dashboard showing the amount of packages to delete and the rate at which packages / files are deleted.\n\n### :moneybag: Benefits\n\n* A really simple approach to package destruction: mark it as `deleted` and that's it.\n* Scalable. The number of workers can be bumped or reduced at will.\n* Can be interrupted and resumed.\n    * The background execution can be stopped at will.\n* Ease several current MRs\n    * For example: this could be useful for https://gitlab.com/gitlab-org/gitlab/-/merge_requests/48767\n* Ease several future developments.\n    * In particular, this would implement a good chunk of the work for packages cleanup policies because executing a package cleanup policy becomes simply marking the target packages as `deleted` = this could be as simple as a single `UPDATE ALL` SQL query :rocket:","state":"closed","created_at":"2021-03-03T13:14:40.314Z","updated_at":"2022-02-02T17:23:08.426Z","closed_at":"2022-02-02T17:23:08.395Z","closed_by":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"labels":["Category:Package Registry","GitLab Core","[deprecated] Accepting merge requests","backend","devops::package","group::package registry","ruby","section::ops","type::maintenance"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"type":"ISSUE","assignee":null,"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/323350","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/323350","notes":"https://gitlab.com/api/v4/projects/278964/issues/323350/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/323350/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#323350","relative":"#323350","full":"gitlab-org/gitlab#323350"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6753,"epic":{"id":349088,"iid":6753,"title":"Packages code improvements","url":"/groups/gitlab-org/-/epics/6753","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":null},{"id":80150316,"iid":323323,"project_id":278964,"title":"Improve form validation for DAST Site Profile","description":"This issue is to enhance/improve/fix the form validations for DAST Site Profile form.\n\n#### Problem\n\nEnabling auth while editing a site profile, triggers validations automatically.\n\n#### Expected behavior\n\nThey should not be validated as soon as you enable the auth, and should follow the same process as the creation in this scenario.\n\n#### Steps to reproduce\n\n1. Enable the ~\"feature flag\" `security_dast_site_profiles_additional_fields`\n1. Edit a site profile form with auth disabled\n1. Enable auth\n1. The auth fields are marked in red\n\n#### Implementation Plan\nTBD as it needs a bit of spike to look into the validation directive and find the root cause.","state":"closed","created_at":"2021-03-03T09:06:14.022Z","updated_at":"2021-04-14T09:21:11.645Z","closed_at":"2021-04-14T09:21:11.569Z","closed_by":{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"},"labels":["Category:DAST","devops::secure","frontend","group::dynamic analysis","section::sec","workflow::production"],"milestone":{"id":1406669,"iid":59,"group_id":9970,"title":"13.11","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-08-13T14:23:09.688Z","updated_at":"2022-04-21T07:22:08.835Z","due_date":"2021-04-17","start_date":"2021-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/59"},"assignees":[{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"}],"author":{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"},"type":"ISSUE","assignee":{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/323323","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/323323","notes":"https://gitlab.com/api/v4/projects/278964/issues/323323/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/323323/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#323323","relative":"#323323","full":"gitlab-org/gitlab#323323"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3771,"epic":{"id":75071,"iid":3771,"title":"DAST Site profile - add remaining options","url":"/groups/gitlab-org/-/epics/3771","group_id":9970,"human_readable_end_date":"May 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":80146452,"iid":323317,"project_id":278964,"title":"[Feature flag] Rollout `ci_runners_short_circuit_assignable_for`","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n## What\n\nRelated to https://gitlab.com/gitlab-org/gitlab/-/issues/322618\n\nIntroduced in https://gitlab.com/gitlab-org/gitlab/-/merge_requests/55518\n\nRemove the `:ci_runners_short_circuit_assignable_for` feature flag ...\n\n## Owners\n\n- Team: ~\"group::continuous integration\" \n- Most appropriate slack channel to reach out to: `#g_ci`\n- Best individual to reach out to: @fabiopitino \n\n## Expectations\n\n### What are we expecting to happen?\n\n#### Track 1\n\nWhen `Ci::RegisterJobService` chooses a build to assign to a runner we run `Ci::Runner#can_pick?(build)`. This is turn runs `assignable_for?` method which checks if the runner is in the list of available runners for the given project. However, when the runner being used is a shared runner we already know it's assignable so we can short circuit returning `true`.\n\nWe expect less queries to be executed by `Ci::RegisterJobService` when it's a shared runner contacting GitLab. This currently occurs ~20% of the time.\n\n* [API Runner requesting jobs](https://dashboards.gitlab.net/d/api-rails-controller/api-rails-controller?orgId=1\u0026var-PROMETHEUS_DS=Global\u0026var-environment=gprd\u0026var-stage=main\u0026var-controller=Grape\u0026var-action=POST%20%2Fapi%2Fjobs%2Frequest\u0026from=1615191540000\u0026to=1615213199999)\n* [Queue operations](https://thanos.gitlab.net/graph?g0.range_input=6h\u0026g0.max_source_resolution=0s\u0026g0.expr=sum(rate(gitlab_ci_queue_operations_total%7Benv%3D%22gprd%22%7D%5B5m%5D))%20by%20(operation)\u0026g0.tab=0)\n* [Queue duration](https://thanos.gitlab.net/graph?g0.range_input=6h\u0026g0.max_source_resolution=0s\u0026g0.expr=histogram_quantile(0.99%2C%20sum(rate(gitlab_ci_queue_iteration_duration_seconds_bucket%7Benv%3D%22gprd%22%7D%5B5m%5D))%20by%20(le))%20\u0026g0.tab=0)\n* [Queue size](https://thanos.gitlab.net/graph?g0.range_input=1d\u0026g0.max_source_resolution=0s\u0026g0.expr=histogram_quantile(0.99%2C%20sum(rate(gitlab_ci_queue_size_total_bucket%7Benv%3D%22gprd%22%7D%5B5m%5D))%20by%20(le))%20\u0026g0.tab=0)\n* [Queue results](https://thanos.gitlab.net/graph?g0.range_input=12h\u0026g0.max_source_resolution=0s\u0026g0.expr=sum(rate(gitlab_ci_queue_depth_total_count%7Benv%3D%22gprd%22%7D%5B5m%5D))%20by%20(queue)\u0026g0.tab=0)\n* [Queue depth](https://thanos.gitlab.net/graph?g0.range_input=12h\u0026g0.max_source_resolution=0s\u0026g0.expr=histogram_quantile(0.90%2C%20sum(rate(gitlab_ci_queue_depth_total_bucket%7Benv%3D%22gprd%22%7D%5B10m%5D))%20by%20(le%2C%20queue))%20\u0026g0.tab=0)\n\nAdditional charts:\n* [percentile db_duration_s](https://log.gprd.gitlab.net/app/visualize#/create?type=line\u0026indexPattern=AW5F1e45qthdGjPJueGO\u0026_g=(filters:!(),refreshInterval:(pause:!t,value:0),time:(from:now-12h,to:now))\u0026_a=(filters:!(),linked:!f,query:(language:kuery,query:'json.path:%20%22%2Fapi%2Fv4%2Fjobs%2Frequest%22'),uiState:(),vis:(aggs:!((enabled:!t,id:'1',params:(field:json.db_duration_s,percents:!(50,95,99,75)),schema:metric,type:percentiles),(enabled:!t,id:'2',params:(drop_partials:!f,extended_bounds:(),field:json.time,interval:auto,min_doc_count:1,scaleMetricValues:!f,timeRange:(from:now-5d,to:now),useNormalizedEsInterval:!t),schema:segment,type:date_histogram)),params:(addLegend:!t,addTimeMarker:!f,addTooltip:!t,categoryAxes:!((id:CategoryAxis-1,labels:(filter:!t,show:!t,truncate:100),position:bottom,scale:(type:linear),show:!t,style:(),title:(),type:category)),grid:(categoryLines:!f),labels:(),legendPosition:right,seriesParams:!((data:(id:'1',label:'Percentiles%20of%20json.db_duration_s'),drawLinesBetweenPoints:!t,interpolate:linear,lineWidth:2,mode:normal,show:!t,showCircles:!t,type:line,valueAxis:ValueAxis-1)),thresholdLine:(color:%23E7664C,show:!f,style:full,value:10,width:1),times:!(),type:line,valueAxes:!((id:ValueAxis-1,labels:(filter:!f,rotate:0,show:!t,truncate:100),name:LeftAxis-1,position:left,scale:(mode:normal,type:linear),show:!t,style:(),title:(text:'Percentiles%20of%20json.db_duration_s'),type:value))),title:'',type:line)))\n* [percentile db_count](https://log.gprd.gitlab.net/app/visualize#/create?type=line\u0026indexPattern=AW5F1e45qthdGjPJueGO\u0026_g=(filters:!(),refreshInterval:(pause:!t,value:0),time:(from:now-12h,to:now))\u0026_a=(filters:!(),linked:!f,query:(language:kuery,query:'json.path:%20%22%2Fapi%2Fv4%2Fjobs%2Frequest%22'),uiState:(),vis:(aggs:!((enabled:!t,id:'1',params:(field:json.db_count,percents:!(50,95,99,75)),schema:metric,type:percentiles),(enabled:!t,id:'2',params:(drop_partials:!f,extended_bounds:(),field:json.time,interval:auto,min_doc_count:1,scaleMetricValues:!f,timeRange:(from:now-12h,to:now),useNormalizedEsInterval:!t),schema:segment,type:date_histogram)),params:(addLegend:!t,addTimeMarker:!f,addTooltip:!t,categoryAxes:!((id:CategoryAxis-1,labels:(filter:!t,show:!t,truncate:100),position:bottom,scale:(type:linear),show:!t,style:(),title:(),type:category)),grid:(categoryLines:!f),labels:(),legendPosition:right,seriesParams:!((data:(id:'1',label:'Percentiles%20of%20json.db_count'),drawLinesBetweenPoints:!t,interpolate:linear,lineWidth:2,mode:normal,show:!t,showCircles:!t,type:line,valueAxis:ValueAxis-1)),thresholdLine:(color:%23E7664C,show:!f,style:full,value:10,width:1),times:!(),type:line,valueAxes:!((id:ValueAxis-1,labels:(filter:!f,rotate:0,show:!t,truncate:100),name:LeftAxis-1,position:left,scale:(mode:normal,type:linear),show:!t,style:(),title:(text:'Percentiles%20of%20json.db_count'),type:value))),title:'',type:line)))\n* [sum db_duration](https://log.gprd.gitlab.net/app/visualize#/create?type=line\u0026indexPattern=AW5F1e45qthdGjPJueGO\u0026_g=(filters:!(),refreshInterval:(pause:!t,value:0),time:(from:now-12h,to:now))\u0026_a=(filters:!(),linked:!f,query:(language:kuery,query:'json.path:%20%22%2Fapi%2Fv4%2Fjobs%2Frequest%22'),uiState:(),vis:(aggs:!((enabled:!t,id:'1',params:(field:json.db_duration_s),schema:metric,type:sum),(enabled:!t,id:'2',params:(drop_partials:!f,extended_bounds:(),field:json.time,interval:auto,min_doc_count:1,scaleMetricValues:!f,timeRange:(from:now-15m,to:now),useNormalizedEsInterval:!t),schema:segment,type:date_histogram)),params:(addLegend:!t,addTimeMarker:!f,addTooltip:!t,categoryAxes:!((id:CategoryAxis-1,labels:(filter:!t,show:!t,truncate:100),position:bottom,scale:(type:linear),show:!t,style:(),title:(),type:category)),grid:(categoryLines:!f),labels:(),legendPosition:right,seriesParams:!((data:(id:'1',label:'Sum%20of%20json.db_duration_s'),drawLinesBetweenPoints:!t,interpolate:linear,lineWidth:2,mode:normal,show:!t,showCircles:!t,type:line,valueAxis:ValueAxis-1)),thresholdLine:(color:%23E7664C,show:!f,style:full,value:10,width:1),times:!(),type:line,valueAxes:!((id:ValueAxis-1,labels:(filter:!f,rotate:0,show:!t,truncate:100),name:LeftAxis-1,position:left,scale:(mode:normal,type:linear),show:!t,style:(),title:(text:'Sum%20of%20json.db_duration_s'),type:value))),title:'',type:line)))\n\n#### Track 2\n\nWhen we call `Ci::Build#stuck?` we run redundant queries because we fetch all runners for a given project but then we use `can_pick?` for each runner which again checks if the runner is part of the available runners for the project.\n\nWe should see a reduction of queries in\n\n* [/projects/jobs/show.json](https://dashboards.gitlab.net/d/web-rails-controller/web-rails-controller?orgId=1\u0026var-PROMETHEUS_DS=Global\u0026var-environment=gprd\u0026var-stage=main\u0026var-controller=Projects::JobsController\u0026var-action=show.json\u0026from=1615191900000\u0026to=1615213559999)\n* [/projects/merge_requests/pipelines.json](https://dashboards.gitlab.net/d/web-rails-controller/web-rails-controller?orgId=1\u0026var-PROMETHEUS_DS=Global\u0026var-environment=gprd\u0026var-stage=main\u0026var-controller=Projects::MergeRequestsController\u0026var-action=pipelines.json\u0026from=1615191960000\u0026to=1615213619999)\n* [/projects/pipelines/create|show|index.json](https://dashboards.gitlab.net/d/web-rails-controller/web-rails-controller?orgId=1\u0026var-PROMETHEUS_DS=Global\u0026var-environment=gprd\u0026var-stage=main\u0026var-controller=Projects::PipelinesController\u0026var-action=create.json\u0026var-action=index.json\u0026var-action=show.json\u0026from=1615191960000\u0026to=1615213619999)\n\n### What might happen if this goes wrong?\n\nWe might see more jobs being picked by shared runners but the other hand we have a stricter query in `Ci::RegisterJobService` which checks if the project has shared runners enabled. So, this should not happen either.\n\n### What can we monitor to detect problems with this?\n\nhttps://log.gprd.gitlab.net/goto/1c53ff2ff9e8a76ea9a103db148768d9\n\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? Sentry errors reports can alse be useful to review --\u003e\n\n\n## Beta groups/projects\n\nIf applicable, any groups/projects that are happy to have this feature turned on early. Some organizations may wish to test big changes they are interested in with a small subset of users ahead of time for example.\n\n- `gitlab-org/gitlab` project\n- `gitlab-org`/`gitlab-com` groups\n- ...\n\n## Roll Out Steps\n\n- [x] Enable on staging (`/chatops run feature set feature_name true --staging`)\n- [x] Test on staging\n- [ ] Ensure that documentation has been updated\n- [ ] Enable on GitLab.com for individual groups/projects listed above and verify behaviour  (`/chatops run feature set --project=gitlab-org/gitlab feature_name true`)\n- [x] Coordinate a time to enable the flag with the SRE oncall and release managers\n  - In `#production` mention `@sre-oncall` and `@release-managers`. Once an SRE on call and Release Manager on call confirm, you can proceed with the rollout\n- [x] Announce on the issue an estimated time this will be enabled on GitLab.com\n- [x] Enable on GitLab.com by running chatops command in `#production` (`/chatops run feature set feature_name true`)\n- [ ] Cross post chatops Slack command to `#support_gitlab-com` ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#where-to-run-commands)) and in your team channel\n- [x] Announce on the issue that the flag has been enabled\n- [x] Remove feature flag and add changelog entry. Ensure that the feature flag definition YAML file has been removed in the **same MR** that is removing the feature flag from the code\n- [ ] After the flag removal is deployed, [clean up the feature flag](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) by running chatops command in `#production` channel\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set --project=gitlab-org/gitlab feature_name false\n```","state":"closed","created_at":"2021-03-03T08:20:14.438Z","updated_at":"2022-02-01T10:27:09.933Z","closed_at":"2022-02-01T10:27:09.916Z","closed_by":{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"},"labels":["Category:Continuous Integration","backend","bug::performance","devops::verify","feature flag","group::pipeline execution","rapid action","section::ops","workflow::verification"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"}],"author":{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"},"type":"ISSUE","assignee":{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"},"user_notes_count":18,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/323317","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":12,"completed_count":7},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"7 of 12 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/323317","notes":"https://gitlab.com/api/v4/projects/278964/issues/323317/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/323317/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#323317","relative":"#323317","full":"gitlab-org/gitlab#323317"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":"on_track"},{"id":80141188,"iid":323313,"project_id":278964,"title":"MR Changes Cog dropdown checkboxes alignment broken","description":"### Problem\n\nThe `GlFormCheckbox` now uses padding to encapsulate the checkbox itself, which breaks the existing alignment that uses padding.\n\n![image](/uploads/7b4fb1976a75bd59f278675543bb3597/image.png)\n\n### Cause\n\nThe alignment in the page uses `gl-pl-3`, which overrides new padding added after merge in the `GlFormCheckbox`.\n\n### Fix\n\nThe alignment in the page should be swapped to `gl-ml-3`.","state":"closed","created_at":"2021-03-03T06:47:40.886Z","updated_at":"2021-03-15T13:11:36.780Z","closed_at":"2021-03-08T09:46:58.860Z","closed_by":{"id":181229,"username":"leipert","name":"Lukas 'Eipi' Eipert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/19a1f1260fa70323f35bc508927921a2?s=80\u0026d=identicon","web_url":"https://gitlab.com/leipert"},"labels":["UX","devops::create","group::code review","priority::2","section::dev","severity::3","type::bug","workflow::production"],"milestone":{"id":1233761,"iid":57,"group_id":9970,"title":"13.10","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.646Z","updated_at":"2022-04-21T07:22:00.171Z","due_date":"2021-03-17","start_date":"2021-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/57"},"assignees":[{"id":4414431,"username":"thomasrandolph","name":"Thomas Randolph","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6462fcd577d8c957abd2dc23956cfbec?s=80\u0026d=identicon","web_url":"https://gitlab.com/thomasrandolph"}],"author":{"id":4414431,"username":"thomasrandolph","name":"Thomas Randolph","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6462fcd577d8c957abd2dc23956cfbec?s=80\u0026d=identicon","web_url":"https://gitlab.com/thomasrandolph"},"type":"ISSUE","assignee":{"id":4414431,"username":"thomasrandolph","name":"Thomas Randolph","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6462fcd577d8c957abd2dc23956cfbec?s=80\u0026d=identicon","web_url":"https://gitlab.com/thomasrandolph"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/323313","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/323313","notes":"https://gitlab.com/api/v4/projects/278964/issues/323313/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/323313/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#323313","relative":"#323313","full":"gitlab-org/gitlab#323313"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":80139824,"iid":323309,"project_id":278964,"title":"Geo: Remove released feature flag `geo_package_file_verification`","description":"Follow up https://gitlab.com/gitlab-org/gitlab/-/issues/271680#note_520487165:\n\n* [x] Remove feature flag\n* [x] After the flag removal is deployed, [clean up the feature flag](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) by running chatops command in `#staging` channel","state":"closed","created_at":"2021-03-03T06:30:58.600Z","updated_at":"2021-10-28T13:59:20.245Z","closed_at":"2021-05-18T12:22:46.776Z","closed_by":{"id":59678,"username":"vsizov","name":"Valery Sizov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/59678/avatar.png","web_url":"https://gitlab.com/vsizov"},"labels":["devops::systems","group::geo","section::enablement","type::maintenance"],"milestone":{"id":1233762,"iid":58,"group_id":9970,"title":"13.12","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.948Z","updated_at":"2022-04-21T07:22:18.898Z","due_date":"2021-05-17","start_date":"2021-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/58"},"assignees":[{"id":59678,"username":"vsizov","name":"Valery Sizov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/59678/avatar.png","web_url":"https://gitlab.com/vsizov"}],"author":{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"},"type":"ISSUE","assignee":{"id":59678,"username":"vsizov","name":"Valery Sizov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/59678/avatar.png","web_url":"https://gitlab.com/vsizov"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2021-04-14","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/323309","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":2},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"2 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/323309","notes":"https://gitlab.com/api/v4/projects/278964/issues/323309/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/323309/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#323309","relative":"#323309","full":"gitlab-org/gitlab#323309"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5424,"epic":{"id":207141,"iid":5424,"title":"🌍 Geo","url":"/groups/gitlab-org/-/epics/5424","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":80138392,"iid":323306,"project_id":278964,"title":"Use 'vulnerabilityExternalIssueLinkCreate' mutation for creating a Jira issue on vulnerability details page","description":"# Why are we doing this?\n\nCurrently we are using a link, provided by the backend, to create new Jira issues:\n\n| Create Jira Issue | \n| ------ |\n| ![Screen_Shot_2021-03-03_at_4.38.49_pm](/uploads/f05f3f36a2719c267cdf493f7ec9fcb6/Screen_Shot_2021-03-03_at_4.38.49_pm.png) | \n\nIn order to move the vulnerability detail page to GraphQL we need to use the `vulnerabilityExternalIssueLinkCreate` mutation to create the Jira issue.\n\n\u003cdetails\u003e\n\u003csummary\u003eCreate external issue - mutation example\u003c/summary\u003e\n\n```graphql\nmutation vulnerabilityExternalIssueLinkCreate($input:VulnerabilityExternalIssueLinkCreateInput!) {\n  vulnerabilityExternalIssueLinkCreate(input:$input) {\n    errors,\n    externalIssueLink {\n      externalIssue {\n        webUrl\n      }\n    }\n  }\n}\n```\n\n```json\n{\n  \"input\": {\n    \"externalTracker\": \"JIRA\",\n    \"linkType\": \"CREATED\",\n    \"id\": \"gid://gitlab/Vulnerability/158\"\n  }\n}\n```\n\u003c/details\u003e\n\n## Designs\n\nHere are the states when a jira issue is created from a vulnerability from a modal. [Designs C1 - C4](https://gitlab.com/gitlab-org/gitlab/-/issues/8942/designs/c1-details-modal-jira-enabled.png)\n| Issue not created | Issue creation triggered | Issue creation success |\n|-------------------|--------------------------|------------------------|\n| ![c1-details-modal-jira-enabled](https://gitlab.com/gitlab-org/gitlab/uploads/fe155eb09d5345dd63b3bf44d85a836c/c1-details-modal-jira-enabled.png) | ![c2-details-modal-jira-enabled_issue-creation-state](https://gitlab.com/gitlab-org/gitlab/uploads/f108133347ffd3c7059619198a210a7e/c2-details-modal-jira-enabled_issue-creation-state.png) | ![c3-details-modal-jira-enabled_issue-created](https://gitlab.com/gitlab-org/gitlab/uploads/13b77c82d05ff864b838e5e47bd64145/c3-details-modal-jira-enabled_issue-created.png) |\n| Issue creation error | Flow diagram |\n|----------------------|--------------|\n| ![c4-details-modal-jira-enabled_error-state](https://gitlab.com/gitlab-org/gitlab/uploads/e321947a5d32079ce2162e7335bb2afc/c4-details-modal-jira-enabled_error-state.png) | ![z01-issue-creation-flow](https://gitlab.com/gitlab-org/gitlab/uploads/a361386fbf54c399405b36cf59e6441d/z01-issue-creation-flow.png) |\n\n## Relevant links\n\n|  |  |\n|--|--|\n| **Epic** | https://gitlab.com/groups/gitlab-org/-/epics/4969 |\n| **Design issue** | https://gitlab.com/gitlab-org/gitlab/-/issues/8942 |\n\n## Non-functional requirements\n\n* [ ] **Documentation:** screenshots need to be updated and text modified if necessary\n* [ ] **Testing:** tests need to be updated\n\n## Implementation Plan\n\n- [ ] Change `ee/app/assets/javascripts/security_dashboard/components/vulnerability_action_buttons.vue` to use the mutation from the example above\n- [ ] Display a [loading state on the button](https://gitlab.com/gitlab-org/gitlab/-/issues/8942/designs/b2-details-page-jira-enabled_issue-creation-state.png)\n- [ ] Reload related Jira issues once finished\n- [ ] In case of error [show a error-banner](https://gitlab.com/gitlab-org/gitlab/-/issues/8942/designs/b4-details-page-jira-enabled_error-state.png)","state":"closed","created_at":"2021-03-03T05:42:37.057Z","updated_at":"2022-07-04T05:36:25.410Z","closed_at":"2021-05-25T20:01:48.773Z","closed_by":{"id":4906978,"username":"lkerr","name":"Lindsay Kerr","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4906978/avatar.png","web_url":"https://gitlab.com/lkerr"},"labels":["Category:Vulnerability Management","GraphQL","backend-weight::3","devops::secure","frontend","group::threat insights","missed:13.12","section::sec","workflow::in review"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[],"author":{"id":4155411,"username":"dpisek","name":"David Pisek","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4155411/avatar.png","web_url":"https://gitlab.com/dpisek"},"type":"ISSUE","assignee":null,"user_notes_count":14,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/323306","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":6,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 6 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/323306","notes":"https://gitlab.com/api/v4/projects/278964/issues/323306/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/323306/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#323306","relative":"#323306","full":"gitlab-org/gitlab#323306"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3657,"epic":{"id":70620,"iid":3657,"title":"Vulnerability GraphQL resource to access a single vulnerability","url":"/groups/gitlab-org/-/epics/3657","group_id":9970,"human_readable_end_date":"Mar 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":80137374,"iid":323304,"project_id":278964,"title":"Jira Issues List: Improve user-facing error messages when fetch fails","description":"We currently display a generic error message when the Jira Issues List GET fails. This leaves the user confused as to how to proceed.\n\nWe should identify the possible/probable errors and craft error messages that can help the user recover.\n\n**Please review other issues on the epic https://gitlab.com/groups/gitlab-org/-/epics/6002 and Sentry errors.**\n\n### Approach\n\n- [x] ~frontend Update error handling to use server-provided error message (if it exists)\n- [ ] ~backend / ~UX / ~\"Technical Writing\" Improve existing error messages, and identify areas to add new ones\n\n### Considerations\n\n@lvanc made an observation in https://gitlab.com/gitlab-org/gitlab/-/merge_requests/60455#note_568182963:\n\n\u003e Looking at the different error messages, I think we should provide constructive advice on how to fix the problem or at least recommend a next step towards a resolution. Nielsen Norman Group provides some good [error message guidelines](https://www.nngroup.com/articles/error-message-guidelines/) that I think we should leverage.\n\n---\n\nThe error message in the API response is currently `An error occurred while requesting data from the Jira service` (https://gitlab.com/gitlab-org/gitlab/-/blob/3ac7208/ee/app/controllers/projects/integrations/jira/issues_controller.rb#L117, thrown here: https://gitlab.com/gitlab-org/gitlab/-/blob/3ac7208/ee/app/finders/projects/integrations/jira/issues_finder.rb#L53)\n\nWe then display a separate, generic error message to the user that is defined on the ~frontend: `An error occurred while loading issues`\n\n![example](https://gitlab.com/gitlab-org/gitlab/uploads/9f51a32583505e436de48830f36ed5b0/Screen_Shot_2021-03-02_at_09.26.52.png)","state":"closed","created_at":"2021-03-03T05:02:13.627Z","updated_at":"2022-11-22T19:49:09.475Z","closed_at":"2021-08-11T00:54:57.598Z","closed_by":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"labels":["Category:Integrations","Deliverable","Integration::Jira","Jira::IssueList","UI text","backend","devops::manage","group::integrations","missed-deliverable","missed:14.1","section::dev","workflow::verification"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},{"id":5709669,"username":"mushakov","name":"Melissa Ushakov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5709669/avatar.png","web_url":"https://gitlab.com/mushakov"}],"author":{"id":259327,"username":"tomquirk","name":"Tom Quirk","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/259327/avatar.png","web_url":"https://gitlab.com/tomquirk"},"type":"ISSUE","assignee":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"user_notes_count":28,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/323304","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":1},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"1 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/323304","notes":"https://gitlab.com/api/v4/projects/278964/issues/323304/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/323304/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#323304","relative":"#323304","full":"gitlab-org/gitlab#323304"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6002,"epic":{"id":270546,"iid":6002,"title":"Fix/Improve Jira List error messages","url":"/groups/gitlab-org/-/epics/6002","group_id":9970,"human_readable_end_date":"Nov 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":80130583,"iid":323293,"project_id":278964,"title":"Allow user to specify single index to reindex when using reindex feature - backend","description":"## Problem\n\nThere may be a time where you only want to reindex one index. For example changing the number of shards for a single index. At present our reindex button will go ahead and reindex all the indices. This could be wasteful and will mean that we won't be able to use this feature ourselves under such circumstances.\n\n## Solution\n\nWhen performing a reindex the user should specify which indices they want reindexed.","state":"closed","created_at":"2021-03-03T00:43:15.804Z","updated_at":"2022-11-07T15:06:53.557Z","closed_at":"2022-10-19T14:40:06.263Z","closed_by":{"id":5054237,"username":"dgruzd","name":"Dmitry Gruzd","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5054237/avatar.png","web_url":"https://gitlab.com/dgruzd"},"labels":["Category:Global Search","Deliverable","backend","devops::data_stores","feature::enhancement","group::global search","section::enablement","type::feature","workflow::in review"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":5054237,"username":"dgruzd","name":"Dmitry Gruzd","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5054237/avatar.png","web_url":"https://gitlab.com/dgruzd"}],"author":{"id":120073,"username":"DylanGriffith","name":"Dylan Griffith","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/120073/avatar.png","web_url":"https://gitlab.com/DylanGriffith"},"type":"ISSUE","assignee":{"id":5054237,"username":"dgruzd","name":"Dmitry Gruzd","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5054237/avatar.png","web_url":"https://gitlab.com/dgruzd"},"user_notes_count":12,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/323293","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":1,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/323293","notes":"https://gitlab.com/api/v4/projects/278964/issues/323293/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/323293/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#323293","relative":"#323293","full":"gitlab-org/gitlab#323293"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5541,"epic":{"id":218275,"iid":5541,"title":"Make Elasticsearch reindexing feature reliable and useful enough to use for GitLab.com","url":"/groups/gitlab-org/-/epics/5541","group_id":9970,"human_readable_end_date":"Nov 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":80126869,"iid":323278,"project_id":278964,"title":"[Feature flag] Rollout :remove_duplicate_artifact_exposure_paths for \"Refactor build artifacts\"","description":"\u003c!-- Title suggestion: [Feature flag] Roll out :remove_duplicate_artifact_exposure_paths --\u003e\n\n## What\n\nRemove unused keep and download paths from BuildArtifactSerializer, implemented behind a feature flag.\n\nTurn on the removal flag (switches to a new Serializer with fewer fields) and make sure nothing breaks, then remove the flag and leave the fields out forever.\n\n## Owners\n\n- Team: ~\"group::testing\" \n- Most appropriate slack channel to reach out to: `#g_testing`\n- Best individual to reach out to: @drew \n\n## Expectations\n\n### What are we expecting to happen?\n\nWhen switched on, the flag should remove two derelict fields from the `BuildArtifactEntity` serializer, `keep_path` and `browse_path`.\n\n### What might happen if this goes wrong?\n\nFrontend components could break if they expect the fields to be present and are not. To emphasize, this flag removes **the field in it's entirety, key and value**, not just the value that would have otherwise existed at the particular keys.\n\n### What can we monitor to detect problems with this?\n\nNormal backend monitoring will likely not pick up on this change causing errors, as the response will be sent back to the client in a perfectly normal manner.\n\n~frontend ~Observability would be helpful here. @shampton and I have done code review and do not believe the fields are referenced from any frontend components.\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? Sentry errors reports can alse be useful to review --\u003e\n\n\n## Beta groups/projects\n\nIf applicable, any groups/projects that are happy to have this feature turned on early. Some organizations may wish to test big changes they are interested in with a small subset of users ahead of time for example.\n\n- `drew/ci-config-testing`\n- `gitlab-org/gitlab` project\n- `gitlab-org`/`gitlab-com` groups\n- ...\n\n## Roll Out Steps\n\n- [x] Enable on staging (`/chatops run feature set feature_name true --staging`)\n- [x] Test on staging\n- [x] Ensure that documentation has been updated\n- [x] Enable on GitLab.com for individual groups/projects listed above and verify behaviour  (`/chatops run feature set --project=gitlab-org/gitlab feature_name true`)\n- [x] Coordinate a time to enable the flag with the SRE oncall and release managers\n  - In `#production` mention `@sre-oncall` and `@release-managers`. Once an SRE on call and Release Manager on call confirm, you can proceed with the rollout\n- [x] Announce on the issue an estimated time this will be enabled on GitLab.com\n- [x] Enable on GitLab.com by running chatops command in `#production` (`/chatops run feature set feature_name true`)\n- [x] Announce on the issue that the flag has been enabled\n- [ ] Remove feature flag and add changelog entry. Ensure that the feature flag definition YAML file has been removed in the **same MR** that is removing the feature flag from the code\n- [ ] After the flag removal is deployed, [clean up the feature flag](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) by running chatops command in `#production` channel\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set --project=gitlab-org/gitlab feature_name false\n```","state":"closed","created_at":"2021-03-02T22:25:36.798Z","updated_at":"2021-10-28T13:59:21.388Z","closed_at":"2021-04-13T13:17:16.433Z","closed_by":{"id":730684,"username":"drew","name":"drew stachon","state":"active","avatar_url":"https://secure.gravatar.com/avatar/59b7f2c95acd4a085d964f745ead6bdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/drew"},"labels":["Category:Code Testing and Coverage","Deliverable","devops::verify","feature flag","group::pipeline insights","maintenance::refactor","section::ops","type::maintenance","workflow::production"],"milestone":{"id":1406669,"iid":59,"group_id":9970,"title":"13.11","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-08-13T14:23:09.688Z","updated_at":"2022-04-21T07:22:08.835Z","due_date":"2021-04-17","start_date":"2021-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/59"},"assignees":[{"id":730684,"username":"drew","name":"drew stachon","state":"active","avatar_url":"https://secure.gravatar.com/avatar/59b7f2c95acd4a085d964f745ead6bdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/drew"}],"author":{"id":730684,"username":"drew","name":"drew stachon","state":"active","avatar_url":"https://secure.gravatar.com/avatar/59b7f2c95acd4a085d964f745ead6bdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/drew"},"type":"ISSUE","assignee":{"id":730684,"username":"drew","name":"drew stachon","state":"active","avatar_url":"https://secure.gravatar.com/avatar/59b7f2c95acd4a085d964f745ead6bdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/drew"},"user_notes_count":10,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/323278","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":11,"completed_count":8},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"8 of 11 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/323278","notes":"https://gitlab.com/api/v4/projects/278964/issues/323278/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/323278/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#323278","relative":"#323278","full":"gitlab-org/gitlab#323278"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":"on_track"},{"id":80121000,"iid":323246,"project_id":278964,"title":"Learn GitLab template project with incorrect onboarding instructions","description":"As part of the **Learn GitLab** onboarding project the `Set up your profile and set your status` template task contains incorrect instructions.\n\nIn the **Next steps** section the first bullet point is this:\n\u003e Click on your avatar (in the top right of the main navigation bar), then click Settings.\n\nBut we don't have `Settings` menu option in there, only a **Preferences** option","state":"closed","created_at":"2021-03-02T20:18:12.717Z","updated_at":"2021-03-23T06:26:05.172Z","closed_at":"2021-03-23T06:26:05.123Z","closed_by":{"id":4409816,"username":"a_akgun","name":"Alper Akgun","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4409816/avatar.png","web_url":"https://gitlab.com/a_akgun"},"labels":["Category:Onboarding","devops::growth","group::acquisition","section::growth"],"milestone":{"id":1406669,"iid":59,"group_id":9970,"title":"13.11","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-08-13T14:23:09.688Z","updated_at":"2022-04-21T07:22:08.835Z","due_date":"2021-04-17","start_date":"2021-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/59"},"assignees":[{"id":4409816,"username":"a_akgun","name":"Alper Akgun","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4409816/avatar.png","web_url":"https://gitlab.com/a_akgun"}],"author":{"id":8295192,"username":"sassdawe","name":"David Sass","state":"active","avatar_url":"https://secure.gravatar.com/avatar/13278b85b4a1632618db11639dbc6cc3?s=80\u0026d=identicon","web_url":"https://gitlab.com/sassdawe"},"type":"ISSUE","assignee":{"id":4409816,"username":"a_akgun","name":"Alper Akgun","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4409816/avatar.png","web_url":"https://gitlab.com/a_akgun"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/323246","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/323246","notes":"https://gitlab.com/api/v4/projects/278964/issues/323246/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/323246/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#323246","relative":"#323246","full":"gitlab-org/gitlab#323246"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":80119658,"iid":323243,"project_id":278964,"title":"[Feature flag] Rollout of `ci_preload_runner_tags`","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n## What\n\n**%14.6 UPDATE: THE ONLY WORK REMAINING IN THIS ISSUE IS REMOVAL OF THE FLAG**\n\nRelated to:\n\n- https://gitlab.com/gitlab-org/gitlab/-/merge_requests/55543\n- https://gitlab.com/groups/gitlab-org/-/epics/5433\n- https://gitlab.com/gitlab-org/gitlab/-/issues/322618\n\n## Owners\n\n- Team: NAME_OF_TEAM\n- Most appropriate slack channel to reach out to: `#g_TEAM_NAME`\n- Best individual to reach out to: NAME\n\n## Expectations\n\n### What are we expecting to happen?\n\n### What might happen if this goes wrong?\n\n### What can we monitor to detect problems with this?\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? Sentry errors reports can alse be useful to review --\u003e\n\n\n## Beta groups/projects\n\nIf applicable, any groups/projects that are happy to have this feature turned on early. Some organizations may wish to test big changes they are interested in with a small subset of users ahead of time for example.\n\n- `gitlab-org/gitlab` project\n- `gitlab-org`/`gitlab-com` groups\n- ...\n\n## Roll Out Steps\n\n- [x] Enable on staging (`/chatops run feature set feature_name true --staging`)\n- [x] Test on staging\n- [ ] Ensure that documentation has been updated\n- [ ] Enable on GitLab.com for individual groups/projects listed above and verify behaviour  (`/chatops run feature set --project=gitlab-org/gitlab feature_name true`)\n- [x] Coordinate a time to enable the flag with the SRE oncall and release managers\n  - In `#production` mention `@sre-oncall` and `@release-managers`. Once an SRE on call and Release Manager on call confirm, you can proceed with the rollout\n- [ ] Announce on the issue an estimated time this will be enabled on GitLab.com\n- [x] Enable on GitLab.com by running chatops command in `#production` (`/chatops run feature set feature_name true`)\n- [ ] Cross post chatops Slack command to `#support_gitlab-com` ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#where-to-run-commands)) and in your team channel\n- [x] Announce on the issue that the flag has been enabled\n- [x] Remove feature flag and add changelog entry. Ensure that the feature flag definition YAML file has been removed in the **same MR** that is removing the feature flag from the code\n- [ ] After the flag removal is deployed, [clean up the feature flag](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) by running chatops command in `#production` channel\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set --project=gitlab-org/gitlab feature_name false\n```","state":"closed","created_at":"2021-03-02T19:48:20.918Z","updated_at":"2022-01-28T01:01:20.629Z","closed_at":"2022-01-21T13:11:32.950Z","closed_by":{"id":5251734,"username":"morefice","name":"Max Orefice","state":"active","avatar_url":"https://secure.gravatar.com/avatar/0a910912e24727d7eef579cd047f7651?s=80\u0026d=identicon","web_url":"https://gitlab.com/morefice"},"labels":["Category:Application Performance","auto updated","backend","bug::performance","devops::systems","feature flag","group::pipeline execution","missed:14.6","missed:14.7","rapid action","section::enablement","workflow::verification"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":5251734,"username":"morefice","name":"Max Orefice","state":"active","avatar_url":"https://secure.gravatar.com/avatar/0a910912e24727d7eef579cd047f7651?s=80\u0026d=identicon","web_url":"https://gitlab.com/morefice"}],"author":{"id":12452,"username":"ayufan","name":"Kamil Trzciński","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a285e30f35d72526fb0954e8fe7cefa?s=80\u0026d=identicon","web_url":"https://gitlab.com/ayufan"},"type":"ISSUE","assignee":{"id":5251734,"username":"morefice","name":"Max Orefice","state":"active","avatar_url":"https://secure.gravatar.com/avatar/0a910912e24727d7eef579cd047f7651?s=80\u0026d=identicon","web_url":"https://gitlab.com/morefice"},"user_notes_count":14,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/323243","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":12,"completed_count":6},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"6 of 12 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/323243","notes":"https://gitlab.com/api/v4/projects/278964/issues/323243/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/323243/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#323243","relative":"#323243","full":"gitlab-org/gitlab#323243"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5433,"epic":{"id":209323,"iid":5433,"title":"Short-term solution for improving builds queuing","url":"/groups/gitlab-org/-/epics/5433","group_id":9970,"human_readable_end_date":"Feb 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":80115239,"iid":323235,"project_id":278964,"title":"🎨 Design: Policy editor yaml mode UI is not synchronized properly","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\n\u003c!-- Summarize the bug encountered concisely. --\u003e\n\nWhen editing security policies on the **Security \u0026 Compliance -\u003e Threat Monitoring -\u003e Policies** tab, when in `yaml mode`, the policy name, description, and enabled/disabled status are not synchronized with the yaml.\n\n### Steps to reproduce\n\n\u003c!-- Describe how one can reproduce the issue - this is very important. Please use an ordered list. --\u003e\nFor a walkthrough of the problem, please reference this [very short video](https://youtu.be/vvqK24eZ27w).\n\n### Example Project\n\n\u003c!-- If possible, please create an example project here on GitLab.com that exhibits the problematic \nbehavior, and link to it here in the bug report. If you are using an older version of GitLab, this \nwill also determine whether the bug is fixed in a more recent version. --\u003e\n\nhttps://gitlab.com/gitlab-org/threat-management/defend/demos/network-policy-demo/-/threat_monitoring/policies/new\n\n### What is the current *bug* behavior?\n\n\u003c!-- Describe what actually happens. --\u003e\nWhen users type in the name or description fields, or toggle the enabled/disabled status, it does not update the `yaml` to match.\n\n### What is the expected *correct* behavior?\n\n\u003c!-- Describe what you should see instead. --\u003e\nThe input areas at the top should always match the yaml shown down below.\n\n### Relevant logs and/or screenshots\n\n\u003c!-- Paste any relevant logs - please use code blocks (```) to format console output, logs, and code\n as it's tough to read otherwise. --\u003e\n\n### Output of checks\n\n\u003c!-- If you are reporting a bug on GitLab.com, write: This bug happens on GitLab.com --\u003e\n\n#### Results of GitLab environment info\n\n\u003c!--  Input any relevant GitLab environment information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to GitLab environment info\u003c/summary\u003e\n\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:env:info`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:env:info RAILS_ENV=production`)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n#### Results of GitLab application Check\n\n\u003c!--  Input any relevant GitLab application check information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to the GitLab application check\u003c/summary\u003e\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:check SANITIZE=true`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:check RAILS_ENV=production SANITIZE=true`)\n\n(we will only investigate if the tests are passing)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n### Possible fixes\n\n\u003c!-- If you can, link to the line of code that might be responsible for the problem. --\u003e\n\n**Possible fix 1**\n\nWe might implement a two-way binding; however, this could be complicated because the yaml field is an open text field where users can enter anything they want to enter.\n\n**Possible fix 2**\n\nWe might make the name, description, and enabled/disabled status read only / `disabled` input fields\n\n**Possible fix 3**\n\nWe might hide the name, description and enabled/disabled fields entirely","state":"closed","created_at":"2021-03-02T18:13:25.865Z","updated_at":"2021-03-22T14:41:04.608Z","closed_at":"2021-03-08T15:52:01.929Z","closed_by":{"id":5292351,"username":"sam.white","name":"Sam White","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d467fb024d1858d279e6a36e028436ac?s=80\u0026d=identicon","web_url":"https://gitlab.com/sam.white"},"labels":["Enterprise Edition","GitLab Ultimate","UX","devops::govern","group::security policies","priority::3","section::sec","severity::3","type::bug","workflow::ready for development"],"milestone":{"id":1233761,"iid":57,"group_id":9970,"title":"13.10","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.646Z","updated_at":"2022-04-21T07:22:00.171Z","due_date":"2021-03-17","start_date":"2021-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/57"},"assignees":[{"id":201566,"username":"annabeldunstone","name":"Annabel Dunstone Gray","state":"active","avatar_url":"https://secure.gravatar.com/avatar/85c0203926134720f9a9aa8c6e264c78?s=80\u0026d=identicon","web_url":"https://gitlab.com/annabeldunstone"}],"author":{"id":5292351,"username":"sam.white","name":"Sam White","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d467fb024d1858d279e6a36e028436ac?s=80\u0026d=identicon","web_url":"https://gitlab.com/sam.white"},"type":"ISSUE","assignee":{"id":201566,"username":"annabeldunstone","name":"Annabel Dunstone Gray","state":"active","avatar_url":"https://secure.gravatar.com/avatar/85c0203926134720f9a9aa8c6e264c78?s=80\u0026d=identicon","web_url":"https://gitlab.com/annabeldunstone"},"user_notes_count":15,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/323235","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/323235","notes":"https://gitlab.com/api/v4/projects/278964/issues/323235/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/323235/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#323235","relative":"#323235","full":"gitlab-org/gitlab#323235"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":80112105,"iid":323227,"project_id":278964,"title":"Experiment cleanup: Experiment with adding social sign in options to trial registration page","description":"\u003c!-- Title suggestion: [Experiment Name] Successful Cleanup --\u003e\n\n## Summary\n\nThe experiment is currently rolled out to 100% of users and has been deemed a success.\nThe changes need to become an official part of the product.\n \n* Experiment engineering issue: https://gitlab.com/groups/gitlab-org/-/epics/4545\n* Experiment tracking issue: https://gitlab.com/gitlab-org/gitlab/-/issues/262853\n* Experiment key: `trial_registration_with_social_signin`\n* Feature flag: `trial_registration_with_social_signin_experiment_percentage`\n\n## Steps\n\n- [X] Determine whether the feature should apply to SaaS and/or self-managed\n      - SaaS only\n- [X] Determine whether the feature should apply to EE - and which tiers - and/or Core\n     - This change should only be applied to the net new SaaS trial registration page\n- [X] Determine if tracking should be kept as is, removed, or modified.\n     - Tracking can be removed\n- [x] Migrate experiment to a default enabled [feature flag](https://docs.gitlab.com/ee/development/feature_flags/development.html) for one milestone and add a changelog. Converting to a feature flag can be skipped at the ICs discretion if risk is deemed low with consideration to both SaaS and (if applicable) self managed.\n- [x] Ensure any relevant documentation has been updated.\n- [x] In the next milestone, [remove the feature flag](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up).\n- [x] After the flag removal is deployed, [clean up the feature/experiment feature flags](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) by running chatops command in `#production` channel","state":"closed","created_at":"2021-03-02T17:21:59.203Z","updated_at":"2021-10-28T13:59:22.276Z","closed_at":"2021-04-05T17:18:06.777Z","closed_by":{"id":4409816,"username":"a_akgun","name":"Alper Akgun","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4409816/avatar.png","web_url":"https://gitlab.com/a_akgun"},"labels":["DEPRECATED Growth-Deliverable","[deprecated] Accepting merge requests","devops::growth","feature flag","group::acquisition","growth experiment","missed:13.10","section::growth","type::maintenance","workflow::scheduling"],"milestone":{"id":1406669,"iid":59,"group_id":9970,"title":"13.11","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-08-13T14:23:09.688Z","updated_at":"2022-04-21T07:22:08.835Z","due_date":"2021-04-17","start_date":"2021-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/59"},"assignees":[],"author":{"id":4413992,"username":"s_awezec","name":"Sam Awezec","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4413992/avatar.png","web_url":"https://gitlab.com/s_awezec"},"type":"ISSUE","assignee":null,"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/323227","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":7,"completed_count":7},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"7 of 7 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/323227","notes":"https://gitlab.com/api/v4/projects/278964/issues/323227/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/323227/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#323227","relative":"#323227","full":"gitlab-org/gitlab#323227"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":80111281,"iid":323225,"project_id":278964,"title":"Update Sidekiq system check when running with a cluster becomes the only supported mode","description":"## Summary\n\n\u003c!--\nPlease briefly describe what part of the code base needs to be refactored.\n--\u003e\n\nRunning without a cluster is deprecated and will be removed in %14.0: https://gitlab.com/gitlab-org/gitlab/-/blob/master/doc/install/installation.md#using-sidekiq-instead-of-sidekiq-cluster\n\nAs a follow-up to https://gitlab.com/gitlab-org/gitlab/-/merge_requests/55530, we can simplify the system check to always require 1 cluster process and 1+ workers.\n\nRelated to https://gitlab.com/groups/gitlab-com/gl-infra/-/epics/198.\n\n## Involved components\n\n\u003c!--\nList files or directories that will be changed by the refactoring.\n--\u003e\n\n- `lib/system_check/sidekiq_check.rb`","state":"closed","created_at":"2021-03-02T17:11:52.904Z","updated_at":"2022-12-13T12:24:07.226Z","closed_at":"2022-12-13T12:17:02.978Z","closed_by":{"id":443319,"username":"smcgivern","name":"Sean McGivern","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/443319/avatar.png","web_url":"https://gitlab.com/smcgivern"},"labels":["backend","devops::platforms","group::scalability","maintenance::refactor","section::platforms","type::maintenance","workflow::ready for development"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":443319,"username":"smcgivern","name":"Sean McGivern","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/443319/avatar.png","web_url":"https://gitlab.com/smcgivern"}],"author":{"id":423116,"username":"toupeira","name":"Markus Koller","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7585ed50675c4febe7619f25b44f7fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/toupeira"},"type":"ISSUE","assignee":{"id":443319,"username":"smcgivern","name":"Sean McGivern","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/443319/avatar.png","web_url":"https://gitlab.com/smcgivern"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/323225","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/323225","notes":"https://gitlab.com/api/v4/projects/278964/issues/323225/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/323225/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#323225","relative":"#323225","full":"gitlab-org/gitlab#323225"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":80103145,"iid":323210,"project_id":278964,"title":"Reimplement the Blob Header functions in Vue","description":"When we are going to move to a single Vue repository App we also will need to rebuild all functions on the top of a Blob in Vue:\n\n* Name (Copy File Path)\n* File Size\n* Edit / Web IDE Link Buttons\n* Lock\n* Replace\n* Delete\n* Copy content\n* Open Raw link button\n* Download link Button","state":"closed","created_at":"2021-03-02T15:23:38.401Z","updated_at":"2022-06-10T10:36:57.623Z","closed_at":"2021-06-16T09:46:55.598Z","closed_by":{"id":3993566,"username":"sming-gitlab","name":"Samantha Ming","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3993566/avatar.png","web_url":"https://gitlab.com/sming-gitlab"},"labels":["Category:Source Code Management","Deliverable","devops::create","frontend","group::source code","missed-deliverable","missed:13.12","section::dev","workflow::in review"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":3993566,"username":"sming-gitlab","name":"Samantha Ming","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3993566/avatar.png","web_url":"https://gitlab.com/sming-gitlab"}],"author":{"id":1149402,"username":"timzallmann","name":"Tim Zallmann","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1149402/avatar.png","web_url":"https://gitlab.com/timzallmann"},"type":"ISSUE","assignee":{"id":3993566,"username":"sming-gitlab","name":"Samantha Ming","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3993566/avatar.png","web_url":"https://gitlab.com/sming-gitlab"},"user_notes_count":7,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/323210","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/323210","notes":"https://gitlab.com/api/v4/projects/278964/issues/323210/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/323210/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#323210","relative":"#323210","full":"gitlab-org/gitlab#323210"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5531,"epic":{"id":217419,"iid":5531,"title":"Refactor Repository Browser to 1 Vue Application","url":"/groups/gitlab-org/-/epics/5531","group_id":9970,"human_readable_end_date":"Apr 17, 2023","human_readable_timestamp":"\u003cstrong\u003e3\u003c/strong\u003e months remaining"},"iteration":null,"health_status":null},{"id":80102900,"iid":323209,"project_id":278964,"title":"Use Instant Load directive in Repository App for preloading Directories + Blobs","description":"To make the overall experience faster in the repository view we will use the InstantLoadDirective that is defined in gitlab-ui - https://gitlab.com/gitlab-org/gitlab-ui/-/issues/1240\n\nIn the row component we can use this to already preload directories and blobs.\n\nWe can even start with a first iteration to preload simply directory infos","state":"closed","created_at":"2021-03-02T15:19:31.050Z","updated_at":"2021-10-26T07:24:58.852Z","closed_at":"2021-06-08T16:24:49.282Z","closed_by":{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"},"labels":["Category:Source Code Management","Deliverable","devops::create","frontend","group::source code","section::dev","workflow::verification"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"}],"author":{"id":1149402,"username":"timzallmann","name":"Tim Zallmann","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1149402/avatar.png","web_url":"https://gitlab.com/timzallmann"},"type":"ISSUE","assignee":{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/323209","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/323209","notes":"https://gitlab.com/api/v4/projects/278964/issues/323209/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/323209/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#323209","relative":"#323209","full":"gitlab-org/gitlab#323209"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5531,"epic":{"id":217419,"iid":5531,"title":"Refactor Repository Browser to 1 Vue Application","url":"/groups/gitlab-org/-/epics/5531","group_id":9970,"human_readable_end_date":"Apr 17, 2023","human_readable_timestamp":"\u003cstrong\u003e3\u003c/strong\u003e months remaining"},"iteration":null,"health_status":null},{"id":80102783,"iid":323207,"project_id":278964,"title":"Set up property names in Backquotes","description":"Followup to  \"GraphQL API reference docs: Query type fixes\"\n\nThe following discussion from !55336 should be addressed:\n\n- [ ] @mjang1 started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/55336#note_519718935):  (+1 comment)\n\n    \u003e When we include property names in Markdown titles, we typically set them up in `backquotes`. From my 2 minute test, this change should work.\n    \u003e \n    \u003e ```suggestion:-0+0\n    \u003e           content = \"### `#{object[:name]}`\\n\"\n    \u003e ```","state":"closed","created_at":"2021-03-02T15:17:22.416Z","updated_at":"2022-11-22T19:49:10.844Z","closed_at":"2021-03-09T00:35:30.681Z","closed_by":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"labels":["GraphQL","backend","devops::manage","documentation","group::ecosystem [DEPRECATED]","section::dev"],"milestone":{"id":1233761,"iid":57,"group_id":9970,"title":"13.10","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.646Z","updated_at":"2022-04-21T07:22:00.171Z","due_date":"2021-03-17","start_date":"2021-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/57"},"assignees":[{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"}],"author":{"id":4984614,"username":"mjang1","name":"Mike Jang","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4984614/avatar.png","web_url":"https://gitlab.com/mjang1"},"type":"ISSUE","assignee":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/323207","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/323207","notes":"https://gitlab.com/api/v4/projects/278964/issues/323207/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/323207/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#323207","relative":"#323207","full":"gitlab-org/gitlab#323207"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":80100501,"iid":323200,"project_id":278964,"title":"Extend the repository Vue app to also show Blob's through Vue","description":"As we want to include the actual Blob viewing also into the repository Vue App we need to extend the Vue Router and have a central Blob View which then would load the specific viewers. **We need to add a feature flag so we can test and do the rollout step by step.** Maybe we would also limit in the first place to load only code files to start with and then extend/integrate also further viewers.\n\nFor basic text files we will use Monaco in read only mode. Which enables us also to switch easily to editing in another step.\n\nThe major difference is also that we would load the `/raw/` files instead of the preformatted API contents which would bring a significant performance boost and reduce load on the servers.","state":"closed","created_at":"2021-03-02T14:49:06.773Z","updated_at":"2021-04-18T07:06:10.200Z","closed_at":"2021-04-14T12:32:39.679Z","closed_by":{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"},"labels":["Category:Source Code Management","Deliverable","devops::create","frontend","group::source code","section::dev"],"milestone":{"id":1406669,"iid":59,"group_id":9970,"title":"13.11","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-08-13T14:23:09.688Z","updated_at":"2022-04-21T07:22:08.835Z","due_date":"2021-04-17","start_date":"2021-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/59"},"assignees":[{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"}],"author":{"id":1149402,"username":"timzallmann","name":"Tim Zallmann","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1149402/avatar.png","web_url":"https://gitlab.com/timzallmann"},"type":"ISSUE","assignee":{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/323200","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":1,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/323200","notes":"https://gitlab.com/api/v4/projects/278964/issues/323200/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/323200/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#323200","relative":"#323200","full":"gitlab-org/gitlab#323200"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5531,"epic":{"id":217419,"iid":5531,"title":"Refactor Repository Browser to 1 Vue Application","url":"/groups/gitlab-org/-/epics/5531","group_id":9970,"human_readable_end_date":"Apr 17, 2023","human_readable_timestamp":"\u003cstrong\u003e3\u003c/strong\u003e months remaining"},"iteration":null,"health_status":null},{"id":80099649,"iid":323195,"project_id":278964,"title":"Make Blob info available through GraphQL","description":"As we are working on refactoring the repository view we need also the blob information that is currently delivered through the REST API call as a GraphQL Model. Except the rendered Blob View which will be now replaced by client side rendering.\n\nOf the fields you asked for in https://gitlab.com/gitlab-org/gitlab/-/issues/323195#note_531167716 , some already existed, some turn out to be the same content as already-existing fields.\n\nA checklist of requested fields:\n\n* Already exists on `master`\n    * [x] `name`\n    * [x] `path` (needed for copy to clipboard)\n* Implementation completed in https://gitlab.com/gitlab-org/gitlab/-/merge_requests/58906\n    * [x] `editBlobPath`\n    * [x] `rawPath`\n    * [x] `replacePath` (endpoint used for replace button)\n    * [x] `storedExternally`\n    * [x] `fileType` (e.g. `'text'`)\n    * [x] `size`\n    * [x] `rawSize`\n    * [x] `simpleViewer` (similar to snippets graphql endpoint, to determine which viewer to use on the FE)\n    * [x] `richViewer` (similar to snippets graphql endpoint, to determine which viewer to use on the \n    * [x] `rawBlob` (unmodified text?)\n    * [x] `plainData` https://gitlab.com/gitlab-org/gitlab/-/merge_requests/61016\n    * [x] `ideEditPath` https://gitlab.com/gitlab-org/gitlab/-/merge_requests/61155\n    * [x] `canModifyBlob` https://gitlab.com/gitlab-org/gitlab/-/merge_requests/61155\n    * [x] `externalStorageUrl` https://gitlab.com/gitlab-org/gitlab/-/merge_requests/61155\n    * [x] `forkAndEditPath`, `ideForkAndEditPath` https://gitlab.com/gitlab-org/gitlab/-/merge_requests/61155\n    * [x] `project { pathLocks ` https://gitlab.com/gitlab-org/gitlab/-/merge_requests/61380\n* Don't need to implement\n    * [x] `deletePath` (duplicate of `webPath`)\n    * [x] `type` (e.g. `'simple'`)\n    * [x] `tooLarge` (too large to view)\n    * [x] `canLock` (in `pathLocks`)\n    * [x] `isLocked`  (in `pathLocks`)\n    * [x] `lockLink`  (make `pathLocks` mutation instead)\n\nhttps://gitlab.com/gitlab-org/gitlab/-/merge_requests/58677 added a `RepositoryBlob` + new GraphQL endpoint to access it.","state":"closed","created_at":"2021-03-02T14:40:03.811Z","updated_at":"2021-11-25T08:57:47.433Z","closed_at":"2021-05-18T11:00:45.369Z","closed_by":{"id":572018,"username":"nick.thomas","name":"Nick Thomas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/572018/avatar.png","web_url":"https://gitlab.com/nick.thomas"},"labels":["Category:Source Code Management","Deliverable","backend","devops::create","group::source code","section::dev","workflow::verification"],"milestone":{"id":1233762,"iid":58,"group_id":9970,"title":"13.12","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.948Z","updated_at":"2022-04-21T07:22:18.898Z","due_date":"2021-05-17","start_date":"2021-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/58"},"assignees":[{"id":572018,"username":"nick.thomas","name":"Nick Thomas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/572018/avatar.png","web_url":"https://gitlab.com/nick.thomas"}],"author":{"id":1149402,"username":"timzallmann","name":"Tim Zallmann","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1149402/avatar.png","web_url":"https://gitlab.com/timzallmann"},"type":"ISSUE","assignee":{"id":572018,"username":"nick.thomas","name":"Nick Thomas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/572018/avatar.png","web_url":"https://gitlab.com/nick.thomas"},"user_notes_count":25,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/323195","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":24,"completed_count":24},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"24 of 24 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/323195","notes":"https://gitlab.com/api/v4/projects/278964/issues/323195/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/323195/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#323195","relative":"#323195","full":"gitlab-org/gitlab#323195"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5531,"epic":{"id":217419,"iid":5531,"title":"Refactor Repository Browser to 1 Vue Application","url":"/groups/gitlab-org/-/epics/5531","group_id":9970,"human_readable_end_date":"Apr 17, 2023","human_readable_timestamp":"\u003cstrong\u003e3\u003c/strong\u003e months remaining"},"iteration":null,"health_status":null},{"id":80099354,"iid":323194,"project_id":278964,"title":"GraphQL: Reposition epic within a list","description":"While https://gitlab.com/gitlab-org/gitlab/-/issues/233440  is about adding support to move an epic between lists this issue should add the possibility to move an epic within a list.\n\nIt could be similar to:\n\n```graphql\nmutation {\n  epicMoveList(input: { groupPath: \"group\", iid: \"3\", boardId: \"gid://gitlab/Board/15\", moveBeforeId: 100, moveAfterId: 99}) {\n    errors\n  }\n}\n```\n\nWe need to:\n\n- create a service for reordering epics within a list\n- add/modify the mutation\n\n* Related MR: [Adding relative positioning for boards](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/48120)\n* Related issue: https://gitlab.com/gitlab-org/gitlab/-/issues/247867 - decided we’ll have board-specific positions","state":"closed","created_at":"2021-03-02T14:36:40.523Z","updated_at":"2021-11-08T16:50:58.696Z","closed_at":"2021-06-15T12:37:57.355Z","closed_by":{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"},"labels":["Category:Portfolio Management","Category:Team Planning","Deliverable","GitLab Premium","GitLab Ultimate","GraphQL","backend","boards","devops::plan","documentation","epics","group::product planning","missed-deliverable","missed:13.10","missed:13.11","missed:13.12","section::dev","type::feature","workflow::verification"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"}],"author":{"id":508743,"username":"jarka","name":"Jarka Košanová","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3931dae84deb01d2881e4909077b8dbe?s=80\u0026d=identicon","web_url":"https://gitlab.com/jarka"},"type":"ISSUE","assignee":{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"},"user_notes_count":18,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/323194","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/323194","notes":"https://gitlab.com/api/v4/projects/278964/issues/323194/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/323194/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#323194","relative":"#323194","full":"gitlab-org/gitlab#323194"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":80097113,"iid":323191,"project_id":278964,"title":"Modify the user cap logic to ignore non-human users","description":"## Summary\n\nWhen admin approval or user cap are enabled, project access tokens fail to create\n\nWhen these settings are in effect, project token bot users require admin approval. This makes them \"blocked\" on creation, and the token creation fails as a result.\n\n- [Admin Approval for new Sign ups](https://docs.gitlab.com/ee/user/admin_area/settings/sign_up_restrictions.html#require-administrator-approval-for-new-sign-ups)\n- [User Cap](https://docs.gitlab.com/ee/user/admin_area/settings/sign_up_restrictions.html#user-cap), if the cap has been reached\n\n## Proposal\n\nSee comments thread starting with https://gitlab.com/gitlab-org/gitlab/-/issues/323191#note_521360633 for direction on how to resolve.\n\n---\n\n### Steps to reproduce\n\n- As an admin user, go to **Admin Area \u003e Settings \u003e General** and in the sign up restrictions section enabled both the approval for new signups, or set a user cap that is equal to the number of users you already have.\n- As a non-admin user that has maintainer or owner permissions on a project, go to **Project Settings \u003e Access Tokens** and try to make a [project access token](https://docs.gitlab.com/ee/user/project/settings/project_access_tokens.html#creating-a-project-access-token) with any settings.\n- Notice the token creation fails with a message that the user is not permitted to create the token.\n\nTo resolve, go to admin settings again and remove BOTH the sign up approval and the user cap. The maintainer of the project can now create a token.\n\n### Example Project\n\nN/A, gitlab.com doesn't have sign up settings.\n\n### What is the current *bug* behavior?\n\nWhen admin approval or user cap are enabled, if the user cap is reached project access tokens cannot be created until both settings are removed.\n\n~~Oddly, if only one of those settings is enabled token creation works fine.~~\n\nStrike that, my test was that I only had admin approval, but signups were disabled. Settings specifically states that admin approval only matters if you have sign ups enabled. I can replicate by only setting the user cap.\n\n### What is the expected *correct* behavior?\n\nEven when sign up restrictions are enabled, tokens should be created because their bot users do not count towards billing and shouldn't be counted in the user cap.\n\n### Relevant logs and/or screenshots\n\nLog failure from token creation and associated bot user creation/deletion in my test instance (deletion happened automatically). I did a grep of everything using the correlation ID so hopefully that gives a good amount of info.\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for logs\u003c/summary\u003e\n\u003cpre\u003e\nsidekiq/current:{\"severity\":\"INFO\",\"time\":\"2021-03-02T14:00:48.536Z\",\"class\":\"SetUserStatusBasedOnUserCapSettingWorker\",\"args\":[\"84\"],\"retry\":3,\"queue\":\"set_user_status_based_on_user_cap_setting\",\"version\":0,\"jid\":\"d0778a7bcd9344c5aea51ecf\",\"created_at\":\"2021-03-02T14:00:48.534Z\",\"meta.user\":\"kmc\",\"meta.project\":\"parent-group-a/sub-group-b/project-b\",\"meta.root_namespace\":\"parent-group-a\",\"meta.caller_id\":\"Projects::Settings::AccessTokensController#create\",\"meta.remote_ip\":\"73.13.242.253\",\"meta.feature_category\":\"authentication_and_authorization\",\"correlation_id\":\"01EZSKVJ0D6S865F8HWTRNQSYR\",\"enqueued_at\":\"2021-03-02T14:00:48.535Z\",\"pid\":30169,\"message\":\"SetUserStatusBasedOnUserCapSettingWorker JID-d0778a7bcd9344c5aea51ecf: start\",\"job_status\":\"start\",\"scheduling_latency_s\":0.001373,\"job_size_bytes\":553}\nsidekiq/current:{\"severity\":\"INFO\",\"time\":\"2021-03-02T14:00:48.547Z\",\"class\":\"SetUserStatusBasedOnUserCapSettingWorker\",\"args\":[\"84\"],\"retry\":3,\"queue\":\"set_user_status_based_on_user_cap_setting\",\"version\":0,\"jid\":\"d0778a7bcd9344c5aea51ecf\",\"created_at\":\"2021-03-02T14:00:48.534Z\",\"meta.user\":\"kmc\",\"meta.project\":\"parent-group-a/sub-group-b/project-b\",\"meta.root_namespace\":\"parent-group-a\",\"meta.caller_id\":\"Projects::Settings::AccessTokensController#create\",\"meta.remote_ip\":\"73.13.242.253\",\"meta.feature_category\":\"authentication_and_authorization\",\"correlation_id\":\"01EZSKVJ0D6S865F8HWTRNQSYR\",\"enqueued_at\":\"2021-03-02T14:00:48.535Z\",\"pid\":30169,\"message\":\"SetUserStatusBasedOnUserCapSettingWorker JID-d0778a7bcd9344c5aea51ecf: done: 0.011072 sec\",\"job_status\":\"done\",\"scheduling_latency_s\":0.001373,\"job_size_bytes\":553,\"cpu_s\":0.007174,\"redis_calls\":2,\"redis_duration_s\":0.000377,\"redis_read_bytes\":2,\"redis_write_bytes\":210,\"redis_queues_calls\":2,\"redis_queues_duration_s\":0.000377,\"redis_queues_read_bytes\":2,\"redis_queues_write_bytes\":210,\"db_count\":2,\"db_write_count\":0,\"db_cached_count\":0,\"duration_s\":0.011072,\"completed_at\":\"2021-03-02T14:00:48.547Z\",\"db_duration_s\":0.001896}\nsidekiq/current:{\"severity\":\"INFO\",\"time\":\"2021-03-02T14:00:48.755Z\",\"class\":\"DeleteUserWorker\",\"args\":[\"1\",\"84\",\"{\\\"hard_delete\\\"=\\u003etrue, \\\"skip_authorization\\\"=\\u003etrue}\"],\"retry\":3,\"queue\":\"delete_user\",\"version\":0,\"jid\":\"f2b5658bfdecefc52524a3b0\",\"created_at\":\"2021-03-02T14:00:48.752Z\",\"meta.user\":\"kmc\",\"meta.project\":\"parent-group-a/sub-group-b/project-b\",\"meta.root_namespace\":\"parent-group-a\",\"meta.caller_id\":\"Projects::Settings::AccessTokensController#create\",\"meta.remote_ip\":\"73.13.242.253\",\"meta.feature_category\":\"authentication_and_authorization\",\"correlation_id\":\"01EZSKVJ0D6S865F8HWTRNQSYR\",\"enqueued_at\":\"2021-03-02T14:00:48.753Z\",\"pid\":30169,\"message\":\"DeleteUserWorker JID-f2b5658bfdecefc52524a3b0: start\",\"job_status\":\"start\",\"scheduling_latency_s\":0.00142,\"job_size_bytes\":549}\nsidekiq/current:{\"severity\":\"INFO\",\"time\":\"2021-03-02T14:00:48.905Z\",\"class\":\"DeleteUserWorker\",\"args\":[\"1\",\"84\",\"{\\\"hard_delete\\\"=\\u003etrue, \\\"skip_authorization\\\"=\\u003etrue}\"],\"retry\":3,\"queue\":\"delete_user\",\"version\":0,\"jid\":\"f2b5658bfdecefc52524a3b0\",\"created_at\":\"2021-03-02T14:00:48.752Z\",\"meta.user\":\"kmc\",\"meta.project\":\"parent-group-a/sub-group-b/project-b\",\"meta.root_namespace\":\"parent-group-a\",\"meta.caller_id\":\"Projects::Settings::AccessTokensController#create\",\"meta.remote_ip\":\"73.13.242.253\",\"meta.feature_category\":\"authentication_and_authorization\",\"correlation_id\":\"01EZSKVJ0D6S865F8HWTRNQSYR\",\"enqueued_at\":\"2021-03-02T14:00:48.753Z\",\"pid\":30169,\"message\":\"DeleteUserWorker JID-f2b5658bfdecefc52524a3b0: done: 0.150192 sec\",\"job_status\":\"done\",\"scheduling_latency_s\":0.00142,\"job_size_bytes\":549,\"cpu_s\":0.092415,\"redis_calls\":5,\"redis_duration_s\":0.001161,\"redis_read_bytes\":313,\"redis_write_bytes\":337,\"redis_cache_calls\":3,\"redis_cache_duration_s\":0.000736,\"redis_cache_read_bytes\":311,\"redis_cache_write_bytes\":157,\"redis_queues_calls\":2,\"redis_queues_duration_s\":0.000425,\"redis_queues_read_bytes\":2,\"redis_queues_write_bytes\":180,\"db_count\":81,\"db_write_count\":13,\"db_cached_count\":1,\"duration_s\":0.150192,\"completed_at\":\"2021-03-02T14:00:48.905Z\",\"db_duration_s\":0.061736}\ngitlab-workhorse/current:{\"content_type\":\"text/html; charset=utf-8\",\"correlation_id\":\"01EZSKVJ0D6S865F8HWTRNQSYR\",\"duration_ms\":372,\"host\":\"gitlarb.party\",\"level\":\"info\",\"method\":\"POST\",\"msg\":\"access\",\"proto\":\"HTTP/1.1\",\"referrer\":\"https://gitlarb.party/parent-group-a/sub-group-b/project-b/-/settings/access_tokens\",\"remote_addr\":\"73.13.242.253:0\",\"remote_ip\":\"73.13.242.253\",\"route\":\"\",\"status\":302,\"system\":\"http\",\"time\":\"2021-03-02T14:00:48Z\",\"ttfb_ms\":372,\"uri\":\"/parent-group-a/sub-group-b/project-b/-/settings/access_tokens\",\"user_agent\":\"Mozilla/5.0 (Macintosh; Intel Mac OS X 10.15; rv:86.0) Gecko/20100101 Firefox/86.0\",\"written_bytes\":149}\ngitlab-rails/audit_json.log:{\"severity\":\"INFO\",\"time\":\"2021-03-02T14:00:48.563Z\",\"correlation_id\":\"01EZSKVJ0D6S865F8HWTRNQSYR\",\"author_id\":1,\"author_name\":\"Kaitlyn\",\"entity_id\":84,\"entity_type\":\"User\",\"ip_address\":\"73.13.242.253\",\"add\":\"user\",\"target_id\":84,\"target_type\":\"User\",\"target_details\":\"project_4_bot\",\"entity_path\":\"project_4_bot\"}\ngitlab-rails/audit_json.log:{\"severity\":\"INFO\",\"time\":\"2021-03-02T14:00:48.747Z\",\"correlation_id\":\"01EZSKVJ0D6S865F8HWTRNQSYR\",\"author_id\":84,\"author_name\":\"test-admin\",\"entity_id\":84,\"entity_type\":\"User\",\"ip_address\":\"73.13.242.253\",\"custom_message\":\"Attempted to create personal access token but failed with message: Not permitted to create\",\"target_id\":84,\"target_type\":\"User\",\"target_details\":\"project_4_bot\",\"entity_path\":\"project_4_bot\"}\ngitlab-rails/audit_json.log:{\"severity\":\"INFO\",\"time\":\"2021-03-02T14:00:48.757Z\",\"correlation_id\":\"01EZSKVJ0D6S865F8HWTRNQSYR\",\"author_id\":1,\"author_name\":\"Kaitlyn\",\"entity_id\":4,\"entity_type\":\"Project\",\"ip_address\":\"73.13.242.253\",\"target_details\":null,\"action\":\"custom\",\"custom_message\":\"Attempted to create project access token but failed with message: Not permitted to create\",\"entity_path\":\"parent-group-a/sub-group-b/project-b\"}\ngitlab-rails/audit_json.log:{\"severity\":\"INFO\",\"time\":\"2021-03-02T14:00:48.894Z\",\"correlation_id\":\"01EZSKVJ0D6S865F8HWTRNQSYR\",\"author_id\":1,\"author_name\":\"Kaitlyn\",\"entity_id\":84,\"entity_type\":\"User\",\"ip_address\":\"73.13.242.253\",\"remove\":\"user\",\"target_id\":84,\"target_type\":\"User\",\"target_details\":\"project_4_bot\",\"entity_path\":\"project_4_bot\"}\ngitlab-rails/production_json.log:{\"method\":\"POST\",\"path\":\"/parent-group-a/sub-group-b/project-b/-/settings/access_tokens\",\"format\":\"html\",\"controller\":\"Projects::Settings::AccessTokensController\",\"action\":\"create\",\"status\":302,\"location\":\"https://gitlarb.party/parent-group-a/sub-group-b/project-b/-/settings/access_tokens\",\"time\":\"2021-03-02T14:00:48.767Z\",\"params\":[{\"key\":\"utf8\",\"value\":\"✓\"},{\"key\":\"authenticity_token\",\"value\":\"[FILTERED]\"},{\"key\":\"project_access_token\",\"value\":\"[FILTERED]\"},{\"key\":\"namespace_id\",\"value\":\"parent-group-a/sub-group-b\"},{\"key\":\"project_id\",\"value\":\"project-b\"}],\"remote_ip\":\"73.13.242.253\",\"user_id\":1,\"username\":\"kmc\",\"ua\":\"Mozilla/5.0 (Macintosh; Intel Mac OS X 10.15; rv:86.0) Gecko/20100101 Firefox/86.0\",\"correlation_id\":\"01EZSKVJ0D6S865F8HWTRNQSYR\",\"meta.user\":\"kmc\",\"meta.project\":\"parent-group-a/sub-group-b/project-b\",\"meta.root_namespace\":\"parent-group-a\",\"meta.caller_id\":\"Projects::Settings::AccessTokensController#create\",\"meta.remote_ip\":\"73.13.242.253\",\"meta.feature_category\":\"authentication_and_authorization\",\"redis_calls\":14,\"redis_duration_s\":0.003567,\"redis_read_bytes\":526,\"redis_write_bytes\":4561,\"redis_cache_calls\":5,\"redis_cache_duration_s\":0.001153,\"redis_cache_read_bytes\":210,\"redis_cache_write_bytes\":429,\"redis_queues_calls\":4,\"redis_queues_duration_s\":0.001126,\"redis_queues_read_bytes\":129,\"redis_queues_write_bytes\":2785,\"redis_shared_state_calls\":5,\"redis_shared_state_duration_s\":0.001288,\"redis_shared_state_read_bytes\":187,\"redis_shared_state_write_bytes\":1347,\"db_count\":51,\"db_write_count\":15,\"db_cached_count\":1,\"rack_attack_redis_count\":1,\"rack_attack_redis_duration_s\":0.0007188039999164175,\"cpu_s\":0.220168,\"queue_duration_s\":0.006731,\"db_duration_s\":0.13757,\"view_duration_s\":0.0,\"duration_s\":0.34907}\ngitlab-rails/application_json.log:{\"severity\":\"INFO\",\"time\":\"2021-03-02T14:00:48.536Z\",\"correlation_id\":\"01EZSKVJ0D6S865F8HWTRNQSYR\",\"message\":\"User \\\"test-admin\\\" (project4_bot@example.com) was created\"}\ngitlab-rails/application_json.log:{\"severity\":\"INFO\",\"time\":\"2021-03-02T14:00:48.735Z\",\"correlation_id\":\"01EZSKVJ0D6S865F8HWTRNQSYR\",\"event\":\"authorized_projects_refresh\",\"authorized_projects_refresh.source\":\"AuthorizedProjectsWorker\",\"authorized_projects_refresh.rows_deleted\":0,\"authorized_projects_refresh.rows_added\":1}\ngitlab-rails/application_json.log:{\"severity\":\"ERROR\",\"time\":\"2021-03-02T14:00:48.742Z\",\"correlation_id\":\"01EZSKVJ0D6S865F8HWTRNQSYR\",\"message\":\"Cannot obtain an exclusive lease. There must be another instance already in execution.\"}\ngitlab-rails/application_json.log:{\"severity\":\"INFO\",\"time\":\"2021-03-02T14:00:48.884Z\",\"correlation_id\":\"01EZSKVJ0D6S865F8HWTRNQSYR\",\"message\":\"User \\\"test-admin\\\" (project4_bot@example.com)  was removed\"}\n\u003cpre\u003e\n\u003c/details\u003e\n\n### Output of checks\n\n\n\n#### Results of GitLab environment info\n\n\u003c!--  Input any relevant GitLab environment information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to GitLab environment info\u003c/summary\u003e\n\n\u003cpre\u003e\n\nSystem information\nSystem:\t\tUbuntu 18.04\nProxy:\t\tno\nCurrent User:\tgit\nUsing RVM:\tno\nRuby Version:\t2.7.2p137\nGem Version:\t3.1.4\nBundler Version:2.1.4\nRake Version:\t13.0.3\nRedis Version:\t6.0.10\nGit Version:\t2.29.0\nSidekiq Version:5.2.9\nGo Version:\tunknown\n\nGitLab information\nVersion:\t13.9.1-ee\nRevision:\t8ae438629fa\nDirectory:\t/opt/gitlab/embedded/service/gitlab-rails\nDB Adapter:\tPostgreSQL\nDB Version:\t12.5\nURL:\t\thttps://gitlarb.party\nHTTP Clone URL:\thttps://gitlarb.party/some-group/some-project.git\nSSH Clone URL:\tgit@gitlarb.party:some-group/some-project.git\nElasticsearch:\tno\nGeo:\t\tno\nUsing LDAP:\tno\nUsing Omniauth:\tyes\nOmniauth Providers:\n\nGitLab Shell\nVersion:\t13.16.1\nRepository storage paths:\n- default: \t/var/opt/gitlab/git-data/repositories\nGitLab Shell path:\t\t/opt/gitlab/embedded/service/gitlab-shell\nGit:\t\t/opt/gitlab/embedded/bin/git\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n#### Results of GitLab application Check\n\n\u003c!--  Input any relevant GitLab application check information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to the GitLab application check\u003c/summary\u003e\n\u003cpre\u003e\n\nChecking GitLab subtasks ...\n\nChecking GitLab Shell ...\n\nGitLab Shell: ... GitLab Shell version \u003e= 13.16.1 ? ... OK (13.16.1)\nRunning /opt/gitlab/embedded/service/gitlab-shell/bin/check\nInternal API available: OK\nRedis available via internal API: OK\ngitlab-shell self-check successful\n\nChecking GitLab Shell ... Finished\n\nChecking Gitaly ...\n\nGitaly: ... default ... OK\n\nChecking Gitaly ... Finished\n\nChecking Sidekiq ...\n\nSidekiq: ... Running? ... yes\nNumber of Sidekiq processes ... 1\n\nChecking Sidekiq ... Finished\n\nChecking Incoming Email ...\n\nIncoming Email: ... Reply by email is disabled in config/gitlab.yml\n\nChecking Incoming Email ... Finished\n\nChecking LDAP ...\n\nLDAP: ... LDAP is disabled in config/gitlab.yml\n\nChecking LDAP ... Finished\n\nChecking GitLab App ...\n\nGit configured correctly? ... yes\nDatabase config exists? ... yes\nAll migrations up? ... yes\nDatabase contains orphaned GroupMembers? ... no\nGitLab config exists? ... yes\nGitLab config up to date? ... yes\nLog directory writable? ... yes\nTmp directory writable? ... yes\nUploads directory exists? ... yes\nUploads directory has correct permissions? ... yes\nUploads directory tmp has correct permissions? ... yes\nInit script exists? ... skipped (omnibus-gitlab has no init script)\nInit script up-to-date? ... skipped (omnibus-gitlab has no init script)\nProjects have namespace: ...\n2/1 ... yes\n3/2 ... yes\n11/4 ... yes\n12/5 ... yes\n1/6 ... yes\n1/7 ... yes\n1/8 ... yes\n12/9 ... yes\n1/10 ... yes\n74/12 ... yes\n1/13 ... yes\n76/14 ... yes\n1/20 ... yes\n1/21 ... yes\n1/22 ... yes\n1/24 ... yes\n11/25 ... yes\n10/26 ... yes\n11/27 ... yes\n11/28 ... yes\n11/29 ... yes\n1/30 ... yes\nRedis version \u003e= 4.0.0? ... yes\nRuby version \u003e= 2.7.2 ? ... yes (2.7.2)\nGit version \u003e= 2.29.0 ? ... yes (2.29.0)\nGit user has default SSH configuration? ... yes\nActive users: ... 7\nIs authorized keys file accessible? ... yes\nGitLab configured to store new projects in hashed storage? ... yes\nAll projects are in hashed storage? ... yes\nElasticsearch version 7.x (6.4 - 6.x deprecated to be removed in 13.8)? ... skipped (elasticsearch is disabled)\n\nChecking GitLab App ... Finished\n\n\nChecking GitLab subtasks ... Finished\n\n\u003c/pre\u003e\n\u003c/details\u003e","state":"closed","created_at":"2021-03-02T14:13:10.410Z","updated_at":"2022-08-30T08:31:32.569Z","closed_at":"2021-03-22T22:41:33.010Z","closed_by":{"id":3170776,"username":"krasio","name":"Krasimir Angelov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3170776/avatar.png","web_url":"https://gitlab.com/krasio"},"labels":["Unplanned","[deprecated] Category:Utilization","backend","customer","devops::fulfillment","group::utilization","priority::1","section::fulfillment","severity::1","type::bug","workflow::production"],"milestone":{"id":1233761,"iid":57,"group_id":9970,"title":"13.10","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.646Z","updated_at":"2022-04-21T07:22:00.171Z","due_date":"2021-03-17","start_date":"2021-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/57"},"assignees":[{"id":3170776,"username":"krasio","name":"Krasimir Angelov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3170776/avatar.png","web_url":"https://gitlab.com/krasio"}],"author":{"id":5461018,"username":"kchappell","name":"Kaitlyn Chappell","state":"active","avatar_url":"https://secure.gravatar.com/avatar/055da6acd1f2f9f5ceeefb4601d192e9?s=80\u0026d=identicon","web_url":"https://gitlab.com/kchappell"},"type":"ISSUE","assignee":{"id":3170776,"username":"krasio","name":"Krasimir Angelov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3170776/avatar.png","web_url":"https://gitlab.com/krasio"},"user_notes_count":50,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/323191","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/323191","notes":"https://gitlab.com/api/v4/projects/278964/issues/323191/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/323191/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#323191","relative":"#323191","full":"gitlab-org/gitlab#323191"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":80095375,"iid":323189,"project_id":278964,"title":"Remove exception when tracking events using Redis HLL","description":"Remove exception when tracking events using Redis HLL\n\nDuring a tracking event there should not be any exception raised. \n\nAn exception would block the flow of the application.","state":"closed","created_at":"2021-03-02T13:54:17.666Z","updated_at":"2021-10-28T13:59:23.070Z","closed_at":"2021-03-10T13:24:10.891Z","closed_by":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"labels":["devops::growth","group::product intelligence","section::growth","type::maintenance","workflow::verification"],"milestone":{"id":1233761,"iid":57,"group_id":9970,"title":"13.10","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.646Z","updated_at":"2022-04-21T07:22:00.171Z","due_date":"2021-03-17","start_date":"2021-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/57"},"assignees":[{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"}],"author":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"type":"ISSUE","assignee":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/323189","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/323189","notes":"https://gitlab.com/api/v4/projects/278964/issues/323189/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/323189/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#323189","relative":"#323189","full":"gitlab-org/gitlab#323189"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5157,"epic":{"id":177895,"iid":5157,"title":"Usage Ping Maintenance FY22-Q1","url":"/groups/gitlab-org/-/epics/5157","group_id":9970,"human_readable_end_date":"Apr 30, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":80087551,"iid":323184,"project_id":278964,"title":"Update metrics status when data is available in Usage Ping","description":"When we add new metrics definition the status is `implemented`.\n\nWe should update the status when the data is available.\n\n### When is data available?\n\n* When data is reaching Snowflake and is ready to use? \n\nOr\n\n* Make a guess and update the metric on the last day of the month\n\nData is ready the month after the release.\n\n### Goal\n\n* Have this process completely automated if possible\n* Maybe open an issue or MR and add the necessary changes\n\n### Proposed next steps\n\n- [ ] build a rake task that identifies the metrics from a given release and update the status of the metrics from implemented to data_available\n- [x] Update all metrics with milestone `13.12` with status `data_available`\n- [x] Generate a new Dictionary","state":"closed","created_at":"2021-03-02T12:35:05.160Z","updated_at":"2021-08-10T05:09:57.978Z","closed_at":"2021-08-10T05:09:57.965Z","closed_by":{"id":8200977,"username":"lmejia2","name":"Luis Mejia","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8200977/avatar.png","web_url":"https://gitlab.com/lmejia2"},"labels":["backend","devops::growth","feature::enhancement","group::product intelligence","missed:14.0","missed:14.1","section::growth","type::feature","workflow::production"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":8200977,"username":"lmejia2","name":"Luis Mejia","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8200977/avatar.png","web_url":"https://gitlab.com/lmejia2"}],"author":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"type":"ISSUE","assignee":{"id":8200977,"username":"lmejia2","name":"Luis Mejia","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8200977/avatar.png","web_url":"https://gitlab.com/lmejia2"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/323184","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":2},"weight":5,"blocking_issues_count":0,"has_tasks":true,"task_status":"2 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/323184","notes":"https://gitlab.com/api/v4/projects/278964/issues/323184/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/323184/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#323184","relative":"#323184","full":"gitlab-org/gitlab#323184"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5279,"epic":{"id":189497,"iid":5279,"title":"Service Ping 2.0 Enhancements","url":"/groups/gitlab-org/-/epics/5279","group_id":9970,"human_readable_end_date":"Jul 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":80072969,"iid":323170,"project_id":278964,"title":"Include autogenerated name for database sourced metrics inside metrics YAML","description":"## Background \n\nDuring research work for new naming convention for database sourced metrics, we've decided to use underlying SQL as source for metric name. In order to help apply new naming convention onto metrics, we've decided that metrics names should be generated automatically.\n\n## Goal\n\nExtend https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/generators/gitlab/usage_metric_definition_generator.rb to trigger metrics name generator and include it outcome into resulting metrics YAML file\n\nname suggestion should be placed in the metrics YAML under new key `name`","state":"closed","created_at":"2021-03-02T09:53:57.207Z","updated_at":"2022-03-16T11:45:00.814Z","closed_at":"2021-03-08T14:30:36.694Z","closed_by":{"id":4807002,"username":"mikolaj_wawrzyniak","name":"Mikołaj Wawrzyniak","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4807002/avatar.png","web_url":"https://gitlab.com/mikolaj_wawrzyniak"},"labels":["[deprecated] Accepting merge requests","backend","devops::growth","group::product intelligence","section::growth","type::maintenance","workflow::verification"],"milestone":{"id":1233761,"iid":57,"group_id":9970,"title":"13.10","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.646Z","updated_at":"2022-04-21T07:22:00.171Z","due_date":"2021-03-17","start_date":"2021-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/57"},"assignees":[{"id":4807002,"username":"mikolaj_wawrzyniak","name":"Mikołaj Wawrzyniak","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4807002/avatar.png","web_url":"https://gitlab.com/mikolaj_wawrzyniak"}],"author":{"id":4807002,"username":"mikolaj_wawrzyniak","name":"Mikołaj Wawrzyniak","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4807002/avatar.png","web_url":"https://gitlab.com/mikolaj_wawrzyniak"},"type":"ISSUE","assignee":{"id":4807002,"username":"mikolaj_wawrzyniak","name":"Mikołaj Wawrzyniak","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4807002/avatar.png","web_url":"https://gitlab.com/mikolaj_wawrzyniak"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/323170","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/323170","notes":"https://gitlab.com/api/v4/projects/278964/issues/323170/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/323170/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#323170","relative":"#323170","full":"gitlab-org/gitlab#323170"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5532,"epic":{"id":217511,"iid":5532,"title":"Usage Ping Naming Convention MVC","url":"/groups/gitlab-org/-/epics/5532","group_id":9970,"human_readable_end_date":"May 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":80068268,"iid":323166,"project_id":278964,"title":"[Feature flag] Rollout of `environment_tier`","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n## What\n\nRemove the `:environment_tier` feature flag ...\n\n## Owners\n\n- Team: ~\"devops::release\" \n- Most appropriate slack channel to reach out to: `#s_release`\n- Best individual to reach out to: @shinya.maeda \n\n## Expectations\n\n### What are we expecting to happen?\n\nBy enabling the feature flag, the newly added `environments.tier` attribute will be automatically guessed/filled by the `Deployments::UpdateEnvironmentWorker` or `Seed::Environment` (i.e. pipeline creation).\n\nYou can see the full implementation in [this MR](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/55471).\n\n### What might happen if this goes wrong?\n\nIf the logic to set the `tier` on the application runtime has a problem, the process to create environments and pipelines (specifically with `environment:` keywords at jobs) could be aborted by an exception.\n\n### What can we monitor to detect problems with this?\n\nWe can monitor [Sentry](https://sentry.gitlab.net/gitlab/gitlabcom/) that there is no exception spike.\n\n\n## Beta groups/projects\n\nIf applicable, any groups/projects that are happy to have this feature turned on early. Some organizations may wish to test big changes they are interested in with a small subset of users ahead of time for example.\n\n- `gitlab-org/gitlab` project\n- `gitlab-com/www-gitlab-com` project\n\n## Roll Out Steps\n\n- [x] Enable on staging (`/chatops run feature set environment_tier true --staging`)\n- [x] Test on staging\n- [-] Ensure that documentation has been updated =\u003e documentation will be added upon the feature flag removal.\n- [x] Enable on GitLab.com for individual groups/projects listed above and verify behaviour  (`/chatops run feature set --project=gitlab-org/gitlab environment_tier true`)\n- [x] Coordinate a time to enable the flag with the SRE oncall and release managers\n  - In `#production` mention `@sre-oncall` and `@release-managers`. Once an SRE on call and Release Manager on call confirm, you can proceed with the rollout\n- [x] Announce on the issue an estimated time this will be enabled on GitLab.com\n- [x] Enable on GitLab.com by running chatops command in `#production` (`/chatops run feature set environment_tier true`)\n- [x] Cross post chatops Slack command to `#support_gitlab-com` ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#where-to-run-commands)) and in your team channel\n- [x] Announce on the issue that the flag has been enabled\n- [x] Remove feature flag and add changelog entry. Ensure that the feature flag definition YAML file has been removed in the **same MR** that is removing the feature flag from the code\n- [x] After the flag removal is deployed, [clean up the feature flag](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) by running chatops command in `#production` channel\n\n## Rollback Steps\n\n- [x] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set --project=gitlab-org/gitlab environment_tier false\n```","state":"closed","created_at":"2021-03-02T09:11:17.287Z","updated_at":"2021-03-18T07:07:51.500Z","closed_at":"2021-03-17T07:29:11.222Z","closed_by":{"id":758045,"username":"shinya.maeda","name":"Shinya Maeda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/758045/avatar.png","web_url":"https://gitlab.com/shinya.maeda"},"labels":["Category:Continuous Delivery","Category:Release Orchestration","Deliverable","Release::P1","cicd::active","devops::release","environments","feature flag","group::release","section::ops","workflow::verification"],"milestone":{"id":1233761,"iid":57,"group_id":9970,"title":"13.10","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.646Z","updated_at":"2022-04-21T07:22:00.171Z","due_date":"2021-03-17","start_date":"2021-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/57"},"assignees":[{"id":758045,"username":"shinya.maeda","name":"Shinya Maeda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/758045/avatar.png","web_url":"https://gitlab.com/shinya.maeda"}],"author":{"id":758045,"username":"shinya.maeda","name":"Shinya Maeda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/758045/avatar.png","web_url":"https://gitlab.com/shinya.maeda"},"type":"ISSUE","assignee":{"id":758045,"username":"shinya.maeda","name":"Shinya Maeda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/758045/avatar.png","web_url":"https://gitlab.com/shinya.maeda"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/323166","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":11,"completed_count":11},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"11 of 11 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/323166","notes":"https://gitlab.com/api/v4/projects/278964/issues/323166/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/323166/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#323166","relative":"#323166","full":"gitlab-org/gitlab#323166"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":80067765,"iid":323162,"project_id":278964,"title":"[Feature flag] Rollout of `dora_daily_metrics`","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n## What\n\nRemove the `:dora_daily_metrics` feature flag ...\n\n## Owners\n\n- Team: ~\"devops::release\" \n- Most appropriate slack channel to reach out to: `#s_release`\n- Best individual to reach out to: @shinya.maeda \n\n## Expectations\n\n### What are we expecting to happen?\n\nBy enabling this feature flag, `Dora::DailyMetrics::RefreshWorker` starts collecting DORA daily metrics when a deployment job succeeded.\n\nYou can see the full implementation in [this MR](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/55473).\n\n### What might happen if this goes wrong?\n\nIn case there is an logical failure or edge case on the worker, the worker will fail to complete the process by raising an error.\n\n### What can we monitor to detect problems with this?\n\nWe can detect the problems by monitoring the exception spike on Sentry.\n\n- [Grafana](https://dashboards.gitlab.net/d/sidekiq-queue-detail/sidekiq-queue-detail?orgId=1\u0026var-PROMETHEUS_DS=Global\u0026var-environment=gprd\u0026var-stage=main\u0026var-queue=dora_metrics:dora_daily_metrics_refresh) \n- [Sentry](https://sentry.gitlab.net/gitlab/gitlabcom/?query=Dora%3A%3ADailyMetrics%3A%3ARefreshWorker)\n- [Kibana](https://log.gprd.gitlab.net/goto/1bc13789d822f5bb968441c89913cf5c)\n- [Kibana Graph Visualization (for DB s)](https://log.gprd.gitlab.net/goto/821bf55f03a1e218d1bdbe8910440c3b)\n\n\n## Beta groups/projects\n\nIf applicable, any groups/projects that are happy to have this feature turned on early. Some organizations may wish to test big changes they are interested in with a small subset of users ahead of time for example.\n\n- `gitlab-org/gitlab` project\n- `gitlab-com/www-gitlab-com` project\n\n## Roll Out Steps\n\n- [x] Enable on staging (`/chatops run feature set dora_daily_metrics true --staging`)\n- [x] Test on staging\n- [-] Ensure that documentation has been updated =\u003e documentation will be added upon the feature flag removal.\n- [x] Enable on GitLab.com for individual groups/projects listed above and verify behaviour  (`/chatops run feature set --project=gitlab-org/gitlab dora_daily_metrics true`)\n- [x] Coordinate a time to enable the flag with the SRE oncall and release managers\n  - In `#production` mention `@sre-oncall` and `@release-managers`. Once an SRE on call and Release Manager on call confirm, you can proceed with the rollout\n- [x] Announce on the issue an estimated time this will be enabled on GitLab.com\n- [x] Enable on GitLab.com by running chatops command in `#production` (`/chatops run feature set dora_daily_metrics true`)\n- [x] Cross post chatops Slack command to `#support_gitlab-com` ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#where-to-run-commands)) and in your team channel\n- [x] Announce on the issue that the flag has been enabled\n- [x] Remove feature flag and add changelog entry. Ensure that the feature flag definition YAML file has been removed in the **same MR** that is removing the feature flag from the code\n- [x] After the flag removal is deployed, [clean up the feature flag](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) by running chatops command in `#production` channel\n\n## Rollback Steps\n\n- [x] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set --project=gitlab-org/gitlab dora_daily_metrics false\n```","state":"closed","created_at":"2021-03-02T09:05:39.681Z","updated_at":"2021-03-18T07:07:51.555Z","closed_at":"2021-03-18T06:55:15.667Z","closed_by":{"id":758045,"username":"shinya.maeda","name":"Shinya Maeda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/758045/avatar.png","web_url":"https://gitlab.com/shinya.maeda"},"labels":["Category:Continuous Delivery","Deliverable","GitLab Ultimate","Release::P1","analytics","api","auto updated","backend","cicd::active","devops::release","direction","feature flag","group::release","section::ops","type::feature","workflow::verification"],"milestone":{"id":1233761,"iid":57,"group_id":9970,"title":"13.10","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.646Z","updated_at":"2022-04-21T07:22:00.171Z","due_date":"2021-03-17","start_date":"2021-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/57"},"assignees":[{"id":758045,"username":"shinya.maeda","name":"Shinya Maeda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/758045/avatar.png","web_url":"https://gitlab.com/shinya.maeda"}],"author":{"id":758045,"username":"shinya.maeda","name":"Shinya Maeda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/758045/avatar.png","web_url":"https://gitlab.com/shinya.maeda"},"type":"ISSUE","assignee":{"id":758045,"username":"shinya.maeda","name":"Shinya Maeda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/758045/avatar.png","web_url":"https://gitlab.com/shinya.maeda"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/323162","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":11,"completed_count":11},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"11 of 11 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/323162","notes":"https://gitlab.com/api/v4/projects/278964/issues/323162/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/323162/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#323162","relative":"#323162","full":"gitlab-org/gitlab#323162"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":80065153,"iid":323159,"project_id":278964,"title":"[Feature flag] Group level DevOps Adoption - Enable group_devops_adoption","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n## What\n\nEnable and Remove the `:group_devops_adoption` feature flag ...\n\n## Owners\n\n- Team: ~\"group::optimize\" \n- Most appropriate slack channel to reach out to: `#g_manage_optimize`\n- Best individual to reach out to: @blabuschagne \n\n## Expectations\n\n### What are we expecting to happen?\n\n### What might happen if this goes wrong?\n\n### What can we monitor to detect problems with this?\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? Sentry errors reports can alse be useful to review --\u003e\n\n\n## Beta groups/projects\n\nIf applicable, any groups/projects that are happy to have this feature turned on early. Some organizations may wish to test big changes they are interested in with a small subset of users ahead of time for example.\n\n- `gitlab-org/gitlab` project\n- `gitlab-org`/`gitlab-com` groups\n- ...\n\n## Roll Out Steps\n\n- [x] Enable on staging (`/chatops run feature set feature_name true --staging`)\n- [ ] Test on staging\n- [ ] Ensure that documentation has been updated\n- [ ] Enable on GitLab.com for individual groups/projects listed above and verify behaviour  (`/chatops run feature set --project=gitlab-org/gitlab feature_name true`)\n- [ ] Coordinate a time to enable the flag with the SRE oncall and release managers\n  - In `#production` mention `@sre-oncall` and `@release-managers`. Once an SRE on call and Release Manager on call confirm, you can proceed with the rollout\n- [ ] Announce on the issue an estimated time this will be enabled on GitLab.com\n- [ ] Enable on GitLab.com by running chatops command in `#production` (`/chatops run feature set feature_name true`)\n- [ ] Cross post chatops Slack command to `#support_gitlab-com` ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#where-to-run-commands)) and in your team channel\n- [ ] Announce on the issue that the flag has been enabled\n- [ ] Remove feature flag and add changelog entry. Ensure that the feature flag definition YAML file has been removed in the **same MR** that is removing the feature flag from the code\n- [ ] After the flag removal is deployed, [clean up the feature flag](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) by running chatops command in `#production` channel\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set --project=gitlab-org/gitlab group_devops_adoption_flag false\n```","state":"closed","created_at":"2021-03-02T08:34:42.734Z","updated_at":"2021-06-22T15:37:11.434Z","closed_at":"2021-05-14T08:04:41.632Z","closed_by":{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"},"labels":["Technical Writing","devops::manage","docs::feature","documentation","feature flag","frontend","group::optimize","missed:13.11","section::dev"],"milestone":{"id":1233762,"iid":58,"group_id":9970,"title":"13.12","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.948Z","updated_at":"2022-04-21T07:22:18.898Z","due_date":"2021-05-17","start_date":"2021-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/58"},"assignees":[{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"}],"author":{"id":3101551,"username":"blabuschagne","name":"Brandon Labuschagne","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3101551/avatar.png","web_url":"https://gitlab.com/blabuschagne"},"type":"ISSUE","assignee":{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/323159","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":12,"completed_count":1},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"1 of 12 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/323159","notes":"https://gitlab.com/api/v4/projects/278964/issues/323159/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/323159/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#323159","relative":"#323159","full":"gitlab-org/gitlab#323159"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5252,"epic":{"id":185658,"iid":5252,"title":"Group-level DevOps Adoption","url":"/groups/gitlab-org/-/epics/5252","group_id":9970,"human_readable_end_date":"May 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":80064956,"iid":323158,"project_id":278964,"title":"Prometheus gauge for package types","description":"Follow up from https://gitlab.com/gitlab-com/gl-infra/scalability/-/issues/911#note_519444395\n\n### Proposal \n\nCreate a prometheus gauge and for each package type, have label. Set the value to `1`.\n\nDo this during rails startup, eg. in a initializer file.","state":"closed","created_at":"2021-03-02T08:32:59.830Z","updated_at":"2021-03-03T07:24:22.762Z","closed_at":"2021-03-03T07:24:22.720Z","closed_by":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"labels":["[deprecated] Accepting merge requests","backend","devops::package","group::package registry","ruby"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"type":"ISSUE","assignee":null,"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/323158","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/323158","notes":"https://gitlab.com/api/v4/projects/278964/issues/323158/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/323158/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#323158","relative":"#323158","full":"gitlab-org/gitlab#323158"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":80062271,"iid":323153,"project_id":278964,"title":"Move Product Intelligence Danger bot logic into a class/helper","description":"We have now a lot of logic in the Dangerfile for Product Intelligence, we could refactor and move it in a class so we can also have tests for it.\n\nhttps://gitlab.com/gitlab-org/gitlab/-/blob/master/danger/product_intelligence/Dangerfile\n\nMaybe we could make it a plugin as `changelog.rb` https://gitlab.com/gitlab-org/gitlab/-/tree/master/danger/plugins","state":"closed","created_at":"2021-03-02T07:54:00.491Z","updated_at":"2022-03-16T11:45:02.116Z","closed_at":"2021-05-31T21:55:39.986Z","closed_by":{"id":8200977,"username":"lmejia2","name":"Luis Mejia","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8200977/avatar.png","web_url":"https://gitlab.com/lmejia2"},"labels":["backend","devops::growth","group::product intelligence","product intelligence::onboarding issue","section::growth","type::maintenance","workflow::production"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":8200977,"username":"lmejia2","name":"Luis Mejia","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8200977/avatar.png","web_url":"https://gitlab.com/lmejia2"}],"author":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"type":"ISSUE","assignee":{"id":8200977,"username":"lmejia2","name":"Luis Mejia","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8200977/avatar.png","web_url":"https://gitlab.com/lmejia2"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/323153","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/323153","notes":"https://gitlab.com/api/v4/projects/278964/issues/323153/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/323153/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#323153","relative":"#323153","full":"gitlab-org/gitlab#323153"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5279,"epic":{"id":189497,"iid":5279,"title":"Service Ping 2.0 Enhancements","url":"/groups/gitlab-org/-/epics/5279","group_id":9970,"human_readable_end_date":"Jul 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":80048929,"iid":323127,"project_id":278964,"title":"Add remaining MR approval settings to group level approval settings API","description":"## Why are we doing this work\n\nTo support the management of all MR approval settings at group level, we need to expose some additional attributes to the group level approval settings API.\n\n## Relevant links\n\nRelated [issue](https://gitlab.com/gitlab-org/gitlab/-/issues/273544) that introduced the initial group MR settings table and fields \n\n## Non-functional requirements\n\n- [-] Documentation: Not needed as it is behind a feature flag\n- [ ] Feature flag: `group_merge_request_approval_settings_feature_flag`\n- [-] Performance: \n- [-] Testing:\n\n\n## Implementation plan\n- [ ] ~database Add these new fields to the `group_merge_request_approval_settings` table\n  - [ ] `allow_committer_approval`\n  - [ ] `allow_overrides_to_approver_list_per_merge_request`\n  - [ ] `retain_approvals_on_push`\n  - [ ] `require_password_to_approve`\n\n\u003cdetails\u003e\n\n```plantuml\nhide circle\nskinparam linetype ortho\nskinparam shadowing false\n\nentity \"namespaces\" as e01 {\n  *id : int\n}\n\nentity \"group_merge_request_approval_settings\" as e02 {\n  *group_id : bigin\n  --\n  *allow_author_approval : boolean\n  *allow_committer_approval : boolean\n  *allow_overrides_to_approver_list_per_merge_request : boolean\n  *retain_approvals_on_push : boolean\n  *require_password_to_approve : boolean\n  *created_at : timestamp\n  *updated_at : timestamp\n}\n\ne01 ||-|{ e02\n```\n\n\u003c/details\u003e\n\n- [ ] ~backend Add a new field to the API entity of Group MR approval settings (verify with both `GET` and `PUT`)","state":"closed","created_at":"2021-03-02T01:36:53.403Z","updated_at":"2022-02-10T22:40:53.677Z","closed_at":"2021-03-17T11:24:07.945Z","closed_by":{"id":398752,"username":"tancnle","name":"Tan Le","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/398752/avatar.png","web_url":"https://gitlab.com/tancnle"},"labels":["Category:Compliance Management","Enterprise Edition","GitLab Premium","backend","devops::manage","feature::addition","group::compliance","priority::2","section::dev","type::feature","workflow::verification"],"milestone":{"id":1233761,"iid":57,"group_id":9970,"title":"13.10","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.646Z","updated_at":"2022-04-21T07:22:00.171Z","due_date":"2021-03-17","start_date":"2021-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/57"},"assignees":[{"id":398752,"username":"tancnle","name":"Tan Le","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/398752/avatar.png","web_url":"https://gitlab.com/tancnle"}],"author":{"id":398752,"username":"tancnle","name":"Tan Le","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/398752/avatar.png","web_url":"https://gitlab.com/tancnle"},"type":"ISSUE","assignee":{"id":398752,"username":"tancnle","name":"Tan Le","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/398752/avatar.png","web_url":"https://gitlab.com/tancnle"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/323127","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":7,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 7 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/323127","notes":"https://gitlab.com/api/v4/projects/278964/issues/323127/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/323127/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#323127","relative":"#323127","full":"gitlab-org/gitlab#323127"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5957,"epic":{"id":266916,"iid":5957,"title":"Group-level settings for merge request approval SETTINGS in child projects","url":"/groups/gitlab-org/-/epics/5957","group_id":9970,"human_readable_end_date":"Jan 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":80048363,"iid":323126,"project_id":278964,"title":"Python cryptography dependency CVE for API Fuzzing","description":"### Problem\n\nDependency scanning has reported a CVE in the python `cryptography` module.\n\n### Proposal\n\nThe `cryptography` dependency is used by `urllib3` which in turn is used by the `requests` library. The `requests` library is used by `worker-entry`, the python library, our flask target, and the ci script.\n\n1. [x] Investigate usage, update or remove dependency\n1. [x] Publish new container","state":"closed","created_at":"2021-03-02T01:19:45.550Z","updated_at":"2021-10-13T14:48:50.825Z","closed_at":"2021-03-03T18:06:39.118Z","closed_by":{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"},"labels":["Category:Fuzz Testing","GitLab Ultimate","backend","devops::secure","group::dynamic analysis","workflow::verification"],"milestone":{"id":1233761,"iid":57,"group_id":9970,"title":"13.10","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.646Z","updated_at":"2022-04-21T07:22:00.171Z","due_date":"2021-03-17","start_date":"2021-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/57"},"assignees":[],"author":{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"},"type":"ISSUE","assignee":null,"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/323126","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":2},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"2 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/323126","notes":"https://gitlab.com/api/v4/projects/278964/issues/323126/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/323126/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#323126","relative":"#323126","full":"gitlab-org/gitlab#323126"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":80045934,"iid":323124,"project_id":278964,"title":"Revise WIP-related code examples","description":"\n\n### Problem to solve\n\nSeveral portions of https://docs.gitlab.com/ee/development/api_graphql_styleguide.html use examples that mention WIP, which we're trying to deprecate and remove from our documentation in https://gitlab.com/gitlab-org/gitlab/-/issues/231502. Your technical writer (@aqualls) can't generate new examples for this page, so this work needs to be assigned to an engineer first.\n\n### Further details\n\nThis work may be considered a blocker for https://gitlab.com/gitlab-org/gitlab/-/issues/231502 - we don't want to encourage users to try using these functions.\n\n### Proposal\n\n\u003c!-- Further specifics for how can we solve the problem. --\u003e\n\n### Who can address the issue\n\nAn engineer from ~\"group::code review\".\n\n### Other links/references\n\nRelated to https://gitlab.com/gitlab-org/gitlab/-/issues/231502","state":"closed","created_at":"2021-03-02T00:39:00.001Z","updated_at":"2021-05-12T03:16:39.179Z","closed_at":"2021-05-12T03:16:39.148Z","closed_by":{"id":4901936,"username":"dskim_gitlab","name":"Sincheol (David) Kim","state":"active","avatar_url":"https://secure.gravatar.com/avatar/84a984a56c54d1d31338678421cecc32?s=80\u0026d=identicon","web_url":"https://gitlab.com/dskim_gitlab"},"labels":["Category:Code Review Workflow","Category:Source Code Management","Technical Writing","backend","devops::create","documentation","group::code review","section::dev","workflow::blocked"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":4901936,"username":"dskim_gitlab","name":"Sincheol (David) Kim","state":"active","avatar_url":"https://secure.gravatar.com/avatar/84a984a56c54d1d31338678421cecc32?s=80\u0026d=identicon","web_url":"https://gitlab.com/dskim_gitlab"}],"author":{"id":5133434,"username":"aqualls","name":"Amy Qualls","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5133434/avatar.png","web_url":"https://gitlab.com/aqualls"},"type":"ISSUE","assignee":{"id":4901936,"username":"dskim_gitlab","name":"Sincheol (David) Kim","state":"active","avatar_url":"https://secure.gravatar.com/avatar/84a984a56c54d1d31338678421cecc32?s=80\u0026d=identicon","web_url":"https://gitlab.com/dskim_gitlab"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/323124","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":0,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/323124","notes":"https://gitlab.com/api/v4/projects/278964/issues/323124/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/323124/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#323124","relative":"#323124","full":"gitlab-org/gitlab#323124"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3879,"epic":{"id":80141,"iid":3879,"title":"Rename WIP merge requests to Draft","url":"/groups/gitlab-org/-/epics/3879","group_id":9970,"human_readable_end_date":"Oct 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":80037309,"iid":323116,"project_id":278964,"title":"Expose approval rules in MergeRequest GraphQL object","description":"\u003c!--\nImplementation issues are used break-up a large piece of work into small, discrete tasks that can\nmove independently through the build workflow steps. They're typically used to populate a Feature\nEpic. Once created, an implementation issue is usually refined in order to populate and review the\nimplementation plan and weight.\nExample workflow: https://about.gitlab.com/handbook/engineering/development/threat-management/planning/diagram.html#plan\n--\u003e\n\n## Why are we doing this work\n\nThere's been a customer question about using the GraphQL API to see MR vulnerability-check approvals. This is currently [only possible in the REST API](https://docs.gitlab.com/ee/api/merge_request_approvals.html#get-the-approval-state-of-merge-requests).\n\nOn top of being a customer request, it's also part of the GraphQL [Vision](https://docs.gitlab.com/ee/api/graphql/#vision):\n\n\u003e anything possible in the REST API should also be possible in the GraphQL API. \n\n\n\u003c!--\nA brief explanation of the why, not the what or how. Assume the reader doesn't know the\nbackground and won't have time to dig-up information from comment threads.\n--\u003e\n\n\n## Relevant links\n\n- REST [Get the approval state of merge requests](https://docs.gitlab.com/ee/api/merge_request_approvals.html#get-the-approval-state-of-merge-requests)\n- GraphQL [MergeRequest](https://docs.gitlab.com/ee/api/graphql/reference/index.html#mergerequest)\n\n\n## Non-functional requirements\n\u003c!--\nAdd details for required items and delete others.\n--\u003e\n\n- [x] Documentation: as required by GraphQL implementation\n- [ ] Feature flag: N/A\n- [ ] Performance: TBC\n- [ ] Testing: specs\n\n\n## Implementation plan\n\n- [x] ~backend Introduce a new field for the `MergeRequest` GraphQL type called `approval_state` and its type with the following fields;\n  - [x] `approval_rules_overwritten` Boolean not null\n  - [x] `rules` with the type of a collection of `ApprovalRule`(not null). This is a new type with the following fields;\n    - [x] `id` ID not null\n    - [x] `name` String not null\n    - [x] `rule_type` Enum defined in `ApprovalProjectRule` model not null\n    - [x] `approvals_required` Integer not null\n    - [x] `approved` Boolean not null\n    - [x] `overridden` Boolean not null\n    - [x] `contains_hidden_groups` Boolean not null\n    - [x] `source_rule` type of an `ApprovalRule` can be null\n    - [x] `eligible_approvers` list of Users\n    - [x] `users` list of Users\n    - [x] `approved_by` list of Users\n    - [x] `groups` list of Groups\n\n**Note:** We can check the existing entity and presenter classes to figure out how these fields are populated on REST API to implement similar logic or use existing ones on GraphQL API.\n\n\u003c!--\nWorkflow and other relevant labels\n\n~\"group::\" ~\"Category:\" ~\"GitLab Ultimate\"\n--\u003e\n/cc @matt_wilson \n\n\u003c!--\nOther settings you might want to include when creating the issue.\n\n--\u003e","state":"closed","created_at":"2021-03-01T22:08:04.830Z","updated_at":"2022-11-11T21:40:03.003Z","closed_at":"2021-09-10T11:03:37.062Z","closed_by":{"id":8953999,"username":"bwill","name":"Brian Williams","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8953999/avatar.png","web_url":"https://gitlab.com/bwill"},"labels":["Category:Security Policy Management","Category:Source Code Management","Category:Vulnerability Management","GraphQL","backend","customer","devops::govern","group::security policies","section::sec","secure merge request approval","workflow::verification"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":8953999,"username":"bwill","name":"Brian Williams","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8953999/avatar.png","web_url":"https://gitlab.com/bwill"}],"author":{"id":480804,"username":"thiagocsf","name":"Thiago Figueiró","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/480804/avatar.png","web_url":"https://gitlab.com/thiagocsf"},"type":"ISSUE","assignee":{"id":8953999,"username":"bwill","name":"Brian Williams","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8953999/avatar.png","web_url":"https://gitlab.com/bwill"},"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/323116","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":19,"completed_count":16},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"16 of 19 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/323116","notes":"https://gitlab.com/api/v4/projects/278964/issues/323116/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/323116/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#323116","relative":"#323116","full":"gitlab-org/gitlab#323116"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3311,"epic":{"id":53576,"iid":3311,"title":"Extensive Automation","url":"/groups/gitlab-org/-/epics/3311","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":80023415,"iid":323087,"project_id":278964,"title":"Remove nested user from group subscription results in error","description":"### Summary\n\nIn #217851 and #301232, the functionality has been added to allow group owners to quickly remove users from their groups with a single interaction.  Removing a nested user -- that is, user is not a direct member of the group but rather has been added to a project or sub-group -- results in an error on the frontend, and a 404 in the API on the backend.\n\n### Steps to reproduce\n\nCreate a group, and then create a project in the group.  In the project, directly add a user into the project.  This causes the user to begin taking a seat within the group, although they will not appear as user under the top-level group members list.\n\nOn the seats usage page for the group, locate that user and attempt to remove them.  An error occurs:\n\n\n![screenshot-2021-03-01-11_57](/uploads/72976dc02ac6661ecc73048179a3a2c9/screenshot-2021-03-01-11_57.png)\n\n### Example Project\n\nFeel free to test on my own group:  https://gitlab.com/groups/my-trial2/-/seat_usage\n\nThe owner is @mod_keeen, the user I added was @kevenhughes into the sample project [my runners](https://gitlab.com/my-trial2/my-runners/-/project_members).\n\n### Relevant logs and/or screenshots\n\nAttempting to remove the nested user [results in a 404 against the API](https://log.gprd.gitlab.net/app/discover#/doc/7092c4e2-4eb5-46f2-8305-a7da2edad090/pubsub-rails-inf-gprd-004341?id=kYe47ncBlAoJn8UB3PAt).  Cursory examination into it, the API call is a DELETE against `/api/v4/groups/11026671/members/4447183`, but that UID is not actually found under the group members API end.\n\n```shell\n$ curl --header \"Private-Token: ---\" https://gitlab.com/api/v4/groups/11026671/members/ -s | jq .[].id\n3997598\n$ curl --header \"Private-Token: ---\" https://gitlab.com/api/v4/users/3997598 -s |jq .username\n\"mod_keeen\"\n```\n\nThe members list only contains the user(s) directly a member of the top-level group.\n\nI also tested by adding a user to the group directly, and that does [remove successfully](https://log.gprd.gitlab.net/app/discover#/doc/7092c4e2-4eb5-46f2-8305-a7da2edad090/pubsub-rails-inf-gprd-004341?id=N1S27ncBAc9M3SrLGmO_).  Same user and ID, but when added directly to the group it was also returned by the `/groups/11026671/members` endpoint.\n\n### Possible fixes\n\nMy guess is that the API call will 404 until the `/api/:version/groups/:id/members/` endpoint returns all members nested under a top-level group.\n\n## Reported Examples\n\n1. https://gitlab.zendesk.com/agent/tickets/197098\n1. https://gitlab.zendesk.com/agent/tickets/197157 \n1. https://gitlab.zendesk.com/agent/tickets/197237\n1. https://gitlab.zendesk.com/agent/tickets/197304\n1. https://gitlab.zendesk.com/agent/tickets/197378\n1. https://gitlab.zendesk.com/agent/tickets/192219\n1. https://gitlab.zendesk.com/agent/tickets/197509\n1. https://gitlab.zendesk.com/agent/tickets/197897\n1. https://gitlab.zendesk.com/agent/tickets/197710\n1. https://gitlab.zendesk.com/agent/tickets/197484\n1. https://gitlab.zendesk.com/agent/tickets/197971\n1. https://gitlab.zendesk.com/agent/tickets/198006\n1. https://gitlab.zendesk.com/agent/tickets/198201\n1. https://gitlab.zendesk.com/agent/tickets/197597\n1. https://gitlab.zendesk.com/agent/tickets/198012\n1. https://gitlab.zendesk.com/agent/tickets/198880\n1. https://gitlab.zendesk.com/agent/tickets/198853\n1. https://gitlab.zendesk.com/agent/tickets/198837\n1. https://gitlab.zendesk.com/agent/tickets/198874\n1. https://gitlab.zendesk.com/agent/tickets/198761","state":"closed","created_at":"2021-03-01T17:27:17.316Z","updated_at":"2021-05-04T14:14:20.179Z","closed_at":"2021-03-12T08:13:15.170Z","closed_by":{"id":5249152,"username":"vij","name":"Vijay Hawoldar","state":"active","avatar_url":"https://secure.gravatar.com/avatar/14567a8b4af4374011c43778878de399?s=80\u0026d=identicon","web_url":"https://gitlab.com/vij"},"labels":["[deprecated] Category:Utilization","backend","customer","devops::fulfillment","gitlab.com","group::utilization","priority::2","section::fulfillment","severity::2","type::bug","workflow::production"],"milestone":{"id":1233761,"iid":57,"group_id":9970,"title":"13.10","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.646Z","updated_at":"2022-04-21T07:22:00.171Z","due_date":"2021-03-17","start_date":"2021-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/57"},"assignees":[{"id":5249152,"username":"vij","name":"Vijay Hawoldar","state":"active","avatar_url":"https://secure.gravatar.com/avatar/14567a8b4af4374011c43778878de399?s=80\u0026d=identicon","web_url":"https://gitlab.com/vij"}],"author":{"id":4447183,"username":"kevenhughes","name":"Keven Hughes","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4447183/avatar.png","web_url":"https://gitlab.com/kevenhughes"},"type":"ISSUE","assignee":{"id":5249152,"username":"vij","name":"Vijay Hawoldar","state":"active","avatar_url":"https://secure.gravatar.com/avatar/14567a8b4af4374011c43778878de399?s=80\u0026d=identicon","web_url":"https://gitlab.com/vij"},"user_notes_count":47,"merge_requests_count":0,"upvotes":4,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/323087","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/323087","notes":"https://gitlab.com/api/v4/projects/278964/issues/323087/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/323087/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#323087","relative":"#323087","full":"gitlab-org/gitlab#323087"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null}]