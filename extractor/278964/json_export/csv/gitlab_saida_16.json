[{"id":111183967,"iid":366909,"project_id":278964,"title":"Frontend: Pipeline editor should save branch name and commit message changes when navigating between tabs","description":"\u003c!-- This issue template can be used as a great starting point for feature requests. The section \"Release notes\" can be used as a summary of the feature and is also required if you want to have your release post blog MR auto generated using the release post item generator:  https://about.gitlab.com/handbook/marketing/blog/release-posts/#release-post-item-generator. The remaining sections are the backbone for every feature in GitLab.\n\nThe goal of this template is brevity for quick/smaller iterations. For a more thorough list of considerations for larger features or feature sets, you can leverage the detailed [feature proposal](https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Feature%20proposal%20-%20detailed.md). --\u003e\n\n### Release notes\n\n\u003c!-- What is the problem and solution you're proposing? This content sets the overall vision for the feature and serves as the release notes that will populate in various places, including the [release post blog](https://about.gitlab.com/releases/categories/releases/) and [Gitlab project releases](https://gitlab.com/gitlab-org/gitlab/-/releases). \" --\u003e\n\n### Problem to solve\n\nWhen using the Pipeline Editor I don't want to lose my changes to branch name and commit message just by looking at the lint or visualize tabs (etc). When I return to the edit tab I want those to be maintained so that I don't accidentally commit to master after one last check of the visualize tab. \n\n![Screen_Recording_2022-08-05_at_12.58.33](/uploads/2971170e711d15f310daa7aadbaa4c44/Screen_Recording_2022-08-05_at_12.58.33.mov)\n\n\u003c!-- What is the user problem you are trying to solve with this issue? --\u003e\n\n### Proposal\n\nThe branch name and commit message should be retained in the commit form when you navigate between the tabs in the pipeline editor.\n\n\u003c!-- Use this section to explain the feature and how it will work. It can be helpful to add technical details, design proposals, and links to related epics or issues. --\u003e\n\n### Intended users\n\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Priyanka (Platform Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#priyanka-platform-engineer)\n\n\u003c!-- Who will use this feature? If known, include any of the following: types of users (e.g. Developer), personas, or specific company roles (e.g. Release Manager). It's okay to write \"Unknown\" and fill this field in later.\n\nPersonas are described at https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/\n\n* [Cameron (Compliance Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#cameron-compliance-manager)\n* [Parker (Product Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#parker-product-manager)\n* [Delaney (Development Team Lead)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#delaney-development-team-lead)\n* [Presley (Product Designer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#presley-product-designer)\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Priyanka (Platform Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#priyanka-platform-engineer)\n* [Sidney (Systems Administrator)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sidney-systems-administrator)\n* [Sam (Security Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sam-security-analyst)\n* [Rachel (Release Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#rachel-release-manager)\n* [Alex (Security Operations Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#alex-security-operations-engineer)\n* [Simone (Software Engineer in Test)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#simone-software-engineer-in-test)\n* [Allison (Application Ops)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#allison-application-ops)\n* [Ingrid (Infrastructure Operator)](https://about.gitlab.com/handbook/product/personas/#ingrid-infrastructure-operator)\n* [Dakota (Application Development Director)](https://about.gitlab.com/handbook/product/personas/#dakota-application-development-director)\n* [Dana (Data Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#dana-data-analyst)\n* [Eddie (Content Editor)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#eddie-content-editor)\n--\u003e\n\n### Feature Usage Metrics\n\n\u003c!-- How are you going to track usage of this feature? Think about user behavior and their interaction with the product. What indicates someone is getting value from it?\n\nCreate tracking issue using the Snowplow event tracking template. See https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Snowplow%20event%20tracking.md\n\n--\u003e\n\n\u003c!-- Label reminders\nUse the following resources to find the appropriate labels:\n- https://gitlab.com/gitlab-org/gitlab/-/labels\n- https://about.gitlab.com/handbook/product/categories/features/\n--\u003e\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2022-07-05T11:43:27.461Z","updated_at":"2022-09-30T15:15:20.640Z","closed_at":"2022-09-28T15:02:45.496Z","closed_by":{"id":5327378,"username":"f_caplette","name":"Frédéric Caplette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5327378/avatar.png","web_url":"https://gitlab.com/f_caplette"},"labels":["Category:Pipeline Authoring","GitLab Free","GitLab Premium","GitLab Ultimate","SUS::Impacting","UX","bug::ux","candidate::15.6","devops::verify","direction","documentation","frontend","group::pipeline authoring","section::ops","severity::4","type::bug","usability","workflow::verification"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":5327378,"username":"f_caplette","name":"Frédéric Caplette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5327378/avatar.png","web_url":"https://gitlab.com/f_caplette"}],"author":{"id":5069385,"username":"richard.eldridge","name":"Richard Eldridge","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5069385/avatar.png","web_url":"https://gitlab.com/richard.eldridge"},"type":"ISSUE","assignee":{"id":5327378,"username":"f_caplette","name":"Frédéric Caplette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5327378/avatar.png","web_url":"https://gitlab.com/f_caplette"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/366909","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/366909","notes":"https://gitlab.com/api/v4/projects/278964/issues/366909/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/366909/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#366909","relative":"#366909","full":"gitlab-org/gitlab#366909"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":{"id":67043,"iid":82,"sequence":25,"group_id":9970,"title":null,"description":null,"state":3,"created_at":"2022-06-27T00:05:02.060Z","updated_at":"2022-10-03T00:05:01.914Z","start_date":"2022-09-19","due_date":"2022-10-02","web_url":"https://gitlab.com/groups/gitlab-org/-/iterations/67043"},"health_status":null},{"id":111178044,"iid":366878,"project_id":278964,"title":"Fix sub group audit event streaming","description":"## Description\n\nThis is an issue to track the fix that's being applied to sub group audit event streaming in https://gitlab.com/gitlab-org/gitlab/-/merge_requests/90771.\n\nThe ~\"type::bug\"  is that audit events are not streamed as documented / expected for certain events on groups, sub-groups and projects.\n\nA possible workaround is to view the correct events in [Audit Events](https://docs.gitlab.com/ee/administration/audit_events.html#group-events), however users may not be aware that the streamed data is incorrect.\n\n## Timeline\n\nOn `Jun 22, 2022 3:25am UTC` @zhanglinjie created the MR https://gitlab.com/gitlab-org/gitlab/-/merge_requests/90771+.\n\nOn `Jul 5, 2022 8:45am UTC` @mwoolf while reviewing the MR marked the bug as ~\"severity::1\" https://gitlab.com/gitlab-org/gitlab/-/merge_requests/90771#note_1015894389.\n\n## Resolution\n\n1. https://gitlab.com/gitlab-org/gitlab/-/merge_requests/90771+.\n1. Update the event stream ~documentation with the before and after %\"15.2\".","state":"closed","created_at":"2022-07-05T09:55:50.542Z","updated_at":"2022-07-14T13:03:50.047Z","closed_at":"2022-07-14T08:55:08.949Z","closed_by":{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"},"labels":["JiHu contribution","backend","devops::manage","documentation","group::compliance","priority::1","section::dev","severity::1","type::bug","workflow::verification"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"}],"author":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"type":"ISSUE","assignee":{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/366878","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/366878","notes":"https://gitlab.com/api/v4/projects/278964/issues/366878/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/366878/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#366878","relative":"#366878","full":"gitlab-org/gitlab#366878"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":111157457,"iid":366860,"project_id":278964,"title":"Update reviewer component to use the GraphQL subscription","description":"\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2022-07-05T03:42:43.031Z","updated_at":"2022-11-21T12:01:46.700Z","closed_at":"2022-10-21T09:50:42.894Z","closed_by":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"labels":["Deliverable","GitLab Free","devops::create","direction","feature::enhancement","frontend","group::code review","missed-deliverable","missed:15.5","section::dev","type::feature","workflow::in review"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"}],"author":{"id":1884221,"username":"patrickbajao","name":"Patrick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1884221/avatar.png","web_url":"https://gitlab.com/patrickbajao"},"type":"ISSUE","assignee":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/366860","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/366860","notes":"https://gitlab.com/api/v4/projects/278964/issues/366860/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/366860/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#366860","relative":"#366860","full":"gitlab-org/gitlab#366860"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8333,"epic":{"id":560409,"iid":8333,"title":"Real-time merge request reviewers","url":"/groups/gitlab-org/-/epics/8333","group_id":9970,"human_readable_end_date":"Nov 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":111157447,"iid":366859,"project_id":278964,"title":"Updated reviewer sidebar component to use GraphQL","description":"\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2022-07-05T03:42:19.104Z","updated_at":"2022-09-20T23:41:05.220Z","closed_at":"2022-08-02T09:50:10.827Z","closed_by":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"labels":["Deliverable","devops::create","direction","feature::enhancement","frontend","group::code review","section::dev","type::feature","workflow::in review"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"}],"author":{"id":1884221,"username":"patrickbajao","name":"Patrick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1884221/avatar.png","web_url":"https://gitlab.com/patrickbajao"},"type":"ISSUE","assignee":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/366859","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/366859","notes":"https://gitlab.com/api/v4/projects/278964/issues/366859/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/366859/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#366859","relative":"#366859","full":"gitlab-org/gitlab#366859"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8333,"epic":{"id":560409,"iid":8333,"title":"Real-time merge request reviewers","url":"/groups/gitlab-org/-/epics/8333","group_id":9970,"human_readable_end_date":"Nov 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":111157437,"iid":366858,"project_id":278964,"title":"Trigger mergeRequestReviewersUpdated when reviewer state gets updated","description":"Trigger `mergeRequestReviewersUpdated` when a reviewer state gets changed (reviewed or unreviewed). This is dependent on https://gitlab.com/gitlab-org/gitlab/-/issues/366856.\n\n\n### Availability \u0026 Testing\nEnsure Unit/Integration test coverage, E2E test to be added after https://gitlab.com/gitlab-org/gitlab/-/issues/366859+ is done. \n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2022-07-05T03:41:54.684Z","updated_at":"2022-10-21T12:01:35.533Z","closed_at":"2022-10-10T04:25:21.199Z","closed_by":{"id":1884221,"username":"patrickbajao","name":"Patrick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1884221/avatar.png","web_url":"https://gitlab.com/patrickbajao"},"labels":["Deliverable","GitLab Free","backend","devops::create","direction","feature::addition","group::code review","quad-planning::complete-action","section::dev","type::feature"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":1884221,"username":"patrickbajao","name":"Patrick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1884221/avatar.png","web_url":"https://gitlab.com/patrickbajao"}],"author":{"id":1884221,"username":"patrickbajao","name":"Patrick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1884221/avatar.png","web_url":"https://gitlab.com/patrickbajao"},"type":"ISSUE","assignee":{"id":1884221,"username":"patrickbajao","name":"Patrick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1884221/avatar.png","web_url":"https://gitlab.com/patrickbajao"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/366858","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/366858","notes":"https://gitlab.com/api/v4/projects/278964/issues/366858/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/366858/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#366858","relative":"#366858","full":"gitlab-org/gitlab#366858"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8333,"epic":{"id":560409,"iid":8333,"title":"Real-time merge request reviewers","url":"/groups/gitlab-org/-/epics/8333","group_id":9970,"human_readable_end_date":"Nov 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":111157429,"iid":366857,"project_id":278964,"title":"Trigger mergeRequestReviewersUpdated when reviewer gets added/removed","description":"Trigger `mergeRequestReviewersUpdated` when a reviewer gets added or removed from the MR. This is dependent on https://gitlab.com/gitlab-org/gitlab/-/issues/366856.\n\n### Availability \u0026 Testing\nEnsure Unit/Integration test coverage, E2E test to be added after https://gitlab.com/gitlab-org/gitlab/-/issues/366859+ and associated UI work is done. \n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2022-07-05T03:41:40.634Z","updated_at":"2022-10-21T12:01:35.602Z","closed_at":"2022-10-03T06:39:26.877Z","closed_by":{"id":1884221,"username":"patrickbajao","name":"Patrick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1884221/avatar.png","web_url":"https://gitlab.com/patrickbajao"},"labels":["Deliverable","GitLab Free","backend","devops::create","direction","feature::addition","group::code review","quad-planning::complete-action","section::dev","type::feature"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":1884221,"username":"patrickbajao","name":"Patrick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1884221/avatar.png","web_url":"https://gitlab.com/patrickbajao"}],"author":{"id":1884221,"username":"patrickbajao","name":"Patrick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1884221/avatar.png","web_url":"https://gitlab.com/patrickbajao"},"type":"ISSUE","assignee":{"id":1884221,"username":"patrickbajao","name":"Patrick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1884221/avatar.png","web_url":"https://gitlab.com/patrickbajao"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/366857","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/366857","notes":"https://gitlab.com/api/v4/projects/278964/issues/366857/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/366857/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#366857","relative":"#366857","full":"gitlab-org/gitlab#366857"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8333,"epic":{"id":560409,"iid":8333,"title":"Real-time merge request reviewers","url":"/groups/gitlab-org/-/epics/8333","group_id":9970,"human_readable_end_date":"Nov 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":111157402,"iid":366856,"project_id":278964,"title":"Create mergeRequestReviewersUpdated subscription","description":"Create a GraphQL subscription called `mergeRequestReviewersUpdated` that will return a `MergeRequest` type which can include `reviewers` data. Triggering this subscription will be done in https://gitlab.com/gitlab-org/gitlab/-/issues/366857 and https://gitlab.com/gitlab-org/gitlab/-/issues/366858.\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2022-07-05T03:41:27.066Z","updated_at":"2022-09-21T12:01:42.478Z","closed_at":"2022-08-24T05:16:26.439Z","closed_by":{"id":1884221,"username":"patrickbajao","name":"Patrick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1884221/avatar.png","web_url":"https://gitlab.com/patrickbajao"},"labels":["Deliverable","GitLab Free","backend","devops::create","direction","feature::enhancement","group::code review","quad-planning::complete-no-action","section::dev","type::feature"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":1884221,"username":"patrickbajao","name":"Patrick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1884221/avatar.png","web_url":"https://gitlab.com/patrickbajao"}],"author":{"id":1884221,"username":"patrickbajao","name":"Patrick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1884221/avatar.png","web_url":"https://gitlab.com/patrickbajao"},"type":"ISSUE","assignee":{"id":1884221,"username":"patrickbajao","name":"Patrick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1884221/avatar.png","web_url":"https://gitlab.com/patrickbajao"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/366856","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/366856","notes":"https://gitlab.com/api/v4/projects/278964/issues/366856/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/366856/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#366856","relative":"#366856","full":"gitlab-org/gitlab#366856"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8333,"epic":{"id":560409,"iid":8333,"title":"Real-time merge request reviewers","url":"/groups/gitlab-org/-/epics/8333","group_id":9970,"human_readable_end_date":"Nov 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":111155885,"iid":366855,"project_id":278964,"title":"[Feature flag] Enable pausing background migration on high number of WAL segments pending archival","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n## Summary\n\nThis issue is to rollout https://gitlab.com/gitlab-org/gitlab/-/issues/357249+ on production,\nthat is currently behind the `batched_migrations_health_status_wal` feature flag.\n\n\u003c!-- Short description of what the feature is about and link to relevant other issues. --\u003e\n\n## Owners\n\n* Team: ~\"group::database\"\n* Most appropriate slack channel to reach out to: `#g_database`\n* Best individual to reach out to: `@krasio`\n* PM: `@fzimmer` \n\n\n## Stakeholders\n\n\u003c!--\nAre there any other stages or teams involved that need to be kept in the loop?\n\n- Name of a PM\n- The Support Team\n- The Delivery Team\n--\u003e\n\n## Expectations\n\n### What are we expecting to happen?\n\nWhen feature is enabled, batched background migration will be throttled if the number of WAL segments pending archival is above `42`.\n\n### What might happen if this goes wrong?\n\nIn the worst case, batched background migrations are not executed (because of some bug in our code).\n\n### What can we monitor to detect problems with this?\n\n[Generic Kibana log search for batched migration jobs transitions](https://log.gprd.gitlab.net/goto/4e56e250-fe6d-11ec-8656-f5f2137823ba) - look for many jobs reported as `failed`.\n\n### What can we check for monitoring production after rollouts?\n\n\n* [Kibana log search for migrations put on hold](https://log.gprd.gitlab.net/goto/419df730-fe6b-11ec-8656-f5f2137823ba)\n* [Kibana log search for batched migration signals](https://log.gprd.gitlab.net/goto/a80e0690-fe6b-11ec-8656-f5f2137823ba)\n* [PostgreSQL Overview dashboard](https://dashboards.gitlab.net/d/000000144/postgresql-overview?orgId=1)\n\n## Rollout Steps\n\n### Rollout on non-production environments\n\n- Ensure that the feature MRs have been deployed to non-production environments.\n    - [x] `/chatops run auto_deploy status d18535056bebb1fd3d561c3d83ddf69e44f82640`\n- [x] Enable the feature globally on non-production environments.\n    - [x] `/chatops run feature set batched_migrations_health_status_wal true --dev --staging --staging-ref`\n- [x] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n      The best environment to validate the feature in is [staging-canary](https://about.gitlab.com/handbook/engineering/infrastructure/environments/#staging-canary)\n      as this is the first environment deployed to. Note you will need to make sure you are configured to use canary as outlined [here](https://about.gitlab.com/handbook/engineering/infrastructure/environments/canary-stage/)\n      when accessing the staging environment in order to make sure you are testing appropriately.\n\n### Specific rollout on production\n\n- Ensure that the feature MRs have been deployed to both production and canary.\n    - [x] `/chatops run auto_deploy status d18535056bebb1fd3d561c3d83ddf69e44f82640`\n\n### Preparation before global rollout\n\n- [x] Check if the feature flag change needs to be accompanied with a\n  [change management issue](https://about.gitlab.com/handbook/engineering/infrastructure/change-management/#feature-flags-and-the-change-management-process).\n  Cross link the issue here if it does.\n- [x] Ensure that you or a representative in development can be available for at least 2 hours after feature flag updates in production.\n  If a different developer will be covering, or an exception is needed, please inform the oncall SRE by using the `@sre-oncall` Slack alias.\n- [ ] Ensure that documentation has been updated ([More info](https://docs.gitlab.com/ee/development/documentation/feature_flags.html#features-that-became-enabled-by-default)).\n- [x] Announce on https://gitlab.com/gitlab-org/gitlab/-/issues/357249+ an estimated time this will be enabled on GitLab.com. \n- [x] Ensure that any breaking changes have been announced following the [release post process](https://about.gitlab.com/handbook/marketing/blog/release-posts/#deprecations-removals-and-breaking-changes) to ensure GitLab customers are aware.\n- [x] Notify `#support_gitlab-com` and your team channel ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#communicate-the-change)).\n\n### Global rollout on production\n\nFor visibility, all `/chatops` commands that target production should be executed in the `#production` slack channel and cross-posted (with the command results) to the responsible team's slack channel (`#g_database`).\n\n- [ ] [Incrementally roll out](https://docs.gitlab.com/ee/development/feature_flags/controls.html#process) the feature.\n  - Enable the feature globally on production environment.\n    - [x] `/chatops run feature set batched_migrations_health_status_wal true`\n- [x] Announce on https://gitlab.com/gitlab-org/gitlab/-/issues/357249+ that the feature has been globally enabled.\n- [ ] Wait for [at least one day for the verification term](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release).\n\n### (Optional) Release the feature with the feature flag\n\nIf you're still unsure whether the feature is [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release)\nbut want to release it in the current milestone, you can change the default state of the feature flag to be enabled.\nTo do so, follow these steps:\n\n- [ ] Create a merge request with the following changes. Ask for review and merge it.\n    - [ ] Set the `default_enabled` attribute in [the feature flag definition](https://docs.gitlab.com/ee/development/feature_flags/#feature-flag-definition-and-validation) to `true`.\n    - [ ] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the default-enabling MR has been included in the release package.\n      If the merge request was deployed before [the monthly release was tagged](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run release check \u003cmerge-request-url\u003e \u003cmilestone\u003e`\n- [ ] Consider cleaning up the feature flag from all environments by running these chatops command in `#production` channel. Otherwise these settings may override the default enabled.\n    - [ ] `/chatops run feature delete \u003cfeature-flag-name\u003e --dev --staging --staging-ref --production`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [ ] Set the next milestone to this rollout issue for scheduling [the flag removal](#release-the-feature).\n- [ ] (Optional) You can [create a separate issue](https://gitlab.com/gitlab-org/gitlab/-/issues/new?issuable_template=Feature%20Flag%20Cleanup) for scheduling the steps below to [Release the feature](#release-the-feature).\n    - [ ] Set the title to \"[Feature flag] Cleanup `\u003cfeature-flag-name\u003e`\".\n    - [ ] Execute the `/copy_metadata \u003cthis-rollout-issue-link\u003e` quick action to copy the labels from this rollout issue.\n    - [ ] Link this rollout issue as a related issue.\n    - [ ] Close this rollout issue.\n\n**WARNING:** This approach has the downside that it makes it difficult for us to\n[clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) the flag.\nFor example, on-premise users could disable the feature on their GitLab instance. But when you\nremove the flag at some point, they suddenly see the feature as enabled and they can't roll it back\nto the previous behavior. To avoid this potential breaking change, use this approach only for urgent\nmatters.\n\n### Release the feature\n\nAfter the feature has been [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release),\nthe [clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up)\nshould be done as soon as possible to permanently enable the feature and reduce complexity in the\ncodebase.\n\nYou can either [create a follow-up issue for Feature Flag Cleanup](https://gitlab.com/gitlab-org/gitlab/-/issues/new?issuable_template=Feature%20Flag%20Cleanup) or use the checklist below in this same issue.\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [ ] Create a merge request to remove `\u003cfeature-flag-name\u003e` feature flag. Ask for review and merge it.\n    - [ ] Remove all references to the feature flag from the codebase.\n    - [ ] Remove the YAML definitions for the feature from the repository.\n    - [ ] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the cleanup MR has been included in the release package.\n      If the merge request was deployed before [the monthly release was tagged](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run release check \u003cmerge-request-url\u003e \u003cmilestone\u003e`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [ ] If not already done, clean up the feature flag from all environments by running these chatops command in `#production` channel:\n    - [ ] `/chatops run feature delete \u003cfeature-flag-name\u003e --dev --staging --staging-ref --production`\n- [ ] Close this rollout issue.\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set batched_migrations_health_status_wal false\n```","state":"closed","created_at":"2022-07-05T02:30:05.066Z","updated_at":"2022-12-08T01:45:53.356Z","closed_at":"2022-09-15T23:30:12.585Z","closed_by":{"id":3170776,"username":"krasio","name":"Krasimir Angelov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3170776/avatar.png","web_url":"https://gitlab.com/krasio"},"labels":["Category:Database","devops::data_stores","feature flag","feature::addition","group::database","section::enablement","type::feature"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":3170776,"username":"krasio","name":"Krasimir Angelov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3170776/avatar.png","web_url":"https://gitlab.com/krasio"}],"author":{"id":3170776,"username":"krasio","name":"Krasimir Angelov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3170776/avatar.png","web_url":"https://gitlab.com/krasio"},"type":"ISSUE","assignee":{"id":3170776,"username":"krasio","name":"Krasimir Angelov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3170776/avatar.png","web_url":"https://gitlab.com/krasio"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/366855","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":40,"completed_count":12},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"12 of 40 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/366855","notes":"https://gitlab.com/api/v4/projects/278964/issues/366855/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/366855/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#366855","relative":"#366855","full":"gitlab-org/gitlab#366855"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7594,"epic":{"id":448610,"iid":7594,"title":"Implement throttling mechanism for large data changes","url":"/groups/gitlab-org/-/epics/7594","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":111146500,"iid":366844,"project_id":278964,"title":"Adding a metric without a definition doesn't fail `ee/spec/config/metrics/every_metric_definition_spec.rb` specs","description":"### Problem\n\nThere's an MR that added a new metric without a definition and it didn't fail guard specs - https://gitlab.com/gitlab-org/gitlab/-/merge_requests/91335#note_1015494251.\n\nThis is because we test in `ee/spec/config/metrics/every_metric_definition_spec.rb` against `ServicePing::BuildPayload`, which has already filtered out invalid keys, instead of `Gitlab::Usage::ServicePingReport`.\n\nThe filtering in `BuildPayload` is supposed to prevent dynamically-added metrics from adding some random metrics and creating problems for the data warehouse import, since it has a strict schema. However, we stopped tracking metrics without definitions entirely by testing against this already-filtered payload.\n\n### Solution\n\n- [x] Make `Every metric definition` specs fail on metrics without metric definitions by modifying the specs to test against `Gitlab::Usage::ServicePingReport` or otherwise\n- [ ] Add all possible missing metric definitions due to this bug","state":"closed","created_at":"2022-07-04T23:42:36.034Z","updated_at":"2022-07-20T07:50:50.854Z","closed_at":"2022-07-20T07:50:33.832Z","closed_by":{"id":1863977,"username":"michold","name":"Michał Wielich","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1863977/avatar.png","web_url":"https://gitlab.com/michold"},"labels":["devops::analytics","group::product intelligence","priority::2","section::analytics","severity::2","type::bug","workflow::in review"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":1863977,"username":"michold","name":"Michał Wielich","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1863977/avatar.png","web_url":"https://gitlab.com/michold"}],"author":{"id":8013274,"username":"pskorupa","name":"Piotr Skorupa","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8013274/avatar.png","web_url":"https://gitlab.com/pskorupa"},"type":"ISSUE","assignee":{"id":1863977,"username":"michold","name":"Michał Wielich","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1863977/avatar.png","web_url":"https://gitlab.com/michold"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/366844","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":1},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"1 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/366844","notes":"https://gitlab.com/api/v4/projects/278964/issues/366844/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/366844/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#366844","relative":"#366844","full":"gitlab-org/gitlab#366844"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":111145119,"iid":366838,"project_id":278964,"title":"Follow-up from \"Add member limit banner to usage quota seats page\"","description":"The following discussion from !91505 should be addressed:\n\n- @syarynovskyi started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/91505#note_1013245112):  (+2 comments)\n\n    \u003e Looks good! I am noticing there is some extra space at the bottom of the alert container if there's a chance to clean that up here. It looks like there is an empty `gl-alert-actions` adding this space.","state":"closed","created_at":"2022-07-04T22:09:31.462Z","updated_at":"2022-07-15T06:34:35.904Z","closed_at":"2022-07-15T06:34:35.881Z","closed_by":{"id":10216431,"username":"syarynovskyi","name":"Serhii Yarynovskyi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10216431/avatar.png","web_url":"https://gitlab.com/syarynovskyi"},"labels":["UX","backend","devops::growth","group::acquisition","section::growth","type::maintenance","workflow::post-deploy-db-production"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":10216431,"username":"syarynovskyi","name":"Serhii Yarynovskyi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10216431/avatar.png","web_url":"https://gitlab.com/syarynovskyi"}],"author":{"id":4234774,"username":"pcalder","name":"Phil Calder","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4234774/avatar.png","web_url":"https://gitlab.com/pcalder"},"type":"ISSUE","assignee":{"id":10216431,"username":"syarynovskyi","name":"Serhii Yarynovskyi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10216431/avatar.png","web_url":"https://gitlab.com/syarynovskyi"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/366838","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/366838","notes":"https://gitlab.com/api/v4/projects/278964/issues/366838/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/366838/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#366838","relative":"#366838","full":"gitlab-org/gitlab#366838"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":111135048,"iid":366827,"project_id":278964,"title":"Recreate Redis Counters using Snowplow events - Phase 2: Wave 5b -BE EVENTS","description":"## Summary\n\nIn https://gitlab.com/groups/gitlab-org/-/epics/7493, we instrumented the first set of Redis Counters using Snowplow events in SaaS. This is the 5th wave of counters to be instrumented using Snowplow Events. Splitting this counter, [redis_hll_counters.epics_usage.epics_usage_total_unique_counts_monthly](https://gitlab.com/gitlab-org/gitlab/-/blob/master/ee/config/metrics/counts_28d/20210216174929_g_analytics_valuestream_monthly.yml), into its own issue per [this comment](https://gitlab.com/gitlab-org/gitlab/-/issues/362281#note_1015083321) since the counter is made up of many sub-metrics.\n\n    \n1. [ ] [redis_hll_counters.epics_usage.epics_usage_total_unique_counts_monthly](https://gitlab.com/gitlab-org/gitlab/-/blob/master/ee/config/metrics/counts_28d/20210216174929_g_analytics_valuestream_monthly.yml) =\u003e **THIS COUNTER WILL BE COMPLETE WITH THE CLOSURE OF** https://gitlab.com/gitlab-org/gitlab/-/issues/370373\n\n\nSubmetrics that need to be migrated:\n1. [x] g_project_management_epic_created\n1. [x] project_management_users_unchecking_epic_task\n1. [x] project_management_users_checking_epic_task\n1. [x] g_project_management_users_updating_epic_titles\n1. [x] g_project_management_users_updating_epic_descriptions\n1. [x] g_project_management_users_creating_epic_notes\n1. [x] g_project_management_users_updating_epic_notes\n1. [x] g_project_management_users_destroying_epic_notes\n1. [x] g_project_management_users_awarding_epic_emoji\n1. [x] g_project_management_users_removing_epic_emoji\n1. [x] g_project_management_users_setting_epic_start_date_as_fixed\n1. [x] g_project_management_users_updating_fixed_epic_start_date\n1. [x] g_project_management_users_setting_epic_start_date_as_inherited\n1. [x] g_project_management_users_setting_epic_due_date_as_fixed\n1. [x] g_project_management_users_updating_fixed_epic_due_date\n1. [x] g_project_management_users_setting_epic_due_date_as_inherited\n1. [x] g_project_management_epic_issue_added\n1. [x] g_project_management_epic_issue_removed\n1. [x] g_project_management_epic_issue_moved_from_project\n1. [x] g_project_management_users_updating_epic_parent\n1. [x] g_project_management_epic_closed\n1. [x] g_project_management_epic_reopened\n1. [x] 'g_project_management_issue_promoted_to_epic'\n1. [x] g_project_management_users_setting_epic_confidential\n1. [x] g_project_management_users_setting_epic_visible\n1. [x] g_project_management_epic_users_changing_labels\n1. [x] g_project_management_epic_destroyed\n1. [x] g_project_management_epic_cross_referenced\n1. [ ] ~~g_project_management_users_epic_issue_added_from_epic [**FRONTEND EVENT**]~~ Addressed in https://gitlab.com/gitlab-org/gitlab/-/issues/370373\n1. [x] g_project_management_epic_related_added\n1. [x] g_project_management_epic_related_removed\n1. [x] g_project_management_epic_blocking_added\n1. [x] g_project_management_epic_blocking_removed\n1. [x] g_project_management_epic_blocked_added\n1. [x] g_project_management_epic_blocked_removed\n                                           \n\n## Feature Flag\n\nThese events should be instrumented behind a feature flag (separate from the FF used for the first wave of metrics) in case we need to quickly turn off collection.\n\n## Next Step\n\nPost delivery, the data team will need to aggregate the snowplow events into counters for use in Sisense and Gainsight. Data team issue for this wave: https://gitlab.com/gitlab-data/analytics/-/issues/13211","state":"closed","created_at":"2022-07-04T16:09:22.880Z","updated_at":"2022-08-18T14:16:17.132Z","closed_at":"2022-08-12T13:14:14.355Z","closed_by":{"id":1863977,"username":"michold","name":"Michał Wielich","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1863977/avatar.png","web_url":"https://gitlab.com/michold"},"labels":["Category:Product Analytics","backend","devops::analytics","group::product intelligence","missed:15.2","section::analytics","type::feature","workflow::in review"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":1863977,"username":"michold","name":"Michał Wielich","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1863977/avatar.png","web_url":"https://gitlab.com/michold"}],"author":{"id":2890431,"username":"amandarueda","name":"Amanda Rueda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2890431/avatar.png","web_url":"https://gitlab.com/amandarueda"},"type":"ISSUE","assignee":{"id":1863977,"username":"michold","name":"Michał Wielich","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1863977/avatar.png","web_url":"https://gitlab.com/michold"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/366827","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":36,"completed_count":34},"weight":8,"blocking_issues_count":0,"has_tasks":true,"task_status":"34 of 36 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/366827","notes":"https://gitlab.com/api/v4/projects/278964/issues/366827/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/366827/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#366827","relative":"#366827","full":"gitlab-org/gitlab#366827"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7494,"epic":{"id":435082,"iid":7494,"title":"Send RedisHLL metrics via Snowplow for SaaS namespaces - Phase 2","url":"/groups/gitlab-org/-/epics/7494","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":111132071,"iid":366822,"project_id":278964,"title":"Denial of Service via the Namespace API","description":"### Preface\n\nI reported this bug via HackerOne back on Jan 27th 2022. I provided a thorough explanation, a PoC script so that it could be tested by the triage team, and a PoC video against a private instance I self-hosted.\n\nI have written a blog post about this (and just to be clear I am yet to publish it), but I thought I should make one last attempt to report this before as it never reached the GitLab team last time.\n\n#### Timeline\n\n* Jan 27th 2022: I make first contact via HackerOne with an indepth writeup, PoC video, logs, and a PoC script.\n* Jan 28th 2022: A HackerOne triage team member responds asking me to `Please, write detailed steps to reproduce the potential issue.` even though I had already very clearly explained the issue, how to reproduce it, and also provided a PoC script for them.\n* Jan 28th 2022: I follow up with a step-by-step guide to reproducing the issue\n* Feb 1st 2022: I get a response from the same team member telling me that `After review, there doesn’t seem to be any security risk and/or security impact as a result of the behavior you are describing`. They told me that they are marking the report as informative and are closing the issue, but if I can `leverage this into a practical exploitation scenario` then to follow up with them.\n* Feb 2nd 2022: I respond explaining how this can be exploited to take down both gitlab.com and also private GitLab instances. I never got a response.\n\n### Summary\n\nThe `/api/v4/namespaces/:id/exists` endpoint can be trivially misused to perform a **denial of service attack** on both the **Postgres database** and the **Gitlab instance**.\n\nThe API endpoint will check if a namespace ID is available, and if it isn't it will attempt to suggest an available ID to you. It does this by taking the ID you specified and appending a number to it, **issuing a database query** to see if the new ID is available, and if not it increments the number by one and checks again. **It does this until it finds an ID that is available.** This results in both the Gitlab instance and the Postgres database using a lot of resources.\n\nYou can send a HTTP request and then immediately close the connection and it will still complete the loop which means that **request timeouts do not mitigate the issue.**\n\n### Steps to reproduce\n\n1. Create namespaces a through a4000 (4000 is an arbitrary number, the higher the number the stronger the DoS is due to Gitlab issuing a new database query for every attempted suggestion, 500-1000 is enough to make my server and database hard to use, 1000-3000 is needed to make my server completely unusable). So you would create a, a1, a2, ..., a3998, a3999, a4000. **This can be skipped on GitLab.com due to the `a` namespace already being significantly polluted which makes exploiting this on GitLab.com significantly less effort.**\n2. Make two to four requests per second to `/api/v4/namespaces/a/exists` (which is the vulnerable endpoint), you will notice the server is utilizing all the CPU resources it has access to when you do this and be almost or completely unusable. As already stated you can close the connection as soon as you sent the HTTP request, you don't have to wait for the server to respond.\n\n### What is the current *bug* behavior?\n\nWhen searching for a suggested namespace ID GitLab enters into an loop where for each iteration it sends out a database query. As stated this results in thousands of queries being issued per request.\n\n### What is the expected *correct* behavior?\n\nIssue a single request to the database which finds an unused namespace ID using pgsql rather than iterating over every possibility in Ruby and issuing a query for each iteration.\n\n### Relevant logs and/or screenshots\n\n\u003cdetails\u003e\u003csummary\u003ePartial query log for a single request on my instance where namespaces `aa` through `aa2000` are taken\u003c/summary\u003e\n\n```\n/*application:web,correlation_id:01FTDN15WCQ1D7A61ESYSWRR8E,endpoint_id:GET /api/:version/namespaces/:namespace/exists,db_config_name:main*/ SELECT 1 AS one FROM \"namespaces\" WHERE \"namespaces\".\"type\" != 'Project' AND \"namespaces\".\"parent_id\" IS NULL AND (lower(path) = 'aa') LIMIT 1\n/*application:web,correlation_id:01FTDN15WCQ1D7A61ESYSWRR8E,endpoint_id:GET /api/:version/namespaces/:namespace/exists,db_config_name:main*/ SELECT \"namespaces\".\"id\", \"namespaces\".\"name\", \"namespaces\".\"path\", \"namespaces\".\"owner_id\", \"namespaces\".\"created_at\", \"namespaces\".\"updated_at\", \"namespaces\".\"type\", \"namespaces\".\"description\", \"namespaces\".\"avatar\", \"namespaces\".\"membership_lock\", \"namespaces\".\"share_with_group_lock\", \"namespaces\".\"visibility_level\", \"namespaces\".\"request_access_enabled\", \"namespaces\".\"ldap_sync_status\", \"namespaces\".\"ldap_sync_error\", \"namespaces\".\"ldap_sync_last_update_at\", \"namespaces\".\"ldap_sync_last_successful_update_at\", \"namespaces\".\"ldap_sync_last_sync_at\", \"namespaces\".\"description_html\", \"namespaces\".\"lfs_enabled\", \"namespaces\".\"parent_id\", \"namespaces\".\"shared_runners_minutes_limit\", \"namespaces\".\"repository_size_limit\", \"namespaces\".\"require_two_factor_authentication\", \"namespaces\".\"two_factor_grace_period\", \"namespaces\".\"cached_markdown_version\", \"namespaces\".\"project_creation_level\", \"namespaces\".\"runners_token\", \"namespaces\".\"file_template_project_id\", \"namespaces\".\"saml_discovery_token\", \"namespaces\".\"runners_token_encrypted\", \"namespaces\".\"custom_project_templates_group_id\", \"namespaces\".\"auto_devops_enabled\", \"namespaces\".\"extra_shared_runners_minutes_limit\", \"namespaces\".\"last_ci_minutes_notification_at\", \"namespaces\".\"last_ci_minutes_usage_notification_level\", \"namespaces\".\"subgroup_creation_level\", \"namespaces\".\"emails_disabled\", \"namespaces\".\"max_pages_size\", \"namespaces\".\"max_artifacts_size\", \"namespaces\".\"mentions_disabled\", \"namespaces\".\"default_branch_protection\", \"namespaces\".\"unlock_membership_to_ldap\", \"namespaces\".\"max_personal_access_token_lifetime\", \"namespaces\".\"push_rule_id\", \"namespaces\".\"shared_runners_enabled\", \"namespaces\".\"allow_descendants_override_disabled_shared_runners\", \"namespaces\".\"traversal_ids\" FROM \"namespaces\" WHERE (lower(path) = 'aa' OR lower(name) = 'aa') LIMIT 1\n...\n/*application:web,correlation_id:01FTDN15WCQ1D7A61ESYSWRR8E,endpoint_id:GET /api/:version/namespaces/:namespace/exists,db_config_name:main*/ SELECT \"namespaces\".\"id\", \"namespaces\".\"name\", \"namespaces\".\"path\", \"namespaces\".\"owner_id\", \"namespaces\".\"created_at\", \"namespaces\".\"updated_at\", \"namespaces\".\"type\", \"namespaces\".\"description\", \"namespaces\".\"avatar\", \"namespaces\".\"membership_lock\", \"namespaces\".\"share_with_group_lock\", \"namespaces\".\"visibility_level\", \"namespaces\".\"request_access_enabled\", \"namespaces\".\"ldap_sync_status\", \"namespaces\".\"ldap_sync_error\", \"namespaces\".\"ldap_sync_last_update_at\", \"namespaces\".\"ldap_sync_last_successful_update_at\", \"namespaces\".\"ldap_sync_last_sync_at\", \"namespaces\".\"description_html\", \"namespaces\".\"lfs_enabled\", \"namespaces\".\"parent_id\", \"namespaces\".\"shared_runners_minutes_limit\", \"namespaces\".\"repository_size_limit\", \"namespaces\".\"require_two_factor_authentication\", \"namespaces\".\"two_factor_grace_period\", \"namespaces\".\"cached_markdown_version\", \"namespaces\".\"project_creation_level\", \"namespaces\".\"runners_token\", \"namespaces\".\"file_template_project_id\", \"namespaces\".\"saml_discovery_token\", \"namespaces\".\"runners_token_encrypted\", \"namespaces\".\"custom_project_templates_group_id\", \"namespaces\".\"auto_devops_enabled\", \"namespaces\".\"extra_shared_runners_minutes_limit\", \"namespaces\".\"last_ci_minutes_notification_at\", \"namespaces\".\"last_ci_minutes_usage_notification_level\", \"namespaces\".\"subgroup_creation_level\", \"namespaces\".\"emails_disabled\", \"namespaces\".\"max_pages_size\", \"namespaces\".\"max_artifacts_size\", \"namespaces\".\"mentions_disabled\", \"namespaces\".\"default_branch_protection\", \"namespaces\".\"unlock_membership_to_ldap\", \"namespaces\".\"max_personal_access_token_lifetime\", \"namespaces\".\"push_rule_id\", \"namespaces\".\"shared_runners_enabled\", \"namespaces\".\"allow_descendants_override_disabled_shared_runners\", \"namespaces\".\"traversal_ids\" FROM \"namespaces\" WHERE (lower(path) = 'aa1' OR lower(name) = 'aa1') LIMIT 1\n/*application:web,correlation_id:01FTDN15WCQ1D7A61ESYSWRR8E,endpoint_id:GET /api/:version/namespaces/:namespace/exists,db_config_name:main*/ SELECT \"namespaces\".\"id\", \"namespaces\".\"name\", \"namespaces\".\"path\", \"namespaces\".\"owner_id\", \"namespaces\".\"created_at\", \"namespaces\".\"updated_at\", \"namespaces\".\"type\", \"namespaces\".\"description\", \"namespaces\".\"avatar\", \"namespaces\".\"membership_lock\", \"namespaces\".\"share_with_group_lock\", \"namespaces\".\"visibility_level\", \"namespaces\".\"request_access_enabled\", \"namespaces\".\"ldap_sync_status\", \"namespaces\".\"ldap_sync_error\", \"namespaces\".\"ldap_sync_last_update_at\", \"namespaces\".\"ldap_sync_last_successful_update_at\", \"namespaces\".\"ldap_sync_last_sync_at\", \"namespaces\".\"description_html\", \"namespaces\".\"lfs_enabled\", \"namespaces\".\"parent_id\", \"namespaces\".\"shared_runners_minutes_limit\", \"namespaces\".\"repository_size_limit\", \"namespaces\".\"require_two_factor_authentication\", \"namespaces\".\"two_factor_grace_period\", \"namespaces\".\"cached_markdown_version\", \"namespaces\".\"project_creation_level\", \"namespaces\".\"runners_token\", \"namespaces\".\"file_template_project_id\", \"namespaces\".\"saml_discovery_token\", \"namespaces\".\"runners_token_encrypted\", \"namespaces\".\"custom_project_templates_group_id\", \"namespaces\".\"auto_devops_enabled\", \"namespaces\".\"extra_shared_runners_minutes_limit\", \"namespaces\".\"last_ci_minutes_notification_at\", \"namespaces\".\"last_ci_minutes_usage_notification_level\", \"namespaces\".\"subgroup_creation_level\", \"namespaces\".\"emails_disabled\", \"namespaces\".\"max_pages_size\", \"namespaces\".\"max_artifacts_size\", \"namespaces\".\"mentions_disabled\", \"namespaces\".\"default_branch_protection\", \"namespaces\".\"unlock_membership_to_ldap\", \"namespaces\".\"max_personal_access_token_lifetime\", \"namespaces\".\"push_rule_id\", \"namespaces\".\"shared_runners_enabled\", \"namespaces\".\"allow_descendants_override_disabled_shared_runners\", \"namespaces\".\"traversal_ids\" FROM \"namespaces\" WHERE (lower(path) = 'aa2' OR lower(name) = 'aa2') LIMIT 1\n/*application:web,correlation_id:01FTDN15WCQ1D7A61ESYSWRR8E,endpoint_id:GET /api/:version/namespaces/:namespace/exists,db_config_name:main*/ SELECT \"namespaces\".\"id\", \"namespaces\".\"name\", \"namespaces\".\"path\", \"namespaces\".\"owner_id\", \"namespaces\".\"created_at\", \"namespaces\".\"updated_at\", \"namespaces\".\"type\", \"namespaces\".\"description\", \"namespaces\".\"avatar\", \"namespaces\".\"membership_lock\", \"namespaces\".\"share_with_group_lock\", \"namespaces\".\"visibility_level\", \"namespaces\".\"request_access_enabled\", \"namespaces\".\"ldap_sync_status\", \"namespaces\".\"ldap_sync_error\", \"namespaces\".\"ldap_sync_last_update_at\", \"namespaces\".\"ldap_sync_last_successful_update_at\", \"namespaces\".\"ldap_sync_last_sync_at\", \"namespaces\".\"description_html\", \"namespaces\".\"lfs_enabled\", \"namespaces\".\"parent_id\", \"namespaces\".\"shared_runners_minutes_limit\", \"namespaces\".\"repository_size_limit\", \"namespaces\".\"require_two_factor_authentication\", \"namespaces\".\"two_factor_grace_period\", \"namespaces\".\"cached_markdown_version\", \"namespaces\".\"project_creation_level\", \"namespaces\".\"runners_token\", \"namespaces\".\"file_template_project_id\", \"namespaces\".\"saml_discovery_token\", \"namespaces\".\"runners_token_encrypted\", \"namespaces\".\"custom_project_templates_group_id\", \"namespaces\".\"auto_devops_enabled\", \"namespaces\".\"extra_shared_runners_minutes_limit\", \"namespaces\".\"last_ci_minutes_notification_at\", \"namespaces\".\"last_ci_minutes_usage_notification_level\", \"namespaces\".\"subgroup_creation_level\", \"namespaces\".\"emails_disabled\", \"namespaces\".\"max_pages_size\", \"namespaces\".\"max_artifacts_size\", \"namespaces\".\"mentions_disabled\", \"namespaces\".\"default_branch_protection\", \"namespaces\".\"unlock_membership_to_ldap\", \"namespaces\".\"max_personal_access_token_lifetime\", \"namespaces\".\"push_rule_id\", \"namespaces\".\"shared_runners_enabled\", \"namespaces\".\"allow_descendants_override_disabled_shared_runners\", \"namespaces\".\"traversal_ids\" FROM \"namespaces\" WHERE (lower(path) = 'aa3' OR lower(name) = 'aa3') LIMIT 1\n/*application:web,correlation_id:01FTDN15WCQ1D7A61ESYSWRR8E,endpoint_id:GET /api/:version/namespaces/:namespace/exists,db_config_name:main*/ SELECT \"namespaces\".\"id\", \"namespaces\".\"name\", \"namespaces\".\"path\", \"namespaces\".\"owner_id\", \"namespaces\".\"created_at\", \"namespaces\".\"updated_at\", \"namespaces\".\"type\", \"namespaces\".\"description\", \"namespaces\".\"avatar\", \"namespaces\".\"membership_lock\", \"namespaces\".\"share_with_group_lock\", \"namespaces\".\"visibility_level\", \"namespaces\".\"request_access_enabled\", \"namespaces\".\"ldap_sync_status\", \"namespaces\".\"ldap_sync_error\", \"namespaces\".\"ldap_sync_last_update_at\", \"namespaces\".\"ldap_sync_last_successful_update_at\", \"namespaces\".\"ldap_sync_last_sync_at\", \"namespaces\".\"description_html\", \"namespaces\".\"lfs_enabled\", \"namespaces\".\"parent_id\", \"namespaces\".\"shared_runners_minutes_limit\", \"namespaces\".\"repository_size_limit\", \"namespaces\".\"require_two_factor_authentication\", \"namespaces\".\"two_factor_grace_period\", \"namespaces\".\"cached_markdown_version\", \"namespaces\".\"project_creation_level\", \"namespaces\".\"runners_token\", \"namespaces\".\"file_template_project_id\", \"namespaces\".\"saml_discovery_token\", \"namespaces\".\"runners_token_encrypted\", \"namespaces\".\"custom_project_templates_group_id\", \"namespaces\".\"auto_devops_enabled\", \"namespaces\".\"extra_shared_runners_minutes_limit\", \"namespaces\".\"last_ci_minutes_notification_at\", \"namespaces\".\"last_ci_minutes_usage_notification_level\", \"namespaces\".\"subgroup_creation_level\", \"namespaces\".\"emails_disabled\", \"namespaces\".\"max_pages_size\", \"namespaces\".\"max_artifacts_size\", \"namespaces\".\"mentions_disabled\", \"namespaces\".\"default_branch_protection\", \"namespaces\".\"unlock_membership_to_ldap\", \"namespaces\".\"max_personal_access_token_lifetime\", \"namespaces\".\"push_rule_id\", \"namespaces\".\"shared_runners_enabled\", \"namespaces\".\"allow_descendants_override_disabled_shared_runners\", \"namespaces\".\"traversal_ids\" FROM \"namespaces\" WHERE (lower(path) = 'aa4' OR lower(name) = 'aa4') LIMIT 1\n/*application:web,correlation_id:01FTDN15WCQ1D7A61ESYSWRR8E,endpoint_id:GET /api/:version/namespaces/:namespace/exists,db_config_name:main*/ SELECT \"namespaces\".\"id\", \"namespaces\".\"name\", \"namespaces\".\"path\", \"namespaces\".\"owner_id\", \"namespaces\".\"created_at\", \"namespaces\".\"updated_at\", \"namespaces\".\"type\", \"namespaces\".\"description\", \"namespaces\".\"avatar\", \"namespaces\".\"membership_lock\", \"namespaces\".\"share_with_group_lock\", \"namespaces\".\"visibility_level\", \"namespaces\".\"request_access_enabled\", \"namespaces\".\"ldap_sync_status\", \"namespaces\".\"ldap_sync_error\", \"namespaces\".\"ldap_sync_last_update_at\", \"namespaces\".\"ldap_sync_last_successful_update_at\", \"namespaces\".\"ldap_sync_last_sync_at\", \"namespaces\".\"description_html\", \"namespaces\".\"lfs_enabled\", \"namespaces\".\"parent_id\", \"namespaces\".\"shared_runners_minutes_limit\", \"namespaces\".\"repository_size_limit\", \"namespaces\".\"require_two_factor_authentication\", \"namespaces\".\"two_factor_grace_period\", \"namespaces\".\"cached_markdown_version\", \"namespaces\".\"project_creation_level\", \"namespaces\".\"runners_token\", \"namespaces\".\"file_template_project_id\", \"namespaces\".\"saml_discovery_token\", \"namespaces\".\"runners_token_encrypted\", \"namespaces\".\"custom_project_templates_group_id\", \"namespaces\".\"auto_devops_enabled\", \"namespaces\".\"extra_shared_runners_minutes_limit\", \"namespaces\".\"last_ci_minutes_notification_at\", \"namespaces\".\"last_ci_minutes_usage_notification_level\", \"namespaces\".\"subgroup_creation_level\", \"namespaces\".\"emails_disabled\", \"namespaces\".\"max_pages_size\", \"namespaces\".\"max_artifacts_size\", \"namespaces\".\"mentions_disabled\", \"namespaces\".\"default_branch_protection\", \"namespaces\".\"unlock_membership_to_ldap\", \"namespaces\".\"max_personal_access_token_lifetime\", \"namespaces\".\"push_rule_id\", \"namespaces\".\"shared_runners_enabled\", \"namespaces\".\"allow_descendants_override_disabled_shared_runners\", \"namespaces\".\"traversal_ids\" FROM \"namespaces\" WHERE (lower(path) = 'aa5' OR lower(name) = 'aa5') LIMIT 1\n/*application:web,correlation_id:01FTDN15WCQ1D7A61ESYSWRR8E,endpoint_id:GET /api/:version/namespaces/:namespace/exists,db_config_name:main*/ SELECT \"namespaces\".\"id\", \"namespaces\".\"name\", \"namespaces\".\"path\", \"namespaces\".\"owner_id\", \"namespaces\".\"created_at\", \"namespaces\".\"updated_at\", \"namespaces\".\"type\", \"namespaces\".\"description\", \"namespaces\".\"avatar\", \"namespaces\".\"membership_lock\", \"namespaces\".\"share_with_group_lock\", \"namespaces\".\"visibility_level\", \"namespaces\".\"request_access_enabled\", \"namespaces\".\"ldap_sync_status\", \"namespaces\".\"ldap_sync_error\", \"namespaces\".\"ldap_sync_last_update_at\", \"namespaces\".\"ldap_sync_last_successful_update_at\", \"namespaces\".\"ldap_sync_last_sync_at\", \"namespaces\".\"description_html\", \"namespaces\".\"lfs_enabled\", \"namespaces\".\"parent_id\", \"namespaces\".\"shared_runners_minutes_limit\", \"namespaces\".\"repository_size_limit\", \"namespaces\".\"require_two_factor_authentication\", \"namespaces\".\"two_factor_grace_period\", \"namespaces\".\"cached_markdown_version\", \"namespaces\".\"project_creation_level\", \"namespaces\".\"runners_token\", \"namespaces\".\"file_template_project_id\", \"namespaces\".\"saml_discovery_token\", \"namespaces\".\"runners_token_encrypted\", \"namespaces\".\"custom_project_templates_group_id\", \"namespaces\".\"auto_devops_enabled\", \"namespaces\".\"extra_shared_runners_minutes_limit\", \"namespaces\".\"last_ci_minutes_notification_at\", \"namespaces\".\"last_ci_minutes_usage_notification_level\", \"namespaces\".\"subgroup_creation_level\", \"namespaces\".\"emails_disabled\", \"namespaces\".\"max_pages_size\", \"namespaces\".\"max_artifacts_size\", \"namespaces\".\"mentions_disabled\", \"namespaces\".\"default_branch_protection\", \"namespaces\".\"unlock_membership_to_ldap\", \"namespaces\".\"max_personal_access_token_lifetime\", \"namespaces\".\"push_rule_id\", \"namespaces\".\"shared_runners_enabled\", \"namespaces\".\"allow_descendants_override_disabled_shared_runners\", \"namespaces\".\"traversal_ids\" FROM \"namespaces\" WHERE (lower(path) = 'aa6' OR lower(name) = 'aa6') LIMIT 1\n/*application:web,correlation_id:01FTDN15WCQ1D7A61ESYSWRR8E,endpoint_id:GET /api/:version/namespaces/:namespace/exists,db_config_name:main*/ SELECT \"namespaces\".\"id\", \"namespaces\".\"name\", \"namespaces\".\"path\", \"namespaces\".\"owner_id\", \"namespaces\".\"created_at\", \"namespaces\".\"updated_at\", \"namespaces\".\"type\", \"namespaces\".\"description\", \"namespaces\".\"avatar\", \"namespaces\".\"membership_lock\", \"namespaces\".\"share_with_group_lock\", \"namespaces\".\"visibility_level\", \"namespaces\".\"request_access_enabled\", \"namespaces\".\"ldap_sync_status\", \"namespaces\".\"ldap_sync_error\", \"namespaces\".\"ldap_sync_last_update_at\", \"namespaces\".\"ldap_sync_last_successful_update_at\", \"namespaces\".\"ldap_sync_last_sync_at\", \"namespaces\".\"description_html\", \"namespaces\".\"lfs_enabled\", \"namespaces\".\"parent_id\", \"namespaces\".\"shared_runners_minutes_limit\", \"namespaces\".\"repository_size_limit\", \"namespaces\".\"require_two_factor_authentication\", \"namespaces\".\"two_factor_grace_period\", \"namespaces\".\"cached_markdown_version\", \"namespaces\".\"project_creation_level\", \"namespaces\".\"runners_token\", \"namespaces\".\"file_template_project_id\", \"namespaces\".\"saml_discovery_token\", \"namespaces\".\"runners_token_encrypted\", \"namespaces\".\"custom_project_templates_group_id\", \"namespaces\".\"auto_devops_enabled\", \"namespaces\".\"extra_shared_runners_minutes_limit\", \"namespaces\".\"last_ci_minutes_notification_at\", \"namespaces\".\"last_ci_minutes_usage_notification_level\", \"namespaces\".\"subgroup_creation_level\", \"namespaces\".\"emails_disabled\", \"namespaces\".\"max_pages_size\", \"namespaces\".\"max_artifacts_size\", \"namespaces\".\"mentions_disabled\", \"namespaces\".\"default_branch_protection\", \"namespaces\".\"unlock_membership_to_ldap\", \"namespaces\".\"max_personal_access_token_lifetime\", \"namespaces\".\"push_rule_id\", \"namespaces\".\"shared_runners_enabled\", \"namespaces\".\"allow_descendants_override_disabled_shared_runners\", \"namespaces\".\"traversal_ids\" FROM \"namespaces\" WHERE (lower(path) = 'aa7' OR lower(name) = 'aa7') LIMIT 1\n/*application:web,correlation_id:01FTDN15WCQ1D7A61ESYSWRR8E,endpoint_id:GET /api/:version/namespaces/:namespace/exists,db_config_name:main*/ SELECT \"namespaces\".\"id\", \"namespaces\".\"name\", \"namespaces\".\"path\", \"namespaces\".\"owner_id\", \"namespaces\".\"created_at\", \"namespaces\".\"updated_at\", \"namespaces\".\"type\", \"namespaces\".\"description\", \"namespaces\".\"avatar\", \"namespaces\".\"membership_lock\", \"namespaces\".\"share_with_group_lock\", \"namespaces\".\"visibility_level\", \"namespaces\".\"request_access_enabled\", \"namespaces\".\"ldap_sync_status\", \"namespaces\".\"ldap_sync_error\", \"namespaces\".\"ldap_sync_last_update_at\", \"namespaces\".\"ldap_sync_last_successful_update_at\", \"namespaces\".\"ldap_sync_last_sync_at\", \"namespaces\".\"description_html\", \"namespaces\".\"lfs_enabled\", \"namespaces\".\"parent_id\", \"namespaces\".\"shared_runners_minutes_limit\", \"namespaces\".\"repository_size_limit\", \"namespaces\".\"require_two_factor_authentication\", \"namespaces\".\"two_factor_grace_period\", \"namespaces\".\"cached_markdown_version\", \"namespaces\".\"project_creation_level\", \"namespaces\".\"runners_token\", \"namespaces\".\"file_template_project_id\", \"namespaces\".\"saml_discovery_token\", \"namespaces\".\"runners_token_encrypted\", \"namespaces\".\"custom_project_templates_group_id\", \"namespaces\".\"auto_devops_enabled\", \"namespaces\".\"extra_shared_runners_minutes_limit\", \"namespaces\".\"last_ci_minutes_notification_at\", \"namespaces\".\"last_ci_minutes_usage_notification_level\", \"namespaces\".\"subgroup_creation_level\", \"namespaces\".\"emails_disabled\", \"namespaces\".\"max_pages_size\", \"namespaces\".\"max_artifacts_size\", \"namespaces\".\"mentions_disabled\", \"namespaces\".\"default_branch_protection\", \"namespaces\".\"unlock_membership_to_ldap\", \"namespaces\".\"max_personal_access_token_lifetime\", \"namespaces\".\"push_rule_id\", \"namespaces\".\"shared_runners_enabled\", \"namespaces\".\"allow_descendants_override_disabled_shared_runners\", \"namespaces\".\"traversal_ids\" FROM \"namespaces\" WHERE (lower(path) = 'aa8' OR lower(name) = 'aa8') LIMIT 1\n/*application:web,correlation_id:01FTDN15WCQ1D7A61ESYSWRR8E,endpoint_id:GET /api/:version/namespaces/:namespace/exists,db_config_name:main*/ SELECT \"namespaces\".\"id\", \"namespaces\".\"name\", \"namespaces\".\"path\", \"namespaces\".\"owner_id\", \"namespaces\".\"created_at\", \"namespaces\".\"updated_at\", \"namespaces\".\"type\", \"namespaces\".\"description\", \"namespaces\".\"avatar\", \"namespaces\".\"membership_lock\", \"namespaces\".\"share_with_group_lock\", \"namespaces\".\"visibility_level\", \"namespaces\".\"request_access_enabled\", \"namespaces\".\"ldap_sync_status\", \"namespaces\".\"ldap_sync_error\", \"namespaces\".\"ldap_sync_last_update_at\", \"namespaces\".\"ldap_sync_last_successful_update_at\", \"namespaces\".\"ldap_sync_last_sync_at\", \"namespaces\".\"description_html\", \"namespaces\".\"lfs_enabled\", \"namespaces\".\"parent_id\", \"namespaces\".\"shared_runners_minutes_limit\", \"namespaces\".\"repository_size_limit\", \"namespaces\".\"require_two_factor_authentication\", \"namespaces\".\"two_factor_grace_period\", \"namespaces\".\"cached_markdown_version\", \"namespaces\".\"project_creation_level\", \"namespaces\".\"runners_token\", \"namespaces\".\"file_template_project_id\", \"namespaces\".\"saml_discovery_token\", \"namespaces\".\"runners_token_encrypted\", \"namespaces\".\"custom_project_templates_group_id\", \"namespaces\".\"auto_devops_enabled\", \"namespaces\".\"extra_shared_runners_minutes_limit\", \"namespaces\".\"last_ci_minutes_notification_at\", \"namespaces\".\"last_ci_minutes_usage_notification_level\", \"namespaces\".\"subgroup_creation_level\", \"namespaces\".\"emails_disabled\", \"namespaces\".\"max_pages_size\", \"namespaces\".\"max_artifacts_size\", \"namespaces\".\"mentions_disabled\", \"namespaces\".\"default_branch_protection\", \"namespaces\".\"unlock_membership_to_ldap\", \"namespaces\".\"max_personal_access_token_lifetime\", \"namespaces\".\"push_rule_id\", \"namespaces\".\"shared_runners_enabled\", \"namespaces\".\"allow_descendants_override_disabled_shared_runners\", \"namespaces\".\"traversal_ids\" FROM \"namespaces\" WHERE (lower(path) = 'aa9' OR lower(name) = 'aa9') LIMIT 1\n/*application:web,correlation_id:01FTDN15WCQ1D7A61ESYSWRR8E,endpoint_id:GET /api/:version/namespaces/:namespace/exists,db_config_name:main*/ SELECT \"namespaces\".\"id\", \"namespaces\".\"name\", \"namespaces\".\"path\", \"namespaces\".\"owner_id\", \"namespaces\".\"created_at\", \"namespaces\".\"updated_at\", \"namespaces\".\"type\", \"namespaces\".\"description\", \"namespaces\".\"avatar\", \"namespaces\".\"membership_lock\", \"namespaces\".\"share_with_group_lock\", \"namespaces\".\"visibility_level\", \"namespaces\".\"request_access_enabled\", \"namespaces\".\"ldap_sync_status\", \"namespaces\".\"ldap_sync_error\", \"namespaces\".\"ldap_sync_last_update_at\", \"namespaces\".\"ldap_sync_last_successful_update_at\", \"namespaces\".\"ldap_sync_last_sync_at\", \"namespaces\".\"description_html\", \"namespaces\".\"lfs_enabled\", \"namespaces\".\"parent_id\", \"namespaces\".\"shared_runners_minutes_limit\", \"namespaces\".\"repository_size_limit\", \"namespaces\".\"require_two_factor_authentication\", \"namespaces\".\"two_factor_grace_period\", \"namespaces\".\"cached_markdown_version\", \"namespaces\".\"project_creation_level\", \"namespaces\".\"runners_token\", \"namespaces\".\"file_template_project_id\", \"namespaces\".\"saml_discovery_token\", \"namespaces\".\"runners_token_encrypted\", \"namespaces\".\"custom_project_templates_group_id\", \"namespaces\".\"auto_devops_enabled\", \"namespaces\".\"extra_shared_runners_minutes_limit\", \"namespaces\".\"last_ci_minutes_notification_at\", \"namespaces\".\"last_ci_minutes_usage_notification_level\", \"namespaces\".\"subgroup_creation_level\", \"namespaces\".\"emails_disabled\", \"namespaces\".\"max_pages_size\", \"namespaces\".\"max_artifacts_size\", \"namespaces\".\"mentions_disabled\", \"namespaces\".\"default_branch_protection\", \"namespaces\".\"unlock_membership_to_ldap\", \"namespaces\".\"max_personal_access_token_lifetime\", \"namespaces\".\"push_rule_id\", \"namespaces\".\"shared_runners_enabled\", \"namespaces\".\"allow_descendants_override_disabled_shared_runners\", \"namespaces\".\"traversal_ids\" FROM \"namespaces\" WHERE (lower(path) = 'aa10' OR lower(name) = 'aa10') LIMIT 1\n/*application:web,correlation_id:01FTDN15WCQ1D7A61ESYSWRR8E,endpoint_id:GET /api/:version/namespaces/:namespace/exists,db_config_name:main*/ SELECT \"namespaces\".\"id\", \"namespaces\".\"name\", \"namespaces\".\"path\", \"namespaces\".\"owner_id\", \"namespaces\".\"created_at\", \"namespaces\".\"updated_at\", \"namespaces\".\"type\", \"namespaces\".\"description\", \"namespaces\".\"avatar\", \"namespaces\".\"membership_lock\", \"namespaces\".\"share_with_group_lock\", \"namespaces\".\"visibility_level\", \"namespaces\".\"request_access_enabled\", \"namespaces\".\"ldap_sync_status\", \"namespaces\".\"ldap_sync_error\", \"namespaces\".\"ldap_sync_last_update_at\", \"namespaces\".\"ldap_sync_last_successful_update_at\", \"namespaces\".\"ldap_sync_last_sync_at\", \"namespaces\".\"description_html\", \"namespaces\".\"lfs_enabled\", \"namespaces\".\"parent_id\", \"namespaces\".\"shared_runners_minutes_limit\", \"namespaces\".\"repository_size_limit\", \"namespaces\".\"require_two_factor_authentication\", \"namespaces\".\"two_factor_grace_period\", \"namespaces\".\"cached_markdown_version\", \"namespaces\".\"project_creation_level\", \"namespaces\".\"runners_token\", \"namespaces\".\"file_template_project_id\", \"namespaces\".\"saml_discovery_token\", \"namespaces\".\"runners_token_encrypted\", \"namespaces\".\"custom_project_templates_group_id\", \"namespaces\".\"auto_devops_enabled\", \"namespaces\".\"extra_shared_runners_minutes_limit\", \"namespaces\".\"last_ci_minutes_notification_at\", \"namespaces\".\"last_ci_minutes_usage_notification_level\", \"namespaces\".\"subgroup_creation_level\", \"namespaces\".\"emails_disabled\", \"namespaces\".\"max_pages_size\", \"namespaces\".\"max_artifacts_size\", \"namespaces\".\"mentions_disabled\", \"namespaces\".\"default_branch_protection\", \"namespaces\".\"unlock_membership_to_ldap\", \"namespaces\".\"max_personal_access_token_lifetime\", \"namespaces\".\"push_rule_id\", \"namespaces\".\"shared_runners_enabled\", \"namespaces\".\"allow_descendants_override_disabled_shared_runners\", \"namespaces\".\"traversal_ids\" FROM \"namespaces\" WHERE (lower(path) = 'aa11' OR lower(name) = 'aa11') LIMIT 1\n/*application:web,correlation_id:01FTDN15WCQ1D7A61ESYSWRR8E,endpoint_id:GET /api/:version/namespaces/:namespace/exists,db_config_name:main*/ SELECT \"namespaces\".\"id\", \"namespaces\".\"name\", \"namespaces\".\"path\", \"namespaces\".\"owner_id\", \"namespaces\".\"created_at\", \"namespaces\".\"updated_at\", \"namespaces\".\"type\", \"namespaces\".\"description\", \"namespaces\".\"avatar\", \"namespaces\".\"membership_lock\", \"namespaces\".\"share_with_group_lock\", \"namespaces\".\"visibility_level\", \"namespaces\".\"request_access_enabled\", \"namespaces\".\"ldap_sync_status\", \"namespaces\".\"ldap_sync_error\", \"namespaces\".\"ldap_sync_last_update_at\", \"namespaces\".\"ldap_sync_last_successful_update_at\", \"namespaces\".\"ldap_sync_last_sync_at\", \"namespaces\".\"description_html\", \"namespaces\".\"lfs_enabled\", \"namespaces\".\"parent_id\", \"namespaces\".\"shared_runners_minutes_limit\", \"namespaces\".\"repository_size_limit\", \"namespaces\".\"require_two_factor_authentication\", \"namespaces\".\"two_factor_grace_period\", \"namespaces\".\"cached_markdown_version\", \"namespaces\".\"project_creation_level\", \"namespaces\".\"runners_token\", \"namespaces\".\"file_template_project_id\", \"namespaces\".\"saml_discovery_token\", \"namespaces\".\"runners_token_encrypted\", \"namespaces\".\"custom_project_templates_group_id\", \"namespaces\".\"auto_devops_enabled\", \"namespaces\".\"extra_shared_runners_minutes_limit\", \"namespaces\".\"last_ci_minutes_notification_at\", \"namespaces\".\"last_ci_minutes_usage_notification_level\", \"namespaces\".\"subgroup_creation_level\", \"namespaces\".\"emails_disabled\", \"namespaces\".\"max_pages_size\", \"namespaces\".\"max_artifacts_size\", \"namespaces\".\"mentions_disabled\", \"namespaces\".\"default_branch_protection\", \"namespaces\".\"unlock_membership_to_ldap\", \"namespaces\".\"max_personal_access_token_lifetime\", \"namespaces\".\"push_rule_id\", \"namespaces\".\"shared_runners_enabled\", \"namespaces\".\"allow_descendants_override_disabled_shared_runners\", \"namespaces\".\"traversal_ids\" FROM \"namespaces\" WHERE (lower(path) = 'aa12' OR lower(name) = 'aa12') LIMIT 1\n/*application:web,correlation_id:01FTDN15WCQ1D7A61ESYSWRR8E,endpoint_id:GET /api/:version/namespaces/:namespace/exists,db_config_name:main*/ SELECT \"namespaces\".\"id\", \"namespaces\".\"name\", \"namespaces\".\"path\", \"namespaces\".\"owner_id\", \"namespaces\".\"created_at\", \"namespaces\".\"updated_at\", \"namespaces\".\"type\", \"namespaces\".\"description\", \"namespaces\".\"avatar\", \"namespaces\".\"membership_lock\", \"namespaces\".\"share_with_group_lock\", \"namespaces\".\"visibility_level\", \"namespaces\".\"request_access_enabled\", \"namespaces\".\"ldap_sync_status\", \"namespaces\".\"ldap_sync_error\", \"namespaces\".\"ldap_sync_last_update_at\", \"namespaces\".\"ldap_sync_last_successful_update_at\", \"namespaces\".\"ldap_sync_last_sync_at\", \"namespaces\".\"description_html\", \"namespaces\".\"lfs_enabled\", \"namespaces\".\"parent_id\", \"namespaces\".\"shared_runners_minutes_limit\", \"namespaces\".\"repository_size_limit\", \"namespaces\".\"require_two_factor_authentication\", \"namespaces\".\"two_factor_grace_period\", \"namespaces\".\"cached_markdown_version\", \"namespaces\".\"project_creation_level\", \"namespaces\".\"runners_token\", \"namespaces\".\"file_template_project_id\", \"namespaces\".\"saml_discovery_token\", \"namespaces\".\"runners_token_encrypted\", \"namespaces\".\"custom_project_templates_group_id\", \"namespaces\".\"auto_devops_enabled\", \"namespaces\".\"extra_shared_runners_minutes_limit\", \"namespaces\".\"last_ci_minutes_notification_at\", \"namespaces\".\"last_ci_minutes_usage_notification_level\", \"namespaces\".\"subgroup_creation_level\", \"namespaces\".\"emails_disabled\", \"namespaces\".\"max_pages_size\", \"namespaces\".\"max_artifacts_size\", \"namespaces\".\"mentions_disabled\", \"namespaces\".\"default_branch_protection\", \"namespaces\".\"unlock_membership_to_ldap\", \"namespaces\".\"max_personal_access_token_lifetime\", \"namespaces\".\"push_rule_id\", \"namespaces\".\"shared_runners_enabled\", \"namespaces\".\"allow_descendants_override_disabled_shared_runners\", \"namespaces\".\"traversal_ids\" FROM \"namespaces\" WHERE (lower(path) = 'aa13' OR lower(name) = 'aa13') LIMIT 1\n/*application:web,correlation_id:01FTDN15WCQ1D7A61ESYSWRR8E,endpoint_id:GET /api/:version/namespaces/:namespace/exists,db_config_name:main*/ SELECT \"namespaces\".\"id\", \"namespaces\".\"name\", \"namespaces\".\"path\", \"namespaces\".\"owner_id\", \"namespaces\".\"created_at\", \"namespaces\".\"updated_at\", \"namespaces\".\"type\", \"namespaces\".\"description\", \"namespaces\".\"avatar\", \"namespaces\".\"membership_lock\", \"namespaces\".\"share_with_group_lock\", \"namespaces\".\"visibility_level\", \"namespaces\".\"request_access_enabled\", \"namespaces\".\"ldap_sync_status\", \"namespaces\".\"ldap_sync_error\", \"namespaces\".\"ldap_sync_last_update_at\", \"namespaces\".\"ldap_sync_last_successful_update_at\", \"namespaces\".\"ldap_sync_last_sync_at\", \"namespaces\".\"description_html\", \"namespaces\".\"lfs_enabled\", \"namespaces\".\"parent_id\", \"namespaces\".\"shared_runners_minutes_limit\", \"namespaces\".\"repository_size_limit\", \"namespaces\".\"require_two_factor_authentication\", \"namespaces\".\"two_factor_grace_period\", \"namespaces\".\"cached_markdown_version\", \"namespaces\".\"project_creation_level\", \"namespaces\".\"runners_token\", \"namespaces\".\"file_template_project_id\", \"namespaces\".\"saml_discovery_token\", \"namespaces\".\"runners_token_encrypted\", \"namespaces\".\"custom_project_templates_group_id\", \"namespaces\".\"auto_devops_enabled\", \"namespaces\".\"extra_shared_runners_minutes_limit\", \"namespaces\".\"last_ci_minutes_notification_at\", \"namespaces\".\"last_ci_minutes_usage_notification_level\", \"namespaces\".\"subgroup_creation_level\", \"namespaces\".\"emails_disabled\", \"namespaces\".\"max_pages_size\", \"namespaces\".\"max_artifacts_size\", \"namespaces\".\"mentions_disabled\", \"namespaces\".\"default_branch_protection\", \"namespaces\".\"unlock_membership_to_ldap\", \"namespaces\".\"max_personal_access_token_lifetime\", \"namespaces\".\"push_rule_id\", \"namespaces\".\"shared_runners_enabled\", \"namespaces\".\"allow_descendants_override_disabled_shared_runners\", \"namespaces\".\"traversal_ids\" FROM \"namespaces\" WHERE (lower(path) = 'aa14' OR lower(name) = 'aa14') LIMIT 1\n/*application:web,correlation_id:01FTDN15WCQ1D7A61ESYSWRR8E,endpoint_id:GET /api/:version/namespaces/:namespace/exists,db_config_name:main*/ SELECT \"namespaces\".\"id\", \"namespaces\".\"name\", \"namespaces\".\"path\", \"namespaces\".\"owner_id\", \"namespaces\".\"created_at\", \"namespaces\".\"updated_at\", \"namespaces\".\"type\", \"namespaces\".\"description\", \"namespaces\".\"avatar\", \"namespaces\".\"membership_lock\", \"namespaces\".\"share_with_group_lock\", \"namespaces\".\"visibility_level\", \"namespaces\".\"request_access_enabled\", \"namespaces\".\"ldap_sync_status\", \"namespaces\".\"ldap_sync_error\", \"namespaces\".\"ldap_sync_last_update_at\", \"namespaces\".\"ldap_sync_last_successful_update_at\", \"namespaces\".\"ldap_sync_last_sync_at\", \"namespaces\".\"description_html\", \"namespaces\".\"lfs_enabled\", \"namespaces\".\"parent_id\", \"namespaces\".\"shared_runners_minutes_limit\", \"namespaces\".\"repository_size_limit\", \"namespaces\".\"require_two_factor_authentication\", \"namespaces\".\"two_factor_grace_period\", \"namespaces\".\"cached_markdown_version\", \"namespaces\".\"project_creation_level\", \"namespaces\".\"runners_token\", \"namespaces\".\"file_template_project_id\", \"namespaces\".\"saml_discovery_token\", \"namespaces\".\"runners_token_encrypted\", \"namespaces\".\"custom_project_templates_group_id\", \"namespaces\".\"auto_devops_enabled\", \"namespaces\".\"extra_shared_runners_minutes_limit\", \"namespaces\".\"last_ci_minutes_notification_at\", \"namespaces\".\"last_ci_minutes_usage_notification_level\", \"namespaces\".\"subgroup_creation_level\", \"namespaces\".\"emails_disabled\", \"namespaces\".\"max_pages_size\", \"namespaces\".\"max_artifacts_size\", \"namespaces\".\"mentions_disabled\", \"namespaces\".\"default_branch_protection\", \"namespaces\".\"unlock_membership_to_ldap\", \"namespaces\".\"max_personal_access_token_lifetime\", \"namespaces\".\"push_rule_id\", \"namespaces\".\"shared_runners_enabled\", \"namespaces\".\"allow_descendants_override_disabled_shared_runners\", \"namespaces\".\"traversal_ids\" FROM \"namespaces\" WHERE (lower(path) = 'aa15' OR lower(name) = 'aa15') LIMIT 1\n/*application:web,correlation_id:01FTDN15WCQ1D7A61ESYSWRR8E,endpoint_id:GET /api/:version/namespaces/:namespace/exists,db_config_name:main*/ SELECT \"namespaces\".\"id\", \"namespaces\".\"name\", \"namespaces\".\"path\", \"namespaces\".\"owner_id\", \"namespaces\".\"created_at\", \"namespaces\".\"updated_at\", \"namespaces\".\"type\", \"namespaces\".\"description\", \"namespaces\".\"avatar\", \"namespaces\".\"membership_lock\", \"namespaces\".\"share_with_group_lock\", \"namespaces\".\"visibility_level\", \"namespaces\".\"request_access_enabled\", \"namespaces\".\"ldap_sync_status\", \"namespaces\".\"ldap_sync_error\", \"namespaces\".\"ldap_sync_last_update_at\", \"namespaces\".\"ldap_sync_last_successful_update_at\", \"namespaces\".\"ldap_sync_last_sync_at\", \"namespaces\".\"description_html\", \"namespaces\".\"lfs_enabled\", \"namespaces\".\"parent_id\", \"namespaces\".\"shared_runners_minutes_limit\", \"namespaces\".\"repository_size_limit\", \"namespaces\".\"require_two_factor_authentication\", \"namespaces\".\"two_factor_grace_period\", \"namespaces\".\"cached_markdown_version\", \"namespaces\".\"project_creation_level\", \"namespaces\".\"runners_token\", \"namespaces\".\"file_template_project_id\", \"namespaces\".\"saml_discovery_token\", \"namespaces\".\"runners_token_encrypted\", \"namespaces\".\"custom_project_templates_group_id\", \"namespaces\".\"auto_devops_enabled\", \"namespaces\".\"extra_shared_runners_minutes_limit\", \"namespaces\".\"last_ci_minutes_notification_at\", \"namespaces\".\"last_ci_minutes_usage_notification_level\", \"namespaces\".\"subgroup_creation_level\", \"namespaces\".\"emails_disabled\", \"namespaces\".\"max_pages_size\", \"namespaces\".\"max_artifacts_size\", \"namespaces\".\"mentions_disabled\", \"namespaces\".\"default_branch_protection\", \"namespaces\".\"unlock_membership_to_ldap\", \"namespaces\".\"max_personal_access_token_lifetime\", \"namespaces\".\"push_rule_id\", \"namespaces\".\"shared_runners_enabled\", \"namespaces\".\"allow_descendants_override_disabled_shared_runners\", \"namespaces\".\"traversal_ids\" FROM \"namespaces\" WHERE (lower(path) = 'aa16' OR lower(name) = 'aa16') LIMIT 1\n/*application:web,correlation_id:01FTDN15WCQ1D7A61ESYSWRR8E,endpoint_id:GET /api/:version/namespaces/:namespace/exists,db_config_name:main*/ SELECT \"namespaces\".\"id\", \"namespaces\".\"name\", \"namespaces\".\"path\", \"namespaces\".\"owner_id\", \"namespaces\".\"created_at\", \"namespaces\".\"updated_at\", \"namespaces\".\"type\", \"namespaces\".\"description\", \"namespaces\".\"avatar\", \"namespaces\".\"membership_lock\", \"namespaces\".\"share_with_group_lock\", \"namespaces\".\"visibility_level\", \"namespaces\".\"request_access_enabled\", \"namespaces\".\"ldap_sync_status\", \"namespaces\".\"ldap_sync_error\", \"namespaces\".\"ldap_sync_last_update_at\", \"namespaces\".\"ldap_sync_last_successful_update_at\", \"namespaces\".\"ldap_sync_last_sync_at\", \"namespaces\".\"description_html\", \"namespaces\".\"lfs_enabled\", \"namespaces\".\"parent_id\", \"namespaces\".\"shared_runners_minutes_limit\", \"namespaces\".\"repository_size_limit\", \"namespaces\".\"require_two_factor_authentication\", \"namespaces\".\"two_factor_grace_period\", \"namespaces\".\"cached_markdown_version\", \"namespaces\".\"project_creation_level\", \"namespaces\".\"runners_token\", \"namespaces\".\"file_template_project_id\", \"namespaces\".\"saml_discovery_token\", \"namespaces\".\"runners_token_encrypted\", \"namespaces\".\"custom_project_templates_group_id\", \"namespaces\".\"auto_devops_enabled\", \"namespaces\".\"extra_shared_runners_minutes_limit\", \"namespaces\".\"last_ci_minutes_notification_at\", \"namespaces\".\"last_ci_minutes_usage_notification_level\", \"namespaces\".\"subgroup_creation_level\", \"namespaces\".\"emails_disabled\", \"namespaces\".\"max_pages_size\", \"namespaces\".\"max_artifacts_size\", \"namespaces\".\"mentions_disabled\", \"namespaces\".\"default_branch_protection\", \"namespaces\".\"unlock_membership_to_ldap\", \"namespaces\".\"max_personal_access_token_lifetime\", \"namespaces\".\"push_rule_id\", \"namespaces\".\"shared_runners_enabled\", \"namespaces\".\"allow_descendants_override_disabled_shared_runners\", \"namespaces\".\"traversal_ids\" FROM \"namespaces\" WHERE (lower(path) = 'aa17' OR lower(name) = 'aa17') LIMIT 1\n/*application:web,correlation_id:01FTDN15WCQ1D7A61ESYSWRR8E,endpoint_id:GET /api/:version/namespaces/:namespace/exists,db_config_name:main*/ SELECT \"namespaces\".\"id\", \"namespaces\".\"name\", \"namespaces\".\"path\", \"namespaces\".\"owner_id\", \"namespaces\".\"created_at\", \"namespaces\".\"updated_at\", \"namespaces\".\"type\", \"namespaces\".\"description\", \"namespaces\".\"avatar\", \"namespaces\".\"membership_lock\", \"namespaces\".\"share_with_group_lock\", \"namespaces\".\"visibility_level\", \"namespaces\".\"request_access_enabled\", \"namespaces\".\"ldap_sync_status\", \"namespaces\".\"ldap_sync_error\", \"namespaces\".\"ldap_sync_last_update_at\", \"namespaces\".\"ldap_sync_last_successful_update_at\", \"namespaces\".\"ldap_sync_last_sync_at\", \"namespaces\".\"description_html\", \"namespaces\".\"lfs_enabled\", \"namespaces\".\"parent_id\", \"namespaces\".\"shared_runners_minutes_limit\", \"namespaces\".\"repository_size_limit\", \"namespaces\".\"require_two_factor_authentication\", \"namespaces\".\"two_factor_grace_period\", \"namespaces\".\"cached_markdown_version\", \"namespaces\".\"project_creation_level\", \"namespaces\".\"runners_token\", \"namespaces\".\"file_template_project_id\", \"namespaces\".\"saml_discovery_token\", \"namespaces\".\"runners_token_encrypted\", \"namespaces\".\"custom_project_templates_group_id\", \"namespaces\".\"auto_devops_enabled\", \"namespaces\".\"extra_shared_runners_minutes_limit\", \"namespaces\".\"last_ci_minutes_notification_at\", \"namespaces\".\"last_ci_minutes_usage_notification_level\", \"namespaces\".\"subgroup_creation_level\", \"namespaces\".\"emails_disabled\", \"namespaces\".\"max_pages_size\", \"namespaces\".\"max_artifacts_size\", \"namespaces\".\"mentions_disabled\", \"namespaces\".\"default_branch_protection\", \"namespaces\".\"unlock_membership_to_ldap\", \"namespaces\".\"max_personal_access_token_lifetime\", \"namespaces\".\"push_rule_id\", \"namespaces\".\"shared_runners_enabled\", \"namespaces\".\"allow_descendants_override_disabled_shared_runners\", \"namespaces\".\"traversal_ids\" FROM \"namespaces\" WHERE (lower(path) = 'aa18' OR lower(name) = 'aa18') LIMIT 1\n/*application:web,correlation_id:01FTDN15WCQ1D7A61ESYSWRR8E,endpoint_id:GET /api/:version/namespaces/:namespace/exists,db_config_name:main*/ SELECT \"namespaces\".\"id\", \"namespaces\".\"name\", \"namespaces\".\"path\", \"namespaces\".\"owner_id\", \"namespaces\".\"created_at\", \"namespaces\".\"updated_at\", \"namespaces\".\"type\", \"namespaces\".\"description\", \"namespaces\".\"avatar\", \"namespaces\".\"membership_lock\", \"namespaces\".\"share_with_group_lock\", \"namespaces\".\"visibility_level\", \"namespaces\".\"request_access_enabled\", \"namespaces\".\"ldap_sync_status\", \"namespaces\".\"ldap_sync_error\", \"namespaces\".\"ldap_sync_last_update_at\", \"namespaces\".\"ldap_sync_last_successful_update_at\", \"namespaces\".\"ldap_sync_last_sync_at\", \"namespaces\".\"description_html\", \"namespaces\".\"lfs_enabled\", \"namespaces\".\"parent_id\", \"namespaces\".\"shared_runners_minutes_limit\", \"namespaces\".\"repository_size_limit\", \"namespaces\".\"require_two_factor_authentication\", \"namespaces\".\"two_factor_grace_period\", \"namespaces\".\"cached_markdown_version\", \"namespaces\".\"project_creation_level\", \"namespaces\".\"runners_token\", \"namespaces\".\"file_template_project_id\", \"namespaces\".\"saml_discovery_token\", \"namespaces\".\"runners_token_encrypted\", \"namespaces\".\"custom_project_templates_group_id\", \"namespaces\".\"auto_devops_enabled\", \"namespaces\".\"extra_shared_runners_minutes_limit\", \"namespaces\".\"last_ci_minutes_notification_at\", \"namespaces\".\"last_ci_minutes_usage_notification_level\", \"namespaces\".\"subgroup_creation_level\", \"namespaces\".\"emails_disabled\", \"namespaces\".\"max_pages_size\", \"namespaces\".\"max_artifacts_size\", \"namespaces\".\"mentions_disabled\", \"namespaces\".\"default_branch_protection\", \"namespaces\".\"unlock_membership_to_ldap\", \"namespaces\".\"max_personal_access_token_lifetime\", \"namespaces\".\"push_rule_id\", \"namespaces\".\"shared_runners_enabled\", \"namespaces\".\"allow_descendants_override_disabled_shared_runners\", \"namespaces\".\"traversal_ids\" FROM \"namespaces\" WHERE (lower(path) = 'aa19' OR lower(name) = 'aa19') LIMIT 1\n...\n/*application:web,correlation_id:01FTDN15WCQ1D7A61ESYSWRR8E,endpoint_id:GET /api/:version/namespaces/:namespace/exists,db_config_name:main*/ SELECT \"namespaces\".\"id\", \"namespaces\".\"name\", \"namespaces\".\"path\", \"namespaces\".\"owner_id\", \"namespaces\".\"created_at\", \"namespaces\".\"updated_at\", \"namespaces\".\"type\", \"namespaces\".\"description\", \"namespaces\".\"avatar\", \"namespaces\".\"membership_lock\", \"namespaces\".\"share_with_group_lock\", \"namespaces\".\"visibility_level\", \"namespaces\".\"request_access_enabled\", \"namespaces\".\"ldap_sync_status\", \"namespaces\".\"ldap_sync_error\", \"namespaces\".\"ldap_sync_last_update_at\", \"namespaces\".\"ldap_sync_last_successful_update_at\", \"namespaces\".\"ldap_sync_last_sync_at\", \"namespaces\".\"description_html\", \"namespaces\".\"lfs_enabled\", \"namespaces\".\"parent_id\", \"namespaces\".\"shared_runners_minutes_limit\", \"namespaces\".\"repository_size_limit\", \"namespaces\".\"require_two_factor_authentication\", \"namespaces\".\"two_factor_grace_period\", \"namespaces\".\"cached_markdown_version\", \"namespaces\".\"project_creation_level\", \"namespaces\".\"runners_token\", \"namespaces\".\"file_template_project_id\", \"namespaces\".\"saml_discovery_token\", \"namespaces\".\"runners_token_encrypted\", \"namespaces\".\"custom_project_templates_group_id\", \"namespaces\".\"auto_devops_enabled\", \"namespaces\".\"extra_shared_runners_minutes_limit\", \"namespaces\".\"last_ci_minutes_notification_at\", \"namespaces\".\"last_ci_minutes_usage_notification_level\", \"namespaces\".\"subgroup_creation_level\", \"namespaces\".\"emails_disabled\", \"namespaces\".\"max_pages_size\", \"namespaces\".\"max_artifacts_size\", \"namespaces\".\"mentions_disabled\", \"namespaces\".\"default_branch_protection\", \"namespaces\".\"unlock_membership_to_ldap\", \"namespaces\".\"max_personal_access_token_lifetime\", \"namespaces\".\"push_rule_id\", \"namespaces\".\"shared_runners_enabled\", \"namespaces\".\"allow_descendants_override_disabled_shared_runners\", \"namespaces\".\"traversal_ids\" FROM \"namespaces\" WHERE (lower(path) = 'aa1980' OR lower(name) = 'aa1980') LIMIT 1\n/*application:web,correlation_id:01FTDN15WCQ1D7A61ESYSWRR8E,endpoint_id:GET /api/:version/namespaces/:namespace/exists,db_config_name:main*/ SELECT \"namespaces\".\"id\", \"namespaces\".\"name\", \"namespaces\".\"path\", \"namespaces\".\"owner_id\", \"namespaces\".\"created_at\", \"namespaces\".\"updated_at\", \"namespaces\".\"type\", \"namespaces\".\"description\", \"namespaces\".\"avatar\", \"namespaces\".\"membership_lock\", \"namespaces\".\"share_with_group_lock\", \"namespaces\".\"visibility_level\", \"namespaces\".\"request_access_enabled\", \"namespaces\".\"ldap_sync_status\", \"namespaces\".\"ldap_sync_error\", \"namespaces\".\"ldap_sync_last_update_at\", \"namespaces\".\"ldap_sync_last_successful_update_at\", \"namespaces\".\"ldap_sync_last_sync_at\", \"namespaces\".\"description_html\", \"namespaces\".\"lfs_enabled\", \"namespaces\".\"parent_id\", \"namespaces\".\"shared_runners_minutes_limit\", \"namespaces\".\"repository_size_limit\", \"namespaces\".\"require_two_factor_authentication\", \"namespaces\".\"two_factor_grace_period\", \"namespaces\".\"cached_markdown_version\", \"namespaces\".\"project_creation_level\", \"namespaces\".\"runners_token\", \"namespaces\".\"file_template_project_id\", \"namespaces\".\"saml_discovery_token\", \"namespaces\".\"runners_token_encrypted\", \"namespaces\".\"custom_project_templates_group_id\", \"namespaces\".\"auto_devops_enabled\", \"namespaces\".\"extra_shared_runners_minutes_limit\", \"namespaces\".\"last_ci_minutes_notification_at\", \"namespaces\".\"last_ci_minutes_usage_notification_level\", \"namespaces\".\"subgroup_creation_level\", \"namespaces\".\"emails_disabled\", \"namespaces\".\"max_pages_size\", \"namespaces\".\"max_artifacts_size\", \"namespaces\".\"mentions_disabled\", \"namespaces\".\"default_branch_protection\", \"namespaces\".\"unlock_membership_to_ldap\", \"namespaces\".\"max_personal_access_token_lifetime\", \"namespaces\".\"push_rule_id\", \"namespaces\".\"shared_runners_enabled\", \"namespaces\".\"allow_descendants_override_disabled_shared_runners\", \"namespaces\".\"traversal_ids\" FROM \"namespaces\" WHERE (lower(path) = 'aa1981' OR lower(name) = 'aa1981') LIMIT 1\n/*application:web,correlation_id:01FTDN15WCQ1D7A61ESYSWRR8E,endpoint_id:GET /api/:version/namespaces/:namespace/exists,db_config_name:main*/ SELECT \"namespaces\".\"id\", \"namespaces\".\"name\", \"namespaces\".\"path\", \"namespaces\".\"owner_id\", \"namespaces\".\"created_at\", \"namespaces\".\"updated_at\", \"namespaces\".\"type\", \"namespaces\".\"description\", \"namespaces\".\"avatar\", \"namespaces\".\"membership_lock\", \"namespaces\".\"share_with_group_lock\", \"namespaces\".\"visibility_level\", \"namespaces\".\"request_access_enabled\", \"namespaces\".\"ldap_sync_status\", \"namespaces\".\"ldap_sync_error\", \"namespaces\".\"ldap_sync_last_update_at\", \"namespaces\".\"ldap_sync_last_successful_update_at\", \"namespaces\".\"ldap_sync_last_sync_at\", \"namespaces\".\"description_html\", \"namespaces\".\"lfs_enabled\", \"namespaces\".\"parent_id\", \"namespaces\".\"shared_runners_minutes_limit\", \"namespaces\".\"repository_size_limit\", \"namespaces\".\"require_two_factor_authentication\", \"namespaces\".\"two_factor_grace_period\", \"namespaces\".\"cached_markdown_version\", \"namespaces\".\"project_creation_level\", \"namespaces\".\"runners_token\", \"namespaces\".\"file_template_project_id\", \"namespaces\".\"saml_discovery_token\", \"namespaces\".\"runners_token_encrypted\", \"namespaces\".\"custom_project_templates_group_id\", \"namespaces\".\"auto_devops_enabled\", \"namespaces\".\"extra_shared_runners_minutes_limit\", \"namespaces\".\"last_ci_minutes_notification_at\", \"namespaces\".\"last_ci_minutes_usage_notification_level\", \"namespaces\".\"subgroup_creation_level\", \"namespaces\".\"emails_disabled\", \"namespaces\".\"max_pages_size\", \"namespaces\".\"max_artifacts_size\", \"namespaces\".\"mentions_disabled\", \"namespaces\".\"default_branch_protection\", \"namespaces\".\"unlock_membership_to_ldap\", \"namespaces\".\"max_personal_access_token_lifetime\", \"namespaces\".\"push_rule_id\", \"namespaces\".\"shared_runners_enabled\", \"namespaces\".\"allow_descendants_override_disabled_shared_runners\", \"namespaces\".\"traversal_ids\" FROM \"namespaces\" WHERE (lower(path) = 'aa1982' OR lower(name) = 'aa1982') LIMIT 1\n/*application:web,correlation_id:01FTDN15WCQ1D7A61ESYSWRR8E,endpoint_id:GET /api/:version/namespaces/:namespace/exists,db_config_name:main*/ SELECT \"namespaces\".\"id\", \"namespaces\".\"name\", \"namespaces\".\"path\", \"namespaces\".\"owner_id\", \"namespaces\".\"created_at\", \"namespaces\".\"updated_at\", \"namespaces\".\"type\", \"namespaces\".\"description\", \"namespaces\".\"avatar\", \"namespaces\".\"membership_lock\", \"namespaces\".\"share_with_group_lock\", \"namespaces\".\"visibility_level\", \"namespaces\".\"request_access_enabled\", \"namespaces\".\"ldap_sync_status\", \"namespaces\".\"ldap_sync_error\", \"namespaces\".\"ldap_sync_last_update_at\", \"namespaces\".\"ldap_sync_last_successful_update_at\", \"namespaces\".\"ldap_sync_last_sync_at\", \"namespaces\".\"description_html\", \"namespaces\".\"lfs_enabled\", \"namespaces\".\"parent_id\", \"namespaces\".\"shared_runners_minutes_limit\", \"namespaces\".\"repository_size_limit\", \"namespaces\".\"require_two_factor_authentication\", \"namespaces\".\"two_factor_grace_period\", \"namespaces\".\"cached_markdown_version\", \"namespaces\".\"project_creation_level\", \"namespaces\".\"runners_token\", \"namespaces\".\"file_template_project_id\", \"namespaces\".\"saml_discovery_token\", \"namespaces\".\"runners_token_encrypted\", \"namespaces\".\"custom_project_templates_group_id\", \"namespaces\".\"auto_devops_enabled\", \"namespaces\".\"extra_shared_runners_minutes_limit\", \"namespaces\".\"last_ci_minutes_notification_at\", \"namespaces\".\"last_ci_minutes_usage_notification_level\", \"namespaces\".\"subgroup_creation_level\", \"namespaces\".\"emails_disabled\", \"namespaces\".\"max_pages_size\", \"namespaces\".\"max_artifacts_size\", \"namespaces\".\"mentions_disabled\", \"namespaces\".\"default_branch_protection\", \"namespaces\".\"unlock_membership_to_ldap\", \"namespaces\".\"max_personal_access_token_lifetime\", \"namespaces\".\"push_rule_id\", \"namespaces\".\"shared_runners_enabled\", \"namespaces\".\"allow_descendants_override_disabled_shared_runners\", \"namespaces\".\"traversal_ids\" FROM \"namespaces\" WHERE (lower(path) = 'aa1983' OR lower(name) = 'aa1983') LIMIT 1\n/*application:web,correlation_id:01FTDN15WCQ1D7A61ESYSWRR8E,endpoint_id:GET /api/:version/namespaces/:namespace/exists,db_config_name:main*/ SELECT \"namespaces\".\"id\", \"namespaces\".\"name\", \"namespaces\".\"path\", \"namespaces\".\"owner_id\", \"namespaces\".\"created_at\", \"namespaces\".\"updated_at\", \"namespaces\".\"type\", \"namespaces\".\"description\", \"namespaces\".\"avatar\", \"namespaces\".\"membership_lock\", \"namespaces\".\"share_with_group_lock\", \"namespaces\".\"visibility_level\", \"namespaces\".\"request_access_enabled\", \"namespaces\".\"ldap_sync_status\", \"namespaces\".\"ldap_sync_error\", \"namespaces\".\"ldap_sync_last_update_at\", \"namespaces\".\"ldap_sync_last_successful_update_at\", \"namespaces\".\"ldap_sync_last_sync_at\", \"namespaces\".\"description_html\", \"namespaces\".\"lfs_enabled\", \"namespaces\".\"parent_id\", \"namespaces\".\"shared_runners_minutes_limit\", \"namespaces\".\"repository_size_limit\", \"namespaces\".\"require_two_factor_authentication\", \"namespaces\".\"two_factor_grace_period\", \"namespaces\".\"cached_markdown_version\", \"namespaces\".\"project_creation_level\", \"namespaces\".\"runners_token\", \"namespaces\".\"file_template_project_id\", \"namespaces\".\"saml_discovery_token\", \"namespaces\".\"runners_token_encrypted\", \"namespaces\".\"custom_project_templates_group_id\", \"namespaces\".\"auto_devops_enabled\", \"namespaces\".\"extra_shared_runners_minutes_limit\", \"namespaces\".\"last_ci_minutes_notification_at\", \"namespaces\".\"last_ci_minutes_usage_notification_level\", \"namespaces\".\"subgroup_creation_level\", \"namespaces\".\"emails_disabled\", \"namespaces\".\"max_pages_size\", \"namespaces\".\"max_artifacts_size\", \"namespaces\".\"mentions_disabled\", \"namespaces\".\"default_branch_protection\", \"namespaces\".\"unlock_membership_to_ldap\", \"namespaces\".\"max_personal_access_token_lifetime\", \"namespaces\".\"push_rule_id\", \"namespaces\".\"shared_runners_enabled\", \"namespaces\".\"allow_descendants_override_disabled_shared_runners\", \"namespaces\".\"traversal_ids\" FROM \"namespaces\" WHERE (lower(path) = 'aa1984' OR lower(name) = 'aa1984') LIMIT 1\n/*application:web,correlation_id:01FTDN15WCQ1D7A61ESYSWRR8E,endpoint_id:GET /api/:version/namespaces/:namespace/exists,db_config_name:main*/ SELECT \"namespaces\".\"id\", \"namespaces\".\"name\", \"namespaces\".\"path\", \"namespaces\".\"owner_id\", \"namespaces\".\"created_at\", \"namespaces\".\"updated_at\", \"namespaces\".\"type\", \"namespaces\".\"description\", \"namespaces\".\"avatar\", \"namespaces\".\"membership_lock\", \"namespaces\".\"share_with_group_lock\", \"namespaces\".\"visibility_level\", \"namespaces\".\"request_access_enabled\", \"namespaces\".\"ldap_sync_status\", \"namespaces\".\"ldap_sync_error\", \"namespaces\".\"ldap_sync_last_update_at\", \"namespaces\".\"ldap_sync_last_successful_update_at\", \"namespaces\".\"ldap_sync_last_sync_at\", \"namespaces\".\"description_html\", \"namespaces\".\"lfs_enabled\", \"namespaces\".\"parent_id\", \"namespaces\".\"shared_runners_minutes_limit\", \"namespaces\".\"repository_size_limit\", \"namespaces\".\"require_two_factor_authentication\", \"namespaces\".\"two_factor_grace_period\", \"namespaces\".\"cached_markdown_version\", \"namespaces\".\"project_creation_level\", \"namespaces\".\"runners_token\", \"namespaces\".\"file_template_project_id\", \"namespaces\".\"saml_discovery_token\", \"namespaces\".\"runners_token_encrypted\", \"namespaces\".\"custom_project_templates_group_id\", \"namespaces\".\"auto_devops_enabled\", \"namespaces\".\"extra_shared_runners_minutes_limit\", \"namespaces\".\"last_ci_minutes_notification_at\", \"namespaces\".\"last_ci_minutes_usage_notification_level\", \"namespaces\".\"subgroup_creation_level\", \"namespaces\".\"emails_disabled\", \"namespaces\".\"max_pages_size\", \"namespaces\".\"max_artifacts_size\", \"namespaces\".\"mentions_disabled\", \"namespaces\".\"default_branch_protection\", \"namespaces\".\"unlock_membership_to_ldap\", \"namespaces\".\"max_personal_access_token_lifetime\", \"namespaces\".\"push_rule_id\", \"namespaces\".\"shared_runners_enabled\", \"namespaces\".\"allow_descendants_override_disabled_shared_runners\", \"namespaces\".\"traversal_ids\" FROM \"namespaces\" WHERE (lower(path) = 'aa1985' OR lower(name) = 'aa1985') LIMIT 1\n/*application:web,correlation_id:01FTDN15WCQ1D7A61ESYSWRR8E,endpoint_id:GET /api/:version/namespaces/:namespace/exists,db_config_name:main*/ SELECT \"namespaces\".\"id\", \"namespaces\".\"name\", \"namespaces\".\"path\", \"namespaces\".\"owner_id\", \"namespaces\".\"created_at\", \"namespaces\".\"updated_at\", \"namespaces\".\"type\", \"namespaces\".\"description\", \"namespaces\".\"avatar\", \"namespaces\".\"membership_lock\", \"namespaces\".\"share_with_group_lock\", \"namespaces\".\"visibility_level\", \"namespaces\".\"request_access_enabled\", \"namespaces\".\"ldap_sync_status\", \"namespaces\".\"ldap_sync_error\", \"namespaces\".\"ldap_sync_last_update_at\", \"namespaces\".\"ldap_sync_last_successful_update_at\", \"namespaces\".\"ldap_sync_last_sync_at\", \"namespaces\".\"description_html\", \"namespaces\".\"lfs_enabled\", \"namespaces\".\"parent_id\", \"namespaces\".\"shared_runners_minutes_limit\", \"namespaces\".\"repository_size_limit\", \"namespaces\".\"require_two_factor_authentication\", \"namespaces\".\"two_factor_grace_period\", \"namespaces\".\"cached_markdown_version\", \"namespaces\".\"project_creation_level\", \"namespaces\".\"runners_token\", \"namespaces\".\"file_template_project_id\", \"namespaces\".\"saml_discovery_token\", \"namespaces\".\"runners_token_encrypted\", \"namespaces\".\"custom_project_templates_group_id\", \"namespaces\".\"auto_devops_enabled\", \"namespaces\".\"extra_shared_runners_minutes_limit\", \"namespaces\".\"last_ci_minutes_notification_at\", \"namespaces\".\"last_ci_minutes_usage_notification_level\", \"namespaces\".\"subgroup_creation_level\", \"namespaces\".\"emails_disabled\", \"namespaces\".\"max_pages_size\", \"namespaces\".\"max_artifacts_size\", \"namespaces\".\"mentions_disabled\", \"namespaces\".\"default_branch_protection\", \"namespaces\".\"unlock_membership_to_ldap\", \"namespaces\".\"max_personal_access_token_lifetime\", \"namespaces\".\"push_rule_id\", \"namespaces\".\"shared_runners_enabled\", \"namespaces\".\"allow_descendants_override_disabled_shared_runners\", \"namespaces\".\"traversal_ids\" FROM \"namespaces\" WHERE (lower(path) = 'aa1986' OR lower(name) = 'aa1986') LIMIT 1\n/*application:web,correlation_id:01FTDN15WCQ1D7A61ESYSWRR8E,endpoint_id:GET /api/:version/namespaces/:namespace/exists,db_config_name:main*/ SELECT \"namespaces\".\"id\", \"namespaces\".\"name\", \"namespaces\".\"path\", \"namespaces\".\"owner_id\", \"namespaces\".\"created_at\", \"namespaces\".\"updated_at\", \"namespaces\".\"type\", \"namespaces\".\"description\", \"namespaces\".\"avatar\", \"namespaces\".\"membership_lock\", \"namespaces\".\"share_with_group_lock\", \"namespaces\".\"visibility_level\", \"namespaces\".\"request_access_enabled\", \"namespaces\".\"ldap_sync_status\", \"namespaces\".\"ldap_sync_error\", \"namespaces\".\"ldap_sync_last_update_at\", \"namespaces\".\"ldap_sync_last_successful_update_at\", \"namespaces\".\"ldap_sync_last_sync_at\", \"namespaces\".\"description_html\", \"namespaces\".\"lfs_enabled\", \"namespaces\".\"parent_id\", \"namespaces\".\"shared_runners_minutes_limit\", \"namespaces\".\"repository_size_limit\", \"namespaces\".\"require_two_factor_authentication\", \"namespaces\".\"two_factor_grace_period\", \"namespaces\".\"cached_markdown_version\", \"namespaces\".\"project_creation_level\", \"namespaces\".\"runners_token\", \"namespaces\".\"file_template_project_id\", \"namespaces\".\"saml_discovery_token\", \"namespaces\".\"runners_token_encrypted\", \"namespaces\".\"custom_project_templates_group_id\", \"namespaces\".\"auto_devops_enabled\", \"namespaces\".\"extra_shared_runners_minutes_limit\", \"namespaces\".\"last_ci_minutes_notification_at\", \"namespaces\".\"last_ci_minutes_usage_notification_level\", \"namespaces\".\"subgroup_creation_level\", \"namespaces\".\"emails_disabled\", \"namespaces\".\"max_pages_size\", \"namespaces\".\"max_artifacts_size\", \"namespaces\".\"mentions_disabled\", \"namespaces\".\"default_branch_protection\", \"namespaces\".\"unlock_membership_to_ldap\", \"namespaces\".\"max_personal_access_token_lifetime\", \"namespaces\".\"push_rule_id\", \"namespaces\".\"shared_runners_enabled\", \"namespaces\".\"allow_descendants_override_disabled_shared_runners\", \"namespaces\".\"traversal_ids\" FROM \"namespaces\" WHERE (lower(path) = 'aa1987' OR lower(name) = 'aa1987') LIMIT 1\n/*application:web,correlation_id:01FTDN15WCQ1D7A61ESYSWRR8E,endpoint_id:GET /api/:version/namespaces/:namespace/exists,db_config_name:main*/ SELECT \"namespaces\".\"id\", \"namespaces\".\"name\", \"namespaces\".\"path\", \"namespaces\".\"owner_id\", \"namespaces\".\"created_at\", \"namespaces\".\"updated_at\", \"namespaces\".\"type\", \"namespaces\".\"description\", \"namespaces\".\"avatar\", \"namespaces\".\"membership_lock\", \"namespaces\".\"share_with_group_lock\", \"namespaces\".\"visibility_level\", \"namespaces\".\"request_access_enabled\", \"namespaces\".\"ldap_sync_status\", \"namespaces\".\"ldap_sync_error\", \"namespaces\".\"ldap_sync_last_update_at\", \"namespaces\".\"ldap_sync_last_successful_update_at\", \"namespaces\".\"ldap_sync_last_sync_at\", \"namespaces\".\"description_html\", \"namespaces\".\"lfs_enabled\", \"namespaces\".\"parent_id\", \"namespaces\".\"shared_runners_minutes_limit\", \"namespaces\".\"repository_size_limit\", \"namespaces\".\"require_two_factor_authentication\", \"namespaces\".\"two_factor_grace_period\", \"namespaces\".\"cached_markdown_version\", \"namespaces\".\"project_creation_level\", \"namespaces\".\"runners_token\", \"namespaces\".\"file_template_project_id\", \"namespaces\".\"saml_discovery_token\", \"namespaces\".\"runners_token_encrypted\", \"namespaces\".\"custom_project_templates_group_id\", \"namespaces\".\"auto_devops_enabled\", \"namespaces\".\"extra_shared_runners_minutes_limit\", \"namespaces\".\"last_ci_minutes_notification_at\", \"namespaces\".\"last_ci_minutes_usage_notification_level\", \"namespaces\".\"subgroup_creation_level\", \"namespaces\".\"emails_disabled\", \"namespaces\".\"max_pages_size\", \"namespaces\".\"max_artifacts_size\", \"namespaces\".\"mentions_disabled\", \"namespaces\".\"default_branch_protection\", \"namespaces\".\"unlock_membership_to_ldap\", \"namespaces\".\"max_personal_access_token_lifetime\", \"namespaces\".\"push_rule_id\", \"namespaces\".\"shared_runners_enabled\", \"namespaces\".\"allow_descendants_override_disabled_shared_runners\", \"namespaces\".\"traversal_ids\" FROM \"namespaces\" WHERE (lower(path) = 'aa1988' OR lower(name) = 'aa1988') LIMIT 1\n/*application:web,correlation_id:01FTDN15WCQ1D7A61ESYSWRR8E,endpoint_id:GET /api/:version/namespaces/:namespace/exists,db_config_name:main*/ SELECT \"namespaces\".\"id\", \"namespaces\".\"name\", \"namespaces\".\"path\", \"namespaces\".\"owner_id\", \"namespaces\".\"created_at\", \"namespaces\".\"updated_at\", \"namespaces\".\"type\", \"namespaces\".\"description\", \"namespaces\".\"avatar\", \"namespaces\".\"membership_lock\", \"namespaces\".\"share_with_group_lock\", \"namespaces\".\"visibility_level\", \"namespaces\".\"request_access_enabled\", \"namespaces\".\"ldap_sync_status\", \"namespaces\".\"ldap_sync_error\", \"namespaces\".\"ldap_sync_last_update_at\", \"namespaces\".\"ldap_sync_last_successful_update_at\", \"namespaces\".\"ldap_sync_last_sync_at\", \"namespaces\".\"description_html\", \"namespaces\".\"lfs_enabled\", \"namespaces\".\"parent_id\", \"namespaces\".\"shared_runners_minutes_limit\", \"namespaces\".\"repository_size_limit\", \"namespaces\".\"require_two_factor_authentication\", \"namespaces\".\"two_factor_grace_period\", \"namespaces\".\"cached_markdown_version\", \"namespaces\".\"project_creation_level\", \"namespaces\".\"runners_token\", \"namespaces\".\"file_template_project_id\", \"namespaces\".\"saml_discovery_token\", \"namespaces\".\"runners_token_encrypted\", \"namespaces\".\"custom_project_templates_group_id\", \"namespaces\".\"auto_devops_enabled\", \"namespaces\".\"extra_shared_runners_minutes_limit\", \"namespaces\".\"last_ci_minutes_notification_at\", \"namespaces\".\"last_ci_minutes_usage_notification_level\", \"namespaces\".\"subgroup_creation_level\", \"namespaces\".\"emails_disabled\", \"namespaces\".\"max_pages_size\", \"namespaces\".\"max_artifacts_size\", \"namespaces\".\"mentions_disabled\", \"namespaces\".\"default_branch_protection\", \"namespaces\".\"unlock_membership_to_ldap\", \"namespaces\".\"max_personal_access_token_lifetime\", \"namespaces\".\"push_rule_id\", \"namespaces\".\"shared_runners_enabled\", \"namespaces\".\"allow_descendants_override_disabled_shared_runners\", \"namespaces\".\"traversal_ids\" FROM \"namespaces\" WHERE (lower(path) = 'aa1989' OR lower(name) = 'aa1989') LIMIT 1\n/*application:web,correlation_id:01FTDN15WCQ1D7A61ESYSWRR8E,endpoint_id:GET /api/:version/namespaces/:namespace/exists,db_config_name:main*/ SELECT \"namespaces\".\"id\", \"namespaces\".\"name\", \"namespaces\".\"path\", \"namespaces\".\"owner_id\", \"namespaces\".\"created_at\", \"namespaces\".\"updated_at\", \"namespaces\".\"type\", \"namespaces\".\"description\", \"namespaces\".\"avatar\", \"namespaces\".\"membership_lock\", \"namespaces\".\"share_with_group_lock\", \"namespaces\".\"visibility_level\", \"namespaces\".\"request_access_enabled\", \"namespaces\".\"ldap_sync_status\", \"namespaces\".\"ldap_sync_error\", \"namespaces\".\"ldap_sync_last_update_at\", \"namespaces\".\"ldap_sync_last_successful_update_at\", \"namespaces\".\"ldap_sync_last_sync_at\", \"namespaces\".\"description_html\", \"namespaces\".\"lfs_enabled\", \"namespaces\".\"parent_id\", \"namespaces\".\"shared_runners_minutes_limit\", \"namespaces\".\"repository_size_limit\", \"namespaces\".\"require_two_factor_authentication\", \"namespaces\".\"two_factor_grace_period\", \"namespaces\".\"cached_markdown_version\", \"namespaces\".\"project_creation_level\", \"namespaces\".\"runners_token\", \"namespaces\".\"file_template_project_id\", \"namespaces\".\"saml_discovery_token\", \"namespaces\".\"runners_token_encrypted\", \"namespaces\".\"custom_project_templates_group_id\", \"namespaces\".\"auto_devops_enabled\", \"namespaces\".\"extra_shared_runners_minutes_limit\", \"namespaces\".\"last_ci_minutes_notification_at\", \"namespaces\".\"last_ci_minutes_usage_notification_level\", \"namespaces\".\"subgroup_creation_level\", \"namespaces\".\"emails_disabled\", \"namespaces\".\"max_pages_size\", \"namespaces\".\"max_artifacts_size\", \"namespaces\".\"mentions_disabled\", \"namespaces\".\"default_branch_protection\", \"namespaces\".\"unlock_membership_to_ldap\", \"namespaces\".\"max_personal_access_token_lifetime\", \"namespaces\".\"push_rule_id\", \"namespaces\".\"shared_runners_enabled\", \"namespaces\".\"allow_descendants_override_disabled_shared_runners\", \"namespaces\".\"traversal_ids\" FROM \"namespaces\" WHERE (lower(path) = 'aa1990' OR lower(name) = 'aa1990') LIMIT 1\n/*application:web,correlation_id:01FTDN15WCQ1D7A61ESYSWRR8E,endpoint_id:GET /api/:version/namespaces/:namespace/exists,db_config_name:main*/ SELECT \"namespaces\".\"id\", \"namespaces\".\"name\", \"namespaces\".\"path\", \"namespaces\".\"owner_id\", \"namespaces\".\"created_at\", \"namespaces\".\"updated_at\", \"namespaces\".\"type\", \"namespaces\".\"description\", \"namespaces\".\"avatar\", \"namespaces\".\"membership_lock\", \"namespaces\".\"share_with_group_lock\", \"namespaces\".\"visibility_level\", \"namespaces\".\"request_access_enabled\", \"namespaces\".\"ldap_sync_status\", \"namespaces\".\"ldap_sync_error\", \"namespaces\".\"ldap_sync_last_update_at\", \"namespaces\".\"ldap_sync_last_successful_update_at\", \"namespaces\".\"ldap_sync_last_sync_at\", \"namespaces\".\"description_html\", \"namespaces\".\"lfs_enabled\", \"namespaces\".\"parent_id\", \"namespaces\".\"shared_runners_minutes_limit\", \"namespaces\".\"repository_size_limit\", \"namespaces\".\"require_two_factor_authentication\", \"namespaces\".\"two_factor_grace_period\", \"namespaces\".\"cached_markdown_version\", \"namespaces\".\"project_creation_level\", \"namespaces\".\"runners_token\", \"namespaces\".\"file_template_project_id\", \"namespaces\".\"saml_discovery_token\", \"namespaces\".\"runners_token_encrypted\", \"namespaces\".\"custom_project_templates_group_id\", \"namespaces\".\"auto_devops_enabled\", \"namespaces\".\"extra_shared_runners_minutes_limit\", \"namespaces\".\"last_ci_minutes_notification_at\", \"namespaces\".\"last_ci_minutes_usage_notification_level\", \"namespaces\".\"subgroup_creation_level\", \"namespaces\".\"emails_disabled\", \"namespaces\".\"max_pages_size\", \"namespaces\".\"max_artifacts_size\", \"namespaces\".\"mentions_disabled\", \"namespaces\".\"default_branch_protection\", \"namespaces\".\"unlock_membership_to_ldap\", \"namespaces\".\"max_personal_access_token_lifetime\", \"namespaces\".\"push_rule_id\", \"namespaces\".\"shared_runners_enabled\", \"namespaces\".\"allow_descendants_override_disabled_shared_runners\", \"namespaces\".\"traversal_ids\" FROM \"namespaces\" WHERE (lower(path) = 'aa1991' OR lower(name) = 'aa1991') LIMIT 1\n/*application:web,correlation_id:01FTDN15WCQ1D7A61ESYSWRR8E,endpoint_id:GET /api/:version/namespaces/:namespace/exists,db_config_name:main*/ SELECT \"namespaces\".\"id\", \"namespaces\".\"name\", \"namespaces\".\"path\", \"namespaces\".\"owner_id\", \"namespaces\".\"created_at\", \"namespaces\".\"updated_at\", \"namespaces\".\"type\", \"namespaces\".\"description\", \"namespaces\".\"avatar\", \"namespaces\".\"membership_lock\", \"namespaces\".\"share_with_group_lock\", \"namespaces\".\"visibility_level\", \"namespaces\".\"request_access_enabled\", \"namespaces\".\"ldap_sync_status\", \"namespaces\".\"ldap_sync_error\", \"namespaces\".\"ldap_sync_last_update_at\", \"namespaces\".\"ldap_sync_last_successful_update_at\", \"namespaces\".\"ldap_sync_last_sync_at\", \"namespaces\".\"description_html\", \"namespaces\".\"lfs_enabled\", \"namespaces\".\"parent_id\", \"namespaces\".\"shared_runners_minutes_limit\", \"namespaces\".\"repository_size_limit\", \"namespaces\".\"require_two_factor_authentication\", \"namespaces\".\"two_factor_grace_period\", \"namespaces\".\"cached_markdown_version\", \"namespaces\".\"project_creation_level\", \"namespaces\".\"runners_token\", \"namespaces\".\"file_template_project_id\", \"namespaces\".\"saml_discovery_token\", \"namespaces\".\"runners_token_encrypted\", \"namespaces\".\"custom_project_templates_group_id\", \"namespaces\".\"auto_devops_enabled\", \"namespaces\".\"extra_shared_runners_minutes_limit\", \"namespaces\".\"last_ci_minutes_notification_at\", \"namespaces\".\"last_ci_minutes_usage_notification_level\", \"namespaces\".\"subgroup_creation_level\", \"namespaces\".\"emails_disabled\", \"namespaces\".\"max_pages_size\", \"namespaces\".\"max_artifacts_size\", \"namespaces\".\"mentions_disabled\", \"namespaces\".\"default_branch_protection\", \"namespaces\".\"unlock_membership_to_ldap\", \"namespaces\".\"max_personal_access_token_lifetime\", \"namespaces\".\"push_rule_id\", \"namespaces\".\"shared_runners_enabled\", \"namespaces\".\"allow_descendants_override_disabled_shared_runners\", \"namespaces\".\"traversal_ids\" FROM \"namespaces\" WHERE (lower(path) = 'aa1992' OR lower(name) = 'aa1992') LIMIT 1\n/*application:web,correlation_id:01FTDN15WCQ1D7A61ESYSWRR8E,endpoint_id:GET /api/:version/namespaces/:namespace/exists,db_config_name:main*/ SELECT \"namespaces\".\"id\", \"namespaces\".\"name\", \"namespaces\".\"path\", \"namespaces\".\"owner_id\", \"namespaces\".\"created_at\", \"namespaces\".\"updated_at\", \"namespaces\".\"type\", \"namespaces\".\"description\", \"namespaces\".\"avatar\", \"namespaces\".\"membership_lock\", \"namespaces\".\"share_with_group_lock\", \"namespaces\".\"visibility_level\", \"namespaces\".\"request_access_enabled\", \"namespaces\".\"ldap_sync_status\", \"namespaces\".\"ldap_sync_error\", \"namespaces\".\"ldap_sync_last_update_at\", \"namespaces\".\"ldap_sync_last_successful_update_at\", \"namespaces\".\"ldap_sync_last_sync_at\", \"namespaces\".\"description_html\", \"namespaces\".\"lfs_enabled\", \"namespaces\".\"parent_id\", \"namespaces\".\"shared_runners_minutes_limit\", \"namespaces\".\"repository_size_limit\", \"namespaces\".\"require_two_factor_authentication\", \"namespaces\".\"two_factor_grace_period\", \"namespaces\".\"cached_markdown_version\", \"namespaces\".\"project_creation_level\", \"namespaces\".\"runners_token\", \"namespaces\".\"file_template_project_id\", \"namespaces\".\"saml_discovery_token\", \"namespaces\".\"runners_token_encrypted\", \"namespaces\".\"custom_project_templates_group_id\", \"namespaces\".\"auto_devops_enabled\", \"namespaces\".\"extra_shared_runners_minutes_limit\", \"namespaces\".\"last_ci_minutes_notification_at\", \"namespaces\".\"last_ci_minutes_usage_notification_level\", \"namespaces\".\"subgroup_creation_level\", \"namespaces\".\"emails_disabled\", \"namespaces\".\"max_pages_size\", \"namespaces\".\"max_artifacts_size\", \"namespaces\".\"mentions_disabled\", \"namespaces\".\"default_branch_protection\", \"namespaces\".\"unlock_membership_to_ldap\", \"namespaces\".\"max_personal_access_token_lifetime\", \"namespaces\".\"push_rule_id\", \"namespaces\".\"shared_runners_enabled\", \"namespaces\".\"allow_descendants_override_disabled_shared_runners\", \"namespaces\".\"traversal_ids\" FROM \"namespaces\" WHERE (lower(path) = 'aa1993' OR lower(name) = 'aa1993') LIMIT 1\n/*application:web,correlation_id:01FTDN15WCQ1D7A61ESYSWRR8E,endpoint_id:GET /api/:version/namespaces/:namespace/exists,db_config_name:main*/ SELECT \"namespaces\".\"id\", \"namespaces\".\"name\", \"namespaces\".\"path\", \"namespaces\".\"owner_id\", \"namespaces\".\"created_at\", \"namespaces\".\"updated_at\", \"namespaces\".\"type\", \"namespaces\".\"description\", \"namespaces\".\"avatar\", \"namespaces\".\"membership_lock\", \"namespaces\".\"share_with_group_lock\", \"namespaces\".\"visibility_level\", \"namespaces\".\"request_access_enabled\", \"namespaces\".\"ldap_sync_status\", \"namespaces\".\"ldap_sync_error\", \"namespaces\".\"ldap_sync_last_update_at\", \"namespaces\".\"ldap_sync_last_successful_update_at\", \"namespaces\".\"ldap_sync_last_sync_at\", \"namespaces\".\"description_html\", \"namespaces\".\"lfs_enabled\", \"namespaces\".\"parent_id\", \"namespaces\".\"shared_runners_minutes_limit\", \"namespaces\".\"repository_size_limit\", \"namespaces\".\"require_two_factor_authentication\", \"namespaces\".\"two_factor_grace_period\", \"namespaces\".\"cached_markdown_version\", \"namespaces\".\"project_creation_level\", \"namespaces\".\"runners_token\", \"namespaces\".\"file_template_project_id\", \"namespaces\".\"saml_discovery_token\", \"namespaces\".\"runners_token_encrypted\", \"namespaces\".\"custom_project_templates_group_id\", \"namespaces\".\"auto_devops_enabled\", \"namespaces\".\"extra_shared_runners_minutes_limit\", \"namespaces\".\"last_ci_minutes_notification_at\", \"namespaces\".\"last_ci_minutes_usage_notification_level\", \"namespaces\".\"subgroup_creation_level\", \"namespaces\".\"emails_disabled\", \"namespaces\".\"max_pages_size\", \"namespaces\".\"max_artifacts_size\", \"namespaces\".\"mentions_disabled\", \"namespaces\".\"default_branch_protection\", \"namespaces\".\"unlock_membership_to_ldap\", \"namespaces\".\"max_personal_access_token_lifetime\", \"namespaces\".\"push_rule_id\", \"namespaces\".\"shared_runners_enabled\", \"namespaces\".\"allow_descendants_override_disabled_shared_runners\", \"namespaces\".\"traversal_ids\" FROM \"namespaces\" WHERE (lower(path) = 'aa1994' OR lower(name) = 'aa1994') LIMIT 1\n/*application:web,correlation_id:01FTDN15WCQ1D7A61ESYSWRR8E,endpoint_id:GET /api/:version/namespaces/:namespace/exists,db_config_name:main*/ SELECT \"namespaces\".\"id\", \"namespaces\".\"name\", \"namespaces\".\"path\", \"namespaces\".\"owner_id\", \"namespaces\".\"created_at\", \"namespaces\".\"updated_at\", \"namespaces\".\"type\", \"namespaces\".\"description\", \"namespaces\".\"avatar\", \"namespaces\".\"membership_lock\", \"namespaces\".\"share_with_group_lock\", \"namespaces\".\"visibility_level\", \"namespaces\".\"request_access_enabled\", \"namespaces\".\"ldap_sync_status\", \"namespaces\".\"ldap_sync_error\", \"namespaces\".\"ldap_sync_last_update_at\", \"namespaces\".\"ldap_sync_last_successful_update_at\", \"namespaces\".\"ldap_sync_last_sync_at\", \"namespaces\".\"description_html\", \"namespaces\".\"lfs_enabled\", \"namespaces\".\"parent_id\", \"namespaces\".\"shared_runners_minutes_limit\", \"namespaces\".\"repository_size_limit\", \"namespaces\".\"require_two_factor_authentication\", \"namespaces\".\"two_factor_grace_period\", \"namespaces\".\"cached_markdown_version\", \"namespaces\".\"project_creation_level\", \"namespaces\".\"runners_token\", \"namespaces\".\"file_template_project_id\", \"namespaces\".\"saml_discovery_token\", \"namespaces\".\"runners_token_encrypted\", \"namespaces\".\"custom_project_templates_group_id\", \"namespaces\".\"auto_devops_enabled\", \"namespaces\".\"extra_shared_runners_minutes_limit\", \"namespaces\".\"last_ci_minutes_notification_at\", \"namespaces\".\"last_ci_minutes_usage_notification_level\", \"namespaces\".\"subgroup_creation_level\", \"namespaces\".\"emails_disabled\", \"namespaces\".\"max_pages_size\", \"namespaces\".\"max_artifacts_size\", \"namespaces\".\"mentions_disabled\", \"namespaces\".\"default_branch_protection\", \"namespaces\".\"unlock_membership_to_ldap\", \"namespaces\".\"max_personal_access_token_lifetime\", \"namespaces\".\"push_rule_id\", \"namespaces\".\"shared_runners_enabled\", \"namespaces\".\"allow_descendants_override_disabled_shared_runners\", \"namespaces\".\"traversal_ids\" FROM \"namespaces\" WHERE (lower(path) = 'aa1995' OR lower(name) = 'aa1995') LIMIT 1\n/*application:web,correlation_id:01FTDN15WCQ1D7A61ESYSWRR8E,endpoint_id:GET /api/:version/namespaces/:namespace/exists,db_config_name:main*/ SELECT \"namespaces\".\"id\", \"namespaces\".\"name\", \"namespaces\".\"path\", \"namespaces\".\"owner_id\", \"namespaces\".\"created_at\", \"namespaces\".\"updated_at\", \"namespaces\".\"type\", \"namespaces\".\"description\", \"namespaces\".\"avatar\", \"namespaces\".\"membership_lock\", \"namespaces\".\"share_with_group_lock\", \"namespaces\".\"visibility_level\", \"namespaces\".\"request_access_enabled\", \"namespaces\".\"ldap_sync_status\", \"namespaces\".\"ldap_sync_error\", \"namespaces\".\"ldap_sync_last_update_at\", \"namespaces\".\"ldap_sync_last_successful_update_at\", \"namespaces\".\"ldap_sync_last_sync_at\", \"namespaces\".\"description_html\", \"namespaces\".\"lfs_enabled\", \"namespaces\".\"parent_id\", \"namespaces\".\"shared_runners_minutes_limit\", \"namespaces\".\"repository_size_limit\", \"namespaces\".\"require_two_factor_authentication\", \"namespaces\".\"two_factor_grace_period\", \"namespaces\".\"cached_markdown_version\", \"namespaces\".\"project_creation_level\", \"namespaces\".\"runners_token\", \"namespaces\".\"file_template_project_id\", \"namespaces\".\"saml_discovery_token\", \"namespaces\".\"runners_token_encrypted\", \"namespaces\".\"custom_project_templates_group_id\", \"namespaces\".\"auto_devops_enabled\", \"namespaces\".\"extra_shared_runners_minutes_limit\", \"namespaces\".\"last_ci_minutes_notification_at\", \"namespaces\".\"last_ci_minutes_usage_notification_level\", \"namespaces\".\"subgroup_creation_level\", \"namespaces\".\"emails_disabled\", \"namespaces\".\"max_pages_size\", \"namespaces\".\"max_artifacts_size\", \"namespaces\".\"mentions_disabled\", \"namespaces\".\"default_branch_protection\", \"namespaces\".\"unlock_membership_to_ldap\", \"namespaces\".\"max_personal_access_token_lifetime\", \"namespaces\".\"push_rule_id\", \"namespaces\".\"shared_runners_enabled\", \"namespaces\".\"allow_descendants_override_disabled_shared_runners\", \"namespaces\".\"traversal_ids\" FROM \"namespaces\" WHERE (lower(path) = 'aa1996' OR lower(name) = 'aa1996') LIMIT 1\n/*application:web,correlation_id:01FTDN15WCQ1D7A61ESYSWRR8E,endpoint_id:GET /api/:version/namespaces/:namespace/exists,db_config_name:main*/ SELECT \"namespaces\".\"id\", \"namespaces\".\"name\", \"namespaces\".\"path\", \"namespaces\".\"owner_id\", \"namespaces\".\"created_at\", \"namespaces\".\"updated_at\", \"namespaces\".\"type\", \"namespaces\".\"description\", \"namespaces\".\"avatar\", \"namespaces\".\"membership_lock\", \"namespaces\".\"share_with_group_lock\", \"namespaces\".\"visibility_level\", \"namespaces\".\"request_access_enabled\", \"namespaces\".\"ldap_sync_status\", \"namespaces\".\"ldap_sync_error\", \"namespaces\".\"ldap_sync_last_update_at\", \"namespaces\".\"ldap_sync_last_successful_update_at\", \"namespaces\".\"ldap_sync_last_sync_at\", \"namespaces\".\"description_html\", \"namespaces\".\"lfs_enabled\", \"namespaces\".\"parent_id\", \"namespaces\".\"shared_runners_minutes_limit\", \"namespaces\".\"repository_size_limit\", \"namespaces\".\"require_two_factor_authentication\", \"namespaces\".\"two_factor_grace_period\", \"namespaces\".\"cached_markdown_version\", \"namespaces\".\"project_creation_level\", \"namespaces\".\"runners_token\", \"namespaces\".\"file_template_project_id\", \"namespaces\".\"saml_discovery_token\", \"namespaces\".\"runners_token_encrypted\", \"namespaces\".\"custom_project_templates_group_id\", \"namespaces\".\"auto_devops_enabled\", \"namespaces\".\"extra_shared_runners_minutes_limit\", \"namespaces\".\"last_ci_minutes_notification_at\", \"namespaces\".\"last_ci_minutes_usage_notification_level\", \"namespaces\".\"subgroup_creation_level\", \"namespaces\".\"emails_disabled\", \"namespaces\".\"max_pages_size\", \"namespaces\".\"max_artifacts_size\", \"namespaces\".\"mentions_disabled\", \"namespaces\".\"default_branch_protection\", \"namespaces\".\"unlock_membership_to_ldap\", \"namespaces\".\"max_personal_access_token_lifetime\", \"namespaces\".\"push_rule_id\", \"namespaces\".\"shared_runners_enabled\", \"namespaces\".\"allow_descendants_override_disabled_shared_runners\", \"namespaces\".\"traversal_ids\" FROM \"namespaces\" WHERE (lower(path) = 'aa1997' OR lower(name) = 'aa1997') LIMIT 1\n/*application:web,correlation_id:01FTDN15WCQ1D7A61ESYSWRR8E,endpoint_id:GET /api/:version/namespaces/:namespace/exists,db_config_name:main*/ SELECT \"namespaces\".\"id\", \"namespaces\".\"name\", \"namespaces\".\"path\", \"namespaces\".\"owner_id\", \"namespaces\".\"created_at\", \"namespaces\".\"updated_at\", \"namespaces\".\"type\", \"namespaces\".\"description\", \"namespaces\".\"avatar\", \"namespaces\".\"membership_lock\", \"namespaces\".\"share_with_group_lock\", \"namespaces\".\"visibility_level\", \"namespaces\".\"request_access_enabled\", \"namespaces\".\"ldap_sync_status\", \"namespaces\".\"ldap_sync_error\", \"namespaces\".\"ldap_sync_last_update_at\", \"namespaces\".\"ldap_sync_last_successful_update_at\", \"namespaces\".\"ldap_sync_last_sync_at\", \"namespaces\".\"description_html\", \"namespaces\".\"lfs_enabled\", \"namespaces\".\"parent_id\", \"namespaces\".\"shared_runners_minutes_limit\", \"namespaces\".\"repository_size_limit\", \"namespaces\".\"require_two_factor_authentication\", \"namespaces\".\"two_factor_grace_period\", \"namespaces\".\"cached_markdown_version\", \"namespaces\".\"project_creation_level\", \"namespaces\".\"runners_token\", \"namespaces\".\"file_template_project_id\", \"namespaces\".\"saml_discovery_token\", \"namespaces\".\"runners_token_encrypted\", \"namespaces\".\"custom_project_templates_group_id\", \"namespaces\".\"auto_devops_enabled\", \"namespaces\".\"extra_shared_runners_minutes_limit\", \"namespaces\".\"last_ci_minutes_notification_at\", \"namespaces\".\"last_ci_minutes_usage_notification_level\", \"namespaces\".\"subgroup_creation_level\", \"namespaces\".\"emails_disabled\", \"namespaces\".\"max_pages_size\", \"namespaces\".\"max_artifacts_size\", \"namespaces\".\"mentions_disabled\", \"namespaces\".\"default_branch_protection\", \"namespaces\".\"unlock_membership_to_ldap\", \"namespaces\".\"max_personal_access_token_lifetime\", \"namespaces\".\"push_rule_id\", \"namespaces\".\"shared_runners_enabled\", \"namespaces\".\"allow_descendants_override_disabled_shared_runners\", \"namespaces\".\"traversal_ids\" FROM \"namespaces\" WHERE (lower(path) = 'aa1998' OR lower(name) = 'aa1998') LIMIT 1\n/*application:web,correlation_id:01FTDN15WCQ1D7A61ESYSWRR8E,endpoint_id:GET /api/:version/namespaces/:namespace/exists,db_config_name:main*/ SELECT \"namespaces\".\"id\", \"namespaces\".\"name\", \"namespaces\".\"path\", \"namespaces\".\"owner_id\", \"namespaces\".\"created_at\", \"namespaces\".\"updated_at\", \"namespaces\".\"type\", \"namespaces\".\"description\", \"namespaces\".\"avatar\", \"namespaces\".\"membership_lock\", \"namespaces\".\"share_with_group_lock\", \"namespaces\".\"visibility_level\", \"namespaces\".\"request_access_enabled\", \"namespaces\".\"ldap_sync_status\", \"namespaces\".\"ldap_sync_error\", \"namespaces\".\"ldap_sync_last_update_at\", \"namespaces\".\"ldap_sync_last_successful_update_at\", \"namespaces\".\"ldap_sync_last_sync_at\", \"namespaces\".\"description_html\", \"namespaces\".\"lfs_enabled\", \"namespaces\".\"parent_id\", \"namespaces\".\"shared_runners_minutes_limit\", \"namespaces\".\"repository_size_limit\", \"namespaces\".\"require_two_factor_authentication\", \"namespaces\".\"two_factor_grace_period\", \"namespaces\".\"cached_markdown_version\", \"namespaces\".\"project_creation_level\", \"namespaces\".\"runners_token\", \"namespaces\".\"file_template_project_id\", \"namespaces\".\"saml_discovery_token\", \"namespaces\".\"runners_token_encrypted\", \"namespaces\".\"custom_project_templates_group_id\", \"namespaces\".\"auto_devops_enabled\", \"namespaces\".\"extra_shared_runners_minutes_limit\", \"namespaces\".\"last_ci_minutes_notification_at\", \"namespaces\".\"last_ci_minutes_usage_notification_level\", \"namespaces\".\"subgroup_creation_level\", \"namespaces\".\"emails_disabled\", \"namespaces\".\"max_pages_size\", \"namespaces\".\"max_artifacts_size\", \"namespaces\".\"mentions_disabled\", \"namespaces\".\"default_branch_protection\", \"namespaces\".\"unlock_membership_to_ldap\", \"namespaces\".\"max_personal_access_token_lifetime\", \"namespaces\".\"push_rule_id\", \"namespaces\".\"shared_runners_enabled\", \"namespaces\".\"allow_descendants_override_disabled_shared_runners\", \"namespaces\".\"traversal_ids\" FROM \"namespaces\" WHERE (lower(path) = 'aa1999' OR lower(name) = 'aa1999') LIMIT 1\n/*application:web,correlation_id:01FTDN15WCQ1D7A61ESYSWRR8E,endpoint_id:GET /api/:version/namespaces/:namespace/exists,db_config_name:main*/ SELECT \"namespaces\".\"id\", \"namespaces\".\"name\", \"namespaces\".\"path\", \"namespaces\".\"owner_id\", \"namespaces\".\"created_at\", \"namespaces\".\"updated_at\", \"namespaces\".\"type\", \"namespaces\".\"description\", \"namespaces\".\"avatar\", \"namespaces\".\"membership_lock\", \"namespaces\".\"share_with_group_lock\", \"namespaces\".\"visibility_level\", \"namespaces\".\"request_access_enabled\", \"namespaces\".\"ldap_sync_status\", \"namespaces\".\"ldap_sync_error\", \"namespaces\".\"ldap_sync_last_update_at\", \"namespaces\".\"ldap_sync_last_successful_update_at\", \"namespaces\".\"ldap_sync_last_sync_at\", \"namespaces\".\"description_html\", \"namespaces\".\"lfs_enabled\", \"namespaces\".\"parent_id\", \"namespaces\".\"shared_runners_minutes_limit\", \"namespaces\".\"repository_size_limit\", \"namespaces\".\"require_two_factor_authentication\", \"namespaces\".\"two_factor_grace_period\", \"namespaces\".\"cached_markdown_version\", \"namespaces\".\"project_creation_level\", \"namespaces\".\"runners_token\", \"namespaces\".\"file_template_project_id\", \"namespaces\".\"saml_discovery_token\", \"namespaces\".\"runners_token_encrypted\", \"namespaces\".\"custom_project_templates_group_id\", \"namespaces\".\"auto_devops_enabled\", \"namespaces\".\"extra_shared_runners_minutes_limit\", \"namespaces\".\"last_ci_minutes_notification_at\", \"namespaces\".\"last_ci_minutes_usage_notification_level\", \"namespaces\".\"subgroup_creation_level\", \"namespaces\".\"emails_disabled\", \"namespaces\".\"max_pages_size\", \"namespaces\".\"max_artifacts_size\", \"namespaces\".\"mentions_disabled\", \"namespaces\".\"default_branch_protection\", \"namespaces\".\"unlock_membership_to_ldap\", \"namespaces\".\"max_personal_access_token_lifetime\", \"namespaces\".\"push_rule_id\", \"namespaces\".\"shared_runners_enabled\", \"namespaces\".\"allow_descendants_override_disabled_shared_runners\", \"namespaces\".\"traversal_ids\" FROM \"namespaces\" WHERE (lower(path) = 'aa2000' OR lower(name) = 'aa2000') LIMIT 1\n```\n\n\u003c/details\u003e\n\n### Output of checks\n\nThis bug happens on GitLab.com\n\n### Possible fixes\n\n[Line of code responsible](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/models/namespace.rb#L234)\n\nAgain this should be happening in pgsql rather than issuing a query for each iteration.\n\n---\n\n\u003c!-- Do not edit past here unless you are certain of the impact --\u003e\n\ncc @gitlab-com/gl-security/appsec","state":"closed","created_at":"2022-07-04T14:58:32.058Z","updated_at":"2022-09-21T12:02:33.310Z","closed_at":"2022-08-31T08:17:14.283Z","closed_by":{"id":4093067,"username":"manojmj","name":"Manoj M J","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4093067/avatar.png","web_url":"https://gitlab.com/manojmj"},"labels":["Deliverable","availability::limit","backend","bug::availability","devops::manage","group::organization","milestone::p1","organization-error-budget","section::dev","security","type::bug","workflow::production"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":4093067,"username":"manojmj","name":"Manoj M J","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4093067/avatar.png","web_url":"https://gitlab.com/manojmj"}],"author":{"id":4503278,"username":"elise","name":"Elise M","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4503278/avatar.png","web_url":"https://gitlab.com/elise"},"type":"ISSUE","assignee":{"id":4093067,"username":"manojmj","name":"Manoj M J","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4093067/avatar.png","web_url":"https://gitlab.com/manojmj"},"user_notes_count":16,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/366822","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/366822","notes":"https://gitlab.com/api/v4/projects/278964/issues/366822/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/366822/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#366822","relative":"#366822","full":"gitlab-org/gitlab#366822"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7832,"epic":{"id":490986,"iid":7832,"title":"Error budget: Improve performance of organization owned endpoints","url":"/groups/gitlab-org/-/epics/7832","group_id":9970,"human_readable_end_date":"Mar 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e months remaining"},"iteration":null,"health_status":null},{"id":111121002,"iid":366813,"project_id":278964,"title":"Update the docs and CI schema for the new syntax of `rules: changes`","description":"\u003c!--\n## Implementation Issue To-Do list \n(_NOTE: This section can be removed when the issue is ready for creation_)\n- [ ] Ensure that issue title is concise yet descriptive\n- [ ] Add `Frontend :` or `Backend: ` per group [naming conventions](https://about.gitlab.com/handbook/engineering/development/ops/verify/pipeline-authoring/#splitting-issues)\n- [ ] Ensure the issue containing the feature or change proposal and related discussions is linked as related to this implementation issue.\n- [ ] Aside from default labeling, please make sure to include relevant labels for `type::`, `workflow::`, and `~frontend`/`~backend` labeling.\n- [ ] Issues with user-facing changes should include the `~UX` label.\n--\u003e\n\n## Summary\nWith `rules: changes` being updated in https://gitlab.com/gitlab-org/gitlab/-/issues/293645, it is important that our ~documentation reflects these changes so users are informed of that.\n\n## Proposal\n\nAs a follow-up to https://gitlab.com/gitlab-org/gitlab/-/issues/293645, we need to update the docs with the new syntax so that it reflects how `rules: changes` should be used.\n\n## Implementation Table\n\n\u003c!--\n_NOTE: If the issue is not part of an epic, the implementation table can be removed. If it is part of an epic, make sure that the implementation table below mirrors the corresponding epic's implementation table content._\n--\u003e\n\n\n| Group | Issue Link |\n| ------ | ------ |\n| ~backend | [Backend: rules:changes / only:changes and new branches](https://gitlab.com/gitlab-org/gitlab/-/issues/293645) |\n| ~documentation | :point_left: You are here |\n\n\u003c!--\n## Documentation \n\n_NOTE: This section is optional, but can be used for easy access to any relevant documentation URLs._\n--\u003e\n\n## Links/References","state":"closed","created_at":"2022-07-04T12:00:04.273Z","updated_at":"2022-08-05T15:35:54.521Z","closed_at":"2022-08-05T11:42:29.067Z","closed_by":{"id":3946912,"username":"lauraX","name":"Laura Montemayor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3946912/avatar.png","web_url":"https://gitlab.com/lauraX"},"labels":["Category:Pipeline Authoring","SUS::Impacting","automation:ml","backend","backend-weight::1","customer","devops::verify","documentation","feature::enhancement","group::pipeline authoring","monorepo","priority::3","production request","release post item::in review","section::ops","severity::3","type::feature","workflow::production"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":3946912,"username":"lauraX","name":"Laura Montemayor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3946912/avatar.png","web_url":"https://gitlab.com/lauraX"}],"author":{"id":3946912,"username":"lauraX","name":"Laura Montemayor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3946912/avatar.png","web_url":"https://gitlab.com/lauraX"},"type":"ISSUE","assignee":{"id":3946912,"username":"lauraX","name":"Laura Montemayor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3946912/avatar.png","web_url":"https://gitlab.com/lauraX"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/366813","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":5,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 5 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/366813","notes":"https://gitlab.com/api/v4/projects/278964/issues/366813/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/366813/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#366813","relative":"#366813","full":"gitlab-org/gitlab#366813"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":{"id":61385,"iid":74,"sequence":21,"group_id":9970,"title":null,"description":null,"state":3,"created_at":"2022-05-29T00:05:02.022Z","updated_at":"2022-08-08T00:05:02.229Z","start_date":"2022-07-25","due_date":"2022-08-07","web_url":"https://gitlab.com/groups/gitlab-org/-/iterations/61385"},"health_status":null},{"id":111115699,"iid":366808,"project_id":278964,"title":"[Feature flag] Rollout of `container_registry_show_shortened_path`","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n## Summary\n\nThis issue is to rollout [the feature](#364290) on production,\nthat is currently behind the `container_registry_show_shortened_path` feature flag.\n\n## Status\n\nAnalysis from https://gitlab.com/gitlab-data/product-analytics/-/issues/706 shows us we can remove the feature flag and make this a permanent feature\n\n\u003c!-- Short description of what the feature is about and link to relevant other issues. --\u003e\n\n## Owners\n\n- Team: Package\n- Most appropriate slack channel to reach out to: `#s_package`\n- Best individual to reach out to: `@rchanila` `@katiemacoy`\n- PM: `@trizzi`\n\n## Stakeholders\n\n\u003c!--\nAre there any other stages or teams involved that need to be kept in the loop?\n\n- Name of a PM\n- The Support Team\n- The Delivery Team\n--\u003e\n\n## Expectations\n\n### What are we expecting to happen?\n\nWithin the container registry, display an image's shortened path with an option to expand \n\n### When is the feature viable?\n\nThe criteria for decision:\n\nIgnore data for the first month that users are exposed to the feature (as they may click to discover what the feature is). After 1 month, analyze data to see:\n\n* If 20% or less click the ellipsis button, we can roll this feature to everyone\n* If 21% - 40% click the ellipsis button, we need to do further research (qual)\n* If 40% or more click the ellipsis button, we need to roll back and remove this feature\n\nThis is being tracked by https://gitlab.com/gitlab-org/gitlab/-/issues/371630+\n\n### What might happen if this goes wrong?\n\nIt should default back to showing the full path\n\n### What can we monitor to detect problems with this?\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? --\u003e\n_Consider mentioning checks for 5xx errors or other anomalies like an increase in redirects \n(302 HTTP response status)_\n\n### What can we check for monitoring production after rollouts?\n\n_Consider adding links to check for Sentry errors, Production logs for 5xx, 302s, etc._\n\n## Rollout Steps\n\n### Rollout on non-production environments\n\n- Ensure that the feature MRs have been deployed to non-production environments.\n    - [x] `/chatops run auto_deploy status 963969eb62f5c20d23fa2de4fcbbc9a83b0356b3`\n- [x] Enable the feature globally on non-production environments.\n    - [x] `/chatops run feature set container_registry_show_shortened_path true --dev --staging --staging-ref`\n- [x] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n      The best environment to validate the feature in is [staging-canary](https://about.gitlab.com/handbook/engineering/infrastructure/environments/#staging-canary)\n      as this is the first environment deployed to. Note you will need to make sure you are configured to use canary as outlined [here](https://about.gitlab.com/handbook/engineering/infrastructure/environments/canary-stage/)\n      when accessing the staging environment in order to make sure you are testing appropriately.\n![Screen_Shot_2022-07-13_at_1.01.31_pm](/uploads/92a3339ca44c6189657779ac998d58f4/Screen_Shot_2022-07-13_at_1.01.31_pm.png) ![Screen_Shot_2022-07-13_at_1.03.40_pm](/uploads/79b071f4dfe8b7fa1e376a95769676c0/Screen_Shot_2022-07-13_at_1.03.40_pm.png)\n\n### Specific rollout on production\n\n- Ensure that the feature MRs have been deployed to both production and canary.\n    - [x] `/chatops run auto_deploy status 963969eb62f5c20d23fa2de4fcbbc9a83b0356b3`\n- If you're using [project-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [x] `/chatops run feature set --project=gitlab-org/gitlab,gitlab-org/gitlab-foss,gitlab-com/www-gitlab-com container_registry_show_shortened_path true`\n- If you're using [group-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [x] `/chatops run feature set --group=gitlab-org,gitlab-com container_registry_show_shortened_path true`\n- If you're using [user-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [ ] `/chatops run feature set --user=\u003cyour-username\u003e container_registry_show_shortened_path true`\n- [x] Verify that the feature works on the specific entries. Posting the QA result in this issue is preferable.\n![Screen_Shot_2022-07-13_at_1.46.30_pm](/uploads/ba940bd014afe0dc2a40648b2a8736e2/Screen_Shot_2022-07-13_at_1.46.30_pm.png)\n\n### Preparation before global rollout\n\n- [x] Check if the feature flag change needs to be accompanied with a\n  [change management issue](https://about.gitlab.com/handbook/engineering/infrastructure/change-management/#feature-flags-and-the-change-management-process).\n  Cross link the issue here if it does.\n- [x] Ensure that you or a representative in development can be available for at least 2 hours after feature flag updates in production.\n  If a different developer will be covering, or an exception is needed, please inform the oncall SRE by using the `@sre-oncall` Slack alias.\n- [x] Ensure that documentation has been updated ([More info](https://docs.gitlab.com/ee/development/documentation/feature_flags.html#features-that-became-enabled-by-default)).\n- [x] Announce on [the feature issue](ISSUE LINK) an estimated time this will be enabled on GitLab.com. \n- [x] Ensure that any breaking changes have been announced following the [release post process](https://about.gitlab.com/handbook/marketing/blog/release-posts/#deprecations-removals-and-breaking-changes) to ensure GitLab customers are aware.\n- [x] Notify `#support_gitlab-com` and your team channel ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#communicate-the-change)).\n\n### Global rollout on production\n\nFor visibility, all `/chatops` commands that target production should be executed in the `#production` slack channel and cross-posted (with the command results) to the responsible team's slack channel (`#s_package`).\n\n- [x] [Incrementally roll out](https://docs.gitlab.com/ee/development/feature_flags/controls.html#process) the feature.\n  - If the feature flag in code has [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform **actor-based** rollout.\n    - [x] `/chatops run feature set container_registry_show_shortened_path \u003crollout-percentage\u003e --actors`\n  - If the feature flag in code does **NOT** have [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform time-based rollout (**random** rollout).\n    - [ ] `/chatops run feature set container_registry_show_shortened_path \u003crollout-percentage\u003e --random`\n  - Enable the feature globally on production environment.\n    - [ ] `/chatops run feature set container_registry_show_shortened_path true`\n- [x] Announce on [the feature issue](ISSUE LINK) that the feature has been globally enabled.\n- [x] Wait for [at least one day for the verification term](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release).\n\n### (Optional) Release the feature with the feature flag\n\nIf you're still unsure whether the feature is [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release)\nbut want to release it in the current milestone, you can change the default state of the feature flag to be enabled.\nTo do so, follow these steps:\n\n- [ ] Create a merge request with the following changes. Ask for review and merge it.\n    - [ ] Set the `default_enabled` attribute in [the feature flag definition](https://docs.gitlab.com/ee/development/feature_flags/#feature-flag-definition-and-validation) to `true`.\n    - [ ] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the default-enabling MR has been included in the release package.\n      If the merge request was deployed before [the monthly release was tagged](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run release check \u003cmerge-request-url\u003e \u003cmilestone\u003e`\n- [ ] Consider cleaning up the feature flag from all environments by running these chatops command in `#production` channel. Otherwise these settings may override the default enabled.\n    - [ ] `/chatops run feature delete container_registry_show_shortened_path --dev --staging --staging-ref --production`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [ ] Set the next milestone to this rollout issue for scheduling [the flag removal](#release-the-feature).\n- [ ] (Optional) You can [create a separate issue](https://gitlab.com/gitlab-org/gitlab/-/issues/new?issuable_template=Feature%20Flag%20Cleanup) for scheduling the steps below to [Release the feature](#release-the-feature).\n    - [ ] Set the title to \"[Feature flag] Cleanup `container_registry_show_shortened_path`\".\n    - [ ] Execute the `/copy_metadata \u003cthis-rollout-issue-link\u003e` quick action to copy the labels from this rollout issue.\n    - [ ] Link this rollout issue as a related issue.\n    - [ ] Close this rollout issue.\n\n**WARNING:** This approach has the downside that it makes it difficult for us to\n[clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) the flag.\nFor example, on-premise users could disable the feature on their GitLab instance. But when you\nremove the flag at some point, they suddenly see the feature as enabled and they can't roll it back\nto the previous behavior. To avoid this potential breaking change, use this approach only for urgent\nmatters.\n\n### Release the feature\n\nAfter the feature has been [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release),\nthe [clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up)\nshould be done as soon as possible to permanently enable the feature and reduce complexity in the\ncodebase.\n\nYou can either [create a follow-up issue for Feature Flag Cleanup](https://gitlab.com/gitlab-org/gitlab/-/issues/new?issuable_template=Feature%20Flag%20Cleanup) or use the checklist below in this same issue.\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [x] Create a merge request to remove `container_registry_show_shortened_path` feature flag. Ask for review and merge it.\n    - [x] Remove all references to the feature flag from the codebase.\n    - [x] Remove the YAML definitions for the feature from the repository.\n    - [x] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [x] Ensure that the cleanup MR has been included in the release package.\n      If the merge request was deployed before [the monthly release was tagged](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [x] `/chatops run release check \u003cmerge-request-url\u003e \u003cmilestone\u003e`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [x] If not already done, clean up the feature flag from all environments by running these chatops command in `#production` channel:\n    - [x] `/chatops run feature delete container_registry_show_shortened_path --dev --staging --staging-ref --production`\n- [x] Close this rollout issue.\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set container_registry_show_shortened_path false\n```","state":"closed","created_at":"2022-07-04T10:13:38.854Z","updated_at":"2022-11-21T12:04:52.193Z","closed_at":"2022-11-04T01:17:51.797Z","closed_by":{"id":11214192,"username":"rchanila","name":"Rahul Chanila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11214192/avatar.png","web_url":"https://gitlab.com/rchanila"},"labels":["Category:Container Registry","Deliverable","Package:P1","Track Health Status","devops::package","feature flag","feature::addition","frontend","frontend-weight::1","group::container registry","missed-deliverable","missed:15.3","missed:15.4","section::ops","type::feature","workflow::verification"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":11214192,"username":"rchanila","name":"Rahul Chanila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11214192/avatar.png","web_url":"https://gitlab.com/rchanila"}],"author":{"id":11214192,"username":"rchanila","name":"Rahul Chanila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11214192/avatar.png","web_url":"https://gitlab.com/rchanila"},"type":"ISSUE","assignee":{"id":11214192,"username":"rchanila","name":"Rahul Chanila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11214192/avatar.png","web_url":"https://gitlab.com/rchanila"},"user_notes_count":38,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/366808","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":46,"completed_count":27},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"27 of 46 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/366808","notes":"https://gitlab.com/api/v4/projects/278964/issues/366808/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/366808/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#366808","relative":"#366808","full":"gitlab-org/gitlab#366808"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":111040725,"iid":366760,"project_id":278964,"title":"Expand the Dependency Proxy test suite to include authentication with various tokens","description":"### Context\n\nIn https://gitlab.com/gitlab-org/gitlab/-/issues/332411, we encountered a bug with the Dependency Proxy in which project access tokens were not working as an authentication mechanism. \n\n### Problem to solve\n\nThis is the sort of behavior that can be tested as part of the [Dependency Proxy functional tests](https://gitlab.com/gitlab-org/gitlab/-/blob/master/qa/qa/specs/features/browser_ui/5_package/dependency_proxy/dependency_proxy_spec.rb). \n\n### Proposal\n\nExpand the Dependency Proxy tests to include authenticating with project access tokens, personal access tokens, and deploy tokens.","state":"closed","created_at":"2022-07-01T20:26:26.970Z","updated_at":"2022-09-19T18:19:46.819Z","closed_at":"2022-08-16T07:42:14.629Z","closed_by":{"id":4763342,"username":"svistas","name":"Sofia Vistas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4763342/avatar.png","web_url":"https://gitlab.com/svistas"},"labels":["Category:Dependency Proxy","Deliverable","Package:P1","backend","devops::package","group::package registry","reliability","ruby","section::ops","type::maintenance","workflow::in review"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":4763342,"username":"svistas","name":"Sofia Vistas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4763342/avatar.png","web_url":"https://gitlab.com/svistas"}],"author":{"id":3799560,"username":"trizzi","name":"Tim Rizzi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3799560/avatar.png","web_url":"https://gitlab.com/trizzi"},"type":"ISSUE","assignee":{"id":4763342,"username":"svistas","name":"Sofia Vistas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4763342/avatar.png","web_url":"https://gitlab.com/svistas"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/366760","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/366760","notes":"https://gitlab.com/api/v4/projects/278964/issues/366760/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/366760/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#366760","relative":"#366760","full":"gitlab-org/gitlab#366760"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":111040723,"iid":366759,"project_id":278964,"title":"Add warning modal when a DAST profile has unsaved changes","description":"### Problem to Solve\nFrom: https://gitlab.com/gitlab-org/gitlab/-/issues/351476#note_995826126\n\n\u003e With the new edit side panel, you can `edit a profile` and during editing, click `select scanner profile` which will close the sidebar and you lose your edits. Would this be a good opportunity to bring in a cancellation confirmation dialogue? I'm not sure if this is a case that the user would want to confirm they want to lose their changes considering the form is shorter. I noticed the same when you start the form to enable `DAST CI/CD configuration` and then click on one of the navigation items. I would definitely consider adding a confirmation dialogue here since they could be adding new profiles at the same time and could lose a lot of work!\n\n### Proposal \nAdd a modal warning users when they have unsaved changes. \n- The modal should be displayed wherever site profiles or scanner profiles can be created or edited\n   - On-demand scan configuration page\n   - DAST CI/CD configuration page\n   - DAST profile library (replace existing modal)\n\n[🎨 Design file (Figma)](https://www.figma.com/file/o6NoqgLnxv0KnK2y9Qum51/DAST-Configuration-UI?node-id=3299%3A213133)\n\n![DAST_config_-_enabled_-_edit_scan_-_unsaved_changes_warning](/uploads/dd793808d52984c3ac835502ac6868b2/DAST_config_-_enabled_-_edit_scan_-_unsaved_changes_warning.png)","state":"closed","created_at":"2022-07-01T20:25:58.809Z","updated_at":"2022-09-05T03:23:12.860Z","closed_at":"2022-09-01T12:12:54.459Z","closed_by":{"id":10762712,"username":"arfedoro","name":"Artur Fedorov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10762712/avatar.png","web_url":"https://gitlab.com/arfedoro"},"labels":["Category:DAST","UX","devops::secure","feature::enhancement","group::dynamic analysis","missed:15.3","on-demand scan","section::sec","type::feature"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":10762712,"username":"arfedoro","name":"Artur Fedorov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10762712/avatar.png","web_url":"https://gitlab.com/arfedoro"}],"author":{"id":8655314,"username":"mfangman","name":"Michael Fangman","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8655314/avatar.png","web_url":"https://gitlab.com/mfangman"},"type":"ISSUE","assignee":{"id":10762712,"username":"arfedoro","name":"Artur Fedorov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10762712/avatar.png","web_url":"https://gitlab.com/arfedoro"},"user_notes_count":11,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/366759","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/366759","notes":"https://gitlab.com/api/v4/projects/278964/issues/366759/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/366759/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#366759","relative":"#366759","full":"gitlab-org/gitlab#366759"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8372,"epic":{"id":565704,"iid":8372,"title":"On-demand DAST configuration improvements","url":"/groups/gitlab-org/-/epics/8372","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":null},{"id":110985995,"iid":366687,"project_id":278964,"title":"Work Items - Tasks First Time Experience","description":"\u003c!-- This issue template can be used as a great starting point for feature requests. The section \"Release notes\" can be used as a summary of the feature and is also required if you want to have your release post blog MR auto generated using the release post item generator:  https://about.gitlab.com/handbook/marketing/blog/release-posts/#release-post-item-generator. The remaining sections are the backbone for every feature in GitLab.\n\nThe goal of this template is brevity for quick/smaller iterations. For a more thorough list of considerations for larger features or feature sets, you can leverage the detailed [feature proposal](https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Feature%20proposal%20-%20detailed.md). --\u003e\n\n### Release notes\n\n\u003c!-- What is the problem and solution you're proposing? This content sets the overall vision for the feature and serves as the release notes that will populate in various places, including the [release post blog](https://about.gitlab.com/releases/categories/releases/) and [Gitlab project releases](https://gitlab.com/gitlab-org/gitlab/-/releases). \" --\u003e\n\n### Problem to solve\n\nWe want to explain to users why Tasks have a different UI and give them more information about the Work Items roadmap.\n\n### Proposal\n\nAdd an alert at the top of Task views (modal or page) the first time any Task is accessed (either creating their own or accessing one already created). This should appear only the first access and not appear in subsequent access.\n\nAlert detail\n\n- Variant: tip\n- Title: Introducing tasks\n- Body: A task provides the ability to break down your work into smaller pieces tied to an issue. Tasks are the first items using our new [work items](https://docs.gitlab.com/ee/development/work_items.html) objects. Additional work item types will be coming soon.\n- Actions: [Learn about tasks](https://docs.gitlab.com/ee/user/tasks.html)\n\nSee  https://gitlab.com/gitlab-org/gitlab/-/issues/366211#note_1012512149 \n\n### Intended users\n\n\u003c!-- Who will use this feature? If known, include any of the following: types of users (e.g. Developer), personas, or specific company roles (e.g. Release Manager). It's okay to write \"Unknown\" and fill this field in later.\n\nPersonas are described at https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/\n\n* [Cameron (Compliance Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#cameron-compliance-manager)\n* [Parker (Product Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#parker-product-manager)\n* [Delaney (Development Team Lead)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#delaney-development-team-lead)\n* [Presley (Product Designer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#presley-product-designer)\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Priyanka (Platform Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#priyanka-platform-engineer)\n* [Sidney (Systems Administrator)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sidney-systems-administrator)\n* [Sam (Security Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sam-security-analyst)\n* [Rachel (Release Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#rachel-release-manager)\n* [Alex (Security Operations Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#alex-security-operations-engineer)\n* [Simone (Software Engineer in Test)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#simone-software-engineer-in-test)\n* [Allison (Application Ops)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#allison-application-ops)\n* [Ingrid (Infrastructure Operator)](https://about.gitlab.com/handbook/product/personas/#ingrid-infrastructure-operator)\n* [Dakota (Application Development Director)](https://about.gitlab.com/handbook/product/personas/#dakota-application-development-director)\n* [Dana (Data Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#dana-data-analyst)\n* [Eddie (Content Editor)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#eddie-content-editor)\n--\u003e\n\n### Feature Usage Metrics\n\n\u003c!-- How are you going to track usage of this feature? Think about user behavior and their interaction with the product. What indicates someone is getting value from it?\n\nCreate tracking issue using the Snowplow event tracking template. See https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Snowplow%20event%20tracking.md\n\n--\u003e\n\n\u003c!-- Label reminders\nUse the following resources to find the appropriate labels:\n- https://gitlab.com/gitlab-org/gitlab/-/labels\n- https://about.gitlab.com/handbook/product/categories/features/\n--\u003e\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2022-06-30T20:26:45.868Z","updated_at":"2022-07-25T22:36:28.586Z","closed_at":"2022-07-18T21:46:29.182Z","closed_by":{"id":4303289,"username":"gweaver","name":"Gabe Weaver","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4303289/avatar.png","web_url":"https://gitlab.com/gweaver"},"labels":["GitLab Free","GitLab Premium","GitLab Ultimate","SUS::Impacting","Technical Writing","UI text","automation:ux-missing-labels","devops::plan","direction","documentation","group::project management","section::dev","type::feature","workflow::verification"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":11392688,"username":"nickleonard","name":"Nick Leonard","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11392688/avatar.png","web_url":"https://gitlab.com/nickleonard"},{"id":11701495,"username":"deepika.guliani","name":"Deepika Guliani","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11701495/avatar.png","web_url":"https://gitlab.com/deepika.guliani"}],"author":{"id":5709669,"username":"mushakov","name":"Melissa Ushakov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5709669/avatar.png","web_url":"https://gitlab.com/mushakov"},"type":"ISSUE","assignee":{"id":11392688,"username":"nickleonard","name":"Nick Leonard","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11392688/avatar.png","web_url":"https://gitlab.com/nickleonard"},"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/366687","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/366687","notes":"https://gitlab.com/api/v4/projects/278964/issues/366687/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/366687/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#366687","relative":"#366687","full":"gitlab-org/gitlab#366687"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8297,"epic":{"id":552836,"iid":8297,"title":"Tasks Short Term Cleanup","url":"/groups/gitlab-org/-/epics/8297","group_id":9970,"human_readable_end_date":"Oct 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":110981668,"iid":366681,"project_id":278964,"title":"Move `BulkInsertableTask` and `BulkUpdatableTask` to generic locations","description":"\u003c!--\nImplementation issues are used break-up a large piece of work into small, discrete tasks that can\nmove independently through the build workflow steps. They're typically used to populate a Feature\nEpic. Once created, an implementation issue is usually refined in order to populate and review the\nimplementation plan and weight.\nExample workflow: https://about.gitlab.com/handbook/engineering/development/threat-management/planning/diagram.html#plan\n--\u003e\n\n## Why are we doing this work\n\u003c!--\nA brief explanation of the why, not the what or how. Assume the reader doesn't know the\nbackground and won't have time to dig-up information from comment threads.\n--\u003e\n\nTo facilitate the creation of the [SBoM ingestion service](https://gitlab.com/gitlab-org/gitlab/-/issues/364709),\nwe need to move [BulkInsertableTask](https://gitlab.com/gitlab-org/gitlab/-/blob/1765db362f96e820897af8483ac7a6c4810644b1/ee/app/services/security/ingestion/bulk_insertable_task.rb)\nand [BulkUpdatableTask](https://gitlab.com/gitlab-org/gitlab/-/blob/1765db362f96e820897af8483ac7a6c4810644b1/ee/app/services/security/ingestion/bulk_updatable_task.rb)\nto generic locations so that they may be used by multiple services.\n\n## Relevant links\n\u003c!--\nInformation that the developer might need to refer to when implementing the issue.\n\n- [Design Issue](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e)\n  - [Design 1](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e/designs/\u003cimage\u003e.png)\n  - [Design 2](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e/designs/\u003cimage\u003e.png)\n- [Similar implementation](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/\u003cid\u003e)\n--\u003e\n\nhttps://gitlab.com/groups/gitlab-org/-/epics/8024, which is a portion of https://gitlab.com/groups/gitlab-org/-/epics/7886\n\n## Non-functional requirements\n\u003c!--\nAdd details for required items and delete others.\n--\u003e\n\n- [ ] Documentation:\n- [ ] Feature flag:\n- [ ] Performance:\n- [ ] Testing:\n\n\n## Implementation plan\n\u003c!--\nSteps and the parts of the code that will need to get updated. The plan can also\ncall-out responsibilities for other team members or teams.\n\ne.g.:\n\n- [ ] ~frontend Step 1\n  - [ ] `@person` Step 1a\n- [ ] ~frontend Step 2\n\n--\u003e\n\n\n1. Move `AbstractTask`, `BulkInsertableTask`, and `BulkUpdatableTask` to a generic location such as `lib/gitlab/database/tasks/`\n2. Rename `BulkInsertableTask#after_ingest` to `BulkInsertableTask#after_insert`\n\n\u003c!--\nWorkflow and other relevant labels\n\n# ~\"group::\" ~\"Category:\" ~\"GitLab Ultimate\"\nOther settings you might want to include when creating the issue.\n\n# /assign @\n# /epic \u0026\n--\u003e\n\n## Verification steps\n\u003c!--\nAdd verification steps to help GitLab team members test the implementation. This is particularly useful\nduring the MR review and the ~\"workflow::verification\" step. You may not know exactly what the\nverification steps should be during issue refinement, so you can always come back later to add\nthem.\n\n1. Check-out the corresponding branch\n1. ...\n1. Profit!\n--\u003e","state":"closed","created_at":"2022-06-30T18:29:23.873Z","updated_at":"2022-07-12T17:58:05.413Z","closed_at":"2022-07-12T17:58:05.395Z","closed_by":{"id":8953999,"username":"bwill","name":"Brian Williams","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8953999/avatar.png","web_url":"https://gitlab.com/bwill"},"labels":["Enterprise Edition","GitLab Ultimate","WorkingGroup::ContinuousScanning","backend","devops::govern","group::security policies","maintenance::refactor","section::sec","type::maintenance","workflow::verification"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":8953999,"username":"bwill","name":"Brian Williams","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8953999/avatar.png","web_url":"https://gitlab.com/bwill"}],"author":{"id":8953999,"username":"bwill","name":"Brian Williams","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8953999/avatar.png","web_url":"https://gitlab.com/bwill"},"type":"ISSUE","assignee":{"id":8953999,"username":"bwill","name":"Brian Williams","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8953999/avatar.png","web_url":"https://gitlab.com/bwill"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/366681","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":7,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 7 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/366681","notes":"https://gitlab.com/api/v4/projects/278964/issues/366681/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/366681/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#366681","relative":"#366681","full":"gitlab-org/gitlab#366681"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8024,"epic":{"id":518303,"iid":8024,"title":"Ingest SBOM reports","url":"/groups/gitlab-org/-/epics/8024","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":110978908,"iid":366677,"project_id":278964,"title":"Investigate License Compliance policy issue","description":"### Summary\n\nUser reported issues with managing their license compliance policies. A workaround was proposed but it didn't solve the user's problems. This issue is to investigate the workaround and whether it works or whether there is a deeper bug with policy application.\n\nThis is the discussion thread: https://gitlab.com/gitlab-com/account-management/emea/walkme/-/issues/49#note_1000541209\n\n### Steps to reproduce\n\n1. Setup a new nodejs project.\n2. Add the license scanning template to the project.\n3. Enable [License Approvals](https://docs.gitlab.com/ee/user/compliance/license_compliance/#enabling-license-approvals-within-a-project) for the project.\n4. Create and merge an MR that adds `node-forge` to the project dependencies `npm i node-forge`.\n5. After the merge create a [software license policy](https://docs.gitlab.com/ee/user/compliance/license_compliance/#policies) that denies one of the licenses. For example, you can create a `denied` policy for `GNU General Public License v2.0 only`.\n6. Create and merge an MR that _removes_ node-forge. This is required to test the error case in the next step.\n7. Create a new MR that adds `node-forge` and uses this [`.gitlab-ci.yml`](https://gitlab.com/hacks4oats/issue-366677/-/raw/85374f7b85c31d00bba8ee8683781e9b44316c55/.gitlab-ci.yml) content. **Do not merge**.\n8. Create a `gl-license-scanning-report.json` file inside of a `testdata/` directory that contains this [test report](https://gitlab.com/hacks4oats/issue-366677/-/blob/d13431901d37ba229b66eb66f85b7aa217abfc21/testdata/gl-license-scanning-report.json).\n9. Verify that the merge request widget now blocks the merge request. ![merge request blocked by license not in use by any dependency](/uploads/11ab35bdcc132e603734b3c1c6192538/Screen_Shot_2022-08-22_at_6.29.21_PM.png)\n10. Creating a new [commit](https://gitlab.com/hacks4oats/issue-366677/-/merge_requests/3/diffs?commit_id=346459e0e45efd8949e8e93285d54971fb85e878) that removes the `GNU General Public License v2.0 only` license entry from the `licenses` array allows the merge request to proceed. ![the unused license is removed from the licenses listing and the MR is now fixed](/uploads/60914299bd33b30c859757ff72f4e0ab/Screen_Shot_2022-08-22_at_6.38.07_PM.png).\n\n### Example Project\n\nhttps://gitlab.com/hacks4oats/issue-366677+\n\n### Possible fixes\n\n- Create a small script or program that removes a license from the licenses array if it is not used by a dependency.\n- Update license-finder to utilize a list of package and licenses combinations that have an exception approved. License-Finder can then prune the licenses of any unused licenses after taking into account the exception list. There should be some caution when considering this since it allows the policy enforcement to be circumvented by anyone who can commit to the repository.","state":"closed","created_at":"2022-06-30T17:10:07.445Z","updated_at":"2022-09-21T12:06:41.225Z","closed_at":"2022-08-23T15:12:03.080Z","closed_by":{"id":5292351,"username":"sam.white","name":"Sam White","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d467fb024d1858d279e6a36e028436ac?s=80\u0026d=identicon","web_url":"https://gitlab.com/sam.white"},"labels":["Category:License Compliance","Deliverable","backend","devops::secure","group::composition analysis","priority::2","section::sec","severity::2","type::bug","workflow::refinement"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":11279441,"username":"hacks4oats","name":"Oscar Tovar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11279441/avatar.png","web_url":"https://gitlab.com/hacks4oats"}],"author":{"id":4668304,"username":"ifrenkel","name":"Igor Frenkel","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a73e8113c53ac25297ce751e59bbb1d3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ifrenkel"},"type":"ISSUE","assignee":{"id":11279441,"username":"hacks4oats","name":"Oscar Tovar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11279441/avatar.png","web_url":"https://gitlab.com/hacks4oats"},"user_notes_count":12,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/366677","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/366677","notes":"https://gitlab.com/api/v4/projects/278964/issues/366677/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/366677/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#366677","relative":"#366677","full":"gitlab-org/gitlab#366677"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":"on_track"},{"id":110976287,"iid":366665,"project_id":278964,"title":"Refactor security config spec to use mountExtended","description":"\u003e FYI - I think `extendedWrapper` was introduced first and `mountExtended` was added at a later point, but it seems to be the way-to-go now: https://docs.gitlab.com/ee/development/testing_guide/frontend_testing.html#how-to-query-dom-elements\n\u003e \nAlso switching over to `mountExtended` will require some additional changes.\n\u003e \n\u003e It should be just a of replacing the `extendWrapper(mount(...` call. When [trying it out locally](https://gitlab.com/gitlab-org/gitlab/uploads/8e798a459c20303000c8739371530577/extended_mount.patch) it seemed to work, but I might be missing something :thinking:","state":"closed","created_at":"2022-06-30T16:11:24.613Z","updated_at":"2022-07-06T11:28:53.910Z","closed_at":"2022-07-06T11:28:53.892Z","closed_by":{"id":3993566,"username":"sming-gitlab","name":"Samantha Ming","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3993566/avatar.png","web_url":"https://gitlab.com/sming-gitlab"},"labels":["devops::secure","frontend","group::threat insights","maintenance::refactor","section::sec","type::maintenance","workflow::in dev"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":3993566,"username":"sming-gitlab","name":"Samantha Ming","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3993566/avatar.png","web_url":"https://gitlab.com/sming-gitlab"}],"author":{"id":3993566,"username":"sming-gitlab","name":"Samantha Ming","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3993566/avatar.png","web_url":"https://gitlab.com/sming-gitlab"},"type":"ISSUE","assignee":{"id":3993566,"username":"sming-gitlab","name":"Samantha Ming","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3993566/avatar.png","web_url":"https://gitlab.com/sming-gitlab"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/366665","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/366665","notes":"https://gitlab.com/api/v4/projects/278964/issues/366665/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/366665/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#366665","relative":"#366665","full":"gitlab-org/gitlab#366665"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7805,"epic":{"id":485503,"iid":7805,"title":"Security Training 2.0","url":"/groups/gitlab-org/-/epics/7805","group_id":9970,"human_readable_end_date":"Oct 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":110974547,"iid":366661,"project_id":278964,"title":"Refactor language aggregations separate internal API call","description":"## Summary\n\n\u003c!--\nPlease briefly describe what part of the code base needs to be refactored.\n--\u003e\n\ndiscovered need for refactor while implementing language facets for backend `blobs` scoped searches in https://gitlab.com/gitlab-org/gitlab/-/issues/342643\n\nthe language aggregations call needs to be a separate Elasticsearch query exposed in a new internal API call\n\n\n## Improvements\n\n\u003c!--\nExplain the benefits of refactoring this code.\nSee also https://about.gitlab.com/handbook/values/index.html#say-why-not-just-what\n--\u003e\n\nthe current implementation includes the aggregations with every `blobs` scoped search call. that means when a language filter is selected, the aggregations returned by the search call would change. \n\nNote: the search page is not in Vue so every search is a full page refresh\n\nexample:\n1. code search for term `test` (no language facet)\n2. receive results + 10 language facets to choose from\n3. select `Markdown` to filter results \n4. receive results + 1 language facet to choose from :grimacing: \n\nIf the call is separated to a new internal API, the benefits:\n\n* ability to select multiple languages (intended functionality)\n* performance of search results will not be impacted by aggregations call\n\n## Risks\n\nThis feature is behind an unreleased feature flag, no risk.\n\n\u003c!--\nPlease list features that can break because of this refactoring and how you intend to solve that.\n--\u003e\n\n## Involved components\n\n* [SearchController - new method](app/controllers/search_controller.rb)\n* [GitClassProxy - `blob_aggregations` method](ee/lib/elastic/latest/git_class_proxy.rb#L39)\n\n\u003c!--\nList files or directories that will be changed by the refactoring.\n--\u003e\n\n\u003c!--\nPlease select the appropriate label from the following:\n    ~\"feature::addition\"\n    ~\"type::maintenance\"\n    ~\"maintenance::refactor\"\n    ~\"maintenance::pipelines\"\n    ~\"maintenance::workflow\"\n--\u003e","state":"closed","created_at":"2022-06-30T15:40:00.448Z","updated_at":"2022-08-21T12:07:02.838Z","closed_at":"2022-08-09T19:14:46.393Z","closed_by":{"id":5708766,"username":"terrichu","name":"Terri Chu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5708766/avatar.png","web_url":"https://gitlab.com/terrichu"},"labels":["Category:Global Search","Deliverable","backend","devops::data_stores","group::global search","section::enablement","type::feature","workflow::verification"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":5708766,"username":"terrichu","name":"Terri Chu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5708766/avatar.png","web_url":"https://gitlab.com/terrichu"}],"author":{"id":5708766,"username":"terrichu","name":"Terri Chu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5708766/avatar.png","web_url":"https://gitlab.com/terrichu"},"type":"ISSUE","assignee":{"id":5708766,"username":"terrichu","name":"Terri Chu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5708766/avatar.png","web_url":"https://gitlab.com/terrichu"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/366661","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":2,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/366661","notes":"https://gitlab.com/api/v4/projects/278964/issues/366661/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/366661/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#366661","relative":"#366661","full":"gitlab-org/gitlab#366661"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6853,"epic":{"id":362357,"iid":6853,"title":"Add search filtering by programming language","url":"/groups/gitlab-org/-/epics/6853","group_id":9970,"human_readable_end_date":"Aug 22, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":110974293,"iid":366660,"project_id":278964,"title":"Number of \"clients\" incorrect after introduction of expiring OAuth tokens","description":"### Summary\n\nSince all OAuth tokens automatically expire after 2 hours, the number of \"clients\" on the User settings -\u003e Applications screen is incorrect, as it includes all revoked tokens.\n\nThe view uses `application.access_tokens.count` which probably includes all revoked tokens, too. https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/views/shared/doorkeeper/applications/_index.html.haml#L44\n\n### Solution\n\nWe should not include the revoked tokens in the count.\n\nWe may need a new scope on `OauthAccessToken` to exclude revoked tokens. Then we can use the scope in the view as `application.access_tokens.unrevoked` or whatever we name it. Maybe the existing application association [`authorized_tokens`](https://github.com/doorkeeper-gem/doorkeeper/blob/15ebd3302d01bad4a408e0b10676b5f624e688ad/lib/doorkeeper/orm/active_record/mixins/application.rb#L36) works?","state":"closed","created_at":"2022-06-30T15:34:54.739Z","updated_at":"2022-08-15T16:05:52.578Z","closed_at":"2022-08-12T11:58:27.352Z","closed_by":{"id":4554599,"username":"m_gill","name":"Michelle Gill","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4554599/avatar.png","web_url":"https://gitlab.com/m_gill"},"labels":["SUS::Impacting","Stretch","UX","backend","devops::manage","group::authentication and authorization","oauth","priority::2","section::dev","severity::3","type::bug","workflow::production"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[],"author":{"id":3688647,"username":"mvanremmerden","name":"Marcel van Remmerden","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4f46ed49b87eab9e74f20e0e25b36d0f?s=80\u0026d=identicon","web_url":"https://gitlab.com/mvanremmerden"},"type":"ISSUE","assignee":null,"user_notes_count":13,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/366660","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/366660","notes":"https://gitlab.com/api/v4/projects/278964/issues/366660/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/366660/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#366660","relative":"#366660","full":"gitlab-org/gitlab#366660"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":110973637,"iid":366659,"project_id":278964,"title":"SPIKE: Plan Phase 3 of Group and Project Consolidation","description":"Moving into Phase 3 of the Group and Project Consolidation project, we need to review the following epics and ensure that the necessary work for this next level is captured correctly:\n\n- https://gitlab.com/groups/gitlab-org/-/epics/8008+\n- https://gitlab.com/groups/gitlab-org/-/epics/6585+\n\nThe goal is to answer the following questions:\n- What is the best path forward to consolidate memberships?\n- Is all the necessary work captured in the epics?\n- What should be scheduled when? Are there any dependencies between issues?\n- What dependencies can we unblock along the way? Can we structure the work in a way that enables other teams to build on our current framework already?","state":"closed","created_at":"2022-06-30T15:24:41.977Z","updated_at":"2022-10-21T12:02:19.237Z","closed_at":"2022-09-21T08:03:35.345Z","closed_by":{"id":11485419,"username":"lohrc","name":"Christina Lohr","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11485419/avatar.png","web_url":"https://gitlab.com/lohrc"},"labels":["Deliverable","devops::manage","group::organization","missed-deliverable","missed:15.3","missed:15.4","namespace","priority::1","quad-planning::complete-no-action","section::dev","spike","type::feature","workflow::ready for development"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":4092171,"username":"alexpooley","name":"Alex Pooley","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4092171/avatar.png","web_url":"https://gitlab.com/alexpooley"},{"id":4093067,"username":"manojmj","name":"Manoj M J","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4093067/avatar.png","web_url":"https://gitlab.com/manojmj"}],"author":{"id":11485419,"username":"lohrc","name":"Christina Lohr","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11485419/avatar.png","web_url":"https://gitlab.com/lohrc"},"type":"ISSUE","assignee":{"id":4092171,"username":"alexpooley","name":"Alex Pooley","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4092171/avatar.png","web_url":"https://gitlab.com/alexpooley"},"user_notes_count":23,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/366659","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/366659","notes":"https://gitlab.com/api/v4/projects/278964/issues/366659/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/366659/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#366659","relative":"#366659","full":"gitlab-org/gitlab#366659"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6473,"epic":{"id":316228,"iid":6473,"title":"Organization foundation: Consolidate Groups and Projects","url":"/groups/gitlab-org/-/epics/6473","group_id":9970,"human_readable_end_date":"Mar 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e months remaining"},"iteration":null,"health_status":null},{"id":110970531,"iid":366652,"project_id":278964,"title":"Merge request report widget instrumentation fixes","description":"## Problem to Solve\n\nOur instrumentation implementation requires the existence of both [`known events`](https://docs.gitlab.com/ee/development/service_ping/implement.html#add-new-events) and a [`metrics definition`](https://docs.gitlab.com/ee/development/service_ping/implement.html#add-the-metric-definition) in order for service ping to accept the incoming data and report appropriately.\n\nWhen https://gitlab.com/gitlab-org/gitlab/-/merge_requests/89078 was implemented, the event names are all generated dynamically and so there is no attachment of `known_events` and `metric definitions`.\n\n## Proposal\n\nWe need to create the initial set of `known_events` and `metric definitions` for the currently existing widgets. We should also update documentation that any new widgets need to make sure to include those files.","state":"closed","created_at":"2022-06-30T14:24:19.495Z","updated_at":"2022-08-30T12:30:47.175Z","closed_at":"2022-08-17T20:03:09.144Z","closed_by":{"id":4414431,"username":"thomasrandolph","name":"Thomas Randolph","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6462fcd577d8c957abd2dc23956cfbec?s=80\u0026d=identicon","web_url":"https://gitlab.com/thomasrandolph"},"labels":["Deliverable","WorkingGroup::MergeRequestReportWidgets","devops::create","frontend","group::code review","instrumentation","section::dev","type::maintenance","workflow::production"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":4414431,"username":"thomasrandolph","name":"Thomas Randolph","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6462fcd577d8c957abd2dc23956cfbec?s=80\u0026d=identicon","web_url":"https://gitlab.com/thomasrandolph"}],"author":{"id":2935693,"username":"phikai","name":"Kai Armstrong","state":"active","avatar_url":"https://secure.gravatar.com/avatar/2c5d6a63b41cbeb3ea4cccda82e758e1?s=80\u0026d=identicon","web_url":"https://gitlab.com/phikai"},"type":"ISSUE","assignee":{"id":4414431,"username":"thomasrandolph","name":"Thomas Randolph","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6462fcd577d8c957abd2dc23956cfbec?s=80\u0026d=identicon","web_url":"https://gitlab.com/thomasrandolph"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/366652","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/366652","notes":"https://gitlab.com/api/v4/projects/278964/issues/366652/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/366652/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#366652","relative":"#366652","full":"gitlab-org/gitlab#366652"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":110944021,"iid":366624,"project_id":278964,"title":"Adding product intelligence review to MRs that uses Usage Data API","description":"## Background\n\nRecently MR (https://gitlab.com/gitlab-org/gitlab/-/merge_requests/89078) slipped from dangerbot detection mechanism, and was not flagged fro ~\"product intelligence\" review. That caused them to not add new metrics to Service Ping as expected.\n\n## Goal\n\nExtend [`tooling/danger/project_helper.rb`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/tooling/danger/project_helper.rb#L19) categories matching criteria to detect changes which uses `trackRedisHllUserEvent` and `trackRedisCounterEvent` from [`app/assets/javascripts/api.js`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/assets/javascripts/api.js#L885)","state":"closed","created_at":"2022-06-30T07:46:54.211Z","updated_at":"2022-07-14T08:15:17.907Z","closed_at":"2022-07-14T08:15:17.882Z","closed_by":{"id":1863977,"username":"michold","name":"Michał Wielich","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1863977/avatar.png","web_url":"https://gitlab.com/michold"},"labels":["backend","devops::analytics","group::product intelligence","section::analytics","type::feature","workflow::in review"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":1863977,"username":"michold","name":"Michał Wielich","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1863977/avatar.png","web_url":"https://gitlab.com/michold"}],"author":{"id":4807002,"username":"mikolaj_wawrzyniak","name":"Mikołaj Wawrzyniak","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4807002/avatar.png","web_url":"https://gitlab.com/mikolaj_wawrzyniak"},"type":"ISSUE","assignee":{"id":1863977,"username":"michold","name":"Michał Wielich","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1863977/avatar.png","web_url":"https://gitlab.com/michold"},"user_notes_count":2,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/366624","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/366624","notes":"https://gitlab.com/api/v4/projects/278964/issues/366624/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/366624/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#366624","relative":"#366624","full":"gitlab-org/gitlab#366624"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":110941346,"iid":366623,"project_id":278964,"title":"Use Auditor in Audit::Changes module","description":"## Problem Statement\nCurrently in Audit::Changes module we are using AuditEventService to create audit events, as we are shifting from AuditEventService to Auditor we should make this change here also. this will also help us in adding event_type information where ever we are using Audit::Changes module to audit.\n\n## Solution\nReplace AuditEventService with Auditor in ::Audit::Changes module.\n\nmore info https://gitlab.com/gitlab-org/gitlab/-/merge_requests/89939#note_995172681","state":"closed","created_at":"2022-06-30T07:22:30.884Z","updated_at":"2022-07-05T07:52:40.581Z","closed_at":"2022-07-05T07:52:40.566Z","closed_by":{"id":10467142,"username":"harsimarsandhu","name":"Harsimar Sandhu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10467142/avatar.png","web_url":"https://gitlab.com/harsimarsandhu"},"labels":["devops::manage","group::compliance","priority::1","section::dev","type::maintenance","workflow::production"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":10467142,"username":"harsimarsandhu","name":"Harsimar Sandhu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10467142/avatar.png","web_url":"https://gitlab.com/harsimarsandhu"}],"author":{"id":10467142,"username":"harsimarsandhu","name":"Harsimar Sandhu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10467142/avatar.png","web_url":"https://gitlab.com/harsimarsandhu"},"type":"ISSUE","assignee":{"id":10467142,"username":"harsimarsandhu","name":"Harsimar Sandhu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10467142/avatar.png","web_url":"https://gitlab.com/harsimarsandhu"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/366623","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/366623","notes":"https://gitlab.com/api/v4/projects/278964/issues/366623/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/366623/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#366623","relative":"#366623","full":"gitlab-org/gitlab#366623"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":110939020,"iid":366618,"project_id":278964,"title":"Log response length for API requests","description":"~\"group::workspace\" owns a lot of API endpoints. Some of them push out large responses like the `Projects` index. View rendering can account for 2/3 of the response duration. We have a theory that pushing out more data results in slower endpoints.","state":"closed","created_at":"2022-06-30T06:43:14.393Z","updated_at":"2022-08-21T12:02:06.592Z","closed_at":"2022-08-08T23:51:13.241Z","closed_by":{"id":4092171,"username":"alexpooley","name":"Alex Pooley","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4092171/avatar.png","web_url":"https://gitlab.com/alexpooley"},"labels":["Deliverable","backend","devops::manage","group::organization","organization-error-budget","quad-planning::complete-no-action","section::dev","type::maintenance","workflow::in dev"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[],"author":{"id":4092171,"username":"alexpooley","name":"Alex Pooley","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4092171/avatar.png","web_url":"https://gitlab.com/alexpooley"},"type":"ISSUE","assignee":null,"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/366618","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/366618","notes":"https://gitlab.com/api/v4/projects/278964/issues/366618/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/366618/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#366618","relative":"#366618","full":"gitlab-org/gitlab#366618"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8164,"epic":{"id":536480,"iid":8164,"title":"Improve performance of Projects List API under load into next tier","url":"/groups/gitlab-org/-/epics/8164","group_id":9970,"human_readable_end_date":"Mar 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e months remaining"},"iteration":null,"health_status":null},{"id":110937278,"iid":366617,"project_id":278964,"title":"Maintainers can use Group Protected Environments API, however only Owners can manage via UI","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"type::bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=type::bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\n\u003c!-- Summarize the bug encountered concisely. --\u003e\nGroup Maintainers can use the Group Protected Environments API, however only Group Owners can view/edit the Group Protected Environments via UI.\n\n### Details\n\nThe permission model for the [Group protected environments](https://docs.gitlab.com/ee/ci/environments/protected_environments.html#group-level-protected-environments) feature has *not* been changed since the introduction at 14.0. Maintainers+ *can* modify the entries as of today. This is [the documented behavior](https://docs.gitlab.com/ee/ci/environments/protected_environments.html).\n\nHowever, the confusion comes from the [recent UI support](https://docs.gitlab.com/ee/ci/environments/protected_environments.html#using-the-ui) in 15.1 that the setting UI runs `admin_group` authorization on *all* setting items, meaning the user has to have Owner role to access the entries. Unfortunately, this gives impressions to users that the feature is not supposed to be accessible for Maintainers, but in the same time, there is no a reasonable explanation that why the entry must be restricted from Maintainers (aside from that the customer [expects](https://gitlab.zendesk.com/agent/tickets/303630) it to be in the way).\n\n### Proposal\n\n1. Change the permission model of the Group protected environments to require Owner role.\n   * This could be a breaking change that users who used to modify the setting via API might encounter an authorization error.\n   * This is consistent with the other group-level CI/CD settings. To prevent a further confusion, we should introduce a permission guideline that all group-level CI/CD settings require Owner role (AFAIK, this is the third time, 1st was group-level variable. 2nd was runner auth token.).\n   * This aligns with [the customer's expectation](https://gitlab.zendesk.com/agent/tickets/303630).\n\nUse a feature flag to gradually rollout the change. Maybe we keep it for 1 or 2 milestones just in case. It should be default enabled, but if something went wrong, customer can disable it. Optionally, we can use two flags to [Selectively disable by actor](https://docs.gitlab.com/ee/development/feature_flags/#selectively-disable-by-actor) for an extra safety, which is a bit more smoother transition.\n\n#### Technical details of the proposal \\#1\n\n- We move `admin_protected_environment` to `rule { owner }`.\n- Update the documentation. (We may want to additionally update the permission guideline)\n- Basically, it's same with https://gitlab.com/gitlab-org/gitlab/-/merge_requests/71965. \n\n### Further context\n\nWe considered the following proposal as well:\n\n1. Keep the current permission model of the Group protected environments and fix the UI.\n   * Maintainers can visit \"Group \u003e CI/CD settings\" but they can see Protected environment settings only (as other settings require Owner role).\n   * This is consistent with the project-level protected environments that Maintainers+ can access.\n   * This is consistent with [the documentation](https://docs.gitlab.com/ee/ci/environments/protected_environments.html), as you already pointed above.\n\nPlease note that, either way, we can't satisfy both sides, which is highlighted in [this comment](https://gitlab.com/gitlab-org/gitlab/-/issues/366617#note_1018467245):\n\n\u003eInterestingly we have the opposite scenario in Backend: Allow Group Maintainers to manage Grou... (#37930) A group-level API is limited only to Owners and some users are asking to make it available to Maintainers. I think there's unfortunately no way to please everyone here without having more granular access control which is obviously not an easy implementation.\n\n### Related\n\n- https://gitlab.com/gitlab-org/gitlab/-/issues/341311\n\n\u003cdetails\u003e\n\n\u003csummary\u003ePrevious information\u003c/summary\u003e\n\n### Steps to reproduce\n\n\u003c!-- Describe how one can reproduce the issue - this is very important. Please use an ordered list. --\u003e\n1. As a Maintainer, make an API request to [protect an environment](https://docs.gitlab.com/ee/api/group_protected_environments.html#protect-an-environment), or to [list Group protected environments](https://docs.gitlab.com/ee/api/group_protected_environments.html#list-group-level-protected-environments).\n2. As a Maintainer, attempt to access the Group Settings via UI.\n3. As a Maintainer, attempt to access manually the Groups::Settings::CiCdController via the URL `https://gitlab.example.com/group-name/-/settings/cicd`\n\n### Example Project\n\n\u003c!-- If possible, please create an example project here on GitLab.com that exhibits the problematic \nbehavior, and link to it here in the bug report. If you are using an older version of GitLab, this \nwill also determine whether the bug is fixed in a more recent version. --\u003e\n\n### What is the current *bug* behavior?\n\n\u003c!-- Describe what actually happens. --\u003e\n1. Maintainer is allowed to list and protect/unprotect Group-level Protected Environments.\n2. Maintainer is unable to access Group Settings via UI.\n3. Maintainer is unable to access the Groups::Settings::CiCdController via URL.\n\n### What is the expected *correct* behavior?\n\n\u003c!-- Describe what you should see instead. --\u003e\nIf a Maintainer can't access the UI for Group Settings, or the Groups::Settings::CiCdController, they should not be allowed to make changes associated with these settings.\n\n### Relevant logs and/or screenshots\n\n\u003c!-- Paste any relevant logs - please use code blocks (```) to format console output, logs, and code\n as it's tough to read otherwise. --\u003e\n\n### Output of checks\n\n\u003c!-- If you are reporting a bug on GitLab.com, write: This bug happens on GitLab.com --\u003e\n\n#### Results of GitLab environment info\n\n\u003c!--  Input any relevant GitLab environment information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to GitLab environment info\u003c/summary\u003e\n\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:env:info`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:env:info RAILS_ENV=production`)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n#### Results of GitLab application Check\n\n\u003c!--  Input any relevant GitLab application check information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to the GitLab application check\u003c/summary\u003e\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:check SANITIZE=true`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:check RAILS_ENV=production SANITIZE=true`)\n\n(we will only investigate if the tests are passing)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n### Possible fixes\n\n\u003c!-- If you can, link to the line of code that might be responsible for the problem. --\u003e\n\n\u003c/details\u003e","state":"closed","created_at":"2022-06-30T06:08:04.499Z","updated_at":"2022-11-15T13:10:42.848Z","closed_at":"2022-08-17T14:56:13.419Z","closed_by":{"id":9253328,"username":"bala.kumar","name":"Bala Kumar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9253328/avatar.png","web_url":"https://gitlab.com/bala.kumar"},"labels":["Category:Environment Management","Deliverable","Next Up","Release::P1","UX","customer","devops::release","feature::enhancement","group::release","section::ops","security","severity::1","type::feature","workflow::verification"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":9253328,"username":"bala.kumar","name":"Bala Kumar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9253328/avatar.png","web_url":"https://gitlab.com/bala.kumar"}],"author":{"id":10051007,"username":"tmike","name":"Michael Trainor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10051007/avatar.png","web_url":"https://gitlab.com/tmike"},"type":"ISSUE","assignee":{"id":9253328,"username":"bala.kumar","name":"Bala Kumar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9253328/avatar.png","web_url":"https://gitlab.com/bala.kumar"},"user_notes_count":38,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/366617","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/366617","notes":"https://gitlab.com/api/v4/projects/278964/issues/366617/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/366617/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#366617","relative":"#366617","full":"gitlab-org/gitlab#366617"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":110935155,"iid":366613,"project_id":278964,"title":"Convert ee/app/assets/stylesheets/pages/code_review.scss into page specific bundle","description":"### Problem to solve\n\nCurrently we are serving one main CSS file which is importing all the CSS files that are page specific.  \nWe want to split page specific styles out into separate CSS files that are only included on their respective pages.\n\n### Proposal\n\nConvert `ee/app/assets/stylesheets/pages/code_review.scss` into a page bundle that is only included on relevant pages.\n\n### Further details\n\n#### How to migrate a page specific bundle?\n\n1. Pick an issue and assign yourself if you currently are not assigned.\n1. Preparation:\n   1. Figure out on which pages your CSS is used, note down the HAML files. Note: Sometimes page specific CSS can be used on multiple pages!\n   1. Move the file from `app/assets/stylesheets/pages` to `app/assets/stylesheets/page_bundles`\n   1. Remove it from `page_specific_files.scss`\n   1. Add the file to `config/application.rb`\n   1. Add `- add_page_specific_style 'page_bundles/example'` to all haml templates you have identified that are using these styles. (available once https://gitlab.com/gitlab-org/gitlab/-/merge_requests/43680 lands, in order to drive bias for action you can use `= stylesheet_link_tag 'page_bundles/example'`) for now.\n1. Use CSS variables for all the colors. This is **crucial** for dark mode.\n   1. If a color doesn't have an exact match with [Pajamas colors](https://design.gitlab.com/product-foundations/colors), choose the nearest color from the Pajamas colors. If there isn't an exact match, see whether a dark mode variable is available: https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/assets/stylesheets/themes/_dark.scss\n   1. If you have dark-mode related questions, consider pinging `@psimyn`.\n1. Ensure that the changed pages work properly\n1. Merge away!\n\n#### Notes\n\nIn order to quickly get our application.css size down, hold off on any unneeded optimizations, however while you are looking at the page specific styles, you can choose to optimize the following things *or* preferably create follow-up issues:\n\n1. Replacing certain properties with utility classes\n1. Sometimes a page specific CSS might contain classes of *distinct* pages. Then we could split those. (e.g. pipelines css for lists vs pipelines css for details pages)\n1. Removing unused CSS\n\n#### EE specific styles\n\nee/ follows the same pattern described, simply place the file into `ee/app/assets/stylesheets/page_bundles`. It is even possible to extend CE styles, see: [cycle_analytics](https://gitlab.com/gitlab-org/gitlab/-/blob/84864ec304dca5ca85052cf8b41185286b48f5bc/app/assets/stylesheets/page_bundles/cycle_analytics.scss) and it's [ee version](https://gitlab.com/gitlab-org/gitlab/-/blob/84864ec304dca5ca85052cf8b41185286b48f5bc/ee/app/assets/stylesheets/page_bundles/cycle_analytics.scss). MR for reference: https://gitlab.com/gitlab-org/gitlab/-/merge_requests/42474","state":"closed","created_at":"2022-06-30T04:40:06.480Z","updated_at":"2022-09-13T14:04:08.795Z","closed_at":"2022-09-12T23:28:41.630Z","closed_by":{"id":12410838,"username":"sdejonge","name":"Scott de Jonge","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12410838/avatar.png","web_url":"https://gitlab.com/sdejonge"},"labels":["bug::performance","devops::create","frontend","group::code review","section::dev","type::maintenance"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":12410838,"username":"sdejonge","name":"Scott de Jonge","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12410838/avatar.png","web_url":"https://gitlab.com/sdejonge"}],"author":{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"},"type":"ISSUE","assignee":{"id":12410838,"username":"sdejonge","name":"Scott de Jonge","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12410838/avatar.png","web_url":"https://gitlab.com/sdejonge"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/366613","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/366613","notes":"https://gitlab.com/api/v4/projects/278964/issues/366613/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/366613/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#366613","relative":"#366613","full":"gitlab-org/gitlab#366613"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3694,"epic":{"id":71930,"iid":3694,"title":"Extract Page Specific CSS Files","url":"/groups/gitlab-org/-/epics/3694","group_id":9970,"human_readable_end_date":"Nov 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":110935071,"iid":366612,"project_id":278964,"title":"Convert ee/app/assets/stylesheets/pages/contributors.scss into page specific bundle","description":"### Problem to solve\n\nCurrently we are serving one main CSS file which is importing all the CSS files that are page specific.  \nWe want to split page specific styles out into separate CSS files that are only included on their respective pages.\n\n### Proposal\n\nConvert `ee/app/assets/stylesheets/pages/contributors.scss` into a page bundle that is only included on relevant pages.\n\n### Further details\n\n#### How to migrate a page specific bundle?\n\n1. Pick an issue and assign yourself if you currently are not assigned.\n1. Preparation:\n   1. Figure out on which pages your CSS is used, note down the HAML files. Note: Sometimes page specific CSS can be used on multiple pages!\n   1. Move the file from `app/assets/stylesheets/pages` to `app/assets/stylesheets/page_bundles`\n   1. Remove it from `page_specific_files.scss`\n   1. Add the file to `config/application.rb`\n   1. Add `- add_page_specific_style 'page_bundles/example'` to all haml templates you have identified that are using these styles. (available once https://gitlab.com/gitlab-org/gitlab/-/merge_requests/43680 lands, in order to drive bias for action you can use `= stylesheet_link_tag 'page_bundles/example'`) for now.\n1. Use CSS variables for all the colors. This is **crucial** for dark mode.\n   1. If a color doesn't have an exact match with [Pajamas colors](https://design.gitlab.com/product-foundations/colors), choose the nearest color from the Pajamas colors. If there isn't an exact match, see whether a dark mode variable is available: https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/assets/stylesheets/themes/_dark.scss\n   1. If you have dark-mode related questions, consider pinging `@psimyn`.\n1. Ensure that the changed pages work properly\n1. Merge away!\n\n#### Notes\n\nIn order to quickly get our application.css size down, hold off on any unneeded optimizations, however while you are looking at the page specific styles, you can choose to optimize the following things *or* preferably create follow-up issues:\n\n1. Replacing certain properties with utility classes\n1. Sometimes a page specific CSS might contain classes of *distinct* pages. Then we could split those. (e.g. pipelines css for lists vs pipelines css for details pages)\n1. Removing unused CSS\n\n#### EE specific styles\n\nee/ follows the same pattern described, simply place the file into `ee/app/assets/stylesheets/page_bundles`. It is even possible to extend CE styles, see: [cycle_analytics](https://gitlab.com/gitlab-org/gitlab/-/blob/84864ec304dca5ca85052cf8b41185286b48f5bc/app/assets/stylesheets/page_bundles/cycle_analytics.scss) and it's [ee version](https://gitlab.com/gitlab-org/gitlab/-/blob/84864ec304dca5ca85052cf8b41185286b48f5bc/ee/app/assets/stylesheets/page_bundles/cycle_analytics.scss). MR for reference: https://gitlab.com/gitlab-org/gitlab/-/merge_requests/42474","state":"closed","created_at":"2022-06-30T04:37:53.769Z","updated_at":"2022-11-22T18:34:29.737Z","closed_at":"2022-09-23T11:54:15.051Z","closed_by":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"labels":["Category:Design System","OKR-FE","Pajamas Migration Day","bug::performance","devops::manage","frontend","group::foundations","section::dev","type::maintenance","workflow::verification"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"}],"author":{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"},"type":"ISSUE","assignee":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/366612","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/366612","notes":"https://gitlab.com/api/v4/projects/278964/issues/366612/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/366612/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#366612","relative":"#366612","full":"gitlab-org/gitlab#366612"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3694,"epic":{"id":71930,"iid":3694,"title":"Extract Page Specific CSS Files","url":"/groups/gitlab-org/-/epics/3694","group_id":9970,"human_readable_end_date":"Nov 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":110935030,"iid":366611,"project_id":278964,"title":"Convert ee/app/assets/stylesheets/pages/merge_request_analytics.scss into page specific bundle","description":"### Problem to solve\n\nCurrently we are serving one main CSS file which is importing all the CSS files that are page specific.  \nWe want to split page specific styles out into separate CSS files that are only included on their respective pages.\n\n### Proposal\n\nConvert `ee/app/assets/stylesheets/pages/merge_request_analytics.scss` into a page bundle that is only included on relevant pages.\n\n### Further details\n\n#### How to migrate a page specific bundle?\n\n1. Pick an issue and assign yourself if you currently are not assigned.\n1. Preparation:\n   1. Figure out on which pages your CSS is used, note down the HAML files. Note: Sometimes page specific CSS can be used on multiple pages!\n   1. Move the file from `app/assets/stylesheets/pages` to `app/assets/stylesheets/page_bundles`\n   1. Remove it from `page_specific_files.scss`\n   1. Add the file to `config/application.rb`\n   1. Add `- add_page_specific_style 'page_bundles/example'` to all haml templates you have identified that are using these styles. (available once https://gitlab.com/gitlab-org/gitlab/-/merge_requests/43680 lands, in order to drive bias for action you can use `= stylesheet_link_tag 'page_bundles/example'`) for now.\n1. Use CSS variables for all the colors. This is **crucial** for dark mode.\n   1. If a color doesn't have an exact match with [Pajamas colors](https://design.gitlab.com/product-foundations/colors), choose the nearest color from the Pajamas colors. If there isn't an exact match, see whether a dark mode variable is available: https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/assets/stylesheets/themes/_dark.scss\n   1. If you have dark-mode related questions, consider pinging `@psimyn`.\n1. Ensure that the changed pages work properly\n1. Merge away!\n\n#### Notes\n\nIn order to quickly get our application.css size down, hold off on any unneeded optimizations, however while you are looking at the page specific styles, you can choose to optimize the following things *or* preferably create follow-up issues:\n\n1. Replacing certain properties with utility classes\n1. Sometimes a page specific CSS might contain classes of *distinct* pages. Then we could split those. (e.g. pipelines css for lists vs pipelines css for details pages)\n1. Removing unused CSS\n\n#### EE specific styles\n\nee/ follows the same pattern described, simply place the file into `ee/app/assets/stylesheets/page_bundles`. It is even possible to extend CE styles, see: [cycle_analytics](https://gitlab.com/gitlab-org/gitlab/-/blob/84864ec304dca5ca85052cf8b41185286b48f5bc/app/assets/stylesheets/page_bundles/cycle_analytics.scss) and it's [ee version](https://gitlab.com/gitlab-org/gitlab/-/blob/84864ec304dca5ca85052cf8b41185286b48f5bc/ee/app/assets/stylesheets/page_bundles/cycle_analytics.scss). MR for reference: https://gitlab.com/gitlab-org/gitlab/-/merge_requests/42474","state":"closed","created_at":"2022-06-30T04:36:14.105Z","updated_at":"2022-09-20T23:58:53.455Z","closed_at":"2022-09-20T23:58:53.428Z","closed_by":{"id":12410838,"username":"sdejonge","name":"Scott de Jonge","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12410838/avatar.png","web_url":"https://gitlab.com/sdejonge"},"labels":["OKR-FE","Pajamas Migration Day","bug::performance","devops::manage","frontend","group::optimize","priority::3","section::dev","type::maintenance","workflow::in review"],"milestone":{"id":1212252,"iid":48,"group_id":9970,"title":"Next 1-3 releases","description":"Issues which are not quite ready to schedule, but should be considered as part of the near-term roadmap.","state":"active","created_at":"2020-03-26T20:39:10.889Z","updated_at":"2020-03-26T20:39:10.889Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/48"},"assignees":[{"id":12410838,"username":"sdejonge","name":"Scott de Jonge","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12410838/avatar.png","web_url":"https://gitlab.com/sdejonge"}],"author":{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"},"type":"ISSUE","assignee":{"id":12410838,"username":"sdejonge","name":"Scott de Jonge","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12410838/avatar.png","web_url":"https://gitlab.com/sdejonge"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/366611","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/366611","notes":"https://gitlab.com/api/v4/projects/278964/issues/366611/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/366611/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#366611","relative":"#366611","full":"gitlab-org/gitlab#366611"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3694,"epic":{"id":71930,"iid":3694,"title":"Extract Page Specific CSS Files","url":"/groups/gitlab-org/-/epics/3694","group_id":9970,"human_readable_end_date":"Nov 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":110934935,"iid":366610,"project_id":278964,"title":"Convert ee/app/assets/stylesheets/pages/geo.scss into page specific bundle","description":"### Problem to solve\n\nCurrently we are serving one main CSS file which is importing all the CSS files that are page specific.  \nWe want to split page specific styles out into separate CSS files that are only included on their respective pages.\n\n### Proposal\n\nConvert `ee/app/assets/stylesheets/pages/geo.scss` into a page bundle that is only included on relevant pages.\n\n### Further details\n\n#### How to migrate a page specific bundle?\n\n1. Pick an issue and assign yourself if you currently are not assigned.\n1. Preparation:\n   1. Figure out on which pages your CSS is used, note down the HAML files. Note: Sometimes page specific CSS can be used on multiple pages!\n   1. Move the file from `app/assets/stylesheets/pages` to `app/assets/stylesheets/page_bundles`\n   1. Remove it from `page_specific_files.scss`\n   1. Add the file to `config/application.rb`\n   1. Add `- add_page_specific_style 'page_bundles/example'` to all haml templates you have identified that are using these styles. (available once https://gitlab.com/gitlab-org/gitlab/-/merge_requests/43680 lands, in order to drive bias for action you can use `= stylesheet_link_tag 'page_bundles/example'`) for now.\n1. Use CSS variables for all the colors. This is **crucial** for dark mode.\n   1. If a color doesn't have an exact match with [Pajamas colors](https://design.gitlab.com/product-foundations/colors), choose the nearest color from the Pajamas colors. If there isn't an exact match, see whether a dark mode variable is available: https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/assets/stylesheets/themes/_dark.scss\n   1. If you have dark-mode related questions, consider pinging `@psimyn`.\n1. Ensure that the changed pages work properly\n1. Merge away!\n\n#### Notes\n\nIn order to quickly get our application.css size down, hold off on any unneeded optimizations, however while you are looking at the page specific styles, you can choose to optimize the following things *or* preferably create follow-up issues:\n\n1. Replacing certain properties with utility classes\n1. Sometimes a page specific CSS might contain classes of *distinct* pages. Then we could split those. (e.g. pipelines css for lists vs pipelines css for details pages)\n1. Removing unused CSS\n\n#### EE specific styles\n\nee/ follows the same pattern described, simply place the file into `ee/app/assets/stylesheets/page_bundles`. It is even possible to extend CE styles, see: [cycle_analytics](https://gitlab.com/gitlab-org/gitlab/-/blob/84864ec304dca5ca85052cf8b41185286b48f5bc/app/assets/stylesheets/page_bundles/cycle_analytics.scss) and it's [ee version](https://gitlab.com/gitlab-org/gitlab/-/blob/84864ec304dca5ca85052cf8b41185286b48f5bc/ee/app/assets/stylesheets/page_bundles/cycle_analytics.scss). MR for reference: https://gitlab.com/gitlab-org/gitlab/-/merge_requests/42474","state":"closed","created_at":"2022-06-30T04:33:11.683Z","updated_at":"2022-10-14T13:15:19.919Z","closed_at":"2022-10-05T13:05:35.452Z","closed_by":{"id":4748809,"username":"zcuddy","name":"Zack Cuddy","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4748809/avatar.png","web_url":"https://gitlab.com/zcuddy"},"labels":["OKR-FE","Pajamas Migration Day","bug::performance","devops::systems","frontend","group::geo","maintenance::performance","section::enablement","type::maintenance","workflow::in review"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":4748809,"username":"zcuddy","name":"Zack Cuddy","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4748809/avatar.png","web_url":"https://gitlab.com/zcuddy"}],"author":{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"},"type":"ISSUE","assignee":{"id":4748809,"username":"zcuddy","name":"Zack Cuddy","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4748809/avatar.png","web_url":"https://gitlab.com/zcuddy"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/366610","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/366610","notes":"https://gitlab.com/api/v4/projects/278964/issues/366610/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/366610/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#366610","relative":"#366610","full":"gitlab-org/gitlab#366610"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3694,"epic":{"id":71930,"iid":3694,"title":"Extract Page Specific CSS Files","url":"/groups/gitlab-org/-/epics/3694","group_id":9970,"human_readable_end_date":"Nov 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":110934864,"iid":366608,"project_id":278964,"title":"Convert ee/app/assets/stylesheets/pages/issues_analytics.scss into page specific bundle","description":"### Problem to solve\n\nCurrently we are serving one main CSS file which is importing all the CSS files that are page specific.  \nWe want to split page specific styles out into separate CSS files that are only included on their respective pages.\n\n### Proposal\n\nConvert `ee/app/assets/stylesheets/pages/issues_analytics.scss` into a page bundle that is only included on relevant pages.\n\n### Further details\n\n#### How to migrate a page specific bundle?\n\n1. Pick an issue and assign yourself if you currently are not assigned.\n1. Preparation:\n   1. Figure out on which pages your CSS is used, note down the HAML files. Note: Sometimes page specific CSS can be used on multiple pages!\n   1. Move the file from `app/assets/stylesheets/pages` to `app/assets/stylesheets/page_bundles`\n   1. Remove it from `page_specific_files.scss`\n   1. Add the file to `config/application.rb`\n   1. Add `- add_page_specific_style 'page_bundles/example'` to all haml templates you have identified that are using these styles. (available once https://gitlab.com/gitlab-org/gitlab/-/merge_requests/43680 lands, in order to drive bias for action you can use `= stylesheet_link_tag 'page_bundles/example'`) for now.\n1. Use CSS variables for all the colors. This is **crucial** for dark mode.\n   1. If a color doesn't have an exact match with [Pajamas colors](https://design.gitlab.com/product-foundations/colors), choose the nearest color from the Pajamas colors. If there isn't an exact match, see whether a dark mode variable is available: https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/assets/stylesheets/themes/_dark.scss\n   1. If you have dark-mode related questions, consider pinging `@psimyn`.\n1. Ensure that the changed pages work properly\n1. Merge away!\n\n#### Notes\n\nIn order to quickly get our application.css size down, hold off on any unneeded optimizations, however while you are looking at the page specific styles, you can choose to optimize the following things *or* preferably create follow-up issues:\n\n1. Replacing certain properties with utility classes\n1. Sometimes a page specific CSS might contain classes of *distinct* pages. Then we could split those. (e.g. pipelines css for lists vs pipelines css for details pages)\n1. Removing unused CSS\n\n#### EE specific styles\n\nee/ follows the same pattern described, simply place the file into `ee/app/assets/stylesheets/page_bundles`. It is even possible to extend CE styles, see: [cycle_analytics](https://gitlab.com/gitlab-org/gitlab/-/blob/84864ec304dca5ca85052cf8b41185286b48f5bc/app/assets/stylesheets/page_bundles/cycle_analytics.scss) and it's [ee version](https://gitlab.com/gitlab-org/gitlab/-/blob/84864ec304dca5ca85052cf8b41185286b48f5bc/ee/app/assets/stylesheets/page_bundles/cycle_analytics.scss). MR for reference: https://gitlab.com/gitlab-org/gitlab/-/merge_requests/42474","state":"closed","created_at":"2022-06-30T04:30:20.502Z","updated_at":"2022-09-22T14:24:22.258Z","closed_at":"2022-09-22T14:24:22.234Z","closed_by":{"id":12352378,"username":"apennells","name":"Alex Pennells","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12352378/avatar.png","web_url":"https://gitlab.com/apennells"},"labels":["OKR-FE","Pajamas Migration Day","bug::performance","devops::manage","frontend","group::optimize","priority::3","section::dev","type::maintenance","workflow::in review"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":12352378,"username":"apennells","name":"Alex Pennells","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12352378/avatar.png","web_url":"https://gitlab.com/apennells"}],"author":{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"},"type":"ISSUE","assignee":{"id":12352378,"username":"apennells","name":"Alex Pennells","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12352378/avatar.png","web_url":"https://gitlab.com/apennells"},"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/366608","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/366608","notes":"https://gitlab.com/api/v4/projects/278964/issues/366608/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/366608/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#366608","relative":"#366608","full":"gitlab-org/gitlab#366608"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3694,"epic":{"id":71930,"iid":3694,"title":"Extract Page Specific CSS Files","url":"/groups/gitlab-org/-/epics/3694","group_id":9970,"human_readable_end_date":"Nov 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":110931266,"iid":366597,"project_id":278964,"title":"Schema dump differs between main and ci databases","description":"Since we switched to multiple database for GDK, `gdk update` results in changes in `db/structure.sql` (see bellow for the full diff).\n\nThe reason is that with multiple databases we execute `db:migrate` twice - first for `main` and then for `ci`. After each `db:migrate` we also do `db:structure:dump`, so the last task executed is `db:structure:dump` for `ci` database.\n\nAs a result all partitioned tables from `main` end up at different position in `structure.sql`. The reason is that because if table has any partitions attached (which is the case for `main`) it is listed earlier in `structure.sql`, and if there are no partitions attached is listed in alphabetical order with all other tables. `Gitlab::Database::Partitioning.sync_partitions` sync partition only for the database the models belong to, and we end up with `Number of partitions: 0` for these tables in `ci`. The same will happen in the opposite direction if we have partitioned table for `ci`, which is not yet the case, but will change soon as we plan to partition tables from `ci`.\n\nThis results in confusion and overhead during development, especially if the change includes database migrations, as developers have to restore `structure.sql` to its original state, and then manually apply only the intended changes.\n\n\u003cdetails\u003e\u003csummary\u003eClick to see full diff\u003c/summary\u003e\n\n```diff\ndiff --git a/db/structure.sql b/db/structure.sql\nindex 2bdc8d52f0c..6b652dc6c01 100644\n--- a/db/structure.sql\n+++ b/db/structure.sql\n@@ -230,26 +230,6 @@ RETURN NULL;\n END\n $$;\n \n-CREATE TABLE audit_events (\n-    id bigint NOT NULL,\n-    author_id integer NOT NULL,\n-    entity_id integer NOT NULL,\n-    entity_type character varying NOT NULL,\n-    details text,\n-    ip_address inet,\n-    author_name text,\n-    entity_path text,\n-    target_details text,\n-    created_at timestamp without time zone NOT NULL,\n-    target_type text,\n-    target_id bigint,\n-    CONSTRAINT check_492aaa021d CHECK ((char_length(entity_path) \u003c= 5500)),\n-    CONSTRAINT check_83ff8406e2 CHECK ((char_length(author_name) \u003c= 255)),\n-    CONSTRAINT check_97a8c868e7 CHECK ((char_length(target_type) \u003c= 255)),\n-    CONSTRAINT check_d493ec90b5 CHECK ((char_length(target_details) \u003c= 5500))\n-)\n-PARTITION BY RANGE (created_at);\n-\n CREATE TABLE batched_background_migration_job_transition_logs (\n     id bigint NOT NULL,\n     batched_background_migration_job_id bigint NOT NULL,\n@@ -264,26 +244,6 @@ CREATE TABLE batched_background_migration_job_transition_logs (\n )\n PARTITION BY RANGE (created_at);\n \n-CREATE TABLE incident_management_pending_alert_escalations (\n-    id bigint NOT NULL,\n-    rule_id bigint NOT NULL,\n-    alert_id bigint NOT NULL,\n-    process_at timestamp with time zone NOT NULL,\n-    created_at timestamp with time zone NOT NULL,\n-    updated_at timestamp with time zone NOT NULL\n-)\n-PARTITION BY RANGE (process_at);\n-\n-CREATE TABLE incident_management_pending_issue_escalations (\n-    id bigint NOT NULL,\n-    rule_id bigint NOT NULL,\n-    issue_id bigint NOT NULL,\n-    process_at timestamp with time zone NOT NULL,\n-    created_at timestamp with time zone NOT NULL,\n-    updated_at timestamp with time zone NOT NULL\n-)\n-PARTITION BY RANGE (process_at);\n-\n CREATE TABLE loose_foreign_keys_deleted_records (\n     id bigint NOT NULL,\n     partition bigint DEFAULT 1 NOT NULL,\n@@ -297,36 +257,6 @@ CREATE TABLE loose_foreign_keys_deleted_records (\n )\n PARTITION BY LIST (partition);\n \n-CREATE TABLE verification_codes (\n-    created_at timestamp with time zone DEFAULT now() NOT NULL,\n-    visitor_id_code text NOT NULL,\n-    code text NOT NULL,\n-    phone text NOT NULL,\n-    CONSTRAINT check_9b84e6aaff CHECK ((char_length(code) \u003c= 8)),\n-    CONSTRAINT check_ccc542256b CHECK ((char_length(visitor_id_code) \u003c= 64)),\n-    CONSTRAINT check_f5684c195b CHECK ((char_length(phone) \u003c= 50))\n-)\n-PARTITION BY RANGE (created_at);\n-\n-COMMENT ON TABLE verification_codes IS 'JiHu-specific table';\n-\n-CREATE TABLE web_hook_logs (\n-    id bigint NOT NULL,\n-    web_hook_id integer NOT NULL,\n-    trigger character varying,\n-    url character varying,\n-    request_headers text,\n-    request_data text,\n-    response_headers text,\n-    response_body text,\n-    response_status character varying,\n-    execution_duration double precision,\n-    internal_error_message character varying,\n-    updated_at timestamp without time zone NOT NULL,\n-    created_at timestamp without time zone NOT NULL\n-)\n-PARTITION BY RANGE (created_at);\n-\n CREATE TABLE analytics_cycle_analytics_issue_stage_events (\n     stage_event_hash_id bigint NOT NULL,\n     issue_id bigint NOT NULL,\n@@ -11628,6 +11558,26 @@ CREATE SEQUENCE atlassian_identities_user_id_seq\n \n ALTER SEQUENCE atlassian_identities_user_id_seq OWNED BY atlassian_identities.user_id;\n \n+CREATE TABLE audit_events (\n+    id bigint NOT NULL,\n+    author_id integer NOT NULL,\n+    entity_id integer NOT NULL,\n+    entity_type character varying NOT NULL,\n+    details text,\n+    ip_address inet,\n+    author_name text,\n+    entity_path text,\n+    target_details text,\n+    created_at timestamp without time zone NOT NULL,\n+    target_type text,\n+    target_id bigint,\n+    CONSTRAINT check_492aaa021d CHECK ((char_length(entity_path) \u003c= 5500)),\n+    CONSTRAINT check_83ff8406e2 CHECK ((char_length(author_name) \u003c= 255)),\n+    CONSTRAINT check_97a8c868e7 CHECK ((char_length(target_type) \u003c= 255)),\n+    CONSTRAINT check_d493ec90b5 CHECK ((char_length(target_details) \u003c= 5500))\n+)\n+PARTITION BY RANGE (created_at);\n+\n CREATE TABLE audit_events_external_audit_event_destinations (\n     id bigint NOT NULL,\n     namespace_id bigint NOT NULL,\n@@ -16144,6 +16094,16 @@ CREATE SEQUENCE incident_management_oncall_shifts_id_seq\n \n ALTER SEQUENCE incident_management_oncall_shifts_id_seq OWNED BY incident_management_oncall_shifts.id;\n \n+CREATE TABLE incident_management_pending_alert_escalations (\n+    id bigint NOT NULL,\n+    rule_id bigint NOT NULL,\n+    alert_id bigint NOT NULL,\n+    process_at timestamp with time zone NOT NULL,\n+    created_at timestamp with time zone NOT NULL,\n+    updated_at timestamp with time zone NOT NULL\n+)\n+PARTITION BY RANGE (process_at);\n+\n CREATE SEQUENCE incident_management_pending_alert_escalations_id_seq\n     START WITH 1\n     INCREMENT BY 1\n@@ -16153,6 +16113,16 @@ CREATE SEQUENCE incident_management_pending_alert_escalations_id_seq\n \n ALTER SEQUENCE incident_management_pending_alert_escalations_id_seq OWNED BY incident_management_pending_alert_escalations.id;\n \n+CREATE TABLE incident_management_pending_issue_escalations (\n+    id bigint NOT NULL,\n+    rule_id bigint NOT NULL,\n+    issue_id bigint NOT NULL,\n+    process_at timestamp with time zone NOT NULL,\n+    created_at timestamp with time zone NOT NULL,\n+    updated_at timestamp with time zone NOT NULL\n+)\n+PARTITION BY RANGE (process_at);\n+\n CREATE SEQUENCE incident_management_pending_issue_escalations_id_seq\n     START WITH 1\n     INCREMENT BY 1\n@@ -21846,6 +21816,19 @@ CREATE SEQUENCE users_statistics_id_seq\n \n ALTER SEQUENCE users_statistics_id_seq OWNED BY users_statistics.id;\n \n+CREATE TABLE verification_codes (\n+    created_at timestamp with time zone DEFAULT now() NOT NULL,\n+    visitor_id_code text NOT NULL,\n+    code text NOT NULL,\n+    phone text NOT NULL,\n+    CONSTRAINT check_9b84e6aaff CHECK ((char_length(code) \u003c= 8)),\n+    CONSTRAINT check_ccc542256b CHECK ((char_length(visitor_id_code) \u003c= 64)),\n+    CONSTRAINT check_f5684c195b CHECK ((char_length(phone) \u003c= 50))\n+)\n+PARTITION BY RANGE (created_at);\n+\n+COMMENT ON TABLE verification_codes IS 'JiHu-specific table';\n+\n CREATE TABLE vulnerabilities (\n     id bigint NOT NULL,\n     milestone_id bigint,\n@@ -22328,6 +22311,23 @@ CREATE SEQUENCE vulnerability_user_mentions_id_seq\n \n ALTER SEQUENCE vulnerability_user_mentions_id_seq OWNED BY vulnerability_user_mentions.id;\n \n+CREATE TABLE web_hook_logs (\n+    id bigint NOT NULL,\n+    web_hook_id integer NOT NULL,\n+    trigger character varying,\n+    url character varying,\n+    request_headers text,\n+    request_data text,\n+    response_headers text,\n+    response_body text,\n+    response_status character varying,\n+    execution_duration double precision,\n+    internal_error_message character varying,\n+    updated_at timestamp without time zone NOT NULL,\n+    created_at timestamp without time zone NOT NULL\n+)\n+PARTITION BY RANGE (created_at);\n+\n CREATE SEQUENCE web_hook_logs_id_seq\n     START WITH 1\n     INCREMENT BY 1\n\n```\n\u003c/details\u003e","state":"closed","created_at":"2022-06-30T01:38:33.244Z","updated_at":"2022-09-18T16:57:21.454Z","closed_at":"2022-09-12T03:00:39.834Z","closed_by":{"id":3170776,"username":"krasio","name":"Krasimir Angelov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3170776/avatar.png","web_url":"https://gitlab.com/krasio"},"labels":["Category:Database","database::active","devops::data_stores","group::database","missed:15.2","missed:15.3","section::enablement","type::maintenance","workflow::production"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":3170776,"username":"krasio","name":"Krasimir Angelov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3170776/avatar.png","web_url":"https://gitlab.com/krasio"}],"author":{"id":3170776,"username":"krasio","name":"Krasimir Angelov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3170776/avatar.png","web_url":"https://gitlab.com/krasio"},"type":"ISSUE","assignee":{"id":3170776,"username":"krasio","name":"Krasimir Angelov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3170776/avatar.png","web_url":"https://gitlab.com/krasio"},"user_notes_count":5,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/366597","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/366597","notes":"https://gitlab.com/api/v4/projects/278964/issues/366597/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/366597/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#366597","relative":"#366597","full":"gitlab-org/gitlab#366597"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":110927315,"iid":366588,"project_id":278964,"title":"Python error during backoff handing in some cases","description":"### Problem\n\nPrior to starting a test, the `worker-entry` script waits for the scan target to become available using an exponential back off module.\nIn some cases, exceptions that are raised are not compatible with the back off module (don't extend from `BaseException`) causing a python error that is not actionable by the end user.\n\nA customer would run into this issue if the hostname doesn't resolve.\n\nExcerpt from worker-entry debug log:\n\n```\n2022-06-29 21:16:06 [INF] API Security: Backing off 52.1 seconds afters 10 tries\n2022-06-29 21:16:58 [WAR] API Security: Waiting for url 'http://vulnapp:8080', failed: catching classes that do not inherit from BaseException is not allowed\n2022-06-29 21:16:58 [DEB] API Security: Waiting for url 'http://vulnapp:8080', failed: catching classes that do not inherit from BaseException is not allowed\nTraceback (most recent call last):\n  File \"/usr/lib/python3.6/site-packages/urllib3/connection.py\", line 162, in _new_conn\n    (self._dns_host, self.port), self.timeout, **extra_kw)\n  File \"/usr/lib/python3.6/site-packages/urllib3/util/connection.py\", line 57, in create_connection\n    for res in socket.getaddrinfo(host, port, family, socket.SOCK_STREAM):\n  File \"/usr/lib64/python3.6/socket.py\", line 745, in getaddrinfo\n    for res in _socket.getaddrinfo(host, port, family, type, proto, flags):\nsocket.gaierror: [Errno -2] Name or service not known\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/usr/lib/python3.6/site-packages/urllib3/connectionpool.py\", line 600, in urlopen\n    chunked=chunked)\n  File \"/usr/lib/python3.6/site-packages/urllib3/connectionpool.py\", line 354, in _make_request\n    conn.request(method, url, **httplib_request_kw)\n  File \"/usr/lib64/python3.6/http/client.py\", line 1273, in request\n    self._send_request(method, url, body, headers, encode_chunked)\n  File \"/usr/lib64/python3.6/http/client.py\", line 1319, in _send_request\n    self.endheaders(body, encode_chunked=encode_chunked)\n  File \"/usr/lib64/python3.6/http/client.py\", line 1268, in endheaders\n    self._send_output(message_body, encode_chunked=encode_chunked)\n  File \"/usr/lib64/python3.6/http/client.py\", line 1044, in _send_output\n    self.send(msg)\n  File \"/usr/lib64/python3.6/http/client.py\", line 982, in send\n    self.connect()\n  File \"/usr/lib/python3.6/site-packages/urllib3/connection.py\", line 184, in connect\n    conn = self._new_conn()\n  File \"/usr/lib/python3.6/site-packages/urllib3/connection.py\", line 171, in _new_conn\n    self, \"Failed to establish a new connection: %s\" % e)\nurllib3.exceptions.NewConnectionError: \u003curllib3.connection.HTTPConnection object at 0x7eff07f7a518\u003e: Failed to establish a new connection: [Errno -2] Name or service not known\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.6/site-packages/requests/adapters.py\", line 449, in send\n    timeout=timeout\n  File \"/usr/lib/python3.6/site-packages/urllib3/connectionpool.py\", line 638, in urlopen\n    _stacktrace=sys.exc_info()[2])\n  File \"/usr/lib/python3.6/site-packages/urllib3/util/retry.py\", line 399, in increment\n    raise MaxRetryError(_pool, url, error or ResponseError(cause))\nurllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='vulnapp', port=8080): Max retries exceeded with url: / (Caused by NewConnectionError('\u003curllib3.connection.HTTPConnection object at 0x7eff07f7a518\u003e: Failed to establish a new connection: [Errno -2] Name or service not known',))\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.6/site-packages/backoff/_sync.py\", line 94, in retry\n    ret = target(*args, **kwargs)\n  File \"/usr/local/lib/python3.6/site-packages/backoff/_sync.py\", line 94, in retry\n    ret = target(*args, **kwargs)\n  File \"/usr/local/lib/python3.6/site-packages/backoff/_sync.py\", line 43, in retry\n    ret = target(*args, **kwargs)\n  File \"/usr/local/lib/python3.6/site-packages/worker_entry/main.py\", line 925, in _wait_url\n    return requests.get(url, verify=False)\n  File \"/usr/local/lib/python3.6/site-packages/requests/api.py\", line 76, in get\n    return request('get', url, params=params, **kwargs)\n  File \"/usr/local/lib/python3.6/site-packages/requests/api.py\", line 61, in request\n    return session.request(method=method, url=url, **kwargs)\n  File \"/usr/local/lib/python3.6/site-packages/requests/sessions.py\", line 542, in request\n    resp = self.send(prep, **send_kwargs)\n  File \"/usr/local/lib/python3.6/site-packages/requests/sessions.py\", line 655, in send\n    r = adapter.send(request, **kwargs)\n  File \"/usr/local/lib/python3.6/site-packages/requests/adapters.py\", line 516, in send\n    raise ConnectionError(e, request=request)\nrequests.exceptions.ConnectionError: HTTPConnectionPool(host='vulnapp', port=8080): Max retries exceeded with url: / (Caused by NewConnectionError('\u003curllib3.connection.HTTPConnection object at 0x7eff07f7a518\u003e: Failed to establish a new connection: [Errno -2] Name or service not known',))\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.6/site-packages/worker_entry/main.py\", line 929, in wait_for_url\n    ret = _wait_url(url)\n  File \"/usr/local/lib/python3.6/site-packages/backoff/_sync.py\", line 95, in retry\n    except exception as e:\nTypeError: catching classes that do not inherit from BaseException is not allowed\n2022-06-29 21:16:58 [ERR] API Security: Error waiting for target 'http://vulnapp:8080' to become available.\n```\n\n### Proposal\n\nThe issue stems from providing the name of a regular class instead of an exception to the `on_exception` annotation.\n\n1. [x] Combine multiple `on_exception` annotations into one\n1. [x] Verify all named exceptions are actually exceptions\n1. [x] Add additional messages to _give_up\n1. [x] Add additional tests for this feature (bug was not caught by unit tests)\n1. [x] Publish new version of container","state":"closed","created_at":"2022-06-29T21:59:13.441Z","updated_at":"2022-07-13T14:04:16.469Z","closed_at":"2022-07-05T22:37:49.996Z","closed_by":{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"},"labels":["Category:API Security","GitLab Ultimate","backend","devops::secure","group::dynamic analysis","milestone::p2","priority::3","section::sec","severity::3","type::bug","workflow::production"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"}],"author":{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"},"type":"ISSUE","assignee":{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/366588","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":5,"completed_count":5},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"5 of 5 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/366588","notes":"https://gitlab.com/api/v4/projects/278964/issues/366588/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/366588/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#366588","relative":"#366588","full":"gitlab-org/gitlab#366588"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":110923920,"iid":366581,"project_id":278964,"title":"Make language aggregations a separate Elasticsearch call","description":"## Summary\n\n\u003c!--\nPlease briefly describe what part of the code base needs to be refactored.\n--\u003e\n\nCurrently the Elasticsearch `blobs` scope search includes a `language` aggregation that is returned with the search results. The aggregation needs to be refactored to be a separate call to Elasticsearch because when search is filtered by a `language` the aggregations returned also change. The new Elasticsearch query to return aggregations needs to ignore the `language` filter\n\n## Improvements\n\nThis will allow the UI to function as intended. Language facets will be presented to the user as a multi-select checkbox and the user will be able to select multiple languages which then filter the results down to include only those languages selected.\n\n\u003c!--\nExplain the benefits of refactoring this code.\nSee also https://about.gitlab.com/handbook/values/index.html#say-why-not-just-what\n--\u003e\n\n## Risks\n\n\u003c!--\nPlease list features that can break because of this refactoring and how you intend to solve that.\n--\u003e\n\nThis feature is not released and is behind an off by default feature flag.\n\nThis is an initial iteration which combines two Elasticsearch calls when a `blobs` scoped search is run. This could increase search response times. A second iteration would be to make this a separate internal endpoint for the frontend to consume (issue will be opened to do so).\n\n## Involved components\n\nthe [`blob_aggregations` within GitClassProxy](ee/lib/elastic/latest/git_class_proxy.rb#L39) should be modified to make a new Elasticsearch call which ignores the language filter selected\n\n\u003c!--\nList files or directories that will be changed by the refactoring.\n--\u003e\n\n## Optional: Intended side effects\n\n\u003c!--\nIf the refactoring involves changes apart from the main improvements (such as a better UI), list them here.\nIt may be a good idea to create separate issues and link them here.\n--\u003e\n\nThe way this is currently implemented, the UI will show language facets available which will be reduced every time a language is selected to that language. It may be impossible to select more than one language at a time (which is the intent of the feature).\n\n\u003c!--\nPlease select the appropriate label from the following:\n    ~\"feature::addition\"\n    ~\"type::maintenance\"\n    ~\"maintenance::refactor\"\n    ~\"maintenance::pipelines\"\n    ~\"maintenance::workflow\"\n--\u003e","state":"closed","created_at":"2022-06-29T20:33:19.244Z","updated_at":"2022-08-21T12:07:02.888Z","closed_at":"2022-07-26T00:42:13.830Z","closed_by":{"id":5708766,"username":"terrichu","name":"Terri Chu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5708766/avatar.png","web_url":"https://gitlab.com/terrichu"},"labels":["Category:Global Search","Deliverable","backend","devops::data_stores","group::global search","section::enablement","type::feature","workflow::verification"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":5708766,"username":"terrichu","name":"Terri Chu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5708766/avatar.png","web_url":"https://gitlab.com/terrichu"}],"author":{"id":5708766,"username":"terrichu","name":"Terri Chu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5708766/avatar.png","web_url":"https://gitlab.com/terrichu"},"type":"ISSUE","assignee":{"id":5708766,"username":"terrichu","name":"Terri Chu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5708766/avatar.png","web_url":"https://gitlab.com/terrichu"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/366581","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":2,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/366581","notes":"https://gitlab.com/api/v4/projects/278964/issues/366581/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/366581/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#366581","relative":"#366581","full":"gitlab-org/gitlab#366581"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6853,"epic":{"id":362357,"iid":6853,"title":"Add search filtering by programming language","url":"/groups/gitlab-org/-/epics/6853","group_id":9970,"human_readable_end_date":"Aug 22, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":110910922,"iid":366559,"project_id":278964,"title":"Create an index on created_at for protected_environments and protected_environment_approval_rules","description":"The following discussion from !90089 should be addressed:\n\n- [x] @engwan started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/90089#note_1010629903):  (+2 comments)\n\n    \u003e @ahmed.hemdan looks good to me. I left some notes regarding performance, but I'll approve and merge since it can be done in a follow-up.\n    \u003e \n    \u003e Or are these tables expected to be small for all instances so we don't need an index?\n\n#### Proposal\n\nCreate an index on `created_at` for the following two tables:\n\n- `protected_environments`\n- `protected_environment_approval_rules`\n\nTo ensure instrumentations introduced in !90089 avoid sequential scans when querying the database tables.","state":"closed","created_at":"2022-06-29T15:34:38.265Z","updated_at":"2022-07-14T09:07:04.655Z","closed_at":"2022-07-14T09:07:04.631Z","closed_by":{"id":11334402,"username":"ahmed.hemdan","name":"Ahmed Hemdan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11334402/avatar.png","web_url":"https://gitlab.com/ahmed.hemdan"},"labels":["Category:Environment Management","database","devops::release","group::release","section::ops","type::maintenance"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":11334402,"username":"ahmed.hemdan","name":"Ahmed Hemdan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11334402/avatar.png","web_url":"https://gitlab.com/ahmed.hemdan"}],"author":{"id":11334402,"username":"ahmed.hemdan","name":"Ahmed Hemdan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11334402/avatar.png","web_url":"https://gitlab.com/ahmed.hemdan"},"type":"ISSUE","assignee":{"id":11334402,"username":"ahmed.hemdan","name":"Ahmed Hemdan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11334402/avatar.png","web_url":"https://gitlab.com/ahmed.hemdan"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/366559","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":1},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"1 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/366559","notes":"https://gitlab.com/api/v4/projects/278964/issues/366559/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/366559/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#366559","relative":"#366559","full":"gitlab-org/gitlab#366559"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":110907832,"iid":366554,"project_id":278964,"title":"Remove index_vulnerabilities_on_author_id","description":"## Why are we doing this work?\n\nWhen working on https://gitlab.com/gitlab-org/gitlab/-/merge_requests/90168+ we realized that no query uses `index_vulnerabilities_on_author_id` index so theoretically it should be okay to remove it\n\n## Implementation plan\n\n- [ ] Create a post-deployment migration that drops the index concurrently","state":"closed","created_at":"2022-06-29T14:42:38.946Z","updated_at":"2022-11-17T17:29:45.826Z","closed_at":"2022-11-17T17:29:45.802Z","closed_by":{"id":487608,"username":"Quintasan","name":"Michał Zając","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/487608/avatar.png","web_url":"https://gitlab.com/Quintasan"},"labels":["Category:Vulnerability Management","[deprecated] Accepting merge requests","backend","database","devops::govern","good for new contributors","group::threat insights","section::sec","type::maintenance","workflow::ready for development"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":487608,"username":"Quintasan","name":"Michał Zając","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/487608/avatar.png","web_url":"https://gitlab.com/Quintasan"},"type":"ISSUE","assignee":null,"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/366554","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/366554","notes":"https://gitlab.com/api/v4/projects/278964/issues/366554/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/366554/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#366554","relative":"#366554","full":"gitlab-org/gitlab#366554"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":110907254,"iid":366553,"project_id":278964,"title":"[Feature flag] Cleanup import_release_authors_from_github","description":"Related to https://gitlab.com/gitlab-org/gitlab/-/issues/365456\n\nSince FF is globally enabled, clean up the code.","state":"closed","created_at":"2022-06-29T14:37:26.688Z","updated_at":"2022-07-22T12:08:30.184Z","closed_at":"2022-07-22T12:08:30.163Z","closed_by":{"id":9253328,"username":"bala.kumar","name":"Bala Kumar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9253328/avatar.png","web_url":"https://gitlab.com/bala.kumar"},"labels":["auto updated","backend","devops::release","feature flag","group::release","section::ops","workflow::verification"],"milestone":null,"assignees":[{"id":9253328,"username":"bala.kumar","name":"Bala Kumar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9253328/avatar.png","web_url":"https://gitlab.com/bala.kumar"}],"author":{"id":9253328,"username":"bala.kumar","name":"Bala Kumar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9253328/avatar.png","web_url":"https://gitlab.com/bala.kumar"},"type":"ISSUE","assignee":{"id":9253328,"username":"bala.kumar","name":"Bala Kumar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9253328/avatar.png","web_url":"https://gitlab.com/bala.kumar"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/366553","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/366553","notes":"https://gitlab.com/api/v4/projects/278964/issues/366553/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/366553/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#366553","relative":"#366553","full":"gitlab-org/gitlab#366553"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8375,"epic":{"id":565993,"iid":8375,"title":"Ensure new Releases always have `author_id`","url":"/groups/gitlab-org/-/epics/8375","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":null},{"id":110906787,"iid":366552,"project_id":278964,"title":"Update identifier format to support more types (backend)","description":"In order to support OWASP and better scale our current security training url API, we need to update our `identifier` format. \n\n**NEW**\n\n```\n[external_type]-[external_id]-[external_name]\n\n# different data is grouped with a square bracket [], separated with a dash -\n```\n\nExample:\n\n![image](/uploads/aaee9d34c0e7bd8cff4c913ee94b0563/image.png)\n\n```\n[CWE]-[79]-[CWE-79]\n```\n\n## Why?\n\n* With Owasp, the mapping key exists in the `external_id`\n* Whereas with CWE, the mapping key was [most likely](https://gitlab.com/gitlab-org/gitlab/-/issues/357008#note_900096845) found in the `name`\n* The standardized format ensures we are sending the same data structure irregardless of the identifier type. Which will help with scalability when more types are supported.\n\n## Related issue\n\nThe FE issue is here \u003e https://gitlab.com/gitlab-org/gitlab/-/issues/366551\n\n## Implementation plan: \n\n- [x] Update https://gitlab.com/gitlab-org/gitlab/-/blob/master/ee/app/finders/security/training_providers/base_url_finder.rb#L13 to consume new format [external_type]-[external_id]-[external_name] (parse it in a way so that it does not break existing specs)\n- [x] Make sure it is not breaking existing working version of security training feature for `cwe`","state":"closed","created_at":"2022-06-29T14:31:30.343Z","updated_at":"2022-07-20T18:32:20.228Z","closed_at":"2022-07-18T09:09:06.133Z","closed_by":{"id":3993566,"username":"sming-gitlab","name":"Samantha Ming","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3993566/avatar.png","web_url":"https://gitlab.com/sming-gitlab"},"labels":["backend","devops::secure","feature::addition","group::threat insights","section::sec","type::feature","workflow::verification"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":3993566,"username":"sming-gitlab","name":"Samantha Ming","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3993566/avatar.png","web_url":"https://gitlab.com/sming-gitlab"},{"id":7825316,"username":"subashis","name":"Subashis  Chakraborty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7825316/avatar.png","web_url":"https://gitlab.com/subashis"}],"author":{"id":3993566,"username":"sming-gitlab","name":"Samantha Ming","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3993566/avatar.png","web_url":"https://gitlab.com/sming-gitlab"},"type":"ISSUE","assignee":{"id":3993566,"username":"sming-gitlab","name":"Samantha Ming","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3993566/avatar.png","web_url":"https://gitlab.com/sming-gitlab"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/366552","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":2},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"2 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/366552","notes":"https://gitlab.com/api/v4/projects/278964/issues/366552/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/366552/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#366552","relative":"#366552","full":"gitlab-org/gitlab#366552"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7805,"epic":{"id":485503,"iid":7805,"title":"Security Training 2.0","url":"/groups/gitlab-org/-/epics/7805","group_id":9970,"human_readable_end_date":"Oct 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":110906732,"iid":366551,"project_id":278964,"title":"Update identifier format to support more types (frontend)","description":"In order to support OWASP and better scale our current security training url API, we need to update our `identifier` format. \n\n**NEW**\n\n```\n[external_type]-[external_id]-[external_name]\n\n# different data is grouped with a square bracket [], separated with a dash -\n```\n\nExample:\n\n![image](/uploads/aaee9d34c0e7bd8cff4c913ee94b0563/image.png)\n\n```\n[CWE]-[79]-[CWE-79]\n```\n\n## Why?\n\n* With Owasp, the mapping key exists in the `external_id`\n* Whereas with CWE, the mapping key was [most likely](https://gitlab.com/gitlab-org/gitlab/-/issues/357008#note_900096845) found in the `name`\n* The standardized format ensures we are sending the same data structure irregardless of the identifier type. Which will help with scalability when more types are supported.\n\n## Implementation\n\nWe will make the changes in the follow pages:\n- Vulnerability details\n- Pipeline modal\n- MR modal","state":"closed","created_at":"2022-06-29T14:30:50.244Z","updated_at":"2022-07-18T09:09:03.800Z","closed_at":"2022-07-18T09:09:03.774Z","closed_by":{"id":3993566,"username":"sming-gitlab","name":"Samantha Ming","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3993566/avatar.png","web_url":"https://gitlab.com/sming-gitlab"},"labels":["devops::secure","feature::addition","frontend","group::threat insights","section::sec","type::feature","workflow::verification"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":3993566,"username":"sming-gitlab","name":"Samantha Ming","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3993566/avatar.png","web_url":"https://gitlab.com/sming-gitlab"}],"author":{"id":3993566,"username":"sming-gitlab","name":"Samantha Ming","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3993566/avatar.png","web_url":"https://gitlab.com/sming-gitlab"},"type":"ISSUE","assignee":{"id":3993566,"username":"sming-gitlab","name":"Samantha Ming","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3993566/avatar.png","web_url":"https://gitlab.com/sming-gitlab"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/366551","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/366551","notes":"https://gitlab.com/api/v4/projects/278964/issues/366551/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/366551/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#366551","relative":"#366551","full":"gitlab-org/gitlab#366551"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7805,"epic":{"id":485503,"iid":7805,"title":"Security Training 2.0","url":"/groups/gitlab-org/-/epics/7805","group_id":9970,"human_readable_end_date":"Oct 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":110900597,"iid":366544,"project_id":278964,"title":"Use the agent name as a namespace name","description":"\u003c!-- This template is a great use for issues that are feature::additions or technical tasks for larger issues.--\u003e\n\n### Proposal\n\nWhen the agent or agent access token is created, we are showing the installation instructions, which should be performed in the cluster. Currently, the suggested namespace for the agent is always `gitlab-agent`. We are already using the agent name as a release name. The proposal is to use a different namespace for each agent as well.\n\n\u003ctable\u003e\n    \u003cthead\u003e\n        \u003ctr\u003e\n            \u003cth scope=\"col\"\u003eBefore\u003c/th\u003e\n            \u003cth scope=\"col\"\u003eAfter\u003c/th\u003e\n        \u003c/tr\u003e\n    \u003c/thead\u003e\n    \u003ctbody\u003e\n        \u003ctr\u003e\n            \u003ctd\u003e\n\n```bash:\nhelm repo add gitlab https://charts.gitlab.io\nhelm repo update\nhelm upgrade --install ${name} gitlab/gitlab-agent \\\n    --namespace gitlab-agent \\\n    --create-namespace \\\n    --set image.tag=v${version} \\\n    --set config.token=${token} \\\n    --set config.kasAddress=${address}`\n```\n\n\u003c/td\u003e\n\u003ctd\u003e\n\n```bash:\nhelm repo add gitlab https://charts.gitlab.io\nhelm repo update\nhelm upgrade --install ${name} gitlab/gitlab-agent \\\n    --namespace gitlab-agent-${name} \\\n    --create-namespace \\\n    --set image.tag=v${version} \\\n    --set config.token=${token} \\\n    --set config.kasAddress=${address}`\n```\n\n\u003c/td\u003e\n        \u003c/tr\u003e\n    \u003c/tbody\u003e\n\u003c/table\u003e\n\n\n#### Pros\n- It's easier to find after agent creation\n\n#### Cons\n- The agent needs to figure out where it lives to upgrade. Every time we change the command we make this process harder\n- ~~Based on the agent name we can end up deploying it to the default namespace~~ - this concern can be solved by adding a prefix `gitlab-agent-` to the namespace.\n\n\u003c!-- Label reminders\nUse the following resources to find the appropriate labels:\n- https://gitlab.com/gitlab-org/gitlab/-/labels\n- https://about.gitlab.com/handbook/product/categories/features/\n--\u003e","state":"closed","created_at":"2022-06-29T12:53:12.615Z","updated_at":"2022-12-05T09:03:44.006Z","closed_at":"2022-12-02T08:41:23.968Z","closed_by":{"id":9094263,"username":"anna_vovchenko","name":"Anna Vovchenko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9094263/avatar.png","web_url":"https://gitlab.com/anna_vovchenko"},"labels":["Category:Kubernetes Management","GitLab Free","GitLab Premium","GitLab Ultimate","[deprecated] Accepting merge requests","configure::backlog","devops::configure","documentation","feature::enhancement","frontend","group::configure","section::ops","type::feature","workflow::production"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":9094263,"username":"anna_vovchenko","name":"Anna Vovchenko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9094263/avatar.png","web_url":"https://gitlab.com/anna_vovchenko"}],"author":{"id":9094263,"username":"anna_vovchenko","name":"Anna Vovchenko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9094263/avatar.png","web_url":"https://gitlab.com/anna_vovchenko"},"type":"ISSUE","assignee":{"id":9094263,"username":"anna_vovchenko","name":"Anna Vovchenko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9094263/avatar.png","web_url":"https://gitlab.com/anna_vovchenko"},"user_notes_count":10,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/366544","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/366544","notes":"https://gitlab.com/api/v4/projects/278964/issues/366544/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/366544/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#366544","relative":"#366544","full":"gitlab-org/gitlab#366544"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":110890874,"iid":366529,"project_id":278964,"title":"Follow-up from \"Added approval checkbox to submit review dropdown\"","description":"## Summary\n\n`approve_merge_request` access rights can be checked via 2 methods: \n\n`Ability.allowed?(current_user, :approve_merge_request, merge_request)`\n`merge_request.can_approve?(current_user)` \n\nwhich has different implementation. This dualism creates additional complexity and possible mistakes. it would be great to have `can_approve?` merged into a policy so the policy becomes the only source of truth.\n\nThere is also `ApprovalState#can_be_approved_by?` method which duplicates `merge_request.can_approve?(current_user)` and adds more logic. \n\n## Original discussion\n\nThe following discussion from !90004 should be addressed:\n\n- [ ] @pshutsin started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/90004#note_1009117225): \n\n    \u003e that's weird we have 2 sources of truth here.\n    \u003e \n    \u003e `can?(current_user, :approve_merge_request, merge_request)`\n    \u003e \n    \u003e `merge_request.can_approve?(current_user)`\n    \u003e \n    \u003e And as I see they are out of sync. We should create an issue to unify it.\n\n\n@iamphill I'm not sure whom to assign this to for scheduling so assigning to you. Could you please reroute it?","state":"closed","created_at":"2022-06-29T10:32:35.462Z","updated_at":"2022-10-21T12:01:35.673Z","closed_at":"2022-09-28T07:51:01.166Z","closed_by":{"id":4901936,"username":"dskim_gitlab","name":"Sincheol (David) Kim","state":"active","avatar_url":"https://secure.gravatar.com/avatar/84a984a56c54d1d31338678421cecc32?s=80\u0026d=identicon","web_url":"https://gitlab.com/dskim_gitlab"},"labels":["Category:Code Review Workflow","Deliverable","backend","devops::create","group::code review","merge requests","missed-deliverable","missed:15.3","missed:15.4","section::dev","type::maintenance","workflow::in review"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":4901936,"username":"dskim_gitlab","name":"Sincheol (David) Kim","state":"active","avatar_url":"https://secure.gravatar.com/avatar/84a984a56c54d1d31338678421cecc32?s=80\u0026d=identicon","web_url":"https://gitlab.com/dskim_gitlab"}],"author":{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"},"type":"ISSUE","assignee":{"id":4901936,"username":"dskim_gitlab","name":"Sincheol (David) Kim","state":"active","avatar_url":"https://secure.gravatar.com/avatar/84a984a56c54d1d31338678421cecc32?s=80\u0026d=identicon","web_url":"https://gitlab.com/dskim_gitlab"},"user_notes_count":15,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/366529","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":0,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/366529","notes":"https://gitlab.com/api/v4/projects/278964/issues/366529/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/366529/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#366529","relative":"#366529","full":"gitlab-org/gitlab#366529"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":110886087,"iid":366525,"project_id":278964,"title":"Insert Table of Contents in the content editor","description":"We should have a way to insert table of contents in content editor. Perhaps it can go in the `+` dropdown.\n\nAlso, in the spirit of WYSWYG, it would be good to have the table of contents render the real table of contents that live update as the markdown document changes. Tiptap has a working example of this and we can use the code from there: https://tiptap.dev/guide/node-views/examples#table-of-contents","state":"closed","created_at":"2022-06-29T09:43:21.895Z","updated_at":"2022-11-29T03:54:08.039Z","closed_at":"2022-08-10T14:48:21.655Z","closed_by":{"id":5212466,"username":"ericschurter","name":"Eric Schurter","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5212466/avatar.png","web_url":"https://gitlab.com/ericschurter"},"labels":["Content Editor","GitLab Free","devops::create","feature::addition","frontend","group::editor","missed:15.2","section::dev","type::feature","workflow::in review"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":2398164,"username":"himkp","name":"Himanshu Kapoor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2398164/avatar.png","web_url":"https://gitlab.com/himkp"}],"author":{"id":2398164,"username":"himkp","name":"Himanshu Kapoor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2398164/avatar.png","web_url":"https://gitlab.com/himkp"},"type":"ISSUE","assignee":{"id":2398164,"username":"himkp","name":"Himanshu Kapoor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2398164/avatar.png","web_url":"https://gitlab.com/himkp"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/366525","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/366525","notes":"https://gitlab.com/api/v4/projects/278964/issues/366525/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/366525/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#366525","relative":"#366525","full":"gitlab-org/gitlab#366525"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5438,"epic":{"id":209984,"iid":5438,"title":"GitLab Flavored Markdown extensions for Content Editor","url":"/groups/gitlab-org/-/epics/5438","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":110884122,"iid":366524,"project_id":278964,"title":"Remove streaming_audit_event_headers feature flag","description":"\u003c!-- This template is a great use for issues that are feature::additions or technical tasks for larger issues.--\u003e\n\n### Proposal\n\n* In %15.2 we enabled the `streaming_audit_event_headers` flag by default. We should remove it in %15.3. \n* Rollout issue: https://gitlab.com/gitlab-org/gitlab/-/issues/362941\n\n### Implementation Plan\n\n* Remove all code references to `streaming_audit_event_headers`.\n* Remove all specs references to `streaming_audit_event_headers`.\n* Delete `streaming_audit_event_headers` definition YAML file.\n* Update feature flag documentation.\n\n\u003c!-- Label reminders\nUse the following resources to find the appropriate labels:\n- https://gitlab.com/gitlab-org/gitlab/-/labels\n- https://about.gitlab.com/handbook/product/categories/features/\n--\u003e","state":"closed","created_at":"2022-06-29T09:15:59.394Z","updated_at":"2022-12-06T02:25:53.013Z","closed_at":"2022-07-25T06:59:34.719Z","closed_by":{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"},"labels":["GitLab Ultimate","backend","devops::manage","documentation","feature flag","group::compliance","ideal for new hires","priority::3","section::dev","type::maintenance","workflow::verification"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"}],"author":{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"},"type":"ISSUE","assignee":{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/366524","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/366524","notes":"https://gitlab.com/api/v4/projects/278964/issues/366524/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/366524/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#366524","relative":"#366524","full":"gitlab-org/gitlab#366524"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7976,"epic":{"id":512619,"iid":7976,"title":"APIs to specify custom HTTP headers for streaming audit events","url":"/groups/gitlab-org/-/epics/7976","group_id":9970,"human_readable_end_date":"Aug 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":110873354,"iid":366515,"project_id":278964,"title":"Bypass Open Redirect on Live preview WEB Ide opening","description":"**[HackerOne report #1613430](https://hackerone.com/reports/1613430)** by `otoyyy` on 2022-06-25, assigned to @rshambhuni:\n\n[Report](#report) | [Attachments](#attachments) | [How To Reproduce](#how-to-reproduce)\n\n## Report\n\n\u003e NOTE! Thanks for submitting a report! Please note that initial triage is handled by HackerOne staff. They are identified with a `HackerOne triage` badge and will escalate to the GitLab team any. Please replace *all* the (parenthesized) sections below with the pertinent details. Remember, the more detail you provide, the easier it is for us to triage and respond quickly, so be sure to take your time filling out the report!\n\n#####  Summary\n\nI would like to report a Bypass Open Redirect vulnerability in the Live Preview feature. Using the payload ```https://gitlab.com@123.123@evil.com``` can bypass the fix that has been made in the reports at https://hackerone.com/reports/437142 .\n\nThe ```open``` function is still a lot of vulnerability in this problem, But if we use ```opener``` it has a strong defense.  \n#####  Steps to reproduce\n\n(Step-by-step guide to reproduce the issue, including:)  \nTo verify the vulnerability, I have prepared an if file here https://gitlab.com/-/ide/project/testt1111/poc/edit/main/-/hey.js.\n\nIf you want to replicate you can use the steps below:\n\n1. Create ```create.json```  \n```  \n{\n   \"main\": \"hey.js\",  \n   \"dependencies\": {  \n     \"vue\": \"latest\"  \n   }  \n}\n```  \n2. Create ```hey.js```\n\nPayload : ```opener(\"https://gitlab.com@123.123@evil.com\");```\n\n3. Open it using Open in Web Ideas.\n\n4. Select Live Preview.\n\n#####  Impact\n\nBypass Open Redirect to redirect other users to the attacker's domain.\n\n#####  Examples\n\n(If the bug is project related, please create an example project and export it using the project export feature)\n\n(If you are using an older version of GitLab, this will also help determine whether the bug has been fixed in a more recent version)\n\n(If the bug can be reproduced on GitLab.com without violating the `Rules of Engagement` as outlined in the program policy, please provide the full path to the project.)\n\n#####  What is the current *bug* behavior?\n\nThe ```open```  javascript function is still a lot of vulnerability in the Ide Web feature. But the ```opener``` function can't make open redirect to attacker url. \n\n#####  What is the expected *correct* behavior?\n\nThe ```open``` function does not make open redirect to an external URL.  \n#####  Relevant logs and/or screenshots\n\n(Paste any relevant logs - please use code blocks (```) to format console output,  \nlogs, and code as it's very hard to read otherwise.)\n\n#####  Output of checks\n\n(If you are reporting a bug on GitLab.com, write: This bug happens on GitLab.com)\n\n######  Results of GitLab environment info\n\n(For installations with omnibus-gitlab package run and paste the output of:  \n`sudo gitlab-rake gitlab:env:info`)\n\n(For installations from source run and paste the output of:  \n`sudo -u git -H bundle exec rake gitlab:env:info RAILS_ENV=production`)\n\n####  Impact\n\nBypass Open Redirect to redirect other users to the attacker's domain.\n\n## Attachments\n\n**Warning:** Attachments received through HackerOne, please exercise caution!\n\n* [openredirectbypass.mp4](https://h1.sec.gitlab.net/a/726e3a81-6635-4b4f-8193-353f6e43c12a/openredirectbypass.mp4)\n\n## How To Reproduce\n\nPlease add [reproducibility information] to this section:\n\n1.\n1.\n1.\n\n[reproducibility information]: https://about.gitlab.com/handbook/engineering/security/#reproducibility-on-security-issues","state":"closed","created_at":"2022-06-29T06:32:45.838Z","updated_at":"2023-01-10T00:18:48.057Z","closed_at":"2022-07-08T09:27:37.521Z","closed_by":{"id":1646689,"username":"oregand","name":"David O'Regan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1646689/avatar.png","web_url":"https://gitlab.com/oregand"},"labels":["HackerOne","Weakness::CWE-601","[deprecated] Accepting merge requests","bug::vulnerability","dependency list","devops::create","frontend","group::editor","priority::3","section::dev","security","severity::4","type::bug","workflow::ready for development"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":2741139,"username":"gitlab-securitybot","name":"GitLab SecurityBot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2741139/avatar.png","web_url":"https://gitlab.com/gitlab-securitybot"},"type":"ISSUE","assignee":null,"user_notes_count":24,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/366515","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/366515","notes":"https://gitlab.com/api/v4/projects/278964/issues/366515/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/366515/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#366515","relative":"#366515","full":"gitlab-org/gitlab#366515"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":110864893,"iid":366477,"project_id":278964,"title":"Deprecate security report schemas version 14-x-x","description":"For guidance on the overall deprecations, removals and breaking changes workflow, please visit https://about.gitlab.com/handbook/product/gitlab-the-product/#breaking-changes-deprecations-and-removing-features\n\n### Deprecation Summary\n\nAs proposed and agreed in https://gitlab.com/gitlab-org/gitlab/-/issues/361289, all [security report schema](https://gitlab.com/gitlab-org/security-products/security-report-schemas) versions before `15-0-0` are deprecated in GitLab %15.8.\n\nSpecifically, all schemas in https://gitlab.com/gitlab-org/gitlab/-/tree/master/ee/lib/ee/gitlab/ci/parsers/security/validators/schemas that match `14.\\*.\\*` are deprecated in GitLab %15.8.\n\nSee [Security report validation](https://docs.gitlab.com/ee/user/application_security/#security-report-validation) for more information.\n\n### Breaking Change\n\nThis is **not** a breaking change.\n\nPlease note that any [security report scanner integration](https://docs.gitlab.com/ee/development/integrations/secure.html) with GitLab using a deprecated schema version will result in a deprecation warning as a result of [report validation](https://docs.gitlab.com/ee/development/integrations/secure.html#report-validation).\n\n### Affected Topology\n\n### Affected Tier\n\n* Ultimate\n* \n\n### Checklists\n\n**Labels**\n\n* [x] This issue is labeled ~deprecation, and with the relevant `\\~devops::`, `\\~group::`, and `\\~Category:` labels.\n* [ ] This issue is labeled ~\"breaking change\" if the removal of the deprecated item will be a [breaking change](https://about.gitlab.com/handbook/product/gitlab-the-product/#examples-of-breaking-changes).\n\n**Timeline**\n\nPlease add links to the relevant merge requests.\n\n* [x] As soon as possible, but no later than the third milestone preceding the major release (for example, given the following release schedule: `14.8, 14.9, 14.10, 15.0` – `14.8` is the third milestone preceding the major release):\n  * [x] A [deprecation entry](https://about.gitlab.com/handbook/marketing/blog/release-posts/#creating-a-deprecation-entry) has been created so the deprecation will appear in release posts and on the [general deprecation page](https://docs.gitlab.com/ee/update/deprecations).\n  * [x] Documentation has been updated to mark the feature as [deprecated](https://docs.gitlab.com/ee/development/documentation/versions.html#deprecations-and-removals).\n* [ ] On or before the major milestone: A [removal entry](https://about.gitlab.com/handbook/marketing/blog/release-posts/#removals) has been created so the removal will appear on the [removals by milestones](https://docs.gitlab.com/ee/update/removals) page and be announced in the release post.\n* [ ] On the major milestone:\n  * [ ] The deprecated item has been removed.\n  * [ ] If the removal of the deprecated item is a [breaking change](https://about.gitlab.com/handbook/product/gitlab-the-product/#examples-of-breaking-changes), the merge request is labeled ~\"breaking change\".\n\n**Mentions**\n\n* [x] Your stage's stable counterparts have been `@mentioned` on this issue. For example, Customer Support, Customer Success (Technical Account Manager), Product Marketing Manager.\n  - To see who the stable counterparts are for a product team visit [product categories](https://about.gitlab.com/handbook/product/categories/)\n    - If there is no stable counterpart listed for Sales/CS please mention `@timtams`\n    - If there is no stable counterpart listed for Support please mention `@gitlab-com/support/managers`\n    - If there is no stable counterpart listed for Marketing please mention `@cfoster3`\n* [ ] Your GPM has been `@mentioned` so that they are aware of planned deprecations. The goal is to have reviews happen at least two releases before the final removal of the feature or introduction of a breaking change.\n\n### Deprecation Milestone\n\n%15.8\n\n### Planned Removal Milestone\n\n%\"16.0\"\n\n### Links\n\n### Implementation plan\n\n1. Add all `14.x.x` versions to \u003cspan dir=\"\"\u003e`VERSIONS_TO_REMOVE_IN_16_0`\u003c/span\u003e in [`schema_validator.rb`](https://gitlab.com/gitlab-org/gitlab/-/blob/da0420449291e26d02baff9f0bf75ee60ba569a4/lib/gitlab/ci/parsers/security/validators/schema_validator.rb#L22).\n   1. `ls -1 ./ee/lib/ee/gitlab/ci/parsers/security/validators/schemas/ | grep 14. | xargs echo`\n\n      `VERSIONS_TO_REMOVE_IN_16_0 = %w[14.0.0 14.0.1 14.0.2 14.0.3 14.0.4 14.0.5 14.0.6 14.1.0 14.1.1 14.1.2 14.1.3].freeze`\n\n/cc @matt_wilson","state":"closed","created_at":"2022-06-29T00:06:19.733Z","updated_at":"2023-01-04T06:04:40.690Z","closed_at":"2022-12-29T22:09:46.179Z","closed_by":{"id":480804,"username":"thiagocsf","name":"Thiago Figueiró","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/480804/avatar.png","web_url":"https://gitlab.com/thiagocsf"},"labels":["Category:Vulnerability Management","Deliverable","GitLab Ultimate","Threat Insights::Tangerine","auto updated","backend","deprecation","devops::govern","good for new contributors","group::threat insights","quad-planning::complete-no-action","section::sec","type::maintenance","workflow::verification"],"milestone":{"id":2745648,"iid":83,"group_id":9970,"title":"15.8","description":"","state":"active","created_at":"2022-08-22T16:57:34.875Z","updated_at":"2022-08-22T16:57:34.875Z","due_date":"2023-01-17","start_date":"2022-12-18","expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/83"},"assignees":[{"id":480804,"username":"thiagocsf","name":"Thiago Figueiró","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/480804/avatar.png","web_url":"https://gitlab.com/thiagocsf"}],"author":{"id":480804,"username":"thiagocsf","name":"Thiago Figueiró","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/480804/avatar.png","web_url":"https://gitlab.com/thiagocsf"},"type":"ISSUE","assignee":{"id":480804,"username":"thiagocsf","name":"Thiago Figueiró","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/480804/avatar.png","web_url":"https://gitlab.com/thiagocsf"},"user_notes_count":19,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/366477","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":11,"completed_count":5},"weight":1,"blocking_issues_count":1,"has_tasks":true,"task_status":"5 of 11 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/366477","notes":"https://gitlab.com/api/v4/projects/278964/issues/366477/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/366477/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#366477","relative":"#366477","full":"gitlab-org/gitlab#366477"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":110863598,"iid":366473,"project_id":278964,"title":"DAST implementer-defined checks should check scope","description":"## Problem\n\nnot all of our implementer defined checks check scope. as a result, false positives may be reported.\n\n## Solution\n\ncheck the scope.\n\n## TODO\n\n- [x] `359.1` https://gitlab.com/gitlab-org/security-products/analyzers/browserker/-/merge_requests/690\n- [x] `359.2` https://gitlab.com/gitlab-org/security-products/analyzers/browserker/-/merge_requests/691\n- [x] `601.1` https://gitlab.com/gitlab-org/security-products/analyzers/browserker/-/merge_requests/696\n- [x] `829.1` https://gitlab.com/gitlab-org/security-products/analyzers/browserker/-/merge_requests/689\n- [x] refactor/cleanup","state":"closed","created_at":"2022-06-28T22:50:30.366Z","updated_at":"2022-07-01T00:25:29.941Z","closed_at":"2022-07-01T00:25:18.533Z","closed_by":{"id":5749348,"username":"philipcunningham","name":"Philip Cunningham","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5749348/avatar.png","web_url":"https://gitlab.com/philipcunningham"},"labels":["Category:DAST","backend","devops::secure","group::dynamic analysis","section::sec","type::maintenance"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":5749348,"username":"philipcunningham","name":"Philip Cunningham","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5749348/avatar.png","web_url":"https://gitlab.com/philipcunningham"}],"author":{"id":5749348,"username":"philipcunningham","name":"Philip Cunningham","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5749348/avatar.png","web_url":"https://gitlab.com/philipcunningham"},"type":"ISSUE","assignee":{"id":5749348,"username":"philipcunningham","name":"Philip Cunningham","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5749348/avatar.png","web_url":"https://gitlab.com/philipcunningham"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/366473","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":5,"completed_count":5},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"5 of 5 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/366473","notes":"https://gitlab.com/api/v4/projects/278964/issues/366473/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/366473/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#366473","relative":"#366473","full":"gitlab-org/gitlab#366473"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8034,"epic":{"id":519327,"iid":8034,"title":"Browser-based DAST post-passive check cleanup","url":"/groups/gitlab-org/-/epics/8034","group_id":9970,"human_readable_end_date":"Aug 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":110856096,"iid":366455,"project_id":278964,"title":"[Feature flag] Rollout of `job_log_search`","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n## Summary\n\nThis issue is to rollout the ability to search job logs (UI) on production,\nthat is currently behind the `job_log_search` feature flag.\n\n![Screen_Shot_2022-08-15_at_9.45.45_AM](/uploads/7a3f25a515330c44405190feab1ef05c/Screen_Shot_2022-08-15_at_9.45.45_AM.png)\n\n\u003c!-- Short description of what the feature is about and link to relevant other issues. --\u003e\n\n## Owners\n\n- Team: ~\"group::pipeline execution\" \n- Most appropriate slack channel to reach out to: `#g_pipeline-execution`\n- Best individual to reach out to: `@pburdette`\n- PM: `@jheimbuck_gl`\n\n## Stakeholders\n\n\u003c!--\nAre there any other stages or teams involved that need to be kept in the loop?\n\n- Name of a PM\n- The Support Team\n- The Delivery Team\n--\u003e\n\n## Expectations\n\n### What are we expecting to happen?\n\n\u003c!-- Describe the expected outcome when rolling out this feature --\u003e\n\n### When is the feature viable?\n\n\u003c!-- What are the settings we need to configure in order to have this feature viable? --\u003e\n\n\u003c!-- \nExample below:\n \n1. Enable service ping collection\n   `ApplicationSetting.first.update(usage_ping_enabled: true)`\n--\u003e\n\n### What might happen if this goes wrong?\n\n\u003c!-- Should the feature flag be turned off? Any MRs that need to be rolled back? Communication that needs to happen? What are some things you can think of that could go wrong - data loss or broken pages? --\u003e\n\n### What can we monitor to detect problems with this?\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? --\u003e\n_Consider mentioning checks for 5xx errors or other anomalies like an increase in redirects \n(302 HTTP response status)_\n\n### What can we check for monitoring production after rollouts?\n\n_Consider adding links to check for Sentry errors, Production logs for 5xx, 302s, etc._\n\n## Rollout Steps\n\n### Rollout on non-production environments\n\n- Ensure that the feature MRs have been deployed to non-production environments.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- [x] Enable the feature globally on non-production environments.\n    - [x] `/chatops run feature set \u003cfeature-flag-name\u003e true --dev --staging --staging-ref`\n- [x] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n      The best environment to validate the feature in is [staging-canary](https://about.gitlab.com/handbook/engineering/infrastructure/environments/#staging-canary)\n      as this is the first environment deployed to. Note you will need to make sure you are configured to use canary as outlined [here](https://about.gitlab.com/handbook/engineering/infrastructure/environments/canary-stage/)\n      when accessing the staging environment in order to make sure you are testing appropriately.\n\n### Specific rollout on production\n\n- Ensure that the feature MRs have been deployed to both production and canary.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- If you're using [project-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [x] `/chatops run feature set --project=gitlab-org/gitlab,gitlab-org/gitlab-foss,gitlab-com/www-gitlab-com \u003cfeature-flag-name\u003e true`\n- [x] Verify that the feature works on the specific entries. Posting the QA result in this issue is preferable.\n\n### Preparation before global rollout\n\n- [ ] Check if the feature flag change needs to be accompanied with a\n  [change management issue](https://about.gitlab.com/handbook/engineering/infrastructure/change-management/#feature-flags-and-the-change-management-process).\n  Cross link the issue here if it does.\n- [ ] Ensure that you or a representative in development can be available for at least 2 hours after feature flag updates in production.\n  If a different developer will be covering, or an exception is needed, please inform the oncall SRE by using the `@sre-oncall` Slack alias.\n- [ ] Ensure that documentation has been updated ([More info](https://docs.gitlab.com/ee/development/documentation/feature_flags.html#features-that-became-enabled-by-default)).\n- [ ] Announce on [the feature issue](ISSUE LINK) an estimated time this will be enabled on GitLab.com. \n- [ ] Ensure that any breaking changes have been announced following the [release post process](https://about.gitlab.com/handbook/marketing/blog/release-posts/#deprecations-removals-and-breaking-changes) to ensure GitLab customers are aware.\n- [x] Notify `#support_gitlab-com` and your team channel ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#communicate-the-change)).\n\n### Global rollout on production\n\nFor visibility, all `/chatops` commands that target production should be executed in the `#production` slack channel and cross-posted (with the command results) to the responsible team's slack channel (`#g_TEAM_NAME`).\n\n- [ ] [Incrementally roll out](https://docs.gitlab.com/ee/development/feature_flags/controls.html#process) the feature.\n  - If the feature flag in code has [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform **actor-based** rollout.\n    - [ ] `/chatops run feature set \u003cfeature-flag-name\u003e \u003crollout-percentage\u003e --actors`\n  - If the feature flag in code does **NOT** have [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform time-based rollout (**random** rollout).\n    - [x] `/chatops run feature set \u003cfeature-flag-name\u003e \u003crollout-percentage\u003e --random`\n  - Enable the feature globally on production environment.\n    - [x] `/chatops run feature set \u003cfeature-flag-name\u003e true`\n- [ ] Announce on [the feature issue](ISSUE LINK) that the feature has been globally enabled.\n- [ ] Wait for [at least one day for the verification term](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release).\n\n### (Optional) Release the feature with the feature flag\n\nIf you're still unsure whether the feature is [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release)\nbut want to release it in the current milestone, you can change the default state of the feature flag to be enabled.\nTo do so, follow these steps:\n\n- [ ] Create a merge request with the following changes. Ask for review and merge it.\n    - [ ] Set the `default_enabled` attribute in [the feature flag definition](https://docs.gitlab.com/ee/development/feature_flags/#feature-flag-definition-and-validation) to `true`.\n    - [ ] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the default-enabling MR has been included in the release package.\n      If the merge request was deployed before [the monthly release was tagged](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run release check \u003cmerge-request-url\u003e \u003cmilestone\u003e`\n- [ ] Consider cleaning up the feature flag from all environments by running these chatops command in `#production` channel. Otherwise these settings may override the default enabled.\n    - [ ] `/chatops run feature delete \u003cfeature-flag-name\u003e --dev --staging --staging-ref --production`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [ ] Set the next milestone to this rollout issue for scheduling [the flag removal](#release-the-feature).\n- [ ] (Optional) You can [create a separate issue](https://gitlab.com/gitlab-org/gitlab/-/issues/new?issuable_template=Feature%20Flag%20Cleanup) for scheduling the steps below to [Release the feature](#release-the-feature).\n    - [ ] Set the title to \"[Feature flag] Cleanup `\u003cfeature-flag-name\u003e`\".\n    - [ ] Execute the `/copy_metadata \u003cthis-rollout-issue-link\u003e` quick action to copy the labels from this rollout issue.\n    - [ ] Link this rollout issue as a related issue.\n    - [ ] Close this rollout issue.\n\n**WARNING:** This approach has the downside that it makes it difficult for us to\n[clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) the flag.\nFor example, on-premise users could disable the feature on their GitLab instance. But when you\nremove the flag at some point, they suddenly see the feature as enabled and they can't roll it back\nto the previous behavior. To avoid this potential breaking change, use this approach only for urgent\nmatters.\n\n### Release the feature\n\nAfter the feature has been [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release),\nthe [clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up)\nshould be done as soon as possible to permanently enable the feature and reduce complexity in the\ncodebase.\n\nYou can either [create a follow-up issue for Feature Flag Cleanup](https://gitlab.com/gitlab-org/gitlab/-/issues/new?issuable_template=Feature%20Flag%20Cleanup) or use the checklist below in this same issue.\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [ ] Create a merge request to remove `\u003cfeature-flag-name\u003e` feature flag. Ask for review and merge it.\n    - [ ] Remove all references to the feature flag from the codebase.\n    - [ ] Remove the YAML definitions for the feature from the repository.\n    - [ ] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the cleanup MR has been included in the release package.\n      If the merge request was deployed before [the monthly release was tagged](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run release check \u003cmerge-request-url\u003e \u003cmilestone\u003e`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [ ] If not already done, clean up the feature flag from all environments by running these chatops command in `#production` channel:\n    - [ ] `/chatops run feature delete \u003cfeature-flag-name\u003e --dev --staging --staging-ref --production`\n- [ ] Close this rollout issue.\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set \u003cfeature-flag-name\u003e false\n```","state":"closed","created_at":"2022-06-28T18:42:05.708Z","updated_at":"2022-08-19T16:14:33.310Z","closed_at":"2022-08-17T17:10:02.314Z","closed_by":{"id":4477803,"username":"pburdette","name":"Payton Burdette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477803/avatar.png","web_url":"https://gitlab.com/pburdette"},"labels":["Category:Continuous Integration","UX","devops::verify","feature flag","feature::addition","frontend","group::pipeline execution","section::ops","type::feature","workflow::production"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":4477803,"username":"pburdette","name":"Payton Burdette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477803/avatar.png","web_url":"https://gitlab.com/pburdette"}],"author":{"id":4477803,"username":"pburdette","name":"Payton Burdette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477803/avatar.png","web_url":"https://gitlab.com/pburdette"},"type":"ISSUE","assignee":{"id":4477803,"username":"pburdette","name":"Payton Burdette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477803/avatar.png","web_url":"https://gitlab.com/pburdette"},"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/366455","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":44,"completed_count":10},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"10 of 44 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/366455","notes":"https://gitlab.com/api/v4/projects/278964/issues/366455/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/366455/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#366455","relative":"#366455","full":"gitlab-org/gitlab#366455"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":110848927,"iid":366445,"project_id":278964,"title":"Remove `group_ip_restrictions_allow_global` feature flag","description":"Remove the `group_ip_restrictions_allow_global` feature flag\n\nSee https://gitlab.com/gitlab-org/gitlab/-/issues/364630+ and refer to @robotmay_gitlab for more context.\n\n### Testing\n\nPlease run `package-and-qa` in the MR for regression purposes\n\n### Feature flag cleanup\n\nIf not already done, clean up the feature flag from all environments by running these chatops command in `#production` channel:\n\n* [ ] `/chatops run feature delete group_ip_restrictions_allow_global --dev`\n* [ ] `/chatops run feature delete group_ip_restrictions_allow_global --staging`\n* [ ] `/chatops run feature delete group_ip_restrictions_allow_global`","state":"closed","created_at":"2022-06-28T16:21:56.242Z","updated_at":"2022-09-14T15:10:49.492Z","closed_at":"2022-09-13T09:07:09.304Z","closed_by":{"id":421631,"username":"vyaklushin","name":"Vasilii Iakliushin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/421631/avatar.png","web_url":"https://gitlab.com/vyaklushin"},"labels":["Category:Source Code Management","Technical Writing","backend","devops::create","docs::feature","documentation","group::source code","maintenance::refactor","quad-planning::complete-action","section::dev","type::maintenance","workflow::in review"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":421631,"username":"vyaklushin","name":"Vasilii Iakliushin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/421631/avatar.png","web_url":"https://gitlab.com/vyaklushin"}],"author":{"id":4391348,"username":"sean_carroll","name":"Sean Carroll","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4391348/avatar.png","web_url":"https://gitlab.com/sean_carroll"},"type":"ISSUE","assignee":{"id":421631,"username":"vyaklushin","name":"Vasilii Iakliushin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/421631/avatar.png","web_url":"https://gitlab.com/vyaklushin"},"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/366445","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/366445","notes":"https://gitlab.com/api/v4/projects/278964/issues/366445/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/366445/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#366445","relative":"#366445","full":"gitlab-org/gitlab#366445"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":110848509,"iid":366444,"project_id":278964,"title":"Add a way to temporarily store logs for projects deleted out of the Elasticsearch index for several months.","description":"**Note:** This issue replaced [Add audit event for ElasticDeleteProjectWorker](https://gitlab.com/gitlab-org/gitlab/-/issues/364538) \n\n### Overview\n\nIn order to better track and analyze problems with the Elasticsearch projects that are deleted we need to store logs for the `ElasticDeleteProjectWorker` for several months. \n\n### Problem\n\nIn order to better debug issues on index integrity, it would be helpful to have a longer period of log retention to diagnose the problem. Unfortunately, the current retention is 7 days and support cases don't reach the ~\"group::global search\" team until 10-20 days later than the incident.\n\n### Proposal\n\nCreate a watcher event to move ElasticDeleteProjectWorker to a separate index with longer ILM retention \n\nIn order to minimize costs, this will be added to a separate index with warm hardware and a retention period of 90 days, we will be able to diagnose issues more efficiently. \n\nEventually, we might not need this index and can delete it. \n\n### Risks\n\nWe assume that this new logging index will not be very large and would mostly fit inside the existing storage allocated for logging.  We think the risk is low for anything related to impacting logging performance or storage needs related to the logging cluster but can periodically review if this causes an issue.","state":"closed","created_at":"2022-06-28T16:18:48.251Z","updated_at":"2022-08-09T18:15:52.573Z","closed_at":"2022-07-14T14:12:52.454Z","closed_by":{"id":4888751,"username":"changzhengliu","name":"Changzheng Liu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4888751/avatar.png","web_url":"https://gitlab.com/changzhengliu"},"labels":["Category:Global Search","Deliverable","devops::data_stores","group::global search","section::enablement","type::maintenance","workflow::in dev"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":9717668,"username":"john-mason","name":"John Mason","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9717668/avatar.png","web_url":"https://gitlab.com/john-mason"}],"author":{"id":9717668,"username":"john-mason","name":"John Mason","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9717668/avatar.png","web_url":"https://gitlab.com/john-mason"},"type":"ISSUE","assignee":{"id":9717668,"username":"john-mason","name":"John Mason","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9717668/avatar.png","web_url":"https://gitlab.com/john-mason"},"user_notes_count":5,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/366444","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":1,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/366444","notes":"https://gitlab.com/api/v4/projects/278964/issues/366444/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/366444/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#366444","relative":"#366444","full":"gitlab-org/gitlab#366444"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7978,"epic":{"id":512846,"iid":7978,"title":"Advanced Search: Come up with solution for index integrity","url":"/groups/gitlab-org/-/epics/7978","group_id":9970,"human_readable_end_date":"Aug 22, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":110846552,"iid":366442,"project_id":278964,"title":"Code Cleanup for Attention Requests","description":"## Problem to Solve\n\nAs we'll [no longer be rolling out](https://gitlab.com/groups/gitlab-org/-/epics/5331#future-of-attention-requests) this feature we should make sure to cleanup the codebase so that we don't impact future development negatively with legacy information.\n\n## Proposal\n\n* [x] Remove code from backend\n* [x] Remove code from frontend\n* [x] Remove all traces of related feature flags\n  * [x] `uncached_mr_attention_requests_count` https://gitlab.com/gitlab-org/gitlab/-/issues/357480\n  * [x] `mr_attention_requests` https://gitlab.com/gitlab-org/gitlab/-/issues/343528\n* [ ] Rollback/remove unnecessary database changes","state":"closed","created_at":"2022-06-28T15:49:06.484Z","updated_at":"2022-09-21T12:01:42.554Z","closed_at":"2022-08-26T13:26:59.318Z","closed_by":{"id":2935693,"username":"phikai","name":"Kai Armstrong","state":"active","avatar_url":"https://secure.gravatar.com/avatar/2c5d6a63b41cbeb3ea4cccda82e758e1?s=80\u0026d=identicon","web_url":"https://gitlab.com/phikai"},"labels":["Deliverable","backend","devops::create","group::code review","missed-deliverable","missed:15.3","section::dev","type::maintenance","workflow::in dev"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":4901936,"username":"dskim_gitlab","name":"Sincheol (David) Kim","state":"active","avatar_url":"https://secure.gravatar.com/avatar/84a984a56c54d1d31338678421cecc32?s=80\u0026d=identicon","web_url":"https://gitlab.com/dskim_gitlab"}],"author":{"id":2935693,"username":"phikai","name":"Kai Armstrong","state":"active","avatar_url":"https://secure.gravatar.com/avatar/2c5d6a63b41cbeb3ea4cccda82e758e1?s=80\u0026d=identicon","web_url":"https://gitlab.com/phikai"},"type":"ISSUE","assignee":{"id":4901936,"username":"dskim_gitlab","name":"Sincheol (David) Kim","state":"active","avatar_url":"https://secure.gravatar.com/avatar/84a984a56c54d1d31338678421cecc32?s=80\u0026d=identicon","web_url":"https://gitlab.com/dskim_gitlab"},"user_notes_count":19,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/366442","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":6,"completed_count":5},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"5 of 6 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/366442","notes":"https://gitlab.com/api/v4/projects/278964/issues/366442/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/366442/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#366442","relative":"#366442","full":"gitlab-org/gitlab#366442"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5331,"epic":{"id":195597,"iid":5331,"title":"Merge requests that require my attention","url":"/groups/gitlab-org/-/epics/5331","group_id":9970,"human_readable_end_date":"Nov 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":110845547,"iid":366439,"project_id":278964,"title":"Update documentation to create vulnerabilities manually","description":"Here's a step by step guide that can go in the documentation: \n\nRef: https://gitlab.com/gitlab-org/gitlab/-/issues/352568#note_990381201\n\n\n## Steps\n\n1. Generate an access token by visiting `/-/profile/personal_access_tokens` (needs repo read and write and api permissions at least AFAIK)\n1. Grab the project ID by visiting your Project page. You can see the project ID right below the project title (screenshot below)\n1. Open the terminal\n1. Go to `gitlab/qa` directory\n1. Execute the following command:\n\n```bash\nGITLAB_QA_ACCESS_TOKEN=XXXXXXXXXX GITLAB_URL=\"http://localhost:3000\" bundle exec rake vulnerabilities:setup\\[\u003cProject_Id\u003e,\u003cVulnerability_Count\u003e\\] --trace\n```\n\n- Replace `XXXXXXXXXX` with the API token that you have generated above.\n- Make sure your endpoint is correct (in my case it's localhost:3000). If not change it accordingly. \n- Replace `\u003cProject_Id\u003e` with the ID of your project\n- Replace `\u003cVulnerability_Count\u003e` with the number of vulnerabilities you'd like to generate\n\nRun the script.\n\nHere's a screen shot that illustrates where the Project ID is located:\n\n![image](/uploads/75e97c6f55b2efd5b99e7d4f09fd4ce8/image.png)\n\nAnd here's an example script:\n\n```bash\nGITLAB_QA_ACCESS_TOKEN=my-gitlab-access-token GITLAB_URL=\"http://localhost:3000/\" bundle exec rake vulnerabilities:setup\\[25,10] --trace\n```","state":"closed","created_at":"2022-06-28T15:26:32.316Z","updated_at":"2022-07-11T03:22:51.923Z","closed_at":"2022-07-08T14:29:39.712Z","closed_by":{"id":5535246,"username":"svedova","name":"Savas Vedova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535246/avatar.png","web_url":"https://gitlab.com/svedova"},"labels":["Category:Vulnerability Management","Technical Writing","devops::secure","docs::improvement","documentation","feature::enhancement","frontend","group::threat insights","section::sec","security dashboard","type::feature","workflow::verification"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":5535246,"username":"svedova","name":"Savas Vedova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535246/avatar.png","web_url":"https://gitlab.com/svedova"}],"author":{"id":5535246,"username":"svedova","name":"Savas Vedova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535246/avatar.png","web_url":"https://gitlab.com/svedova"},"type":"ISSUE","assignee":{"id":5535246,"username":"svedova","name":"Savas Vedova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535246/avatar.png","web_url":"https://gitlab.com/svedova"},"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/366439","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/366439","notes":"https://gitlab.com/api/v4/projects/278964/issues/366439/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/366439/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#366439","relative":"#366439","full":"gitlab-org/gitlab#366439"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8250,"epic":{"id":547646,"iid":8250,"title":"Make features easier to test in GDK","url":"/groups/gitlab-org/-/epics/8250","group_id":9970,"human_readable_end_date":"Sep 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":110844996,"iid":366437,"project_id":278964,"title":"[Feature flag] Rollout of `escape_gitaly_refs`","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n\n## Summary\n\nThis issue is to rollout [the feature](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/91058/) on production,\nthat is currently behind the `escape_gitaly_refs` feature flag.\n\n\u003c!-- Short description of what the feature is about and link to relevant other issues. --\u003e\n\n## Owners\n\n* Team: ~\"group::source code\"\n* Most appropriate slack channel to reach out to: `#g_create_source-code-be`\n* Best individual to reach out to: @vyaklushin\n\n## Expectations\n\n### What are we expecting to happen?\n\nBranches with unsupported characters don't trigger a 500 error.\n\n### When is the feature viable?\n\n\u003c!-- What are the settings we need to configure in order to have this feature viable? --\u003e\n\n\u003c!-- \nExample below:\n \n1. Enable service ping collection\n   `ApplicationSetting.first.update(usage_ping_enabled: true)`\n--\u003e\n\n### What might happen if this goes wrong?\n\n\u003c!-- Should the feature flag be turned off? Any MRs that need to be rolled back? Communication that needs to happen? What are some things you can think of that could go wrong - data loss or broken pages? --\u003e\n\n### What can we monitor to detect problems with this?\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? --\u003e\n_Consider mentioning checks for 5xx errors or other anomalies like an increase in redirects \n(302 HTTP response status)_\n\n### What can we check for monitoring production after rollouts?\n\n_Consider adding links to check for Sentry errors, Production logs for 5xx, 302s, etc._\n\n## Rollout Steps\n\n### Rollout on non-production environments\n\n- Ensure that the feature MRs have been deployed to non-production environments.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- [x] Enable the feature globally on non-production environments.\n    - [x] `/chatops run feature set escape_gitaly_refs true --dev --staging --staging-ref`\n- [x] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n      The best environment to validate the feature in is [staging-canary](https://about.gitlab.com/handbook/engineering/infrastructure/environments/#staging-canary)\n      as this is the first environment deployed to. Note you will need to make sure you are configured to use canary as outlined [here](https://about.gitlab.com/handbook/engineering/infrastructure/environments/canary-stage/)\n      when accessing the staging environment in order to make sure you are testing appropriately.\n\n### Specific rollout on production\n\n- Ensure that the feature MRs have been deployed to both production and canary.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- If you're using [project-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [x] `/chatops run feature set --project=gitlab-org/gitlab,gitlab-org/gitlab-foss,gitlab-com/www-gitlab-com escape_gitaly_refs true`\n- If you're using [group-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [ ] `/chatops run feature set --group=gitlab-org,gitlab-com escape_gitaly_refs true`\n- If you're using [user-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [ ] `/chatops run feature set --user=\u003cyour-username\u003e escape_gitaly_refs true`\n- [ ] Verify that the feature works on the specific entries. Posting the QA result in this issue is preferable.\n\n### Preparation before global rollout\n\n- [ ] Check if the feature flag change needs to be accompanied with a\n  [change management issue](https://about.gitlab.com/handbook/engineering/infrastructure/change-management/#feature-flags-and-the-change-management-process).\n  Cross link the issue here if it does.\n- [ ] Ensure that you or a representative in development can be available for at least 2 hours after feature flag updates in production.\n  If a different developer will be covering, or an exception is needed, please inform the oncall SRE by using the `@sre-oncall` Slack alias.\n- [ ] Ensure that documentation has been updated ([More info](https://docs.gitlab.com/ee/development/documentation/feature_flags.html#features-that-became-enabled-by-default)).\n- [ ] Announce on [the feature issue](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/91058/) an estimated time this will be enabled on GitLab.com. \n- [ ] Ensure that any breaking changes have been announced following the [release post process](https://about.gitlab.com/handbook/marketing/blog/release-posts/#deprecations-removals-and-breaking-changes) to ensure GitLab customers are aware.\n- [ ] Notify `#support_gitlab-com` and your team channel ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#communicate-the-change)).\n\n### Global rollout on production\n\nFor visibility, all `/chatops` commands that target production should be executed in the `#production` slack channel and cross-posted (with the command results) to the responsible team's slack channel (`#g_TEAM_NAME`).\n\n- [x] [Incrementally roll out](https://docs.gitlab.com/ee/development/feature_flags/controls.html#process) the feature.\n  - If the feature flag in code has [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform **actor-based** rollout.\n    - [ ] `/chatops run feature set escape_gitaly_refs \u003crollout-percentage\u003e --actors`\n  - If the feature flag in code does **NOT** have [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform time-based rollout (**random** rollout).\n    - [x] `/chatops run feature set escape_gitaly_refs \u003crollout-percentage\u003e --random`\n  - Enable the feature globally on production environment.\n    - [ ] `/chatops run feature set escape_gitaly_refs true`\n- [x] Announce on [the feature issue](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/91058/) that the feature has been globally enabled.\n- [x] Wait for [at least one day for the verification term](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release).\n\n### (Optional) Release the feature with the feature flag\n\nIf you're still unsure whether the feature is [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release)\nbut want to release it in the current milestone, you can change the default state of the feature flag to be enabled.\nTo do so, follow these steps:\n\n- [x] Create a merge request with the following changes. Ask for review and merge it.\n    - [x] Set the `default_enabled` attribute in [the feature flag definition](https://docs.gitlab.com/ee/development/feature_flags/#feature-flag-definition-and-validation) to `true`.\n    - [x] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the default-enabling MR has been included in the release package.\n      If the merge request was deployed before [the monthly release was tagged](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run release check \u003cmerge-request-url\u003e \u003cmilestone\u003e`\n- [ ] Consider cleaning up the feature flag from all environments by running these chatops command in `#production` channel. Otherwise these settings may override the default enabled.\n    - [ ] `/chatops run feature delete escape_gitaly_refs --dev --staging --staging-ref --production`\n- [ ] Close [the feature issue](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/91058/) to indicate the feature will be released in the current milestone.\n- [ ] Set the next milestone to this rollout issue for scheduling [the flag removal](#release-the-feature).\n- [ ] (Optional) You can [create a separate issue](https://gitlab.com/gitlab-org/gitlab/-/issues/new?issuable_template=Feature%20Flag%20Cleanup) for scheduling the steps below to [Release the feature](#release-the-feature).\n    - [ ] Set the title to \"[Feature flag] Cleanup `escape_gitaly_refs`\".\n    - [ ] Execute the `/copy_metadata \u003cthis-rollout-issue-link\u003e` quick action to copy the labels from this rollout issue.\n    - [ ] Link this rollout issue as a related issue.\n    - [ ] Close this rollout issue.\n\n**WARNING:** This approach has the downside that it makes it difficult for us to\n[clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) the flag.\nFor example, on-premise users could disable the feature on their GitLab instance. But when you\nremove the flag at some point, they suddenly see the feature as enabled and they can't roll it back\nto the previous behavior. To avoid this potential breaking change, use this approach only for urgent\nmatters.\n\n### Release the feature\n\nAfter the feature has been [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release),\nthe [clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up)\nshould be done as soon as possible to permanently enable the feature and reduce complexity in the\ncodebase.\n\nFeature flag cleanup Issue: https://gitlab.com/gitlab-org/gitlab/-/issues/373980\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set escape_gitaly_refs false\n```","state":"closed","created_at":"2022-06-28T15:17:08.242Z","updated_at":"2022-10-21T12:01:14.914Z","closed_at":"2022-09-15T12:25:39.016Z","closed_by":{"id":11390638,"username":"jwoodwardgl","name":"Joe Woodward","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11390638/avatar.png","web_url":"https://gitlab.com/jwoodwardgl"},"labels":["Category:Source Code Management","Deliverable","backend","devops::create","feature flag","feature::addition","group::source code","missed-deliverable","missed:15.2","missed:15.3","section::dev","type::feature","workflow::ready for development"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":11390638,"username":"jwoodwardgl","name":"Joe Woodward","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11390638/avatar.png","web_url":"https://gitlab.com/jwoodwardgl"},{"id":12517375,"username":"ghinfey","name":"Gavin Hinfey","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12517375/avatar.png","web_url":"https://gitlab.com/ghinfey"}],"author":{"id":421631,"username":"vyaklushin","name":"Vasilii Iakliushin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/421631/avatar.png","web_url":"https://gitlab.com/vyaklushin"},"type":"ISSUE","assignee":{"id":11390638,"username":"jwoodwardgl","name":"Joe Woodward","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11390638/avatar.png","web_url":"https://gitlab.com/jwoodwardgl"},"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/366437","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":36,"completed_count":11},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"11 of 36 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/366437","notes":"https://gitlab.com/api/v4/projects/278964/issues/366437/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/366437/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#366437","relative":"#366437","full":"gitlab-org/gitlab#366437"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":110842896,"iid":366433,"project_id":278964,"title":"Add changes to the backend for import cancelling","description":"Changes need to be made on both the controller and api level.","state":"closed","created_at":"2022-06-28T14:43:20.109Z","updated_at":"2022-08-08T09:36:23.888Z","closed_at":"2022-07-12T08:56:57.416Z","closed_by":{"id":11342168,"username":"carlad-gl","name":"Carla Drago","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11342168/avatar.png","web_url":"https://gitlab.com/carlad-gl"},"labels":["Category:Importers","Importer:GitHub","Next Up","[deprecated] Accepting merge requests","backend","candidate::15.2","devops::manage","group::import","priority::1","section::dev","severity::2","type::feature","workflow::ready for development"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[],"author":{"id":11342168,"username":"carlad-gl","name":"Carla Drago","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11342168/avatar.png","web_url":"https://gitlab.com/carlad-gl"},"type":"ISSUE","assignee":null,"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/366433","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/366433","notes":"https://gitlab.com/api/v4/projects/278964/issues/366433/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/366433/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#366433","relative":"#366433","full":"gitlab-org/gitlab#366433"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":110840950,"iid":366430,"project_id":278964,"title":"It should not be possible to purchase 0 x CI Minutes","description":"### Problem\n\nThere are [reports](https://gitlab.slack.com/archives/CMJ8JR0RH/p1656409800762819)(internal link) of customers being able to purchase `0` x CI Minutes. Such purchases are found to have a value of `0.5` (which is probably later rounded up). The reason is that the application only checks for `quantity \u003e 0`.\n\n### Proposed solution\n\nThe ~frontend should change [this line](https://gitlab.com/gitlab-org/gitlab/-/blob/master/ee/app/assets/javascripts/subscriptions/buy_addons_shared/components/checkout/addon_purchase_details.vue#L54) to be `quantity \u003e= 1` instead. Considering checking that the value is a [natural number](https://en.wikipedia.org/wiki/Natural_number) (i.e. that is an integer [`Number.isInteger()`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/isInteger) and greater than or equal to `1`) so that all values with a comma are excluded.\n\nIt will require 1 MR. (Note that the component is shared between CI Minutes and Storage.)\n\n|Description|MR|\n|-|-|\n| Update check on min quantity for CI Minutes |gitlab-org/gitlab!105676 |\n| Storage Purchase, avoid server call when invalid quantity | gitlab-org/gitlab!105799 |\n\n### Additional considerations\n\nWe might want to:\n\n1. The copy says `Enter a number greater than 0` (which entails `0.5` is a valid value). Maybe it should be updated to reflect the actual constraint\n2. CustomersDot should not allow purchases with `0` value (the system is also probably rounding `0.5` to `0`). Maybe we introduce validation on that side too","state":"closed","created_at":"2022-06-28T14:07:19.786Z","updated_at":"2023-01-03T17:29:04.836Z","closed_at":"2022-12-27T07:22:08.401Z","closed_by":{"id":6348276,"username":"agulina","name":"Angelo Gulina","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b28693a558066993ea93b7272208d285?s=80\u0026d=identicon","web_url":"https://gitlab.com/agulina"},"labels":["CI minutes","Category:Purchase","SUS::Impacting","UX","[deprecated] Accepting merge requests","bug::ux","devops::fulfillment","frontend","group::purchase","missed:15.5","missed:15.7","priority::3","section::fulfillment","severity::3","type::bug","workflow::verification"],"milestone":{"id":2745648,"iid":83,"group_id":9970,"title":"15.8","description":"","state":"active","created_at":"2022-08-22T16:57:34.875Z","updated_at":"2022-08-22T16:57:34.875Z","due_date":"2023-01-17","start_date":"2022-12-18","expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/83"},"assignees":[{"id":6348276,"username":"agulina","name":"Angelo Gulina","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b28693a558066993ea93b7272208d285?s=80\u0026d=identicon","web_url":"https://gitlab.com/agulina"}],"author":{"id":6348276,"username":"agulina","name":"Angelo Gulina","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b28693a558066993ea93b7272208d285?s=80\u0026d=identicon","web_url":"https://gitlab.com/agulina"},"type":"ISSUE","assignee":{"id":6348276,"username":"agulina","name":"Angelo Gulina","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b28693a558066993ea93b7272208d285?s=80\u0026d=identicon","web_url":"https://gitlab.com/agulina"},"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/366430","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/366430","notes":"https://gitlab.com/api/v4/projects/278964/issues/366430/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/366430/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#366430","relative":"#366430","full":"gitlab-org/gitlab#366430"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":110840705,"iid":366429,"project_id":278964,"title":"[Follow-up] Update mutation should raise an error when widget argument is not supported","description":"The following discussion from !90817 should be addressed:\n\n- [ ] @acroitor [commented](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/90817#note_1007363863):  (+3 comments)\n\n    \u003e Also for me this raises the question for me on what should happen when client provides widget data for a widget that is not supported, should we just ignore that data or have an error raised? :thinking: But that can be a follow-up discussion.","state":"closed","created_at":"2022-06-28T14:03:38.488Z","updated_at":"2022-07-20T07:52:57.791Z","closed_at":"2022-07-20T07:52:57.748Z","closed_by":{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"},"labels":["GraphQL","backend","devops::plan","group::product planning","section::dev","type::maintenance","work items","workflow::in review"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"}],"author":{"id":3860200,"username":"egrieff","name":"Eugenia Grieff","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3860200/avatar.png","web_url":"https://gitlab.com/egrieff"},"type":"ISSUE","assignee":{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/366429","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/366429","notes":"https://gitlab.com/api/v4/projects/278964/issues/366429/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/366429/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#366429","relative":"#366429","full":"gitlab-org/gitlab#366429"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8279,"epic":{"id":549867,"iid":8279,"title":"MVC 1 - Foundations for Hierarchy Widget","url":"/groups/gitlab-org/-/epics/8279","group_id":9970,"human_readable_end_date":"Jul 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":110839776,"iid":366427,"project_id":278964,"title":"Add 'canceled'  and 'canceling' state","description":"Part of work required for [Cancel project imports from GitHub](https://gitlab.com/gitlab-org/gitlab/-/issues/364783)\n\nWe need to add a `canceled` and `canceling` state.","state":"closed","created_at":"2022-06-28T13:49:55.687Z","updated_at":"2022-07-12T08:58:33.597Z","closed_at":"2022-07-12T08:58:33.583Z","closed_by":{"id":11342168,"username":"carlad-gl","name":"Carla Drago","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11342168/avatar.png","web_url":"https://gitlab.com/carlad-gl"},"labels":["Category:Importers","Importer:GitHub","Next Up","[deprecated] Accepting merge requests","backend","candidate::15.2","devops::manage","group::import","priority::1","section::dev","severity::2","type::feature","workflow::production"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[],"author":{"id":11342168,"username":"carlad-gl","name":"Carla Drago","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11342168/avatar.png","web_url":"https://gitlab.com/carlad-gl"},"type":"ISSUE","assignee":null,"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/366427","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/366427","notes":"https://gitlab.com/api/v4/projects/278964/issues/366427/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/366427/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#366427","relative":"#366427","full":"gitlab-org/gitlab#366427"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":110828777,"iid":366412,"project_id":278964,"title":"[Feature flag] Rollout of `ci_rules_changes_compare`","description":"## Summary\n\nThis issue is to rollout [`rules:changes:compare`](https://gitlab.com/gitlab-org/gitlab/-/issues/293645) on production,\nthat is currently behind the `ci_rules_changes_compare` feature flag.\n\n- Feature issue: https://gitlab.com/gitlab-org/gitlab/-/issues/293645\n- Introduced in: https://gitlab.com/gitlab-org/gitlab/-/merge_requests/90968\n\n## Owners\n\n- Team: ~\"group::pipeline authoring\" \n- Most appropriate slack channel to reach out to: `#g_pipeline-authoring`\n- Best individual to reach out to: `@furkanayhan`\n- PM: `@dhershkovitch`\n\n## Expectations\n\n### What are we expecting to happen?\n\n\u003c!-- Describe the expected outcome when rolling out this feature --\u003e\n\n### When is the feature viable?\n\n\u003c!-- What are the settings we need to configure in order to have this feature viable? --\u003e\n\n\u003c!-- \nExample below:\n \n1. Enable service ping collection\n   `ApplicationSetting.first.update(usage_ping_enabled: true)`\n--\u003e\n\n### What might happen if this goes wrong?\n\n\u003c!-- Should the feature flag be turned off? Any MRs that need to be rolled back? Communication that needs to happen? What are some things you can think of that could go wrong - data loss or broken pages? --\u003e\n\n### What can we monitor to detect problems with this?\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? --\u003e\n_Consider mentioning checks for 5xx errors or other anomalies like an increase in redirects \n(302 HTTP response status)_\n\n### What can we check for monitoring production after rollouts?\n\n_Consider adding links to check for Sentry errors, Production logs for 5xx, 302s, etc._\n\n## Rollout Steps\n\n### Rollout on non-production environments\n\n- Ensure that the feature MRs have been deployed to non-production environments.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- [ ] Enable the feature globally on non-production environments.\n    - [x] `/chatops run feature set ci_rules_changes_compare true --dev --staging --staging-ref`\n- [ ] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n      The best environment to validate the feature in is [staging-canary](https://about.gitlab.com/handbook/engineering/infrastructure/environments/#staging-canary)\n      as this is the first environment deployed to. Note you will need to make sure you are configured to use canary as outlined [here](https://about.gitlab.com/handbook/engineering/infrastructure/environments/canary-stage/)\n      when accessing the staging environment in order to make sure you are testing appropriately.\n\n### Specific rollout on production\n\n- Ensure that the feature MRs have been deployed to both production and canary.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- If you're using [project-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [x] `/chatops run feature set --project=gitlab-org/gitlab,gitlab-org/gitlab-foss,gitlab-com/www-gitlab-com ci_rules_changes_compare true`\n- If you're using [group-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [ ] `/chatops run feature set --group=gitlab-org,gitlab-com ci_rules_changes_compare true`\n- If you're using [user-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [ ] `/chatops run feature set --user=\u003cyour-username\u003e ci_rules_changes_compare true`\n- [ ] Verify that the feature works on the specific entries. Posting the QA result in this issue is preferable.\n\n### Preparation before global rollout\n\n- [ ] Check if the feature flag change needs to be accompanied with a\n  [change management issue](https://about.gitlab.com/handbook/engineering/infrastructure/change-management/#feature-flags-and-the-change-management-process).\n  Cross link the issue here if it does.\n- [ ] Ensure that you or a representative in development can be available for at least 2 hours after feature flag updates in production.\n  If a different developer will be covering, or an exception is needed, please inform the oncall SRE by using the `@sre-oncall` Slack alias.\n- [ ] Ensure that documentation has been updated ([More info](https://docs.gitlab.com/ee/development/documentation/feature_flags.html#features-that-became-enabled-by-default)).\n- [ ] Announce on [the feature issue](ISSUE LINK) an estimated time this will be enabled on GitLab.com. \n- [ ] Ensure that any breaking changes have been announced following the [release post process](https://about.gitlab.com/handbook/marketing/blog/release-posts/#deprecations-removals-and-breaking-changes) to ensure GitLab customers are aware.\n- [ ] Notify `#support_gitlab-com` and your team channel ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#communicate-the-change)).\n\n### Global rollout on production\n\nFor visibility, all `/chatops` commands that target production should be executed in the `#production` slack channel and cross-posted (with the command results) to the responsible team's slack channel (`#g_TEAM_NAME`).\n\n- [ ] [Incrementally roll out](https://docs.gitlab.com/ee/development/feature_flags/controls.html#process) the feature.\n  - If the feature flag in code has [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform **actor-based** rollout.\n    - [x] `/chatops run feature set ci_rules_changes_compare \u003crollout-percentage\u003e --actors`\n  - If the feature flag in code does **NOT** have [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform time-based rollout (**random** rollout).\n    - [ ] `/chatops run feature set ci_rules_changes_compare \u003crollout-percentage\u003e --random`\n  - Enable the feature globally on production environment.\n    - [x] `/chatops run feature set ci_rules_changes_compare true`\n- [ ] Announce on [the feature issue](ISSUE LINK) that the feature has been globally enabled.\n- [ ] Wait for [at least one day for the verification term](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release).\n\n### (Optional) Release the feature with the feature flag\n\nIf you're still unsure whether the feature is [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release)\nbut want to release it in the current milestone, you can change the default state of the feature flag to be enabled.\nTo do so, follow these steps:\n\n- [ ] Create a merge request with the following changes. Ask for review and merge it.\n    - [ ] Set the `default_enabled` attribute in [the feature flag definition](https://docs.gitlab.com/ee/development/feature_flags/#feature-flag-definition-and-validation) to `true`.\n    - [ ] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the default-enabling MR has been included in the release package.\n      If the merge request was deployed before [the monthly release was tagged](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run release check \u003cmerge-request-url\u003e \u003cmilestone\u003e`\n- [ ] Consider cleaning up the feature flag from all environments by running these chatops command in `#production` channel. Otherwise these settings may override the default enabled.\n    - [ ] `/chatops run feature delete ci_rules_changes_compare --dev --staging --staging-ref --production`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [ ] Set the next milestone to this rollout issue for scheduling [the flag removal](#release-the-feature).\n- [ ] (Optional) You can [create a separate issue](https://gitlab.com/gitlab-org/gitlab/-/issues/new?issuable_template=Feature%20Flag%20Cleanup) for scheduling the steps below to [Release the feature](#release-the-feature).\n    - [ ] Set the title to \"[Feature flag] Cleanup `ci_rules_changes_compare`\".\n    - [ ] Execute the `/copy_metadata \u003cthis-rollout-issue-link\u003e` quick action to copy the labels from this rollout issue.\n    - [ ] Link this rollout issue as a related issue.\n    - [ ] Close this rollout issue.\n\n**WARNING:** This approach has the downside that it makes it difficult for us to\n[clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) the flag.\nFor example, on-premise users could disable the feature on their GitLab instance. But when you\nremove the flag at some point, they suddenly see the feature as enabled and they can't roll it back\nto the previous behavior. To avoid this potential breaking change, use this approach only for urgent\nmatters.\n\n### Release the feature\n\nAfter the feature has been [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release),\nthe [clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up)\nshould be done as soon as possible to permanently enable the feature and reduce complexity in the\ncodebase.\n\nYou can either [create a follow-up issue for Feature Flag Cleanup](https://gitlab.com/gitlab-org/gitlab/-/issues/new?issuable_template=Feature%20Flag%20Cleanup) or use the checklist below in this same issue.\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [ ] Create a merge request to remove `ci_rules_changes_compare` feature flag. Ask for review and merge it.\n    - [ ] Remove all references to the feature flag from the codebase.\n    - [ ] Remove the YAML definitions for the feature from the repository.\n    - [ ] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the cleanup MR has been included in the release package.\n      If the merge request was deployed before [the monthly release was tagged](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run release check \u003cmerge-request-url\u003e \u003cmilestone\u003e`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [ ] If not already done, clean up the feature flag from all environments by running these chatops command in `#production` channel:\n    - [ ] `/chatops run feature delete ci_rules_changes_compare --dev --staging --staging-ref --production`\n- [ ] Close this rollout issue.\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set ci_rules_changes_compare false\n```","state":"closed","created_at":"2022-06-28T11:16:07.042Z","updated_at":"2022-09-30T15:15:21.256Z","closed_at":"2022-09-23T10:15:03.633Z","closed_by":{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"},"labels":["Category:Pipeline Authoring","backend","devops::verify","feature flag","feature::addition","group::pipeline authoring","section::ops","type::feature","workflow::production"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"}],"author":{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"},"type":"ISSUE","assignee":{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"},"user_notes_count":21,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/366412","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":46,"completed_count":4},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"4 of 46 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/366412","notes":"https://gitlab.com/api/v4/projects/278964/issues/366412/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/366412/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#366412","relative":"#366412","full":"gitlab-org/gitlab#366412"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":{"id":67043,"iid":82,"sequence":25,"group_id":9970,"title":null,"description":null,"state":3,"created_at":"2022-06-27T00:05:02.060Z","updated_at":"2022-10-03T00:05:01.914Z","start_date":"2022-09-19","due_date":"2022-10-02","web_url":"https://gitlab.com/groups/gitlab-org/-/iterations/67043"},"health_status":"on_track"},{"id":110827506,"iid":366411,"project_id":278964,"title":"Improve logs when exporting projects using  Import/Export","description":"### Problem to solve\n\nIt's quite difficult to debug failed project exports when using [Import/Export](https://docs.gitlab.com/ee/user/project/settings/import_export.html#export-a-project-and-its-data)  because the logs don't contain relevant information and the exception message sometimes aren't meaningful and don't have context.\n\n### Proposal\n\nLog more information when exporting projects and improve the exception messages\n\n### Ideas\n\n**Log progress of the export**\n\n- Log a message when starting to export each component of the tarball. For example: `Version export started`, `Project tree export started`, `Repository export started`\n- For the `Project tree export`, log when the export of each relation started. For example: `Project tree: project attributes export started`, Project tree: issues export started`\n- Log how many records will be exported. `Number of issues to export: 10`, `Number of LFS objects to export: 10`\n- Log the size or statistics of the project at the beginning of the export\n\n**When an exception occurs**\n\n- Log which record failed. For example: `Failed to export issue 10 of 100. Issue ID #15`\n- ~~Log the full exception message without filtering it.~~. Exceptions are already logged. But they are logged with the attribute `exportable_id`. \n\nKibana KLQ:\n```json.extra.exportable_id : * AND json.severity : \"ERROR\"```","state":"closed","created_at":"2022-06-28T10:52:05.015Z","updated_at":"2022-08-12T10:59:44.037Z","closed_at":"2022-08-12T10:59:43.998Z","closed_by":{"id":11165152,"username":"rodrigo.tomonari","name":"Rodrigo Tomonari","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11165152/avatar.png","web_url":"https://gitlab.com/rodrigo.tomonari"},"labels":["Category:Importers","Importer:Project Export/Import","Next Up","backend","devops::manage","group::import","quad-planning::complete-no-action","section::dev","type::maintenance","workflow::production"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":11165152,"username":"rodrigo.tomonari","name":"Rodrigo Tomonari","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11165152/avatar.png","web_url":"https://gitlab.com/rodrigo.tomonari"}],"author":{"id":11165152,"username":"rodrigo.tomonari","name":"Rodrigo Tomonari","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11165152/avatar.png","web_url":"https://gitlab.com/rodrigo.tomonari"},"type":"ISSUE","assignee":{"id":11165152,"username":"rodrigo.tomonari","name":"Rodrigo Tomonari","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11165152/avatar.png","web_url":"https://gitlab.com/rodrigo.tomonari"},"user_notes_count":5,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/366411","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/366411","notes":"https://gitlab.com/api/v4/projects/278964/issues/366411/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/366411/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#366411","relative":"#366411","full":"gitlab-org/gitlab#366411"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":110817907,"iid":366406,"project_id":278964,"title":"API Endpoint for deleting attachments from project","description":"### Problem to solve \n\nAs a CS engineer, I need I way to securely delete attachments from projects without using the Rails console. \n\n### Proposal\n\nCreate 2 API endpoints:\n1. Get attachment\n2. Delete attachment\n\nIn order to delete an attachment the user must provide the direct link to the attachment and the unique ID (and the project ID)\n\nCreate an API to remove an attachment scoped to an Owner, that would completely eliminate the need for us to intervene via the console.\n\n**Or** \n\nadmin-only API endpoint would do: that would let us add a feature to ChatOps or use *only* admin access (which is technically a lesser level\n\n### Recent examples\n\n* https://gitlab.com/gitlab-com/support/internal-requests/-/issues/11665#note_773486715 / https://gitlab.zendesk.com/agent/tickets/256477\n\nWhen users write in, the usually provide a direct link to the attachment which includes the unique ID we can use to remove it.\n\n### Note\n\nWe will need to add a follow up issue to this to add an audit event for this","state":"closed","created_at":"2022-06-28T08:42:43.420Z","updated_at":"2022-09-30T13:48:58.987Z","closed_at":"2022-09-02T20:18:27.383Z","closed_by":{"id":5709669,"username":"mushakov","name":"Melissa Ushakov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5709669/avatar.png","web_url":"https://gitlab.com/mushakov"},"labels":["Deliverable","GitLab Premium","auto updated","backend","customer","devops::plan","gitlab.com","group::product planning","internal customer","popular proposal","potential proposal","release post item","release post item::in review","section::dev","security","type::feature","workflow::verification"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"}],"author":{"id":4156460,"username":"ogolowinski","name":"Orit Golowinski","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4156460/avatar.png","web_url":"https://gitlab.com/ogolowinski"},"type":"ISSUE","assignee":{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"},"user_notes_count":36,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":"2022-07-29","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/366406","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":1,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/366406","notes":"https://gitlab.com/api/v4/projects/278964/issues/366406/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/366406/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#366406","relative":"#366406","full":"gitlab-org/gitlab#366406"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":110816730,"iid":366404,"project_id":278964,"title":"Unable to configure auditor status of users via the API","description":"### Summary\n\nIn https://gitlab.com/gitlab-org/gitlab/-/issues/300127, the `Auditor` status was added to the User API via the field `is_auditor`. However, the issue additionally stated that it should be possible to modify the `Auditor` status via the API as well. This was not implemented in the original issue.\n\nSo the [respective user modification](https://docs.gitlab.com/ee/api/users.html#user-modification) and creation API calls (PUT and POST with parameter `auditor`) are missing.\n\n### Steps to reproduce\n\nTry to set the `auditor` role via the API:\n\n`curl --request PUT --header \"PRIVATE-TOKEN: $ADMIN_TOKEN\" \"https://gitlab.local/api/v4/users/5?auditor=true\"`\n\nReturned response still contains\n\n`\"is_auditor\":false`\n\n### What is the current *bug* behavior?\n\nUser modification and creation API endpoints are missing the parameter `auditor` that configures the `Auditor` status of a user.\n\n### What is the expected *correct* behavior?\n\n`Auditor` status of a user can be configured for user creation and modification with the API.\n\n### Output of checks\n\n#### Results of GitLab environment info\n\n\u003c!--  Input any relevant GitLab environment information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to GitLab environment info\u003c/summary\u003e\n\n\u003cpre\u003e\n\nSystem information\nSystem:\t\tUbuntu 18.04\nProxy:\t\tno\nCurrent User:\tgit\nUsing RVM:\tno\nRuby Version:\t2.7.5p203\nGem Version:\t3.1.4\nBundler Version:2.2.33\nRake Version:\t13.0.6\nRedis Version:\t6.2.6\nSidekiq Version:6.4.0\nGo Version:\tunknown\n\nGitLab information\nVersion:\t15.0.0-ee\nRevision:\t3b397c17532\nDirectory:\t/opt/gitlab/embedded/service/gitlab-rails\nDB Adapter:\tPostgreSQL\nDB Version:\t12.10\nURL:\t\thttp://gitlab.here\nHTTP Clone URL:\thttp://gitlab.here/some-group/some-project.git\nSSH Clone URL:\tgit@gitlab.here:some-group/some-project.git\nElasticsearch:\tno\nGeo:\t\tno\nUsing LDAP:\tno\nUsing Omniauth:\tyes\nOmniauth Providers: gitlab\n\nGitLab Shell\nVersion:\t14.3.0\nRepository storage paths:\n- default: \t/var/opt/gitlab/git-data/repositories\nGitLab Shell path:\t\t/opt/gitlab/embedded/service/gitlab-shell\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n#### Results of GitLab application Check\n\n\u003c!--  Input any relevant GitLab application check information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to the GitLab application check\u003c/summary\u003e\n\u003cpre\u003e\n\nChecking GitLab subtasks ...\n\nChecking GitLab Shell ...\n\nGitLab Shell: ... GitLab Shell version \u003e= 14.3.0 ? ... OK (14.3.0)\nRunning /opt/gitlab/embedded/service/gitlab-shell/bin/check\nInternal API available: OK\nRedis available via internal API: OK\ngitlab-shell self-check successful\n\nChecking GitLab Shell ... Finished\n\nChecking Gitaly ...\n\nGitaly: ... default ... OK\n\nChecking Gitaly ... Finished\n\nChecking Sidekiq ...\n\nSidekiq: ... Running? ... yes\nNumber of Sidekiq processes (cluster/worker) ... 1/1\n\nChecking Sidekiq ... Finished\n\nChecking Incoming Email ...\n\nIncoming Email: ... Reply by email is disabled in config/gitlab.yml\n\nChecking Incoming Email ... Finished\n\nChecking LDAP ...\n\nLDAP: ... LDAP is disabled in config/gitlab.yml\n\nChecking LDAP ... Finished\n\nChecking GitLab App ...\n\nDatabase config exists? ... yes\nAll migrations up? ... yes\nDatabase contains orphaned GroupMembers? ... no\nGitLab config exists? ... yes\nGitLab config up to date? ... yes\nLog directory writable? ... yes\nTmp directory writable? ... yes\nUploads directory exists? ... yes\nUploads directory has correct permissions? ... yes\nUploads directory tmp has correct permissions? ... yes\nSystemd unit files or init script exist? ... skipped (omnibus-gitlab has neither init script nor systemd units)\nSystemd unit files or init script up-to-date? ... skipped (omnibus-gitlab has neither init script nor systemd units)\nProjects have namespace: ...\n2/1 ... yes\n4/2 ... yes\n1/3 ... yes\n25/4 ... yes\n4/5 ... yes\n6/7 ... yes\n9/8 ... yes\n4/9 ... yes\n4/10 ... yes\n1/11 ... yes\n41/12 ... yes\n4/13 ... yes\n4/14 ... yes\nRedis version \u003e= 5.0.0? ... yes\nRuby version \u003e= 2.7.2 ? ... yes (2.7.5)\nGit user has default SSH configuration? ... yes\nActive users: ... 5\nIs authorized keys file accessible? ... yes\nGitLab configured to store new projects in hashed storage? ... yes\nAll projects are in hashed storage? ... yes\nElasticsearch version 7.x-8.x or OpenSearch version 1.x ... skipped (Advanced Search is disabled)\n\nChecking GitLab App ... Finished\n\n\nChecking GitLab subtasks ... Finished\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n### Possible fixes\n\nAdd the missing endpoints","state":"closed","created_at":"2022-06-28T08:23:42.310Z","updated_at":"2022-08-17T22:52:55.220Z","closed_at":"2022-08-17T22:52:55.202Z","closed_by":{"id":9425173,"username":"hsutor","name":"Hannah Sutor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9425173/avatar.png","web_url":"https://gitlab.com/hsutor"},"labels":["Category:API","customer","devops::manage","group::authentication and authorization","priority::2","section::dev","severity::3","type::bug","workflow::in review"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":11811081,"username":"sgarg_gitlab","name":"Smriti Garg","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11811081/avatar.png","web_url":"https://gitlab.com/sgarg_gitlab"}],"author":{"id":4544656,"username":"mbruemmer","name":"Martin Brümmer","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4544656/avatar.png","web_url":"https://gitlab.com/mbruemmer"},"type":"ISSUE","assignee":{"id":11811081,"username":"sgarg_gitlab","name":"Smriti Garg","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11811081/avatar.png","web_url":"https://gitlab.com/sgarg_gitlab"},"user_notes_count":18,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/366404","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/366404","notes":"https://gitlab.com/api/v4/projects/278964/issues/366404/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/366404/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#366404","relative":"#366404","full":"gitlab-org/gitlab#366404"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":110815618,"iid":366402,"project_id":278964,"title":"Expose an API endpoint that lists the locations to where a given project can be transferred to","description":"From the discussion in https://gitlab.com/gitlab-org/gitlab/-/issues/296817#note_1007627617, we need an API endpoint that lists all the namespaces to which a project can be transferred to. We can do this with slight modification to the already existing `Resolvers::Users::GroupsResolver`","state":"closed","created_at":"2022-06-28T08:04:56.148Z","updated_at":"2022-07-05T13:01:11.288Z","closed_at":"2022-07-05T13:01:08.273Z","closed_by":{"id":4093067,"username":"manojmj","name":"Manoj M J","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4093067/avatar.png","web_url":"https://gitlab.com/manojmj"},"labels":["auto updated","backend","devops::manage","group::organization","section::dev"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":4093067,"username":"manojmj","name":"Manoj M J","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4093067/avatar.png","web_url":"https://gitlab.com/manojmj"}],"author":{"id":4093067,"username":"manojmj","name":"Manoj M J","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4093067/avatar.png","web_url":"https://gitlab.com/manojmj"},"type":"ISSUE","assignee":{"id":4093067,"username":"manojmj","name":"Manoj M J","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4093067/avatar.png","web_url":"https://gitlab.com/manojmj"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/366402","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/366402","notes":"https://gitlab.com/api/v4/projects/278964/issues/366402/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/366402/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#366402","relative":"#366402","full":"gitlab-org/gitlab#366402"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":110814740,"iid":366401,"project_id":278964,"title":"Fix Service ping failing metrics for ecosystem stage (3)","description":"## Summary\n\nThe following metrics are failing in GitLab.com for ~\"devops::ecosystem\" \n\n- [`counts.groups_inheriting_gitlab_slack_application_active`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/config/metrics/counts_all/20210917040700_groups_inheriting_gitlab_slack_application_active.yml)\n\n\n## Resources\n\n* See [Service ping guide for how to optimize queries](https://docs.gitlab.com/ee/development/service_ping/implement.html#optimize-queries-with-database-lab)\n* Use [Metrics dictionary ](https://metrics.gitlab.com/)to find more information about metrics","state":"closed","created_at":"2022-06-28T07:53:23.485Z","updated_at":"2022-12-05T12:02:54.152Z","closed_at":"2022-08-09T11:54:40.371Z","closed_by":{"id":11722161,"username":"bmarjanovic","name":"Bojan Marjanovic","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11722161/avatar.png","web_url":"https://gitlab.com/bmarjanovic"},"labels":["auto updated","backend","broken metric","devops::manage","group::integrations","product intelligence","section::dev","type::bug","workflow::production"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":11722161,"username":"bmarjanovic","name":"Bojan Marjanovic","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11722161/avatar.png","web_url":"https://gitlab.com/bmarjanovic"}],"author":{"id":4807002,"username":"mikolaj_wawrzyniak","name":"Mikołaj Wawrzyniak","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4807002/avatar.png","web_url":"https://gitlab.com/mikolaj_wawrzyniak"},"type":"ISSUE","assignee":{"id":11722161,"username":"bmarjanovic","name":"Bojan Marjanovic","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11722161/avatar.png","web_url":"https://gitlab.com/bmarjanovic"},"user_notes_count":18,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/366401","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/366401","notes":"https://gitlab.com/api/v4/projects/278964/issues/366401/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/366401/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#366401","relative":"#366401","full":"gitlab-org/gitlab#366401"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":9402,"epic":{"id":672526,"iid":9402,"title":"Fix service ping failing metrics for Integrations","url":"/groups/gitlab-org/-/epics/9402","group_id":9970,"human_readable_end_date":"Aug 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":110787753,"iid":366365,"project_id":278964,"title":"Determine custom CycloneDX properties and create taxonomy","description":"\u003c!--\nImplementation issues are used break-up a large piece of work into small, discrete tasks that can\nmove independently through the build workflow steps. They're typically used to populate a Feature\nEpic. Once created, an implementation issue is usually refined in order to populate and review the\nimplementation plan and weight.\nExample workflow: https://about.gitlab.com/handbook/engineering/development/threat-management/planning/diagram.html#plan\n--\u003e\n\n## Why are we doing this work\n\u003c!--\nA brief explanation of the why, not the what or how. Assume the reader doesn't know the\nbackground and won't have time to dig-up information from comment threads.\n--\u003e\n\nWe're [going to use metadata properties](https://gitlab.com/gitlab-org/gitlab/-/issues/366194#note_1003429897)\nin order to include source information inside CycloneDX reports. These properties should be well-defined and documented.\n\n[The CycloneDX specification for the field](https://cyclonedx.org/docs/1.4/json/#metadata_properties) says:\n\n\u003e Provides the ability to document properties in a name-value store. This provides flexibility to include data not officially supported in the standard without having to use additional namespaces or create extensions. Unlike key-value stores, properties support duplicate names, each potentially having different values. Property names of interest to the general public are encouraged to be registered in the CycloneDX Property Taxonomy. Formal registration is OPTIONAL.\n\n## Relevant links\n\u003c!--\nInformation that the developer might need to refer to when implementing the issue.\n\n- [Design Issue](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e)\n  - [Design 1](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e/designs/\u003cimage\u003e.png)\n  - [Design 2](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e/designs/\u003cimage\u003e.png)\n- [Similar implementation](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/\u003cid\u003e)\n--\u003e\n\n\n## Non-functional requirements\n\u003c!--\nAdd details for required items and delete others.\n--\u003e\n\n- [ ] Documentation:\n- [ ] Feature flag:\n- [ ] Performance:\n- [ ] Testing:\n\n\n## Implementation plan\n\u003c!--\nSteps and the parts of the code that will need to get updated. The plan can also\ncall-out responsibilities for other team members or teams.\n\ne.g.:\n\n- [ ] ~frontend Step 1\n  - [ ] `@person` Step 1a\n- [ ] ~frontend Step 2\n\n--\u003e\n\n1. Create `gitlab-org/security-products/gitlab-cyclonedx-property-taxonomy` project\n2. Create a taxonomy defining the properties that GitLab uses\n3. Register the `gitlab` namespace in the [CycloneDX property taxonomy](https://github.com/CycloneDX/cyclonedx-property-taxonomy),\n   and link back to our own taxonomy.\n\n\u003c!--\nWorkflow and other relevant labels\n\n# ~\"group::\" ~\"Category:\" ~\"GitLab Ultimate\"\nOther settings you might want to include when creating the issue.\n\n# /assign @\n# /epic \u0026\n--\u003e\n\n## Verification steps\n\u003c!--\nAdd verification steps to help GitLab team members test the implementation. This is particularly useful\nduring the MR review and the ~\"workflow::verification\" step. You may not know exactly what the\nverification steps should be during issue refinement, so you can always come back later to add\nthem.\n\n1. Check-out the corresponding branch\n1. ...\n1. Profit!\n--\u003e","state":"closed","created_at":"2022-06-27T19:13:12.765Z","updated_at":"2022-07-25T03:27:38.601Z","closed_at":"2022-07-20T20:17:32.841Z","closed_by":{"id":8953999,"username":"bwill","name":"Brian Williams","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8953999/avatar.png","web_url":"https://gitlab.com/bwill"},"labels":["Enterprise Edition","GitLab Ultimate","WorkingGroup::ContinuousScanning","backend","devops::govern","feature::addition","group::security policies","section::sec","type::feature","workflow::in review"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":8953999,"username":"bwill","name":"Brian Williams","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8953999/avatar.png","web_url":"https://gitlab.com/bwill"}],"author":{"id":8953999,"username":"bwill","name":"Brian Williams","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8953999/avatar.png","web_url":"https://gitlab.com/bwill"},"type":"ISSUE","assignee":{"id":8953999,"username":"bwill","name":"Brian Williams","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8953999/avatar.png","web_url":"https://gitlab.com/bwill"},"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/366365","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":7,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 7 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/366365","notes":"https://gitlab.com/api/v4/projects/278964/issues/366365/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/366365/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#366365","relative":"#366365","full":"gitlab-org/gitlab#366365"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8024,"epic":{"id":518303,"iid":8024,"title":"Ingest SBOM reports","url":"/groups/gitlab-org/-/epics/8024","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":110785054,"iid":366363,"project_id":278964,"title":"Build pipelines broken due to rate limits","description":"### Problem\n\nGitlab introduced new rate limits in June that impact the API Security project pipelines. The limit of 25 pipelines/minute prevent our end-to-end tests from completing. This is preventing us from publishing new builds w/o skipping tests. When performing end-to-end testing we launch 40+ pipelines at a time to test both our regular container image and also the fips container image.\n\n### Proposal\n\nOur only option right now is to split up the end-to-end tests into multiple stages.\nSplitting up the tests manually would make it hard to maintain due to the amount of duplicated pipeline definitions.\nGenerating the end-to-end test definitions is the best option for the short term.\n\n1. Write a template for e2e tests\n2. Run a python script to generate the actual pipeline definition to an includable file\n3. Python script is run manually when needed\n4. Can we have a danger job that identifies when the script is needed to be run?\n\n### Differences between s, sm, and p jobs\n\n1. `s` vs. `sm`\n   1. Diff: `.e2e_sm_base_no_fips` - `.e2e_s_base_no_fips`\n      1. `s`: Manually run\n         1. + `when: manual`\n         2. + `needs: []`\n      1. `sm': Automatically runs after `publish_stage`\n         1. + `needs: [\"publish_stage\"]`\n1. `s`, `sm` vs. `p`\n   1. Diff: Use different image/version\n   1. Diff: `p` is manual\n   2. UPSTREAM_PROJECT is set to `publish_prod`\n1. fips vs non-fips\n   1. Diff: IMAGE_SUFFIX set to `-fips`","state":"closed","created_at":"2022-06-27T17:50:25.471Z","updated_at":"2022-07-13T14:04:16.524Z","closed_at":"2022-06-29T18:25:53.289Z","closed_by":{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"},"labels":["Category:API Security","GitLab Ultimate","backend","devops::secure","group::dynamic analysis","milestone::p1","priority::2","severity::2","type::bug","workflow::production"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"}],"author":{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"},"type":"ISSUE","assignee":{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/366363","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/366363","notes":"https://gitlab.com/api/v4/projects/278964/issues/366363/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/366363/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#366363","relative":"#366363","full":"gitlab-org/gitlab#366363"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":110785033,"iid":366362,"project_id":278964,"title":"Investigate why CORS check is running in e2e_s_dast_har_no_config job","description":"### Problem\n\nThe CORS check should not be in use, it was removed from the configuration files. However, the `e2e_s_dast_har_no_config` and `dast_har` testing job identifies two CORS vulnerabilities. This usage needs to be investigated.\n\n```yaml\nEXPECT_REPORT_CVE_0: \"bucket:check:CORS:check_arg::assert:CORS - Cache Poisoning (max age not set)\"\nEXPECT_REPORT_CVE_1: \"bucket:check:CORS:check_arg::assert:CORS - Bad 'Origin' value\"\n```\n\nAvenues of investigation:\n\n1. When no configuration is provided, the baked in DAST configuration is in use\n1. Configuration profiles extend from `Empty`\n1. Correct configuration files being baked into image\n1. Only checks listed in profiles extending from `Empty` are run","state":"closed","created_at":"2022-06-27T17:48:51.511Z","updated_at":"2022-07-13T14:04:16.565Z","closed_at":"2022-06-29T17:01:26.685Z","closed_by":{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"},"labels":["Category:API Security","GitLab Ultimate","backend","devops::secure","group::dynamic analysis","milestone::p1","priority::3","severity::4","type::bug","workflow::scheduling"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"}],"author":{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"},"type":"ISSUE","assignee":{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/366362","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/366362","notes":"https://gitlab.com/api/v4/projects/278964/issues/366362/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/366362/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#366362","relative":"#366362","full":"gitlab-org/gitlab#366362"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":110766344,"iid":366333,"project_id":278964,"title":"Verify Hackathon: Dead Code Hunt","description":"## Problem to Solve\n\n:skull_crossbones: dead code hunt :skull_crossbones:\n\nFind and remove any unused, deprecated, dead code! Get :100: points per `issue weight` per merge request.\n\n## Issues\n\n| Issue/MR | Assignee | Description | Amount deleted (LOC, data size) current and final |\n| --- | --- | --- | --- |\n| https://gitlab.com/gitlab-org/gitlab/-/issues/299985+ | @fabiopitino | Unused column with NULL values | Nothing now but evetually will remove a column across 118,000+ rows |\n| https://gitlab.com/gitlab-org/gitlab/-/issues/26062+  | @avielle     | | LOC `+0, -10`|\n| https://gitlab.com/gitlab-org/gitlab/-/issues/334253+ | @fabiopitino | Unused feature: API param and related code - Scheduled for removal in %\"16.0\"  | N/A |\n| https://gitlab.com/gitlab-org/gitlab/-/issues/238586+| @lauraX | | LOC `+48 -561` |\n| https://gitlab.com/gitlab-org/gitlab/-/merge_requests/91066+ | @fabiopitino | Unused methods/constants | LOC `+1, -25`|\n| https://gitlab.com/gitlab-org/gitlab/-/issues/344793 | @avielle | Unused column: `additional_amount_available | |\n| https://gitlab.com/gitlab-org/gitlab/-/issues/366333 / https://gitlab.com/gitlab-org/gitlab/-/merge_requests/91328| @drew | tmp_index_ci_job_artifacts_on_id_where_trace_and_expire_at | DB `8 KB` |\n| https://gitlab.com/gitlab-org/gitlab/-/merge_requests/91031 | @mbobin | unused code, refactoring | LOC `+9, -93` |\n| https://gitlab.com/gitlab-org/gitlab/-/merge_requests/91047 | @mbobin | unused column | LOC `+15, -23` |\n| https://gitlab.com/gitlab-org/gitlab/-/merge_requests/91258 | @mbobin | unused index | DB `4421 MB` |\n| https://gitlab.com/gitlab-org/gitlab/-/merge_requests/91267 | @mbobin | This adds more code(DB migration), but it should allow removal in the next release. :sweat_smile: | `+27, -1`, but should allow the removal of `154 LOC` in the next release |\n| https://gitlab.com/gitlab-org/gitlab/-/merge_requests/91268 | @morefice | unused ~\"feature flag\" | |\n| https://gitlab.com/gitlab-org/gitlab/-/merge_requests/91473 | @morefice | unused index | |\n| https://gitlab.com/gitlab-org/gitlab/-/merge_requests/91470 | @morefice | unused index | |\n| https://gitlab.com/gitlab-org/gitlab/-/issues/366482 | @alberts-gitlab | unused worker - depends on FF removal first !91336 | |\n| https://gitlab.com/gitlab-org/gitlab/-/issues/366481 | @alberts-gitlab | unused worker - depends on FF removal first !91336 | |\n| Enable FF for self managed https://gitlab.com/gitlab-org/gitlab/-/merge_requests/91336 | @alberts-gitlab | feature flag has been enabled on GitLab.com but not self managed - need to be enabled and released before deprecated workers #366482 and #366481 can be removed | |\n| https://gitlab.com/gitlab-org/gitlab/-/merge_requests/91393+ | @fabiopitino | Unused controller action and serializer method | LOC `+2, -85` |\n| https://gitlab.com/gitlab-org/gitlab/-/merge_requests/91576 | @mbobin | no longer used method of storing variables | LOC `+5, -39` |\n| https://gitlab.com/gitlab-org/gitlab/-/merge_requests/91595 | @mbobin | old queuing code | LOC `+34, -549` |\n\nSome ideas from tech debt issues:\n\n* https://gitlab.com/gitlab-org/gitlab/-/issues/344793+\n* https://gitlab.com/gitlab-org/gitlab/-/issues/271620+\n* https://gitlab.com/gitlab-org/gitlab/-/issues/271619+ - previous analysis also in https://gitlab.com/groups/gitlab-org/-/epics/4685#note_435280900\n* https://gitlab.com/gitlab-org/gitlab/-/issues/222808+\n* https://gitlab.com/gitlab-org/gitlab/-/issues/208228+\n* https://gitlab.com/gitlab-org/gitlab/-/issues/35907+\n* https://gitlab.com/gitlab-org/gitlab/-/issues/358117+\n* https://gitlab.com/gitlab-org/gitlab/-/issues/358116+\n* https://gitlab.com/gitlab-org/gitlab/-/issues/350708+\n* https://gitlab.com/gitlab-org/gitlab/-/issues/339192+\n* Feature flags??\n* Find more through code coverage reports - Extra points for unlisted items.\n\n## Why this is important?\n\nDead code not only brings a maintenance cost but also a cognitive cost for developers understanding the code. Unused data represents a cost in terms of resources and sometimes performance.\n\n## Requested expertise\n\nAnyone who enjoys the feeling of removing code.\n\n## Effort expected\n\nIt can be a time bound exercise.\n\n## Artifacts to be produced\n\nWe can share and celebrate the amount of code and data we deleted.","state":"closed","created_at":"2022-06-27T12:41:49.559Z","updated_at":"2022-12-29T03:01:41.132Z","closed_at":"2022-07-05T20:14:33.333Z","closed_by":{"id":4626651,"username":"allison.browne","name":"Allison Browne","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4bc33904c3bd3f2dce3db4e5af4ad1ae?s=80\u0026d=identicon","web_url":"https://gitlab.com/allison.browne"},"labels":["Category:Continuous Integration","Category:Pipeline Authoring","Hackathon","devops::verify","group::pipeline execution","maintenance::removal","section::ops","type::maintenance"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"},{"id":3946912,"username":"lauraX","name":"Laura Montemayor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3946912/avatar.png","web_url":"https://gitlab.com/lauraX"},{"id":4059128,"username":"avielle","name":"Avielle Wolfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4059128/avatar.png","web_url":"https://gitlab.com/avielle"},{"id":4626651,"username":"allison.browne","name":"Allison Browne","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4bc33904c3bd3f2dce3db4e5af4ad1ae?s=80\u0026d=identicon","web_url":"https://gitlab.com/allison.browne"},{"id":6354882,"username":"alberts-gitlab","name":"Albert Salim","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6354882/avatar.png","web_url":"https://gitlab.com/alberts-gitlab"}],"author":{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"},"type":"ISSUE","assignee":{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"},"user_notes_count":5,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/366333","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/366333","notes":"https://gitlab.com/api/v4/projects/278964/issues/366333/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/366333/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#366333","relative":"#366333","full":"gitlab-org/gitlab#366333"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8188,"epic":{"id":539348,"iid":8188,"title":"FY23 - Verify Team Week (Hackathon \u0026 more!)","url":"/groups/gitlab-org/-/epics/8188","group_id":9970,"human_readable_end_date":"Jul 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":110762527,"iid":366324,"project_id":278964,"title":"Add monitoring for users autosuggestion API","description":"Since we're considering introducing https://gitlab.com/gitlab-org/gitlab/-/issues/359820, it would be very helpful to have monitoring the performance of users autosuggestion API to capture before and after.","state":"closed","created_at":"2022-06-27T11:31:20.109Z","updated_at":"2022-12-22T10:46:15.061Z","closed_at":"2022-12-22T10:46:14.444Z","closed_by":{"id":12457737,"username":"maddievn","name":"Madelein van Niekerk","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12457737/avatar.png","web_url":"https://gitlab.com/maddievn"},"labels":["Category:Global Search","devops::data_stores","group::global search","section::enablement","type::maintenance"],"milestone":{"id":2745648,"iid":83,"group_id":9970,"title":"15.8","description":"","state":"active","created_at":"2022-08-22T16:57:34.875Z","updated_at":"2022-08-22T16:57:34.875Z","due_date":"2023-01-17","start_date":"2022-12-18","expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/83"},"assignees":[{"id":12457737,"username":"maddievn","name":"Madelein van Niekerk","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12457737/avatar.png","web_url":"https://gitlab.com/maddievn"}],"author":{"id":5054237,"username":"dgruzd","name":"Dmitry Gruzd","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5054237/avatar.png","web_url":"https://gitlab.com/dgruzd"},"type":"ISSUE","assignee":{"id":12457737,"username":"maddievn","name":"Madelein van Niekerk","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12457737/avatar.png","web_url":"https://gitlab.com/maddievn"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/366324","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":1,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/366324","notes":"https://gitlab.com/api/v4/projects/278964/issues/366324/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/366324/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#366324","relative":"#366324","full":"gitlab-org/gitlab#366324"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8001,"epic":{"id":515689,"iid":8001,"title":"Add more content to Advanced Search","url":"/groups/gitlab-org/-/epics/8001","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":110762445,"iid":366323,"project_id":278964,"title":"Update status checks widget screenshots in documentation","description":"## Problem description\n\nThe status checks MR widget is part of the new widget extensions. Once the global rollout https://gitlab.com/gitlab-org/gitlab/-/issues/341759 is complete the [widget documentation](https://docs.gitlab.com/ee/user/project/merge_requests/status_checks.html#status-checks-widget) will be out of date.\n\n## Suggested solution\n\n- Update the screenshots to match.\n- Add a note that the UI has been updated in the version history.","state":"closed","created_at":"2022-06-27T11:29:16.938Z","updated_at":"2022-12-06T02:25:53.099Z","closed_at":"2022-08-17T07:58:02.035Z","closed_by":{"id":5209897,"username":"rob.hunt","name":"Robert Hunt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5209897/avatar.png","web_url":"https://gitlab.com/rob.hunt"},"labels":["auto updated","devops::manage","documentation","frontend","group::compliance","maintenance::refactor","priority::3","section::dev","type::maintenance","workflow::verification"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":5209897,"username":"rob.hunt","name":"Robert Hunt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5209897/avatar.png","web_url":"https://gitlab.com/rob.hunt"}],"author":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"type":"ISSUE","assignee":{"id":5209897,"username":"rob.hunt","name":"Robert Hunt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5209897/avatar.png","web_url":"https://gitlab.com/rob.hunt"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/366323","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/366323","notes":"https://gitlab.com/api/v4/projects/278964/issues/366323/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/366323/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#366323","relative":"#366323","full":"gitlab-org/gitlab#366323"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":110757982,"iid":366319,"project_id":278964,"title":"Update GitLab Migration to use /metadata endpoint instead of /version","description":"As pointed out by @xanf `/version` endpoint is getting deprecated in favour of `/metadata` https://gitlab.com/gitlab-org/gitlab/-/issues/366287 \n\nIn GitLab migration we use `/version` endpoint to determine what kind of data we can import and what kind of limitations a particular version has. \n\nWe should update it to use `/metadata`\n\nUsage example: https://gitlab.com/gitlab-org/gitlab/blob/5ccb5a0ece208fc74da096274357b112bfb529f2/lib/bulk_imports/clients/http.rb#L57-65 \n\nhttps://docs.gitlab.com/ee/api/metadata.html says this endpoint was introduced in 15.1, so we should make sure previous versions of GitLab still use `/version` in order to provide compatibility.","state":"closed","created_at":"2022-06-27T10:12:31.188Z","updated_at":"2022-11-16T12:21:10.720Z","closed_at":"2022-11-16T12:21:10.691Z","closed_by":{"id":674121,"username":"georgekoltsov","name":"George Koltsov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/674121/avatar.png","web_url":"https://gitlab.com/georgekoltsov"},"labels":["Category:Importers","Importer:GitLab Migration","devops::manage","group::import","quad-planning::complete-no-action","section::dev","type::maintenance","workflow::verification"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":674121,"username":"georgekoltsov","name":"George Koltsov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/674121/avatar.png","web_url":"https://gitlab.com/georgekoltsov"}],"author":{"id":674121,"username":"georgekoltsov","name":"George Koltsov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/674121/avatar.png","web_url":"https://gitlab.com/georgekoltsov"},"type":"ISSUE","assignee":{"id":674121,"username":"georgekoltsov","name":"George Koltsov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/674121/avatar.png","web_url":"https://gitlab.com/georgekoltsov"},"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/366319","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/366319","notes":"https://gitlab.com/api/v4/projects/278964/issues/366319/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/366319/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#366319","relative":"#366319","full":"gitlab-org/gitlab#366319"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4931,"epic":{"id":145558,"iid":4931,"title":"GitLab Migration - Technical Improvements","url":"/groups/gitlab-org/-/epics/4931","group_id":9970,"human_readable_end_date":"Dec 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":110757407,"iid":366315,"project_id":278964,"title":"Allow CI YamlProcessor to use feature flags with actor","description":"## Problem\n\nEnabling new CI YAML keywords via feature flags incrementally is not possible today due to the `Ci::Config` not propagating the `project` actor throughout the YAML processing. This means that we can only enable a feature flag globally. If something unexpected happens it can have a large impact cross the instance.\n\n#### Why this is important?\n\nWe want to be able to incrementally enable feature flags whenever possible. Given that the config YAML processing is a core part of CI, we should be able to safely make changes while at the same time limit impacts by enabling the feature flag incrementally.\n\n## Proposal\n\nWe could use `Thread.current` local variable to cache the actor.\n\n## Deliverable\n\nPoC or working MVC\n\n## References\n\nhttps://gitlab.com/gitlab-org/verify-stage/-/issues/203#note_937835172:","state":"closed","created_at":"2022-06-27T10:02:51.773Z","updated_at":"2022-07-08T18:00:23.576Z","closed_at":"2022-07-07T09:21:11.091Z","closed_by":{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"},"labels":["Category:Continuous Integration","Hackathon","backend","devops::verify","feature flag","group::pipeline execution","maintenance::refactor","section::ops","type::maintenance","workflow::production"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"}],"author":{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"},"type":"ISSUE","assignee":{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/366315","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/366315","notes":"https://gitlab.com/api/v4/projects/278964/issues/366315/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/366315/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#366315","relative":"#366315","full":"gitlab-org/gitlab#366315"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":110746735,"iid":366302,"project_id":278964,"title":"Delayed project deletion does not work for some user namespace","description":"### Description\n\nWe have a couple of user namespaces that have `delayed_project_removal` set as `false` in the `namespace_settings` table. As a result of this, even though delayed deletion would be enabled at the instance level, these user namespaces still have delayed deletion disabled.\n\n**\\~73% of user namespaces have** `delayed_project_removal` set as `false`.\n\n```sql\ngitlabhq_dblab=# \nSELECT\n    COUNT(*) AS count_all,\n    \"namespace_settings\".\"delayed_project_removal\" AS namespace_settings_delayed_project_removal\nFROM\n    \"namespaces\"\n    INNER JOIN \"namespace_settings\" ON \"namespace_settings\".\"namespace_id\" = \"namespaces\".\"id\"\nWHERE\n    \"namespaces\".\"type\" = 'User'\nGROUP BY\n    \"namespace_settings\".\"delayed_project_removal\";\n\n count_all | namespace_settings_delayed_project_removal\n-----------+--------------------------------------------\n   8304373 | f\n   3054504 |\n(2 rows)\n\n```\n\n### Implementation Plan\n\nWrite a migration to set `\"namespace_settings\".\"delayed_project_removal\"` value as `nil` for these namespaces so that delayed deletion works for all the user namespaces and does not have any inconsistencies.","state":"closed","created_at":"2022-06-27T07:19:17.464Z","updated_at":"2022-07-20T03:26:21.383Z","closed_at":"2022-07-14T08:44:22.476Z","closed_by":{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"},"labels":["backend","database","devops::manage","feature::enhancement","group::compliance","priority::1","section::dev","type::feature","workflow::verification"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"},{"id":9821577,"username":"huzaifaiftikhar1","name":"Huzaifa Iftikhar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9821577/avatar.png","web_url":"https://gitlab.com/huzaifaiftikhar1"}],"author":{"id":9821577,"username":"huzaifaiftikhar1","name":"Huzaifa Iftikhar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9821577/avatar.png","web_url":"https://gitlab.com/huzaifaiftikhar1"},"type":"ISSUE","assignee":{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/366302","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/366302","notes":"https://gitlab.com/api/v4/projects/278964/issues/366302/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/366302/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#366302","relative":"#366302","full":"gitlab-org/gitlab#366302"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":110744584,"iid":366301,"project_id":278964,"title":"Enter button deletes the protected branch even if on-screen delete button is disabled (due to wrong or no value)","description":"When deleting a protected branch on a project, it asks for branch name to be written manually before the delete button is enabled and branch could be deleted. But if the person just press \u003cEnter\u003e key on keyboard with wrong text or even empty string, button is not enabled but branch is deleted.\n\n![image](/uploads/4269217701e7a920e47057d7fdc09dfa/image.png)","state":"closed","created_at":"2022-06-27T06:39:53.902Z","updated_at":"2022-11-21T12:09:19.999Z","closed_at":"2022-11-21T12:09:19.960Z","closed_by":{"id":11703928,"username":"nradina","name":"Nataliia Radina","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11703928/avatar.png","web_url":"https://gitlab.com/nradina"},"labels":["Category:Source Code Management","[deprecated] Accepting merge requests","automation:ml","devops::create","frontend","group::source code","priority::1","section::dev","severity::1","type::bug","workflow::in review"],"milestone":{"id":2745648,"iid":83,"group_id":9970,"title":"15.8","description":"","state":"active","created_at":"2022-08-22T16:57:34.875Z","updated_at":"2022-08-22T16:57:34.875Z","due_date":"2023-01-17","start_date":"2022-12-18","expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/83"},"assignees":[{"id":11703928,"username":"nradina","name":"Nataliia Radina","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11703928/avatar.png","web_url":"https://gitlab.com/nradina"}],"author":{"id":9734772,"username":"spire-talha","name":"Talha Ehsan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9734772/avatar.png","web_url":"https://gitlab.com/spire-talha"},"type":"ISSUE","assignee":{"id":11703928,"username":"nradina","name":"Nataliia Radina","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11703928/avatar.png","web_url":"https://gitlab.com/nradina"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2022-12-18","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/366301","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/366301","notes":"https://gitlab.com/api/v4/projects/278964/issues/366301/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/366301/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#366301","relative":"#366301","full":"gitlab-org/gitlab#366301"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":110666194,"iid":366255,"project_id":278964,"title":"Feature flag rollout - externally_stored_diffs_caching_export","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n## Summary\n\nThis issue is to rollout [the feature](ISSUE LINK) on production,\nthat is currently behind the `externally_stored_diffs_caching_export` feature flag.\n\n\u003c!-- Short description of what the feature is about and link to relevant other issues. --\u003e\n\n## Owners\n\n- Team: ~\"group::import\" \n- Most appropriate slack channel to reach out to: `#g_manage_import`\n- Best individual to reach out to: `@georgekoltsov`\n- PM: `@iganbaruch` \n\n## Stakeholders\n\n\u003c!--\nAre there any other stages or teams involved that need to be kept in the loop?\n\n- Name of a PM\n- The Support Team\n- The Delivery Team\n--\u003e\n\n## Expectations\n\n### What are we expecting to happen?\n\n\u003c!-- Describe the expected outcome when rolling out this feature --\u003e\n\nReduced export duration for ProjectExportWorker\n\n### When is the feature viable?\n\n\u003c!-- What are the settings we need to configure in order to have this feature viable? --\u003e\n\n\u003c!-- \nExample below:\n \n1. Enable service ping collection\n   `ApplicationSetting.first.update(usage_ping_enabled: true)`\n--\u003e\n\n### What might happen if this goes wrong?\n\n\u003c!-- Should the feature flag be turned off? Any MRs that need to be rolled back? Communication that needs to happen? What are some things you can think of that could go wrong - data loss or broken pages? --\u003e\n\n### What can we monitor to detect problems with this?\n\nGrafana dashboards for Sidekiq ProjectExportWorker, Kibana logs \n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? --\u003e\n_Consider mentioning checks for 5xx errors or other anomalies like an increase in redirects \n(302 HTTP response status)_\n\n### What can we check for monitoring production after rollouts?\n\nGrafana dashboards for Sidekiq ProjectExportWorker, Kibana logs. Jobs should be suceeding \n\n_Consider adding links to check for Sentry errors, Production logs for 5xx, 302s, etc._\n\n## Rollout Steps\n\n### Rollout on non-production environments\n\n- Ensure that the feature MRs have been deployed to non-production environments.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- [x] Enable the feature globally on non-production environments.\n    - [x] `/chatops run feature set \u003cfeature-flag-name\u003e true --dev --staging`\n- [x] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n      The best environment to validate the feature in is [staging-canary](https://about.gitlab.com/handbook/engineering/infrastructure/environments/#staging-canary)\n      as this is the first environment deployed to. Note you will need to make sure you are configured to use canary as outlined [here](https://about.gitlab.com/handbook/engineering/infrastructure/environments/canary-stage/)\n      when accessing the staging environment in order to make sure you are testing appropriately.\n\n### Specific rollout on production\n\n- Ensure that the feature MRs have been deployed to both production and canary.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- If you're using [project-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [ ] `/chatops run feature set --project=gitlab-org/gitlab,gitlab-org/gitlab-foss,gitlab-com/www-gitlab-com \u003cfeature-flag-name\u003e true`\n- If you're using [group-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [ ] `/chatops run feature set --group=gitlab-org,gitlab-com \u003cfeature-flag-name\u003e true`\n- If you're using [user-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [ ] `/chatops run feature set --user=\u003cyour-username\u003e \u003cfeature-flag-name\u003e true`\n- [ ] Verify that the feature works on the specific entries. Posting the QA result in this issue is preferable.\n\n### Preparation before global rollout\n\n- [x] Check if the feature flag change needs to be accompanied with a\n  [change management issue](https://about.gitlab.com/handbook/engineering/infrastructure/change-management/#feature-flags-and-the-change-management-process).\n  Cross link the issue here if it does.\n- [x] Ensure that you or a representative in development can be available for at least 2 hours after feature flag updates in production.\n  If a different developer will be covering, or an exception is needed, please inform the oncall SRE by using the `@sre-oncall` Slack alias.\n- [x] Ensure that documentation has been updated ([More info](https://docs.gitlab.com/ee/development/documentation/feature_flags.html#features-that-became-enabled-by-default)).\n- [x] Announce on [the feature issue](ISSUE LINK) an estimated time this will be enabled on GitLab.com. \n- [x] Ensure that any breaking changes have been announced following the [release post process](https://about.gitlab.com/handbook/marketing/blog/release-posts/#deprecations-removals-and-breaking-changes) to ensure GitLab customers are aware.\n- [x] Notify `#support_gitlab-com` and your team channel ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#communicate-the-change)).\n\n### Global rollout on production\n\nFor visibility, all `/chatops` commands that target production should be executed in the `#production` slack channel and cross-posted (with the command results) to the responsible team's slack channel (`#g_TEAM_NAME`).\n\n- [x] [Incrementally roll out](https://docs.gitlab.com/ee/development/feature_flags/controls.html#process) the feature.\n  - If the feature flag in code has [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform **actor-based** rollout.\n    - [ ] `/chatops run feature set \u003cfeature-flag-name\u003e \u003crollout-percentage\u003e --actors`\n  - If the feature flag in code does **NOT** have [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform time-based rollout (**random** rollout).\n    - [ ] `/chatops run feature set \u003cfeature-flag-name\u003e \u003crollout-percentage\u003e --random`\n  - Enable the feature globally on production environment.\n    - [x] `/chatops run feature set \u003cfeature-flag-name\u003e true`\n- [x] Announce on [the feature issue](ISSUE LINK) that the feature has been globally enabled.\n- [ ] Wait for [at least one day for the verification term](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release).\n\n### (Optional) Release the feature with the feature flag\n\nIf you're still unsure whether the feature is [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release)\nbut want to release it in the current milestone, you can change the default state of the feature flag to be enabled.\nTo do so, follow these steps:\n\n- [ ] Create a merge request with the following changes. Ask for review and merge it.\n    - [ ] Set the `default_enabled` attribute in [the feature flag definition](https://docs.gitlab.com/ee/development/feature_flags/#feature-flag-definition-and-validation) to `true`.\n    - [ ] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the default-enabling MR has been included in the release package.\n      If the merge request was deployed before [the monthly release was tagged](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run release check \u003cmerge-request-url\u003e \u003cmilestone\u003e`\n- [ ] Consider cleaning up the feature flag from all environments by running these chatops command in `#production` channel. Otherwise these settings may override the default enabled.\n    - [ ] `/chatops run feature delete \u003cfeature-flag-name\u003e --dev --staging --production`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [ ] Set the next milestone to this rollout issue for scheduling [the flag removal](#release-the-feature).\n- [ ] (Optional) You can [create a separate issue](https://gitlab.com/gitlab-org/gitlab/-/issues/new?issuable_template=Feature%20Flag%20Cleanup) for scheduling the steps below to [Release the feature](#release-the-feature).\n    - [ ] Set the title to \"[Feature flag] Cleanup `\u003cfeature-flag-name\u003e`\".\n    - [ ] Execute the `/copy_metadata \u003cthis-rollout-issue-link\u003e` quick action to copy the labels from this rollout issue.\n    - [ ] Link this rollout issue as a related issue.\n    - [ ] Close this rollout issue.\n\n**WARNING:** This approach has the downside that it makes it difficult for us to\n[clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) the flag.\nFor example, on-premise users could disable the feature on their GitLab instance. But when you\nremove the flag at some point, they suddenly see the feature as enabled and they can't roll it back\nto the previous behavior. To avoid this potential breaking change, use this approach only for urgent\nmatters.\n\n### Release the feature\n\nAfter the feature has been [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release),\nthe [clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up)\nshould be done as soon as possible to permanently enable the feature and reduce complexity in the\ncodebase.\n\nYou can either [create a follow-up issue for Feature Flag Cleanup](https://gitlab.com/gitlab-org/gitlab/-/issues/new?issuable_template=Feature%20Flag%20Cleanup) or use the checklist below in this same issue.\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [x] Create a merge request to remove `\u003cfeature-flag-name\u003e` feature flag. Ask for review and merge it.\n    - [x] Remove all references to the feature flag from the codebase.\n    - [x] Remove the YAML definitions for the feature from the repository.\n    - [x] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [x] Ensure that the cleanup MR has been included in the release package.\n      If the merge request was deployed before [the monthly release was tagged](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run release check \u003cmerge-request-url\u003e \u003cmilestone\u003e`\n- [x] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [x] If not already done, clean up the feature flag from all environments by running these chatops command in `#production` channel:\n    - [ ] `/chatops run feature delete \u003cfeature-flag-name\u003e --dev --staging --production`\n- [x] Close this rollout issue.\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set \u003cfeature-flag-name\u003e false\n```","state":"closed","created_at":"2022-06-24T11:02:09.496Z","updated_at":"2022-11-16T12:22:40.011Z","closed_at":"2022-11-16T12:22:39.981Z","closed_by":{"id":674121,"username":"georgekoltsov","name":"George Koltsov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/674121/avatar.png","web_url":"https://gitlab.com/georgekoltsov"},"labels":["Importer:Project Export/Import","Next Up","backend","devops::manage","feature flag","feature::addition","group::import","missed:15.2","missed:15.3","missed:15.4","missed:15.5","section::dev","type::feature","workflow::verification"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":674121,"username":"georgekoltsov","name":"George Koltsov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/674121/avatar.png","web_url":"https://gitlab.com/georgekoltsov"}],"author":{"id":674121,"username":"georgekoltsov","name":"George Koltsov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/674121/avatar.png","web_url":"https://gitlab.com/georgekoltsov"},"type":"ISSUE","assignee":{"id":674121,"username":"georgekoltsov","name":"George Koltsov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/674121/avatar.png","web_url":"https://gitlab.com/georgekoltsov"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/366255","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":46,"completed_count":22},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"22 of 46 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/366255","notes":"https://gitlab.com/api/v4/projects/278964/issues/366255/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/366255/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#366255","relative":"#366255","full":"gitlab-org/gitlab#366255"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":110632147,"iid":366218,"project_id":278964,"title":"Allow filtering requirement work items by status on GraphQL","description":"https://gitlab.com/gitlab-org/gitlab/-/merge_requests/88915 added the ability to retrieve work items\nfrom a project using GraphQL.   \n\nNow that requirements are work items we also need to allow filtering them by status.  \n\nThere is a draft that could be used as inspiration https://gitlab.com/gitlab-org/gitlab/-/merge_requests/90934/diffs.","state":"closed","created_at":"2022-06-23T19:43:18.582Z","updated_at":"2023-01-12T21:54:03.051Z","closed_at":"2022-11-07T13:59:35.366Z","closed_by":{"id":426128,"username":"felipe_artur","name":"Felipe Artur","state":"active","avatar_url":"https://secure.gravatar.com/avatar/dbad92659914f56621cbdd726e283e60?s=80\u0026d=identicon","web_url":"https://gitlab.com/felipe_artur"},"labels":["Category:Requirements Management","GitLab Ultimate","GraphQL","Stretch","auto updated","backend","devops::plan","feature","group::certify","section::dev","type::feature","workflow::verification"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":426128,"username":"felipe_artur","name":"Felipe Artur","state":"active","avatar_url":"https://secure.gravatar.com/avatar/dbad92659914f56621cbdd726e283e60?s=80\u0026d=identicon","web_url":"https://gitlab.com/felipe_artur"}],"author":{"id":426128,"username":"felipe_artur","name":"Felipe Artur","state":"active","avatar_url":"https://secure.gravatar.com/avatar/dbad92659914f56621cbdd726e283e60?s=80\u0026d=identicon","web_url":"https://gitlab.com/felipe_artur"},"type":"ISSUE","assignee":{"id":426128,"username":"felipe_artur","name":"Felipe Artur","state":"active","avatar_url":"https://secure.gravatar.com/avatar/dbad92659914f56621cbdd726e283e60?s=80\u0026d=identicon","web_url":"https://gitlab.com/felipe_artur"},"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/366218","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/366218","notes":"https://gitlab.com/api/v4/projects/278964/issues/366218/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/366218/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#366218","relative":"#366218","full":"gitlab-org/gitlab#366218"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8371,"epic":{"id":565672,"iid":8371,"title":"Status needs for Requirements Management work item transition","url":"/groups/gitlab-org/-/epics/8371","group_id":9970,"human_readable_end_date":"Nov 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":110630913,"iid":366215,"project_id":278964,"title":"Container Registry storage visibility project vs. namespace","description":"### Context\n\nThe GitLab container registry is used to publish, share, and discover Docker images/tags. Images and tags are published to a GitLab project and can be viewed using the API or the UI. \n\nThis highly used feature can also have a significant impact on storage costs. As such, we calculate and display storage usage for the container registry in the usage quotas page. \n\n### Problem to solve\n\nThe problem is that the GitLab.com container registry deduplicates data. For example, in the below diagram we can see 4 images that share a base image but have made minor adjustments. We don't duplicate the shared layers. This means that the project-level storage will not add up to the namespace-level storage. \n\n![Screen_Shot_2022-06-23_at_11.59.25_AM](/uploads/c0c9a817e5a114ea911a918b53dbe7a3/Screen_Shot_2022-06-23_at_11.59.25_AM.png)\n\nThis is a problem because it can be confusing to users when viewing the usage quotas page. \n\n### Proposal\n\nAdd a note to the usage quotas page explaining that the project-level storage statistics to say that the size for container registry in that list is an estimate and does not include savings for site-wide deduplication. The data does not add up to the total project size and is not used to calculate total namespace storage.\n\n* On sub-group/project pages:\n  * Display text indicating that the container registry value does not include all deduplication savings, for both the total size/bar char as well as the detail list\n* On root namespaces:\n  * Include container registry in namespace size statistic\n  * Display the text for sub-groups / project detail list if they still do not show deduplicated savings\n\n#### Proposed copy\n\n\n* On project-level usage quotas page:\n\n\u003e The project-level storage statistics for the Container Registry are directional only and do not include savings for instance-wide deduplication.\n\n\n* On root namespace-level usage quotas page:\n\n\u003e This project-level storage statistic does not include savings for site-wide deduplication and is not used to calculate total namespace storage.\n\n#### Proposed design\n\nSee this issue for the design: https://gitlab.com/gitlab-org/gitlab/-/issues/367959+","state":"closed","created_at":"2022-06-23T19:10:32.313Z","updated_at":"2022-10-21T12:05:27.352Z","closed_at":"2022-10-14T04:33:36.390Z","closed_by":{"id":127064,"username":"aalakkad","name":"Ammar Alakkad","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ecc1130ce340f5080afd8f2c9962948a?s=80\u0026d=identicon","web_url":"https://gitlab.com/aalakkad"},"labels":["Deliverable","Fulfillment::Storage","devops::fulfillment","frontend","group::utilization","missed-deliverable","missed:15.3","missed:15.4","section::fulfillment","type::feature","workflow::verification"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":127064,"username":"aalakkad","name":"Ammar Alakkad","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ecc1130ce340f5080afd8f2c9962948a?s=80\u0026d=identicon","web_url":"https://gitlab.com/aalakkad"}],"author":{"id":3799560,"username":"trizzi","name":"Tim Rizzi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3799560/avatar.png","web_url":"https://gitlab.com/trizzi"},"type":"ISSUE","assignee":{"id":127064,"username":"aalakkad","name":"Ammar Alakkad","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ecc1130ce340f5080afd8f2c9962948a?s=80\u0026d=identicon","web_url":"https://gitlab.com/aalakkad"},"user_notes_count":28,"merge_requests_count":0,"upvotes":3,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/366215","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/366215","notes":"https://gitlab.com/api/v4/projects/278964/issues/366215/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/366215/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#366215","relative":"#366215","full":"gitlab-org/gitlab#366215"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":110626202,"iid":366208,"project_id":278964,"title":"Tasks should be visible and filterable in the the issue list","description":"## Problem\n\nIf I remove a task relationship from an issue, there is no way to get back to the task -- leaving it \"orphaned\"\n\n## Proposal\n\n- Show tasks in the issue list (Design covered in #366207 — https://gitlab.com/gitlab-org/gitlab/-/issues/366207/designs/Issue_List.png)\n    - Tasks should link the work item **page view** to provide a consistent experience alongside non-work items.  \n- Tasks should be filterable via the `Filter Bar` \u003e `Type`\n    - Should use `workitem-type-task` once merged: https://gitlab.com/gitlab-org/gitlab-svgs/-/merge_requests/818 \n    \nTasks should not:\n\n- Be visible on Boards as we don't have support for all the attributes on a board yet.","state":"closed","created_at":"2022-06-23T17:06:03.869Z","updated_at":"2022-12-12T23:44:04.393Z","closed_at":"2022-07-21T16:32:34.834Z","closed_by":{"id":4545397,"username":"cngo","name":"Coung Ngo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4545397/avatar.png","web_url":"https://gitlab.com/cngo"},"labels":["Deliverable","GitLab Core","devops::plan","documentation","feature::enhancement","frontend","group::project management","section::dev","type::feature","workflow::production"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":4545397,"username":"cngo","name":"Coung Ngo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4545397/avatar.png","web_url":"https://gitlab.com/cngo"}],"author":{"id":4303289,"username":"gweaver","name":"Gabe Weaver","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4303289/avatar.png","web_url":"https://gitlab.com/gweaver"},"type":"ISSUE","assignee":{"id":4545397,"username":"cngo","name":"Coung Ngo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4545397/avatar.png","web_url":"https://gitlab.com/cngo"},"user_notes_count":16,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/366208","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/366208","notes":"https://gitlab.com/api/v4/projects/278964/issues/366208/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/366208/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#366208","relative":"#366208","full":"gitlab-org/gitlab#366208"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8297,"epic":{"id":552836,"iid":8297,"title":"Tasks Short Term Cleanup","url":"/groups/gitlab-org/-/epics/8297","group_id":9970,"human_readable_end_date":"Oct 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":110626075,"iid":366207,"project_id":278964,"title":"Surface work item type in popovers, work item detail view, and issue lists","description":"## Problem\n\nAs we are working on moving from a world of issues to a world of work items with types, type is an increasingly important piece of context that should be elevated from a presentation standpoint. \n\n## Proposal\n\n- Show work item type in popovers\n- Show work item type more prominently in the work item detail and legacy issue views. \n- Show work item type in the issue list\n\n## UX\n\nProposals in design manager; historical discussion: https://gitlab.com/groups/gitlab-org/-/epics/5418\n\n#### Type indicator background and design\n\nThere’s a bit of history with this tracing back to the introduction of “issue types” (e.g. incidents), most discussion on this can be found here: https://gitlab.com/groups/gitlab-org/-/epics/5418. The overall goal was, and still is, to make visible which type an item is without having to open the item or apply a filter from the issues list. From a UI perspective the goal was to create a reusable pattern, the result being a paired icon/ID on lists, boards, and popovers. This could possibly be used on the detail page as well, but as the ID is in the breadcrumb (a reused component) and as the type can be changed from this view (but none of the others) a slightly different treatment was used to give this a little more prominence.   \n\n#### Status\n\nIn various places in the application we’re using an open/closed issues icon. This is persisted as a way to maintain consistency with MRs and Epics, and these exist under “Issues”. Epic is not currently an issue type; it exists only in groups and while you can promote issues to epics this behavior closes one and creates another, distinct from changing an issue to an incident which just changes attributes. In the future it will be a work item type, at which point it will be standardized with other issue/work item types (https://gitlab.com/groups/gitlab-org/-/epics/6033#migrate-epics-groupproduct-planning).\n\nWith the goal of introducing Status (beyond Open/Closed, e.g. In Progress, Canceled) as an attribute to all work item types (https://gitlab.com/gitlab-org/gitlab/-/issues/368290), type should be separated from status to allow greater flexibility for both fields. As part of that effort we will identify a reusable pattern to be applied to denote status in every context (lists, boards, detail, popovers, relationships, expanded GFM links, etc). In the meantime we’re updating linked items to use the newer issue icon to fix an outstanding inconsistency (https://gitlab.com/gitlab-org/gitlab/-/issues/369924) and align with other current status indicators.\n\n#### Issue type Issue\n\nOne result is there is both an “issues” icon, and an “issue-type-issue” icon; from a basic semantics standpoint this isn’t ideal but this has been present for a while with all issue types being present in the issues list (i.e. you could filter your issues by type “incidents”, and see no “issues”). This is part of the reason for the eventual label change to “Work items” however that will be a big, sweeping change, and not one we were trying to make just yet. You’ll hear “work items” from the Plan team within GitLab, but “work items” is not highly visible in the UI yet — users will continue seeing these as types of issues.\n\n#### Color\n\nOne of the findings in https://gitlab.com/groups/gitlab-org/-/epics/5418 was that color can be effective to help differentiate; I’d still like to explore this but wanted to start with gray as a slightly smaller change, especially while labels add so much color already to lists/boards. While the original suggestion was to just use the surrounding text color for the icon, we can use $gray-500 for all placements to lighten this up a bit; at the moment only detail pages would be affected (tracked https://gitlab.com/gitlab-org/gitlab/-/issues/370806)\n\n#### Icon tooltip\n\nAdding a tooltip to locations where a label isn’t used will help clarify the icon intent (https://gitlab.com/gitlab-org/gitlab/-/issues/370805)\n\n\n## Acceptance \n\n- [ ] Work item type shows with each work item (or issue) in the issue list\n- [ ] Work item type shows in popovers when hovered over a referenced work item (or issue). If type is a task, id in reference should be the id instead of the iid.\n- [ ] Work item type shows more prominently in the work item (or legacy issue) view\n- [ ] \u003cstrike\u003eWork item type shows more prominently in the Linked Items widget (https://gitlab.com/gitlab-org/gitlab/-/issues/366207#note_1016536322)\u003c/strike\u003e\n- [ ] Add work item type icon to reference. If the work item is a work-item, use the `id` instead of `iid`.","state":"closed","created_at":"2022-06-23T17:03:05.941Z","updated_at":"2022-09-21T06:41:10.303Z","closed_at":"2022-08-16T19:11:19.838Z","closed_by":{"id":11392688,"username":"nickleonard","name":"Nick Leonard","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11392688/avatar.png","web_url":"https://gitlab.com/nickleonard"},"labels":["Category:Team Planning","Deliverable","design-weight::5","devops::plan","feature::enhancement","frontend","group::project management","section::dev","type::feature","workflow::production"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":11392688,"username":"nickleonard","name":"Nick Leonard","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11392688/avatar.png","web_url":"https://gitlab.com/nickleonard"},{"id":11701495,"username":"deepika.guliani","name":"Deepika Guliani","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11701495/avatar.png","web_url":"https://gitlab.com/deepika.guliani"}],"author":{"id":4303289,"username":"gweaver","name":"Gabe Weaver","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4303289/avatar.png","web_url":"https://gitlab.com/gweaver"},"type":"ISSUE","assignee":{"id":11392688,"username":"nickleonard","name":"Nick Leonard","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11392688/avatar.png","web_url":"https://gitlab.com/nickleonard"},"user_notes_count":33,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/366207","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":5,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 5 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/366207","notes":"https://gitlab.com/api/v4/projects/278964/issues/366207/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/366207/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#366207","relative":"#366207","full":"gitlab-org/gitlab#366207"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8297,"epic":{"id":552836,"iid":8297,"title":"Tasks Short Term Cleanup","url":"/groups/gitlab-org/-/epics/8297","group_id":9970,"human_readable_end_date":"Oct 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"needs_attention"},{"id":110623581,"iid":366201,"project_id":278964,"title":"Sometimes the chain of custody report returns an empty CSV","description":"## Problem description\n\nFor an unknown reason the merge request chain of custody report is sometimes empty.\n\nThis happens both on the `list all merge commits` report and when exporting for just a single merge commit. \n\n**Update:** This appears to be caused by the MergeRequestFinder _ignoring_ merge requests from subgroups.\n\n## Steps to replicate\n\n_Internal links._\n\n1. View the [dashboard](https://staging.gitlab.com/groups/compliance-tanuki/-/security/compliance_dashboard?mergedAfter=2022-05-24\u0026mergedBefore=2022-06-23).\n1. Export a single report for this [commit](https://staging.gitlab.com/compliance-tanuki/fast-project/-/commit/2e98022b66fcaa5cc3418c4680407bfd23340780).\n\n## Additional context\n\n_Internal link._\n\nSee this [slack thread](https://gitlab.slack.com/archives/CN7C8029H/p1654701406234309) for more info.\n\n## Implementation plan\n\n- Change the behaviour of the export functionality to include merge requests from subgroups.","state":"closed","created_at":"2022-06-23T16:02:53.027Z","updated_at":"2022-12-06T02:26:13.122Z","closed_at":"2022-08-31T12:49:38.229Z","closed_by":{"id":9821577,"username":"huzaifaiftikhar1","name":"Huzaifa Iftikhar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9821577/avatar.png","web_url":"https://gitlab.com/huzaifaiftikhar1"},"labels":["backend","devops::manage","group::compliance","priority::1","section::dev","severity::1","type::bug","workflow::verification"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":9821577,"username":"huzaifaiftikhar1","name":"Huzaifa Iftikhar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9821577/avatar.png","web_url":"https://gitlab.com/huzaifaiftikhar1"}],"author":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"type":"ISSUE","assignee":{"id":9821577,"username":"huzaifaiftikhar1","name":"Huzaifa Iftikhar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9821577/avatar.png","web_url":"https://gitlab.com/huzaifaiftikhar1"},"user_notes_count":16,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2022-09-02","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/366201","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/366201","notes":"https://gitlab.com/api/v4/projects/278964/issues/366201/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/366201/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#366201","relative":"#366201","full":"gitlab-org/gitlab#366201"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":110621116,"iid":366197,"project_id":278964,"title":"Prevent Tasks from being returned via the REST API","description":"## Problem\n\nBecause there is not parity with issues yet and tasks are using issues behind the scenes, automation scripts and other things cause wonky behavior like todos and notifications on regarding tasks that don't have the discussions, etc. \n\nExamples:\n\n- https://gitlab.com/gitlab-org/gitlab/-/issues/363613#note_995998678\n- https://gitlab.com/gitlab-org/gitlab/-/issues/363613#note_1001680063\n- https://gitlab.com/gitlab-org/gitlab/-/issues/363613#note_995858628\n\n## Proposal\n\n- Hide Tasks from the REST API until we have parity with issues.","state":"closed","created_at":"2022-06-23T15:12:05.390Z","updated_at":"2022-11-02T17:53:47.202Z","closed_at":"2022-07-15T22:45:12.540Z","closed_by":{"id":3507264,"username":"donaldcook","name":"Donald Cook","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3507264/avatar.png","web_url":"https://gitlab.com/donaldcook"},"labels":["Category:Team Planning","devops::plan","feature::enhancement","group::project management","section::dev","type::feature","workflow::in review"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":8110537,"username":"mcelicalderonG","name":"Mario Celi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8110537/avatar.png","web_url":"https://gitlab.com/mcelicalderonG"}],"author":{"id":4303289,"username":"gweaver","name":"Gabe Weaver","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4303289/avatar.png","web_url":"https://gitlab.com/gweaver"},"type":"ISSUE","assignee":{"id":8110537,"username":"mcelicalderonG","name":"Mario Celi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8110537/avatar.png","web_url":"https://gitlab.com/mcelicalderonG"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/366197","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/366197","notes":"https://gitlab.com/api/v4/projects/278964/issues/366197/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/366197/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#366197","relative":"#366197","full":"gitlab-org/gitlab#366197"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8297,"epic":{"id":552836,"iid":8297,"title":"Tasks Short Term Cleanup","url":"/groups/gitlab-org/-/epics/8297","group_id":9970,"human_readable_end_date":"Oct 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":110620915,"iid":366196,"project_id":278964,"title":"Update Dependency Scanning jobs to upload CycloneDX reports","description":"## Why are we doing this work\n\nAfter a [new sbom report type](https://gitlab.com/gitlab-org/gitlab/-/issues/360766) is added to `reports` and Dependency Scanning is [updated to emit the new standardized filename](https://gitlab.com/gitlab-org/gitlab/-/issues/365545), the sbom report needs to be emitted by the Dependency Scanning jobs in the templates so that it can be stored in the database and can be [processed by a background worker](https://gitlab.com/gitlab-org/gitlab/-/issues/365661).\n\n## Proposal\n\nUpdate Dependency Scanning ~\"ci::templates\" to emit the new report type alongside the security reports.\n\n### Implementation Plan\n\n- [ ] update Dependency Scanning jobs to expose the sbom reports by updating the official template https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/gitlab/ci/templates/Jobs/Dependency-Scanning.gitlab-ci.yml\n```yaml\nartifacts:\n  reports:\n    sbom:\n      format: cyclonedx\n      paths:\n        - \"**/gl-sbom*.cdx.json\"\n```","state":"closed","created_at":"2022-06-23T15:08:08.578Z","updated_at":"2022-10-10T03:23:14.082Z","closed_at":"2022-10-04T21:01:29.412Z","closed_by":{"id":8953999,"username":"bwill","name":"Brian Williams","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8953999/avatar.png","web_url":"https://gitlab.com/bwill"},"labels":["Category:Dependency Scanning","Enterprise Edition","GitLab Ultimate","Software Bill of Materials (SBoM)","backend","devops::govern","feature::addition","group::threat insights","section::sec","type::feature","workflow::verification"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":8953999,"username":"bwill","name":"Brian Williams","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8953999/avatar.png","web_url":"https://gitlab.com/bwill"}],"author":{"id":4668304,"username":"ifrenkel","name":"Igor Frenkel","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a73e8113c53ac25297ce751e59bbb1d3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ifrenkel"},"type":"ISSUE","assignee":{"id":8953999,"username":"bwill","name":"Brian Williams","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8953999/avatar.png","web_url":"https://gitlab.com/bwill"},"user_notes_count":15,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/366196","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/366196","notes":"https://gitlab.com/api/v4/projects/278964/issues/366196/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/366196/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#366196","relative":"#366196","full":"gitlab-org/gitlab#366196"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8024,"epic":{"id":518303,"iid":8024,"title":"Ingest SBOM reports","url":"/groups/gitlab-org/-/epics/8024","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":110620419,"iid":366194,"project_id":278964,"title":"Create SBOM report parser","description":"\u003c!--\nImplementation issues are used break-up a large piece of work into small, discrete tasks that can\nmove independently through the build workflow steps. They're typically used to populate a Feature\nEpic. Once created, an implementation issue is usually refined in order to populate and review the\nimplementation plan and weight.\nExample workflow: https://about.gitlab.com/handbook/engineering/development/threat-management/planning/diagram.html#plan\n--\u003e\n\n## Why are we doing this work\n\u003c!--\nA brief explanation of the why, not the what or how. Assume the reader doesn't know the\nbackground and won't have time to dig-up information from comment threads.\n--\u003e\n\nIn order to [ingest SBoM reports](https://gitlab.com/groups/gitlab-org/-/epics/8024), we need to create a new\nCI report parser to parse CycloneDX SBoMs.\n\n## Relevant links\n\u003c!--\nInformation that the developer might need to refer to when implementing the issue.\n\n- [Design Issue](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e)\n  - [Design 1](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e/designs/\u003cimage\u003e.png)\n  - [Design 2](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e/designs/\u003cimage\u003e.png)\n- [Similar implementation](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/\u003cid\u003e)\n--\u003e\n\nImplementation references:\n\n- https://gitlab.com/gitlab-org/gitlab/-/commit/632e91a16e51a737ab7c5a81b161c9cebe41605c\n- https://gitlab.com/gitlab-org/gitlab/-/commit/a1ce982aa7c492924a85ece64c204391b18d9742\n- https://gitlab.com/gitlab-org/gitlab/-/commit/69099a4ebb122edd881cc77cad51f9fe7458b76d\n\n## Non-functional requirements\n\u003c!--\nAdd details for required items and delete others.\n--\u003e\n\n- [ ] Documentation:\n- [ ] Feature flag:\n- [ ] Performance:\n  - [ ] Report parsing does not negatively impact the performance of GitLab\n  - [ ] Have someone from ~\"group::memory\" review the implementation\n- [ ] Testing:\n\n\n## Implementation plan\n\u003c!--\nSteps and the parts of the code that will need to get updated. The plan can also\ncall-out responsibilities for other team members or teams.\n\ne.g.:\n\n- [ ] ~frontend Step 1\n  - [ ] `@person` Step 1a\n- [ ] ~frontend Step 2\n\n--\u003e\n\n1. Add a CycloneDX JSON schema to `app/validators/json_schemas/cyclonedx.json`\n2. Create `Gitlab::Ci::Reports::Sbom::Reports`. `Reports` holds a `pipeline`, `sources`, and a set of `reports`\n   1. `reports` will be a set of `Gitlab::Ci::Reports::Sbom::Report` objects\n   2. Each report tracks `components`, `warnings` (schema validation), and `errors` (schema validation)\n   3. The relationship between a component and a source needs to be preserved. We can do this by creating a `Gitlab::Ci::Reports::Sbom::Component` class, and having it store a reference to (not a copy of) the source as an attribute.\n   4. `Gitlab::Ci::Reports::Sbom::Source` will be created. It will collect the dependency file and package manager data, and also calculate the source fingerprint.\n3. Create `Gitlab::Ci::Parsers::Sbom::Cyclonedx`. This will receive a set of job artifacts plus a `Reports` instance and:\n   1. Parse the artifact JSON\n   2. If the report is invalid, it will add `warnings` / `errors` and move to the next report\n   3. Collect source information from the report and add the source object to `Reports`.\n   4. Iterate through `.components` and add each one to `Reports` (with associated source data)\n4. On `ee/app/models/ci/pipeline.rb`, add an `sbom_reports` method which will turn job artifacts into reports and return them. See other implementations.\n\nThat's it. The `Reports` object will be retrieved via the pipeline method and passed to [the ingestion service](https://gitlab.com/gitlab-org/gitlab/-/issues/364709) to be stored in the DB. \n\n\u003c!--\nWorkflow and other relevant labels\n\n# ~\"group::\" ~\"Category:\" ~\"GitLab Ultimate\"\nOther settings you might want to include when creating the issue.\n\n# /assign @\n# /epic \u0026\n--\u003e\n\n## Verification steps\n\u003c!--\nAdd verification steps to help GitLab team members test the implementation. This is particularly useful\nduring the MR review and the ~\"workflow::verification\" step. You may not know exactly what the\nverification steps should be during issue refinement, so you can always come back later to add\nthem.\n\n1. Check-out the corresponding branch\n1. ...\n1. Profit!\n--\u003e","state":"closed","created_at":"2022-06-23T14:57:41.467Z","updated_at":"2022-08-15T03:23:55.031Z","closed_at":"2022-08-09T17:32:02.782Z","closed_by":{"id":4668304,"username":"ifrenkel","name":"Igor Frenkel","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a73e8113c53ac25297ce751e59bbb1d3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ifrenkel"},"labels":["Enterprise Edition","GitLab Ultimate","WorkingGroup::ContinuousScanning","backend","devops::govern","feature::addition","group::security policies","section::sec","type::feature","workflow::verification"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":8953999,"username":"bwill","name":"Brian Williams","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8953999/avatar.png","web_url":"https://gitlab.com/bwill"}],"author":{"id":8953999,"username":"bwill","name":"Brian Williams","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8953999/avatar.png","web_url":"https://gitlab.com/bwill"},"type":"ISSUE","assignee":{"id":8953999,"username":"bwill","name":"Brian Williams","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8953999/avatar.png","web_url":"https://gitlab.com/bwill"},"user_notes_count":22,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/366194","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":9,"completed_count":0},"weight":5,"blocking_issues_count":1,"has_tasks":true,"task_status":"0 of 9 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/366194","notes":"https://gitlab.com/api/v4/projects/278964/issues/366194/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/366194/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#366194","relative":"#366194","full":"gitlab-org/gitlab#366194"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8024,"epic":{"id":518303,"iid":8024,"title":"Ingest SBOM reports","url":"/groups/gitlab-org/-/epics/8024","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":110617311,"iid":366192,"project_id":278964,"title":"Add spacing below compliance frameworks alert","description":"## Problem description\n\nAlerts in the group compliance framework settings don't have spacing at the bottom.\n\n## Screenshots\n\n![image](/uploads/d04212b9a1ecb4eeb8096ed811f2227e/image.png)\n\n## Steps to replicate\n\n1. Log in as a group owner or admin.\n1. Visit a group's general settings.\n1. Add a compliance framework.\n1. Delete the added framework.\n1. See the alert.\n\n## Suggested solution\n\nAdd some bottom padding to the alert.","state":"closed","created_at":"2022-06-23T14:05:54.182Z","updated_at":"2023-01-13T14:04:16.473Z","closed_at":"2022-12-18T20:28:04.819Z","closed_by":{"id":12187344,"username":"nrosandich","name":"Nathan Rosandich","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12187344/avatar.png","web_url":"https://gitlab.com/nrosandich"},"labels":["SUS::Impacting","UX","bug::ux","devops::govern","frontend","group::compliance","priority::4","section::sec","severity::4","type::bug","workflow::verification"],"milestone":{"id":2745648,"iid":83,"group_id":9970,"title":"15.8","description":"","state":"active","created_at":"2022-08-22T16:57:34.875Z","updated_at":"2022-08-22T16:57:34.875Z","due_date":"2023-01-17","start_date":"2022-12-18","expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/83"},"assignees":[{"id":13141866,"username":"elwyn-gitlab","name":"Elwyn Benson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/13141866/avatar.png","web_url":"https://gitlab.com/elwyn-gitlab"}],"author":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"type":"ISSUE","assignee":{"id":13141866,"username":"elwyn-gitlab","name":"Elwyn Benson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/13141866/avatar.png","web_url":"https://gitlab.com/elwyn-gitlab"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/366192","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/366192","notes":"https://gitlab.com/api/v4/projects/278964/issues/366192/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/366192/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#366192","relative":"#366192","full":"gitlab-org/gitlab#366192"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":110611129,"iid":366181,"project_id":278964,"title":"Convert invite project members button to use same pattern as other modals on members page","description":"The following discussion from !90831 should be addressed:\n\n- [ ] @markrian started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/90831#note_1002550845):  (+1 comment)\n\n    \u003e This is obviously outside the scope of this MR, but why is a `\u003cform\u003e` used here? AFAICT none of the semantics of a form are relevant here :shrug:","state":"closed","created_at":"2022-06-23T12:19:05.746Z","updated_at":"2022-07-07T13:11:50.386Z","closed_at":"2022-07-07T13:11:50.356Z","closed_by":{"id":3841241,"username":"dstull","name":"Doug Stull","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2d7b8532bca28f593b193b012841a40?s=80\u0026d=identicon","web_url":"https://gitlab.com/dstull"},"labels":["devops::growth","group::acquisition","maintenance::refactor","section::growth","type::maintenance","workflow::in review"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":3841241,"username":"dstull","name":"Doug Stull","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2d7b8532bca28f593b193b012841a40?s=80\u0026d=identicon","web_url":"https://gitlab.com/dstull"}],"author":{"id":3841241,"username":"dstull","name":"Doug Stull","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2d7b8532bca28f593b193b012841a40?s=80\u0026d=identicon","web_url":"https://gitlab.com/dstull"},"type":"ISSUE","assignee":{"id":3841241,"username":"dstull","name":"Doug Stull","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2d7b8532bca28f593b193b012841a40?s=80\u0026d=identicon","web_url":"https://gitlab.com/dstull"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/366181","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/366181","notes":"https://gitlab.com/api/v4/projects/278964/issues/366181/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/366181/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#366181","relative":"#366181","full":"gitlab-org/gitlab#366181"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":110585037,"iid":366087,"project_id":278964,"title":"Identify migration helpers that use non-batched background migrations","description":"Now that the old style regular background migrations have been deprecated, we need to clean up all of the migration helpers that use them under the hood and migrate them to the new batched variety.\n\nFIRST we need to just make a list of all of them and make issues.\n\n## Deliverables\n- [x] Issues are filed to convert each helper that uses background migrations\n- [ ] ~~Update helper documentation to note that those migrations still use \"old\" background migrations.~~\n\nTemplate:\n```\nIssue Title: Helper \u003chelper name\u003e should use batched background migrations\n\nWith, old background migrations deprecated, \u003chelper name\u003e needs to be updated to use batched background migrations. The last time this helper was used was \u003cmigration commit date\u003e.\n\n## Deliverables\n- [ ] \u003chelper name\u003e no longer uses old style background migrations\n- [ ] Documentation is updated to reflect that the helper uses batched migrations.\n```","state":"closed","created_at":"2022-06-23T02:54:29.000Z","updated_at":"2023-01-11T16:25:37.565Z","closed_at":"2022-12-22T20:44:56.559Z","closed_by":{"id":12352353,"username":"jon_jenkins","name":"Jon Jenkins","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12352353/avatar.png","web_url":"https://gitlab.com/jon_jenkins"},"labels":["Category:Database","database::active","devops::data_stores","group::database","maintenance::refactor","missed:15.6","missed:15.7","section::enablement","type::maintenance"],"milestone":{"id":2745648,"iid":83,"group_id":9970,"title":"15.8","description":"","state":"active","created_at":"2022-08-22T16:57:34.875Z","updated_at":"2022-08-22T16:57:34.875Z","due_date":"2023-01-17","start_date":"2022-12-18","expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/83"},"assignees":[{"id":12352353,"username":"jon_jenkins","name":"Jon Jenkins","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12352353/avatar.png","web_url":"https://gitlab.com/jon_jenkins"}],"author":{"id":480097,"username":"alexives","name":"Alex Ives","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/480097/avatar.png","web_url":"https://gitlab.com/alexives"},"type":"ISSUE","assignee":{"id":12352353,"username":"jon_jenkins","name":"Jon Jenkins","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12352353/avatar.png","web_url":"https://gitlab.com/jon_jenkins"},"user_notes_count":13,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/366087","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":4,"completed_count":1},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"1 of 4 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/366087","notes":"https://gitlab.com/api/v4/projects/278964/issues/366087/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/366087/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#366087","relative":"#366087","full":"gitlab-org/gitlab#366087"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8245,"epic":{"id":547483,"iid":8245,"title":"Update migration helpers that perform data operations to use batched background migrations","url":"/groups/gitlab-org/-/epics/8245","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":110583536,"iid":366085,"project_id":278964,"title":"Warn when no files are being scanned by an analyzer","description":"### Description\n\nSecure analysers that use the shared `command` package are [hardcoded](https://gitlab.com/gitlab-org/security-products/analyzers/command/-/blob/591e226ac81e0671f782e2c33a03cb3b1e09956e/run.go#L147) to log `Found relevant files in project, analyzing entire repository` in most situations. `cfg.AnalyzeAll` is false by default, but many analysers override this to `true` as they're designed to scan the entire project:\n\n- https://gitlab.com/gitlab-org/security-products/analyzers/semgrep/-/blob/c9eb90a6f402ed93cb1b87bc6710415a82f0a0c2/main.go#L20\n- https://gitlab.com/gitlab-org/security-products/analyzers/eslint/-/blob/master/main.go#L30\n- https://gitlab.com/gitlab-org/security-products/analyzers/flawfinder/-/blob/master/main.go#L29\n- and so on\n\nThis can be misleading if the analyser was in fact configured to exclude all files from being scanned, e.g. via `SAST_EXCLUDE_PATHS`.\n\n### Proposal\n\nReword the [log line](https://gitlab.com/gitlab-org/security-products/analyzers/command/-/blob/591e226ac81e0671f782e2c33a03cb3b1e09956e/run.go#L147) so it's more apparent that an internal analyser configuration was set (`cfg.AnalyzeAll`) rather than expressing that files were found and the entire repository will be scanned.\n\n### Tasks\n- [x] Update log message in `command`: https://gitlab.com/gitlab-org/security-products/analyzers/command/-/merge_requests/33\n- [x] Bump command version in the following analyzers that support multi project:\n  - [x] spotbugs (https://gitlab.com/gitlab-org/security-products/analyzers/spotbugs/-/releases/v3.2.2)\n  - [x] security-code-scan (https://gitlab.com/gitlab-org/security-products/analyzers/security-code-scan/-/merge_requests/119)\n  - [x] flawfinder https://gitlab.com/gitlab-org/security-products/analyzers/flawfinder/-/merge_requests/80\n  - [x] mobsf https://gitlab.com/gitlab-org/security-products/analyzers/mobsf/-/merge_requests/53\n  - [x] php-security-audit https://gitlab.com/gitlab-org/security-products/analyzers/phpcs-security-audit/-/merge_requests/69\n  - [x] semgrep https://gitlab.com/gitlab-org/security-products/analyzers/semgrep/-/merge_requests/138\n  - [x] secrets https://gitlab.com/gitlab-org/security-products/analyzers/secrets/-/merge_requests/171\n  - [x] kics https://gitlab.com/gitlab-org/security-products/analyzers/kics/-/merge_requests/48\n  - [x] nodejs-scan https://gitlab.com/gitlab-org/security-products/analyzers/nodejs-scan/-/merge_requests/120\n  - [x] pmd-apex https://gitlab.com/gitlab-org/security-products/analyzers/pmd-apex/-/merge_requests/90","state":"closed","created_at":"2022-06-23T01:46:45.369Z","updated_at":"2022-08-21T12:05:39.343Z","closed_at":"2022-08-11T15:07:59.499Z","closed_by":{"id":5211947,"username":"zrice","name":"Zach Rice","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5211947/avatar.png","web_url":"https://gitlab.com/zrice"},"labels":["Category:SAST","Deliverable","backend","devops::secure","feature::enhancement","group::static analysis","section::sec","type::feature","workflow::in dev"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":5211947,"username":"zrice","name":"Zach Rice","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5211947/avatar.png","web_url":"https://gitlab.com/zrice"}],"author":{"id":11648083,"username":"jamesliu-gitlab","name":"James Liu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11648083/avatar.png","web_url":"https://gitlab.com/jamesliu-gitlab"},"type":"ISSUE","assignee":{"id":5211947,"username":"zrice","name":"Zach Rice","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5211947/avatar.png","web_url":"https://gitlab.com/zrice"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/366085","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":12,"completed_count":12},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"12 of 12 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/366085","notes":"https://gitlab.com/api/v4/projects/278964/issues/366085/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/366085/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#366085","relative":"#366085","full":"gitlab-org/gitlab#366085"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":110583064,"iid":366084,"project_id":278964,"title":"[Feature flag] Web hook paid customer rate limit exemptions","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n## Summary\n\nThe `web_hooks_no_rate_limit` flag is not intended to be rolled out, however, it allows us the ability to exempt a single customer from the limits while we work with them further to avoid triggering the limit https://gitlab.com/gitlab-org/gitlab/-/issues/365605#note_1001610559.\n\nIt can also be used to switch off rate-limiting of paid customer webhooks for all customers.\n\n## Owners\n\n- Team: ~\"group::integrations\" \n- Most appropriate slack channel to reach out to: `#g_ecosystem_integrations`\n- Best individual to reach out to: `@.luke`\n- PM: `@g.hickman` \n\n## Stakeholders\n\n\u003c!--\nAre there any other stages or teams involved that need to be kept in the loop?\n\n- Name of a PM\n- The Support Team\n- The Delivery Team\n--\u003e\n\n## Expectations\n\n### What are we expecting to happen?\n\nEnabling the flag for a paid customer's root namespace will make them exempt from webhook rate limits.\n\n### When is the feature viable?\n\n\u003c!-- What are the settings we need to configure in order to have this feature viable? --\u003e\n\n\u003c!-- \nExample below:\n \n1. Enable service ping collection\n   `ApplicationSetting.first.update(usage_ping_enabled: true)`\n--\u003e\n\n### What might happen if this goes wrong?\n\n\u003c!-- Should the feature flag be turned off? Any MRs that need to be rolled back? Communication that needs to happen? What are some things you can think of that could go wrong - data loss or broken pages? --\u003e\n\n### What can we monitor to detect problems with this?\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? --\u003e\n_Consider mentioning checks for 5xx errors or other anomalies like an increase in redirects \n(302 HTTP response status)_\n\n### What can we check for monitoring production after rollouts?\n\n_Consider adding links to check for Sentry errors, Production logs for 5xx, 302s, etc._\n\n## Enable flag on non-production environments\n\nWe need to do this in order to toggle the flag on for a single customer on prod.\n\n- [x] `/chatops run feature set --staging web_hooks_no_rate_limit true`\n- [x] `/chatops run feature set --dev web_hooks_no_rate_limit true`\n\n## Disable webhook rate limits for specific customer\n\n- [x] This feature can be disabled for a specific customer by running the following Chatops command:\n\n```\n/chatops run feature set --group=\u003ccustomer-top-level-namespace web_hooks_no_rate_limit true\n```\n\n## Disable webhook rate limits for all paid customers\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set web_hooks_no_rate_limit true\n```\n\n## Clean up\n\n- [x] `/chatops run feature delete web_hooks_no_rate_limit --staging`\n- [x] `/chatops run feature delete web_hooks_no_rate_limit --dev`\n- [x] `/chatops run feature delete web_hooks_no_rate_limit`","state":"closed","created_at":"2022-06-23T01:18:07.940Z","updated_at":"2022-12-21T12:10:27.466Z","closed_at":"2022-11-22T19:24:29.707Z","closed_by":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"labels":["Category:Integrations","Deliverable","automation:ml","backend","devops::manage","feature flag","feature::addition","group::integrations","section::dev","type::feature","workflow::in review"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"}],"author":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"type":"ISSUE","assignee":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2022-11-22","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/366084","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":7,"completed_count":6},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"6 of 7 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/366084","notes":"https://gitlab.com/api/v4/projects/278964/issues/366084/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/366084/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#366084","relative":"#366084","full":"gitlab-org/gitlab#366084"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8975,"epic":{"id":623279,"iid":8975,"title":"Improve the reliability of webhooks: Webhook rate limiting","url":"/groups/gitlab-org/-/epics/8975","group_id":9970,"human_readable_end_date":"Dec 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":110574349,"iid":365998,"project_id":278964,"title":"Add edited status to task description","description":"## Summary\n\nAdd a note to the bottom of a Task description when it's been edited. \n\n## Proposal\n\nUtilize the same format as currently exists for legacy issue view descriptions. As seen on this issue  \n:arrow_down_small:","state":"closed","created_at":"2022-06-22T20:15:52.196Z","updated_at":"2022-11-09T15:41:36.395Z","closed_at":"2022-10-24T00:27:56.305Z","closed_by":{"id":832471,"username":"psimyn","name":"Simon Knox","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3de75939c39eecd6ea2215ec740a8037?s=80\u0026d=identicon","web_url":"https://gitlab.com/psimyn"},"labels":["Stretch","UX","backend","backend complete","devops::plan","feature::enhancement","frontend","group::project management","quad-planning::complete-no-action","section::dev","type::feature","workflow::staging"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":832471,"username":"psimyn","name":"Simon Knox","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3de75939c39eecd6ea2215ec740a8037?s=80\u0026d=identicon","web_url":"https://gitlab.com/psimyn"},{"id":8110537,"username":"mcelicalderonG","name":"Mario Celi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8110537/avatar.png","web_url":"https://gitlab.com/mcelicalderonG"},{"id":11392688,"username":"nickleonard","name":"Nick Leonard","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11392688/avatar.png","web_url":"https://gitlab.com/nickleonard"}],"author":{"id":11392688,"username":"nickleonard","name":"Nick Leonard","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11392688/avatar.png","web_url":"https://gitlab.com/nickleonard"},"type":"ISSUE","assignee":{"id":832471,"username":"psimyn","name":"Simon Knox","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3de75939c39eecd6ea2215ec740a8037?s=80\u0026d=identicon","web_url":"https://gitlab.com/psimyn"},"user_notes_count":30,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/365998","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/365998","notes":"https://gitlab.com/api/v4/projects/278964/issues/365998/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/365998/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#365998","relative":"#365998","full":"gitlab-org/gitlab#365998"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7103,"epic":{"id":382735,"iid":7103,"title":"✅ Work Items - Tasks","url":"/groups/gitlab-org/-/epics/7103","group_id":9970,"human_readable_end_date":"Mar 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e months remaining"},"iteration":null,"health_status":null},{"id":110571990,"iid":365991,"project_id":278964,"title":"Allow to update requirement status widget through GraphQL","description":"This is needed to allow changing the status of a requirement manually. To do this\nwe should be able to run a GraphQL query that takes a parameter `satisfied` or `failed` and updates\nthe requirement work item accordingly. It should be something like:\n\n``` graphql\nmutation updateWorkItem {\n  workItemUpdate(input: {id: \"gid://gitlab/Issue/{ISSUE_ID}\", verificationStatusWidget: {status: \"failed\"}}) {\n    workItem {\n      widgets {\n        ... on WorkItemWidgetVerificationStatus {\n          verificationStatus\n        }\n      }\n    }\n    errors\n  }\n}\n```  \n\n**Important:** A requirement status is delegated to its latest test report created. When doing a manual verification a new test report for the requirement with the desired status needs to be created. There is an example of how this was done before turning requirements into work items at: https://gitlab.com/gitlab-org/gitlab/-/blob/master/ee/app/services/requirements_management/update_requirement_service.rb#L28 (now removed, see https://gitlab.com/gitlab-org/gitlab/-/commit/b06aad0bf611f57e0e7aa58010bc21484bd7d2e0#36585228ea38bf5684aad534b252d287e67b10b3_28_0)","state":"closed","created_at":"2022-06-22T19:01:34.434Z","updated_at":"2023-01-12T21:54:03.106Z","closed_at":"2022-10-13T21:42:24.899Z","closed_by":{"id":3717078,"username":"cablett","name":"charlie ablett","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3717078/avatar.png","web_url":"https://gitlab.com/cablett"},"labels":["Category:Requirements Management","Deliverable","GitLab Ultimate","GraphQL","auto updated","backend","devops::plan","feature","group::certify","section::dev","type::feature","workflow::in review"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":3717078,"username":"cablett","name":"charlie ablett","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3717078/avatar.png","web_url":"https://gitlab.com/cablett"}],"author":{"id":426128,"username":"felipe_artur","name":"Felipe Artur","state":"active","avatar_url":"https://secure.gravatar.com/avatar/dbad92659914f56621cbdd726e283e60?s=80\u0026d=identicon","web_url":"https://gitlab.com/felipe_artur"},"type":"ISSUE","assignee":{"id":3717078,"username":"cablett","name":"charlie ablett","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3717078/avatar.png","web_url":"https://gitlab.com/cablett"},"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/365991","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/365991","notes":"https://gitlab.com/api/v4/projects/278964/issues/365991/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/365991/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#365991","relative":"#365991","full":"gitlab-org/gitlab#365991"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8371,"epic":{"id":565672,"iid":8371,"title":"Status needs for Requirements Management work item transition","url":"/groups/gitlab-org/-/epics/8371","group_id":9970,"human_readable_end_date":"Nov 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":110570418,"iid":365986,"project_id":278964,"title":"[Feature flag] Cleanup operational_vulnerabilities_filters","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n## Summary\n\nThis issue is to rollout [operational vulnerabilities filters](https://gitlab.com/groups/gitlab-org/-/epics/7255) on production,\nthat is currently behind the `operational_vulnerabilities_filters` feature flag.\n\n\u003c!-- Short description of what the feature is about and link to relevant other issues. --\u003e\n\n## Owners\n\n- Team: ~\"devops::protect\" ~\"group::container security\" \n- Most appropriate slack channel to reach out to: `#g_govern_security_policies`\n- Best individual to reach out to: @aturinske \n- PM: @sam.white \n\n## Stakeholders\n\n- ~\"devops::secure\" ~\"group::threat insights\" \n- PM: @matt_wilson\n\n\n## Expectations\n\n### What are we expecting to happen?\n\n- The `cluster` filter appears on the Vulnerability Report/Operational vulnerablities tab and is used to filter by clusters\n- The `image` filter appears on the Vulnerability Report/Operational vulnerablities tab and is used to filter by images\n\n\n### What might happen if this goes wrong?\n\n\u003c!-- Should the feature flag be turned off? Any MRs that need to be rolled back? Communication that needs to happen? What are some things you can think of that could go wrong - data loss or broken pages? --\u003e\n\n- the users cannot use the filters\n- the vulnerability report does not render\n\n### What can we monitor to detect problems with this?\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? --\u003e\n_Consider mentioning checks for 5xx errors or other anomalies like an increase in redirects \n(302 HTTP response status)_\n\n- example projects\n- customer complaints\n\n### What can we check for monitoring production after rollouts?\n\n- example projects\n- customer complaints\n\n## Rollout Steps\n\n### Rollout on non-production environments\n\n- Ensure that the feature MRs have been deployed to non-production environments.\n    - [x] `/chatops run auto_deploy status aaba17d7248e523dedad15d6866208bf7a91bb2c`\n- [x] Enable the feature globally on non-production environments.\n    - [x] `/chatops run feature set operational_vulnerabilities_filters true --staging`\n- [ ] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n      The best environment to validate the feature in is [staging-canary](https://about.gitlab.com/handbook/engineering/infrastructure/environments/#staging-canary)\n      as this is the first environment deployed to. Note you will need to make sure you are configured to use canary as outlined [here](https://about.gitlab.com/handbook/engineering/infrastructure/environments/canary-stage/)\n      when accessing the staging environment in order to make sure you are testing appropriately.\n\n### Specific rollout on production\n\n- Ensure that the feature MRs have been deployed to both production and canary.\n    - [x] `/chatops run auto_deploy status aaba17d7248e523dedad15d6866208bf7a91bb2c`\n- If you're using [project-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [x] `/chatops run feature set --project=gitlab-org/protect/demos/sandbox/test-cis-with-agentid operational_vulnerabilities_filters true`\n    - [x] `/chatops run feature set --project=gitlab-org/protect/demos/sandbox/test-operational-vulnerabilities-with-default-config operational_vulnerabilities_filters true`\n- [x] Verify that the feature works on the specific entries. Posting the QA result in this issue is preferable.\n\n### Preparation before global rollout\n\n- [x] Check if the feature flag change needs to be accompanied with a\n  [change management issue](https://about.gitlab.com/handbook/engineering/infrastructure/change-management/#feature-flags-and-the-change-management-process).\n  Cross link the issue here if it does.\n- [x] Ensure that you or a representative in development can be available for at least 2 hours after feature flag updates in production.\n  If a different developer will be covering, or an exception is needed, please inform the oncall SRE by using the `@sre-oncall` Slack alias.\n- [ ] Ensure that documentation has been updated ([More info](https://docs.gitlab.com/ee/development/documentation/feature_flags.html#features-that-became-enabled-by-default)).\n- [ ] Announce on [the feature issue](ISSUE LINK) an estimated time this will be enabled on GitLab.com. \n- [x] Ensure that any breaking changes have been announced following the [release post process](https://about.gitlab.com/handbook/marketing/blog/release-posts/#deprecations-removals-and-breaking-changes) to ensure GitLab customers are aware.\n- [ ] Notify `#support_gitlab-com` and your team channel ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#communicate-the-change)).\n\n### Global rollout on production\n\nFor visibility, all `/chatops` commands that target production should be executed in the `#production` slack channel and cross-posted (with the command results) to the responsible team's slack channel (`#g_TEAM_NAME`).\n\n- [x] [Incrementally roll out](https://docs.gitlab.com/ee/development/feature_flags/controls.html#process) the feature.\n  - Enable the feature globally on production environment.\n    - [x] `/chatops run feature set operational_vulnerabilities_filters true`\n- [x] Announce on [the feature issue](ISSUE LINK) that the feature has been globally enabled.\n- [x] Wait for [at least one day for the verification term](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release).\n\n### (Optional) Release the feature with the feature flag\n\nIf you're still unsure whether the feature is [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release)\nbut want to release it in the current milestone, you can change the default state of the feature flag to be enabled.\nTo do so, follow these steps:\n\n- [x] Create a merge request with the following changes. Ask for review and merge it.\n    - [x] Set the `default_enabled` attribute in [the feature flag definition](https://docs.gitlab.com/ee/development/feature_flags/#feature-flag-definition-and-validation) to `true`.\n    - [x] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [x] Ensure that the default-enabling MR has been included in the release package.\n      If the merge request was deployed before [the monthly release was tagged](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [x] `/chatops run release check https://gitlab.com/gitlab-org/gitlab/-/merge_requests/99318 15.5`\n- [x] Consider cleaning up the feature flag from all environments by running these chatops command in `#production` channel. Otherwise these settings may override the default enabled.\n    - [x] `/chatops run feature delete operational_vulnerabilities_filters --dev --staging --production`\n- [x] Close [the feature issue](https://gitlab.com/groups/gitlab-org/-/epics/7255) to indicate the feature will be released in the current milestone.\n- [x] Set the next milestone to this rollout issue for scheduling [the flag removal](#release-the-feature).\n- [ ] (Optional) You can [create a separate issue](https://gitlab.com/gitlab-org/gitlab/-/issues/new?issuable_template=Feature%20Flag%20Cleanup) for scheduling the steps below to [Release the feature](#release-the-feature).\n    - [x] Set the title to \"[Feature flag] Cleanup `operational_vulnerabilities_filters`\".\n    - [ ] Execute the `/copy_metadata \u003cthis-rollout-issue-link\u003e` quick action to copy the labels from this rollout issue.\n    - [ ] Link this rollout issue as a related issue.\n    - [ ] Close this rollout issue.\n\n**WARNING:** This approach has the downside that it makes it difficult for us to\n[clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) the flag.\nFor example, on-premise users could disable the feature on their GitLab instance. But when you\nremove the flag at some point, they suddenly see the feature as enabled and they can't roll it back\nto the previous behavior. To avoid this potential breaking change, use this approach only for urgent\nmatters.\n\n### Release the feature\n\nAfter the feature has been [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release),\nthe [clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up)\nshould be done as soon as possible to permanently enable the feature and reduce complexity in the\ncodebase.\n\nYou can either [create a follow-up issue for Feature Flag Cleanup](https://gitlab.com/gitlab-org/gitlab/-/issues/new?issuable_template=Feature%20Flag%20Cleanup) or use the checklist below in this same issue.\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [x] Create a merge request to remove `operational_vulnerabilities_filters` feature flag. Ask for review and merge it.\n    - [x] Remove all references to the feature flag from the codebase.\n    - [x] Remove the YAML definitions for the feature from the repository.\n    - [x] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the cleanup MR has been included in the release package.\n      If the merge request was deployed before [the monthly release was tagged](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run release check \u003cmerge-request-url\u003e \u003cmilestone\u003e`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [ ] If not already done, clean up the feature flag from all environments by running these chatops command in `#production` channel:\n    - [x] `/chatops run feature delete operational_vulnerabilities_filters --dev --staging --production`\n- [x] Close this rollout issue.\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set operational_vulnerabilities_filters false\n```","state":"closed","created_at":"2022-06-22T18:11:20.193Z","updated_at":"2022-12-21T12:09:32.888Z","closed_at":"2022-11-23T07:23:22.484Z","closed_by":{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"},"labels":["Category:Security Policy Management","Deliverable","devops::govern","feature flag","feature::addition","frontend","group::security policies","missed:15.2","missed:15.3","missed:15.4","section::sec","type::feature","workflow::verification"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"}],"author":{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"},"type":"ISSUE","assignee":{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"},"user_notes_count":18,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/365986","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":43,"completed_count":30},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"30 of 43 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/365986","notes":"https://gitlab.com/api/v4/projects/278964/issues/365986/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/365986/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#365986","relative":"#365986","full":"gitlab-org/gitlab#365986"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7255,"epic":{"id":402570,"iid":7255,"title":"Project/Agent-level operational vulnerability report filters","url":"/groups/gitlab-org/-/epics/7255","group_id":9970,"human_readable_end_date":"Dec 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":110570046,"iid":365985,"project_id":278964,"title":"Create verification status widget for requirements","description":"Allow to read a requirement verification status through a widget on GraphQL. The functionality is similar to \nthe description widget that is already implemented. We should be able to query a requirement verification\nstatus with a query like:  \n\n``` graphql\nquery workItem {\n  workItem(id: \"gid://gitlab/WorkItem/469\") {\n    title\n    widgets {\n      type\n      ... on WorkItemWidgetVerificationStatus {\n        verificationStatus\n      }\n    }\n  }\n}\n```  \n\nThere is a [draft MR that implements this feature](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/89668) and can be used as a starting point. It \ndoes not take care of potential N+1 queries, this is something that will probably require some attention.","state":"closed","created_at":"2022-06-22T17:59:31.758Z","updated_at":"2023-01-12T21:54:03.169Z","closed_at":"2022-08-11T09:37:54.284Z","closed_by":{"id":3860200,"username":"egrieff","name":"Eugenia Grieff","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3860200/avatar.png","web_url":"https://gitlab.com/egrieff"},"labels":["Category:Requirements Management","GitLab Ultimate","GraphQL","Stretch","auto updated","backend","devops::plan","feature","group::certify","section::dev","type::feature","workflow::verification"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":3860200,"username":"egrieff","name":"Eugenia Grieff","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3860200/avatar.png","web_url":"https://gitlab.com/egrieff"}],"author":{"id":426128,"username":"felipe_artur","name":"Felipe Artur","state":"active","avatar_url":"https://secure.gravatar.com/avatar/dbad92659914f56621cbdd726e283e60?s=80\u0026d=identicon","web_url":"https://gitlab.com/felipe_artur"},"type":"ISSUE","assignee":{"id":3860200,"username":"egrieff","name":"Eugenia Grieff","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3860200/avatar.png","web_url":"https://gitlab.com/egrieff"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/365985","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":1,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/365985","notes":"https://gitlab.com/api/v4/projects/278964/issues/365985/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/365985/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#365985","relative":"#365985","full":"gitlab-org/gitlab#365985"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8371,"epic":{"id":565672,"iid":8371,"title":"Status needs for Requirements Management work item transition","url":"/groups/gitlab-org/-/epics/8371","group_id":9970,"human_readable_end_date":"Nov 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":110548986,"iid":365960,"project_id":278964,"title":"Recreate Redis Counters using Snowplow events - Phase 2: Wave 3b","description":"## Summary\n\nIn https://gitlab.com/groups/gitlab-org/-/epics/7493, we instrumented the first set of Redis Counters using Snowplow events in SaaS. This is the second part of the 3rd wave of counters to be instrumented using Snowplow Events. This metric was broken out into its own issue because it is a large change per [this comment](https://gitlab.com/gitlab-org/gitlab/-/issues/362279#note_1000296489)\n\n* [x] [redis_hll_counters.issues_edit.issues_edit_total_unique_counts_monthly](https://gitlab.com/gitlab-org/gitlab/-/blob/master/config/metrics/counts_28d/20210216181504_issues_edit_total_unique_counts_monthly.yml)                                      \n      \n\n## Feature Flag\n\nThese events should be instrumented behind a feature flag (separate from the FF used for the first wave of metrics) in case we need to quickly turn off collection.\n\n## Testing\n\nLocal manual testing and make sure QA pipelines are passing.\n\n## Next Step\n\nPost delivery, the data team will need to aggregate the snowplow events into counters for use in Sisense and Gainsight. Data team issue for this wave: ## Next Step\n\nPost delivery, the data team will need to aggregate the snowplow events into counters for use in Sisense and Gainsight. Data team issue for this wave: https://gitlab.com/gitlab-data/analytics/-/issues/13209","state":"closed","created_at":"2022-06-22T13:20:35.143Z","updated_at":"2022-11-09T15:20:58.614Z","closed_at":"2022-08-25T08:17:20.978Z","closed_by":{"id":9712164,"username":"nbelokolodov","name":"Niko Belokolodov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9712164/avatar.png","web_url":"https://gitlab.com/nbelokolodov"},"labels":["backend","devops::analytics","group::product intelligence","missed:15.2","missed:15.3","quad-planning::complete-action","section::analytics","type::feature","workflow::production"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":9712164,"username":"nbelokolodov","name":"Niko Belokolodov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9712164/avatar.png","web_url":"https://gitlab.com/nbelokolodov"}],"author":{"id":2890431,"username":"amandarueda","name":"Amanda Rueda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2890431/avatar.png","web_url":"https://gitlab.com/amandarueda"},"type":"ISSUE","assignee":{"id":9712164,"username":"nbelokolodov","name":"Niko Belokolodov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9712164/avatar.png","web_url":"https://gitlab.com/nbelokolodov"},"user_notes_count":12,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/365960","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":1},"weight":8,"blocking_issues_count":1,"has_tasks":true,"task_status":"1 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/365960","notes":"https://gitlab.com/api/v4/projects/278964/issues/365960/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/365960/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#365960","relative":"#365960","full":"gitlab-org/gitlab#365960"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":110539971,"iid":365942,"project_id":278964,"title":"Change \"recent activity\" window for group page to be 30 days instead of 90.","description":"## Summary\n\nAs part of our [efforts to reduce the load on problematic API endpoints](https://gitlab.com/groups/gitlab-org/-/epics/8013#note_999526108) we need to narrow down \"recent activity\" window from 90 to 30 days, so we load less data. The widget is visible on https://gitlab.com/gitlab-org page\n\n![image](/uploads/f3623bd59cf5896204015aeaa0646269/image.png)\n\n## Proposal\n\n* Change the window to be from `90.days.ago` to `30.days.ago.beginning_of_day` and update frontend text accordingly. \n* Measure impact on [problematic endpoints](https://gitlab.com/groups/gitlab-org/-/epics/8013#note_999526108) via Kibana logs.\n\n## Technical details\n\nhttps://gitlab.com/gitlab-org/gitlab/-/blob/master/ee/lib/analytics/group_activity_calculator.rb#L5 is a good place to start.","state":"closed","created_at":"2022-06-22T10:30:35.795Z","updated_at":"2022-09-05T16:41:43.395Z","closed_at":"2022-07-05T11:23:07.024Z","closed_by":{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"},"labels":["devops::manage","group::optimize","priority::3","section::dev","severity::3","type::maintenance","workflow::verification"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"}],"author":{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"},"type":"ISSUE","assignee":{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/365942","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/365942","notes":"https://gitlab.com/api/v4/projects/278964/issues/365942/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/365942/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#365942","relative":"#365942","full":"gitlab-org/gitlab#365942"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":110521629,"iid":365922,"project_id":278964,"title":"DORA \"Change Failure Rate\" - Update the Tile drilldown with the new chart","description":"### Overview\n\nTo be consistent with [Deployment Frequency and Lead Time tiles](https://gitlab.com/gitlab-org/gitlab/-/issues/340808) - users need a drill down link to the [\"Change Failure Rate\" chart](https://gitlab.com/gitlab-org/gitlab/-/issues/357072) in order to understand the metric trend history.\n\n### Problem to solve\n\nToday, clicking on [VSA DORA's \"Change Failure Rate\" tile](https://gitlab.com/groups/gitlab-org/-/analytics/value_stream_analytics?created_after=2022-04-01\u0026created_before=2022-05-22\u0026value_stream_id=631\u0026label_name[]=group%3A%3Aoptimize) leads to the documentation page. \n\n### Solution\n\n1. Link the \"Change Failure Rate\" Tile with the new \"Change Failure Rate\" chart - https://gitlab.com/gitlab-org/gitlab/-/issues/357072+\n2. Both for VSA Groups and VSA Projects.","state":"closed","created_at":"2022-06-22T05:18:49.405Z","updated_at":"2022-08-21T12:02:14.755Z","closed_at":"2022-07-22T07:47:03.423Z","closed_by":{"id":4826728,"username":"m_frankiewicz","name":"Magdalena Frankiewicz","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ca314fa77051f58ced6e3e5bf7f0dd48?s=80\u0026d=identicon","web_url":"https://gitlab.com/m_frankiewicz"},"labels":["Deliverable","UX","backend","devops::manage","documentation","group::optimize","priority::2","section::dev","type::feature","workflow::production"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":4826728,"username":"m_frankiewicz","name":"Magdalena Frankiewicz","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ca314fa77051f58ced6e3e5bf7f0dd48?s=80\u0026d=identicon","web_url":"https://gitlab.com/m_frankiewicz"}],"author":{"id":10879254,"username":"hsnir1","name":"Haim Snir","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10879254/avatar.png","web_url":"https://gitlab.com/hsnir1"},"type":"ISSUE","assignee":{"id":4826728,"username":"m_frankiewicz","name":"Magdalena Frankiewicz","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ca314fa77051f58ced6e3e5bf7f0dd48?s=80\u0026d=identicon","web_url":"https://gitlab.com/m_frankiewicz"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/365922","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/365922","notes":"https://gitlab.com/api/v4/projects/278964/issues/365922/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/365922/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#365922","relative":"#365922","full":"gitlab-org/gitlab#365922"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7790,"epic":{"id":484436,"iid":7790,"title":"[VSA] Combining Value stream with DORA4 metrics - Viable maturity","url":"/groups/gitlab-org/-/epics/7790","group_id":9970,"human_readable_end_date":"Aug 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":110521183,"iid":365919,"project_id":278964,"title":"DORA \"Time to restore service\" - Update the Tile drilldown with the new chart","description":"### Overview\n\nTo be consistent with [Deployment Frequency and Lead Time tiles](https://gitlab.com/gitlab-org/gitlab/-/issues/340808) - users need a drill down link to the [\"Time to restore service\" chart](https://gitlab.com/gitlab-org/gitlab/-/issues/356959) in order to understand the metric trend history.\n\n### Problem to solve\n\nToday, clicking on [VSA DORA's \"Time to restore service\" tile](https://gitlab.com/groups/gitlab-org/-/analytics/value_stream_analytics?created_after=2022-04-01\u0026created_before=2022-05-22\u0026value_stream_id=631\u0026label_name[]=group%3A%3Aoptimize) leads to the documentation page. \n\n### Solution\n\n1. Link the \"Time to restore service\" Tile with the new \"Time to restore service\" chart - https://gitlab.com/groups/gitlab-org/-/analytics/ci_cd?tab=time-to-restore-service\n2. Both for VSA Groups and VSA Projects.","state":"closed","created_at":"2022-06-22T04:57:05.081Z","updated_at":"2022-08-04T21:28:09.599Z","closed_at":"2022-07-06T10:39:31.156Z","closed_by":{"id":4826728,"username":"m_frankiewicz","name":"Magdalena Frankiewicz","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ca314fa77051f58ced6e3e5bf7f0dd48?s=80\u0026d=identicon","web_url":"https://gitlab.com/m_frankiewicz"},"labels":["backend","devops::manage","documentation","group::optimize","priority::2","section::dev","type::feature","workflow::production"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":4826728,"username":"m_frankiewicz","name":"Magdalena Frankiewicz","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ca314fa77051f58ced6e3e5bf7f0dd48?s=80\u0026d=identicon","web_url":"https://gitlab.com/m_frankiewicz"}],"author":{"id":10879254,"username":"hsnir1","name":"Haim Snir","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10879254/avatar.png","web_url":"https://gitlab.com/hsnir1"},"type":"ISSUE","assignee":{"id":4826728,"username":"m_frankiewicz","name":"Magdalena Frankiewicz","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ca314fa77051f58ced6e3e5bf7f0dd48?s=80\u0026d=identicon","web_url":"https://gitlab.com/m_frankiewicz"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/365919","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/365919","notes":"https://gitlab.com/api/v4/projects/278964/issues/365919/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/365919/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#365919","relative":"#365919","full":"gitlab-org/gitlab#365919"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7790,"epic":{"id":484436,"iid":7790,"title":"[VSA] Combining Value stream with DORA4 metrics - Viable maturity","url":"/groups/gitlab-org/-/epics/7790","group_id":9970,"human_readable_end_date":"Aug 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":110515816,"iid":365908,"project_id":278964,"title":"Scope expectations to invite modal in DOM for feature specs","description":"The following discussion from !90186 should be addressed:\n\n- [ ] @syasonik started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/90186#note_999969725):  (+1 comment)\n\n    \u003e **suggestion** (also probably non-blocking but seems valuable unless there's a reason not to, which is also fine): \n    \u003e \n    \u003e There are quite a few `expect(page).not_to` assertions here. These are generally slower to run because they always search the whole page on every call.\n    \u003e \n    \u003e What would you think of scoping these assertions to just the modal?\n    \u003e \n    \u003e Something like this maybe?\n    \u003e \n    \u003e ```ruby\n    \u003e invite_modal = page.find(invite_modal_selector)\n    \u003e \n    \u003e expect(invite_modal).to have_selector(member_token_error_selector(user2.id))\n    \u003e expect(invite_modal).to have_selector(member_token_error_selector(user3.id))\n    \u003e \n    \u003e # ...\n    \u003e \n    \u003e expect(invite_modal).not_to have_text(\"Review the invite errors and try again\")\n    \u003e expect(invite_modal).not_to have_text(\"#{user3.name}: Access level should be greater than or equal to\")\n    \u003e ```","state":"closed","created_at":"2022-06-22T00:50:46.552Z","updated_at":"2022-08-04T12:05:51.439Z","closed_at":"2022-08-04T12:05:51.390Z","closed_by":{"id":3841241,"username":"dstull","name":"Doug Stull","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2d7b8532bca28f593b193b012841a40?s=80\u0026d=identicon","web_url":"https://gitlab.com/dstull"},"labels":["devops::growth","group::acquisition","maintenance::refactor","section::growth","type::maintenance","workflow::in review"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":3841241,"username":"dstull","name":"Doug Stull","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2d7b8532bca28f593b193b012841a40?s=80\u0026d=identicon","web_url":"https://gitlab.com/dstull"}],"author":{"id":3841241,"username":"dstull","name":"Doug Stull","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2d7b8532bca28f593b193b012841a40?s=80\u0026d=identicon","web_url":"https://gitlab.com/dstull"},"type":"ISSUE","assignee":{"id":3841241,"username":"dstull","name":"Doug Stull","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2d7b8532bca28f593b193b012841a40?s=80\u0026d=identicon","web_url":"https://gitlab.com/dstull"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/365908","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/365908","notes":"https://gitlab.com/api/v4/projects/278964/issues/365908/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/365908/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#365908","relative":"#365908","full":"gitlab-org/gitlab#365908"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":110505503,"iid":365899,"project_id":278964,"title":"Going to task from \"Linked items\" should open the modal","description":"Currently, if you click on a task in an issue page other than where it was created in the issue's description, it takes you to the work item URL. In these cases we should just open it in the task modal.","state":"closed","created_at":"2022-06-21T20:03:36.479Z","updated_at":"2022-08-21T12:00:48.691Z","closed_at":"2022-07-29T19:54:35.140Z","closed_by":{"id":4545397,"username":"cngo","name":"Coung Ngo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4545397/avatar.png","web_url":"https://gitlab.com/cngo"},"labels":["Category:Team Planning","Deliverable","devops::plan","feature::enhancement","frontend","group::project management","section::dev","type::feature","workflow::production"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":4545397,"username":"cngo","name":"Coung Ngo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4545397/avatar.png","web_url":"https://gitlab.com/cngo"}],"author":{"id":3507264,"username":"donaldcook","name":"Donald Cook","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3507264/avatar.png","web_url":"https://gitlab.com/donaldcook"},"type":"ISSUE","assignee":{"id":4545397,"username":"cngo","name":"Coung Ngo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4545397/avatar.png","web_url":"https://gitlab.com/cngo"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/365899","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/365899","notes":"https://gitlab.com/api/v4/projects/278964/issues/365899/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/365899/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#365899","relative":"#365899","full":"gitlab-org/gitlab#365899"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8297,"epic":{"id":552836,"iid":8297,"title":"Tasks Short Term Cleanup","url":"/groups/gitlab-org/-/epics/8297","group_id":9970,"human_readable_end_date":"Oct 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":110504020,"iid":365897,"project_id":278964,"title":"Add Customer Success::Impact Check label when metric category changes","description":"## Summary\n\nAdd ~\"Customer Success::Impact Check\" [label](https://gitlab.com/gitlab-org/gitlab/-/labels?subscribed=\u0026search=Customer+Success) to MR when there is a change in Operational (category) Metric definition status.\n\n## Problem\n\nChanges to metrics status could be breaking downstream processes.\n\n## Recent Example \n\nhttps://gitlab.com/gitlab-data/analytics/-/issues/13047","state":"closed","created_at":"2022-06-21T19:26:09.112Z","updated_at":"2022-08-01T11:45:44.520Z","closed_at":"2022-08-01T11:45:44.282Z","closed_by":{"id":9712164,"username":"nbelokolodov","name":"Niko Belokolodov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9712164/avatar.png","web_url":"https://gitlab.com/nbelokolodov"},"labels":["backend","devops::analytics","group::product intelligence","quad-planning::complete-no-action","section::analytics","type::feature","workflow::production"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":9712164,"username":"nbelokolodov","name":"Niko Belokolodov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9712164/avatar.png","web_url":"https://gitlab.com/nbelokolodov"}],"author":{"id":2890431,"username":"amandarueda","name":"Amanda Rueda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2890431/avatar.png","web_url":"https://gitlab.com/amandarueda"},"type":"ISSUE","assignee":{"id":9712164,"username":"nbelokolodov","name":"Niko Belokolodov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9712164/avatar.png","web_url":"https://gitlab.com/nbelokolodov"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/365897","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/365897","notes":"https://gitlab.com/api/v4/projects/278964/issues/365897/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/365897/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#365897","relative":"#365897","full":"gitlab-org/gitlab#365897"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":110498804,"iid":365893,"project_id":278964,"title":"Update EnqueuerWorker query to optimize the PostgreSQL planner","description":"## Problem\n\nIn https://gitlab.com/gitlab-org/gitlab/-/issues/362544#note_948577878 we identified a strange performance bug in the EnqueuerWorker query that finds the next qualified container repository for import.\n\nThat same problem is occurring again now that we have modified the query to import from all tiers.\n\nThe query generated by ContainerRepository.ready_for_import.limit(2)[0] is using a Seq Scan: https://console.postgres.ai/gitlab/gitlab-production-tunnel-pg12/sessions/10687/commands/38546.\n\n## Solution\n\nThe solution is the same solution we found in In https://gitlab.com/gitlab-org/gitlab/-/issues/362544. We need to use an even higher limit on the query to force the postgres planner to use the index. Bumping to `LIMIT 3` fixes the problem, but we would like to avoid it happening again for the duration of the Phase 2 container registry migration, so we are bumping it to `LIMIT 10`.\n\nWhile we cannot be 100% certain the `LIMIT 10` will take us to the end of the migration, it is best to get the migration moving again so we can continue to look at other performance gains as needed.","state":"closed","created_at":"2022-06-21T18:31:27.465Z","updated_at":"2022-06-29T14:10:55.615Z","closed_at":"2022-06-29T14:10:55.573Z","closed_by":{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"},"labels":["Category:Container Registry","Container Registry Migration","Container Registry Migration::Phase 2","backend","bug::performance","database","devops::package","group::package registry","ruby","type::bug","workflow::production"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"}],"author":{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"},"type":"ISSUE","assignee":{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/365893","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/365893","notes":"https://gitlab.com/api/v4/projects/278964/issues/365893/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/365893/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#365893","relative":"#365893","full":"gitlab-org/gitlab#365893"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7316,"epic":{"id":408066,"iid":7316,"title":"Drive the Container Registry migration Phase 2 from Rails","url":"/groups/gitlab-org/-/epics/7316","group_id":9970,"human_readable_end_date":"Jul 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null}]