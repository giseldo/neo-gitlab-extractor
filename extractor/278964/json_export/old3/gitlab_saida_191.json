[{"id":9748035,"iid":5313,"project_id":278964,"title":"Improve how to select an environment variable wildcard","description":"### Problem to solve\n\nAs a user, when I'm managing environment variables with GitLab, I want to be able to see, search, or create a scoped environment in the UI, so that I can quickly define the correct environment for my variable.\n\n### Intended users\n\n[Devon (DevOps Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#devon-devops-engineer)\n\n---\n\n### UX DoD\n\n:exclamation: Do not remove this expandable section. The content below is part of the [UX Definition Of Done](https://gitlab.com/gitlab-org/ci-cd/release-management-group/release-management/-/issues/21) process. DRIs: @rayana @jmeshell \n\n\u003cdetails\u003e\n\u003csummary\u003e⭐️SEE UX DEFINITION OF DONE\u003c/summary\u003e\n\n#### Entry Criteria for Design\n\n- [ ] Problem has been validated\n- [ ] Has UX effort accounted for in long term cycle, _we know unknowns_\n\n#### Criteria for UX DoD\n\n- [x] ~UX label is added to the issue\n- [ ] User stories and acceptance criteria have been created\n  - [ ] Edge cases were considered\n- [x] Cross-team dependencies have been identified, if applicable\n- [ ] Prototype or mock for each user story have been created\n  - [ ] Empty states\n  - [ ] Responsiveness\n- [ ] If changes involve copy, ~\"UI text\" label has been added\n- [ ] Pajamas: UI Component design have been identified\n  - [ ] Pajamas issue is created (new workflow)\n- [ ] Marked as Ready for engineering evaluation per user story moved into ~\"workflow::planning breakdown\" \u0026 ~\"needs weight\" \n\n#### Entry Criteria for Ready for Development\n\n- [ ] Scope has been defined and reviewed with engineering\n- [ ] User stories have been weighed and are less than **5 MRs**\n- [ ] Create new issues for follow up user stories\n\n#### Criteria for Engineering DOD ([in addition to defined process](https://docs.gitlab.com/ee/development/contributing/merge_request_workflow.html#definition-of-done)) \n\n- [ ] UX review for MRs that include user experience changes - mandatory for ~frontend that has impact to UI/UX\n- [ ] Update SSOT in issues:\n   - [ ] Update prototypes of deliverables\n   - [ ] Add link to documentation\n- [ ] Create new issues for follow up and open scope\n\n\u003c/details\u003e\n\n---\n\n### Further details\n\n**Today**, when creating environment-specific variables, if the user types in something like `production` for the environment scope, the box returns the options `No matching results` and `Create wildcard production`.\n\nShowing `No matching results` kind of makes sense given that a production environment doesn't exist yet. User can proceed by clicking the `Create wildcard production`. One of the questions raised originally was: What does creating a wildcard even mean? Especially since this isn't a wildcard at all. A wildcard would be `production*`.\n\nIn this case, the user should not be creating a new `production` wildcard, but `production*`. The asterisk is implied, and that causes friction when interacting with the UI.\n\nIf the user has an existing environment called `production`, the option is displayed in the UI, and the user can select it and proceed. Existing environments are displayed in the searchable dropdown option.\n\n**A recent change https://gitlab.com/gitlab-org/gitlab/-/merge_requests/27699 removed this pattern from the UI**. We need to investigate how to reintroduce the searchable dropdown, and why the interaction is no longer available.\n\n#### Questions that need investigation\n\n* Is the asterisk `*` character required to create wildcards? https://gitlab.com/gitlab-org/gitlab/-/issues/5313#note_71893637\n* Can users create anything other than an environment wildcard from this UI?\n  * If so, the UI should inform what the user is creating. The call to action option in the dropdown should read as `Create new wildcard `production*`.\n\n### Proposal\n\n\u003c!-- How are we going to solve the problem? Try to include the user journey! https://about.gitlab.com/handbook/journeys/#user-journey --\u003e\n\nTBA\n\n### Permissions and Security\n\n\u003c!-- What permissions are required to perform the described actions? Are they consistent with the existing permissions as documented for users, groups, and projects as appropriate? Is the proposed behavior consistent between the UI, API, and other access methods (e.g. email replies)?--\u003e\n\nThe environment wildcard is set up at the project and group levels. It requires a project owner to configure.\n\n### Documentation\n\nYes, documentation update is necessary.\n\n### Availability \u0026 Testing\n\n\u003c!-- This section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\nWhat risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning --\u003e\n\n### What does success look like, and how can we measure that?\n\n\u003c!-- Define both the success metrics and acceptance criteria. Note that success metrics indicate the desired business outcomes, while acceptance criteria indicate when the solution is working correctly. If there is no way to measure success, link to an issue that will implement a way to measure this. --\u003e\n\n### What is the type of buyer?\n\n\u003c!-- What is the buyer persona for this feature? See https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/buyer-persona/\nIn which enterprise tier should this feature go? See https://about.gitlab.com/handbook/product/pricing/#four-tiers --\u003e\n\n### Is this a cross-stage feature?\n\nYes, ~\"devops::verify\". CC @dimitrieh @jj-ramirez @thaoyeager \n\n### Links / references","state":"closed","created_at":"2018-03-15T21:56:50.681Z","updated_at":"2022-12-29T14:45:53.099Z","closed_at":"2020-07-24T20:27:21.130Z","closed_by":{"id":4446737,"username":"jakeburden","name":"Jake Burden","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4446737/avatar.png","web_url":"https://gitlab.com/jakeburden"},"labels":["Category:Release Orchestration","Community challenge","Enterprise Edition","GitLab Premium","Stretch","UX","backend","cicd::planning","devops::release","environments","feature::enhancement","frontend","group::release","settings","type::feature","workflow::design"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[{"id":3079878,"username":"rayana","name":"Rayana Verissimo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3079878/avatar.png","web_url":"https://gitlab.com/rayana"},{"id":4446737,"username":"jakeburden","name":"Jake Burden","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4446737/avatar.png","web_url":"https://gitlab.com/jakeburden"}],"author":{"id":424775,"username":"markpundsack","name":"Mark Pundsack","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a5a32160d9357ecb21f39f630ab8c0c7?s=80\u0026d=identicon","web_url":"https://gitlab.com/markpundsack"},"type":"ISSUE","assignee":{"id":3079878,"username":"rayana","name":"Rayana Verissimo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3079878/avatar.png","web_url":"https://gitlab.com/rayana"},"user_notes_count":51,"merge_requests_count":1,"upvotes":3,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/5313","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":21,"completed_count":2},"weight":4,"blocking_issues_count":0,"has_tasks":true,"task_status":"2 of 21 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/5313","notes":"https://gitlab.com/api/v4/projects/278964/issues/5313/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/5313/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#5313","relative":"#5313","full":"gitlab-org/gitlab#5313"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":9745927,"iid":5306,"project_id":278964,"title":"Instance level template repository","description":"File templates are a really useful feature but they would be much more useful if they could be customized by instance and group. We should make this possible, extending https://gitlab.com/gitlab-org/gitlab-ee/issues/5986 with additional template types.\n\n### Proposal\n\nInstance admins are able to select **one** repository as a source of templates, in addition to GitLab vendored templates. All instance templates and GitLab templates will be available to all projects.\n\nOnly templates should be stored in the **default branch** of the instance template repository will be visible.\n\nThe template repository should support templates for:\n\n| Template | Example template file | Prettified template name  | Status |\n| --- | --- | --- | --- |\n| `Dockerfile` | `Dockerfile/Node-Alpine.dockerfile` | `Node-Alpine` |\n| `.gitignore` | `gitignore/Rails.gitignore` | `Rails` |\n| `.gitlab-ci.yml` | `gitlab-ci/Jekyll.yml` | `Jekyll` |\n| `LICENSE` | `LICENSE/ACME Corp.txt` | `ACME Corp` | DONE |\n\n### Designs\n\n| Admin area → Settings | Template chooser dropdown (in file editor) |\n| ----- | ----- |\n| ![set-file-template-source](https://gitlab.com/gitlab-org/gitlab-ee/uploads/3f9ae5643223b20144b73d7aecca400a/set-file-template-source.png) | ![template-chooser](https://gitlab.com/gitlab-org/gitlab-ee/uploads/89b045695425a7fc444eca13a273884d/template-chooser.png) |\n\n- Templates should be shown at the top of the drop down above GitLab default templates\n\n### Links\n\nhttps://gitlab.com/gitlab-org/gitlab-ee/issues/1602\n\n### Customers\nhttps://gitlab.my.salesforce.com/0016100001EogBS  ","state":"closed","created_at":"2018-03-15T18:32:02.789Z","updated_at":"2019-08-12T15:38:47.143Z","closed_at":"2018-09-06T00:05:27.163Z","closed_by":{"id":15139,"username":"rspeicher","name":"Robert Speicher","state":"active","avatar_url":"https://secure.gravatar.com/avatar/73c8253932541a7b5cbc5d79493f2bea?s=80\u0026d=identicon","web_url":"https://gitlab.com/rspeicher"},"labels":["Create [DEPRECATED]","Deliverable","Enterprise Edition","GitLab Premium","backend","devops::create","direction","repository","type::feature","workflow::in review"],"milestone":{"id":502939,"iid":17,"group_id":9970,"title":"11.3","description":"","state":"closed","created_at":"2018-04-09T17:59:35.838Z","updated_at":"2018-11-06T19:17:11.721Z","due_date":"2018-09-22","start_date":"2018-08-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/17"},"assignees":[{"id":572018,"username":"nick.thomas","name":"Nick Thomas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/572018/avatar.png","web_url":"https://gitlab.com/nick.thomas"},{"id":2003748,"username":"jeethukarthik","name":"Jeethu Karthik","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2003748/avatar.png","web_url":"https://gitlab.com/jeethukarthik"}],"author":{"id":1187333,"username":"jramsay-gitlab","name":"James Ramsay (ex-GitLab)","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1187333/avatar.png","web_url":"https://gitlab.com/jramsay-gitlab"},"type":"ISSUE","assignee":{"id":572018,"username":"nick.thomas","name":"Nick Thomas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/572018/avatar.png","web_url":"https://gitlab.com/nick.thomas"},"user_notes_count":16,"merge_requests_count":1,"upvotes":8,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/5306","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/5306","notes":"https://gitlab.com/api/v4/projects/278964/issues/5306/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/5306/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#5306","relative":"#5306","full":"gitlab-org/gitlab#5306"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":194,"epic":{"id":390,"iid":194,"title":"File template repositories","url":"/groups/gitlab-org/-/epics/194","group_id":9970,"human_readable_end_date":"Nov 22, 2018","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":9738760,"iid":5299,"project_id":278964,"title":"Allow an elasticsearch index to be recovered gracefully(ish) after gaps in indexing","description":"As seen in https://gitlab.com/gitlab-org/gitlab-ee/issues/5282\n\nSometimes, customers disable the `elasticsearch indexing` checkbox in GitLab, for one reason or another, or sidekiq jobs relating to elasticsearch indexing end up in the `dead jobs` list due to an outage.\n\nThis causes the index to get get out-of-sync with the database, leading to incorrect or invalid search results being returned. At present, the only remedy is to drop the index completely and re-create it from scratch, which is a huge burden for larger installations.\n\nI think we can make a first pass on a graceful recovery with the following parts:\n\n* Reindex just the database contents from scratch\n* Remove any repository contents relating to a deleted project\n* Run the indexing task for all repositories from the current, intermediate state\n\nOn GitLab.com, indexing the database was a 24-hour operation, as opposed to the repositories being about a month, and this is where we're missing some kind of \"last_indexed_at\" status. We can throw it all away, and concentrate on keeping as much of the repository data as possible.\n\nFor repositories, we *do* store state - the commit that was last indexed. As long as that commit hasn't been force-pushed away on the default branch, we can always just schedule another reindex from that commit to current master  (a no-op if nothing has changed).\n\nSo, the only problem remaining is commits and blobs for those repositories that have been removed in the interim. These can be detected and deleted from the elasticsearch index by adding a maintenance rake task and/or an elasticsearch management dashboard to gitlab. We're long overdue the latter :)\n\n/cc @victorwu @mdelaossa @smcgivern","state":"closed","created_at":"2018-03-15T11:22:44.360Z","updated_at":"2020-01-31T18:44:52.734Z","closed_at":"2019-05-07T14:35:58.624Z","closed_by":{"id":572018,"username":"nick.thomas","name":"Nick Thomas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/572018/avatar.png","web_url":"https://gitlab.com/nick.thomas"},"labels":["Category:Global Search","Create [DEPRECATED]","Deliverable","Enterprise Edition","advanced search","backend","customer","devops::create","group::editor","missed-deliverable","missed:11.10","type::feature","workflow::in review"],"milestone":{"id":655280,"iid":28,"group_id":9970,"title":"11.11","description":"","state":"closed","created_at":"2018-09-21T19:08:37.027Z","updated_at":"2019-06-10T14:39:00.009Z","due_date":"2019-05-22","start_date":"2019-04-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/28"},"assignees":[{"id":1986039,"username":"lulalala","name":"Mark Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1986039/avatar.png","web_url":"https://gitlab.com/lulalala"}],"author":{"id":572018,"username":"nick.thomas","name":"Nick Thomas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/572018/avatar.png","web_url":"https://gitlab.com/nick.thomas"},"type":"ISSUE","assignee":{"id":1986039,"username":"lulalala","name":"Mark Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1986039/avatar.png","web_url":"https://gitlab.com/lulalala"},"user_notes_count":22,"merge_requests_count":1,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/5299","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/5299","notes":"https://gitlab.com/api/v4/projects/278964/issues/5299/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/5299/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#5299","relative":"#5299","full":"gitlab-org/gitlab#5299"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":428,"epic":{"id":1245,"iid":428,"title":"Elasticsearch admin controls","url":"/groups/gitlab-org/-/epics/428","group_id":9970,"human_readable_end_date":"Jun 30, 2019","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":9732376,"iid":5292,"project_id":278964,"title":"New user flow for SSOing into a GitLab.com group","description":"### Description\n\nWhen a user authenticates into a group with SSO enabled, they must have a pre-existing set of credentials on the GitLab instance. For GitLab.com, for instance, this requires that the user have a GitLab.com account that we can link together with their credentials we receive from their connected SAML 2.0 identity provider. \n\nWe should remove this requirement for users who may not already have an account on the relevant GitLab instance. For GitLab.com, this would allow a user authenticating for the first time to create an account as part of the flow.\n\nThis flow is also needed when we [require dedicated credentials](https://gitlab.com/gitlab-org/gitlab-ee/issues/6260) to access a group, since every user will have to register a new account associated with the group on the first time they SSO in.\n\n### Proposal\n\n* When a user is using an SSO URL, we currently present the login/registration screen if the user doesn't have an active session.\n* When a user completes registration from this page, we should:\n  * Establish a SAML link between the user and the group, as we currently do for an existing account,\n  * Redirect the user back to the resource they were requesting (e.g. if they attempted to access a project and got redirected to the SSO page, redirect them back to the project they wanted after they've registered).\n\nIn a future iteration, we should [assign them a username](https://gitlab.com/gitlab-org/gitlab-ee/issues/9153) so new user registration in the SSO flow becomes 1-click.","state":"closed","created_at":"2018-03-15T02:03:43.485Z","updated_at":"2019-11-16T03:30:39.478Z","closed_at":"2019-05-27T13:09:38.506Z","closed_by":{"id":273486,"username":"jameslopez","name":"James Lopez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/273486/avatar.png","web_url":"https://gitlab.com/jameslopez"},"labels":["Deliverable","Enterprise Edition","Manage [DEPRECATED]","UX","authentication","backend","devops::manage","gitlab.com","missed-deliverable","missed:11.10","priority::1","saml","type::feature"],"milestone":{"id":693518,"iid":33,"group_id":9970,"title":"12.0","description":"https://about.gitlab.com/releases/2019/06/22/gitlab-12-0-released/","state":"closed","created_at":"2018-10-30T16:47:37.975Z","updated_at":"2020-04-22T19:51:03.475Z","due_date":"2019-06-22","start_date":"2019-05-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/33"},"assignees":[{"id":1086520,"username":"jeremy-gl","name":"Jeremy Watson (ex-GitLab)","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1086520/avatar.png","web_url":"https://gitlab.com/jeremy-gl"}],"author":{"id":1086520,"username":"jeremy-gl","name":"Jeremy Watson (ex-GitLab)","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1086520/avatar.png","web_url":"https://gitlab.com/jeremy-gl"},"type":"ISSUE","assignee":{"id":1086520,"username":"jeremy-gl","name":"Jeremy Watson (ex-GitLab)","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1086520/avatar.png","web_url":"https://gitlab.com/jeremy-gl"},"user_notes_count":13,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/5292","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":8,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/5292","notes":"https://gitlab.com/api/v4/projects/278964/issues/5292/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/5292/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#5292","relative":"#5292","full":"gitlab-org/gitlab#5292"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":709,"epic":{"id":3015,"iid":709,"title":"Group managed accounts for Group SSO","url":"/groups/gitlab-org/-/epics/709","group_id":9970,"human_readable_end_date":"Aug 22, 2019","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":9725295,"iid":5281,"project_id":278964,"title":"Proof of concept: attach Web IDE to CI job with web terminal to run tests","description":"We want to make it possible to run tests against the code in the Web IDE live. To do this we will use a CI runner, launch a new kind of web IDE job (similar to a ChatOps job) and attach to the job, and make a web terminal available in the Web IDE.\n\n### Proposal\n\nAlthough this is a proof of concept, ideally we should be able to merge it behind a feature switch.\n\n- Add a 'Web Terminal' tab to the right panel\n  - Add a 'Start' button to launch `web-ide` job with using a runner with the `web-ide` tag\n  - Add a web terminal interface that will be interactive once the job is launched\n- Make sure `web-ide` job does eventually timeout (should be 30 mins)\n- Make sure we don't create loads of useless CI pipelines\n\nNot in scope:\n\n- Stopping the runner (just let it time out)\n  - when I leave the page\n  - manually\n- Syncing files to/from the runner\n\n### Links\n\n- https://gitlab.com/gitlab-org/gitlab-ee/issues/5274\n- https://gitlab.com/gitlab-org/gitlab-ce/issues/25990\n\n### Design\n\n- Button to start the runner\n- Notice of timeout\n- The terminal should auto scroll btw, if the user decides to scroll it stops until the user scrolls to the bottom again (after which it should auto enable again)\n- Line wrapping should be enabled\n\n![view1_copy_52](https://gitlab.com/gitlab-org/gitlab-ee/uploads/2f7ca0ca669f7a3daf2884c17dc1d6c1/view1_copy_52.png)\n\n![view1_copy_53](https://gitlab.com/gitlab-org/gitlab-ee/uploads/57f95215f427880386ecb7f6748319ee/view1_copy_53.png)\n","state":"closed","created_at":"2018-03-14T16:41:47.404Z","updated_at":"2019-09-10T21:50:41.085Z","closed_at":"2018-07-06T12:49:34.768Z","closed_by":{"id":1187333,"username":"jramsay-gitlab","name":"James Ramsay (ex-GitLab)","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1187333/avatar.png","web_url":"https://gitlab.com/jramsay-gitlab"},"labels":["Category:Web IDE","Deliverable","Enterprise Edition","GitLab Ultimate","backend","devops::create","type::feature","workflow::in dev"],"milestone":{"id":450583,"iid":13,"group_id":9970,"title":"11.1","description":"","state":"closed","created_at":"2018-01-23T21:40:27.318Z","updated_at":"2018-11-06T19:17:01.295Z","due_date":"2018-07-22","start_date":"2018-06-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/13"},"assignees":[{"id":489558,"username":"dimitrieh","name":"Dimitrie Hoekstra","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/489558/avatar.png","web_url":"https://gitlab.com/dimitrieh"},{"id":955795,"username":"fjsanpedro","name":"Francisco Javier López","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"}],"author":{"id":1187333,"username":"jramsay-gitlab","name":"James Ramsay (ex-GitLab)","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1187333/avatar.png","web_url":"https://gitlab.com/jramsay-gitlab"},"type":"ISSUE","assignee":{"id":489558,"username":"dimitrieh","name":"Dimitrie Hoekstra","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/489558/avatar.png","web_url":"https://gitlab.com/dimitrieh"},"user_notes_count":47,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/5281","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/5281","notes":"https://gitlab.com/api/v4/projects/278964/issues/5281/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/5281/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#5281","relative":"#5281","full":"gitlab-org/gitlab#5281"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":167,"epic":{"id":301,"iid":167,"title":"Server side evaluation in the Web IDE","url":"/groups/gitlab-org/-/epics/167","group_id":9970,"human_readable_end_date":"Jul 22, 2019","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":9722626,"iid":5274,"project_id":278964,"title":"Web IDE runners","description":"We want to be able to allow the Web IDE to run tests, linters, code formatters, and access live previews and a web terminal. This requires compute resources to be made available to suit this need. These runners may need to be powerful so that feedback is immediate. We should allow specific runners to be dedicated to the web IDE.\n\n### Proposal\n\nProject specific runners should have an option to be enabled for the Web IDE. Only runners with this option enabled can be used by the Web IDE.\n\nBy default this will be disabled for new specific runners and shared runners.","state":"closed","created_at":"2018-03-14T14:30:38.669Z","updated_at":"2019-08-12T15:38:49.514Z","closed_at":"2018-04-25T08:42:56.522Z","closed_by":{"id":1187333,"username":"jramsay-gitlab","name":"James Ramsay (ex-GitLab)","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1187333/avatar.png","web_url":"https://gitlab.com/jramsay-gitlab"},"labels":["Category:Web IDE","Deliverable","Enterprise Edition","GitLab Ultimate","backend","devops::create","type::feature","workflow::in dev"],"milestone":{"id":445863,"iid":12,"group_id":9970,"title":"10.8","description":"https://about.gitlab.com/releases/2018/05/22/gitlab-10-8-released","state":"closed","created_at":"2018-01-16T17:05:23.570Z","updated_at":"2020-04-27T16:29:56.288Z","due_date":"2018-05-22","start_date":"2018-04-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/12"},"assignees":[{"id":955795,"username":"fjsanpedro","name":"Francisco Javier López","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},{"id":1187333,"username":"jramsay-gitlab","name":"James Ramsay (ex-GitLab)","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1187333/avatar.png","web_url":"https://gitlab.com/jramsay-gitlab"}],"author":{"id":1187333,"username":"jramsay-gitlab","name":"James Ramsay (ex-GitLab)","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1187333/avatar.png","web_url":"https://gitlab.com/jramsay-gitlab"},"type":"ISSUE","assignee":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier López","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"user_notes_count":8,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/5274","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/5274","notes":"https://gitlab.com/api/v4/projects/278964/issues/5274/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/5274/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#5274","relative":"#5274","full":"gitlab-org/gitlab#5274"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":167,"epic":{"id":301,"iid":167,"title":"Server side evaluation in the Web IDE","url":"/groups/gitlab-org/-/epics/167","group_id":9970,"human_readable_end_date":"Jul 22, 2019","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":9710182,"iid":5260,"project_id":278964,"title":"Geo: Improve code blocks with content intended to be replaced","description":"[EDIT] This issue was originally looking for a solution to the long snippets in our administrator documentation. \n\n## An example from our Geo docs:\n\n```\nsudo -u gitlab-psql /opt/gitlab/embedded/bin/psql --list -U gitlab_replicator -d \"dbname=gitlabhq_production sslmode=verify-ca\" -W -h 1.2.3.4\n```\n\nThis snippet is especially problematic because the text to replace is off the page on load.\n\nAs suggested by @eread in the comments below, we can multiline these code snippets. \n\nIn addition, there are many places where we use placeholder values. These can be wrapped in `\u003c` alligator brackets `\u003e`. \n\n","state":"closed","created_at":"2018-03-13T23:59:19.290Z","updated_at":"2019-12-11T20:27:48.570Z","closed_at":"2019-04-08T07:23:14.498Z","closed_by":{"id":2722370,"username":"rnienaber","name":"Rachel Nienaber","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2722370/avatar.png","web_url":"https://gitlab.com/rnienaber"},"labels":["Enterprise Edition","Geo Administration","devops::systems","documentation","group::geo"],"milestone":{"id":655279,"iid":27,"group_id":9970,"title":"11.10","description":"","state":"closed","created_at":"2018-09-21T19:08:16.261Z","updated_at":"2019-05-21T09:17:49.051Z","due_date":"2019-04-22","start_date":"2019-03-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/27"},"assignees":[{"id":2722370,"username":"rnienaber","name":"Rachel Nienaber","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2722370/avatar.png","web_url":"https://gitlab.com/rnienaber"}],"author":{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"},"type":"ISSUE","assignee":{"id":2722370,"username":"rnienaber","name":"Rachel Nienaber","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2722370/avatar.png","web_url":"https://gitlab.com/rnienaber"},"user_notes_count":10,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/5260","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/5260","notes":"https://gitlab.com/api/v4/projects/278964/issues/5260/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/5260/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#5260","relative":"#5260","full":"gitlab-org/gitlab#5260"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":9700397,"iid":5239,"project_id":278964,"title":"Show link to full list of vulnerabilities for Container Scanning and DAST in the MR widget","description":"### Description\n\nIn the MR widget, we have Security reports shown that list differences between the `head` and the `base` commit for each of the Security features (SAST, Dependency Scanning, Container Scanning, DAST).\n\nSAST and Dependency Scanning show the diffs, but also a link to the full list of vulnerabilities. If you click that link, the diff list is replaced with the full list.\n\n![image](/uploads/196e614564d931b9872104a6a6642413/image.png)\n\nWe should extend the same approach to Container Scanning and DAST.\n\n\u003cdetails\u003e\n\u003csummary\u003eOriginal proposal\u003c/summary\u003e\n### Proposal\n\nAdd a link to replace the diff report with the full report for Container Scanning and DAST in the MR widget. It should be like we already have for SAST and Dependency Scanning.\n\n\u003c/details\u003e\n### Design\n\nIf `head` and `base` reports are present...\n\n- Show diffs in MR widget\n- Have a single link to the pipeline page for the full report. With DAST and Container scanning reports implemented at pipeline level, a single link will suffice.\n\nif just the `head` report is present...\n\n- Show the full report in the MR\n- Show the link to the full report for consistency-sake\n\n![view-full-report-1](https://gitlab.com/gitlab-org/gitlab-ee/uploads/80128d7c99c021dc682523ee0db57e97/view-full-report-1.png)\n\nFurther, we can remove the functionality of displaying the full report in the MR widget itself. This is currently available for SAST and Dependancy scanning.","state":"closed","created_at":"2018-03-13T13:32:24.224Z","updated_at":"2019-11-18T15:59:52.098Z","closed_at":"2018-07-26T16:24:47.010Z","closed_by":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"labels":["Deliverable","Enterprise Edition","GitLab Ultimate","devops::secure","feature::enhancement","frontend","merge requests","workflow::in dev"],"milestone":{"id":494367,"iid":15,"group_id":9970,"title":"11.2","description":"","state":"closed","created_at":"2018-03-27T19:26:05.990Z","updated_at":"2018-11-06T19:16:51.951Z","due_date":"2018-08-22","start_date":"2018-07-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/15"},"assignees":[{"id":1125848,"username":"samdbeckham","name":"Sam Beckham","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1125848/avatar.png","web_url":"https://gitlab.com/samdbeckham"},{"id":2003748,"username":"jeethukarthik","name":"Jeethu Karthik","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2003748/avatar.png","web_url":"https://gitlab.com/jeethukarthik"},{"id":2338871,"username":"andyvolpe","name":"Andy Volpe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2338871/avatar.png","web_url":"https://gitlab.com/andyvolpe"}],"author":{"id":1273957,"username":"bikebilly","name":"Fabio Busatto","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1273957/avatar.png","web_url":"https://gitlab.com/bikebilly"},"type":"ISSUE","assignee":{"id":1125848,"username":"samdbeckham","name":"Sam Beckham","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1125848/avatar.png","web_url":"https://gitlab.com/samdbeckham"},"user_notes_count":38,"merge_requests_count":3,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/5239","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/5239","notes":"https://gitlab.com/api/v4/projects/278964/issues/5239/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/5239/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#5239","relative":"#5239","full":"gitlab-org/gitlab#5239"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":24661918,"iid":21481,"project_id":278964,"title":"IE11 keyboard problems with issue templates","description":"### Summary\n\nCustomer is reporting keyboard issues when attempting to create a new issue using a template, in IE11. The problems occur only while first editing a new issue based on a template, before saving the issue. After saving the issue and editing again, everything behaves as expected.\n\nhttps://gitlab.zendesk.com/agent/tickets/92464\n\n### Steps to reproduce\n\nFrom the customer:\n\n```\nApplicable to Internet Explorer v11.2068.14393.0 (only version to which I have access)\n\nCreating a new issue using a template, before it is initially saved, I have observed the following problems:\n\n1. The up and down arrow keys do not move the cursor to the previous and next lines as expected. Left and right arrow keys work as expected. When I hit the up or down arrow keys the cursor remains in place. \n- Performing the same steps in Firefox, the cursor moves previous and next as expected. \n- Performing the same steps in IE, in an issue *NOT* created using a template, the cursor moves previous and next as expected. \n- Performing the same steps in IE in an issue created using a template but has already been saved, the cursor moves previous and next as expected.\n\n2. The Enter key does not insert a new line as expected. When I hit the Enter key, random bits of text that I have previously changed revert to their original text and the cursor remains in place. \n- Same steps in Firefox, newline is inserted as expected. \n- Same steps in IE, in an issue not created using a template, newline is inserted as expected \n- Same steps in IE, in a templated issue already saved then edited, newline is inserted as expected.\n```","state":"closed","created_at":"2018-03-12T22:45:05.774Z","updated_at":"2022-05-19T16:38:44.188Z","closed_at":"2020-07-09T09:38:38.941Z","closed_by":{"id":181229,"username":"leipert","name":"Lukas 'Eipi' Eipert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/19a1f1260fa70323f35bc508927921a2?s=80\u0026d=identicon","web_url":"https://gitlab.com/leipert"},"labels":["[deprecated] Accepting merge requests","browser:ie11","customer","description templates","devops::plan","frontend","group::project management","priority::4","severity::4","type::bug","wontfix"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":40631,"username":"dstanley","name":"Diana Stanley","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40631/pink.JPG","web_url":"https://gitlab.com/dstanley"},"type":"ISSUE","assignee":null,"user_notes_count":6,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/21481","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/21481","notes":"https://gitlab.com/api/v4/projects/278964/issues/21481/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/21481/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#21481","relative":"#21481","full":"gitlab-org/gitlab#21481"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":12388486,"iid":6711,"project_id":278964,"title":"Document how to configure credentials for fetching custom artifacts from private Maven repository","description":"We need to document under https://docs.gitlab.com/ee/user/application_security/sast/#configuration how to configure the job to fetch Maven dependencies from a private maven repo that requires authentication.\n\nAccording to https://gitlab.com/gitlab-org/gitlab-ee/issues/6711#note_156367270, you need to set `MAVEN_CLI_OPTS` as a secret variable with a value of:\n\n```\n-Drepository.password=verysecret -Drepository.user=myuser\n```\n\n\u003cdetails\u003e\u003csummary\u003eissue\u003c/summary\u003e\n\nI'm trying to run Sast as part of my automated Gitlab build pipeline.\nThe project is a Java project that is using Maven for dependency management.\nOur Maven project is configured to fetch Maven dependencies from our private Artifactory instance that requires authentication.\n\nSnippet from Maven pom.xml:\n```xml\n\u003crepositories\u003e\n        \u003crepository\u003e\n            \u003cid\u003eartifactory\u003c/id\u003e\n            \u003cname\u003ePrivate Repository\u003c/name\u003e\n            \u003curl\u003e${repository.url}\u003c/url\u003e\n            \u003csnapshots\u003e\n                \u003cenabled\u003etrue\u003c/enabled\u003e\n            \u003c/snapshots\u003e\n        \u003c/repository\u003e\n\u003c/repositories\u003e\n```\n\nSnippet from gitlab-ci.yml\n```yml\nsast:\n  image: docker:latest\n  variables:\n    DOCKER_DRIVER: overlay2\n  allow_failure: true\n  services:\n    - docker:dind\n  script:\n    - export SAST_VERSION=$(echo \"$CI_SERVER_VERSION\" | sed 's/^\\([0-9]*\\)\\.\\([0-9]*\\).*/\\1-\\2-stable/')\n    - docker run \n        --env SAST_CONFIDENCE_LEVEL=\"${SAST_CONFIDENCE_LEVEL:-3}\" \n        --env SAST_DISABLE_REMOTE_CHECKS=\"${SAST_DISABLE_REMOTE_CHECKS:-false}\" \n        --volume \"$PWD:/code\" \n        --volume /var/run/docker.sock:/var/run/docker.sock \n        \"registry.gitlab.com/gitlab-org/security-products/sast:$SAST_VERSION\" /app/bin/run /code\n  artifacts:\n    paths: [gl-sast-report.json]\n```\n\nSince our Artifactory instance that hosts the Maven dependencies requires a username and password to fetch the dependency information during the security scan our sast job fails with error.\n\n```log\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 8.203 s\n[INFO] Finished at: 2018-03-09T20:54:50Z\n[INFO] Final Memory: 19M/295M\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal on project contract-java: Could not resolve dependencies for project nl.project:contract-java:jar:0.0.1-SNAPSHOT: Failed to collect dependencies at nl.project:contract:jar:0.0.1-SNAPSHOT: Failed to read artifact descriptor for nl.project:contract:jar:0.0.1-SNAPSHOT: Could not transfer artifact nl.project:contract:pom:0.0.1-SNAPSHOT from/to artifactory (https://my.private.maven.repository.com/artifactory/repo/): Not authorized , ReasonPhrase:Unauthorized. -\u003e [Help 1]\n[ERROR] \n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/DependencyResolutionException\nCould not list maven dependencies for the repository at contract-java\ntime=\"2018-03-09T20:54:51Z\" level=fatal msg=\"Container exited with non zero exit code: 1\"\n/usr/local/lib/ruby/2.3.0/json/common.rb:156:in `initialize': A JSON text must at least contain two octets! (JSON::ParserError)\n\tfrom /usr/local/lib/ruby/2.3.0/json/common.rb:156:in `new'\n\tfrom /usr/local/lib/ruby/2.3.0/json/common.rb:156:in `parse'\n\tfrom /app/lib/analyzers/gemnasium.rb:58:in `block in analyze'\n\tfrom /app/lib/analyzers/gemnasium.rb:53:in `chdir'\n\tfrom /app/lib/analyzers/gemnasium.rb:53:in `analyze'\n\tfrom /app/lib/analyzers/gemnasium.rb:37:in `execute'\n\tfrom /app/lib/analyze.rb:25:in `issues'\n\tfrom /app/lib/run.rb:10:in `initialize'\n\tfrom /app/bin/run:7:in `new'\n\tfrom /app/bin/run:7:in `\u003cmain\u003e'\nERROR: Job failed: exit code 1\n```\n\nCan you document how configure the Sast job to \"inject\" the Maven credentials of our private repository to be able to perform the security scan?\n\u003c/details\u003e","state":"closed","created_at":"2018-03-09T21:34:17.441Z","updated_at":"2020-10-22T19:58:13.055Z","closed_at":"2019-09-02T13:42:40.953Z","closed_by":{"id":3585,"username":"axil","name":"Achilleas Pipinellis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3585/avatar.png","web_url":"https://gitlab.com/axil"},"labels":["Category:SAST","Deliverable","Enterprise Edition","customer","devops::secure","documentation","group::static analysis","missed-deliverable","missed:12.2"],"milestone":{"id":731038,"iid":37,"group_id":9970,"title":"12.3","description":"https://about.gitlab.com/releases/2019/09/22/gitlab-12-3-released/","state":"closed","created_at":"2018-12-07T12:40:55.400Z","updated_at":"2020-04-23T21:06:04.173Z","due_date":"2019-09-17","start_date":"2019-08-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/37"},"assignees":[],"author":{"id":392437,"username":"jtim","name":"Tim van Baarsen","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/392437/avatar.png","web_url":"https://gitlab.com/jtim"},"type":"ISSUE","assignee":null,"user_notes_count":41,"merge_requests_count":1,"upvotes":17,"downvotes":0,"due_date":"2019-09-04","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/6711","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/6711","notes":"https://gitlab.com/api/v4/projects/278964/issues/6711/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/6711/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#6711","relative":"#6711","full":"gitlab-org/gitlab#6711"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":24661835,"iid":21437,"project_id":278964,"title":"Disable project services that fail to connect after some time","description":"There are project services in use that fail repeatedly over time, and it's highly like that they will never succeed. I suggest that we:\n\n* Track consecutive failures\n* Track last successful connection\n* If the # of failures and connection time exceed a threshold, disable the service and notify the project owner.\n\nThis is one example of someone using a Drone CI service that no longer exists in DNS:\n\nhttps://sentry.gitlap.com/gitlab/gitlabcom/issues/111116/\n\n```\nSocketError: getaddrinfo: Name or service not known\n  app/models/project_services/drone_ci_service.rb:52:in `calculate_reactive_cache'\n    response = HTTParty.get(commit_status_path(sha, ref), verify: enable_ssl_verification)\n  lib/gitlab/metrics/instrumentation.rb:159:in `block in calculate_reactive_cache'\n    .measure { super }\n  lib/gitlab/metrics/method_call.rb:36:in `measure'\n    retval = yield\n  lib/gitlab/metrics/instrumentation.rb:159:in `calculate_reactive_cache'\n    .measure { super }\n  app/models/concerns/reactive_caching.rb:84:in `block (3 levels) in exclusively_update_reactive_cache!'\n    new_value = calculate_reactive_cache(*args)\n...\n(75 additional frame(s) were not displayed)\n\nSocketError: Failed to open TCP connection to x.y.z.cloudapp.azure.com:80 (getaddrinfo: Name or service not known)\n  app/models/project_services/drone_ci_service.rb:52:in `calculate_reactive_cache'\n    response = HTTParty.get(commit_status_path(sha, ref), verify: enable_ssl_verification)\n  lib/gitlab/metrics/instrumentation.rb:159:in `block in calculate_reactive_cache'\n    .measure { super }\n  lib/gitlab/metrics/method_call.rb:36:in `measure'\n    retval = yield\n  lib/gitlab/metrics/instrumentation.rb:159:in `calculate_reactive_cache'\n    .measure { super }\n  app/models/concerns/reactive_caching.rb:84:in `block (3 levels) in exclusively_update_reactive_cache!'\n    new_value = calculate_reactive_cache(*args)\n...\n(74 additional frame(s) were not displayed)\n\nFailed to open TCP connection to x.y.z.cloudapp.azure.com:80 (getaddrinfo: Name or service not known)\n```","state":"closed","created_at":"2018-03-08T21:15:43.901Z","updated_at":"2022-11-22T20:22:28.785Z","closed_at":"2022-08-08T03:03:37.678Z","closed_by":{"id":1786152,"username":"gitlab-bot","name":"🤖 GitLab Bot 🤖","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1786152/avatar.png","web_url":"https://gitlab.com/gitlab-bot"},"labels":["Category:Integrations","[deprecated] Accepting merge requests","auto closed","backend","devops::manage","group::integrations","priority::3","production request","project","section::dev","stale","team::Delivery","type::bug","vintage"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":64248,"username":"stanhu","name":"Stan Hu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/64248/stanhu.jpg","web_url":"https://gitlab.com/stanhu"},"type":"ISSUE","assignee":null,"user_notes_count":17,"merge_requests_count":0,"upvotes":3,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/21437","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/21437","notes":"https://gitlab.com/api/v4/projects/278964/issues/21437/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/21437/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#21437","relative":"#21437","full":"gitlab-org/gitlab#21437"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":24661821,"iid":21432,"project_id":278964,"title":"Add permission to grant other users Owner privileges to a project","description":"This has come up in https://gitlab.com/gitlab-com/support-forum/issues/261 and https://gitlab.com/gitlab-org/gitlab-ce/issues/28233#note_62220577. Recently @dimitrieh wanted to move a personal project to the `gitlab-com` namespace. He tried to give me Maintainer privileges, but that wasn't enough permission to transfer a project. The only way we can move this project is to give @dimitrieh the right privileges to `gitlab-com` because he can't add me as an Owner.\n\nFor historical context, @DouweM said:\n\n\u003e Before there were groups, a project could only have one owner: the owner of the namespace the project is in. “Owner” was not a member role, it was a fixed property of the project. Then when groups came around, a single owner for the group didn’t make sense anymore, and we added the Owner role. We didn’t add it to projects, presumably because the difference between a project master and project owner is limited to things you’d usually only want owners of the group the project is in to do anyway, like deleting it, changing visibility, and transferring it (edited)\n\u003e\n\u003e I think it makes a lot of sense [to add this], and it would remove some confusion and inconsistency\n\u003e\n\u003e The idea around transferring is that a project can only be transferred to a group where you already have the ability to _create_ a project, which is limited to group masters and owners.\n\u003e\n\u003e I think GitHub has the concept of a Transfer Request, where Dimitrie could request his project to be transferred, and Stan could accept it\n\n### Proposal\n\n* An Owner should be able to grant Owner permissions to other members of the project.\n* For personal namespaces:\n   * Owners should be able to grant Owner status to other project members.\n   * It should not be possible to downgrade the namespace owner to a role lower than `Owner`.\n* For groups:\n   * As with other membership types, `Owner` roles should cascade down into subgroups and projects. It should not be possible to downgrade an inherited membership.\n* It will still be possible for other `Owners` to delete or transfer the project out of the original user's namespace if desired. We may want to warn the `Owner` in the UI when they are upgrading the member.\n* We should give the `Owner` role to the member associated with the personal namespace for projects in personal namespaces. (e.g. I should get `Owner` role for all my projects in my personal `jeremy` namespace).\n\n### Details\n\nSee note from Douwe on implementation thoughts: https://gitlab.com/gitlab-org/gitlab-ce/issues/44033#note_101133901","state":"closed","created_at":"2018-03-08T16:56:09.558Z","updated_at":"2022-08-21T12:02:07.058Z","closed_at":"2022-08-04T06:19:12.984Z","closed_by":{"id":3717078,"username":"cablett","name":"charlie ablett","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3717078/avatar.png","web_url":"https://gitlab.com/cablett"},"labels":["Deliverable","customer","devops::manage","estimation::completed","group::organization","missed-deliverable","missed:15.0","missed:15.1","missed:15.2","namespace","permissions","priority::2","project","quad-planning::complete-action","section::dev","type::feature","workflow::in review"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":3717078,"username":"cablett","name":"charlie ablett","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3717078/avatar.png","web_url":"https://gitlab.com/cablett"}],"author":{"id":64248,"username":"stanhu","name":"Stan Hu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/64248/stanhu.jpg","web_url":"https://gitlab.com/stanhu"},"type":"ISSUE","assignee":{"id":3717078,"username":"cablett","name":"charlie ablett","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3717078/avatar.png","web_url":"https://gitlab.com/cablett"},"user_notes_count":47,"merge_requests_count":0,"upvotes":24,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/21432","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/21432","notes":"https://gitlab.com/api/v4/projects/278964/issues/21432/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/21432/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#21432","relative":"#21432","full":"gitlab-org/gitlab#21432"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7405,"epic":{"id":423423,"iid":7405,"title":"Unify member management between projects and groups - Owner Role","url":"/groups/gitlab-org/-/epics/7405","group_id":9970,"human_readable_end_date":"Mar 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e months remaining"},"iteration":null,"health_status":null},{"id":24661818,"iid":21431,"project_id":278964,"title":"Web editors and commit API convert CRLF line endings to LF","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"bug\" label.\n\nFor the Community Edition issue tracker:\n\n- https://gitlab.com/gitlab-org/gitlab-ce/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab-ce/issues?label_name%5B%5D=bug\n\nFor the Enterprise Edition issue tracker:\n\n- https://gitlab.com/gitlab-org/gitlab-ee/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab-ee/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\nWhen committing a text file through either the ACE web editor, the WebIDE, or the commits API, any CRLF line endings in the file will be converted to LF.\n\nThis is due to our use of `core.autocrlf=input`, which was originally introduced in https://gitlab.com/gitlab-org/gitlab-ce/merge_requests/858 because text in HTML forms always gets encoded with CRLF (`\\r\\n`).\n\nThis behaviour introduces unwanted changes / merge conflicts for Windows users who don't use `core.autocrlf=true`, or similar.\n\n### Steps to reproduce\n\nFor the editors:\n\n1. Create a CRLF file locally and push to GitLab\n1. Make an edit through the ACE editor or WebIDE\n\nFor the API case: https://gitlab.com/gitlab-org/gitlab-ce/issues/50096#steps-to-reproduce\n\n### Example Project\n\n- ACE: https://gitlab.com/toupeira/playground/compare/line-endings...line-endings-ace\n- WebIDE: https://gitlab.com/toupeira/playground/compare/line-endings...line-endings-webide\n- `.gitattributes` with `* -text`: https://gitlab.com/toupeira/playground/compare/line-endings...line-endings-gitattributes-alt\n\n### What is the current *bug* behavior?\n\nAll CRLFs of the changed files are converted to LFs inside the repository on the server.\n\n### What is the expected *correct* behavior?\n\nExisting CRLFs inside the repository on the server should stay as CRLFs. Newly added lines should use the existing line endings of the file.\n\n### Output of checks\n\nThis bug happens on GitLab.com\n\n### Possible fixes\n\nMaybe we can just check if a file is CRLF when committing and not apply `autocrlf=input` in that case. This might be trickier than it sounds :)\n\nThe setting is applied in Gitaly. On the Rails side we have some references as well:\n\n- A spec testing the Gitaly behaviour in `spec/models/repository_spec.rb`\n- Instructions for source installations in `doc/install/installation.md`, and a verification check for this in `lib/system_check/app/git_config_check.rb`","state":"closed","created_at":"2018-03-08T16:55:18.818Z","updated_at":"2022-12-21T12:02:56.628Z","closed_at":"2022-12-14T02:34:30.192Z","closed_by":{"id":1646689,"username":"oregand","name":"David O'Regan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1646689/avatar.png","web_url":"https://gitlab.com/oregand"},"labels":["Category:Web IDE","Deliverable","backend","customer","devops::create","encoding","frontend","group::editor","missed-deliverable","missed:15.5","priority::3","section::dev","severity::3","type::bug","workflow::verification"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":3199302,"username":"dmishunov","name":"Denys Mishunov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d85e45af29611ac2c1395e3c3d6ec5d6?s=80\u0026d=identicon","web_url":"https://gitlab.com/dmishunov"}],"author":{"id":138578,"username":"iain","name":"Iain Nicol","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/138578/avatar.png","web_url":"https://gitlab.com/iain"},"type":"ISSUE","assignee":{"id":3199302,"username":"dmishunov","name":"Denys Mishunov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d85e45af29611ac2c1395e3c3d6ec5d6?s=80\u0026d=identicon","web_url":"https://gitlab.com/dmishunov"},"user_notes_count":93,"merge_requests_count":0,"upvotes":30,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/21431","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":1,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/21431","notes":"https://gitlab.com/api/v4/projects/278964/issues/21431/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/21431/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#21431","relative":"#21431","full":"gitlab-org/gitlab#21431"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":24661803,"iid":21425,"project_id":278964,"title":"Commit box mini pipeline graph stage status is out of sync with table","description":"The commit box mini pipeline graph stage status is not in sync with the pipelines table stage status.\n\n![Screen_Shot_2018-03-08_at_11.35.55](/uploads/3330d6971166fdc1b9adec669b4fb542/Screen_Shot_2018-03-08_at_11.35.55.png)\n\n\n## Proposal:\n\nI think the problem is we send the data to the commit box mini pipeline graph from Rails and the pipelines table we constantly poll for the data. What I think we will need to do is setup polling for the commit box mini pipeline graph and move away from passing the stage data from rails when the component is mounted.","state":"closed","created_at":"2018-03-08T11:45:15.010Z","updated_at":"2022-04-25T12:58:34.917Z","closed_at":"2022-04-07T12:27:22.013Z","closed_by":{"id":4477803,"username":"pburdette","name":"Payton Burdette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477803/avatar.png","web_url":"https://gitlab.com/pburdette"},"labels":["Category:Continuous Integration","SUS::Impacting","UX","backend","devops::verify","frontend","group::pipeline execution","priority::4","section::ops","severity::4","type::bug","workflow::production"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":4477803,"username":"pburdette","name":"Payton Burdette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477803/avatar.png","web_url":"https://gitlab.com/pburdette"}],"author":{"id":482476,"username":"filipa","name":"Filipa Lacerda","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/482476/avatar.png","web_url":"https://gitlab.com/filipa"},"type":"ISSUE","assignee":{"id":4477803,"username":"pburdette","name":"Payton Burdette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477803/avatar.png","web_url":"https://gitlab.com/pburdette"},"user_notes_count":30,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/21425","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/21425","notes":"https://gitlab.com/api/v4/projects/278964/issues/21425/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/21425/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#21425","relative":"#21425","full":"gitlab-org/gitlab#21425"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":9610248,"iid":5164,"project_id":278964,"title":"Weight and progress information in roadmap epic bars","description":"## Problem to solve\n### Summary\nWhen using the roadmap, there is currently no way to know if an epic is on track to be completed by the assigned end date. \n\n##### Situation\n_When I'm viewing the roadmap..._\n\n\n_I want to quickly understand the completion progress of each item on the roadmap..._\n\n_Force:_ It's frustrating that I can't understand the overall progress of a given epic item on the roadmap. There are timelines but those are set before something is usually started and aren't adequately maintained while an given epic is in progress.\n\n_Force:_ Issues aren't groomed regularly, especially when it comes to issue weights, so I'm hesitant to trust any progress completion data I will see on the roadmap when this is completed because it doesn't necessarily take into account historical velocity of the team implementing it. \n\n##### Expected Outcome\n_So that I can report progress outwards, provide additional support as necessary to lagging items, and get better visibility into where we said we were going and how we are progressing towards those goals._   \n\n## Intended users\n\nProduct managers, project managers, directors, executives\n\n## Proposal\n\n* Expose weight completed vs. weight outstanding in some form or fashion on a roadmap epic.\n\n#### Implementation Notes\n\n* The entire roadmap needs to support real time functionality sooner rather than later. Engineering, can you please take this into consideration when thinking through the implementation?\n* This is a good opportunity to pay down some technical debt and refactor the Roadmap to use GraphQL (https://gitlab.com/gitlab-org/gitlab-ee/issues/12887) \n\n#### Design\n![roadmaphover](https://gitlab.com/gitlab-org/gitlab/uploads/c24d4025b08f9f3693241f0385f8f27d/roadmaphover.mov)\n\n![Roadmap-large-hover3](https://gitlab.com/gitlab-org/gitlab/uploads/510d8080fdef0a0ca2d62b360fd0caac/Roadmap-large-hover3.png)\n\n*See the designs tab for more*\n\n#### Design requirements\n\nView specs here: https://gitlab-org.gitlab.io/gitlab-design/hosted/alexis/ee%235164-roadmap-progress-spec-previews/\n\n###### Epic bar\n*  Give epic bars greater hierarchy. They should be indexed above the date grid and \"today\" indicator.\n*  Epic bar color: \n   * Epics with start and end dates: `#1b69b6` \n   * Epics without start or end date: `#ffffff` with 1px `#1b69b6` border\n*  Progress bar color: \n   * Epics with start and end dates: Filled progress: `#ffffff` , Unfilled progress: `#ffffff` with 30% opacity.\n   * Epics without start or end date: Filled progress: `#1b69b6` , Unfilled progress: `#1b69b6` with 30% opacity.\n*  Icon and text color: \n   * Epics with start and end dates:  `#ffffff`\n   * Epics without start or end date: `#1b69b6`\n*  Font\n   * Size: 14\n   * Weight: Medium\n\n###### Epic bar hover state \n*  Epic bar color: \n   * Epics with start and end dates: `#17599c` \n   * Epics without start or end date: `#ffffff` with 1px `#17599c` border\n*  Progress bar color: \n   * Epics with start and end dates: Filled progress: `#ffffff` , Unfilled progress: `#ffffff` with 30% opacity.\n   * Epics without start or end date: Filled progress: `#17599c` , Unfilled progress: `#17599c` with 30% opacity.\n*  Icon and text color: \n   * Epics with start and end dates:  `#ffffff`\n   * Epics without start or end date: `#17599c`\n\n###### Popover\n*  Use our popover component\n\n###### Future\nI have designs for bars that have less height, but for now we might as well use the real estate we have to make these as readable as possible. This could also allow for us to add in more affordance for things like linking dependencies, dragging to change dates, etc.\n\nFrom the [specs](https://gitlab-org.gitlab.io/gitlab-design/hosted/alexis/ee%235164-roadmap-progress-spec-previews/) :\n\n\u003cimg src=\"/uploads/d060b3051b069698674902d9d25cffb2/Roadmap-bar-large-specs.png\" height=\"200\"\u003e\n\n## Permissions and Security\n\n* As the MVC exposes no configuration options, users with access to view the Roadmap will be able to view progress completion. \n\n## Documentation\n\n* Update [Roadmap Documentation](https://docs.gitlab.com/ee/user/group/roadmap/)\n\n## Interested Customers/Prospects\n* [Interested Customer](https://gitlab.my.salesforce.com/00161000010fYg0)\n* [Interested Customer](https://gitlab.lightning.force.com/lightning/r/Account/0016100001XuomUAAR/view)\n* [Interested Customer](https://gitlab.lightning.force.com/lightning/r/Account/0016100001CXGCsAAP/view)\n* [Interested Prospect](https://gitlab.my.salesforce.com/0064M00000V6EZW)\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2018-03-07T15:26:41.458Z","updated_at":"2022-05-19T16:34:14.610Z","closed_at":"2020-03-23T18:55:40.966Z","closed_by":{"id":4545397,"username":"cngo","name":"Coung Ngo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4545397/avatar.png","web_url":"https://gitlab.com/cngo"},"labels":["Category:Portfolio Management","Enterprise Edition","GitLab Premium","GitLab Ultimate","Technical Writing","backend","customer","customer+","devops::plan","direction","docs::feature","documentation","epics","frontend","group::product planning","internal customer","missed-deliverable","missed:12.4","missed:12.5","missed:12.6","missed:12.7","planning priority","roadmaps","type::feature","workflow::production"],"milestone":{"id":1001916,"iid":44,"group_id":9970,"title":"12.9","description":"https://about.gitlab.com/releases/2020/03/22/gitlab-12-9-released","state":"closed","created_at":"2019-09-15T20:54:50.875Z","updated_at":"2020-09-02T11:04:41.671Z","due_date":"2020-03-17","start_date":"2020-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/44"},"assignees":[{"id":3617348,"username":"uhlexsis","name":"Alexis Ginsberg","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3617348/avatar.png","web_url":"https://gitlab.com/uhlexsis"},{"id":3717078,"username":"cablett","name":"charlie ablett","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3717078/avatar.png","web_url":"https://gitlab.com/cablett"},{"id":4545397,"username":"cngo","name":"Coung Ngo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4545397/avatar.png","web_url":"https://gitlab.com/cngo"}],"author":{"id":711023,"username":"victorwu","name":"Victor Wu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/711023/avatar.png","web_url":"https://gitlab.com/victorwu"},"type":"ISSUE","assignee":{"id":3617348,"username":"uhlexsis","name":"Alexis Ginsberg","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3617348/avatar.png","web_url":"https://gitlab.com/uhlexsis"},"user_notes_count":78,"merge_requests_count":0,"upvotes":21,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/5164","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/5164","notes":"https://gitlab.com/api/v4/projects/278964/issues/5164/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/5164/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#5164","relative":"#5164","full":"gitlab-org/gitlab#5164"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2003,"epic":{"id":13331,"iid":2003,"title":"Evolving how  Epics are displayed on Roadmaps","url":"/groups/gitlab-org/-/epics/2003","group_id":9970,"human_readable_timestamp":"\u003cstrong\u003e1063\u003c/strong\u003e days elapsed"},"iteration":null,"health_status":null},{"id":9608348,"iid":5158,"project_id":278964,"title":"MVC of SLI Alerts","description":"As a first step towards https://gitlab.com/gitlab-org/gitlab-ee/issues/4451, we should provide the absolute minimum features for alerting: setting an alert, receiving a notification, and seeing what the value is.\n\nI believe the smallest iteration is:\n* Allow configuration of a single alert threshold, for each chart. \n  * The only configurable options are: alerting threshold, operator (`\u003e`,`\u003c`,`=`)\n  * The alert icon would not change on a triggered alert, it simply exposes the drop down to edit the values.\n  * Available to Masters and Owners only.\n* A red horizontal line at the alerting threshold, displayed on the chart. (Stretch)\n* An email sent to project Masters and Owners, in the event an alert triggers. Email is sent based on Project Notification settings. (No email on clear, right now.)\n\n\n#### Adding an alert\n![Add Alert](https://gitlab.com/gitlab-org/gitlab-ee/uploads/c131805083c47e56b889008672950e8c/02-dropdown-menu--add-alert.png)\n\nTo trim this down for the MVC, we should:\n* Pop this menu directly when you click on the alert icon\n* Change `Add` to `Save`\n* Skip the `duration` field.\n\n![trim-down](/uploads/373cd8be999afa61ab2f0142ffd0c889/trim-down.png)\n\n#### Designs\n1. When you click the `notification-off` button, a 'New alert' dropdown shows up, and you can add an alert (*Mockup 01*)\n2. After clicking 'Save' button in the 'New alert' dropdown, the `notification-off` icon will change to `notification-on` icon. And it shows `150 \u003e Threshold` text next to the notification button. (*Mockup 02*)\n3. You can delete the alert by clicking 'Delete' button in the dropdown (*Mockup 02*). However, if you change the settings of the alert, the 'Delete' button will change to 'Save' button (*Mockup 03*).\n4. If you delete the alert, the '150 \u003e Threshold' text will disappear, and the `notification-on` icon will change to `notification-off` icon at the same time.\n\n\n| 01 - Add alert | 02 - Edit alert -- Delete | 03 - Edit alert -- Save |\n| --- | --- | --- | --- |\n| ![01-alert--add](/uploads/25d3e13a4eb7cc1a0592092987b9d3f4/01-alert--add.png) | ![02-alert--edit](/uploads/2e459298acf763c2cb32bb433ead3852/02-alert--edit.png) | ![03-alert--edit](/uploads/876747a75493057ebcd5b26cc07e849c/03-alert--edit.png) |\n\n![00-alert](/uploads/601270da07345060d2745379519e5a76/00-alert.png)\n\n#### Alert Email\nWe should implement a web hook receiver for Prometheus' alert manager to trigger. Based on the alert, we should email Masters and Owners of the project with an email:\n```\nSubject: {Project} | Alert: {Environment} - {Metric} {operator} {threshold} for 5 minutes\nBody: \nAn alert has been triggered in {Project}.  \nEnvironment: {environment}\nMetric: {Metric} {operator} {threshold}\n\n[View {environment} performance dashboard]().\n\n--\nYou're receiving this email because of your account on [gitlab.com]. If you'd like to receive fewer emails, you can [adjust the alert](link to performance dashboard) or your [notification settings](https://gitlab.com/profile/notifications).\n```\n\n#### Setting alerts in AlertManager\nIn order for Prometheus to generate alerts, we need to tell it what to look for. To accomplish this we should:\n* Enable Alert Manager in the Prometheus chart\n* Utilize `helm upgrade --reuse-values` to pass the rule and alert configuration based on the configured alerts.\n","state":"closed","created_at":"2018-03-07T14:16:50.784Z","updated_at":"2019-08-12T15:39:19.229Z","closed_at":"2018-07-26T09:46:35.539Z","closed_by":{"id":443319,"username":"smcgivern","name":"Sean McGivern","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/443319/avatar.png","web_url":"https://gitlab.com/smcgivern"},"labels":["Deliverable","Enterprise Edition","GitLab Ultimate","backend","devops::monitor","frontend","type::feature","workflow::in review"],"milestone":{"id":494367,"iid":15,"group_id":9970,"title":"11.2","description":"","state":"closed","created_at":"2018-03-27T19:26:05.990Z","updated_at":"2018-11-06T19:16:51.951Z","due_date":"2018-08-22","start_date":"2018-07-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/15"},"assignees":[{"id":117638,"username":"tiagonbotelho","name":"Tiago Botelho","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/117638/avatar.png","web_url":"https://gitlab.com/tiagonbotelho"},{"id":577113,"username":"hazelyang","name":"Hazel Yang","state":"active","avatar_url":"https://secure.gravatar.com/avatar/e84e4d70639ad1177276340868d7f074?s=80\u0026d=identicon","web_url":"https://gitlab.com/hazelyang"},{"id":636429,"username":"mikegreiling","name":"Mike Greiling","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/636429/avatar.png","web_url":"https://gitlab.com/mikegreiling"}],"author":{"id":926632,"username":"joshlambert","name":"Joshua Lambert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a0bdc5209b11e9c0953f80234dcb4ffb?s=80\u0026d=identicon","web_url":"https://gitlab.com/joshlambert"},"type":"ISSUE","assignee":{"id":117638,"username":"tiagonbotelho","name":"Tiago Botelho","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/117638/avatar.png","web_url":"https://gitlab.com/tiagonbotelho"},"user_notes_count":32,"merge_requests_count":3,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/5158","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":6,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/5158","notes":"https://gitlab.com/api/v4/projects/278964/issues/5158/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/5158/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#5158","relative":"#5158","full":"gitlab-org/gitlab#5158"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":91,"epic":{"id":160,"iid":91,"title":"SLI Alerts","url":"/groups/gitlab-org/-/epics/91","group_id":9970,"human_readable_end_date":"Jun 7, 2018","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":9595542,"iid":5151,"project_id":278964,"title":"Dismiss vulnerability or create an issue in security reports","description":"## Description\n\nWe have several security features, and those features create reports for vulnerabilities.\n\nSometimes there are false positives that create noise in the report. It would be useful to implement a way to dismiss them and save this feedback for later use in signal-to-noise.\n\nIf the problem is real, an issue can be created from there to implement a solution.\n\n## Proposal\n\nWe want the users to have \"Dismiss\" buttons and record the result in the DB. This will allow us, in future iterations, to suggest a \"score\" based on such collected statistics. The score could influence the issue rank, and would nuance the data reported by our tools. ~~As @gonzoyumo said, we should gather more data from the user, and understand why the issue has been dismissed.~~ We just want to know it has been dismissed, whatever the reason.\n\nWe could also have a button to directly open an issue with the corresponding security alerts. If we are able to link an issue with its resolution (a commit), then it would be valuable for the users as well.\n\n## Design\n\n### Scope\n\nIn scope:\n- Create new issue\n- Dismiss/Undismiss vulnerability\n- Dismissed vulnerabilities are strikethrough and ordered at the bottom of the list\n- Open modal\n  - Information =\u003e See mockups\n- Project scoped (dismissed vulnerabilities are dismissed for the whole project)\n- Vulnerabilities can be dismissed from all branches\n- Masters and developers are able to dismiss vulnerabilities\n\nOut of scope: \n- Reason for dismissal\n- We cannot create double issues from vulnerabilities (changes create issue button to go to issue button after issue has already been created)\n- When user creates an issue he should not be able to dismiss and vice-versa\n- Better mobile support (as we are using modals)\n- Hide full path of \"file\" on item in merge request widget and pipeline detail view. That information will be visible in the modal [image](/uploads/f771135970f3289c9744afb2a5943a49/image.png)\n\n### Flows\n\nDismissal:\n1. User sees vulnerability\n1. User clicks vulnerability title/anchor\n1. Modal opens\n1. User dismisses vulnerability\n1. Modal auto closes\n1. The vulnerability is dismissed\n  - Gets ~~strikethrough~~ styling\n  - Gets reordered to the bottom of the vulnerabilities list\n  - The user who dismissed the vulnerability gets recorded and is displayed in the modal, including the pipeline from which it happened (only shown when opening the vulnerability again\n  - No confirmation message is shown of any kind (keeping it simple and quick)\n\nNew issue:\n1. User sees vulnerability\n1. User clicks vulnerability title/anchor\n1. Modal opens\n1. The user creates a new issue\n1. Page changes to new issue creation screen with title and description pre-populated.\n1. User clicks create\n1. Issue is created\n1. The user is on the new issue page\n\nReverting dismissal of vulnerability:\n1. User sees dismissed vulnerability\n1. User clicks vulnerability title/anchor\n1. Modal opens\n1. User reverts dismissal of vulnerability \n1. Modal auto closes\n1. The vulnerability is undismissed\n  - Undoes ~~strikethrough~~ styling\n  - Gets reordered to the normal position in the vulnerabilities list\n  - The user who dismissed the vulnerability gets deleted. The vulnerability is back as is\n  - No confirmation message is shown of any kind (keeping it simple and quick)\n\nDismissal/undissal failure:\n\n1. User dismisses/undismisses vulnerability\n1. Modal does not auto close\n1. The vulnerability is not dismissed/undismissed\n1. Modal gets an additional inline error message stating that the user should try again:\n\n### Mockups\n\nUndismissed vulnerability modal:\n![confirmation--delete-your-account-external_copy](/uploads/17dd5a431630a923361d4429a92e5fac/confirmation--delete-your-account-external_copy.png)\n\nDismissed vulnerability modal\n![confirmation--delete-your-account-external_copy_2](/uploads/5c1c48306808c15083c6f8d8502116f1/confirmation--delete-your-account-external_copy_2.png)\n\n- Instances box within the modal has a max height and becomes scrollable if it has many items (160 or 240 px max height)\n- Hide items that are not available to some tests\n- Learn more links towards documentation (cc: @axil can you provide the link?)\n- Create issue button will pre-fill the issue description and title with the contents of the vulnerability\n\nTitle:\n\n```\nInvestigate vulnerability: VULNERABILITY TITLE\n```\n\nDescription:\n\n```\nThe following vulnerability from PIPELINE should be addressed:\n\n- Description: Long text, could be a simple text for now and maybe later improved to be markdown with code formatting. We should be careful on the rendering of this value that can hold new lines.\n- File: link to repo's file with start + end line (or just start line)\n- Identifier(s): comma separated list of identifiers and potentially linking to external DB (CVE, CWE, etc.)\n- Severity: Short text (usually one of: Critical, High, Medium, Low, Unknown)\n- Solution: Long text, could be a simple text for now and maybe later improved to be markdown with code formatting. We should be careful on the rendering of this value that can hold new lines.\n- Confidence Level: Short text (usually one of High, Medium, Low, Unknown)\n- Source(s): a List of URLs pointing to external sources of the vulnerability\n```\n\n- DAST modal specifics\n\n| before | after |\n| --- | --- |\n| ![image](/uploads/5ace6891a31829528e51bfb84b7c37a1/image.png) | ![image](/uploads/d682f2254679edddf83467c685f81503/image.png) |\n\n- Error specifics:\n\n![confirmation--delete-your-account-external_copy_3](/uploads/c33ac14fc32b297a0dd2548d11fccb07/confirmation--delete-your-account-external_copy_3.png)\n\nMerge request widget and pipeline security tab:\n\n- Title becomes clickable\n\n![Artboard](/uploads/8de6ed1f60db182c8547ec2dde6e1b0a/Artboard.png)\n\n- Mockup for each report since they are all different?\n\n| before | After |\n| --- | --- |\n| ![image](/uploads/7d0cceac3fe237b89ce8797ffa2e5b89/image.png) | ![image](/uploads/40998b0e0f2fe1b0a0314de2954c70df/image.png) |","state":"closed","created_at":"2018-03-07T00:06:18.299Z","updated_at":"2020-09-01T20:51:53.589Z","closed_at":"2018-05-08T06:58:25.780Z","closed_by":{"id":482476,"username":"filipa","name":"Filipa Lacerda","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/482476/avatar.png","web_url":"https://gitlab.com/filipa"},"labels":["Deliverable","Enterprise Edition","GitLab Ultimate","backend","devops::secure","direction","frontend","release post item","type::feature"],"milestone":{"id":445863,"iid":12,"group_id":9970,"title":"10.8","description":"https://about.gitlab.com/releases/2018/05/22/gitlab-10-8-released","state":"closed","created_at":"2018-01-16T17:05:23.570Z","updated_at":"2020-04-27T16:29:56.288Z","due_date":"2018-05-22","start_date":"2018-04-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/12"},"assignees":[{"id":52092,"username":"gonzoyumo","name":"Olivier Gonzalez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/651e0ff81c3995a05269f7c80895fe89?s=80\u0026d=identicon","web_url":"https://gitlab.com/gonzoyumo"},{"id":482476,"username":"filipa","name":"Filipa Lacerda","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/482476/avatar.png","web_url":"https://gitlab.com/filipa"},{"id":489558,"username":"dimitrieh","name":"Dimitrie Hoekstra","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/489558/avatar.png","web_url":"https://gitlab.com/dimitrieh"}],"author":{"id":1273957,"username":"bikebilly","name":"Fabio Busatto","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1273957/avatar.png","web_url":"https://gitlab.com/bikebilly"},"type":"ISSUE","assignee":{"id":52092,"username":"gonzoyumo","name":"Olivier Gonzalez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/651e0ff81c3995a05269f7c80895fe89?s=80\u0026d=identicon","web_url":"https://gitlab.com/gonzoyumo"},"user_notes_count":135,"merge_requests_count":0,"upvotes":3,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/5151","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":4,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/5151","notes":"https://gitlab.com/api/v4/projects/278964/issues/5151/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/5151/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#5151","relative":"#5151","full":"gitlab-org/gitlab#5151"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":202,"epic":{"id":398,"iid":202,"title":"Security Reports Interactive Feedback","url":"/groups/gitlab-org/-/epics/202","group_id":9970,"human_readable_end_date":"Apr 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":9586166,"iid":5135,"project_id":278964,"title":"Assign an issue to more than one timebox (Milestone \u0026 Iteration)","description":"### Problem to solve\n\nThere is no way to associate an issue to more than one concurrent timeboxed milestone. This is particularly problematic for teams that practice modern flavors of Scrum or ExtremeProgramming. \n\nThe most common use case:\n\n- An issue is part of a shorter sprint (1-4 weeks).\n- Which also rolls up to a longer \"release\" (1-3 months). \n\nIt is impossible to track the completion progress against both timeboxes. \n\n### Intended users\n\n\u003c!-- Who will use this feature? If known, include any of the following: types of users (e.g. Developer), personas, or specific company roles (e.g. Release Manager). It's okay to write \"Unknown\" and fill this field in later.\n\n* [Parker (Product Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#parker-product-manager)\n* [Delaney (Development Team Lead)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#delaney-development-team-lead)\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Presley (Product Designer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#presley-product-designer)\n* [Devon (DevOps Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#devon-devops-engineer)\n* [Sidney (Systems Administrator)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sidney-systems-administrator)\n* [Sam (Security Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sam-security-analyst)\n* [Dana (Data Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#dana-data-analyst)\n\nPersonas are described at https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/ --\u003e\n\nMost likely personas that will benefit from this feature:\n\n* [Parker (Product Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#parker-product-manager)\n* [Delaney (Development Team Lead)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#delaney-development-team-lead)\n\n### Further details\n\n#### Use Cases\n\n\u003e Since we require a milestone for a upcoming version of a given project it is a big pain that we can't attach another milestone for a given release window. :cry: Workflows with multiple projects and additional operation tasks are usual today even for small teams so it would be nice if we had the tools to properly plan and observe them.\n\n\u003e The reason we need multiple milestones attached to an issue is that we would also like to create a milestone for our 2-week sprints. So an issue would be part of our SOW milestone for SOW Project Management over a timespan of a month or so, as well as our sprint plannings for our current working schedule.\n\n\u003e It feels like I spend a lot of time trying to organize issues spanning multiple projects and multiple stakeholders trying to avoid the single milestone limitation. We end up using labels as a poor replacement.\n\n### Proposal\n\n\u003c!-- How are we going to solve the problem? Try to include the user journey! https://about.gitlab.com/handbook/journeys/#user-journey --\u003e\n#### Bigger Picture Goals\n\n- Issues and Merge Requests can be tracked across both a milestone and an iteration (this issue).\n- Milestones \u0026 Iterations show scope changes and better reporting of what happened during the milestone (Epic https://gitlab.com/groups/gitlab-org/-/epics/1957)\n- Milestones/Iterations can be set on a configurable, recurring schedule so that maintaining release planning and iteration cadence is more automated than manual. (Epic: https://gitlab.com/groups/gitlab-org/-/epics/69)\n\n#### This Issue's Scope\n\n* Allow users to assign an issue or MR to both an iteration and a milestone. This will be more than sufficient for smaller teams and also support the typical \"layers\" within larger organizations that use enterprise agile frameworks.\n* Properly handle the UX for displaying milestones and iterations in the issue.\n* Properly handle fringe cases\n\n#### UX Summary (detailed descriptions [in the image](https://gitlab.com/gitlab-org/gitlab/-/issues/5135/designs/timeboxes.png))  \nIterations will be active by default and have their own place in the left navigation under Issues. Creation of a new iteration will be similar to milestone creation and they will have their own list view, also similar to milestones. Issues can be added to an iteration by navigating to the issue and selecting the iteration from the right sidebar.\n![Screen_Shot_2020-03-30_at_5.53.13_PM](/uploads/9dd33b0fa371a4dbdf0835a43bde697b/Screen_Shot_2020-03-30_at_5.53.13_PM.png)\n\n#### Not in scope\n\nEnabling and disabling timeboxes via a group's settings will be handled in this issue (https://gitlab.com/gitlab-org/gitlab/issues/35290).\n\nThis epic (https://gitlab.com/groups/gitlab-org/-/epics/2422) is tracking improvements across the product to support the the reality of issues and merge requests being assignable to more than one timebox. \n\n#### Fringe Cases\n\n**1. When an issue moves to another a project or group that does not have the same timebox types enabled:**\n\nPrompt with a warning dialogue - `You are moving an issue into a group that does not have X, Y, and Z timebox enabled. These will be removed from the issue if you continue` - `Move Anyways` `Cancel`\n\n### Permissions and Security\n\n\u003c!-- What permissions are required to perform the described actions? Are they consistent with the existing permissions as documented for users, groups, and projects as appropriate? Is the proposed behavior consistent between the UI, API, and other access methods (e.g. email replies)?--\u003e\n\n- They should be consistent with the existing permissions structure regarding which roles can update milestones within a given Issue or MR. \n\n### Documentation\n\n\u003c!-- See the Feature Change Documentation Workflow https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html\nAdd all known Documentation Requirements here, per https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html#documentation-requirements\nIf this feature requires changing permissions, this document https://docs.gitlab.com/ee/user/permissions.html must be updated accordingly. --\u003e\n\n- We should probably update https://docs.gitlab.com/ee/user/project/milestones/index.html#overview and maybe even consider removing milestones as a child of Issues as we currently have both project and group level milestones (or making it more discoverable from either navigation menu). \n\n### Testing\n\n\u003c!-- What risks does this change pose? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing? See the test engineering process for further help: https://about.gitlab.com/handbook/engineering/quality/test-engineering/ --\u003e\n\n- As part of this issue, we will have to determine how having issues on multiple timeboxes impacts the dynamic setting of start and due dates on epics (https://docs.gitlab.com/ee/user/group/epics/#start-date-and-due-date).\n- We should consider putting this behind a feature flag during development. \n\n### What does success look like, and how can we measure that?\n\n\u003c!-- Define both the success metrics and acceptance criteria. Note that success metrics indicate the desired business outcomes, while acceptance criteria indicate when the solution is working correctly. If there is no way to measure success, link to an issue that will implement a way to measure this. --\u003e\n\n#### Success Metrics\n\n- Quantitative - Count of issues with more than one timebox.\n- Qualitative - Feedback from the wider community.\n\n#### Acceptance Criteria\n\n- [ ] Basic behavior of the proposal is satisfied.\n- [ ] Epics dynamic dates work correctly with multiple milestones per issue. \n- [ ] Uses GraphQL.\n- [ ] Public APIs updated.\n- [ ] Uses Pajamas.\n- [ ] Necessary telemetry for measuring quantitative success metrics is implemented. \n\n### What is the type of buyer? \n\n\u003c!-- Which leads to: in which enterprise tier should this feature go? See https://about.gitlab.com/handbook/product/pricing/#four-tiers --\u003e\n\nBased on our current understanding, any reasonable manager that is utilizing modern agile planning practices would buy this feature. Based on our [four pricing tiers](https://about.gitlab.com/handbook/product/pricing/#four-tiers), this would fall into the ~\"GitLab Starter\" tier.   \n\n### Links / references\n\n/label ~feature\n\nOld Description:\n\n\u003cdetails\u003e\n### Problems\n- Problem 1: Users (customers have expressed this problem, and it's in the Agile methodology) have asked for a way to differentiate between scoping work to a sprint/iteration (i.e. a finite period of time) versus identifying a feature that will go toward a particular release/version. Currently GitLab has now way to support this workflow. (Note that at GitLab, we don't need this feature in our current process since our monthly sprints/iterations are 1-1 with minor releases, (i.e. .x releases)).\n\n- Problem 2: Users (customers have expressed this problem) want a particular feature to be exposed to multiple releases, so that various stakeholders who care, can know. For example, a single change in a backend service benefits the mobile app and a web app. The mobile app people want to expose that change to the mobile app stakeholders, and same for the web app. This is currently not possible in GitLab since an issue can only be associated with one milestone. So that issue/feature cannot be readily exposed to multiple releases.\n\n### Proposed solution\n- Support assigning multiple milestones per issue or merge request.\n- This is a boring solution since it doesn't require us to invent a brand new field/attribute for issues/mrs. Furthermore, if you do invent a brand new field/attribute, you have to worry about naming/re-naming which is a big problem. And also, milestones are already deeply integrate with issues, mrs, boards, and other places in GitLab. If we invent a new attribute/object, we would have a _lot_ more work ahead of us to integrate that into all the other places in GitLab.\n- By allowing for multiple milestones per issue/mr, we instantly have all the benefits of GitLab, but now users can support additional workflows and solve their problems.\n- Also, we trust users to be careful and know when they are using a milestone to indicate a sprint/iteration versus a release. (For the case of GitLab, it doesn't matter since it is 1-1.) So for example, if you are using a milestone to represent an iteration/sprint, you would assign a start date and end date to the milestone. And you would use the burndown chart to observe the sprint/iteration burndown. But if you use a milestone as a release, you would only use the end date of the milestone to represent the release date. You likely wouldn't use the burndown chart because it wouldn't make sense in that context. This design reduces the complexity of GitLab by allowing us to use milestones for multiple reasons.\n\n### Design artifact scope\n- Consider if this is a good solution for solving the problem of having separate \n- If this is a good solution, consider all the UI that needs to be changed, system notes, quick actions, notifications, how to indicate multiple milestones in issues and merge requests.\n\n\u003c/details\u003e\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2018-03-06T13:48:48.952Z","updated_at":"2022-02-04T16:34:21.324Z","closed_at":"2020-08-10T18:05:32.794Z","closed_by":{"id":4303289,"username":"gweaver","name":"Gabe Weaver","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4303289/avatar.png","web_url":"https://gitlab.com/gweaver"},"labels":["Category:Issue Tracking","Category:Team Planning","Deliverable","Enterprise Edition","GitLab Starter","UX","[deprecated] Accepting merge requests","backend","customer","devops::plan","direction","docs::feature","documentation","frontend","group::project management","internal customer","issues","merge requests","milestones","missed-deliverable","missed:12.9","missed:13.1","planning priority","release post item","type::feature","workflow::verification"],"milestone":{"id":1233746,"iid":49,"group_id":9970,"title":"13.2","description":"https://about.gitlab.com/releases/2020/07/22/gitlab-13-2-released/","state":"closed","created_at":"2020-04-09T17:28:01.032Z","updated_at":"2022-04-13T14:48:24.167Z","due_date":"2020-07-17","start_date":"2020-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/49"},"assignees":[],"author":{"id":711023,"username":"victorwu","name":"Victor Wu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/711023/avatar.png","web_url":"https://gitlab.com/victorwu"},"type":"ISSUE","assignee":null,"user_notes_count":201,"merge_requests_count":0,"upvotes":76,"downvotes":1,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/5135","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":6,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 6 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/5135","notes":"https://gitlab.com/api/v4/projects/278964/issues/5135/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/5135/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#5135","relative":"#5135","full":"gitlab-org/gitlab#5135"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4012,"epic":{"id":84923,"iid":4012,"title":"Iterations MVC","url":"/groups/gitlab-org/-/epics/4012","group_id":9970,"human_readable_end_date":"Jul 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":24661726,"iid":21380,"project_id":278964,"title":"Merging MR: branch removal should be authored to the user who triggered the merge","description":"### Summary\n\nCurrently when PR is merged with _Remove source branch_ enabled, the authorship of the source branch removal is currently set to the user who merged the MR. This is very confusing. It should show the user who merged the MR, not the one who originally submitted it.\n\n### Steps to reproduce\n\n1. Open MR with user Foo from branch test-removal\n2. Check the _Remove source branch_ checkbox\n3. Merge with user Bar\n\n### What is the current *bug* behavior?\n\nActivity will show:\n\u003e Foo deleted branch test-removal at Some / Project\n\n### What is the expected *correct* behavior?\n\nActivity should show:\n\u003e Bar deleted branch test-removal at Some / Project\n\nGitLab 10.5.2.","state":"closed","created_at":"2018-03-05T18:51:53.637Z","updated_at":"2021-05-31T02:09:30.263Z","closed_at":"2021-05-31T02:09:30.250Z","closed_by":{"id":1786152,"username":"gitlab-bot","name":"🤖 GitLab Bot 🤖","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1786152/avatar.png","web_url":"https://gitlab.com/gitlab-bot"},"labels":["Category:Code Review Workflow","[deprecated] Accepting merge requests","auto closed","devops::create","group::code review","merge requests","needs investigation","priority::4","section::dev","severity::4","stale","type::bug","vintage"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":1691810,"username":"Majkl578","name":"Michael Moravec","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7437e7cb92374f10c9f667ab70ddb6f7?s=80\u0026d=identicon","web_url":"https://gitlab.com/Majkl578"},"type":"ISSUE","assignee":null,"user_notes_count":16,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/21380","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/21380","notes":"https://gitlab.com/api/v4/projects/278964/issues/21380/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/21380/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#21380","relative":"#21380","full":"gitlab-org/gitlab#21380"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":9516022,"iid":5100,"project_id":278964,"title":"Improve commit panel in Web IDE","description":"The commit panel switches entirely between multiple states which is disorienting. We should try to keep the states similar so that the change in state is less jarring.\n\n### Proposal\n\n- Always show the heading **Staged**\n- Always show commit area at the bottom","state":"closed","created_at":"2018-03-01T20:52:21.129Z","updated_at":"2019-08-12T15:39:42.906Z","closed_at":"2018-03-30T12:42:38.419Z","closed_by":null,"labels":["Category:Web IDE","Deliverable","Enterprise Edition","UX","frontend"],"milestone":{"id":424944,"iid":9,"group_id":9970,"title":"10.7","description":"","state":"closed","created_at":"2017-12-06T16:45:41.880Z","updated_at":"2018-05-11T15:04:03.492Z","due_date":"2018-04-22","start_date":"2018-03-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/9"},"assignees":[{"id":489558,"username":"dimitrieh","name":"Dimitrie Hoekstra","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/489558/avatar.png","web_url":"https://gitlab.com/dimitrieh"},{"id":853414,"username":"andr3","name":"André Luís","state":"active","avatar_url":"https://secure.gravatar.com/avatar/241e39726efb512a29621070ccf26a90?s=80\u0026d=identicon","web_url":"https://gitlab.com/andr3"}],"author":{"id":1187333,"username":"jramsay-gitlab","name":"James Ramsay (ex-GitLab)","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1187333/avatar.png","web_url":"https://gitlab.com/jramsay-gitlab"},"type":"ISSUE","assignee":{"id":489558,"username":"dimitrieh","name":"Dimitrie Hoekstra","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/489558/avatar.png","web_url":"https://gitlab.com/dimitrieh"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/5100","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/5100","notes":"https://gitlab.com/api/v4/projects/278964/issues/5100/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/5100/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#5100","relative":"#5100","full":"gitlab-org/gitlab#5100"},"severity":"UNKNOWN","moved_to_id":10016531,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":24661614,"iid":21318,"project_id":278964,"title":"Rebase button not available for WIP merge requests","description":"### Summary\n\nRebase button not available for WIP merge requests\n\n### Steps to reproduce\n\n1. Create a project with fast-forward only policy\n2. Create a branch 'test-branch'\n3. Make changes to the 'test-branch'\n4. Create an MR out of 'test-branch' with name '[WIP] test-MR'\n5. Make changes to master\n6. Notice that the rebase button is not available in the MR page\n\n### Example Project\n\nhttps://gitlab.com/tpresa/test-wip-rebase/merge_requests/1\n\n### What is the current *bug* behavior?\n\nRebase button is not available\n\n### What is the expected *correct* behavior?\n\nRebase button should be available even for WIP\n\n### Possible fixes\n\nZD https://gitlab.zendesk.com/agent/tickets/91478","state":"closed","created_at":"2018-02-28T20:27:17.037Z","updated_at":"2021-01-20T03:47:26.535Z","closed_at":"2020-07-20T10:53:39.810Z","closed_by":{"id":853414,"username":"andr3","name":"André Luís","state":"active","avatar_url":"https://secure.gravatar.com/avatar/241e39726efb512a29621070ccf26a90?s=80\u0026d=identicon","web_url":"https://gitlab.com/andr3"},"labels":["Category:Code Review Workflow","Deliverable","customer","devops::create","frontend","group::code review","merge requests","severity::3","type::bug","workflow::production"],"milestone":{"id":1233746,"iid":49,"group_id":9970,"title":"13.2","description":"https://about.gitlab.com/releases/2020/07/22/gitlab-13-2-released/","state":"closed","created_at":"2020-04-09T17:28:01.032Z","updated_at":"2022-04-13T14:48:24.167Z","due_date":"2020-07-17","start_date":"2020-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/49"},"assignees":[{"id":626804,"username":"pedroms","name":"Pedro Moreira da Silva","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c306f087d191ac15549f3c11e3bed321?s=80\u0026d=identicon","web_url":"https://gitlab.com/pedroms"},{"id":4414431,"username":"thomasrandolph","name":"Thomas Randolph","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6462fcd577d8c957abd2dc23956cfbec?s=80\u0026d=identicon","web_url":"https://gitlab.com/thomasrandolph"}],"author":{"id":1817621,"username":"tpresa","name":"Thiago Presa","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1817621/avatar.png","web_url":"https://gitlab.com/tpresa"},"type":"ISSUE","assignee":{"id":626804,"username":"pedroms","name":"Pedro Moreira da Silva","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c306f087d191ac15549f3c11e3bed321?s=80\u0026d=identicon","web_url":"https://gitlab.com/pedroms"},"user_notes_count":21,"merge_requests_count":0,"upvotes":14,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/21318","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/21318","notes":"https://gitlab.com/api/v4/projects/278964/issues/21318/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/21318/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#21318","relative":"#21318","full":"gitlab-org/gitlab#21318"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3607,"epic":{"id":68969,"iid":3607,"title":"Merge requests UX improvements","url":"/groups/gitlab-org/-/epics/3607","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e day remaining"},"iteration":null,"health_status":null},{"id":24661610,"iid":21315,"project_id":278964,"title":"De-prioritizing issue labels results in them going to the wrong place on the issue list page","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"bug\" label.\n\nFor the Community Edition issue tracker:\n\n- https://gitlab.com/gitlab-org/gitlab-ce/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab-ce/issues?label_name%5B%5D=bug\n\nFor the Enterprise Edition issue tracker:\n\n- https://gitlab.com/gitlab-org/gitlab-ee/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab-ee/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\nWhen un-prioritizing labels in the label list view, if there is more than one page of labels, the now un-prioritized labels will appear below the pagination controls and also out of order. A page refresh fixes this.\n\n### Steps to reproduce\n\n1. Ensure there are more than 25 labels so that the label list view has multiple pages.\n2. Prioritize some number of labels.\n3. Remove the prioritization of any of those labels.\n4. Observe that the labels that were removed from being prioritized are now below the pagination controls.\n\n### Example Project\n\nhttps://gitlab.com/JoelFeiner/BugTest/labels\n\n### What is the current *bug* behavior?\n\nLabels that have been un-prioritized go below the pagination controls and are not in the same order that they were in originally.\n\n### What is the expected *correct* behavior?\n\nLabels should be among the other labels in the main list in the original ordering (before prioritization).\n\n### Relevant logs and/or screenshots\n\n![image](/uploads/4a7edd0771b1edd4e1ca48e7a120e24f/image.png)\n\n### Output of checks\n\nThis bug happens on GitLab.com\n\n### Possible fixes\n\nThe pagination controls are in a div with class `gl-pagination`, which is a child of the `ul` that contains the labels (classes are: `content-list manage-labels-list js-other-labels`). When the labels remove their prioritized status, they are added to the end of the `ul`, which make sense. The problem is that the pagination controls are also a child of the `ul`. I suspect that the controls are supposed to be outside of the `ul`, which would fix this problem. Indeed, moving the pagination `div` one level higher in the Firefox inspector seems to fix that issue.\n\nAs for the ordering issue, that would require that the JS finds the correct spot in the list and puts them in there, which is more complicated (especially with pagination).","state":"closed","created_at":"2018-02-28T16:07:34.285Z","updated_at":"2022-05-19T16:38:39.901Z","closed_at":"2020-11-02T12:20:30.048Z","closed_by":{"id":1786152,"username":"gitlab-bot","name":"🤖 GitLab Bot 🤖","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1786152/avatar.png","web_url":"https://gitlab.com/gitlab-bot"},"labels":["[deprecated] Accepting merge requests","auto closed","devops::plan","frontend","group::project management","labels","priority::4","reproduced on GitLab.com","section::dev","severity::4","stale","type::bug","vintage"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":218131,"username":"JoelFeiner","name":"Joel Feiner","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/218131/avatar.png","web_url":"https://gitlab.com/JoelFeiner"},"type":"ISSUE","assignee":null,"user_notes_count":12,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/21315","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/21315","notes":"https://gitlab.com/api/v4/projects/278964/issues/21315/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/21315/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#21315","relative":"#21315","full":"gitlab-org/gitlab#21315"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":9486383,"iid":5067,"project_id":278964,"title":"[Geo] Don't mark sync as successful if repo does not exist because of some problems","description":"The issue based on the @brodock's suggestion, see https://gitlab.com/gitlab-org/gitlab-ee/merge_requests/4677#note_60650064\n\nA secondary node marks every sync as successful if the repository does not exist. While it's OK for the majority of the cases it does not take into account some possible problems with NFS servers availability.\n\nTo make more precise decisions we could make use of repository checksum. If one exists but the repo doesn't, it's an indicator that something is wrong with the infrastructure.\n\n\nBlocked by https://gitlab.com/gitlab-org/gitlab-ee/merge_requests/4749\n\n/cc @mkozono","state":"closed","created_at":"2018-02-28T09:24:08.104Z","updated_at":"2020-01-21T19:02:23.285Z","closed_at":"2019-04-05T18:28:26.910Z","closed_by":{"id":15139,"username":"rspeicher","name":"Robert Speicher","state":"active","avatar_url":"https://secure.gravatar.com/avatar/73c8253932541a7b5cbc5d79493f2bea?s=80\u0026d=identicon","web_url":"https://gitlab.com/rspeicher"},"labels":["Category:Geo Replication","Enterprise Edition","devops::systems","group::geo","workflow::in review"],"milestone":{"id":655279,"iid":27,"group_id":9970,"title":"11.10","description":"","state":"closed","created_at":"2018-09-21T19:08:16.261Z","updated_at":"2019-05-21T09:17:49.051Z","due_date":"2019-04-22","start_date":"2019-03-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/27"},"assignees":[{"id":59678,"username":"vsizov","name":"Valery Sizov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/59678/avatar.png","web_url":"https://gitlab.com/vsizov"}],"author":{"id":59678,"username":"vsizov","name":"Valery Sizov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/59678/avatar.png","web_url":"https://gitlab.com/vsizov"},"type":"ISSUE","assignee":{"id":59678,"username":"vsizov","name":"Valery Sizov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/59678/avatar.png","web_url":"https://gitlab.com/vsizov"},"user_notes_count":5,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/5067","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/5067","notes":"https://gitlab.com/api/v4/projects/278964/issues/5067/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/5067/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#5067","relative":"#5067","full":"gitlab-org/gitlab#5067"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":1529,"epic":{"id":8648,"iid":1529,"title":"Geo: Status report","url":"/groups/gitlab-org/-/epics/1529","group_id":9970,"human_readable_end_date":"Dec 17, 2019","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":9460984,"iid":5058,"project_id":278964,"title":"Sync GitLab.com users with SFDC as technical contacts","description":"### Description\n\nFrom @lbot in [this](https://gitlab.com/gitlab-com/customers-gitlab-com/issues/168#note_45238015) issue: \n\n\u003e \"When we add users to a group, we need those users to be added to SFDC so that we can sync them to ZD and they can open support tickets. If not, _**only**_ the original creator can open tickets for the group and get a proper SLA. This is proving to be a challenge right now in support leading to horrible experience.\"\n\n### Proposal\n\nWhen users are added or removed from an existing GitLab.com group, sync these changes with SFDC.\n\n* Check if the new group member being added or deleted belongs to a Group with a GitLab.com plan.\n* If the previous condition is valid then make an API call to the subscription portal.\n* The subscription portal will lookup the Salesforce account ID from the Customer record and finally create or delete the object on Salesforce.\n  * Users should be added to the associated SFDC contact with a \"technical contact\" flag.\n\n### Links / references\n\n* Original issue this was broken out from: https://gitlab.com/gitlab-com/customers-gitlab-com/issues/168#note_45238015","state":"closed","created_at":"2018-02-27T02:47:07.018Z","updated_at":"2019-08-12T15:39:46.257Z","closed_at":"2018-05-30T22:37:03.988Z","closed_by":{"id":280339,"username":"rdavila","name":"Rubén Dávila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/280339/avatar.png","web_url":"https://gitlab.com/rdavila"},"labels":["Enterprise Edition","Stretch","backend","gitlab.com","support request","type::feature","workflow::in review"],"milestone":{"id":362887,"iid":5,"group_id":9970,"title":"11.0","description":"https://about.gitlab.com/releases/2018/06/22/gitlab-11-0-released","state":"closed","created_at":"2017-08-22T11:26:37.313Z","updated_at":"2020-04-27T16:31:06.794Z","due_date":"2018-06-22","start_date":"2018-05-07","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/5"},"assignees":[{"id":280339,"username":"rdavila","name":"Rubén Dávila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/280339/avatar.png","web_url":"https://gitlab.com/rdavila"}],"author":{"id":1086520,"username":"jeremy-gl","name":"Jeremy Watson (ex-GitLab)","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1086520/avatar.png","web_url":"https://gitlab.com/jeremy-gl"},"type":"ISSUE","assignee":{"id":280339,"username":"rdavila","name":"Rubén Dávila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/280339/avatar.png","web_url":"https://gitlab.com/rdavila"},"user_notes_count":26,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/5058","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/5058","notes":"https://gitlab.com/api/v4/projects/278964/issues/5058/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/5058/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#5058","relative":"#5058","full":"gitlab-org/gitlab#5058"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":79,"epic":{"id":146,"iid":79,"title":"Eliminating some manual lifting in our support, reseller, and SFDC data management workflows","url":"/groups/gitlab-org/-/epics/79","group_id":9970,"human_readable_end_date":"May 22, 2018","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":10212939,"iid":5596,"project_id":278964,"title":"Two relations to one issue is possible","description":"### Summary\n\nIt's possible to mark an issue as related to another twice\n\n### Steps to reproduce\n\n- Create a new project\n- Create a new issue, `IssueA`\n- Create a new issue, `IssueB`\n- Navigate to `IssueA`\n- Add a related issue for `IssueB`\n- Navigate to `IssueB`\n- Add a related issue for `IssueA`\n- Notice that both issues now have two related issues to the other\n\n### Example Project\n\n- https://gitlab.com/issue-reproduce/issue-relations/issues/1\n\n### What is the current *bug* behavior?\n\nBoth issues have two related issues associations\n\nNote that it's not possible to mark add the same related issue twice in the same issue. E.g. Add a related issue for `IssueA` to `IssueB` and then try to do it again\n\n### What is the expected *correct* behavior?\n\nOnly one relationship appears\n\n### Relevant logs and/or screenshots\n\n### Output of checks\n\ngitlab-ce~3293941 `v10.5.0`\n\n#### Results of GitLab application Check\n\ngitlab-ce~3293941 `v10.5.0`\n\n### Possible fixes","state":"closed","created_at":"2018-02-26T20:12:34.981Z","updated_at":"2022-05-19T16:38:34.625Z","closed_at":"2018-05-31T17:27:13.817Z","closed_by":{"id":711023,"username":"victorwu","name":"Victor Wu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/711023/avatar.png","web_url":"https://gitlab.com/victorwu"},"labels":["Enterprise Edition","[deprecated] Accepting merge requests","backend","devops::plan","issues","reproduced on GitLab.com","type::bug"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":419655,"username":"markglenfletcher","name":"Mark Fletcher","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/419655/avatar.png","web_url":"https://gitlab.com/markglenfletcher"},"type":"ISSUE","assignee":null,"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/5596","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/5596","notes":"https://gitlab.com/api/v4/projects/278964/issues/5596/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/5596/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#5596","relative":"#5596","full":"gitlab-org/gitlab#5596"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":9455223,"iid":5055,"project_id":278964,"title":"Unable to click issue links in Epic list.","description":"### Summary\n\nUsing Chrome, on Windows, I'm unable to reliable navigate to issues listed in an Epic.\n\n### Steps to reproduce\n\n1) View Epic List in Chrome (64.0.3282.186) on Windows 10.\n![image](/uploads/c3a6232896fa03f15ecb5b32b70bfb5c/image.png)\n\n2) Click On Link\n![image](/uploads/211cde17a2b63e75d8dce5d510262554/image.png)\n\n### Example Project\n\n### What is the current *bug* behavior?\n\nClicking the link just shows the hand cursor for a moment (indicating drag attempt).  This does not occur on Microsoft Edge or Firefox browsers.\n\n### What is the expected *correct* behavior?\n\nI expect to navigate to the issue linked.\n\n### Relevant logs and/or screenshots\n\n### Output of checks\n\n#### Results of GitLab environment info\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to GitLab environment info\u003c/summary\u003e\nSystem information\nSystem:         Ubuntu 16.04\nProxy:          no\nCurrent User:   git\nUsing RVM:      no\nRuby Version:   2.3.6p384\nGem Version:    2.6.13\nBundler Version:1.13.7\nRake Version:   12.3.0\nRedis Version:  3.2.11\nGit Version:    2.14.3\nSidekiq Version:5.0.5\nGo Version:     unknown\n\nGitLab information\nVersion:        10.5.1-ee\nRevision:       f1e14d0\nDirectory:      /opt/gitlab/embedded/service/gitlab-rails\nDB Adapter:     postgresql\nDB Version:     9.6.5\nURL:            https://gitlab.spacerouter.net\nHTTP Clone URL: https://gitlab.spacerouter.net/some-group/some-project.git\nSSH Clone URL:  git@gitlab.spacerouter.net:some-group/some-project.git\nElasticsearch:  no\nGeo:            no\nUsing LDAP:     no\nUsing Omniauth: yes\nOmniauth Providers: google_oauth2\n\nGitLab Shell\nVersion:        6.0.3\nRepository storage paths:\n- default:      /var/opt/gitlab/git-data/repositories\nHooks:          /opt/gitlab/embedded/service/gitlab-shell/hooks\nGit:            /opt/gitlab/embedded/bin/git\n\u003c/details\u003e\n\n#### Results of GitLab application Check\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to the GitLab application check\u003c/summary\u003e\nChecking GitLab Shell ...\n\nGitLab Shell version \u003e= 6.0.3 ? ... OK (6.0.3)\nRepo base directory exists?\ndefault... yes\nRepo storage directories are symlinks?\ndefault... no\nRepo paths owned by git:root, or git:git?\ndefault... yes\nRepo paths access is drwxrws---?\ndefault... yes\nhooks directories in repos are links: ...\n5/2 ... ok\n5/5 ... ok\n5/7 ... repository is empty\n5/8 ... repository is empty\n5/12 ... ok\n5/13 ... ok\n5/15 ... ok\nRunning /opt/gitlab/embedded/service/gitlab-shell/bin/check\nCheck GitLab API access: OK\nRedis available via internal API: OK\n\nAccess to /var/opt/gitlab/.ssh/authorized_keys: OK\ngitlab-shell self-check successful\n\nChecking GitLab Shell ... Finished\n\nChecking Sidekiq ...\n\nRunning? ... yes\nNumber of Sidekiq processes ... 1\n\nChecking Sidekiq ... Finished\n\nChecking Reply by email ...\n\nIMAP server credentials are correct? ... yes\nInit.d configured correctly? ... skipped\nMailRoom running? ... skipped\n\nChecking Reply by email ... Finished\n\nChecking LDAP ...\n\nLDAP is disabled in config/gitlab.yml\n\nChecking LDAP ... Finished\n\nChecking GitLab ...\n\nGit configured correctly? ... yes\nDatabase config exists? ... yes\nAll migrations up? ... yes\nDatabase contains orphaned GroupMembers? ... no\nGitLab config exists? ... yes\nGitLab config up to date? ... yes\nLog directory writable? ... yes\nTmp directory writable? ... yes\nUploads directory exists? ... yes\nUploads directory has correct permissions? ... yes\nUploads directory tmp has correct permissions? ... yes\nInit script exists? ... skipped (omnibus-gitlab has no init script)\nInit script up-to-date? ... skipped (omnibus-gitlab has no init script)\nProjects have namespace: ...\n5/2 ... yes\n5/5 ... yes\n5/7 ... yes\n5/8 ... yes\n5/12 ... yes\n5/13 ... yes\n5/15 ... yes\nRedis version \u003e= 2.8.0? ... yes\nRuby version \u003e= 2.3.5 ? ... yes (2.3.6)\nGit version \u003e= 2.9.5 ? ... yes (2.14.3)\nGit user has default SSH configuration? ... yes\nActive users: ... 20\nElasticsearch version 5.1 - 5.5? ... skipped (elasticsearch is disabled)\n\nChecking GitLab ... Finished\n\u003c/details\u003e\n\n### Possible fixes","state":"closed","created_at":"2018-02-26T18:15:46.601Z","updated_at":"2022-05-19T16:38:34.053Z","closed_at":"2020-05-18T13:18:22.844Z","closed_by":{"id":3507264,"username":"donaldcook","name":"Donald Cook","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3507264/avatar.png","web_url":"https://gitlab.com/donaldcook"},"labels":["Category:Portfolio Management","Enterprise Edition","[deprecated] Accepting merge requests","awaiting feedback","default-priority","default-severity","devops::plan","epics","frontend","group::product planning","priority::3","priority::4","severity::3","type::bug"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":1625551,"username":"snichols326","name":"Stephen Nichols","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1625551/avatar.png","web_url":"https://gitlab.com/snichols326"},"type":"ISSUE","assignee":null,"user_notes_count":31,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/5055","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/5055","notes":"https://gitlab.com/api/v4/projects/278964/issues/5055/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/5055/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#5055","relative":"#5055","full":"gitlab-org/gitlab#5055"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":9411789,"iid":5035,"project_id":278964,"title":"`RepositoryUpdateMirrorWorker` are overeager to schedule new `UpdateAllMirrorsWorker`s","description":"If there is a lot of capacity, `RepositoryUpdateMirrorWorker`s will schedule new `UpdateAllMirrorsWorker`s every 2 seconds until we catch up with capacity, which is excessive, because catching up may take a while (or may never happen). They could also check `UpdateAllMirrorsWorker`'s lease to know if a new one is needed. Or it may make more sense for `UpdateAllMirrorsWorker` to schedule another one of itself if it detects leftover capacity.\n\nThis is not necessarily a problem because we already use a lease to ensure only one `UpdateAllMirrorsWorker` is running at a time, but we can tone it down a little.\n\n/cc @tiagonbotelho","state":"closed","created_at":"2018-02-23T12:34:24.373Z","updated_at":"2019-08-12T15:40:07.077Z","closed_at":"2019-05-31T10:51:08.929Z","closed_by":{"id":87854,"username":"DouweM","name":"Douwe Maan","state":"active","avatar_url":"https://secure.gravatar.com/avatar/73d1548ae618321220679b3a4fda7fb1?s=80\u0026d=identicon","web_url":"https://gitlab.com/DouweM"},"labels":["Create [DEPRECATED]","Enterprise Edition","backend","devops::create","maintenance::refactor","mirror","priority::2"],"milestone":{"id":693518,"iid":33,"group_id":9970,"title":"12.0","description":"https://about.gitlab.com/releases/2019/06/22/gitlab-12-0-released/","state":"closed","created_at":"2018-10-30T16:47:37.975Z","updated_at":"2020-04-22T19:51:03.475Z","due_date":"2019-06-22","start_date":"2019-05-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/33"},"assignees":[{"id":1562869,"username":"abrandl","name":"Andreas Brandl","state":"active","avatar_url":"https://secure.gravatar.com/avatar/487c4c74f7e1714b5a270e00d4735e84?s=80\u0026d=identicon","web_url":"https://gitlab.com/abrandl"}],"author":{"id":87854,"username":"DouweM","name":"Douwe Maan","state":"active","avatar_url":"https://secure.gravatar.com/avatar/73d1548ae618321220679b3a4fda7fb1?s=80\u0026d=identicon","web_url":"https://gitlab.com/DouweM"},"type":"ISSUE","assignee":{"id":1562869,"username":"abrandl","name":"Andreas Brandl","state":"active","avatar_url":"https://secure.gravatar.com/avatar/487c4c74f7e1714b5a270e00d4735e84?s=80\u0026d=identicon","web_url":"https://gitlab.com/abrandl"},"user_notes_count":2,"merge_requests_count":2,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/5035","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/5035","notes":"https://gitlab.com/api/v4/projects/278964/issues/5035/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/5035/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#5035","relative":"#5035","full":"gitlab-org/gitlab#5035"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":9402110,"iid":5023,"project_id":278964,"title":"Add system header and footer","description":"Large organizations that store confidential information like trade secrets in their GitLab instance frequently want to have a permanently present header and footer to make sure that all staff are always aware of this.\n\n### Design\n\n- Add new system header and footer option to the instance appearance configurations\n  - system header\n  - system footer\n  - background color (note: make sure this is in sentence case)\n  - text color (note: make sure this is in sentence case)\n- Should follow same styling as flash banner messages\n- The header, or footer, or both can be set in any combination.\n- If the header is enabled, the header should always (sticky) be visible in the viewport and above the top nav\n- If the footer is enabled, the footer should always (Sticky) be visible at the bottom of the viewport\n- Banners are non-dismissable\n- There should be a template text stating: `State your message to activate`\n\n\n| Admin | User |\n|-------|------|\n| ![Artboard](https://gitlab.com/gitlab-org/gitlab-ee/uploads/be683aa1c78c37d45c425c45dd8eb0fe/Artboard.png) | ![Artboard_2](https://gitlab.com/gitlab-org/gitlab-ee/uploads/3fdb09d4ed94c0c8e99217a198911cf6/Artboard_2.png) |","state":"closed","created_at":"2018-02-22T18:16:39.723Z","updated_at":"2019-08-12T15:40:07.921Z","closed_at":"2018-04-02T14:27:12.113Z","closed_by":null,"labels":["Deliverable","Enterprise Edition","GitLab Premium","backend","frontend","settings","workflow::in review"],"milestone":{"id":424944,"iid":9,"group_id":9970,"title":"10.7","description":"","state":"closed","created_at":"2017-12-06T16:45:41.880Z","updated_at":"2018-05-11T15:04:03.492Z","due_date":"2018-04-22","start_date":"2018-03-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/9"},"assignees":[{"id":117638,"username":"tiagonbotelho","name":"Tiago Botelho","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/117638/avatar.png","web_url":"https://gitlab.com/tiagonbotelho"},{"id":489558,"username":"dimitrieh","name":"Dimitrie Hoekstra","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/489558/avatar.png","web_url":"https://gitlab.com/dimitrieh"},{"id":853414,"username":"andr3","name":"André Luís","state":"active","avatar_url":"https://secure.gravatar.com/avatar/241e39726efb512a29621070ccf26a90?s=80\u0026d=identicon","web_url":"https://gitlab.com/andr3"}],"author":{"id":1187333,"username":"jramsay-gitlab","name":"James Ramsay (ex-GitLab)","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1187333/avatar.png","web_url":"https://gitlab.com/jramsay-gitlab"},"type":"ISSUE","assignee":{"id":117638,"username":"tiagonbotelho","name":"Tiago Botelho","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/117638/avatar.png","web_url":"https://gitlab.com/tiagonbotelho"},"user_notes_count":14,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/5023","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/5023","notes":"https://gitlab.com/api/v4/projects/278964/issues/5023/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/5023/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#5023","relative":"#5023","full":"gitlab-org/gitlab#5023"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":9383713,"iid":5016,"project_id":278964,"title":"Allow a user to unlink their GitLab.com account from their SAML identity","description":"### Description\n\nThis issue is related to the ongoing SSO work for GitLab.com :rocket:\n\nUsers should have control over their GitLab.com accounts; if a user is no longer affiliated with an organization or feels uncomfortable having their account affiliated with an identity provider, a user should be able to undo this link.\n\n### Proposal\n\n* A user should be able to unlink their account from an affiliated identity provider.\n  * If a user takes this action, she/he should be removed from the affiliated group. The user should be aware of this before they take this step.\n\n### Links / references","state":"closed","created_at":"2018-02-22T03:32:45.591Z","updated_at":"2020-07-08T22:51:37.112Z","closed_at":"2018-12-04T16:00:44.539Z","closed_by":{"id":443319,"username":"smcgivern","name":"Sean McGivern","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/443319/avatar.png","web_url":"https://gitlab.com/smcgivern"},"labels":["Enterprise Edition","Manage [DEPRECATED]","UX","authentication","backend","devops::manage","gitlab.com","saml","type::feature"],"milestone":{"id":427853,"iid":10,"group_id":9970,"title":"Next 3-4 releases","description":"Bigger issues we plan to ship in the next 3-4 releases, but don't have a designated release yet. \r\n\r\n\u003e \"An easy way to look at it for me it's translating to months. Since our iterations are 1 month, I look at it as 'within the next 4 months'.\" - @dgruesso [via slack]\r\n\r\nDO NOT add small changes, bugs, regressions to this milestone.","state":"active","created_at":"2017-12-11T16:26:33.141Z","updated_at":"2020-07-14T18:21:29.639Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/10"},"assignees":[{"id":1086520,"username":"jeremy-gl","name":"Jeremy Watson (ex-GitLab)","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1086520/avatar.png","web_url":"https://gitlab.com/jeremy-gl"}],"author":{"id":1086520,"username":"jeremy-gl","name":"Jeremy Watson (ex-GitLab)","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1086520/avatar.png","web_url":"https://gitlab.com/jeremy-gl"},"type":"ISSUE","assignee":{"id":1086520,"username":"jeremy-gl","name":"Jeremy Watson (ex-GitLab)","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1086520/avatar.png","web_url":"https://gitlab.com/jeremy-gl"},"user_notes_count":6,"merge_requests_count":3,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/5016","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/5016","notes":"https://gitlab.com/api/v4/projects/278964/issues/5016/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/5016/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#5016","relative":"#5016","full":"gitlab-org/gitlab#5016"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":96,"epic":{"id":166,"iid":96,"title":"Improved user controls for group-level SSO members","url":"/groups/gitlab-org/-/epics/96","group_id":9970,"human_readable_end_date":"Feb 22, 2019","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":9383682,"iid":5015,"project_id":278964,"title":"Force GitLab.com SAML users to reauthenticate after timeout","description":"### Description\n\nThis issue is related to the ongoing SSO work for GitLab.com :rocket:\n\nIn order to verify that a user is still present on their organization's identity provider, we need to require the user to reauthorize every so often when they attempt to access the affiliated group. If the user fails their LDAP handshake and isn't on the IdP, we can prevent access to potentially sensitive information (in the case that an employee was let go/contract expired and that member was removed from an organization at the IdP, for example).\n\n### Proposal\n* If a user has not reauthorized with their identity provider for 24 hours, route the user to the identity provider URL.\n  * This reauthorization request should trigger if the user attempts to access any resource nested in the group.\n\n### QA edge cases\n\n- Web access: System notes for confidential issues should not be visible when cross-mentioning/linking issues\n- Web access: Some pages might use different controller and be visible despite the user’s access having expired\n- Email notifications: if the group or project are not private and issues/merge requests are visible to everyone, the user should still receive notifications\n\n### Links / references","state":"closed","created_at":"2018-02-22T03:27:05.936Z","updated_at":"2020-05-07T21:57:57.318Z","closed_at":"2020-05-07T21:57:57.253Z","closed_by":{"id":3717078,"username":"cablett","name":"charlie ablett","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3717078/avatar.png","web_url":"https://gitlab.com/cablett"},"labels":["Enterprise Edition","Manage [DEPRECATED]","UX","backend","customer","customer+","devops::manage","gitlab.com","group::authentication and authorization","missed-deliverable","saml","type::feature"],"milestone":null,"assignees":[{"id":654619,"username":"jamedjo","name":"James Edwards-Jones","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/654619/avatar.png","web_url":"https://gitlab.com/jamedjo"}],"author":{"id":1086520,"username":"jeremy-gl","name":"Jeremy Watson (ex-GitLab)","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1086520/avatar.png","web_url":"https://gitlab.com/jeremy-gl"},"type":"ISSUE","assignee":{"id":654619,"username":"jamedjo","name":"James Edwards-Jones","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/654619/avatar.png","web_url":"https://gitlab.com/jamedjo"},"user_notes_count":16,"merge_requests_count":1,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/5015","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":4,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/5015","notes":"https://gitlab.com/api/v4/projects/278964/issues/5015/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/5015/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#5015","relative":"#5015","full":"gitlab-org/gitlab#5015"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":319,"epic":{"id":843,"iid":319,"title":"Secure Group SAML without SCIM","url":"/groups/gitlab-org/-/epics/319","group_id":9970,"human_readable_end_date":"Apr 22, 2019","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":9383388,"iid":5014,"project_id":278964,"title":"Automatically deprovision users when removed from a configured identity provider","description":"### Description\n\n#### Problem\nThis issue is related to the ongoing SSO work for GitLab.com 🚀\n\nAfter an employee leaves a company, we need to ensure they're not still a member of the group they previously used their SAML login with. This needs to happen immediately or else the employee might still be within the grace period and access notifications, SSH, API, etc.\n\nAs a secondary effect, if we don't remove them from the group, they'll continue to show up in the Members list.\n\n### Proposal\n\nWe should use [SCIM 2.0](http://www.simplecloud.info/) to enable provisioning and deprovisioning when users are removed from identity providers that support the SCIM protocol. We're [investigating](https://gitlab.com/gitlab-org/gitlab-ee/issues/7343) this here.\n\n* If a user is removed from the IdP, they should be immediately removed from the associated groups in GitLab.\n  * No longer in Members of the associated group.\n  * If a user logs into their GitLab.com account, they should not be able to access the group.\n\nPotential Edge cases:\n* After being removed from a group, it should be possible for a GitLab user to link different SAML credentials to that same GitLab group\n* After being removed from a group, it should be possible to link a different GitLab user with the previous SAML identity provider credentials in that same GitLab group\n\n### Links / references\n\n* [GitHub](https://developer.github.com/v3/scim/#remove-a-user-from-the-organization)","state":"closed","created_at":"2018-02-22T02:32:45.303Z","updated_at":"2019-08-12T15:40:08.802Z","closed_at":"2019-03-26T15:43:54.942Z","closed_by":{"id":423915,"username":"godfat","name":"Lin Jen-Shin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/8c73dab2ecd23d5b5627a0235ae2f9b1?s=80\u0026d=identicon","web_url":"https://gitlab.com/godfat"},"labels":["Deliverable","Enterprise Edition","Manage [DEPRECATED]","authentication","backend","devops::manage","direction","gitlab.com","missed-deliverable","missed:11.9","priority::1","release post item","saml","type::feature","workflow::in dev","workflow::in review"],"milestone":{"id":655279,"iid":27,"group_id":9970,"title":"11.10","description":"","state":"closed","created_at":"2018-09-21T19:08:16.261Z","updated_at":"2019-05-21T09:17:49.051Z","due_date":"2019-04-22","start_date":"2019-03-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/27"},"assignees":[{"id":273486,"username":"jameslopez","name":"James Lopez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/273486/avatar.png","web_url":"https://gitlab.com/jameslopez"}],"author":{"id":1086520,"username":"jeremy-gl","name":"Jeremy Watson (ex-GitLab)","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1086520/avatar.png","web_url":"https://gitlab.com/jeremy-gl"},"type":"ISSUE","assignee":{"id":273486,"username":"jameslopez","name":"James Lopez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/273486/avatar.png","web_url":"https://gitlab.com/jameslopez"},"user_notes_count":41,"merge_requests_count":1,"upvotes":9,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/5014","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/5014","notes":"https://gitlab.com/api/v4/projects/278964/issues/5014/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/5014/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#5014","relative":"#5014","full":"gitlab-org/gitlab#5014"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":95,"epic":{"id":165,"iid":95,"title":"Automated member management for SSO-enabled groups","url":"/groups/gitlab-org/-/epics/95","group_id":9970,"human_readable_end_date":"Apr 22, 2019","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":24661485,"iid":21243,"project_id":278964,"title":"Configure default names for branches created from issues","description":"### Release notes\nYou can now define a name template for branches created from issues. Previously, it was set to `{issue ID}-{issue-title-hyphenated}`, which continues to be the default. To define your own template go to Repository Settings \u003e Branch defaults. \n\n![image](/uploads/86cb11729445108a23352812f0a2c8a1/image.png)\n\n### Description\n\nProblem:\nCurrently, the \"Create Merge Request\" only supports the default issue template of `{issue number}-{issue-name-hyphenated}`\n\nThe creation of branches has become a heavily utilized feature for us, but we are unable to change the default template for branch creation, and we use the convention of `{project acronym}-{issue number}` for our projects, e.g. `SP-3`\n\n### Proposal\n\nIn the project configuration screen, add an option for the default template for branch creation, including injectable parameters for issue name, issue number, and hard-coded strings or text.\n\n### Links / references\n\n![Capture](/uploads/2d64683a2ccb07d7a9b7b0974295fec1/Capture.PNG)\n\n## Customers\n| customer | contact |\n| -------- | ------- |\n| https://gitlab.zendesk.com/agent/tickets/294216 | @dannyjb |\n| https://gitlab.my.salesforce.com/0064M00000Z6slH | @dzalbo |\n| https://gitlab.my.salesforce.com/0016100001cssuqAAA | @dnldnz |\n| https://gitlab.my.salesforce.com/0064M00000YNVaN?srPos=0\u0026srKp=006 | @jrandazzo |","state":"closed","created_at":"2018-02-22T00:03:59.544Z","updated_at":"2022-12-20T22:59:10.833Z","closed_at":"2022-11-18T09:54:10.917Z","closed_by":{"id":10822493,"username":"tlinz","name":"Torsten Linz","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10822493/avatar.png","web_url":"https://gitlab.com/tlinz"},"labels":["Category:Source Code Management","Deliverable","GitLab Core","GitLab Premium","GitLab Ultimate","SCM QoL","Technical Writing","backend","competitive","customer","devops::create","documentation","group::source code","issues","release post item::in review","repository","section::dev","settings","type::feature","workflow::production"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":12640917,"username":"jpcyiza","name":"Patrick Cyiza","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12640917/avatar.png","web_url":"https://gitlab.com/jpcyiza"}],"author":{"id":2043079,"username":"megaflygaming","name":"Jon","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d03129a5fa491bb38db80c4d998c24bf?s=80\u0026d=identicon","web_url":"https://gitlab.com/megaflygaming"},"type":"ISSUE","assignee":{"id":12640917,"username":"jpcyiza","name":"Patrick Cyiza","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12640917/avatar.png","web_url":"https://gitlab.com/jpcyiza"},"user_notes_count":63,"merge_requests_count":0,"upvotes":100,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/21243","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/21243","notes":"https://gitlab.com/api/v4/projects/278964/issues/21243/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/21243/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#21243","relative":"#21243","full":"gitlab-org/gitlab#21243"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":9339064,"iid":4991,"project_id":278964,"title":"SAST report rendering is broken with long filenames","description":"### Description\n\nIn SAST MR widget, if the filenames are too long, the layout is broken:\n\n\u003cimg src=\"/uploads/36d54fd40c07ea1472d155fd2430dcc2/Screenshot_2018-02-19_15.26.05.png\" width=500px\u003e\n\n([source](https://gitlab.com/Flockademic/Flockademic/merge_requests/596))\n\nWe should truncate filenames, or let the user scroll horizontally (suggestions).\n\n### Proposal\n\n- If all the components of the row can fit in one line, they should be displayed in one line\n- If all the components can't fit in one line, items should be moved to the line below, starting from the right\n- If an individual string is too long and can't fit in one line by itself, it should be moved to its own row and wrap\n- The icon and the first string should always be on the same line\n- When a string is moved down, it should be indented so it is aligned with the first line, not the icon\n- Auxiliary words like should be displayed on the same line as the element they complement. For example, when wrapping is neccesary `Vulnerability *in* path` should become\n\n```\nVulnerability\n*in* path\n```\n\nAttached are [examples](/uploads/bede834af1c6739b3ec49cf91b6febfd/Artboard.png) of what each type of report should look like when their strings are too long to fit in one line.\n\n\n/cc @bikebilly \u0026 @filipa","state":"closed","created_at":"2018-02-19T20:27:49.984Z","updated_at":"2019-11-18T17:30:46.322Z","closed_at":"2018-03-01T09:02:37.999Z","closed_by":null,"labels":["Enterprise Edition","devops::secure","frontend","type::bug"],"milestone":{"id":416486,"iid":8,"group_id":9970,"title":"10.6","description":"https://about.gitlab.com/releases/2018/03/22/gitlab-10-6-released","state":"closed","created_at":"2017-11-21T20:05:35.697Z","updated_at":"2020-04-27T16:30:32.220Z","due_date":"2018-03-22","start_date":"2018-02-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/8"},"assignees":[],"author":{"id":30915,"username":"plafoucriere","name":"Philippe Lafoucrière","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/30915/avatar.png","web_url":"https://gitlab.com/plafoucriere"},"type":"ISSUE","assignee":null,"user_notes_count":32,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/4991","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":4,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/4991","notes":"https://gitlab.com/api/v4/projects/278964/issues/4991/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/4991/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#4991","relative":"#4991","full":"gitlab-org/gitlab#4991"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":9338959,"iid":4990,"project_id":278964,"title":"Group-SAML adds users to group upon linking identity","description":"## What\n\nUsers should be given Guest access to the group when they sign in to Group level SAML as part of https://gitlab.com/groups/gitlab-org/-/epics/40\n\n## Why\n\nI've split this from https://gitlab.com/gitlab-org/gitlab-ee/issues/4514 for discussion and in case I want to get that into review earlier, but might impement it in the same MR\n\n## Related\n\n- https://gitlab.com/groups/gitlab-org/-/epics/40\n- https://gitlab.com/gitlab-org/gitlab-ee/issues/4513\n- https://gitlab.com/gitlab-org/gitlab-ee/merge_requests/4076","state":"closed","created_at":"2018-02-19T20:17:56.292Z","updated_at":"2019-08-12T15:40:10.730Z","closed_at":"2018-05-08T18:16:18.453Z","closed_by":{"id":654619,"username":"jamedjo","name":"James Edwards-Jones","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/654619/avatar.png","web_url":"https://gitlab.com/jamedjo"},"labels":["Deliverable","Enterprise Edition","GitLab Premium","authentication","backend","gitlab.com","saml","workflow::in dev"],"milestone":{"id":424944,"iid":9,"group_id":9970,"title":"10.7","description":"","state":"closed","created_at":"2017-12-06T16:45:41.880Z","updated_at":"2018-05-11T15:04:03.492Z","due_date":"2018-04-22","start_date":"2018-03-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/9"},"assignees":[{"id":654619,"username":"jamedjo","name":"James Edwards-Jones","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/654619/avatar.png","web_url":"https://gitlab.com/jamedjo"}],"author":{"id":654619,"username":"jamedjo","name":"James Edwards-Jones","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/654619/avatar.png","web_url":"https://gitlab.com/jamedjo"},"type":"ISSUE","assignee":{"id":654619,"username":"jamedjo","name":"James Edwards-Jones","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/654619/avatar.png","web_url":"https://gitlab.com/jamedjo"},"user_notes_count":9,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/4990","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/4990","notes":"https://gitlab.com/api/v4/projects/278964/issues/4990/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/4990/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#4990","relative":"#4990","full":"gitlab-org/gitlab#4990"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":40,"epic":{"id":85,"iid":40,"title":"Basic group-level SSO for GitLab.com (SAML)","url":"/groups/gitlab-org/-/epics/40","group_id":9970,"human_readable_end_date":"Jun 22, 2018","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":9304968,"iid":4966,"project_id":278964,"title":"Enhance usability of \"Visit the primary node\" links on secondary nodes","description":"### Description\r\n\r\nWhen you're on a page on the secondary, e.g. an issue, and you'd like to comment on that issue, you cannot easily visit the exact same page on the primary node. You'll have to press the \"Go to primary node\" button in the top navigation to visit the primary, and there browse to the same issue again.\r\n\r\nThe current \"primary node\" message and related link does not provide value to users exploring the secondary node UI.  \r\nIf I experience a read-only error, I want to get direct access provided to this actual page on the primary instance.\r\n\r\n![Screen_Shot_2018-05-07_at_2.29.29_PM](/uploads/6c98c4c55351a74784bee99238798640/Screen_Shot_2018-05-07_at_2.29.29_PM.png)\r\n\r\n### Proposal\r\n\r\n**Original**\r\n\u003cdetails\u003e\r\nAs an intermediate step toward gitlab-org/gitlab-ee#3764, it would be nice if the \"Go to primary node\" in the top nav would contain the link to the exact same page on the primary.\r\n\r\nWe changing the link should happen (partly) on the frontend, because the `#` anchor link to a specific comment should be retained.\r\n\u003c/details\u003e\r\n\r\n\r\n**Modified**\r\n\r\n![image](/uploads/d85d000c8b83800ce0d754e815dcded6/image.png)\r\n\r\nWe're changing the link in the broadcast message to the matching page in the primary node but keeping the icon link in the nav bar directed at the primary node homepage.\r\n\r\nWe're introducing a small change to the broadcast message (marked with *italics*): \"You are on a secondary, **read-only** Geo node. If you want to make changes you must visit *this page* on the [primary node]().\"\r\n\r\nKeep in mind that the position of the broadcast message may change to being on top of the navbar once we start to look at [standardising them](https://gitlab.com/gitlab-org/gitlab-design/issues/156).\r\n\r\nWe're also changing the styling of the broadcast message so it doesn't look like an alert but more like conveniently-placed helpful information instead.\r\n\r\nStyle changes introduced:\r\n- bacgkround color is `$blue-100` (works well with all nav bar colors)\r\n- text color is our primary style\r\n- remove the link underlining and change the color to our anchor text color \r\n\r\n### Links / references\r\n","state":"closed","created_at":"2018-02-16T15:58:56.715Z","updated_at":"2019-12-11T20:07:41.983Z","closed_at":"2018-06-18T18:05:07.677Z","closed_by":{"id":201566,"username":"annabeldunstone","name":"Annabel Dunstone Gray","state":"active","avatar_url":"https://secure.gravatar.com/avatar/85c0203926134720f9a9aa8c6e264c78?s=80\u0026d=identicon","web_url":"https://gitlab.com/annabeldunstone"},"labels":["Deliverable","Enterprise Edition","UX","devops::systems","frontend","group::geo","release post item","type::feature","workflow::in dev"],"milestone":{"id":450583,"iid":13,"group_id":9970,"title":"11.1","description":"","state":"closed","created_at":"2018-01-23T21:40:27.318Z","updated_at":"2018-11-06T19:17:01.295Z","due_date":"2018-07-22","start_date":"2018-06-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/13"},"assignees":[{"id":411701,"username":"kushalpandya","name":"Kushal Pandya","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/411701/avatar.png","web_url":"https://gitlab.com/kushalpandya"},{"id":1859215,"username":"matejlatin","name":"Matej Latin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1859215/avatar.png","web_url":"https://gitlab.com/matejlatin"}],"author":{"id":660180,"username":"toon","name":"Toon Claes","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/660180/avatar.png","web_url":"https://gitlab.com/toon"},"type":"ISSUE","assignee":{"id":411701,"username":"kushalpandya","name":"Kushal Pandya","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/411701/avatar.png","web_url":"https://gitlab.com/kushalpandya"},"user_notes_count":24,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/4966","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/4966","notes":"https://gitlab.com/api/v4/projects/278964/issues/4966/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/4966/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#4966","relative":"#4966","full":"gitlab-org/gitlab#4966"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":24661372,"iid":21182,"project_id":278964,"title":"Invalid Environment Not Being Created Should Be Surfaced To User","description":"### Description\n\nWhen an environment cannot be created it should fail the whole pipeline creation and surface the errors to the user. Right now they see failed jobs with no information about what went wrong (eg. gitlab-ce#43196 )\n\n### Proposal\n\nForce the failure of the pipeline job that creates the environment if the environment name is invalid, and display an error in the job log page:\n\n![image](/uploads/0790dd95e7d773c2d68add136f205920/image.png)\n\n\u003e This job could not be executed because it would create an environment with an invalid name. [See documentation](https://docs.gitlab.com/ee/ci/yaml/index.html#environmentname)\n\nDocumentation link: \u003chttps://docs.gitlab.com/ee/ci/yaml/index.html#environmentname\u003e\n\n\u003cdetails\u003e\n  \u003csummary\u003e\n    Original proposal :point_down: \n  \u003c/summary\u003e\n  \n  ---\n  \n  For example one way to create a job with an invalid environment is to create a name that is longer than 255 characters like [this build](https://gitlab.com/DylanGriffith/bad-environnment/-/jobs/52882833). Ideally this should not even run the build (or create a pipeline) it should just show an errors as though they had an invalid `.gitlab-ci.yml` otherwise this can cause confusing downstream errors as you can see in the build output the `CI_ENVIRONMENT_SLUG` is not assigned a value and it should be.\n\n\u003c/details\u003e\n\n### Links / references\n\nhttps://gitlab.com/gitlab-org/gitlab-ce/issues/43196#note_59275652","state":"closed","created_at":"2018-02-15T22:50:54.127Z","updated_at":"2022-10-07T23:19:06.995Z","closed_at":"2021-11-01T03:37:00.079Z","closed_by":{"id":758045,"username":"shinya.maeda","name":"Shinya Maeda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/758045/avatar.png","web_url":"https://gitlab.com/shinya.maeda"},"labels":["Category:Release Orchestration","Release::P2","backend","cicd::active","devops::release","environments","group::release","missed:14.3","priority::4","section::ops","severity::4","type::bug","workflow::verification"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":758045,"username":"shinya.maeda","name":"Shinya Maeda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/758045/avatar.png","web_url":"https://gitlab.com/shinya.maeda"},{"id":8059235,"username":"dfosco","name":"Daniel Fosco","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8059235/avatar.png","web_url":"https://gitlab.com/dfosco"}],"author":{"id":120073,"username":"DylanGriffith","name":"Dylan Griffith","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/120073/avatar.png","web_url":"https://gitlab.com/DylanGriffith"},"type":"ISSUE","assignee":{"id":758045,"username":"shinya.maeda","name":"Shinya Maeda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/758045/avatar.png","web_url":"https://gitlab.com/shinya.maeda"},"user_notes_count":115,"merge_requests_count":0,"upvotes":3,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/21182","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/21182","notes":"https://gitlab.com/api/v4/projects/278964/issues/21182/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/21182/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#21182","relative":"#21182","full":"gitlab-org/gitlab#21182"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3294,"epic":{"id":53415,"iid":3294,"title":"Environments: Bugs to Fix","url":"/groups/gitlab-org/-/epics/3294","group_id":9970,"human_readable_end_date":"Aug 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":9290730,"iid":4957,"project_id":278964,"title":"ProjectSyncWorker should skip projects that have a broken Gitaly shard","description":"One interesting outcome from https://gitlab.com/gitlab-com/migration/issues/205#note_59228979 is that even though `RepositoryShardSyncWorker` only schedules healthy shards, `ProjectSyncWorker` doesn't pay attention to unhealthy shards. If an event comes from a project on a unhealthy shard, we'll attempt to sync it.\n\nIt's probably best to mark the project as unsynched and skip it.","state":"closed","created_at":"2018-02-15T16:37:10.289Z","updated_at":"2019-12-11T20:07:44.447Z","closed_at":"2018-05-04T14:03:49.457Z","closed_by":{"id":572018,"username":"nick.thomas","name":"Nick Thomas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/572018/avatar.png","web_url":"https://gitlab.com/nick.thomas"},"labels":["Enterprise Edition","Stretch","devops::systems","group::geo","workflow::in review"],"milestone":{"id":445863,"iid":12,"group_id":9970,"title":"10.8","description":"https://about.gitlab.com/releases/2018/05/22/gitlab-10-8-released","state":"closed","created_at":"2018-01-16T17:05:23.570Z","updated_at":"2020-04-27T16:29:56.288Z","due_date":"2018-05-22","start_date":"2018-04-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/12"},"assignees":[{"id":2187482,"username":"ashmckenzie","name":"Ash McKenzie","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2187482/avatar.png","web_url":"https://gitlab.com/ashmckenzie"}],"author":{"id":64248,"username":"stanhu","name":"Stan Hu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/64248/stanhu.jpg","web_url":"https://gitlab.com/stanhu"},"type":"ISSUE","assignee":{"id":2187482,"username":"ashmckenzie","name":"Ash McKenzie","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2187482/avatar.png","web_url":"https://gitlab.com/ashmckenzie"},"user_notes_count":5,"merge_requests_count":4,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/4957","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/4957","notes":"https://gitlab.com/api/v4/projects/278964/issues/4957/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/4957/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#4957","relative":"#4957","full":"gitlab-org/gitlab#4957"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":9282419,"iid":4946,"project_id":278964,"title":"Extract EE specific files/lines for configuration files","description":"\nWe have the following files containing EE specific code. We should move them to ee/\n\n- config/README.md =\u003e https://gitlab.com/gitlab-org/gitlab-ee/merge_requests/14551\n- config/application.rb\n- config/brakeman.ignore (file only)\n- config/database.yml.postgresql (file only)\n- config/database_geo.yml.mysql (file only) ~Geo =\u003e Removed in https://gitlab.com/gitlab-org/gitlab-ee/merge_requests/14549\n- config/database_geo.yml.postgresql (file only) ~Geo \n- config/gitlab.yml.example\n- config/settings.rb\n- config/sidekiq_queues.yml\n- config/unicorn.rb.example\n- ~~config/webpack.config.js~~ =\u003e https://gitlab.com/gitlab-org/gitlab-ee/issues/10328\n\n\nThe following files would have to be modified somehow so they're the same for both CE and EE:\n\n- .gitlab-ci.yml\n- crowdin.yml\n- app/workers/all_queues.yml\n\nDifferences:\n\n\u003cdetails\u003e\n\u003csummary\u003econfig/application.rb: https://gitlab.com/gitlab-org/gitlab-ce/merge_requests/29557\u003c/summary\u003e\n\n```diff\ndiff --git a/config/application.rb b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/config/application.rb\nindex cddd91f267a..67cd766ec6d 100644\n--- a/config/application.rb\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/config/application.rb\n@@ -4,6 +4,8 @@ require 'rails/all'\n \n Bundler.require(:default, Rails.env)\n \n+require 'elasticsearch/rails/instrumentation'\n+\n module Gitlab\n   class Application \u003c Rails::Application\n     require_dependency Rails.root.join('lib/gitlab/redis/wrapper')\n@@ -47,6 +49,21 @@ module Gitlab\n \n     config.generators.templates.push(\"#{config.root}/generator_templates\")\n \n+    ## EE-specific paths config START\n+    ee_paths = config.eager_load_paths.each_with_object([]) do |path, memo|\n+      ee_path = config.root.join('ee', Pathname.new(path).relative_path_from(config.root))\n+      memo \u003c\u003c ee_path.to_s if ee_path.exist?\n+    end\n+\n+    # Eager load should load CE first\n+    config.eager_load_paths.push(*ee_paths)\n+    config.helpers_paths.push \"#{config.root}/ee/app/helpers\"\n+\n+    # Other than Ruby modules we load EE first\n+    config.paths['lib/tasks'].unshift \"#{config.root}/ee/lib/tasks\"\n+    config.paths['app/views'].unshift \"#{config.root}/ee/app/views\"\n+    ## EE-specific paths config END\n+\n     # Rake tasks ignore the eager loading settings, so we need to set the\n     # autoload paths explicitly\n     config.autoload_paths = config.eager_load_paths.dup\n@@ -161,6 +178,25 @@ module Gitlab\n     config.assets.paths \u003c\u003c \"#{config.root}/node_modules/xterm/src/\"\n     config.assets.precompile \u003c\u003c \"xterm.css\"\n \n+    ## EE-specific assets config START\n+    %w[images javascripts stylesheets].each do |path|\n+      config.assets.paths \u003c\u003c \"#{config.root}/ee/app/assets/#{path}\"\n+      config.assets.precompile \u003c\u003c \"jira_connect.js\"\n+      config.assets.precompile \u003c\u003c \"pages/jira_connect.css\"\n+    end\n+\n+    config.assets.paths \u003c\u003c \"#{config.root}/vendor/assets/javascripts/\"\n+    config.assets.precompile \u003c\u003c \"snowplow/sp.js\"\n+\n+    # Compile non-JS/CSS assets in the ee/app/assets folder by default\n+    # Mimic sprockets-rails default: https://github.com/rails/sprockets-rails/blob/v3.2.1/lib/sprockets/railtie.rb#L84-L87\n+    LOOSE_EE_APP_ASSETS = lambda do |logical_path, filename|\n+      filename.start_with?(config.root.join(\"ee/app/assets\").to_s) \u0026\u0026\n+        !['.js', '.css', ''].include?(File.extname(logical_path))\n+    end\n+    config.assets.precompile \u003c\u003c LOOSE_EE_APP_ASSETS\n+    ## EE-specific assets config END\n+\n     # Version of your assets, change this if you want to expire all your assets\n     config.assets.version = '1.0'\n```\n\n\u003c/details\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003econfig/database.yml.postgresql: https://gitlab.com/gitlab-org/gitlab-ce/merge_requests/29606\u003c/summary\u003e\n\n```diff\ndiff --git a/config/database.yml.postgresql b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/config/database.yml.postgresql\nindex baded682e46..5b3b35c9226 100644\n--- a/config/database.yml.postgresql\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/config/database.yml.postgresql\n@@ -9,6 +9,15 @@ production:\n   username: git\n   password: \"secure password\"\n   host: localhost\n+  # load_balancing:\n+  #   hosts:\n+  #     - host1.example.com\n+  #     - host2.example.com\n+  #   discover:\n+  #     nameserver: 1.2.3.4\n+  #     port: 8600\n+  #     record: secondary.postgresql.service.consul\n+  #     interval: 300\n \n #\n # Development specific\n```\n\n\u003c/details\u003e\n\u003cdetails\u003e\n\u003csummary\u003econfig/dependency_decisions.yml: https://gitlab.com/gitlab-org/gitlab-ce/merge_requests/29606\u003c/summary\u003e\n\n```diff\ndiff --git a/config/dependency_decisions.yml b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/config/dependency_decisions.yml\nindex af76bace577..40a80429afa 100644\n--- a/config/dependency_decisions.yml\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/config/dependency_decisions.yml\n@@ -599,3 +599,10 @@\n     :why: https://github.com/apache/incubator-echarts/blob/master/LICENSE\n     :versions: []\n     :when: 2018-12-07 20:46:12.421256000 Z\n+- - :license\n+  - contracts\n+  - BSD\n+  - :who: Jarka Košanová\n+    :why: https://github.com/egonSchiele/contracts.ruby/blob/master/LICENSE\n+    :versions: []\n+    :when: 2019-04-01 11:29:39.361015000 Z\n```\n\n\u003c/details\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003econfig/gitlab.yml.example: https://gitlab.com/gitlab-org/gitlab-ce/merge_requests/29606\u003c/summary\u003e\n\n```diff\ndiff --git a/config/gitlab.yml.example b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/config/gitlab.yml.example\nindex c83f569d885..1aec8300fb3 100644\n--- a/config/gitlab.yml.example\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/config/gitlab.yml.example\n@@ -230,7 +230,45 @@ production: \u0026base\n \n   ## Packages (maven repository, npm registry, etc...)\n   packages:\n-    enabled: false\n+    enabled: true\n+    # The location where build packages are stored (default: shared/packages).\n+    # storage_path: shared/packages\n+    object_store:\n+      enabled: false\n+      remote_directory: packages # The bucket name\n+      # direct_upload: false # Use Object Storage directly for uploads instead of background uploads if enabled (Default: false)\n+      # background_upload: false # Temporary option to limit automatic upload (Default: true)\n+      # proxy_download: false # Passthrough all downloads via GitLab instead of using Redirects to Object Storage\n+      connection:\n+        provider: AWS\n+        aws_access_key_id: AWS_ACCESS_KEY_ID\n+        aws_secret_access_key: AWS_SECRET_ACCESS_KEY\n+        region: us-east-1\n+        # host: 'localhost' # default: s3.amazonaws.com\n+        # endpoint: 'http://127.0.0.1:9000' # default: nil\n+        # aws_signature_version: 4 # For creation of signed URLs. Set to 2 if provider does not support v4.\n+        # path_style: true # Use 'host/bucket_name/object' instead of 'bucket_name.host/object'\n+\n+  ## Dependency Proxy\n+  dependency_proxy:\n+    enabled: true\n+    # The location where build packages are stored (default: shared/dependency_proxy).\n+    # storage_path: shared/dependency_proxy\n+    object_store:\n+      enabled: false\n+      remote_directory: dependency_proxy # The bucket name\n+      # direct_upload: false # Use Object Storage directly for uploads instead of background uploads if enabled (Default: false)\n+      # background_upload: false # Temporary option to limit automatic upload (Default: true)\n+      # proxy_download: false # Passthrough all downloads via GitLab instead of using Redirects to Object Storage\n+      connection:\n+        provider: AWS\n+        aws_access_key_id: AWS_ACCESS_KEY_ID\n+        aws_secret_access_key: AWS_SECRET_ACCESS_KEY\n+        region: us-east-1\n+        # host: 'localhost' # default: s3.amazonaws.com\n+        # endpoint: 'http://127.0.0.1:9000' # default: nil\n+        # aws_signature_version: 4 # For creation of signed URLs. Set to 2 if provider does not support v4.\n+        # path_style: true # Use 'host/bucket_name/object' instead of 'bucket_name.host/object'\n \n   ## GitLab Pages\n   pages:\n@@ -306,6 +344,53 @@ production: \u0026base\n     schedule_migrate_external_diffs_worker:\n       cron: \"15 * * * *\"\n \n+    ##\n+    # GitLab EE only jobs:\n+\n+    # Snapshot active users statistics\n+    historical_data_worker:\n+      cron: \"0 12 * * *\"\n+\n+    # In addition to refreshing users when they log in,\n+    # periodically refresh LDAP users membership.\n+    # NOTE: This will only take effect if LDAP is enabled\n+    ldap_sync_worker:\n+      cron: \"30 1 * * *\"\n+\n+    # Periodically refresh LDAP groups membership.\n+    # NOTE: This will only take effect if LDAP is enabled\n+    ldap_group_sync_worker:\n+      cron: \"0 * * * *\"\n+\n+    # GitLab Geo metrics update worker\n+    # NOTE: This will only take effect if Geo is enabled\n+    geo_metrics_update_worker:\n+      cron: \"*/1 * * * *\"\n+\n+    # GitLab Geo prune event log worker\n+    # NOTE: This will only take effect if Geo is enabled (primary node only)\n+    geo_prune_event_log_worker:\n+      cron: \"*/5 * * * *\"\n+\n+    # GitLab Geo repository sync worker\n+    # NOTE: This will only take effect if Geo is enabled (secondary nodes only)\n+    geo_repository_sync_worker:\n+      cron: \"*/1 * * * *\"\n+\n+    # GitLab Geo file download dispatch worker\n+    # NOTE: This will only take effect if Geo is enabled (secondary nodes only)\n+    geo_file_download_dispatch_worker:\n+      cron: \"*/1 * * * *\"\n+\n+    # GitLab Geo migrated local files clean up worker\n+    # NOTE: This will only take effect if Geo is enabled (secondary nodes only)\n+    geo_migrated_local_files_clean_up_worker:\n+      cron: \"15 */6 * * *\"\n+\n+    # Export pseudonymized data in CSV format for analysis\n+    pseudonymizer_worker:\n+      cron: \"0 * * * *\"\n+\n   registry:\n     # enabled: true\n     # host: registry.example.com\n@@ -323,6 +408,16 @@ production: \u0026base\n     # clientside_dsn: https://\u003ckey\u003e@sentry.io/\u003cproject\u003e\n     # environment: 'production' # e.g. development, staging, production\n \n+  ## Geo\n+  # NOTE: These settings will only take effect if Geo is enabled\n+  geo:\n+    # This is an optional identifier which Geo nodes can use to identify themselves.\n+    # For example, if external_url is the same for two secondaries, you must specify\n+    # a unique Geo node name for those secondaries.\n+    #\n+    # If it is blank, it defaults to external_url.\n+    node_name: ''\n+\n   #\n   # 2. GitLab CI settings\n   # ==========================\n@@ -349,6 +444,19 @@ production: \u0026base\n   #   bundle exec rake gitlab:ldap:check RAILS_ENV=production\n   ldap:\n     enabled: false\n+\n+    # This setting controls the number of seconds between LDAP permission checks\n+    # for each user. After this time has expired for a given user, their next\n+    # interaction with GitLab (a click in the web UI, a git pull, etc.) will be\n+    # slower because the LDAP permission check is being performed. How much\n+    # slower depends on your LDAP setup, but it is not uncommon for this check\n+    # to add seconds of waiting time. The default value is to have a \"slow\n+    # click\" once every 3600 seconds (i.e., once per hour).\n+    #\n+    # Warning: if you set this value too low, every click in GitLab will be a\n+    # \"slow click\" for all of your LDAP users.\n+    # sync_time: 3600\n+\n     servers:\n       ##########################################################################\n       #\n@@ -446,6 +554,10 @@ production: \u0026base\n         # A value of 0 means there is no timeout.\n         timeout: 10\n \n+        # Enable smartcard authentication against the LDAP server. Valid values\n+        # are \"false\", \"optional\", and \"required\".\n+        smartcard_auth: false\n+\n         # This setting specifies if LDAP server is Active Directory LDAP server.\n         # For non AD servers it skips the AD specific queries.\n         # If your LDAP server is not AD, set this to false.\n@@ -485,6 +597,31 @@ production: \u0026base\n         #\n         user_filter: ''\n \n+        # Base where we can search for groups\n+        #\n+        #   Ex. ou=Groups,dc=gitlab,dc=example\n+        #\n+        group_base: ''\n+\n+        # LDAP group of users who should be admins in GitLab\n+        #\n+        #   Ex. GLAdmins\n+        #\n+        admin_group: ''\n+\n+        # LDAP group of users who should be marked as external users in GitLab\n+        #\n+        #   Ex. ['Contractors', 'Interns']\n+        #\n+        external_groups: []\n+\n+        # Name of attribute which holds a ssh public key of the user object.\n+        # If false or nil, SSH key syncronisation will be disabled.\n+        #\n+        #   Ex. sshpublickey\n+        #\n+        sync_ssh_keys: false\n+\n         # LDAP attributes that GitLab will use to create an account for the LDAP user.\n         # The specified attribute can either be the attribute name as a string (e.g. 'mail'),\n         # or an array of attribute names to try in order (e.g. ['mail', 'email']).\n@@ -516,6 +653,38 @@ production: \u0026base\n       #   host:\n       #   ....\n \n+  ## Smartcard authentication settings\n+  smartcard:\n+    # Allow smartcard authentication\n+    enabled: false\n+\n+    # Path to a file containing a CA certificate\n+    ca_file: '/etc/ssl/certs/CA.pem'\n+\n+    # Port where the client side certificate is requested by the webserver (NGINX/Apache)\n+    # client_certificate_required_port: 3444\n+\n+  ## Kerberos settings\n+  kerberos:\n+    # Allow the HTTP Negotiate authentication method for Git clients\n+    enabled: false\n+\n+    # Kerberos 5 keytab file. The keytab file must be readable by the GitLab user,\n+    # and should be different from other keytabs in the system.\n+    # (default: use default keytab from Krb5 config)\n+    # keytab: /etc/http.keytab\n+\n+    # The Kerberos service name to be used by GitLab.\n+    # (default: accept any service name in keytab file)\n+    # service_principal_name: HTTP/gitlab.example.com@EXAMPLE.COM\n+\n+    # Dedicated port: Git before 2.4 does not fall back to Basic authentication if Negotiate fails.\n+    # To support both Basic and Negotiate methods with older versions of Git, configure\n+    # nginx to proxy GitLab on an extra port (e.g. 8443) and uncomment the following lines\n+    # to dedicate this port to Kerberos authentication. (default: false)\n+    # use_dedicated_port: true\n+    # port: 8443\n+    # https: true\n \n   ## OmniAuth settings\n   omniauth:\n@@ -635,6 +804,8 @@ production: \u0026base\n       #             name_identifier_format: 'urn:oasis:names:tc:SAML:2.0:nameid-format:transient'\n       #           } }\n       #\n+      # - { name: 'group_saml' }\n+      #\n       # - { name: 'crowd',\n       #     args: {\n       #       crowd_server_url: 'CROWD SERVER URL',\n@@ -707,6 +878,20 @@ production: \u0026base\n     #   # Specifies Amazon S3 storage class to use for backups, this is optional\n     #   # storage_class: 'STANDARD'\n \n+  ## Pseudonymizer exporter\n+  pseudonymizer:\n+    # Tables manifest that specifies the fields to extract and pseudonymize.\n+    manifest: config/pseudonymizer.yml\n+    upload:\n+      remote_directory: 'gitlab-elt'\n+      # Fog storage connection settings, see http://fog.io/storage/ .\n+      connection:\n+      #   provider: AWS\n+      #   region: eu-west-1\n+      #   aws_access_key_id: AKIAKIAKI\n+      #   aws_secret_access_key: 'secret123'\n+      #   # The remote 'directory' to store the CSV files. For S3, this would be the bucket name.\n+\n   ## GitLab Shell settings\n   gitlab_shell:\n     path: /home/git/gitlab-shell/\n@@ -872,6 +1057,17 @@ test:\n     token: secret\n   backup:\n     path: tmp/tests/backups\n+  pseudonymizer:\n+    manifest: config/pseudonymizer.yml\n+    upload:\n+      # The remote 'directory' to store the CSV files. For S3, this would be the bucket name.\n+      remote_directory: gitlab-elt.test\n+      # Fog storage connection settings, see http://fog.io/storage/\n+      connection:\n+        provider: AWS # Only AWS supported at the moment\n+        aws_access_key_id: AWS_ACCESS_KEY_ID\n+        aws_secret_access_key: AWS_SECRET_ACCESS_KEY\n+        region: us-east-1\n   gitlab_shell:\n     path: tmp/tests/gitlab-shell/\n     authorized_keys_file: tmp/tests/authorized_keys\n@@ -892,6 +1088,7 @@ test:\n     external_providers: []\n \n     providers:\n+      - { name: 'group_saml' }\n       - { name: 'cas3',\n           label: 'cas3',\n           args: { url: 'https://sso.example.com',\n```\n\n\u003c/details\u003e\n\u003cdetails\u003e\n\u003csummary\u003econfig/initializers/0_inflections.rb: https://gitlab.com/gitlab-org/gitlab-ce/merge_requests/30041\u003c/summary\u003e\n\n```diff\ndiff --git a/config/initializers/0_inflections.rb b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/config/initializers/0_inflections.rb\nindex 1ad9ddca877..4d1f4917275 100644\n--- a/config/initializers/0_inflections.rb\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/config/initializers/0_inflections.rb\n@@ -14,6 +14,14 @@ ActiveSupport::Inflector.inflections do |inflect|\n     award_emoji\n     project_statistics\n     system_note_metadata\n+    event_log\n     project_auto_devops\n+    project_registry\n+    file_registry\n+    job_artifact_registry\n+    vulnerability_feedback\n+    vulnerabilities_feedback\n+    group_view\n   )\n+  inflect.acronym 'EE'\n end\n```\n\n\u003c/details\u003e\n\u003cdetails\u003e\n\u003csummary\u003econfig/initializers/1_settings.rb: https://gitlab.com/gitlab-org/gitlab-ee/merge_requests/14443\u003c/summary\u003e\n\n```diff\ndiff --git a/config/initializers/1_settings.rb b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/config/initializers/1_settings.rb\nindex 0c8d94ccaed..cca195d7118 100644\n--- a/config/initializers/1_settings.rb\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/config/initializers/1_settings.rb\n@@ -4,6 +4,10 @@ require_relative '../object_store_settings'\n # Default settings\n Settings['ldap'] ||= Settingslogic.new({})\n Settings.ldap['enabled'] = false if Settings.ldap['enabled'].nil?\n+Settings.ldap['sync_time'] = 3600 if Settings.ldap['sync_time'].nil?\n+Settings.ldap['schedule_sync_daily'] = 1 if Settings.ldap['schedule_sync_daily'].nil?\n+Settings.ldap['schedule_sync_hour'] = 1 if Settings.ldap['schedule_sync_hour'].nil?\n+Settings.ldap['schedule_sync_minute'] = 30 if Settings.ldap['schedule_sync_minute'].nil?\n \n # backwards compatibility, we only have one host\n if Settings.ldap['enabled'] || Rails.env.test?\n@@ -23,11 +27,14 @@ if Settings.ldap['enabled'] || Rails.env.test?\n     server['timeout'] ||= 10.seconds\n     server['block_auto_created_users'] = false if server['block_auto_created_users'].nil?\n     server['allow_username_or_email_login'] = false if server['allow_username_or_email_login'].nil?\n+    server['smartcard_auth'] = false unless %w[optional required].include?(server['smartcard_auth'])\n     server['active_directory'] = true if server['active_directory'].nil?\n     server['attributes'] = {} if server['attributes'].nil?\n     server['lowercase_usernames'] = false if server['lowercase_usernames'].nil?\n     server['provider_name'] ||= \"ldap#{key}\".downcase\n     server['provider_class'] = OmniAuth::Utils.camelize(server['provider_name'])\n+    server['external_groups'] = [] if server['external_groups'].nil?\n+    server['sync_ssh_keys'] = 'sshPublicKey' if server['sync_ssh_keys'].to_s == 'true'\n \n     # For backwards compatibility\n     server['encryption'] ||= server['method']\n@@ -62,6 +69,10 @@ if Settings.ldap['enabled'] || Rails.env.test?\n   end\n end\n \n+Settings['smartcard'] ||= Settingslogic.new({})\n+Settings.smartcard['enabled'] = false if Settings.smartcard['enabled'].nil?\n+Settings.smartcard['client_certificate_required_port'] = 3444 if Settings.smartcard['client_certificate_required_port'].nil?\n+\n Settings['omniauth'] ||= Settingslogic.new({})\n Settings.omniauth['enabled'] = true if Settings.omniauth['enabled'].nil?\n Settings.omniauth['auto_sign_in_with_provider'] = false if Settings.omniauth['auto_sign_in_with_provider'].nil?\n@@ -127,6 +138,7 @@ Settings['issues_tracker'] ||= {}\n #\n Settings['gitlab'] ||= Settingslogic.new({})\n Settings.gitlab['default_project_creation'] ||= ::Gitlab::Access::DEVELOPER_MAINTAINER_PROJECT_ACCESS\n+Settings.gitlab['default_project_deletion_protection'] ||= false\n Settings.gitlab['default_projects_limit'] ||= 100000\n Settings.gitlab['default_branch_protection'] ||= 2\n Settings.gitlab['default_can_create_group'] = true if Settings.gitlab['default_can_create_group'].nil?\n@@ -163,6 +175,9 @@ Settings.gitlab['webhook_timeout'] ||= 10\n Settings.gitlab['max_attachment_size'] ||= 10\n Settings.gitlab['session_expire_delay'] ||= 10080\n Settings.gitlab['unauthenticated_session_expire_delay'] ||= 2.hours.to_i\n+Settings.gitlab['mirror_max_delay'] ||= 300\n+Settings.gitlab['mirror_max_capacity'] ||= 30\n+Settings.gitlab['mirror_capacity_threshold'] ||= 15\n Settings.gitlab.default_projects_features['issues']             = true if Settings.gitlab.default_projects_features['issues'].nil?\n Settings.gitlab.default_projects_features['merge_requests']     = true if Settings.gitlab.default_projects_features['merge_requests'].nil?\n Settings.gitlab.default_projects_features['wiki']               = true if Settings.gitlab.default_projects_features['wiki'].nil?\n@@ -177,6 +192,13 @@ Settings.gitlab['no_todos_messages'] ||= YAML.load_file(Rails.root.join('config'\n Settings.gitlab['impersonation_enabled'] ||= true if Settings.gitlab['impersonation_enabled'].nil?\n Settings.gitlab['usage_ping_enabled'] = true if Settings.gitlab['usage_ping_enabled'].nil?\n \n+#\n+# Elasticseacrh\n+#\n+Settings['elasticsearch'] ||= Settingslogic.new({})\n+Settings.elasticsearch['enabled'] = false if Settings.elasticsearch['enabled'].nil?\n+Settings.elasticsearch['url'] = ENV['ELASTIC_URL'] || \"http://localhost:9200\"\n+\n #\n # CI\n #\n@@ -245,6 +267,13 @@ Settings.pages['artifacts_server']  ||= Settings.pages['enabled'] if Settings.pa\n Settings.pages['admin'] ||= Settingslogic.new({})\n Settings.pages.admin['certificate'] ||= ''\n \n+#\n+# Geo\n+#\n+Settings['geo'] ||= Settingslogic.new({})\n+# For backwards compatibility, default to gitlab_url and if so, ensure it ends with \"/\"\n+Settings.geo['node_name'] = Settings.geo['node_name'].presence || Settings.gitlab['url'].chomp('/').concat('/')\n+\n #\n # External merge request diffs\n #\n@@ -271,6 +300,27 @@ Settings.uploads['base_dir'] = Settings.uploads['base_dir'] || 'uploads/-/system\n Settings.uploads['object_store'] = ObjectStoreSettings.parse(Settings.uploads['object_store'])\n Settings.uploads['object_store']['remote_directory'] ||= 'uploads'\n \n+#\n+# Packages\n+#\n+Settings['packages'] ||= Settingslogic.new({})\n+Settings.packages['enabled']      = true if Settings.packages['enabled'].nil?\n+Settings.packages['storage_path'] = Settings.absolute(Settings.packages['storage_path'] || File.join(Settings.shared['path'], \"packages\"))\n+Settings.packages['object_store'] = ObjectStoreSettings.parse(Settings.packages['object_store'])\n+\n+#\n+# Dependency Proxy\n+#\n+Settings['dependency_proxy'] ||= Settingslogic.new({})\n+Settings.dependency_proxy['enabled']      = true if Settings.dependency_proxy['enabled'].nil?\n+Settings.dependency_proxy['storage_path'] = Settings.absolute(Settings.dependency_proxy['storage_path'] || File.join(Settings.shared['path'], \"dependency_proxy\"))\n+Settings.dependency_proxy['object_store'] = ObjectStoreSettings.parse(Settings.dependency_proxy['object_store'])\n+# For first iteration dependency proxy uses Rails server to download blobs.\n+# To ensure acceptable performance we only allow feature to be used with\n+# multithreaded web-server Puma. This will be removed once download logic is moved\n+# to GitLab workhorse\n+Settings.dependency_proxy['enabled'] = false unless defined?(::Puma)\n+\n #\n # Mattermost\n #\n@@ -309,6 +359,36 @@ Settings.cron_jobs['admin_email_worker']['job_class'] = 'AdminEmailWorker'\n Settings.cron_jobs['repository_archive_cache_worker'] ||= Settingslogic.new({})\n Settings.cron_jobs['repository_archive_cache_worker']['cron'] ||= '0 * * * *'\n Settings.cron_jobs['repository_archive_cache_worker']['job_class'] = 'RepositoryArchiveCacheWorker'\n+Settings.cron_jobs['historical_data_worker'] ||= Settingslogic.new({})\n+Settings.cron_jobs['historical_data_worker']['cron'] ||= '0 12 * * *'\n+Settings.cron_jobs['historical_data_worker']['job_class'] = 'HistoricalDataWorker'\n+Settings.cron_jobs['ldap_sync_worker'] ||= Settingslogic.new({})\n+Settings.cron_jobs['ldap_sync_worker']['cron'] ||= '30 1 * * *'\n+Settings.cron_jobs['ldap_sync_worker']['job_class'] = 'LdapSyncWorker'\n+Settings.cron_jobs['ldap_group_sync_worker'] ||= Settingslogic.new({})\n+Settings.cron_jobs['ldap_group_sync_worker']['cron'] ||= '0 * * * *'\n+Settings.cron_jobs['ldap_group_sync_worker']['job_class'] = 'LdapAllGroupsSyncWorker'\n+Settings.cron_jobs['geo_metrics_update_worker'] ||= Settingslogic.new({})\n+Settings.cron_jobs['geo_metrics_update_worker']['cron'] ||= '*/1 * * * *'\n+Settings.cron_jobs['geo_metrics_update_worker']['job_class'] ||= 'Geo::MetricsUpdateWorker'\n+Settings.cron_jobs['geo_repository_sync_worker'] ||= Settingslogic.new({})\n+Settings.cron_jobs['geo_repository_sync_worker']['cron'] ||= '*/1 * * * *'\n+Settings.cron_jobs['geo_repository_sync_worker']['job_class'] ||= 'Geo::RepositorySyncWorker'\n+Settings.cron_jobs['geo_file_download_dispatch_worker'] ||= Settingslogic.new({})\n+Settings.cron_jobs['geo_file_download_dispatch_worker']['cron'] ||= '*/1 * * * *'\n+Settings.cron_jobs['geo_file_download_dispatch_worker']['job_class'] ||= 'Geo::FileDownloadDispatchWorker'\n+Settings.cron_jobs['geo_prune_event_log_worker'] ||= Settingslogic.new({})\n+Settings.cron_jobs['geo_prune_event_log_worker']['cron'] ||= '*/5 * * * *'\n+Settings.cron_jobs['geo_prune_event_log_worker']['job_class'] ||= 'Geo::PruneEventLogWorker'\n+Settings.cron_jobs['geo_repository_verification_primary_batch_worker'] ||= Settingslogic.new({})\n+Settings.cron_jobs['geo_repository_verification_primary_batch_worker']['cron'] ||= '*/1 * * * *'\n+Settings.cron_jobs['geo_repository_verification_primary_batch_worker']['job_class'] ||= 'Geo::RepositoryVerification::Primary::BatchWorker'\n+Settings.cron_jobs['geo_repository_verification_secondary_scheduler_worker'] ||= Settingslogic.new({})\n+Settings.cron_jobs['geo_repository_verification_secondary_scheduler_worker']['cron'] ||= '*/1 * * * *'\n+Settings.cron_jobs['geo_repository_verification_secondary_scheduler_worker']['job_class'] ||= 'Geo::RepositoryVerification::Secondary::SchedulerWorker'\n+Settings.cron_jobs['geo_migrated_local_files_clean_up_worker'] ||= Settingslogic.new({})\n+Settings.cron_jobs['geo_migrated_local_files_clean_up_worker']['cron'] ||= '15 */6 * * *'\n+Settings.cron_jobs['geo_migrated_local_files_clean_up_worker']['job_class'] ||= 'Geo::MigratedLocalFilesCleanUpWorker'\n Settings.cron_jobs['import_export_project_cleanup_worker'] ||= Settingslogic.new({})\n Settings.cron_jobs['import_export_project_cleanup_worker']['cron'] ||= '0 * * * *'\n Settings.cron_jobs['import_export_project_cleanup_worker']['job_class'] = 'ImportExportProjectCleanupWorker'\n@@ -341,6 +421,14 @@ Settings.cron_jobs['gitlab_usage_ping_worker'] ||= Settingslogic.new({})\n Settings.cron_jobs['gitlab_usage_ping_worker']['cron'] ||= Settings.__send__(:cron_for_usage_ping)\n Settings.cron_jobs['gitlab_usage_ping_worker']['job_class'] = 'GitlabUsagePingWorker'\n \n+Settings.cron_jobs['pseudonymizer_worker'] ||= Settingslogic.new({})\n+Settings.cron_jobs['pseudonymizer_worker']['cron'] ||= '0 23 * * *'\n+Settings.cron_jobs['pseudonymizer_worker']['job_class'] ||= 'PseudonymizerWorker'\n+\n+Settings.cron_jobs['clear_shared_runners_minutes_worker'] ||= Settingslogic.new({})\n+Settings.cron_jobs['clear_shared_runners_minutes_worker']['cron'] ||= '0 0 1 * *'\n+Settings.cron_jobs['clear_shared_runners_minutes_worker']['job_class'] = 'ClearSharedRunnersMinutesWorker'\n+\n Settings.cron_jobs['stuck_merge_jobs_worker'] ||= Settingslogic.new({})\n Settings.cron_jobs['stuck_merge_jobs_worker']['cron'] ||= '0 */2 * * *'\n Settings.cron_jobs['stuck_merge_jobs_worker']['job_class'] = 'StuckMergeJobsWorker'\n@@ -365,6 +453,10 @@ Settings.cron_jobs['schedule_migrate_external_diffs_worker'] ||= Settingslogic.n\n Settings.cron_jobs['schedule_migrate_external_diffs_worker']['cron'] ||= '15 * * * *'\n Settings.cron_jobs['schedule_migrate_external_diffs_worker']['job_class'] = 'ScheduleMigrateExternalDiffsWorker'\n \n+Settings.cron_jobs['update_max_seats_used_for_gitlab_com_subscriptions_worker'] ||= Settingslogic.new({})\n+Settings.cron_jobs['update_max_seats_used_for_gitlab_com_subscriptions_worker']['cron'] ||= '0 12 * * *'\n+Settings.cron_jobs['update_max_seats_used_for_gitlab_com_subscriptions_worker']['job_class'] = 'UpdateMaxSeatsUsedForGitlabComSubscriptionsWorker'\n+\n #\n # Sidekiq\n #\n@@ -443,6 +535,14 @@ Settings.backup['upload']['encryption'] ||= nil\n Settings.backup['upload']['encryption_key'] ||= ENV['GITLAB_BACKUP_ENCRYPTION_KEY']\n Settings.backup['upload']['storage_class'] ||= nil\n \n+#\n+# Pseudonymizer\n+#\n+Settings['pseudonymizer'] ||= Settingslogic.new({})\n+Settings.pseudonymizer['manifest'] = Settings.absolute(Settings.pseudonymizer['manifest'] || Rails.root.join(\"config/pseudonymizer.yml\"))\n+Settings.pseudonymizer['upload'] ||= Settingslogic.new({ 'remote_directory' =\u003e nil, 'connection' =\u003e nil })\n+# Settings.pseudonymizer['upload']['multipart_chunk_size'] ||= 104857600\n+\n #\n # Git\n #\n@@ -455,6 +555,21 @@ Settings.git['bin_path'] ||= '/usr/bin/git'\n Settings['satellites'] ||= Settingslogic.new({})\n Settings.satellites['path'] = Settings.absolute(Settings.satellites['path'] || \"tmp/repo_satellites/\")\n \n+#\n+# Kerberos\n+#\n+Settings['kerberos'] ||= Settingslogic.new({})\n+Settings.kerberos['enabled'] = false if Settings.kerberos['enabled'].nil?\n+Settings.kerberos['keytab'] = nil if Settings.kerberos['keytab'].blank? # nil means use default keytab\n+Settings.kerberos['service_principal_name'] = nil if Settings.kerberos['service_principal_name'].blank? # nil means any SPN in keytab\n+Settings.kerberos['use_dedicated_port'] = false if Settings.kerberos['use_dedicated_port'].nil?\n+Settings.kerberos['https'] = Settings.gitlab.https if Settings.kerberos['https'].nil?\n+Settings.kerberos['port'] ||= Settings.kerberos.https ? 8443 : 8088\n+\n+if Settings.kerberos['enabled'] \u0026\u0026 !Settings.omniauth.providers.map(\u0026:name).include?('kerberos_spnego')\n+  Settings.omniauth.providers \u003c\u003c Settingslogic.new({ 'name' =\u003e 'kerberos_spnego' })\n+end\n+\n #\n # Extra customization\n #\n```\n\n\u003c/details\u003e\n\u003cdetails\u003e\n\u003csummary\u003econfig/initializers/ar_speed_up_migration_checking.rb: https://gitlab.com/gitlab-org/gitlab-ce/merge_requests/30529\u003c/summary\u003e\n\n```diff\ndiff --git a/config/initializers/ar_speed_up_migration_checking.rb b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/config/initializers/ar_speed_up_migration_checking.rb\nindex aae774daa35..f98b246db0b 100644\n--- a/config/initializers/ar_speed_up_migration_checking.rb\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/config/initializers/ar_speed_up_migration_checking.rb\n@@ -10,7 +10,8 @@ if Rails.env.test?\n         # it reads + parses `db/migrate/*` each time. Memoizing it can save 0.5\n         # seconds per spec.\n         def migrations(paths)\n-          (@migrations ||= migrations_unmemoized(paths)).dup\n+          @migrations ||= {}\n+          (@migrations[paths] ||= migrations_unmemoized(paths)).dup\n         end\n       end\n     end\n```\n\n\u003c/details\u003e\n\u003cdetails\u003e\n\u003csummary\u003econfig/initializers/console_message.rb: https://gitlab.com/gitlab-org/gitlab-ce/merge_requests/30484\u003c/summary\u003e\n\n```diff\ndiff --git a/config/initializers/console_message.rb b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/config/initializers/console_message.rb\nindex 05eb395028d..3a23cc6d435 100644\n--- a/config/initializers/console_message.rb\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/config/initializers/console_message.rb\n@@ -6,5 +6,13 @@ if defined?(Rails::Console)\n   puts \" GitLab:\".ljust(justify) + \"#{Gitlab::VERSION} (#{Gitlab.revision})\"\n   puts \" GitLab Shell:\".ljust(justify) + \"#{Gitlab::VersionInfo.parse(Gitlab::Shell.new.version)}\"\n   puts \" #{Gitlab::Database.human_adapter_name}:\".ljust(justify) + Gitlab::Database.version\n+\n+  # EE-specific start\n+  if Gitlab::Geo.enabled?\n+    puts \" Geo enabled:\".ljust(justify) + 'yes'\n+    puts \" Geo server:\".ljust(justify) + EE::GeoHelper.current_node_human_status\n+  end\n+  # EE specific end\n+\n   puts \"-------------------------------------------------------------------------------------\"\n end\n```\n\n\u003c/details\u003e\n\u003cdetails\u003e\n\u003csummary\u003econfig/initializers/health_check.rb: https://gitlab.com/gitlab-org/gitlab-ce/merge_requests/30484\u003c/summary\u003e\n\n```diff\ndiff --git a/config/initializers/health_check.rb b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/config/initializers/health_check.rb\nindex 959daa93f78..b445cb77529 100644\n--- a/config/initializers/health_check.rb\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/config/initializers/health_check.rb\n@@ -1,4 +1,8 @@\n HealthCheck.setup do |config|\n   config.standard_checks = %w(database migrations cache)\n   config.full_checks = %w(database migrations cache)\n+\n+  config.add_custom_check('geo') do\n+    Gitlab::Geo::HealthCheck.new.perform_checks\n+  end\n end\n```\n\n\u003c/details\u003e\n\u003cdetails\u003e\n\u003csummary\u003econfig/initializers/sidekiq.rb: https://gitlab.com/gitlab-org/gitlab-ce/merge_requests/30484\u003c/summary\u003e\n\n```diff\ndiff --git a/config/initializers/sidekiq.rb b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/config/initializers/sidekiq.rb\nindex 7b69cf11288..f1c6547e99c 100644\n--- a/config/initializers/sidekiq.rb\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/config/initializers/sidekiq.rb\n@@ -77,6 +77,10 @@ Sidekiq.configure_server do |config|\n   end\n   Sidekiq::Cron::Job.load_from_hash! cron_jobs\n \n+  Gitlab::Mirror.configure_cron_job!\n+\n+  Gitlab::Geo.configure_cron_jobs!\n+\n   Gitlab::SidekiqVersioning.install!\n \n   db_config = Gitlab::Database.config ||\n@@ -85,6 +89,14 @@ Sidekiq.configure_server do |config|\n   ActiveRecord::Base.establish_connection(db_config)\n   Rails.logger.debug(\"Connection Pool size for Sidekiq Server is now: #{ActiveRecord::Base.connection.pool.instance_variable_get('@size')}\")\n \n+  # EE only\n+  if Gitlab::Geo.geo_database_configured?\n+    Rails.configuration.geo_database['pool'] = Sidekiq.options[:concurrency]\n+    Geo::TrackingBase.establish_connection(Rails.configuration.geo_database)\n+\n+    Rails.logger.debug(\"Connection Pool size for Sidekiq Server is now: #{Geo::TrackingBase.connection_pool.size} (Geo tracking database)\")\n+  end\n+\n   # Avoid autoload issue such as 'Mail::Parsers::AddressStruct'\n   # https://github.com/mikel/mail/issues/912#issuecomment-214850355\n   Mail.eager_autoload!\n```\n\n\u003c/details\u003e\n\u003cdetails\u003e\n\u003csummary\u003econfig/initializers/zz_metrics.rb: https://gitlab.com/gitlab-org/gitlab-ce/merge_requests/30802\u003c/summary\u003e\n\n```diff\ndiff --git a/config/initializers/zz_metrics.rb b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/config/initializers/zz_metrics.rb\nindex 5aa6f73c5c5..b190012d535 100644\n--- a/config/initializers/zz_metrics.rb\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/config/initializers/zz_metrics.rb\n@@ -6,6 +6,7 @@\n # that we can stub it for testing, as it is only called when metrics are\n # enabled.\n #\n+# rubocop:disable Metrics/AbcSize\n def instrument_classes(instrumentation)\n   instrumentation.instrument_instance_methods(Gitlab::Shell)\n \n@@ -86,12 +87,40 @@ def instrument_classes(instrumentation)\n   instrumentation.instrument_methods(Gitlab::Highlight)\n   instrumentation.instrument_instance_methods(Gitlab::Highlight)\n \n+  instrumentation.instrument_methods(Elasticsearch::Git::Repository)\n+  instrumentation.instrument_instance_methods(Elasticsearch::Git::Repository)\n+\n+  instrumentation.instrument_instance_methods(Search::GlobalService)\n+  instrumentation.instrument_instance_methods(Search::ProjectService)\n+\n+  instrumentation.instrument_instance_methods(Gitlab::Elastic::SearchResults)\n+  instrumentation.instrument_instance_methods(Gitlab::Elastic::ProjectSearchResults)\n+  instrumentation.instrument_instance_methods(Gitlab::Elastic::Indexer)\n+  instrumentation.instrument_instance_methods(Gitlab::Elastic::SnippetSearchResults)\n+  instrumentation.instrument_methods(Gitlab::Elastic::Helper)\n+\n+  instrumentation.instrument_instance_methods(Elastic::ApplicationSearch)\n+  instrumentation.instrument_instance_methods(Elastic::IssuesSearch)\n+  instrumentation.instrument_instance_methods(Elastic::MergeRequestsSearch)\n+  instrumentation.instrument_instance_methods(Elastic::MilestonesSearch)\n+  instrumentation.instrument_instance_methods(Elastic::NotesSearch)\n+  instrumentation.instrument_instance_methods(Elastic::ProjectsSearch)\n+  instrumentation.instrument_instance_methods(Elastic::RepositoriesSearch)\n+  instrumentation.instrument_instance_methods(Elastic::SnippetsSearch)\n+  instrumentation.instrument_instance_methods(Elastic::WikiRepositoriesSearch)\n+\n+  instrumentation.instrument_instance_methods(Gitlab::BitbucketImport::Importer)\n+  instrumentation.instrument_instance_methods(Bitbucket::Connection)\n+\n+  instrumentation.instrument_instance_methods(Geo::RepositorySyncWorker)\n+\n   # This is a Rails scope so we have to instrument it manually.\n   instrumentation.instrument_method(Project, :visible_to_user)\n \n   # Needed for https://gitlab.com/gitlab-org/gitlab-ce/issues/30224#note_32306159\n   instrumentation.instrument_instance_method(MergeRequestDiff, :load_commits)\n end\n+# rubocop:enable Metrics/AbcSize\n \n # With prometheus enabled by default this breaks all specs\n # that stubs methods using `any_instance_of` for the models reloaded here.\n```\n\n\u003c/details\u003e\n\u003cdetails\u003e\n\u003csummary\u003econfig/prometheus/common_metrics.yml: https://gitlab.com/gitlab-org/gitlab-ce/merge_requests/29606\u003c/summary\u003e\n\n```diff\ndiff --git a/config/prometheus/common_metrics.yml b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/config/prometheus/common_metrics.yml\nindex 3c67ca36791..f9ce5a6f365 100644\n--- a/config/prometheus/common_metrics.yml\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/config/prometheus/common_metrics.yml\n@@ -171,7 +171,7 @@ panel_groups:\n     weight: 2\n     metrics:\n     - id: system_metrics_kubernetes_container_memory_average\n-      query_range: 'avg(sum(container_memory_usage_bytes{container_name!=\"POD\",pod_name=~\"^%{ci_environment_slug}-(.*)\",namespace=\"%{kube_namespace}\"}) by (job)) without (job) / count(avg(container_memory_usage_bytes{container_name!=\"POD\",pod_name=~\"^%{ci_environment_slug}-(.*)\",namespace=\"%{kube_namespace}\"}) without (job)) /1024/1024'\n+      query_range: 'avg(sum(container_memory_usage_bytes{container_name!=\"POD\",pod_name=~\"^%{ci_environment_slug}-([^c].*|c([^a]|a([^n]|n([^a]|a([^r]|r[^y])))).*|)-(.*)\",namespace=\"%{kube_namespace}\"}) by (job)) without (job) / count(avg(container_memory_usage_bytes{container_name!=\"POD\",pod_name=~\"^%{ci_environment_slug}-([^c].*|c([^a]|a([^n]|n([^a]|a([^r]|r[^y])))).*|)-(.*)\",namespace=\"%{kube_namespace}\"}) without (job)) /1024/1024'\n       label: Pod average\n       unit: MB\n   - title: \"Canary: Memory Usage (Pod Average)\"\n@@ -190,7 +190,7 @@ panel_groups:\n     weight: 1\n     metrics:\n     - id: system_metrics_kubernetes_container_core_usage\n-      query_range: 'avg(sum(rate(container_cpu_usage_seconds_total{container_name!=\"POD\",pod_name=~\"^%{ci_environment_slug}-(.*)\",namespace=\"%{kube_namespace}\"}[15m])) by (job)) without (job) / count(sum(rate(container_cpu_usage_seconds_total{container_name!=\"POD\",pod_name=~\"^%{ci_environment_slug}-(.*)\",namespace=\"%{kube_namespace}\"}[15m])) by (pod_name))'\n+      query_range: 'avg(sum(rate(container_cpu_usage_seconds_total{container_name!=\"POD\",pod_name=~\"^%{ci_environment_slug}-([^c].*|c([^a]|a([^n]|n([^a]|a([^r]|r[^y])))).*|)-(.*)\",namespace=\"%{kube_namespace}\"}[15m])) by (job)) without (job) / count(sum(rate(container_cpu_usage_seconds_total{container_name!=\"POD\",pod_name=~\"^%{ci_environment_slug}-([^c].*|c([^a]|a([^n]|n([^a]|a([^r]|r[^y])))).*|)-(.*)\",namespace=\"%{kube_namespace}\"}[15m])) by (pod_name))'\n       label: Pod average\n       unit: \"cores\"\n   - title: \"Canary: Core Usage (Pod Average)\"\n```\n\n\u003c/details\u003e\n\n\n\u003cdetails\u003e\n\u003csummary\u003econfig/settings.rb: https://gitlab.com/gitlab-org/gitlab-ce/merge_requests/30529\u003c/summary\u003e\n\n```diff\ndiff --git a/config/settings.rb b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/config/settings.rb\nindex 1b94df785a7..3f3ea16c0fb 100644\n--- a/config/settings.rb\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/config/settings.rb\n@@ -56,6 +56,31 @@ class Settings \u003c Settingslogic\n       (base_url(gitlab) + [gitlab.relative_url_root]).join('')\n     end\n \n+    def kerberos_protocol\n+      kerberos.https ? \"https\" : \"http\"\n+    end\n+\n+    def kerberos_port\n+      kerberos.use_dedicated_port ? kerberos.port : gitlab.port\n+    end\n+\n+    # Curl expects username/password for authentication. However when using GSS-Negotiate not credentials should be needed.\n+    # By inserting in the Kerberos dedicated URL \":@\", we give to curl an empty username and password and GSS auth goes ahead\n+    # Known bug reported in http://sourceforge.net/p/curl/bugs/440/ and http://curl.haxx.se/docs/knownbugs.html\n+    def build_gitlab_kerberos_url\n+      [\n+        kerberos_protocol,\n+        \"://:@\",\n+        gitlab.host,\n+        \":#{kerberos_port}\",\n+        gitlab.relative_url_root\n+      ].join('')\n+    end\n+\n+    def alternative_gitlab_kerberos_url?\n+      kerberos.enabled \u0026\u0026 (build_gitlab_kerberos_url != build_gitlab_url)\n+    end\n+\n     # check that values in `current` (string or integer) is a contant in `modul`.\n     def verify_constant_array(modul, current, default)\n       values = default || []\n```\n\n\u003c/details\u003e\n\u003cdetails\u003e\n\u003csummary\u003econfig/sidekiq_queues.yml: https://gitlab.com/gitlab-org/gitlab-ce/merge_requests/29606\u003c/summary\u003e\n\n```diff\ndiff --git a/config/sidekiq_queues.yml b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/config/sidekiq_queues.yml\nindex fd9ce4d3374..5b42217d0ca 100644\n--- a/config/sidekiq_queues.yml\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/config/sidekiq_queues.yml\n@@ -93,3 +93,26 @@\n   - [migrate_external_diffs, 1]\n   - [update_project_statistics, 1]\n   - [phabricator_import_import_tasks, 1]\n+\n+  # EE-specific queues\n+  - [ldap_group_sync, 2]\n+  - [create_github_webhook, 2]\n+  - [geo, 1]\n+  - [repository_update_mirror, 1]\n+  - [new_epic, 2]\n+  - [project_import_schedule, 1]\n+  - [project_update_repository_storage, 1]\n+  - [admin_emails, 1]\n+  - [elastic_batch_project_indexer, 1]\n+  - [elastic_indexer, 1]\n+  - [elastic_full_index, 1]\n+  - [elastic_commit_indexer, 1]\n+  - [elastic_namespace_indexer, 1]\n+  - [export_csv, 1]\n+  - [incident_management, 2]\n+\n+  # Deprecated queues: Remove after 10.7\n+  - geo_base_scheduler\n+  - geo_file_download\n+  - geo_project_sync\n+  - geo_repository_shard_sync\n```\n\n\u003c/details\u003e","state":"closed","created_at":"2018-02-15T11:31:33.069Z","updated_at":"2019-12-02T11:57:22.125Z","closed_at":"2019-07-22T09:17:09.628Z","closed_by":{"id":423915,"username":"godfat","name":"Lin Jen-Shin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/8c73dab2ecd23d5b5627a0235ae2f9b1?s=80\u0026d=identicon","web_url":"https://gitlab.com/godfat"},"labels":["Enterprise Edition","OKR","backend","missed:11.10","missed:12.0","priority::3","single codebase","team::Delivery"],"milestone":{"id":693520,"iid":34,"group_id":9970,"title":"12.1","description":"https://about.gitlab.com/releases/2019/07/22/gitlab-12-1-released","state":"closed","created_at":"2018-10-30T16:47:58.826Z","updated_at":"2020-04-27T16:30:09.107Z","due_date":"2019-07-22","start_date":"2019-06-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/34"},"assignees":[{"id":15139,"username":"rspeicher","name":"Robert Speicher","state":"active","avatar_url":"https://secure.gravatar.com/avatar/73c8253932541a7b5cbc5d79493f2bea?s=80\u0026d=identicon","web_url":"https://gitlab.com/rspeicher"},{"id":209240,"username":"yorickpeterse","name":"Yorick Peterse","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/209240/avatar.png","web_url":"https://gitlab.com/yorickpeterse"}],"author":{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"type":"ISSUE","assignee":{"id":15139,"username":"rspeicher","name":"Robert Speicher","state":"active","avatar_url":"https://secure.gravatar.com/avatar/73c8253932541a7b5cbc5d79493f2bea?s=80\u0026d=identicon","web_url":"https://gitlab.com/rspeicher"},"user_notes_count":8,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/4946","time_stats":{"time_estimate":144000,"total_time_spent":0,"human_time_estimate":"40h","human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/4946","notes":"https://gitlab.com/api/v4/projects/278964/issues/4946/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/4946/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#4946","relative":"#4946","full":"gitlab-org/gitlab#4946"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":557,"epic":{"id":2152,"iid":557,"title":"Move all EE specific backend code to the ee/ directory","url":"/groups/gitlab-org/-/epics/557","group_id":9970,"human_readable_end_date":"May 22, 2019","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":24661350,"iid":21172,"project_id":278964,"title":"Copy code blocks in markdown with a single click","description":"When we show markdown pages in GitLab we could add this button on the right side of every \" ``` \" blocks. It has its own DOM identification so it should not be hard to do on frontend side.\n\n### Release Notes\n\nInstead of selecting all the code within a block and using your keyboard to copy it to your clipboard, code blocks within markdown can now be copied with a single click.\n\n![Screen_Shot_2021-12-17_at_3.33.33_PM](/uploads/be591c94c7424ca8240dfe6796b34d17/Screen_Shot_2021-12-17_at_3.33.33_PM.png)","state":"closed","created_at":"2018-02-15T11:30:32.837Z","updated_at":"2022-03-21T14:32:30.251Z","closed_at":"2021-12-18T00:04:48.654Z","closed_by":{"id":4303289,"username":"gweaver","name":"Gabe Weaver","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4303289/avatar.png","web_url":"https://gitlab.com/gweaver"},"labels":["Deliverable","GitLab Core","Next Up","auto updated","devops::plan","frontend","group::project management","markdown","popular proposal","potential proposal","release post item","release post item::in review","repository","section::dev","severity::3","type::feature","workflow::production"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"}],"author":{"id":59678,"username":"vsizov","name":"Valery Sizov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/59678/avatar.png","web_url":"https://gitlab.com/vsizov"},"type":"ISSUE","assignee":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"user_notes_count":27,"merge_requests_count":0,"upvotes":73,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/21172","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/21172","notes":"https://gitlab.com/api/v4/projects/278964/issues/21172/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/21172/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#21172","relative":"#21172","full":"gitlab-org/gitlab#21172"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7654,"epic":{"id":454836,"iid":7654,"title":"Markdown: Improve GLFM overall with various enhancements","url":"/groups/gitlab-org/-/epics/7654","group_id":9970,"human_readable_end_date":"Dec 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":9282395,"iid":4945,"project_id":278964,"title":"For new created projects permissions are not inherited from group level","description":"I found similar issue in CE: https://gitlab.com/gitlab-org/gitlab-ce/issues/30024\n\nFor new created projects permissions are not inherited from group level\n\n### Steps to reproduce\n\n1. Create new internal project in group when you have owner permissions\n2A. try to create new file using web ui (+ -\u003e create new file -\u003e put file name and content -\u003e click commit changes)\n2B. using steps described in isntructions \"Create a new repository\" (via ssh) \n\n\n\n### What is the current *bug* behavior?\n2A I'm not able to commit. Gitlab ui said: You are not allowed to push to this branch\n2B I'm not able to push :\nremote: GitLab: You are not allowed to push code to protected branches on this project.\n\n### What is the expected *correct* behavior?\nI should be allowed to that if I'm creator of that repo / owner of that group \n\nWorkaround:\nI added myself to project as Master and after that I'm able to successfully perform previous steps\n\nVersion : 10.4.3 EE\n\nI found out that issue after upgrade from version 10.1.4 EE. Looks like regression","state":"closed","created_at":"2018-02-15T11:30:12.823Z","updated_at":"2019-08-12T15:40:39.861Z","closed_at":"2018-03-27T09:24:52.326Z","closed_by":null,"labels":["Deliverable","Enterprise Edition","Next Patch Release","backend","customer","permissions","regression","type::bug"],"milestone":{"id":424944,"iid":9,"group_id":9970,"title":"10.7","description":"","state":"closed","created_at":"2017-12-06T16:45:41.880Z","updated_at":"2018-05-11T15:04:03.492Z","due_date":"2018-04-22","start_date":"2018-03-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/9"},"assignees":[{"id":117638,"username":"tiagonbotelho","name":"Tiago Botelho","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/117638/avatar.png","web_url":"https://gitlab.com/tiagonbotelho"}],"author":{"id":762758,"username":"ntargosz","name":"Norbert Targosz","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4a6d797404d109849b170dd22e3b3744?s=80\u0026d=identicon","web_url":"https://gitlab.com/ntargosz"},"type":"ISSUE","assignee":{"id":117638,"username":"tiagonbotelho","name":"Tiago Botelho","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/117638/avatar.png","web_url":"https://gitlab.com/tiagonbotelho"},"user_notes_count":19,"merge_requests_count":0,"upvotes":5,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/4945","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/4945","notes":"https://gitlab.com/api/v4/projects/278964/issues/4945/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/4945/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#4945","relative":"#4945","full":"gitlab-org/gitlab#4945"},"severity":"UNKNOWN","moved_to_id":9957142,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":9274499,"iid":4940,"project_id":278964,"title":"Change alert to modal when deleting a custom metric","description":"From the discussion in https://gitlab.com/gitlab-org/gitlab-ee/merge_requests/3799#note_59088109\n\nWhen editing a custom Prometheus metric, pressing the “Delete” button should open a modal window for confirmation. When a user deletes a custom metric, it should return to the Prometheus integration settings page.\n\n| Current screenshot | New title | New description | New buttons |\n|---|-----------|-----------------|-------------|\n| ![image](https://gitlab.com/gitlab-org/gitlab-ee/uploads/be595fa81442b5f42f2fe63b863b076a/Screen_Shot_2018-03-12_at_1.32.13_PM.png) | **Delete metric?** | You’re about to permanently delete this metric. Once deleted, it cannot be undone or recovered. | [Cancel] [Delete metric] |\n\nUsing the new design pattern from https://gitlab.com/gitlab-org/gitlab-design/issues/187, this would look as follows:\n\n![ee_4940-change-alert-to-modal-v2](/uploads/04e5c0bd3b8d525d4dc8a5c15520e9a7/ee_4940-change-alert-to-modal-v2.png)\n\n\n\n\n","state":"closed","created_at":"2018-02-14T19:18:02.282Z","updated_at":"2020-05-18T08:43:58.107Z","closed_at":"2018-11-26T21:30:34.959Z","closed_by":{"id":408677,"username":"ClemMakesApps","name":"Clement Ho","state":"active","avatar_url":"https://secure.gravatar.com/avatar/013b4af8b474654bce8039ecd262a84a?s=80\u0026d=identicon","web_url":"https://gitlab.com/ClemMakesApps"},"labels":["APM","Deliverable","Enterprise Edition","GitLab Premium","UX","UX debt","devops::monitor","frontend","workflow::in review"],"milestone":{"id":569990,"iid":21,"group_id":9970,"title":"11.6","description":"","state":"closed","created_at":"2018-06-16T19:56:12.651Z","updated_at":"2019-01-08T21:40:29.892Z","due_date":"2018-12-22","start_date":"2018-11-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/21"},"assignees":[{"id":626804,"username":"pedroms","name":"Pedro Moreira da Silva","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c306f087d191ac15549f3c11e3bed321?s=80\u0026d=identicon","web_url":"https://gitlab.com/pedroms"},{"id":829774,"username":"jivanvl","name":"Jose Ivan Vargas","state":"active","avatar_url":"https://secure.gravatar.com/avatar/730cc1b85a20f2a3891829f7aa198972?s=80\u0026d=identicon","web_url":"https://gitlab.com/jivanvl"},{"id":2799498,"username":"ameliabauerly","name":"Amelia Bauerly","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2799498/avatar.png","web_url":"https://gitlab.com/ameliabauerly"}],"author":{"id":626804,"username":"pedroms","name":"Pedro Moreira da Silva","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c306f087d191ac15549f3c11e3bed321?s=80\u0026d=identicon","web_url":"https://gitlab.com/pedroms"},"type":"ISSUE","assignee":{"id":626804,"username":"pedroms","name":"Pedro Moreira da Silva","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c306f087d191ac15549f3c11e3bed321?s=80\u0026d=identicon","web_url":"https://gitlab.com/pedroms"},"user_notes_count":24,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/4940","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/4940","notes":"https://gitlab.com/api/v4/projects/278964/issues/4940/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/4940/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#4940","relative":"#4940","full":"gitlab-org/gitlab#4940"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":9658799,"iid":5216,"project_id":278964,"title":"Protected branch \"Roles\" menus could display more useful text","description":"(This is a proposal for a design enhancement.)\n\nIn the settings/repository page, I see this for the protected master branch:\n\n![image](/uploads/808a82d097c9fb1c597c3e79e077b8c6/image.png)\n\n\"1 role, 0, users, an…\" is really not useful. I can imagine improving this with a few conditions:\n* If there is a single selected item, e.g. \"Masters+Developers\", just show that.\n* If there are just multiple roles or multiple users, show \"2 roles\" or \"2 users\", etc.\n* Similar for \"2 roles, 2 users\". I don't even know what the third category is because it is truncated!\n\nI hope this is helpful!","state":"closed","created_at":"2018-02-14T16:38:55.534Z","updated_at":"2019-08-12T15:40:39.906Z","closed_at":"2018-04-11T17:58:40.796Z","closed_by":{"id":408677,"username":"ClemMakesApps","name":"Clement Ho","state":"active","avatar_url":"https://secure.gravatar.com/avatar/013b4af8b474654bce8039ecd262a84a?s=80\u0026d=identicon","web_url":"https://gitlab.com/ClemMakesApps"},"labels":["Deliverable","Enterprise Edition","feature::enhancement","frontend","repository","settings","type::feature"],"milestone":{"id":445863,"iid":12,"group_id":9970,"title":"10.8","description":"https://about.gitlab.com/releases/2018/05/22/gitlab-10-8-released","state":"closed","created_at":"2018-01-16T17:05:23.570Z","updated_at":"2020-04-27T16:29:56.288Z","due_date":"2018-05-22","start_date":"2018-04-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/12"},"assignees":[{"id":516904,"username":"tauriedavis","name":"Taurie Davis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/516904/avatar.png","web_url":"https://gitlab.com/tauriedavis"},{"id":1212235,"username":"winh","name":"Inactive Account","state":"active","avatar_url":"https://secure.gravatar.com/avatar/e34b010c96ff3f44c62cddf66607232a?s=80\u0026d=identicon","web_url":"https://gitlab.com/winh"}],"author":{"id":212128,"username":"gwk","name":"George King","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d84e3106fff0d257cc5a95ca9ea44405?s=80\u0026d=identicon","web_url":"https://gitlab.com/gwk"},"type":"ISSUE","assignee":{"id":516904,"username":"tauriedavis","name":"Taurie Davis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/516904/avatar.png","web_url":"https://gitlab.com/tauriedavis"},"user_notes_count":15,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/5216","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":6,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/5216","notes":"https://gitlab.com/api/v4/projects/278964/issues/5216/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/5216/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#5216","relative":"#5216","full":"gitlab-org/gitlab#5216"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":9265269,"iid":4936,"project_id":278964,"title":"Navigate epics roadmap","description":"### Design/requirements\n- Three buttons to indicate the display preference of the roadmap view.\n- The default choice is the `Months` view.\n- ~~The choice is saved to the database per the user. So if the user makes a different choice, that choice is saved and will be remembered anywhere else they log in. This is per the entire instance. So this one choice carries over to all roadmap views that the user views.~~ Moved to https://gitlab.com/gitlab-org/gitlab-ee/issues/6293\n\n![image](/uploads/a1e20122714e1e6d62f13808e9947910/image.png)\n\n#### Quarters view\n- Show total 6 quarters: Show the prior quarter, the current quarter, and the following 4 quarters.\n- An example is below, where today is in February 2018.\n- For the left-most quarter, show the year. And afterward for the rest of the quarters, only show the year if the quarter is Q1 (e.g. `2019 Q1`).\n- The second row shows the three months in each quarter.\n![quarters](/uploads/81a82ec6b99c1116f8d7f25bbcde154c/quarters.png)\n\n#### Months view\n- Show total of 7 months: Show the current month, the prior month, and the following 5 months.\n- An example is below, where today is in the week of 2018 Jan 15–21.\n- For the left-most month, show the year. And afterward for the rest of the months, only show the year if the month is January (e.g. `2019 Jan`).\n- The second row shows the first day of the week (here we assume that weeks start on Sundays).\n![months](/uploads/0e03aff99508e3652800efb60c08155d/months.png)\n\n#### Weeks view\n- Show total 6 weeks: Show the prior week, the current week, and the following 4 weeks.\n- An example is below, where today is May 2, 2018.\n- For the left-most week, show the year. And afterward for the rest of the weeks, only show the year if the week is the first of January (e.g. `2019 Jan 6`).\n- The second row shows the days in each week.\n\n![weeks](/uploads/0b0bef89c1cb4a8e46c1fa116ba50e92/image.png)\n\n### Problem\n\nWhile implementing #3559, we thought about listing in the roadmap _all_ epics which have a date set (start and/or finish), even if they wouldn't have their timeline bars rendered — we didn't proceed because that work wouldn't fit in the release.\n\nCurrently, we only list and render timeline bars for epics whose dates either fall or go through the current timeframe — 3 months before and 3 months after today's date. This timeframe is fixed and cannot be changed.\n\nUsers might need to plan more into the future or see what happened in the past. We have to decide on the best approach to navigate the epics roadmap.\n\n\n### Key user types\n\nWhen referring to “users”, we mean these specific key user types. We assume this feature will be mostly used by (in order of priority):\n1. Product/project managers\n1. Business stakeholders\n\n### Assumptions\n\nCurrent assumptions that need to be proven (if possible, before implementing a solution):\n- [ ] Users plan epics 3+ months into the future\n- [ ] Users see epics 3+ months in the past to plan today's and future epics\n- [ ] Users don't explore the roadmap at random but have defined timeframe and granularity in mind to analyze\n- [ ] Users often switch between macro and micro levels when planning and comparing\n\n\n### Competitors\n_TODO: Add links to how competitors are doing this_\n\n### Goals\n_TODO: List desired, measurable outcomes of the user interacting with the product. Can be user-oriented, business-oriented or both._\n\n\n### Solutions\nSome possible solutions that can be exclusive or paired (please add to this list):\n- Allow users to filter the roadmap by a date range\n- Allow users to control the zoom/granularity level of the roadmap\n- Allow users to move the roadmap view into the past and future","state":"closed","created_at":"2018-02-14T11:38:47.683Z","updated_at":"2022-05-19T16:38:31.161Z","closed_at":"2018-06-07T17:32:41.970Z","closed_by":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"labels":["Category:Portfolio Management","Deliverable","Enterprise Edition","GitLab Ultimate","backend","devops::plan","epics","frontend","release post item","roadmaps","type::feature","workflow::in review"],"milestone":{"id":362887,"iid":5,"group_id":9970,"title":"11.0","description":"https://about.gitlab.com/releases/2018/06/22/gitlab-11-0-released","state":"closed","created_at":"2017-08-22T11:26:37.313Z","updated_at":"2020-04-27T16:31:06.794Z","due_date":"2018-06-22","start_date":"2018-05-07","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/5"},"assignees":[{"id":411701,"username":"kushalpandya","name":"Kushal Pandya","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/411701/avatar.png","web_url":"https://gitlab.com/kushalpandya"},{"id":626804,"username":"pedroms","name":"Pedro Moreira da Silva","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c306f087d191ac15549f3c11e3bed321?s=80\u0026d=identicon","web_url":"https://gitlab.com/pedroms"}],"author":{"id":626804,"username":"pedroms","name":"Pedro Moreira da Silva","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c306f087d191ac15549f3c11e3bed321?s=80\u0026d=identicon","web_url":"https://gitlab.com/pedroms"},"type":"ISSUE","assignee":{"id":411701,"username":"kushalpandya","name":"Kushal Pandya","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/411701/avatar.png","web_url":"https://gitlab.com/kushalpandya"},"user_notes_count":25,"merge_requests_count":1,"upvotes":4,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/4936","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":4,"completed_count":0},"weight":7,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 4 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/4936","notes":"https://gitlab.com/api/v4/projects/278964/issues/4936/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/4936/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#4936","relative":"#4936","full":"gitlab-org/gitlab#4936"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":51,"epic":{"id":101,"iid":51,"title":"Filtered roadmaps across time","url":"/groups/gitlab-org/-/epics/51","group_id":9970,"human_readable_end_date":"Aug 22, 2018","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":24661314,"iid":21157,"project_id":278964,"title":"Timeout when searching in a particular project ActionView::Template::Error: PG::QueryCanceled","description":"https://sentry.gitlap.com/gitlab/gitlabcom/issues/137668/\n\n```\nPG::QueryCanceled: ERROR:  canceling statement due to statement timeout\n\n  lib/gitlab/project_search_results.rb:33:in `notes_count'\n    @notes_count ||= notes.count\n  app/views/search/_category.html.haml:35:in `block in _app_views_search__category_html_haml__3939273907605095301_70250000684340'\n    = @search_results.notes_count\n  app/views/search/_category.html.haml:32:in `_app_views_search__category_html_haml__3939273907605095301_70250000684340'\n    = link_to search_filter_path(scope: 'notes') do\n  app/views/search/show.html.haml:8:in `_app_views_search_show_html_haml___879385970859290430_70250021805920'\n    = render 'search/category'\n  lib/gitlab/i18n.rb:47:in `with_locale'\n    yield\n```\n\nOmitting the query because it seems sensitive. There are a few instances of this error since the latest deployment to GitLab.com\n\n- https://sentry.gitlap.com/gitlab/gitlabcom/issues/137266/\n- https://sentry.gitlap.com/gitlab/gitlabcom/issues/124156/\n- https://sentry.gitlap.com/gitlab/gitlabcom/issues/135969/\n\n/cc @markglenfletcher","state":"closed","created_at":"2018-02-14T10:02:34.188Z","updated_at":"2020-07-22T17:51:20.073Z","closed_at":"2019-09-30T14:49:58.549Z","closed_by":{"id":2935693,"username":"phikai","name":"Kai Armstrong","state":"active","avatar_url":"https://secure.gravatar.com/avatar/2c5d6a63b41cbeb3ea4cccda82e758e1?s=80\u0026d=identicon","web_url":"https://gitlab.com/phikai"},"labels":["Category:Global Search","awaiting feedback","backend","default-priority","default-severity","devops::create","group::editor","priority::3","severity::3","type::bug"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":402401,"username":"jobbot","name":"Bot","state":"active","avatar_url":"https://secure.gravatar.com/avatar/aaa6738f1ebf25404010884af511b0e7?s=80\u0026d=identicon","web_url":"https://gitlab.com/jobbot"},"type":"ISSUE","assignee":null,"user_notes_count":13,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/21157","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/21157","notes":"https://gitlab.com/api/v4/projects/278964/issues/21157/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/21157/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#21157","relative":"#21157","full":"gitlab-org/gitlab#21157"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":1506,"epic":{"id":8514,"iid":1506,"title":"Search Performance","url":"/groups/gitlab-org/-/epics/1506","group_id":9970,"human_readable_end_date":"Sep 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":9238845,"iid":4913,"project_id":278964,"title":"Display in MR if security report is outdated","description":"### Problem to solve\n\nSecurity reports in the Merge Request widget can be wrong because the target branch has outdated reports.\n\n### Further details\n\nWhen I create a branch from `master`, commits a few changes like in the `README.md` file, and create a Merge Request for that, the report generated in the Security widget can report misleading information. If the last pipeline for `master` didn't detect anything for some reason, the widget will report new vulnerabilities introduced by my change, whereas I just updated a README file. It doesn't make sense, and it's confusing for the users.\n\nThis situation is unfortunately common for these reasons:\n\n- The secure jobs on the `master` branch failed (runner host rebooted, lost network connection, ...).\n- Some advisory was not available when the last check on `master` was launched (could be something added to Gemnasium DB, or a new SAST rule).\n- Artifacts expired on `master`\n- `master` doesn't have any report yet.\n\nAccording to https://gitlab.com/gitlab-org/gitlab-ee/issues/5106, the diff is made between the base commit of the target branch, so having new commits in `master` won't affect the reports.\n\nI think the last point is already covered, and we won't display any \"introduced\" or \"fixed\" notion if we don't have a report to compare to (@leipert @samdbeckham can you confirm please?)\n\n### Proposal\n\n- Make sure we have the impacted files in the security reports\n- Compare these files with the changed files of the commit\n- Indicate in the MR that security results are either fresh or outdated and indicate why \u0026 how to update\n\nIf we find a difference, that probably means the target branch security status is outdated, and a new pipeline must be run for the base commit.\n\nIdeally, we should have something in the UI indicating that the target branch status is currently updating, with a \"refresh\" option once the new data is available.\n\n### Design\n\n| First iteration | \n| ------ | \n| ![Screen_Shot_2019-08-27_at_8.39.22_AM](/uploads/d6fd9ec5065f785b117d4655ab08343a/Screen_Shot_2019-08-27_at_8.39.22_AM.png) | \n\n| `Edge case` | Messaging | \n| ------ | ------ | \n| If an MR branch is behind the target branch and security reports are out of date | Security report is out of date. Please incorporate latest changes from \\[target-branch-name\\].  | \n\n#### Future iterations: \n\n| Ideal experience | \n| ------ | \n| ![Screen_Shot_2019-08-27_at_8.39.17_AM](/uploads/667c6d98b7ae742f96eec6d7e447d969/Screen_Shot_2019-08-27_at_8.39.17_AM.png) | \n| We link the user to the last pipeline run for the target branch. instance/group/project/pipelines/pipeline_id | \n\n\n### What does success look like, and how can we measure that?\n\nSecurity widget always reports relevant and fresh data.\n\n### Documentation\n\nUpdate DAST documentation page to describe the new MR widget behavior that security results will be indicated as either fresh or outdated with a description of why and how to update. Include screenshots where applicable to highlight the new behaviors.\n\n### Links / references\n\nAutomation issue: #13749 \n\n#### Scope\n- inform a user that the target branch pipeline security report is outdated (generated more than 1 week ago)\n- inform a user that the target branch pipeline security report does not exist (there are many reasons this could be the case)\n- compare the branch security report to the base commit target security report, not the latest target security report\n\n#### Changes required\n- BE will return vulnerability reports for the base commit target pipelines, not the latest\n- FE will make a new api call to determine if the security report is out of date\n- BE will implement a new api endpoint that determines if a branch security report is out of date\n- FE will show appropriate message to the user based on security report out of date test outcome\n\n\nOld version: \n\n\u003cdetails\u003e\n\nFollowing #3995, we now have a nice diff view of security issues.\nThe current implementation can be error prone for users, with misleading information.\nReminder: SAST is running several tests, including on the \"old\" (yet still maintained) Gemnasium DB.\nOnce an advisory is published in the DB, it will be immediately available for all SAST tests.\nThat means we could report a new security issue, apparently introduced in the MR. There's no way for the user to know if it was the case, except checking the dependency files, and running the SAST job on the destination branch again.\n\nI suggest to:\n\n* [ ] Determine a way to trigger SAST jobs retries\n* [ ] When a new advisory is added to the DB trigger necessary SAST jobs:\n  * [ ] all open MRs using SAST\n  * [ ] all destination branches\n* [ ] When a new MR is created, run SAST on destination first, to ensure freshness.\n\n\nThis tasks is depending of the integration of the DB directly in gitlab-ee, otherwise we won't be able to trigger anything. There is no issue for that step yet.\n\u003c/details\u003e\n\n/cc @bikebilly","state":"closed","created_at":"2018-02-12T22:14:21.696Z","updated_at":"2022-02-08T00:45:07.837Z","closed_at":"2020-02-10T05:36:19.254Z","closed_by":{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"},"labels":[],"milestone":{"id":891798,"iid":41,"group_id":9970,"title":"12.7","description":"https://about.gitlab.com/releases/2020/01/22/gitlab-12-7-released/","state":"closed","created_at":"2019-05-31T08:38:04.523Z","updated_at":"2020-05-19T13:46:24.737Z","due_date":"2020-01-17","start_date":"2019-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/41"},"assignees":[{"id":2338871,"username":"andyvolpe","name":"Andy Volpe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2338871/avatar.png","web_url":"https://gitlab.com/andyvolpe"},{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"},{"id":4312863,"username":"cam_swords","name":"Cameron Swords","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3b729cf96bcced6384ebb94f0362bd4b?s=80\u0026d=identicon","web_url":"https://gitlab.com/cam_swords"}],"author":{"id":30915,"username":"plafoucriere","name":"Philippe Lafoucrière","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/30915/avatar.png","web_url":"https://gitlab.com/plafoucriere"},"type":"ISSUE","assignee":{"id":2338871,"username":"andyvolpe","name":"Andy Volpe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2338871/avatar.png","web_url":"https://gitlab.com/andyvolpe"},"user_notes_count":108,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/4913","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":5,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 5 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/4913","notes":"https://gitlab.com/api/v4/projects/278964/issues/4913/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/4913/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#4913","relative":"#4913","full":"gitlab-org/gitlab#4913"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":24661293,"iid":21147,"project_id":278964,"title":"Navigation to Labels impossible without internal issue tracker","description":"### Summary\n\n\"Labels\" are used for both Merge Requests and Issues but the navigation left-bar only lists them under \"Issues\". If one disables the internal issue tracker there is no way to navigate to the Labels page anymore via the UI. One has to manually type the URL. This seems to have been discussed previously on https://gitlab.com/gitlab-org/gitlab-ce/issues/2525 but the reporter seems to have ignored that labels are also used for merge requests.\n\n### Steps to reproduce\n\nDisable Issues under \"Settings - General - Permissions - Issues\"\nThe left bar will no longer contain the \"Issues\" navigation.\n\n### Example Project\n\nNo navigation to Labels available on https://gitlab.com/fwinkl/test but fully functional if one directly accesses https://gitlab.com/fwinkl/test/labels.\n\n### Possible fixes\n\nIt may be better to have the Issue navigation linked under the \"Repository\" navigation as they apply to both merge requests and issues.","state":"closed","created_at":"2018-02-12T17:39:22.617Z","updated_at":"2021-08-20T10:10:12.743Z","closed_at":"2021-05-14T15:03:16.419Z","closed_by":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier López","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"labels":["Category:Navigation \u0026 Settings","UX FY21-Q4","devops::plan","feature::enhancement","group::editor","issues","navigation","priority::4","reproduced on GitLab.com","section::dev","settings","severity::3","type::bug","type::feature"],"milestone":{"id":1233762,"iid":58,"group_id":9970,"title":"13.12","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.948Z","updated_at":"2022-04-21T07:22:18.898Z","due_date":"2021-05-17","start_date":"2021-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/58"},"assignees":[{"id":955795,"username":"fjsanpedro","name":"Francisco Javier López","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"}],"author":{"id":1994636,"username":"fwinkl","name":"Frank Winklmeier","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1994636/avatar.png","web_url":"https://gitlab.com/fwinkl"},"type":"ISSUE","assignee":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier López","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"user_notes_count":31,"merge_requests_count":0,"upvotes":3,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/21147","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/21147","notes":"https://gitlab.com/api/v4/projects/278964/issues/21147/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/21147/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#21147","relative":"#21147","full":"gitlab-org/gitlab#21147"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5647,"epic":{"id":229847,"iid":5647,"title":"Create:Editor -- 13.11 - 14.0 -- Update Left Sidebar","url":"/groups/gitlab-org/-/epics/5647","group_id":9970,"human_readable_end_date":"Jul 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":24661242,"iid":21121,"project_id":278964,"title":"API GET /projects executes more than 100 SQL queries","description":"This API endpoint executes more than 100 SQL queries, the maximum number of\nqueries allowed as per MR https://gitlab.com/gitlab-org/gitlab-ce/merge_requests/16466.\nThe number of queries should be reduced to less than 100 and the corresponding\nwhitelisted sections of code (`Gitlab::QueryLimiting.whitelist('...')`) should\nbe removed.","state":"closed","created_at":"2018-02-12T16:51:19.622Z","updated_at":"2021-04-13T21:55:13.209Z","closed_at":"2021-04-12T06:33:36.817Z","closed_by":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier López","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"labels":["bug::performance","database","priority::4","querylimiting-disable","severity::4","workflow::verification"],"milestone":{"id":1406669,"iid":59,"group_id":9970,"title":"13.11","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-08-13T14:23:09.688Z","updated_at":"2022-04-21T07:22:08.835Z","due_date":"2021-04-17","start_date":"2021-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/59"},"assignees":[{"id":955795,"username":"fjsanpedro","name":"Francisco Javier López","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"}],"author":{"id":209240,"username":"yorickpeterse","name":"Yorick Peterse","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/209240/avatar.png","web_url":"https://gitlab.com/yorickpeterse"},"type":"ISSUE","assignee":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier López","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2021-04-16","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/21121","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/21121","notes":"https://gitlab.com/api/v4/projects/278964/issues/21121/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/21121/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#21121","relative":"#21121","full":"gitlab-org/gitlab#21121"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5670,"epic":{"id":233212,"iid":5670,"title":"Database Frequency - Controllers that execute more than 100 SQL query calls","url":"/groups/gitlab-org/-/epics/5670","group_id":9970,"human_readable_end_date":"Jul 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":24661209,"iid":21098,"project_id":278964,"title":"Controller Projects::PipelinesController#cancel executes more than 100 SQL queries","description":"This controller executes more than 100 SQL queries, the maximum number of\nqueries allowed as per MR https://gitlab.com/gitlab-org/gitlab-ce/merge_requests/16466.\nThe number of queries should be reduced to less than 100 and the corresponding\nwhitelisted sections of code (`Gitlab::QueryLimiting.whitelist('...')`) should\nbe removed.","state":"closed","created_at":"2018-02-12T16:49:30.021Z","updated_at":"2021-10-28T14:11:58.784Z","closed_at":"2021-04-09T13:15:28.895Z","closed_by":{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"},"labels":["Category:Continuous Integration","backend","bug::performance","database","devops::verify","group::pipeline authoring","pipeline processing","priority::4","querylimiting-disable","section::ops","severity::4","type::maintenance","workflow::production"],"milestone":{"id":1406669,"iid":59,"group_id":9970,"title":"13.11","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-08-13T14:23:09.688Z","updated_at":"2022-04-21T07:22:08.835Z","due_date":"2021-04-17","start_date":"2021-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/59"},"assignees":[{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"}],"author":{"id":209240,"username":"yorickpeterse","name":"Yorick Peterse","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/209240/avatar.png","web_url":"https://gitlab.com/yorickpeterse"},"type":"ISSUE","assignee":{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"},"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/21098","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/21098","notes":"https://gitlab.com/api/v4/projects/278964/issues/21098/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/21098/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#21098","relative":"#21098","full":"gitlab-org/gitlab#21098"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5670,"epic":{"id":233212,"iid":5670,"title":"Database Frequency - Controllers that execute more than 100 SQL query calls","url":"/groups/gitlab-org/-/epics/5670","group_id":9970,"human_readable_end_date":"Jul 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":24661188,"iid":21087,"project_id":278964,"title":"Controller Projects::MergeRequests::CreationsController#new executes more than 100 SQL queries","description":"This controller executes more than 100 SQL queries, the maximum number of\nqueries allowed as per MR https://gitlab.com/gitlab-org/gitlab-ce/merge_requests/16466.\nThe number of queries should be reduced to less than 100 and the corresponding\nwhitelisted sections of code (`Gitlab::QueryLimiting.whitelist('...')`) should\nbe removed.","state":"closed","created_at":"2018-02-12T16:48:52.725Z","updated_at":"2021-03-24T00:17:35.433Z","closed_at":"2019-12-24T02:59:13.315Z","closed_by":{"id":4901936,"username":"dskim_gitlab","name":"Sincheol (David) Kim","state":"active","avatar_url":"https://secure.gravatar.com/avatar/84a984a56c54d1d31338678421cecc32?s=80\u0026d=identicon","web_url":"https://gitlab.com/dskim_gitlab"},"labels":["Category:Code Review Workflow","backend","bug::performance","database","devops::create","forking","group::code review","merge requests","missed:12.6","priority::3","querylimiting-disable","severity::3"],"milestone":{"id":891798,"iid":41,"group_id":9970,"title":"12.7","description":"https://about.gitlab.com/releases/2020/01/22/gitlab-12-7-released/","state":"closed","created_at":"2019-05-31T08:38:04.523Z","updated_at":"2020-05-19T13:46:24.737Z","due_date":"2020-01-17","start_date":"2019-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/41"},"assignees":[{"id":4901936,"username":"dskim_gitlab","name":"Sincheol (David) Kim","state":"active","avatar_url":"https://secure.gravatar.com/avatar/84a984a56c54d1d31338678421cecc32?s=80\u0026d=identicon","web_url":"https://gitlab.com/dskim_gitlab"}],"author":{"id":209240,"username":"yorickpeterse","name":"Yorick Peterse","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/209240/avatar.png","web_url":"https://gitlab.com/yorickpeterse"},"type":"ISSUE","assignee":{"id":4901936,"username":"dskim_gitlab","name":"Sincheol (David) Kim","state":"active","avatar_url":"https://secure.gravatar.com/avatar/84a984a56c54d1d31338678421cecc32?s=80\u0026d=identicon","web_url":"https://gitlab.com/dskim_gitlab"},"user_notes_count":19,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/21087","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/21087","notes":"https://gitlab.com/api/v4/projects/278964/issues/21087/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/21087/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#21087","relative":"#21087","full":"gitlab-org/gitlab#21087"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":1851,"epic":{"id":11754,"iid":1851,"title":"Improve repository and merge request API scalability","url":"/groups/gitlab-org/-/epics/1851","group_id":9970,"human_readable_end_date":"Jan 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":24661160,"iid":21067,"project_id":278964,"title":"Controller Projects::IssueLinksController#create executes more than 100 SQL queries (7 day: 12k hits, average 92 queries)","description":"This controller executes more than 100 SQL queries, the maximum number of\nqueries allowed as per MR https://gitlab.com/gitlab-org/gitlab-ce/merge_requests/16466.\nThe number of queries should be reduced to less than 100 and the corresponding\nwhitelisted sections of code (`Gitlab::QueryLimiting.whitelist('...')`) should\nbe removed.","state":"closed","created_at":"2018-02-12T16:47:57.260Z","updated_at":"2022-11-22T20:22:50.390Z","closed_at":"2021-04-28T03:10:39.691Z","closed_by":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"labels":["Category:Integrations","Deliverable","backend","bug::performance","database","devops::manage","group::ecosystem [DEPRECATED]","priority::4","querylimiting-disable","section::dev","severity::4","workflow::in review"],"milestone":{"id":1233762,"iid":58,"group_id":9970,"title":"13.12","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.948Z","updated_at":"2022-04-21T07:22:18.898Z","due_date":"2021-05-17","start_date":"2021-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/58"},"assignees":[{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"}],"author":{"id":209240,"username":"yorickpeterse","name":"Yorick Peterse","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/209240/avatar.png","web_url":"https://gitlab.com/yorickpeterse"},"type":"ISSUE","assignee":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"user_notes_count":20,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2021-04-29","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/21067","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/21067","notes":"https://gitlab.com/api/v4/projects/278964/issues/21067/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/21067/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#21067","relative":"#21067","full":"gitlab-org/gitlab#21067"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5670,"epic":{"id":233212,"iid":5670,"title":"Database Frequency - Controllers that execute more than 100 SQL query calls","url":"/groups/gitlab-org/-/epics/5670","group_id":9970,"human_readable_end_date":"Jul 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":24661147,"iid":21059,"project_id":278964,"title":"Controller Projects::DeployKeysController#index executes more than 100 SQL queries","description":"This controller executes more than 100 SQL queries, the maximum number of\nqueries allowed as per MR https://gitlab.com/gitlab-org/gitlab-ce/merge_requests/16466.\nThe number of queries should be reduced to less than 100 and the corresponding\nwhitelisted sections of code (`Gitlab::QueryLimiting.whitelist('...')`) should\nbe removed.","state":"closed","created_at":"2018-02-12T16:47:38.519Z","updated_at":"2021-10-27T10:44:59.000Z","closed_at":"2019-12-17T17:44:07.182Z","closed_by":{"id":4554599,"username":"m_gill","name":"Michelle Gill","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4554599/avatar.png","web_url":"https://gitlab.com/m_gill"},"labels":["Deliverable","Eng-Consumer::Infrastructure","Eng-Producer::Development","Engineering Allocation","GitLab.com Priority","Mechanical Sympathy","backend","bug::performance","database","devops::create","gitlab.com","group::source code","infradev","missed-deliverable","missed:12.2","missed:12.3","priority::2","production request","querylimiting-disable","severity::2","workflow::verification"],"milestone":{"id":891797,"iid":40,"group_id":9970,"title":"12.6","description":"https://about.gitlab.com/releases/2019/12/22/gitlab-12-6-released","state":"closed","created_at":"2019-05-31T08:38:03.539Z","updated_at":"2020-04-27T16:27:13.329Z","due_date":"2019-12-17","start_date":"2019-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/40"},"assignees":[{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"}],"author":{"id":209240,"username":"yorickpeterse","name":"Yorick Peterse","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/209240/avatar.png","web_url":"https://gitlab.com/yorickpeterse"},"type":"ISSUE","assignee":{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"},"user_notes_count":35,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/21059","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/21059","notes":"https://gitlab.com/api/v4/projects/278964/issues/21059/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/21059/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#21059","relative":"#21059","full":"gitlab-org/gitlab#21059"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":1609,"epic":{"id":9772,"iid":1609,"title":"Rails Controller Performance","url":"/groups/gitlab-org/-/epics/1609","group_id":9970,"human_readable_end_date":"Dec 17, 2019","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":24661126,"iid":21043,"project_id":278964,"title":"Controller Profiles::NotificationsController#show executes more than 100 SQL queries (P90 = 109)","description":"This controller executes more than 100 SQL queries, the maximum number of\nqueries allowed as per MR https://gitlab.com/gitlab-org/gitlab-ce/merge_requests/16466.\nThe number of queries should be reduced to less than 100 and the corresponding\nwhitelisted sections of code (`Gitlab::QueryLimiting.whitelist('...')`) should\nbe removed.","state":"closed","created_at":"2018-02-12T16:47:01.570Z","updated_at":"2021-05-13T19:57:02.419Z","closed_at":"2021-04-15T08:19:57.543Z","closed_by":{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"},"labels":["bug::performance","database","devops::manage","group::authentication and authorization","priority::2","querylimiting-disable","section::dev","severity::3","workflow::production"],"milestone":{"id":1406669,"iid":59,"group_id":9970,"title":"13.11","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-08-13T14:23:09.688Z","updated_at":"2022-04-21T07:22:08.835Z","due_date":"2021-04-17","start_date":"2021-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/59"},"assignees":[{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"}],"author":{"id":209240,"username":"yorickpeterse","name":"Yorick Peterse","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/209240/avatar.png","web_url":"https://gitlab.com/yorickpeterse"},"type":"ISSUE","assignee":{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"},"user_notes_count":16,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2021-04-16","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/21043","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/21043","notes":"https://gitlab.com/api/v4/projects/278964/issues/21043/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/21043/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#21043","relative":"#21043","full":"gitlab-org/gitlab#21043"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5670,"epic":{"id":233212,"iid":5670,"title":"Database Frequency - Controllers that execute more than 100 SQL query calls","url":"/groups/gitlab-org/-/epics/5670","group_id":9970,"human_readable_end_date":"Jul 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":24661064,"iid":21001,"project_id":278964,"title":"Spaces were not stripped in search terms","description":"I just realized the results of a search can be different if the search box contains a trailing space.\n\nAs an example compare the following (note the location of the \"+\" in the link):\n* https://gitlab.com/search?project_id=3472737\u0026search=r10579\u0026scope=commits\n* https://gitlab.com/search?project_id=3472737\u0026search=+r10579\u0026scope=commits\n* https://gitlab.com/search?project_id=3472737\u0026search=r10579+\u0026scope=commits\n\nWhile the first two turn up the result I was looking for, the last turns up empty!\n\nI think the search should always strip leading/trailing space from the search terms as the user can not be expected to be aware of any whitespace they inadvertently copied into the search box.\n\nI guess in the ideal case the front-end code would already take care of stripping spaces, so links like the above can not even be produced by typing in the search box (if the search back-end did a better job that would not hurt either, though).","state":"closed","created_at":"2018-02-11T16:09:18.980Z","updated_at":"2022-05-31T12:05:06.621Z","closed_at":"2021-10-12T16:40:06.551Z","closed_by":{"id":5724558,"username":"JohnMcGuire","name":"John McGuire","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5724558/avatar.png","web_url":"https://gitlab.com/JohnMcGuire"},"labels":["Category:Global Search","[deprecated] Accepting merge requests","devops::data_stores","frontend","group::global search","priority::3","section::enablement","severity::3","type::bug","vintage"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[],"author":{"id":945074,"username":"ede123","name":"Patrick Storz","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/945074/avatar.png","web_url":"https://gitlab.com/ede123"},"type":"ISSUE","assignee":null,"user_notes_count":11,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/21001","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/21001","notes":"https://gitlab.com/api/v4/projects/278964/issues/21001/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/21001/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#21001","relative":"#21001","full":"gitlab-org/gitlab#21001"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":9197813,"iid":4890,"project_id":278964,"title":"Geo DR documentation: Make it more obvious yum remove gitlab-ee is only for CentOS","description":"In https://docs.gitlab.com/ee/gitlab-geo/disaster-recovery.html#step-2-permanently-disable-the-primary, the text looks like `yum remove gitlab-ee` should be copied and pasted with the rest of the steps.\n\nI think it would be helpful to make it clearer visually that this is a special command only for CentOS. Also, does removing the package apply to Ubuntu etc.?","state":"closed","created_at":"2018-02-09T23:40:38.644Z","updated_at":"2019-12-11T20:08:00.454Z","closed_at":"2018-02-28T16:15:34.022Z","closed_by":null,"labels":["Enterprise Edition","devops::systems","documentation","group::geo","workflow::in review"],"milestone":{"id":416486,"iid":8,"group_id":9970,"title":"10.6","description":"https://about.gitlab.com/releases/2018/03/22/gitlab-10-6-released","state":"closed","created_at":"2017-11-21T20:05:35.697Z","updated_at":"2020-04-27T16:30:32.220Z","due_date":"2018-03-22","start_date":"2018-02-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/8"},"assignees":[{"id":2293,"username":"brodock","name":"Gabriel Mazetto","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2293/avatar.png","web_url":"https://gitlab.com/brodock"}],"author":{"id":64248,"username":"stanhu","name":"Stan Hu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/64248/stanhu.jpg","web_url":"https://gitlab.com/stanhu"},"type":"ISSUE","assignee":{"id":2293,"username":"brodock","name":"Gabriel Mazetto","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2293/avatar.png","web_url":"https://gitlab.com/brodock"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/4890","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/4890","notes":"https://gitlab.com/api/v4/projects/278964/issues/4890/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/4890/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#4890","relative":"#4890","full":"gitlab-org/gitlab#4890"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":59,"epic":{"id":111,"iid":59,"title":"Geo: planned failover","url":"/groups/gitlab-org/-/epics/59","group_id":9970,"human_readable_end_date":"Apr 22, 2018","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":9197799,"iid":4889,"project_id":278964,"title":"Geo DR documentation should be linked from main page prominently","description":"https://docs.gitlab.com/ee/gitlab-geo/ should have a prominent section about DR and in the table of contents on the right. Right now it's hidden in https://docs.gitlab.com/ee/gitlab-geo/#use-cases.","state":"closed","created_at":"2018-02-09T23:38:04.173Z","updated_at":"2019-12-11T20:08:01.252Z","closed_at":"2018-02-28T16:14:53.295Z","closed_by":null,"labels":["Category:Disaster Recovery","Enterprise Edition","devops::systems","documentation","group::geo","workflow::in review"],"milestone":{"id":416486,"iid":8,"group_id":9970,"title":"10.6","description":"https://about.gitlab.com/releases/2018/03/22/gitlab-10-6-released","state":"closed","created_at":"2017-11-21T20:05:35.697Z","updated_at":"2020-04-27T16:30:32.220Z","due_date":"2018-03-22","start_date":"2018-02-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/8"},"assignees":[{"id":2293,"username":"brodock","name":"Gabriel Mazetto","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2293/avatar.png","web_url":"https://gitlab.com/brodock"}],"author":{"id":64248,"username":"stanhu","name":"Stan Hu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/64248/stanhu.jpg","web_url":"https://gitlab.com/stanhu"},"type":"ISSUE","assignee":{"id":2293,"username":"brodock","name":"Gabriel Mazetto","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2293/avatar.png","web_url":"https://gitlab.com/brodock"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/4889","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/4889","notes":"https://gitlab.com/api/v4/projects/278964/issues/4889/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/4889/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#4889","relative":"#4889","full":"gitlab-org/gitlab#4889"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":59,"epic":{"id":111,"iid":59,"title":"Geo: planned failover","url":"/groups/gitlab-org/-/epics/59","group_id":9970,"human_readable_end_date":"Apr 22, 2018","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":9197259,"iid":4885,"project_id":278964,"title":"Geo: Simplify SSH key replication step","description":"In https://docs.gitlab.com/ee/administration/geo/replication/configuration.html Step 2 section, 6th item: \"Regenerate the public keys from the private keys\", we first copy the private keys and then regenerate the public ones. Why can't we just copy the public keys?\n\n/cc: @mkozono\n\n----\n\nDeliverables:\n\n- [x] Mention how to ensure the fingerprint matches on both nodes\n- [x] Mention how to verify that the public/private keys are consistent\n- [x] Add command to Replicate `ssh_host_*_key.pub`","state":"closed","created_at":"2018-02-09T22:22:35.757Z","updated_at":"2019-12-11T20:08:03.554Z","closed_at":"2018-04-16T14:13:46.806Z","closed_by":{"id":572018,"username":"nick.thomas","name":"Nick Thomas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/572018/avatar.png","web_url":"https://gitlab.com/nick.thomas"},"labels":["Category:Disaster Recovery","Deliverable","Enterprise Edition","devops::systems","documentation","group::geo","workflow::in review"],"milestone":{"id":424944,"iid":9,"group_id":9970,"title":"10.7","description":"","state":"closed","created_at":"2017-12-06T16:45:41.880Z","updated_at":"2018-05-11T15:04:03.492Z","due_date":"2018-04-22","start_date":"2018-03-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/9"},"assignees":[{"id":2293,"username":"brodock","name":"Gabriel Mazetto","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2293/avatar.png","web_url":"https://gitlab.com/brodock"}],"author":{"id":64248,"username":"stanhu","name":"Stan Hu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/64248/stanhu.jpg","web_url":"https://gitlab.com/stanhu"},"type":"ISSUE","assignee":{"id":2293,"username":"brodock","name":"Gabriel Mazetto","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2293/avatar.png","web_url":"https://gitlab.com/brodock"},"user_notes_count":10,"merge_requests_count":3,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/4885","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":3},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"3 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/4885","notes":"https://gitlab.com/api/v4/projects/278964/issues/4885/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/4885/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#4885","relative":"#4885","full":"gitlab-org/gitlab#4885"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":59,"epic":{"id":111,"iid":59,"title":"Geo: planned failover","url":"/groups/gitlab-org/-/epics/59","group_id":9970,"human_readable_end_date":"Apr 22, 2018","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":24661002,"iid":20976,"project_id":278964,"title":"Rename ConvDev Index to DevOps Score","description":"","state":"closed","created_at":"2018-02-08T22:56:22.835Z","updated_at":"2021-09-23T16:40:34.992Z","closed_at":"2019-12-30T15:24:54.047Z","closed_by":{"id":4512390,"username":"djensen","name":"Dan Jensen","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4512390/avatar.png","web_url":"https://gitlab.com/djensen"},"labels":["Category:DevOps Reports","DevOps Score","Manage [DEPRECATED]","analytics","backend","devops::manage","group::optimize","priority::3","workflow::ready for development"],"milestone":{"id":891798,"iid":41,"group_id":9970,"title":"12.7","description":"https://about.gitlab.com/releases/2020/01/22/gitlab-12-7-released/","state":"closed","created_at":"2019-05-31T08:38:04.523Z","updated_at":"2020-05-19T13:46:24.737Z","due_date":"2020-01-17","start_date":"2019-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/41"},"assignees":[{"id":4158075,"username":"aakriti.gupta","name":"Aakriti Gupta","state":"active","avatar_url":"https://secure.gravatar.com/avatar/992a080bc7d9f8c22ff7186db1c76dbd?s=80\u0026d=identicon","web_url":"https://gitlab.com/aakriti.gupta"}],"author":{"id":5497,"username":"JobV","name":"Job van der Voort","state":"active","avatar_url":"https://secure.gravatar.com/avatar/07e1e9ffdda52d8c519ac5c49929d7dc?s=80\u0026d=identicon","web_url":"https://gitlab.com/JobV"},"type":"ISSUE","assignee":{"id":4158075,"username":"aakriti.gupta","name":"Aakriti Gupta","state":"active","avatar_url":"https://secure.gravatar.com/avatar/992a080bc7d9f8c22ff7186db1c76dbd?s=80\u0026d=identicon","web_url":"https://gitlab.com/aakriti.gupta"},"user_notes_count":19,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/20976","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/20976","notes":"https://gitlab.com/api/v4/projects/278964/issues/20976/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/20976/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#20976","relative":"#20976","full":"gitlab-org/gitlab#20976"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4387,"epic":{"id":111758,"iid":4387,"title":"DevOps Score","url":"/groups/gitlab-org/-/epics/4387","group_id":9970,"human_readable_end_date":"Mar 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":9145582,"iid":4861,"project_id":278964,"title":"Make a Rubocop that forbids returning from a block","description":"## Background\n\nThe original code with [StrongMemoize](https://docs.gitlab.com/ce/development/utilities.html#strongmemoize) looks like this:\n\n``` ruby\ndef expensive?\n  strong_memoize(:expensive?) do\n    return false if rich? # BAD!\n\n    heavy_calculation\n  end\nend\n```\n\nThe intention is that the block with `strong_memoize` would only get called once even if `expensive?` is called multiple times. However if `rich?` is true, this would get called multiple times, which is not the intention.\n\nTo accomplish the intention, we could use `next` instead:\n\n``` ruby\ndef expensive?\n  strong_memoize(:expensive?) do\n    next false if rich? # OK!\n\n    heavy_calculation\n  end\nend\n```\n\nThe reason is that `return` would escape from the block context, and return from the method directly, by-passing anything inside `strong_memoize`, while `next` would just exit the block early, and allow `strong_memoize` to continue on its quest.\n\n## Goal\n\nLet's write a cop which would detect and forbid using `return` in a block. We could suggest to use `next` instead, which may or may not make sense, but would at least give the reader some more context to think about.\n\nLet's not just aim for `strong_memoize` because this could happen for any methods using a block.\n\n## More examples\n\nFor this particular script:\n\n``` ruby\ndef call\n  puts \"start\"\n  puts yield\n  puts \"end\"\nend\n\ndef main\n  call do\n    next 0\n  end\n\n  call do\n    return 1\n  end\n\n  call do\n    break 2\n  end\nend\n\nmain\n```\n\nRunning it would print:\n\n```\nstart\n0\nend\nstart\n```\n\nWe could clearly see that `return` just escape from `main` directly, while `next` would just escape from the block. It could be very surprising that it only prints `start` once. `File.open` with a block would not suffer from this because the cleanup code is inside the `ensure` block, and it would not skip `ensure`, but not all methods follow this pattern and if we need to take the value from `yield` like `strong_memoize`, it would not work with `return` because `yield` would not \"return\" and we got not value back.\n\nI personally think that Ruby shouldn't allow using `return` (or `break`) inside a block at all, because it would jump from context which could be very unexpected.\n\n## Original discussion thread\n\nThe following discussion from !4439 should be addressed:\n\n- [ ] @godfat commented on a [discussion](https://gitlab.com/gitlab-org/gitlab-ee/merge_requests/4439#note_58190929):  (+6 comments)\n\n    \u003e I agree that having a cop for this might be better, and I would even like to generalize it that we shouldn't return inside a block, not just for `strong_memoize` because it could give unexpected result.\n    \u003e\n    \u003e I'll make an issue about not returning from a block.","state":"closed","created_at":"2018-02-08T13:22:05.524Z","updated_at":"2019-08-12T15:40:46.765Z","closed_at":"2018-02-08T16:15:36.602Z","closed_by":null,"labels":["Enterprise Edition","Quality","[deprecated] Accepting merge requests","backstage [DEPRECATED]","static code analysis"],"milestone":null,"assignees":[],"author":{"id":423915,"username":"godfat","name":"Lin Jen-Shin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/8c73dab2ecd23d5b5627a0235ae2f9b1?s=80\u0026d=identicon","web_url":"https://gitlab.com/godfat"},"type":"ISSUE","assignee":null,"user_notes_count":0,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/4861","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/4861","notes":"https://gitlab.com/api/v4/projects/278964/issues/4861/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/4861/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#4861","relative":"#4861","full":"gitlab-org/gitlab#4861"},"severity":"UNKNOWN","moved_to_id":9149795,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":9130665,"iid":4848,"project_id":278964,"title":"Fix UX debt from \"Show Group level Roadmap\"","description":"The following points weren't resolved in !4361 and should be addressed:\n\n- ~~[ ] Add missing shadow at bottom of the list to indicate more epics to scroll.~~ Covered in !4651\n- [ ] Remove unnecessary space at the top of the list:\n   - ![image](/uploads/d7c1bd895e406186c3249dbbb4041756/image.png)","state":"closed","created_at":"2018-02-07T17:37:24.090Z","updated_at":"2022-05-19T16:41:20.572Z","closed_at":"2018-04-02T08:04:25.055Z","closed_by":null,"labels":["Category:Portfolio Management","Deliverable","Enterprise Edition","GitLab Ultimate","UX","UX debt","devops::plan","epics","frontend","roadmaps","workflow::in dev"],"milestone":{"id":424944,"iid":9,"group_id":9970,"title":"10.7","description":"","state":"closed","created_at":"2017-12-06T16:45:41.880Z","updated_at":"2018-05-11T15:04:03.492Z","due_date":"2018-04-22","start_date":"2018-03-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/9"},"assignees":[{"id":411701,"username":"kushalpandya","name":"Kushal Pandya","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/411701/avatar.png","web_url":"https://gitlab.com/kushalpandya"},{"id":626804,"username":"pedroms","name":"Pedro Moreira da Silva","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c306f087d191ac15549f3c11e3bed321?s=80\u0026d=identicon","web_url":"https://gitlab.com/pedroms"}],"author":{"id":626804,"username":"pedroms","name":"Pedro Moreira da Silva","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c306f087d191ac15549f3c11e3bed321?s=80\u0026d=identicon","web_url":"https://gitlab.com/pedroms"},"type":"ISSUE","assignee":{"id":411701,"username":"kushalpandya","name":"Kushal Pandya","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/411701/avatar.png","web_url":"https://gitlab.com/kushalpandya"},"user_notes_count":4,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/4848","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/4848","notes":"https://gitlab.com/api/v4/projects/278964/issues/4848/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/4848/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#4848","relative":"#4848","full":"gitlab-org/gitlab#4848"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":51,"epic":{"id":101,"iid":51,"title":"Filtered roadmaps across time","url":"/groups/gitlab-org/-/epics/51","group_id":9970,"human_readable_end_date":"Aug 22, 2018","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":24660965,"iid":20957,"project_id":278964,"title":"GitLab CI YAML: before_script doesn't accept single string or nested strings","description":"### Summary\n\nThe `before_script` of `.gitlab-ci.yml` cannot be a single string. The [documentation](https://docs.gitlab.com/ce/ci/yaml/README.html#before_script) states that it can be. Also `script` of a job can be a single string, so this is inconsistent.\n\n`after_script` behaves in the same way.\n\n### Steps to reproduce\n\nExample of what should be a valid `.gitlab-ci.yml`\n\n```yaml\nbefore_script: |\n  do_stuff\n\nmy_job:\n  script: |\n    do_stuff\n```\n\n### What is the current *bug* behavior?\n\nThis will be rejected by the linter.\n\nNotice that `my_job` is accepted.\n\n### What is the expected *correct* behavior?\n\nEverything should be ok\n\n### Relevant logs and/or screenshots\n\nLinter output:\n```\nStatus: syntax is incorrect\nError: before_script config should be an array of strings\n```\n\n#### Results of GitLab environment info\n\nChecked using self hosted version 10.4.2 and current Gitlab.com\n\n#### Workaround\n\nIts possible to workaround the issue pretty easily\n\n```yaml\nbefore_script:\n  - |\n    do_stuff\n```\n\n### Technical proposal\n\n```diff\ndiff --git a/lib/gitlab/ci/config/entry/job.rb b/lib/gitlab/ci/config/entry/job.rb\nindex a20b802be58..e580e42d374 100644\n--- a/lib/gitlab/ci/config/entry/job.rb\n+++ b/lib/gitlab/ci/config/entry/job.rb\n@@ -48,7 +48,7 @@ class Job \u003c ::Gitlab::Config::Entry::Node\n             end\n           end\n \n-          entry :before_script, Entry::Script,\n+          entry :before_script, Entry::Commands,\n             description: 'Global before script overridden in this job.',\n             inherit: true\n \n@@ -60,7 +60,7 @@ class Job \u003c ::Gitlab::Config::Entry::Node\n             description: 'Deprecated: stage this job will be executed into.',\n             inherit: false\n \n-          entry :after_script, Entry::Script,\n+          entry :after_script, Entry::Commands,\n             description: 'Commands that will be executed when finishing job.',\n             inherit: true\n \ndiff --git a/lib/gitlab/ci/config/entry/root.rb b/lib/gitlab/ci/config/entry/root.rb\nindex 54ef84b965a..622dbb857d0 100644\n--- a/lib/gitlab/ci/config/entry/root.rb\n+++ b/lib/gitlab/ci/config/entry/root.rb\n@@ -32,7 +32,7 @@ class Root \u003c ::Gitlab::Config::Entry::Node\n             description: 'List of external YAML files to include.',\n             reserved: true\n \n-          entry :before_script, Entry::Script,\n+          entry :before_script, Entry::Commands,\n             description: 'Script that will be executed before each job.',\n             reserved: true\n \n@@ -44,7 +44,7 @@ class Root \u003c ::Gitlab::Config::Entry::Node\n             description: 'Docker images that will be linked to the container.',\n             reserved: true\n \n-          entry :after_script, Entry::Script,\n+          entry :after_script, Entry::Commands,\n             description: 'Script that will be executed after each job.',\n             reserved: true\n```\n\nThis will make `before_script` and `after_script` behave exactly like `script`:\n- accept single string\n- flatten arrays up to 10 levels deep to work with nested `!reference` calls.","state":"closed","created_at":"2018-02-07T10:27:44.701Z","updated_at":"2022-01-24T12:09:53.549Z","closed_at":"2022-01-24T12:08:38.437Z","closed_by":{"id":4509877,"username":"dhershkovitch","name":"Dov Hershkovitch","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7daa3113f0359f08a217fa800d9cc1d2?s=80\u0026d=identicon","web_url":"https://gitlab.com/dhershkovitch"},"labels":["Category:Pipeline Authoring","DEPRECATE_pipeline authoring","Seeking community contributions","default-priority","default-severity","devops::verify","group::pipeline authoring","pipeline","priority::3","reproduced on GitLab.com","section::ops","severity::3","type::bug","workflow::production"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":7882302,"username":"guillaume.chauvel","name":"Guillaume CHAUVEL","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a84aa72ee1f284540cc316a6fdba3a85?s=80\u0026d=identicon","web_url":"https://gitlab.com/guillaume.chauvel"}],"author":{"id":151384,"username":"mcfedr","name":"Fred Cox","state":"active","avatar_url":"https://secure.gravatar.com/avatar/2c9bfe8735f5e3fb923a0f67330e7f39?s=80\u0026d=identicon","web_url":"https://gitlab.com/mcfedr"},"type":"ISSUE","assignee":{"id":7882302,"username":"guillaume.chauvel","name":"Guillaume CHAUVEL","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a84aa72ee1f284540cc316a6fdba3a85?s=80\u0026d=identicon","web_url":"https://gitlab.com/guillaume.chauvel"},"user_notes_count":24,"merge_requests_count":0,"upvotes":14,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/20957","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/20957","notes":"https://gitlab.com/api/v4/projects/278964/issues/20957/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/20957/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#20957","relative":"#20957","full":"gitlab-org/gitlab#20957"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5206,"epic":{"id":181139,"iid":5206,"title":"Bugs: Pipelines","url":"/groups/gitlab-org/-/epics/5206","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e day remaining"},"iteration":null,"health_status":null},{"id":24660964,"iid":20956,"project_id":278964,"title":"Auto stop environments after a certain period","description":"### Problem\r\n\r\nReview apps are short lived by definition. Unfortunately, stale branches are ubiquitous (gitlab-ce has ~1,600). Keeping all as review apps would is a burden.\r\n\r\n### Proposal\r\n\r\nJust like artifacts can expire, environments should be able to be configured to stop after a certain time, as defined in `job:environment:auto_stop_in`. And, just like artifacts can be \"promoted\" as non-expiring in the UI, so should be environments.\r\n\r\nThe `auto_stop_in:` value for environment is renewed per deployment, this means if an environment is about to be stopped and got a new deployment, the `auto_stop_in:` is extended to the new value. Thus, active environments will never be expired and only inactive/stale environments will be stopped automatically.\r\n\r\n#### Environments\r\n  - Add a column for Auto stops in\r\n  - If an environment will auto stop, show button to prevent it from auto-stopping\r\n  - Realign `No deployments` with deployments column\r\n  - Do not display Auto stop in or button if the environment is not set to auto stop\r\n![Environments](/uploads/56426f62188733f01e45320ff5bc746b/Environments.png)\r\n\r\n#### Environments Details\r\n  - If an environment will auto stop, Add Auto stops in xx weeks next to the title\r\n  - If an environment will auto stop, show button to prevent it\r\n![Environment_Details](/uploads/d32b82e992995a8c7421c9924bd425a5/Environment_Details.png)\r\n\r\n#### Button tooltip\r\n![Tooltip](/uploads/73bb00974ab632e0ada43c6f4e5553f9/Tooltip.png)\r\n\r\n### Links / references\r\n\r\n## PoC\r\n\r\nhttps://gitlab.com/gitlab-org/gitlab/merge_requests/18115 is complete.\r\n\r\n## MRs to be merged into master\r\n\r\n~backend \r\n\r\n- [x] Persist and control auto stop date. =\u003e https://gitlab.com/gitlab-org/gitlab/merge_requests/19931\r\n- [x] Prepare background job to periodically cleanup expired environments. =\u003e https://gitlab.com/gitlab-org/gitlab/merge_requests/21476\r\n- [x] Update GitLab omnibus's cron setting =\u003e https://gitlab.com/gitlab-org/omnibus-gitlab/-/merge_requests/3927\r\n- [x] Remove feature flag and update the documentation. =\u003e https://gitlab.com/gitlab-org/gitlab/-/merge_requests/24850\r\n\r\n~frontend \r\n\r\n- [x] Create MR for persisting and controlling auto-stop branched off BE MR. =\u003e https://gitlab.com/gitlab-org/gitlab/merge_requests/20372\r\n\r\n## Feature Flag\r\n\r\nThis feature is built behind `auto_stop_environments` feature flag and disabled by default until we make sure it's deemed stable.\r\n\r\ncc @markpundsack @bikebilly","state":"closed","created_at":"2018-02-06T23:29:22.600Z","updated_at":"2021-01-26T13:15:24.358Z","closed_at":"2020-02-19T06:31:35.090Z","closed_by":{"id":758045,"username":"shinya.maeda","name":"Shinya Maeda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/758045/avatar.png","web_url":"https://gitlab.com/shinya.maeda"},"labels":["Category:Review Apps","Release::P2","Technical Writing","UI text","UX","cicd::active","customer","deploy","devops::release","direction","documentation","frontend","group::release","maturity::lovable","missed-deliverable","missed:12.4","missed:12.5","missed:12.6","missed:12.7","type::feature"],"milestone":{"id":1001915,"iid":43,"group_id":9970,"title":"12.8","description":"https://about.gitlab.com/releases/2020/02/22/gitlab-12-8-released","state":"closed","created_at":"2019-09-15T20:53:58.792Z","updated_at":"2020-05-19T14:23:44.837Z","due_date":"2020-02-17","start_date":"2020-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/43"},"assignees":[{"id":109884,"username":"sarahghp","name":"Sarah Groff Hennigh-Palermo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3b3a4be73ec22c01a87b77ddc2bb6f7d?s=80\u0026d=identicon","web_url":"https://gitlab.com/sarahghp"},{"id":758045,"username":"shinya.maeda","name":"Shinya Maeda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/758045/avatar.png","web_url":"https://gitlab.com/shinya.maeda"},{"id":3719688,"username":"mnichols1","name":"Mike Nichols","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3719688/avatar.png","web_url":"https://gitlab.com/mnichols1"}],"author":{"id":536451,"username":"Nowaker","name":"Damian Nowak","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6c44da17cd76ce95e9690e135ce21ed?s=80\u0026d=identicon","web_url":"https://gitlab.com/Nowaker"},"type":"ISSUE","assignee":{"id":109884,"username":"sarahghp","name":"Sarah Groff Hennigh-Palermo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3b3a4be73ec22c01a87b77ddc2bb6f7d?s=80\u0026d=identicon","web_url":"https://gitlab.com/sarahghp"},"user_notes_count":113,"merge_requests_count":0,"upvotes":23,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/20956","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":5,"completed_count":5},"weight":5,"blocking_issues_count":0,"has_tasks":true,"task_status":"5 of 5 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/20956","notes":"https://gitlab.com/api/v4/projects/278964/issues/20956/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/20956/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#20956","relative":"#20956","full":"gitlab-org/gitlab#20956"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":767,"epic":{"id":3445,"iid":767,"title":"Make environments easier to use and manage","url":"/groups/gitlab-org/-/epics/767","group_id":9970,"human_readable_end_date":"Jul 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":9114130,"iid":4838,"project_id":278964,"title":"Mutual TLS for External Authorization Service","description":"In highly controlled environments, it may be necessary for access policy to be controlled by an external service that permits access based on project classification and user access. The connection between GitLab and External Authorization Service should support mutual TLS for security.\n\n### Proposal\n\nExtend the **Settings \u003e External Classification Policy Authorization** screen for administrators with:\n\n- text fields for client and server TLS certificates\n\n### Links\n\nhttps://gitlab.com/gitlab-org/gitlab-ee/issues/4216","state":"closed","created_at":"2018-02-06T21:17:27.173Z","updated_at":"2019-08-12T15:41:10.002Z","closed_at":"2018-03-27T12:06:25.400Z","closed_by":null,"labels":["Deliverable","Enterprise Edition","External Authorization","GitLab Premium","authentication","backend","type::feature","workflow::in review"],"milestone":{"id":424944,"iid":9,"group_id":9970,"title":"10.7","description":"","state":"closed","created_at":"2017-12-06T16:45:41.880Z","updated_at":"2018-05-11T15:04:03.492Z","due_date":"2018-04-22","start_date":"2018-03-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/9"},"assignees":[{"id":171554,"username":"reprazent","name":"Bob Van Landuyt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/171554/avatar.png","web_url":"https://gitlab.com/reprazent"}],"author":{"id":1187333,"username":"jramsay-gitlab","name":"James Ramsay (ex-GitLab)","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1187333/avatar.png","web_url":"https://gitlab.com/jramsay-gitlab"},"type":"ISSUE","assignee":{"id":171554,"username":"reprazent","name":"Bob Van Landuyt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/171554/avatar.png","web_url":"https://gitlab.com/reprazent"},"user_notes_count":1,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/4838","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":4,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/4838","notes":"https://gitlab.com/api/v4/projects/278964/issues/4838/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/4838/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#4838","relative":"#4838","full":"gitlab-org/gitlab#4838"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":64,"epic":{"id":125,"iid":64,"title":"Platform: Policy Control","url":"/groups/gitlab-org/-/epics/64","group_id":9970,"human_readable_end_date":"Apr 22, 2018","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":9096184,"iid":4832,"project_id":278964,"title":"Configurable timeout for External Authorization service","description":"From the original issue #4216: \n\n\u003e A failed response should display an error with the JSON \"reason\" response displayed if available.\n\u003e - If the service times out, display \"External Policy Server did not respond\".\n\u003e - The timout value should be configurable and default to 500ms\n\nConfigurable timeout was not implemented in !3709 to cut the scope of an already huge MR.","state":"closed","created_at":"2018-02-06T17:55:16.899Z","updated_at":"2019-08-12T15:41:10.755Z","closed_at":"2018-03-20T08:45:50.147Z","closed_by":null,"labels":["Deliverable","Enterprise Edition","External Authorization","backend","type::feature","workflow::in review"],"milestone":{"id":424944,"iid":9,"group_id":9970,"title":"10.7","description":"","state":"closed","created_at":"2017-12-06T16:45:41.880Z","updated_at":"2018-05-11T15:04:03.492Z","due_date":"2018-04-22","start_date":"2018-03-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/9"},"assignees":[{"id":171554,"username":"reprazent","name":"Bob Van Landuyt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/171554/avatar.png","web_url":"https://gitlab.com/reprazent"}],"author":{"id":171554,"username":"reprazent","name":"Bob Van Landuyt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/171554/avatar.png","web_url":"https://gitlab.com/reprazent"},"type":"ISSUE","assignee":{"id":171554,"username":"reprazent","name":"Bob Van Landuyt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/171554/avatar.png","web_url":"https://gitlab.com/reprazent"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/4832","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/4832","notes":"https://gitlab.com/api/v4/projects/278964/issues/4832/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/4832/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#4832","relative":"#4832","full":"gitlab-org/gitlab#4832"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":64,"epic":{"id":125,"iid":64,"title":"Platform: Policy Control","url":"/groups/gitlab-org/-/epics/64","group_id":9970,"human_readable_end_date":"Apr 22, 2018","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":9094768,"iid":4829,"project_id":278964,"title":"Add abilities for cross project group features","description":"Move the `read_cross_project` check from the `GroupsHelper` into the `GroupPolicy`. Having separate abilities for each of the sidebar items:\n\n```ruby\nif can?(current_user, :read_group_activity, @group)\n  links \u003c\u003c :activity\nend\n\nif can?(current_user, :read_group_issues, @group)\n  links \u003c\u003c :issues\nend\n\nif can?(current_user, :read_group_labels, @group)\n  links \u003c\u003c :labels\nend\n\nif can?(current_user, :read_group_milestones, @group)\n  links \u003c\u003c :milestones\nend\n\nif can?(current_user, :read_group_merge_requests, @group)\n  links \u003c\u003c :merge_requests\nend\n``` \n\nTo be addressed after !3709 \n___\nThe following discussion from !3709 should be addressed:\n\n- [ ] @DouweM started a [discussion](https://gitlab.com/gitlab-org/gitlab-ee/merge_requests/3709#note_57383366):  (+2 comments)\n\n    \u003e To simplify the diff of this file with CE, what do you think about (in a next iteration) defining `:view_activity`, `:view_issues` etc abilities on `GroupPolicy`, that are `enable`d by default, but `reject`ed unless `can?(:read_cross_project)`? The enable/prevent model of the policy framework makes it really easy to override certain things in EE without messing with CE code too much.\n\ncc @DouweM","state":"closed","created_at":"2018-02-06T16:41:03.312Z","updated_at":"2019-08-12T15:41:10.880Z","closed_at":"2018-07-06T09:58:52.370Z","closed_by":{"id":87854,"username":"DouweM","name":"Douwe Maan","state":"active","avatar_url":"https://secure.gravatar.com/avatar/73d1548ae618321220679b3a4fda7fb1?s=80\u0026d=identicon","web_url":"https://gitlab.com/DouweM"},"labels":["Deliverable","Enterprise Edition","External Authorization","backend","maintenance::refactor","missed-deliverable","workflow::in review"],"milestone":{"id":450583,"iid":13,"group_id":9970,"title":"11.1","description":"","state":"closed","created_at":"2018-01-23T21:40:27.318Z","updated_at":"2018-11-06T19:17:01.295Z","due_date":"2018-07-22","start_date":"2018-06-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/13"},"assignees":[{"id":171554,"username":"reprazent","name":"Bob Van Landuyt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/171554/avatar.png","web_url":"https://gitlab.com/reprazent"}],"author":{"id":171554,"username":"reprazent","name":"Bob Van Landuyt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/171554/avatar.png","web_url":"https://gitlab.com/reprazent"},"type":"ISSUE","assignee":{"id":171554,"username":"reprazent","name":"Bob Van Landuyt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/171554/avatar.png","web_url":"https://gitlab.com/reprazent"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/4829","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/4829","notes":"https://gitlab.com/api/v4/projects/278964/issues/4829/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/4829/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#4829","relative":"#4829","full":"gitlab-org/gitlab#4829"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":64,"epic":{"id":125,"iid":64,"title":"Platform: Policy Control","url":"/groups/gitlab-org/-/epics/64","group_id":9970,"human_readable_end_date":"Apr 22, 2018","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":9084021,"iid":4821,"project_id":278964,"title":"Add contact sales options within the product","description":"### Description\n\nWe'd like to identify additional opportunities within the product to include a call to action to contact sales (https://about.gitlab.com/sales/). Two opportunities to call out:\n* Trial users to initiate a paid plan.\n* Users of Starter to upgrade to Premium or Ultimate, and users of Premium to upgrade to Ultimate (focus of this issue).\n\nFor the latter, our objective is to promote key capabilities not available in Starter/Premium to create interest and lead to taking action to contact sales. Users should be able to:\n* Learn about key features available at higher tier plans, so they're aware of the problems GitLab Premium/Ultimate can solve for them\n* Have a clear and easy-to-use CTA, so they can reach out to sales for more information\n\nSales should be able to:\n* Know which feature the lead contacted sales in regards to, so they can reference the customer's interest in that feature when reaching out\n\n### Proposal\n\n* For selected Premium and Ultimate features, substitute where these features would normally appear in-product with a description and CTA to contact sales for more information.\n  * Premium features: Canary Deployments, Premium Support.\n  * Ultimate features: Epics, SAST.\n* Promotions should only be visible to users with Developer, Owner, or Master permissions.\n* CTAs should go to `about.gitlab.com/sales/`\n\nNote: if I'm on Starter, I should see all 4 promotions (Premium + Ultimate). If I'm on Premium, I should only see 2 (Epics, SAST).\n\n### Questions\n\n* Does the Epics container clash with the existing [Issue Weights](https://gitlab.com/gitlab-org/gitlab-ee/merge_requests/2800/diffs) promo container?\n\nThe issue weights promo container shouldn't be displayed if the epics promo is being displayed.\n\n* Can we adjust the CTA to allow users to self-serve when possible?\n  * Default to self-serve for accounts that were initially provisioned self-serve or route to self-serve if below N seats?\n\nFor now, routing to the contact sales form works as a first iteration.\n\n* Should dismissals apply to a user, or to the project?\n\nDismissals should be attached to a user and apply across projects. Once a banner is dismissed, the user shouldn't see it in other projects or groups.\n\n* Where should we store the dismissal?\n\nOn the backend. Client-side isn't persistent enough, and we want to be as non-intrusive as possible. Once a user dismisses a banner, we should not present it again.\n\n### Designs\n\n##### How the banners work\n- The banner can be dismissed anytime.\n- If a user dismiss the banner, the banner will not show up again.\n- \"Contact sales\" button links to [Contact Sales page](https://about.gitlab.com/sales/). \n- \"[Read more]()\" links to the specific feature's documentation.\n\n##### Upgrade Starter plan to Premium plan\n- Canary Deployments: \n * It has a banner without the box on the \"Environment\" page.\n- Premium support:\n * It has the banner on [Support form page](https://support.gitlab.com/hc/en-us) since it's a good chance to let users know they can upgrade plan to get more quick and complete support from GitLab.\n\n| Canary Deployments | Premium support |\n| ------------------ | --------------- |\n| ![premium--canary-deployments](/uploads/896b1c6f74e0a967dd9e4957b70c125d/premium--canary-deployments.png) | ![premium--support](/uploads/e57214d05bc2d7bb708f9bba70b1275c/premium--support.png) |\n\n\n##### Upgrade Premium plan to Ultimate plan\n- SAST related features:\n * The SAST line always shows up since we want users to notice it and upgrade their plans.\n * The \"lock\" icon replaces the normal icon we use for SAST.\n * It has \"Contact sales\" button at the end of the line. \n- Epics: \n * Even if the plan is \"Starter\", it still shows \"Epic\" in the issuable sidebar. So \"Epic\" could be a touch point to upgrade the plan (contact sales).\n * When clicking \"Upgrade plan\" text, it shows the dropdown, and then users are able to contact sales.\n\n| SAST | Epics |\n| ---- | ----- |\n| ![ultimate--sast](/uploads/cb29f0bc84272642a463961475758a83/ultimate--sast.png) | ![ultimate--epic](/uploads/61ba0603fb967b2ea623d30d249ea400/ultimate--epic.png) ｜\n\n##### SVGs\nYou can find SVGs in `gitlab-svgs`.\n\n| Lock | Lock icon in SAST |\n| ---- | ----------------- |\n| ![lock_promotion.svg](/uploads/44da37d4d6294ba8e109ac5e1ae4ee49/lock_promotion.svg) | ![image](/uploads/3d2f774e6183a14437b403464cc65d21/image.png) |\n| `lock_promotion` | `lock` |\n\n### Links/Resources\n* WIP Design: https://gitlab.com/gitlab-org/gitlab-ee/issues/4821#note_58795697\n\n/cc @JobV @sytses @courtlandia @kuthiala @williamchia","state":"closed","created_at":"2018-02-06T07:52:43.480Z","updated_at":"2020-07-20T18:34:00.999Z","closed_at":"2019-02-25T23:26:29.194Z","closed_by":{"id":1086520,"username":"jeremy-gl","name":"Jeremy Watson (ex-GitLab)","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1086520/avatar.png","web_url":"https://gitlab.com/jeremy-gl"},"labels":["Enterprise Edition","Manage [DEPRECATED]","devops::manage","frontend","gitlab.com","type::feature"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[{"id":1086520,"username":"jeremy-gl","name":"Jeremy Watson (ex-GitLab)","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1086520/avatar.png","web_url":"https://gitlab.com/jeremy-gl"}],"author":{"id":1341002,"username":"joe.s","name":"Joe Scheuermann","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1341002/avatar.png","web_url":"https://gitlab.com/joe.s"},"type":"ISSUE","assignee":{"id":1086520,"username":"jeremy-gl","name":"Jeremy Watson (ex-GitLab)","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1086520/avatar.png","web_url":"https://gitlab.com/jeremy-gl"},"user_notes_count":75,"merge_requests_count":1,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/4821","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":7,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/4821","notes":"https://gitlab.com/api/v4/projects/278964/issues/4821/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/4821/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#4821","relative":"#4821","full":"gitlab-org/gitlab#4821"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":82,"epic":{"id":149,"iid":82,"title":"GitLab.com improvements for top of funnel revenue growth","url":"/groups/gitlab-org/-/epics/82","group_id":9970,"human_readable_end_date":"Aug 22, 2018","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":9027586,"iid":4800,"project_id":278964,"title":"Restrict protected branch unprotection","description":"In tightly controlled environments, like those that have regulatory review requirements, it is critical that only reviewed code reaches master. This can be configured using protected branches by setting 'No one' to have push permissions for `master`, but this can be changed by anyone with Owner or Master permissions for the project. These organizations need a mechanism to enforce this rule and prevent it being changed or removed except by an Admin.\n\nA large company with over 10,000 repos wants to move to GitLab needs to ensure that **only** specifically authorized users can **EVER** push to the master branch. They need to be able to enforce no one can push to master for regulatory reasons.\n\n### Proposal\n\n- Add attribute `unprotect_level` to protected branches denoting who can edit/remove protected branch rule (e.g. currently masters can, but this will allow owners, or admins)\n- Update the API to allow checking and setting this attribute\n- Update the protected branch interface to show who can unprotect the protected branch and prevent them from being edited/removed by users without unprotect permissions\n- ~~Update the protected branch interface to allow users with unprotect permissions to add/edit/remove protected branches~~ moved to \nhttps://gitlab.com/gitlab-org/gitlab-ee/issues/5496 (%\"10.8\")\n\nThe unprotect permissions and API will allow customers to automatically protect projects with the following configuration:\n\n- The GitLab [system hook](https://docs.gitlab.com/ee/system_hooks/system_hooks.html) is triggered by new projects, notifying a script a new project needs to be protected\n- A script uses the GitLab API to create an 'admin owned' [protected branch](https://docs.gitlab.com/ee/api/protected_branches.html) that only admins can change or remove that sets **Allowed to push** to 'No one'\n\nFuture possible enhancements:\n\n- add a method for automatically applying protected branches to new and imported projects, perhaps using project templates or a new admin setting.\n\n### Links / references\n\n- Templated project creation - Issue  https://gitlab.com/gitlab-org/gitlab-ee/issues/1602\n- Approvers based on code owners - Issue https://gitlab.com/gitlab-org/gitlab-ee/issues/1012\n- https://docs.gitlab.com/ee/api/protected_branches.html\n- https://gitlab.my.salesforce.com/00161000004zrG3","state":"closed","created_at":"2018-02-02T19:09:48.162Z","updated_at":"2019-08-12T15:41:13.760Z","closed_at":"2018-04-07T11:21:56.255Z","closed_by":null,"labels":["Deliverable","Enterprise Edition","GitLab Premium","api","backend","customer success","customer+","devops::create","direction","repository","security","type::feature","workflow::in review"],"milestone":{"id":424944,"iid":9,"group_id":9970,"title":"10.7","description":"","state":"closed","created_at":"2017-12-06T16:45:41.880Z","updated_at":"2018-05-11T15:04:03.492Z","due_date":"2018-04-22","start_date":"2018-03-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/9"},"assignees":[{"id":654619,"username":"jamedjo","name":"James Edwards-Jones","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/654619/avatar.png","web_url":"https://gitlab.com/jamedjo"}],"author":{"id":434338,"username":"xyzzy","name":"Reb","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/434338/avatar.png","web_url":"https://gitlab.com/xyzzy"},"type":"ISSUE","assignee":{"id":654619,"username":"jamedjo","name":"James Edwards-Jones","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/654619/avatar.png","web_url":"https://gitlab.com/jamedjo"},"user_notes_count":50,"merge_requests_count":1,"upvotes":3,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/4800","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/4800","notes":"https://gitlab.com/api/v4/projects/278964/issues/4800/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/4800/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#4800","relative":"#4800","full":"gitlab-org/gitlab#4800"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":24660890,"iid":20918,"project_id":278964,"title":"Rails and Sidekiq are amassing gpg-agent processes","description":"### Summary\n\nImport operations on GPG keys start and never kill gpg-agent processes.\n\n### Steps to reproduce\n\nOn a new omnibus installation on Debian 9: import a GPG key via the web interface. After that four gpg-agent processes are running.\n\n### What is the current *bug* behavior?\n\nMore and more gpg-agent processes run in the context of both the rail and the sidekiq service.\n\nGitlab does via GPGME:\n- Import key, this starts the agent as gpg wants to know if there is a private key.\n- List key to get UID, fingerprint and subkeys.\n\n### What is the expected *correct* behavior?\n\nNo gpg-agent processes running.\n\n### Relevant logs and/or screenshots\n\n```\ngit      16021  0.0  0.0  43096  2720 ?        Ss   18:13   0:00 gpg-agent --homedir /tmp/d20180202-15920-74bvm --use-standard-socket --daemon\ngit      16032  0.0  0.0  43096  2640 ?        Ss   18:13   0:00 gpg-agent --homedir /tmp/d20180202-15920-1cmueza --use-standard-socket --daemon\ngit      16045  0.0  0.0  43096  2688 ?        Ss   18:13   0:00 gpg-agent --homedir /tmp/d20180202-15920-xxh4mx --use-standard-socket --daemon\ngit      16064  0.0  0.0  43096  2744 ?        Ss   18:13   0:00 gpg-agent --homedir /tmp/d20180202-15920-1aurq5b --use-standard-socket --daemon\n```\n\n### Output of checks\n\n#### Results of GitLab environment info\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to GitLab environment info\u003c/summary\u003e\n\u003cpre\u003e\nSystem information\nSystem:         Debian 9.3\nCurrent User:   git\nUsing RVM:      no\nRuby Version:   2.3.6p384\nGem Version:    2.6.13\nBundler Version:1.13.7\nRake Version:   12.3.0\nRedis Version:  3.2.11\nGit Version:    2.14.3\nSidekiq Version:5.0.5\nGo Version:     unknown\n\nGitLab information\nVersion:        10.4.2\nRevision:       b1c501c\nDirectory:      /opt/gitlab/embedded/service/gitlab-rails\nDB Adapter:     postgresql\nURL:            https://35.204.72.250\nHTTP Clone URL: https://35.204.72.250/some-group/some-project.git\nSSH Clone URL:  git@35.204.72.250:some-group/some-project.git\nUsing LDAP:     no\nUsing Omniauth: no\n\nGitLab Shell\nVersion:        5.11.0\nRepository storage paths:\n- default:      /var/opt/gitlab/git-data/repositories\nHooks:          /opt/gitlab/embedded/service/gitlab-shell/hooks\nGit:            /opt/gitlab/embedded/bin/git\n\u003c/pre\u003e\n\u003c/details\u003e\n\n#### Results of GitLab application Check\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to the GitLab application check\u003c/summary\u003e\n\u003cpre\u003e\nChecking GitLab Shell ...\n\nGitLab Shell version \u003e= 5.11.0 ? ... OK (5.11.0)\nRepo base directory exists?\ndefault... yes\nRepo storage directories are symlinks?\ndefault... no\nRepo paths owned by git:root, or git:git?\ndefault... yes\nRepo paths access is drwxrws---?\ndefault... yes\nhooks directories in repos are links: ... can't check, you have no projects\nRunning /opt/gitlab/embedded/service/gitlab-shell/bin/check\nCheck GitLab API access: OK\nRedis available via internal API: OK\n\nAccess to /var/opt/gitlab/.ssh/authorized_keys: OK\ngitlab-shell self-check successful\n\nChecking GitLab Shell ... Finished\n\nChecking Sidekiq ...\n\nRunning? ... yes\nNumber of Sidekiq processes ... 1\n\nChecking Sidekiq ... Finished\n\nReply by email is disabled in config/gitlab.yml\nChecking LDAP ...\n\nLDAP is disabled in config/gitlab.yml\n\nChecking LDAP ... Finished\n\nChecking GitLab ...\n\nGit configured correctly? ... yes\nDatabase config exists? ... yes\nAll migrations up? ... yes\nDatabase contains orphaned GroupMembers? ... no\nGitLab config exists? ... yes\nGitLab config up to date? ... yes\nLog directory writable? ... yes\nTmp directory writable? ... yes\nUploads directory exists? ... yes\nUploads directory has correct permissions? ... yes\nUploads directory tmp has correct permissions? ... skipped (no tmp uploads folder yet)\nInit script exists? ... skipped (omnibus-gitlab has no init script)\nInit script up-to-date? ... skipped (omnibus-gitlab has no init script)\nProjects have namespace: ... can't check, you have no projects\nRedis version \u003e= 2.8.0? ... yes\nRuby version \u003e= 2.3.5 ? ... yes (2.3.6)\nGit version \u003e= 2.7.3 ? ... yes (2.14.3)\nGit user has default SSH configuration? ... yes\nActive users: ... 1\n\nChecking GitLab ... Finished\n\u003c/pre\u003e\n\u003c/details\u003e\n\n### Possible fixes\n\n(If you can, link to the line of code that might be responsible for the problem)","state":"closed","created_at":"2018-02-02T18:24:52.701Z","updated_at":"2022-07-15T15:29:36.986Z","closed_at":"2020-02-17T22:31:38.109Z","closed_by":{"id":4554599,"username":"m_gill","name":"Michelle Gill","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4554599/avatar.png","web_url":"https://gitlab.com/m_gill"},"labels":["Eng-Consumer::Infrastructure","Eng-Producer::Development","Engineering Allocation","GitLab.com Priority","[deprecated] Accepting merge requests","backend","devops::create","gitlab.com","gpg","group::source code","infradev","missed-deliverable","missed:12.5","missed:12.6","missed:12.7","needs investigation","priority::3","production request","severity::3","workflow::verification"],"milestone":{"id":1001915,"iid":43,"group_id":9970,"title":"12.8","description":"https://about.gitlab.com/releases/2020/02/22/gitlab-12-8-released","state":"closed","created_at":"2019-09-15T20:53:58.792Z","updated_at":"2020-05-19T14:23:44.837Z","due_date":"2020-02-17","start_date":"2020-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/43"},"assignees":[{"id":171554,"username":"reprazent","name":"Bob Van Landuyt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/171554/avatar.png","web_url":"https://gitlab.com/reprazent"}],"author":{"id":128460,"username":"waldi","name":"Bastian Blank","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3c3ff0edad4bab42b6730063e7d09e35?s=80\u0026d=identicon","web_url":"https://gitlab.com/waldi"},"type":"ISSUE","assignee":{"id":171554,"username":"reprazent","name":"Bob Van Landuyt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/171554/avatar.png","web_url":"https://gitlab.com/reprazent"},"user_notes_count":49,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/20918","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/20918","notes":"https://gitlab.com/api/v4/projects/278964/issues/20918/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/20918/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#20918","relative":"#20918","full":"gitlab-org/gitlab#20918"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":9021208,"iid":4794,"project_id":278964,"title":"Controller Projects::IssuesController#update executes more than 100 SQL queries (7 day: 450k hits, average 68 queries)","description":"This controller executes more than 100 SQL queries, the maximum number of\nqueries allowed as per MR https://gitlab.com/gitlab-org/gitlab-ce/merge_requests/16466.  \nThe number of queries should be reduced to less than 100 and the corresponding\nwhitelisted sections of code (`Gitlab::QueryLimiting.whitelist('...')`) should\nbe removed.\n\n----\n\n7 day average is 68 queries over 450,000 hits. However, there are over 20,000 hits that exceed 100, with the average of those being 115. It's not in terrible shape but given that it is a highly used endpoint, it would be good to get this down under 100. \n\n![Screen_Shot_2021-03-26_at_10.31.03_AM](/uploads/eae46592dc7519891d2b85bedcc41bc9/Screen_Shot_2021-03-26_at_10.31.03_AM.png)\n\n**Percentile breakdown**: https://log.gprd.gitlab.net/app/visualize#/edit/4832d6e0-8e3e-11eb-966b-2361593353f9?type=table\u0026savedSearchId=be44a0d0-8e3d-11eb-966b-2361593353f9\u0026_g=h@d7d2a59\u0026_a=h@4351d5b\n\n**Saved kibana search**: https://log.gprd.gitlab.net/app/discover#/view/be44a0d0-8e3d-11eb-966b-2361593353f9?_g=(filters%3A!()%2CrefreshInterval%3A(pause%3A!t%2Cvalue%3A0)%2Ctime%3A(from%3Anow-1w%2Cto%3Anow))","state":"closed","created_at":"2018-02-02T13:28:15.621Z","updated_at":"2022-05-19T16:41:19.191Z","closed_at":"2021-07-02T13:31:33.738Z","closed_by":{"id":3753003,"username":"cdu1","name":"Chun Du","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3753003/avatar.png","web_url":"https://gitlab.com/cdu1"},"labels":["Deliverable","Enterprise Edition","GitLab Ultimate","backend","bug::performance","database","devops::plan","group::composition analysis","issues","missed-deliverable","missed:13.11","missed:13.12","missed:14.0","priority::4","querylimiting-disable","section::dev","severity::4","type::maintenance","workflow::in review"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":1674572,"username":"adamcohen","name":"Adam Cohen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/68fe8da9d9dfc88d0d150808cd364825?s=80\u0026d=identicon","web_url":"https://gitlab.com/adamcohen"}],"author":{"id":209240,"username":"yorickpeterse","name":"Yorick Peterse","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/209240/avatar.png","web_url":"https://gitlab.com/yorickpeterse"},"type":"ISSUE","assignee":{"id":1674572,"username":"adamcohen","name":"Adam Cohen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/68fe8da9d9dfc88d0d150808cd364825?s=80\u0026d=identicon","web_url":"https://gitlab.com/adamcohen"},"user_notes_count":25,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2021-07-02","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/4794","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/4794","notes":"https://gitlab.com/api/v4/projects/278964/issues/4794/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/4794/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#4794","relative":"#4794","full":"gitlab-org/gitlab#4794"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5652,"epic":{"id":230613,"iid":5652,"title":"Prioritize -  Research Database queries for performance and frequency","url":"/groups/gitlab-org/-/epics/5652","group_id":9970,"human_readable_end_date":"Jul 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":24660873,"iid":20911,"project_id":278964,"title":"Ctrl/Cmd-clicking URL in project/subgroup description treated as normal click","description":"### Summary\n\nIn the overview for a group, ctrl/cmd-clicking a URL in the description of a project or subgroup visits that project or expands the subgroup respectively (the link is still opened in a new tab as desired).\n\n### Steps to reproduce\n\n1. Visit https://gitlab.com/jrtc27-test-group\n2. Ctrl/cmd-click on the links to GitLab in the descriptions for the subgroup and project listed\n\n### Example Project\n\nSee Steps to reproduce.\n\n### What is the current *bug* behavior?\n\nThe current page is unchanged, with the link opened in a new tab.\n\n### What is the expected *correct* behavior?\n\nThe link is opened in a new tab, but the subgroup is expanded or the project is visited.\n\n### Output of checks\n\nThis bug happens on GitLab.com","state":"closed","created_at":"2018-02-02T02:02:57.689Z","updated_at":"2021-03-22T07:09:43.504Z","closed_at":"2021-03-22T02:30:58.910Z","closed_by":{"id":924009,"username":"jrtc27","name":"Jessica Clarke","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6450bc0308081560d75ad92c228206c2?s=80\u0026d=identicon","web_url":"https://gitlab.com/jrtc27"},"labels":["Category:Subgroups","Manage [DEPRECATED]","default-priority","default-severity","devops::manage","frontend","group::authentication and authorization","priority::3","reproduced on GitLab.com","section::dev","severity::3","stale","type::bug","vintage"],"milestone":null,"assignees":[],"author":{"id":924009,"username":"jrtc27","name":"Jessica Clarke","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6450bc0308081560d75ad92c228206c2?s=80\u0026d=identicon","web_url":"https://gitlab.com/jrtc27"},"type":"ISSUE","assignee":null,"user_notes_count":10,"merge_requests_count":0,"upvotes":3,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/20911","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/20911","notes":"https://gitlab.com/api/v4/projects/278964/issues/20911/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/20911/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#20911","relative":"#20911","full":"gitlab-org/gitlab#20911"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":9010032,"iid":4788,"project_id":278964,"title":"Extend API for importing a project export to override classification","description":"When using project exports to mirror a project from one instance to another and using External Policy Classification Control, it should be possible to set/override the project classification to ensure that the classification is valid in the instance the project is being imported to.\n\n### Proposal\n\nExtend the import API with the ability to override the project classification. \n\nThe project classification should be validated on import.\n\n### Links\n\nhttps://gitlab.com/gitlab-org/gitlab-ee/issues/4216","state":"closed","created_at":"2018-02-01T20:34:13.010Z","updated_at":"2019-08-12T15:41:14.673Z","closed_at":"2018-04-05T15:19:33.642Z","closed_by":null,"labels":["DEPRECATED_project export","Deliverable","Enterprise Edition","GitLab Premium","authentication","backend","type::feature","workflow::in review"],"milestone":{"id":424944,"iid":9,"group_id":9970,"title":"10.7","description":"","state":"closed","created_at":"2017-12-06T16:45:41.880Z","updated_at":"2018-05-11T15:04:03.492Z","due_date":"2018-04-22","start_date":"2018-03-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/9"},"assignees":[{"id":171554,"username":"reprazent","name":"Bob Van Landuyt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/171554/avatar.png","web_url":"https://gitlab.com/reprazent"}],"author":{"id":1187333,"username":"jramsay-gitlab","name":"James Ramsay (ex-GitLab)","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1187333/avatar.png","web_url":"https://gitlab.com/jramsay-gitlab"},"type":"ISSUE","assignee":{"id":171554,"username":"reprazent","name":"Bob Van Landuyt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/171554/avatar.png","web_url":"https://gitlab.com/reprazent"},"user_notes_count":2,"merge_requests_count":2,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/4788","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/4788","notes":"https://gitlab.com/api/v4/projects/278964/issues/4788/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/4788/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#4788","relative":"#4788","full":"gitlab-org/gitlab#4788"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":41,"epic":{"id":86,"iid":41,"title":"Platform: Project export API (and import)","url":"/groups/gitlab-org/-/epics/41","group_id":9970,"human_readable_end_date":"Apr 22, 2018","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":9009905,"iid":4786,"project_id":278964,"title":"Allow External Classification Policy Authorisation to be configured without a service URL","description":"In some controlled environments it is important to mark the classification of each project but not necessary to call an external service for access to every project. In these instances there should be a way to avoid calls to the external service while still being able to add a classification to projects.\n\n### Proposal\n\nAllow 'External Classification Policy Authorisation' to be configured without setting the service URL, which will allow classifications to be configured for projects.\n\nThis will cause the external service check to be bypassed and disable access logging https://gitlab.com/gitlab-org/gitlab-ee/issues/4785 but will enable cross-project pages.\n\n### Links\n\nhttps://gitlab.com/gitlab-org/gitlab-ee/issues/4216","state":"closed","created_at":"2018-02-01T20:22:17.385Z","updated_at":"2019-08-12T15:41:14.728Z","closed_at":"2018-03-26T09:10:47.089Z","closed_by":null,"labels":["Deliverable","Enterprise Edition","External Authorization","GitLab Premium","authentication","backend","type::feature","workflow::in dev"],"milestone":{"id":424944,"iid":9,"group_id":9970,"title":"10.7","description":"","state":"closed","created_at":"2017-12-06T16:45:41.880Z","updated_at":"2018-05-11T15:04:03.492Z","due_date":"2018-04-22","start_date":"2018-03-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/9"},"assignees":[{"id":171554,"username":"reprazent","name":"Bob Van Landuyt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/171554/avatar.png","web_url":"https://gitlab.com/reprazent"}],"author":{"id":1187333,"username":"jramsay-gitlab","name":"James Ramsay (ex-GitLab)","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1187333/avatar.png","web_url":"https://gitlab.com/jramsay-gitlab"},"type":"ISSUE","assignee":{"id":171554,"username":"reprazent","name":"Bob Van Landuyt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/171554/avatar.png","web_url":"https://gitlab.com/reprazent"},"user_notes_count":1,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/4786","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/4786","notes":"https://gitlab.com/api/v4/projects/278964/issues/4786/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/4786/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#4786","relative":"#4786","full":"gitlab-org/gitlab#4786"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":64,"epic":{"id":125,"iid":64,"title":"Platform: Policy Control","url":"/groups/gitlab-org/-/epics/64","group_id":9970,"human_readable_end_date":"Apr 22, 2018","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":9009815,"iid":4785,"project_id":278964,"title":"Log access success and failure when external policy classification control is enabled","description":"In highly controlled environments, it may be necessary for access policy to be controlled by an external service that permits access based on project classification and user access. In these environments it is important to log every single call to the external policy classification control service so that individual users access patterns can be analyzed.\n\n### Proposal\n\nEach request to the service should add an entry to a dedicated log file `access-control.log` (name of file tbc), even if using a cached response from the external service.\n\nThe following fields should be logged:\n\n- user identifier\n- classification \n- project path\n\n### Links\n\nhttps://gitlab.com/gitlab-org/gitlab-ee/issues/4216","state":"closed","created_at":"2018-02-01T20:13:06.226Z","updated_at":"2019-08-12T15:41:14.787Z","closed_at":"2018-03-28T08:10:45.179Z","closed_by":null,"labels":["Deliverable","Enterprise Edition","External Authorization","GitLab Premium","authentication","backend","type::feature","workflow::in review"],"milestone":{"id":424944,"iid":9,"group_id":9970,"title":"10.7","description":"","state":"closed","created_at":"2017-12-06T16:45:41.880Z","updated_at":"2018-05-11T15:04:03.492Z","due_date":"2018-04-22","start_date":"2018-03-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/9"},"assignees":[{"id":171554,"username":"reprazent","name":"Bob Van Landuyt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/171554/avatar.png","web_url":"https://gitlab.com/reprazent"}],"author":{"id":1187333,"username":"jramsay-gitlab","name":"James Ramsay (ex-GitLab)","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1187333/avatar.png","web_url":"https://gitlab.com/jramsay-gitlab"},"type":"ISSUE","assignee":{"id":171554,"username":"reprazent","name":"Bob Van Landuyt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/171554/avatar.png","web_url":"https://gitlab.com/reprazent"},"user_notes_count":1,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/4785","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/4785","notes":"https://gitlab.com/api/v4/projects/278964/issues/4785/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/4785/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#4785","relative":"#4785","full":"gitlab-org/gitlab#4785"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":64,"epic":{"id":125,"iid":64,"title":"Platform: Policy Control","url":"/groups/gitlab-org/-/epics/64","group_id":9970,"human_readable_end_date":"Apr 22, 2018","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":9003875,"iid":4778,"project_id":278964,"title":"Etags invalidation on the Geo secondary","description":"### Summary\n\nI've been running some pipeline tests on my Geo machines, and I'm seeing the `\u003cgroup\u003e/\u003cproject\u003e/pipelines` page on the secondary does not represent the latest state of the pipelines.\n\n### Steps to reproduce\n\n1. Set up Geo\n1. (on primary) Trigger a pipeline\n1. (on secondary) Check the pipelines page of the project, the triggered pipeline will be there\n1. (on primary) Trigger another pipeline\n1. (on secondary) Check the pipelines page of the project again \n\n### What is the current *bug* behavior?\n\nOnly the pipeline shown the first time is there, not the pipeline after triggering a second one.\n\nAlthough for some reason, after x amount of time, it seems to recover and a `200` is sent (maybe the Etags mechanism forces a refresh every once in a while)\n\n### What is the expected *correct* behavior?\n\nBoth pipelines should be there.\n\n### Relevant logs and/or screenshots\n\n![image](/uploads/a02d4a6b9771058a3c107137c74e6562/image.png)\n\n### Possible fixes\n\nEtag invalidation should happen on the secondary so the user no longer will get a `304` on `\u003cgroup\u003e/\u003cproject\u003e/pipelines.json` request.","state":"closed","created_at":"2018-02-01T14:13:01.702Z","updated_at":"2022-02-28T03:03:55.768Z","closed_at":"2022-02-28T03:03:55.751Z","closed_by":{"id":1786152,"username":"gitlab-bot","name":"🤖 GitLab Bot 🤖","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1786152/avatar.png","web_url":"https://gitlab.com/gitlab-bot"},"labels":["Category:Continuous Integration","Category:Geo Replication","Enterprise Edition","[deprecated] Accepting merge requests","auto closed","devops::systems","group::geo","pipeline processing","priority::4","section::enablement","severity::4","stale","type::bug","vintage"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":660180,"username":"toon","name":"Toon Claes","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/660180/avatar.png","web_url":"https://gitlab.com/toon"},"type":"ISSUE","assignee":null,"user_notes_count":12,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/4778","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/4778","notes":"https://gitlab.com/api/v4/projects/278964/issues/4778/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/4778/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#4778","relative":"#4778","full":"gitlab-org/gitlab#4778"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4988,"epic":{"id":150815,"iid":4988,"title":"🚨 Disaster Recovery lovable maturity","url":"/groups/gitlab-org/-/epics/4988","group_id":9970,"human_readable_end_date":"Sep 17, 2023","human_readable_timestamp":"\u003cstrong\u003e8\u003c/strong\u003e months remaining"},"iteration":null,"health_status":null},{"id":24660841,"iid":20898,"project_id":278964,"title":"Issues count badge can show -1","description":"### Summary\n\nThe Issues badge in the menu on the left can show (-1) count. There cannot be negative count of issues.\n\n### Steps to reproduce\n\n1.  Create a fresh project\n2.  Send yourself a customer support request to the Service Desk.\n3.  -- Note the Issues badge shows (0)\n4.  Open the support request and Close the issue.\n5.  -- Note the Issues badge shows (-1)\n\n### What is the current *bug* behavior?\n\nThe Issues menu item can show a badge with negative count.\n\n### What is the expected *correct* behavior?\n\nThe Issues menu item should show a badge count of 0.\n\n### Relevant logs and/or screenshots\n\n![Screen_Shot_2018-02-01_at_11.20.54](/uploads/273e0d3e898661ca4b1cc1e07b240412/Screen_Shot_2018-02-01_at_11.20.54.png)\n\n### Output of checks\n\nThis bug happens on GitLab.com\n\n#### Results of GitLab environment info\n\nN/A\n\n#### Results of GitLab application Check\n\nN/A\n\n### Possible fixes\n\nCan't suggest a fix right now, I apologize.","state":"closed","created_at":"2018-02-01T10:27:53.861Z","updated_at":"2022-05-19T16:41:27.983Z","closed_at":"2020-02-16T15:35:00.074Z","closed_by":{"id":3507264,"username":"donaldcook","name":"Donald Cook","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3507264/avatar.png","web_url":"https://gitlab.com/donaldcook"},"labels":["[deprecated] Accepting merge requests","auto updated","awaiting feedback","default-priority","default-severity","devops::plan","frontend","group::project management","issues","priority::4","severity::4","type::bug"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":98605,"username":"karni","name":"Michał Karnicki","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/98605/avatar.png","web_url":"https://gitlab.com/karni"},"type":"ISSUE","assignee":null,"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/20898","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/20898","notes":"https://gitlab.com/api/v4/projects/278964/issues/20898/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/20898/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#20898","relative":"#20898","full":"gitlab-org/gitlab#20898"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":8985351,"iid":4766,"project_id":278964,"title":"Error 500 when sign out on a secondary node","description":"## Steps to reproduce:\n\n1. Sign in primary\n1. Sign in secondary\n1. Sign out primary\n1. Visit secondary\n1. Sign out secondary\n1. :boom: Error 500\n\n```\n==\u003e /var/log/gitlab/gitlab-rails/production.log \u003c==\nStarted GET \"/oauth/geo/logout?state=319f7d1684344438093f0101fac5f098%3Ar5eIEFBtcIl51_yToXJ1Om6Zx5IwgtjdBplmDGOCblI1EjFroH8kkWEFv8tP7WSk8_qPkLmsdWnocAoWgCOr_jX_VCb6RNZicPLHf64rgsc%3D\" for 177.44.45.190 at 2018-01-31 17:08:31 +0000\nProcessing by Oauth::GeoAuthController#logout as HTML\n  Parameters: {\"state\"=\u003e\"319f7d1684344438093f0101fac5f098:r5eIEFBtcIl51_yToXJ1Om6Zx5IwgtjdBplmDGOCblI1EjFroH8kkWEFv8tP7WSk8_qPkLmsdWnocAoWgCOr_jX_VCb6RNZicPLHf64rgsc=\"}\nCompleted 500 Internal Server Error in 6ms (ActiveRecord: 1.2ms | Elasticsearch: 0.0ms)\n\n==\u003e /var/log/gitlab/gitlab-rails/production_json.log \u003c==\n{\"method\":\"GET\",\"path\":\"/oauth/geo/logout\",\"format\":\"html\",\"controller\":\"Oauth::GeoAuthController\",\"action\":\"logout\",\"status\":500,\"error\":\"NoMethodError: undefined method `[]' for nil:NilClass\",\"duration\":6.54,\"view\":0.0,\"db\":1.22,\"time\":\"2018-01-31T17:08:31.536Z\",\"params\":{\"state\":\"319f7d1684344438093f0101fac5f098:r5eIEFBtcIl51_yToXJ1Om6Zx5IwgtjdBplmDGOCblI1EjFroH8kkWEFv8tP7WSk8_qPkLmsdWnocAoWgCOr_jX_VCb6RNZicPLHf64rgsc=\"},\"remote_ip\":null,\"user_id\":null,\"username\":null}\n\n==\u003e /var/log/gitlab/gitlab-rails/production.log \u003c==\n\nNoMethodError (undefined method `[]' for nil:NilClass):\n  lib/gitlab/middleware/multipart.rb:95:in `call'\n  lib/gitlab/request_profiler/middleware.rb:14:in `call'\n  lib/gitlab/jira/middleware.rb:15:in `call'\n  lib/gitlab/middleware/go.rb:18:in `call'\n  lib/gitlab/etag_caching/middleware.rb:11:in `call'\n  lib/gitlab/middleware/read_only.rb:31:in `call'\n  lib/gitlab/request_context.rb:18:in `call'\n  lib/gitlab/metrics/requests_rack_middleware.rb:27:in `call'\n\n```","state":"closed","created_at":"2018-01-31T17:23:45.149Z","updated_at":"2019-12-11T20:08:38.473Z","closed_at":"2018-11-14T20:36:02.206Z","closed_by":{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"},"labels":["Enterprise Edition","Geo Administration","default-priority","default-severity","devops::systems","group::geo","priority::3","severity::3","type::bug"],"milestone":{"id":569990,"iid":21,"group_id":9970,"title":"11.6","description":"","state":"closed","created_at":"2018-06-16T19:56:12.651Z","updated_at":"2019-01-08T21:40:29.892Z","due_date":"2018-12-22","start_date":"2018-11-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/21"},"assignees":[{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"}],"author":{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"},"type":"ISSUE","assignee":{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/4766","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/4766","notes":"https://gitlab.com/api/v4/projects/278964/issues/4766/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/4766/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#4766","relative":"#4766","full":"gitlab-org/gitlab#4766"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":8963786,"iid":4753,"project_id":278964,"title":"Tracing MVC","description":"### Problem\n\nWhile we have Metrics and Logging already available within GitLab, we don't have a true APM solution that can peer deeper into the application. For example, we may know that latency is increasing, but we won't be able to show _why_ or what function call.\n\n### Solution\n\nTracing provides this insight into the inner workings of the application, offering the ability to track spans across microservices and between different layers of a monolith. \n\nAs a first step with tracing, we should do the following:\n\n1. Add Tracing to Operations side bar, below Metrics.\n1. Clicking on Tracing would show an empty state, with a button to configure Tracing. (Only show to people with access to Settings)\n1. Clicking the button would take you to Settings -\u003e Operations (new page)\n1. Tracing URL is entered and saved on Operations page\n1. Once a URL is saved, clicking on the Tracing item in the sidebar will pop a new tab to Jaeger.\n\n### Current UX Proposal (from https://gitlab.com/gitlab-org/gitlab-ee/issues/7950)\n\n![ee_7950-jaeger-config-v12](/uploads/2d07b57c048d93532720f47adf5876b4/ee_7950-jaeger-config-v12.png)\n\n[Illustration SVG](https://gitlab.com/gitlab-org/gitlab-svgs/blob/master/illustrations/monitoring/tracing.svg)\n[Measure spec previews](http://gitlab-org.gitlab.io/gitlab-design/hosted/amelia/ee%237950-jaeger-config-spec-previews/)\n\n\n\u003cdetails\u003e\n\u003csummary\u003eOriginal Description\u003c/summary\u003e\n\n\u003cpre\u003e\u003ccode\u003e\n### Problem\n\nWhile we have Metrics and Logging already available within GitLab, we don't have a true APM solution that can peer deeper into the application. For example, we may know that latency is increasing, but we won't be able to show _why_ or what function call.\n\n### Solution\n\nTracing provides this insight into the inner workings of the application, offering the ability to track spans across microservices and between different layers of a monolith. \n\nAs a first step with tracing, we should do the following:\n- [ ] Provide a method to view the Jaeger UI from within GitLab\n- [ ] Instrument our sample apps (https://gitlab.com/gitlab-org/gitlab-ee/issues/5797)\n- [ ] Documentation on how to instrument application code with open-tracing compatible tracers \n\nWe have done some exploration on potential options for integrating the Jaeger UI with GitLab in: https://gitlab.com/gitlab-org/gitlab-ee/issues/5159. We determined that the best short term path forward was to try to use GitLab to reverse proxy the Jaeger UI from within GitLab.\n\n### Proposal\n\n#### Technical approach\n\nUtilize the Kubernetes reverse proxy capability in the api-server, to proxy through to the Jaeger UI service. This is similar to what we do for Prometheus, but instead of a webservice call we will be proxying browser traffic. We will likely need to set the `baseURL` parameter of Jaeger, for this to work.\n\nThis approach offers a few key benefits:\n1. We get to re-use the full existing authentication and authorization of GitLab, as opposed to relying on an external component. This is because Jaeger has no auth layer.\n1. We also get to re-use our existing k8s proxy functionality, which we currently use for Prometheus queries.\n\nWhen a user goes to a specific URL, for example `http://gitlab.com/namespace/project/cluster/1/proxy/app_name/#`,\nthe requests will be proxied 1:1 to the application installed through Gitlab UI. So for example, Jaeger could be `http://gitlab.com/namespace/project/cluster/1/proxy/jaeger/#`.\n\nWe should also document that any data logged to this Jaeger instance will be available to users. As we don't have a way to restrict this to only this projects\n\n#### UX Proposal\n\n* We should add `Tracing` as a new option  to the `Operations` tab, below `Logs`.\n\n\u003cimg src=\"/uploads/7d2c03637e0d3e829fc82572eaccbe8a/image.png\" width=240px /\u003e\n\n* This should then display a page within GitLab to allow users to select an environment, then a button to pop open Jaeger in a new tab.\n\n![ee_7950-jaeger-config-v10](/uploads/6ebfa20d22d842d8bc61dab22f53aa58/ee_7950-jaeger-config-v10.png)\n\n\u003c/code\u003e\u003c/pre\u003e\n\n\u003c/details\u003e","state":"closed","created_at":"2018-01-31T07:26:44.681Z","updated_at":"2019-08-12T15:41:17.560Z","closed_at":"2018-11-08T00:47:20.093Z","closed_by":{"id":408677,"username":"ClemMakesApps","name":"Clement Ho","state":"active","avatar_url":"https://secure.gravatar.com/avatar/013b4af8b474654bce8039ecd262a84a?s=80\u0026d=identicon","web_url":"https://gitlab.com/ClemMakesApps"},"labels":["Deliverable","Enterprise Edition","GitLab Ultimate","[deprecated] Accepting merge requests","backend","devops::monitor","direction","frontend","release post item","type::feature","workflow::in dev"],"milestone":{"id":567672,"iid":20,"group_id":9970,"title":"11.5","description":"","state":"closed","created_at":"2018-06-14T17:32:22.627Z","updated_at":"2018-12-20T06:50:07.124Z","due_date":"2018-11-22","start_date":"2018-10-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/20"},"assignees":[{"id":832471,"username":"psimyn","name":"Simon Knox","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3de75939c39eecd6ea2215ec740a8037?s=80\u0026d=identicon","web_url":"https://gitlab.com/psimyn"},{"id":1296187,"username":"sarrahvesselov","name":"Sarrah Vesselov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1296187/avatar.png","web_url":"https://gitlab.com/sarrahvesselov"},{"id":2799498,"username":"ameliabauerly","name":"Amelia Bauerly","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2799498/avatar.png","web_url":"https://gitlab.com/ameliabauerly"}],"author":{"id":926632,"username":"joshlambert","name":"Joshua Lambert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a0bdc5209b11e9c0953f80234dcb4ffb?s=80\u0026d=identicon","web_url":"https://gitlab.com/joshlambert"},"type":"ISSUE","assignee":{"id":832471,"username":"psimyn","name":"Simon Knox","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3de75939c39eecd6ea2215ec740a8037?s=80\u0026d=identicon","web_url":"https://gitlab.com/psimyn"},"user_notes_count":72,"merge_requests_count":2,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/4753","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":0},"weight":4,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/4753","notes":"https://gitlab.com/api/v4/projects/278964/issues/4753/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/4753/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#4753","relative":"#4753","full":"gitlab-org/gitlab#4753"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":89,"epic":{"id":158,"iid":89,"title":"Tracing MVC","url":"/groups/gitlab-org/-/epics/89","group_id":9970,"human_readable_end_date":"Dec 7, 2018","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":8963607,"iid":4752,"project_id":278964,"title":"Kubernetes Pod Logs","description":"A common need to utilize the Kubernetes dashboard is to review pod logs. This can be used to debug why a pod is restarting, failing to start, or check in on its health or activity. \n\nWe can provide this experience directly within GitLab, for the cluster that is integrated.\n\nI have proposed 2 phases of the MVC. We should get the initial MVC submitted and reviewed as an MR, but it would be ideal if we could continue on and get MVC.2 also finished in the same release. Without support for multi-container pods, a lot of users will see errors when trying to use it.\n\n#### MVC Proposal\n\n* The Pod log screen can be a dedicated screen to show the logs. An example of kubectl's view is below. \n* Entrypoint would be from Deploy Boards, once [pod tracking](https://gitlab.com/gitlab-org/gitlab-ee/issues/5242) ships. \n* For the absolute MVC, we would only support pods with a single container.\n* For this first release, not required to do a live view of the logs. Page reload will refresh the logs.\n* We should try to load a healthy amount of log data, since we will not support pagination. \n\n![Screen_Shot_2018-03-27_at_9.05.17_PM](/uploads/ebe35cab2321cc942671220431868d66/Screen_Shot_2018-03-27_at_9.05.17_PM.png)\n\n#### MVC.2 Proposal\n\n* Retrieve the list of containers within the selected pod. Show a dropdown populated with that list. Automatically select and display the logs for the first alphabetical container.\n* Add a refresh button to refresh the logs.\n\n#### Future pod log enhancements\n* Show `previous` pod logs (i.e. if the pod is crash looping, retrieve the now dead pod logs)\n* Streaming pod logs (e.g. tail -f)\n* Pagination of pod logs\n\n\n## Design\n\nDesign specs: https://gitlab-org.gitlab.io/gitlab-design/hosted/hazel/ee%234752-kubernetes-pod-logs-spec-previews/\n\n#### MVC\n\n##### Deployment board\n* The tooltip shows up when the pod box is on hover.\n* Then, the style of pod box will change to:\n - Background color --\u003e `#75D09B`\n - Border color --\u003e `#1AAA55`\n\n##### Pod logs screen\n* The `pod name` in `bold` style displays after \"Pod logs from\" in the header.\n* It has a `Refresh` button in the header, so users can refresh it manually. \n* Do not need the time span footer for this MVC.\n\n| Deployment board | Pod logs screen |\n| ---------------- | --------------- |\n| ![01-entry-point](/uploads/e0a61ca27731423b6bc6679de4350624/01-entry-point.png) | ![02-pod-logs](/uploads/210e9aeaed8bd4e58f9cf00de4700750/02-pod-logs.png) |\n\n#### MVC.2\n- It has the dropdowns in the header, so users can select the containers.\n- The width of dropdown is `360px` since the containers sometimes have the long names.\n- It has timespan of the logs on the bottom of the logs frame. (Optional, nice to have.)\n\n![pod-logs](/uploads/2f523a1f425a5b26ab37675a88b8e6c0/pod-logs.png)\n\n#### Design spec\nhttps://gitlab-org.gitlab.io/gitlab-design/hosted/hazel/ee%234752-kubernetes-pod-logs-spec-previews/","state":"closed","created_at":"2018-01-31T07:12:17.448Z","updated_at":"2019-10-10T20:06:57.732Z","closed_at":"2018-06-06T12:25:13.566Z","closed_by":{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"labels":["Deliverable","Enterprise Edition","GitLab Ultimate","backend","devops::monitor","direction","frontend","type::feature","workflow::in dev"],"milestone":{"id":362887,"iid":5,"group_id":9970,"title":"11.0","description":"https://about.gitlab.com/releases/2018/06/22/gitlab-11-0-released","state":"closed","created_at":"2017-08-22T11:26:37.313Z","updated_at":"2020-04-27T16:31:06.794Z","due_date":"2018-06-22","start_date":"2018-05-07","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/5"},"assignees":[{"id":117638,"username":"tiagonbotelho","name":"Tiago Botelho","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/117638/avatar.png","web_url":"https://gitlab.com/tiagonbotelho"},{"id":577113,"username":"hazelyang","name":"Hazel Yang","state":"active","avatar_url":"https://secure.gravatar.com/avatar/e84e4d70639ad1177276340868d7f074?s=80\u0026d=identicon","web_url":"https://gitlab.com/hazelyang"},{"id":829774,"username":"jivanvl","name":"Jose Ivan Vargas","state":"active","avatar_url":"https://secure.gravatar.com/avatar/730cc1b85a20f2a3891829f7aa198972?s=80\u0026d=identicon","web_url":"https://gitlab.com/jivanvl"}],"author":{"id":926632,"username":"joshlambert","name":"Joshua Lambert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a0bdc5209b11e9c0953f80234dcb4ffb?s=80\u0026d=identicon","web_url":"https://gitlab.com/joshlambert"},"type":"ISSUE","assignee":{"id":117638,"username":"tiagonbotelho","name":"Tiago Botelho","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/117638/avatar.png","web_url":"https://gitlab.com/tiagonbotelho"},"user_notes_count":25,"merge_requests_count":1,"upvotes":3,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/4752","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":7,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/4752","notes":"https://gitlab.com/api/v4/projects/278964/issues/4752/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/4752/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#4752","relative":"#4752","full":"gitlab-org/gitlab#4752"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":90,"epic":{"id":159,"iid":90,"title":"Kubernetes Pod Logs","url":"/groups/gitlab-org/-/epics/90","group_id":9970,"human_readable_end_date":"Jun 22, 2018","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":10912857,"iid":6089,"project_id":278964,"title":"Improve presentation of contribution analytics on group page","description":"The graph on the [contribution analytics](https://gitlab.com/groups/gitlab-org/-/analytics) does not properly display many contributors. The presentation on this page could also improve.\n\n## Proposed:\n\n![image](/uploads/bab2589c297cc68b74a8096e400a239d/image.png)\n\nChanges to be introduced:\n\n- change charts to full-width\n- `min-width` of the chart bars should be 20px\n- `max-width` of the chart bars should be 50px\n- the charts can be scrolled horizontally (by dragging) when all of the bars at their min-width don't fit\n- the possibility of horizontal scrolling should be indicated [like this](https://codepen.io/matejlatin/full/MGMQaN/)\n- update the visual style to match recent chart redesigns\n- introduce segmented control for the time period\n- update the tooltips (on hover) to match the design pattern\n- change default sort order to 'by the action in question decreasing'\n- the `max-width` for the full names in the x axis is `120px`, the name gets truncated if longer than that (use proper ellipsis symbol '…')\n- change the description on top left to 'Showing contributors from [start date] to [end date]'\n\n### Chart scrolling\nWhen scrolling to the right, the shadow should appear on the left-side of the chart. And when reaching the far end of any side, the shadow should disappear from that side.\n\nIndicating that there's more content on the right and that the chart can be scrolled:\n\n**Scroll right**\n\n![image](/uploads/1171e2b4c2bab9529525745531570811/image.png)\n\n**Scroll left**\n\n![image](/uploads/cca9ef046427495e3f566b8bc2c9400b/image.png)\n\n**Scroll either side**\n\n![image](/uploads/654611eddbc1a00a15a5d24193b52aea/image.png)\n\n## Current:\n\n![Screen_Shot_2018-01-30_at_9.52.37_AM](/uploads/4f7531d7606662b56c0f43f1207c079b/Screen_Shot_2018-01-30_at_9.52.37_AM.png)","state":"closed","created_at":"2018-01-30T17:54:02.067Z","updated_at":"2019-08-12T15:41:35.031Z","closed_at":"2018-07-06T16:02:06.924Z","closed_by":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"labels":["Deliverable","Enterprise Edition","UI polish","analytics","frontend","severity::3","type::bug","workflow::in review"],"milestone":{"id":450583,"iid":13,"group_id":9970,"title":"11.1","description":"","state":"closed","created_at":"2018-01-23T21:40:27.318Z","updated_at":"2018-11-06T19:17:01.295Z","due_date":"2018-07-22","start_date":"2018-06-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/13"},"assignees":[{"id":626804,"username":"pedroms","name":"Pedro Moreira da Silva","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c306f087d191ac15549f3c11e3bed321?s=80\u0026d=identicon","web_url":"https://gitlab.com/pedroms"},{"id":636429,"username":"mikegreiling","name":"Mike Greiling","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/636429/avatar.png","web_url":"https://gitlab.com/mikegreiling"},{"id":829774,"username":"jivanvl","name":"Jose Ivan Vargas","state":"active","avatar_url":"https://secure.gravatar.com/avatar/730cc1b85a20f2a3891829f7aa198972?s=80\u0026d=identicon","web_url":"https://gitlab.com/jivanvl"},{"id":1859215,"username":"matejlatin","name":"Matej Latin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1859215/avatar.png","web_url":"https://gitlab.com/matejlatin"}],"author":{"id":516904,"username":"tauriedavis","name":"Taurie Davis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/516904/avatar.png","web_url":"https://gitlab.com/tauriedavis"},"type":"ISSUE","assignee":{"id":626804,"username":"pedroms","name":"Pedro Moreira da Silva","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c306f087d191ac15549f3c11e3bed321?s=80\u0026d=identicon","web_url":"https://gitlab.com/pedroms"},"user_notes_count":50,"merge_requests_count":2,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/6089","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":6,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/6089","notes":"https://gitlab.com/api/v4/projects/278964/issues/6089/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/6089/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#6089","relative":"#6089","full":"gitlab-org/gitlab#6089"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":8952443,"iid":4745,"project_id":278964,"title":"Epics are findable in Basic Search","description":"## Release note\n\nThe popularity of Epics in GitLab continues to grow. Finding epics can be a little more difficult than finding other content types. \n\nTo make this easier we have added epics as a new search scope to Basic Search. \n\nImage: TBD\nDocumentation: TBD\n \n\n## Details\n\nThese fields should be added to basic search\n- Epic title\n- Epic description\n\nEpics should be listed in the top tabs after MRs. \n\nThis should support both Elasticsearch and instances not using Elasticsearch.\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2018-01-30T16:14:36.116Z","updated_at":"2022-05-31T12:05:08.614Z","closed_at":"2020-09-30T01:19:19.657Z","closed_by":{"id":120073,"username":"DylanGriffith","name":"Dylan Griffith","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/120073/avatar.png","web_url":"https://gitlab.com/DylanGriffith"},"labels":["Category:Global Search","Category:Portfolio Management","Enterprise Edition","UX","advanced search","backend","customer","devops::data_stores","direction","epics","group::global search","internal customer","section::enablement","workflow::planning breakdown"],"milestone":{"id":1233754,"iid":52,"group_id":9970,"title":"13.5","description":"https://about.gitlab.com/releases/2020/10/22/gitlab-13-5-released/","state":"closed","created_at":"2020-04-09T17:39:21.990Z","updated_at":"2022-04-21T07:21:12.213Z","due_date":"2020-10-17","start_date":"2020-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/52"},"assignees":[{"id":5054237,"username":"dgruzd","name":"Dmitry Gruzd","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5054237/avatar.png","web_url":"https://gitlab.com/dgruzd"}],"author":{"id":711023,"username":"victorwu","name":"Victor Wu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/711023/avatar.png","web_url":"https://gitlab.com/victorwu"},"type":"ISSUE","assignee":{"id":5054237,"username":"dgruzd","name":"Dmitry Gruzd","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5054237/avatar.png","web_url":"https://gitlab.com/dgruzd"},"user_notes_count":28,"merge_requests_count":2,"upvotes":8,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/4745","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":4,"blocking_issues_count":1,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/4745","notes":"https://gitlab.com/api/v4/projects/278964/issues/4745/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/4745/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#4745","relative":"#4745","full":"gitlab-org/gitlab#4745"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3203,"epic":{"id":49763,"iid":3203,"title":"Advanced Global Search Improve and Optimize Recall","url":"/groups/gitlab-org/-/epics/3203","group_id":9970,"human_readable_end_date":"Dec 16, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":8945744,"iid":4738,"project_id":278964,"title":"Remove complicated `number_of_potential_approvers` calculation","description":"At the moment, approvals works like this:\n\n1. You set a number of approvals required for MRs at the project level.\n2. You can optionally increase this number on the MR.\n3. You cannot approve your own MR.\n4. If you have set the number of required approvals to greater than the number of listed approvers (including group members when a group is allowed to approve), we allow project members to approve.\n5. If there are still not enough people to approve the MR, we reduce the number of approvals required to match the number of approvers available.\n\nThis is a problem for showing approval information in list views, because we have to do a (quite complicated) calculation for each MR.\n\nOnce we do https://gitlab.com/gitlab-org/gitlab-ee/issues/3349, we don't need to do this, because the main exception was when the author needed to approve.\n\nIn the case where someone has specified more individual people than can see the MR, that's just an error and you can fix that by editing the project settings.\n\nSo in calculating whether an MR is approved, we can always just use the `approvals_required` field on the MR / project, without trying to reduce it through a calculation like the above.","state":"closed","created_at":"2018-01-30T09:59:04.917Z","updated_at":"2021-05-06T15:55:38.151Z","closed_at":"2018-09-05T15:36:40.984Z","closed_by":{"id":87854,"username":"DouweM","name":"Douwe Maan","state":"active","avatar_url":"https://secure.gravatar.com/avatar/73d1548ae618321220679b3a4fda7fb1?s=80\u0026d=identicon","web_url":"https://gitlab.com/DouweM"},"labels":["Create [DEPRECATED]","Deliverable","Enterprise Edition","approvals","backend","bug::performance","devops::create","merge requests","workflow::in review"],"milestone":{"id":502939,"iid":17,"group_id":9970,"title":"11.3","description":"","state":"closed","created_at":"2018-04-09T17:59:35.838Z","updated_at":"2018-11-06T19:17:11.721Z","due_date":"2018-09-22","start_date":"2018-08-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/17"},"assignees":[{"id":11493,"username":"oswaldo","name":"Oswaldo Ferreira","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11493/avatar.png","web_url":"https://gitlab.com/oswaldo"}],"author":{"id":443319,"username":"smcgivern","name":"Sean McGivern","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/443319/avatar.png","web_url":"https://gitlab.com/smcgivern"},"type":"ISSUE","assignee":{"id":11493,"username":"oswaldo","name":"Oswaldo Ferreira","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11493/avatar.png","web_url":"https://gitlab.com/oswaldo"},"user_notes_count":11,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/4738","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/4738","notes":"https://gitlab.com/api/v4/projects/278964/issues/4738/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/4738/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#4738","relative":"#4738","full":"gitlab-org/gitlab#4738"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2,"epic":{"id":2,"iid":2,"title":"Increase approvals usage","url":"/groups/gitlab-org/-/epics/2","group_id":9970,"human_readable_end_date":"Sep 22, 2018","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":8920573,"iid":4731,"project_id":278964,"title":"Geo selective sync API support","description":"The following discussion from !4286 should be addressed:\n\n- [ ] @nick.thomas started a [discussion](https://gitlab.com/gitlab-org/gitlab-ee/merge_requests/4286#note_56578851): \n\n    \u003e On the subject, it seems a little odd that you can't see or manage selective sync settings in the main Geo API. I'll create a follow-up issue for that.\n\nThe GeoNode entity and Geo API needs support adding for:\n\n* `selective_sync_type`\n* `selective_sync_shards`\n* `namespace_ids` (probably best named `selective_sync_namespace_ids` for clarity and consistency)\n","state":"closed","created_at":"2018-01-29T13:36:48.307Z","updated_at":"2020-04-16T23:46:28.947Z","closed_at":"2020-01-27T18:47:29.119Z","closed_by":{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"},"labels":["Enterprise Edition","Geo Administration","[deprecated] Accepting merge requests","api","devops::systems","group::geo","priority::4","type::feature","workflow::in dev"],"milestone":{"id":1001915,"iid":43,"group_id":9970,"title":"12.8","description":"https://about.gitlab.com/releases/2020/02/22/gitlab-12-8-released","state":"closed","created_at":"2019-09-15T20:53:58.792Z","updated_at":"2020-05-19T14:23:44.837Z","due_date":"2020-02-17","start_date":"2020-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/43"},"assignees":[],"author":{"id":572018,"username":"nick.thomas","name":"Nick Thomas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/572018/avatar.png","web_url":"https://gitlab.com/nick.thomas"},"type":"ISSUE","assignee":null,"user_notes_count":11,"merge_requests_count":2,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/4731","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":4,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/4731","notes":"https://gitlab.com/api/v4/projects/278964/issues/4731/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/4731/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#4731","relative":"#4731","full":"gitlab-org/gitlab#4731"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":1195,"epic":{"id":6105,"iid":1195,"title":"Geo: Selective Sync Enhancements (Awaiting Further Demand)","url":"/groups/gitlab-org/-/epics/1195","group_id":9970},"iteration":null,"health_status":null},{"id":8909146,"iid":4727,"project_id":278964,"title":"Approvals avatars and buttons","description":"Continuation of https://gitlab.com/gitlab-org/gitlab-ee/issues/4134 and https://gitlab.com/gitlab-org/gitlab-ee/issues/2452\n\n### Description\nTo simplify design and implementation, each part of the approvals UI is independently displayed based on the following:\n\n#### Check mark versus exclamation mark\n- If the merge request has passed approvals (required number of approvals is reached), display a check mark.\n- If the merge request has not passed approvals, display an exclamation mark.\n\n### Approve and approve additionally buttons\n- If the user is not eligible to approve, to not show anything here.\n- If the user has already approved the merge request, do not show anything here.\n- If the user has _not_ approved:\n  - If the number of approvals is less than the required number, display `Approve`.\n  - If the number of approvals is equal or greater than the required number, display `Approve additionally`.\n\n### `Requires x more` and `Enough approvals, additional from` text copy\n\n- If the merge request requires more approvals to be passed, display `Requires x more approvals from`, where `x` is the number of approvals more to pass.\n- If the merge request has already the number of approvals met, display `Enough approvals, additional from`.\n\n### Eligible approvers avatars\n- Display explicit eligible individual approvers who have currently _not_ approved yet.\n- Display explicit eligible group approvers. Always display the explicit group approver avatars, even if every member of the group has already approved. (This is to simplify the logic.)\n- If in the `m \u003e n` case of #4134, then display a special avatar that represents project members with developer role or higher. Maybe have a tooltip and/or link to docs. But use an avatar to streamline the design with individuals and groups.\n\n### Approved by avatars\n- Display `Approved by` with the avatars, if at least one individual has approved.\n- Don't display anything if no one has approved.\n- Only display the avatar of any individual who has approved.\n- Don't display any group avatars.\n- Don't display any empty dotted circles.\n\n### Remove approval button\n- Display the `Remove approval` button if you have already approved.","state":"closed","created_at":"2018-01-28T20:23:09.684Z","updated_at":"2022-09-21T19:14:01.356Z","closed_at":"2022-09-21T19:14:01.331Z","closed_by":{"id":4391348,"username":"sean_carroll","name":"Sean Carroll","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4391348/avatar.png","web_url":"https://gitlab.com/sean_carroll"},"labels":["Category:Source Code Management","Create [DEPRECATED]","Enterprise Edition","UX","[deprecated] Accepting merge requests","approvals","devops::create","group::source code","section::dev"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":711023,"username":"victorwu","name":"Victor Wu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/711023/avatar.png","web_url":"https://gitlab.com/victorwu"},"type":"ISSUE","assignee":null,"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/4727","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/4727","notes":"https://gitlab.com/api/v4/projects/278964/issues/4727/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/4727/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#4727","relative":"#4727","full":"gitlab-org/gitlab#4727"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3,"epic":{"id":3,"iid":3,"title":"More granular approvals","url":"/groups/gitlab-org/-/epics/3","group_id":9970},"iteration":null,"health_status":null},{"id":8873341,"iid":4723,"project_id":278964,"title":"Add option to overwrite diverged branches when pull mirroring","description":"When using pull mirroring for CI/CD-only workflows, a rebase or force push on a feature branch will prevent further CI/CD tests being run on that branch because it will diverge from the branch mirrored to GitLab. We should add an option to GitLab to always overwrite the version in GitLab if the upstream branch diverges.\n\n## Proposal\n\n- Add an option to pull mirroring `Overwrite diverged branches`\n- Automatically enable this option for CI/CD only projects","state":"closed","created_at":"2018-01-26T15:25:24.894Z","updated_at":"2019-08-12T15:41:36.913Z","closed_at":"2018-02-22T16:15:29.446Z","closed_by":null,"labels":["Deliverable","Enterprise Edition","backend","mirror","type::feature","workflow::in review"],"milestone":{"id":416486,"iid":8,"group_id":9970,"title":"10.6","description":"https://about.gitlab.com/releases/2018/03/22/gitlab-10-6-released","state":"closed","created_at":"2017-11-21T20:05:35.697Z","updated_at":"2020-04-27T16:30:32.220Z","due_date":"2018-03-22","start_date":"2018-02-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/8"},"assignees":[{"id":117638,"username":"tiagonbotelho","name":"Tiago Botelho","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/117638/avatar.png","web_url":"https://gitlab.com/tiagonbotelho"}],"author":{"id":1187333,"username":"jramsay-gitlab","name":"James Ramsay (ex-GitLab)","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1187333/avatar.png","web_url":"https://gitlab.com/jramsay-gitlab"},"type":"ISSUE","assignee":{"id":117638,"username":"tiagonbotelho","name":"Tiago Botelho","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/117638/avatar.png","web_url":"https://gitlab.com/tiagonbotelho"},"user_notes_count":4,"merge_requests_count":1,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/4723","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/4723","notes":"https://gitlab.com/api/v4/projects/278964/issues/4723/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/4723/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#4723","relative":"#4723","full":"gitlab-org/gitlab#4723"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":8873128,"iid":4721,"project_id":278964,"title":"Enable GitHub project service integration when creating a CI/CD only project","description":"When GitLab CI/CD executes pipelines for a project that mirrors a GitHub project, the pipeline status is visible only in GitLab. This requires users to go to GitLab in order to see the health of their project, while they should be able to see it directly in the GitHub interface.\n\nIn https://gitlab.com/gitlab-org/gitlab-ee/issues/3836 we will add a service integration that would need to be manually configured. We should automatically enable this integration when creating a CI/CD only project from GitHub.\n\n### Proposal\n\n- During CI/CD-only project creation and import from GitHub we should use the OAuth credentials we already have to configure the service integration\n\n### Links","state":"closed","created_at":"2018-01-26T15:09:41.377Z","updated_at":"2019-08-12T15:41:37.035Z","closed_at":"2018-03-07T22:49:26.976Z","closed_by":null,"labels":["Deliverable","Enterprise Edition","backend","mirror","type::feature","workflow::in review"],"milestone":{"id":416486,"iid":8,"group_id":9970,"title":"10.6","description":"https://about.gitlab.com/releases/2018/03/22/gitlab-10-6-released","state":"closed","created_at":"2017-11-21T20:05:35.697Z","updated_at":"2020-04-27T16:30:32.220Z","due_date":"2018-03-22","start_date":"2018-02-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/8"},"assignees":[{"id":654619,"username":"jamedjo","name":"James Edwards-Jones","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/654619/avatar.png","web_url":"https://gitlab.com/jamedjo"}],"author":{"id":1187333,"username":"jramsay-gitlab","name":"James Ramsay (ex-GitLab)","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1187333/avatar.png","web_url":"https://gitlab.com/jramsay-gitlab"},"type":"ISSUE","assignee":{"id":654619,"username":"jamedjo","name":"James Edwards-Jones","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/654619/avatar.png","web_url":"https://gitlab.com/jamedjo"},"user_notes_count":1,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/4721","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/4721","notes":"https://gitlab.com/api/v4/projects/278964/issues/4721/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/4721/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#4721","relative":"#4721","full":"gitlab-org/gitlab#4721"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":24660679,"iid":20827,"project_id":278964,"title":"Controller Projects::MergeRequestsController#update executes more than 100 SQL queries","description":"This controller executes more than 100 SQL queries, the maximum number of\nqueries allowed as per MR\nhttps://gitlab.com/gitlab-org/gitlab-ce/merge_requests/16466.  The number of\nqueries should be reduced to less than 100 and the corresponding whitelisted\nsections of code (`Gitlab::QueryLimiting.whitelist('...')`) should be removed.","state":"closed","created_at":"2018-01-25T15:25:10.963Z","updated_at":"2021-10-28T05:07:18.623Z","closed_at":"2021-05-17T06:42:59.151Z","closed_by":{"id":1884221,"username":"patrickbajao","name":"Patrick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1884221/avatar.png","web_url":"https://gitlab.com/patrickbajao"},"labels":["Architecture decision","Category:Code Review Workflow","Create [DEPRECATED]","backend","bug::performance","database","devops::create","group::code review","merge requests","missed:13.11","priority::2","quad-planning::complete-no-action","querylimiting-disable","section::dev","severity::3"],"milestone":{"id":1233762,"iid":58,"group_id":9970,"title":"13.12","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.948Z","updated_at":"2022-04-21T07:22:18.898Z","due_date":"2021-05-17","start_date":"2021-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/58"},"assignees":[{"id":1884221,"username":"patrickbajao","name":"Patrick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1884221/avatar.png","web_url":"https://gitlab.com/patrickbajao"}],"author":{"id":209240,"username":"yorickpeterse","name":"Yorick Peterse","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/209240/avatar.png","web_url":"https://gitlab.com/yorickpeterse"},"type":"ISSUE","assignee":{"id":1884221,"username":"patrickbajao","name":"Patrick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1884221/avatar.png","web_url":"https://gitlab.com/patrickbajao"},"user_notes_count":18,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/20827","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/20827","notes":"https://gitlab.com/api/v4/projects/278964/issues/20827/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/20827/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#20827","relative":"#20827","full":"gitlab-org/gitlab#20827"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5760,"epic":{"id":249877,"iid":5760,"title":"Improve MergeRequests::UpdateService performance further","url":"/groups/gitlab-org/-/epics/5760","group_id":9970,"human_readable_end_date":"May 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":24660672,"iid":20825,"project_id":278964,"title":"Controller Boards::IssuesController#update executes more than 100 SQL queries","description":"This controller executes more than 100 SQL queries, the maximum number of\nqueries allowed as per MR\nhttps://gitlab.com/gitlab-org/gitlab-ce/merge_requests/16466.  The number of\nqueries should be reduced to less than 100 and the corresponding whitelisted\nsections of code (`Gitlab::QueryLimiting.whitelist('...')`) should be removed.","state":"closed","created_at":"2018-01-25T15:23:26.958Z","updated_at":"2022-05-19T16:41:25.802Z","closed_at":"2019-10-30T09:23:39.155Z","closed_by":{"id":443319,"username":"smcgivern","name":"Sean McGivern","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/443319/avatar.png","web_url":"https://gitlab.com/smcgivern"},"labels":["Category:Team Planning","Deliverable","backend","boards","bug::performance","database","devops::plan","group::project management","missed-deliverable","missed:12.3","missed:12.4","priority::3","querylimiting-disable","severity::4","workflow::in review"],"milestone":{"id":891796,"iid":39,"group_id":9970,"title":"12.5","description":"https://about.gitlab.com/releases/2019/11/22/gitlab-12-5-released","state":"closed","created_at":"2019-05-31T08:38:03.087Z","updated_at":"2020-04-27T16:27:03.474Z","due_date":"2019-11-17","start_date":"2019-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/39"},"assignees":[{"id":2880930,"username":"engwan","name":"Heinrich Lee Yu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2880930/avatar.png","web_url":"https://gitlab.com/engwan"}],"author":{"id":209240,"username":"yorickpeterse","name":"Yorick Peterse","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/209240/avatar.png","web_url":"https://gitlab.com/yorickpeterse"},"type":"ISSUE","assignee":{"id":2880930,"username":"engwan","name":"Heinrich Lee Yu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2880930/avatar.png","web_url":"https://gitlab.com/engwan"},"user_notes_count":17,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/20825","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/20825","notes":"https://gitlab.com/api/v4/projects/278964/issues/20825/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/20825/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#20825","relative":"#20825","full":"gitlab-org/gitlab#20825"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":24660661,"iid":20820,"project_id":278964,"title":"Controller Admin::ServicesController#index executes more than 100 SQL queries","description":"This controller executes more than 100 SQL queries, the maximum number of\nqueries allowed as per MR\nhttps://gitlab.com/gitlab-org/gitlab-ce/merge_requests/16466.  The number of\nqueries should be reduced to less than 100 and the corresponding whitelisted\nsections of code (`Gitlab::QueryLimiting.whitelist('...')`) should be removed.","state":"closed","created_at":"2018-01-25T14:15:27.772Z","updated_at":"2022-11-22T20:22:53.854Z","closed_at":"2020-03-24T16:03:30.807Z","closed_by":{"id":660180,"username":"toon","name":"Toon Claes","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/660180/avatar.png","web_url":"https://gitlab.com/toon"},"labels":["admin dashboard","bug::performance","database","devops::manage","group::ecosystem [DEPRECATED]","priority::4","querylimiting-disable","severity::4"],"milestone":{"id":1104429,"iid":46,"group_id":9970,"title":"12.10","description":"https://about.gitlab.com/releases/2020/04/22/gitlab-12-10-released","state":"closed","created_at":"2019-12-20T15:15:53.243Z","updated_at":"2020-10-08T12:00:39.852Z","due_date":"2020-04-17","start_date":"2020-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/46"},"assignees":[{"id":1315742,"username":"arturoherrero","name":"Arturo Herrero","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1315742/avatar.png","web_url":"https://gitlab.com/arturoherrero"}],"author":{"id":209240,"username":"yorickpeterse","name":"Yorick Peterse","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/209240/avatar.png","web_url":"https://gitlab.com/yorickpeterse"},"type":"ISSUE","assignee":{"id":1315742,"username":"arturoherrero","name":"Arturo Herrero","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1315742/avatar.png","web_url":"https://gitlab.com/arturoherrero"},"user_notes_count":3,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/20820","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/20820","notes":"https://gitlab.com/api/v4/projects/278964/issues/20820/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/20820/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#20820","relative":"#20820","full":"gitlab-org/gitlab#20820"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":24660643,"iid":20811,"project_id":278964,"title":"Include commit message in wiki page edit Slack notifications","description":"Currently, in at least up to 10.3.6, Slack notifications for wiki page edits do not include the commit message. This is pretty much the most interesting thing a notification for a wiki page edit would have (in addition to perhaps link to a diff what changed, but I suppose that's not doable at the moment).\n\nSo, please change Slack wiki edit notifications to include the commit message. (And similarly also for other wiki change notifications, unless they're already included in them, haven't checked.)","state":"closed","created_at":"2018-01-25T12:37:13.781Z","updated_at":"2021-06-11T02:55:36.576Z","closed_at":"2021-06-04T07:45:46.773Z","closed_by":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier López","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"labels":["Category:Wiki","backend","devops::create","group::editor","notifications","section::dev","type::feature"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":955795,"username":"fjsanpedro","name":"Francisco Javier López","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"}],"author":{"id":663784,"username":"scop","name":"Ville Skyttä","state":"active","avatar_url":"https://secure.gravatar.com/avatar/408c72fcc8d8cbdad230ca3277c74bf2?s=80\u0026d=identicon","web_url":"https://gitlab.com/scop"},"type":"ISSUE","assignee":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier López","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"user_notes_count":23,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/20811","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/20811","notes":"https://gitlab.com/api/v4/projects/278964/issues/20811/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/20811/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#20811","relative":"#20811","full":"gitlab-org/gitlab#20811"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":697,"epic":{"id":2955,"iid":697,"title":"Improve Slack integration for Wikis","url":"/groups/gitlab-org/-/epics/697","group_id":9970,"human_readable_end_date":"Jun 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":8839267,"iid":4691,"project_id":278964,"title":"Automatically create push event web hook when importing a CI/CD only project from GitHub","description":"When importing a project and I enable mirroring when importing, GitLab will enable pull mirroring, but the mirror can lag its source by up to an hour.\n\nWhen importing a CI/CD only project from GitHub via API we should automatically create push event web hooks in GitHub to make pull mirroring fast by default.\n\n## Proposal\n\n- create web hooks in GitHub automatically when I create a CI/CD only project via GitHub API import to call the GitLab pull mirror API on push events\n\nFuture improvements (probably not in %10.6)\n\n- Add capability to create/repair/remove web hooks from the pull mirroring interface\n\n## Links\n\n- [GitHub API: create a hook](https://developer.github.com/v3/repos/hooks/#create-a-hook)","state":"closed","created_at":"2018-01-25T00:39:44.151Z","updated_at":"2019-08-12T15:41:39.238Z","closed_at":"2018-03-07T21:27:52.140Z","closed_by":null,"labels":["Deliverable","Enterprise Edition","backend","direction","mirror","type::feature","workflow::in review"],"milestone":{"id":416486,"iid":8,"group_id":9970,"title":"10.6","description":"https://about.gitlab.com/releases/2018/03/22/gitlab-10-6-released","state":"closed","created_at":"2017-11-21T20:05:35.697Z","updated_at":"2020-04-27T16:30:32.220Z","due_date":"2018-03-22","start_date":"2018-02-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/8"},"assignees":[{"id":280339,"username":"rdavila","name":"Rubén Dávila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/280339/avatar.png","web_url":"https://gitlab.com/rdavila"}],"author":{"id":1187333,"username":"jramsay-gitlab","name":"James Ramsay (ex-GitLab)","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1187333/avatar.png","web_url":"https://gitlab.com/jramsay-gitlab"},"type":"ISSUE","assignee":{"id":280339,"username":"rdavila","name":"Rubén Dávila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/280339/avatar.png","web_url":"https://gitlab.com/rdavila"},"user_notes_count":5,"merge_requests_count":1,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/4691","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":4,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/4691","notes":"https://gitlab.com/api/v4/projects/278964/issues/4691/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/4691/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#4691","relative":"#4691","full":"gitlab-org/gitlab#4691"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":8834087,"iid":4687,"project_id":278964,"title":"Existing approval should remain even approver is no longer eligible","description":"Continuation of https://gitlab.com/gitlab-org/gitlab-ee/issues/4134:\n\n### Description\n- Suppose that you have approved a merge request.\n- Suppose that per the system logic in https://gitlab.com/gitlab-org/gitlab-ee/issues/4134, you are _no longer_ allowed to approve because of a change.\n- Everybody who navigates to the merge request will see that you have approved.\n- Your approval still counts as an approval for that merge request. It is still a valid approval. It still counts. The Web UI still shows it. The API still returns it.\n- When you navigate to the merge request, you _can_ remove your approval.\n- If you remove your approval, you can no longer approve it again, because you are no longer allowed to approve.\n\nPossible reasons why you are no longer a valid approver.\n- You were previously an explicit individual approver at the project level or mr level. And you were subsequently removed.\n- You were previously part of a group approver at the project level or mr level. \n  - You were removed from that group.\n  - The group was removed from the project or mr as an approver.\n- You were previously an implicit individual approver at the project level\n  - Because either `m` or `n` changed in #4134, so that implicit individual approvers are no longer allowed to approve.\n  - Your role was changed to be below Developer role.","state":"closed","created_at":"2018-01-24T17:57:52.182Z","updated_at":"2022-05-19T16:41:16.679Z","closed_at":"2018-01-31T13:25:38.680Z","closed_by":null,"labels":["Enterprise Edition","approvals","devops::plan","documentation"],"milestone":null,"assignees":[],"author":{"id":711023,"username":"victorwu","name":"Victor Wu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/711023/avatar.png","web_url":"https://gitlab.com/victorwu"},"type":"ISSUE","assignee":null,"user_notes_count":2,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/4687","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/4687","notes":"https://gitlab.com/api/v4/projects/278964/issues/4687/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/4687/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#4687","relative":"#4687","full":"gitlab-org/gitlab#4687"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3,"epic":{"id":3,"iid":3,"title":"More granular approvals","url":"/groups/gitlab-org/-/epics/3","group_id":9970},"iteration":null,"health_status":null},{"id":8832100,"iid":4684,"project_id":278964,"title":"Grouping issues by milestone in epic","description":"### Problem\n- Currently in an epic, you can re-order issues in the issues list. This gives flexibility for indicating priority or order of work.\n- In some other use cases, we want to view the issues separated by milestone. This will make it very easy (and automated) to which issues are upcoming and which have been done in future and previous milestones.\n- How can we solve this problem of being able to track issues in the epic by milestone? How can we still have re-ordering capability? What happens to milestones that have no start date or no end date or not both?\n\n### Design artifact requirements\n- How should issues be viewed in an epic, so that you can see the milestone that they belong to.\n\n### Proposal\n\nhttps://gitlab.com/gitlab-org/gitlab-ee/issues/6086 already plans to show the milestone assigned to epic issues [mockup](https://gitlab.com/gitlab-org/gitlab-ee/uploads/f56eafb73f699c8e53b7074b1e3ab6a7/image.png)\n\nFor a first iteration, let's show different headers for milestones inside the epic issues list:\n\n![image](https://gitlab.com/gitlab-org/gitlab-ee/uploads/e690bacef72ad1a5b6577a0c65855e8b/New_Mockup_6.png)","state":"closed","created_at":"2018-01-24T16:25:57.772Z","updated_at":"2022-05-19T16:41:16.093Z","closed_at":"2019-10-28T22:07:52.957Z","closed_by":{"id":4478389,"username":"kokeefe","name":"Keanon O'Keefe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4478389/avatar.png","web_url":"https://gitlab.com/kokeefe"},"labels":["Category:Portfolio Management","Enterprise Edition","GitLab Ultimate","UX","[deprecated] Accepting merge requests","backend","devops::plan","epics","frontend","group::product planning","milestones","type::feature","workflow::start"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":711023,"username":"victorwu","name":"Victor Wu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/711023/avatar.png","web_url":"https://gitlab.com/victorwu"},"type":"ISSUE","assignee":null,"user_notes_count":10,"merge_requests_count":0,"upvotes":4,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/4684","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/4684","notes":"https://gitlab.com/api/v4/projects/278964/issues/4684/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/4684/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#4684","relative":"#4684","full":"gitlab-org/gitlab#4684"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2024,"epic":{"id":13463,"iid":2024,"title":"Epic List and Tree view MVC","url":"/groups/gitlab-org/-/epics/2024","group_id":9970,"human_readable_end_date":"Jan 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":24660611,"iid":20799,"project_id":278964,"title":"repository_update_events parameter ignored in API use","description":"------\n\n### Summary\n\nAPI request settings hasn't effect for system hook setings\n\n### Steps to reproduce\n\n* Run GitLab Community Edition 10.4.0 in Docker\n* Generate personal token\n* Create system hook using API:\n\n`curl --request POST --header \"PRIVATE-TOKEN: token\" \"http://gitlab.example.com/api/v4/hooks?url=http://example.com\u0026repository_update_events=false\"`\n\n### What is the current *bug* behavior?\n\nHTTP response\n\n```{\"id\":8,\"url\":\"http://example.com\",\"created_at\":\"2018-01-24T15:23:07.932Z\",\"push_events\":false,\"tag_push_events\":false,\"repository_update_events\":**true**,\"enable_ssl_verification\":true}```\n\nIn web UI Repository Update Events also set as \"True\"\n\n### What is the expected *correct* behavior?\n\nRepository Update Events set as \"False\"\n\n### Relevant logs and/or screenshots\n\n**api_json.log**\n\n```{\"time\":\"2018-01-24T15:23:07.934Z\",\"severity\":\"INFO\",\"duration\":7.71,\"db\":2.03,\"view\":5.68,\"status\":201,\"method\":\"POST\",\"path\":\"/api/v4/hooks\",\"params\":{\"url\":\"http://example.com\",\"repository_update_events\":\"false\"},\"host\":\"gitlab.example.com\",\"ip\":\"172.20.46.34, 100.96.1.60\",\"ua\":\"curl/7.56.1\"}```\n\n#### Results of GitLab environment info\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to GitLab environment info\u003c/summary\u003e\n\u003cpre\u003e\nSystem information\nSystem:\nCurrent User:   git\nUsing RVM:      no\nRuby Version:   2.3.6p384\nGem Version:    2.6.13\nBundler Version:1.13.7\nRake Version:   12.3.0\nRedis Version:  3.2.11\nGit Version:    2.14.3\nSidekiq Version:5.0.5\nGo Version:     unknown\n\nGitLab information\nVersion:        10.4.0\nRevision:       128ef10\nDirectory:      /opt/gitlab/embedded/service/gitlab-rails\nDB Adapter:     postgresql\nURL:            http://gitlab.example.com\nHTTP Clone URL: http://gitlab.example.com/some-group/some-project.git\nSSH Clone URL:  git@gitlab.example.com:some-group/some-project.git\nUsing LDAP:     no\nUsing Omniauth: no\n\nGitLab Shell\nVersion:        5.11.0\nRepository storage paths:\n- default:      /var/opt/gitlab/git-data/repositories\nHooks:          /opt/gitlab/embedded/service/gitlab-shell/hooks\nGit:            /opt/gitlab/embedded/bin/git\n\u003c/pre\u003e\n\u003c/details\u003e\n\n#### Results of GitLab application Check\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to the GitLab application check\u003c/summary\u003e\n\u003cpre\u003e\nChecking GitLab Shell ...\n\nGitLab Shell version \u003e= 5.11.0 ? ... OK (5.11.0)\nRepo base directory exists?\ndefault... yes\nRepo storage directories are symlinks?\ndefault... no\nRepo paths owned by git:root, or git:git?\ndefault... yes\nRepo paths access is drwxrws---?\ndefault... yes\nhooks directories in repos are links: ...\n1/1 ... repository is empty\nRunning /opt/gitlab/embedded/service/gitlab-shell/bin/check\nCheck GitLab API access: OK\nRedis available via internal API: OK\n\nAccess to /var/opt/gitlab/.ssh/authorized_keys: OK\ngitlab-shell self-check successful\n\nChecking GitLab Shell ... Finished\n\nChecking Sidekiq ...\n\nRunning? ... yes\nNumber of Sidekiq processes ... 1\n\nChecking Sidekiq ... Finished\n\nReply by email is disabled in config/gitlab.yml\nChecking LDAP ...\n\nLDAP is disabled in config/gitlab.yml\n\nChecking LDAP ... Finished\nChecking GitLab ...\n\nGit configured correctly? ... yes\nDatabase config exists? ... yes\nAll migrations up? ... yes\nDatabase contains orphaned GroupMembers? ... no\nGitLab config exists? ... yes\nGitLab config up to date? ... yes\nLog directory writable? ... yes\nTmp directory writable? ... yes\nUploads directory exists? ... yes\nUploads directory has correct permissions? ... yes\nUploads directory tmp has correct permissions? ... skipped (no tmp uploads folder yet)\nInit script exists? ... skipped (omnibus-gitlab has no init script)\nInit script up-to-date? ... skipped (omnibus-gitlab has no init script)\nProjects have namespace: ...\n1/1 ... yes\nRedis version \u003e= 2.8.0? ... yes\nRuby version \u003e= 2.3.5 ? ... yes (2.3.6)\nGit version \u003e= 2.7.3 ? ... yes (2.14.3)\nGit user has default SSH configuration? ... yes\nActive users: ... 1\n\nChecking GitLab ... Finished\n\u003c/pre\u003e\n\u003c/details\u003e","state":"closed","created_at":"2018-01-24T15:34:04.747Z","updated_at":"2022-11-24T18:25:18.807Z","closed_at":"2021-06-23T01:09:17.993Z","closed_by":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"labels":["Category:Webhooks","Create [DEPRECATED]","Manage [DEPRECATED]","[deprecated] Accepting merge requests","api","type::feature"],"milestone":null,"assignees":[],"author":{"id":167227,"username":"okgolove","name":"Mikhail Naletov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ad69aa2b8cd3d0d04dd1312434b86f67?s=80\u0026d=identicon","web_url":"https://gitlab.com/okgolove"},"type":"ISSUE","assignee":null,"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/20799","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/20799","notes":"https://gitlab.com/api/v4/projects/278964/issues/20799/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/20799/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":"https://gitlab.com/api/v4/projects/278964/issues/333842"},"references":{"short":"#20799","relative":"#20799","full":"gitlab-org/gitlab#20799"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":8830346,"iid":4681,"project_id":278964,"title":"Auto-save of epic description to local storage","description":"~\"internal customer\" since JamesR and other folks at GitLab have said that they lose data when typing the description in an epic and there's a problem and the tab closes and the data is lost.\n\n--- \n\n- Content in an epic description is not saved to local storage currently.\n- In other places in GitLab (issue/mr descriptions, comment textboxes), this is currently supported. So would be nice to get parity here.","state":"closed","created_at":"2018-01-24T14:58:18.353Z","updated_at":"2022-05-19T16:41:15.782Z","closed_at":"2019-04-16T08:20:21.162Z","closed_by":{"id":411701,"username":"kushalpandya","name":"Kushal Pandya","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/411701/avatar.png","web_url":"https://gitlab.com/kushalpandya"},"labels":["Category:Portfolio Management","Enterprise Edition","auto updated","awaiting feedback","devops::plan","epics","frontend","internal customer","type::feature","workflow::in dev"],"milestone":{"id":655280,"iid":28,"group_id":9970,"title":"11.11","description":"","state":"closed","created_at":"2018-09-21T19:08:37.027Z","updated_at":"2019-06-10T14:39:00.009Z","due_date":"2019-05-22","start_date":"2019-04-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/28"},"assignees":[{"id":3236898,"username":"rajatgitlab","name":"Rajat Jain","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3236898/avatar.png","web_url":"https://gitlab.com/rajatgitlab"}],"author":{"id":711023,"username":"victorwu","name":"Victor Wu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/711023/avatar.png","web_url":"https://gitlab.com/victorwu"},"type":"ISSUE","assignee":{"id":3236898,"username":"rajatgitlab","name":"Rajat Jain","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3236898/avatar.png","web_url":"https://gitlab.com/rajatgitlab"},"user_notes_count":3,"merge_requests_count":1,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/4681","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/4681","notes":"https://gitlab.com/api/v4/projects/278964/issues/4681/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/4681/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#4681","relative":"#4681","full":"gitlab-org/gitlab#4681"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":24660579,"iid":20782,"project_id":278964,"title":"Controller action Projects::NetworkController#show executes more than 100 SQL queries","description":"### Description\n\nThis controller executes more than 100 SQL queries, the maximum number of\nqueries allowed as per MR\nhttps://gitlab.com/gitlab-org/gitlab-ce/merge_requests/16466.  The number of\nqueries should be reduced to less than 100 and the corresponding whitelisted\nsections of code (`Gitlab::QueryLimiting.whitelist('...')`) should be removed.\n\n### Impact\n\nThis query goes from 1.5K to 20. See more details in https://gitlab.com/gitlab-org/gitlab/-/issues/20782#note_539070911.","state":"closed","created_at":"2018-01-23T14:31:13.283Z","updated_at":"2021-04-07T18:33:20.296Z","closed_at":"2021-04-06T18:41:14.509Z","closed_by":{"id":4554599,"username":"m_gill","name":"Michelle Gill","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4554599/avatar.png","web_url":"https://gitlab.com/m_gill"},"labels":["[deprecated] Accepting merge requests","[deprecated] 🍎","bug::performance","database","devops::create","group::source code","priority::4","querylimiting-disable","repository","section::dev","severity::4","workflow::in review"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[{"id":2167502,"username":"robotmay_gitlab","name":"Robert May","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2167502/avatar.png","web_url":"https://gitlab.com/robotmay_gitlab"}],"author":{"id":209240,"username":"yorickpeterse","name":"Yorick Peterse","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/209240/avatar.png","web_url":"https://gitlab.com/yorickpeterse"},"type":"ISSUE","assignee":{"id":2167502,"username":"robotmay_gitlab","name":"Robert May","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2167502/avatar.png","web_url":"https://gitlab.com/robotmay_gitlab"},"user_notes_count":14,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/20782","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/20782","notes":"https://gitlab.com/api/v4/projects/278964/issues/20782/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/20782/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#20782","relative":"#20782","full":"gitlab-org/gitlab#20782"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5670,"epic":{"id":233212,"iid":5670,"title":"Database Frequency - Controllers that execute more than 100 SQL query calls","url":"/groups/gitlab-org/-/epics/5670","group_id":9970,"human_readable_end_date":"Jul 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":24660572,"iid":20779,"project_id":278964,"title":"API endpoint GET /projects/:id/repository/branches executes more than 100 SQL queries","description":"This controller executes more than 100 SQL queries, the maximum number of\nqueries allowed as per MR\nhttps://gitlab.com/gitlab-org/gitlab-ce/merge_requests/16466.  The number of\nqueries should be reduced to less than 100 and the corresponding whitelisted\nsections of code (`Gitlab::QueryLimiting.whitelist('...')`) should be removed.","state":"closed","created_at":"2018-01-23T13:23:03.395Z","updated_at":"2021-03-24T00:17:33.727Z","closed_at":"2019-11-18T18:43:38.195Z","closed_by":{"id":11493,"username":"oswaldo","name":"Oswaldo Ferreira","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11493/avatar.png","web_url":"https://gitlab.com/oswaldo"},"labels":["Deliverable","api","backend","bug::performance","database","devops::create","group::source code","priority::2","querylimiting-disable","repository","severity::2","workflow::verification"],"milestone":{"id":891796,"iid":39,"group_id":9970,"title":"12.5","description":"https://about.gitlab.com/releases/2019/11/22/gitlab-12-5-released","state":"closed","created_at":"2019-05-31T08:38:03.087Z","updated_at":"2020-04-27T16:27:03.474Z","due_date":"2019-11-17","start_date":"2019-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/39"},"assignees":[{"id":11493,"username":"oswaldo","name":"Oswaldo Ferreira","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11493/avatar.png","web_url":"https://gitlab.com/oswaldo"}],"author":{"id":209240,"username":"yorickpeterse","name":"Yorick Peterse","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/209240/avatar.png","web_url":"https://gitlab.com/yorickpeterse"},"type":"ISSUE","assignee":{"id":11493,"username":"oswaldo","name":"Oswaldo Ferreira","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11493/avatar.png","web_url":"https://gitlab.com/oswaldo"},"user_notes_count":15,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/20779","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/20779","notes":"https://gitlab.com/api/v4/projects/278964/issues/20779/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/20779/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#20779","relative":"#20779","full":"gitlab-org/gitlab#20779"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":1851,"epic":{"id":11754,"iid":1851,"title":"Improve repository and merge request API scalability","url":"/groups/gitlab-org/-/epics/1851","group_id":9970,"human_readable_end_date":"Jan 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":24660538,"iid":20764,"project_id":278964,"title":"Closed column in boards can be re-ordered when collapsed","description":"When you collapse the \"Closed\" column/list, you can re-order columns/lists around it to change its position.\n\nIt is expected to stick to the last column/list as it does normally when expanded.\n\n![](https://i.imgur.com/JRyPZ9F.gif)\n\n---\n\nAs discovered by @sarrahvesselov, https://gitlab.slack.com/archives/C0GQHHPGW/p1516651086000430","state":"closed","created_at":"2018-01-22T20:06:26.357Z","updated_at":"2022-05-19T16:41:23.020Z","closed_at":"2021-03-08T02:10:04.423Z","closed_by":{"id":1786152,"username":"gitlab-bot","name":"🤖 GitLab Bot 🤖","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1786152/avatar.png","web_url":"https://gitlab.com/gitlab-bot"},"labels":["Category:Team Planning","[deprecated] Accepting merge requests","auto closed","boards","default-priority","default-severity","devops::plan","frontend","group::project management","missed-deliverable","missed:12.6","missed:12.7","priority::3","reproduced on GitLab.com","section::dev","severity::3","stale","type::bug","vintage"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":892863,"username":"MadLittleMods","name":"Eric Eastwood","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4d634a2b818e2265fa2924b5f4c2da71?s=80\u0026d=identicon","web_url":"https://gitlab.com/MadLittleMods"},"type":"ISSUE","assignee":null,"user_notes_count":11,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/20764","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/20764","notes":"https://gitlab.com/api/v4/projects/278964/issues/20764/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/20764/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#20764","relative":"#20764","full":"gitlab-org/gitlab#20764"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":24660527,"iid":20757,"project_id":278964,"title":"API endpoint DELETE /users/:id executes more than 100 SQL queries","description":"### Description\n\nThis controller executes more than 100 SQL queries, the maximum number of\nqueries allowed as per MR\nhttps://gitlab.com/gitlab-org/gitlab-ce/merge_requests/16466.  The number of\nqueries should be reduced to less than 100 and the corresponding whitelisted\nsections of code (`Gitlab::QueryLimiting.whitelist('...')`) should be removed.\n\n### Impact\n\n**ToDo:** Describe the impacts of the code improvements, such as metrics or screenshot before and after the associated MR(s) were merged.","state":"closed","created_at":"2018-01-22T13:49:46.092Z","updated_at":"2021-04-14T13:54:52.192Z","closed_at":"2021-04-01T13:39:00.367Z","closed_by":{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"},"labels":["[deprecated] 🍎","api","bug::performance","database","devops::manage","group::authentication and authorization","priority::4","querylimiting-disable","section::dev","severity::4","workflow::in review"],"milestone":{"id":1406669,"iid":59,"group_id":9970,"title":"13.11","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-08-13T14:23:09.688Z","updated_at":"2022-04-21T07:22:08.835Z","due_date":"2021-04-17","start_date":"2021-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/59"},"assignees":[{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"}],"author":{"id":209240,"username":"yorickpeterse","name":"Yorick Peterse","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/209240/avatar.png","web_url":"https://gitlab.com/yorickpeterse"},"type":"ISSUE","assignee":{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/20757","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/20757","notes":"https://gitlab.com/api/v4/projects/278964/issues/20757/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/20757/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#20757","relative":"#20757","full":"gitlab-org/gitlab#20757"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5670,"epic":{"id":233212,"iid":5670,"title":"Database Frequency - Controllers that execute more than 100 SQL query calls","url":"/groups/gitlab-org/-/epics/5670","group_id":9970,"human_readable_end_date":"Jul 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":24660506,"iid":20748,"project_id":278964,"title":"Fix validation on External Wiki service template form","description":"## Summary\n\nIn **Administration → Service Templates → External Wiki** the form always requires a URL, while the form in **Project Settings → Integrations → External Wiki** only requires a URL if the service is enabled. We should fix the form in the administration to do the same.\n\nThe original report below mentioned some other issues regarding the behaviour of service templates, some of which should be addressed by the work in https://gitlab.com/groups/gitlab-org/-/epics/2430.\n\n## Original report\n\n### Summary\n\nIf the external wiki is activated on service template once, this first configuration will never be overwritten by further configurations.\n\n### Steps to reproduce\n\n1. As admin, activate the external wiki with a given url on the service template\n2. Check on a project that the wiki forward to the link.\n3. Go back to service template and desactivate external wiki.\n      3.a (Bug 1) Delete the url: It will not accept an empty url whereas the activation checkbox is not filled\n4. (Bug 2) Check on a project the wiki link, it will still point toward the first url\n5. Go back to service template and activate with another different url\n6. (Bug 3)  Check on a project the wiki link, it will still point toward the first url\n\n### Example Project\n\nNot applicable since it requires root privileges\n\n### What is the current *bug* behavior?\n\n1. Does not allow an empty url even if the activation checkbox is unfilled\n2. Does not revert to internal wiki after unfilling the acivation of the service template\n3. Does not update to a new external wiki\n\n### What is the expected *correct* behavior?\n\nsee above\n\n### Relevant logs and/or screenshots\n\nn/a\n\n### Output of checks\n\nhappen on my private instance\n\n#### Results of GitLab environment info\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to GitLab environment info\u003c/summary\u003e\n\u003cpre\u003e\n\n\nSystem information\nSystem:\nCurrent User:   git\nUsing RVM:      no\nRuby Version:   2.3.3p222\nGem Version:    2.6.6\nBundler Version:1.13.7\nRake Version:   10.5.0\nRedis Version:  3.2.5\nGit Version:    2.13.4\nSidekiq Version:5.0.0\nGo Version:     unknown\n\nGitLab information\nVersion:        9.4.5\nRevision:       140292e\nDirectory:      /opt/gitlab/embedded/service/gitlab-rails\nDB Adapter:     postgresql\nUsing LDAP:     no\nUsing Omniauth: no\n\nGitLab Shell\nVersion:        5.3.1\nRepository storage paths:\n- default:      /var/opt/gitlab/git-data/repositories\nHooks:          /opt/gitlab/embedded/service/gitlab-shell/hooks\nGit:            /opt/gitlab/embedded/bin/git\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n#### Results of GitLab application Check\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to the GitLab application check\u003c/summary\u003e\n\u003cpre\u003e\n\nChecking GitLab Shell ...\n\nGitLab Shell version \u003e= 5.3.1 ? ... OK (5.3.1)\nRepo base directory exists?\ndefault... yes\nRepo storage directories are symlinks?\ndefault... no\nRepo paths owned by git:root, or git:git?\ndefault... yes\nRepo paths access is drwxrws---?\ndefault... yes\nhooks directories in repos are links: ... \n4/8 ... ok\n4/9 ... ok\n4/10 ... ok\n4/11 ... ok\n4/15 ... ok\n4/17 ... ok\n5/19 ... ok\n5/20 ... ok\n5/21 ... ok\n5/22 ... ok\n5/23 ... ok\n5/24 ... ok\n5/25 ... ok\n5/26 ... ok\n5/27 ... ok\n10/29 ... ok\n4/30 ... ok\n10/31 ... ok\n11/32 ... ok\n11/33 ... ok\n11/34 ... ok\n11/35 ... ok\n11/36 ... ok\n11/37 ... ok\n5/38 ... ok\n12/39 ... ok\n12/41 ... ok\n12/42 ... ok\n12/43 ... ok\n12/44 ... ok\n14/47 ... ok\n10/48 ... ok\n17/51 ... ok\n17/52 ... ok\n17/53 ... ok\n17/54 ... ok\n10/55 ... ok\n14/56 ... ok\n1/57 ... ok\n11/58 ... ok\n10/59 ... ok\n10/60 ... ok\n11/61 ... repository is empty\n15/62 ... repository is empty\nRunning /opt/gitlab/embedded/service/gitlab-shell/bin/check\nCheck GitLab API access: OK\nAccess to /var/opt/gitlab/.ssh/authorized_keys: OK\nSend ping to redis server: OK\ngitlab-shell self-check successful\n\nChecking GitLab Shell ... Finished\n\nChecking Sidekiq ...\n\nRunning? ... yes\nNumber of Sidekiq processes ... 1\n\nChecking Sidekiq ... Finished\n\nChecking Reply by email ...\n\nReply by email is disabled in config/gitlab.yml\n\nChecking Reply by email ... Finished\n\nChecking LDAP ...\n\nLDAP is disabled in config/gitlab.yml\n\nChecking LDAP ... Finished\n\nChecking GitLab ...\n\nGit configured correctly? ... yes\nDatabase config exists? ... yes\nAll migrations up? ... yes\nDatabase contains orphaned GroupMembers? ... no\nGitLab config exists? ... yes\nGitLab config up to date? ... yes\nLog directory writable? ... yes\nTmp directory writable? ... yes\nUploads directory exists? ... yes\nUploads directory has correct permissions? ... yes\nUploads directory tmp has correct permissions? ... yes\nInit script exists? ... skipped (omnibus-gitlab has no init script)\nInit script up-to-date? ... skipped (omnibus-gitlab has no init script)\nProjects have namespace: ... \n4/8 ... yes\n4/9 ... yes\n4/10 ... yes\n4/11 ... yes\n4/15 ... yes\n4/17 ... yes\n5/19 ... yes\n5/20 ... yes\n5/21 ... yes\n5/22 ... yes\n5/23 ... yes\n5/24 ... yes\n5/25 ... yes\n5/26 ... yes\n5/27 ... yes\n10/29 ... yes\n4/30 ... yes\n10/31 ... yes\n11/32 ... yes\n11/33 ... yes\n11/34 ... yes\n11/35 ... yes\n11/36 ... yes\n11/37 ... yes\n5/38 ... yes\n12/39 ... yes\n12/41 ... yes\n12/42 ... yes\n12/43 ... yes\n12/44 ... yes\n14/47 ... yes\n10/48 ... yes\n17/51 ... yes\n17/52 ... yes\n17/53 ... yes\n17/54 ... yes\n10/55 ... yes\n14/56 ... yes\n1/57 ... yes\n11/58 ... yes\n10/59 ... yes\n10/60 ... yes\n11/61 ... yes\n15/62 ... yes\nRedis version \u003e= 2.8.0? ... yes\nRuby version \u003e= 2.3.3 ? ... yes (2.3.3)\nGit version \u003e= 2.7.3 ? ... yes (2.13.4)\nActive users: ... 2\n\nChecking GitLab ... Finished\n\n\u003c/pre\u003e\n\u003c/details\u003e","state":"closed","created_at":"2018-01-21T00:27:16.355Z","updated_at":"2020-12-10T18:56:16.560Z","closed_at":"2020-09-14T07:02:33.377Z","closed_by":{"id":2950912,"username":"ntepluhina","name":"Natalia Tepluhina","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2950912/avatar.png","web_url":"https://gitlab.com/ntepluhina"},"labels":["Category:Integrations","Category:Wiki","Deliverable","auto updated","awaiting feedback","devops::create","frontend","group::editor","priority::4","section::dev","settings","severity::4","type::bug","workflow::verification"],"milestone":{"id":1233753,"iid":51,"group_id":9970,"title":"13.4","description":"https://about.gitlab.com/releases/2020/09/22/gitlab-13-4-released/","state":"closed","created_at":"2020-04-09T17:39:21.662Z","updated_at":"2022-04-13T14:50:33.769Z","due_date":"2020-09-17","start_date":"2020-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/51"},"assignees":[{"id":2950912,"username":"ntepluhina","name":"Natalia Tepluhina","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2950912/avatar.png","web_url":"https://gitlab.com/ntepluhina"}],"author":{"id":1243277,"username":"ghost1","name":"Ghost User","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4249f4df72b475e7894fabed1c5888cf?s=80\u0026d=identicon","web_url":"https://gitlab.com/ghost1"},"type":"ISSUE","assignee":{"id":2950912,"username":"ntepluhina","name":"Natalia Tepluhina","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2950912/avatar.png","web_url":"https://gitlab.com/ntepluhina"},"user_notes_count":17,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/20748","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/20748","notes":"https://gitlab.com/api/v4/projects/278964/issues/20748/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/20748/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#20748","relative":"#20748","full":"gitlab-org/gitlab#20748"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":1549,"epic":{"id":8794,"iid":1549,"title":"Ecosystem - Other Integrations","url":"/groups/gitlab-org/-/epics/1549","group_id":9970,"human_readable_end_date":"Sep 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":8704809,"iid":4647,"project_id":278964,"title":"GitLab does not add comment/link to Jira on mention in commit message","description":"We are evaluating GitLab 10.3.3 and we are using Jira 7.7.0.\n\nGitLab does not add any comment nor link when an issue is mentioned in a commit message. However, GitLab does the \"closing\" transition for such messages. This is a major feature loss since this is documented to work out-of-the-box https://docs.gitlab.com/ce/user/project/integrations/jira.html\n\nThe Jira user configured with the Jira integration in GitLab can comment and add links to the mentioned issue.\n\nThe following requests are made from GitLab to Jira when such a commit is pushed:\n```\n\"GET /rest/api/2/issue/GITTEST-2 HTTP/1.1\" 200 2018 173 \"-\" \"Ruby\" \"er620d\"\n\"POST /rest/api/2/issue/10201/transitions HTTP/1.1\" 204 - 78 \"-\" \"Ruby\" \"1k3mrxo\"\n\"GET /rest/api/2/issue/GITTEST-2 HTTP/1.1\" 200 2018 45 \"-\" \"Ruby\" \"kecolo\"\n```\n\nIs there something besides Settings-\u003eIntegrations-\u003eJIRA that needs to be done to make it work?","state":"closed","created_at":"2018-01-18T23:39:42.890Z","updated_at":"2022-05-19T16:42:59.781Z","closed_at":"2018-09-06T15:32:37.439Z","closed_by":{"id":443319,"username":"smcgivern","name":"Sean McGivern","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/443319/avatar.png","web_url":"https://gitlab.com/smcgivern"},"labels":["Deliverable","Enterprise Edition","Integration::Jira","backend","default-priority","default-severity","devops::plan","priority::3","severity::3","type::bug"],"milestone":{"id":502939,"iid":17,"group_id":9970,"title":"11.3","description":"","state":"closed","created_at":"2018-04-09T17:59:35.838Z","updated_at":"2018-11-06T19:17:11.721Z","due_date":"2018-09-22","start_date":"2018-08-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/17"},"assignees":[{"id":426128,"username":"felipe_artur","name":"Felipe Artur","state":"active","avatar_url":"https://secure.gravatar.com/avatar/dbad92659914f56621cbdd726e283e60?s=80\u0026d=identicon","web_url":"https://gitlab.com/felipe_artur"}],"author":{"id":132165,"username":"zimmskal","name":"Markus Zimmermann","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f4fa070ec897de3bfba0dcb95adf23ce?s=80\u0026d=identicon","web_url":"https://gitlab.com/zimmskal"},"type":"ISSUE","assignee":{"id":426128,"username":"felipe_artur","name":"Felipe Artur","state":"active","avatar_url":"https://secure.gravatar.com/avatar/dbad92659914f56621cbdd726e283e60?s=80\u0026d=identicon","web_url":"https://gitlab.com/felipe_artur"},"user_notes_count":27,"merge_requests_count":0,"upvotes":4,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/4647","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/4647","notes":"https://gitlab.com/api/v4/projects/278964/issues/4647/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/4647/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#4647","relative":"#4647","full":"gitlab-org/gitlab#4647"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":8673556,"iid":4626,"project_id":278964,"title":"Uploads in object storage should not be synced by Geo -- Follow-up from \"WIP: Move uploads to object storage\"","description":"I think this should be done in the same release, but at the very least **must** be done in the same release that we have available a migration to move uploads into object storage.\n\nThe following discussion from !3867 should be addressed:\n\n- [ ] @mbergeron started a [discussion](https://gitlab.com/gitlab-org/gitlab-ee/merge_requests/3867#note_53331055):  (+5 comments)\n\n    \u003e @mkozono can you review that this make sense? I think that Geo should not try to transfer files that are now in object storage.","state":"closed","created_at":"2018-01-17T19:21:52.141Z","updated_at":"2019-12-11T20:09:00.919Z","closed_at":"2018-02-02T19:00:28.472Z","closed_by":null,"labels":["Enterprise Edition","devops::systems","group::geo","workflow::in dev"],"milestone":{"id":404412,"iid":7,"group_id":9970,"title":"10.5","description":"https://about.gitlab.com/releases/2018/02/22/gitlab-10-5-released","state":"closed","created_at":"2017-11-02T10:41:09.107Z","updated_at":"2020-04-27T16:30:54.473Z","due_date":"2018-02-22","start_date":"2018-01-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/7"},"assignees":[{"id":59678,"username":"vsizov","name":"Valery Sizov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/59678/avatar.png","web_url":"https://gitlab.com/vsizov"}],"author":{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"},"type":"ISSUE","assignee":{"id":59678,"username":"vsizov","name":"Valery Sizov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/59678/avatar.png","web_url":"https://gitlab.com/vsizov"},"user_notes_count":12,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/4626","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/4626","notes":"https://gitlab.com/api/v4/projects/278964/issues/4626/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/4626/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#4626","relative":"#4626","full":"gitlab-org/gitlab#4626"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null}]