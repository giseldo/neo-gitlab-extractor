[{"id":8637314,"iid":4611,"project_id":278964,"title":"Geo: Support GitLab Pages","description":"https://gitlab.com/gitlab-com/migration/issues/29 is tracking how GitLab Pages can be migrated smoothly to GCP.\n\nFor Geo, we may want to consider separate question: What more needs to be done to support GitLab Pages on the secondary?\n\nI believe Pages works as the following:\n\n1. User sets up domain information in the project settings\n1. This update to the domain kicks off an update to the GitLab Pages domain manifest file\n1. User pushes to a GitLab Pages project\n1. This kicks off a CI build\n1. This build kicks off a Sidekiq worker that extracts the archive to a directory\n1. The GitLab Pages daemon is responsible for reading a manifest file and serving out domains\n\nThe secondary doesn't hook into the changes, so it never sees step 2 and will never update the domain manifest file.\n\nOther than that, is there anything else that prevents the secondary from mirroring the primary GitLab Pages instance?\n\nOther things that have to be addressed:\n\n* Making GitLab Pages work with hashed storage\n* Destroying a project on the secondary does not clean up the GitLab Pages\n\n### Customers  \nhttps://gitlab.my.salesforce.com/00161000005cxCt  \n\n### Geo product discovery conclusion\n\nI've opened a number of issues for Geo to support Pages. Here is the plan so far, in rough order:\n\n- Always keep a copy of the currently-deployed version of a Pages site gitlab-org/gitlab-ce#45888 Weight: 3\n- Geo: Support GitLab Pages access control on secondaries gitlab-org/gitlab-ee#9336 Weight: 5\n- Geo: Replicate new GitLab Pages deploys on secondaries gitlab-org/gitlab-ee#9337 Weight: 5\n- Geo: Handle rename/move/delete of Pages gitlab-org/gitlab-ee#9347\n- Geo: Ensure GitLab Pages works after failover gitlab-org/gitlab-ee#9339 Weight: 3\n- Recreate GitLab Pages deployment artifacts that were removed on deploy gitlab-org/gitlab-ee#9346 Weight: 5\n- Geo: Backfill GitLab Pages on secondaries gitlab-org/gitlab-ee#9341 Weight: 10\n\nAll of this is open for discussion.","state":"closed","created_at":"2018-01-16T00:45:44.330Z","updated_at":"2020-07-17T20:35:36.447Z","closed_at":"2019-02-04T23:05:52.449Z","closed_by":{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"},"labels":["Category:Geo Replication","Category:Pages","Enterprise Edition","customer","devops::systems","group::geo","product discovery [DEPRECATED]","workflow::blocked","workflow::in dev"],"milestone":{"id":581391,"iid":23,"group_id":9970,"title":"11.8","description":"","state":"closed","created_at":"2018-06-26T15:15:18.359Z","updated_at":"2019-03-08T17:33:19.162Z","due_date":"2019-02-22","start_date":"2019-01-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/23"},"assignees":[{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"}],"author":{"id":64248,"username":"stanhu","name":"Stan Hu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/64248/stanhu.jpg","web_url":"https://gitlab.com/stanhu"},"type":"ISSUE","assignee":{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"},"user_notes_count":35,"merge_requests_count":0,"upvotes":4,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/4611","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/4611","notes":"https://gitlab.com/api/v4/projects/278964/issues/4611/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/4611/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#4611","relative":"#4611","full":"gitlab-org/gitlab#4611"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":589,"epic":{"id":2262,"iid":589,"title":"Geo: Support GitLab Pages","url":"/groups/gitlab-org/-/epics/589","group_id":9970},"iteration":null,"health_status":null},{"id":8626536,"iid":4601,"project_id":278964,"title":"Get rid of plain text credentials in push mirroring config (align with pull mirroring)","description":"Currently when setting up `Push to a remote repository` there's no way around configuring plain text credentials. Even the documentation[0] suggests putting a plaintext token in the config......\n\nI assume I don't need to explain why this is a security issue.\n\nThere should be a solution like was implemented for the `Pull from a remote repository` (the config is near identical, why was it only done for pull mirroring?) where a password field appears when password authentication is required.\n\nThere's already an issue for ssh mirroring support[1], but this is about configuring credentials, not support for any particular method.\n\n[0] https://docs.gitlab.com/ee/workflow/repository_mirroring.html#setting-up-a-mirror-from-gitlab-to-github  \n[1] https://gitlab.com/gitlab-org/gitlab-ee/issues/3251","state":"closed","created_at":"2018-01-15T10:33:12.531Z","updated_at":"2019-08-12T15:42:16.715Z","closed_at":"2019-04-08T10:00:11.763Z","closed_by":{"id":87854,"username":"DouweM","name":"Douwe Maan","state":"active","avatar_url":"https://secure.gravatar.com/avatar/73d1548ae618321220679b3a4fda7fb1?s=80\u0026d=identicon","web_url":"https://gitlab.com/DouweM"},"labels":["Create [DEPRECATED]","Enterprise Edition","backend","customer","devops::create","mirror","security","severity::2"],"milestone":null,"assignees":[],"author":{"id":300387,"username":"boudekerk","name":"Bartosz Oudekerk","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c150bedb0cbaec83c4ab89555f754503?s=80\u0026d=identicon","web_url":"https://gitlab.com/boudekerk"},"type":"ISSUE","assignee":null,"user_notes_count":14,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/4601","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/4601","notes":"https://gitlab.com/api/v4/projects/278964/issues/4601/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/4601/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#4601","relative":"#4601","full":"gitlab-org/gitlab#4601"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":24660329,"iid":20661,"project_id":278964,"title":"Project Variables API should allow filtering/creating/updating/deleting by environment_scope","description":"### Summary\n\nWhen talking to the API to fetch or create/update/delete project level variables it is not possible to filter variables based on `environment_scope`.\n\n### Steps to reproduce\n\nFollowing the examples in the docs here: https://docs.gitlab.com/ce/api/project_level_variables.html\nit clearly shows that the endpoints do not accept `environment_scope` as a parameter for filtering, creating or updating variables.\n\n### What is the current *bug* behavior?\n\nNot able to create or update variables with the correct scope. \nMore so, when trying to delete a variable and there exists 2 variables with the same name for scope \"production\" and \"staging\" it is somewhat random in behavior in that it will either delete both of them or just a random one of the two. I think it has to do with the order of creating the variables so that it somehow fetches either the last or the first one and deletes that one. I did however, as I mentioned observe it deleting both of the variables.\n\n### What is the expected *correct* behavior?\n\n* List project variables for a desired scope. IE. staging vs production\n* Create variable with scope set\n* Update variable for set scope only\n* Delete variable for set scope only\n\n#### Results of GitLab environment info\n\nUsing gitlab.com\n\n#### Results of GitLab application Check\n\nUsing gitlab.com","state":"closed","created_at":"2018-01-12T12:41:30.462Z","updated_at":"2021-02-22T15:38:38.816Z","closed_at":"2021-02-22T15:38:38.747Z","closed_by":{"id":4545061,"username":"nagyv-gitlab","name":"Viktor Nagy (GitLab)","state":"active","avatar_url":"https://secure.gravatar.com/avatar/fb255c1e9c228b9356af165939b3ac9b?s=80\u0026d=identicon","web_url":"https://gitlab.com/nagyv-gitlab"},"labels":["CI variables","Category:Continuous Integration","Category:Secrets Management","[deprecated] Accepting merge requests","api","awaiting feedback","customer","devops::configure","group::configure","priority::3","section::ops","severity::3","type::bug","workflow::scheduling"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":1756640,"username":"denibertovic","name":"Deni Bertovic","state":"active","avatar_url":"https://secure.gravatar.com/avatar/da4872a233f277fb70fea3c8b4b6f3a2?s=80\u0026d=identicon","web_url":"https://gitlab.com/denibertovic"},"type":"ISSUE","assignee":null,"user_notes_count":53,"merge_requests_count":0,"upvotes":16,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/20661","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/20661","notes":"https://gitlab.com/api/v4/projects/278964/issues/20661/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/20661/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#20661","relative":"#20661","full":"gitlab-org/gitlab#20661"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":8563649,"iid":4557,"project_id":278964,"title":"Change icon and color of issue statuses in related issues and epic issues","description":"- To keep the list of related issues and epic issues consistent with https://gitlab.com/gitlab-org/gitlab-ce/issues/33926, the issue statuses should be configured as:\n- Open:\n   - Color: `$green-500`\n   - Icon: [`issue-open`](https://gitlab-org.gitlab.io/gitlab-svgs/)\n- Closed:\n   - Color: `$blue-500`\n   - Icon: [`issue-close`](https://gitlab-org.gitlab.io/gitlab-svgs/)\n\n![image](/uploads/d73763ca47086b1e13bb22adb273372e/image.png)\n\n- Note that this applies to the issues in epics as well as the issues in related issues.","state":"closed","created_at":"2018-01-11T11:12:54.576Z","updated_at":"2022-05-19T16:42:56.904Z","closed_at":"2018-02-15T18:24:58.196Z","closed_by":null,"labels":["Category:Portfolio Management","Deliverable","Enterprise Edition","devops::plan","epics","frontend","issues"],"milestone":{"id":416486,"iid":8,"group_id":9970,"title":"10.6","description":"https://about.gitlab.com/releases/2018/03/22/gitlab-10-6-released","state":"closed","created_at":"2017-11-21T20:05:35.697Z","updated_at":"2020-04-27T16:30:32.220Z","due_date":"2018-03-22","start_date":"2018-02-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/8"},"assignees":[{"id":534669,"username":"lbennett","name":"Luke Bennett","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/534669/avatar.png","web_url":"https://gitlab.com/lbennett"},{"id":626804,"username":"pedroms","name":"Pedro Moreira da Silva","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c306f087d191ac15549f3c11e3bed321?s=80\u0026d=identicon","web_url":"https://gitlab.com/pedroms"}],"author":{"id":626804,"username":"pedroms","name":"Pedro Moreira da Silva","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c306f087d191ac15549f3c11e3bed321?s=80\u0026d=identicon","web_url":"https://gitlab.com/pedroms"},"type":"ISSUE","assignee":{"id":534669,"username":"lbennett","name":"Luke Bennett","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/534669/avatar.png","web_url":"https://gitlab.com/lbennett"},"user_notes_count":5,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/4557","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/4557","notes":"https://gitlab.com/api/v4/projects/278964/issues/4557/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/4557/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#4557","relative":"#4557","full":"gitlab-org/gitlab#4557"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":8557077,"iid":4553,"project_id":278964,"title":"Geo: Hashed storage migration failure does not log to Sentry or geo.log well","description":"I saw https://sentry.gitlap.com/gitlab/geo1/issues/117887/, but was curious why the migration on the testbed failed. This was the corresponding `geo.log` entry:\n\n```\n{\"severity\":\"ERROR\",\"time\":\"2018-01-10T23:55:51.110Z\",\"class\":\"Geo::HashedStorageMigrationService\",\"message\":\"Repository could not be migrated to Hashed Storage\",\"error\":\"{:project_id=\\u003e13774, :source=\\u003e\\\"dealmore/dealmore-html\\\", :target=\\u003e\\\"@hashed/42/33/423359e0a0ad21de32b01ac85bf4f11c95e3d1f3b05f254e0a80f333c0d07fcf\\\"}\"}\n```\n\nI had to search `production.log` to find the real reason:\n\n```sh\nroot@sidekiq-asap-01.sv.geo2.gitlab.com:/var/log/gitlab/gitlab-rails# grep dealmore production.log\nMoving repository from \u003c/var/opt/gitlab/git-data-file08/repositories/dealmore/dealmore-html.git\u003e to \u003c/var/opt/gitlab/git-data-file08/repositories/@hashed/42/33/423359e0a0ad21de32b01ac85bf4f11c95e3d1f3b05f254e0a80f333c0d07fcf.git\u003e.\nmv-project failed: source path \u003c/var/opt/gitlab/git-data-file08/repositories/dealmore/dealmore-html.wiki.git\u003e does not exist.\nmv-project failed: source path \u003c/var/opt/gitlab/git-data-file08/repositories/dealmore/dealmore-html.git\u003e does not exist.\nmv-project failed: source path \u003c/var/opt/gitlab/git-data-file08/repositories/dealmore/dealmore-html.git\u003e does not exist.\nmv-project failed: source path \u003c/var/opt/gitlab/git-data-file08/repositories/dealmore/dealmore-html.git\u003e does not exist.\n```\n\nI think the `mv-project` error message comes from gitlab-shell, but perhaps we can bubble up the error better.","state":"closed","created_at":"2018-01-11T00:12:21.328Z","updated_at":"2020-01-21T19:02:29.339Z","closed_at":"2019-01-04T14:56:59.067Z","closed_by":{"id":64248,"username":"stanhu","name":"Stan Hu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/64248/stanhu.jpg","web_url":"https://gitlab.com/stanhu"},"labels":["Category:Geo Replication","Deliverable","Enterprise Edition","devops::systems","group::geo","workflow::in review"],"milestone":{"id":581385,"iid":22,"group_id":9970,"title":"11.7","description":"","state":"closed","created_at":"2018-06-26T15:14:47.054Z","updated_at":"2019-02-07T18:12:10.925Z","due_date":"2019-01-22","start_date":"2018-12-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/22"},"assignees":[{"id":59678,"username":"vsizov","name":"Valery Sizov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/59678/avatar.png","web_url":"https://gitlab.com/vsizov"}],"author":{"id":64248,"username":"stanhu","name":"Stan Hu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/64248/stanhu.jpg","web_url":"https://gitlab.com/stanhu"},"type":"ISSUE","assignee":{"id":59678,"username":"vsizov","name":"Valery Sizov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/59678/avatar.png","web_url":"https://gitlab.com/vsizov"},"user_notes_count":2,"merge_requests_count":1,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/4553","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/4553","notes":"https://gitlab.com/api/v4/projects/278964/issues/4553/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/4553/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#4553","relative":"#4553","full":"gitlab-org/gitlab#4553"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":75,"epic":{"id":140,"iid":75,"title":"Geo: Hashed Storage GA","url":"/groups/gitlab-org/-/epics/75","group_id":9970,"human_readable_end_date":"Jun 22, 2019","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":8554456,"iid":4550,"project_id":278964,"title":"Add project download/export audit event","description":"Some organizations need to know who downloads which projects and when.\n\n### Proposal\n\n- Add repo archive download event to audit log\n- Add export project event\n\n### Links\n\nhttps://docs.gitlab.com/ee/administration/audit_events.html#project-events","state":"closed","created_at":"2018-01-10T20:53:16.184Z","updated_at":"2020-06-18T03:50:33.942Z","closed_at":"2019-08-16T09:42:02.065Z","closed_by":{"id":4093067,"username":"manojmj","name":"Manoj M J","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4093067/avatar.png","web_url":"https://gitlab.com/manojmj"},"labels":["Category:Audit Events","Deliverable","Enterprise Edition","Manage [DEPRECATED]","backend","customer","customer+","devops::manage","estimation::completed","group::authentication and authorization","priority::3","project","type::feature"],"milestone":{"id":693521,"iid":35,"group_id":9970,"title":"12.2","description":"https://about.gitlab.com/releases/2019/08/22/gitlab-12-2-released","state":"closed","created_at":"2018-10-30T16:48:32.567Z","updated_at":"2020-04-27T16:30:20.799Z","due_date":"2019-08-22","start_date":"2019-07-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/35"},"assignees":[{"id":4093067,"username":"manojmj","name":"Manoj M J","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4093067/avatar.png","web_url":"https://gitlab.com/manojmj"}],"author":{"id":1187333,"username":"jramsay-gitlab","name":"James Ramsay (ex-GitLab)","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1187333/avatar.png","web_url":"https://gitlab.com/jramsay-gitlab"},"type":"ISSUE","assignee":{"id":4093067,"username":"manojmj","name":"Manoj M J","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4093067/avatar.png","web_url":"https://gitlab.com/manojmj"},"user_notes_count":10,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/4550","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/4550","notes":"https://gitlab.com/api/v4/projects/278964/issues/4550/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/4550/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#4550","relative":"#4550","full":"gitlab-org/gitlab#4550"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":474,"epic":{"id":1502,"iid":474,"title":"Comprehensive audit log: project settings","url":"/groups/gitlab-org/-/epics/474","group_id":9970},"iteration":null,"health_status":null},{"id":24660226,"iid":20620,"project_id":278964,"title":"Delete an environment via UI","description":"### Description\n\nVia the endpoint `environments/new` you can easily create environments via the webui, but there is no way to delete them via the UI.\n\n### Proposal\n\nAdd Button to delete an environment in the endpoint `environments/18/edit`.  If an environment has been stopped display a delete button in both the list and detail views.\n\n### Detail - Available \n![delete_enviorments_detail](/uploads/7dd7a834ee5d3b2390c7ae34f9e5b5c6/delete_enviorments_detail.png)\n\n### Detail - Stopped\n![delete_enviorments_detail_stopped](/uploads/373413fd1f4527089fd80bec6add28e8/delete_enviorments_detail_stopped.png)\n\n### List - Available\n![delete_enviorments_list](/uploads/11dd63701c60b328c4ce02e8bacb3c7f/delete_enviorments_list.png)\n\n### List - Stopped\n![delete_enviorments_list_stopped](/uploads/d10f2e54f9cb4f491e37a37cc7e7ecd0/delete_enviorments_list_stopped.png)\n\nDelete buttons should display the following warning message before action is complete:\n\"Deleting the 'example' environment cannot be undone. Are you sure?\" and include 'Delete environment' and cancel buttons.  Delete enviorment would perform the delete operation, Cancel would cancel the operation and close modal.\n\nThe list view delete button should have a tooltip titled \"Delete environment\"\n\n### What does success look like, and how can we measure that?\n\nAlthough a minimal UI and functionality addition given users can already delete via the API, it would be important to measure success by monitoring an increase in support desk issues resulting in accidental deletion, despite confirmation notification.  \n\n### Links / references","state":"closed","created_at":"2018-01-10T09:28:21.598Z","updated_at":"2020-11-12T10:23:58.838Z","closed_at":"2020-03-25T07:53:29.769Z","closed_by":{"id":758045,"username":"shinya.maeda","name":"Shinya Maeda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/758045/avatar.png","web_url":"https://gitlab.com/shinya.maeda"},"labels":["Category:Release Orchestration","Dogfooding","Dogfooding::Build in GitLab","Release::P2","UI polish","UX","cicd::active","deploy","devops::release","direction","environments","feature::enhancement","frontend","group::release","internal customer","missed-deliverable","missed:12.3","missed:12.4","missed:12.5","missed:12.7","missed:12.8","missed:12.9","production request","type::feature","workflow::verification"],"milestone":{"id":1104429,"iid":46,"group_id":9970,"title":"12.10","description":"https://about.gitlab.com/releases/2020/04/22/gitlab-12-10-released","state":"closed","created_at":"2019-12-20T15:15:53.243Z","updated_at":"2020-10-08T12:00:39.852Z","due_date":"2020-04-17","start_date":"2020-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/46"},"assignees":[{"id":3079878,"username":"rayana","name":"Rayana Verissimo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3079878/avatar.png","web_url":"https://gitlab.com/rayana"},{"id":4391348,"username":"sean_carroll","name":"Sean Carroll","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4391348/avatar.png","web_url":"https://gitlab.com/sean_carroll"},{"id":4446737,"username":"jakeburden","name":"Jake Burden","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4446737/avatar.png","web_url":"https://gitlab.com/jakeburden"}],"author":{"id":144439,"username":"kaystrobach","name":"Kay Strobach","state":"active","avatar_url":"https://secure.gravatar.com/avatar/2ed6bdaada0c1d5e30f3aa4254f93578?s=80\u0026d=identicon","web_url":"https://gitlab.com/kaystrobach"},"type":"ISSUE","assignee":{"id":3079878,"username":"rayana","name":"Rayana Verissimo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3079878/avatar.png","web_url":"https://gitlab.com/rayana"},"user_notes_count":95,"merge_requests_count":1,"upvotes":46,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/20620","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":4,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/20620","notes":"https://gitlab.com/api/v4/projects/278964/issues/20620/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/20620/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#20620","relative":"#20620","full":"gitlab-org/gitlab#20620"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":767,"epic":{"id":3445,"iid":767,"title":"Make environments easier to use and manage","url":"/groups/gitlab-org/-/epics/767","group_id":9970,"human_readable_end_date":"Jul 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":24660223,"iid":20618,"project_id":278964,"title":"performance bar is above fullscreen text editor","description":"when the Perf bar is open, it obscures the top of texteditor in Fullscreen mode\n\n![Screen_Shot_2018-01-10_at_11.57.08_am_copy](/uploads/bb6484d1c0cf08855db762492cd6aee5/Screen_Shot_2018-01-10_at_11.57.08_am_copy.png)","state":"closed","created_at":"2018-01-10T00:58:30.623Z","updated_at":"2021-02-19T03:18:42.065Z","closed_at":"2021-02-19T03:18:42.006Z","closed_by":{"id":832471,"username":"psimyn","name":"Simon Knox","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3de75939c39eecd6ea2215ec740a8037?s=80\u0026d=identicon","web_url":"https://gitlab.com/psimyn"},"labels":["Create [DEPRECATED]","Manage [DEPRECATED]","UI polish","frontend","performance bar","priority::4","severity::4","type::bug","vintage"],"milestone":null,"assignees":[],"author":{"id":832471,"username":"psimyn","name":"Simon Knox","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3de75939c39eecd6ea2215ec740a8037?s=80\u0026d=identicon","web_url":"https://gitlab.com/psimyn"},"type":"ISSUE","assignee":null,"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/20618","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/20618","notes":"https://gitlab.com/api/v4/projects/278964/issues/20618/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/20618/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#20618","relative":"#20618","full":"gitlab-org/gitlab#20618"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":8525785,"iid":4515,"project_id":278964,"title":"Show SSO status for group members","description":"### Description\n\nUseful to determine which group members have linked their GitLab account to their SAML identity using SSO.\n\n### Proposal\n\nOn a GitLab group that has SAML single sign-on enabled, show a badge or indicator for group members who are linked:\n\n![image](/uploads/a5d988f9398b498a9712b3742d268f49/image.png)\n\n### Links / references","state":"closed","created_at":"2018-01-09T14:07:05.343Z","updated_at":"2019-08-12T15:42:44.213Z","closed_at":"2018-11-06T16:36:14.499Z","closed_by":{"id":15139,"username":"rspeicher","name":"Robert Speicher","state":"active","avatar_url":"https://secure.gravatar.com/avatar/73c8253932541a7b5cbc5d79493f2bea?s=80\u0026d=identicon","web_url":"https://gitlab.com/rspeicher"},"labels":["Deliverable","Enterprise Edition","Manage [DEPRECATED]","[deprecated] Accepting merge requests","authentication","backend","devops::manage","gitlab.com","ldap","missed-deliverable","priority::3","saml","type::feature","workflow::in review"],"milestone":{"id":567672,"iid":20,"group_id":9970,"title":"11.5","description":"","state":"closed","created_at":"2018-06-14T17:32:22.627Z","updated_at":"2018-12-20T06:50:07.124Z","due_date":"2018-11-22","start_date":"2018-10-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/20"},"assignees":[{"id":563185,"username":"cperessini","name":"Chris Peressini","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/563185/avatar.png","web_url":"https://gitlab.com/cperessini"},{"id":626804,"username":"pedroms","name":"Pedro Moreira da Silva","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c306f087d191ac15549f3c11e3bed321?s=80\u0026d=identicon","web_url":"https://gitlab.com/pedroms"},{"id":654619,"username":"jamedjo","name":"James Edwards-Jones","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/654619/avatar.png","web_url":"https://gitlab.com/jamedjo"}],"author":{"id":863091,"username":"mydigitalself","name":"Mike Bartlett","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/863091/avatar.png","web_url":"https://gitlab.com/mydigitalself"},"type":"ISSUE","assignee":{"id":563185,"username":"cperessini","name":"Chris Peressini","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/563185/avatar.png","web_url":"https://gitlab.com/cperessini"},"user_notes_count":7,"merge_requests_count":2,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/4515","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/4515","notes":"https://gitlab.com/api/v4/projects/278964/issues/4515/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/4515/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#4515","relative":"#4515","full":"gitlab-org/gitlab#4515"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":8525737,"iid":4514,"project_id":278964,"title":"Group level SAML Single sign-on page","description":"### Description\n\nIn order to allow a user to login to a group via SAML, we need a Single Sign-On (SSO) URL that will then direct the user to the SAML server for the authentication dance.\n\n### Proposal\n\n- Provide a SSO page under a URL such as `https://gitlab.com/groups/gitlab-org/-/sso` once SSO has been configured for a group\n- If SSO has not been configured, this URL should 404\n- If SSO has been configured, when the user visits initiates the authentication flow (because they are visiting a page of the group that needs authentication):\n   - User _is already_ signed into GitLab:\n      - AND _has already_ linked SAML identity:\n         - Redirect to `RelayState` path which can default to group page but might also be the SAML settings page or another page they were on\n         - Display flash message saying \"Signed in with SAML for {GroupName}\"\n      - AND _has not_ linked this particular SAML provider:\n         - Redirect to `RelayState`.\n         - Display flash indicating the account has been linking to the `profile/account` page: `SAML for {GroupName} was added to your [connected accounts]`\n   - User _is not_ signed into GitLab:\n      - AND _has already_ linked this SAML provider:\n         - Redirect to GitLab login page and after login, redirect to `RelayState`\n         - Display flash message saying \"Signed in with SAML for {GroupName}\"\n      - AND _has not_ linked this SAML identity provider: We will block this in the first iteration and redirect to GitLab login page. After login, redirect to SSO page\n- If the user _is already_ signed into GitLab AND _has already_ linked SAML identity, AND they attempt to visit the SSO page, they should be redirected to the Group homepage saying “You’re already signed in with SAML for {GroupName}”\n\n### Links / references","state":"closed","created_at":"2018-01-09T14:03:25.772Z","updated_at":"2019-08-12T15:42:44.215Z","closed_at":"2018-05-04T15:42:12.335Z","closed_by":{"id":87854,"username":"DouweM","name":"Douwe Maan","state":"active","avatar_url":"https://secure.gravatar.com/avatar/73d1548ae618321220679b3a4fda7fb1?s=80\u0026d=identicon","web_url":"https://gitlab.com/DouweM"},"labels":["Deliverable","Enterprise Edition","UX","authentication","backend","gitlab.com","ldap","saml","type::feature","workflow::in dev"],"milestone":{"id":424944,"iid":9,"group_id":9970,"title":"10.7","description":"","state":"closed","created_at":"2017-12-06T16:45:41.880Z","updated_at":"2018-05-11T15:04:03.492Z","due_date":"2018-04-22","start_date":"2018-03-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/9"},"assignees":[{"id":626804,"username":"pedroms","name":"Pedro Moreira da Silva","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c306f087d191ac15549f3c11e3bed321?s=80\u0026d=identicon","web_url":"https://gitlab.com/pedroms"},{"id":654619,"username":"jamedjo","name":"James Edwards-Jones","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/654619/avatar.png","web_url":"https://gitlab.com/jamedjo"},{"id":1086520,"username":"jeremy-gl","name":"Jeremy Watson (ex-GitLab)","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1086520/avatar.png","web_url":"https://gitlab.com/jeremy-gl"}],"author":{"id":863091,"username":"mydigitalself","name":"Mike Bartlett","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/863091/avatar.png","web_url":"https://gitlab.com/mydigitalself"},"type":"ISSUE","assignee":{"id":626804,"username":"pedroms","name":"Pedro Moreira da Silva","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c306f087d191ac15549f3c11e3bed321?s=80\u0026d=identicon","web_url":"https://gitlab.com/pedroms"},"user_notes_count":16,"merge_requests_count":2,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/4514","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":6,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/4514","notes":"https://gitlab.com/api/v4/projects/278964/issues/4514/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/4514/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#4514","relative":"#4514","full":"gitlab-org/gitlab#4514"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":40,"epic":{"id":85,"iid":40,"title":"Basic group-level SSO for GitLab.com (SAML)","url":"/groups/gitlab-org/-/epics/40","group_id":9970,"human_readable_end_date":"Jun 22, 2018","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":8525681,"iid":4513,"project_id":278964,"title":"Configure SAML Single sign-on for a group","description":"### Description\n\nIn order to enable SSO for GitLab.com, it is necessary to configure Single sign-on for a group on GitLab.\n\n### Proposal\n\n1. Under the group settings, below “LDAP Synchronization”, add a “SAML SSO” page to configure SSO\n2. Provide configuration options to setup SSO via SAML\n3. Provide documentation and guidance, in particular for Active Directory\n4. This functionality will only be available in EEP \u0026 Silver price plans.\n5. This option should only be visible if the user has enabled a cookie so that it is not generally available\n\n#### Design\n\n[Check all design variations and specs (for implementation notes, spacing, sizes, colors and text copying)](https://gitlab-org.gitlab.io/gitlab-design/hosted/pedro/ee%234513-spec-previews/)\n\n![image](/uploads/1e226c8e30630d244ade8ffec19c5f60/image.png)\n\n### Links / references\n- [GitHub: About identity and access management with SAML single sign-on](https://help.github.com/articles/about-identity-and-access-management-with-saml-single-sign-on/)\n- [Azure Active Directory integration with GitHub](https://docs.microsoft.com/en-us/azure/active-directory/active-directory-saas-github-tutorial)\n- [How to configure SAML SSO with the Cisco Meraki Dashboard and Azure Active Directory](https://morgansimonsen.com/2016/05/27/how-to-configure-saml-sso-with-the-cisco-meraki-dashboard-and-azure-active-directory/)\n- [Freshservice: Single Sign On and Remote Authentication docs](https://support.freshservice.com/support/solutions/folders/267124)\n- [Mattermost: Configure SAML with Microsoft ADFS (Active Directory Federation Services)](https://github.com/mattermost/docs/blob/master/source/deployment/sso-saml-adfs.md)\n- [Zendesk: Setting up single sign-on using Active Directory with ADFS and SAML (Professional and Enterprise)](https://support.zendesk.com/hc/en-us/articles/203663886-Setting-up-single-sign-on-using-Active-Directory-with-ADFS-and-SAML-Professional-and-Enterprise-)","state":"closed","created_at":"2018-01-09T13:59:27.201Z","updated_at":"2019-08-12T15:42:44.232Z","closed_at":"2018-04-03T13:03:20.268Z","closed_by":null,"labels":["Deliverable","Enterprise Edition","GitLab Premium","authentication","backend","customer","documentation","gitlab.com","ldap","saml","type::feature","workflow::in review"],"milestone":{"id":424944,"iid":9,"group_id":9970,"title":"10.7","description":"","state":"closed","created_at":"2017-12-06T16:45:41.880Z","updated_at":"2018-05-11T15:04:03.492Z","due_date":"2018-04-22","start_date":"2018-03-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/9"},"assignees":[{"id":626804,"username":"pedroms","name":"Pedro Moreira da Silva","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c306f087d191ac15549f3c11e3bed321?s=80\u0026d=identicon","web_url":"https://gitlab.com/pedroms"},{"id":654619,"username":"jamedjo","name":"James Edwards-Jones","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/654619/avatar.png","web_url":"https://gitlab.com/jamedjo"}],"author":{"id":863091,"username":"mydigitalself","name":"Mike Bartlett","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/863091/avatar.png","web_url":"https://gitlab.com/mydigitalself"},"type":"ISSUE","assignee":{"id":626804,"username":"pedroms","name":"Pedro Moreira da Silva","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c306f087d191ac15549f3c11e3bed321?s=80\u0026d=identicon","web_url":"https://gitlab.com/pedroms"},"user_notes_count":23,"merge_requests_count":1,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/4513","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/4513","notes":"https://gitlab.com/api/v4/projects/278964/issues/4513/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/4513/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#4513","relative":"#4513","full":"gitlab-org/gitlab#4513"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":40,"epic":{"id":85,"iid":40,"title":"Basic group-level SSO for GitLab.com (SAML)","url":"/groups/gitlab-org/-/epics/40","group_id":9970,"human_readable_end_date":"Jun 22, 2018","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":8508132,"iid":4492,"project_id":278964,"title":"Use repmgr to manage Geo postgresql replication","description":"As discussed in https://gitlab.com/gitlab-com/infrastructure/issues/3423#note_53204703\n\nI'm not cognizant of all the details here, but it sounds as though repmgr would know about every postgresql server in every Geo node, and automatically manage the details of failover when one server fails. So perhaps this would also solve our current problems with n-node Geo DR, in addition to HA?\n\n@jarv @ahanselka am I understanding this correctly? What's the current status of repmgr? - integrated into omnibus or something that is managed externally?\n\n**repmgr** \n\n\u003e repmgr is an open-source tool suite for managing replication and failover in a cluster of PostgreSQL servers. It enhances PostgreSQL's built-in hot-standby capabilities with tools to set up standby servers, monitor replication, and perform administrative tasks such as failover or manual switchover operations. \n\nhttps://repmgr.org/","state":"closed","created_at":"2018-01-08T13:10:49.406Z","updated_at":"2019-12-11T20:22:48.849Z","closed_at":"2019-02-19T17:06:12.499Z","closed_by":{"id":2722370,"username":"rnienaber","name":"Rachel Nienaber","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2722370/avatar.png","web_url":"https://gitlab.com/rnienaber"},"labels":["Enterprise Edition","Geo Administration","Geo Next Gen","devops::systems","group::geo","type::feature"],"milestone":null,"assignees":[],"author":{"id":572018,"username":"nick.thomas","name":"Nick Thomas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/572018/avatar.png","web_url":"https://gitlab.com/nick.thomas"},"type":"ISSUE","assignee":null,"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/4492","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":13,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/4492","notes":"https://gitlab.com/api/v4/projects/278964/issues/4492/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/4492/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#4492","relative":"#4492","full":"gitlab-org/gitlab#4492"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":590,"epic":{"id":2264,"iid":590,"title":"Geo: Promotion, Demotion and Failover","url":"/groups/gitlab-org/-/epics/590","group_id":9970,"human_readable_end_date":"Dec 31, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":8488873,"iid":4489,"project_id":278964,"title":"Geo: Using PostgreSQL FDW appears to increase cancelled statements","description":"### Summary and next steps\n\n**Work remaining on this issue:** Add troubleshooting docs about the error and tell people how to configure `hot_standby_feedback`. See comment here: https://gitlab.com/gitlab-org/gitlab/issues/4489#note_243363712\n\nIf we have long running queries on the secondary we are likely going to encounter the error described in the issue. In order to avoid this, one can set `hot_standby_feedback on` but this may impact the primary adversely in some scenarios.\n\nWe are already implementing tuned queries to avoid this issue. To resolve and close this issue here we  should also \nadd troubleshooting docs about the error and tell users how to configure `hot_standby_feedback` to resolve the issue.\n\nCustomers can then also inform us of these issues and we can continue and tune the relevant queries.\n\n----\n\nSince we enabled PostgreSQL FDW on the Geo testbed, we have started to see quite a number of errors, such as in https://sentry.gitlap.com/gitlab/geo1/issues/117142/\n:\n\n```\nPG::TRSerializationFailure: ERROR: canceling statement due to conflict with recovery DETAIL: User query might have needed to see row versions that must be removed. CONTEXT: Remote SQL command: SELECT id FROM public.uploads : SELECT COUNT(*) FROM \"gitlab_secondary\".\"uploads\" INNER JOIN file_registry ON file_registry.file_id = gitlab_secondary.uploads.id WHERE \"file_registry\".\"file_type\" IN ('attachment', 'avatar', 'file', 'namespace_file', 'personal_file') AND \"file_registry\".\"success\" = 't'\n```\n\nThere are a number of good resources that explain why this happens:\n\n* https://stackoverflow.com/questions/14592436/postgresql-error-canceling-statement-due-to-conflict-with-recovery\n* http://www.postgresql.org/docs/current/static/hot-standby.html#HOT-STANDBY-CONFLICT\n\nWe may want to consider enabling `hot_standby_feedback`:\n\n\u003e Remedial possibilities exist if the number of standby-query cancellations is found to be unacceptable. The first option is to set the parameter hot_standby_feedback, which prevents VACUUM from removing recently-dead rows and so cleanup conflicts do not occur. If you do this, you should note that this will delay cleanup of dead rows on the primary, which may result in undesirable table bloat. However, the cleanup situation will be no worse than if the standby queries were running directly on the primary server, and you are still getting the benefit of off-loading execution onto the standby.\n\n### Customer encounters\n\nhttps://gitlab.zendesk.com/agent/tickets/131543 @ 2019-09-24\n\n```\n2019-09-24_10:18:12.28799 ERROR: canceling statement due to conflict with recovery \n2019-09-24_10:18:12.28800 DETAIL: User query might have needed to see row versions that must be removed. \n2019-09-24_10:18:12.28800 CONTEXT: Remote SQL command: SELECT lfs_object_id, project_id FROM public.lfs_objects_projects \n2019-09-24_10:18:12.28800 STATEMENT: SELECT \"gitlab_secondary\".\"lfs_objects\".\"id\" FROM \"gitlab_secondary\".\"lfs_objects\" INNER JOIN \"gitlab_secondary\".\"lfs_objects_projects\" ON \"gitlab_secondary\".\"lfs_objects_projects\".\"lfs_object_id\" = \"gitlab_secondary\".\"lfs_objects\".\"id\" INNER JOIN \"gitlab_secondary\".\"projects\" ON \"gitlab_secondary\".\"projects\".\"id\" = \"gitlab_secondary\".\"lfs_objects_projects\".\"project_id\" LEFT OUTER JOIN \"file_registry\" ON \"gitlab_secondary\".\"lfs_objects\".\"id\" = \"file_registry\".\"file_id\" WHERE \"gitlab_secondary\".\"projects\".\"id\" IN (SELECT \"gitlab_secondary\".\"projects\".\"id\" FROM \"gitlab_secondary\".\"projects\" WHERE \"gitlab_secondary\".\"projects\".\"namespace_id\" IN (WITH RECURSIVE \"base_and_descendants\" AS (SELECT \"gitlab_secondary\".\"geo_node_namespace_links\".\"namespace_id\" AS id FROM \"gitlab_secondary\".\"geo_node_namespace_links\" WHERE \"gitlab_secondary\".\"geo_node_namespace_links\".\"geo_node_id\" = 9 \n2019-09-24_10:18:12.28801 UNION \n2019-09-24_10:18:12.28801 SELECT \"gitlab_secondary\".\"namespaces\".\"id\" FROM \"gitlab_secondary\".\"namespaces\", \"base_and_descendants\" WHERE \"gitlab_secondary\".\"namespaces\".\"parent_id\" = \"base_and_descendants\".\"id\") SELECT \"id\" FROM \"base_and_descendants\" AS \"gitlab_secondary_namespaces\")) AND (\"gitlab_secondary\".\"lfs_objects\".\"file_store\" = 1 OR \"gitlab_secondary\".\"lfs_objects\".\"file_store\" IS NULL) AND \"file_registry\".\"id\" IS NULL AND 1=1 LIMIT 1000\n\nError happened immediately after executing the query.\n```\n\n### Clarification by Database team\n\nFrom https://gitlab.com/gitlab-org/gitlab/issues/10286#note_221826697:\n\n\u003e\u003e\u003e\nThere's a trade-off between `hot_standby_feedback` and `max_standby_streaming_delay`: `hot_standby_feedback` basically makes the upstream/primary aware of running queries on the standby and causes it to refrain from VACUUM activity that would otherwise cause these queries to get cancelled on the standby (\"conflict with recovery\"). Enabling it and running long queries on the standby increases the likelihood of bloat (because it cannot clean up eagerly).\n\nNow `max_standby_streaming_delay` on the other hand allows queries on the standby to actually complete (until this timeout setting is reached) even if this means delaying the recovery process. In practice, this means that the replication lag is likely to increase on the standby, because recovery is being held up by ongoing queries. The expected maximum replication lag is roughly the `max_standby_..._delay` setting.\n\nThat said, for the main GitLab.com cluster, we have `hot_standby_feedback` enabled.\n\nIt's likely the better choice over `max_standby_streaming_delay`, too, as it is harder to reason about replication delay and to get the timeout right. I think enabling `hot_standby_feedback` should solve the trouble with conflicting queries. Keep in mind though I'm not at all a Geo expert, so the above is just general PostgreSQL.\n\n\nPutting it in extremes: enabling `hot_standby_feedback` without running any queries on the standby isn't going to have any impact on the upstream. So the effect of this can only be seen with queries running on the standby and causing the primary to defer vacuum activity. The overall impact of this depends on frequency of queries on the standby and their duration (and even what data they consume). The more queries run, the longer they take and the more data they consume, the bigger the impact on the primary.\n\u003e\u003e\u003e\n\n","state":"closed","created_at":"2018-01-06T10:18:37.427Z","updated_at":"2020-01-15T22:34:57.116Z","closed_at":"2020-01-07T23:56:53.997Z","closed_by":{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"},"labels":["Enterprise Edition","bug::performance","customer","database","devops::systems","docs-only","group::geo"],"milestone":{"id":891798,"iid":41,"group_id":9970,"title":"12.7","description":"https://about.gitlab.com/releases/2020/01/22/gitlab-12-7-released/","state":"closed","created_at":"2019-05-31T08:38:04.523Z","updated_at":"2020-05-19T13:46:24.737Z","due_date":"2020-01-17","start_date":"2019-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/41"},"assignees":[{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"}],"author":{"id":64248,"username":"stanhu","name":"Stan Hu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/64248/stanhu.jpg","web_url":"https://gitlab.com/stanhu"},"type":"ISSUE","assignee":{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"},"user_notes_count":20,"merge_requests_count":2,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/4489","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/4489","notes":"https://gitlab.com/api/v4/projects/278964/issues/4489/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/4489/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#4489","relative":"#4489","full":"gitlab-org/gitlab#4489"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":8469210,"iid":4474,"project_id":278964,"title":"Custom additional text for all emails sent from GitLab","description":"### Current\nThis is the current confirmation email when you register as a new user in GitLab.\n\n\u003cimg src=\"/uploads/039ed3452cbfd1424530d570de880e37/Screen_Shot_2018-01-04_at_18.01.12.png\" height=\"300px\" /\u003e\n\n### Problem\nFor enterprise customers, they would like to have custom language in this email confirmation, for legal/auditing/compliance reasons as part of their business requirements.\n\n- ZD ticket: https://gitlab.zendesk.com/agent/tickets/88217\n\n### Requirements\n- Add custom additional text for all emails sent from a GitLab instance.\n- Have one location in the instance admin settings to configure this custom text.\n- For the existing non-styled basic emails, we put the custom text at the bottom of the email.\n- For the existing new-style emails, we locate it as in https://gitlab.com/gitlab-org/gitlab-ee/issues/4474#note_54336390.\n- As we work on migrating the non-styled basic emails into the new-style ones, we just have to make sure that the custom text gets carried along to the right location.\n- Available only in GitLab Premium+ and GitLab.com Silver+.\n- Include project api update as part of this issue. \n\n### Design\n![admin-settings](https://gitlab.com/gitlab-org/gitlab/uploads/48a71929ffc81a5bfe169b2534e75283/admin-settings.png)\n\n![updated-layout](https://gitlab.com/gitlab-org/gitlab/uploads/6c66faa7bcec193305937e6d4eab7d81/updated-layout.jpg)\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2018-01-04T22:58:39.087Z","updated_at":"2023-01-10T09:14:20.676Z","closed_at":"2018-04-05T10:17:22.076Z","closed_by":null,"labels":["Deliverable","Enterprise Edition","GitLab Premium","backend","devops::plan","direction","emails","frontend","settings","type::feature","workflow::in review"],"milestone":{"id":424944,"iid":9,"group_id":9970,"title":"10.7","description":"","state":"closed","created_at":"2017-12-06T16:45:41.880Z","updated_at":"2018-05-11T15:04:03.492Z","due_date":"2018-04-22","start_date":"2018-03-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/9"},"assignees":[{"id":590748,"username":"mdelaossa","name":"Mario de la Ossa","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/590748/avatar.png","web_url":"https://gitlab.com/mdelaossa"},{"id":892863,"username":"MadLittleMods","name":"Eric Eastwood","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4d634a2b818e2265fa2924b5f4c2da71?s=80\u0026d=identicon","web_url":"https://gitlab.com/MadLittleMods"},{"id":1296187,"username":"sarrahvesselov","name":"Sarrah Vesselov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1296187/avatar.png","web_url":"https://gitlab.com/sarrahvesselov"}],"author":{"id":711023,"username":"victorwu","name":"Victor Wu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/711023/avatar.png","web_url":"https://gitlab.com/victorwu"},"type":"ISSUE","assignee":{"id":590748,"username":"mdelaossa","name":"Mario de la Ossa","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/590748/avatar.png","web_url":"https://gitlab.com/mdelaossa"},"user_notes_count":32,"merge_requests_count":6,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/4474","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":4,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/4474","notes":"https://gitlab.com/api/v4/projects/278964/issues/4474/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/4474/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#4474","relative":"#4474","full":"gitlab-org/gitlab#4474"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":24660046,"iid":20577,"project_id":278964,"title":"Create branch from issue can lose input","description":"The create branch from issue suffers from copy-paste issues because it listens to `keyup`.\n\nIt can also lose some input if you type fast and submit because it only persists state once the request comes back and that method is debounced. On submission, we should grab the input value.\n\n*(gif from Chrome)*\n![](https://imgur.com/bKxCakl.gif)\n\nThis feature was introduced in https://gitlab.com/gitlab-org/gitlab-ce/merge_requests/13884\n\nI'm going to leave this in the gitlab-ce~2278648 queue as it hasn't regressed since being added :shrug:","state":"closed","created_at":"2018-01-04T22:29:53.038Z","updated_at":"2022-05-19T16:43:18.816Z","closed_at":"2019-11-26T00:46:46.307Z","closed_by":{"id":502136,"username":"fatihacet","name":"Fatih Acet","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/502136/avatar.png","web_url":"https://gitlab.com/fatihacet"},"labels":["[deprecated] Accepting merge requests","default-priority","default-severity","devops::plan","frontend","group::project management","issues","priority::3","priority::4","severity::3","type::bug"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":892863,"username":"MadLittleMods","name":"Eric Eastwood","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4d634a2b818e2265fa2924b5f4c2da71?s=80\u0026d=identicon","web_url":"https://gitlab.com/MadLittleMods"},"type":"ISSUE","assignee":null,"user_notes_count":1,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/20577","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/20577","notes":"https://gitlab.com/api/v4/projects/278964/issues/20577/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/20577/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#20577","relative":"#20577","full":"gitlab-org/gitlab#20577"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":24660031,"iid":20574,"project_id":278964,"title":"Grouped similar environments loose environment with base name","description":"### Summary\n\nIn a grouped similar environments folder an environment with only the base name is lost\n\n### Steps to reproduce\n\n*  Create a `staging` environment\n*  run few jobs for the `staging` environment \n*  verify that in the \"CI/CD -\u003e Environments\" view of your project the `staging` environment is available\n*  Create a `staging/foo` environment\n*  run few jobs for the `staging/foo` environment\n*  verify that in the \"CI/CD -\u003e Environments\" view of your project the `staging` environment is not available under the grouped environments folder\n\n### What is the current *bug* behavior?\n\nThe environment named like the base environment (in my case `staging`) disappears together with its history from the list of grouped environments.\n\n### What is the expected *correct* behavior?\n\nThe environment named like the base environment (in my case `staging`) should be listed together with the other (in my case `staging/foo`) in the list of grouped environments.\n\n### Relevant logs and/or screenshots\n\n![Screen_Shot_2018-01-03_at_8.04.11_PM](/uploads/be688e605c73b269a34f073a9870e793/Screen_Shot_2018-01-03_at_8.04.11_PM.png)\n\n### Output of checks\n\nThis bug happens on GitLab.com","state":"closed","created_at":"2018-01-04T18:43:21.592Z","updated_at":"2020-09-10T20:17:45.031Z","closed_at":"2020-09-10T20:17:44.404Z","closed_by":{"id":4905402,"username":"jreporter","name":"Jackie Porter","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4905402/avatar.png","web_url":"https://gitlab.com/jreporter"},"labels":["Category:Release Orchestration","[deprecated] Accepting merge requests","default-priority","default-severity","deploy","devops::release","pipeline","priority::3","section::ops","severity::3","type::bug"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":1736598,"username":"giovanni5","name":"Giovanni Di Milia","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1736598/avatar.png","web_url":"https://gitlab.com/giovanni5"},"type":"ISSUE","assignee":null,"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/20574","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/20574","notes":"https://gitlab.com/api/v4/projects/278964/issues/20574/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/20574/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":"https://gitlab.com/api/v4/projects/278964/issues/28701"},"references":{"short":"#20574","relative":"#20574","full":"gitlab-org/gitlab#20574"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":8466741,"iid":4472,"project_id":278964,"title":"Internationalize Geo strings","description":"https://gitlab.com/gitlab-org/gitlab-ee/merge_requests/3772#note_53358337 noted that we aren't using internationalization in our strings. We should do this, especially since Geo is intended to be a multi-region product. :)","state":"closed","created_at":"2018-01-04T18:17:21.020Z","updated_at":"2022-05-23T14:37:24.292Z","closed_at":"2022-05-23T14:24:31.608Z","closed_by":{"id":4748809,"username":"zcuddy","name":"Zack Cuddy","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4748809/avatar.png","web_url":"https://gitlab.com/zcuddy"},"labels":["Enterprise Edition","Geo Administration","[deprecated] Accepting merge requests","devops::systems","group::geo","section::enablement"],"milestone":null,"assignees":[],"author":{"id":64248,"username":"stanhu","name":"Stan Hu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/64248/stanhu.jpg","web_url":"https://gitlab.com/stanhu"},"type":"ISSUE","assignee":null,"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/4472","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/4472","notes":"https://gitlab.com/api/v4/projects/278964/issues/4472/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/4472/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#4472","relative":"#4472","full":"gitlab-org/gitlab#4472"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":369,"epic":{"id":1104,"iid":369,"title":"Geo: Improve UI/UX on Administrator Panel","url":"/groups/gitlab-org/-/epics/369","group_id":9970},"iteration":null,"health_status":null},{"id":8576225,"iid":4573,"project_id":278964,"title":"Multi-file editor commit panel empty state","description":"The commit panel should be opened automatically when the multi-file editor is opened to make sure new users instantly know where the commit button is. But it will be empty when it is first opened, and empty when ever a user commits all their changes.\n\nWe should make the empty state helpful and fun – perhaps like Slack when you're all caught up on unread messages.\n\n#### Designs\n| When it is first opened | When all changed are committed | When staged is empty |\n| ----------------------- | ------------------------------ | -------------------- |\n| ![01-new-to-multi-file-editor](/uploads/1af73694f5d0d6cd20559ea4bc05d1de/01-new-to-multi-file-editor.png) | ![02-all-changes-are-commited](/uploads/f59300d311406b567531548ec024ac03/02-all-changes-are-commited.png) | ![03-unstaged-changes](/uploads/2aed0f5fb5b398ed7d086e5a4fefdc3d/03-unstaged-changes.png) |","state":"closed","created_at":"2018-01-04T13:59:25.672Z","updated_at":"2019-08-12T15:42:47.816Z","closed_at":"2018-01-26T12:31:20.503Z","closed_by":null,"labels":["Category:Web IDE","Enterprise Edition","GitLab Ultimate","Stretch","frontend","workflow::in dev"],"milestone":{"id":404412,"iid":7,"group_id":9970,"title":"10.5","description":"https://about.gitlab.com/releases/2018/02/22/gitlab-10-5-released","state":"closed","created_at":"2017-11-02T10:41:09.107Z","updated_at":"2020-04-27T16:30:54.473Z","due_date":"2018-02-22","start_date":"2018-01-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/7"},"assignees":[{"id":577113,"username":"hazelyang","name":"Hazel Yang","state":"active","avatar_url":"https://secure.gravatar.com/avatar/e84e4d70639ad1177276340868d7f074?s=80\u0026d=identicon","web_url":"https://gitlab.com/hazelyang"},{"id":1149402,"username":"timzallmann","name":"Tim Zallmann","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1149402/avatar.png","web_url":"https://gitlab.com/timzallmann"}],"author":{"id":1187333,"username":"jramsay-gitlab","name":"James Ramsay (ex-GitLab)","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1187333/avatar.png","web_url":"https://gitlab.com/jramsay-gitlab"},"type":"ISSUE","assignee":{"id":577113,"username":"hazelyang","name":"Hazel Yang","state":"active","avatar_url":"https://secure.gravatar.com/avatar/e84e4d70639ad1177276340868d7f074?s=80\u0026d=identicon","web_url":"https://gitlab.com/hazelyang"},"user_notes_count":5,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/4573","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/4573","notes":"https://gitlab.com/api/v4/projects/278964/issues/4573/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/4573/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#4573","relative":"#4573","full":"gitlab-org/gitlab#4573"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":26,"epic":{"id":34,"iid":26,"title":"Web IDE editor","url":"/groups/gitlab-org/-/epics/26","group_id":9970,"human_readable_end_date":"Apr 22, 2018","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":8462311,"iid":4469,"project_id":278964,"title":"Make sure that the repository on the secondary matches the repository on the primary","description":"From [Nick's comment](https://gitlab.com/gitlab-org/gitlab-ce/issues/40228#note_51437562):\n\n\u003e For ~Geo repositories on the secondary, we're also interested in making sure that the repository on the secondary matches the repository on the primary.\n\n\u003e For instance, if an event reordering has erroneously caused repository X to be associated with project Y, we need to know about it, and just checking that it's a valid git repository isn't enough.\n\n\u003e I'm unsure what commit data we store in the database, and whether there's anything we can use for verification there, or if we'd just have to attempt to fetch from the geo remote on the secondary for every repository. ~~ISTR that if you try to fetch from a repository with the wrong initial commit, it'll fail with an error?~~ It does not https://gitlab.com/gitlab-org/gitlab-ce/issues/40228#note_51440433\n\nA few thoughts on how we can achieve this:\n\n1. Use https://docs.gitlab.com/ce/administration/repository_checks.html in the secondary to detect any repository errors. This won't probably detect the issue about fetching from a different remote.\n2. Use 1. in the primary. Hash the result of the fsck in the primary with a column. Run a specific worker on the secondary that checks the timestamp and the result checksum against the DB column. As pointed in https://docs.gitlab.com/ce/administration/repository_checks.html, `fsck` causes too many false alarms. Hence hashing the result might be better than just a check.\n3. Keep the last pushed checksum or something along those lines in a DB column, and save this info in the primary with a timestamp. Then similarly to 2, run a secondary worker that checks this column for a match.\n4. Use an existing DB column for achieving 3. I'm not aware of anything that we can reuse here, we could do something like getting latest updated MR HEAD SHA, but it won't be 100% accurate (but enough to know if the repo is still the same)\n\nWe could also use a mix \u0026 match of 1 and 4 - this would be a simple solution, that may detect issues with the repo in the secondary (although we'll get false positives, which we won't get with 2), and 4 will tell us if the right repo has been updated.\n\nThere could be more elegant solutions that I haven't thought about, though. But this is to name a few :)","state":"closed","created_at":"2018-01-04T12:39:57.562Z","updated_at":"2019-12-11T20:22:59.119Z","closed_at":"2018-01-31T17:40:26.007Z","closed_by":null,"labels":["Category:Disaster Recovery","Enterprise Edition","GCP Migration","devops::systems","group::geo","repository","type::feature"],"milestone":{"id":404412,"iid":7,"group_id":9970,"title":"10.5","description":"https://about.gitlab.com/releases/2018/02/22/gitlab-10-5-released","state":"closed","created_at":"2017-11-02T10:41:09.107Z","updated_at":"2020-04-27T16:30:54.473Z","due_date":"2018-02-22","start_date":"2018-01-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/7"},"assignees":[],"author":{"id":273486,"username":"jameslopez","name":"James Lopez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/273486/avatar.png","web_url":"https://gitlab.com/jameslopez"},"type":"ISSUE","assignee":null,"user_notes_count":17,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/4469","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/4469","notes":"https://gitlab.com/api/v4/projects/278964/issues/4469/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/4469/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#4469","relative":"#4469","full":"gitlab-org/gitlab#4469"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":58,"epic":{"id":110,"iid":58,"title":"Geo: Automatic background verification of replicas","url":"/groups/gitlab-org/-/epics/58","group_id":9970,"human_readable_end_date":"Dec 31, 2019","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":8454616,"iid":4464,"project_id":278964,"title":"Introduce explanation question mark icon tooltips MR widget for different tests","description":"### Problem\n\nIt's not clear enough to just state DAST or SAST and writing out the full name takes up to much space.\n\n### Proposal\n\nIntroduce explanation question mark icon tooltips MR widget for different tests\n\n### Design\n\n- Provide a pop-over tooltip in which we can place an introductory summary and a link for further inspection if required by the user. For further reasoning see https://gitlab.com/gitlab-org/gitlab-ee/issues/4464#note_54786769\n\n![image](/uploads/d7a7fd6c8a5711993ee9853a0efa9a91/image.png)\n\nTo be popped up from explanation question mark icons at:\n\n- pipeline view security report [image](/uploads/1219cec5bf68445801bccada8e0d3458/image.png)\n- merge request widget security report [image](/uploads/c515d867ba2efb0a7de29872cf132218/image.png)\n\n#### Updated naming conventions and links\n\n- SAST (Static Application Security Testing): https://docs.gitlab.com/ee/user/project/merge_requests/sast.html\n- Dependency Scanning: https://docs.gitlab.com/ee/user/project/merge_requests/dependency_scanning.html\n- Container Scanning: https://docs.gitlab.com/ee/user/project/merge_requests/container_scanning.html\n- DAST (Dynamic Application Security Testing): https://docs.gitlab.com/ee/user/project/merge_requests/dast.html","state":"closed","created_at":"2018-01-04T00:37:03.524Z","updated_at":"2019-11-18T17:30:46.424Z","closed_at":"2018-04-05T15:59:29.745Z","closed_by":null,"labels":["Deliverable","Enterprise Edition","GitLab Ultimate","devops::secure","feature::enhancement","frontend","merge requests","workflow::in review"],"milestone":{"id":424944,"iid":9,"group_id":9970,"title":"10.7","description":"","state":"closed","created_at":"2017-12-06T16:45:41.880Z","updated_at":"2018-05-11T15:04:03.492Z","due_date":"2018-04-22","start_date":"2018-03-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/9"},"assignees":[{"id":482476,"username":"filipa","name":"Filipa Lacerda","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/482476/avatar.png","web_url":"https://gitlab.com/filipa"},{"id":489558,"username":"dimitrieh","name":"Dimitrie Hoekstra","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/489558/avatar.png","web_url":"https://gitlab.com/dimitrieh"}],"author":{"id":489558,"username":"dimitrieh","name":"Dimitrie Hoekstra","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/489558/avatar.png","web_url":"https://gitlab.com/dimitrieh"},"type":"ISSUE","assignee":{"id":482476,"username":"filipa","name":"Filipa Lacerda","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/482476/avatar.png","web_url":"https://gitlab.com/filipa"},"user_notes_count":47,"merge_requests_count":1,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/4464","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/4464","notes":"https://gitlab.com/api/v4/projects/278964/issues/4464/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/4464/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#4464","relative":"#4464","full":"gitlab-org/gitlab#4464"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":8576222,"iid":4572,"project_id":278964,"title":"Open staged files from multi file editor right sidebar","description":"### Dependencies\n\nThis issue relies on https://gitlab.com/gitlab-org/gitlab-ce/issues/41277 being implemented\n\n### Scenario\n\n\u003e It would be really handy if files could be opened from the commit panel. This would mean that if I close a file I have changed I can quickly re-open it without having to navigate a large file tree.\n\n### Design\n\n- Clicking those files should (re-)open the files and focus them as the active file\n- The items in the sidebar should focus style-wise similarly to dropdown list items.\n\n### Follow up\n\nUltimately we would want to immediately show a summary of what has been changed in that file. We can introduce a \"preview changes\" sub tab.. similar as we have in the normal blob editor. \n\nThe follow up issue for this is https://gitlab.com/gitlab-org/gitlab-ce/issues/41640","state":"closed","created_at":"2018-01-03T22:36:56.591Z","updated_at":"2019-08-12T15:42:48.523Z","closed_at":"2018-03-01T08:37:25.460Z","closed_by":null,"labels":["Category:Web IDE","Deliverable","Enterprise Edition","GitLab Ultimate","frontend","workflow::in review"],"milestone":{"id":416486,"iid":8,"group_id":9970,"title":"10.6","description":"https://about.gitlab.com/releases/2018/03/22/gitlab-10-6-released","state":"closed","created_at":"2017-11-21T20:05:35.697Z","updated_at":"2020-04-27T16:30:32.220Z","due_date":"2018-03-22","start_date":"2018-02-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/8"},"assignees":[{"id":489558,"username":"dimitrieh","name":"Dimitrie Hoekstra","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/489558/avatar.png","web_url":"https://gitlab.com/dimitrieh"},{"id":853414,"username":"andr3","name":"André Luís","state":"active","avatar_url":"https://secure.gravatar.com/avatar/241e39726efb512a29621070ccf26a90?s=80\u0026d=identicon","web_url":"https://gitlab.com/andr3"}],"author":{"id":489558,"username":"dimitrieh","name":"Dimitrie Hoekstra","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/489558/avatar.png","web_url":"https://gitlab.com/dimitrieh"},"type":"ISSUE","assignee":{"id":489558,"username":"dimitrieh","name":"Dimitrie Hoekstra","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/489558/avatar.png","web_url":"https://gitlab.com/dimitrieh"},"user_notes_count":1,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/4572","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/4572","notes":"https://gitlab.com/api/v4/projects/278964/issues/4572/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/4572/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#4572","relative":"#4572","full":"gitlab-org/gitlab#4572"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":26,"epic":{"id":34,"iid":26,"title":"Web IDE editor","url":"/groups/gitlab-org/-/epics/26","group_id":9970,"human_readable_end_date":"Apr 22, 2018","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":8551754,"iid":4547,"project_id":278964,"title":"Measure multi-file editor usage on GitLab.com","description":"The new multi-file editor is an exciting new feature that has the potential to be very useful in different situations. We should measure usage as soon as possible so that we can find out how widely it is used and if it is actually being used for editing multiple files.\n\n## Proposal\n\n- log commit size (number of files changed, number of lines changed) of commits from multi-file editor\n- log anonymous project identifier to determine adoption by project\n- log anonymous user identifier to determine adoption by user","state":"closed","created_at":"2018-01-03T15:17:47.563Z","updated_at":"2019-08-12T15:42:48.852Z","closed_at":"2018-02-07T15:22:54.948Z","closed_by":null,"labels":["Category:Web IDE","Deliverable","Enterprise Edition","GitLab Ultimate","backend","workflow::in review"],"milestone":{"id":404412,"iid":7,"group_id":9970,"title":"10.5","description":"https://about.gitlab.com/releases/2018/02/22/gitlab-10-5-released","state":"closed","created_at":"2017-11-02T10:41:09.107Z","updated_at":"2020-04-27T16:30:54.473Z","due_date":"2018-02-22","start_date":"2018-01-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/7"},"assignees":[{"id":273486,"username":"jameslopez","name":"James Lopez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/273486/avatar.png","web_url":"https://gitlab.com/jameslopez"}],"author":{"id":1187333,"username":"jramsay-gitlab","name":"James Ramsay (ex-GitLab)","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1187333/avatar.png","web_url":"https://gitlab.com/jramsay-gitlab"},"type":"ISSUE","assignee":{"id":273486,"username":"jameslopez","name":"James Lopez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/273486/avatar.png","web_url":"https://gitlab.com/jameslopez"},"user_notes_count":19,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/4547","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/4547","notes":"https://gitlab.com/api/v4/projects/278964/issues/4547/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/4547/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#4547","relative":"#4547","full":"gitlab-org/gitlab#4547"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":24,"epic":{"id":32,"iid":24,"title":"Web IDE editor beta","url":"/groups/gitlab-org/-/epics/24","group_id":9970,"human_readable_end_date":"Jan 8, 2018","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":8441797,"iid":4459,"project_id":278964,"title":"Logout of Geo secondary takes you to primary login page","description":"### Summary\n\nWhen logging out of a Geo secondary node, the user is taken to the login page of the primary node, which could be confusing.\n\n### Steps to reproduce\n\n1. Login to a Geo secondary node (for example, `https://secondary.mygitlab.com`)\n2. Logout\n3. Notice that you are now on the page `https://primary.mygitlab.com/users/sign_in`\n4. Logging in will login you into the primary node\n\n### What is the expected *correct* behavior?\n\nI think the user would expect to be at a screen where they could log back into the secondary node.\n\nWhen you initially login to the secondary node, it redirects you to the primary node - you login there, and it then takes you back to the secondary.  So when you logout, it also takes you to the primary login screen.  However logging in again will log the user into the primary.\n\nThis can be confusing to the user.","state":"closed","created_at":"2018-01-03T10:23:34.089Z","updated_at":"2019-12-11T20:23:01.673Z","closed_at":"2018-11-07T01:03:45.045Z","closed_by":{"id":64248,"username":"stanhu","name":"Stan Hu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/64248/stanhu.jpg","web_url":"https://gitlab.com/stanhu"},"labels":["Deliverable","Enterprise Edition","Geo Administration","[deprecated] Accepting merge requests","devops::systems","group::geo","workflow::in review"],"milestone":{"id":567672,"iid":20,"group_id":9970,"title":"11.5","description":"","state":"closed","created_at":"2018-06-14T17:32:22.627Z","updated_at":"2018-12-20T06:50:07.124Z","due_date":"2018-11-22","start_date":"2018-10-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/20"},"assignees":[{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"}],"author":{"id":194645,"username":"digitalmoksha","name":"Brett Walker","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/194645/avatar.png","web_url":"https://gitlab.com/digitalmoksha"},"type":"ISSUE","assignee":{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"},"user_notes_count":5,"merge_requests_count":3,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/4459","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/4459","notes":"https://gitlab.com/api/v4/projects/278964/issues/4459/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/4459/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#4459","relative":"#4459","full":"gitlab-org/gitlab#4459"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":8441069,"iid":4458,"project_id":278964,"title":"Logout of Geo secondary after logging out of primary: undefined method `[]' for nil:NilClass","description":"### Summary\n\nIf you logout out of a Geo secondary node after logging out of the Geo primary, you get an `undefined method '[]' for nil:NilClass`\n\n### Steps to reproduce\n\n1. Using Chrome, login to a Geo primary with the root account\n2. Open a tab in the same browser and login to the Geo secondary, using the same account\n3. Logout of the primary\n4. Logout of the secondary\n\nYou get a \n\n```\nNoMethodError at /oauth/geo/logout\nundefined method `[]' for nil:NilClass\n```\n\n![Screen_Shot_2018-01-03_at_10.20.47_AM](/uploads/79ae10447a4bd92514c814408f60a13d/Screen_Shot_2018-01-03_at_10.20.47_AM.png)\n\n\n### Possible fixes\n\nProblem occurs here:\n\nhttps://gitlab.com/gitlab-org/gitlab-ee/blob/master/ee/app/controllers/oauth/geo_auth_controller.rb#L37","state":"closed","created_at":"2018-01-03T09:26:18.431Z","updated_at":"2019-12-11T20:23:02.506Z","closed_at":"2018-11-14T20:36:40.597Z","closed_by":{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"},"labels":["Enterprise Edition","auto updated","default-priority","default-severity","devops::systems","group::geo","priority::3","severity::3","type::bug"],"milestone":{"id":569990,"iid":21,"group_id":9970,"title":"11.6","description":"","state":"closed","created_at":"2018-06-16T19:56:12.651Z","updated_at":"2019-01-08T21:40:29.892Z","due_date":"2018-12-22","start_date":"2018-11-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/21"},"assignees":[{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"}],"author":{"id":194645,"username":"digitalmoksha","name":"Brett Walker","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/194645/avatar.png","web_url":"https://gitlab.com/digitalmoksha"},"type":"ISSUE","assignee":{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/4458","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/4458","notes":"https://gitlab.com/api/v4/projects/278964/issues/4458/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/4458/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#4458","relative":"#4458","full":"gitlab-org/gitlab#4458"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":24659990,"iid":20555,"project_id":278964,"title":"ActiveRecord::RecordNotUnique: PG::UniqueViolation: ERROR:  duplicate key value violates unique constraint \"index_gpg_keys_on_pr...","description":"https://sentry.gitlap.com/gitlab/gitlabcom/issues/110761/\n\n```\nPG::UniqueViolation: ERROR:  duplicate key value violates unique constraint \"index_gpg_keys_on_primary_keyid\"\nDETAIL:  Key (primary_keyid)=(\\x45b8620082a5eb9d) already exists.\n\n  lib/gitlab/database/load_balancing/connection_proxy.rb:77:in `block in write_using_load_balancer'\n    connection.send(name, *args, \u0026block)\n  lib/gitlab/database/load_balancing/load_balancer.rb:66:in `block in read_write'\n    yield ActiveRecord::Base.retrieve_connection\n  lib/gitlab/database/load_balancing/load_balancer.rb:116:in `retry_with_backoff'\n    return yield\n  lib/gitlab/database/load_balancing/load_balancer.rb:65:in `read_write'\n    retry_with_backoff do\n  lib/gitlab/database/load_balancing/connection_proxy.rb:71:in `write_using_load_balancer'\n    result = @load_balancer.read_write do |connection|\n...\n(195 additional frame(s) were not displayed)\n```","state":"closed","created_at":"2018-01-03T06:43:48.499Z","updated_at":"2020-11-02T12:21:15.607Z","closed_at":"2020-11-02T12:21:15.561Z","closed_by":{"id":1786152,"username":"gitlab-bot","name":"🤖 GitLab Bot 🤖","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1786152/avatar.png","web_url":"https://gitlab.com/gitlab-bot"},"labels":["Create [DEPRECATED]","[deprecated] Accepting merge requests","auto closed","backend","devops::create","frequently duplicated","gpg","priority::3","section::dev","severity::3","stale","type::bug","vintage"],"milestone":{"id":427853,"iid":10,"group_id":9970,"title":"Next 3-4 releases","description":"Bigger issues we plan to ship in the next 3-4 releases, but don't have a designated release yet. \r\n\r\n\u003e \"An easy way to look at it for me it's translating to months. Since our iterations are 1 month, I look at it as 'within the next 4 months'.\" - @dgruesso [via slack]\r\n\r\nDO NOT add small changes, bugs, regressions to this milestone.","state":"active","created_at":"2017-12-11T16:26:33.141Z","updated_at":"2020-07-14T18:21:29.639Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/10"},"assignees":[],"author":{"id":402401,"username":"jobbot","name":"Bot","state":"active","avatar_url":"https://secure.gravatar.com/avatar/aaa6738f1ebf25404010884af511b0e7?s=80\u0026d=identicon","web_url":"https://gitlab.com/jobbot"},"type":"ISSUE","assignee":null,"user_notes_count":26,"merge_requests_count":0,"upvotes":4,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/20555","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/20555","notes":"https://gitlab.com/api/v4/projects/278964/issues/20555/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/20555/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#20555","relative":"#20555","full":"gitlab-org/gitlab#20555"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":8576215,"iid":4570,"project_id":278964,"title":"Preview markdown in multi-file editor","description":"The standard blob viewer will be used for non-editable files like images following https://gitlab.com/gitlab-org/gitlab-ce/issues/38355 but we should allow users to preview markdown like they currently can.\n\n## Proposal\n\nAdd an option to the interface to allow a markdown buffer to be rendered and previewed\n\n## Design\n\n- tabs + \"Action Icons\" bar\n- each action item has a tooltip describing the funcion (for example `Delete file`)\n- \"Edit\" tab is always visible, even if \"preview markdown is not available\n- lock icon uses unlock and lock states\n\n![main-view_copy_20](/uploads/f608984c7377c4f815ac08a7783c3ecb/main-view_copy_20.png)\n\nbottom now looks like:\n\n![image](/uploads/fc8e58ce4566d3cf7ea7f31a648552db/image.png)\n\n##### Icons:\n- Download file --\u003e `download`\n- Check out file locally --\u003e `monitor-lines`\n- Blame --\u003e `blame`\n- History --\u003e `history`\n- Permalink --\u003e `link` \n- Lock --\u003e `lock`","state":"closed","created_at":"2018-01-02T16:32:12.584Z","updated_at":"2019-08-12T15:42:49.288Z","closed_at":"2018-03-30T12:55:40.244Z","closed_by":null,"labels":["Category:Web IDE","Deliverable","Enterprise Edition","GitLab Ultimate","frontend","workflow::in dev"],"milestone":null,"assignees":[{"id":489558,"username":"dimitrieh","name":"Dimitrie Hoekstra","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/489558/avatar.png","web_url":"https://gitlab.com/dimitrieh"},{"id":577113,"username":"hazelyang","name":"Hazel Yang","state":"active","avatar_url":"https://secure.gravatar.com/avatar/e84e4d70639ad1177276340868d7f074?s=80\u0026d=identicon","web_url":"https://gitlab.com/hazelyang"},{"id":1149402,"username":"timzallmann","name":"Tim Zallmann","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1149402/avatar.png","web_url":"https://gitlab.com/timzallmann"}],"author":{"id":1187333,"username":"jramsay-gitlab","name":"James Ramsay (ex-GitLab)","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1187333/avatar.png","web_url":"https://gitlab.com/jramsay-gitlab"},"type":"ISSUE","assignee":{"id":489558,"username":"dimitrieh","name":"Dimitrie Hoekstra","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/489558/avatar.png","web_url":"https://gitlab.com/dimitrieh"},"user_notes_count":27,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/4570","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":4,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/4570","notes":"https://gitlab.com/api/v4/projects/278964/issues/4570/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/4570/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#4570","relative":"#4570","full":"gitlab-org/gitlab#4570"},"severity":"UNKNOWN","moved_to_id":10016646,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":8463695,"iid":4471,"project_id":278964,"title":"Enabling member lock and group lock allows the project to be shared with a group","description":"### Summary\n\nWhen selecting both member lock and group lock, users are able to share a group with another group.\n\n### How to reproduce\n\n1. Head to group settings and enable both member lock and share with group lock\n2. Head to a project within the group and go to the member settings\n3. Share the project with another group\n4. Project is shared successfully\n\n### What is the current *bug* behavior?\n\nProject is able to be shared.\n\n### What is the expected *correct* behavior?\n\nProject should not be able to be shared.\n\n### Relevant logs and/or screenshots\n\nThis bug happens on GitLab.com and affects subgroups as well\n\n![Settings___Public_Test_Group___GitLab](/uploads/46d554297c4201bff2a26bdf22a708a7/Settings___Public_Test_Group___GitLab.png)\n\n![Members___Public_Test_Group___testapp-2_0___GitLab](/uploads/786780c264516f8e3d1761c7142e8ac1/Members___Public_Test_Group___testapp-2_0___GitLab.png)\n\n\nhttps://gitlab.zendesk.com/agent/tickets/88284","state":"closed","created_at":"2018-01-02T16:16:08.403Z","updated_at":"2019-08-12T15:42:49.429Z","closed_at":"2018-01-22T16:15:57.434Z","closed_by":null,"labels":["Category:User Management","Deliverable","Enterprise Edition","backend","customer","permissions","priority::2","reproduced on GitLab.com","security","settings","severity::2","workflow::in review"],"milestone":{"id":404412,"iid":7,"group_id":9970,"title":"10.5","description":"https://about.gitlab.com/releases/2018/02/22/gitlab-10-5-released","state":"closed","created_at":"2017-11-02T10:41:09.107Z","updated_at":"2020-04-27T16:30:54.473Z","due_date":"2018-02-22","start_date":"2018-01-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/7"},"assignees":[],"author":{"id":136229,"username":"cindy","name":"Cindy Pallares 🦉","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/136229/avatar.png","web_url":"https://gitlab.com/cindy"},"type":"ISSUE","assignee":null,"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/4471","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/4471","notes":"https://gitlab.com/api/v4/projects/278964/issues/4471/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/4471/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#4471","relative":"#4471","full":"gitlab-org/gitlab#4471"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":24659979,"iid":20550,"project_id":278964,"title":"Review environments shouldn't be marked as stopped if the stop job fails","description":"### Description\n\nCurrently if the stop job fails then the environment is still marked as stopped. Gitlab's environment page then doesn't accurately list all the running environments. I'd like to see this changed so it only sets an environment to stopped if the stop job actually completes okay.\n\n### Links / references","state":"closed","created_at":"2018-01-02T15:59:08.967Z","updated_at":"2022-09-23T07:02:58.107Z","closed_at":"2022-09-23T07:02:58.079Z","closed_by":{"id":11334402,"username":"ahmed.hemdan","name":"Ahmed Hemdan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11334402/avatar.png","web_url":"https://gitlab.com/ahmed.hemdan"},"labels":["Category:Release Orchestration","SUS::Impacting","UX","[deprecated] Accepting merge requests","backend","backend-weight::1","default-priority","default-severity","deploy","devops::release","group::release","priority::3","reproduced on GitLab.com","section::ops","severity::3","type::bug","workflow::ready for development"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[],"author":{"id":429381,"username":"tomelliff","name":"Tom Elliff","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cb6c6c20f2613c8af1967a5dcd79152e?s=80\u0026d=identicon","web_url":"https://gitlab.com/tomelliff"},"type":"ISSUE","assignee":null,"user_notes_count":19,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/20550","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/20550","notes":"https://gitlab.com/api/v4/projects/278964/issues/20550/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/20550/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#20550","relative":"#20550","full":"gitlab-org/gitlab#20550"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":8415619,"iid":4455,"project_id":278964,"title":"Improve security reports MR widget","description":"We added several security reports in the past releases, Dast, Sast, Clair, Codeclimate and a Performance one too.\n\nWe were able to create a reusable vue component to show the reports, but there is some technical debt that should be addressed:\n\n- The main focus point is to abstract the data in the backend and make the frontend dumber. It would be great to have all the main logic in backend, keeping it similar to other areas.\n\n**Not only we need to clean the code, doing this would allow us almost no effort in adding more reports**\n\n## ~frontend \n1. For some reports, we compare 2 JSON payloads (from 2 endpoints) to show the correct data. We could move this comparison to the backend and fetch only one report\n\n1. Although most reports show the same kind of information, each endpoint payload has a different object structure - each is being parsed on the frontend. \n\n1. Whether to know if each report can or not be rendered, we added a function: https://gitlab.com/gitlab-org/gitlab-ee/blob/master/ee/app/assets/javascripts/vue_merge_request_widget/mr_widget_options.js#L32 we could DRY this if for all the payloads the keys were the same.\n\n1. The same goes for the loading states, they are repeated for each: https://gitlab.com/gitlab-org/gitlab-ee/blob/master/ee/app/assets/javascripts/vue_merge_request_widget/mr_widget_options.js#L17, we could DRY if we didn't have to know which is which. \n\n1. And also for the requests and store methods. If each report had only one endpoint and the JSON structure and key naming were shared between all we could get rid of all the parsing methods in the store:\n  1. https://gitlab.com/gitlab-org/gitlab-ee/blob/master/ee/app/assets/javascripts/vue_merge_request_widget/stores/mr_widget_store.js#L88\n  1. https://gitlab.com/gitlab-org/gitlab-ee/blob/master/ee/app/assets/javascripts/vue_merge_request_widget/stores/mr_widget_store.js#L107\n  1. https://gitlab.com/gitlab-org/gitlab-ee/blob/master/ee/app/assets/javascripts/vue_merge_request_widget/stores/mr_widget_store.js#L118\n  1. https://gitlab.com/gitlab-org/gitlab-ee/blob/master/ee/app/assets/javascripts/vue_merge_request_widget/stores/mr_widget_store.js#L190\n  1. https://gitlab.com/gitlab-org/gitlab-ee/blob/master/ee/app/assets/javascripts/vue_merge_request_widget/stores/mr_widget_store.js#L228\n  1. https://gitlab.com/gitlab-org/gitlab-ee/blob/master/ee/app/assets/javascripts/vue_merge_request_widget/stores/mr_widget_store.js#L233\n\n### Component-specific:\n1. Improve issue component to be unaware of type:\n  1. has priority check: Instead of checking the type, move this logic up and pass it as a prop: https://gitlab.com/gitlab-org/gitlab-ee/blob/master/ee/app/assets/javascripts/vue_merge_request_widget/components/mr_widget_report_issues.vue#L50\n1. Use `icon` component instead of `spriteIcon` function\n\n## ~UX \n1. https://gitlab.com/gitlab-org/gitlab-ee/issues/4310\n\n/cc @timzallmann @dzaporozhets @ayufan @dimitrieh","state":"closed","created_at":"2018-01-02T09:57:09.364Z","updated_at":"2022-09-23T09:06:04.415Z","closed_at":"2020-04-03T20:00:05.141Z","closed_by":{"id":30915,"username":"plafoucriere","name":"Philippe Lafoucrière","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/30915/avatar.png","web_url":"https://gitlab.com/plafoucriere"},"labels":["Create [DEPRECATED]","Enterprise Edition","[deprecated] Accepting merge requests","backend","devops::secure","feature::enhancement","frontend","maintenance::refactor","merge requests"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":482476,"username":"filipa","name":"Filipa Lacerda","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/482476/avatar.png","web_url":"https://gitlab.com/filipa"},"type":"ISSUE","assignee":null,"user_notes_count":27,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/4455","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/4455","notes":"https://gitlab.com/api/v4/projects/278964/issues/4455/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/4455/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#4455","relative":"#4455","full":"gitlab-org/gitlab#4455"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":8399327,"iid":4449,"project_id":278964,"title":"Board milestone assignment in GitLab EE exposes all milestone titles and descriptions","description":"An insecure indirect object reference (IDOR) vulnerability was reported by Jobert via HackerOne. Details as follows:\n\nThere's an IDOR vulnerability in the `Projects::BoardsController` that allows a user to assign their board to any milestone on the GitLab instance. By then fetching the board object through the API, the milestone title, description, due date, state, and project ID is revealed. To reproduce, start of my creating an account on a GitLab EE instance. Create a project and go to the board. Click the \"Edit board\" button and intercept your network traffic. When you click on the \"Save changes\" button, observe the following request being submitted:\n\n**Request**\n\n```\nPUT /root/test/boards/1.json HTTP/1.1\nHost: gitlab-instance\n...\n\n{\n  \"board\": {\n    \"id\": 1,\n    \"name\": \"Development\",\n    \"labels\": [\n\n    ],\n    \"milestone_id\": -1,\n    \"assignee_id\": 2,\n    \"weight\": null,\n    \"label_ids\": [\n      \"\"\n    ]\n  }\n}\n```\n\nIn this request, use any `milestone_id` of any other project. Then, create a personal API token for your own account and request the board through the API to expose the milestone information:\n\n**Command**\n\n```\n$ curl -vv -H 'private-token: AAA' http://gitlab-instance/api/v4/projects/1/boards | jq\n```\n\n**Response**\n\n```\n[\n  {\n    \"id\": 1,\n    \"name\": \"Development\",\n    ...\n    \"milestone\": {\n      \"id\": 1,\n      \"iid\": 2,\n      \"project_id\": 2,\n      \"title\": \"Private milestone\",\n      \"description\": \"Secret description\",\n      \"state\": \"active\",\n      \"created_at\": \"0000-00-00T09:19:48.843Z\",\n      \"updated_at\": \"0000-00-00T09:19:48.843Z\",\n      \"due_date\": null,\n      \"start_date\": null\n    },\n    ...\n]\n```\n\nThis vulnerability is tested on the latest version and can only exploited on GitLab EE.\n\n**Impact**\n\nThe milestones may contain confidential information that may be interesting to attackers.","state":"closed","created_at":"2017-12-30T22:57:31.147Z","updated_at":"2022-07-04T13:53:52.207Z","closed_at":"2018-01-17T16:05:04.890Z","closed_by":null,"labels":["Enterprise Edition","HackerOne","Plan [DEPRECATED]","security","severity::2","workflow::in dev"],"milestone":null,"assignees":[],"author":{"id":1668880,"username":"kathyw","name":"Kathy Wang","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1668880/avatar.png","web_url":"https://gitlab.com/kathyw"},"type":"ISSUE","assignee":null,"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/4449","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":6,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/4449","notes":"https://gitlab.com/api/v4/projects/278964/issues/4449/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/4449/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#4449","relative":"#4449","full":"gitlab-org/gitlab#4449"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":24659930,"iid":20524,"project_id":278964,"title":"Creating a wiki page named \"pages\" causes page to become unreachable","description":"### Summary\n\nIt is possible to create a new wiki page with the title \"pages\", as this name is the same as the directory page it will become inaccessible. \n\nThis bug could also effect other default pages.\n\nThe page is also reasonably difficult to remove, requiring the user to modify the browser URL to navigate to the edit page.\n\n### Steps to reproduce\n\nCreate a new wiki page with the title \"pages\".\n\n### What is the current *bug* behavior?\n\nTwo pages called \"pages\" exist, however it is not possible to access the user created page.\n\n### What is the expected *correct* behavior?\n\nThe wiki should not allow for two pages with the same name to be created, therefore it should report an error when creating the page\n\n### Relevant logs and/or screenshots\n\n![Capture](/uploads/145e5eada1f7fc0d456809d30ed15f8d/Capture.PNG)\n\n### Output of checks\n\nThis bug happens on GitLab.com\n\n### Possible fixes\n\nHave a sanity check that the page title is not \"pages\"","state":"closed","created_at":"2017-12-27T12:43:00.331Z","updated_at":"2022-03-28T03:03:50.001Z","closed_at":"2022-03-28T03:03:49.984Z","closed_by":{"id":1786152,"username":"gitlab-bot","name":"🤖 GitLab Bot 🤖","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1786152/avatar.png","web_url":"https://gitlab.com/gitlab-bot"},"labels":["Category:Wiki","[deprecated] Accepting merge requests","auto closed","backend","default-priority","devops::create","group::editor","missed:13.6","priority::3","quad-planning::complete-action","reproduced on GitLab.com","section::dev","severity::4","stale","type::bug","vintage","workflow::scheduling"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":1881559,"username":"campbellwray","name":"Campbell Wray","state":"active","avatar_url":"https://secure.gravatar.com/avatar/035f1084b49745aade0726ac7855f1fd?s=80\u0026d=identicon","web_url":"https://gitlab.com/campbellwray"},"type":"ISSUE","assignee":null,"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/20524","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/20524","notes":"https://gitlab.com/api/v4/projects/278964/issues/20524/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/20524/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#20524","relative":"#20524","full":"gitlab-org/gitlab#20524"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":188,"epic":{"id":384,"iid":188,"title":"Wiki: Quick improvements","url":"/groups/gitlab-org/-/epics/188","group_id":9970,"human_readable_end_date":"May 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":8576993,"iid":4581,"project_id":278964,"title":"Merge request diffs in multi-file editor","description":"When I am reviewing a merge request in the multi-file editor, I need to know which files and lines have changed relative to the target branch to be able to review them. In addition to the changed line highlighting (difference between buffer and last commit) we should highlight the changed files and lines relative to the target branch.\n\n## Proposal\n\n- Add status icon to file list and file tabs indicating which files have been changed in the MR including the local changes in the buffer\n- Add line highlighting so that lines changed in the MR can be located in the buffer\n\n## Design\n\nThis design builds on the design of https://gitlab.com/gitlab-org/gitlab-ee/issues/4570\n\n- **Editing** - View and edit files\n  - Button is default colored\n\n- **Reviewing** - Compare changes with the last commit\n  - Button is blue colored\n\n- **Reviewing (merge request)** - Compare changes with the merge request target branch\n  - Button is blue colored\n\n![main-view_copy_21](/uploads/c2aa26dc9bbfe56d08cff6d1ed07694b/main-view_copy_21.png)","state":"closed","created_at":"2017-12-21T20:11:15.059Z","updated_at":"2019-08-12T15:43:12.310Z","closed_at":"2018-03-30T12:49:04.548Z","closed_by":null,"labels":["Category:Web IDE","Deliverable","Enterprise Edition","GitLab Ultimate","frontend","workflow::in dev"],"milestone":null,"assignees":[{"id":489558,"username":"dimitrieh","name":"Dimitrie Hoekstra","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/489558/avatar.png","web_url":"https://gitlab.com/dimitrieh"},{"id":1149402,"username":"timzallmann","name":"Tim Zallmann","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1149402/avatar.png","web_url":"https://gitlab.com/timzallmann"}],"author":{"id":1187333,"username":"jramsay-gitlab","name":"James Ramsay (ex-GitLab)","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1187333/avatar.png","web_url":"https://gitlab.com/jramsay-gitlab"},"type":"ISSUE","assignee":{"id":489558,"username":"dimitrieh","name":"Dimitrie Hoekstra","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/489558/avatar.png","web_url":"https://gitlab.com/dimitrieh"},"user_notes_count":9,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/4581","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/4581","notes":"https://gitlab.com/api/v4/projects/278964/issues/4581/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/4581/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#4581","relative":"#4581","full":"gitlab-org/gitlab#4581"},"severity":"UNKNOWN","moved_to_id":10016595,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":8305705,"iid":4418,"project_id":278964,"title":"Require merge request approval by code owners","description":"### Problem to solve\n\nLarge organizations with many projects and large projects need to enforce review policies so that they can ensure the correct teams and individuals review changes that impact them. GitLab should allow approvals from Code Owners to be required before a merge request can be merged.\n\n### Target audience\n\n\u003c!--- For whom are we doing this? Include either a persona from https://design.gitlab.com/getting-started/personas or define a specific company role. e.a. \"Release Manager\" or \"Security Analyst\" --\u003e\n\n### Further details\n\nBuilding on the integration of Code Owners into the merge request approval process, we should make it possible to require Code Owner approval through the merge request workflow. To fully enforce code owners on a specific branch the Protected Branch rule to prohibit anyone from pushing directly to the branch to avoid a manual merge bypassing approval requirements.\n\n### Proposal\n\nAdd a merge request option to project settings to require approval by code owners in merge requests:\n\n\u003e **Require approval by code owners**\n\u003e Only allow code owners to change files that match CODEOWNER rules. Commits that change files owned by other users or groups will require approval before the merge request may be merged. Owners may change any file.\n\nUntil all matching code owners rules are satisfied by one approval (or more), the merge request cannot be merged.\n\nAdd a new ~\"usage ping\" field for the count of projects where code owner approval is required.\n\n### Designs\n\n| Project settings | MR create/edit form | MR Widget |\n|------------------|---------------------|-----------|\n| ![image](https://gitlab.com/gitlab-org/gitlab-ee/uploads/e080496c9b704df7b6727e20ef1e0aa6/image.png) | ![image](https://gitlab.com/gitlab-org/gitlab-ee/uploads/6583ca0c618fe8f644115646ef05d21e/image.png) | ![image](https://gitlab.com/gitlab-org/gitlab-ee/uploads/b68f6d59251eb82fe9190070b6919bf2/image.png) |\n\n- The project settings for MR approvals has a checkbox to enforce codeowner approval.\n- The MR create/edit form shows a message that codeowner approval is required and displays the codeowner rules that match for the given MR.\n- The MR widget shows the current status for each of the matching codeowner rules\n- The default number of approvals required per codeowner rule will be 1. We will offer customizability in a follow-up issue.\n\n### What does success look like, and how can we measure that?\n\nWe will monitor adoption of required code owner approvals with a new usage ping field\n\n### Links / references\n\nhttps://gitlab.com/gitlab-org/gitlab-ee/issues/4413\nhttps://help.github.com/articles/about-codeowners/","state":"closed","created_at":"2017-12-21T19:19:37.480Z","updated_at":"2022-08-15T06:26:27.691Z","closed_at":"2019-03-05T11:11:45.387Z","closed_by":{"id":443319,"username":"smcgivern","name":"Sean McGivern","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/443319/avatar.png","web_url":"https://gitlab.com/smcgivern"},"labels":["Create [DEPRECATED]","Deliverable","Enterprise Edition","GitLab Premium","Product Vision FY20","Requires e2e tests","backend","customer+","devops::create","direction","missed-deliverable","missed:11.8","planning priority","priority::1","repository","type::feature","workflow::in review"],"milestone":{"id":523180,"iid":18,"group_id":9970,"title":"11.9","description":"https://about.gitlab.com/releases/2019/03/22/gitlab-11-9-released/","state":"closed","created_at":"2018-05-09T14:56:19.024Z","updated_at":"2020-04-30T19:56:35.917Z","due_date":"2019-03-22","start_date":"2019-02-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/18"},"assignees":[{"id":171554,"username":"reprazent","name":"Bob Van Landuyt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/171554/avatar.png","web_url":"https://gitlab.com/reprazent"},{"id":2003748,"username":"jeethukarthik","name":"Jeethu Karthik","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2003748/avatar.png","web_url":"https://gitlab.com/jeethukarthik"}],"author":{"id":1187333,"username":"jramsay-gitlab","name":"James Ramsay (ex-GitLab)","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1187333/avatar.png","web_url":"https://gitlab.com/jramsay-gitlab"},"type":"ISSUE","assignee":{"id":171554,"username":"reprazent","name":"Bob Van Landuyt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/171554/avatar.png","web_url":"https://gitlab.com/reprazent"},"user_notes_count":34,"merge_requests_count":2,"upvotes":12,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/4418","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/4418","notes":"https://gitlab.com/api/v4/projects/278964/issues/4418/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/4418/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#4418","relative":"#4418","full":"gitlab-org/gitlab#4418"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":77,"epic":{"id":143,"iid":77,"title":"Code owners","url":"/groups/gitlab-org/-/epics/77","group_id":9970,"human_readable_end_date":"Mar 22, 2019","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":9255269,"iid":4929,"project_id":278964,"title":"Internationalize locked files page","description":"As part of our on-going effort to internationalize GitLab in https://gitlab.com/gitlab-org/gitlab-ce/issues/4012\n\nThe locked files pages is found in **Repository \u003e Locked Files** (`https://gitlab.com/:group/:project/path_locks`)\n\n![20180213_screenshot_1](/uploads/f93cb06974d8542a6facf81df4dc564a/20180213_screenshot_1.png)\n\n### Links\n\nhttps://gitlab.com/gitlab-org/gitlab-ce/issues/4012","state":"closed","created_at":"2017-12-20T16:26:56.887Z","updated_at":"2019-08-30T14:47:38.305Z","closed_at":"2018-02-20T19:18:35.138Z","closed_by":null,"labels":["Category:Internationalization","Deliverable","Enterprise Edition","frontend","workflow::in review"],"milestone":{"id":416486,"iid":8,"group_id":9970,"title":"10.6","description":"https://about.gitlab.com/releases/2018/03/22/gitlab-10-6-released","state":"closed","created_at":"2017-11-21T20:05:35.697Z","updated_at":"2020-04-27T16:30:32.220Z","due_date":"2018-03-22","start_date":"2018-02-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/8"},"assignees":[{"id":408677,"username":"ClemMakesApps","name":"Clement Ho","state":"active","avatar_url":"https://secure.gravatar.com/avatar/013b4af8b474654bce8039ecd262a84a?s=80\u0026d=identicon","web_url":"https://gitlab.com/ClemMakesApps"}],"author":{"id":1187333,"username":"jramsay-gitlab","name":"James Ramsay (ex-GitLab)","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1187333/avatar.png","web_url":"https://gitlab.com/jramsay-gitlab"},"type":"ISSUE","assignee":{"id":408677,"username":"ClemMakesApps","name":"Clement Ho","state":"active","avatar_url":"https://secure.gravatar.com/avatar/013b4af8b474654bce8039ecd262a84a?s=80\u0026d=identicon","web_url":"https://gitlab.com/ClemMakesApps"},"user_notes_count":4,"merge_requests_count":1,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/4929","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/4929","notes":"https://gitlab.com/api/v4/projects/278964/issues/4929/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/4929/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#4929","relative":"#4929","full":"gitlab-org/gitlab#4929"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":24659798,"iid":20480,"project_id":278964,"title":"New design for project member removal confirmation","description":"Part of https://gitlab.com/gitlab-org/gitlab-ce/issues/28849\n\n| Path | Current Screenshot | New Title | New Description | New Buttons |\n|------|--------------------|-----------|-----------------|-------------|\n| [`project/settings/members`](http://localhost:3000/gitlab-org/gitlab-ce/project_members) | \u003cimg src=\"/uploads/171dc8c31cdbcbef2e8576402184bd82/project-settings-member--delete.png\" width=50% /\u003e | **Remove member ‘[User name]’?** | You’re about to remove the user **[User name]** from the members of project **[Project name]**.\u003cbr\u003eOnce you remove them, they will still have access to issues and merge requests they are the author of. You can always re-add them as a member of this project if you want. | [Cancel] [Remove user] |\n\n#### Existing discussion\n\n![Screen_Shot_2017-12-20_at_13.48.14](/uploads/019b943cfbf7e26585ef16ddb8ee843b/Screen_Shot_2017-12-20_at_13.48.14.png)\n\n(https://gitlab.com/gitlab-org/gitlab-ce/issues/28849#note_52044880)\n\n![Screen_Shot_2017-12-20_at_13.49.07](/uploads/bb9900d34bb494795f6f2dc86e095d45/Screen_Shot_2017-12-20_at_13.49.07.png)\n\n(https://gitlab.com/gitlab-org/gitlab-ce/issues/28849#note_52067755)","state":"closed","created_at":"2017-12-20T12:50:50.653Z","updated_at":"2022-08-03T09:32:28.590Z","closed_at":"2022-08-03T09:32:28.576Z","closed_by":{"id":11485419,"username":"lohrc","name":"Christina Lohr","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11485419/avatar.png","web_url":"https://gitlab.com/lohrc"},"labels":["Category:User Management","Manage [DEPRECATED]","UX","devops::manage","frontend","group::organization","section::dev"],"milestone":null,"assignees":[{"id":577113,"username":"hazelyang","name":"Hazel Yang","state":"active","avatar_url":"https://secure.gravatar.com/avatar/e84e4d70639ad1177276340868d7f074?s=80\u0026d=identicon","web_url":"https://gitlab.com/hazelyang"}],"author":{"id":1212235,"username":"winh","name":"Inactive Account","state":"active","avatar_url":"https://secure.gravatar.com/avatar/e34b010c96ff3f44c62cddf66607232a?s=80\u0026d=identicon","web_url":"https://gitlab.com/winh"},"type":"ISSUE","assignee":{"id":577113,"username":"hazelyang","name":"Hazel Yang","state":"active","avatar_url":"https://secure.gravatar.com/avatar/e84e4d70639ad1177276340868d7f074?s=80\u0026d=identicon","web_url":"https://gitlab.com/hazelyang"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/20480","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/20480","notes":"https://gitlab.com/api/v4/projects/278964/issues/20480/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/20480/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#20480","relative":"#20480","full":"gitlab-org/gitlab#20480"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":8283541,"iid":4401,"project_id":278964,"title":"Users deprovisioning using Okta/SAML.","description":"### Description \nUsers deprovisioning using Okta/SAML.\n\nAll our users are created in Gitlab using Okta but if one of this users are deleted from Okta they still have an active user created in Gitlab. They can't log in using the web interface because okta rejects them but if they configure SSH Keys or API Keys they still have access.\n\n### Proposal \nWe need to be able to deactivate users that no longer exists or have the application assigned in Okta.\n\n### Links / references\n- https://support.okta.com/help/Documentation/Knowledge_Article/Provisioning-and-Deprovisioning-572354290\n- https://gitlab.my.salesforce.com/0016100000KvahJ","state":"closed","created_at":"2017-12-20T05:37:09.835Z","updated_at":"2021-02-12T17:41:33.506Z","closed_at":"2020-04-21T22:53:35.733Z","closed_by":{"id":13356,"username":"dblessing","name":"Drew Blessing","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b5bf44866b4eeafa2d8114bfe15da02f?s=80\u0026d=identicon","web_url":"https://gitlab.com/dblessing"},"labels":["Category:User Management","Enterprise Edition","authentication","backend","customer","devops::manage","group::authentication and authorization","saml","type::feature"],"milestone":{"id":1104429,"iid":46,"group_id":9970,"title":"12.10","description":"https://about.gitlab.com/releases/2020/04/22/gitlab-12-10-released","state":"closed","created_at":"2019-12-20T15:15:53.243Z","updated_at":"2020-10-08T12:00:39.852Z","due_date":"2020-04-17","start_date":"2020-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/46"},"assignees":[{"id":1086520,"username":"jeremy-gl","name":"Jeremy Watson (ex-GitLab)","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1086520/avatar.png","web_url":"https://gitlab.com/jeremy-gl"}],"author":{"id":1554596,"username":"astrachan","name":"Alexander Strachan","state":"active","avatar_url":"https://secure.gravatar.com/avatar/582d845dbac4f7f1db98b8ae2251c408?s=80\u0026d=identicon","web_url":"https://gitlab.com/astrachan"},"type":"ISSUE","assignee":{"id":1086520,"username":"jeremy-gl","name":"Jeremy Watson (ex-GitLab)","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1086520/avatar.png","web_url":"https://gitlab.com/jeremy-gl"},"user_notes_count":20,"merge_requests_count":0,"upvotes":15,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/4401","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/4401","notes":"https://gitlab.com/api/v4/projects/278964/issues/4401/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/4401/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#4401","relative":"#4401","full":"gitlab-org/gitlab#4401"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":24659636,"iid":20444,"project_id":278964,"title":"Project search doesn't return matches when you type the exact group and project","description":"Currently, if you type in the exact string that occurs in the project search dropdown results, no matches are returned. I can think of a few reasons why it probably works this way, but it makes for a frustrating UX in that case that you know the group you're looking for, but would like to see possible projects within that group, or if you just don't recall the project name.  \n\n![Screen_Recording_2017-12-15_at_12.12_PM](/uploads/f0d937ceb2652792259801f4d4673a07/Screen_Recording_2017-12-15_at_12.12_PM.gif)","state":"closed","created_at":"2017-12-15T17:25:36.198Z","updated_at":"2020-05-29T16:12:10.999Z","closed_at":"2020-04-24T05:19:16.825Z","closed_by":{"id":2880930,"username":"engwan","name":"Heinrich Lee Yu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2880930/avatar.png","web_url":"https://gitlab.com/engwan"},"labels":["Manage [DEPRECATED]","UX","backend","devops::plan","group::project management","internal customer","missed:12.9","priority::3","project","severity::3","workflow::verification"],"milestone":{"id":1104429,"iid":46,"group_id":9970,"title":"12.10","description":"https://about.gitlab.com/releases/2020/04/22/gitlab-12-10-released","state":"closed","created_at":"2019-12-20T15:15:53.243Z","updated_at":"2020-10-08T12:00:39.852Z","due_date":"2020-04-17","start_date":"2020-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/46"},"assignees":[{"id":2880930,"username":"engwan","name":"Heinrich Lee Yu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2880930/avatar.png","web_url":"https://gitlab.com/engwan"}],"author":{"id":408230,"username":"brycepj","name":"Bryce Johnson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/408230/avatar.png","web_url":"https://gitlab.com/brycepj"},"type":"ISSUE","assignee":{"id":2880930,"username":"engwan","name":"Heinrich Lee Yu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2880930/avatar.png","web_url":"https://gitlab.com/engwan"},"user_notes_count":28,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/20444","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/20444","notes":"https://gitlab.com/api/v4/projects/278964/issues/20444/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/20444/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#20444","relative":"#20444","full":"gitlab-org/gitlab#20444"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":24659629,"iid":20440,"project_id":278964,"title":"Limit the API scope of Personal Access Tokens","description":"### Description\r\n\r\nProblem: when creating a Personal Access Token you have three scope options (two reads, one api). It seems with the \"api\" scope you have access to the whole api. You are unable to limit the \"api\" scope to specific functionality (i.e. ability to add members to the project, but nothing else.)\r\n\r\nUse Cases: Suppose you want to automate the process of fulfilling tickets for requests to add new members using the api. Once the request has been approved, you want to fulfill this request by making an api call using a \"common_user\" account token to add the new member with the specified level, expiration, etc. This is all the functionality this \"common_user\" account will be doing, so this is all you want it to have the ability to do. \r\n\r\nBenefits: From an information security standpoint, this exercises the principle of least privilege. We don't have to worry about that \"common_user\" token being inappropriately used or compromised.  If we want a proper automated request, approve and audit cycle for adding new members to groups/projects, a limited or custom \"api\" scope will help fulfill this.\r\n\r\n\r\n### Proposal\r\nExtend our authorization logic to consider the HTTP method. Introduce a read-only API scope (GET) along with existing full-access (all methods).\r\n\r\n### Links / references\r\n\r\n\r\n### Availability \u0026 Testing\r\n\r\n\u003c!-- This section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\r\n\r\n What risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\r\n\r\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\r\n* Unit test changes\r\n* Integration test changes\r\n* End-to-end test change\r\n\r\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning --\u003e\r\n\r\nTesting should ensure that existing PATs with `api` scope continue to function as expected with full read/write access. \r\nBesides unit level tests, no end-to-end tests needed. ","state":"closed","created_at":"2017-12-15T14:40:09.026Z","updated_at":"2020-09-08T19:46:24.376Z","closed_at":"2020-04-08T10:55:50.570Z","closed_by":{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"},"labels":["Category:Authentication and Authorization","GitLab Core","Manage [DEPRECATED]","api","backend","customer","devops::manage","direction","group::authentication and authorization","missed:12.9","permissions","personal access tokens","priority::2","quad-planning::complete-action","settings","type::feature","workflow::ready for development"],"milestone":{"id":1104429,"iid":46,"group_id":9970,"title":"12.10","description":"https://about.gitlab.com/releases/2020/04/22/gitlab-12-10-released","state":"closed","created_at":"2019-12-20T15:15:53.243Z","updated_at":"2020-10-08T12:00:39.852Z","due_date":"2020-04-17","start_date":"2020-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/46"},"assignees":[{"id":2982208,"username":"mksionek","name":"Gosia Ksionek","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2982208/avatar.png","web_url":"https://gitlab.com/mksionek"}],"author":{"id":1861652,"username":"deluciac","name":"Christopher DeLucia","state":"active","avatar_url":"https://secure.gravatar.com/avatar/1099bf2ae9e93811f665aebbb810da63?s=80\u0026d=identicon","web_url":"https://gitlab.com/deluciac"},"type":"ISSUE","assignee":{"id":2982208,"username":"mksionek","name":"Gosia Ksionek","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2982208/avatar.png","web_url":"https://gitlab.com/mksionek"},"user_notes_count":38,"merge_requests_count":1,"upvotes":64,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/20440","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/20440","notes":"https://gitlab.com/api/v4/projects/278964/issues/20440/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/20440/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#20440","relative":"#20440","full":"gitlab-org/gitlab#20440"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":637,"epic":{"id":2440,"iid":637,"title":"Unified token","url":"/groups/gitlab-org/-/epics/637","group_id":9970,"human_readable_end_date":"Apr 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":8224114,"iid":4354,"project_id":278964,"title":"Lock memberships to LDAP sync","description":"### Description\n\nAs a company, we have our own access control (integrated with LDAP) to assign permissions. Gitlab allows us to sync these permissions to Gitlab roles using LDAP synchronizations.\n\nThere currently seems no secure way to prevent overriding these synced permissions, namely masters and owners can still add (or override) members.\nThe lock membership feature is not useful because it can be turned off.\n\nThis makes our business' access control less authoritative than we need it to, to stay compliant (for example, with SOX).\n\nWe'd like it to be possible to make the LDAP synchronizations fully authoritative for group and project membership. The only way to override membership synced by LDAP synchronizations should be by means of administrator intervention.\n\n### Proposal\n\nAn option in Gitlab that will lock down membership to a group and its projects to LDAP synchronizations only.\n\nAdd this option to the \"Visibility and access controls\" section of the \"General\" area of the admin settings panel:\n* Rename \"LDAP group settings\" to \"LDAP settings\"\n* Add \"Lock memberships to LDAP synchronizations\" as a toggle-able checkbox. This should default to false.\n* Like the existing `Allow group owners to manage LDAP-related group settings`, both LDAP options should only be displayed if LDAP is configured.\n\n* When this lock is enabled, only an Administrator may be able to: 1) Add/Remove members 2) Change the access level of existing members.\n* Only an administrator may be able to enable/disable the lock.\n* When this lock is enabled or disabled, log an audit event.\n\nWhen this lock is enabled, we should remove all existing users added to projects/groups outside of LDAP. We should inform the admin enabling the lock that this will take place.\n\nFor groups without LDAP group sync enabled:\n\n* Group Owners should not be able to add members manually to these groups. Instead, they should see an error.\n* Instance administrators *should* be able to add members manually with the LDAP lock enabled.\n\n### Links / references\n\n### Customers\nhttps://gitlab.my.salesforce.com/00161000006fkPe  \nhttps://gitlab.my.salesforce.com/00161000006fjFi  \nhttps://gitlab.my.salesforce.com/0016100000fdr2y\nhttps://gitlab.my.salesforce.com/0016100001HGPYw","state":"closed","created_at":"2017-12-15T13:42:24.317Z","updated_at":"2022-12-20T19:21:45.991Z","closed_at":"2019-06-14T17:48:41.438Z","closed_by":{"id":64248,"username":"stanhu","name":"Stan Hu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/64248/stanhu.jpg","web_url":"https://gitlab.com/stanhu"},"labels":["CS Top 10 (2018CQ3)","Deliverable","Enterprise Edition","Manage [DEPRECATED]","backend","customer","customer+","devops::manage","direction","estimation::completed","group::authentication and authorization","ldap","planning priority","priority::1","severity::3","type::feature"],"milestone":{"id":693518,"iid":33,"group_id":9970,"title":"12.0","description":"https://about.gitlab.com/releases/2019/06/22/gitlab-12-0-released/","state":"closed","created_at":"2018-10-30T16:47:37.975Z","updated_at":"2020-04-22T19:51:03.475Z","due_date":"2019-06-22","start_date":"2019-05-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/33"},"assignees":[{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"}],"author":{"id":1229467,"username":"tdevelioglu","name":"Taylan Develioglu","state":"active","avatar_url":"https://secure.gravatar.com/avatar/148f652481ad150f9704c304fedfe634?s=80\u0026d=identicon","web_url":"https://gitlab.com/tdevelioglu"},"type":"ISSUE","assignee":{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"},"user_notes_count":45,"merge_requests_count":1,"upvotes":9,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/4354","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/4354","notes":"https://gitlab.com/api/v4/projects/278964/issues/4354/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/4354/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#4354","relative":"#4354","full":"gitlab-org/gitlab#4354"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":8204335,"iid":4334,"project_id":278964,"title":"Elasticsearch with AWS still getting throttled due to instance profile credentials","description":"In https://gitlab.com/gitlab-org/gitlab-ee/issues/3650 we noted a problem with the Rails and Sidekiq processes having too many elasticsearch clients, leading to many instance profile endpoint requests and throttling/rate-limited. !3432 fixed that issue, but it turns out we have another problem:\n\nWhen we shell out to `bin/elastic_repo_indexer` or https://gitlab.com/gitlab-org/gitlab-elasticsearch-indexer , the subprocess does an instance profile endpoint call. Here's a discussion we had about it in the MR that implemented instance profile support: https://gitlab.com/gitlab-org/gitlab-ee/merge_requests/2020/diffs#note_31397249\n\n(/cc @mgresko)\n\nI think we need another MR that retrieves the cached credentials in gitlab-rails and passes them to the ruby/go subprocess explicitly, rather than having those subprocesses do instance profile endpoint calls. /cc @victorwu for scheduling, @smcgivern for sanity checking.\n\nWe might also want to add a control to completely disable instance profile support.","state":"closed","created_at":"2017-12-14T11:42:03.728Z","updated_at":"2022-05-31T12:05:11.423Z","closed_at":"2020-06-27T18:24:21.042Z","closed_by":{"id":5724558,"username":"JohnMcGuire","name":"John McGuire","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5724558/avatar.png","web_url":"https://gitlab.com/JohnMcGuire"},"labels":["Category:Global Search","Create [DEPRECATED]","Enterprise Edition","[deprecated] Accepting merge requests","advanced search","auto updated","backend","customer","default-priority","default-severity","devops::data_stores","group::global search","missed:11.10","priority::3","severity::3","type::bug"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":572018,"username":"nick.thomas","name":"Nick Thomas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/572018/avatar.png","web_url":"https://gitlab.com/nick.thomas"},"type":"ISSUE","assignee":null,"user_notes_count":24,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/4334","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/4334","notes":"https://gitlab.com/api/v4/projects/278964/issues/4334/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/4334/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#4334","relative":"#4334","full":"gitlab-org/gitlab#4334"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":153,"epic":{"id":274,"iid":153,"title":"Rollout Advanced Global Search  on GitLab.com","url":"/groups/gitlab-org/-/epics/153","group_id":9970,"human_readable_end_date":"Jul 13, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":24659598,"iid":20426,"project_id":278964,"title":"Allow MR to merge when pipeline is blocked and \"pipeline must succeed\" is not enabled","description":"\u003c!-- triage-serverless v2 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*The following page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v2 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n### Problem to solve\n\nAn MR should be allowed to merge when a pipeline is blocked (waiting for a manual job to run) if the \"pipeline must succeed\" option is **not** enabled. There is a bug that prevents this expected behavior from working correctly.\n\nAs described in [CI engineer's comment](https://gitlab.com/gitlab-org/gitlab/-/issues/20426#note_398769508), the bug is the **backend** code correctly resolves that a blocked pipeline is **mergeable** (when \"pipeline must succeed\" is not enabled) but the **frontend** code does not rely on the backend value and independently (and conflictingly) resolves that the pipeline is not mergeable.  \n\n\u003cdetails\u003e\n  \u003csummary markdown=\"span\"\u003eOriginal issue text, click to expand\u003c/summary\u003e\n\n![Screenshot_2020-07-31_at_11.36.36_AM](/uploads/1edbe66b5812af1caad8e907d455dd86/Screenshot_2020-07-31_at_11.36.36_AM.png)\n\nCurrently, it isn't possible to merge a MR when the pipeline is blocked waiting for a manual action, regardless of the project policy regarding merges and pipeline failures. Such block can occur if there is an action with both `when: manual` and `allow_failure: false`.\n\nWhile I agree that a proper pipeline shouldn't be in this position in the first place, it still feels odd that we would be able to merge if the pipeline has failed, but not if it is blocked. A user of mine testing CI was quite surprised when it happened to them.\n\nRepro project:\n\nhttps://gitlab.com/laarmen/test_ci_block_merge/merge_requests/1\n\n\u003c/details\u003e\n\n### Intended users\n\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Devon (DevOps Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#devon-devops-engineer)\n\n### User experience goal\n\nThe `Merge` button should be enabled to allow user to merge an MR when these 2 conditions exist:\n- pipeline is blocked waiting for a manual job to run\n- `pipeline must succeed` option is **not** enabled\n\n### Proposal\n\nUpdate the frontend code to rely on the backend code for evaluating/resolving whether a pipeline is mergeable or not mergeable.\n\n### Further details\n\nThis issue is converted from a ~feature request to a ~bug issue because the problem as originally reported (details in \"Original issue text, click to expand\" above) is caused by the disconnect between frontend and backend code. \n\n**Out of scope** for this issue is solving for a separate use case of when \"pipeline must succeed\" option is enabled.\n\n### Documentation\n\n\u003c!-- See the Feature Change Documentation Workflow https://docs.gitlab.com/ee/development/documentation/workflow.html#for-a-product-change\n\n* Add all known Documentation Requirements in this section. See https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html#documentation-requirements\n* If this feature requires changing permissions, update the permissions document. See https://docs.gitlab.com/ee/user/permissions.html --\u003e\n\n### Availability \u0026 Testing\n\n\u003c!-- This section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\nWhat risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning --\u003e\n\n* Unit test changes - Required, please add/refactor unit tests accordingly with the feature development\n* End-to-end test change - Yes, there is potentials for a new E2E test, please see proposed test case https://gitlab.com/gitlab-org/quality/testcases/-/issues/971 \n\n*See the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance.*\n\n### Links / references","state":"closed","created_at":"2017-12-14T08:49:35.364Z","updated_at":"2022-11-16T17:43:28.211Z","closed_at":"2020-09-23T05:58:31.587Z","closed_by":{"id":1607849,"username":"mrincon","name":"Miguel Rincon","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1607849/avatar.png","web_url":"https://gitlab.com/mrincon"},"labels":["CI/CD Core Platform","Category:Continuous Integration","Create [DEPRECATED]","Deliverable","MR-Improvements","UX","customer","devops::verify","direction","documentation","frontend","group::pipeline execution","merge requests","missed-deliverable","missed:13.3","needs weight","pipeline","priority::2","quad-planning::complete-action","section::ops","settings","severity::2","type::bug","workflow::verification"],"milestone":{"id":1233753,"iid":51,"group_id":9970,"title":"13.4","description":"https://about.gitlab.com/releases/2020/09/22/gitlab-13-4-released/","state":"closed","created_at":"2020-04-09T17:39:21.662Z","updated_at":"2022-04-13T14:50:33.769Z","due_date":"2020-09-17","start_date":"2020-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/51"},"assignees":[{"id":1607849,"username":"mrincon","name":"Miguel Rincon","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1607849/avatar.png","web_url":"https://gitlab.com/mrincon"}],"author":{"id":107061,"username":"laarmen","name":"Simon Chopin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c6d5328c0ae2a0589a054b18542961e7?s=80\u0026d=identicon","web_url":"https://gitlab.com/laarmen"},"type":"ISSUE","assignee":{"id":1607849,"username":"mrincon","name":"Miguel Rincon","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1607849/avatar.png","web_url":"https://gitlab.com/mrincon"},"user_notes_count":94,"merge_requests_count":0,"upvotes":49,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/20426","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/20426","notes":"https://gitlab.com/api/v4/projects/278964/issues/20426/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/20426/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#20426","relative":"#20426","full":"gitlab-org/gitlab#20426"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3537,"epic":{"id":64883,"iid":3537,"title":"Settings UX - Features","url":"/groups/gitlab-org/-/epics/3537","group_id":9970,"human_readable_end_date":"Mar 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":8193174,"iid":4327,"project_id":278964,"title":"Preview comments for batch comments in merge requests","description":"| Pending comment | Finish review |\n|---|---|\n| \u003cdetails\u003eWith this issue, the “Submit review” button next to the pending comment changes label to “Finish review”\u003c/details\u003e | \u003cdetails\u003e“Finish review” opens the list of pending comments with a “Submit review” button for confirmation. Comments that change the resolved status of the discussion have an indication “Resolves discussion” or “Unresolves discussion”. Clicking on a dropdown item navigates to that pending comment — **note that we also list pending comments to non-code discussions (only appear in the “Discussion” tab), so clicking one of those items should change to the “Discussion” tab and navigate the user to the pending comment.**\u003c/details\u003e\n| ![image](/uploads/4f98df74e561783669967b1e06c032f1/image.png) | ![image](/uploads/42a9959f3e7dacc5ee1881d34aba85ee/image.png) |\n\n[:mag: Design specs with the most up-to-date solution and implementation notes](https://gitlab-org.gitlab.io/gitlab-design/hosted/pedro/ee%234327-preview-batch-comments-mr-spec-previews/)","state":"closed","created_at":"2017-12-13T18:15:57.471Z","updated_at":"2020-12-08T08:50:16.102Z","closed_at":"2018-11-02T11:47:11.441Z","closed_by":{"id":482476,"username":"filipa","name":"Filipa Lacerda","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/482476/avatar.png","web_url":"https://gitlab.com/filipa"},"labels":["Category:Code Review Workflow","Create [DEPRECATED]","Deliverable","Enterprise Edition","GitLab Premium","Product Vision 2018","[deprecated] Accepting merge requests","backend","devops::create","direction","frontend","group::code review","merge requests","priority::1","type::feature","workflow::in dev","workflow::in review"],"milestone":{"id":567672,"iid":20,"group_id":9970,"title":"11.5","description":"","state":"closed","created_at":"2018-06-14T17:32:22.627Z","updated_at":"2018-12-20T06:50:07.124Z","due_date":"2018-11-22","start_date":"2018-10-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/20"},"assignees":[{"id":11493,"username":"oswaldo","name":"Oswaldo Ferreira","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11493/avatar.png","web_url":"https://gitlab.com/oswaldo"},{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},{"id":626804,"username":"pedroms","name":"Pedro Moreira da Silva","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c306f087d191ac15549f3c11e3bed321?s=80\u0026d=identicon","web_url":"https://gitlab.com/pedroms"},{"id":2003748,"username":"jeethukarthik","name":"Jeethu Karthik","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2003748/avatar.png","web_url":"https://gitlab.com/jeethukarthik"}],"author":{"id":711023,"username":"victorwu","name":"Victor Wu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/711023/avatar.png","web_url":"https://gitlab.com/victorwu"},"type":"ISSUE","assignee":{"id":11493,"username":"oswaldo","name":"Oswaldo Ferreira","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11493/avatar.png","web_url":"https://gitlab.com/oswaldo"},"user_notes_count":21,"merge_requests_count":4,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/4327","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":4,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/4327","notes":"https://gitlab.com/api/v4/projects/278964/issues/4327/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/4327/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#4327","relative":"#4327","full":"gitlab-org/gitlab#4327"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":23,"epic":{"id":30,"iid":23,"title":"Batch comments on merge requests","url":"/groups/gitlab-org/-/epics/23","group_id":9970,"human_readable_end_date":"Dec 22, 2018","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":8193158,"iid":4326,"project_id":278964,"title":"Send one email notification for one published code review","description":"Merge request reviews, introduced in GitLab 11.4, allow a reviewer to leave multiple comments in one go, but this still sends one email for every comment added. This creates a large number of email notifications that likely reference each other because it was been submitted as a singular review.\n\nGitLab should only send one email notification for one published code review.\n\n### Proposal\n\nUpdate the GitLab application to only send one email when a review is published\n\n### Designs\n\n#### HTML email\n![mockup](/uploads/bb9ad7368dd8f317d50dbd9c9e609bd8/mockup.png)\n\n#### Text email\n```\nMerge request https://gitlab.com/gitlab-org/gitlab-ee/merge_requests/915 was reviewed by Yorick Peterse.\n\n--\n\nYorick Peterse commented on a discussion on app/assets/javascripts/dispatcher.js (https://gitlab.com/gitlab-org/gitlab-ee/merge_requests/915#note_2342342342)\n\n\u003e - code\n\u003e + code\n\u003e + code\n\n@rdavila Could you please review this one line backend change?\n\n--\n\nYorick Peterse started a new discussion on app/assets/javascripts/dispatcher.js (https://gitlab.com/gitlab-org/gitlab-ee/merge_requests/915#note_2342342342)\n\n\u003e - code\n\u003e + code\n\u003e + code\n\n@rdavila Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. \n\nDuis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\n\n--\n\nYou're receiving this email because of your account on http://gitlab.com. If you'd like to receive fewer emails, you can unsubscribe (https://gitlab.com/sent_notifications/REDACTED/unsubscribe) from this thread or adjust your notification settings.\n```\n\n- The diff should include a maximum of 3 lines (if available) i.e. 2 lines before the line where the comment has been made. \n\n\u003cdetails\u003e\n\u003csummary\u003eOriginal proposal\u003c/summary\u003e\n### Designs\n\n#### Email\n\nThe info included in a discussion:\n- Who comments on a discussion on which file (e.g. [Yorick Peterse]() commented on a discussion on [app/assets/javascripts/dispatcher.js]())\n- 3 lines of diff\n- Reviewer's comment\n- The resolved / unresolved states\n- A link to view the discussion on GitLab.com\n\n![mr-email-published-review](/uploads/8955326288f9c39abc4092b183b7c2b7/mr-email-published-review.png)\n\n#### Resovled / unresolved states\n\n| Yorick resolved this discussion | Yorick unresolved this discussion | Discussion remains resolved | Discussion remains unresolved |\n| --- | --- | --- | --- |\n| ![state-discussion--resolved-by-a-user](/uploads/5441d80d3337731d93cd2140ef8ad92e/state-discussion--resolved-by-a-user.png) | ![state-discussion--unresolved-by-a-user](/uploads/48d0bbcc8ab8abdccd60e427f1ff7367/state-discussion--unresolved-by-a-user.png) | ![state-discussion--remains-resolved](/uploads/263fc8b19276fe031906dd4064e1ece9/state-discussion--remains-resolved.png) | ![state-discussion--remains-unresolved](/uploads/9ebfab54561d7bdb08abe8895e6eff6c/state-discussion--remains-unresolved.png) |\n\u003c/details\u003e\n\n### Links / references ","state":"closed","created_at":"2017-12-13T18:13:11.673Z","updated_at":"2022-08-15T13:34:29.394Z","closed_at":"2018-12-10T17:19:30.712Z","closed_by":{"id":87854,"username":"DouweM","name":"Douwe Maan","state":"active","avatar_url":"https://secure.gravatar.com/avatar/73d1548ae618321220679b3a4fda7fb1?s=80\u0026d=identicon","web_url":"https://gitlab.com/DouweM"},"labels":["Create [DEPRECATED]","Deliverable","Enterprise Edition","GitLab Premium","Product Vision 2018","backend","devops::create","direction","emails","frontend","merge requests","priority::1","workflow::in review"],"milestone":{"id":569990,"iid":21,"group_id":9970,"title":"11.6","description":"","state":"closed","created_at":"2018-06-16T19:56:12.651Z","updated_at":"2019-01-08T21:40:29.892Z","due_date":"2018-12-22","start_date":"2018-11-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/21"},"assignees":[{"id":117638,"username":"tiagonbotelho","name":"Tiago Botelho","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/117638/avatar.png","web_url":"https://gitlab.com/tiagonbotelho"},{"id":2003748,"username":"jeethukarthik","name":"Jeethu Karthik","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2003748/avatar.png","web_url":"https://gitlab.com/jeethukarthik"},{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"}],"author":{"id":711023,"username":"victorwu","name":"Victor Wu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/711023/avatar.png","web_url":"https://gitlab.com/victorwu"},"type":"ISSUE","assignee":{"id":117638,"username":"tiagonbotelho","name":"Tiago Botelho","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/117638/avatar.png","web_url":"https://gitlab.com/tiagonbotelho"},"user_notes_count":51,"merge_requests_count":1,"upvotes":12,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/4326","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/4326","notes":"https://gitlab.com/api/v4/projects/278964/issues/4326/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/4326/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#4326","relative":"#4326","full":"gitlab-org/gitlab#4326"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":23,"epic":{"id":30,"iid":23,"title":"Batch comments on merge requests","url":"/groups/gitlab-org/-/epics/23","group_id":9970,"human_readable_end_date":"Dec 22, 2018","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":8187086,"iid":4316,"project_id":278964,"title":"change status icon for reports when fails to be found or cannot load","description":"### Problem\n\nIcon usage for when a report check cannot be found or loaded is to severe, plus we have a dedicated icon for that which is currently not used.\n\nCurrently affected tests:\n- SAST https://gitlab.com/gitlab-org/gitlab-ee/issues/3775\n- Docker test https://gitlab.com/gitlab-org/gitlab-ee/issues/4249\n- Code climate\n- Others?\n\n![image](/uploads/8af838729380449d032cbb77e006ecad/image.png)\n\n### Proposal/Design\n\n\nReplace `failed` icon with the `not found` icon\n\n![image](/uploads/d3e2492b4e4667463f9e4e227f9f38c5/image.png)\n\n![status-notfound-withborder.svg](/uploads/952e3f992151c7a8d3e0db49175ff4e7/status-notfound-withborder.svg)\n[status-notfound-withborder.svg](/uploads/952e3f992151c7a8d3e0db49175ff4e7/status-notfound-withborder.svg)","state":"closed","created_at":"2017-12-13T10:58:28.703Z","updated_at":"2020-05-18T08:43:57.730Z","closed_at":"2018-01-23T08:25:12.606Z","closed_by":null,"labels":["Deliverable","Enterprise Edition","UX","UX debt","feature::enhancement","frontend","merge requests","workflow::in review"],"milestone":{"id":404412,"iid":7,"group_id":9970,"title":"10.5","description":"https://about.gitlab.com/releases/2018/02/22/gitlab-10-5-released","state":"closed","created_at":"2017-11-02T10:41:09.107Z","updated_at":"2020-04-27T16:30:54.473Z","due_date":"2018-02-22","start_date":"2018-01-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/7"},"assignees":[{"id":489558,"username":"dimitrieh","name":"Dimitrie Hoekstra","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/489558/avatar.png","web_url":"https://gitlab.com/dimitrieh"}],"author":{"id":489558,"username":"dimitrieh","name":"Dimitrie Hoekstra","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/489558/avatar.png","web_url":"https://gitlab.com/dimitrieh"},"type":"ISSUE","assignee":{"id":489558,"username":"dimitrieh","name":"Dimitrie Hoekstra","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/489558/avatar.png","web_url":"https://gitlab.com/dimitrieh"},"user_notes_count":14,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/4316","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/4316","notes":"https://gitlab.com/api/v4/projects/278964/issues/4316/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/4316/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#4316","relative":"#4316","full":"gitlab-org/gitlab#4316"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":8171956,"iid":4310,"project_id":278964,"title":"Group security issues panels in the MR widget","description":"### Description\n\nWe actually have four security reports available\n1. SAST\n1. Dependency Scanning (after the split from SAST: https://gitlab.com/gitlab-org/gitlab-ee/issues/5105)\n1. Container Scanning\n1. DAST\n\nThese reports are exposed in the MR widget, as independent panels. Also, SAST report is exposed as a CI View in the **CI/CD \u003e Pipelines** page: https://gitlab.com/gitlab-org/gitlab-ee/issues/3776.\n\nSince the MR widget is overcrowded, and all these panels are dealing with security issues, we should make a compact view that group them all, providing a single summary with all the data.\n\n### Proposal\n\nReplace all the specific panels in the MR widget with a single one that groups all the security issues.\n\nThis summary can then be expanded to different sub-panels, one for each of the features listed above. Each sub-panel will have a sub-summary, containing information related only to that specific feature, and then the list of the diffs between the \"base\" and the \"head\" reports, and a link to expand the full list of vulnerabilities.\n\nInformation to be shown in each summary (main and specific ones):\n- `new`: number of security issues that have been introduced (`head - base`)\n- `fixed`: number of security issues that have been fixed (`base - head`)\n\n**Notes:**\n- main summary will sum the numbers of the four sub-summaries (e.g., `new` will be `new(SAST)+new(Dependency Scanning)+new(Container Scanning)+new(DAST)`\n- specific summaries are not expandable, so expanding the main summary results in the four sub-summaries and the four lists of new/fixed items\n- showing the full list of issues for a specific feature will show the full list of vulnerabilities found (as it is now doing for SAST)\n- whitelisted vulnerabilities (for Container Scanning feature) are not considered in any count, they are just ignored\n\n### Design\n\n![merge_request_widget](/uploads/c29546cce13b20075612a4bc15934852/merge_request_widget.png)\n\n![image](/uploads/69ddca1bca7f8c8a8ef3022d11e03e32/image.png)\n\n- Note: Complete vulnerabilities report anchor will keep existing functionality and expand report inline, changes to this functionality are deferred to https://gitlab.com/gitlab-org/gitlab-ee/issues/5322\n- Note: The order of security sections should be: SAST, Dependency Scanning, Container Scanning, DAST.\n- Note: If no head/base comparison is possible, show the complete list\n\nSummary:\n- summary with no vulnerabilities\n  - Pass icon\n  - `Security scanning detected no new or fixed security vulnerabilities`\n- summary with only added vulnerabilities\n  - Exclamation mark icon\n  - `Security scanning detected 1 new vulnerability`\n  - `Security scanning detected 7 new vulnerabilities`\n- summary with only fixed vulnerabilities.\n  - Pass icon\n  - `Security scanning detected 1 fixed vulnerability`\n  - `Security scanning detected 3 fixed vulnerabilities`\n- summary with both\n  - Exclamation mark icon\n  - `Security scanning detected 1 new vulnerability and 1 fixed vulnerability`\n  - `Security scanning detected 7 new vulnerabilities and 3 fixed vulnerabilities`\n- summary for loading\n  - Spinner icon\n  - `Security scanning (in progress) detected 1 new vulnerability and 1 fixed vulnerability`\n  - `Security scanning (in progress) detected 7 new vulnerabilities and 3 fixed vulnerabilities`\n- summary in case all the endpoints are still loading\n  - Spinner icon\n  - `Security scanning in progress`\n- summary in case some but not all of the endpoints return an error\n  - Exclamation mark icon\n  - `Security scanning (errors when loading results) detected 1 new vulnerability and 1 fixed vulnerability`\n  - `Security scanning (errors when loading results) detected 7 new vulnerabilities and 3 fixed vulnerabilities`\n- summary in case all the endpoints return an error\n  - Exclamation mark icon\n  - `Security scanning failed loading any results`\n- summary incase we have a mixed state of results, loading, and error\n  - Exclamation mark icon\n  - `Security scanning (in progress, errors when loading results) detected 1 new vulnerability and 1 fixed vulnerability`\n  - `Security scanning (in progress, errors when loading results) detected 7 new vulnerabilities and 3 fixed vulnerabilities`\n- No Head/Base comparison possible for all tests\n  - Exclamation mark icon\n  - `Security scanning detected no vulnerabilities for the source branch only`\n  - `Security scanning detected 1 vulnerability for the source branch only`\n  - `Security scanning detected X vulnerabilities for the source branch only`\n\n---\n\nSAST:\n- loading\n  - Spinner icon\n  - `SAST detection is in progress`\n- error\n  - Exclamation mark icon\n  - `SAST resulted in error while loading results`\n- text with no vulnerabilities\n  - Pass icon\n  - `SAST detected no new or fixed security vulnerabilities`\n- text with only added vulnerabilities\n  - Exclamation mark icon\n  - `SAST detected 1 new vulnerability`\n  - `SAST detected 4 new vulnerabilities`\n- text with only fixed vulnerabilities\n  - Pass icon\n  - `SAST detected 1 fixed vulnerability`\n  - `SAST detected 2 fixed vulnerabilities`\n- text with both\n  - Exclamation mark icon\n  - `SAST detected 1 new vulnerability and 1 fixed vulnerability`\n  - `SAST detected 4 new vulnerabilities and 2 fixed vulnerabilities`\n- Anchor below `Show complete code vulnerabilities report`\n- No Head/Base comparison possible\n  - Exclamation mark icon\n  - `SAST detected no vulnerabilities for the source branch only`\n  - `SAST detected 1 vulnerability for the source branch only`\n  - `SAST detected X vulnerabilities for the source branch only`\n\n\n---\n\nDependency scanning:\n- loading\n  - Spinner icon\n  - `Dependency scanning detection is in progress`\n- error\n  - Exclamation mark icon\n  - `Dependency scanning resulted in error while loading results`\n- text with no vulnerabilities\n  - Pass icon\n  - `Dependency scanning detected no new or fixed security vulnerabilities`\n- text with only added vulnerabilities\n  - Exclamation mark icon\n  - `Dependency scanning detected 1 new vulnerability`\n  - `Dependency scanning detected 4 new vulnerabilities`\n- text with only fixed vulnerabilities\n  - Pass icon\n  - `Dependency scanning detected 1 fixed vulnerability`\n  - `Dependency scanning detected 2 fixed vulnerabilities`\n- text with both\n  - Exclamation mark icon\n  - `Dependency scanning detected 1 new vulnerability and 1 fixed vulnerability`\n  - `Dependency scanning detected 4 new vulnerabilities and 2 fixed vulnerabilities`\n- Anchor below `Show complete code vulnerabilities report`\n- No Head/Base comparison possible\n  - Exclamation mark icon\n  - `Dependency scanning detected no vulnerabilities for the source branch only`\n  - `Dependency scanning detected 1 vulnerability for the source branch only`\n  - `Dependency scanning detected X vulnerabilities for the source branch only`\n\n---\n\nContainer scanning:\n- loading\n  - Spinner icon\n  - `Container scanning detection is in progress`\n- error\n  - Exclamation mark icon\n  - `Container scanning resulted in error while loading results`\n- text with no vulnerabilities\n  - Pass icon\n  - `Container scanning detected no new or fixed security vulnerabilities`\n- text with only added vulnerabilities\n  - Exclamation mark icon\n  - `Container scanning detected 1 new vulnerability`\n  - `Container scanning detected 2 new vulnerabilities`\n- text with only fixed vulnerabilities\n  - Pass icon\n  - `Container scanning detected 1 fixed vulnerability`\n  - `Container scanning detected 2 fixed vulnerabilities`\n- text with both\n  - Exclamation mark icon\n  - `Container scanning detected 1 new vulnerability and 1 fixed vulnerability`\n  - `Container scanning detected 2 new vulnerabilities and 2 fixed vulnerabilities`\n- Explanation text below + link `Vulnerabilities can be marked as approved. Learn more about whitelisting`\n- No Head/Base comparison possible\n  - Exclamation mark icon\n  - `Container scanning detected no vulnerabilities for the source branch only`\n  - `Container scanning detected 1 vulnerability for the source branch only`\n  - `Container scanning detected X vulnerabilities for the source branch only`\n\n---\n\nDAST:\n- loading\n  - Spinner icon\n  - `DAST detection is in progress`\n- error\n  - Exclamation mark icon\n  - `DAST resulted in error while loading results`\n- text with no vulnerabilities\n  - Pass icon\n  - `DAST detected no new or fixed security vulnerabilities`\n- text with only added vulnerabilities\n  - Exclamation mark icon\n  - `DAST detected 1 new vulnerability`\n  - `DAST detected 2 new vulnerabilities`\n- text with only fixed vulnerabilities\n  - Pass icon\n  - `DAST detected 1 fixed vulnerability`\n  - `DAST detected 2 fixed vulnerabilities`\n- text with both\n  - Exclamation mark icon\n  - `DAST detected 1 new vulnerability and 1 fixed vulnerability`\n  - `DAST detected 2 new vulnerabilities and 2 fixed vulnerabilities`\n- No Head/Base comparison possible\n  - Exclamation mark icon\n  - `DAST detected no vulnerabilities for the source branch only`\n  - `DAST detected 1 vulnerability for the source branch only`\n  - `DAST detected X vulnerabilities for the source branch only`\n","state":"closed","created_at":"2017-12-12T14:45:37.420Z","updated_at":"2019-11-18T17:30:46.516Z","closed_at":"2018-04-05T15:59:11.796Z","closed_by":null,"labels":["Deliverable","Enterprise Edition","GitLab Ultimate","Product Vision 2018","backend","devops::secure","feature::enhancement","frontend","merge requests","workflow::in review"],"milestone":{"id":424944,"iid":9,"group_id":9970,"title":"10.7","description":"","state":"closed","created_at":"2017-12-06T16:45:41.880Z","updated_at":"2018-05-11T15:04:03.492Z","due_date":"2018-04-22","start_date":"2018-03-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/9"},"assignees":[{"id":482476,"username":"filipa","name":"Filipa Lacerda","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/482476/avatar.png","web_url":"https://gitlab.com/filipa"},{"id":489558,"username":"dimitrieh","name":"Dimitrie Hoekstra","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/489558/avatar.png","web_url":"https://gitlab.com/dimitrieh"},{"id":1273957,"username":"bikebilly","name":"Fabio Busatto","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1273957/avatar.png","web_url":"https://gitlab.com/bikebilly"}],"author":{"id":1273957,"username":"bikebilly","name":"Fabio Busatto","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1273957/avatar.png","web_url":"https://gitlab.com/bikebilly"},"type":"ISSUE","assignee":{"id":482476,"username":"filipa","name":"Filipa Lacerda","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/482476/avatar.png","web_url":"https://gitlab.com/filipa"},"user_notes_count":129,"merge_requests_count":2,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/4310","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":9,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/4310","notes":"https://gitlab.com/api/v4/projects/278964/issues/4310/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/4310/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#4310","relative":"#4310","full":"gitlab-org/gitlab#4310"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":24659516,"iid":20396,"project_id":278964,"title":"Search by group name not longer working","description":"### Summary\n\nSearch (via navbar) no longer returns any results when searching by group name since we upgraded to v10.\n\nSome background: We use group names to represent our clients. For example `Acme Co/website` so most of our projects are just called `website`. This makes searching for projects very difficult.\n\n### Steps to reproduce\n\nPerform a search by group name using the search in the navbar.\n\nDoesn't work - https://gitlab.com/search?utf8=%E2%9C%93\u0026search=Z+Creative\u0026group_id=\u0026project_id=\u0026repository_ref=\nWorks - https://gitlab.com/explore/groups?utf8=%E2%9C%93\u0026filter=Z+Creative\n\n### What is the current *bug* behavior?\n\nNo results are returned.\n\n### What is the expected *correct* behavior?\n\nShould show results that contain the group name. Easy fix would be to append the group name to the project name when searching for projects.\n\nApparently this was fixed 2 years ago - https://gitlab.com/gitlab-org/gitlab-ce/issues/1867#note_11971722\n\n### Output of checks\n\nThis bug happens on GitLab.com.\n\n#### GitLab environment info\n\nWe are running Gitlab CE 10.2.4. It used to work when we were running v9.","state":"closed","created_at":"2017-12-12T04:36:21.482Z","updated_at":"2022-05-31T12:05:12.446Z","closed_at":"2021-11-22T03:04:16.273Z","closed_by":{"id":1786152,"username":"gitlab-bot","name":"🤖 GitLab Bot 🤖","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1786152/avatar.png","web_url":"https://gitlab.com/gitlab-bot"},"labels":["Category:Global Search","[deprecated] Accepting merge requests","auto closed","awaiting feedback","backend","default-priority","default-severity","devops::data_stores","group::global search","needs investigation","priority::3","section::enablement","severity::3","stale","type::bug","vintage"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":395503,"username":"pjgalbraith","name":"Patrick Galbraith","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/395503/avatar.png","web_url":"https://gitlab.com/pjgalbraith"},"type":"ISSUE","assignee":null,"user_notes_count":28,"merge_requests_count":0,"upvotes":6,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/20396","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/20396","notes":"https://gitlab.com/api/v4/projects/278964/issues/20396/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/20396/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#20396","relative":"#20396","full":"gitlab-org/gitlab#20396"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3888,"epic":{"id":80476,"iid":3888,"title":"Global Search Hold","url":"/groups/gitlab-org/-/epics/3888","group_id":9970},"iteration":null,"health_status":null},{"id":8149764,"iid":4297,"project_id":278964,"title":"FDW status of Geo secondaries should be visible","description":"In https://gitlab.com/gitlab-org/gitlab-ee/issues/3382 and friends, we're making FDW an integral part of Geo. Since sometimes we need to join across the read-only replica of the primary's data, and the secondary's read-write tracking database, FDW is an important part of scalability.\n\nThere are lots of moving parts to FDW support, so we should include an item in the Geo Node status for each secondary to ensure that the FDW part is set up correctly. We should be able to report whether the `gitlab_secondary` foreign tables are present and whether they are up to date.\n\n/cc @jramsay @brodock\n\n-----\n\nWe need a mechanism at the secondary node that can check/review the following items in order:\n\n- [x] `gitlab_secondary` schema exists\n- [x] FDW connection credentials exist\n- [x] `gitlab_secondary` has the same amount of tables\n- [x] Expose the results at the API endpoint\n\nChecking schema to verify we are in sync with \"schema.rb\" is probably an expensive task (can take a few seconds). I think we can do that in a System Check.\n\nThe rationale here is that if there is an FDW error it's probably big and affecting everything, so the 3 proposed steps are enough to identify if we are lacking it or if it hasn't been populated correctly.\n\nThe need to check the schema may be useful only after a migration (which the system check is perfect for).\n\nIf we want to perform a \"full check\" (a.k.a. emulate the system checks or call it remotely), I think this should be done after specific intention (a click in a button, as it will be expensive to do).","state":"closed","created_at":"2017-12-11T14:26:28.838Z","updated_at":"2019-12-11T20:28:25.738Z","closed_at":"2018-02-12T19:19:57.806Z","closed_by":null,"labels":["Enterprise Edition","devops::systems","group::geo","workflow::in review"],"milestone":{"id":416486,"iid":8,"group_id":9970,"title":"10.6","description":"https://about.gitlab.com/releases/2018/03/22/gitlab-10-6-released","state":"closed","created_at":"2017-11-21T20:05:35.697Z","updated_at":"2020-04-27T16:30:32.220Z","due_date":"2018-03-22","start_date":"2018-02-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/8"},"assignees":[{"id":2293,"username":"brodock","name":"Gabriel Mazetto","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2293/avatar.png","web_url":"https://gitlab.com/brodock"}],"author":{"id":572018,"username":"nick.thomas","name":"Nick Thomas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/572018/avatar.png","web_url":"https://gitlab.com/nick.thomas"},"type":"ISSUE","assignee":{"id":2293,"username":"brodock","name":"Gabriel Mazetto","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2293/avatar.png","web_url":"https://gitlab.com/brodock"},"user_notes_count":2,"merge_requests_count":1,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/4297","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":4,"completed_count":4},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"4 of 4 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/4297","notes":"https://gitlab.com/api/v4/projects/278964/issues/4297/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/4297/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#4297","relative":"#4297","full":"gitlab-org/gitlab#4297"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":24659495,"iid":20384,"project_id":278964,"title":"Filtered branches and button \"Delete merged branches\" deletes all merged branches","description":"### Summary\n\nFilter branches and pressing the \"Delete merged branches\" deletes *all* merged branches not only filtered.\n\n### Steps to reproduce\n\n(DO NO REPRODUCE THIS ON PRODUCTION SYSTEMS!)\n\n- Create \"merged branches\"\n\ne.g.:\n```\ngit checkout master\ngit checkout HEAD~\ngit checkout -b merged-branch-1\ngit push origin merged-branch-1\n\ngit checkout master\ngit checkout HEAD~\ngit checkout -b merged-branch-1-test\ngit push origin merged-branch-1-test\n```\n- Filter branches for \"test\"\n- Press \"Delete merged branches\" button\n- Check for merged branches\n\n### Example Project\nhttps://gitlab.com/m.baur/test-merged-branches\n\n### What is the current *bug* behavior?\n\n*All* merged branches get deleted even thought you filtered the branches before.\n\n### What is the expected *correct* behavior?\n\nOnly filtered merged branches get deleted\n\n### Relevant logs and/or screenshots\n![Dec-11-2017_13-07-36](/uploads/88d9dc13ec817ddbc8e54ead941a5da6/Dec-11-2017_13-07-36.gif)\n\n### Output of checks\n\nNone\n\n#### Results of GitLab environment info\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to GitLab environment info\u003c/summary\u003e\n\u003cpre\u003e\nroot@gitlab:/# sudo gitlab-rake gitlab:env:info\n\nSystem information\nSystem:\t\tUbuntu 14.04\nCurrent User:\tgit\nUsing RVM:\tno\nRuby Version:\t2.3.5p376\nGem Version:\t2.6.13\nBundler Version:1.13.7\nRake Version:\t12.0.0\nRedis Version:\t3.2.5\nGit Version:\t2.13.5\nSidekiq Version:5.0.4\nGo Version:\tunknown\n\nGitLab information\nVersion:\t10.0.4\nRevision:\t8ebd2dd\nDirectory:\t/opt/gitlab/embedded/service/gitlab-rails\nDB Adapter:\tpostgresql\nURL:\t\thttps://gitlab.anonymized.com\nHTTP Clone URL:\thttps://gitlab.anonymized.com/some-group/some-project.git\nSSH Clone URL:\tgit@gitlab.anonymized.com:some-group/some-project.git\nUsing LDAP:\tyes\nUsing Omniauth:\tno\n\nGitLab Shell\nVersion:\t5.9.0\nRepository storage paths:\n- default: \t/var/opt/gitlab/git-data/repositories\nHooks:\t\t/opt/gitlab/embedded/service/gitlab-shell/hooks\nGit:\t\t/opt/gitlab/embedded/bin/git\n\u003c/pre\u003e\n\u003c/details\u003e\n\n#### Results of GitLab application Check\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to the GitLab application check\u003c/summary\u003e\n\u003cpre\u003e\n\nroot@gitlab:/# sudo gitlab-rake gitlab:check SANITIZE=true\nChecking GitLab Shell ...\n\nGitLab Shell version \u003e= 5.9.0 ? ... OK (5.9.0)\nRepo base directory exists?\ndefault... yes\nRepo storage directories are symlinks?\ndefault... no\nRepo paths owned by git:root, or git:git?\ndefault... yes\nRepo paths access is drwxrws---?\ndefault... yes\nhooks directories in repos are links: ...\n13/6 ... ok\n10/7 ... ok\n18/8 ... ok\n265/9 ... ok\n25/10 ... ok\n25/11 ... ok\n17/12 ... ok\n56/13 ... ok\n23/14 ... ok\n25/15 ... ok\n8/17 ... ok\n18/19 ... ok\n23/20 ... ok\n18/22 ... ok\n18/23 ... ok\n18/24 ... repository is empty\n18/25 ... ok\n23/26 ... ok\n23/27 ... ok\n13/28 ... ok\n23/29 ... ok\n25/30 ... ok\n17/31 ... ok\n24/32 ... ok\n10/33 ... ok\n10/34 ... ok\n46/42 ... ok\n49/43 ... ok\n28/44 ... ok\n13/47 ... ok\n13/48 ... ok\n24/50 ... ok\n37/51 ... ok\n49/52 ... ok\n24/53 ... ok\n24/54 ... ok\n18/55 ... ok\n17/56 ... ok\n329/57 ... ok\n12/58 ... ok\n27/59 ... ok\n23/60 ... ok\n18/66 ... ok\n56/67 ... ok\n13/69 ... ok\n8/70 ... ok\n69/72 ... ok\n18/75 ... ok\n46/76 ... ok\n46/77 ... ok\n56/78 ... ok\n18/79 ... ok\n46/80 ... ok\n68/81 ... ok\n46/84 ... ok\n18/85 ... ok\n18/86 ... ok\n37/87 ... ok\n77/89 ... ok\n77/90 ... ok\n87/91 ... ok\n45/94 ... ok\n17/95 ... ok\n89/96 ... ok\n94/99 ... ok\n70/100 ... ok\n94/101 ... ok\n94/102 ... ok\n70/103 ... ok\n23/104 ... ok\n94/106 ... ok\n94/107 ... ok\n94/108 ... ok\n46/110 ... ok\n45/112 ... ok\n210/114 ... ok\n210/115 ... ok\n89/116 ... ok\n94/117 ... ok\n94/118 ... ok\n94/119 ... ok\n94/120 ... ok\n94/121 ... ok\n94/122 ... ok\n94/123 ... ok\n94/124 ... ok\n94/125 ... ok\n94/126 ... ok\n94/127 ... ok\n94/128 ... ok\n94/129 ... ok\n94/130 ... ok\n17/131 ... ok\n45/132 ... ok\n94/134 ... ok\n94/135 ... ok\n94/136 ... ok\n94/137 ... ok\n94/138 ... ok\n94/141 ... ok\n18/145 ... ok\n94/146 ... ok\n37/149 ... ok\n94/151 ... ok\n109/152 ... ok\n94/153 ... repository is empty\n94/154 ... ok\n94/155 ... ok\n94/156 ... ok\n94/157 ... ok\n70/158 ... ok\n49/161 ... ok\n49/162 ... ok\n49/163 ... ok\n99/165 ... ok\n94/166 ... ok\n23/167 ... ok\n45/168 ... ok\n109/169 ... ok\n45/170 ... ok\n45/173 ... ok\n109/178 ... ok\n94/179 ... ok\n13/180 ... ok\n114/182 ... ok\n94/184 ... ok\n94/187 ... ok\n124/191 ... ok\n126/192 ... ok\n37/193 ... ok\n109/196 ... ok\n129/197 ... ok\n129/198 ... ok\n129/200 ... ok\n108/201 ... ok\n128/202 ... ok\n94/203 ... ok\n94/204 ... ok\n94/205 ... ok\n124/206 ... ok\n94/207 ... ok\n46/208 ... ok\n46/209 ... ok\n94/210 ... ok\n94/211 ... ok\n128/213 ... ok\n45/214 ... ok\n94/215 ... ok\n18/216 ... ok\n129/217 ... ok\n129/219 ... ok\n94/221 ... ok\n94/222 ... ok\n94/224 ... ok\n129/225 ... ok\n45/227 ... ok\n94/228 ... ok\n94/230 ... ok\n94/231 ... ok\n94/232 ... ok\n94/233 ... ok\n94/234 ... ok\n40/235 ... ok\n94/236 ... ok\n135/238 ... ok\n94/239 ... ok\n45/240 ... ok\n45/241 ... ok\n18/242 ... ok\n108/243 ... ok\n18/245 ... ok\n94/246 ... ok\n73/247 ... ok\n135/248 ... ok\n94/249 ... ok\n94/250 ... ok\n94/251 ... ok\n30/252 ... ok\n94/254 ... ok\n124/255 ... ok\n94/256 ... ok\n94/257 ... ok\n108/258 ... ok\n108/260 ... repository is empty\n18/261 ... repository is empty\n18/262 ... repository is empty\n18/263 ... ok\n138/264 ... ok\n124/268 ... repository is empty\n124/269 ... ok\n135/270 ... ok\n108/271 ... ok\n94/272 ... ok\n126/273 ... ok\n94/274 ... ok\n108/275 ... ok\n135/276 ... ok\n37/277 ... ok\n58/278 ... ok\n10/279 ... ok\n135/281 ... ok\n90/282 ... ok\n45/283 ... ok\n45/284 ... ok\n90/285 ... ok\n153/286 ... ok\n129/287 ... ok\n151/290 ... ok\n157/291 ... ok\n157/293 ... ok\n157/294 ... ok\n23/295 ... ok\n127/296 ... ok\n135/299 ... ok\n94/300 ... ok\n60/301 ... ok\n151/302 ... ok\n145/303 ... ok\n166/304 ... ok\n170/311 ... ok\n170/312 ... repository is empty\n10/314 ... ok\n48/316 ... ok\n11/317 ... ok\n172/319 ... ok\n73/321 ... ok\n135/323 ... ok\n18/324 ... ok\n135/325 ... ok\n136/327 ... ok\n11/329 ... ok\n58/331 ... ok\n40/332 ... ok\n108/337 ... ok\n45/342 ... ok\n108/343 ... ok\n94/344 ... ok\n71/345 ... ok\n94/346 ... ok\n180/347 ... ok\n11/348 ... ok\n181/350 ... ok\n18/351 ... ok\n58/352 ... repository is empty\n135/353 ... repository is empty\n108/354 ... ok\n129/355 ... ok\n11/356 ... ok\n108/357 ... ok\n40/358 ... ok\n12/359 ... ok\n108/360 ... ok\n94/361 ... ok\n138/364 ... ok\n18/365 ... ok\n18/366 ... ok\n94/367 ... ok\n108/370 ... ok\n88/371 ... ok\n108/373 ... ok\n94/374 ... ok\n138/376 ... ok\n137/377 ... ok\n58/378 ... ok\n185/379 ... repository is empty\n45/380 ... ok\n18/382 ... ok\n73/383 ... ok\n94/384 ... ok\n89/387 ... ok\n45/388 ... ok\n40/389 ... ok\n38/390 ... ok\n187/391 ... ok\n12/392 ... ok\n138/396 ... ok\n164/397 ... ok\n45/398 ... ok\n164/399 ... ok\n108/402 ... ok\n40/404 ... ok\n46/405 ... ok\n30/406 ... ok\n196/407 ... ok\n143/408 ... ok\n58/410 ... ok\n108/411 ... ok\n99/413 ... ok\n99/414 ... ok\n209/416 ... ok\n94/419 ... ok\n58/420 ... ok\n194/421 ... ok\n143/422 ... ok\n202/423 ... ok\n73/424 ... ok\n202/425 ... ok\n202/426 ... ok\n94/427 ... ok\n45/428 ... ok\n164/429 ... ok\n126/430 ... ok\n44/432 ... ok\n18/434 ... ok\n95/435 ... ok\n202/437 ... ok\n108/438 ... ok\n202/439 ... ok\n202/440 ... ok\n202/441 ... ok\n126/443 ... ok\n202/444 ... ok\n202/449 ... ok\n202/450 ... ok\n209/453 ... ok\n12/461 ... ok\n71/463 ... ok\n11/464 ... ok\n18/476 ... ok\n209/512 ... ok\n11/513 ... ok\n49/550 ... ok\n218/560 ... ok\n215/640 ... ok\n11/717 ... ok\n164/742 ... ok\n215/846 ... ok\n215/1004 ... ok\n215/1017 ... ok\n215/1018 ... ok\n215/1106 ... ok\n215/1114 ... ok\n215/1115 ... ok\n215/1116 ... ok\n11/1120 ... ok\n43/1494 ... ok\n18/1529 ... ok\n23/1542 ... ok\n215/1664 ... ok\n222/1682 ... ok\n222/1687 ... ok\n222/1688 ... ok\n222/1690 ... ok\n222/1705 ... ok\n222/1707 ... ok\n222/1709 ... ok\n222/1711 ... ok\n202/1749 ... ok\n202/1750 ... ok\n225/1806 ... repository is empty\n226/1807 ... ok\n164/1814 ... ok\n215/1862 ... ok\n218/1903 ... ok\n8/1926 ... ok\n202/1937 ... ok\n215/2007 ... ok\n215/2008 ... ok\n215/2089 ... ok\n217/2183 ... ok\n215/2388 ... ok\n215/2389 ... ok\n18/2404 ... ok\n215/2405 ... ok\n215/2414 ... ok\n215/2417 ... ok\n215/2424 ... ok\n226/2437 ... ok\n229/2460 ... ok\n230/2462 ... ok\n215/2468 ... ok\n12/2512 ... ok\n215/2514 ... ok\n43/2521 ... ok\n215/2539 ... ok\n215/2603 ... ok\n215/2605 ... ok\n215/2606 ... ok\n215/2608 ... repository is empty\n215/2617 ... ok\n215/2618 ... ok\n215/2630 ... ok\n215/2656 ... ok\n215/2665 ... ok\n215/2686 ... ok\n215/2692 ... ok\n215/2693 ... ok\n215/2695 ... ok\n215/2700 ... ok\n215/2702 ... ok\n215/2703 ... ok\n215/2704 ... ok\n215/2724 ... ok\n215/2726 ... ok\n215/2728 ... ok\n215/2730 ... ok\n215/2733 ... ok\n215/2738 ... ok\n11/2747 ... ok\n215/2752 ... ok\n215/2760 ... ok\n215/2820 ... ok\n18/2829 ... ok\n232/2834 ... ok\n215/2846 ... ok\n215/2853 ... ok\n215/2860 ... ok\n243/2864 ... ok\n240/2897 ... repository is empty\n240/2898 ... ok\n8/2914 ... ok\n215/2929 ... ok\n222/2977 ... ok\n221/2990 ... ok\n241/3005 ... ok\n215/3020 ... ok\n215/3028 ... ok\n215/3032 ... ok\n138/3046 ... ok\n243/3060 ... ok\n244/3061 ... ok\n88/3063 ... ok\n215/3069 ... repository is empty\n215/3070 ... ok\n239/3071 ... ok\n241/3075 ... ok\n41/3076 ... ok\n215/3077 ... ok\n215/3079 ... ok\n89/3083 ... ok\n215/3084 ... ok\n11/3085 ... ok\n215/3086 ... ok\n215/3087 ... ok\n215/3088 ... ok\n215/3089 ... ok\n165/3091 ... ok\n215/3092 ... ok\n215/3093 ... ok\n11/3095 ... ok\n164/3096 ... ok\n215/3097 ... ok\n254/3098 ... ok\n11/3100 ... ok\n215/3101 ... ok\n23/3103 ... ok\n215/3105 ... repository is empty\n215/3106 ... ok\n215/3107 ... ok\n215/3108 ... ok\n11/3109 ... ok\n215/3111 ... ok\n215/3112 ... ok\n23/3113 ... ok\n218/3115 ... ok\n11/3116 ... ok\n215/3118 ... ok\n215/3119 ... ok\n11/3120 ... ok\n215/3121 ... ok\n215/3122 ... ok\n215/3123 ... ok\n215/3124 ... ok\n165/3125 ... ok\n215/3126 ... ok\n88/3127 ... ok\n239/3128 ... ok\n41/3129 ... ok\n53/3131 ... ok\n88/3132 ... ok\n138/3133 ... ok\n11/3134 ... ok\n94/3135 ... ok\n11/3136 ... ok\n11/3137 ... ok\n215/3138 ... ok\n210/3140 ... ok\n11/3141 ... ok\n238/3142 ... ok\n18/3143 ... ok\n94/3144 ... ok\n215/3145 ... ok\n18/3146 ... ok\n18/3147 ... ok\n18/3148 ... ok\n18/3149 ... ok\n18/3150 ... ok\n18/3153 ... ok\n18/3154 ... ok\n18/3155 ... ok\n18/3156 ... ok\n18/3157 ... ok\n18/3158 ... ok\n18/3159 ... ok\n53/3160 ... ok\n18/3163 ... ok\n241/3165 ... ok\n45/3166 ... ok\n210/3167 ... ok\n18/3168 ... ok\n11/3169 ... ok\n11/3170 ... ok\n18/3171 ... ok\n164/3172 ... ok\n267/3174 ... ok\n270/3175 ... ok\n11/3176 ... ok\n143/3177 ... ok\n164/3178 ... ok\n18/3179 ... ok\n272/3181 ... ok\n45/3182 ... ok\n18/3183 ... ok\n267/3184 ... ok\n11/3185 ... ok\n8/3186 ... ok\n11/3187 ... ok\n218/3190 ... ok\n218/3191 ... ok\n218/3192 ... ok\n192/3193 ... ok\n53/3194 ... ok\n267/3195 ... ok\n108/3197 ... ok\n164/3198 ... ok\n18/3199 ... ok\n194/3200 ... ok\n45/3201 ... ok\n11/3202 ... ok\n264/3203 ... ok\n274/3204 ... ok\n267/3206 ... ok\n267/3207 ... ok\n272/3208 ... ok\n269/3209 ... repository is empty\n274/3210 ... ok\n128/3212 ... ok\n269/3213 ... ok\n217/3214 ... ok\n217/3215 ... ok\n45/3216 ... ok\n237/3217 ... ok\n274/3218 ... ok\n18/3219 ... ok\n12/3221 ... ok\n272/3222 ... ok\n274/3223 ... ok\n39/3224 ... ok\n272/3225 ... repository is empty\n267/3227 ... ok\n267/3228 ... ok\n267/3229 ... ok\n274/3230 ... ok\n18/3231 ... ok\n88/3232 ... ok\n274/3233 ... ok\n274/3234 ... ok\n274/3235 ... ok\n272/3236 ... ok\n267/3237 ... ok\n272/3238 ... ok\n218/3240 ... ok\n108/3241 ... ok\n138/3243 ... ok\n41/3246 ... ok\n279/3247 ... ok\n56/3249 ... ok\n230/3251 ... ok\n230/3252 ... ok\n269/3253 ... ok\n194/3254 ... ok\n164/3256 ... ok\n26/3259 ... ok\n18/3260 ... ok\n272/3262 ... ok\n18/3263 ... ok\n274/3264 ... repository is empty\n222/3265 ... ok\n18/3266 ... ok\n18/3267 ... ok\n18/3269 ... ok\n18/3270 ... ok\n13/3271 ... ok\n222/3272 ... ok\n274/3273 ... ok\n94/3274 ... ok\n264/3276 ... ok\n94/3277 ... ok\n18/3278 ... ok\n45/3279 ... ok\n274/3282 ... ok\n274/3283 ... ok\n264/3284 ... ok\n283/3285 ... ok\n18/3286 ... ok\n108/3289 ... repository is empty\n108/3290 ... ok\n53/3291 ... ok\n108/3292 ... ok\n260/3294 ... ok\n269/3295 ... ok\n210/3296 ... ok\n18/3297 ... ok\n137/3298 ... ok\n13/3300 ... ok\n108/3301 ... ok\n18/3302 ... ok\n18/3303 ... ok\n274/3304 ... ok\n289/3305 ... ok\n13/3306 ... ok\n264/3308 ... ok\n18/3309 ... ok\n18/3310 ... ok\n286/3311 ... ok\n289/3312 ... ok\n11/3313 ... ok\n210/3314 ... ok\n18/3315 ... ok\n297/3317 ... ok\n297/3318 ... ok\n164/3321 ... ok\n217/3322 ... ok\n44/3328 ... ok\n164/3329 ... repository is empty\n298/3330 ... repository is empty\n301/3331 ... ok\n18/3334 ... ok\n286/3336 ... ok\n87/3339 ... ok\n274/3340 ... ok\n274/3341 ... ok\n300/3344 ... ok\n300/3345 ... ok\n300/3346 ... ok\n300/3347 ... ok\n300/3348 ... ok\n302/3349 ... ok\n302/3350 ... ok\n302/3351 ... ok\n302/3352 ... ok\n301/3353 ... ok\n301/3354 ... ok\n13/3355 ... ok\n274/3356 ... ok\n264/3359 ... ok\n262/3362 ... ok\n274/3363 ... ok\n18/3366 ... ok\n264/3367 ... ok\n18/3368 ... ok\n237/3369 ... ok\n283/3371 ... ok\n127/3372 ... ok\n26/3373 ... ok\n18/3375 ... ok\n305/3376 ... ok\n18/3377 ... ok\n274/3378 ... ok\n309/3379 ... ok\n315/3380 ... ok\n315/3381 ... ok\n315/3382 ... ok\n316/3383 ... ok\n45/3384 ... ok\n329/3385 ... ok\n315/3387 ... ok\n239/3388 ... ok\n315/3389 ... ok\n274/3390 ... ok\n295/3395 ... ok\n295/3396 ... ok\n295/3397 ... ok\n315/3398 ... ok\n319/3399 ... ok\n315/3400 ... ok\n315/3401 ... ok\n315/3402 ... ok\n315/3403 ... ok\n315/3404 ... ok\n315/3405 ... ok\n315/3406 ... ok\n315/3407 ... ok\n317/3408 ... ok\n315/3409 ... ok\n18/3410 ... ok\n108/3411 ... ok\n309/3412 ... ok\n128/3413 ... ok\n108/3414 ... ok\n305/3415 ... ok\n108/3416 ... ok\n313/3417 ... ok\n317/3418 ... ok\n254/3419 ... ok\n311/3420 ... ok\n94/3421 ... ok\n94/3422 ... ok\n45/3423 ... ok\n45/3424 ... ok\n94/3425 ... ok\n269/3426 ... ok\n312/3428 ... ok\n324/3429 ... ok\n128/3430 ... ok\n260/3431 ... ok\n316/3432 ... ok\n18/3433 ... ok\n87/3434 ... ok\n11/3435 ... ok\n301/3436 ... ok\n221/3437 ... ok\n316/3438 ... ok\n218/3439 ... repository is empty\n260/3440 ... ok\n165/3441 ... ok\n108/3442 ... ok\n309/3443 ... ok\n11/3444 ... repository is empty\n309/3445 ... ok\n283/3446 ... ok\n316/3447 ... ok\n316/3448 ... ok\n45/3449 ... ok\n317/3450 ... ok\n324/3451 ... ok\n128/3452 ... ok\n108/3453 ... ok\n254/3454 ... ok\n328/3455 ... ok\n275/3456 ... ok\n53/3457 ... ok\n45/3458 ... ok\n164/3459 ... ok\n164/3460 ... ok\n45/3461 ... ok\n108/3462 ... ok\n320/3463 ... repository is empty\n333/3464 ... ok\n94/3465 ... ok\n333/3466 ... ok\n108/3467 ... ok\n218/3468 ... ok\n108/3469 ... ok\n329/3470 ... ok\n329/3471 ... ok\n329/3472 ... ok\n329/3473 ... ok\n329/3474 ... ok\n329/3475 ... ok\n306/3476 ... ok\n108/3477 ... ok\n108/3478 ... ok\n18/3479 ... ok\n326/3480 ... ok\n108/3481 ... ok\n329/3482 ... ok\n286/3483 ... ok\n328/3484 ... ok\n108/3486 ... ok\nRunning /opt/gitlab/embedded/service/gitlab-shell/bin/check\nCheck GitLab API access: OK\nRedis available via internal API: OK\n\nAccess to /var/opt/gitlab/.ssh/authorized_keys: OK\ngitlab-shell self-check successful\n\nChecking GitLab Shell ... Finished\n\nChecking Sidekiq ...\n\nRunning? ... yes\nNumber of Sidekiq processes ... 1\n\nChecking Sidekiq ... Finished\n\nReply by email is disabled in config/gitlab.yml\nChecking LDAP ...\n\nServer: ldapldapslavebki\nLDAP authentication... Success\nLDAP users with access to your GitLab server (only showing the first 100 results)\n...\nanonymized\n...\n\nChecking LDAP ... Finished\n\nChecking GitLab ...\n\nGit configured correctly? ... yes\nDatabase config exists? ... yes\nAll migrations up? ... yes\nDatabase contains orphaned GroupMembers? ... no\nGitLab config exists? ... yes\nGitLab config up to date? ... yes\nLog directory writable? ... yes\nTmp directory writable? ... yes\nUploads directory exists? ... yes\nUploads directory has correct permissions? ... yes\nUploads directory tmp has correct permissions? ... yes\nInit script exists? ... skipped (omnibus-gitlab has no init script)\nInit script up-to-date? ... skipped (omnibus-gitlab has no init script)\nProjects have namespace: ...\n13/6 ... yes\n10/7 ... yes\n18/8 ... yes\n265/9 ... yes\n25/10 ... yes\n25/11 ... yes\n17/12 ... yes\n56/13 ... yes\n23/14 ... yes\n25/15 ... yes\n8/17 ... yes\n18/19 ... yes\n23/20 ... yes\n18/22 ... yes\n18/23 ... yes\n18/24 ... yes\n18/25 ... yes\n23/26 ... yes\n23/27 ... yes\n13/28 ... yes\n23/29 ... yes\n25/30 ... yes\n17/31 ... yes\n24/32 ... yes\n10/33 ... yes\n10/34 ... yes\n46/42 ... yes\n49/43 ... yes\n28/44 ... yes\n13/47 ... yes\n13/48 ... yes\n24/50 ... yes\n37/51 ... yes\n49/52 ... yes\n24/53 ... yes\n24/54 ... yes\n18/55 ... yes\n17/56 ... yes\n329/57 ... yes\n12/58 ... yes\n27/59 ... yes\n23/60 ... yes\n18/66 ... yes\n56/67 ... yes\n13/69 ... yes\n8/70 ... yes\n69/72 ... yes\n18/75 ... yes\n46/76 ... yes\n46/77 ... yes\n56/78 ... yes\n18/79 ... yes\n46/80 ... yes\n68/81 ... yes\n46/84 ... yes\n18/85 ... yes\n18/86 ... yes\n37/87 ... yes\n77/89 ... yes\n77/90 ... yes\n87/91 ... yes\n45/94 ... yes\n17/95 ... yes\n89/96 ... yes\n94/99 ... yes\n70/100 ... yes\n94/101 ... yes\n94/102 ... yes\n70/103 ... yes\n23/104 ... yes\n94/106 ... yes\n94/107 ... yes\n94/108 ... yes\n46/110 ... yes\n45/112 ... yes\n210/114 ... yes\n210/115 ... yes\n89/116 ... yes\n94/117 ... yes\n94/118 ... yes\n94/119 ... yes\n94/120 ... yes\n94/121 ... yes\n94/122 ... yes\n94/123 ... yes\n94/124 ... yes\n94/125 ... yes\n94/126 ... yes\n94/127 ... yes\n94/128 ... yes\n94/129 ... yes\n94/130 ... yes\n17/131 ... yes\n45/132 ... yes\n94/134 ... yes\n94/135 ... yes\n94/136 ... yes\n94/137 ... yes\n94/138 ... yes\n94/141 ... yes\n18/145 ... yes\n94/146 ... yes\n37/149 ... yes\n94/151 ... yes\n109/152 ... yes\n94/153 ... yes\n94/154 ... yes\n94/155 ... yes\n94/156 ... yes\n94/157 ... yes\n70/158 ... yes\n49/161 ... yes\n49/162 ... yes\n49/163 ... yes\n99/165 ... yes\n94/166 ... yes\n23/167 ... yes\n45/168 ... yes\n109/169 ... yes\n45/170 ... yes\n45/173 ... yes\n109/178 ... yes\n94/179 ... yes\n13/180 ... yes\n114/182 ... yes\n94/184 ... yes\n94/187 ... yes\n124/191 ... yes\n126/192 ... yes\n37/193 ... yes\n109/196 ... yes\n129/197 ... yes\n129/198 ... yes\n129/200 ... yes\n108/201 ... yes\n128/202 ... yes\n94/203 ... yes\n94/204 ... yes\n94/205 ... yes\n124/206 ... yes\n94/207 ... yes\n46/208 ... yes\n46/209 ... yes\n94/210 ... yes\n94/211 ... yes\n128/213 ... yes\n45/214 ... yes\n94/215 ... yes\n18/216 ... yes\n129/217 ... yes\n129/219 ... yes\n94/221 ... yes\n94/222 ... yes\n94/224 ... yes\n129/225 ... yes\n45/227 ... yes\n94/228 ... yes\n94/230 ... yes\n94/231 ... yes\n94/232 ... yes\n94/233 ... yes\n94/234 ... yes\n40/235 ... yes\n94/236 ... yes\n135/238 ... yes\n94/239 ... yes\n45/240 ... yes\n45/241 ... yes\n18/242 ... yes\n108/243 ... yes\n18/245 ... yes\n94/246 ... yes\n73/247 ... yes\n135/248 ... yes\n94/249 ... yes\n94/250 ... yes\n94/251 ... yes\n30/252 ... yes\n94/254 ... yes\n124/255 ... yes\n94/256 ... yes\n94/257 ... yes\n108/258 ... yes\n108/260 ... yes\n18/261 ... yes\n18/262 ... yes\n18/263 ... yes\n138/264 ... yes\n124/268 ... yes\n124/269 ... yes\n135/270 ... yes\n108/271 ... yes\n94/272 ... yes\n126/273 ... yes\n94/274 ... yes\n108/275 ... yes\n135/276 ... yes\n37/277 ... yes\n58/278 ... yes\n10/279 ... yes\n135/281 ... yes\n90/282 ... yes\n45/283 ... yes\n45/284 ... yes\n90/285 ... yes\n153/286 ... yes\n129/287 ... yes\n151/290 ... yes\n157/291 ... yes\n157/293 ... yes\n157/294 ... yes\n23/295 ... yes\n127/296 ... yes\n135/299 ... yes\n94/300 ... yes\n60/301 ... yes\n151/302 ... yes\n145/303 ... yes\n166/304 ... yes\n170/311 ... yes\n170/312 ... yes\n10/314 ... yes\n48/316 ... yes\n11/317 ... yes\n172/319 ... yes\n73/321 ... yes\n135/323 ... yes\n18/324 ... yes\n135/325 ... yes\n136/327 ... yes\n11/329 ... yes\n58/331 ... yes\n40/332 ... yes\n108/337 ... yes\n45/342 ... yes\n108/343 ... yes\n94/344 ... yes\n71/345 ... yes\n94/346 ... yes\n180/347 ... yes\n11/348 ... yes\n181/350 ... yes\n18/351 ... yes\n58/352 ... yes\n135/353 ... yes\n108/354 ... yes\n129/355 ... yes\n11/356 ... yes\n108/357 ... yes\n40/358 ... yes\n12/359 ... yes\n108/360 ... yes\n94/361 ... yes\n138/364 ... yes\n18/365 ... yes\n18/366 ... yes\n94/367 ... yes\n108/370 ... yes\n88/371 ... yes\n108/373 ... yes\n94/374 ... yes\n138/376 ... yes\n137/377 ... yes\n58/378 ... yes\n185/379 ... yes\n45/380 ... yes\n18/382 ... yes\n73/383 ... yes\n94/384 ... yes\n89/387 ... yes\n45/388 ... yes\n40/389 ... yes\n38/390 ... yes\n187/391 ... yes\n12/392 ... yes\n138/396 ... yes\n164/397 ... yes\n45/398 ... yes\n164/399 ... yes\n108/402 ... yes\n40/404 ... yes\n46/405 ... yes\n30/406 ... yes\n196/407 ... yes\n143/408 ... yes\n58/410 ... yes\n108/411 ... yes\n99/413 ... yes\n99/414 ... yes\n209/416 ... yes\n94/419 ... yes\n58/420 ... yes\n194/421 ... yes\n143/422 ... yes\n202/423 ... yes\n73/424 ... yes\n202/425 ... yes\n202/426 ... yes\n94/427 ... yes\n45/428 ... yes\n164/429 ... yes\n126/430 ... yes\n44/432 ... yes\n18/434 ... yes\n95/435 ... yes\n202/437 ... yes\n108/438 ... yes\n202/439 ... yes\n202/440 ... yes\n202/441 ... yes\n126/443 ... yes\n202/444 ... yes\n202/449 ... yes\n202/450 ... yes\n209/453 ... yes\n12/461 ... yes\n71/463 ... yes\n11/464 ... yes\n18/476 ... yes\n209/512 ... yes\n11/513 ... yes\n49/550 ... yes\n218/560 ... yes\n215/640 ... yes\n11/717 ... yes\n164/742 ... yes\n215/846 ... yes\n215/1004 ... yes\n215/1017 ... yes\n215/1018 ... yes\n215/1106 ... yes\n215/1114 ... yes\n215/1115 ... yes\n215/1116 ... yes\n11/1120 ... yes\n43/1494 ... yes\n18/1529 ... yes\n23/1542 ... yes\n215/1664 ... yes\n222/1682 ... yes\n222/1687 ... yes\n222/1688 ... yes\n222/1690 ... yes\n222/1705 ... yes\n222/1707 ... yes\n222/1709 ... yes\n222/1711 ... yes\n202/1749 ... yes\n202/1750 ... yes\n225/1806 ... yes\n226/1807 ... yes\n164/1814 ... yes\n215/1862 ... yes\n218/1903 ... yes\n8/1926 ... yes\n202/1937 ... yes\n215/2007 ... yes\n215/2008 ... yes\n215/2089 ... yes\n217/2183 ... yes\n215/2388 ... yes\n215/2389 ... yes\n18/2404 ... yes\n215/2405 ... yes\n215/2414 ... yes\n215/2417 ... yes\n215/2424 ... yes\n226/2437 ... yes\n229/2460 ... yes\n230/2462 ... yes\n215/2468 ... yes\n12/2512 ... yes\n215/2514 ... yes\n43/2521 ... yes\n215/2539 ... yes\n215/2603 ... yes\n215/2605 ... yes\n215/2606 ... yes\n215/2608 ... yes\n215/2617 ... yes\n215/2618 ... yes\n215/2630 ... yes\n215/2656 ... yes\n215/2665 ... yes\n215/2686 ... yes\n215/2692 ... yes\n215/2693 ... yes\n215/2695 ... yes\n215/2700 ... yes\n215/2702 ... yes\n215/2703 ... yes\n215/2704 ... yes\n215/2724 ... yes\n215/2726 ... yes\n215/2728 ... yes\n215/2730 ... yes\n215/2733 ... yes\n215/2738 ... yes\n11/2747 ... yes\n215/2752 ... yes\n215/2760 ... yes\n215/2820 ... yes\n18/2829 ... yes\n232/2834 ... yes\n215/2846 ... yes\n215/2853 ... yes\n215/2860 ... yes\n243/2864 ... yes\n240/2897 ... yes\n240/2898 ... yes\n8/2914 ... yes\n215/2929 ... yes\n222/2977 ... yes\n221/2990 ... yes\n241/3005 ... yes\n215/3020 ... yes\n215/3028 ... yes\n215/3032 ... yes\n138/3046 ... yes\n243/3060 ... yes\n244/3061 ... yes\n88/3063 ... yes\n215/3069 ... yes\n215/3070 ... yes\n239/3071 ... yes\n241/3075 ... yes\n41/3076 ... yes\n215/3077 ... yes\n215/3079 ... yes\n89/3083 ... yes\n215/3084 ... yes\n11/3085 ... yes\n215/3086 ... yes\n215/3087 ... yes\n215/3088 ... yes\n215/3089 ... yes\n165/3091 ... yes\n215/3092 ... yes\n215/3093 ... yes\n11/3095 ... yes\n164/3096 ... yes\n215/3097 ... yes\n254/3098 ... yes\n11/3100 ... yes\n215/3101 ... yes\n23/3103 ... yes\n215/3105 ... yes\n215/3106 ... yes\n215/3107 ... yes\n215/3108 ... yes\n11/3109 ... yes\n215/3111 ... yes\n215/3112 ... yes\n23/3113 ... yes\n218/3115 ... yes\n11/3116 ... yes\n215/3118 ... yes\n215/3119 ... yes\n11/3120 ... yes\n215/3121 ... yes\n215/3122 ... yes\n215/3123 ... yes\n215/3124 ... yes\n165/3125 ... yes\n215/3126 ... yes\n88/3127 ... yes\n239/3128 ... yes\n41/3129 ... yes\n53/3131 ... yes\n88/3132 ... yes\n138/3133 ... yes\n11/3134 ... yes\n94/3135 ... yes\n11/3136 ... yes\n11/3137 ... yes\n215/3138 ... yes\n210/3140 ... yes\n11/3141 ... yes\n238/3142 ... yes\n18/3143 ... yes\n94/3144 ... yes\n215/3145 ... yes\n18/3146 ... yes\n18/3147 ... yes\n18/3148 ... yes\n18/3149 ... yes\n18/3150 ... yes\n18/3153 ... yes\n18/3154 ... yes\n18/3155 ... yes\n18/3156 ... yes\n18/3157 ... yes\n18/3158 ... yes\n18/3159 ... yes\n53/3160 ... yes\n18/3163 ... yes\n241/3165 ... yes\n45/3166 ... yes\n210/3167 ... yes\n18/3168 ... yes\n11/3169 ... yes\n11/3170 ... yes\n18/3171 ... yes\n164/3172 ... yes\n267/3174 ... yes\n270/3175 ... yes\n11/3176 ... yes\n143/3177 ... yes\n164/3178 ... yes\n18/3179 ... yes\n272/3181 ... yes\n45/3182 ... yes\n18/3183 ... yes\n267/3184 ... yes\n11/3185 ... yes\n8/3186 ... yes\n11/3187 ... yes\n218/3190 ... yes\n218/3191 ... yes\n218/3192 ... yes\n192/3193 ... yes\n53/3194 ... yes\n267/3195 ... yes\n108/3197 ... yes\n164/3198 ... yes\n18/3199 ... yes\n194/3200 ... yes\n45/3201 ... yes\n11/3202 ... yes\n264/3203 ... yes\n274/3204 ... yes\n267/3206 ... yes\n267/3207 ... yes\n272/3208 ... yes\n269/3209 ... yes\n274/3210 ... yes\n128/3212 ... yes\n269/3213 ... yes\n217/3214 ... yes\n217/3215 ... yes\n45/3216 ... yes\n237/3217 ... yes\n274/3218 ... yes\n18/3219 ... yes\n12/3221 ... yes\n272/3222 ... yes\n274/3223 ... yes\n39/3224 ... yes\n272/3225 ... yes\n267/3227 ... yes\n267/3228 ... yes\n267/3229 ... yes\n274/3230 ... yes\n18/3231 ... yes\n88/3232 ... yes\n274/3233 ... yes\n274/3234 ... yes\n274/3235 ... yes\n272/3236 ... yes\n267/3237 ... yes\n272/3238 ... yes\n218/3240 ... yes\n108/3241 ... yes\n138/3243 ... yes\n41/3246 ... yes\n279/3247 ... yes\n56/3249 ... yes\n230/3251 ... yes\n230/3252 ... yes\n269/3253 ... yes\n194/3254 ... yes\n164/3256 ... yes\n26/3259 ... yes\n18/3260 ... yes\n272/3262 ... yes\n18/3263 ... yes\n274/3264 ... yes\n222/3265 ... yes\n18/3266 ... yes\n18/3267 ... yes\n18/3269 ... yes\n18/3270 ... yes\n13/3271 ... yes\n222/3272 ... yes\n274/3273 ... yes\n94/3274 ... yes\n264/3276 ... yes\n94/3277 ... yes\n18/3278 ... yes\n45/3279 ... yes\n274/3282 ... yes\n274/3283 ... yes\n264/3284 ... yes\n283/3285 ... yes\n18/3286 ... yes\n108/3289 ... yes\n108/3290 ... yes\n53/3291 ... yes\n108/3292 ... yes\n260/3294 ... yes\n269/3295 ... yes\n210/3296 ... yes\n18/3297 ... yes\n137/3298 ... yes\n13/3300 ... yes\n108/3301 ... yes\n18/3302 ... yes\n18/3303 ... yes\n274/3304 ... yes\n289/3305 ... yes\n13/3306 ... yes\n264/3308 ... yes\n18/3309 ... yes\n18/3310 ... yes\n286/3311 ... yes\n289/3312 ... yes\n11/3313 ... yes\n210/3314 ... yes\n18/3315 ... yes\n297/3317 ... yes\n297/3318 ... yes\n164/3321 ... yes\n217/3322 ... yes\n44/3328 ... yes\n164/3329 ... yes\n298/3330 ... yes\n301/3331 ... yes\n18/3334 ... yes\n286/3336 ... yes\n87/3339 ... yes\n274/3340 ... yes\n274/3341 ... yes\n300/3344 ... yes\n300/3345 ... yes\n300/3346 ... yes\n300/3347 ... yes\n300/3348 ... yes\n302/3349 ... yes\n302/3350 ... yes\n302/3351 ... yes\n302/3352 ... yes\n301/3353 ... yes\n301/3354 ... yes\n13/3355 ... yes\n274/3356 ... yes\n264/3359 ... yes\n262/3362 ... yes\n274/3363 ... yes\n18/3366 ... yes\n264/3367 ... yes\n18/3368 ... yes\n237/3369 ... yes\n283/3371 ... yes\n127/3372 ... yes\n26/3373 ... yes\n18/3375 ... yes\n305/3376 ... yes\n18/3377 ... yes\n274/3378 ... yes\n309/3379 ... yes\n315/3380 ... yes\n315/3381 ... yes\n315/3382 ... yes\n316/3383 ... yes\n45/3384 ... yes\n329/3385 ... yes\n315/3387 ... yes\n239/3388 ... yes\n315/3389 ... yes\n274/3390 ... yes\n295/3395 ... yes\n295/3396 ... yes\n295/3397 ... yes\n315/3398 ... yes\n319/3399 ... yes\n315/3400 ... yes\n315/3401 ... yes\n315/3402 ... yes\n315/3403 ... yes\n315/3404 ... yes\n315/3405 ... yes\n315/3406 ... yes\n315/3407 ... yes\n317/3408 ... yes\n315/3409 ... yes\n18/3410 ... yes\n108/3411 ... yes\n309/3412 ... yes\n128/3413 ... yes\n108/3414 ... yes\n305/3415 ... yes\n108/3416 ... yes\n313/3417 ... yes\n317/3418 ... yes\n254/3419 ... yes\n311/3420 ... yes\n94/3421 ... yes\n94/3422 ... yes\n45/3423 ... yes\n45/3424 ... yes\n94/3425 ... yes\n269/3426 ... yes\n312/3428 ... yes\n324/3429 ... yes\n128/3430 ... yes\n260/3431 ... yes\n316/3432 ... yes\n18/3433 ... yes\n87/3434 ... yes\n11/3435 ... yes\n301/3436 ... yes\n221/3437 ... yes\n316/3438 ... yes\n218/3439 ... yes\n260/3440 ... yes\n165/3441 ... yes\n108/3442 ... yes\n309/3443 ... yes\n11/3444 ... yes\n309/3445 ... yes\n283/3446 ... yes\n316/3447 ... yes\n316/3448 ... yes\n45/3449 ... yes\n317/3450 ... yes\n324/3451 ... yes\n128/3452 ... yes\n108/3453 ... yes\n254/3454 ... yes\n328/3455 ... yes\n275/3456 ... yes\n53/3457 ... yes\n45/3458 ... yes\n164/3459 ... yes\n164/3460 ... yes\n45/3461 ... yes\n108/3462 ... yes\n320/3463 ... yes\n333/3464 ... yes\n94/3465 ... yes\n333/3466 ... yes\n108/3467 ... yes\n218/3468 ... yes\n108/3469 ... yes\n329/3470 ... yes\n329/3471 ... yes\n329/3472 ... yes\n329/3473 ... yes\n329/3474 ... yes\n329/3475 ... yes\n306/3476 ... yes\n108/3477 ... yes\n108/3478 ... yes\n18/3479 ... yes\n326/3480 ... yes\n108/3481 ... yes\n329/3482 ... yes\n286/3483 ... yes\n328/3484 ... yes\n108/3486 ... yes\nRedis version \u003e= 2.8.0? ... yes\nRuby version \u003e= 2.3.3 ? ... yes (2.3.5)\nGit version \u003e= 2.7.3 ? ... yes (2.13.5)\nGit user has default SSH configuration? ... no\n  Try fixing it:\n  mkdir ~/gitlab-check-backup-1512994316\n  sudo mv /var/opt/gitlab/.ssh/authorized_keys.lock ~/gitlab-check-backup-1512994316\n  sudo mv /var/opt/gitlab/.ssh/id_rsa.pub ~/gitlab-check-backup-1512994316\n  sudo mv /var/opt/gitlab/.ssh/id_rsa ~/gitlab-check-backup-1512994316\n  For more information see:\n  doc/ssh/README.md in section \"SSH on the GitLab server\"\n  Please fix the error above and rerun the checks.\nActive users: ... 129\n\nChecking GitLab ... Finished\n\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n### Direction\n\nAdd copy in the modal to inform user that they will be deleting branches that may not be visible and add a confirmation input to draw attention to the action.\n\n![image](/uploads/4b298aa431da7e479a8f293ba0da8c1d/image.png)\n\nThis is a scaled back change from original ideas based on the performance issue in getting a list of all merged branches to be deleted.\n\nThe long term direction of this functionality is to explore https://gitlab.com/gitlab-org/gitlab/-/issues/22613+ \n\n\u003cdetails\u003e\u003csummary\u003ePrevious ideas\u003c/summary\u003e\n\nI see two options:\n  - Only deleted merged branches which are shown in the filtered search\n     - This could be handled by improving the bulk delete in general https://gitlab.com/gitlab-org/gitlab/-/issues/22613\n  - Remove \"Delete merged branches\" button for searches\n     - Since the creation of this issue we have also introduced tabs and this bug exists when looking at tabs too. https://gitlab.com/gitlab-org/gitlab/-/issues/20384#note_1136018050\n\nUpdate the modal to provide more information of branches to be deleted and add input to confirm the number of branches that would be deleted. \n\n| Current | Updated delete modal |\n| ------ | ------ |\n| ![image](/uploads/1bae647c2a2c595943be2e93f5046cbe/image.png)     |  ![image](/uploads/d8cce473687161f8a160deeb1e2f6028/image.png)      |\n\nTo handle the scenario where there are more than 10 branches, the modal will be scrollable to accommodate the longer list.\n\n| Scrolling scenario |\n| ------ |\n| ![CleanShot_2022-10-24_at_21.41.50](/uploads/c9fa4cf6ef53565b4033bcc5c5b89faa/CleanShot_2022-10-24_at_21.41.50.png)       |\n\n\u003c/details\u003e","state":"closed","created_at":"2017-12-11T12:17:29.749Z","updated_at":"2022-11-21T12:01:26.465Z","closed_at":"2022-11-17T08:51:55.767Z","closed_by":{"id":11703928,"username":"nradina","name":"Nataliia Radina","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11703928/avatar.png","web_url":"https://gitlab.com/nradina"},"labels":["Category:Source Code Management","Deliverable","SUS::Impacting","Technical Writing","UI text","UX","UX solution validation","backend","bug::ux","devops::create","frontend","frontend-weight::2","group::source code","priority::1","repository","section::dev","severity::1","type::bug","workflow::in review"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":1161495,"username":"igor.drozdov","name":"Igor Drozdov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1161495/avatar.png","web_url":"https://gitlab.com/igor.drozdov"},{"id":11703928,"username":"nradina","name":"Nataliia Radina","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11703928/avatar.png","web_url":"https://gitlab.com/nradina"}],"author":{"id":776981,"username":"m.baur","name":"Matthias Baur","state":"active","avatar_url":"https://secure.gravatar.com/avatar/69b5c294be8d288c04790c8158db81b0?s=80\u0026d=identicon","web_url":"https://gitlab.com/m.baur"},"type":"ISSUE","assignee":{"id":1161495,"username":"igor.drozdov","name":"Igor Drozdov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1161495/avatar.png","web_url":"https://gitlab.com/igor.drozdov"},"user_notes_count":58,"merge_requests_count":0,"upvotes":6,"downvotes":0,"due_date":"2022-11-12","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/20384","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/20384","notes":"https://gitlab.com/api/v4/projects/278964/issues/20384/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/20384/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#20384","relative":"#20384","full":"gitlab-org/gitlab#20384"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":"at_risk"},{"id":24659483,"iid":20380,"project_id":278964,"title":"Gitlab CI: Document/recommend Digital Ocean Debian/Ubuntu mirrors","description":"### Description\n\nDO has apt mirrors. Recommending in the docs, and possibly even the GUI, would save users and Gitlab a ton of time and money.\n\n### Links / references\n\nhttp://mirrors.digitalocean.com/","state":"closed","created_at":"2017-12-10T13:09:56.621Z","updated_at":"2022-09-12T14:30:09.509Z","closed_at":"2022-09-12T14:30:09.477Z","closed_by":{"id":4228834,"username":"DarrenEastman","name":"Darren Eastman","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4228834/avatar.png","web_url":"https://gitlab.com/DarrenEastman"},"labels":["[deprecated] Accepting merge requests","devops::verify","docs-only","documentation","group::runner","section::ops","type::feature"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":263676,"username":"olivercole","name":"Oliver Cole","state":"active","avatar_url":"https://secure.gravatar.com/avatar/8725804df9ad1293121f5459cdefb7bc?s=80\u0026d=identicon","web_url":"https://gitlab.com/olivercole"},"type":"ISSUE","assignee":null,"user_notes_count":7,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/20380","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/20380","notes":"https://gitlab.com/api/v4/projects/278964/issues/20380/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/20380/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#20380","relative":"#20380","full":"gitlab-org/gitlab#20380"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":24659481,"iid":20379,"project_id":278964,"title":"Project size Statistics differ between groups view and project homepage","description":"### Summary\n\nProject Statistics differ between groups view and project homepage\n\n### Steps to reproduce\n\n- Create a new group, `GroupA`\n- Create a new project within that group, `GroupA/Project1`\n- Establish a repo in the `GroupA/Project1`\n- Create a .gitlab-ci.yml file that will generate some artifacts\n- Let the pipeline complete to generate the artifacts\n- View the project's homepage\n- Notice the project size\n- Navigate to the group's page\n- Navigate to **Settings \u003e Projects**\n- Notice the project size in this list\n\n### Example Project\n\n(If possible, please create an example project here on GitLab.com that exhibits the problematic behaviour, and link to it here in the bug report)\n\n(If you are using an older version of GitLab, this will also determine whether the bug has been fixed in a more recent version)\n\n### What is the current *bug* behavior?\n\nProject size differs in the group view to the project homepage\n\n### What is the expected *correct* behavior?\n\nProject sizes should be identical\n\n### Relevant logs and/or screenshots\n\n\n### Output of checks\n\ngitlab-ce~3293941 10.2.4\n\n### Possible fixes\n\nIncorrect method is called on project statistics model for the group view:\n- https://gitlab.com/gitlab-org/gitlab-ce/blob/master/app/views/groups/projects.html.haml#L22\n\nvs\n\n- https://gitlab.com/gitlab-org/gitlab-ce/blob/master/app/views/projects/show.html.haml#L18","state":"closed","created_at":"2017-12-10T11:30:43.810Z","updated_at":"2020-11-02T12:21:34.832Z","closed_at":"2020-11-02T12:21:34.703Z","closed_by":{"id":1786152,"username":"gitlab-bot","name":"🤖 GitLab Bot 🤖","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1786152/avatar.png","web_url":"https://gitlab.com/gitlab-bot"},"labels":["Create [DEPRECATED]","Manage [DEPRECATED]","auto closed","backend","default-priority","default-severity","priority::3","reproduced on GitLab.com","severity::3","stale","type::bug","vintage"],"milestone":null,"assignees":[{"id":415879,"username":"christiaan.vandenpoel","name":"Christiaan Van den Poel","state":"active","avatar_url":"https://secure.gravatar.com/avatar/5e52fe136d954f7f69e555a9981e9323?s=80\u0026d=identicon","web_url":"https://gitlab.com/christiaan.vandenpoel"}],"author":{"id":467267,"username":"bennyp","name":"Benny Powers","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/467267/avatar.png","web_url":"https://gitlab.com/bennyp"},"type":"ISSUE","assignee":{"id":415879,"username":"christiaan.vandenpoel","name":"Christiaan Van den Poel","state":"active","avatar_url":"https://secure.gravatar.com/avatar/5e52fe136d954f7f69e555a9981e9323?s=80\u0026d=identicon","web_url":"https://gitlab.com/christiaan.vandenpoel"},"user_notes_count":10,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/20379","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/20379","notes":"https://gitlab.com/api/v4/projects/278964/issues/20379/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/20379/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#20379","relative":"#20379","full":"gitlab-org/gitlab#20379"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":24659478,"iid":20378,"project_id":278964,"title":"Use Docker notifications to track GitLab Container Registry events on GitLab.com (Snowplow)","description":"### Problem to solve\nThe GitLab Container Registry allows users to build, publish and share Docker images using the Docker client or GitLab CI/CD. The problem is that we do not measure this data in our product analytics dashboards. This makes it difficult to understand the Package stage's active users at the stage and organizational level. \n\n\u003c!-- What problem do we solve? --\u003e\n\n### Intended users\n* [Parker (Product Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#parker-product-manager)\n* [Dana (Data Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#dana-data-analyst)\n\n### Further details\n[Docker Distribution Registry](https://docs.docker.com/registry/) supports sending [webhook notifications](https://docs.docker.com/registry/notifications/) in response to events happening within the registry. Notifications are sent in response to manifest **pushes and pulls and layer pushes and pulls**. \n\n#### Docker Notifications Response\n| Field          | Type                    | Description                                                                                                                                      |\n|----------------|-------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------|\n| id             | string                  | ID provides a unique identifier for the event.                                                                                                   |\n| timestamp      | Time                    | Timestamp is the time at which the event occurred.                                                                                               |\n| action         | string                  | Action indicates what action encompasses the provided event.                                                                                     |\n| target         | distribution.Descriptor | Target uniquely describes the target of the event.                                                                                               |\n| length         | int                     | Length in bytes of content. Same as Size field in Descriptor.                                                                                    |\n| repository     | string                  | Repository identifies the named repository.                                                                                                      |\n| fromRepository | string                  | FromRepository identifies the named repository which a blob was mounted from if appropriate.                                                     |\n| url            | string                  | URL provides a direct link to the content.                                                                                                       |\n| tag            | string                  | Tag identifies a tag name in tag events.                                                                                                         |\n| request        | RequestRecord           | Request covers the request that generated the event.                                                                                             |\n| actor          | ActorRecord.            | Actor specifies the agent that initiated the event. For most situations, this could be from the authorization context of the request.            |\n| source         | SourceRecord            | Source identifies the registry node that generated the event. Put differently, while the actor “initiates” the event, the source “generates” it. |\n\n\n### Proposal\nIn order to measure usage and adoption of the GitLab Container Registry, track key Container Registry events on GitLab.com by adding these events to [Snowplow.](https://about.gitlab.com/handbook/product/feature-instrumentation/#adding-events-to-snowplow)\n- Data should be tracked in Periscope in the [Package stage dashboard](https://app.periscopedata.com/app/gitlab/527857/Package-GitLab.com-Stage-Activity-Dashboard---DAU-(7-day-rolling-average))\n\n#### Events (counts only)\n* `push_tag`:tags published to the regsistry\n* `delete_tag`:tags deleted from the registry\n* `push_repository`:Docker repositories pushed to the registry\n* `delete_repository` (\\*):Docker repositories deleted from the registry\n* `create_repository`Docker repositories created in the registry\n\n(\\*): This event `delete_repository` was not observed during my tests locally on my machine.\n\n#### Snowplow vs. Usage Ping\n- Since Snowplow is a faster implementation, we will prioritize that first and focus on correctly tracking/parsing the data. Then we will add support for usage ping. \n- https://gitlab.com/gitlab-org/gitlab/issues/205833 will add tracking to the [usage ping](https://about.gitlab.com/handbook/product/feature-instrumentation/#differences-with-usage-ping) for opted in instances.\n\n### Permissions and Security\n- This data will be internal to GitLab to start\n\n### Documentation\n- There are no documentation changes required for this change\n\n### Availability \u0026 Testing\n\n### What does success look like, and how can we measure that?\n- Success looks like we are tracking these events regularly and use it to make informed product design and prioritization decisions.\n\n### Links / references\n- [Package stage dashboard](https://app.periscopedata.com/app/gitlab/527857/Package-GitLab.com-Stage-Activity-Dashboard---DAU-(7-day-rolling-average))\n- [SMAU dashboard](https://app.periscopedata.com/app/gitlab/425984/Month-over-Month-Overestimated-SMAU)","state":"closed","created_at":"2017-12-10T02:49:03.880Z","updated_at":"2022-11-04T02:51:56.458Z","closed_at":"2020-09-03T08:12:30.764Z","closed_by":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"labels":["Category:Container Registry","Deliverable","Package:P1","api","backend","container registry expert","devops::package","group::package registry","missed-deliverable","missed:12.10","missed:12.9","ruby","section::ops","type::feature","workflow::production"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"}],"author":{"id":120073,"username":"DylanGriffith","name":"Dylan Griffith","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/120073/avatar.png","web_url":"https://gitlab.com/DylanGriffith"},"type":"ISSUE","assignee":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"user_notes_count":126,"merge_requests_count":1,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/20378","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/20378","notes":"https://gitlab.com/api/v4/projects/278964/issues/20378/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/20378/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#20378","relative":"#20378","full":"gitlab-org/gitlab#20378"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2289,"epic":{"id":15774,"iid":2289,"title":"Delicious data (package)","url":"/groups/gitlab-org/-/epics/2289","group_id":9970,"human_readable_end_date":"Oct 31, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":8122558,"iid":4290,"project_id":278964,"title":"Add related issue button and epic add issue button","description":"- When an issue has no related issues, there's a big and fat panel header that takes up a lot of space and looks intrusive.\n- It looks especially bad for issues with a small description.\n\n![Screen_Shot_2017-12-09_at_00.35.52](/uploads/81abfa9bb04d3825514192a1fda1a729/Screen_Shot_2017-12-09_at_00.35.52.png)\n\n### Proposal\n- Replace with a simple button.\n- When you click on a button, you get the full UI to add an issue like usual. If you cancel out, you get back the same simple button.\n- This button only appears when there are no related issues. Otherwise, you get the same existing UI.\n- Similar design would be applied to epics too.\n\n![Screen_Shot_2017-12-09_at_00.33.58](/uploads/e7f0a04e9384dbe7616a1aa00375fdb2/Screen_Shot_2017-12-09_at_00.33.58.png)\n\n![Screen_Shot_2017-12-09_at_00.34.18](/uploads/425a3c2e221b2043949039fa76226889/Screen_Shot_2017-12-09_at_00.34.18.png)","state":"closed","created_at":"2017-12-09T05:38:33.063Z","updated_at":"2022-05-19T16:42:49.574Z","closed_at":"2019-10-28T22:03:31.059Z","closed_by":{"id":4478389,"username":"kokeefe","name":"Keanon O'Keefe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4478389/avatar.png","web_url":"https://gitlab.com/kokeefe"},"labels":["Category:Portfolio Management","Enterprise Edition","UX","[deprecated] Accepting merge requests","devops::plan","epics","frontend","group::product planning","issues"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":711023,"username":"victorwu","name":"Victor Wu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/711023/avatar.png","web_url":"https://gitlab.com/victorwu"},"type":"ISSUE","assignee":null,"user_notes_count":8,"merge_requests_count":1,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/4290","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":4,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/4290","notes":"https://gitlab.com/api/v4/projects/278964/issues/4290/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/4290/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#4290","relative":"#4290","full":"gitlab-org/gitlab#4290"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":8120383,"iid":4283,"project_id":278964,"title":"Run through HA test scenarios","description":"This will be done in one or more demos, but worth creating an issue since it will take quite a bit of time and will be useful to link from here to issues that arise from the demos.\n\n\"HA\" here means multiple frontend nodes in a GitLab instance, (aka unicorn, rails servers), with a load balancer in front of them.\n\n1. HA primary to HA secondary\n\n1. HA primary to non-HA secondary\n\n1. non-HA primary to HA secondary\n\n1. Repeat the above but add\n   - multiple secondaries\n   - multiple shards\n   - postgresHA enabled on one or more nodes.","state":"closed","created_at":"2017-12-08T20:21:42.452Z","updated_at":"2019-12-11T20:31:29.558Z","closed_at":"2018-04-06T20:00:29.769Z","closed_by":null,"labels":["Enterprise Edition","devops::systems","group::geo","test"],"milestone":{"id":360828,"iid":4,"group_id":9970,"title":"10.4","description":"https://about.gitlab.com/releases/2018/01/22/gitlab-10-4-released","state":"closed","created_at":"2017-08-16T16:52:35.085Z","updated_at":"2020-04-27T16:31:17.439Z","due_date":"2018-01-22","start_date":"2017-12-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/4"},"assignees":[],"author":{"id":192328,"username":"ernstvn-gitlab","name":"Ernst van Nierop","state":"active","avatar_url":"https://secure.gravatar.com/avatar/36b7c478bbe1e079f10202afa9b30c0d?s=80\u0026d=identicon","web_url":"https://gitlab.com/ernstvn-gitlab"},"type":"ISSUE","assignee":null,"user_notes_count":13,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/4283","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/4283","notes":"https://gitlab.com/api/v4/projects/278964/issues/4283/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/4283/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#4283","relative":"#4283","full":"gitlab-org/gitlab#4283"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":8576213,"iid":4569,"project_id":278964,"title":"Open changed files in multi-file editor from merge request","description":"When reviewing changes in a merge request, there are situations where would be more efficient to make a change rather than leaving a comment, like fixing a few typos in some documentation. There are also situations where it is hard to review the change without being able to see the entirety of multiple files.\n\nIt's possible to do this in GitLab by opening each file one by one from the MR diff.\n\nThe multi-file makes it easy to view and edit multiple files, and we can make it easy by just opening all the changed files (if there are only a few).\n\n## Proposal\n\nIf the use has opted into the 'Multi-file editor BETA' show a button in the Merge Request window to open the Merge Request in the multi-file editor\n\n[20171208_screenshot](/uploads/1a830949543a62e13d7b96aaa10b8fbd/20171208_screenshot.png)\n\n### Design\n\nMr widget:\n\n![image](/uploads/b74f2d0cee08d8f4445f0a25ac92979a/image.png)\n\nMr changes tab:\n\n![image](/uploads/5201915c96cc65afef6af80d7efd42e7/image.png)\n\n![image](/uploads/6c58672a5d25e191096096247598503e/image.png)","state":"closed","created_at":"2017-12-08T15:35:52.326Z","updated_at":"2019-08-12T15:43:45.339Z","closed_at":"2018-03-30T12:45:36.572Z","closed_by":null,"labels":["Category:Web IDE","Deliverable","Enterprise Edition","GitLab Ultimate","frontend","merge requests"],"milestone":null,"assignees":[{"id":489558,"username":"dimitrieh","name":"Dimitrie Hoekstra","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/489558/avatar.png","web_url":"https://gitlab.com/dimitrieh"},{"id":577113,"username":"hazelyang","name":"Hazel Yang","state":"active","avatar_url":"https://secure.gravatar.com/avatar/e84e4d70639ad1177276340868d7f074?s=80\u0026d=identicon","web_url":"https://gitlab.com/hazelyang"},{"id":1149402,"username":"timzallmann","name":"Tim Zallmann","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1149402/avatar.png","web_url":"https://gitlab.com/timzallmann"}],"author":{"id":1187333,"username":"jramsay-gitlab","name":"James Ramsay (ex-GitLab)","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1187333/avatar.png","web_url":"https://gitlab.com/jramsay-gitlab"},"type":"ISSUE","assignee":{"id":489558,"username":"dimitrieh","name":"Dimitrie Hoekstra","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/489558/avatar.png","web_url":"https://gitlab.com/dimitrieh"},"user_notes_count":24,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/4569","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":4,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/4569","notes":"https://gitlab.com/api/v4/projects/278964/issues/4569/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/4569/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#4569","relative":"#4569","full":"gitlab-org/gitlab#4569"},"severity":"UNKNOWN","moved_to_id":10016561,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":8551662,"iid":4545,"project_id":278964,"title":"Allow user to create branch when committing changes","description":"When a user opens a project in the multi-file editor and makes changes, they may want to commit them to a new branch with the intention of later opening a merge request.\n\n## Proposal\n\nAllow a person using the multi-file editor to create a new branch with they create the commit. They should be able to choose the name of the branch to match their preferred or organization mandated naming scheme.\n\n## Design\n\n- By default wider sidebar, so we can have a bigger commit message field\n- Explicit options:\n  - Commit to current branch\n  - Create a new branch and continue editing (shifting the Web IDE to the new branch)\n  - Create a new branch and a new merge request, discontinue editing, and go to the newly created merge request (is automatically configured to merge into the original branch)\n- Question icons feature tooltips explaining flow after hitting commit\n- branch-field is auto-pre-filled with syntax: `[username]-[branchname]-patch-[i]`\n\n![staged](/uploads/590421727d902a2223c73ffd374d1082/staged.png)","state":"closed","created_at":"2017-12-07T21:22:17.381Z","updated_at":"2019-08-12T15:43:46.424Z","closed_at":"2018-02-26T10:11:53.478Z","closed_by":null,"labels":["Category:Web IDE","Deliverable","Enterprise Edition","GitLab Ultimate","frontend","workflow::in dev"],"milestone":{"id":416486,"iid":8,"group_id":9970,"title":"10.6","description":"https://about.gitlab.com/releases/2018/03/22/gitlab-10-6-released","state":"closed","created_at":"2017-11-21T20:05:35.697Z","updated_at":"2020-04-27T16:30:32.220Z","due_date":"2018-03-22","start_date":"2018-02-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/8"},"assignees":[{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},{"id":489558,"username":"dimitrieh","name":"Dimitrie Hoekstra","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/489558/avatar.png","web_url":"https://gitlab.com/dimitrieh"}],"author":{"id":1187333,"username":"jramsay-gitlab","name":"James Ramsay (ex-GitLab)","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1187333/avatar.png","web_url":"https://gitlab.com/jramsay-gitlab"},"type":"ISSUE","assignee":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"user_notes_count":15,"merge_requests_count":1,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/4545","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":4,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/4545","notes":"https://gitlab.com/api/v4/projects/278964/issues/4545/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/4545/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#4545","relative":"#4545","full":"gitlab-org/gitlab#4545"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":26,"epic":{"id":34,"iid":26,"title":"Web IDE editor","url":"/groups/gitlab-org/-/epics/26","group_id":9970,"human_readable_end_date":"Apr 22, 2018","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":24659456,"iid":20368,"project_id":278964,"title":"Projects::MergeRequests::CreationsController is calling Gitaly n+1 times per request","description":"After this, we should be able to remove the `Gitlab::GitalyClient.allow_n_plus_1_calls` calls from `Projects::MergeRequests::CreationsController#new` and `Projects::MergeRequests::CreationsController#build_merge_request`.","state":"closed","created_at":"2017-12-07T20:00:39.203Z","updated_at":"2020-12-07T16:53:37.136Z","closed_at":"2020-01-06T05:28:17.750Z","closed_by":{"id":4901936,"username":"dskim_gitlab","name":"Sincheol (David) Kim","state":"active","avatar_url":"https://secure.gravatar.com/avatar/84a984a56c54d1d31338678421cecc32?s=80\u0026d=identicon","web_url":"https://gitlab.com/dskim_gitlab"},"labels":["Category:Code Review Workflow","Gitaly n+1","backend","backstage [DEPRECATED]","bug::performance","devops::create","group::code review","maintenance::refactor","merge requests","priority::3","severity::3"],"milestone":{"id":891798,"iid":41,"group_id":9970,"title":"12.7","description":"https://about.gitlab.com/releases/2020/01/22/gitlab-12-7-released/","state":"closed","created_at":"2019-05-31T08:38:04.523Z","updated_at":"2020-05-19T13:46:24.737Z","due_date":"2020-01-17","start_date":"2019-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/41"},"assignees":[{"id":4901936,"username":"dskim_gitlab","name":"Sincheol (David) Kim","state":"active","avatar_url":"https://secure.gravatar.com/avatar/84a984a56c54d1d31338678421cecc32?s=80\u0026d=identicon","web_url":"https://gitlab.com/dskim_gitlab"}],"author":{"id":506061,"username":"ahmadsherif","name":"Ahmad Sherif","state":"active","avatar_url":"https://secure.gravatar.com/avatar/bd6d0ec4213b91601956c9f801cbfe9b?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahmadsherif"},"type":"ISSUE","assignee":{"id":4901936,"username":"dskim_gitlab","name":"Sincheol (David) Kim","state":"active","avatar_url":"https://secure.gravatar.com/avatar/84a984a56c54d1d31338678421cecc32?s=80\u0026d=identicon","web_url":"https://gitlab.com/dskim_gitlab"},"user_notes_count":15,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/20368","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/20368","notes":"https://gitlab.com/api/v4/projects/278964/issues/20368/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/20368/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#20368","relative":"#20368","full":"gitlab-org/gitlab#20368"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2033,"epic":{"id":13514,"iid":2033,"title":"Resolve Gitaly IO hostpots (Create::Source Code)","url":"/groups/gitlab-org/-/epics/2033","group_id":9970,"human_readable_end_date":"Jan 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":8079838,"iid":4255,"project_id":278964,"title":"Servicedesk - Forwarded Mail Body gets cut off when sending mail to service desk","description":"### Summary\n\nWhen a user forwards an email from the inbox to our service desk the mail body gets cut off in the created issue. The only text that remains in the issue description is \"Forwarded Message:\"\n\n### Steps to reproduce\n\n1. Forward email with message body to helpdesk email address\n2. See forwarded emails body not appear in issue description  \n\n### What is the current *bug* behavior?\n\nThe email body gets cut off.\n\n### What is the expected *correct* behavior?\n\nThe forwarded message content should appear as quoted text in the issues description.\n### Relevant logs and/or screenshots\n\nn/a\n\n### Output of checks\n\nThis bug happens on GitLab.com\n\n#### Results of GitLab environment info\n\nThis bug happens on GitLab.com\n\n#### Results of GitLab application Check\n\nThis bug happens on GitLab.com\n\n### Possible fixes","state":"closed","created_at":"2017-12-07T09:14:51.222Z","updated_at":"2023-01-12T00:36:29.591Z","closed_at":"2019-10-16T13:53:48.059Z","closed_by":{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"},"labels":["Category:Service Desk","Enterprise Edition","backend","customer","default-priority","default-severity","devops::plan","group::respond","internal customer","movingtogitlab","priority::3","reproduced on GitLab.com","severity::3","type::bug","workflow::verification"],"milestone":{"id":731039,"iid":38,"group_id":9970,"title":"12.4","description":"https://about.gitlab.com/releases/2019/10/22/gitlab-12-4-released","state":"closed","created_at":"2018-12-07T12:41:53.212Z","updated_at":"2020-04-27T16:30:43.889Z","due_date":"2019-10-17","start_date":"2019-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/38"},"assignees":[{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"}],"author":{"id":498091,"username":"mmaedler","name":"Moritz Mädler","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/498091/avatar.png","web_url":"https://gitlab.com/mmaedler"},"type":"ISSUE","assignee":{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"},"user_notes_count":41,"merge_requests_count":0,"upvotes":7,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/4255","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/4255","notes":"https://gitlab.com/api/v4/projects/278964/issues/4255/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/4255/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#4255","relative":"#4255","full":"gitlab-org/gitlab#4255"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":8062137,"iid":4238,"project_id":278964,"title":"Fix a NoMethodError in Geo::MetricsUpdateService","description":"Placeholder issue for https://gitlab.com/gitlab-org/gitlab-ee/merge_requests/3623","state":"closed","created_at":"2017-12-06T00:49:28.866Z","updated_at":"2019-12-11T20:09:17.923Z","closed_at":"2017-12-06T00:49:43.111Z","closed_by":null,"labels":["Enterprise Edition","devops::systems","group::geo","type::bug"],"milestone":{"id":360827,"iid":3,"group_id":9970,"title":"10.3","description":"","state":"closed","created_at":"2017-08-16T16:51:52.890Z","updated_at":"2018-03-22T16:15:37.036Z","due_date":"2017-12-22","start_date":"2017-11-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/3"},"assignees":[],"author":{"id":192328,"username":"ernstvn-gitlab","name":"Ernst van Nierop","state":"active","avatar_url":"https://secure.gravatar.com/avatar/36b7c478bbe1e079f10202afa9b30c0d?s=80\u0026d=identicon","web_url":"https://gitlab.com/ernstvn-gitlab"},"type":"ISSUE","assignee":null,"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/4238","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/4238","notes":"https://gitlab.com/api/v4/projects/278964/issues/4238/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/4238/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#4238","relative":"#4238","full":"gitlab-org/gitlab#4238"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":8062129,"iid":4237,"project_id":278964,"title":"Run the Geo specs on dedicated runners","description":"Placeholder for https://gitlab.com/gitlab-org/gitlab-ee/merge_requests/3619, for tracking.","state":"closed","created_at":"2017-12-06T00:47:34.300Z","updated_at":"2019-12-11T20:09:18.596Z","closed_at":"2017-12-06T00:48:04.207Z","closed_by":null,"labels":["Enterprise Edition","devops::systems","group::geo"],"milestone":{"id":360827,"iid":3,"group_id":9970,"title":"10.3","description":"","state":"closed","created_at":"2017-08-16T16:51:52.890Z","updated_at":"2018-03-22T16:15:37.036Z","due_date":"2017-12-22","start_date":"2017-11-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/3"},"assignees":[],"author":{"id":192328,"username":"ernstvn-gitlab","name":"Ernst van Nierop","state":"active","avatar_url":"https://secure.gravatar.com/avatar/36b7c478bbe1e079f10202afa9b30c0d?s=80\u0026d=identicon","web_url":"https://gitlab.com/ernstvn-gitlab"},"type":"ISSUE","assignee":null,"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/4237","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/4237","notes":"https://gitlab.com/api/v4/projects/278964/issues/4237/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/4237/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#4237","relative":"#4237","full":"gitlab-org/gitlab#4237"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":24659373,"iid":20337,"project_id":278964,"title":"Toggle file-by-file nav directly from merge request","description":"## Problem to solve\n\n@joshabb writes:\n\n\u003e ...it is hard to browse the diffs in Gitlab. Gitlab makes this hard because it forces the user to review ALL files at once rather than present a simple text list of the files changed (non-bloated UI). If it could do this and then have a link to the diff (without all the UI of Gitlab so you can really focus on the change per file) then it could be better than these other tools. _[Gerrit and Bitbucket]_\n\n\u003cdetails\u003e\u003csummary\u003eOriginal description\u003c/summary\u003e\n\nGitlab is a good tool. However, it lacks real review power of other review systems such as gerrit and bitbucket. \n\nThe main problem is it is hard to browse the diffs in Gitlab. Gitlab makes this hard because it forces the user to review ALL files at once rather than present a simple text list of the files changed (non-bloated UI). If it could do this and then have a link to the diff (without all the UI of Gitlab so you can really focus on the change per file) then it could be better than these other tools. As it is, Gitlab is weakest at code reviews but it is the single most important feature for our team. In the past, I have filed issues about how slow it is to review code because the changes take forever to load. All that was done to fix this is a load on demand collapse button but this was a band-aid to the problem. The real problem is forcing the user to see all the diffs at once. I realize that this may be nice for small changes or some may be used to doing reviews this way. However, when you get a large change the page is still REALLY slow (both scrolling and making comments)--I would say almost unusable for a code review tool.\n\nPlease add the feature like gerrit where it shows the list of files that were changed and the additions/deletions (number to each file). Each file then would be a link to the diff where you can comment on the code changes. This would allow the reviewer to capture the essence of the change in a snapshot and jump to the important files immediately (Ctrl+F should not have to be invoked to find changes to a specific file). An example from gerrit is the following:\n![image](/uploads/5dbad3049ed50283fe16945c4b2340b5/image.png)\nThis kind of diff list would make reviews SO much easier to navigate and a whole lot faster.\n\n\u003c/details\u003e\n\n## Further details\n\nThe introduction of the file tree was an important iteration towards improving diff navigation, but it was merely the first step. As merge requests become larger navigation is still difficult. This has surfaced in feedback from customers and UX research.\n\n* **performance** is poor for anything but small merge requests because so much data is loaded\n* **scroll-based navigation** is not useful because the page is so long. Finding file boundaries using the mouse is very difficult\n* **keyboard-based navigation** is possible by using page down, but it isn't possible to move to the top and bottom of a file easily because it is essentially a keyboard powered scroll event\n* **collapsed/incomplete diff** to protect page performance means large files are automatically collapsed even thought these still need to be reviewed\n\nSee https://gitlab.com/groups/gitlab-org/-/epics/516 for the full picture\n\n## Proposal\n\n![image](/uploads/551b8b6b5b2e8e7b617765c14a5163ee/image.png)\n\nImplement an option to view merge requests diffs on a file by file basis.\n\n- open the first file in file tree by default\n  - the merge request interface should only load the diff for this one file\n- clicking on a different fill will open the diff for that file\n  - the merge request interface should load the diff for the file on demand\n\nThis will require:\n\n- API for loading retrieving the diff for a specific file and corresponding discussions\n  - Can we re-use `\u003cnamespace\u003e/\u003cproject\u003e/merge_requests/\u003ciid\u003e/diff_for_path` for first iteration\n  - Optimize and use GraphQL in later iteration?\n- Support for direct linking to files\n- Support for direct linking to discussions\n- Support for moving between unresolved discussions across multiple files\n\n### Links / references","state":"closed","created_at":"2017-12-05T16:05:38.827Z","updated_at":"2021-05-06T13:27:21.000Z","closed_at":"2021-01-05T12:25:26.447Z","closed_by":{"id":626804,"username":"pedroms","name":"Pedro Moreira da Silva","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c306f087d191ac15549f3c11e3bed321?s=80\u0026d=identicon","web_url":"https://gitlab.com/pedroms"},"labels":["Category:Code Review Workflow","UX","[deprecated] Accepting merge requests","backend","bug::performance","customer","customer+","devops::create","frontend","group::code review","merge requests","section::dev","type::feature","workflow::ready for development"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":492794,"username":"joshabb","name":"Josh Abbott","state":"active","avatar_url":"https://secure.gravatar.com/avatar/fe3b325af22b4202a3beb91df093e3a3?s=80\u0026d=identicon","web_url":"https://gitlab.com/joshabb"},"type":"ISSUE","assignee":null,"user_notes_count":50,"merge_requests_count":0,"upvotes":62,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/20337","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/20337","notes":"https://gitlab.com/api/v4/projects/278964/issues/20337/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/20337/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#20337","relative":"#20337","full":"gitlab-org/gitlab#20337"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":516,"epic":{"id":1789,"iid":516,"title":"📑 File-by-file merge request diff navigation MVC","url":"/groups/gitlab-org/-/epics/516","group_id":9970},"iteration":null,"health_status":null},{"id":8056012,"iid":4232,"project_id":278964,"title":"Improve Milestone links","description":"### Problem to solve\n\nCurrently, when mentioning a milestone link it displays as any other link (%\"10.4\"). This is different compared to for example a user/issue/mr mention. \n\n### Further details\n\n- \n\n### Solution\n\nDisplay milestone links like [%10.4](https://gitlab.com/groups/gitlab-org/-/milestones/4)\n\n### What does success look like, and how can we measure that?\n\nMilestone links are distinguishable from any other link\n\n### Links / references","state":"closed","created_at":"2017-12-05T14:55:12.499Z","updated_at":"2022-05-19T16:44:34.816Z","closed_at":"2018-11-13T08:41:47.858Z","closed_by":{"id":443319,"username":"smcgivern","name":"Sean McGivern","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/443319/avatar.png","web_url":"https://gitlab.com/smcgivern"},"labels":["Enterprise Edition","UI polish","backend","devops::plan","markdown","milestones"],"milestone":{"id":569990,"iid":21,"group_id":9970,"title":"11.6","description":"","state":"closed","created_at":"2018-06-16T19:56:12.651Z","updated_at":"2019-01-08T21:40:29.892Z","due_date":"2018-12-22","start_date":"2018-11-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/21"},"assignees":[{"id":626804,"username":"pedroms","name":"Pedro Moreira da Silva","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c306f087d191ac15549f3c11e3bed321?s=80\u0026d=identicon","web_url":"https://gitlab.com/pedroms"}],"author":{"id":489558,"username":"dimitrieh","name":"Dimitrie Hoekstra","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/489558/avatar.png","web_url":"https://gitlab.com/dimitrieh"},"type":"ISSUE","assignee":{"id":626804,"username":"pedroms","name":"Pedro Moreira da Silva","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c306f087d191ac15549f3c11e3bed321?s=80\u0026d=identicon","web_url":"https://gitlab.com/pedroms"},"user_notes_count":11,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/4232","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/4232","notes":"https://gitlab.com/api/v4/projects/278964/issues/4232/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/4232/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#4232","relative":"#4232","full":"gitlab-org/gitlab#4232"},"severity":"UNKNOWN","moved_to_id":15783204,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":8054513,"iid":4231,"project_id":278964,"title":"Geo selective sync cleanup worker uses inefficient `NOT IN` SQL query","description":"The following discussion from !3595 should be addressed:\n\n- [ ] @nick.thomas started a [discussion](https://gitlab.com/gitlab-org/gitlab-ee/merge_requests/3595#note_50136160): \n\n    \u003e OK, so this worker is only used when a `RepositoriesChangedEvent` is issued from the primary to the secondary. It signals that the geo node's selective sync list has changed.\n    \u003e \n    \u003e The query itself is problematic - it ends up looking slightly like this:\n    \u003e \n    \u003e ```sql\n    \u003e SELECT \"projects\".* FROM \"projects\" WHERE (\"projects\".\"id\" NOT IN (SELECT \"projects\".\"id\" FROM \"projects\" WHERE \"projects\".\"id\" IN (...)))\n    \u003e ```\n    \u003e \n    \u003e More details about `NOT IN` and alternatives: https://explainextended.com/2009/09/16/not-in-vs-not-exists-vs-left-join-is-null-postgresql/\n    \u003e \n    \u003e Fortunately, we don't send that event when we move from selective sync to full sync, so this is probably more or less OK as the list of IDs will tend to be fairly short.\n    \u003e \n    \u003e I don't think this MR is making this any *worse*, so perhaps we can address this in a follow-up issue, since it's not directly related to this MR.\n\nWe need to think of how best to replace this query, as it's something of a liability.\n\nOpening gambit: How about deprecating/renaming this event, in favour of passing a list of projects that have been **removed** from selective sync? This is what we're really interested in, and we can't calculate it on the secondary from the data we have.\n\n```ruby\ncreate_table :geo_selective_sync_project_no_longer_tracked_events do |t|\n  t.integer :geo_node_id\n  t.integer :project_id \nend\n```\n\n(terrible name, I know)\n\nWe'd handle each event individually on the secondary, so we could eliminate the `NOT IN` logic entirely.","state":"closed","created_at":"2017-12-05T13:13:55.930Z","updated_at":"2020-01-21T15:57:59.042Z","closed_at":"2019-05-07T12:09:10.790Z","closed_by":{"id":572018,"username":"nick.thomas","name":"Nick Thomas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/572018/avatar.png","web_url":"https://gitlab.com/nick.thomas"},"labels":["Deliverable","Enterprise Edition","bug::performance","devops::systems","group::geo","type::bug","workflow::in review"],"milestone":{"id":655280,"iid":28,"group_id":9970,"title":"11.11","description":"","state":"closed","created_at":"2018-09-21T19:08:37.027Z","updated_at":"2019-06-10T14:39:00.009Z","due_date":"2019-05-22","start_date":"2019-04-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/28"},"assignees":[{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"}],"author":{"id":572018,"username":"nick.thomas","name":"Nick Thomas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/572018/avatar.png","web_url":"https://gitlab.com/nick.thomas"},"type":"ISSUE","assignee":{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"},"user_notes_count":12,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/4231","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/4231","notes":"https://gitlab.com/api/v4/projects/278964/issues/4231/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/4231/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#4231","relative":"#4231","full":"gitlab-org/gitlab#4231"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":576,"epic":{"id":2208,"iid":576,"title":"Geo: Selective Sync Enhancements","url":"/groups/gitlab-org/-/epics/576","group_id":9970,"human_readable_end_date":"Aug 22, 2019","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":8042028,"iid":4221,"project_id":278964,"title":"Board scope shouldn't persist \"-1\" when one selects \"Any weight\" or \"Any milestone\"","description":"Currently we persist `-1` when selecting \"Any weight\" or \"Any milestone\" on https://docs.gitlab.com/ee/user/project/issue_board.html#board-with-configuration (`Board#weight`, `Board#milestone_id`). Ideally, a `nil` value should be enforced in that case.\n\nThe main reason why is consistency:\n\n- `Issue#weight` persists `-1` for `No Weight`\n- `Board#weight` persists `-1` for `Any Weight` (blank state)\n\nIn the latter, there's no reason to persist `-1` at all as ~frontend doesn't send anything to ~backend whether the `board.weight` is `nil` or `-1`. Also, we end up maintaining two different values meaning the same thing in a column.\n\nAdditionally, the following migrations should take place:\n\n```sql\nupdate boards set weight = null where weight = -1\nupdate boards set milestone_id = null where milestone_id = -1\n```","state":"closed","created_at":"2017-12-04T20:29:47.384Z","updated_at":"2022-05-19T16:44:33.771Z","closed_at":"2019-08-09T08:45:19.243Z","closed_by":{"id":1212235,"username":"winh","name":"Inactive Account","state":"active","avatar_url":"https://secure.gravatar.com/avatar/e34b010c96ff3f44c62cddf66607232a?s=80\u0026d=identicon","web_url":"https://gitlab.com/winh"},"labels":["Category:Team Planning","Enterprise Edition","backend","boards","database","devops::plan","frontend","group::project management","maintenance::refactor","missed-SLO","missed:12.1","priority::2","severity::3","type::bug","workflow::in dev"],"milestone":{"id":693521,"iid":35,"group_id":9970,"title":"12.2","description":"https://about.gitlab.com/releases/2019/08/22/gitlab-12-2-released","state":"closed","created_at":"2018-10-30T16:48:32.567Z","updated_at":"2020-04-27T16:30:20.799Z","due_date":"2019-08-22","start_date":"2019-07-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/35"},"assignees":[{"id":3717078,"username":"cablett","name":"charlie ablett","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3717078/avatar.png","web_url":"https://gitlab.com/cablett"}],"author":{"id":11493,"username":"oswaldo","name":"Oswaldo Ferreira","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11493/avatar.png","web_url":"https://gitlab.com/oswaldo"},"type":"ISSUE","assignee":{"id":3717078,"username":"cablett","name":"charlie ablett","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3717078/avatar.png","web_url":"https://gitlab.com/cablett"},"user_notes_count":13,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/4221","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/4221","notes":"https://gitlab.com/api/v4/projects/278964/issues/4221/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/4221/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#4221","relative":"#4221","full":"gitlab-org/gitlab#4221"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":8038172,"iid":4218,"project_id":278964,"title":"Elasticsearch 6 support: migrate from parent/child relationships to joins","description":"Elasticsearch 6 doesn't support creating new indexes with the `_parent` relationship. It will be removed altogether in ES7. The replacement is the `join` relationship.\n\nJoins are supported in ES5 as well (after 5.6), so we should be able to move to it to support ES5-ES7.\n\nIt doesn't solve scalability / index size problems on large installations, but it's still worth doing as a (relatively) quick change while we work on #3217\n\n--- \n\nElasticsearch 6 was released in November. It has only a couple [breaking changes](https://www.elastic.co/guide/en/elasticsearch/reference/6.x/breaking-changes-6.0.html) - I'm not sure if any affect the features we use. \n\nLet's set the specs to run against 6.0, do some manual testing, and see if we can mark it as supported or if extra work is necessary. \n\n\nhttps://gitlab.zendesk.com/agent/tickets/85884 \n\ncc/ @nick.thomas @vsizov","state":"closed","created_at":"2017-12-04T15:28:48.482Z","updated_at":"2022-05-19T16:44:33.550Z","closed_at":"2018-10-19T04:05:51.349Z","closed_by":{"id":572018,"username":"nick.thomas","name":"Nick Thomas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/572018/avatar.png","web_url":"https://gitlab.com/nick.thomas"},"labels":["Enterprise Edition","advanced search","backend","customer","deprecation","devops::plan","priority::3","severity::3","type::feature"],"milestone":{"id":567672,"iid":20,"group_id":9970,"title":"11.5","description":"","state":"closed","created_at":"2018-06-14T17:32:22.627Z","updated_at":"2018-12-20T06:50:07.124Z","due_date":"2018-11-22","start_date":"2018-10-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/20"},"assignees":[{"id":590748,"username":"mdelaossa","name":"Mario de la Ossa","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/590748/avatar.png","web_url":"https://gitlab.com/mdelaossa"}],"author":{"id":13356,"username":"dblessing","name":"Drew Blessing","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b5bf44866b4eeafa2d8114bfe15da02f?s=80\u0026d=identicon","web_url":"https://gitlab.com/dblessing"},"type":"ISSUE","assignee":{"id":590748,"username":"mdelaossa","name":"Mario de la Ossa","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/590748/avatar.png","web_url":"https://gitlab.com/mdelaossa"},"user_notes_count":40,"merge_requests_count":1,"upvotes":14,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/4218","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/4218","notes":"https://gitlab.com/api/v4/projects/278964/issues/4218/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/4218/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#4218","relative":"#4218","full":"gitlab-org/gitlab#4218"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":153,"epic":{"id":274,"iid":153,"title":"Rollout Advanced Global Search  on GitLab.com","url":"/groups/gitlab-org/-/epics/153","group_id":9970,"human_readable_end_date":"Jul 13, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":8036062,"iid":4217,"project_id":278964,"title":"Investigate SAML/LDAP integration for GitLab.com","description":"### Description\n\nCustomers on GitLab.com who have LDAP need to be able to integrate their authorisation service.\n\n### Proposal\n\n**The first deliverable milestone should be to define the scope of this issue and answer the questions below:**\n\n1. Groups should be able to configure SAML authentication for a top-level group (not a subgroup)\n2. How do we deal with existing accounts who are already added to the group?\n3. Can an existing account be linked to an external identity - e.g. if the user already has personal projects?\n4. Is the simplest thing possible to enforce new account creation?\n5. How does the group page appear to an authorised or unauthenticated user?\n6. How does somebody login to GitLab or to the group?\n7. How do we retrieve group information so that we can do similar capability to Group Sync (https://gitlab.com/gitlab-org/gitlab-ee/issues/118)\n\n### Links / references\n- Screenshots of the configuration process taken during the discovery phase: https://drive.google.com/drive/folders/103gAm1qmBlYwG6f-aT9thrNbcPRD1KH5?usp=sharing\n- Notes: https://docs.google.com/document/d/13Vjhdl3VNr6wM1QFNAGabBp69DsjCDhX5k6ocfMcoGA/edit\n- Slack channel: https://gitlab.slack.com/messages/C8B6WPDH7","state":"closed","created_at":"2017-12-04T12:52:37.233Z","updated_at":"2019-08-12T15:44:09.005Z","closed_at":"2018-01-10T16:50:20.808Z","closed_by":null,"labels":["Deliverable","Enterprise Edition","GitLab.com Priority","UX","authentication","backend","ldap","type::feature","workflow::in dev"],"milestone":{"id":404412,"iid":7,"group_id":9970,"title":"10.5","description":"https://about.gitlab.com/releases/2018/02/22/gitlab-10-5-released","state":"closed","created_at":"2017-11-02T10:41:09.107Z","updated_at":"2020-04-27T16:30:54.473Z","due_date":"2018-02-22","start_date":"2018-01-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/7"},"assignees":[{"id":626804,"username":"pedroms","name":"Pedro Moreira da Silva","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c306f087d191ac15549f3c11e3bed321?s=80\u0026d=identicon","web_url":"https://gitlab.com/pedroms"},{"id":654619,"username":"jamedjo","name":"James Edwards-Jones","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/654619/avatar.png","web_url":"https://gitlab.com/jamedjo"}],"author":{"id":863091,"username":"mydigitalself","name":"Mike Bartlett","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/863091/avatar.png","web_url":"https://gitlab.com/mydigitalself"},"type":"ISSUE","assignee":{"id":626804,"username":"pedroms","name":"Pedro Moreira da Silva","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c306f087d191ac15549f3c11e3bed321?s=80\u0026d=identicon","web_url":"https://gitlab.com/pedroms"},"user_notes_count":8,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/4217","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/4217","notes":"https://gitlab.com/api/v4/projects/278964/issues/4217/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/4217/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#4217","relative":"#4217","full":"gitlab-org/gitlab#4217"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":40,"epic":{"id":85,"iid":40,"title":"Basic group-level SSO for GitLab.com (SAML)","url":"/groups/gitlab-org/-/epics/40","group_id":9970,"human_readable_end_date":"Jun 22, 2018","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":8035709,"iid":4216,"project_id":278964,"title":"External Policy Classification Control","description":"### Description\n\nIn highly controlled environments, it may be necessary for access policy to be controlled by an external service that permits access based on project classification and user access.\n\n### Proposal\n\n1. Configuration\n  * GitLab’s Admin Area will include a section in Settings for “External Classification Policy Authorisation”\n  * The setting may be enabled or disabled through a checkbox form field\n  * When the setting is enabled, further configuration is displayed in the Admin Area\n    * External Authorisation Service URL\n2. Creating \u0026 Editing a Project\n   * If \"External Classification Policy Authorisation\" is enabled, a new section is added below \"Project Description\" called \"Classification Policy\"\n   * Display text input area titled \"Classification Label\" in this section\n   * After creating or editing the project, call the External Authorisation Service URL passing:\n     * user_identifier (required)\n     * project_classification_label (required)\n     * user_ldap_dn (optional)\n   * A 200 status from the external service should allow succesful project creation or editing\n   * A failed response should display an error with the JSON \"reason\" response displayed if available.\n     * If the service times out, display \"External Policy Server did not respond\". \n     * The timout value should be configurable and default to 500ms\n3. Accessing a project\n   * When the “External Classification Policy Authorisation” setting is enabled, call the External Authorisation Service URL when accessing a project passing:\n      * user_identifier (required)\n      * project_classification_label (required)\n      * user_ldap_dn (optional)\n4. Viewing a project\n   * In the top-right corner of all project pages, display the classification label of the project\n4. Disabling cross-project pages\n    * If “External Authorisation” is enabled, GitLab will further block pages and functionality that render cross-project data. That includes:\n      * most pages under Dashboard (Activity, Milestones, Snippets, Assigned Merge Requests, Assigned Issues, Todos) \n      * under a specific group (Activity, Contribution Analytics, Issues, Issue Boards, Labels, Milestones, Merge Requests). \n      * Global and Group Search should be disabled\n5. Caching response\n   * Responses from the external URL should be cached for 6hrs by default and should be possible to change in the settings.","state":"closed","created_at":"2017-12-04T12:38:23.623Z","updated_at":"2022-08-08T08:01:41.230Z","closed_at":"2018-02-23T09:14:28.700Z","closed_by":null,"labels":["Deliverable","Enterprise Edition","External Authorization","GitLab Premium","authentication","backend","direction","type::feature","workflow::in review"],"milestone":{"id":416486,"iid":8,"group_id":9970,"title":"10.6","description":"https://about.gitlab.com/releases/2018/03/22/gitlab-10-6-released","state":"closed","created_at":"2017-11-21T20:05:35.697Z","updated_at":"2020-04-27T16:30:32.220Z","due_date":"2018-03-22","start_date":"2018-02-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/8"},"assignees":[{"id":171554,"username":"reprazent","name":"Bob Van Landuyt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/171554/avatar.png","web_url":"https://gitlab.com/reprazent"},{"id":1187333,"username":"jramsay-gitlab","name":"James Ramsay (ex-GitLab)","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1187333/avatar.png","web_url":"https://gitlab.com/jramsay-gitlab"}],"author":{"id":863091,"username":"mydigitalself","name":"Mike Bartlett","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/863091/avatar.png","web_url":"https://gitlab.com/mydigitalself"},"type":"ISSUE","assignee":{"id":171554,"username":"reprazent","name":"Bob Van Landuyt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/171554/avatar.png","web_url":"https://gitlab.com/reprazent"},"user_notes_count":10,"merge_requests_count":1,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/4216","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":6,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/4216","notes":"https://gitlab.com/api/v4/projects/278964/issues/4216/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/4216/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#4216","relative":"#4216","full":"gitlab-org/gitlab#4216"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":64,"epic":{"id":125,"iid":64,"title":"Platform: Policy Control","url":"/groups/gitlab-org/-/epics/64","group_id":9970,"human_readable_end_date":"Apr 22, 2018","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":8013977,"iid":4212,"project_id":278964,"title":"DR: document process for planned failover","description":"We're making it easier to promote a secondary to primary in 2-node (1 primary, 1 secondary) configurations https://gitlab.com/gitlab-org/gitlab-ee/issues/1921 and for n-node (1 primary, n-1 secondary) configurations https://gitlab.com/gitlab-org/gitlab-ee/issues/4130. This might be done in unplanned disaster scenarios, but can also be used for scheduled migrations from one location to another.\n\nIn unplanned situations it is possible for some data to be lost because people µay be using the primary up until and even during the disaster. However, for planned migrations, we should make recommendations about this.","state":"closed","created_at":"2017-12-01T19:41:06.410Z","updated_at":"2019-12-11T20:09:24.653Z","closed_at":"2017-12-08T21:19:41.252Z","closed_by":null,"labels":["Category:Disaster Recovery","Enterprise Edition","devops::systems","group::geo"],"milestone":null,"assignees":[],"author":{"id":1187333,"username":"jramsay-gitlab","name":"James Ramsay (ex-GitLab)","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1187333/avatar.png","web_url":"https://gitlab.com/jramsay-gitlab"},"type":"ISSUE","assignee":null,"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/4212","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/4212","notes":"https://gitlab.com/api/v4/projects/278964/issues/4212/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/4212/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#4212","relative":"#4212","full":"gitlab-org/gitlab#4212"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":17,"epic":{"id":24,"iid":17,"title":"Geo: disaster recovery (single-secondary)","url":"/groups/gitlab-org/-/epics/17","group_id":9970,"human_readable_end_date":"Feb 7, 2018","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":8013822,"iid":4211,"project_id":278964,"title":"DR: document process for bring a demoted primary back online","description":"We're making it easier to promote a secondary to primary in 2-node (1 primary, 1 secondary) configurations https://gitlab.com/gitlab-org/gitlab-ee/issues/1921 and for n-node (1 primary, n-1 secondary) configurations https://gitlab.com/gitlab-org/gitlab-ee/issues/4130. In most disaster situations (unplanned), the customer will want to bring the original instance back online because they would presumably have most users geographically closest to the original primary.\n\nWe should document and test the procedure for this.","state":"closed","created_at":"2017-12-01T19:13:51.607Z","updated_at":"2019-12-11T20:09:25.428Z","closed_at":"2018-02-12T16:45:04.181Z","closed_by":null,"labels":["Category:Disaster Recovery","Enterprise Edition","devops::systems","group::geo","workflow::in dev"],"milestone":{"id":404412,"iid":7,"group_id":9970,"title":"10.5","description":"https://about.gitlab.com/releases/2018/02/22/gitlab-10-5-released","state":"closed","created_at":"2017-11-02T10:41:09.107Z","updated_at":"2020-04-27T16:30:54.473Z","due_date":"2018-02-22","start_date":"2018-01-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/7"},"assignees":[{"id":59678,"username":"vsizov","name":"Valery Sizov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/59678/avatar.png","web_url":"https://gitlab.com/vsizov"}],"author":{"id":1187333,"username":"jramsay-gitlab","name":"James Ramsay (ex-GitLab)","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1187333/avatar.png","web_url":"https://gitlab.com/jramsay-gitlab"},"type":"ISSUE","assignee":{"id":59678,"username":"vsizov","name":"Valery Sizov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/59678/avatar.png","web_url":"https://gitlab.com/vsizov"},"user_notes_count":14,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/4211","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/4211","notes":"https://gitlab.com/api/v4/projects/278964/issues/4211/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/4211/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#4211","relative":"#4211","full":"gitlab-org/gitlab#4211"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":17,"epic":{"id":24,"iid":17,"title":"Geo: disaster recovery (single-secondary)","url":"/groups/gitlab-org/-/epics/17","group_id":9970,"human_readable_end_date":"Feb 7, 2018","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":8013720,"iid":4210,"project_id":278964,"title":"Warning about the scale of un-replicated data in DR failover","description":"When a disaster occurs and a secondary is promoted, there may be data that successfully saved to the primary but was not replicated to the secondary before the disaster occurred. This data should be treated as lost.\n\nThe administrator should be given a sense of scale of the quantity of data loss.\n\n@brodock describes this https://gitlab.com/gitlab-org/gitlab-ee/issues/4209#note_49788859:\n\n\u003e\u003e\u003e\nLet's consider this overall state:\n\nprimary `last event` id is: 150,\nsecondary `last processed event` id: 130\n\nso when we promote secondary, we are actually missing 20 events to replicate. If we save the delta that is missing somewhere, we can then reconsiliate the state when the old primary is online again\n\nwhen using hashed storage, we can be sure that the only events there are safe to be re-processed after\n\n-----\n\nThe major issue is how to reconciliate the database, if database is too far behind we loose whatever is there, and there is no easy way to \"rebuild\" it.\n\nSo, failing over is a destructive action from the point of view of non replicated data.\n\nIn the future, when we add checksum to repositories, we may be able to point out repositories that diverge (when we get old primary back online, in a reconciliation state).\n\nThe rationale here is that no one is going to use GitLab or git to process payments or do anything that requires global ACK in a transaction level.\n\nSo:\n\n1- Losing 10 minutes of data is better than 1 whole company can't work because primary is down\n2- People have important code replicated in their machines anyway (that's the premise of git), so they can push again to the repositories whatever needs to be pushed when a new primary is promoted\n3- May loose changes in issues/merge request and comments (although this is mitigated as well because people may receive email notifications with the changes, so if anything is utterly important, someone have a copy in their mailboxes.\n\nThat's the trad-eoff of asynchronous replication vs synchronous. We need to be clear with our customers about what they should expect and the implications of doing failover in that state.\n\u003e\u003e\u003e\n\n### Proposal\n\nDoes the tracking database have information we can use to help the admin understand the number of events that will be 'lost' or very difficult to recover? I'm imagining feedback in the `promote-secondary-to-primary` task like:\n\n```\nAt least 28 events have not been replicated from the primary.\nLast known event: 112,342 (2017-11-29T12:21:24.123Z)\nLast replicated event: 112,314 (2017-11-29T12:21:07.789Z)\n```","state":"closed","created_at":"2017-12-01T18:58:23.016Z","updated_at":"2020-11-23T13:31:48.253Z","closed_at":"2020-11-23T13:31:48.214Z","closed_by":{"id":3944199,"username":"fzimmer","name":"Fabian Zimmer","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3944199/avatar.png","web_url":"https://gitlab.com/fzimmer"},"labels":["Category:Disaster Recovery","Enterprise Edition","Geo Administration","[deprecated] Accepting merge requests","devops::systems","group::geo","section::enablement"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":1187333,"username":"jramsay-gitlab","name":"James Ramsay (ex-GitLab)","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1187333/avatar.png","web_url":"https://gitlab.com/jramsay-gitlab"},"type":"ISSUE","assignee":null,"user_notes_count":16,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/4210","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/4210","notes":"https://gitlab.com/api/v4/projects/278964/issues/4210/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/4210/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#4210","relative":"#4210","full":"gitlab-org/gitlab#4210"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":590,"epic":{"id":2264,"iid":590,"title":"Geo: Promotion, Demotion and Failover","url":"/groups/gitlab-org/-/epics/590","group_id":9970,"human_readable_end_date":"Dec 31, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":24659258,"iid":20298,"project_id":278964,"title":"Labels management is not accessible when Issues are disabled","description":"When Issues are disabled in a project you can access labels page by /user.name/project.name/labels or by selecting Manage Labels options at New Merge Request page Labels dropdown. But there is no other way to access this page. Since Issues is disabled in project, left rail item is not displayed, so all sub items in it as well. \n\nIn my opinion, when Issues are disabled, it should not hide Label management, since labels are also available in Merge Request and discussions.\n\n### Solution\n\nIf `Issues` are disabled in the left sidebar, `Labels` becomes a top level navigation item (in the left sidebar).\n\n![labels-example](/uploads/ceb1e0e9783521b43e056a1426cd2233/labels-example.png)","state":"closed","created_at":"2017-11-30T15:41:14.181Z","updated_at":"2022-05-19T16:44:43.805Z","closed_at":"2019-12-12T23:11:46.015Z","closed_by":{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"},"labels":["Create [DEPRECATED]","Deliverable","UX","default-priority","devops::plan","frontend","group::project management","issues","labels","merge requests","missed-deliverable","missed:12.5","priority::3","severity::2","type::bug","workflow::in dev"],"milestone":{"id":891797,"iid":40,"group_id":9970,"title":"12.6","description":"https://about.gitlab.com/releases/2019/12/22/gitlab-12-6-released","state":"closed","created_at":"2019-05-31T08:38:03.539Z","updated_at":"2020-04-27T16:27:13.329Z","due_date":"2019-12-17","start_date":"2019-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/40"},"assignees":[{"id":4554611,"username":"hollyreynolds","name":"Holly Reynolds","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4554611/avatar.png","web_url":"https://gitlab.com/hollyreynolds"},{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"}],"author":{"id":1704049,"username":"ssanri","name":"Serdar Sanri","state":"active","avatar_url":"https://secure.gravatar.com/avatar/0d7f7e660639447e7b129d19befb5934?s=80\u0026d=identicon","web_url":"https://gitlab.com/ssanri"},"type":"ISSUE","assignee":{"id":4554611,"username":"hollyreynolds","name":"Holly Reynolds","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4554611/avatar.png","web_url":"https://gitlab.com/hollyreynolds"},"user_notes_count":30,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/20298","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/20298","notes":"https://gitlab.com/api/v4/projects/278964/issues/20298/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/20298/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#20298","relative":"#20298","full":"gitlab-org/gitlab#20298"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":7988462,"iid":4195,"project_id":278964,"title":"Remove ignore_column statements in app/models/geo_node.rb","description":"The following discussion from !3553 should be addressed:\n\n- [ ] @nick.thomas started a [discussion](https://gitlab.com/gitlab-org/gitlab-ee/merge_requests/3553#note_49555001): \n\n    \u003e Zero-downtime migration procedure. These columns are removed in a post-deployment migration. These references should be removed in a follow-up issue.","state":"closed","created_at":"2017-11-30T13:20:06.972Z","updated_at":"2019-12-11T20:09:41.407Z","closed_at":"2017-12-19T15:51:00.156Z","closed_by":null,"labels":["Enterprise Edition","devops::systems","group::geo","workflow::in review"],"milestone":{"id":360828,"iid":4,"group_id":9970,"title":"10.4","description":"https://about.gitlab.com/releases/2018/01/22/gitlab-10-4-released","state":"closed","created_at":"2017-08-16T16:52:35.085Z","updated_at":"2020-04-27T16:31:17.439Z","due_date":"2018-01-22","start_date":"2017-12-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/4"},"assignees":[{"id":572018,"username":"nick.thomas","name":"Nick Thomas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/572018/avatar.png","web_url":"https://gitlab.com/nick.thomas"}],"author":{"id":572018,"username":"nick.thomas","name":"Nick Thomas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/572018/avatar.png","web_url":"https://gitlab.com/nick.thomas"},"type":"ISSUE","assignee":{"id":572018,"username":"nick.thomas","name":"Nick Thomas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/572018/avatar.png","web_url":"https://gitlab.com/nick.thomas"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/4195","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/4195","notes":"https://gitlab.com/api/v4/projects/278964/issues/4195/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/4195/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#4195","relative":"#4195","full":"gitlab-org/gitlab#4195"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":7984205,"iid":4193,"project_id":278964,"title":"IP whitelisting for Geo-enabling functionality in the primary","description":"### Description\n\nCurrently, Geo user authentication, file and repository synchronization works by having the secondary connect to the primary with privileged functionality, mostly mediated via JSON web tokens. However, we allow those connections to come from any IP in the world.\n\n### Proposal\n\nAdd an IP whitelist to the `geo_nodes` table. If filled in, Geo-specific routes and JWTs generated by a particular secondary will only be considered valid by the primary if the traffic is sourced from one of the listed IPs or ranges.\n\nThis raises the barrier to exploitation - an attacker able to intercept traffic between secondary and primary is *not* necessarily also able to originate traffic from an arbitrary source IP.\n\nAs every secondary has access to every other secondary's private tokens (they are stored in the replicated database), this also prevents secondaries from impersonating each other. That's unlikely to be a huge concern, but it is neater.\n\nFor this issue, we are adding the IP whitelist at the database level only. If this functionality proves useful, we can add a UI component at a later stage. \n\n\n/cc @jramsay @westurner @briann","state":"closed","created_at":"2017-11-30T10:14:47.883Z","updated_at":"2019-12-11T20:09:44.519Z","closed_at":"2019-04-05T21:04:22.149Z","closed_by":{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"},"labels":["Enterprise Edition","Geo Administration","devops::systems","frontend","group::geo","security","type::feature","workflow::in review","workflow::ready for development"],"milestone":{"id":655279,"iid":27,"group_id":9970,"title":"11.10","description":"","state":"closed","created_at":"2018-09-21T19:08:16.261Z","updated_at":"2019-05-21T09:17:49.051Z","due_date":"2019-04-22","start_date":"2019-03-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/27"},"assignees":[{"id":59678,"username":"vsizov","name":"Valery Sizov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/59678/avatar.png","web_url":"https://gitlab.com/vsizov"}],"author":{"id":572018,"username":"nick.thomas","name":"Nick Thomas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/572018/avatar.png","web_url":"https://gitlab.com/nick.thomas"},"type":"ISSUE","assignee":{"id":59678,"username":"vsizov","name":"Valery Sizov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/59678/avatar.png","web_url":"https://gitlab.com/vsizov"},"user_notes_count":20,"merge_requests_count":1,"upvotes":4,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/4193","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/4193","notes":"https://gitlab.com/api/v4/projects/278964/issues/4193/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/4193/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#4193","relative":"#4193","full":"gitlab-org/gitlab#4193"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":24659249,"iid":20295,"project_id":278964,"title":"In-browser Review Apps for iOS/Android development (using appetize.io)","description":"### Description\n\nToday a lot of iOS/Android developers are using GitLab CI. They, however, don't use Review App because of the technical difficulty. A server needs to run emulator, streaming the screen and provides interactive interface over browser.\n\nBut from Product manager, designers and clients perspectives, Review App has a significant meaning rather than tests. They want to know the details of behavior and animations on the development branchקs. They want to know the differences between iOS versions, or screen sizes. But it's cumbersome to pull the changes, launch Android studio, compile, and run it locally or install on own phone.\n\nOur Review App is feature complete and nothing to expand. Instead, we can use external services such as https://appetize.io/ or something mentioned in this [blog post](https://medium.com/@AndreSand/android-emulator-on-docker-container-f20c49b129ef) to provide an emulator over browser. I think it's worth documenting that they can see development apps without painful \u0026 repetitive installation flow.\n\n### Proposal\n\nCreate a document to run Review APP with https://appetize.io/.\nThis will require using a mobile app sample project and deploying it to https://appetize.io/ and documenting the steps so that our customers can use this solution.\nNote - appitzie.io supports both iOS and android but for the first iteration, support for either of them is sufficient.\n\n### Links / references\n\nSample project that can be used \nhttps://gitlab.com/jyavorska/flappyokr\n\n\n/cc @markpundsack @bikebilly @ayufan","state":"closed","created_at":"2017-11-30T06:30:37.547Z","updated_at":"2020-06-13T12:47:04.838Z","closed_at":"2020-05-12T18:37:09.372Z","closed_by":{"id":3031775,"username":"jhampton","name":"John Hampton","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3031775/avatar.png","web_url":"https://gitlab.com/jhampton"},"labels":["Category:Review Apps","Release::P2","[deprecated] Accepting merge requests","cicd::active","devops::release","direction","documentation","group::release","mobile publishing","type::feature","workflow::in dev"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[{"id":262533,"username":"afontaine","name":"Andrew Fontaine","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/262533/avatar.png","web_url":"https://gitlab.com/afontaine"}],"author":{"id":758045,"username":"shinya.maeda","name":"Shinya Maeda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/758045/avatar.png","web_url":"https://gitlab.com/shinya.maeda"},"type":"ISSUE","assignee":{"id":262533,"username":"afontaine","name":"Andrew Fontaine","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/262533/avatar.png","web_url":"https://gitlab.com/afontaine"},"user_notes_count":51,"merge_requests_count":1,"upvotes":4,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/20295","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/20295","notes":"https://gitlab.com/api/v4/projects/278964/issues/20295/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/20295/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#20295","relative":"#20295","full":"gitlab-org/gitlab#20295"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2372,"epic":{"id":16828,"iid":2372,"title":"Review Apps For Deployment to Mobile","url":"/groups/gitlab-org/-/epics/2372","group_id":9970},"iteration":null,"health_status":null},{"id":7969546,"iid":4189,"project_id":278964,"title":"Full Code Quality Report","description":"### Problem to solve\n\nGitLab [Code Quality](https://docs.gitlab.com/ee/user/project/merge_requests/code_quality.html) runs on code and creates a report that is then shown in the MR widget as the changes (+/-) related to that specific branch. The current functionality provides great insights about how a merge request would changed the code quality of the target branch. This is limiting to [Sasha ](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer) who may want to increase quality of the project for any number of reasons but cannot see the code quality report easily to iterate.\n\n### Intended users\n\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* A QE or SDET may also make use of this to solve the same problems Sasha has.\n\n### Further details\n\n**Use Cases**\n\n**Sasha:**\n\n* When I want to increase the code quality of a project, I need a full report of current code quality, so that I can quickly identify code that can be improved in quality AND deliver value to customers.\n\n**QE/SDET:**\n\n* When I am looking for areas to test, I want a report of code quality deficiencies, so that I can write tests to find/fix software that will hinder value delivery to customers.\n\n### Proposal\n\n\u003c!-- How are we going to solve the problem? Try to include the user journey! https://about.gitlab.com/handbook/journeys/#user-journey --\u003e\n\nIf a codequality job is defined the full code quality report should be made available in the Job view in the same place the [security report](https://gitlab.com/gitlab-org/gitlab/issues/3776) is today.\n\nIf the report contents cannot be rendered in a way that makes sense to users and is actionable or it takes excessively long to load (10 seconds+) the feature will not be useful in driving the outcomes they want. \n\nSome considerations here would be:\n\n* Pagination for the issues if \u003e 25\n* A link to the file in question as is shown in the MR widget\n* Text of the error as is shown in the MR widget\n* ~~Stretch: Making the report contents sortable on the remediation points value. By default sort descending (lowest values at top).~~ A new issue (https://gitlab.com/gitlab-org/gitlab/-/issues/209795) was created to track this enhancement.\n* Only the most recent code quality report will be displayed. Users can retrieve reports from previous pipelines from the artifact browser there.\n* If no report exists to render due to expiration show a message indicating why the full report is missing.\n\n### Permissions and Security\n\n\u003c!-- What permissions are required to perform the described actions? Are they consistent with the existing permissions as documented for users, groups, and projects as appropriate? Is the proposed behavior consistent between the UI, API, and other access methods (e.g. email replies)?--\u003e\n\nExisting permissions apply.\n\n### Documentation\n\n\u003c!-- See the Feature Change Documentation Workflow https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html\nAdd all known Documentation Requirements here, per https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html#documentation-requirements\nIf this feature requires changing permissions, this document https://docs.gitlab.com/ee/user/permissions.html must be updated accordingly. --\u003e\n\n* Update the Code Quality documentation to reference the new capabilities.\n\n### Testing\n\n\u003c!-- What risks does this change pose? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing? See the test engineering process for further help: https://about.gitlab.com/handbook/engineering/quality/test-engineering/ --\u003e\n\n### What does success look like, and how can we measure that?\n\n\u003c!-- Define both the success metrics and acceptance criteria. Note that success metrics indicate the desired business outcomes, while acceptance criteria indicate when the solution is working correctly. If there is no way to measure success, link to an issue that will implement a way to measure this. --\u003e\n\n**Acceptance Criteria**\n\n* Report view gets reviewed by UX (mobile view is a stretch goal)\n* Report can be rendered in under 10 seconds on tab load\n* Report is sorted by remediation points descending on load\n* Report can still be downloaded\n\n### What is the type of buyer? \n\n\u003c!-- Which leads to: in which enterprise tier should this feature go? See https://about.gitlab.com/handbook/product/pricing/#four-tiers --\u003e\n\nThe Buyer of this functionality is the QE Manager, Development Team Lead or Engineering Leadership.\n\n### Links / references\n- https://gitlab.my.salesforce.com/0016100000KvahJ\n\n/label ~feature \n","state":"closed","created_at":"2017-11-29T13:48:54.156Z","updated_at":"2022-05-13T19:39:28.364Z","closed_at":"2020-03-16T19:06:17.816Z","closed_by":{"id":4795771,"username":"dcipoletti","name":"Daniel Cipoletti","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4795771/avatar.png","web_url":"https://gitlab.com/dcipoletti"},"labels":["CI artifacts","Category:Code Quality","GitLab Starter","UX","Verify::P1","customer","devops::verify","direction","documentation","frontend","group::pipeline insights","maturity::viable","missed-deliverable","missed:12.6","missed:12.7","missed:12.8","type::feature"],"milestone":{"id":1001916,"iid":44,"group_id":9970,"title":"12.9","description":"https://about.gitlab.com/releases/2020/03/22/gitlab-12-9-released","state":"closed","created_at":"2019-09-15T20:54:50.875Z","updated_at":"2020-09-02T11:04:41.671Z","due_date":"2020-03-17","start_date":"2020-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/44"},"assignees":[{"id":3374280,"username":"mfluharty","name":"Miranda Fluharty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3374280/avatar.png","web_url":"https://gitlab.com/mfluharty"},{"id":4795771,"username":"dcipoletti","name":"Daniel Cipoletti","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4795771/avatar.png","web_url":"https://gitlab.com/dcipoletti"}],"author":{"id":1273957,"username":"bikebilly","name":"Fabio Busatto","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1273957/avatar.png","web_url":"https://gitlab.com/bikebilly"},"type":"ISSUE","assignee":{"id":3374280,"username":"mfluharty","name":"Miranda Fluharty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3374280/avatar.png","web_url":"https://gitlab.com/mfluharty"},"user_notes_count":56,"merge_requests_count":0,"upvotes":42,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/4189","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/4189","notes":"https://gitlab.com/api/v4/projects/278964/issues/4189/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/4189/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#4189","relative":"#4189","full":"gitlab-org/gitlab#4189"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":1302,"epic":{"id":7005,"iid":1302,"title":"More valuable Code Quality Reports","url":"/groups/gitlab-org/-/epics/1302","group_id":9970,"human_readable_end_date":"Mar 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":24659223,"iid":20285,"project_id":278964,"title":"Fix CDN Loading wherever it is possible","description":"Now that we have the CDN fully activated on production we saw that there are several places where the CDN was not used but it could be. \n\nYou can easily determine if we are using CDN urls by using this script `$('img[src^=\"/uploads\"], img[src^=\"https://gitlab.com/uploads/\"]').css('border','solid 3px orange');`\n\n* [ ]  /explore is not using on even public projects the CDN \n* [ ]  Todo List is not using the CDN for user avatars\n* [ ]  Projects dropdown in the menu is not using the correct Avatar URL's\n* [ ]  Issues page has a non CDN avatar","state":"closed","created_at":"2017-11-29T09:48:59.025Z","updated_at":"2020-11-02T12:21:40.347Z","closed_at":"2020-11-02T12:21:40.304Z","closed_by":{"id":1786152,"username":"gitlab-bot","name":"🤖 GitLab Bot 🤖","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1786152/avatar.png","web_url":"https://gitlab.com/gitlab-bot"},"labels":["auto closed","default-priority","default-severity","frontend","maintenance::refactor","priority::3","severity::3","stale","type::bug","vintage"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[{"id":1149402,"username":"timzallmann","name":"Tim Zallmann","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1149402/avatar.png","web_url":"https://gitlab.com/timzallmann"}],"author":{"id":1149402,"username":"timzallmann","name":"Tim Zallmann","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1149402/avatar.png","web_url":"https://gitlab.com/timzallmann"},"type":"ISSUE","assignee":{"id":1149402,"username":"timzallmann","name":"Tim Zallmann","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1149402/avatar.png","web_url":"https://gitlab.com/timzallmann"},"user_notes_count":4,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/20285","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":4,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 4 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/20285","notes":"https://gitlab.com/api/v4/projects/278964/issues/20285/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/20285/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#20285","relative":"#20285","full":"gitlab-org/gitlab#20285"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":7960521,"iid":4186,"project_id":278964,"title":"Add hashed storage warning to upgrade guide","description":"Place holder issue for https://gitlab.com/gitlab-org/gitlab-ee/merge_requests/3524","state":"closed","created_at":"2017-11-28T22:02:58.689Z","updated_at":"2020-05-30T11:52:24.688Z","closed_at":"2017-12-01T18:33:38.331Z","closed_by":null,"labels":["Enterprise Edition","devops::systems","docs::fix","documentation","group::geo","workflow::in dev"],"milestone":{"id":360827,"iid":3,"group_id":9970,"title":"10.3","description":"","state":"closed","created_at":"2017-08-16T16:51:52.890Z","updated_at":"2018-03-22T16:15:37.036Z","due_date":"2017-12-22","start_date":"2017-11-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/3"},"assignees":[{"id":1187333,"username":"jramsay-gitlab","name":"James Ramsay (ex-GitLab)","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1187333/avatar.png","web_url":"https://gitlab.com/jramsay-gitlab"}],"author":{"id":192328,"username":"ernstvn-gitlab","name":"Ernst van Nierop","state":"active","avatar_url":"https://secure.gravatar.com/avatar/36b7c478bbe1e079f10202afa9b30c0d?s=80\u0026d=identicon","web_url":"https://gitlab.com/ernstvn-gitlab"},"type":"ISSUE","assignee":{"id":1187333,"username":"jramsay-gitlab","name":"James Ramsay (ex-GitLab)","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1187333/avatar.png","web_url":"https://gitlab.com/jramsay-gitlab"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/4186","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/4186","notes":"https://gitlab.com/api/v4/projects/278964/issues/4186/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/4186/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#4186","relative":"#4186","full":"gitlab-org/gitlab#4186"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":7953140,"iid":4184,"project_id":278964,"title":"Object Storage Direct Object Uploader","description":"The **Direct Object Uploader** is a component that works with **Extended CarrierWave** to upload objects to Object Storage.\n\nThe bulk of the upload work is done by Workhorse, to avoid unicorn processes being locked up during the upload stage.\n\nWorkhorse will save incoming uploads directly to the object storage backend and then make an API call with a reference to the temporary file to the ruby backend.\n\nAll components which use the **Extended CarrierWave** should be able to use the **Direct Object Uploader**.\n\nAt present, only **LFS Object Storage** uses Extended CarrierWave, so this will be a good first component to move across to Direct Object Storage. \n\nBefore attachments, CI Artifacts/traces or other uploads can be moved to direct object storage using this component, they need to support extended carrierwave first.\n\n### API sequence diagrams\n\nHere follow 2 diagrams explaining interactions during LFS and artifacts uploading.\n\nThose diagrams do not have the same level of details, they can be used as starting points for implementation.\n\nLFS must be a simple subset of Artifacts ​and not 2 different flows.\n\n#### LFS\n\n```mermaid\nsequenceDiagram\n    participant r as user\n    participant w as gitlab-workhorse\n    participant u as gitlab-unicorn\n    participant os as Object Storage\n\n    activate r\n    r-\u003e\u003e+w: git push with LFS object\n    \n    w-\u003e\u003e+u: authorize\n    Note over u,os: Presigning URLs for CarrierWave cache files\n    u-\u003e\u003e+os: pre-sign PutObject\n    os--\u003e\u003e-u: presigned_url\n    u-\u003e\u003e+os: pre-sign RemoveObject\n    os--\u003e\u003e-u: presigned_url\n    u--\u003e\u003e-w: presigned_urls\n\n    w-\u003e\u003e+os: PutObject\n    os--\u003e\u003e-w: result\n \n    Note over w,os: Now we hijack the request body with object path and other metadata\n    w-\u003e\u003e+u: proxy to finalize_upload\n    u-\u003e\u003e+os: copy cache object to his final localtion\n    os--\u003e\u003e-u: \n\n   u--\u003e\u003e-r: \n   deactivate r\n   Note over w,os: now we can delete cache file\n   w-\u003e\u003e+os: RemoveObject\n   os--\u003e\u003e-w: \n   deactivate w\n```\n\n#### Artifacts\n\nThis is the artifact upload, which is way more complex than LFS.\n\nThe diagram is not completely accurate, it's just to explain interactions and API calls\n\n```mermaid\nsequenceDiagram\n    participant r as gitlab-runner\n    participant w as gitlab-workhorse\n    participant u as gitlab-unicorn\n    participant s as sidekiq\n    participant os as Object Storage\n\n    r-\u003e\u003e+w: upload_artifact\n    \n    Alt request has Content-Length || Object Storage is Google Cloud Storage\n        w-\u003e\u003e+u: authorize\n    u-\u003e\u003e+os: pre-sign PutObject\n    os--\u003e\u003e-u: presigned_url\n    u--\u003e\u003e-w: presigned_url\n\n   Note over w,os: Only on GCS we can upload without Content-Length (we need to use chunked-encoding)\n    w-\u003e\u003e+os: PutObject\n    os--\u003e\u003e-w: result\n   else\n    Loop every 10MB of file\n\n   Note over w: Write parts to disk\n    w-\u003e\u003e+u: authorize\n    u-\u003e\u003e+os: pre-sign PutObject\n    os--\u003e\u003e-u: presigned_url\n    u--\u003e\u003e-w: presigned_url\n\n    w-\u003e\u003e+os: PutObject\n    os--\u003e\u003e-w: result\n   end\n  end\n\n    w-\u003e\u003e+u: upload summary\n    Opt more than one part\n       u-Xs: merge_parts\n\n\n     end\n\n   u--\u003e\u003e-w: \n   w--\u003e\u003e-r: operation result\n\n    Opt more than one part\n    Note over s,os: Following API calls are not supported by GCS. In any case we will never upload different parts on GCS.\n    activate s\n    s-\u003e\u003e+os: CreateMultipartUpload\n    os--\u003e\u003e-s: UploadId\n    Loop each part\n         Note over s,os: No download needed, we are referring to already uploaded parts in bucket.\n         s-\u003e\u003e+os: UploadPartCopy\n         os--\u003e\u003e-s: ETag\n    end\n    s-\u003e\u003e+os: CompleteMultipartUpload\n    Note over os: ObjectStorage perform the merge\n    os--\u003e\u003e-s: \n    Loop each part\n         s-\u003e\u003e+os: RemoveObject\n         os--\u003e\u003e-s: \n    end\n    deactivate s\n    end\n```\n\n### Provider support\n\n|Provider|`chunked-encoding`|`MultiPart/UploadPart - copy`|\n|--------|------------------|-----------------------------|\n|Google CS| yes | no|\n|AWS S3| no | yes |\n|minio | no | yes |\n|ceph | no | it should, once [ceph!20002](https://github.com/ceph/ceph/pull/20002) will be merged - for more details see [ceph#22729](http://tracker.ceph.com/issues/22729) |\n|DO spaces| no | no. They claim to support MultiPart Upload, but in their [API doc](https://developers.digitalocean.com/documentation/spaces/#upload-a-part) there's no `UploadPart - Copy` |","state":"closed","created_at":"2017-11-28T15:04:37.900Z","updated_at":"2022-05-19T16:44:23.442Z","closed_at":"2018-06-06T08:44:15.818Z","closed_by":{"id":12452,"username":"ayufan","name":"Kamil Trzciński","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a285e30f35d72526fb0954e8fe7cefa?s=80\u0026d=identicon","web_url":"https://gitlab.com/ayufan"},"labels":["Category:Cloud Native Installation","Deliverable","Enterprise Edition","GCP Migration","GitLab Premium","Object Storage","devops::plan","meta","workflow::in review"],"milestone":{"id":362887,"iid":5,"group_id":9970,"title":"11.0","description":"https://about.gitlab.com/releases/2018/06/22/gitlab-11-0-released","state":"closed","created_at":"2017-08-22T11:26:37.313Z","updated_at":"2020-04-27T16:31:06.794Z","due_date":"2018-06-22","start_date":"2018-05-07","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/5"},"assignees":[{"id":376774,"username":"nolith","name":"Alessio Caiazza","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/376774/avatar.png","web_url":"https://gitlab.com/nolith"}],"author":{"id":895869,"username":"andrewn","name":"Andrew Newdigate","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/895869/avatar.png","web_url":"https://gitlab.com/andrewn"},"type":"ISSUE","assignee":{"id":376774,"username":"nolith","name":"Alessio Caiazza","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/376774/avatar.png","web_url":"https://gitlab.com/nolith"},"user_notes_count":56,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/4184","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":8,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/4184","notes":"https://gitlab.com/api/v4/projects/278964/issues/4184/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/4184/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#4184","relative":"#4184","full":"gitlab-org/gitlab#4184"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":12,"epic":{"id":14,"iid":12,"title":"Cloud-Native Compatible GitLab","url":"/groups/gitlab-org/-/epics/12","group_id":9970,"human_readable_end_date":"Sep 22, 2018","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":24659206,"iid":20277,"project_id":278964,"title":"Allow Ultimate Guests to view repository content in private projects (view-only, not pull/push)","description":"### Background\n\nToday, Guest Users on GitLab.com don't have the ability to view or pull code from Private Projects. This is frustrating for Ultimate subscribers, who feel that the Guest privileges are too restricted, that they are not useful.\n\nNote that in our self-managed Product, Guest users *do* have the ability to view and pull code on *internal* projects, but not private projects.\n\n### Proposal\n\nAdd a custom role that is limited to guest users under an Ultimate license. This custom role would grant guest users read-only access to private projects in Ultimate so that they can view code. Note that this does NOT include pulling / pushing code. That is covered in [this](https://gitlab.com/gitlab-org/gitlab/-/issues/375513) issue.\n\nWe need to build in logic for this to ensure the \"View Code\" permission added onto a Guest role and saved as a new role does not occupy a paid seat.\n\nWe did confirm with @sean_carroll and @tlinz in [this - internal only](https://gitlab.com/gitlab-org/gitlab/-/issues/373752#note_1105578641) discussion that it is possible to distinguish between viewing and pulling code.\n\nThis needs to be a new role, and customers should be able to opt in to using it, rather than to have it forced on them. Some customers do not want the current Guest user to have any more permissions than it already does, and doing this without a breaking change notice is not acceptable. The current \"Guest\" role must continue to have the same permissions as it does before the change.\n\n\n### Workaround\n\nhttps://gitlab.com/gitlab-gold/tpoffenbarger/guest-user-project ([demo](https://www.youtube.com/watch?v=eS4uZYleptU\u0026t=0s))","state":"closed","created_at":"2017-11-28T13:23:37.720Z","updated_at":"2023-01-10T15:51:23.157Z","closed_at":"2022-12-14T18:47:31.645Z","closed_by":{"id":11997412,"username":"jessieay","name":"Jessie Young","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11997412/avatar.png","web_url":"https://gitlab.com/jessieay"},"labels":["CAB Takeaway","CAB Takeaway Q2 FY2022","Category:Permissions","Community contribution","Deliverable","Enterprise Edition","GitLab Ultimate","[deprecated] Accepting merge requests","auto updated","customer","devops::manage","frontend","group::authentication and authorization","permissions","popular proposal","potential proposal","release post item::in review","section::dev","type::feature","workflow::verification"],"milestone":{"id":2745648,"iid":83,"group_id":9970,"title":"15.8","description":"","state":"active","created_at":"2022-08-22T16:57:34.875Z","updated_at":"2022-08-22T16:57:34.875Z","due_date":"2023-01-17","start_date":"2022-12-18","expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/83"},"assignees":[{"id":11997412,"username":"jessieay","name":"Jessie Young","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11997412/avatar.png","web_url":"https://gitlab.com/jessieay"}],"author":{"id":709149,"username":"Telokis","name":"Telokis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/709149/avatar.png","web_url":"https://gitlab.com/Telokis"},"type":"ISSUE","assignee":{"id":11997412,"username":"jessieay","name":"Jessie Young","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11997412/avatar.png","web_url":"https://gitlab.com/jessieay"},"user_notes_count":155,"merge_requests_count":0,"upvotes":110,"downvotes":5,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/20277","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/20277","notes":"https://gitlab.com/api/v4/projects/278964/issues/20277/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/20277/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#20277","relative":"#20277","full":"gitlab-org/gitlab#20277"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":9360,"epic":{"id":668693,"iid":9360,"title":"Customer Facing MVC - Customizable Roles","url":"/groups/gitlab-org/-/epics/9360","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":null},{"id":7947974,"iid":4179,"project_id":278964,"title":"Add status about replication slots to Geo Primary status screen","description":"Follow on to issue #3617\n\n\nUnused replication slots can cause large amounts of log data to build up.  #3617 adds documentation, but we should add status information on the Geo primary status screen.\n\nSomething along the lines of current status items\n\n```\nReplication slots: 1/2 (50%)\n```\n\nRelated Issue: #3195","state":"closed","created_at":"2017-11-28T10:24:34.454Z","updated_at":"2019-12-11T20:09:47.966Z","closed_at":"2018-01-08T13:49:35.967Z","closed_by":null,"labels":["Enterprise Edition","devops::systems","group::geo","type::feature","workflow::in dev"],"milestone":{"id":360828,"iid":4,"group_id":9970,"title":"10.4","description":"https://about.gitlab.com/releases/2018/01/22/gitlab-10-4-released","state":"closed","created_at":"2017-08-16T16:52:35.085Z","updated_at":"2020-04-27T16:31:17.439Z","due_date":"2018-01-22","start_date":"2017-12-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/4"},"assignees":[{"id":194645,"username":"digitalmoksha","name":"Brett Walker","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/194645/avatar.png","web_url":"https://gitlab.com/digitalmoksha"}],"author":{"id":194645,"username":"digitalmoksha","name":"Brett Walker","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/194645/avatar.png","web_url":"https://gitlab.com/digitalmoksha"},"type":"ISSUE","assignee":{"id":194645,"username":"digitalmoksha","name":"Brett Walker","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/194645/avatar.png","web_url":"https://gitlab.com/digitalmoksha"},"user_notes_count":7,"merge_requests_count":2,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/4179","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/4179","notes":"https://gitlab.com/api/v4/projects/278964/issues/4179/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/4179/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#4179","relative":"#4179","full":"gitlab-org/gitlab#4179"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":24659172,"iid":20261,"project_id":278964,"title":"Improve UX for Clusters workflows","description":"### Description\n\nIn the last versions we released support for **CI/CD \u003e Clusters**, and we iterated multiple times on the topic. We changed UX a few times, and decoupled issues to get the MVP done.\n\nNow that the functionalities are done, it's time to take a look at the actual status and improve the UX of it.\n\n### Proposal\n\nReconsider the whole gitlab-ce~2024184 of this feature, and improve the flow where needed. We need to achieve the following goals:\n\n1. ensure users have a clear idea about the flows they have to follow\n1. reduce the number of steps needed to get a new cluster\n1. improve the views to better show relevant data\n\nIt's mostly a gitlab-ce~2024184/gitlab-ce~3412464 issue, but it may require some gitlab-ce~2492649 too.\n\nThis is one thing we can improve: at the moment we have a first view, with the choice between GKE clusters or Kubernetes integration:\n\n![image](/uploads/645afeda0a20e0ed8e213e858158157c/image.png)\n\nIf you choose the first option, another page is shown with OAuth2 authentication in case it's not already done:\n\n![image](/uploads/34864f8ae4897569616037f16efdd0fb/image.png)\n\nWe can improve it in the following way:\n\n1. if the user already has OAuth2 done, show the existing page (and then you'll be brought to the creation form directly\n1. if the user doesn't have OAuth2 done, show the **Sign in with Google** button directly, instead of a separate page\n\nSo, we can avoid a page just for OAuth2.","state":"closed","created_at":"2017-11-27T10:29:42.830Z","updated_at":"2021-02-22T15:16:49.342Z","closed_at":"2021-02-22T15:16:49.068Z","closed_by":{"id":4545061,"username":"nagyv-gitlab","name":"Viktor Nagy (GitLab)","state":"active","avatar_url":"https://secure.gravatar.com/avatar/fb255c1e9c228b9356af165939b3ac9b?s=80\u0026d=identicon","web_url":"https://gitlab.com/nagyv-gitlab"},"labels":["Category:Kubernetes Management","UX","[deprecated] Accepting merge requests","devops::configure","direction","frontend","group::configure","section::ops","type::feature"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":1273957,"username":"bikebilly","name":"Fabio Busatto","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1273957/avatar.png","web_url":"https://gitlab.com/bikebilly"},"type":"ISSUE","assignee":null,"user_notes_count":18,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/20261","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":6,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/20261","notes":"https://gitlab.com/api/v4/projects/278964/issues/20261/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/20261/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#20261","relative":"#20261","full":"gitlab-org/gitlab#20261"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":253,"epic":{"id":497,"iid":253,"title":"Kubernetes Integration Improvements","url":"/groups/gitlab-org/-/epics/253","group_id":9970},"iteration":null,"health_status":null},{"id":7904977,"iid":4159,"project_id":278964,"title":"ActiveRecord::StatementInvalid: PG::SyntaxError: ERROR:  subquery has too many columns","description":"https://sentry.gitlap.com/gitlab/gitlabcom/issues/110807/\n\n```\nPG::SyntaxError: ERROR:  subquery has too many columns\nLINE 1: ...d\" = \"label_links\".\"label_id\" WHERE \"issues\".\"id\" IN (SELECT...\n                                                             ^\n\n  app/models/concerns/issuable.rb:214:in `labels_hash'\n    relation.pluck(:id, 'labels.title').each do |issue_id, label|\n  app/services/issues/export_csv_service.rb:11:in `initialize'\n    @labels = @issues.labels_hash\n  lib/gitlab/metrics/instrumentation.rb:159:in `block in initialize'\n    .measure { super }\n  lib/gitlab/metrics/method_call.rb:53:in `measure'\n    retval = yield\n  lib/gitlab/metrics/instrumentation.rb:159:in `initialize'\n    .measure { super }\n...\n(59 additional frame(s) were not displayed)\n\nActiveRecord::StatementInvalid: PG::SyntaxError: ERROR:  subquery has too many columns\nLINE 1: ...d\" = \"label_links\".\"label_id\" WHERE \"issues\".\"id\" IN (SELECT...\n                                                             ^\n: SELECT \"issues\".\"id\", labels.title FROM \"issues\" LEFT OUTER JOIN \"label_links\" ON \"label_links\".\"target_id\" = \"issues\".\"id\" AND \"label_links\".\"target_type\" = 'Issue' LEFT OUTER JOIN \"labels\" ON \"labels\".\"id\" = \"label_links\".\"label_id\" WHERE \"issues\".\"id\" IN (SELECT issues.*, (SELECT MIN(\"label_priorities\".\"priority\") FROM \"labels\" INNER JOIN \"label_links\" ON \"label_links\".\"label_id\" = \"labels\".\"id\" LEFT OUTER JOIN \"label_priorities\" ON \"labels\".\"id\" = \"label_priorities\".\"label_id\" WHERE (label_priorities.project_id = issues.project_id) AND (label_links.target_id = issues.id) AND \"label_links\".\"target_type\" = 'Issue') AS highest_priority, MIN(milestones.due_date), \"issues\".\"id\" FROM \"issues\" LEFT OUTER JOIN milestones ON issues.milestone_id = milestones.id WHERE \"issues\".\"deleted_at\" IS NULL AND (\"issues\".\"state\" IN ('opened')) AND \"issues\".\"project_id\" = 1910488 GROUP BY \"issues\".\"id\"  ORDER BY MIN(milestones.due_date) ASC NULLS LAST, highest_priority ASC NULLS LAST, \"issues\".\"id\" DESC)\n\nPG::SyntaxError: ERROR:  subquery has too many columns\nLINE 1: ...d\" = \"label_links\".\"label_id\" WHERE \"issues\".\"id\" IN (SELECT...\n                                                             ^\n: SELECT \"issues\".\"id\", labels.title FROM \"issues\" LEFT OUTER JOIN \"label_links\" ON \"label_links\".\"target_id\" = \"issues\".\"id\" AND \"label_links\".\"target_type\" = 'Issue' LEFT OUTER JOIN \"labels\" ON \"labels\".\"id\" = \"label_links\".\"label_id\" WHERE \"issues\".\"id\" IN (SELECT issues.*, (SELECT MIN(\"label_priorities\".\"priority\") FROM \"labels\" INNER JOIN \"label_links\" ON \"label_links\".\"label_id\" = \"labels\".\"id\" LEFT OUTER JOIN \"label_priorities\" ON \"labels\".\"id\" = \"label_priorities\".\"label_id\" WHERE (label_priorities.project_id = issues.project_id) AND (label_links.target_id = issues.id) AND \"label_links\".\"target_type\" = 'Issue') AS highest_priority, MIN(milestones.due_date), \"issues\".\"id\" FROM \"issues\" LEFT OUTER JOIN milestones ON issues.milestone_id = milestones.id WHERE \"issues\".\"deleted_at\" IS NULL AND (\"issues\".\"state\" IN ('opened')) AND \"issues\".\"project_id\" = 1910488 GROUP BY \"issues\".\"id\"  ORDER BY MIN(milestones.due_date) ASC NULLS LAST, highest_priority ASC NULLS LAST, \"issues\".\"id\" DESC)\n```\n\n/cc @smcgivern","state":"closed","created_at":"2017-11-24T15:30:22.678Z","updated_at":"2022-05-19T16:44:21.623Z","closed_at":"2018-08-02T08:27:22.154Z","closed_by":{"id":443319,"username":"smcgivern","name":"Sean McGivern","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/443319/avatar.png","web_url":"https://gitlab.com/smcgivern"},"labels":["Enterprise Edition","Stretch","backend","customer","devops::plan","labels","type::bug","workflow::in review"],"milestone":{"id":494367,"iid":15,"group_id":9970,"title":"11.2","description":"","state":"closed","created_at":"2018-03-27T19:26:05.990Z","updated_at":"2018-11-06T19:16:51.951Z","due_date":"2018-08-22","start_date":"2018-07-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/15"},"assignees":[{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"}],"author":{"id":402401,"username":"jobbot","name":"Bot","state":"active","avatar_url":"https://secure.gravatar.com/avatar/aaa6738f1ebf25404010884af511b0e7?s=80\u0026d=identicon","web_url":"https://gitlab.com/jobbot"},"type":"ISSUE","assignee":{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"},"user_notes_count":6,"merge_requests_count":1,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/4159","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/4159","notes":"https://gitlab.com/api/v4/projects/278964/issues/4159/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/4159/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#4159","relative":"#4159","full":"gitlab-org/gitlab#4159"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":7879926,"iid":4150,"project_id":278964,"title":"Provide a command to check that secondary can access primary","description":"From Sid's demo:\n\nStep 8 in https://docs.gitlab.com/ee/gitlab-geo/database.html#step-1-configure-the-primary-server says \n\n```\nCheck to make sure your firewall rules are set so that the secondary nodes can access port `5432` on the primary node.\n```\n\nWe should provide a command that can be run to check this. And we should check if similar steps exist further along that can also use such a command.","state":"closed","created_at":"2017-11-22T23:50:12.432Z","updated_at":"2019-12-11T20:09:52.972Z","closed_at":"2017-11-23T14:19:14.860Z","closed_by":null,"labels":["Enterprise Edition","devops::systems","group::geo","type::feature"],"milestone":{"id":360827,"iid":3,"group_id":9970,"title":"10.3","description":"","state":"closed","created_at":"2017-08-16T16:51:52.890Z","updated_at":"2018-03-22T16:15:37.036Z","due_date":"2017-12-22","start_date":"2017-11-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/3"},"assignees":[{"id":572018,"username":"nick.thomas","name":"Nick Thomas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/572018/avatar.png","web_url":"https://gitlab.com/nick.thomas"}],"author":{"id":192328,"username":"ernstvn-gitlab","name":"Ernst van Nierop","state":"active","avatar_url":"https://secure.gravatar.com/avatar/36b7c478bbe1e079f10202afa9b30c0d?s=80\u0026d=identicon","web_url":"https://gitlab.com/ernstvn-gitlab"},"type":"ISSUE","assignee":{"id":572018,"username":"nick.thomas","name":"Nick Thomas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/572018/avatar.png","web_url":"https://gitlab.com/nick.thomas"},"user_notes_count":5,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/4150","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/4150","notes":"https://gitlab.com/api/v4/projects/278964/issues/4150/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/4150/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#4150","relative":"#4150","full":"gitlab-org/gitlab#4150"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":24659112,"iid":20238,"project_id":278964,"title":"Add interactive links in the Admin Area overview","description":"From Sid's geo demo, around https://youtu.be/eLu1SHlzgFM?t=5039 \n\n\"I kind of expect Geo (under Components in admin interface) to link to Geo Nodes\" \n\nApologies for grainy screenshot\n\n![Screen_Shot_2017-11-22_at_3.27.50_PM](/uploads/a174b45ee597a99d8f085d8c41a5458d/Screen_Shot_2017-11-22_at_3.27.50_PM.png)\n\nso expect Geo in this list to link to the Geo Nodes admin panel. \n\nSimilar for other components\n\nList of nodes to link - these link to either a status page for the feature or it's settings.\n\n| Label | Which Page | Link | Notes | Done |\n| --- | --- | --- | --- | --- |\n| **Features** |\n| Sign Up | Application Settings, Sign-up Restrictions section | `admin_application_settings_path` or `/admin/application_settings` | requires an anchor | ✅ |\n| LDAP | n/a | | no status/settings found | ✅ |\n| Gravatar | Application Settings, Account and Limit Settings section | `admin_application_settings_path` or `/admin/application_settings` | requires an anchor | ✅ |\n| Omniauth | Application Settings, Sign-in Restrictions section | `admin_application_settings_path` or `/admin/application_settings` | requires an anchor. settings only visible if omniauth enabled | ✅ |\n| Reply by email | n/a | | no status/settings found | ✅ |\n| Elasticsearch | Application Settings, Elasticsearch section | `admin_application_settings_path` or `/admin/application_settings` | requires an anchor. settings only visible if `License.feature_available?(:elastic_search)` |  |\n| Geo | Geo Node Status | `admin_geo_nodes_path` or `/admin/geo_nodes` | | ✅ |\n| Container Registry | Application Settings, Container Registry section | `admin_application_settings_path` or `/admin/application_settings` | requires an anchor. settings only visible if `Gitlab.config.registry.enabled` | ✅ |\n| GitLab Pages | Help, Instance Configuration | `help_instance_configuration_url` or `/help/instance_configuration` | | ✅ |\n| Shared Runners | Runners | `admin_runners_path` or `/admin/runners` | | ✅ |\n| **Components** |\n| GitLab | Application Settings | `admin_application_settings_path` or `/admin/application_settings` | | ✅ |\n| Gitaly | Application Settings, Gitaly Timeouts section | `admin_application_settings_path` or `/admin/application_settings` | requires an anchor | ✅ |\n| Geo | Geo Node Status | `admin_geo_nodes_path` or `/admin/geo_nodes` | only visible if `Gitlab::Geo.enabled?` | | ✅ |","state":"closed","created_at":"2017-11-22T23:29:05.162Z","updated_at":"2019-11-27T07:16:30.768Z","closed_at":"2019-09-17T11:05:48.931Z","closed_by":{"id":1230286,"username":"xanf","name":"Illya Klymov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ce4d16557b46210fa57641531b570dd4?s=80\u0026d=identicon","web_url":"https://gitlab.com/xanf"},"labels":["Deliverable","Manage [DEPRECATED]","admin dashboard","devops::manage","estimation::completed","frontend","group::authentication and authorization","missed-deliverable","missed:11.11","missed:12.0","missed:12.1","missed:12.2","priority::3","type::feature","workflow::in review"],"milestone":{"id":731038,"iid":37,"group_id":9970,"title":"12.3","description":"https://about.gitlab.com/releases/2019/09/22/gitlab-12-3-released/","state":"closed","created_at":"2018-12-07T12:40:55.400Z","updated_at":"2020-04-23T21:06:04.173Z","due_date":"2019-09-17","start_date":"2019-08-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/37"},"assignees":[{"id":1230286,"username":"xanf","name":"Illya Klymov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ce4d16557b46210fa57641531b570dd4?s=80\u0026d=identicon","web_url":"https://gitlab.com/xanf"}],"author":{"id":192328,"username":"ernstvn-gitlab","name":"Ernst van Nierop","state":"active","avatar_url":"https://secure.gravatar.com/avatar/36b7c478bbe1e079f10202afa9b30c0d?s=80\u0026d=identicon","web_url":"https://gitlab.com/ernstvn-gitlab"},"type":"ISSUE","assignee":{"id":1230286,"username":"xanf","name":"Illya Klymov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ce4d16557b46210fa57641531b570dd4?s=80\u0026d=identicon","web_url":"https://gitlab.com/xanf"},"user_notes_count":21,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/20238","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/20238","notes":"https://gitlab.com/api/v4/projects/278964/issues/20238/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/20238/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#20238","relative":"#20238","full":"gitlab-org/gitlab#20238"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":7879839,"iid":4149,"project_id":278964,"title":"Add interactive links in the Admin Area overview","description":"From Sid's geo demo, around https://youtu.be/eLu1SHlzgFM?t=5039 \n\n\"I kind of expect Geo (under Components in admin interface) to link to Geo Nodes\" \n\nApologies for grainy screenshot\n\n![Screen_Shot_2017-11-22_at_3.27.50_PM](/uploads/31cd2078f6b770c322bbba32ad84e5f6/Screen_Shot_2017-11-22_at_3.27.50_PM.png)\n\nso expect Geo in this list to link to the Geo Nodes admin panel. \n\nSimilar for other components\n\nList of nodes to link - these link to either a status page for the feature or it's settings.\n\n| Label | Which Page | Link | Notes | Done |\n| --- | --- | --- | --- | --- |\n| **Features** |\n| Sign Up | Application Settings, Sign-up Restrictions section | `admin_application_settings_path` or `/admin/application_settings` | requires an anchor | ✅ |\n| LDAP | n/a | | no status/settings found | ✅ |\n| Gravatar | Application Settings, Account and Limit Settings section | `admin_application_settings_path` or `/admin/application_settings` | requires an anchor | ✅ |\n| Omniauth | Application Settings, Sign-in Restrictions section | `admin_application_settings_path` or `/admin/application_settings` | requires an anchor. settings only visible if omniauth enabled | ✅ |\n| Reply by email | n/a | | no status/settings found | ✅ |\n| Elasticsearch | Application Settings, Elasticsearch section | `admin_application_settings_path` or `/admin/application_settings` | requires an anchor. settings only visible if `License.feature_available?(:elastic_search)` |  |\n| Geo | Geo Node Status | `admin_geo_nodes_path` or `/admin/geo_nodes` | | ✅ |\n| Container Registry | Application Settings, Container Registry section | `admin_application_settings_path` or `/admin/application_settings` | requires an anchor. settings only visible if `Gitlab.config.registry.enabled` | ✅ |\n| GitLab Pages | Help, Instance Configuration | `help_instance_configuration_url` or `/help/instance_configuration` | | ✅ |\n| Shared Runners | Runners | `admin_runners_path` or `/admin/runners` | | ✅ |\n| **Components** |\n| GitLab | Application Settings | `admin_application_settings_path` or `/admin/application_settings` | | ✅ |\n| Gitaly | Application Settings, Gitaly Timeouts section | `admin_application_settings_path` or `/admin/application_settings` | requires an anchor | ✅ |\n| Geo | Geo Node Status | `admin_geo_nodes_path` or `/admin/geo_nodes` | only visible if `Gitlab::Geo.enabled?` | | ✅ |","state":"closed","created_at":"2017-11-22T23:29:05.162Z","updated_at":"2019-08-12T15:44:14.651Z","closed_at":"2019-04-16T11:27:29.571Z","closed_by":{"id":1230286,"username":"xanf","name":"Illya Klymov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ce4d16557b46210fa57641531b570dd4?s=80\u0026d=identicon","web_url":"https://gitlab.com/xanf"},"labels":["Deliverable","Enterprise Edition","Manage [DEPRECATED]","[deprecated] Accepting merge requests","admin dashboard","devops::manage","frontend","priority::3","type::feature","workflow::in dev"],"milestone":{"id":655280,"iid":28,"group_id":9970,"title":"11.11","description":"","state":"closed","created_at":"2018-09-21T19:08:37.027Z","updated_at":"2019-06-10T14:39:00.009Z","due_date":"2019-05-22","start_date":"2019-04-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/28"},"assignees":[{"id":1230286,"username":"xanf","name":"Illya Klymov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ce4d16557b46210fa57641531b570dd4?s=80\u0026d=identicon","web_url":"https://gitlab.com/xanf"}],"author":{"id":192328,"username":"ernstvn-gitlab","name":"Ernst van Nierop","state":"active","avatar_url":"https://secure.gravatar.com/avatar/36b7c478bbe1e079f10202afa9b30c0d?s=80\u0026d=identicon","web_url":"https://gitlab.com/ernstvn-gitlab"},"type":"ISSUE","assignee":{"id":1230286,"username":"xanf","name":"Illya Klymov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ce4d16557b46210fa57641531b570dd4?s=80\u0026d=identicon","web_url":"https://gitlab.com/xanf"},"user_notes_count":19,"merge_requests_count":2,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/4149","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/4149","notes":"https://gitlab.com/api/v4/projects/278964/issues/4149/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/4149/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#4149","relative":"#4149","full":"gitlab-org/gitlab#4149"},"severity":"UNKNOWN","moved_to_id":20100680,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":7874282,"iid":4143,"project_id":278964,"title":"Geo::AwareAvatar links the user’s avatar image from the primary node when on a secondary","description":"It was a very old decision when we didn’t have attachments sync. We may consider changing this to check if the file is present on disk in the secondary node then use it otherwise still fallback to the primary node.","state":"closed","created_at":"2017-11-22T16:23:24.634Z","updated_at":"2019-12-11T20:09:57.085Z","closed_at":"2017-12-22T09:18:57.519Z","closed_by":null,"labels":["Enterprise Edition","devops::systems","group::geo","type::bug","workflow::in review"],"milestone":{"id":360828,"iid":4,"group_id":9970,"title":"10.4","description":"https://about.gitlab.com/releases/2018/01/22/gitlab-10-4-released","state":"closed","created_at":"2017-08-16T16:52:35.085Z","updated_at":"2020-04-27T16:31:17.439Z","due_date":"2018-01-22","start_date":"2017-12-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/4"},"assignees":[{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"}],"author":{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"},"type":"ISSUE","assignee":{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"},"user_notes_count":4,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/4143","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/4143","notes":"https://gitlab.com/api/v4/projects/278964/issues/4143/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/4143/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#4143","relative":"#4143","full":"gitlab-org/gitlab#4143"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":7870272,"iid":4134,"project_id":278964,"title":"Approve additionally","description":"- At the project level, you set the number of required approvals per mr.\n- At the mr level, you can make the required number greater than the project level number. It cannot be smaller.\n- At the project level, you can specify people as approvers per mr. If you specify a group of people, it is equivalent as if you added all those people in the group one by one.\n- At the mr level, you can add _more_ people as approvers for that mr. (But you cannot remove previously specified people.) If you specify a group of people, it is equivalent as if you added all those people in the group one by one.\n- Based on the above, given any mr, there is:\n  - A required number of approvals, call it `m`.\n  - There is a _set_ of _explicit_ approvers. Call this set `Ω` This _set_ is generated from above, _minus_ the mr creator if the mr creator is in the above set. Also, this set is made by \"unraveling\" all the group approvers. I.e. if group `A` was added as an approver, and that group has 3 people in it, then `Ω` has those 3 people as distinct members. Let the count of this set be `n`, i.e. `count(Ω) = n`.\n\n| Scenario | Result |\n| --- | --- |\n| `m \u003c= n` | _Only_ members of `Ω` _can_ approve. In particular, these members will see one of `{Approve, Approve additionally, Remove approval}` in the UI. Every other user will not see this UI.\n| `m \u003e n` | Members of `Ω` _and_ members of the project (except the mr creator) with Developer role or higher _can_ approve. These people will see one of one of `{Approve, Approve additionally, Remove approval}` in the UI. Every other user will not see this UI. |\n\n### Approve additionally\n- If you are a user and you can approve (based on above), you see one of `{Approve, Approve additionally, Remove approval}` in the UI.\n- Let `p` be the number of approvals that the mr current has.\n  - If you have already approved the mr, you see `Remove approval`.\n  - Otherwise if `p \u003c m`, then you see `Approve`.\n  - Else `p \u003e= m`, and you see `Approve additionally`.\n\n### What this changes\nNote that this scheme simplifies the existing implementation. It decouples who can approve a mr from the current count  of approvals in an mr and the identity of those approvals. Depending on the two scenarios above, if you can approve, you can always approve (up to the edge cases below).\n\n### Edge cases in future issues\nThese are edge cases that should be handled in future issues. For this issue, these conditions/scenarios are not well-defined, and we should not dictate _what_ happens under these conditions. I.e. there is no requirement for what happens. Whatever happens, happens.\n\n- https://gitlab.com/gitlab-org/gitlab-ee/issues/4655\n- https://gitlab.com/gitlab-org/gitlab-ee/issues/4687\n\n### Out of scope\n- The functionality of how the messaging behaves and the avatars _are not_ in scope for this issue. They will be handled in future issues. Some of the earlier discussion and design is in https://gitlab.com/gitlab-org/gitlab-ee/issues/1126 for reference.\n\n### Design\n\n![image](/uploads/0ad8f789242aba7a1b57c47532ffa45a/image.png)\n\n![image](/uploads/7a736190a1e26c2088f5c1c25c49144f/image.png)\n\n![image](/uploads/d93a5135eb200fa4fcbaa2b3d9f96f0d/image.png)\n\n![image](/uploads/08493de15b9cc367d0cd00b443fffaf7/image.png)\n\nNote: Specified approvers still needed to approve although not visible in the mockups above, will continue to stay visible. They are positioned right after `Requires X more approvals`\n\nBecause of this there is an edge case, with being able to approve additionally while still waiting for someone specified to approve, this looks like:\n\n![image](/uploads/2b46852ec8797aaf02a4170fed2db4c9/image.png)","state":"closed","created_at":"2017-11-22T12:55:42.211Z","updated_at":"2022-05-19T16:44:20.976Z","closed_at":"2018-02-07T17:25:18.328Z","closed_by":null,"labels":["Enterprise Edition","approvals","backend","devops::plan","documentation","frontend","merge requests","workflow::in review"],"milestone":{"id":404412,"iid":7,"group_id":9970,"title":"10.5","description":"https://about.gitlab.com/releases/2018/02/22/gitlab-10-5-released","state":"closed","created_at":"2017-11-02T10:41:09.107Z","updated_at":"2020-04-27T16:30:54.473Z","due_date":"2018-02-22","start_date":"2018-01-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/7"},"assignees":[{"id":489558,"username":"dimitrieh","name":"Dimitrie Hoekstra","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/489558/avatar.png","web_url":"https://gitlab.com/dimitrieh"},{"id":829774,"username":"jivanvl","name":"Jose Ivan Vargas","state":"active","avatar_url":"https://secure.gravatar.com/avatar/730cc1b85a20f2a3891829f7aa198972?s=80\u0026d=identicon","web_url":"https://gitlab.com/jivanvl"}],"author":{"id":711023,"username":"victorwu","name":"Victor Wu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/711023/avatar.png","web_url":"https://gitlab.com/victorwu"},"type":"ISSUE","assignee":{"id":489558,"username":"dimitrieh","name":"Dimitrie Hoekstra","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/489558/avatar.png","web_url":"https://gitlab.com/dimitrieh"},"user_notes_count":20,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/4134","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":4,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/4134","notes":"https://gitlab.com/api/v4/projects/278964/issues/4134/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/4134/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#4134","relative":"#4134","full":"gitlab-org/gitlab#4134"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2,"epic":{"id":2,"iid":2,"title":"Increase approvals usage","url":"/groups/gitlab-org/-/epics/2","group_id":9970,"human_readable_end_date":"Sep 22, 2018","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":24659095,"iid":20229,"project_id":278964,"title":"Ability to update access levels from Protected Branch API","description":"### Release notes\nSo far, it was only possible to update access levels of protected branches via the UI. To do this via the API, you had to first unprotect the branch and then protect it again with the new setting. \n\nNow, you can programmatically change which users or groups are `allowed_to_push`, `allowed_to_merge`, and `allowed_to_unprotect` and change more settings. This way it is much less likely that bots that change such settings accidentally leave branches unprotected.\n\nhttps://docs.gitlab.com/ee/api/protected_branches.html#update-a-protected-branch\n\n## What\n\n- PUT endpoint on [protected branch API](https://docs.gitlab.com/ee/api/protected_branches.html#protected-branches-api)\n- Alternatively a new API for protected branches access levels, so that they can be set per user/group individually\n\n## Why\n\nIt is not currently possible to update protected branch settings through the API without first unprotecting it. This is partly because CE and EE differ because EE allows access levels to be set per user/group.\n\n## Related\n\n- https://gitlab.com/gitlab-org/gitlab-ce/issues/35867\n- https://gitlab.com/gitlab-org/gitlab-ce/merge_requests/12756#note_35838570\n- https://gitlab.com/gitlab-org/gitlab-ce/merge_requests/12756#note_34698248\n\n## Proposed solution\n\nWe can follow the convention that is introduced for [Protected Environments API](https://docs.gitlab.com/ee/api/protected_environments.html). It follows the same conventions as [Rails Nested Attributes](https://api.rubyonrails.org/classes/ActiveRecord/NestedAttributes/ClassMethods.html):\n\n- If `id` is specified, then the attribute is updated\n- If `_destroy` field is specified, then the record is removed\n\nAfter the PATCH endpoint is [generalized](https://gitlab.com/gitlab-org/gitlab/-/issues/377926) and id attribute is [exposed](https://gitlab.com/gitlab-org/gitlab/-/issues/377927), we should:\n\n- Allow `id` and `_destroy` params, similar to https://gitlab.com/gitlab-org/gitlab/blob/0acba2ab515f263a86718583ffaa7932fbf11b3b/ee/lib/api/protected_environments.rb#L19\n- Make sure that [`_attributes`](https://gitlab.com/gitlab-org/gitlab/blob/0acba2ab515f263a86718583ffaa7932fbf11b3b/app/services/protected_branches/api_service.rb#L13-14) are not prefilled with [defaults](https://gitlab.com/gitlab-org/gitlab/blob/0acba2ab515f263a86718583ffaa7932fbf11b3b/app/services/protected_refs/access_level_params.rb#L19) when empty params are send\n- Update the documentation https://docs.gitlab.com/ee/api/protected_branches.html","state":"closed","created_at":"2017-11-22T12:10:27.123Z","updated_at":"2022-12-05T14:04:52.519Z","closed_at":"2022-11-18T09:55:17.495Z","closed_by":{"id":10822493,"username":"tlinz","name":"Torsten Linz","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10822493/avatar.png","web_url":"https://gitlab.com/tlinz"},"labels":["Category:Source Code Management","Deliverable","GitLab Premium","GitLab Ultimate","Technical Writing","api","backend","customer","devops::create","documentation","feature::addition","group::source code","release post item::in review","section::dev","type::feature","workflow::production"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":12517375,"username":"ghinfey","name":"Gavin Hinfey","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12517375/avatar.png","web_url":"https://gitlab.com/ghinfey"}],"author":{"id":654619,"username":"jamedjo","name":"James Edwards-Jones","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/654619/avatar.png","web_url":"https://gitlab.com/jamedjo"},"type":"ISSUE","assignee":{"id":12517375,"username":"ghinfey","name":"Gavin Hinfey","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12517375/avatar.png","web_url":"https://gitlab.com/ghinfey"},"user_notes_count":52,"merge_requests_count":0,"upvotes":25,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/20229","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/20229","notes":"https://gitlab.com/api/v4/projects/278964/issues/20229/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/20229/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#20229","relative":"#20229","full":"gitlab-org/gitlab#20229"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":"on_track"},{"id":7851464,"iid":4119,"project_id":278964,"title":"Improve feedback if initial replication fails","description":"If the initial replication fails the feedback in the terminal doesn't provide actionable feedback nor make it clear that the issue should probably be resolved by reviewing the configuration on the primary.\n\nIf replication fails, we should should provide feedback that:\n\n- instructs the user to review their configuration on the primary in `gitlab.rb`\n- tells them which IP address is being used to connect to the primary\n  - the user should update their config to use this IP\n  - OR verify bridge between networks is working (might be trying to use internal IP)\n\nReferences:\n\n- https://docs.gitlab.com/ee/gitlab-geo/database.html#step-4-initiate-the-replication-process","state":"closed","created_at":"2017-11-21T15:11:54.634Z","updated_at":"2019-12-11T20:10:02.239Z","closed_at":"2017-12-05T16:39:51.899Z","closed_by":null,"labels":["Enterprise Edition","devops::systems","group::geo","workflow::in review"],"milestone":{"id":360827,"iid":3,"group_id":9970,"title":"10.3","description":"","state":"closed","created_at":"2017-08-16T16:51:52.890Z","updated_at":"2018-03-22T16:15:37.036Z","due_date":"2017-12-22","start_date":"2017-11-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/3"},"assignees":[{"id":263716,"username":"grzesiek","name":"Grzegorz Bizon","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/263716/avatar.jpeg","web_url":"https://gitlab.com/grzesiek"}],"author":{"id":1187333,"username":"jramsay-gitlab","name":"James Ramsay (ex-GitLab)","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1187333/avatar.png","web_url":"https://gitlab.com/jramsay-gitlab"},"type":"ISSUE","assignee":{"id":263716,"username":"grzesiek","name":"Grzegorz Bizon","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/263716/avatar.jpeg","web_url":"https://gitlab.com/grzesiek"},"user_notes_count":5,"merge_requests_count":2,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/4119","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/4119","notes":"https://gitlab.com/api/v4/projects/278964/issues/4119/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/4119/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#4119","relative":"#4119","full":"gitlab-org/gitlab#4119"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":7851376,"iid":4118,"project_id":278964,"title":"Improve bypass options for initial db replication","description":"There is a bypass flag that allows users to bypass the 30 second wait—`--no-wait`—but if a user doesn't see it in the documentation they are stuck waiting, or have to cancel and execute the command again.\n\nIt would be nicer to allow the user to type something to bypass the delay. Perhaps the user could be prompted to type `skip` if they want to proceed immediately?","state":"closed","created_at":"2017-11-21T15:03:56.434Z","updated_at":"2019-12-11T20:10:03.016Z","closed_at":"2017-11-27T11:28:28.128Z","closed_by":null,"labels":["Enterprise Edition","devops::systems","group::geo","workflow::in review"],"milestone":{"id":360827,"iid":3,"group_id":9970,"title":"10.3","description":"","state":"closed","created_at":"2017-08-16T16:51:52.890Z","updated_at":"2018-03-22T16:15:37.036Z","due_date":"2017-12-22","start_date":"2017-11-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/3"},"assignees":[{"id":263716,"username":"grzesiek","name":"Grzegorz Bizon","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/263716/avatar.jpeg","web_url":"https://gitlab.com/grzesiek"}],"author":{"id":1187333,"username":"jramsay-gitlab","name":"James Ramsay (ex-GitLab)","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1187333/avatar.png","web_url":"https://gitlab.com/jramsay-gitlab"},"type":"ISSUE","assignee":{"id":263716,"username":"grzesiek","name":"Grzegorz Bizon","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/263716/avatar.jpeg","web_url":"https://gitlab.com/grzesiek"},"user_notes_count":11,"merge_requests_count":2,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/4118","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/4118","notes":"https://gitlab.com/api/v4/projects/278964/issues/4118/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/4118/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#4118","relative":"#4118","full":"gitlab-org/gitlab#4118"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":7850930,"iid":4117,"project_id":278964,"title":"Skip TLS for db replication","description":"The TLS steps for geo can be skipped if encryption of the connection between primary and secondary db is not required. Make sure this path is documented and clear for customers who want to skip this step.","state":"closed","created_at":"2017-11-21T14:45:42.741Z","updated_at":"2020-05-29T20:56:34.003Z","closed_at":"2017-12-06T07:53:49.536Z","closed_by":null,"labels":["Enterprise Edition","devops::systems","docs::fix","documentation","group::geo","workflow::in dev"],"milestone":{"id":360827,"iid":3,"group_id":9970,"title":"10.3","description":"","state":"closed","created_at":"2017-08-16T16:51:52.890Z","updated_at":"2018-03-22T16:15:37.036Z","due_date":"2017-12-22","start_date":"2017-11-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/3"},"assignees":[{"id":572018,"username":"nick.thomas","name":"Nick Thomas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/572018/avatar.png","web_url":"https://gitlab.com/nick.thomas"}],"author":{"id":1187333,"username":"jramsay-gitlab","name":"James Ramsay (ex-GitLab)","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1187333/avatar.png","web_url":"https://gitlab.com/jramsay-gitlab"},"type":"ISSUE","assignee":{"id":572018,"username":"nick.thomas","name":"Nick Thomas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/572018/avatar.png","web_url":"https://gitlab.com/nick.thomas"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/4117","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/4117","notes":"https://gitlab.com/api/v4/projects/278964/issues/4117/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/4117/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#4117","relative":"#4117","full":"gitlab-org/gitlab#4117"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":7850894,"iid":4116,"project_id":278964,"title":"Improve geo trust address documentation","description":"It has hard to understand which IP addresses to put where when setting up the `md5_auth_cidr_addresses` and `trust_auth_cidr_addresses` when configuring the primary for database replication.\n\nWe need to make it clearer which IP addresses go where, use consistent language to refer to these addresses through out the remainder of the docs.","state":"closed","created_at":"2017-11-21T14:43:41.294Z","updated_at":"2020-05-29T20:56:16.620Z","closed_at":"2017-11-30T23:07:24.067Z","closed_by":null,"labels":["Enterprise Edition","devops::systems","docs::fix","documentation","group::geo"],"milestone":{"id":360827,"iid":3,"group_id":9970,"title":"10.3","description":"","state":"closed","created_at":"2017-08-16T16:51:52.890Z","updated_at":"2018-03-22T16:15:37.036Z","due_date":"2017-12-22","start_date":"2017-11-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/3"},"assignees":[{"id":1187333,"username":"jramsay-gitlab","name":"James Ramsay (ex-GitLab)","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1187333/avatar.png","web_url":"https://gitlab.com/jramsay-gitlab"}],"author":{"id":1187333,"username":"jramsay-gitlab","name":"James Ramsay (ex-GitLab)","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1187333/avatar.png","web_url":"https://gitlab.com/jramsay-gitlab"},"type":"ISSUE","assignee":{"id":1187333,"username":"jramsay-gitlab","name":"James Ramsay (ex-GitLab)","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1187333/avatar.png","web_url":"https://gitlab.com/jramsay-gitlab"},"user_notes_count":2,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/4116","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/4116","notes":"https://gitlab.com/api/v4/projects/278964/issues/4116/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/4116/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#4116","relative":"#4116","full":"gitlab-org/gitlab#4116"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":7830977,"iid":4099,"project_id":278964,"title":"Disabling push mirror raises  error 500","description":"https://sentry.gitlap.com/gitlab/gitlabcom/issues/110992/\n\n```\nRugged::OSError: failed to lock file '/var/opt/gitlab/git-data-file08/repositories/gitlab-org/gitlab-ce.git/packed-refs.lock' for writing: \n  lib/gitlab/git/repository.rb:917:in `delete'\n    rugged.remotes.delete(remote_name)\n  lib/gitlab/git/repository.rb:917:in `remove_remote'\n    rugged.remotes.delete(remote_name)\n  app/models/repository.rb:470:in `method_missing'\n    raw_repository.__send__(m, *args, \u0026block) # rubocop:disable GitlabSecurity/PublicSend\n  lib/gitlab/metrics/instrumentation.rb:159:in `block in method_missing'\n    .measure { super }\n  lib/gitlab/metrics/method_call.rb:53:in `measure'\n    retval = yield\n...\n(229 additional frame(s) were not displayed)\n\nRugged::OSError: failed to lock file '/var/opt/gitlab/git-data-file08/repositories/gitlab-org/gitlab-ce.git/packed-refs.lock' for writing: \n```\n\nTo replicate:\n\n* Enable remote push mirror on a project and save\n* Reload the page\n* Try to disable remote mirroring by unchecking the checkbox and save\n\n/cc @DouweM @tiagonbotelho ","state":"closed","created_at":"2017-11-20T14:31:49.919Z","updated_at":"2019-08-12T15:44:40.173Z","closed_at":"2018-01-22T17:09:29.294Z","closed_by":null,"labels":["Deliverable","Enterprise Edition","backend","bug::availability","mirror","type::bug","workflow::in review"],"milestone":{"id":404412,"iid":7,"group_id":9970,"title":"10.5","description":"https://about.gitlab.com/releases/2018/02/22/gitlab-10-5-released","state":"closed","created_at":"2017-11-02T10:41:09.107Z","updated_at":"2020-04-27T16:30:54.473Z","due_date":"2018-02-22","start_date":"2018-01-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/7"},"assignees":[],"author":{"id":402401,"username":"jobbot","name":"Bot","state":"active","avatar_url":"https://secure.gravatar.com/avatar/aaa6738f1ebf25404010884af511b0e7?s=80\u0026d=identicon","web_url":"https://gitlab.com/jobbot"},"type":"ISSUE","assignee":null,"user_notes_count":31,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/4099","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/4099","notes":"https://gitlab.com/api/v4/projects/278964/issues/4099/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/4099/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#4099","relative":"#4099","full":"gitlab-org/gitlab#4099"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":7800785,"iid":4090,"project_id":278964,"title":"Geo nodes should warn if SSH authorizations via db not enabled","description":"SSH authorizations need to be stored in the db for geo so that they are replicated to the secondary.\n\nWe should show a warning in the interface and using `gitlab-rake gitlab:geo:check` if it is not enabled.","state":"closed","created_at":"2017-11-17T20:07:07.017Z","updated_at":"2019-12-11T20:10:15.340Z","closed_at":"2017-12-15T13:23:24.540Z","closed_by":null,"labels":["Enterprise Edition","devops::systems","group::geo","workflow::in review"],"milestone":{"id":360828,"iid":4,"group_id":9970,"title":"10.4","description":"https://about.gitlab.com/releases/2018/01/22/gitlab-10-4-released","state":"closed","created_at":"2017-08-16T16:52:35.085Z","updated_at":"2020-04-27T16:31:17.439Z","due_date":"2018-01-22","start_date":"2017-12-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/4"},"assignees":[{"id":2293,"username":"brodock","name":"Gabriel Mazetto","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2293/avatar.png","web_url":"https://gitlab.com/brodock"}],"author":{"id":1187333,"username":"jramsay-gitlab","name":"James Ramsay (ex-GitLab)","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1187333/avatar.png","web_url":"https://gitlab.com/jramsay-gitlab"},"type":"ISSUE","assignee":{"id":2293,"username":"brodock","name":"Gabriel Mazetto","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2293/avatar.png","web_url":"https://gitlab.com/brodock"},"user_notes_count":13,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/4090","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/4090","notes":"https://gitlab.com/api/v4/projects/278964/issues/4090/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/4090/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#4090","relative":"#4090","full":"gitlab-org/gitlab#4090"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":7787014,"iid":4076,"project_id":278964,"title":"Canary legend for single series chart displays as `series 1`","description":"Right now when there are multiple queries in a single chart, we name them `series 1` and `series 1 - canary`. We should use the `label` value instead of `series 1` in the event of only a single series being returned per query.\n\nFor example when the is configured, we should use the label `Average`.\n```\n    queries:\n    - query_range: 'sum(avg(rate(container_cpu_usage_seconds_total{container_name!=\"POD\",environment=\"%{ci_environment_slug}\"}[2m])) without (job)) * 100'\n      label: Average\n      unit: \"%\"\n    - query_range: 'sum(avg(rate(container_cpu_usage_seconds_total{container_name!=\"POD\",environment=\"%{ci_environment_slug}-canary\"}[2m])) without (job)) * 100'\n      label: Average\n      unit: \"%\"\n      track: canary\n```\n\n In the event of multiple series being returned, we should use the value of the label for each series.\n\nThis should improve the readability of the legend:\n![Screen_Shot_2017-11-16_at_11.07.07_PM](/uploads/e92eda41545ed548a2b49c135ddeba7a/Screen_Shot_2017-11-16_at_11.07.07_PM.png)","state":"closed","created_at":"2017-11-17T04:50:43.940Z","updated_at":"2019-08-12T15:44:41.823Z","closed_at":"2018-03-06T16:17:22.078Z","closed_by":null,"labels":["Deliverable","Enterprise Edition","devops::monitor","frontend","regression","workflow::in review"],"milestone":{"id":416486,"iid":8,"group_id":9970,"title":"10.6","description":"https://about.gitlab.com/releases/2018/03/22/gitlab-10-6-released","state":"closed","created_at":"2017-11-21T20:05:35.697Z","updated_at":"2020-04-27T16:30:32.220Z","due_date":"2018-03-22","start_date":"2018-02-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/8"},"assignees":[{"id":829774,"username":"jivanvl","name":"Jose Ivan Vargas","state":"active","avatar_url":"https://secure.gravatar.com/avatar/730cc1b85a20f2a3891829f7aa198972?s=80\u0026d=identicon","web_url":"https://gitlab.com/jivanvl"}],"author":{"id":926632,"username":"joshlambert","name":"Joshua Lambert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a0bdc5209b11e9c0953f80234dcb4ffb?s=80\u0026d=identicon","web_url":"https://gitlab.com/joshlambert"},"type":"ISSUE","assignee":{"id":829774,"username":"jivanvl","name":"Jose Ivan Vargas","state":"active","avatar_url":"https://secure.gravatar.com/avatar/730cc1b85a20f2a3891829f7aa198972?s=80\u0026d=identicon","web_url":"https://gitlab.com/jivanvl"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/4076","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/4076","notes":"https://gitlab.com/api/v4/projects/278964/issues/4076/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/4076/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#4076","relative":"#4076","full":"gitlab-org/gitlab#4076"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":7784879,"iid":4074,"project_id":278964,"title":"Write security review for Geo into Geo documentation","description":"As a follow-up to https://gitlab.com/gitlab-org/gitlab-ee/issues/3865:\n\nTake the information from https://docs.google.com/document/d/1WiTyWtkeymoJc5JZBJ4qPeFo8ZvAWc3dT3GBIzqjqGA/edit?ts=59f36bd1# and place it in the documentation for geo itself. \n\n@axil @marcia is there precedent for this how/where to discuss security questions of a feature set? (We have https://about.gitlab.com/security/ )","state":"closed","created_at":"2017-11-16T22:24:28.838Z","updated_at":"2019-12-11T20:10:27.194Z","closed_at":"2017-12-14T15:24:03.797Z","closed_by":null,"labels":["Enterprise Edition","devops::systems","documentation","group::geo","workflow::in review"],"milestone":{"id":360827,"iid":3,"group_id":9970,"title":"10.3","description":"","state":"closed","created_at":"2017-08-16T16:51:52.890Z","updated_at":"2018-03-22T16:15:37.036Z","due_date":"2017-12-22","start_date":"2017-11-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/3"},"assignees":[],"author":{"id":192328,"username":"ernstvn-gitlab","name":"Ernst van Nierop","state":"active","avatar_url":"https://secure.gravatar.com/avatar/36b7c478bbe1e079f10202afa9b30c0d?s=80\u0026d=identicon","web_url":"https://gitlab.com/ernstvn-gitlab"},"type":"ISSUE","assignee":null,"user_notes_count":4,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/4074","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/4074","notes":"https://gitlab.com/api/v4/projects/278964/issues/4074/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/4074/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#4074","relative":"#4074","full":"gitlab-org/gitlab#4074"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":7781766,"iid":4070,"project_id":278964,"title":"Geo: cache results in issue and message count being incorrect","description":"There is a cache on the secondary that isn't being updated when new issues are created on the primary. This causes the issue count to be unchanged despite the issue being accessible on the secondary.\n\nWe should expire/update the cache when data changes.","state":"closed","created_at":"2017-11-16T20:23:28.353Z","updated_at":"2019-12-11T20:10:28.119Z","closed_at":"2017-12-12T16:15:13.473Z","closed_by":null,"labels":["Enterprise Edition","devops::systems","group::geo","type::bug","workflow::in review"],"milestone":{"id":360828,"iid":4,"group_id":9970,"title":"10.4","description":"https://about.gitlab.com/releases/2018/01/22/gitlab-10-4-released","state":"closed","created_at":"2017-08-16T16:52:35.085Z","updated_at":"2020-04-27T16:31:17.439Z","due_date":"2018-01-22","start_date":"2017-12-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/4"},"assignees":[{"id":194645,"username":"digitalmoksha","name":"Brett Walker","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/194645/avatar.png","web_url":"https://gitlab.com/digitalmoksha"}],"author":{"id":1187333,"username":"jramsay-gitlab","name":"James Ramsay (ex-GitLab)","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1187333/avatar.png","web_url":"https://gitlab.com/jramsay-gitlab"},"type":"ISSUE","assignee":{"id":194645,"username":"digitalmoksha","name":"Brett Walker","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/194645/avatar.png","web_url":"https://gitlab.com/digitalmoksha"},"user_notes_count":16,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/4070","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":8,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/4070","notes":"https://gitlab.com/api/v4/projects/278964/issues/4070/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/4070/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#4070","relative":"#4070","full":"gitlab-org/gitlab#4070"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":7767507,"iid":4056,"project_id":278964,"title":"Verify that hash storage works in project export/import and other cases","description":"In gitlab-org/gitlab-ce!15400, doing a quick audit of places where we use `full_path` and `disk_path` (as well as `File.join`), I noticed a few places where we might need to check:\n\n1. Protect against transferring projects in hash storage in `Projects::TransferService`?\n\n    ```\n    app/services/projects/transfer_service.rb:      @new_path = \n    File.join(@new_namespace.try(:full_path) || '', project.path)\n    ```\n\n2. Check that the GitLab import/exporter works properly. What happens if there is a project ID already for that path?\n\n    ```\n    lib/gitlab/import_export/importer.rb:        File.join(@project.namespace.full_path, @project.path)\n    ```","state":"closed","created_at":"2017-11-15T20:35:18.699Z","updated_at":"2019-12-11T20:10:31.045Z","closed_at":"2017-11-17T20:19:23.170Z","closed_by":null,"labels":["Enterprise Edition","devops::systems","group::geo","workflow::in dev"],"milestone":{"id":349702,"iid":2,"group_id":9970,"title":"10.2","description":"","state":"closed","created_at":"2017-07-24T13:53:41.702Z","updated_at":"2018-03-22T16:15:32.616Z","due_date":"2017-11-22","start_date":"2017-10-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/2"},"assignees":[{"id":64248,"username":"stanhu","name":"Stan Hu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/64248/stanhu.jpg","web_url":"https://gitlab.com/stanhu"}],"author":{"id":64248,"username":"stanhu","name":"Stan Hu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/64248/stanhu.jpg","web_url":"https://gitlab.com/stanhu"},"type":"ISSUE","assignee":{"id":64248,"username":"stanhu","name":"Stan Hu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/64248/stanhu.jpg","web_url":"https://gitlab.com/stanhu"},"user_notes_count":10,"merge_requests_count":4,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/4056","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/4056","notes":"https://gitlab.com/api/v4/projects/278964/issues/4056/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/4056/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#4056","relative":"#4056","full":"gitlab-org/gitlab#4056"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":24658643,"iid":20165,"project_id":278964,"title":"Clone dropdown HTTP description/tooltip could be different when signed out","description":"Different message in `ButtonHelper#http_clone_button` and `ButtonHelper#ssh_clone_button` when signed out\n\nIt will currently suggest `Create a personal access token on your account` or `Add an SSH key to your profile`, which could be confusing. Since we're moving from a tooltip to a description this will be more obvious\n\n**Current message:**\n\n```ruby\ntooltip_title =\n  if current_user.try(:require_password_creation?)\n    _(\"Set a password on your account to pull or push via %{protocol}.\") % { protocol: protocol }\n  else #current_user.try(:require_personal_access_token_creation_for_git_auth?)\n    _(\"Create a personal access token on your account to pull or push via %{protocol}.\") % { protocol: protocol }\n  end\n```\n\n### Proposal\n\n- When the user is signed in\n  - For SSH option\n    - No change from the current implementation.\n  - For HTTPS option\n    - [The user has not set a password](https://gitlab.com/gitlab-org/gitlab-ce/blob/master/app/helpers/button_helper.rb#L69): `Set a password on your account to pull or push via %{protocol}.`\n    - [The user has set a password](https://gitlab.com/gitlab-org/gitlab-ce/blob/master/app/helpers/button_helper.rb#L71): `Create a personal access token on your account to pull or push via %{protocol}.`\n- When the user is not signed in\n  - No description text needed for both SSH and HTTPS options.\n\n### Original comment\nThe following discussion from gitlab-ce!15334 should be addressed:\n\n- [ ] @jamedjo started a [discussion](https://gitlab.com/gitlab-org/gitlab-ce/merge_requests/15334#note_47340713):  (+1 comment)\n\n    \u003e I know this hasn't changed, but should there be a different message when there is no user signed in? If someone was accidentally signed out it might be confusing too.\n    \u003e \n    \u003e Maybe another issue","state":"closed","created_at":"2017-11-15T17:06:29.624Z","updated_at":"2020-05-18T08:44:29.661Z","closed_at":"2019-11-11T14:06:57.644Z","closed_by":{"id":853414,"username":"andr3","name":"André Luís","state":"active","avatar_url":"https://secure.gravatar.com/avatar/241e39726efb512a29621070ccf26a90?s=80\u0026d=identicon","web_url":"https://gitlab.com/andr3"},"labels":["Create [DEPRECATED]","UX","UX debt","[deprecated] Accepting merge requests","devops::create","frontend","group::source code","repository"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":654619,"username":"jamedjo","name":"James Edwards-Jones","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/654619/avatar.png","web_url":"https://gitlab.com/jamedjo"},"type":"ISSUE","assignee":null,"user_notes_count":12,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/20165","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/20165","notes":"https://gitlab.com/api/v4/projects/278964/issues/20165/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/20165/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#20165","relative":"#20165","full":"gitlab-org/gitlab#20165"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":7763328,"iid":4048,"project_id":278964,"title":"Geo nodes should react to a change in their primary/secondary/none status without a restart","description":"This comes up a lot in the demo and was also mentioned in a call today in the context of GitLab HA. It will *also* be a boon to Geo DR.\n\nWhen we add or remove entries to the `geo_nodes` table, this affects the machines that implement the referenced Geo node. In particular, secondaries have cronjobs enabled that are not present for the primary, and vice-versa. This is done once at start-up, so if you add a new Geo node to the database, you have to restart all the machines implementing the node before it will act correctly.\n\nThis is very weird in a HA situation, and leads to hard-to-debug errors and possible inconsistent state.\n\nWe should modify the startup process so that we can cope with arbitrary changes to the geo_nodes table without necessitating a restart.\n\n/cc @jramsay","state":"closed","created_at":"2017-11-15T14:54:23.145Z","updated_at":"2019-12-11T20:31:38.783Z","closed_at":"2018-01-03T19:21:05.756Z","closed_by":null,"labels":["Enterprise Edition","devops::systems","group::geo","ha","type::feature","workflow::in review"],"milestone":{"id":360828,"iid":4,"group_id":9970,"title":"10.4","description":"https://about.gitlab.com/releases/2018/01/22/gitlab-10-4-released","state":"closed","created_at":"2017-08-16T16:52:35.085Z","updated_at":"2020-04-27T16:31:17.439Z","due_date":"2018-01-22","start_date":"2017-12-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/4"},"assignees":[{"id":572018,"username":"nick.thomas","name":"Nick Thomas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/572018/avatar.png","web_url":"https://gitlab.com/nick.thomas"}],"author":{"id":572018,"username":"nick.thomas","name":"Nick Thomas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/572018/avatar.png","web_url":"https://gitlab.com/nick.thomas"},"type":"ISSUE","assignee":{"id":572018,"username":"nick.thomas","name":"Nick Thomas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/572018/avatar.png","web_url":"https://gitlab.com/nick.thomas"},"user_notes_count":21,"merge_requests_count":2,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/4048","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":8,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/4048","notes":"https://gitlab.com/api/v4/projects/278964/issues/4048/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/4048/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#4048","relative":"#4048","full":"gitlab-org/gitlab#4048"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":16,"epic":{"id":23,"iid":16,"title":"Geo: support high availability","url":"/groups/gitlab-org/-/epics/16","group_id":9970,"human_readable_end_date":"Dec 7, 2017","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":7746248,"iid":4031,"project_id":278964,"title":"Fix difference in FDW / non-FDW queries for Geo::FileRegistry queries","description":"The following discussion from !3259 should be addressed:\n\n- [ ] @brodock commented on a [discussion](https://gitlab.com/gitlab-org/gitlab-ee/merge_requests/3259#note_46856300):  (+2 comments)\n\n    \u003e Yep :-) the refactor made it clearer. I would like to fix this in a separate issue to not delay this too much, but can be the next thing I work after the migration path.\n\nRather than adding this to the FDW path, I propose we *remove* it from the non-FDW path. I don't see that it gives us much benefit.","state":"closed","created_at":"2017-11-14T13:54:45.424Z","updated_at":"2019-12-11T20:29:52.725Z","closed_at":"2017-12-13T13:36:58.350Z","closed_by":null,"labels":["Enterprise Edition","devops::systems","group::geo","workflow::in review"],"milestone":{"id":360828,"iid":4,"group_id":9970,"title":"10.4","description":"https://about.gitlab.com/releases/2018/01/22/gitlab-10-4-released","state":"closed","created_at":"2017-08-16T16:52:35.085Z","updated_at":"2020-04-27T16:31:17.439Z","due_date":"2018-01-22","start_date":"2017-12-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/4"},"assignees":[{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"}],"author":{"id":572018,"username":"nick.thomas","name":"Nick Thomas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/572018/avatar.png","web_url":"https://gitlab.com/nick.thomas"},"type":"ISSUE","assignee":{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"},"user_notes_count":2,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/4031","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/4031","notes":"https://gitlab.com/api/v4/projects/278964/issues/4031/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/4031/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#4031","relative":"#4031","full":"gitlab-org/gitlab#4031"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null}]