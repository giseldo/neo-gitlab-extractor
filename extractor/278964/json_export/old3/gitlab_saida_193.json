[{"id":7744233,"iid":4030,"project_id":278964,"title":"[meta] Ensure Geo replication can handle GitLab.com-scale update load","description":"So far, our testing of Geo at GitLab.com scale has focused on *backfill* and *basic correctness* - can we successfully replicate all instance state on a static primary to a static secondary? When we create/update/delete a single repository/file/record, does the secondary work?\n\nWe need to get some assurance that Geo's replication architecture will handle *updates at scale*.\n\n## Investigating current replication requirements\n\n(For almost every number mentioned, I think we should be interested in both average and peak rates. We might also want some measure of variance on the average, so we can get a feel for how \"spiky\" the demand is.\n\n### Events communicated by the Geo event logs (\"repository\" normally means \"project\"):\n\n* Repository updated (\"git push\", creating commits in UI/API)\n* Repository deleted (UI/API action, namespace removal sends an event per project)\n* Repository renamed (UI/API action, namespace removal sends an event per project)\n* List of selective sync namespaces changed (ignore)\n* Repository created (UI/API action) (why do we need this?)\n* Repository migrated to hashed storage (V1 or V2) (ignore)\n* LFS object deleted\n* CI artifact deleted\n\nWe *don't* send events for these actions:\n* LFS object added\n* CI artifact added\n* Upload added\n* Upload removed\n\nHowever, we may have an interest in these anyway, as backfill causes them to be replicated by the secondary.\n\n### Numbers we want to collect for GitLab.com\n\nEvent log depends on postgresql replication.\n\n* Rate of data transfer for current postgresql replication\n* Replication lag for current pg replication\n* Rate of `git push` (+ UI/API) actions\n* Rate of data transfer for `git push` (+ UI/API) actions\n* Rate of project creations, renames and deletions\n\nNumbers we may not want (if we depend on object storage, we might be able to ignore them)\n\n* Rate of LFS uploads\n* Rate of data transfer for LFS uploads\n* Peak rate of LFS object deletions\n  - This happens in bulk via `RemoveUnreferencedLfsObjectsWorker`\n* Rate of artifact uploads\n* Rate of data transfer for artifact uploads\n* Rate of artifacts removals\n  - Some (most?) removals are in bulk via `ExpireBuildArtifactsWorker` and\n    `ExpireBuildInstanceArtifactsWorker`, so we *may* only want peak rates here.\n* Rate of uploads\n* Rate of data transfer for uploads\n* Rate of upload removals\n\nAdding these events to the log cursor will increase postgresql replication load,\nbut hopefully this will be marginal compared to the rest of the database. Once\nwe have numbers, we can make an estimate.\n\nOnce backfill is complete, we can (naively) assume that git data replication\nload for each secondary will exactly match the `git push` load on the primary.\nIt's a reasonable first-order approximation, and is more likely to over-state\nthe load than under-state it.\n\n\n## Investigating current replication capacity\n\nThis is a fairly exploratory issue. We need to start with a primary and a fully-replicated secondary, apply a sustained period of database and filesystem writes to the primary (creating new issues, uploading files and LFS objects, renaming and updating repositories and wikis, etc), and observe the replication process in action.\n\nWe need to either shadow GitLab.com traffic (I'm not sure this is possible), or get some numbers from GitLab.com to tell us what rate and mix of updates we should be sending to our testbed primary and generate the load ourselves with, e.g., https://gitlab.com/gitlab-org/gitlab-ee/issues/3117#note_47093268\n\nSome important questions:\n\n* How does postgresql replication lag change? What rate of sustained database updates can we maintain before we start falling behind? Can we add hardware to scale this?\n* The Geo log cursor operates by adding and removing events to various tables on the primary. Does this generate substantial additional load on postgresql? How many events/second can we enqueue before we start to affect postgresql replication negatively?\n* The Geo log cursor is a daemon on the secondary that processes those enqueued events. How many events/second can it handle without falling behind? What are its resource requirements while doing so? Can it keep up with ordinary and exceptional GitLab.com traffic?\n* The secondary is notified of changes to repositories on the primary, and it enqueues an unbounded number of `git fetch` operations in response to log cursor events. Is this sustainable at GitLab.com scale? Should we apply concurrency limits?\n* Once the updates to the primary have finished and the secondary claims to be synchronized again, is the secondary *actually* in a consistent state? Have unexpected race conditions removed or broken repositories or files? Did any events get missed? etc.\n\nI reckon this could do with a ~\"GCP Migration\" label /cc @andrewn","state":"closed","created_at":"2017-11-14T11:49:05.064Z","updated_at":"2019-12-11T20:29:53.522Z","closed_at":"2018-03-06T06:17:38.286Z","closed_by":null,"labels":["Deliverable","Enterprise Edition","GCP Migration","devops::systems","direction","group::geo"],"milestone":{"id":416486,"iid":8,"group_id":9970,"title":"10.6","description":"https://about.gitlab.com/releases/2018/03/22/gitlab-10-6-released","state":"closed","created_at":"2017-11-21T20:05:35.697Z","updated_at":"2020-04-27T16:30:32.220Z","due_date":"2018-03-22","start_date":"2018-02-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/8"},"assignees":[],"author":{"id":572018,"username":"nick.thomas","name":"Nick Thomas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/572018/avatar.png","web_url":"https://gitlab.com/nick.thomas"},"type":"ISSUE","assignee":null,"user_notes_count":22,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/4030","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/4030","notes":"https://gitlab.com/api/v4/projects/278964/issues/4030/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/4030/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#4030","relative":"#4030","full":"gitlab-org/gitlab#4030"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":24658603,"iid":20150,"project_id":278964,"title":"Images from wiki repository are broken","description":"### Summary\n\nWhen referencing an image that is stored in the wiki repository, the generated `img` tag is wrong.\n\n### Steps to reproduce\n\n1. Open https://gitlab.com/Compositional/wiki-bug/wikis/home\n2. See that no image is shown\n3. Inspect the HTML generated from the markdown to see that the `data-src` attribute *value* is correct - suggesting a way of fixing the problem.\n\n### Example Project\n\nhttps://gitlab.com/Compositional/wiki-bug/wikis/home\n\n### What is the current *bug* behavior?\n\n    \u003cimg data-src=\"\u003ccorrect url\u003e\"\n\n### What is the expected *correct* behavior?\n\n    \u003cimg src=\"\u003ccorrect url\u003e\" data-src=...\n\n### Output of checks\n\nThis bug happens on GitLab.com","state":"closed","created_at":"2017-11-14T11:20:43.932Z","updated_at":"2021-03-18T09:10:21.910Z","closed_at":"2021-03-18T09:10:21.410Z","closed_by":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier López","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"labels":["Category:Wiki","Create [DEPRECATED]","backend","devops::create","group::editor","priority::4","reproduced on GitLab.com","section::dev","severity::4","type::bug"],"milestone":{"id":1233761,"iid":57,"group_id":9970,"title":"13.10","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.646Z","updated_at":"2022-04-21T07:22:00.171Z","due_date":"2021-03-17","start_date":"2021-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/57"},"assignees":[{"id":955795,"username":"fjsanpedro","name":"Francisco Javier López","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"}],"author":{"id":734625,"username":"Hensing","name":"Robert","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/734625/avatar.png","web_url":"https://gitlab.com/Hensing"},"type":"ISSUE","assignee":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier López","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"user_notes_count":19,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/20150","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/20150","notes":"https://gitlab.com/api/v4/projects/278964/issues/20150/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/20150/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#20150","relative":"#20150","full":"gitlab-org/gitlab#20150"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":24658567,"iid":20137,"project_id":278964,"title":"GitHub import results in 404 due to not having a default branch","description":"Some imports from GitHub are returning a 404 as soon as they're imported. It looks like they don't have a default branch even if the branch is properly set in the repository: \n\n```\nroot@web-01:/var/opt/gitlab/git-data-file12/repositories/\u003csnip\u003e/\u003csnip\u003e.git# cat HEAD\nref: refs/heads/master\n```\n\n# work around\nSetting the default branch through the API or in the console fixes the issue:\n\n```\nirb(main):006:0\u003e p.default_branch\n=\u003e nil\nirb(main):007:0\u003e p.change_head(\"master\")\n=\u003e \"master\"\nirb(main):008:0\u003e p.default_branch\n=\u003e \"master\"\nirb(main):009:0\u003e p.save\n=\u003e true\n```","state":"closed","created_at":"2017-11-13T17:48:34.086Z","updated_at":"2019-09-19T12:12:56.711Z","closed_at":"2019-09-19T12:12:56.675Z","closed_by":{"id":101578,"username":"zj-gitlab","name":"Zeger-Jan van de Weg","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/101578/avatar.png","web_url":"https://gitlab.com/zj-gitlab"},"labels":["DEPRECATED_import","Deliverable","[deprecated] Accepting merge requests","backend","customer","devops::create","group::gitaly","priority::2","repository","reproduced on GitLab.com","severity::2","type::bug"],"milestone":{"id":731039,"iid":38,"group_id":9970,"title":"12.4","description":"https://about.gitlab.com/releases/2019/10/22/gitlab-12-4-released","state":"closed","created_at":"2018-12-07T12:41:53.212Z","updated_at":"2020-04-27T16:30:43.889Z","due_date":"2019-10-17","start_date":"2019-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/38"},"assignees":[],"author":{"id":136229,"username":"cindy","name":"Cindy Pallares 🦉","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/136229/avatar.png","web_url":"https://gitlab.com/cindy"},"type":"ISSUE","assignee":null,"user_notes_count":59,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/20137","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/20137","notes":"https://gitlab.com/api/v4/projects/278964/issues/20137/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/20137/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#20137","relative":"#20137","full":"gitlab-org/gitlab#20137"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":7716768,"iid":4008,"project_id":278964,"title":"Geo log cursor reported to use lots of RAM","description":"Per https://gitlab.com/gitlab-org/gitlab-ee/issues/3999#note_46983471\n\n@grzesiek was that the *startup* cost, or is this after a period of running? Since this is a Ruby daemon, I suppose we can expect it to grow a bit over time.\n\nDo we need to implement a maxrss-killer for it?\n\nRunning locally, I see:\n\n```\nUSER       PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND\nlupine   23056  0.0  0.9 728204 324132 pts/1   Sl+  Nov08   5:58 ruby ./geo_log_cursor\n```\n\n~320MiB RSS is about what I was expecting - Ruby is *hangry* :shallow_pan_of_food:. The larger VSZ is generally not an issue.","state":"closed","created_at":"2017-11-13T10:57:25.351Z","updated_at":"2019-12-11T20:29:55.860Z","closed_at":"2017-11-27T11:53:14.412Z","closed_by":null,"labels":["Enterprise Edition","devops::systems","group::geo","workflow::in dev"],"milestone":{"id":360827,"iid":3,"group_id":9970,"title":"10.3","description":"","state":"closed","created_at":"2017-08-16T16:51:52.890Z","updated_at":"2018-03-22T16:15:37.036Z","due_date":"2017-12-22","start_date":"2017-11-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/3"},"assignees":[{"id":273486,"username":"jameslopez","name":"James Lopez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/273486/avatar.png","web_url":"https://gitlab.com/jameslopez"}],"author":{"id":572018,"username":"nick.thomas","name":"Nick Thomas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/572018/avatar.png","web_url":"https://gitlab.com/nick.thomas"},"type":"ISSUE","assignee":{"id":273486,"username":"jameslopez","name":"James Lopez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/273486/avatar.png","web_url":"https://gitlab.com/jameslopez"},"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/4008","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/4008","notes":"https://gitlab.com/api/v4/projects/278964/issues/4008/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/4008/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#4008","relative":"#4008","full":"gitlab-org/gitlab#4008"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":16,"epic":{"id":23,"iid":16,"title":"Geo: support high availability","url":"/groups/gitlab-org/-/epics/16","group_id":9970,"human_readable_end_date":"Dec 7, 2017","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":7705206,"iid":4006,"project_id":278964,"title":"Add issue weight indicator on the issue cards in the issue board","description":"This was originally posted here https://gitlab.com/gitlab-org/gitlab-ce/issues/25422, but when it was moved to https://gitlab.com/gitlab-org/gitlab-ee/issues/1379, it changed to address showing the info in the sidebar instead of on the card itself.\n\nIn addition to the original motivation, I would like to add that a benefit of having the weight appear on all issue cards versus only in the side bar when an issues is selected, is that it is *much* quicker to get an overview and compare the complexity of issues. This might sound trivial at first, but it is actually highly valuable information for prioritizing issues up and down one of the lists on the board, which is often one of the main activities when using the issue board.\n\nA small symbol and a number like in the original suggestion looks good (or even just a number if the symbol is considered to take up too much space, explanatory text can be added on hover):\n\n![issue-weight](/uploads/8951a1f5270e6ae372c7ad083ff56295/issue-weight.png)\n\n\n### Design\n\nIssue card weight indicator:\n\n![image](/uploads/a14a54ccef56480c111bf98f1a02a146/image.png)","state":"closed","created_at":"2017-11-11T23:40:54.937Z","updated_at":"2022-05-19T16:45:25.678Z","closed_at":"2018-03-22T14:56:01.209Z","closed_by":null,"labels":["Category:Team Planning","Deliverable","Enterprise Edition","boards","devops::plan","frontend","issue weight","issues","type::feature"],"milestone":{"id":424944,"iid":9,"group_id":9970,"title":"10.7","description":"","state":"closed","created_at":"2017-12-06T16:45:41.880Z","updated_at":"2018-05-11T15:04:03.492Z","due_date":"2018-04-22","start_date":"2018-03-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/9"},"assignees":[{"id":750946,"username":"dennis","name":"Dennis Tang","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/750946/avatar.png","web_url":"https://gitlab.com/dennis"}],"author":{"id":793681,"username":"joelostblom","name":"Joel Ostblom","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/793681/avatar.png","web_url":"https://gitlab.com/joelostblom"},"type":"ISSUE","assignee":{"id":750946,"username":"dennis","name":"Dennis Tang","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/750946/avatar.png","web_url":"https://gitlab.com/dennis"},"user_notes_count":11,"merge_requests_count":1,"upvotes":6,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/4006","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/4006","notes":"https://gitlab.com/api/v4/projects/278964/issues/4006/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/4006/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#4006","relative":"#4006","full":"gitlab-org/gitlab#4006"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":7697948,"iid":3997,"project_id":278964,"title":"[meta] Benchmark GitLab Geo","description":"Customers want to know roughly how long the initial replication might take, and how quickly changes are replicated.\n\nWe should do some measurement so that we can provide guidance to sales and support about possible real world expectations.\n\n### Links / references\n\nhttps://gitlab.com/gitlab-org/gitlab-ee/issues/76","state":"closed","created_at":"2017-11-10T22:42:18.806Z","updated_at":"2019-12-11T20:29:58.546Z","closed_at":"2018-04-06T20:16:40.113Z","closed_by":null,"labels":["Enterprise Edition","bug::performance","devops::systems","group::geo"],"milestone":null,"assignees":[],"author":{"id":1187333,"username":"jramsay-gitlab","name":"James Ramsay (ex-GitLab)","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1187333/avatar.png","web_url":"https://gitlab.com/jramsay-gitlab"},"type":"ISSUE","assignee":null,"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/3997","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/3997","notes":"https://gitlab.com/api/v4/projects/278964/issues/3997/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/3997/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#3997","relative":"#3997","full":"gitlab-org/gitlab#3997"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":7694271,"iid":3995,"project_id":278964,"title":"Improved visualization of SAST results in MR widget","description":"### Description\n\nSAST (https://gitlab.com/gitlab-org/gitlab-ee/issues/3723) adds security checks to the source code, and then are showed in the MR widget (https://gitlab.com/gitlab-org/gitlab-ee/issues/3775).\n\nInstead of showing the full list of security warnings (that can be related to new code changes, or just to the \"original\" code), we should be able to show both what's related to the specific MR, and what is the full status.\n\nIt will be marked as \"new\" each item that is not present in the latest available SAST report in the target branch, like we do for Code Quality.\n\n### Proposal\n\nImplement an improved view for the SAST report.\n\nThe first expansion of the list shows only \"new\" items, while a second option to expand further will show the complete list of \"new\" and \"existing\" warnings.\n\n### Design\n\n#### Mockups and Details\n\n- \"Always visible report\" shows only the new vulnerabilities compared to the previous report. Show all vulnerabilities can show the rest upon explicit request of the user.\n\n\u003e - With added and fixed vulnerabilities \u0026 a list to show them all\n\n![image](/uploads/f396da7ade9123419023023006a98ee7/image.png)\n\n\u003e - With nor fixed or added and a list to show them all\n\nSo no list expand anchor.. as they are shown all by default\n\n![image](/uploads/0b9bb44833c611f8cf13e9c3bb6de94d/image.png)\n\n\u003e - With fixed vulnerabilities \u0026 a list to show them all\n\n![image](/uploads/853f5e31962f9b07bae029f304270a84/image.png)\n\n\u003e - ~~With added vulnerabilities that are exactly the same of the all list (not sure if we have a way to do this) cc @dzaporozhets~~\n\n\u003e - Does the show all list toggle back?\n\nNo :)\n\n\u003e - Does the show all list adds items to the list above?\n\nYes\n\n\u003e empty\n\n- When the list is expanded with previously discovered items it lets the anchor disappear and shows them as one list:\n\nFrom:\n\n![img](https://gitlab.com/gitlab-org/gitlab-ee/uploads/f396da7ade9123419023023006a98ee7/image.png)\n\nTo:\n\n![image](/uploads/1a86dc3ca57301f443ca45b2dc3dd1aa/image.png)\n\n#### Copy\n\n- loading\n  - SAST\n     - Spinner icon + `in progress`\n- error\n  - SAST\n     - Exclamation mark icon + `There was an error in loading results`\n- text with only added vulnerabilities\n  - `SAST detected 1 vulnerability`\n  - `SAST detected 4 vulnerabilities`\n- text with only fixed vulnerabilities\n  - `SAST detected 1 fixed vulnerability`\n  - `SAST detected 2 fixed vulnerabilities`\n- text with both\n  - `SAST detected 1 vulnerability and 1 fixed vulnerability`\n  - `SAST detected 4 vulnerabilities and 2 fixed vulnerabilities`\n- Anchor below `Show complete code vulnerabilities report`","state":"closed","created_at":"2017-11-10T18:18:23.053Z","updated_at":"2019-11-18T17:30:46.616Z","closed_at":"2018-01-31T16:39:33.048Z","closed_by":null,"labels":["Deliverable","Enterprise Edition","GitLab Ultimate","backend","devops::secure","feature::enhancement","frontend","merge requests","workflow::blocked","workflow::in dev"],"milestone":{"id":404412,"iid":7,"group_id":9970,"title":"10.5","description":"https://about.gitlab.com/releases/2018/02/22/gitlab-10-5-released","state":"closed","created_at":"2017-11-02T10:41:09.107Z","updated_at":"2020-04-27T16:30:54.473Z","due_date":"2018-02-22","start_date":"2018-01-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/7"},"assignees":[{"id":444,"username":"dzaporozhets","name":"Dmytro Zaporozhets (DZ)","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/444/avatar.png","web_url":"https://gitlab.com/dzaporozhets"},{"id":489558,"username":"dimitrieh","name":"Dimitrie Hoekstra","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/489558/avatar.png","web_url":"https://gitlab.com/dimitrieh"}],"author":{"id":1273957,"username":"bikebilly","name":"Fabio Busatto","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1273957/avatar.png","web_url":"https://gitlab.com/bikebilly"},"type":"ISSUE","assignee":{"id":444,"username":"dzaporozhets","name":"Dmytro Zaporozhets (DZ)","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/444/avatar.png","web_url":"https://gitlab.com/dzaporozhets"},"user_notes_count":79,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/3995","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":4,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/3995","notes":"https://gitlab.com/api/v4/projects/278964/issues/3995/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/3995/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#3995","relative":"#3995","full":"gitlab-org/gitlab#3995"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":7689245,"iid":3993,"project_id":278964,"title":"Animate epic dates dropdowns opening like other dropdowns","description":"# Discussion\n\nThe following discussion from !3253 should be addressed (https://gitlab.com/gitlab-org/gitlab-ee/merge_requests/3253#note_46726315):\n\n\u003e\u003e 5 Do you think it's possible to have the same dropdown animation as currently have for the issue “Due date” dropdown? ([GIF](https://gitlab.com/gitlab-org/gitlab-ee/uploads/af3bded8917a2e1402e1b6fc2d96baec/Nov-09-2017_13-34-02.gif))\n\u003e\n\u003e It's possible but it's not trivial. I tried a few implementations with Vue and wasn't able to get very far. I'd like to put this off if we can, so that I can focus on the remaining portfolio management issues for 10.2 \n\n# Outcome\n\n**Animate epic dates dropdowns opening like other dropdowns**","state":"closed","created_at":"2017-11-10T15:40:20.189Z","updated_at":"2022-05-19T16:45:24.381Z","closed_at":"2021-04-22T21:01:49.798Z","closed_by":{"id":516904,"username":"tauriedavis","name":"Taurie Davis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/516904/avatar.png","web_url":"https://gitlab.com/tauriedavis"},"labels":["Category:Portfolio Management","Enterprise Edition","GitLab Ultimate","UX","UX debt","[deprecated] Accepting merge requests","auto updated","awaiting feedback","devops::plan","epics","frontend","group::product planning","priority::4","section::dev"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":626804,"username":"pedroms","name":"Pedro Moreira da Silva","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c306f087d191ac15549f3c11e3bed321?s=80\u0026d=identicon","web_url":"https://gitlab.com/pedroms"},"type":"ISSUE","assignee":null,"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/3993","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/3993","notes":"https://gitlab.com/api/v4/projects/278964/issues/3993/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/3993/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#3993","relative":"#3993","full":"gitlab-org/gitlab#3993"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2458,"epic":{"id":18042,"iid":2458,"title":"Plan - UX Deficiencies","url":"/groups/gitlab-org/-/epics/2458","group_id":9970,"human_readable_end_date":"Jul 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":7689208,"iid":3992,"project_id":278964,"title":"Turn the epic dates block in collapsed sidebar into one clickable block","description":"# Discussion\n\nThe following discussion from !3253 should be addressed (https://gitlab.com/gitlab-org/gitlab-ee/merge_requests/3253#note_46726315):\n\n\u003e\u003e 3 The whole date block should be clickable, currently it's separated in two blocks (start date and finish date) and the `-` is not clickable\n\u003e \n\u003e So this part, I spoke with @jschatz1 and was wondering if we would be okay with it's current implementation for now. It's an interesting scenario because in milestones, we have the entire block as one clickable block and only expanded the sidebar when clicked rather than opening the dropdown for it's respective date picker. In this scenario, we allow users to change the dates on the sidebar. As a result, in my opinion, clicking on the collapsed date _should_ expand the sidebar and open the date dropdown (which would be nice to implement but for the sake of time, we can't do it in this iteration). With all that being said, that's the reason I broke it into two parts in the first place (when I somehow missed the part about the milestone sidebar having a similar design).\n\n# Proposal\n\n**Turn the epic dates block in collapsed sidebar into one clickable block, like we do for milestone dates.**\n\nThe interaction area is too small to divide the block into two separate date selections which spawn their respective date picker when clicked. Also, because we're joining two attributes (start date and finish date) into one visual block when the sidebar is collapsed, the user mental model changes according to that new visual representation — it's now a time range “attribute” and not two separate date attributes.","state":"closed","created_at":"2017-11-10T15:37:29.638Z","updated_at":"2022-05-19T16:45:24.126Z","closed_at":"2019-11-11T15:33:41.040Z","closed_by":{"id":1361348,"username":"rpaik","name":"Ray Paik","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1361348/avatar.png","web_url":"https://gitlab.com/rpaik"},"labels":["Category:Portfolio Management","Enterprise Edition","GitLab Ultimate","UX","UX debt","[deprecated] Accepting merge requests","auto updated","awaiting feedback","devops::plan","epics","frontend","group::product planning","priority::4"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":626804,"username":"pedroms","name":"Pedro Moreira da Silva","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c306f087d191ac15549f3c11e3bed321?s=80\u0026d=identicon","web_url":"https://gitlab.com/pedroms"},"type":"ISSUE","assignee":null,"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/3992","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/3992","notes":"https://gitlab.com/api/v4/projects/278964/issues/3992/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/3992/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#3992","relative":"#3992","full":"gitlab-org/gitlab#3992"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":24658525,"iid":20116,"project_id":278964,"title":"Show function signature in diffs","description":"### Description\n\nWhen reviewing code for a MR (but also in diffs in general in GitLab), often large portions of the code is compaced with ... which you must click on to expand.  This current functionality is fine except for the fact that often hidden in these ...'s are the function signature definitions.  These are usually displayed in a typical \"git diff\" command to provide context to the user as to what function they are looking at, and without the function signature it is difficult to tell what function you are in, and what code is associated with what code by such a function as well.  Likewise, the ...'s can be difficult to notice sometimes and it can seem as though you are looking at one function's code when in fact you are looking at two.  Trying to tell what function the code you are looking at requires clicking sometimes numerous cascaded ...'s in order to find the function signature definition, and if one is missed can lead to a misleading idea of what you are looking at.  (yes, in a perfect world all our functions would be small and we would probably never see the definitions collapsed, but so much for a perfect world)\n\nThe goal of this proposal is to simplify this problem by always displaying the function signature or having it be an optional setting in user preferences if it is deemed not useful to all.  This is something which git diff does automatically as it stands, and for good reason, so you can relate changes to what function they are occurring in.\n\n### Proposal\n\nAlways show the function signature declaration, never collapsing it, when displaying a diff in Gitlab.  This or optionally have a setting in preferences to accomplish this.\n\n#### Overview\n\nWhat is it? Showing function signature definitions in diffs\n\nWhy should someone use this feature? Because it can be confusing and annoying to find/click ...'s\n\nWhat is the underlying (business) problem? Gitlab collapses most non-diff code, including function signatures.\n\nHow do you use this feature? For reviewing code mostly.\n\n\n#### Use cases\n\nWho is this for? Provide one or more use cases.\n\nThis is for developers/managers, anyone who reviews code.\n\nExample of current way diff is done.  Apologies for redacts, what is being done is unimportant so much as it is unclear what function you are viewing.  Since there are two sets of ...'s in this view, you must potentially open both to see what each of the code blocks belongs to (functions of their own, or the same function?)\n\n![image](/uploads/97dd986479b4f9bbb20b311daf763731/image.png)\n\nExample of those ...'s expanded.  As you can see I had to open the lower one, find out that the two parts of code are together, and then had to go open up the upper one to see finally what the function was called (line 185, moveSomething async function...)  What I would propose is that line 185 always be displayed as it is the function signature for the code we are looking at, while leaving all else that is normally collapsed into ...'s collapsed so it doesn't get in the way, optionally clickable as it currently is to open it further.\n\n![image](/uploads/86acfe9a86298c19c5bf0b46ac076be3/image.png)\n\n### Feature checklist\n\nMake sure these are completed before closing the issue,\nwith a link to the relevant commit.\n\n- [ ] [Feature assurance](https://about.gitlab.com/handbook/product/#feature-assurance)\n- [ ] Documentation\n- [ ] Added to [features.yml](https://gitlab.com/gitlab-com/www-gitlab-com/blob/master/data/features.yml)","state":"closed","created_at":"2017-11-10T15:09:43.400Z","updated_at":"2022-02-18T07:01:13.408Z","closed_at":"2022-01-26T08:50:55.733Z","closed_by":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"labels":["Category:Code Review Workflow","Deliverable","Technical Writing","customer","devops::create","diff","documentation","frontend","group::code review","merge requests","section::dev","type::feature","workflow::in review"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"}],"author":{"id":1768912,"username":"robert.grimball","name":"Robert Grimball","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4be72899a453bbae11ed06468bbb6bdd?s=80\u0026d=identicon","web_url":"https://gitlab.com/robert.grimball"},"type":"ISSUE","assignee":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"user_notes_count":31,"merge_requests_count":0,"upvotes":8,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/20116","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/20116","notes":"https://gitlab.com/api/v4/projects/278964/issues/20116/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/20116/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#20116","relative":"#20116","full":"gitlab-org/gitlab#20116"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":24658522,"iid":20114,"project_id":278964,"title":"Wrong hint when pushing the wiki of a moved repository","description":"### Summary\n\nWhen pushing to the old origin of a repository that has been moved, GitLab gives a hint on how to update to the new origin.\nWhen pushing to the wiki of a moved repository, the new origin points to the repository itself and not to the wiki.\n\n### Steps to reproduce\n\n1. Create a repository\n1. Clone the wiki\n1. Move the repository to another namespace\n1. Try pushing to the wiki via the repository cloned in `2.`\n\n### What is the current *bug* behavior?\n\nGitLab gives the following hint:\n\n```\nGitLab: Project '\u003cowner\u003e/\u003crepo\u003e.wiki' was moved to '\u003cowner\u003e/\u003cnamespace\u003e/\u003crepo\u003e'.\n\nPlease update your Git remote and try again:\n\n  git remote set-url origin ssh://git@\u003chostname\u003e/\u003cowner\u003e/\u003cnamespace\u003e/\u003crepo\u003e.git\n```\n\n### What is the expected *correct* behavior?\n\nThe provided hint should point to the wiki repository:\n\n\n```\nGitLab: Project wiki '\u003cold-path\u003e/-/wikis' was moved to '\u003cnew-path\u003e/-/wikis'.\n\nPlease update your Git remote and try again:\n\n  git remote set-url origin ssh://git@\u003chostname\u003e/\u003cowner\u003e/\u003cnamespace\u003e/\u003crepo\u003e.wiki.git\n```\n\n\n#### Results of GitLab environment info\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to GitLab environment info\u003c/summary\u003e\n\u003cpre\u003e\nSystem information\nSystem:         Ubuntu 16.04\nCurrent User:   git\nUsing RVM:      no\nRuby Version:   2.3.5p376\nGem Version:    2.6.13\nBundler Version:1.13.7\nRake Version:   12.1.0\nRedis Version:  3.2.5\nGit Version:    2.13.6\nSidekiq Version:5.0.4\nGo Version:     unknown\n\nGitLab information\nVersion:        10.1.2\nRevision:       af60a6c\nDirectory:      /opt/gitlab/embedded/service/gitlab-rails\nDB Adapter:     postgresql\nUsing LDAP:     no\nUsing Omniauth: no\n\nGitLab Shell\nVersion:        5.9.3\nRepository storage paths:\n- default:      /var/opt/gitlab/git-data/repositories\nHooks:          /opt/gitlab/embedded/service/gitlab-shell/hooks\nGit:            /opt/gitlab/embedded/bin/git\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n--- \n\n### Test Activity\n\n@toupeira :\n* Add/update test for this case.\n\n\n### MR Breakdown\n\n@lulalala \n* This is probably related to GitAccess","state":"closed","created_at":"2017-11-10T12:41:25.901Z","updated_at":"2020-12-08T14:36:28.529Z","closed_at":"2020-12-07T15:24:54.439Z","closed_by":{"id":423116,"username":"toupeira","name":"Markus Koller","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7585ed50675c4febe7619f25b44f7fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/toupeira"},"labels":["Category:Wiki","Create [DEPRECATED]","[deprecated] Accepting merge requests","backend","default-priority","default-severity","devops::create","group::editor","needs investigation","priority::3","section::dev","severity::3","type::bug"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":1365129,"username":"vbrandl","name":"vbrandl","state":"active","avatar_url":"https://secure.gravatar.com/avatar/2c959a107e287a5ace8e6f92f67e9a30?s=80\u0026d=identicon","web_url":"https://gitlab.com/vbrandl"},"type":"ISSUE","assignee":null,"user_notes_count":18,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/20114","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/20114","notes":"https://gitlab.com/api/v4/projects/278964/issues/20114/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/20114/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#20114","relative":"#20114","full":"gitlab-org/gitlab#20114"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":702,"epic":{"id":2961,"iid":702,"title":"Improve Git consistency of Wikis","url":"/groups/gitlab-org/-/epics/702","group_id":9970,"human_readable_end_date":"May 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":7672543,"iid":3969,"project_id":278964,"title":"Nonnegative integer weights","description":"\n### Design\n\n- The valid inputs for an issue's weight are `None`, `0`, `1`, ...\n\n- When an issue is first created, it starts off as having `None`.\n\n- When you have _filtering_ in an issue list, we support:\n\n    - `None` (currently called `No Weight`)\n\n    - `Any` (currently called `Any Weight`)\n\n    - _Maybe_ include a filter that gives you issues weight value: `0`, `1`, ...\n- When you have _ordering_ in an issue list, `No Weight` issues should be last, i.e. https://gitlab.com/gitlab-org/gitlab-ee/issues/1198.\n\n- When you do any math with issue weights, such as burndown charts, it should ignore `No Weight` issues.\n\n![image](https://gitlab.com/gitlab-org/gitlab-ee/uploads/19c8663b2b5347d3c654e6108d9e16bf/image.png)\n\n![image](https://gitlab.com/gitlab-org/gitlab/uploads/e77bc14a0bfcd7c587494388a8afc6a0/image.png)\n\n- template text says `0` (when no weight has been entered yet)\n\n![image](https://gitlab.com/gitlab-org/gitlab/uploads/1d237d4ed8f43160152c8188202e1989/image.png)\n\n- Dropdowns get the extra value `0`\n\n![image](https://gitlab.com/gitlab-org/gitlab/uploads/e8b9bb030b221b952bd2c88773baec70/image.png)\n\n- Losing focus of the edit field will trigger the save action\n\n- Loading state (same as other sidebar sections) \n\n![2018-05-09_23.00.44](https://gitlab.com/gitlab-org/gitlab/uploads/20b3a52679267b23a7660fe069612873/2018-05-09_23.00.44.gif)\n\n- Removing weight\n\n![image](https://gitlab.com/gitlab-org/gitlab/uploads/d8e109ece54161a4b3a49b100a545975/image.png)\n\n- Issue search dropdown gets numbers 1-20 by default\n\n- Issue search dropdown updates similarly to the milestone dropdown and shows the number the user has given as a clickable list item\n\n![image](https://gitlab.com/gitlab-org/gitlab/uploads/dad392e9bdb9e6ad33bda33c166719f6/image.png)\n\n- Template text: `0, 1, 2, ...`\n\n- Truncate/ellipsis after five or so characters\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2017-11-09T15:15:24.266Z","updated_at":"2022-05-19T16:45:23.821Z","closed_at":"2018-06-08T04:01:20.371Z","closed_by":{"id":636429,"username":"mikegreiling","name":"Mike Greiling","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/636429/avatar.png","web_url":"https://gitlab.com/mikegreiling"},"labels":["Deliverable","Enterprise Edition","backend","devops::plan","direction","frontend","issue weight","issues","release post item","type::feature","workflow::in review"],"milestone":{"id":362887,"iid":5,"group_id":9970,"title":"11.0","description":"https://about.gitlab.com/releases/2018/06/22/gitlab-11-0-released","state":"closed","created_at":"2017-08-22T11:26:37.313Z","updated_at":"2020-04-27T16:31:06.794Z","due_date":"2018-06-22","start_date":"2018-05-07","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/5"},"assignees":[{"id":11493,"username":"oswaldo","name":"Oswaldo Ferreira","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11493/avatar.png","web_url":"https://gitlab.com/oswaldo"},{"id":489558,"username":"dimitrieh","name":"Dimitrie Hoekstra","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/489558/avatar.png","web_url":"https://gitlab.com/dimitrieh"},{"id":750946,"username":"dennis","name":"Dennis Tang","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/750946/avatar.png","web_url":"https://gitlab.com/dennis"}],"author":{"id":711023,"username":"victorwu","name":"Victor Wu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/711023/avatar.png","web_url":"https://gitlab.com/victorwu"},"type":"ISSUE","assignee":{"id":11493,"username":"oswaldo","name":"Oswaldo Ferreira","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11493/avatar.png","web_url":"https://gitlab.com/oswaldo"},"user_notes_count":84,"merge_requests_count":2,"upvotes":8,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/3969","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":6,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/3969","notes":"https://gitlab.com/api/v4/projects/278964/issues/3969/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/3969/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#3969","relative":"#3969","full":"gitlab-org/gitlab#3969"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":7668450,"iid":3963,"project_id":278964,"title":"Let /duplicate mark issues as related","description":"# Problem\n\nWhen issues are marked as duplicates, it is sometimes difficult to go back later to easily reference comments the wider community has made across a series of issues that all are working towards the same goal. \n\n# Proposal\n\nWhen issues are marked as a duplicate, automatically relate the issue being marked with the issue that is the canonical issue source.\n\n# Success Criteria\n\n## Completion Criteria\n\n- [ ] When an issue is marked as a duplicate of another, the two issues are automatically related. \n- [ ] Documentation\n\n# Documentation\n\n- I'm assuming so!","state":"closed","created_at":"2017-11-09T09:39:43.676Z","updated_at":"2022-05-19T16:45:22.430Z","closed_at":"2019-12-03T10:21:17.353Z","closed_by":{"id":2880930,"username":"engwan","name":"Heinrich Lee Yu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2880930/avatar.png","web_url":"https://gitlab.com/engwan"},"labels":["Community contribution","Enterprise Edition","backend","devops::plan","documentation","group::project management","issues","quick actions","type::feature"],"milestone":{"id":891797,"iid":40,"group_id":9970,"title":"12.6","description":"https://about.gitlab.com/releases/2019/12/22/gitlab-12-6-released","state":"closed","created_at":"2019-05-31T08:38:03.539Z","updated_at":"2020-04-27T16:27:13.329Z","due_date":"2019-12-17","start_date":"2019-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/40"},"assignees":[{"id":1212235,"username":"winh","name":"Inactive Account","state":"active","avatar_url":"https://secure.gravatar.com/avatar/e34b010c96ff3f44c62cddf66607232a?s=80\u0026d=identicon","web_url":"https://gitlab.com/winh"},{"id":2484859,"username":"leiminghany","name":"minghuan lei","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2484859/avatar.png","web_url":"https://gitlab.com/leiminghany"}],"author":{"id":1212235,"username":"winh","name":"Inactive Account","state":"active","avatar_url":"https://secure.gravatar.com/avatar/e34b010c96ff3f44c62cddf66607232a?s=80\u0026d=identicon","web_url":"https://gitlab.com/winh"},"type":"ISSUE","assignee":{"id":1212235,"username":"winh","name":"Inactive Account","state":"active","avatar_url":"https://secure.gravatar.com/avatar/e34b010c96ff3f44c62cddf66607232a?s=80\u0026d=identicon","web_url":"https://gitlab.com/winh"},"user_notes_count":9,"merge_requests_count":1,"upvotes":4,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/3963","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/3963","notes":"https://gitlab.com/api/v4/projects/278964/issues/3963/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/3963/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#3963","relative":"#3963","full":"gitlab-org/gitlab#3963"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":24658503,"iid":20102,"project_id":278964,"title":"UI: Dropdown cut off at protected branch permission setting. Edge only, works in chrome.","description":"### Summary\nIssue is on Gitlab.com.\n\n### Screenshot\n\n![Protected_branch_dropdown_cut_off](/uploads/2c5eb7c8c31153b88658c6de22c3c034/Protected_branch_dropdown_cut_off.PNG)","state":"closed","created_at":"2017-11-09T04:30:54.912Z","updated_at":"2020-11-02T12:21:49.606Z","closed_at":"2020-11-02T12:21:49.574Z","closed_by":{"id":1786152,"username":"gitlab-bot","name":"🤖 GitLab Bot 🤖","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1786152/avatar.png","web_url":"https://gitlab.com/gitlab-bot"},"labels":["Create [DEPRECATED]","[deprecated] Accepting merge requests","auto closed","awaiting feedback","browser:edge","default-priority","default-severity","devops::create","frontend","group::source code","priority::3","repository","section::dev","settings","severity::3","stale","type::bug","vintage"],"milestone":null,"assignees":[],"author":{"id":954980,"username":"sumitbeniwal","name":"Sumit Beniwal","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/954980/avatar.png","web_url":"https://gitlab.com/sumitbeniwal"},"type":"ISSUE","assignee":null,"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/20102","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/20102","notes":"https://gitlab.com/api/v4/projects/278964/issues/20102/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/20102/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#20102","relative":"#20102","full":"gitlab-org/gitlab#20102"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":24658498,"iid":20099,"project_id":278964,"title":"Markdown with YAML rendering doesn't handle UTF8 BOM","description":"### Summary\n\nIf you check in Markdown file with a UTF-8 BOM marker, it does not render a YAML header as a code block.\n\n### Steps to reproduce\n\n1. Create a Markdown file with a YAML header\n2. Make sure it has a BOM (using Notepad++ for example)\n3. Check it in\n4. Preview it\n\n### Example Project\n\nhttps://gitlab.com/dmoonfire/gitlab-markdown-bom\n\n### What is the current *bug* behavior?\n\nThe BOM causes it not to correctly identify the YAML header and format at it.\n\n### What is the expected *correct* behavior?\n\nIt would treat files with and without BOM identically.\n\n### Relevant logs and/or screenshots\n\nWith BOM:\n\n![image](/uploads/694136561a4d450dbab23d692b29ba97/image.png)\n\nWithout BOM:\n\n![image](/uploads/fac7cd2af95af11211337bfd26a14090/image.png)\n\n### Output of checks\n\nThis bug happens on GitLab.com.\n\n### Possible fixes\n\nSorry.","state":"closed","created_at":"2017-11-08T21:43:58.286Z","updated_at":"2020-11-18T12:48:51.929Z","closed_at":"2020-11-13T17:14:29.428Z","closed_by":{"id":194645,"username":"digitalmoksha","name":"Brett Walker","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/194645/avatar.png","web_url":"https://gitlab.com/digitalmoksha"},"labels":["backend","default-priority","default-severity","devops::plan","group::project management","markdown","priority::4","reproduced on GitLab.com","section::dev","severity::3","type::bug","vintage","workflow::verification"],"milestone":{"id":1233755,"iid":53,"group_id":9970,"title":"13.6","description":"https://about.gitlab.com/releases/2020/11/22/gitlab-13-6-released/","state":"closed","created_at":"2020-04-09T17:39:22.328Z","updated_at":"2022-04-13T14:51:04.376Z","due_date":"2020-11-17","start_date":"2020-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/53"},"assignees":[{"id":194645,"username":"digitalmoksha","name":"Brett Walker","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/194645/avatar.png","web_url":"https://gitlab.com/digitalmoksha"}],"author":{"id":103560,"username":"dmoonfire","name":"dmoonfire","state":"active","avatar_url":"https://secure.gravatar.com/avatar/297a9bdb0fa420979e43b08a50f5f0a7?s=80\u0026d=identicon","web_url":"https://gitlab.com/dmoonfire"},"type":"ISSUE","assignee":{"id":194645,"username":"digitalmoksha","name":"Brett Walker","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/194645/avatar.png","web_url":"https://gitlab.com/digitalmoksha"},"user_notes_count":16,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/20099","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/20099","notes":"https://gitlab.com/api/v4/projects/278964/issues/20099/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/20099/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#20099","relative":"#20099","full":"gitlab-org/gitlab#20099"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":7659723,"iid":3959,"project_id":278964,"title":"Mirroring interface improvements","description":"Push and pull mirroring have similar but quite separate interfaces. This makes it difficult to configure bi-directional mirroring. It would be much more convenient to be able to configure push and pull mirroring in the same interface\n\nAlso the backend supports multiple push mirroring locations but the current interface only permits one. It would be ideal for the new interface to support this capability.\n\nAdditionally, the interfaces for authentication are inconsistent. Particularly the way credentials for HTTP are input. We should make sure they are collected in form fields, not the URL, so that once the password is set it cannot be retrieved from the interface.\n\n### Proposal\n\n- Allow project owners and admins to configure one pull mirror\n- Allow project owners and admins to configure multiple push mirrors\n- Consolidate push and pull mirroring into a single mirroring interface\n- Allow username and password to be set in form fields (not the URL) for push mirroring. This is already implemented for pull mirroring.\n\n### Design\n\nRather than having two separate areas for configuring push and pull mirroring to make bidirectional mirroring work, I think it would make more sense to have single Mirroring area, where I can add the details of the repos I can mirror to and from.\n\nPerhaps it might be a list of repositories, that the user can add and remove repos from.\n\n```\n------------------------------------------------------------\nhttps://github.com/gitlab/example.git [ pull ]\nProtect branches only  -  Last updated 2 minutes ago\n------------------------------------------------------------\nhttps://internal.com/example/example.git [ push ]\nAll branches  -  Last updated 5 minutes ago\n------------------------------------------------------------\nhttps://example.com/foo/bar.git [ push ]\nAll branches  -  Last updated 5 minutes ago\n------------------------------------------------------------\n```\n\nThere would need to be way add, edit and remove mirrors.\n\n### Links / references\n\nhttps://gitlab.com/gitlab-org/gitlab-ee/issues/3745\n\n### Design\n\nAs this is such a difficult complicated piece of UI (many different states), I thought it best to show this off as a prototype rather than static mockups.\n\nThis is the interactive url: https://framer.cloud/MWgDp/index.html\n\nGif preview (doesn't do it justice, as there are so many states):\n\n![2018-03-08_00.38.41](/uploads/200b17be7942ab6678c9ab6b87f3f510/2018-03-08_00.38.41.gif)\n\nNote: Appear in and appear out animations are appreciated if it can be made to look good :wink: This is to solve the jagged motion of instant show/hiding sections of the UI","state":"closed","created_at":"2017-11-08T16:56:21.252Z","updated_at":"2019-08-12T15:45:14.725Z","closed_at":"2018-08-07T21:07:31.892Z","closed_by":{"id":1149402,"username":"timzallmann","name":"Tim Zallmann","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1149402/avatar.png","web_url":"https://gitlab.com/timzallmann"},"labels":["Deliverable","Enterprise Edition","devops::create","frontend","mirror","missed-deliverable","settings","type::feature","workflow::in review"],"milestone":{"id":494367,"iid":15,"group_id":9970,"title":"11.2","description":"","state":"closed","created_at":"2018-03-27T19:26:05.990Z","updated_at":"2018-11-06T19:16:51.951Z","due_date":"2018-08-22","start_date":"2018-07-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/15"},"assignees":[{"id":489558,"username":"dimitrieh","name":"Dimitrie Hoekstra","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/489558/avatar.png","web_url":"https://gitlab.com/dimitrieh"},{"id":534669,"username":"lbennett","name":"Luke Bennett","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/534669/avatar.png","web_url":"https://gitlab.com/lbennett"},{"id":1187333,"username":"jramsay-gitlab","name":"James Ramsay (ex-GitLab)","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1187333/avatar.png","web_url":"https://gitlab.com/jramsay-gitlab"}],"author":{"id":1187333,"username":"jramsay-gitlab","name":"James Ramsay (ex-GitLab)","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1187333/avatar.png","web_url":"https://gitlab.com/jramsay-gitlab"},"type":"ISSUE","assignee":{"id":489558,"username":"dimitrieh","name":"Dimitrie Hoekstra","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/489558/avatar.png","web_url":"https://gitlab.com/dimitrieh"},"user_notes_count":67,"merge_requests_count":1,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/3959","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":6,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/3959","notes":"https://gitlab.com/api/v4/projects/278964/issues/3959/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/3959/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#3959","relative":"#3959","full":"gitlab-org/gitlab#3959"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":7656179,"iid":3953,"project_id":278964,"title":"Backporting authorized_keys feature to CE","description":"As part of our ~\"Cloud Native\" and ~\"GCP Migration\" work, we identified in https://gitlab.com/charts/helm.gitlab.io/issues/13 and https://gitlab.com/charts/helm.gitlab.io/issues/14 that not having to write to authorized_keys file\nwould simplify our work.\n\nAs far as I understand, the biggest chunk is already in gitlab-shell, so accessible in both EE and CE: https://gitlab.com/gitlab-org/gitlab-shell/merge_requests/42/\n\nTwo required parts from EE codebase are https://gitlab.com/gitlab-org/gitlab-ee/merge_requests/250 and https://gitlab.com/gitlab-org/gitlab-ee/merge_requests/2004.\n\n@jramsay I think this falls under ~Platform. Are there any reasons why we should not backport this to CE? \n\nTo make it perfectly clear, this is not intended to be the new default behaviour of very installation method. We only need this option to be available in both editions to simplify the work in helm charts where this will be the default.\n\n## Links\n\nhttps://docs.gitlab.com/ee/administration/operations/fast_ssh_key_lookup.html\n\n/cc @pcarranza","state":"closed","created_at":"2017-11-08T12:55:06.490Z","updated_at":"2019-08-12T15:45:15.140Z","closed_at":"2018-01-09T11:21:32.956Z","closed_by":null,"labels":["Deliverable","Enterprise Edition","GCP Migration","authentication","backend","devops::systems","group::distribution","workflow::in review"],"milestone":{"id":360828,"iid":4,"group_id":9970,"title":"10.4","description":"https://about.gitlab.com/releases/2018/01/22/gitlab-10-4-released","state":"closed","created_at":"2017-08-16T16:52:35.085Z","updated_at":"2020-04-27T16:31:17.439Z","due_date":"2018-01-22","start_date":"2017-12-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/4"},"assignees":[{"id":654619,"username":"jamedjo","name":"James Edwards-Jones","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/654619/avatar.png","web_url":"https://gitlab.com/jamedjo"},{"id":1187333,"username":"jramsay-gitlab","name":"James Ramsay (ex-GitLab)","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1187333/avatar.png","web_url":"https://gitlab.com/jramsay-gitlab"}],"author":{"id":116,"username":"marin","name":"Marin Jankovski","state":"active","avatar_url":"https://secure.gravatar.com/avatar/5154f0b0eda3f798c8a254962d57192f?s=80\u0026d=identicon","web_url":"https://gitlab.com/marin"},"type":"ISSUE","assignee":{"id":654619,"username":"jamedjo","name":"James Edwards-Jones","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/654619/avatar.png","web_url":"https://gitlab.com/jamedjo"},"user_notes_count":14,"merge_requests_count":2,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/3953","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":4,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/3953","notes":"https://gitlab.com/api/v4/projects/278964/issues/3953/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/3953/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#3953","relative":"#3953","full":"gitlab-org/gitlab#3953"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":7655958,"iid":3952,"project_id":278964,"title":"Geo DR: planned failover (including of a multi-node secondary)","description":"This is something that's come up in discussion between myself and Andrew, although I've seen it mentioned in various migration plans too.\n\nThe intended use case for Geo DR is turning a secondary into a primary in the event of the original primary being destroyed or lost somehow in an unforeseen event.\n\nHowever, there is another use case - gracefully failing over between sites in the event of a requirement to migrate between datacentres that can be foreseen. Perhaps regulatory requirements are due to change, or the new site is just cheaper.\n\nThere are several considerations that we can handle for this use case. Here's some, roughly in priority order:\n\n* [ ] No in-progress work should be lost on the primary (running sidekiq jobs should be allowed to finish, for instance)\n* [ ] Transition should have as little downtime as possible\n* [x] ~~The secondary's caches (those that are not replicated between geo nodes - e.g., redis) should be warmed to avoid performance regressions in the immediate aftermath of the switch.~~\n   - See discussion in comments below, this is now a non-issue\n* [ ] In the event of problems, it would be wonderful to have a means of reverting without data loss / consistency issues. This might be Too Difficult without multi-master, though.\n\nThere are probably other considerations as well.\n\n/cc @stanhu @jramsay @ernstvn @andrewn","state":"closed","created_at":"2017-11-08T12:37:08.047Z","updated_at":"2019-12-11T20:30:06.566Z","closed_at":"2018-03-20T23:55:46.465Z","closed_by":null,"labels":["Category:Disaster Recovery","Deliverable","Enterprise Edition","GCP Migration","Progress:Needs Polish","devops::systems","group::geo","type::feature"],"milestone":{"id":424944,"iid":9,"group_id":9970,"title":"10.7","description":"","state":"closed","created_at":"2017-12-06T16:45:41.880Z","updated_at":"2018-05-11T15:04:03.492Z","due_date":"2018-04-22","start_date":"2018-03-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/9"},"assignees":[{"id":572018,"username":"nick.thomas","name":"Nick Thomas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/572018/avatar.png","web_url":"https://gitlab.com/nick.thomas"}],"author":{"id":572018,"username":"nick.thomas","name":"Nick Thomas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/572018/avatar.png","web_url":"https://gitlab.com/nick.thomas"},"type":"ISSUE","assignee":{"id":572018,"username":"nick.thomas","name":"Nick Thomas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/572018/avatar.png","web_url":"https://gitlab.com/nick.thomas"},"user_notes_count":27,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/3952","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":4,"completed_count":1},"weight":9,"blocking_issues_count":0,"has_tasks":true,"task_status":"1 of 4 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/3952","notes":"https://gitlab.com/api/v4/projects/278964/issues/3952/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/3952/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#3952","relative":"#3952","full":"gitlab-org/gitlab#3952"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":59,"epic":{"id":111,"iid":59,"title":"Geo: planned failover","url":"/groups/gitlab-org/-/epics/59","group_id":9970,"human_readable_end_date":"Apr 22, 2018","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":7647111,"iid":3950,"project_id":278964,"title":"Follow-up from \"Does not move projects backed by hashed storage when handling renamed events\"","description":"The following discussion from !3066 should be addressed:\n\n- [ ] @nick.thomas started a [discussion](https://gitlab.com/gitlab-org/gitlab-ee/merge_requests/3066#note_46408589): \n\n    \u003e `Geo::MoveRepositoryService#execute` will return `false` in some circumstances, indicating failure. We should respect this in our own status reporting.","state":"closed","created_at":"2017-11-08T00:45:59.686Z","updated_at":"2019-12-11T20:30:07.389Z","closed_at":"2017-11-13T13:57:37.993Z","closed_by":null,"labels":["Enterprise Edition","devops::systems","group::geo","workflow::in review"],"milestone":{"id":360827,"iid":3,"group_id":9970,"title":"10.3","description":"","state":"closed","created_at":"2017-08-16T16:51:52.890Z","updated_at":"2018-03-22T16:15:37.036Z","due_date":"2017-12-22","start_date":"2017-11-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/3"},"assignees":[{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"}],"author":{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"},"type":"ISSUE","assignee":{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"},"user_notes_count":7,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/3950","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/3950","notes":"https://gitlab.com/api/v4/projects/278964/issues/3950/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/3950/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#3950","relative":"#3950","full":"gitlab-org/gitlab#3950"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":21,"epic":{"id":28,"iid":21,"title":"Geo: hashed storage BETA","url":"/groups/gitlab-org/-/epics/21","group_id":9970,"human_readable_end_date":"Jan 8, 2018","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":7630154,"iid":3945,"project_id":278964,"title":"Message when pushing to Geo secondary should be more descriptive","description":"### Description\n\nIn gitlab-org/gitlab-ee!2954 the idea of \"read-only\" was made more general, but when pushing to secondary we lost some info in the message: https://gitlab.com/gitlab-org/gitlab-ee/merge_requests/2954/diffs#d1c129df10cf33ea986071ad508d3a667e7f81da_23_22\n\n### Proposal\n\nMake the message more descriptive. Point to the primary git url and to the docs on how to set the push remote.\n\n### Links / references\n\nhttps://docs.gitlab.com/ee/gitlab-geo/after_setup.html","state":"closed","created_at":"2017-11-07T17:43:24.794Z","updated_at":"2019-12-11T20:30:09.240Z","closed_at":"2017-12-08T00:33:11.031Z","closed_by":null,"labels":["Enterprise Edition","devops::systems","group::geo","regression","workflow::in review"],"milestone":{"id":360827,"iid":3,"group_id":9970,"title":"10.3","description":"","state":"closed","created_at":"2017-08-16T16:51:52.890Z","updated_at":"2018-03-22T16:15:37.036Z","due_date":"2017-12-22","start_date":"2017-11-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/3"},"assignees":[{"id":273486,"username":"jameslopez","name":"James Lopez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/273486/avatar.png","web_url":"https://gitlab.com/jameslopez"}],"author":{"id":660180,"username":"toon","name":"Toon Claes","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/660180/avatar.png","web_url":"https://gitlab.com/toon"},"type":"ISSUE","assignee":{"id":273486,"username":"jameslopez","name":"James Lopez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/273486/avatar.png","web_url":"https://gitlab.com/jameslopez"},"user_notes_count":4,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/3945","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/3945","notes":"https://gitlab.com/api/v4/projects/278964/issues/3945/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/3945/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#3945","relative":"#3945","full":"gitlab-org/gitlab#3945"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":7628734,"iid":3944,"project_id":278964,"title":"Geo secondaries can use a different object storage endpoint to the primary","description":"### Description\n\nGeo (+ Geo DR) provides resilience for GitLab against the destruction of any one geographic region.\n\nCurrently, if uploaded files, LFS objects, etc, are stored on disc on the primary, then they are copied to the secondary, so providing this resilience.\n\nIf the primary is storing these files into an external object storage service (a minio server or S3, perhaps for scalability reasons), then at present, Geo does nothing with these files. They continue to exist in a single geographic region, and the secondary is expected to be configured to contact the same object storage service as the primary to retrieve files.\n\nHaving Geo secondaries notice when the primary uploads a file to an object storage service, and automatically replicate it to an object storage service in the secondary's geographic region, is an outstanding feature proposal encapsulated in these issues:\n\n* https://gitlab.com/gitlab-org/gitlab-ee/issues/2388\n* https://gitlab.com/gitlab-org/gitlab-ee/issues/415\n\n(Do we need one for attachments as well?)\n\nHowever, there is another use case - where the object store service performs the replication without any need for Geo to do anything. The primary uploads the file to the object store in its geographic region and, as if by magic from Geo's point of view, the file is available in the secondary's geographic region.\n\n### Proposal\n\nWe need to support and document this \"external synchronization of object stores\" model.\n\nThe current behaviour of Geo is correct for these circumstances, so the amount of new code we need is minimal.\n\nThe secondaries need to be configured to access a different object storage endpoint - since this is done in `gitlab.yml`, this is already possible, but it is undocumented.\n\nWe should document how to set up external replication for the most common services (S3, ceph, perhaps minio? Any others?) \n\n### Links / references\n\nThis has some parallels with the elasticsearch + geo issue: https://gitlab.com/gitlab-org/gitlab-ee/issues/1186\n\n### Documentation blurb\n\n#### Overview\n\nWhat is it?\nWhy should someone use this feature?\nWhat is the underlying (business) problem?\nHow do you use this feature?\n\n#### Use cases\n\nWho is this for? Provide one or more use cases.\n\n### Feature checklist\n\nMake sure these are completed before closing the issue,\nwith a link to the relevant commit.\n\n- [ ] [Feature assurance](https://about.gitlab.com/handbook/product/#feature-assurance)\n- [ ] Documentation\n- [ ] Added to [features.yml](https://gitlab.com/gitlab-com/www-gitlab-com/blob/master/data/features.yml)","state":"closed","created_at":"2017-11-07T15:58:48.377Z","updated_at":"2019-12-11T20:30:09.952Z","closed_at":"2018-01-08T11:15:22.756Z","closed_by":null,"labels":["Enterprise Edition","devops::systems","group::geo","type::feature","workflow::in review"],"milestone":{"id":360828,"iid":4,"group_id":9970,"title":"10.4","description":"https://about.gitlab.com/releases/2018/01/22/gitlab-10-4-released","state":"closed","created_at":"2017-08-16T16:52:35.085Z","updated_at":"2020-04-27T16:31:17.439Z","due_date":"2018-01-22","start_date":"2017-12-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/4"},"assignees":[{"id":660180,"username":"toon","name":"Toon Claes","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/660180/avatar.png","web_url":"https://gitlab.com/toon"}],"author":{"id":572018,"username":"nick.thomas","name":"Nick Thomas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/572018/avatar.png","web_url":"https://gitlab.com/nick.thomas"},"type":"ISSUE","assignee":{"id":660180,"username":"toon","name":"Toon Claes","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/660180/avatar.png","web_url":"https://gitlab.com/toon"},"user_notes_count":8,"merge_requests_count":5,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/3944","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/3944","notes":"https://gitlab.com/api/v4/projects/278964/issues/3944/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/3944/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#3944","relative":"#3944","full":"gitlab-org/gitlab#3944"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":17,"epic":{"id":24,"iid":17,"title":"Geo: disaster recovery (single-secondary)","url":"/groups/gitlab-org/-/epics/17","group_id":9970,"human_readable_end_date":"Feb 7, 2018","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":24658429,"iid":20066,"project_id":278964,"title":"Fix and enable parsePikadayDate test","description":"https://gitlab.com/gitlab-org/gitlab-ce/merge_requests/15217 disabled the test for `parsePikadayDate` because it failed for daylight saving time. We should fix the test and reenable it.","state":"closed","created_at":"2017-11-06T13:36:13.698Z","updated_at":"2022-11-22T20:23:05.624Z","closed_at":"2022-05-12T07:57:02.317Z","closed_by":{"id":11485645,"username":"thutterer","name":"Thomas Hutterer","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11485645/avatar.png","web_url":"https://gitlab.com/thutterer"},"labels":["auto closed","default-priority","default-severity","devops::manage","frontend","good for new contributors","group::foundations","javascript","maintenance::refactor","priority::4","section::dev","severity::3","test","type::maintenance","vintage","workflow::in dev"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[{"id":11485645,"username":"thutterer","name":"Thomas Hutterer","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11485645/avatar.png","web_url":"https://gitlab.com/thutterer"}],"author":{"id":1212235,"username":"winh","name":"Inactive Account","state":"active","avatar_url":"https://secure.gravatar.com/avatar/e34b010c96ff3f44c62cddf66607232a?s=80\u0026d=identicon","web_url":"https://gitlab.com/winh"},"type":"ISSUE","assignee":{"id":11485645,"username":"thutterer","name":"Thomas Hutterer","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11485645/avatar.png","web_url":"https://gitlab.com/thutterer"},"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/20066","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/20066","notes":"https://gitlab.com/api/v4/projects/278964/issues/20066/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/20066/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#20066","relative":"#20066","full":"gitlab-org/gitlab#20066"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":24658372,"iid":20042,"project_id":278964,"title":"Handle LFS objects for fork networks","description":"Currently when the source of a fork(-network) is deleted, the forked projects lose track of the LFS objects. \n\nAfter https://gitlab.com/gitlab-org/gitlab/merge_requests/17558 is merged, all projects in a fork network will have access to the LFS objects from any project in that LFS network. This is correct, since all forks can send merge requests to each other.\n\nTo avoid projects losing track of LFS objects uploaded to any other project in the fork network, we should also create a new `LfsObjectsProject` for each LFS object in the project being forked.\n\n**Question:** Should we keep track of which `LfsObjectProject` was uploaded directly to the forked project and which one was \"copied\" during a fork? If so How?\n\nAnswer: We don't: https://gitlab.com/gitlab-org/gitlab/issues/20042#note_257180920\n___\n### Create `LfsObjectForkNetwork` model\n\n\u003cdetails\u003e\n\nTo avoid projects losing track of LFS objects uploaded to any other project in the fork network, we should also link the LFS objects to the fork network. \n\nThis would mean adding a new model:\n\n```ruby\nclass LfsObjectForkNetwork\n  belongs_to :fork_network\n  belongs_to :lfs_object\nend\n```\n\nThen we could check that for accessibility if the LFSObject was not linked to the project directly.\n\nWhen a project is forked, we would automatically need to create all the `LfsObjectForkNetwork` records in the [`Projects::ForkService`](https://gitlab.com/gitlab-org/gitlab/blob/cbc0a56d92e2340df37b75c553d08eb4395947e5/app/services/projects/fork_service.rb#L29). \n\nIf a project is part of a fork network, we need to create a `LfsObjectForkNetwork` when a new LFS object is created in the [`Projects::LfsStorageController`](https://gitlab.com/gitlab-org/gitlab/blob/cbc0a56d92e2340df37b75c553d08eb4395947e5/app%2Fcontrollers%2Fprojects%2Flfs_storage_controller.rb#L85) and the [`Lfs::FileTransformer`](https://gitlab.com/gitlab-org/gitlab/blob/cbc0a56d92e2340df37b75c553d08eb4395947e5/app%2Fservices%2Flfs%2Ffile_transformer.rb#L75). In this case, we would no longer be [creating an `LfsObjectProject` for the root of the fork network](https://gitlab.com/gitlab-org/gitlab/blob/cbc0a56d92e2340df37b75c553d08eb4395947e5/app%2Fcontrollers%2Fconcerns%2Flfs_request.rb#L115), but for the project it was created for. So no more [`Project#lfs_storage_project`](https://gitlab.com/gitlab-org/gitlab/blob/cbc0a56d92e2340df37b75c553d08eb4395947e5/app%2Fmodels%2Fproject.rb#L1324) as all LFS objects should be stored on _self_. \n\nWe would need to backfill the `LfsObjectForkNetwork` records for all projects that are currently part of a fork network.\n\u003c/details\u003e\n\n### Original issue\n\u003cdetails\u003e\nWe should figure out a way to handle this.\n\nPossible solutions:\n- Add the LFS objects to the forked project immeadiatly after the fork. The objects will then be handled independently of the fork network and count towards the quota of the namespace the fork resides in.\n- Add the LFS objects to all the forked projects when the root project is deleted. This could be a lot of forks, but it's handled in the background.\n- Keep track of the LFS-objects on a fork network. But to which quota do they count?\n\n### Later created fork relations\n\nAnother issue was brought up in gitlab-ce!18104:\n\nWhen a fork relation is created later on, the LFS objects of the fork might be somewhere else than the LFS objects of the parent. So at that point the objects of the fork become inaccessible, and the user should push the LFS objects again after creating the fork relation.\n\nThe deletion now happens in the `Projects::ForkService#link_existing_project`, that might have to be reconsidered when implementing this: https://gitlab.com/gitlab-org/gitlab-ce/merge_requests/22226#note_108780553\n\n### Newly uploaded LFS objects\n\nRight now, we're doing 2 different things:\n\n0. When a user pushes LFS objects through their git-lfs client, the uploads go through workhorse and in [`Projects::LfsStorageController#upload_finalize!` and `#link_project!`](https://gitlab.com/gitlab-org/gitlab-ce/blob/4aa824e7059889c7b8badb4bd43cc44f9a01201f/app/controllers/projects/lfs_storage_controller.rb#L85) which uses the [`LfsRequest#storage_project`](https://gitlab.com/gitlab-org/gitlab-ce/blob/4aa824e7059889c7b8badb4bd43cc44f9a01201f/app/controllers/concerns/lfs_request.rb#L115).\n0. When a user uploads through the web UI, this would be dealt with in this transformer, the LFS object would be linked to the *current* project and would become inaccessible.\n\nThis is being changed in https://gitlab.com/gitlab-org/gitlab/merge_requests/17558 to all upload to the root of the fork network, but make LFS objects linked to the project itself accessible as well.\n\nWe should decide on the _right_ project to link to LFS objects uploaded for a fork.\n\n### Related issues\n\nThis relates to https://gitlab.com/gitlab-org/gitlab-foss/issues/38883, and was brought up in https://gitlab.com/gitlab-org/gitlab-foss/merge_requests/15150#note_45541479\n\u003c/details\u003e\n\n/cc @DouweM @jramsay","state":"closed","created_at":"2017-11-03T10:29:18.576Z","updated_at":"2023-01-09T16:00:13.863Z","closed_at":"2020-02-14T00:07:01.253Z","closed_by":{"id":1884221,"username":"patrickbajao","name":"Patrick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1884221/avatar.png","web_url":"https://gitlab.com/patrickbajao"},"labels":["Category:Source Code Management","Deliverable","Git LFS","backend","customer","data loss","devops::create","gitlab.com","group::source code","missed-SLO","missed-deliverable","missed:12.7","priority::2","repository","section::dev","severity::1","type::bug"],"milestone":{"id":1001915,"iid":43,"group_id":9970,"title":"12.8","description":"https://about.gitlab.com/releases/2020/02/22/gitlab-12-8-released","state":"closed","created_at":"2019-09-15T20:53:58.792Z","updated_at":"2020-05-19T14:23:44.837Z","due_date":"2020-02-17","start_date":"2020-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/43"},"assignees":[{"id":1884221,"username":"patrickbajao","name":"Patrick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1884221/avatar.png","web_url":"https://gitlab.com/patrickbajao"}],"author":{"id":171554,"username":"reprazent","name":"Bob Van Landuyt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/171554/avatar.png","web_url":"https://gitlab.com/reprazent"},"type":"ISSUE","assignee":{"id":1884221,"username":"patrickbajao","name":"Patrick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1884221/avatar.png","web_url":"https://gitlab.com/patrickbajao"},"user_notes_count":85,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/20042","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/20042","notes":"https://gitlab.com/api/v4/projects/278964/issues/20042/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/20042/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#20042","relative":"#20042","full":"gitlab-org/gitlab#20042"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":302,"epic":{"id":645,"iid":302,"title":"Make Git LFS loveable","url":"/groups/gitlab-org/-/epics/302","group_id":9970},"iteration":null,"health_status":null},{"id":24658349,"iid":20033,"project_id":278964,"title":"Close bulk merge request issue","description":"### Summary\n\nAfter clicking Edit Merge Requests button on merge requests screen, then selecting few or all merge requests by checkboxes and changing status to closed doesn't apply. \n\n### Steps to reproduce\n\n- Go to Merge Requests Page\n- Click on Merged Tab\n- Click on Edit Merge Requests button - Checkboxes will appear on the left side of each merge request on the list.\n- Select more than one merge request by checking checkboxes\n- On the right side bar under Status option, select Closed\n- Click on Update All button above.\n\n### What is the current *bug* behavior?\n\nAfter clicking Update All button, page reloads but selected merge requests still in Merged status and didn't close.\n\n### What is the expected *correct* behavior?\n\nMerged MRs cannot be closed, as they are merged. This is a confusing aspect of the *update All* functionality where the update all options do not align to the actual options available for the merge requests. A simple improvement here is simply to remove the **Status** section from the Bulk Actions sidebar when viewing the **Merged** tab:\n\n![Screenshot_2020-04-06_at_20.34.06](https://gitlab.com/gitlab-org/gitlab/uploads/141764b0ca8aa854b2f600871f279c5a/Screenshot_2020-04-06_at_20.34.06.png)\n\n### Relevant logs and/or screenshots\n\n![image](/uploads/013c85c680c29c6054bf99f292a3cc8f/image.png)\n![image](/uploads/58fbe931df67195b13cf3c5cea85f985/image.png)","state":"closed","created_at":"2017-11-02T19:47:56.753Z","updated_at":"2020-12-07T16:53:45.475Z","closed_at":"2020-07-29T17:41:36.630Z","closed_by":{"id":829774,"username":"jivanvl","name":"Jose Ivan Vargas","state":"active","avatar_url":"https://secure.gravatar.com/avatar/730cc1b85a20f2a3891829f7aa198972?s=80\u0026d=identicon","web_url":"https://gitlab.com/jivanvl"},"labels":["Category:Code Review Workflow","Create [DEPRECATED]","Deliverable","UX","customer","default-priority","default-severity","devops::create","frontend","group::code review","merge requests","missed-deliverable","missed:13.1","priority::3","severity::3","type::bug"],"milestone":{"id":1233752,"iid":50,"group_id":9970,"title":"13.3","description":"https://about.gitlab.com/releases/2020/08/22/gitlab-13-3-released/","state":"closed","created_at":"2020-04-09T17:39:21.090Z","updated_at":"2022-04-13T14:50:18.976Z","due_date":"2020-08-17","start_date":"2020-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/50"},"assignees":[{"id":626804,"username":"pedroms","name":"Pedro Moreira da Silva","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c306f087d191ac15549f3c11e3bed321?s=80\u0026d=identicon","web_url":"https://gitlab.com/pedroms"},{"id":3993566,"username":"sming-gitlab","name":"Samantha Ming","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3993566/avatar.png","web_url":"https://gitlab.com/sming-gitlab"}],"author":{"id":1704049,"username":"ssanri","name":"Serdar Sanri","state":"active","avatar_url":"https://secure.gravatar.com/avatar/0d7f7e660639447e7b129d19befb5934?s=80\u0026d=identicon","web_url":"https://gitlab.com/ssanri"},"type":"ISSUE","assignee":{"id":626804,"username":"pedroms","name":"Pedro Moreira da Silva","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c306f087d191ac15549f3c11e3bed321?s=80\u0026d=identicon","web_url":"https://gitlab.com/pedroms"},"user_notes_count":22,"merge_requests_count":1,"upvotes":3,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/20033","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/20033","notes":"https://gitlab.com/api/v4/projects/278964/issues/20033/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/20033/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#20033","relative":"#20033","full":"gitlab-org/gitlab#20033"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":8147030,"iid":4294,"project_id":278964,"title":"Broken \"roles\" count on \"protected branches\" page","description":"### Summary\n\n*I have been asked by Gitlab to create an issue (see https://twitter.com/gitlab/status/926115853262905344)*\n\nThe \"roles\" count on the protected branches in projects settings is broken, it indent each time you click \"no one\".\n\n### Steps to reproduce\n\nGo to a Gitlab.com projet, settings -\u003e repository -\u003e protected branches.\nChoose a branch and for \"allowed to push\" or \"allowed to merge\" you'll se that if you choose \"no one\", the \"roles\" count will start identing each time you click on \"no one\"\n\n### What is the current *bug* behavior?\n\nSee video:\nhttps://www.youtube.com/watch?v=bgJNEG4QeJ4\n\n### What is the expected *correct* behavior?\n\nThe role counter should show 0 if \"no one\" is selected.\n\n### Relevant logs and/or screenshots\n\nhttps://twitter.com/LordApo_/status/926090120763240448\nhttps://twitter.com/gitlab/status/926115853262905344\nhttps://www.youtube.com/watch?v=bgJNEG4QeJ4\n![Screenshot_121](/uploads/0504e9e9d65bce4df61c37ba80bfcadc/Screenshot_121.png)","state":"closed","created_at":"2017-11-02T16:15:58.300Z","updated_at":"2019-08-12T15:45:38.551Z","closed_at":"2017-12-14T07:40:30.758Z","closed_by":null,"labels":["Deliverable","Enterprise Edition","frontend","repository","reproduced on GitLab.com","settings","type::bug","workflow::in review"],"milestone":{"id":360828,"iid":4,"group_id":9970,"title":"10.4","description":"https://about.gitlab.com/releases/2018/01/22/gitlab-10-4-released","state":"closed","created_at":"2017-08-16T16:52:35.085Z","updated_at":"2020-04-27T16:31:17.439Z","due_date":"2018-01-22","start_date":"2017-12-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/4"},"assignees":[{"id":411701,"username":"kushalpandya","name":"Kushal Pandya","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/411701/avatar.png","web_url":"https://gitlab.com/kushalpandya"}],"author":{"id":1198602,"username":"lucasdcrk","name":"Lucas Decrock","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1198602/avatar.png","web_url":"https://gitlab.com/lucasdcrk"},"type":"ISSUE","assignee":{"id":411701,"username":"kushalpandya","name":"Kushal Pandya","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/411701/avatar.png","web_url":"https://gitlab.com/kushalpandya"},"user_notes_count":5,"merge_requests_count":1,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/4294","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/4294","notes":"https://gitlab.com/api/v4/projects/278964/issues/4294/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/4294/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#4294","relative":"#4294","full":"gitlab-org/gitlab#4294"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":7473262,"iid":3904,"project_id":278964,"title":"Warn when Geo replication is proceeding over HTTP, rather than HTTPS.","description":"The following discussion from !3116 should be addressed:\n\n- [ ] @brodock started a [discussion](https://gitlab.com/gitlab-org/gitlab-ee/merge_requests/3116#note_45097788):  (+2 comments)\n\n    \u003e I understand that this is an identifier only, but shall we force it to always be HTTPS otherwise go back to SSH (to make sure communication is always encrypted)?\n\nCurrently, file sync (attachments, LFS objects, etc) can proceed over an unencrypted HTTP connection. From %10.2, repositories can be synced using the same mechanism.\n\n\u003cstrike\u003eI think it's reasonable to specify that Geo primaries *must* use HTTPS. WDYT @jramsay? 10.2 or 10.3?\u003c/strike\u003e\n\nWe can add a warning banner when Geo is configured insecurely, recommending that admins upgrade to HTTPS from HTTP.\n\nStretch: can we detect whether postgresql replication is secured and display that per Geo secondary?","state":"closed","created_at":"2017-11-02T14:35:41.815Z","updated_at":"2019-12-11T20:30:21.381Z","closed_at":"2017-11-16T14:41:32.561Z","closed_by":null,"labels":["Enterprise Edition","devops::systems","group::geo","workflow::in review"],"milestone":{"id":360827,"iid":3,"group_id":9970,"title":"10.3","description":"","state":"closed","created_at":"2017-08-16T16:51:52.890Z","updated_at":"2018-03-22T16:15:37.036Z","due_date":"2017-12-22","start_date":"2017-11-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/3"},"assignees":[{"id":273486,"username":"jameslopez","name":"James Lopez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/273486/avatar.png","web_url":"https://gitlab.com/jameslopez"}],"author":{"id":572018,"username":"nick.thomas","name":"Nick Thomas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/572018/avatar.png","web_url":"https://gitlab.com/nick.thomas"},"type":"ISSUE","assignee":{"id":273486,"username":"jameslopez","name":"James Lopez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/273486/avatar.png","web_url":"https://gitlab.com/jameslopez"},"user_notes_count":4,"merge_requests_count":1,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/3904","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/3904","notes":"https://gitlab.com/api/v4/projects/278964/issues/3904/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/3904/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#3904","relative":"#3904","full":"gitlab-org/gitlab#3904"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":7471192,"iid":3902,"project_id":278964,"title":"Setup GitFusion test instance for bidirectional sync","description":"GitFusion implements much of the common `git` protocol but there are some know limitations, particularly around rewriting history. We need to verify through testing with GitFusion if there are any other unknown limitations that require special handling.\n\n### Proposal\n\nCreate a GitFusion test instance for testing with GitLab push/pull mirroring.\n\n- ubuntu download: https://package.perforce.com/apt/ubuntu/pool/release/h/helix-git-fusion/\n- ova download: http://ftp.perforce.com/pub/perforce/r17.1/bin.noarch/\n- installation instructions: https://www.perforce.com/perforce/r16.3/manuals/git-fusion/index.html\n\n### Links / references\n\nhttps://gitlab.com/gitlab-org/gitlab-ee/issues/3630\n\n### Documentation blurb\n\n#### Overview\n\nWhat is it?\nWhy should someone use this feature?\nWhat is the underlying (business) problem?\nHow do you use this feature?\n\n#### Use cases\n\nWho is this for? Provide one or more use cases.\n\n### Feature checklist\n\nMake sure these are completed before closing the issue,\nwith a link to the relevant commit.\n\n- [ ] [Feature assurance](https://about.gitlab.com/handbook/product/#feature-assurance)\n- [ ] Documentation\n- [ ] Added to [features.yml](https://gitlab.com/gitlab-com/www-gitlab-com/blob/master/data/features.yml)","state":"closed","created_at":"2017-11-02T11:46:38.065Z","updated_at":"2019-08-12T15:45:38.518Z","closed_at":"2018-01-16T20:02:07.089Z","closed_by":null,"labels":["Deliverable","Enterprise Edition","backend","customer+","mirror","type::feature","workflow::in dev"],"milestone":{"id":360827,"iid":3,"group_id":9970,"title":"10.3","description":"","state":"closed","created_at":"2017-08-16T16:51:52.890Z","updated_at":"2018-03-22T16:15:37.036Z","due_date":"2017-12-22","start_date":"2017-11-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/3"},"assignees":[{"id":654619,"username":"jamedjo","name":"James Edwards-Jones","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/654619/avatar.png","web_url":"https://gitlab.com/jamedjo"},{"id":1187333,"username":"jramsay-gitlab","name":"James Ramsay (ex-GitLab)","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1187333/avatar.png","web_url":"https://gitlab.com/jramsay-gitlab"}],"author":{"id":1187333,"username":"jramsay-gitlab","name":"James Ramsay (ex-GitLab)","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1187333/avatar.png","web_url":"https://gitlab.com/jramsay-gitlab"},"type":"ISSUE","assignee":{"id":654619,"username":"jamedjo","name":"James Edwards-Jones","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/654619/avatar.png","web_url":"https://gitlab.com/jamedjo"},"user_notes_count":13,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/3902","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/3902","notes":"https://gitlab.com/api/v4/projects/278964/issues/3902/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/3902/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#3902","relative":"#3902","full":"gitlab-org/gitlab#3902"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":24658322,"iid":20024,"project_id":278964,"title":"Race condition allows closing ticket twice","description":"A race condition in gitlab appears to allow closing a ticket twice.\n\nTo do so, the following steps are necessary:\n\n1. Enter text as a comment, and click \"Comment and close\" button\n2. While this is being processed, you may be presented with a \"Close issue\" button for a very brief amount of time which can be clicked if you're fast enough\n\nActual result:\nhttps://gitlab.com/tethercode/stdlib/issues/1 (two close events, email notificiations for closing sent twice, ..)\n\nExpected result:\nOnly first close is processed even if I manage to click the \"Close issue\" button that is incorrectly dipslayed for a very short moment.","state":"closed","created_at":"2017-11-02T04:00:31.673Z","updated_at":"2022-05-19T16:45:43.288Z","closed_at":"2020-11-02T12:21:54.896Z","closed_by":{"id":1786152,"username":"gitlab-bot","name":"🤖 GitLab Bot 🤖","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1786152/avatar.png","web_url":"https://gitlab.com/gitlab-bot"},"labels":["[deprecated] Accepting merge requests","auto closed","backend","default-priority","default-severity","devops::plan","group::project management","issues","priority::3","reproduced on GitLab.com","section::dev","severity::3","stale","type::bug","vintage"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":551317,"username":"etc0de","name":"etc0de","state":"active","avatar_url":"https://secure.gravatar.com/avatar/e614ff1bbdc3e15b8f1eaca31b44aa6f?s=80\u0026d=identicon","web_url":"https://gitlab.com/etc0de"},"type":"ISSUE","assignee":null,"user_notes_count":17,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/20024","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/20024","notes":"https://gitlab.com/api/v4/projects/278964/issues/20024/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/20024/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#20024","relative":"#20024","full":"gitlab-org/gitlab#20024"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":7453364,"iid":3892,"project_id":278964,"title":"User::DestroyService should cleanup projects where user is mirror_user","description":"From @DouweM comment in https://gitlab.com/gitlab-com/infrastructure/issues/3118#note_45260621:\n\n\u003e\u003e\u003e\n81 have validation error `[\"Mirror user can't be blank\"]` and import error `The mirror user is not allowed to push code to all branches on this project.`\n\n- All 81 have a mirror user that no longer exists\n\n- [ ] These should have their `mirror_user` unset, and we should investigate how projects can get in this state.\n\u003e\u003e\u003e\n\nFrom @DouweM comment in https://gitlab.com/gitlab-com/infrastructure/issues/3118#note_45346274:\n\n\u003e What do we actually want to do with a mirror project when its `mirror_user` gets deleted? Right now we're tripping over [this validation](https://gitlab.com/gitlab-org/gitlab-ee/blob/master/ee/app/models/ee/project.rb#L64), which we'd also get if we were to nullify `mirror_user_id` using `dependent: :nullify` or something. Maybe we should nullify it _and_ set `mirror` to `false`? From the `Users::DestroyService`, that could be `Project.where(mirror_user: user).update_all(mirror: false, mirror_user_id: nil)`. If possible, we should also set an import error to tell them why the mirror feature got disabled.","state":"closed","created_at":"2017-11-01T11:50:47.550Z","updated_at":"2019-08-12T15:45:39.463Z","closed_at":"2018-03-07T21:06:43.836Z","closed_by":null,"labels":["Deliverable","Enterprise Edition","backend","database","mirror","type::bug","workflow::in review"],"milestone":{"id":416486,"iid":8,"group_id":9970,"title":"10.6","description":"https://about.gitlab.com/releases/2018/03/22/gitlab-10-6-released","state":"closed","created_at":"2017-11-21T20:05:35.697Z","updated_at":"2020-04-27T16:30:32.220Z","due_date":"2018-03-22","start_date":"2018-02-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/8"},"assignees":[{"id":117638,"username":"tiagonbotelho","name":"Tiago Botelho","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/117638/avatar.png","web_url":"https://gitlab.com/tiagonbotelho"}],"author":{"id":117638,"username":"tiagonbotelho","name":"Tiago Botelho","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/117638/avatar.png","web_url":"https://gitlab.com/tiagonbotelho"},"type":"ISSUE","assignee":{"id":117638,"username":"tiagonbotelho","name":"Tiago Botelho","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/117638/avatar.png","web_url":"https://gitlab.com/tiagonbotelho"},"user_notes_count":8,"merge_requests_count":2,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/3892","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":4,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/3892","notes":"https://gitlab.com/api/v4/projects/278964/issues/3892/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/3892/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#3892","relative":"#3892","full":"gitlab-org/gitlab#3892"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":7453162,"iid":3891,"project_id":278964,"title":"Remove SSH cloning support from Geo","description":"The following discussion from !3116 should be addressed:\n\n- [ ] @brodock started a [discussion](https://gitlab.com/gitlab-org/gitlab-ee/merge_requests/3116#note_45099183):  (+4 comments)\n\n    \u003e do we need to keep existing ones with SSH? or can we simply move everyone to HTTP by default? \n    \u003e \n    \u003e If we don't require any additional configuration for the HTTP version to work, and we plan into making HTTP default experience, maybe a good idea to migrate existing users already.\n    \u003e \n    \u003e any concerns @stanhu ? \n\nIn %10.2 we are adding HTTPS repo cloning support for Geo. This is being done with the understanding that SSH support will be removed in the future.\n\nWe need to decide whether to do that at all - do any of our customers rely on SSH cloning and are unable to switch to HTTPS?\n\nOne possibility is that some customers may use HTTP (not HTTPS) + SSH. In this case, removing SSH sync would reduce the total security of their installation.\n\nWe really need to hear from customers on this though, I think - or at least, make the removal easy to revert!\n\nCurrent plan is to remove SSH support in %\"10.3\" \n\n/cc @jramsay","state":"closed","created_at":"2017-11-01T11:28:31.854Z","updated_at":"2022-01-19T21:22:21.558Z","closed_at":"2017-12-06T06:21:00.202Z","closed_by":null,"labels":["Category:Purchase","Deliverable","devops::fulfillment","frontend","group::purchase","missed:14.7","section::fulfillment","type::feature","workflow::ready for development"],"milestone":{"id":360827,"iid":3,"group_id":9970,"title":"10.3","description":"","state":"closed","created_at":"2017-08-16T16:51:52.890Z","updated_at":"2018-03-22T16:15:37.036Z","due_date":"2017-12-22","start_date":"2017-11-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/3"},"assignees":[{"id":572018,"username":"nick.thomas","name":"Nick Thomas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/572018/avatar.png","web_url":"https://gitlab.com/nick.thomas"}],"author":{"id":572018,"username":"nick.thomas","name":"Nick Thomas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/572018/avatar.png","web_url":"https://gitlab.com/nick.thomas"},"type":"ISSUE","assignee":{"id":572018,"username":"nick.thomas","name":"Nick Thomas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/572018/avatar.png","web_url":"https://gitlab.com/nick.thomas"},"user_notes_count":19,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/3891","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/3891","notes":"https://gitlab.com/api/v4/projects/278964/issues/3891/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/3891/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#3891","relative":"#3891","full":"gitlab-org/gitlab#3891"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":7441224,"iid":3889,"project_id":278964,"title":"Epic comment thread","description":"### Dependencies\nhttps://gitlab.com/gitlab-org/gitlab-ce/merge_requests/15732 needs to be merged before this can be completed.\n\n### Description\n\n- Comment/discussion thread in an epic.\n- Same design/implementation as issues and merge requests.\n- Includes threaded discussions (same as issues).\n- Additionally, the requirements for system notes in epics in these issues will be displayed after this issue is implemented. We should test these. https://gitlab.com/gitlab-org/gitlab-ee/issues/3947 https://gitlab.com/gitlab-org/gitlab-ee/issues/3853\n\n### Edge cases\n- None yet\n\n### Out of scope\n- Notifications and todos are out of scope\n- Autocomplete is out of scope, see https://gitlab.com/gitlab-org/gitlab-ee/issues/4084.\n- API is out of scope, it will be worked on it this other issue: https://gitlab.com/gitlab-org/gitlab-ce/issues/41860\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2017-10-31T18:44:30.666Z","updated_at":"2022-05-19T16:45:19.892Z","closed_at":"2018-04-04T12:17:59.669Z","closed_by":null,"labels":["Category:Portfolio Management","Deliverable","Enterprise Edition","GitLab Ultimate","backend","devops::plan","direction","documentation","epics","frontend","type::feature"],"milestone":{"id":424944,"iid":9,"group_id":9970,"title":"10.7","description":"","state":"closed","created_at":"2017-12-06T16:45:41.880Z","updated_at":"2018-05-11T15:04:03.492Z","due_date":"2018-04-22","start_date":"2018-03-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/9"},"assignees":[{"id":411701,"username":"kushalpandya","name":"Kushal Pandya","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/411701/avatar.png","web_url":"https://gitlab.com/kushalpandya"}],"author":{"id":711023,"username":"victorwu","name":"Victor Wu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/711023/avatar.png","web_url":"https://gitlab.com/victorwu"},"type":"ISSUE","assignee":{"id":411701,"username":"kushalpandya","name":"Kushal Pandya","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/411701/avatar.png","web_url":"https://gitlab.com/kushalpandya"},"user_notes_count":16,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/3889","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":6,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/3889","notes":"https://gitlab.com/api/v4/projects/278964/issues/3889/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/3889/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#3889","relative":"#3889","full":"gitlab-org/gitlab#3889"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":49,"epic":{"id":99,"iid":49,"title":"Managing epics","url":"/groups/gitlab-org/-/epics/49","group_id":9970,"human_readable_end_date":"Jun 22, 2018","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":24658261,"iid":19997,"project_id":278964,"title":"Remove jquery.scrollTo.js library","description":"Currently, we import the library `\\vendor\\assets\\javascripts\\jquery.scrollTo.js` through a local copy and we will replace its functionality with native scrolling including smooth scrolling. \n\n* [x]  Remove the references\n* [x]  Change usage to native functions\n* [x]  Test the functionality\n* [x]  Get all tests green","state":"closed","created_at":"2017-10-31T08:28:35.606Z","updated_at":"2021-01-04T13:30:52.239Z","closed_at":"2021-01-04T13:30:52.187Z","closed_by":{"id":181229,"username":"leipert","name":"Lukas 'Eipi' Eipert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/19a1f1260fa70323f35bc508927921a2?s=80\u0026d=identicon","web_url":"https://gitlab.com/leipert"},"labels":["Community contribution","OKR-FE","backstage [DEPRECATED]","frontend","missed:13.5","missed:13.6","missed:13.7"],"milestone":{"id":1233759,"iid":55,"group_id":9970,"title":"13.8","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:13.983Z","updated_at":"2022-04-13T14:51:23.220Z","due_date":"2021-01-17","start_date":"2020-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/55"},"assignees":[{"id":181229,"username":"leipert","name":"Lukas 'Eipi' Eipert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/19a1f1260fa70323f35bc508927921a2?s=80\u0026d=identicon","web_url":"https://gitlab.com/leipert"},{"id":636429,"username":"mikegreiling","name":"Mike Greiling","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/636429/avatar.png","web_url":"https://gitlab.com/mikegreiling"}],"author":{"id":1149402,"username":"timzallmann","name":"Tim Zallmann","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1149402/avatar.png","web_url":"https://gitlab.com/timzallmann"},"type":"ISSUE","assignee":{"id":181229,"username":"leipert","name":"Lukas 'Eipi' Eipert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/19a1f1260fa70323f35bc508927921a2?s=80\u0026d=identicon","web_url":"https://gitlab.com/leipert"},"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/19997","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":4,"completed_count":4},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"4 of 4 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/19997","notes":"https://gitlab.com/api/v4/projects/278964/issues/19997/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/19997/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#19997","relative":"#19997","full":"gitlab-org/gitlab#19997"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3418,"epic":{"id":59463,"iid":3418,"title":"Remove/replace dependencies utilizing jQuery","url":"/groups/gitlab-org/-/epics/3418","group_id":9970,"human_readable_end_date":"Sep 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":7425525,"iid":3879,"project_id":278964,"title":"Suppressing MergeableSelector warnings in scss-lint from EE-only files","description":"To get ready for merging gitlab-org/gitlab-ce!12810, MergeableSelector warnings in EE-only files and selectors should be fixed.\n\nIt is not a tough work at all since there are only 9 warnings over 4 files existed only in EE (See https://gitlab.com/gitlab-org/gitlab-ee/issues/3873#note_45123099).\n\n## Links\n\n- meta: #3873\n- CE: gitlab-org/gitlab-ce#23485","state":"closed","created_at":"2017-10-30T18:44:16.606Z","updated_at":"2019-08-12T15:45:40.789Z","closed_at":"2017-11-03T01:38:28.357Z","closed_by":null,"labels":["Community contribution","Enterprise Edition","frontend","static code analysis"],"milestone":{"id":349702,"iid":2,"group_id":9970,"title":"10.2","description":"","state":"closed","created_at":"2017-07-24T13:53:41.702Z","updated_at":"2018-03-22T16:15:32.616Z","due_date":"2017-11-22","start_date":"2017-10-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/2"},"assignees":[{"id":100770,"username":"tnir","name":"Takuya Noguchi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/100770/canstock6553672_288.png","web_url":"https://gitlab.com/tnir"}],"author":{"id":100770,"username":"tnir","name":"Takuya Noguchi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/100770/canstock6553672_288.png","web_url":"https://gitlab.com/tnir"},"type":"ISSUE","assignee":{"id":100770,"username":"tnir","name":"Takuya Noguchi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/100770/canstock6553672_288.png","web_url":"https://gitlab.com/tnir"},"user_notes_count":1,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/3879","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/3879","notes":"https://gitlab.com/api/v4/projects/278964/issues/3879/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/3879/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#3879","relative":"#3879","full":"gitlab-org/gitlab#3879"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":24658224,"iid":19977,"project_id":278964,"title":"max-nesting-depth (level 5) in stytlelint","description":"### Description\n\nJust enabled `max-nesting-depth` in `stylelint` (gitlab-foss#39582, gitlab-foss!15073) with `max_depth` 6, we need to make more efforts to keep CSS simple for continuous development.\n\nNote: until 2021-02, the issue title was about `NestingDepth` in `scss-lint` but due to !53700, we changed the title.\n\n### Proposal\n\nFinal goal of #16217 (formerly known as gitlab-foss#23485) in `max-nesting-depth` is level 4 and this issue (level 5) is the second step of it (probably consisted of three phases) as the first step (level 6) was achieved in gitlab-foss#39582 (gitlab-foss!15073).\n\n### Sub-tasks at [gitlab](https://gitlab.com/gitlab-org/gitlab) (now known as EE) on SCSS-Lint\n\nThe number of the violations followed by filename at master ee8e6fa5574 (2020-10-28):\n\n- [ ]    2 app/assets/stylesheets/framework/contextual_sidebar.scss\n- [ ]    4 app/assets/stylesheets/framework/diffs.scss\n- [ ]    5 app/assets/stylesheets/framework/files.scss\n- [ ]    8 app/assets/stylesheets/framework/gitlab_theme.scss :up:\n- [ ]    2 app/assets/stylesheets/framework/header.scss :arrow_down: (2020-10)\n- [ ]    4 app/assets/stylesheets/framework/typography.scss\n- [ ]    1 app/assets/stylesheets/pages/groups.scss :new: (2020-10)\n- [ ]    3 app/assets/stylesheets/pages/incident_management_list.scss :arrow_up: (2020-10)\n- [ ]    2 app/assets/stylesheets/pages/issuable.scss :up: (2020-06?) \n- [ ]    4 app/assets/stylesheets/pages/notes.scss\n- [ ]    5 app/assets/stylesheets/themes/theme_helper.scss :new: (2020-10)\n- [ ]    5 app/assets/stylesheets/themes/theme_light.scss :new: (2020-10)\n- [ ]    1 ee/app/assets/stylesheets/components/batch_comments/draft_note.scss\n- [ ]    2 ee/app/assets/stylesheets/pages/roadmap.scss :new: \n\n#### %\"12.4\" \n\n- [x]    3 ee/app/assets/stylesheets/pages/billings.scss (!15437) by @rhardarson\n\n#### %\"11.10\" \n\ngitlab-foss!26493 (`app/assets/stylesheets/pages/diff.scss`)\n\n#### %\"11.1\" - %\"11.9\"\n\nn/a\n\n#### %\"11.0\" \n\n- [x]   10 app/assets/stylesheets/pages/pipelines.scss (gitlab-foss!18830)\n\n#### %\"10.8\" \n\n- [x]    1 app/assets/stylesheets/pages/login.scss gitlab-foss!16275\n\n#### %\"10.7\" \n\n- [x]    1 app/assets/stylesheets/framework/dropdowns.scss gitlab-foss!17820\n\n#### %\"10.5\" \n\n- [x]    1 app/assets/stylesheets/pages/cycle_analytics.scss gitlab-foss!16270\n\n### Links / references\n\n- gitlab-foss#39582 \u0026 gitlab-foss!15073\n- gitlab-foss#23485 (meta)","state":"closed","created_at":"2017-10-29T16:26:44.256Z","updated_at":"2022-03-16T11:58:04.512Z","closed_at":"2021-03-12T06:37:53.707Z","closed_by":{"id":447038,"username":"vitallium","name":"Vitaly Slobodin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/74b3243cfcfbfac1f022b78ab505e8d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/vitallium"},"labels":["CSS cleanup","Quality","Stretch","frontend","maintenance::refactor","maintenance::workflow","meta","missed:11.11","missed:12.10","missed:12.2","missed:12.4","missed:12.5","missed:12.6","missed:12.7","missed:12.8","missed:13.0","missed:13.2","missed:13.3","missed:13.4","missed:13.5","missed:13.6","missed:13.7","missed:13.8","missed:13.9","static code analysis","type::maintenance","workflow::production"],"milestone":{"id":1233761,"iid":57,"group_id":9970,"title":"13.10","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.646Z","updated_at":"2022-04-21T07:22:00.171Z","due_date":"2021-03-17","start_date":"2021-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/57"},"assignees":[{"id":100770,"username":"tnir","name":"Takuya Noguchi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/100770/canstock6553672_288.png","web_url":"https://gitlab.com/tnir"}],"author":{"id":100770,"username":"tnir","name":"Takuya Noguchi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/100770/canstock6553672_288.png","web_url":"https://gitlab.com/tnir"},"type":"ISSUE","assignee":{"id":100770,"username":"tnir","name":"Takuya Noguchi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/100770/canstock6553672_288.png","web_url":"https://gitlab.com/tnir"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2021-04-07","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/19977","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":19,"completed_count":5},"weight":6,"blocking_issues_count":0,"has_tasks":true,"task_status":"5 of 19 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/19977","notes":"https://gitlab.com/api/v4/projects/278964/issues/19977/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/19977/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#19977","relative":"#19977","full":"gitlab-org/gitlab#19977"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":24658212,"iid":19969,"project_id":278964,"title":"Repository setting \"Pull from a remote repository\" validation bug","description":"### Summary\n\nI added a remote repo to pull from, along with my password and click \"mirror repository\" and saved. Then I wanted to remove it, so I unchecked \"mirror repository\", removed the password, and removed the URL. However, when I save, the form seems to prevent me from saving because it has a validation message in red `URL must have protocol present (eg; ssh://...)` even though there is no URL or any characters in that field at all anymore.\n\n### Steps to reproduce\n\n1. Add remote mirror repo to pull from\n2. Add your password\n3. Uncheck \"mirror repository\"\n4. Remove password\n5. Save\n\n### What is the current *bug* behavior?\n\nThe form seems to prevent me from saving because it has a validation message in red `URL must have protocol present (eg; ssh://...)` even though there is no URL or any characters in that field at all anymore.\n\n### What is the expected *correct* behavior?\n\nThe form should see that we have no data in it and that the \"mirror repository\" field is not checked, so it should not try to validate the repo URL.","state":"closed","created_at":"2017-10-27T21:46:15.909Z","updated_at":"2020-11-02T12:22:02.551Z","closed_at":"2020-11-02T12:22:02.423Z","closed_by":{"id":1786152,"username":"gitlab-bot","name":"🤖 GitLab Bot 🤖","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1786152/avatar.png","web_url":"https://gitlab.com/gitlab-bot"},"labels":["Create [DEPRECATED]","[deprecated] Accepting merge requests","auto closed","default-priority","devops::create","frontend","group::source code","priority::3","repository","reproduced on GitLab.com","section::dev","settings","severity::4","stale","type::bug","vintage"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":1243277,"username":"ghost1","name":"Ghost User","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4249f4df72b475e7894fabed1c5888cf?s=80\u0026d=identicon","web_url":"https://gitlab.com/ghost1"},"type":"ISSUE","assignee":null,"user_notes_count":10,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/19969","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/19969","notes":"https://gitlab.com/api/v4/projects/278964/issues/19969/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/19969/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#19969","relative":"#19969","full":"gitlab-org/gitlab#19969"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":24658198,"iid":19964,"project_id":278964,"title":"Deprecate dynamic milestone pages","description":"- In GitLab currently we have support for project milestones and group milestones.\n- For a given issue or merge request, you can assign a project milestone to it, from it's project.\n- For a given issue or merge request, you can assign a group milestone to it, from it's parent group.\n  - In the future, you should be able to assign a group milestone from further ancestor groups, i.e. https://gitlab.com/gitlab-org/gitlab-ce/issues/36862 and https://gitlab.com/groups/gitlab-org/-/epics/22 more broadly.\n- This scheme is straightforward and simple to understand. And it is already very powerful/flexible for users.\n\nCurrently, GitLab still has some legacy features we want to _remove_:\n  - For a given _instance_, there is a page that pulls in _all_ the project milestones with the same name, in the entire instance. You can navigate to this dynamic page by going to the instance milestones dashboard (e.g. https://gitlab.com/dashboard/milestones) and clicking any of the \"project milestones\" there. It will send you to a dynamic page (e.g. https://gitlab.com/dashboard/milestones/95?title=9.5).\n  - For a given _group_, there is a page that pulls in _all_ the project milestones with the same name, in that group. You can navigate to this dynamic page by going to the Group Milestones page (e.g. https://gitlab.com/groups/gitlab-org/-/milestones) and clicking any of the \"project milestones\" there. It will send you to a dynamic page (e.g. https://gitlab.com/groups/gitlab-org/-/milestones/100?title=10.0).\n\n### To be done before this issue\n- https://gitlab.com/gitlab-org/gitlab-ce/issues/42336 Put a deprecation warning on the dynamic milestone page at least one release prior to removing it.\n\n### Scope for this issue\n- Remove the dynamic milestone pages, i.e. the dynamically generated pages themselves.\n- Remove the links to these dynamic milestone pages. As linked to above, in the dashboard milestone list view, and in the group milestone list view, you can access these dynamically generated pages. These links should be removed.\n- For the group milestone list view, we should retain listing of project milestones because of https://gitlab.com/gitlab-org/gitlab/issues/24779 but these should now link to the project milestone page","state":"closed","created_at":"2017-10-27T16:11:38.304Z","updated_at":"2022-05-19T16:45:41.461Z","closed_at":"2020-07-02T11:43:42.336Z","closed_by":{"id":3483274,"username":"acroitor","name":"Alexandru Croitor","state":"active","avatar_url":"https://secure.gravatar.com/avatar/461378ef52c26eec55e6c15ec09bb9ed?s=80\u0026d=identicon","web_url":"https://gitlab.com/acroitor"},"labels":["backend","devops::plan","frontend","group::project management","milestones","workflow::verification"],"milestone":{"id":1112145,"iid":47,"group_id":9970,"title":"13.1","description":"","state":"closed","created_at":"2020-01-03T12:28:30.160Z","updated_at":"2020-10-08T12:01:07.361Z","due_date":"2020-06-17","start_date":"2020-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/47"},"assignees":[{"id":3483274,"username":"acroitor","name":"Alexandru Croitor","state":"active","avatar_url":"https://secure.gravatar.com/avatar/461378ef52c26eec55e6c15ec09bb9ed?s=80\u0026d=identicon","web_url":"https://gitlab.com/acroitor"}],"author":{"id":711023,"username":"victorwu","name":"Victor Wu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/711023/avatar.png","web_url":"https://gitlab.com/victorwu"},"type":"ISSUE","assignee":{"id":3483274,"username":"acroitor","name":"Alexandru Croitor","state":"active","avatar_url":"https://secure.gravatar.com/avatar/461378ef52c26eec55e6c15ec09bb9ed?s=80\u0026d=identicon","web_url":"https://gitlab.com/acroitor"},"user_notes_count":53,"merge_requests_count":0,"upvotes":5,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/19964","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/19964","notes":"https://gitlab.com/api/v4/projects/278964/issues/19964/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/19964/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#19964","relative":"#19964","full":"gitlab-org/gitlab#19964"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6,"epic":{"id":6,"iid":6,"title":"Group milestones parity with project milestones","url":"/groups/gitlab-org/-/epics/6","group_id":9970,"human_readable_end_date":"Jun 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":7375582,"iid":3868,"project_id":278964,"title":"Reduce the scope of Geo JWT (JSON Web Tokens)","description":"Currently, we generate a large number of JWTs for Geo - one per file synced, per secondary. In !3116 we are adding one per repository synced, as well. They are short-lived but do not have any restrictions on scope, so a token valid for downloading one file or repo could, in theory, be used to download another.\n\nWe can include parameters in the token that restrict the objects to be synced by it. This would represent a small enhancement in security (since if you can steal one token, you can probably steal more), but I believe it's worthwhile.\n\nThe following discussion from !3116 should be addressed:\n\n- [ ] @nick.thomas started a [discussion](https://gitlab.com/gitlab-org/gitlab-ee/merge_requests/3116#note_43717431):  (+1 comment)\n\n    \u003e I'll do this by including `gl_repository` in the token when it's generated, and checking it on this side.","state":"closed","created_at":"2017-10-27T12:42:23.374Z","updated_at":"2020-11-30T10:52:29.122Z","closed_at":"2019-01-22T15:27:05.739Z","closed_by":{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"},"labels":["Category:Geo Replication","Enterprise Edition","devops::systems","group::geo","security","workflow::in review"],"milestone":{"id":581391,"iid":23,"group_id":9970,"title":"11.8","description":"","state":"closed","created_at":"2018-06-26T15:15:18.359Z","updated_at":"2019-03-08T17:33:19.162Z","due_date":"2019-02-22","start_date":"2019-01-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/23"},"assignees":[{"id":59678,"username":"vsizov","name":"Valery Sizov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/59678/avatar.png","web_url":"https://gitlab.com/vsizov"}],"author":{"id":572018,"username":"nick.thomas","name":"Nick Thomas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/572018/avatar.png","web_url":"https://gitlab.com/nick.thomas"},"type":"ISSUE","assignee":{"id":59678,"username":"vsizov","name":"Valery Sizov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/59678/avatar.png","web_url":"https://gitlab.com/vsizov"},"user_notes_count":7,"merge_requests_count":2,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/3868","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/3868","notes":"https://gitlab.com/api/v4/projects/278964/issues/3868/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/3868/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#3868","relative":"#3868","full":"gitlab-org/gitlab#3868"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":526,"epic":{"id":1838,"iid":526,"title":"Geo: Security Review prior to GitLab.com deployment","url":"/groups/gitlab-org/-/epics/526","group_id":9970,"human_readable_end_date":"Apr 22, 2019","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":7362420,"iid":3861,"project_id":278964,"title":"Use serializers for project / group boards","description":"Currently we manually serialize _boards_ in a few places using `object.as_json` (i.e. https://gitlab.com/gitlab-org/gitlab-ee/blob/master/ee/app/controllers/ee/boards/boards_controller.rb#L77-84 and a few places in https://gitlab.com/gitlab-org/gitlab-ee/merge_requests/2912). Ultimately we should also be using serializers in order to accomplish this.","state":"closed","created_at":"2017-10-26T15:18:35.709Z","updated_at":"2022-05-19T16:45:18.712Z","closed_at":"2019-06-13T19:27:04.309Z","closed_by":{"id":64248,"username":"stanhu","name":"Stan Hu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/64248/stanhu.jpg","web_url":"https://gitlab.com/stanhu"},"labels":["Category:Team Planning","Enterprise Edition","Stretch","backend","boards","devops::plan","maintenance::refactor"],"milestone":{"id":693520,"iid":34,"group_id":9970,"title":"12.1","description":"https://about.gitlab.com/releases/2019/07/22/gitlab-12-1-released","state":"closed","created_at":"2018-10-30T16:47:58.826Z","updated_at":"2020-04-27T16:30:09.107Z","due_date":"2019-07-22","start_date":"2019-06-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/34"},"assignees":[{"id":3717078,"username":"cablett","name":"charlie ablett","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3717078/avatar.png","web_url":"https://gitlab.com/cablett"}],"author":{"id":11493,"username":"oswaldo","name":"Oswaldo Ferreira","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11493/avatar.png","web_url":"https://gitlab.com/oswaldo"},"type":"ISSUE","assignee":{"id":3717078,"username":"cablett","name":"charlie ablett","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3717078/avatar.png","web_url":"https://gitlab.com/cablett"},"user_notes_count":1,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/3861","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/3861","notes":"https://gitlab.com/api/v4/projects/278964/issues/3861/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/3861/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#3861","relative":"#3861","full":"gitlab-org/gitlab#3861"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":7324681,"iid":3845,"project_id":278964,"title":"Prevent commit authors from self approvaling merge requests","description":"There is an option https://gitlab.com/gitlab-org/gitlab-ee/issues/3349 to prevent (or allow) the merge request author (person who created the merge request) from approving their own changes, but this doesn't block the commit author from approving the changes if they are different.\n\n### Further details\n\nA customer requests:\n\n\u003e We currently restrict the ability for a MR author to approve their own MR. However, it's possible that the MR could contain commits from may authors. Additionally, consider that someone may come along after the MR has been created and can make a new commit to the branch and then approve their own change, bypassing these 'approval' safeguards. \n\u003e\n\u003e Approvers feature should look at committers in addition to MR author. \n\u003e\n\u003e There are some concerns with this - if a MR incorporates a bunch of older changes from another branch then suddenly many people could be excluded from the possible approvers.\n\nThe purpose of the logic that prevents the author of the merge request from approving their own changes is to make sure that the people who approve the change are not the people who authored the change. Using the commit author is a more comprehensive way to ensure that the reviewer is not the author of the change.\n\nIt should be noted, that the commit author can be overridden so this will not serve as a guarantee. Instead this provides a more comprehensive and expected default behavior when self approval is not allowed.\n\n### Proposal\n\nWhen self approval is disabled also block approval based on commit author of the commits in the merge request\n\nNote: if a merge request includes many older changes, like merging between two long living branches, many people could be excluded from the eligible approvers list. This would be addressed by the proposal https://gitlab.com/gitlab-org/gitlab-ee/issues/460 in a later release\n\n### What does success look like, and how can we measure that?\n\nThis change is unlikely to change the usage of self approval as disabling self approval will already be enabled for these customers. Instead this feature will improve the experience of customers who desire this behavior. We will not measure this feature.\n\n### Links / references\n\n- Zendesk: https://gitlab.zendesk.com/agent/tickets/83893","state":"closed","created_at":"2017-10-24T10:56:39.428Z","updated_at":"2021-06-08T11:43:57.021Z","closed_at":"2019-01-08T06:19:41.434Z","closed_by":{"id":87854,"username":"DouweM","name":"Douwe Maan","state":"active","avatar_url":"https://secure.gravatar.com/avatar/73d1548ae618321220679b3a4fda7fb1?s=80\u0026d=identicon","web_url":"https://gitlab.com/DouweM"},"labels":["Create [DEPRECATED]","Deliverable","Enterprise Edition","GitLab Starter","approvals","backend","customer","devops::create","direction","merge requests","priority::1","type::feature","workflow::in review"],"milestone":{"id":581385,"iid":22,"group_id":9970,"title":"11.7","description":"","state":"closed","created_at":"2018-06-26T15:14:47.054Z","updated_at":"2019-02-07T18:12:10.925Z","due_date":"2019-01-22","start_date":"2018-12-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/22"},"assignees":[{"id":117638,"username":"tiagonbotelho","name":"Tiago Botelho","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/117638/avatar.png","web_url":"https://gitlab.com/tiagonbotelho"}],"author":{"id":13356,"username":"dblessing","name":"Drew Blessing","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b5bf44866b4eeafa2d8114bfe15da02f?s=80\u0026d=identicon","web_url":"https://gitlab.com/dblessing"},"type":"ISSUE","assignee":{"id":117638,"username":"tiagonbotelho","name":"Tiago Botelho","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/117638/avatar.png","web_url":"https://gitlab.com/tiagonbotelho"},"user_notes_count":29,"merge_requests_count":1,"upvotes":3,"downvotes":1,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/3845","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/3845","notes":"https://gitlab.com/api/v4/projects/278964/issues/3845/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/3845/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#3845","relative":"#3845","full":"gitlab-org/gitlab#3845"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":7323373,"iid":3844,"project_id":278964,"title":"Add option to limit pull mirror to protected branches","description":"In some instances not all branches need to be mirrored, and it may even be problematic to mirror branches where history is changing (e.g. bidirectional mirroring).\n\n### Proposal\n\n- Add option to `Only mirror protected branches`\n- Default to `true` for new mirrored repositories\n\n### Links / references\n\nhttps://gitlab.com/gitlab-org/gitlab-ee/issues/3745\n\n### Documentation blurb\n\n#### Overview\n\nWhat is it?\nWhy should someone use this feature?\nWhat is the underlying (business) problem?\nHow do you use this feature?\n\n#### Use cases\n\nWho is this for? Provide one or more use cases.\n\n### Feature checklist\n\nMake sure these are completed before closing the issue,\nwith a link to the relevant commit.\n\n- [ ] [Feature assurance](https://about.gitlab.com/handbook/product/#feature-assurance)\n- [ ] Documentation\n- [ ] Added to [features.yml](https://gitlab.com/gitlab-com/www-gitlab-com/blob/master/data/features.yml)","state":"closed","created_at":"2017-10-24T09:37:07.974Z","updated_at":"2019-08-12T15:45:43.549Z","closed_at":"2017-12-04T15:25:32.973Z","closed_by":null,"labels":["Deliverable","Enterprise Edition","backend","customer+","mirror","type::feature","workflow::in review"],"milestone":{"id":360827,"iid":3,"group_id":9970,"title":"10.3","description":"","state":"closed","created_at":"2017-08-16T16:51:52.890Z","updated_at":"2018-03-22T16:15:37.036Z","due_date":"2017-12-22","start_date":"2017-11-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/3"},"assignees":[{"id":1187333,"username":"jramsay-gitlab","name":"James Ramsay (ex-GitLab)","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1187333/avatar.png","web_url":"https://gitlab.com/jramsay-gitlab"}],"author":{"id":1187333,"username":"jramsay-gitlab","name":"James Ramsay (ex-GitLab)","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1187333/avatar.png","web_url":"https://gitlab.com/jramsay-gitlab"},"type":"ISSUE","assignee":{"id":1187333,"username":"jramsay-gitlab","name":"James Ramsay (ex-GitLab)","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1187333/avatar.png","web_url":"https://gitlab.com/jramsay-gitlab"},"user_notes_count":8,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/3844","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":0},"weight":4,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/3844","notes":"https://gitlab.com/api/v4/projects/278964/issues/3844/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/3844/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#3844","relative":"#3844","full":"gitlab-org/gitlab#3844"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":7323343,"iid":3843,"project_id":278964,"title":"Add option to limit push mirror to protected branches","description":"In some instances not all branches need to be mirrored, and it may even be problematic to mirror branches where history is changing (e.g. bidirectional mirroring).\n\n### Proposal\n\n- Add option to `Only mirror protected branches`\n- Default to `true` for new mirrored repositories, so that mirroring is fast by default (see #3832)\n\n### Links / references\n\nhttps://gitlab.com/gitlab-org/gitlab-ee/issues/3745\n\n### Documentation blurb\n\n#### Overview\n\nWhat is it?\nWhy should someone use this feature?\nWhat is the underlying (business) problem?\nHow do you use this feature?\n\n#### Use cases\n\nWho is this for? Provide one or more use cases.\n\n### Feature checklist\n\nMake sure these are completed before closing the issue,\nwith a link to the relevant commit.\n\n- [ ] [Feature assurance](https://about.gitlab.com/handbook/product/#feature-assurance)\n- [ ] Documentation\n- [ ] Added to [features.yml](https://gitlab.com/gitlab-com/www-gitlab-com/blob/master/data/features.yml)","state":"closed","created_at":"2017-10-24T09:35:25.172Z","updated_at":"2019-08-12T15:45:43.595Z","closed_at":"2017-11-20T10:33:14.692Z","closed_by":null,"labels":["Deliverable","Enterprise Edition","backend","customer+","mirror","type::feature","workflow::in review"],"milestone":{"id":360827,"iid":3,"group_id":9970,"title":"10.3","description":"","state":"closed","created_at":"2017-08-16T16:51:52.890Z","updated_at":"2018-03-22T16:15:37.036Z","due_date":"2017-12-22","start_date":"2017-11-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/3"},"assignees":[{"id":1187333,"username":"jramsay-gitlab","name":"James Ramsay (ex-GitLab)","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1187333/avatar.png","web_url":"https://gitlab.com/jramsay-gitlab"}],"author":{"id":1187333,"username":"jramsay-gitlab","name":"James Ramsay (ex-GitLab)","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1187333/avatar.png","web_url":"https://gitlab.com/jramsay-gitlab"},"type":"ISSUE","assignee":{"id":1187333,"username":"jramsay-gitlab","name":"James Ramsay (ex-GitLab)","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1187333/avatar.png","web_url":"https://gitlab.com/jramsay-gitlab"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/3843","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":0},"weight":4,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/3843","notes":"https://gitlab.com/api/v4/projects/278964/issues/3843/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/3843/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#3843","relative":"#3843","full":"gitlab-org/gitlab#3843"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":7322643,"iid":3839,"project_id":278964,"title":"Create (CI/CD) projects for external repositories","description":"### Description\n\nWhen creating a new project, we have different options and all of them include having a local repository on GitLab. If we want to use GitLab primarily for CI/CD, and keeping the code somewhere else (e.g., GitHub or Bitbucket), we need an additional way that automatically sets up everything that is needed.\n\n### Proposal\n\nIt is important to support GitHub, GitHub Enterprise, and Bitbucket Cloud, but this should be delivered in small increments so that work can be parallelized. For this reason, we should implement as a URL import and then add each integration.\n\n- Add a new panel in the **New project** page, specifically to create CI/CD projects\n  - It should have the ability to create a CI/CD project from **Repo by URL** (manual process)\n  - It should have capabilities similar to the **New project \u003e Import project \u003e GitHub**, with ability to use OAuth2 authentication to automatically fetch projects from the linked GitHub account.\n\n- Import the project and configure:\n  - Disable issues, merge requests, container registry, wiki, snippets\n  - Enable pull mirroring of the project\n  - Match the visibility of imported repo if importing from GitHub or Bitbucket (e.g. if GitHub repo is private, make project private. If GitHub repo is public, make project public)\n  - The above configuration can be edited after creation, but we'll start with smart defaults.\n\nFollow up improvements (within %10.6)\n\n- Automatically setup a service integration with GitHub\n- Automatically setup web hooks in GitHub to call the GitLab pull mirror API\n\nFuture improvements:\n\n- It should have capabilities similar to the **New project \u003e Import project \u003e Bitbucket**, with ability to use OAuth2 authentication to automatically fetch projects from the linked Bitbucket Cloud account.\n\n### Design\n\nCopy:\n- `A project is where you house your files (repository), plan your work (issues), and publish your documentation (wiki), among other things.`\n- `All features are enabled for blank projects, from templates, or when importing, but you can disable them afterward in the project settings.`\n- `To use CI/CD features for an external repository, choose CI/CD project.`\n- `Run CI/CD pipelines for external repositories`\n- `Connect your external repositories and CI/CD pipelines will run for new commits. A GitLab project will be created with CI/CD features enabled.`\n- `If using GitHub, you’ll be able to see the pipeline statuses for each commit on GitHub. More info`\n   - This sentence is only applicable if the “GitHub” option is present **and** https://gitlab.com/gitlab-org/gitlab-ee/issues/3836 is done. The “More info” link should direct users to the documentation about that GitHub project integration (from that linked issue).\n\n#### Repo by URL\n\n| Step 1: Choose “CI/CD project” tab | Step 2: Choose “Repo by URL” option |\n|---|---|---|---|\n| ![image](/uploads/573d85513a55d2ea0c0f1eda03ad0f10/image.png) | ![image](/uploads/dae6a2279b155cea0b8f8899fd943ea3/image.png) |\n\n\n#### GitHub\n\n| Step 1: Choose “CI/CD project” tab | Step 2: Choose “GitHub” option | Step 3: Authenticate on GitHub | Step 4: Connect GitHub repositories |\n|---|---|---|---|---|\n| ![image](/uploads/573d85513a55d2ea0c0f1eda03ad0f10/image.png) | ![image](/uploads/4f8eed777c847763fec9299b98a6f13d/image.png) | ![image](https://gitlab.com/gitlab-org/gitlab-ee/uploads/53030752649c8f007c57483d9c0e482c/20180125_screenshot_6.png) | ![image](/uploads/9cfe616e6fd18c129dc9ed9a39ae4457/image.png) |\n\n\n### Links / references\n\n- https://gitlab.com/gitlab-org/gitlab-ee/issues/3745\n- #3837","state":"closed","created_at":"2017-10-24T08:22:25.087Z","updated_at":"2019-08-12T15:45:43.891Z","closed_at":"2018-03-07T21:26:28.143Z","closed_by":null,"labels":["Deliverable","Enterprise Edition","GitLab Premium","backend","direction","frontend","mirror","type::feature","workflow::in review"],"milestone":{"id":416486,"iid":8,"group_id":9970,"title":"10.6","description":"https://about.gitlab.com/releases/2018/03/22/gitlab-10-6-released","state":"closed","created_at":"2017-11-21T20:05:35.697Z","updated_at":"2020-04-27T16:30:32.220Z","due_date":"2018-03-22","start_date":"2018-02-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/8"},"assignees":[{"id":626804,"username":"pedroms","name":"Pedro Moreira da Silva","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c306f087d191ac15549f3c11e3bed321?s=80\u0026d=identicon","web_url":"https://gitlab.com/pedroms"},{"id":892863,"username":"MadLittleMods","name":"Eric Eastwood","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4d634a2b818e2265fa2924b5f4c2da71?s=80\u0026d=identicon","web_url":"https://gitlab.com/MadLittleMods"}],"author":{"id":1273957,"username":"bikebilly","name":"Fabio Busatto","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1273957/avatar.png","web_url":"https://gitlab.com/bikebilly"},"type":"ISSUE","assignee":{"id":626804,"username":"pedroms","name":"Pedro Moreira da Silva","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c306f087d191ac15549f3c11e3bed321?s=80\u0026d=identicon","web_url":"https://gitlab.com/pedroms"},"user_notes_count":84,"merge_requests_count":4,"upvotes":9,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/3839","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":4,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/3839","notes":"https://gitlab.com/api/v4/projects/278964/issues/3839/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/3839/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#3839","relative":"#3839","full":"gitlab-org/gitlab#3839"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":7322520,"iid":3836,"project_id":278964,"title":"GitHub project service integration (manual)","description":"When GitLab CI/CD executes pipelines for a project that mirrors a GitHub project, the pipeline status is visible only in GitLab. This requires users to go to GitLab in order to see the health of their project, while they should be able to see it directly in the GitHub interface.\n\nWe should implement a way to send the status back to the original project in GitHub, as many other CI/CD systems do.\n\n### Proposal\n\nCreate a project service integration for GitHub, that allows sending the status back to the original project using the GitHub status APIs (https://developer.github.com/v3/repos/statuses/).\n\nAsk for the minimal information needed:\n\n1. GitHub address (to allow for on-prem GitHub Enterprise) (default to github.com)\n1. Personal API token (https://github.com/blog/1509-personal-api-tokens)\n1. Project owner (namespace) (default to namespace, if match found in GitHub)\n1. Project name (default to project name, if match found in GitHub)\n\nWhen active, the service will connect to GitHub and update the commit status automatically.\n\nFollow up improvements (%10.6)\n\n- Automatically fill and enable GitHub project service integration if importing a CI/CD only project from GitHuhb\n\nFuture improvements:\n\n- Provide a button to automatically connect to GitHub account and fill in 1 and 2. [Mark: I don't believe you can use the API to fetch or generate a personal API token, but we can use OAuth instead of a token.]\n- Send environment deployment status to GitHub (https://gitlab.com/gitlab-org/gitlab-ee/issues/3842).\n\n### Design\n\n| Empty | Authorize | Filled | PR status |\n|---|---|---|---|\n| ![localhost-3000-h5bp-html5-boilerplate-services-github-edit](/uploads/3b36edbf72005462bfca15b71b99ecab/localhost-3000-h5bp-html5-boilerplate-services-github-edit.png) | ![image](/uploads/aa23bf7e41b3258053019760e7137865/image.png) | ![localhost-3000-h5bp-html5-boilerplate-services-github-edit__1_](/uploads/b27ecf0faa6588febf2f88f6e89c322c/localhost-3000-h5bp-html5-boilerplate-services-github-edit__1_.png) | ![image](/uploads/978c576d654b637503761ab1fffa1f75/image.png) |\n\n### Links / references\n\n- https://gitlab.com/gitlab-org/gitlab-ee/issues/3836\n- https://gitlab.com/gitlab-org/gitlab-ee/issues/3745\n- https://gitlab.com/gitlab-org/gitlab-ee/issues/3842\n- [GitHub API: create a commit status](https://developer.github.com/v3/repos/statuses/#create-a-status)\n\n### Documentation blurb\n\n#### Overview\n\nWhat is it?\nWhy should someone use this feature?\nWhat is the underlying (business) problem?\nHow do you use this feature?\n\n#### Use cases\n\nWho is this for? Provide one or more use cases.\n\n### Feature checklist\n\nMake sure these are completed before closing the issue,\nwith a link to the relevant commit.\n\n- [ ] [Feature assurance](https://about.gitlab.com/handbook/product/#feature-assurance)\n- [ ] Documentation\n- [ ] Added to [features.yml](https://gitlab.com/gitlab-com/www-gitlab-com/blob/master/data/features.yml)","state":"closed","created_at":"2017-10-23T19:46:00.570Z","updated_at":"2019-08-12T15:46:01.503Z","closed_at":"2018-03-07T16:50:48.657Z","closed_by":null,"labels":["Deliverable","Enterprise Edition","GitLab Premium","UX","backend","direction","frontend","mirror","type::feature","workflow::in review"],"milestone":{"id":416486,"iid":8,"group_id":9970,"title":"10.6","description":"https://about.gitlab.com/releases/2018/03/22/gitlab-10-6-released","state":"closed","created_at":"2017-11-21T20:05:35.697Z","updated_at":"2020-04-27T16:30:32.220Z","due_date":"2018-03-22","start_date":"2018-02-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/8"},"assignees":[{"id":626804,"username":"pedroms","name":"Pedro Moreira da Silva","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c306f087d191ac15549f3c11e3bed321?s=80\u0026d=identicon","web_url":"https://gitlab.com/pedroms"},{"id":654619,"username":"jamedjo","name":"James Edwards-Jones","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/654619/avatar.png","web_url":"https://gitlab.com/jamedjo"}],"author":{"id":1273957,"username":"bikebilly","name":"Fabio Busatto","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1273957/avatar.png","web_url":"https://gitlab.com/bikebilly"},"type":"ISSUE","assignee":{"id":626804,"username":"pedroms","name":"Pedro Moreira da Silva","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c306f087d191ac15549f3c11e3bed321?s=80\u0026d=identicon","web_url":"https://gitlab.com/pedroms"},"user_notes_count":29,"merge_requests_count":1,"upvotes":6,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/3836","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":0},"weight":4,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/3836","notes":"https://gitlab.com/api/v4/projects/278964/issues/3836/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/3836/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#3836","relative":"#3836","full":"gitlab-org/gitlab#3836"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":7314895,"iid":3832,"project_id":278964,"title":"Decrease push mirror delay","description":"Currently the soonest a change is push mirrored is at least 5 minutes after the change is detected. This is done for performance reasons to decrease the frequency of the push. In reality it is typically much slower.\n\nThis will also cause serious in bidirectional mirroring scenarios where delays will create more opportunity for conflict.\n\n### Proposal\n\n- If `Only mirror protected branches` is `true` (https://gitlab.com/gitlab-org/gitlab-ee/issues/3843), push changes immediately\n- Otherwise use existing slower logic\n\n### Links / references\n\n### Documentation blurb\n\n#### Overview\n\nWhat is it?\nWhy should someone use this feature?\nWhat is the underlying (business) problem?\nHow do you use this feature?\n\n#### Use cases\n\nWho is this for? Provide one or more use cases.\n\n### Feature checklist\n\nMake sure these are completed before closing the issue,\nwith a link to the relevant commit.\n\n- [ ] [Feature assurance](https://about.gitlab.com/handbook/product/#feature-assurance)\n- [ ] Documentation\n- [ ] Added to [features.yml](https://gitlab.com/gitlab-com/www-gitlab-com/blob/master/data/features.yml)","state":"closed","created_at":"2017-10-23T17:40:29.971Z","updated_at":"2022-07-08T13:32:47.621Z","closed_at":"2017-12-05T12:14:08.569Z","closed_by":null,"labels":["Deliverable","Enterprise Edition","backend","customer+","mirror","type::feature","workflow::in review"],"milestone":{"id":360827,"iid":3,"group_id":9970,"title":"10.3","description":"","state":"closed","created_at":"2017-08-16T16:51:52.890Z","updated_at":"2018-03-22T16:15:37.036Z","due_date":"2017-12-22","start_date":"2017-11-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/3"},"assignees":[{"id":1187333,"username":"jramsay-gitlab","name":"James Ramsay (ex-GitLab)","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1187333/avatar.png","web_url":"https://gitlab.com/jramsay-gitlab"}],"author":{"id":1187333,"username":"jramsay-gitlab","name":"James Ramsay (ex-GitLab)","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1187333/avatar.png","web_url":"https://gitlab.com/jramsay-gitlab"},"type":"ISSUE","assignee":{"id":1187333,"username":"jramsay-gitlab","name":"James Ramsay (ex-GitLab)","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1187333/avatar.png","web_url":"https://gitlab.com/jramsay-gitlab"},"user_notes_count":14,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/3832","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/3832","notes":"https://gitlab.com/api/v4/projects/278964/issues/3832/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/3832/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#3832","relative":"#3832","full":"gitlab-org/gitlab#3832"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":7295203,"iid":3821,"project_id":278964,"title":"Use `push` web hook events for pull mirroring","description":"Many git servers support making a HTTP POST request to an endpoint for each `push` event they receive. Rather than polling for pull mirroring, this can be triggered based on a webhook.\n\n### Proposal\n\n- Add API endpoint to receive webhook from other GitLab instances, GitHub, Bitbucket etc.\n\n### Links / references\n\nRequired to improve performance of pull mirroring, which is half of bi-directional sync: https://gitlab.com/gitlab-org/gitlab-ee/issues/3745\n\n### Documentation blurb\n\n#### Overview\n\nWhat is it?\nWhy should someone use this feature?\nWhat is the underlying (business) problem?\nHow do you use this feature?\n\n#### Use cases\n\nWho is this for? Provide one or more use cases.\n\n### Feature checklist\n\nMake sure these are completed before closing the issue,\nwith a link to the relevant commit.\n\n- [ ] [Feature assurance](https://about.gitlab.com/handbook/product/#feature-assurance)\n- [ ] Documentation\n- [ ] Added to [features.yml](https://gitlab.com/gitlab-com/www-gitlab-com/blob/master/data/features.yml)","state":"closed","created_at":"2017-10-22T16:03:31.168Z","updated_at":"2020-08-07T13:01:36.367Z","closed_at":"2017-11-30T17:00:11.407Z","closed_by":null,"labels":["Deliverable","Enterprise Edition","backend","customer+","direction","mirror","type::feature","workflow::in dev"],"milestone":{"id":360827,"iid":3,"group_id":9970,"title":"10.3","description":"","state":"closed","created_at":"2017-08-16T16:51:52.890Z","updated_at":"2018-03-22T16:15:37.036Z","due_date":"2017-12-22","start_date":"2017-11-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/3"},"assignees":[{"id":955795,"username":"fjsanpedro","name":"Francisco Javier López","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},{"id":1187333,"username":"jramsay-gitlab","name":"James Ramsay (ex-GitLab)","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1187333/avatar.png","web_url":"https://gitlab.com/jramsay-gitlab"}],"author":{"id":1187333,"username":"jramsay-gitlab","name":"James Ramsay (ex-GitLab)","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1187333/avatar.png","web_url":"https://gitlab.com/jramsay-gitlab"},"type":"ISSUE","assignee":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier López","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"user_notes_count":1,"merge_requests_count":1,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/3821","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/3821","notes":"https://gitlab.com/api/v4/projects/278964/issues/3821/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/3821/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#3821","relative":"#3821","full":"gitlab-org/gitlab#3821"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":24658081,"iid":19903,"project_id":278964,"title":"double underscore bold formatting takes precedence over automatic url formatting","description":"I searched both CE and EE issue trackers but I didn't see a duplicate for this, I apologize if that is not the case.\n\n### Summary\n\nWhen putting a url in a comment which contains multiple `__`, the url is prematurely ended in order to format the text between them as bold. For example:\n\nhttps://gitlab.com/pycqa/flake8/blob/master/src/flake8/__init__.py#L1 (this will render correctly when this is fixed)\n\n`https://gitlab.com/pycqa/flake8/blob/master/src/flake8/__init__.py#L1` should be a single url with the `__` preserved in the url.\n\nAt the time of writing this, the above url instead looks something like `\u003ca\u003ehttps://gitlab.com/pycqa/flake8/blob/master/src/flake8/\u003c/a\u003e\u003cbold\u003einit\u003c/bold\u003e.py#L1` and the actual href is also wrong, not just the rendering of it.\n\n### Steps to reproduce\n\nPut a url containing more than one set of `__` with text between them in a comment and post it.\n\n### Example Project\n\nThe link above to a file in pycqa/flake8 should be example enough I think.\n\n### What is the current *bug* behavior?\n\nThe url is not automatically linked correctly, instead it ends where the formatting begins.\n\n### What is the expected *correct* behavior?\n\nThe url should be complete, and the formatting behavior of the `__` should be ignored.\n\n### Relevant logs and/or screenshots\n\nHere is a screenshot of the incorrect rendering:\n\n![Screen_Shot_2017-10-20_at_9.07.51_AM](/uploads/bda2454b6ad74748b55646ff65c1ae4c/Screen_Shot_2017-10-20_at_9.07.51_AM.png)\n\n### Output of checks\n\nThis bug happens on GitLab.com.\n\n### Possible fixes\n\nI don't have any insight into where this might be fixed, but I imagine it comes down to automatic url creation needs to take precedence over text formatting, or that urls need to be excluded from text formatting.","state":"closed","created_at":"2017-10-20T16:10:37.811Z","updated_at":"2021-11-08T03:04:26.031Z","closed_at":"2021-11-08T03:04:26.022Z","closed_by":{"id":1786152,"username":"gitlab-bot","name":"🤖 GitLab Bot 🤖","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1786152/avatar.png","web_url":"https://gitlab.com/gitlab-bot"},"labels":["Create [DEPRECATED]","Manage [DEPRECATED]","[deprecated] Accepting merge requests","auto closed","banzai","default-priority","default-severity","priority::3","reproduced on GitLab.com","severity::3","stale","type::bug","vintage"],"milestone":null,"assignees":[],"author":{"id":642835,"username":"wjwwood","name":"William Woodall","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4310348aa750a932bb60165505aaa834?s=80\u0026d=identicon","web_url":"https://gitlab.com/wjwwood"},"type":"ISSUE","assignee":null,"user_notes_count":12,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/19903","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/19903","notes":"https://gitlab.com/api/v4/projects/278964/issues/19903/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/19903/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#19903","relative":"#19903","full":"gitlab-org/gitlab#19903"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":24658065,"iid":19897,"project_id":278964,"title":"Tabbing through new issue and choosing (enter) label and going back to edit pane leaves return in labels field.","description":"### Summary\n\nIn form for new issue when i use tab key to go to labels, choose a label via Enter, \nand go back to issue description  with shift+tab, the return is still in labels menu and is activates/deactivates last label  (while caret is visible in description part of form).\n\n### Steps to reproduce\nNew issue.\u003cbr\u003e\nTab to Labels.\u003cbr\u003e\nType label name to autocomplete.\u003cbr\u003e\nChoose first label by pressing enter.\u003cbr\u003e\nShift+tab back to description area.\u003cbr\u003e\nPress enter.\u003cbr\u003e\n\n\n\n### What is the current *bug* behavior?\n\nThe enter key toggles last label instead making new line in description/\n\n### What is the expected *correct* behavior?\n\nThe enter should go back where the caret is (it should follow tabbing through items of form)\n\n\n### Output of checks\n\nGitlab CE on Chrome","state":"closed","created_at":"2017-10-20T09:01:21.424Z","updated_at":"2022-05-19T16:45:26.861Z","closed_at":"2019-12-05T14:28:50.609Z","closed_by":{"id":419655,"username":"markglenfletcher","name":"Mark Fletcher","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/419655/avatar.png","web_url":"https://gitlab.com/markglenfletcher"},"labels":["[deprecated] Accepting merge requests","default-priority","default-severity","devops::plan","frontend","group::project management","issues","priority::3","priority::4","reproduced on GitLab.com","severity::3","type::bug"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":921452,"username":"ambrth","name":"Am Brth","state":"active","avatar_url":"https://secure.gravatar.com/avatar/110bf2de1847702e47167bb1c78ca511?s=80\u0026d=identicon","web_url":"https://gitlab.com/ambrth"},"type":"ISSUE","assignee":null,"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/19897","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/19897","notes":"https://gitlab.com/api/v4/projects/278964/issues/19897/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/19897/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#19897","relative":"#19897","full":"gitlab-org/gitlab#19897"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":7720760,"iid":4013,"project_id":278964,"title":"Live preview (server side evaluation) application in Web IDE","description":"* **Backend weight:** 3\n* **Frontend weight:** 2\n\n---\n\nWhen working on a change in the web IDE, testing and preview is required to make sure that the change to the source results in the expected change functionally, in the same way that I would preview a change on my local before pushing the commit (e.g. run a development server and preview changes in my web browser)\n\nThis is a critical piece of the feedback loop for making more complex changes. It would also be tremendously useful for previewing changes to documentation as they will be rendered (e.g. different markdown renderers and templates mean that basic markdown previews aren't enough)\n\n### Further details\n\n[Client side evaluation](https://docs.gitlab.com/ee/user/project/web_ide/#client-side-evaluation) already exists, but this is limited to Javascript projects that are entirely client side. This will add server side support.\n\nThis builds on  mirroring changes from web ide to the web terminal https://gitlab.com/gitlab-org/gitlab-ee/issues/5276, so that as I make changes, they are mirrored from the editor, to the CI runner which will expose the HTTP service.\n\nCI runner support for interactive web terminals is still limited, but with improved helm chart support https://gitlab.com/gitlab-org/gitlab-runner/issues/3859 this should make it much easier by (1) creating a Kubernetes cluster though GitLab and (2) installing the GitLab Runner into the cluster. This means it will be easy to use this feature with very little effort.\n\n### Proposal\n\nAfter I have enabled and configured server side evaluation, I will be able to:\n\n- open the project in the Web IDE,\n- which will launch a CI runner that contains the same version of my code, and\n- run the specified command to watch and run my web server, and expose the changes on a specific port\n\nI will be able preview these changes in the Web IDE.\n\n| **Mockup** |\n| --- |\n| ![clientside_evaluation](/uploads/8628b6ed41dcdf4737b4b9f9d03512ee/clientside_evaluation.png) |\n\n### Links / references\n\nhttps://gitlab.com/gitlab-org/gitlab-ce/issues/32637","state":"closed","created_at":"2017-10-20T06:36:37.599Z","updated_at":"2022-06-01T20:10:27.340Z","closed_at":"2019-10-22T11:54:54.632Z","closed_by":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier López","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"labels":["Category:Web IDE","Create [DEPRECATED]","Enterprise Edition","GitLab Ultimate","Product Vision FY20","backend","devops::create","direction","frontend","group::editor","missed-deliverable","missed:12.0","type::feature","workflow::in dev"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[{"id":955795,"username":"fjsanpedro","name":"Francisco Javier López","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},{"id":2233420,"username":"pslaughter","name":"Paul Slaughter","state":"active","avatar_url":"https://secure.gravatar.com/avatar/631b25421eb206ab44cb2793ef09d881?s=80\u0026d=identicon","web_url":"https://gitlab.com/pslaughter"}],"author":{"id":1187333,"username":"jramsay-gitlab","name":"James Ramsay (ex-GitLab)","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1187333/avatar.png","web_url":"https://gitlab.com/jramsay-gitlab"},"type":"ISSUE","assignee":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier López","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"user_notes_count":44,"merge_requests_count":0,"upvotes":5,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/4013","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/4013","notes":"https://gitlab.com/api/v4/projects/278964/issues/4013/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/4013/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#4013","relative":"#4013","full":"gitlab-org/gitlab#4013"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":167,"epic":{"id":301,"iid":167,"title":"Server side evaluation in the Web IDE","url":"/groups/gitlab-org/-/epics/167","group_id":9970,"human_readable_end_date":"Jul 22, 2019","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":7231061,"iid":3783,"project_id":278964,"title":"Duplicate issues created when users reply to email","description":"### Summary\n\nWhen users receive an email with a comment in an issue if they answer this email, it creates a new issue. Also, if you put in CC or other receivers in email to the Service Desk email, it must add these people to issue participants.\n\n### Steps to reproduce\n\n1.  Create or comment an issue.\n2.  As user, answer this email and add to this email new receivers or CC.\n\n### What is the current *bug* behavior?\n\nService Desk creates a new issue with \"Re:\" or \"Fwd:\".\n\n### What is the expected *correct* behavior?\n\nIt must detect this prefix to avoid creating a lot of duplicated issues.\u003cbr\u003e\nIt must add email receivers or CC to issue participants.\n\n### Relevant logs and/or screenshots\n\n![Captura_de_pantalla_2017-10-17_11-56-26](/uploads/9cec7857abefcb50a1fe67c1816d0515/Captura_de_pantalla_2017-10-17_11-56-26.jpg)\n\nGitLab Enterprise Edition 10.1.0-rc1-ee","state":"closed","created_at":"2017-10-17T10:07:02.737Z","updated_at":"2023-01-12T00:36:32.913Z","closed_at":"2019-10-30T09:31:47.817Z","closed_by":{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"},"labels":["Category:Service Desk","Enterprise Edition","[deprecated] Accepting merge requests","backend","devops::plan","group::respond","priority::3","severity::3","type::bug","workflow::in dev"],"milestone":{"id":891796,"iid":39,"group_id":9970,"title":"12.5","description":"https://about.gitlab.com/releases/2019/11/22/gitlab-12-5-released","state":"closed","created_at":"2019-05-31T08:38:03.087Z","updated_at":"2020-04-27T16:27:03.474Z","due_date":"2019-11-17","start_date":"2019-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/39"},"assignees":[{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"}],"author":{"id":903565,"username":"AlexisF","name":"Alexis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/903565/avatar.png","web_url":"https://gitlab.com/AlexisF"},"type":"ISSUE","assignee":{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"},"user_notes_count":11,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/3783","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/3783","notes":"https://gitlab.com/api/v4/projects/278964/issues/3783/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/3783/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#3783","relative":"#3783","full":"gitlab-org/gitlab#3783"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":7219937,"iid":3776,"project_id":278964,"title":"CI view for SAST","description":"### Description\n\n\nWe have SAST analysis in https://gitlab.com/gitlab-org/gitlab-ee/issues/3723. It creates a report, and some information is partially available in the MR widget (https://gitlab.com/gitlab-org/gitlab-ee/issues/3775).\n\n### Proposal\n\nCreate a specific CI view for SAST output results.\n\n### Links / references\n\n### Documentation blurb\n\n#### Overview\n\nWhat is it?\nWhy should someone use this feature?\nWhat is the underlying (business) problem?\nHow do you use this feature?\n\n#### Use cases\n\nWho is this for? Provide one or more use cases.\n\n### Feature checklist\n\nMake sure these are completed before closing the issue,\nwith a link to the relevant commit.\n\n- [ ] [Feature assurance](https://about.gitlab.com/handbook/product/#feature-assurance)\n- [ ] Documentation\n- [ ] Added to [features.yml](https://gitlab.com/gitlab-com/www-gitlab-com/blob/master/data/features.yml)\n\n### Proposal\n\nAs a first iteration, we will bring the SAST view from the MR widget to the Pipeline page. This view will appear under a new tab `Security report`.\n\nIf any vulnerabilities have been detected, the number of vulnerabilities will be shown on the tab's badge\n\n![](https://gitlab.com/gitlab-org/gitlab-ee/uploads/df26528301966e732b6cc2a0832ec751/Screen_Shot_2018-02-09_at_4.56.31_PM.png)\n\nA new row should be added to the 'Pipeline widget', which shows the result of the security report without having to access the tab. \n\nThe number of vulnerabilities detected will be a link to `http://DOMAIN/PROJECT/pipelines/XXX/security`, so clicking it will open the Security report tab\n\n| Vulnerabilities detected | No vulnerabilities detected |\n| ------------------------ | --------------------------- |\n| ![Artboard_2](/uploads/1b99e67907058fe9095467881cc5693d/Artboard_2.png) | ![Artboard](/uploads/5c9d17d2e70c44fb665da47c7d6da2a3/Artboard.png) |","state":"closed","created_at":"2017-10-16T15:44:45.764Z","updated_at":"2021-04-03T08:17:33.064Z","closed_at":"2018-02-21T14:38:44.654Z","closed_by":null,"labels":["Deliverable","Enterprise Edition","GitLab Ultimate","devops::secure","direction","type::feature","workflow::in review"],"milestone":{"id":416486,"iid":8,"group_id":9970,"title":"10.6","description":"https://about.gitlab.com/releases/2018/03/22/gitlab-10-6-released","state":"closed","created_at":"2017-11-21T20:05:35.697Z","updated_at":"2020-04-27T16:30:32.220Z","due_date":"2018-03-22","start_date":"2018-02-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/8"},"assignees":[{"id":444,"username":"dzaporozhets","name":"Dmytro Zaporozhets (DZ)","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/444/avatar.png","web_url":"https://gitlab.com/dzaporozhets"},{"id":563185,"username":"cperessini","name":"Chris Peressini","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/563185/avatar.png","web_url":"https://gitlab.com/cperessini"}],"author":{"id":1273957,"username":"bikebilly","name":"Fabio Busatto","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1273957/avatar.png","web_url":"https://gitlab.com/bikebilly"},"type":"ISSUE","assignee":{"id":444,"username":"dzaporozhets","name":"Dmytro Zaporozhets (DZ)","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/444/avatar.png","web_url":"https://gitlab.com/dzaporozhets"},"user_notes_count":43,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/3776","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/3776","notes":"https://gitlab.com/api/v4/projects/278964/issues/3776/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/3776/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#3776","relative":"#3776","full":"gitlab-org/gitlab#3776"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":7209957,"iid":3770,"project_id":278964,"title":"Assignee/AssigneeUsername columns incorrect in CSV export when Author and Assignee are the same","description":"### Summary\n\nBugs assigned to the author have a blank assignee column in CSV Export \n\n### Steps to reproduce\n\n1. File an issue in Gitlab\n2. Assign issue to the author\n3. Export CSV and see a blank Assignee column.\n\n### Example Project\n\nhttps://gitlab.com/BooneJS/sample-project-bug-report/issues\n\nMy company owns EE licenses, so I don't have a paid license at gitlab.com and cannot create a CSV file.\n\n### What is the current *bug* behavior?\n\nIn CSV, Assignee and Assignee Username are both blank\n\n### What is the expected *correct* behavior?\n\nWhen a bug is assigned to the author, the `Assignee` and `Assignee Username` will match the `Author` and `Author Username`. \n\n### Relevant logs and/or screenshots\n\nI cannot paste logs/screenshots from our EE self-hosted Gitlab instance.\n\n### Output of checks\n\n#### Results of GitLab environment info\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to GitLab environment info\u003c/summary\u003e\n\u003cpre\u003e\n$ sudo gitlab-rake gitlab:env:info\n\nSystem information\nSystem:\t\tUbuntu 16.04\nProxy:\t\tno\nCurrent User:\tgit\nUsing RVM:\tno\nRuby Version:\t2.3.3p222\nGem Version:\t2.6.6\nBundler Version:1.13.7\nRake Version:\t12.0.0\nRedis Version:\t3.2.5\nGit Version:\t2.13.5\nSidekiq Version:5.0.4\nGo Version:\tunknown\n\nGitLab information\nVersion:\t9.5.4-ee\nRevision:\t08803f6\nDirectory:\t/opt/gitlab/embedded/service/gitlab-rails\nDB Adapter:\tpostgresql\nDB Version:\t9.6.3\nURL:\t\thttps://git.groq.io\nHTTP Clone URL:\thttps://git.groq.io/some-group/some-project.git\nSSH Clone URL:\tgit@git.groq.io:some-group/some-project.git\nElasticsearch:\tno\nGeo:\t\tno\nUsing LDAP:\tno\nUsing Omniauth:\tyes\nOmniauth Providers: saml\n\nGitLab Shell\nVersion:\t5.8.0\nRepository storage paths:\n- default: \t/var/opt/gitlab/git-data/repositories\nHooks:\t\t/opt/gitlab/embedded/service/gitlab-shell/hooks\nGit:\t\t/opt/gitlab/embedded/bin/git\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n#### Results of GitLab application Check\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to the GitLab application check\u003c/summary\u003e\n\u003cpre\u003e\n\n$ sudo gitlab-rake gitlab:check SANITIZE=true\nChecking GitLab Shell ...\n\nGitLab Shell version \u003e= 5.8.0 ? ... OK (5.8.0)\nRepo base directory exists?\ndefault... yes\nRepo storage directories are symlinks?\ndefault... no\nRepo paths owned by git:root, or git:git?\ndefault... yes\nRepo paths access is drwxrws---?\ndefault... yes\nhooks directories in repos are links: ...\n2/1 ... ok\n2/2 ... ok\n4/3 ... repository is empty\n2/4 ... ok\n2/5 ... ok\n2/6 ... ok\n2/7 ... ok\n2/8 ... ok\n2/9 ... ok\n2/10 ... ok\n2/11 ... ok\n2/12 ... ok\n2/13 ... ok\n2/14 ... ok\n2/15 ... ok\n2/16 ... ok\n2/17 ... ok\n2/18 ... ok\n7/19 ... ok\n2/20 ... ok\n2/21 ... ok\n2/22 ... ok\n2/23 ... ok\nRunning /opt/gitlab/embedded/service/gitlab-shell/bin/check\nCheck GitLab API access: OK\nAccess to /var/opt/gitlab/.ssh/authorized_keys: OK\nSend ping to redis server: OK\ngitlab-shell self-check successful\n\nChecking GitLab Shell ... Finished\n\nChecking Sidekiq ...\n\nRunning? ... yes\nNumber of Sidekiq processes ... 1\n\nChecking Sidekiq ... Finished\n\nChecking Reply by email ...\n\nReply by email is disabled in config/gitlab.yml\n\nChecking Reply by email ... Finished\n\nChecking LDAP ...\n\nLDAP is disabled in config/gitlab.yml\n\nChecking LDAP ... Finished\n\nChecking GitLab ...\n\nGit configured correctly? ... yes\nDatabase config exists? ... yes\nAll migrations up? ... yes\nDatabase contains orphaned GroupMembers? ... no\nGitLab config exists? ... yes\nGitLab config up to date? ... yes\nLog directory writable? ... yes\nTmp directory writable? ... yes\nUploads directory exists? ... yes\nUploads directory has correct permissions? ... yes\nUploads directory tmp has correct permissions? ... no\n  Try fixing it:\n  sudo chown -R git /var/opt/gitlab/gitlab-rails/uploads\n  sudo find /var/opt/gitlab/gitlab-rails/uploads -type f -exec chmod 0644 {} \\;\n  sudo find /var/opt/gitlab/gitlab-rails/uploads -type d -not -path /var/opt/gitlab/gitlab-rails/uploads -exec chmod 0700 {} \\;\n  For more information see:\n  doc/install/installation.md in section \"GitLab\"\n  Please fix the error above and rerun the checks.\nInit script exists? ... skipped (omnibus-gitlab has no init script)\nInit script up-to-date? ... skipped (omnibus-gitlab has no init script)\nProjects have namespace: ...\n2/1 ... yes\n2/2 ... yes\n4/3 ... yes\n2/4 ... yes\n2/5 ... yes\n2/6 ... yes\n2/7 ... yes\n2/8 ... yes\n2/9 ... yes\n2/10 ... yes\n2/11 ... yes\n2/12 ... yes\n2/13 ... yes\n2/14 ... yes\n2/15 ... yes\n2/16 ... yes\n2/17 ... yes\n2/18 ... yes\n7/19 ... yes\n2/20 ... yes\n2/21 ... yes\n2/22 ... yes\n2/23 ... yes\nRedis version \u003e= 2.8.0? ... yes\nRuby version \u003e= 2.3.3 ? ... yes (2.3.3)\nGit version \u003e= 2.7.3 ? ... yes (2.13.5)\nActive users: ... 23\nElasticsearch version 5.1 - 5.3? ... skipped (elasticsearch is disabled)\n\nChecking GitLab ... Finished\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n### Possible fixes\n\n(If you can, link to the line of code that might be responsible for the problem)","state":"closed","created_at":"2017-10-16T03:51:47.429Z","updated_at":"2022-05-19T16:46:24.046Z","closed_at":"2020-02-17T11:21:58.054Z","closed_by":{"id":4418630,"username":"johnhope","name":"John Hope","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4418630/avatar.png","web_url":"https://gitlab.com/johnhope"},"labels":["Deliverable","Enterprise Edition","[deprecated] Accepting merge requests","backend","customer","default-priority","default-severity","devops::plan","group::project management","issues","missed-deliverable","missed:12.6","priority::3","reproduced on GitLab.com","severity::3","type::bug","workflow::verification"],"milestone":{"id":1001915,"iid":43,"group_id":9970,"title":"12.8","description":"https://about.gitlab.com/releases/2020/02/22/gitlab-12-8-released","state":"closed","created_at":"2019-09-15T20:53:58.792Z","updated_at":"2020-05-19T14:23:44.837Z","due_date":"2020-02-17","start_date":"2020-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/43"},"assignees":[],"author":{"id":1694717,"username":"BooneJS","name":"Boone Severson","state":"active","avatar_url":"https://secure.gravatar.com/avatar/0b5001c4e0c001549bfb5224812c48c6?s=80\u0026d=identicon","web_url":"https://gitlab.com/BooneJS"},"type":"ISSUE","assignee":null,"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/3770","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/3770","notes":"https://gitlab.com/api/v4/projects/278964/issues/3770/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/3770/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#3770","relative":"#3770","full":"gitlab-org/gitlab#3770"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":7218441,"iid":3773,"project_id":278964,"title":"Check related issues for format","description":"### Summary\n\nWhen adding related issues, invalid user input is accepted by the frontend and then rejected by the backend.\n\n### Steps to reproduce\n\n- open any issue\n- enter things that are clearly not issues into related issues\n\n### What is the current *bug* behavior?\n\n- input is accepted and sent to backend\n- `Add` button looks disabled but remains clickable (even after removing invalid input)\n\n![not-related-issues](/uploads/295d9cd131ddaa70727fab8b1e8b94ef/not-related-issues.mp4)\n\n### What is the expected *correct* behavior?\n\nInvalid input is rejected by frontend.","state":"closed","created_at":"2017-10-13T12:58:22.227Z","updated_at":"2022-05-19T16:46:24.635Z","closed_at":"2021-07-12T02:05:24.432Z","closed_by":{"id":1786152,"username":"gitlab-bot","name":"🤖 GitLab Bot 🤖","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1786152/avatar.png","web_url":"https://gitlab.com/gitlab-bot"},"labels":["Enterprise Edition","[deprecated] Accepting merge requests","auto closed","auto updated","devops::plan","frontend","group::project management","issues","priority::4","reproduced on GitLab.com","section::dev","severity::4","stale","type::bug","vintage"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":1212235,"username":"winh","name":"Inactive Account","state":"active","avatar_url":"https://secure.gravatar.com/avatar/e34b010c96ff3f44c62cddf66607232a?s=80\u0026d=identicon","web_url":"https://gitlab.com/winh"},"type":"ISSUE","assignee":null,"user_notes_count":15,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/3773","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/3773","notes":"https://gitlab.com/api/v4/projects/278964/issues/3773/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/3773/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#3773","relative":"#3773","full":"gitlab-org/gitlab#3773"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":7216579,"iid":3772,"project_id":278964,"title":"View summed weights of issues in board column","description":"### Description\n- At the top of each column in a board, indicate the cumulative issue weight of all the issues in that column.\n- The cumulative issue weight should be updated in real-time as users drag issues across columns.\n- The information should be dynamic based on the filter on the board and the saved config of the board. If those change, these numbers should change in real-time.\n- This applies to both label lists and assignee lists (and in the future, should account for milestone lists).\n\n### Original customer request\n\u003cdetails\u003e\n\nZD: https://gitlab.zendesk.com/agent/tickets/83298\n\n\u003e I want to see how much work is in the To Do list (either by issue weight or estimated time) so I can see if the selected work fits in a specified timeframe. Is this possible in Gitlab? If not I'm afraid we have to switch back to JIRA.\n\nEffectively, we allow you to set up a sprint with a burndown chart:\n\nhttps://gitlab.com/help/user/project/milestones/index#burndown-charts\n\nAnd we also support time tracking/estimation:\n\nhttps://docs.gitlab.com/ce/workflow/time_tracking.html\n\nBut it looks like we are missing a feature to account for time in that planning process. I think this falls under Analytics and is in your court @jramsay? Lemme know if I'm off base.\n\u003c/details\u003e\n\n#### Design\n- Icons:\n * `scale` (`#707070`)\n * `plus` (`#2E2E2E`)\n * `issues` (`#707070`)\n- The margin between the button and the badge is `2px`.\n\nUse icons from:\n\n\u003cimg src=\"/uploads/99edd19cdf1c38c37e912554e4a9325d/summed-weight.png\" width=540px /\u003e\n\nUse layout from:\n\n\u003cimg src=\"/uploads/874c89d96937d1faf17ffc2263bbb217/summed-weight.png\" width=540px /\u003e\n\n\n| Issue board | Related issues |\n| --- | --- |\n| ![summed-weight](/uploads/f8ce33b014ea240a5a44cb82e1a3b6f8/summed-weight.png) | ![related-issues](/uploads/3b6f3f8d9800f5876ac13886d58f8c32/related-issues.png) |","state":"closed","created_at":"2017-10-12T13:07:39.757Z","updated_at":"2022-05-19T16:46:24.337Z","closed_at":"2018-07-30T13:44:29.807Z","closed_by":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"labels":["Category:Team Planning","Deliverable","Enterprise Edition","GitLab Starter","backend","boards","customer","devops::plan","frontend","issue weight","type::feature","workflow::in dev"],"milestone":{"id":494367,"iid":15,"group_id":9970,"title":"11.2","description":"","state":"closed","created_at":"2018-03-27T19:26:05.990Z","updated_at":"2018-11-06T19:16:51.951Z","due_date":"2018-08-22","start_date":"2018-07-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/15"},"assignees":[{"id":426128,"username":"felipe_artur","name":"Felipe Artur","state":"active","avatar_url":"https://secure.gravatar.com/avatar/dbad92659914f56621cbdd726e283e60?s=80\u0026d=identicon","web_url":"https://gitlab.com/felipe_artur"},{"id":577113,"username":"hazelyang","name":"Hazel Yang","state":"active","avatar_url":"https://secure.gravatar.com/avatar/e84e4d70639ad1177276340868d7f074?s=80\u0026d=identicon","web_url":"https://gitlab.com/hazelyang"},{"id":832471,"username":"psimyn","name":"Simon Knox","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3de75939c39eecd6ea2215ec740a8037?s=80\u0026d=identicon","web_url":"https://gitlab.com/psimyn"}],"author":{"id":695248,"username":"lbot","name":"Lee Matos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/695248/avatar.png","web_url":"https://gitlab.com/lbot"},"type":"ISSUE","assignee":{"id":426128,"username":"felipe_artur","name":"Felipe Artur","state":"active","avatar_url":"https://secure.gravatar.com/avatar/dbad92659914f56621cbdd726e283e60?s=80\u0026d=identicon","web_url":"https://gitlab.com/felipe_artur"},"user_notes_count":24,"merge_requests_count":2,"upvotes":5,"downvotes":0,"due_date":"2018-07-25","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/3772","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/3772","notes":"https://gitlab.com/api/v4/projects/278964/issues/3772/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/3772/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#3772","relative":"#3772","full":"gitlab-org/gitlab#3772"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":7172103,"iid":3735,"project_id":278964,"title":"Split project repository and wiki repository status in Geo node status","description":"Per https://gitlab.com/gitlab-org/gitlab-ee/issues/3195#note_43031516 and https://gitlab.com/gitlab-org/gitlab-ee/issues/3569\n\nCurrently, we show a \"Repositories\" status in the Geo nodes admin screen, which is a composite measure of projects and wikis synced. Information is lost in this display - we don't know whether one of the repositories or both have failed.\n\nWe could just bump the \"repositories\" numbers up so that project and wiki repositories are counted separately in the total and failed numbers (so for a site with 3 million projects, that might be 5 million repositories rather than the 3 million counted today), or we could split the numbers by project or wiki, and show them separately.\n\nI prefer the second option - it helps to localise any errors (say, wiki sync is broken in some circumstances, as we saw in #3569).","state":"closed","created_at":"2017-10-12T10:01:03.256Z","updated_at":"2019-12-11T20:23:36.458Z","closed_at":"2017-12-20T20:25:46.292Z","closed_by":null,"labels":["Enterprise Edition","devops::systems","group::geo","workflow::in review"],"milestone":{"id":360828,"iid":4,"group_id":9970,"title":"10.4","description":"https://about.gitlab.com/releases/2018/01/22/gitlab-10-4-released","state":"closed","created_at":"2017-08-16T16:52:35.085Z","updated_at":"2020-04-27T16:31:17.439Z","due_date":"2018-01-22","start_date":"2017-12-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/4"},"assignees":[{"id":273486,"username":"jameslopez","name":"James Lopez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/273486/avatar.png","web_url":"https://gitlab.com/jameslopez"}],"author":{"id":572018,"username":"nick.thomas","name":"Nick Thomas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/572018/avatar.png","web_url":"https://gitlab.com/nick.thomas"},"type":"ISSUE","assignee":{"id":273486,"username":"jameslopez","name":"James Lopez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/273486/avatar.png","web_url":"https://gitlab.com/jameslopez"},"user_notes_count":5,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/3735","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/3735","notes":"https://gitlab.com/api/v4/projects/278964/issues/3735/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/3735/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#3735","relative":"#3735","full":"gitlab-org/gitlab#3735"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":7163839,"iid":3729,"project_id":278964,"title":"Search and filter bar in roadmap view","description":"- Take the existing search/filter bar for epics list, and add it to the roadmap view.\n- So you should have the same functionality of the searching and filtering:\n  - Searching by title and description\n  - Filter by author\n  - Filter by label\n\n| Empty search | No results |\n|---|---|\n| ![image](https://gitlab.com/gitlab-org/gitlab/uploads/3a4f01bbf70493e0dd83a10e22ea2863/image.png) | ![image](https://gitlab.com/gitlab-org/gitlab/uploads/439a21712f162cc718c51b9f0ea02769/image.png) |\n\nNo results copy:\n```\nSorry, no epics matched your search\nTo widen your search, change or remove filters. If something is missing, create an epic.\n```\n\nThe part that says `If something is missing, create an epic.` and the “New epic” button should only appear if the user has permissions to create epics in that group.\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2017-10-11T18:29:56.992Z","updated_at":"2022-05-19T16:46:22.112Z","closed_at":"2018-04-26T11:34:15.245Z","closed_by":{"id":482476,"username":"filipa","name":"Filipa Lacerda","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/482476/avatar.png","web_url":"https://gitlab.com/filipa"},"labels":["Category:Portfolio Management","Deliverable","Enterprise Edition","GitLab Ultimate","devops::plan","direction","epics","frontend","labels","roadmaps","type::feature","workflow::in review"],"milestone":{"id":445863,"iid":12,"group_id":9970,"title":"10.8","description":"https://about.gitlab.com/releases/2018/05/22/gitlab-10-8-released","state":"closed","created_at":"2018-01-16T17:05:23.570Z","updated_at":"2020-04-27T16:29:56.288Z","due_date":"2018-05-22","start_date":"2018-04-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/12"},"assignees":[{"id":411701,"username":"kushalpandya","name":"Kushal Pandya","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/411701/avatar.png","web_url":"https://gitlab.com/kushalpandya"},{"id":626804,"username":"pedroms","name":"Pedro Moreira da Silva","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c306f087d191ac15549f3c11e3bed321?s=80\u0026d=identicon","web_url":"https://gitlab.com/pedroms"}],"author":{"id":711023,"username":"victorwu","name":"Victor Wu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/711023/avatar.png","web_url":"https://gitlab.com/victorwu"},"type":"ISSUE","assignee":{"id":411701,"username":"kushalpandya","name":"Kushal Pandya","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/411701/avatar.png","web_url":"https://gitlab.com/kushalpandya"},"user_notes_count":7,"merge_requests_count":1,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/3729","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":6,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/3729","notes":"https://gitlab.com/api/v4/projects/278964/issues/3729/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/3729/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#3729","relative":"#3729","full":"gitlab-org/gitlab#3729"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":51,"epic":{"id":101,"iid":51,"title":"Filtered roadmaps across time","url":"/groups/gitlab-org/-/epics/51","group_id":9970,"human_readable_end_date":"Aug 22, 2018","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":24657821,"iid":19804,"project_id":278964,"title":"Editing the first note of an image diff discussion should not remove avatar badge","description":"when you edit the first note of a discussion, the avatar badge does not get displayed after the editing is saved (until you refresh the page)\n\n|Discussion Tab | Diff Tab |\n|---|---|\n|![2017-10-10_13.26.46](/uploads/91dd52cbac10005683307c6c1cf3f665/2017-10-10_13.26.46.gif)|![2017-10-10_13.27.03](/uploads/4acb72321001faeabca746021206e0ee/2017-10-10_13.27.03.gif)|\n\nThis was a known gitlab-ce~2311884 from https://gitlab.com/gitlab-org/gitlab-ce/merge_requests/14061 when the first iteration was shipped","state":"closed","created_at":"2017-10-10T18:19:01.310Z","updated_at":"2021-09-18T07:00:50.762Z","closed_at":"2021-09-10T17:59:41.252Z","closed_by":{"id":3993566,"username":"sming-gitlab","name":"Samantha Ming","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3993566/avatar.png","web_url":"https://gitlab.com/sming-gitlab"},"labels":["Category:Source Code Management","Create [DEPRECATED]","Deliverable","UI polish","UX","UX debt","devops::create","frontend","group::source code","image diff","missed-deliverable","missed:13.1","priority::4","section::dev","severity::4","type::bug","workflow::verification"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":3993566,"username":"sming-gitlab","name":"Samantha Ming","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3993566/avatar.png","web_url":"https://gitlab.com/sming-gitlab"}],"author":{"id":408677,"username":"ClemMakesApps","name":"Clement Ho","state":"active","avatar_url":"https://secure.gravatar.com/avatar/013b4af8b474654bce8039ecd262a84a?s=80\u0026d=identicon","web_url":"https://gitlab.com/ClemMakesApps"},"type":"ISSUE","assignee":{"id":3993566,"username":"sming-gitlab","name":"Samantha Ming","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3993566/avatar.png","web_url":"https://gitlab.com/sming-gitlab"},"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/19804","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/19804","notes":"https://gitlab.com/api/v4/projects/278964/issues/19804/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/19804/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#19804","relative":"#19804","full":"gitlab-org/gitlab#19804"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3792,"epic":{"id":76103,"iid":3792,"title":"Fix experience of using images in MRs","url":"/groups/gitlab-org/-/epics/3792","group_id":9970,"human_readable_end_date":"Sep 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":7139049,"iid":3699,"project_id":278964,"title":"GeoNodeStatus calculates numbers inefficiently","description":"### `attachments_synced_count`\n\nIn particular, there are a number of giant cross-database plucks that will need to be replaced with postgres_fdw when that is ready, but also consider this fragment:\n\n```ruby\n  def attachments_synced_count\n    @attachments_synced_count ||= begin\n      upload_ids = attachments.pluck(:id)\n      synced_ids = Geo::FileRegistry.where(file_type: [:attachment, :avatar, :file]).pluck(:file_id)\n\n      (synced_ids \u0026 upload_ids).length\n    end\n  end\n```\n\nI think this could just be `Geo::FileRegistry.where(file_type: [:attachment, :avatar, :file]).count`\n\n\u003cstrike\u003eAlso, a bug: we need `personal_file` in the list of types.\u003c/strike\u003e this is fixed in https://gitlab.com/gitlab-org/gitlab-ee/issues/3691\n\n### `restricted_project_ids`\n\nFrom gitlab-org/gitlab-ee#3932:\n\n`GeoNode#restricted_project_ids` should be exposed as relation `GeoNode#restricted_projects` and only when it's really needed plucked to an array (see also [discussion](https://gitlab.com/gitlab-org/gitlab-ee/merge_requests/3230#note_45807353))\n","state":"closed","created_at":"2017-10-10T08:35:25.282Z","updated_at":"2019-12-11T20:23:38.760Z","closed_at":"2017-12-07T23:10:23.259Z","closed_by":null,"labels":["Enterprise Edition","bug::performance","devops::systems","group::geo","type::bug","workflow::in review"],"milestone":{"id":360827,"iid":3,"group_id":9970,"title":"10.3","description":"","state":"closed","created_at":"2017-08-16T16:51:52.890Z","updated_at":"2018-03-22T16:15:37.036Z","due_date":"2017-12-22","start_date":"2017-11-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/3"},"assignees":[{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"}],"author":{"id":572018,"username":"nick.thomas","name":"Nick Thomas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/572018/avatar.png","web_url":"https://gitlab.com/nick.thomas"},"type":"ISSUE","assignee":{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"},"user_notes_count":1,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/3699","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/3699","notes":"https://gitlab.com/api/v4/projects/278964/issues/3699/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/3699/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#3699","relative":"#3699","full":"gitlab-org/gitlab#3699"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":7132093,"iid":3695,"project_id":278964,"title":"Clearly display closed issues in epic tree","description":"### Problem\nIt's difficult for users to easily discern what items are closed vs open quickly in epic list views. How might we better differentiate between open and closed items, simplifying this experience?\n\n\u003cdetails\u003e\n### (Original request) Functionality added\n\n- Closed issues, get a \"closed\" status wording on it.. similar to issue lists.\n\n- Closed issues, get a grey background.. similar to issue lists.\n\n- The \"closed\" wording is positioned at the end of the row, making it really easy to spot across multiple issues\n\n- Closed issues will be placed at the bottom, the order will be as close as they are originally added to the epic.\n\n### Design\n![img](https://gitlab.com/gitlab-org/gitlab-ee/uploads/6b91bdebf46d3f2c24ac1f2fb09358e9/Artboard_Copy_7.png)\n\u003c/details\u003e\n\n### Solution\nClosed items will go to the end of the list and have the soft gray background found in Projects and Groups list views. In the case of nested lists, these items will also go to the bottom of that _nested_ list, not the end of the overall list. Currently we are using colors and icons to show lists vs epics and open/closed, but there are solutions being worked on to change that. \n\n![image](https://gitlab.com/gitlab-org/gitlab/uploads/912bf0ccd3da9b98fd71c6bc881d700e/image.png)\n![image](https://gitlab.com/gitlab-org/gitlab/uploads/cfcb6198ae9e973c489953c17248b69a/image.png)\n\nSee the following for more info on that:\n* https://gitlab.com/gitlab-org/ux-research/issues/322\n* https://gitlab.com/gitlab-org/ux-research/issues/323\n* https://gitlab.com/gitlab-org/ux-research/issues/324\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2017-10-09T17:28:44.223Z","updated_at":"2022-05-19T16:46:20.469Z","closed_at":"2019-11-25T22:59:29.786Z","closed_by":{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"},"labels":["Category:Portfolio Management","Enterprise Edition","GitLab Ultimate","devops::plan","direction","epics","frontend","group::product planning","missed:12.5","type::feature","workflow::in review"],"milestone":{"id":891797,"iid":40,"group_id":9970,"title":"12.6","description":"https://about.gitlab.com/releases/2019/12/22/gitlab-12-6-released","state":"closed","created_at":"2019-05-31T08:38:03.539Z","updated_at":"2020-04-27T16:27:13.329Z","due_date":"2019-12-17","start_date":"2019-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/40"},"assignees":[{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"}],"author":{"id":711023,"username":"victorwu","name":"Victor Wu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/711023/avatar.png","web_url":"https://gitlab.com/victorwu"},"type":"ISSUE","assignee":{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"},"user_notes_count":28,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/3695","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/3695","notes":"https://gitlab.com/api/v4/projects/278964/issues/3695/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/3695/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#3695","relative":"#3695","full":"gitlab-org/gitlab#3695"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2024,"epic":{"id":13463,"iid":2024,"title":"Epic List and Tree view MVC","url":"/groups/gitlab-org/-/epics/2024","group_id":9970,"human_readable_end_date":"Jan 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":7128804,"iid":3690,"project_id":278964,"title":"Geo repository sync worker attempts to sync repos on unhealthy shards in non-backfill conditions","description":"### Summary\n\nAs seen on the Geo testbed. We filter by healthy shards for backfill, but not when picking up syncs that are coming from the Geo log cursor.\n\n### Steps to reproduce\n\nSend a `RepositoryUpdatedEvent` on the primary, for a project whose shard is unhealthy\n\n\n### What is the current *bug* behavior?\n\nThe secondary tries and fail to update that project. Repeatedly.\n\n### What is the expected *correct* behavior?\n\nThe initial attempt should be permitted. When that has failed, the failing entry should not be tried again until its shard is healthy.\n\n### Possible fixes\n\nhttps://gitlab.com/gitlab-org/gitlab-ee/blob/v10.0.0-ee/app/workers/geo/repository_sync_worker.rb#L32","state":"closed","created_at":"2017-10-09T13:33:57.880Z","updated_at":"2019-12-11T20:23:40.415Z","closed_at":"2017-11-28T16:30:36.797Z","closed_by":null,"labels":["Enterprise Edition","devops::systems","group::geo","regression","type::bug","workflow::in review"],"milestone":{"id":360827,"iid":3,"group_id":9970,"title":"10.3","description":"","state":"closed","created_at":"2017-08-16T16:51:52.890Z","updated_at":"2018-03-22T16:15:37.036Z","due_date":"2017-12-22","start_date":"2017-11-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/3"},"assignees":[{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"}],"author":{"id":572018,"username":"nick.thomas","name":"Nick Thomas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/572018/avatar.png","web_url":"https://gitlab.com/nick.thomas"},"type":"ISSUE","assignee":{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"},"user_notes_count":5,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/3690","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/3690","notes":"https://gitlab.com/api/v4/projects/278964/issues/3690/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/3690/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#3690","relative":"#3690","full":"gitlab-org/gitlab#3690"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":24657769,"iid":19779,"project_id":278964,"title":"Adding a new label to an issue board issue should not add a new list","description":"Steps to recreate:\n\n- Go to issues -\u003e boards\n\n- Click an issue card (not the link) to open the right-sidebar panel (quick info)\n\n- Click \"Edit\" link next to Labels\n\n- At the bottom of \"Assign labels\", click \"Create new label\"\n\n- Enter a name and select a color, then click \"Create\"\n\nA list should only be generated when you add a new label via the new list dropdown. If a user is adding a new label to an issue via the issue board, a new list should not be added.","state":"closed","created_at":"2017-10-06T20:37:58.959Z","updated_at":"2022-05-19T16:46:31.142Z","closed_at":"2019-12-27T01:41:14.417Z","closed_by":{"id":2802685,"username":"chaptuck","name":"Tucker Chapman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/70692a52e10e87adb0166897e08cedd8?s=80\u0026d=identicon","web_url":"https://gitlab.com/chaptuck"},"labels":["Category:Team Planning","boards","devops::plan","frontend","group::project management","priority::4","severity::4","type::bug"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[{"id":2802685,"username":"chaptuck","name":"Tucker Chapman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/70692a52e10e87adb0166897e08cedd8?s=80\u0026d=identicon","web_url":"https://gitlab.com/chaptuck"}],"author":{"id":516904,"username":"tauriedavis","name":"Taurie Davis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/516904/avatar.png","web_url":"https://gitlab.com/tauriedavis"},"type":"ISSUE","assignee":{"id":2802685,"username":"chaptuck","name":"Tucker Chapman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/70692a52e10e87adb0166897e08cedd8?s=80\u0026d=identicon","web_url":"https://gitlab.com/chaptuck"},"user_notes_count":6,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/19779","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/19779","notes":"https://gitlab.com/api/v4/projects/278964/issues/19779/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/19779/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#19779","relative":"#19779","full":"gitlab-org/gitlab#19779"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":7105749,"iid":3678,"project_id":278964,"title":"Close and reopen epic via quick action","description":"### Problem and proposal\n- For GitLab to use this, we need everyone (all GitLabbers that is) to be able to close and open/reopen epics. But we don't everyone deleting them. So we have to create the ability to open/reopen and close.\n- This issue is the first step. We chose to use a quick action as a first step to minimize scope in this small iteration (Summit). In future iterations, we will add other standard features like closing via buttons in the UI. See https://gitlab.com/groups/gitlab-org/-/epics/145.\n\n### Requirements\n- Reporter+ role in the group can close an epic.\n- Reporter + role in the group can reopen an epic.\n- Epic view of a closed epic. Probably an open badge and a closed badge.\n- ~~Buttons to close/reopen.~~ https://gitlab.com/gitlab-org/gitlab-ee/issues/7013.\n- ~~System note.~~ https://gitlab.com/gitlab-org/gitlab-ee/issues/7015\n- Quick actions to close an epic and reopen an epic.\n  - `/close Close this epic`\n  - `/reopen Reopen this epic`\n- ~~Comment and close button.~~ https://gitlab.com/gitlab-org/gitlab-ee/issues/7013\n- ~~Tabs on the epics list to show open versus closed.~~ https://gitlab.com/gitlab-org/gitlab-ee/issues/7014\n- ~~API updates to expose the epic states and changing the epic states of open vs closed.~~\n- When this feature is first implemented, epics should be open by default. (Not sure if a DB migration is necessary to support this.)","state":"closed","created_at":"2017-10-06T18:18:45.179Z","updated_at":"2022-05-19T16:46:19.390Z","closed_at":"2018-09-25T13:11:55.383Z","closed_by":{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"},"labels":["Category:Portfolio Management","Deliverable","Enterprise Edition","GitLab Ultimate","backend","devops::plan","epics","workflow::in review"],"milestone":{"id":567670,"iid":19,"group_id":9970,"title":"11.4","description":"","state":"closed","created_at":"2018-06-14T17:31:41.249Z","updated_at":"2018-12-20T06:49:55.749Z","due_date":"2018-10-22","start_date":"2018-09-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/19"},"assignees":[{"id":201566,"username":"annabeldunstone","name":"Annabel Dunstone Gray","state":"active","avatar_url":"https://secure.gravatar.com/avatar/85c0203926134720f9a9aa8c6e264c78?s=80\u0026d=identicon","web_url":"https://gitlab.com/annabeldunstone"},{"id":508743,"username":"jarka","name":"Jarka Košanová","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3931dae84deb01d2881e4909077b8dbe?s=80\u0026d=identicon","web_url":"https://gitlab.com/jarka"}],"author":{"id":711023,"username":"victorwu","name":"Victor Wu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/711023/avatar.png","web_url":"https://gitlab.com/victorwu"},"type":"ISSUE","assignee":{"id":201566,"username":"annabeldunstone","name":"Annabel Dunstone Gray","state":"active","avatar_url":"https://secure.gravatar.com/avatar/85c0203926134720f9a9aa8c6e264c78?s=80\u0026d=identicon","web_url":"https://gitlab.com/annabeldunstone"},"user_notes_count":16,"merge_requests_count":1,"upvotes":4,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/3678","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/3678","notes":"https://gitlab.com/api/v4/projects/278964/issues/3678/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/3678/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#3678","relative":"#3678","full":"gitlab-org/gitlab#3678"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":145,"epic":{"id":258,"iid":145,"title":"Close epics","url":"/groups/gitlab-org/-/epics/145","group_id":9970,"human_readable_end_date":"Nov 22, 2018","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":7100618,"iid":3671,"project_id":278964,"title":"Update Patch and Upgrade docs to include gitlab-elasticsearch-indexer","description":"We were advised to use the experimental indexer, but currently which version to use / the upgrade path is unclear as currently the gitlab-elasticsearch-indexer isn't part of either the upgrade or patch docs.\n\nEven though it's an optional feature, I think it should be added to those docs. In a similar fashion to Gitaly before it was mandatory.\n\nThis was previously discussed in support ticket: 82921","state":"closed","created_at":"2017-10-06T09:39:45.752Z","updated_at":"2022-05-19T16:46:18.979Z","closed_at":"2018-09-18T11:08:23.120Z","closed_by":{"id":236961,"username":"marcia","name":"Marcia Ramos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/236961/avatar.png","web_url":"https://gitlab.com/marcia"},"labels":["Enterprise Edition","Stretch","advanced search","backend","devops::plan","documentation","installation"],"milestone":{"id":502939,"iid":17,"group_id":9970,"title":"11.3","description":"","state":"closed","created_at":"2018-04-09T17:59:35.838Z","updated_at":"2018-11-06T19:17:11.721Z","due_date":"2018-09-22","start_date":"2018-08-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/17"},"assignees":[{"id":590748,"username":"mdelaossa","name":"Mario de la Ossa","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/590748/avatar.png","web_url":"https://gitlab.com/mdelaossa"}],"author":{"id":300387,"username":"boudekerk","name":"Bartosz Oudekerk","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c150bedb0cbaec83c4ab89555f754503?s=80\u0026d=identicon","web_url":"https://gitlab.com/boudekerk"},"type":"ISSUE","assignee":{"id":590748,"username":"mdelaossa","name":"Mario de la Ossa","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/590748/avatar.png","web_url":"https://gitlab.com/mdelaossa"},"user_notes_count":8,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/3671","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/3671","notes":"https://gitlab.com/api/v4/projects/278964/issues/3671/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/3671/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#3671","relative":"#3671","full":"gitlab-org/gitlab#3671"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":24657697,"iid":19754,"project_id":278964,"title":"Disable automatic Issue Closing Pattern per project","description":"Automatically closing an issue because the commit message and or merge request summary mentions the issue is not a good workflow for me, or I would argue, for any serious project.\n\nThis was not a problem for me, because I could disable the feature and remain uneffected by this behavior, but now this is gone, and my project setting which informed gitlab not to do this to my issues, lost. (This is now only configurable by the administrator of a gitlab instance, site-wide).\n\n\n\nI can see how this can be practical for the smallest and most simple projects (which I suspect makes for the majority of the user base), but for serious projects I dont think this is at all appropriate.\n\nJust to highlight some reasons why this is undesirable...\n\n## Patches and issues are not 1:1\n\nAs others have raised in [old gitlabhq issue 1170](https://github.com/gitlabhq/gitlabhq/issues/1170), it is not correct to assume that landing one branch closes an issue; an issue may remain open for some time and a number of related patches may individually address a given issue, before the issue can be closed.\n\n## The patch submitter has no business deciding that the issue gets closed\n\nThis is just flat out wrong; it's important that commit messages make references to the issues they address, yes; but it's incorrect to have the patch submitter deciding that their patch closes your issue.\n\nRather (and I see this was *also* suggested in [old gitlabhq issue 1170](https://github.com/gitlabhq/gitlabhq/issues/1170)),\nit *could* make sense to present a list of issues that could be closed along with the \"Merge\" button.\n\nSimilar to how currently there is a checkmark in the UI to \"remove source branch\" or (god forbid) \"squash commits\".\n\nThis would put the responsibility of closing an issue in the correct hands: The hands of the reviewer who decided to merge the submitted branch (and of course manual branch merges performed on the command line would not trigger any undesirable side effects either).\n\n## Availability \u0026 Testing\n\n* No risks to availability are anticipated.\n* No cross-browser testing is required.\n* Make sure to run the following test https://gitlab.com/gitlab-org/gitlab/-/blob/master/qa/qa/specs/features/api/2_plan/closes_issue_via_pushing_a_commit_spec.rb#L23 and update it if needed.\n  * There's no need to run all tests in the `package-and-qa` job, but at least the one mentioned above.\n\n\u003c!-- This section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\n What risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning --\u003e","state":"closed","created_at":"2017-10-05T07:12:41.129Z","updated_at":"2021-11-08T16:04:57.008Z","closed_at":"2020-04-02T11:28:06.305Z","closed_by":{"id":3507264,"username":"donaldcook","name":"Donald Cook","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3507264/avatar.png","web_url":"https://gitlab.com/donaldcook"},"labels":["Category:Code Review Workflow","Category:Issue Tracking","Category:Team Planning","backend","customer","devops::plan","docs::feature","documentation","frontend","group::code review","internal customer","issues","merge requests","missed:12.9","quad-planning::complete-action","settings","type::feature","workflow::verification"],"milestone":{"id":1104429,"iid":46,"group_id":9970,"title":"12.10","description":"https://about.gitlab.com/releases/2020/04/22/gitlab-12-10-released","state":"closed","created_at":"2019-12-20T15:15:53.243Z","updated_at":"2020-10-08T12:00:39.852Z","due_date":"2020-04-17","start_date":"2020-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/46"},"assignees":[{"id":3507264,"username":"donaldcook","name":"Donald Cook","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3507264/avatar.png","web_url":"https://gitlab.com/donaldcook"}],"author":{"id":711946,"username":"tristanvb","name":"Tristan Van Berkom","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4716dc97e500eec4af3a0f8815a493cb?s=80\u0026d=identicon","web_url":"https://gitlab.com/tristanvb"},"type":"ISSUE","assignee":{"id":3507264,"username":"donaldcook","name":"Donald Cook","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3507264/avatar.png","web_url":"https://gitlab.com/donaldcook"},"user_notes_count":73,"merge_requests_count":2,"upvotes":76,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/19754","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/19754","notes":"https://gitlab.com/api/v4/projects/278964/issues/19754/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/19754/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#19754","relative":"#19754","full":"gitlab-org/gitlab#19754"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":9405234,"iid":5029,"project_id":278964,"title":"Add CPU \u0026 Memory metrics to k8s cluster page","description":"## Description\n\nAs a first step towards https://gitlab.com/gitlab-org/gitlab-ce/issues/27890, we should show some basic health metrics about the cluster.\n\nWe should include:\n- CPU Cores Used vs. Available  \n- Memory % Used vs. Available \n- gitlab-ce~992792 would be to also provide a series for requested CPU/Memory as well. \n- ~~Pod limit (currently 100 per Node)~~\n\n100% utilization in this case would be all Cores/RAM available within the cluster. (Summarization of the Node CPU/RAM)\n\nIf we can achieve this, we will be delivering more value than what can be obtained easily via the k8s console.\n\n## Proposal\n\nWe can gather the % used today, but to gather the amount requested we will need to deploy [kube-state-metrics](https://github.com/kubernetes/kube-state-metrics). \n\nThe general actions:\n- Deploy `kube-state-metrics` along with Prometheus for managed clusters. If a cluster already had Prometheus deployed, we should deploy this as well. We will need to think about the scaling needs.\n- Add the charts to the cluster management page. Will need UX input on this.\n\n![](https://gitlab.com/gitlab-org/gitlab-ce/uploads/cdec063822191f1eafa8dfb5b94ae205/Group_6.png)\n\n![](https://gitlab.com/gitlab-org/gitlab-ce/uploads/727d1f404146be82352c33e791a744e5/Group.png)","state":"closed","created_at":"2017-10-04T21:25:15.304Z","updated_at":"2020-01-27T22:18:44.781Z","closed_at":"2018-03-07T17:38:47.743Z","closed_by":null,"labels":["Category:Kubernetes Management","Deliverable","Enterprise Edition","GitLab Ultimate","backend","devops::monitor","direction","frontend","type::feature","workflow::in review"],"milestone":{"id":416486,"iid":8,"group_id":9970,"title":"10.6","description":"https://about.gitlab.com/releases/2018/03/22/gitlab-10-6-released","state":"closed","created_at":"2017-11-21T20:05:35.697Z","updated_at":"2020-04-27T16:30:32.220Z","due_date":"2018-03-22","start_date":"2018-02-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/8"},"assignees":[{"id":489558,"username":"dimitrieh","name":"Dimitrie Hoekstra","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/489558/avatar.png","web_url":"https://gitlab.com/dimitrieh"},{"id":636429,"username":"mikegreiling","name":"Mike Greiling","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/636429/avatar.png","web_url":"https://gitlab.com/mikegreiling"},{"id":676946,"username":"pchojnacki-gitlab","name":"Paweł Chojnacki","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/676946/avatar.png","web_url":"https://gitlab.com/pchojnacki-gitlab"}],"author":{"id":926632,"username":"joshlambert","name":"Joshua Lambert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a0bdc5209b11e9c0953f80234dcb4ffb?s=80\u0026d=identicon","web_url":"https://gitlab.com/joshlambert"},"type":"ISSUE","assignee":{"id":489558,"username":"dimitrieh","name":"Dimitrie Hoekstra","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/489558/avatar.png","web_url":"https://gitlab.com/dimitrieh"},"user_notes_count":35,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/5029","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":6,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/5029","notes":"https://gitlab.com/api/v4/projects/278964/issues/5029/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/5029/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#5029","relative":"#5029","full":"gitlab-org/gitlab#5029"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":92,"epic":{"id":161,"iid":92,"title":"Kubernetes Cluster Monitoring","url":"/groups/gitlab-org/-/epics/92","group_id":9970,"human_readable_end_date":"Mar 7, 2018","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":7080660,"iid":3649,"project_id":278964,"title":"Personal access token expiry policy (\"lifetime\")","description":"### Problem Statement\n\nCurrently, users can optionally specify an expiration date for personal access tokens. This expiration date is not a requirement, and can be set to any arbitrary date.\n\nSince PATs are the only token needed for programmatic access to GitLab, organizations with security requirements may want to enforce more protection to require regular rotation of these tokens.\n\n### Proposal\n\n* Add this as a new setting to the \"Account and limit\" settings area in `/admin/application_settings`. Looking something like this:\n\n![image](/uploads/e525777738f3d1dd52847affab61f229/image.png)\n\n* Add a setting that allows an administrator to require that personal access tokens must have an expiration date with a maximum `from_now` of X days.\n  * Blank value = no limit.\n* When an integer is present:\n  * Attempts to create PATs on the instance beyond this threshold should result in an error. \"Personal access tokens must expire on (DATE) or earlier.\n\n### What do we do with existing tokens?\n\n* Existing tokens should be revoked. We should inform the user:\n  * Email notice that their PAT has been revoked due to an application setting and needs to be regenerated.\n  * Attempting to use an expired PAT should emit an error that the PAT is no longer valid and needs to be regenerated.\n* Stretch goal: 7 days before a PAT expires, warn the user one time via email (your PAT is about to expire) and emit an error every time the PAT is used.\n\nThe above should include PATs for administrators.\n\n### Additional\n\nFor time being @smcgivern provided a work around (untested):\n\n`gitlab-rails r 'PersonalAccessToken.active.where(expires_at: nil).update_all(expires_at: 1.week.from_now)'`\n\n### Links / references\n\n### Documentation blurb\n\n#### Overview\n\nWhat is it?\nWhy should someone use this feature?\nWhat is the underlying (business) problem?\nHow do you use this feature?\n\n#### Use cases\n\nWho is this for? Provide one or more use cases.\n\n### Feature checklist\n\nMake sure these are completed before closing the issue,\nwith a link to the relevant commit.\n\n- [ ] [Feature assurance](https://about.gitlab.com/handbook/product/#feature-assurance)\n- [ ] Documentation\n- [ ] Added to [features.yml](https://gitlab.com/gitlab-com/www-gitlab-com/blob/master/data/features.yml)","state":"closed","created_at":"2017-10-04T20:52:56.118Z","updated_at":"2021-09-30T13:35:18.483Z","closed_at":"2020-03-17T14:23:46.848Z","closed_by":{"id":4412196,"username":"sarcila","name":"Sebastián Arcila Valenzuela","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3a4e06d560d693fb3a842f5201df3746?s=80\u0026d=identicon","web_url":"https://gitlab.com/sarcila"},"labels":["Enterprise Edition","GitLab Ultimate","authentication","backend","customer","customer success","customer+","devops::manage","estimation::completed","group::authentication and authorization","missed-deliverable","missed:12.5","missed:12.6","missed:12.7","missed:12.8","personal access tokens","priority::2","type::feature","workflow::production"],"milestone":{"id":1001916,"iid":44,"group_id":9970,"title":"12.9","description":"https://about.gitlab.com/releases/2020/03/22/gitlab-12-9-released","state":"closed","created_at":"2019-09-15T20:54:50.875Z","updated_at":"2020-09-02T11:04:41.671Z","due_date":"2020-03-17","start_date":"2020-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/44"},"assignees":[{"id":4412196,"username":"sarcila","name":"Sebastián Arcila Valenzuela","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3a4e06d560d693fb3a842f5201df3746?s=80\u0026d=identicon","web_url":"https://gitlab.com/sarcila"},{"id":4748651,"username":"mattgonzales-gitlab","name":"Matt Gonzales (ex-GitLab)","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4748651/avatar.png","web_url":"https://gitlab.com/mattgonzales-gitlab"}],"author":{"id":1187333,"username":"jramsay-gitlab","name":"James Ramsay (ex-GitLab)","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1187333/avatar.png","web_url":"https://gitlab.com/jramsay-gitlab"},"type":"ISSUE","assignee":{"id":4412196,"username":"sarcila","name":"Sebastián Arcila Valenzuela","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3a4e06d560d693fb3a842f5201df3746?s=80\u0026d=identicon","web_url":"https://gitlab.com/sarcila"},"user_notes_count":69,"merge_requests_count":1,"upvotes":20,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/3649","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/3649","notes":"https://gitlab.com/api/v4/projects/278964/issues/3649/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/3649/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#3649","relative":"#3649","full":"gitlab-org/gitlab#3649"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":258,"epic":{"id":502,"iid":258,"title":"Improve an administrator's ability to secure GitLab","url":"/groups/gitlab-org/-/epics/258","group_id":9970,"human_readable_end_date":"Dec 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":7078454,"iid":3646,"project_id":278964,"title":"Document Geo HA setups","description":"GitLab offers both HA and Geo, and the two go together well. Customers will often want a HA setup for their primary and their secondary.\n\nWe should include explicit documentation on this, and ensure that any Geo-specific items (such as the tracking database on the secondary) are fully documented / automated.\n\nThis will also be useful for the GitLab.com team as they prepare to set up a HA Geo secondary.\n\n\n/cc @lbot @stanhu","state":"closed","created_at":"2017-10-04T17:21:08.785Z","updated_at":"2019-12-11T20:23:48.721Z","closed_at":"2017-12-08T13:29:00.590Z","closed_by":null,"labels":["Enterprise Edition","devops::systems","docs-missing","group::geo","ha","workflow::in review"],"milestone":{"id":360827,"iid":3,"group_id":9970,"title":"10.3","description":"","state":"closed","created_at":"2017-08-16T16:51:52.890Z","updated_at":"2018-03-22T16:15:37.036Z","due_date":"2017-12-22","start_date":"2017-11-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/3"},"assignees":[{"id":660180,"username":"toon","name":"Toon Claes","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/660180/avatar.png","web_url":"https://gitlab.com/toon"}],"author":{"id":572018,"username":"nick.thomas","name":"Nick Thomas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/572018/avatar.png","web_url":"https://gitlab.com/nick.thomas"},"type":"ISSUE","assignee":{"id":660180,"username":"toon","name":"Toon Claes","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/660180/avatar.png","web_url":"https://gitlab.com/toon"},"user_notes_count":7,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/3646","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/3646","notes":"https://gitlab.com/api/v4/projects/278964/issues/3646/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/3646/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#3646","relative":"#3646","full":"gitlab-org/gitlab#3646"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":16,"epic":{"id":23,"iid":16,"title":"Geo: support high availability","url":"/groups/gitlab-org/-/epics/16","group_id":9970,"human_readable_end_date":"Dec 7, 2017","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":24657675,"iid":19743,"project_id":278964,"title":"Bogus translation in new password page","description":"As you can see from the following screenshot, there's `New PasswordNew Password`.\n\n![screenshot-gitlab.ee_8082-2017-10-04-15-26-05](/uploads/70eb72540840e45711b314729fdc96a8/screenshot-gitlab.ee_8082-2017-10-04-15-26-05.png)","state":"closed","created_at":"2017-10-04T13:30:05.853Z","updated_at":"2019-12-05T21:01:28.821Z","closed_at":"2019-12-05T21:01:28.776Z","closed_by":{"id":3585,"username":"axil","name":"Achilleas Pipinellis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3585/avatar.png","web_url":"https://gitlab.com/axil"},"labels":["Category:Internationalization","Create [DEPRECATED]","Manage [DEPRECATED]","[deprecated] Accepting merge requests","backend","default-priority","default-severity","devops::manage","group::import","priority::3","severity::3","type::bug"],"milestone":null,"assignees":[],"author":{"id":3585,"username":"axil","name":"Achilleas Pipinellis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3585/avatar.png","web_url":"https://gitlab.com/axil"},"type":"ISSUE","assignee":null,"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/19743","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/19743","notes":"https://gitlab.com/api/v4/projects/278964/issues/19743/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/19743/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#19743","relative":"#19743","full":"gitlab-org/gitlab#19743"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":7061793,"iid":3619,"project_id":278964,"title":"Export merge requests to CSV like already possible for issues","description":"### Description\n\nI want to be able to export merge requests to CSV like possible for issues.\n\n### Solution\n\nOn the [Merge Requests index](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/), add a button to \"Export as CSV\" (like the one on the [Issues index](https://gitlab.com/gitlab-org/gitlab/-/issues)).  Clicking this button would cause a CSV file to be downloaded with these columns:\n\n#### CSV schema \n\n\u003cdetails\u003e\n\n| Column             | Description                                                  |\n|--------------------|--------------------------------------------------------------|\n| MR ID              | MR iid                                                       |\n| URL                | A link to the merge request on GitLab                        |\n| Title              | Merge request title                                          |\n| State              | Opened, Closed, Locked, or Merged                            |\n| Description        | Merge request description                                    |\n| Source Branch      | Source branch                                                |\n| Target Branch      | Target branch                                                |\n| Source Project ID  | ID of the source project                                     |\n| Target Project ID  | ID of the target project                                     |\n| Author             | Full name of the merge request author                        |\n| Author Username    | Username of the author, with the @ symbol omitted            |\n| Assignees          | Full names of the merge request assignees, joined with a `,` |\n| Assignee Usernames | Username of the assignees, with the @ symbol omitted         |\n| Approvers          | Full names of the approvers, joined with a `,`               |\n| Approver Usernames | Username of the approvers, with the @ symbol omitted         |\n| Merged User        | Full name of the merged user                                 |\n| Merged Username    | Username of the merge user, with the @ symbol omitted        |\n| Milestone ID       | ID of the merge request milestone                            |\n| Created At (UTC)   | Formatted as YYYY-MM-DD HH:MM:SS                             |\n| Updated At (UTC)   | Formatted as YYYY-MM-DD HH:MM:SS                             |\n\n\u003c/details\u003e\n\n#### UI\n\n\u003cdetails\u003e\n![Screen_Shot_2020-07-14_at_4.40.19_PM](/uploads/2f84341e898d519dd9ade56833500b7d/Screen_Shot_2020-07-14_at_4.40.19_PM.png)\n\u003c/details\u003e\n\n### Links / references\n\nhttps://docs.gitlab.com/ee/user/project/issues/csv_export.html\n\n### Feature checklist\n\nMake sure these are completed before closing the issue,\nwith a link to the relevant commit.\n\n- [ ] [Feature assurance](https://about.gitlab.com/handbook/product/#feature-assurance)\n- [ ] Documentation\n- [ ] Added to [features.yml](https://gitlab.com/gitlab-com/www-gitlab-com/blob/master/data/features.yml)","state":"closed","created_at":"2017-10-03T15:00:28.089Z","updated_at":"2022-03-28T19:21:43.369Z","closed_at":"2020-11-04T11:05:58.138Z","closed_by":{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"},"labels":["Category:Audit Reports [DEPRECATED]","Deliverable","GitLab Core","backend","customer","devops::manage","direction","documentation","frontend","group::compliance","internal customer","merge requests","priority::2","section::dev","type::feature","workflow::production"],"milestone":{"id":1233755,"iid":53,"group_id":9970,"title":"13.6","description":"https://about.gitlab.com/releases/2020/11/22/gitlab-13-6-released/","state":"closed","created_at":"2020-04-09T17:39:22.328Z","updated_at":"2022-04-13T14:51:04.376Z","due_date":"2020-11-17","start_date":"2020-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/53"},"assignees":[{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"}],"author":{"id":1128490,"username":"markus.fischbacher","name":"Markus Fischbacher","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1128490/avatar.png","web_url":"https://gitlab.com/markus.fischbacher"},"type":"ISSUE","assignee":{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"},"user_notes_count":49,"merge_requests_count":0,"upvotes":20,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/3619","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":0},"weight":3,"blocking_issues_count":1,"has_tasks":true,"task_status":"0 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/3619","notes":"https://gitlab.com/api/v4/projects/278964/issues/3619/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/3619/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#3619","relative":"#3619","full":"gitlab-org/gitlab#3619"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":"on_track"},{"id":7061238,"iid":3617,"project_id":278964,"title":"Detect and warn about broken replication slots on the Geo primary","description":"Unused replication slots on the gitlab database on the Geo testbed (from the production database restore) caused large amount of log data to build up in `pg_xlog`. As ~ 10TB of repositories were copied from the primary to the secondary we saw 100GBs of log data on the primary.\n\nRemoving the unused replication slots fixed this, causing the postgresql dataset to return to its previous size. We should include information about the number and status of replication slots in the status screen for the Geo primary.\n","state":"closed","created_at":"2017-10-03T14:29:36.128Z","updated_at":"2019-12-11T20:10:43.376Z","closed_at":"2017-11-27T12:05:11.333Z","closed_by":null,"labels":["Enterprise Edition","devops::systems","group::geo","type::feature"],"milestone":{"id":360827,"iid":3,"group_id":9970,"title":"10.3","description":"","state":"closed","created_at":"2017-08-16T16:51:52.890Z","updated_at":"2018-03-22T16:15:37.036Z","due_date":"2017-12-22","start_date":"2017-11-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/3"},"assignees":[{"id":194645,"username":"digitalmoksha","name":"Brett Walker","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/194645/avatar.png","web_url":"https://gitlab.com/digitalmoksha"}],"author":{"id":1254817,"username":"jarv","name":"John Jarvis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1254817/avatar.png","web_url":"https://gitlab.com/jarv"},"type":"ISSUE","assignee":{"id":194645,"username":"digitalmoksha","name":"Brett Walker","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/194645/avatar.png","web_url":"https://gitlab.com/digitalmoksha"},"user_notes_count":11,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/3617","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/3617","notes":"https://gitlab.com/api/v4/projects/278964/issues/3617/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/3617/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#3617","relative":"#3617","full":"gitlab-org/gitlab#3617"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":24657484,"iid":19697,"project_id":278964,"title":"Projects::PipelinesController#index (pipelines.json) is calling Gitaly n+1 times per invocation","description":"When visiting pipelines page for a project, the ajax request to grab all of the pipelines will fail with a 500 internal server error and I can never see any pipelines listed :crying_cat_face: \n\n - GitLab CE `master`, `$GDK/gitlab`, gitlab-ce@aec1586c05f30c1a81928b441cd63e422752e56c\n - `$GDK/gitaly/src/gitlab.com/gitlab-org/gitaly`, [3cec5a47](https://gitlab.com/gitlab-org/gitaly/commit/3cec5a47fdb56ccd83bc6829b36d8123b72ab797)\n\nVisit `\u003cnamespace\u003e/\u003cproject\u003e/pipelines` -\u003e Ajax `GET \u003cnamespace\u003e/\u003cproject\u003e/pipelines.json?scope=all\u0026page=1`\n\n```\nGitlab::GitalyClient::TooManyInvocationsError in Projects::PipelinesController#index\n\nGitalyClient#migrate called 31 times from single request. Potential n+1?\nThe following call site called into Gitaly 16 times:\n/Users/eric/Documents/gitlab/gitlab-development-kit/gitlab/lib/gitlab/gitaly_client.rb:131:in `migrate'\n/Users/eric/Documents/gitlab/gitlab-development-kit/gitlab/lib/gitlab/git/repository.rb:1088:in `gitaly_migrate'\n/Users/eric/Documents/gitlab/gitlab-development-kit/gitlab/lib/gitlab/git/commit.rb:63:in `find'\n/Users/eric/Documents/gitlab/gitlab-development-kit/gitlab/app/models/repository.rb:105:in `commit'\n/Users/eric/Documents/gitlab/gitlab-development-kit/gitlab/app/models/project.rb:517:in `commit'\n/Users/eric/Documents/gitlab/gitlab-development-kit/gitlab/app/models/ci/pipeline.rb:293:in `latest?'\n/Users/eric/.rvm/gems/ruby-2.3.3/gems/grape-entity-0.6.0/lib/grape_entity/delegator/plain_object.rb:6:in `delegate'\n/Users/eric/.rvm/gems/ruby-2.3.3/gems/grape-entity-0.6.0/lib/grape_entity/entity.rb:490:in `delegate_attribute'\n/Users/eric/.rvm/gems/ruby-2.3.3/gems/grape-entity-0.6.0/lib/grape_entity/exposure/delegator_exposure.rb:6:in `value'\n/Users/eric/.rvm/gems/ruby-2.3.3/gems/grape-entity-0.6.0/lib/grape_entity/exposure/base.rb:79:in `valid_value'\n/Users/eric/.rvm/gems/ruby-2.3.3/gems/grape-entity-0.6.0/lib/grape_entity/exposure/base.rb:63:in `serializable_value'\n/Users/eric/.rvm/gems/ruby-2.3.3/gems/grape-entity-0.6.0/lib/grape_entity/exposure/nesting_exposure.rb:61:in `block (2 levels) in serializable_value'\n```\n\nIt looks like Gitaly is running,\n\n```\nps aux | grep gitaly\neric              4020   0.1  0.1  2626420  12216 s005  S+   12:47PM   0:31.84 bin/gitaly-ruby 4000 /var/folders/z_/_m9m0xpn0kb_pl20hh5pvvnh0000gn/T/gitaly-ruby872112313/socket\neric             21123   0.0  0.1 556652352  13772 s002  S+    3:53PM   0:00.29 gitaly/bin/gitaly /Users/eric/Documents/gitlab/gitlab-development-kit/gitaly/config.toml\n```\n\nGDK log around the request\n\n```\n15:55:26 gitaly.1                | time=\"2017-09-29T15:55:26-05:00\" level=info msg=spawn args=\"[/usr/bin/git --git-dir /Users/eric/Documents/gitlab/gitlab-development-kit/repositories/root/playing-with-selenium.git log -z --pretty=format:%H%x1f%s%x1f%B%x1f%an%x1f%ae%x1f%aI%x1f%cn%x1f%ce%x1f%cI%x1f%P --max-count=1 4b7766eea985318b7c5435fc1ec22f705584aad7 --]\" grpc.method=FindCommit grpc.request.repoPath=root/playing-with-selenium.git grpc.request.repoStorage=default grpc.request.topLevelGroup=root grpc.service=gitaly.CommitService path=/usr/bin/git peer.address= pid=21563 span.kind=server system=grpc\n15:55:26 gitaly.1                | time=\"2017-09-29T15:55:26-05:00\" level=info msg=\"finished unary call\" grpc.code=OK grpc.method=FindCommit grpc.request.repoPath=root/playing-with-selenium.git grpc.request.repoStorage=default grpc.request.topLevelGroup=root grpc.service=gitaly.CommitService grpc.time_ms=8 peer.address= span.kind=server system=grpc\n15:55:26 gitaly.1                | time=\"2017-09-29T15:55:26-05:00\" level=info msg=\"spawn complete\" args=\"[/usr/bin/git --git-dir /Users/eric/Documents/gitlab/gitlab-development-kit/repositories/root/playing-with-selenium.git log -z --pretty=format:%H%x1f%s%x1f%B%x1f%an%x1f%ae%x1f%aI%x1f%cn%x1f%ce%x1f%cI%x1f%P --max-count=1 4b7766eea985318b7c5435fc1ec22f705584aad7 --]\" command.exitCode=0 command.inblock=0 command.maxrss=1515520 command.oublock=0 command.real_time_ms=8.432604 command.system_time_ms=1.119 command.user_time_ms=2.275 grpc.method=FindCommit grpc.request.repoPath=root/playing-with-selenium.git grpc.request.repoStorage=default grpc.request.topLevelGroup=root grpc.service=gitaly.CommitService path=/usr/bin/git peer.address= span.kind=server system=grpc\n15:55:26 gitaly.1                | time=\"2017-09-29T15:55:26-05:00\" level=info msg=spawn args=\"[/usr/bin/git --git-dir /Users/eric/Documents/gitlab/gitlab-development-kit/repositories/root/playing-with-selenium.git log -z --pretty=format:%H%x1f%s%x1f%B%x1f%an%x1f%ae%x1f%aI%x1f%cn%x1f%ce%x1f%cI%x1f%P --max-count=1 investigate-empty-artifacts --]\" grpc.method=FindCommit grpc.request.repoPath=root/playing-with-selenium.git grpc.request.repoStorage=default grpc.request.topLevelGroup=root grpc.service=gitaly.CommitService path=/usr/bin/git peer.address= pid=21564 span.kind=server system=grpc\n15:55:26 gitaly.1                | time=\"2017-09-29T15:55:26-05:00\" level=info msg=\"finished unary call\" grpc.code=OK grpc.method=FindCommit grpc.request.repoPath=root/playing-with-selenium.git grpc.request.repoStorage=default grpc.request.topLevelGroup=root grpc.service=gitaly.CommitService grpc.time_ms=7 peer.address= span.kind=server system=grpc\n15:55:26 gitaly.1                | time=\"2017-09-29T15:55:26-05:00\" level=info msg=\"spawn complete\" args=\"[/usr/bin/git --git-dir /Users/eric/Documents/gitlab/gitlab-development-kit/repositories/root/playing-with-selenium.git log -z --pretty=format:%H%x1f%s%x1f%B%x1f%an%x1f%ae%x1f%aI%x1f%cn%x1f%ce%x1f%cI%x1f%P --max-count=1 investigate-empty-artifacts --]\" command.exitCode=0 command.inblock=0 command.maxrss=1507328 command.oublock=0 command.real_time_ms=8.062746 command.system_time_ms=1.229 command.user_time_ms=2.2110000000000003 grpc.method=FindCommit grpc.request.repoPath=root/playing-with-selenium.git grpc.request.repoStorage=default grpc.request.topLevelGroup=root grpc.service=gitaly.CommitService path=/usr/bin/git peer.address= span.kind=server system=grpc\n15:55:26 gitaly.1                | time=\"2017-09-29T15:55:26-05:00\" level=info msg=spawn args=\"[/usr/bin/git --git-dir /Users/eric/Documents/gitlab/gitlab-development-kit/repositories/root/playing-with-selenium.git log -z --pretty=format:%H%x1f%s%x1f%B%x1f%an%x1f%ae%x1f%aI%x1f%cn%x1f%ce%x1f%cI%x1f%P --max-count=1 23d1b20f4f6a0b4049851a2563aff30bdbaf2fae --]\" grpc.method=FindCommit grpc.request.repoPath=root/playing-with-selenium.git grpc.request.repoStorage=default grpc.request.topLevelGroup=root grpc.service=gitaly.CommitService path=/usr/bin/git peer.address= pid=21565 span.kind=server system=grpc\n15:55:26 gitaly.1                | time=\"2017-09-29T15:55:26-05:00\" level=info msg=\"finished unary call\" grpc.code=OK grpc.method=FindCommit grpc.request.repoPath=root/playing-with-selenium.git grpc.request.repoStorage=default grpc.request.topLevelGroup=root grpc.service=gitaly.CommitService grpc.time_ms=7 peer.address= span.kind=server system=grpc\n15:55:26 gitaly.1                | time=\"2017-09-29T15:55:26-05:00\" level=info msg=\"spawn complete\" args=\"[/usr/bin/git --git-dir /Users/eric/Documents/gitlab/gitlab-development-kit/repositories/root/playing-with-selenium.git log -z --pretty=format:%H%x1f%s%x1f%B%x1f%an%x1f%ae%x1f%aI%x1f%cn%x1f%ce%x1f%cI%x1f%P --max-count=1 23d1b20f4f6a0b4049851a2563aff30bdbaf2fae --]\" command.exitCode=0 command.inblock=0 command.maxrss=1507328 command.oublock=0 command.real_time_ms=7.674937000000001 command.system_time_ms=0.93 command.user_time_ms=2.0380000000000003 grpc.method=FindCommit grpc.request.repoPath=root/playing-with-selenium.git grpc.request.repoStorage=default grpc.request.topLevelGroup=root grpc.service=gitaly.CommitService path=/usr/bin/git peer.address= span.kind=server system=grpc\n15:55:26 gitaly.1                | time=\"2017-09-29T15:55:26-05:00\" level=info msg=spawn args=\"[/usr/bin/git --git-dir /Users/eric/Documents/gitlab/gitlab-development-kit/repositories/root/playing-with-selenium.git log -z --pretty=format:%H%x1f%s%x1f%B%x1f%an%x1f%ae%x1f%aI%x1f%cn%x1f%ce%x1f%cI%x1f%P --max-count=1 investigate-empty-artifacts --]\" grpc.method=FindCommit grpc.request.repoPath=root/playing-with-selenium.git grpc.request.repoStorage=default grpc.request.topLevelGroup=root grpc.service=gitaly.CommitService path=/usr/bin/git peer.address= pid=21566 span.kind=server system=grpc\n15:55:26 gitaly.1                | time=\"2017-09-29T15:55:26-05:00\" level=info msg=\"finished unary call\" grpc.code=OK grpc.method=FindCommit grpc.request.repoPath=root/playing-with-selenium.git grpc.request.repoStorage=default grpc.request.topLevelGroup=root grpc.service=gitaly.CommitService grpc.time_ms=9 peer.address= span.kind=server system=grpc\n15:55:26 gitaly.1                | time=\"2017-09-29T15:55:26-05:00\" level=info msg=\"spawn complete\" args=\"[/usr/bin/git --git-dir /Users/eric/Documents/gitlab/gitlab-development-kit/repositories/root/playing-with-selenium.git log -z --pretty=format:%H%x1f%s%x1f%B%x1f%an%x1f%ae%x1f%aI%x1f%cn%x1f%ce%x1f%cI%x1f%P --max-count=1 investigate-empty-artifacts --]\" command.exitCode=0 command.inblock=0 command.maxrss=1593344 command.oublock=0 command.real_time_ms=9.617705 command.system_time_ms=1.957 command.user_time_ms=2.4160000000000004 grpc.method=FindCommit grpc.request.repoPath=root/playing-with-selenium.git grpc.request.repoStorage=default grpc.request.topLevelGroup=root grpc.service=gitaly.CommitService path=/usr/bin/git peer.address= span.kind=server system=grpc\n15:55:26 gitaly.1                | time=\"2017-09-29T15:55:26-05:00\" level=info msg=spawn args=\"[/usr/bin/git --git-dir /Users/eric/Documents/gitlab/gitlab-development-kit/repositories/root/playing-with-selenium.git log -z --pretty=format:%H%x1f%s%x1f%B%x1f%an%x1f%ae%x1f%aI%x1f%cn%x1f%ce%x1f%cI%x1f%P --max-count=1 6aff23b5a948698624271a919bab04ccdda43057 --]\" grpc.method=FindCommit grpc.request.repoPath=root/playing-with-selenium.git grpc.request.repoStorage=default grpc.request.topLevelGroup=root grpc.service=gitaly.CommitService path=/usr/bin/git peer.address= pid=21567 span.kind=server system=grpc\n15:55:26 gitaly.1                | time=\"2017-09-29T15:55:26-05:00\" level=info msg=\"finished unary call\" grpc.code=OK grpc.method=FindCommit grpc.request.repoPath=root/playing-with-selenium.git grpc.request.repoStorage=default grpc.request.topLevelGroup=root grpc.service=gitaly.CommitService grpc.time_ms=8 peer.address= span.kind=server system=grpc\n15:55:26 gitaly.1                | time=\"2017-09-29T15:55:26-05:00\" level=info msg=\"spawn complete\" args=\"[/usr/bin/git --git-dir /Users/eric/Documents/gitlab/gitlab-development-kit/repositories/root/playing-with-selenium.git log -z --pretty=format:%H%x1f%s%x1f%B%x1f%an%x1f%ae%x1f%aI%x1f%cn%x1f%ce%x1f%cI%x1f%P --max-count=1 6aff23b5a948698624271a919bab04ccdda43057 --]\" command.exitCode=0 command.inblock=0 command.maxrss=1507328 command.oublock=0 command.real_time_ms=8.736335000000002 command.system_time_ms=1.122 command.user_time_ms=2.174 grpc.method=FindCommit grpc.request.repoPath=root/playing-with-selenium.git grpc.request.repoStorage=default grpc.request.topLevelGroup=root grpc.service=gitaly.CommitService path=/usr/bin/git peer.address= span.kind=server system=grpc\n15:55:26 gitaly.1                | time=\"2017-09-29T15:55:26-05:00\" level=info msg=spawn args=\"[/usr/bin/git --git-dir /Users/eric/Documents/gitlab/gitlab-development-kit/repositories/root/playing-with-selenium.git log -z --pretty=format:%H%x1f%s%x1f%B%x1f%an%x1f%ae%x1f%aI%x1f%cn%x1f%ce%x1f%cI%x1f%P --max-count=1 investigate-empty-artifacts --]\" grpc.method=FindCommit grpc.request.repoPath=root/playing-with-selenium.git grpc.request.repoStorage=default grpc.request.topLevelGroup=root grpc.service=gitaly.CommitService path=/usr/bin/git peer.address= pid=21568 span.kind=server system=grpc\n15:55:26 gitaly.1                | time=\"2017-09-29T15:55:26-05:00\" level=info msg=\"finished unary call\" grpc.code=OK grpc.method=FindCommit grpc.request.repoPath=root/playing-with-selenium.git grpc.request.repoStorage=default grpc.request.topLevelGroup=root grpc.service=gitaly.CommitService grpc.time_ms=7 peer.address= span.kind=server system=grpc\n15:55:26 gitaly.1                | time=\"2017-09-29T15:55:26-05:00\" level=info msg=\"spawn complete\" args=\"[/usr/bin/git --git-dir /Users/eric/Documents/gitlab/gitlab-development-kit/repositories/root/playing-with-selenium.git log -z --pretty=format:%H%x1f%s%x1f%B%x1f%an%x1f%ae%x1f%aI%x1f%cn%x1f%ce%x1f%cI%x1f%P --max-count=1 investigate-empty-artifacts --]\" command.exitCode=0 command.inblock=0 command.maxrss=1511424 command.oublock=0 command.real_time_ms=7.352393 command.system_time_ms=1.1800000000000002 command.user_time_ms=2.157 grpc.method=FindCommit grpc.request.repoPath=root/playing-with-selenium.git grpc.request.repoStorage=default grpc.request.topLevelGroup=root grpc.service=gitaly.CommitService path=/usr/bin/git peer.address= span.kind=server system=grpc\n15:55:26 gitaly.1                | time=\"2017-09-29T15:55:26-05:00\" level=info msg=spawn args=\"[/usr/bin/git --git-dir /Users/eric/Documents/gitlab/gitlab-development-kit/repositories/root/playing-with-selenium.git log -z --pretty=format:%H%x1f%s%x1f%B%x1f%an%x1f%ae%x1f%aI%x1f%cn%x1f%ce%x1f%cI%x1f%P --max-count=1 d5b2847d74e1f57fa43a7f128e8105d41821f67f --]\" grpc.method=FindCommit grpc.request.repoPath=root/playing-with-selenium.git grpc.request.repoStorage=default grpc.request.topLevelGroup=root grpc.service=gitaly.CommitService path=/usr/bin/git peer.address= pid=21569 span.kind=server system=grpc\n15:55:26 gitaly.1                | time=\"2017-09-29T15:55:26-05:00\" level=info msg=\"finished unary call\" grpc.code=OK grpc.method=FindCommit grpc.request.repoPath=root/playing-with-selenium.git grpc.request.repoStorage=default grpc.request.topLevelGroup=root grpc.service=gitaly.CommitService grpc.time_ms=6 peer.address= span.kind=server system=grpc\n15:55:26 gitaly.1                | time=\"2017-09-29T15:55:26-05:00\" level=info msg=\"spawn complete\" args=\"[/usr/bin/git --git-dir /Users/eric/Documents/gitlab/gitlab-development-kit/repositories/root/playing-with-selenium.git log -z --pretty=format:%H%x1f%s%x1f%B%x1f%an%x1f%ae%x1f%aI%x1f%cn%x1f%ce%x1f%cI%x1f%P --max-count=1 d5b2847d74e1f57fa43a7f128e8105d41821f67f --]\" command.exitCode=0 command.inblock=0 command.maxrss=1507328 command.oublock=0 command.real_time_ms=6.995571000000001 command.system_time_ms=0.8870000000000001 command.user_time_ms=1.9790000000000003 grpc.method=FindCommit grpc.request.repoPath=root/playing-with-selenium.git grpc.request.repoStorage=default grpc.request.topLevelGroup=root grpc.service=gitaly.CommitService path=/usr/bin/git peer.address= span.kind=server system=grpc\n15:55:26 gitaly.1                | time=\"2017-09-29T15:55:26-05:00\" level=info msg=spawn args=\"[/usr/bin/git --git-dir /Users/eric/Documents/gitlab/gitlab-development-kit/repositories/root/playing-with-selenium.git log -z --pretty=format:%H%x1f%s%x1f%B%x1f%an%x1f%ae%x1f%aI%x1f%cn%x1f%ce%x1f%cI%x1f%P --max-count=1 investigate-empty-artifacts --]\" grpc.method=FindCommit grpc.request.repoPath=root/playing-with-selenium.git grpc.request.repoStorage=default grpc.request.topLevelGroup=root grpc.service=gitaly.CommitService path=/usr/bin/git peer.address= pid=21570 span.kind=server system=grpc\n15:55:26 gitaly.1                | time=\"2017-09-29T15:55:26-05:00\" level=info msg=\"finished unary call\" grpc.code=OK grpc.method=FindCommit grpc.request.repoPath=root/playing-with-selenium.git grpc.request.repoStorage=default grpc.request.topLevelGroup=root grpc.service=gitaly.CommitService grpc.time_ms=7 peer.address= span.kind=server system=grpc\n15:55:26 gitaly.1                | time=\"2017-09-29T15:55:26-05:00\" level=info msg=\"spawn complete\" args=\"[/usr/bin/git --git-dir /Users/eric/Documents/gitlab/gitlab-development-kit/repositories/root/playing-with-selenium.git log -z --pretty=format:%H%x1f%s%x1f%B%x1f%an%x1f%ae%x1f%aI%x1f%cn%x1f%ce%x1f%cI%x1f%P --max-count=1 investigate-empty-artifacts --]\" command.exitCode=0 command.inblock=0 command.maxrss=1507328 command.oublock=0 command.real_time_ms=7.551 command.system_time_ms=1.0040000000000002 command.user_time_ms=2.019 grpc.method=FindCommit grpc.request.repoPath=root/playing-with-selenium.git grpc.request.repoStorage=default grpc.request.topLevelGroup=root grpc.service=gitaly.CommitService path=/usr/bin/git peer.address= span.kind=server system=grpc\n15:55:26 gitaly.1                | time=\"2017-09-29T15:55:26-05:00\" level=info msg=spawn args=\"[/usr/bin/git --git-dir /Users/eric/Documents/gitlab/gitlab-development-kit/repositories/root/playing-with-selenium.git log -z --pretty=format:%H%x1f%s%x1f%B%x1f%an%x1f%ae%x1f%aI%x1f%cn%x1f%ce%x1f%cI%x1f%P --max-count=1 84cb4a6623f7c4cc8706db65e05f59d338e23d18 --]\" grpc.method=FindCommit grpc.request.repoPath=root/playing-with-selenium.git grpc.request.repoStorage=default grpc.request.topLevelGroup=root grpc.service=gitaly.CommitService path=/usr/bin/git peer.address= pid=21571 span.kind=server system=grpc\n15:55:26 gitaly.1                | time=\"2017-09-29T15:55:26-05:00\" level=info msg=\"finished unary call\" grpc.code=OK grpc.method=FindCommit grpc.request.repoPath=root/playing-with-selenium.git grpc.request.repoStorage=default grpc.request.topLevelGroup=root grpc.service=gitaly.CommitService grpc.time_ms=7 peer.address= span.kind=server system=grpc\n15:55:26 gitaly.1                | time=\"2017-09-29T15:55:26-05:00\" level=info msg=\"spawn complete\" args=\"[/usr/bin/git --git-dir /Users/eric/Documents/gitlab/gitlab-development-kit/repositories/root/playing-with-selenium.git log -z --pretty=format:%H%x1f%s%x1f%B%x1f%an%x1f%ae%x1f%aI%x1f%cn%x1f%ce%x1f%cI%x1f%P --max-count=1 84cb4a6623f7c4cc8706db65e05f59d338e23d18 --]\" command.exitCode=0 command.inblock=0 command.maxrss=1515520 command.oublock=0 command.real_time_ms=7.593891 command.system_time_ms=0.9380000000000001 command.user_time_ms=2.045 grpc.method=FindCommit grpc.request.repoPath=root/playing-with-selenium.git grpc.request.repoStorage=default grpc.request.topLevelGroup=root grpc.service=gitaly.CommitService path=/usr/bin/git peer.address= span.kind=server system=grpc\n15:55:26 gitlab-workhorse.1      | 192.168.1.135:3000 192.168.1.135:50426 - - [2017-09-29 15:55:25.570253 -0500 CDT] \"GET /root/playing-with-selenium/pipelines.json?scope=all\u0026page=1 HTTP/1.1\" 500 165913 \"http://192.168.1.135:3000/root/playing-with-selenium/pipelines\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/62.0.3202.38 Safari/537.36\" 1.306455\n```\n\n\n\u003cimg src=\"https://i.imgur.com/0Teoc0q.png\" width=50%\"\u003e\n\n---\n\nI tried with `rails console` -\u003e `Feature.disable(:gitaly_tags)` and without, `Feature.enable(:gitaly_tags)`.\n\n---\n\n#### Workaround\n\n\u003e If it’s blocking you from getting any work done, as a temporary measure, return early in `GitalyClient.enforce_gitaly_request_limits`\n\u003e \n\u003e That’ll help you workaround the issue while I finish off https://gitlab.com/gitlab-org/gitlab-ce/merge_requests/14451\n\u003e \n\u003e *-- @andrewn, https://gitlab.slack.com/archives/C3ER3TQBT/p1506719216000296*\n\n---\n\ncc @andrewn","state":"closed","created_at":"2017-09-29T21:03:08.454Z","updated_at":"2020-08-24T10:41:19.681Z","closed_at":"2020-07-07T13:54:15.122Z","closed_by":{"id":263716,"username":"grzesiek","name":"Grzegorz Bizon","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/263716/avatar.jpeg","web_url":"https://gitlab.com/grzesiek"},"labels":["Category:Continuous Integration","Gitaly n+1","backend","bug::performance","customer+","devops::verify","group::pipeline execution","maintenance::refactor","missed-SLO","missed-deliverable","missed:12.10","missed:12.2","missed:12.3","missed:12.4","missed:12.5","missed:13.0","missed:13.1","priority::2","severity::2","type::bug","workflow::verification"],"milestone":{"id":1233746,"iid":49,"group_id":9970,"title":"13.2","description":"https://about.gitlab.com/releases/2020/07/22/gitlab-13-2-released/","state":"closed","created_at":"2020-04-09T17:28:01.032Z","updated_at":"2022-04-13T14:48:24.167Z","due_date":"2020-07-17","start_date":"2020-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/49"},"assignees":[{"id":263716,"username":"grzesiek","name":"Grzegorz Bizon","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/263716/avatar.jpeg","web_url":"https://gitlab.com/grzesiek"}],"author":{"id":892863,"username":"MadLittleMods","name":"Eric Eastwood","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4d634a2b818e2265fa2924b5f4c2da71?s=80\u0026d=identicon","web_url":"https://gitlab.com/MadLittleMods"},"type":"ISSUE","assignee":{"id":263716,"username":"grzesiek","name":"Grzegorz Bizon","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/263716/avatar.jpeg","web_url":"https://gitlab.com/grzesiek"},"user_notes_count":37,"merge_requests_count":1,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/19697","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/19697","notes":"https://gitlab.com/api/v4/projects/278964/issues/19697/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/19697/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#19697","relative":"#19697","full":"gitlab-org/gitlab#19697"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":827,"epic":{"id":4202,"iid":827,"title":"Reduce Gitaly IO calls","url":"/groups/gitlab-org/-/epics/827","group_id":9970,"human_readable_end_date":"Jul 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"needs_attention"},{"id":8551596,"iid":4543,"project_id":278964,"title":"Handle failed push if branch diverges","description":"While editing files in the multi-file editor, other users may commit changes to the same branch, causing the working state to be diverged from the server. This could create a situation where your changes overwrite the other changes.\n\nIt is important the the repo editor:\n\n- does not allow the user to overwrite other users changes\n- does not cause the user to lose their pending changes\n\nWe should add `last_commit_id` to the API so that the server can reject the change (https://gitlab.com/gitlab-org/gitlab-ce/issues/38356).\n\nWe should make sure the interface handles this gracefully.\n\n## Proposal\n\n- If branches diverge and the server rejects the push, the multi file editor should allow the user to create a new branch\n\n## Designs\n\n![modal_copy](/uploads/19ccd15f4b7ede629843ade6446e46f9/modal_copy.png)","state":"closed","created_at":"2017-09-29T14:43:35.811Z","updated_at":"2019-08-12T15:46:55.706Z","closed_at":"2018-03-01T14:13:09.941Z","closed_by":null,"labels":["Category:Web IDE","Deliverable","Enterprise Edition","GitLab Ultimate","frontend"],"milestone":{"id":416486,"iid":8,"group_id":9970,"title":"10.6","description":"https://about.gitlab.com/releases/2018/03/22/gitlab-10-6-released","state":"closed","created_at":"2017-11-21T20:05:35.697Z","updated_at":"2020-04-27T16:30:32.220Z","due_date":"2018-03-22","start_date":"2018-02-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/8"},"assignees":[{"id":489558,"username":"dimitrieh","name":"Dimitrie Hoekstra","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/489558/avatar.png","web_url":"https://gitlab.com/dimitrieh"}],"author":{"id":1187333,"username":"jramsay-gitlab","name":"James Ramsay (ex-GitLab)","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1187333/avatar.png","web_url":"https://gitlab.com/jramsay-gitlab"},"type":"ISSUE","assignee":{"id":489558,"username":"dimitrieh","name":"Dimitrie Hoekstra","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/489558/avatar.png","web_url":"https://gitlab.com/dimitrieh"},"user_notes_count":23,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/4543","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/4543","notes":"https://gitlab.com/api/v4/projects/278964/issues/4543/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/4543/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#4543","relative":"#4543","full":"gitlab-org/gitlab#4543"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":26,"epic":{"id":34,"iid":26,"title":"Web IDE editor","url":"/groups/gitlab-org/-/epics/26","group_id":9970,"human_readable_end_date":"Apr 22, 2018","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":24657458,"iid":19684,"project_id":278964,"title":"Error 500 when editing a file while user name contains \u003c...\u003e","description":"### Summary\n\nEditing a file (precisely committing it) does not work if the user's display name contains `\u003c...\u003e`.\n\n### Steps to reproduce\n\n- change display name to `\u003csomething\u003e`\n- edit file\n- commit\n\n### What is the current *bug* behavior?\n\nError 500\n\n### What is the expected *correct* behavior?\n\nCommit is created.\n\n### Relevant logs\n\n```\nRugged::InvalidError\nfailed to parse signature - Neither `name` nor `email` should contain angle brackets chars.\n```\n\nin [`create_commit`](https://gitlab.com/gitlab-org/gitlab-ce/blob/ccfe6860079c6c75ab5a1f831cd62af0e355331e/lib/gitlab/git/repository.rb#L793).\n\n### Possible fixes\n\n- disallow changing a user name to `\u003c...\u003e`\n- quote/escape user name when committing","state":"closed","created_at":"2017-09-29T09:24:13.778Z","updated_at":"2020-06-10T13:36:26.417Z","closed_at":"2020-01-15T11:23:31.338Z","closed_by":{"id":423116,"username":"toupeira","name":"Markus Koller","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7585ed50675c4febe7619f25b44f7fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/toupeira"},"labels":["Deliverable","backend","default-priority","default-severity","devops::create","group::editor","priority::3","reproduced on GitLab.com","severity::3","type::bug","web edit"],"milestone":{"id":891798,"iid":41,"group_id":9970,"title":"12.7","description":"https://about.gitlab.com/releases/2020/01/22/gitlab-12-7-released/","state":"closed","created_at":"2019-05-31T08:38:04.523Z","updated_at":"2020-05-19T13:46:24.737Z","due_date":"2020-01-17","start_date":"2019-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/41"},"assignees":[{"id":423116,"username":"toupeira","name":"Markus Koller","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7585ed50675c4febe7619f25b44f7fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/toupeira"}],"author":{"id":1212235,"username":"winh","name":"Inactive Account","state":"active","avatar_url":"https://secure.gravatar.com/avatar/e34b010c96ff3f44c62cddf66607232a?s=80\u0026d=identicon","web_url":"https://gitlab.com/winh"},"type":"ISSUE","assignee":{"id":423116,"username":"toupeira","name":"Markus Koller","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7585ed50675c4febe7619f25b44f7fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/toupeira"},"user_notes_count":12,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/19684","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/19684","notes":"https://gitlab.com/api/v4/projects/278964/issues/19684/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/19684/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#19684","relative":"#19684","full":"gitlab-org/gitlab#19684"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":7003730,"iid":3586,"project_id":278964,"title":"Disable Auto DevOps jobs with variables","description":"### Description\n\nAuto DevOps provides a wide range of features that can be very useful to your pipeline:\n- Unit testing\n- Code Quality\n- Security\n  - SAST\n  - Dependency Scanning\n  - Container Scanning\n  - DAST\n- Review Apps\n- Performances monitoring\n\nThis is great, but sometimes your application just doesn't fit with some of them, or you don't want to execute some of them. It should be possible to disable jobs based on environment variables.\n\n### Proposal\n\nFor each of the feature jobs available in the Auto DevOps template, support the use of a variable to disable it using the `except` clause.\n\nVariables names can be `TEST_DISABLED`, `CODEQUALITY_DISABLED`, etc.","state":"closed","created_at":"2017-09-28T18:22:51.236Z","updated_at":"2019-08-12T15:46:56.552Z","closed_at":"2018-05-18T12:03:38.527Z","closed_by":{"id":1273957,"username":"bikebilly","name":"Fabio Busatto","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1273957/avatar.png","web_url":"https://gitlab.com/bikebilly"},"labels":["Category:Auto DevOps","Deliverable","Enterprise Edition","application control panel","devops::configure","direction","type::feature"],"milestone":{"id":362887,"iid":5,"group_id":9970,"title":"11.0","description":"https://about.gitlab.com/releases/2018/06/22/gitlab-11-0-released","state":"closed","created_at":"2017-08-22T11:26:37.313Z","updated_at":"2020-04-27T16:31:06.794Z","due_date":"2018-06-22","start_date":"2018-05-07","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/5"},"assignees":[{"id":215818,"username":"tmaczukin","name":"Tomasz Maczukin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/0a9a99b9665ab7eda2cd7bffd54b1836?s=80\u0026d=identicon","web_url":"https://gitlab.com/tmaczukin"}],"author":{"id":424775,"username":"markpundsack","name":"Mark Pundsack","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a5a32160d9357ecb21f39f630ab8c0c7?s=80\u0026d=identicon","web_url":"https://gitlab.com/markpundsack"},"type":"ISSUE","assignee":{"id":215818,"username":"tmaczukin","name":"Tomasz Maczukin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/0a9a99b9665ab7eda2cd7bffd54b1836?s=80\u0026d=identicon","web_url":"https://gitlab.com/tmaczukin"},"user_notes_count":1,"merge_requests_count":1,"upvotes":5,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/3586","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/3586","notes":"https://gitlab.com/api/v4/projects/278964/issues/3586/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/3586/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#3586","relative":"#3586","full":"gitlab-org/gitlab#3586"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":107,"epic":{"id":179,"iid":107,"title":"Create an Application Control Panel for easy configuration of app behavior","url":"/groups/gitlab-org/-/epics/107","group_id":9970,"human_readable_end_date":"Jun 22, 2018","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":24657357,"iid":19646,"project_id":278964,"title":"Improve consistency and usability of search results for issue/MR by iid (and more)","description":"### Description\n\n- On gitlab.com (uses elastic search):\n  - Typing `#42` in the navbar search returns all issues with iid 42 across all projects but defaults to `Projects` tab, which is empty.\n  - Typing `#42` in the navbar search when scoped by \"this project\" within gitlab-org/gitlab-ce returns issue with iid 42.\n  - Typing `#42` in the issue filter on the issue list returns issues that have `#42` in the content, but not issue 42.\n- On our instance (no elastic search):\n  - Typing `#42` in the global search returns all issues with iid 42 across all projects but defaults to `Projects` tab, which is empty.\n  - Typing `#42` in the global search scoped by \"this project\" on a given project which has an issue with iid 42 **does not** return said issue.\n  - Typing `#42` in the issue filter on the issue list returns issues that have gitlab-ce#42 in the content, but not issue 42.\n- At no point typing `#` in the field provided autocompletion as when typing in an issue/comment field.\n\n### Proposal\n\n- In navbar search when scoped by the project, when `#`is typed, provide a list of matching issues in the dropdown behaving in the same way as within description/comment textareas, and go directly to the issue, not to search results.\n- In navbar search when unscoped, there should be some feedback indicating that the `#` prefix is being recognised and that it'll search for an exact issue id match. Perform some autocompletion if at all possible (performance concerns? many projects UI?). Once search is triggered, the search result should go directly to `Issues` tab.\n- In issue list filter (and board list filter), make `#` a search token (like `author:`) which lists only the issue with matching iid.\n- Make it work whether or not Elastic Search is enabled.\n- Make it work for other prefixes such as `!`.\n\n### Links / references\n\n### Documentation blurb\n\n#### Overview\n\n##### What is it?\n\nSearch by issue id for super-quick access.\n\n##### Why should someone use this feature?\n\nSomeone is handed an issue id via side channels such as over the phone, during meetings, referenced  in a third-party application, or even via text-based means but without a link.\n\n##### What is the underlying (business) problem?\n\nOverall useful, but especially so for support teams. Going to a random issue then editing the iid part of the URL gets old quickly.\n\n##### How do you use this feature?\n\nType `#` in various search boxes that lend themselves to returning issues.\n\n#### Use cases\n\n- Developers discuss issues in a meeting and need to quickly jump to a couple of issues they know the id of.\n- Hallway hailing, someone says: \"Hey, gotta go quickly. BTW, can you look at issue 42? See ya!\"\n- A support team membre has a customer on the phone: \"What's your ticket number?\", \"42\".\n\n### Feature checklist\n\nMake sure these are completed before closing the issue,\nwith a link to the relevant commit.\n\n- [ ] [Feature assurance](https://about.gitlab.com/handbook/product/#feature-assurance)\n- [ ] Documentation\n- [ ] Added to [features.yml](https://gitlab.com/gitlab-com/www-gitlab-com/blob/master/data/features.yml)","state":"closed","created_at":"2017-09-27T09:15:51.375Z","updated_at":"2022-05-31T12:05:15.716Z","closed_at":"2022-03-21T20:39:39.532Z","closed_by":{"id":5724558,"username":"JohnMcGuire","name":"John McGuire","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5724558/avatar.png","web_url":"https://gitlab.com/JohnMcGuire"},"labels":["Category:Global Search","Create [DEPRECATED]","[deprecated] Accepting merge requests","auto updated","awaiting feedback","customer","devops::data_stores","group::global search","issues","merge requests","section::enablement","type::feature","won't do"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":30516,"username":"lloeki","name":"Loic Nageleisen","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/30516/avatar.png","web_url":"https://gitlab.com/lloeki"},"type":"ISSUE","assignee":null,"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/19646","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/19646","notes":"https://gitlab.com/api/v4/projects/278964/issues/19646/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/19646/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#19646","relative":"#19646","full":"gitlab-org/gitlab#19646"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":1505,"epic":{"id":8506,"iid":1505,"title":"UX Search Enhancements for Advanced Global Search","url":"/groups/gitlab-org/-/epics/1505","group_id":9970},"iteration":null,"health_status":null},{"id":6978504,"iid":3566,"project_id":278964,"title":"Broken link in https://docs.gitlab.com/ee/user/project/issue_board.html#group-level-issue-boards","description":"`The GitLab Enterprise Edition 10.0 Premium` link in the page above 404s: It points at: https://about.gitlab.com/2017/9/22/gitlab-10-0-released/#group-level-issue-boards","state":"closed","created_at":"2017-09-27T08:04:43.121Z","updated_at":"2019-08-12T15:46:57.994Z","closed_at":"2017-09-27T13:04:17.325Z","closed_by":null,"labels":["Enterprise Edition"],"milestone":null,"assignees":[],"author":{"id":739361,"username":"Elsje","name":"Elsje Smart","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/739361/avatar.png","web_url":"https://gitlab.com/Elsje"},"type":"ISSUE","assignee":null,"user_notes_count":1,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/3566","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":9,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/3566","notes":"https://gitlab.com/api/v4/projects/278964/issues/3566/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/3566/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#3566","relative":"#3566","full":"gitlab-org/gitlab#3566"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":24657227,"iid":19590,"project_id":278964,"title":"Feature Request: Use \"frequently visited\" projects from navbar to seed other project dropdowns.","description":"The new menubar's projects dropdown contains a \"frequently visited\" section that retains a list of projects within the browser's localStorage.\n\nSince we are already collecting this data, I think it would make sense to use it in other places as well.  Like, for instance, the \"create new issue\" dropdown should show frequently visited projects first:\n\nnavbar dropdown | new issue dropdown\n----- | -----\n![Screen_Shot_2017-09-20_at_10.56.25_PM](/uploads/e3810e126fd336a80a62b83b971cf9a3/Screen_Shot_2017-09-20_at_10.56.25_PM.png) | ![Screen_Shot_2017-09-20_at_10.56.14_PM](/uploads/6d5880c8031a4d2a2d31746e748997cf/Screen_Shot_2017-09-20_at_10.56.14_PM.png)","state":"closed","created_at":"2017-09-21T20:34:27.526Z","updated_at":"2020-10-30T17:32:44.548Z","closed_at":"2020-10-30T17:32:44.525Z","closed_by":{"id":5212466,"username":"ericschurter","name":"Eric Schurter","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5212466/avatar.png","web_url":"https://gitlab.com/ericschurter"},"labels":["Category:Navigation \u0026 Settings","UX","[deprecated] Accepting merge requests","devops::create","feature::enhancement","frontend","group::static site editor [DEPRECATED]","section::dev","type::feature"],"milestone":null,"assignees":[],"author":{"id":636429,"username":"mikegreiling","name":"Mike Greiling","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/636429/avatar.png","web_url":"https://gitlab.com/mikegreiling"},"type":"ISSUE","assignee":null,"user_notes_count":13,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/19590","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/19590","notes":"https://gitlab.com/api/v4/projects/278964/issues/19590/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/19590/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#19590","relative":"#19590","full":"gitlab-org/gitlab#19590"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3385,"epic":{"id":57686,"iid":3385,"title":"Priority 3: GitLab navigation: Improve findability and wayfinding across GitLab","url":"/groups/gitlab-org/-/epics/3385","group_id":9970,"human_readable_end_date":"Nov 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":6897330,"iid":3503,"project_id":278964,"title":"git merge-base web api","description":"### Description\n\nprovide 'git merge-base' web api\n\n### Proposal\n\nAdd a web api that provides the results of a 'git merge-base' between two or more refs\n\n### Links / references\n\n### Documentation blurb\n\n#### Overview\n\ngit merge-base is a useful tool for finding a common ancestor between branches\n\n#### Use cases\n\nThe team I work with is currently running a local mirror of a GitLab repo so that they can run \"git merge-base\" and get the results for their toolchain. I would like them to just use the web api to get this information, but such an API does not exist and maintaining a local mirror for them is tech debt that I do not want\n\n### Feature checklist\n\nMake sure these are completed before closing the issue,\nwith a link to the relevant commit.\n\n- [ ] [Feature assurance](https://about.gitlab.com/handbook/product/#feature-assurance)\n- [ ] Documentation\n- [ ] Added to [features.yml](https://gitlab.com/gitlab-com/www-gitlab-com/blob/master/data/features.yml)","state":"closed","created_at":"2017-09-20T21:44:14.989Z","updated_at":"2019-08-12T15:47:23.058Z","closed_at":"2018-08-01T17:54:05.943Z","closed_by":{"id":1187333,"username":"jramsay-gitlab","name":"James Ramsay (ex-GitLab)","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1187333/avatar.png","web_url":"https://gitlab.com/jramsay-gitlab"},"labels":["Create [DEPRECATED]","Enterprise Edition","[deprecated] Accepting merge requests","api","backend","customer","devops::create","repository","type::feature","workflow::in review"],"milestone":{"id":502939,"iid":17,"group_id":9970,"title":"11.3","description":"","state":"closed","created_at":"2018-04-09T17:59:35.838Z","updated_at":"2018-11-06T19:17:11.721Z","due_date":"2018-09-22","start_date":"2018-08-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/17"},"assignees":[{"id":171554,"username":"reprazent","name":"Bob Van Landuyt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/171554/avatar.png","web_url":"https://gitlab.com/reprazent"}],"author":{"id":583587,"username":"jasondearte","name":"Jason De Arte","state":"active","avatar_url":"https://secure.gravatar.com/avatar/0110fcaa0a202d6f3958b57b06721ab7?s=80\u0026d=identicon","web_url":"https://gitlab.com/jasondearte"},"type":"ISSUE","assignee":{"id":171554,"username":"reprazent","name":"Bob Van Landuyt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/171554/avatar.png","web_url":"https://gitlab.com/reprazent"},"user_notes_count":17,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/3503","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/3503","notes":"https://gitlab.com/api/v4/projects/278964/issues/3503/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/3503/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#3503","relative":"#3503","full":"gitlab-org/gitlab#3503"},"severity":"UNKNOWN","moved_to_id":13169424,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":6891459,"iid":3494,"project_id":278964,"title":"The Admin Panel should easily show what edition of EE you are using.","description":"We currently show features which you can use to deduce which version you are on, but from a customer perspective communicating with us, it should be really easy to confirm that they are on EE Starter or EE Premium (or Ultimate)\n\n![image](/uploads/b788c6ac9203d20ebf09f9c7e5447bb5/image.png)","state":"closed","created_at":"2017-09-20T13:56:38.720Z","updated_at":"2020-10-06T13:59:59.855Z","closed_at":"2019-11-12T00:53:18.959Z","closed_by":{"id":1903246,"username":"tipyn","name":"Luca Kisielius","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1903246/avatar.png","web_url":"https://gitlab.com/tipyn"},"labels":["1st contribution","Enterprise Edition","UI polish","UX","[deprecated] 🍎","admin dashboard","devops::fulfillment","frontend","group::purchase","priority::4","section::fulfillment","vintage"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":695248,"username":"lbot","name":"Lee Matos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/695248/avatar.png","web_url":"https://gitlab.com/lbot"},"type":"ISSUE","assignee":null,"user_notes_count":18,"merge_requests_count":0,"upvotes":4,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/3494","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/3494","notes":"https://gitlab.com/api/v4/projects/278964/issues/3494/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/3494/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#3494","relative":"#3494","full":"gitlab-org/gitlab#3494"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":6890304,"iid":3492,"project_id":278964,"title":"Progressively enable elasticsearch for indexed projects","description":"Currently on GitLab.com, we're engaging in backfill to get all our projects indexed. Until that's complete, the ES index we're building is expensive and unused. We can't even evalute its usefulness until the whole process is completed.\n\nFor *project* search, we could switch between ordinary or elasticsearch depending on whether the project has been indexed or not. We have some data for that in the `index_status` table. All we need to add is tracking for wiki and database indexing (perhaps simple booleans in that table).\n\nConceivably, we could extend this to group search as well (\"use elasticsearch if all projects in this group are indexed, otherwise normal search\"), but application search would still need to be manually enabled / disabled.\n\n/cc @smcgivern @vsizov @victorcete","state":"closed","created_at":"2017-09-20T12:26:14.804Z","updated_at":"2022-05-31T12:05:16.221Z","closed_at":"2020-07-23T21:27:19.940Z","closed_by":{"id":4888751,"username":"changzhengliu","name":"Changzheng Liu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4888751/avatar.png","web_url":"https://gitlab.com/changzhengliu"},"labels":["Category:Global Search","Create [DEPRECATED]","Enterprise Edition","[deprecated] Accepting merge requests","advanced search","backend","devops::data_stores","group::global search"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":572018,"username":"nick.thomas","name":"Nick Thomas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/572018/avatar.png","web_url":"https://gitlab.com/nick.thomas"},"type":"ISSUE","assignee":null,"user_notes_count":15,"merge_requests_count":0,"upvotes":3,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/3492","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/3492","notes":"https://gitlab.com/api/v4/projects/278964/issues/3492/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/3492/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#3492","relative":"#3492","full":"gitlab-org/gitlab#3492"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":428,"epic":{"id":1245,"iid":428,"title":"Elasticsearch admin controls","url":"/groups/gitlab-org/-/epics/428","group_id":9970,"human_readable_end_date":"Jun 30, 2019","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":24656996,"iid":19500,"project_id":278964,"title":"Clean up Prometheus docs","description":"The Prometheus docs are scattered in various places and when I tried to understand things, my brain hurt.\n\nThe main 3 categories are:\n\n- How to set up Prometheus itself\n- How to enable the Prometheus integration service\n- How to make Prometheus gather metrics (and what metrics are supported)\n\nThings are getting interesting when Kubernetes comes into place and the complexity of setting up things sky rockets.\n\nI think the first thing we need to do is restructure some stuff, mostly under `project/integrations/prometheus/`.\n\ncc @joshlambert","state":"closed","created_at":"2017-09-15T09:51:25.142Z","updated_at":"2020-11-16T12:57:48.795Z","closed_at":"2020-07-28T21:34:54.552Z","closed_by":{"id":5133434,"username":"aqualls","name":"Amy Qualls","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5133434/avatar.png","web_url":"https://gitlab.com/aqualls"},"labels":["Category:Metrics","Technical Writing","[deprecated] Accepting merge requests","devops::monitor","docs-only","docs::improvement","documentation","group::respond","missed:12.4","workflow::ready for development"],"milestone":{"id":427853,"iid":10,"group_id":9970,"title":"Next 3-4 releases","description":"Bigger issues we plan to ship in the next 3-4 releases, but don't have a designated release yet. \r\n\r\n\u003e \"An easy way to look at it for me it's translating to months. Since our iterations are 1 month, I look at it as 'within the next 4 months'.\" - @dgruesso [via slack]\r\n\r\nDO NOT add small changes, bugs, regressions to this milestone.","state":"active","created_at":"2017-12-11T16:26:33.141Z","updated_at":"2020-07-14T18:21:29.639Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/10"},"assignees":[{"id":5133434,"username":"aqualls","name":"Amy Qualls","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5133434/avatar.png","web_url":"https://gitlab.com/aqualls"}],"author":{"id":3585,"username":"axil","name":"Achilleas Pipinellis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3585/avatar.png","web_url":"https://gitlab.com/axil"},"type":"ISSUE","assignee":{"id":5133434,"username":"aqualls","name":"Amy Qualls","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5133434/avatar.png","web_url":"https://gitlab.com/aqualls"},"user_notes_count":14,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/19500","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":10,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/19500","notes":"https://gitlab.com/api/v4/projects/278964/issues/19500/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/19500/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#19500","relative":"#19500","full":"gitlab-org/gitlab#19500"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2780,"epic":{"id":26720,"iid":2780,"title":"Create a complete guide for monitoring","url":"/groups/gitlab-org/-/epics/2780","group_id":9970,"human_readable_end_date":"Jul 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":24656972,"iid":19490,"project_id":278964,"title":"Fix offset alignment in sidebar with breadcrumb and GitLab logo button","description":"### Problem\n\nAs can be seen in the following image there are some alignment issues between the breadcrumbs, the GitLab logo button and the items in the sidebar. \n\n![image](/uploads/1b90eb3bc77bfecc7d07a91dd2541b4c/image.png)\n\n### Proposal\n\nThese can probably be cleaned up for a more effecient/cleaner look of the UI","state":"closed","created_at":"2017-09-14T13:39:09.913Z","updated_at":"2022-11-22T20:23:20.740Z","closed_at":"2022-04-25T21:06:01.011Z","closed_by":{"id":6193108,"username":"aregnery","name":"Austin Regnery","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6193108/avatar.png","web_url":"https://gitlab.com/aregnery"},"labels":["Category:Navigation \u0026 Settings","SUS::Impacting","UI polish","UX","awaiting feedback","devops::manage","group::foundations","missed:14.10","navigation","section::dev","severity::4","workflow::in review"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":6193108,"username":"aregnery","name":"Austin Regnery","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6193108/avatar.png","web_url":"https://gitlab.com/aregnery"}],"author":{"id":489558,"username":"dimitrieh","name":"Dimitrie Hoekstra","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/489558/avatar.png","web_url":"https://gitlab.com/dimitrieh"},"type":"ISSUE","assignee":{"id":6193108,"username":"aregnery","name":"Austin Regnery","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6193108/avatar.png","web_url":"https://gitlab.com/aregnery"},"user_notes_count":17,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/19490","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/19490","notes":"https://gitlab.com/api/v4/projects/278964/issues/19490/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/19490/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#19490","relative":"#19490","full":"gitlab-org/gitlab#19490"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3384,"epic":{"id":57664,"iid":3384,"title":"Priority 4B: GitLab navigation - Visual Improvements to Navigation","url":"/groups/gitlab-org/-/epics/3384","group_id":9970,"human_readable_end_date":"May 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":6800800,"iid":3429,"project_id":278964,"title":"Enabling maximum file size limit in repository causes pushes to fail","description":"ZD: https://gitlab.zendesk.com/agent/tickets/82084\n\nSteps to reproduce:\n\n1. In the Push Rules settings under repository (`settings/repository`), set the max file limit to 5 MB.\n1. Attempt to push the GitLab EE repository.\n\nIn the `/internal/allowed` endpoint, Unicorn will eventually gobble a lot of memory, spin, and get killed after exceeding the 60 s timeout:\n\n```\n$ git push stanhu-test --mirror\nCounting objects: 757161, done.\nDelta compression using up to 2 threads.\nCompressing objects: 100% (155822/155822), done.\nWriting objects: 100% (757161/757161), 305.04 MiB | 31.21 MiB/s, done.\nTotal 757161 (delta 596177), reused 753066 (delta 592636)\nremote: Resolving deltas: 100% (596177/596177), done.\nremote: Checking connectivity: 757161, done.\n\nremote: GitLab: Failed to authorize your Git request: internal API unreachable\nTo git@stanhu-geo-primary.gitlap.com:root/gitlab-ee-test3.git\n ! [remote rejected] master -\u003e master (pre-receive hook declined)\n ! [remote rejected] v0.9.4 -\u003e v0.9.4 (pre-receive hook declined)\n ! [remote rejected] v0.9.5 -\u003e v0.9.5 (pre-receive hook declined)\n ! [remote rejected] v0.9.6 -\u003e v0.9.6 (pre-receive hook declined)\n\u003csnip\u003e\n...\n```\n\nWhat's interesting is the strace output looks like an endless re-reading of `gitconfig` files:\n\n```\n10819 stat(\"/var/opt/gitlab/git-data/repositories/root/gitlab-ee-test3.git/config\", 0x7fffb6168200) = 0\n10819 open(\"/var/opt/gitlab/git-data/repositories/root/gitlab-ee-test3.git/config\", O_RDONLY|O_CLOEXEC) = 21\n10819 read(21, \"[core]\\n\\trepositoryformatversion = 0\\n\\tfilemode = true\\n\\tbare = true\\n\", 66) = 66\n10819 close(21)                         = 0\n10819 stat(\"/var/opt/gitlab/.gitconfig\", {st_mode=S_IFREG|0644, st_size=306, ...}) = 0\n10819 open(\"/var/opt/gitlab/.gitconfig\", O_RDONLY|O_CLOEXEC) = 21\n10819 read(21, \"# This file is managed by gitlab-ctl. Manual changes will be\\n# erased! To change the contents below, edit /etc/gitlab/gitlab.rb\\n# and run `sudo gitlab-ctl reconfigure`.\\n\\n[user]\\n        name = GitLab\\n        email = gitlab@stanhu-geo-primary.gitlap.com\\n[core]\\n        autocrlf = input\\n[gc]\\n        auto = 0\\n\", 306) = 306\n10819 close(21)                         = 0\n10819 stat(\"/etc/gitconfig\", {st_mode=S_IFREG|0644, st_size=126, ...}) = 0\n10819 open(\"/etc/gitconfig\", O_RDONLY|O_CLOEXEC) = 21\n10819 read(21, \"[filter \\\"lfs\\\"]\\n\\tclean = git-lfs clean -- %f\\n\\tsmudge = git-lfs smudge -- %f\\n\\tprocess = git-lfs filter-process\\n\\trequired = true\\n\", 126) = 126\n10819 close(21)                         = 0\n10819 stat(\"/var/opt/gitlab/git-data/repositories/root/gitlab-ee-test3.git/config\", {st_mode=S_IFREG|0644, st_size=66, ...}) = 0\n10819 open(\"/var/opt/gitlab/git-data/repositories/root/gitlab-ee-test3.git/config\", O_RDONLY|O_CLOEXEC) = 21\n10819 read(21, \"[core]\\n\\trepositoryformatversion = 0\\n\\tfilemode = true\\n\\tbare = true\\n\", 66) = 66\n10819 close(21)                         = 0\n10819 stat(\"/var/opt/gitlab/.gitconfig\", {st_mode=S_IFREG|0644, st_size=306, ...}) = 0\n10819 open(\"/var/opt/gitlab/.gitconfig\", O_RDONLY|O_CLOEXEC) = 21\n10819 read(21, \"# This file is managed by gitlab-ctl. Manual changes will be\\n# erased! To change the contents below, edit /etc/gitlab/gitlab.rb\\n# and run `sudo gitlab-ctl reconfigure`.\\n\\n[user]\\n        name = GitLab\\n        email = gitlab@stanhu-geo-primary.gitlap.com\\n[core]\\n        autocrlf = input\\n[gc]\\n        auto = 0\\n\", 306) = 306\n10819 close(21)                         = 0\n10819 stat(\"/etc/gitconfig\", {st_mode=S_IFREG|0644, st_size=126, ...}) = 0\n10819 open(\"/etc/gitconfig\", O_RDONLY|O_CLOEXEC) = 21\n10819 read(21, \"[filter \\\"lfs\\\"]\\n\\tclean = git-lfs clean -- %f\\n\\tsmudge = git-lfs smudge -- %f\\n\\tprocess = git-lfs filter-process\\n\\trequired = true\\n\", 126) = 126\n10819 close(21)                         = 0\n10819 sendto(12, \"B\\0\\0\\0\\31\\0a11\\0\\0\\1\\0\\0\\0\\1\\0\\0\\0\\00219\\0\\1\\0\\0D\\0\\0\\0\\6P\\0E\\0\\0\\0\\t\\0\\0\\0\\0\\0S\\0\\0\\0\\4\", 48, MSG_NOSIGNAL, NULL, 0) = 48\n10819 poll([{fd=12, events=POLLIN|POLLERR}], 1, -1) = 1 ([{fd=12, revents=POLLIN}])\n10819 recvfrom(12, \"2\\0\\0\\0\\4T\\0\\0\\0\\34\\0\\1one\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\27\\0\\4\\377\\377\\377\\377\\0\\0C\\0\\0\\0\\rSELECT 0\\0Z\\0\\0\\0\\5I\", 16384, 0, NULL, NULL) = 54\n10819 stat(\"/var/opt/gitlab/git-data/repositories/root/gitlab-ee-test3.git/config\", {st_mode=S_IFREG|0644, st_size=66, ...}) = 0\n10819 open(\"/var/opt/gitlab/git-data/repositories/root/gitlab-ee-test3.git/config\", O_RDONLY|O_CLOEXEC) = 21\n10819 read(21, \"[core]\\n\\trepositoryformatversion = 0\\n\\tfilemode = true\\n\\tbare = true\\n\", 66) = 66\n10819 close(21)                         = 0\n10819 stat(\"/var/opt/gitlab/.gitconfig\", {st_mode=S_IFREG|0644, st_size=306, ...}) = 0\n10819 open(\"/var/opt/gitlab/.gitconfig\", O_RDONLY|O_CLOEXEC) = 21\n10819 read(21, \"# This file is managed by gitlab-ctl. Manual changes will be\\n# erased! To change the contents below, edit /etc/gitlab/gitlab.rb\\n# and run `sudo gitlab-ctl reconfigure`.\\n\\n[user]\\n        name = GitLab\\n        email = gitlab@stanhu-geo-primary.gitlap.com\\n[core]\\n        autocrlf = input\\n[gc]\\n        auto = 0\\n\", 306) = 306\n10819 close(21)                         = 0\n10819 stat(\"/etc/gitconfig\", {st_mode=S_IFREG|0644, st_size=126, ...}) = 0\n10819 open(\"/etc/gitconfig\", O_RDONLY|O_CLOEXEC) = 21\n10819 read(21, \"[filter \\\"lfs\\\"]\\n\\tclean = git-lfs clean -- %f\\n\\tsmudge = git-lfs smudge -- %f\\n\\tprocess = git-lfs filter-process\\n\\trequired = true\\n\", 126) = 126\n```\n\n/cc: @lbot","state":"closed","created_at":"2017-09-13T05:27:04.419Z","updated_at":"2019-09-10T21:08:01.537Z","closed_at":"2018-04-12T08:46:37.832Z","closed_by":{"id":87854,"username":"DouweM","name":"Douwe Maan","state":"active","avatar_url":"https://secure.gravatar.com/avatar/73d1548ae618321220679b3a4fda7fb1?s=80\u0026d=identicon","web_url":"https://gitlab.com/DouweM"},"labels":["Deliverable","Enterprise Edition","backend","bug::performance","customer","devops::create","gitlab.com","missed-deliverable","production request","repository","workflow::in review"],"milestone":{"id":445863,"iid":12,"group_id":9970,"title":"10.8","description":"https://about.gitlab.com/releases/2018/05/22/gitlab-10-8-released","state":"closed","created_at":"2018-01-16T17:05:23.570Z","updated_at":"2020-04-27T16:29:56.288Z","due_date":"2018-05-22","start_date":"2018-04-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/12"},"assignees":[{"id":280339,"username":"rdavila","name":"Rubén Dávila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/280339/avatar.png","web_url":"https://gitlab.com/rdavila"}],"author":{"id":64248,"username":"stanhu","name":"Stan Hu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/64248/stanhu.jpg","web_url":"https://gitlab.com/stanhu"},"type":"ISSUE","assignee":{"id":280339,"username":"rdavila","name":"Rubén Dávila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/280339/avatar.png","web_url":"https://gitlab.com/rdavila"},"user_notes_count":39,"merge_requests_count":1,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/3429","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/3429","notes":"https://gitlab.com/api/v4/projects/278964/issues/3429/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/3429/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#3429","relative":"#3429","full":"gitlab-org/gitlab#3429"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":180,"epic":{"id":376,"iid":180,"title":"Improve performance of pre-receive hooks","url":"/groups/gitlab-org/-/epics/180","group_id":9970,"human_readable_end_date":"Nov 22, 2018","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":6790144,"iid":3426,"project_id":278964,"title":"Validate custom project metric query before saving","description":"When a user enters a custom Prometheus project query, we should fire it against the Prometheus server to ensure it is still valid. If it is not, we should warn the user to fix the query.\n\n![validate-custom-metric](/uploads/32ab42e07acbf6582dab4548d9dd79ad/validate-custom-metric.png)\n\n* First input is resting state\n* Second input is validation state. Help text changes to show user that something is happening. Validation happens when a user stops typing or focuses outside of the input\n* Third input is the error state. Help text changes to reflect the error and links to documentation. https://prometheus.io/docs/prometheus/latest/querying/basics/\n* Fourth input is success state.","state":"closed","created_at":"2017-09-12T17:22:43.597Z","updated_at":"2019-08-12T15:47:49.556Z","closed_at":"2019-02-07T17:33:57.940Z","closed_by":{"id":502136,"username":"fatihacet","name":"Fatih Acet","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/502136/avatar.png","web_url":"https://gitlab.com/fatihacet"},"labels":["Deliverable","Enterprise Edition","backend","devops::monitor","frontend","release post item","type::feature"],"milestone":{"id":581391,"iid":23,"group_id":9970,"title":"11.8","description":"","state":"closed","created_at":"2018-06-26T15:15:18.359Z","updated_at":"2019-03-08T17:33:19.162Z","due_date":"2019-02-22","start_date":"2019-01-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/23"},"assignees":[{"id":829774,"username":"jivanvl","name":"Jose Ivan Vargas","state":"active","avatar_url":"https://secure.gravatar.com/avatar/730cc1b85a20f2a3891829f7aa198972?s=80\u0026d=identicon","web_url":"https://gitlab.com/jivanvl"},{"id":3163848,"username":"syasonik","name":"Sarah Yasonik","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3163848/avatar.png","web_url":"https://gitlab.com/syasonik"}],"author":{"id":926632,"username":"joshlambert","name":"Joshua Lambert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a0bdc5209b11e9c0953f80234dcb4ffb?s=80\u0026d=identicon","web_url":"https://gitlab.com/joshlambert"},"type":"ISSUE","assignee":{"id":829774,"username":"jivanvl","name":"Jose Ivan Vargas","state":"active","avatar_url":"https://secure.gravatar.com/avatar/730cc1b85a20f2a3891829f7aa198972?s=80\u0026d=identicon","web_url":"https://gitlab.com/jivanvl"},"user_notes_count":27,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/3426","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/3426","notes":"https://gitlab.com/api/v4/projects/278964/issues/3426/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/3426/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#3426","relative":"#3426","full":"gitlab-org/gitlab#3426"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":24656817,"iid":19445,"project_id":278964,"title":"Native Group Milestone page needs same info as Project Milestones","description":"### Description\n\nCurrently the native group milestone page just has **View Issues or Merge Requests in this milestone** message with no issue lists, which the project milestone page does have. There is a milestone cleanup issue https://gitlab.com/gitlab-org/gitlab-ce/issues/35833 but this doesn't look to address this request.\n\n### Proposal\n\nHave the Group Milestone page show the same information as the project milestone pages.\n\nProject | Group\n---- | ----------\n[Screen_Shot_2017-09-12_at_9.51.10_am](/uploads/aea2c1bd8485ef63bd9016ec270aeb69/Screen_Shot_2017-09-12_at_9.51.10_am.png) | [Screen_Shot_2017-09-12_at_9.50.53_am](/uploads/00bd3180714a9700a21790070e5245af/Screen_Shot_2017-09-12_at_9.50.53_am.png)\n\n### Links / references\n\n- [Group Milestone](https://gitlab.com/groups/gitlab-org/milestones/1)\n- [Project Milestone](https://gitlab.com/groups/gitlab-org/milestones/91?title=9.1)\n\n### Feature checklist\n\nMake sure these are completed before closing the issue,\nwith a link to the relevant commit.\n\n- [ ] [Feature assurance](https://about.gitlab.com/handbook/product/#feature-assurance)\n- [ ] Documentation\n- [ ] Added to [features.yml](https://gitlab.com/gitlab-com/www-gitlab-com/blob/master/data/features.yml)","state":"closed","created_at":"2017-09-11T23:57:29.584Z","updated_at":"2022-07-14T23:52:50.172Z","closed_at":"2019-11-19T01:38:58.907Z","closed_by":{"id":2880930,"username":"engwan","name":"Heinrich Lee Yu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2880930/avatar.png","web_url":"https://gitlab.com/engwan"},"labels":["Deliverable","auto updated","backend","devops::plan","frontend","group::project management","milestones","missed-deliverable","needs weight","potential proposal","release post item","type::feature"],"milestone":{"id":891796,"iid":39,"group_id":9970,"title":"12.5","description":"https://about.gitlab.com/releases/2019/11/22/gitlab-12-5-released","state":"closed","created_at":"2019-05-31T08:38:03.087Z","updated_at":"2020-04-27T16:27:03.474Z","due_date":"2019-11-17","start_date":"2019-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/39"},"assignees":[{"id":2880930,"username":"engwan","name":"Heinrich Lee Yu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2880930/avatar.png","web_url":"https://gitlab.com/engwan"}],"author":{"id":1209703,"username":"grantwork","name":"Grant","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1209703/avatar.png","web_url":"https://gitlab.com/grantwork"},"type":"ISSUE","assignee":{"id":2880930,"username":"engwan","name":"Heinrich Lee Yu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2880930/avatar.png","web_url":"https://gitlab.com/engwan"},"user_notes_count":22,"merge_requests_count":0,"upvotes":30,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/19445","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/19445","notes":"https://gitlab.com/api/v4/projects/278964/issues/19445/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/19445/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#19445","relative":"#19445","full":"gitlab-org/gitlab#19445"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":6722712,"iid":3382,"project_id":278964,"title":"postgres_fdw support for Geo secondary node","description":"### Description\n\nGeo secondaries have *two* postgresql databases - a read-only replica of the current production database, and a read-write database containing node-specific data (records of which files have been synced, etc).\n\nIn various places - e.g., https://gitlab.com/gitlab-org/gitlab-ee/issues/3269 but I've seen this pattern elsewhere - we need to perform queries that go across both datasets - projects with a corresponding project registry, etc.\n\n### Proposal\n\nWe can add the read-only secondary replica to the node-specific read-write database as a [Foreign Data Wrapper](https://www.postgresql.org/docs/9.6/static/postgres-fdw.html). This will allow us to do queries in the secondary that make use of both datasets and give us the usual SQL niceties like temporary tables, etc, for otherwise-expensive queries.\n\nI think we should add this support for %10.1 - even if we solve the specific issue in #3269 another way, this is going to be a recurring problem as we try to make Geo scale for GitLab.com\n\nIdeally the setup would be handled entirely by omnibus?\n\n/cc @stanhu @brodock @yorickpeterse \n\n### Links / references\n\nhttps://robots.thoughtbot.com/postgres-foreign-data-wrapper covers fdw / rails integration quite well\n\n### Related issues\n\n- [ ] GeoNodeStatus calculates numbers inefficiently gitlab-org/gitlab-ee#3699\n- [ ] Geo repository sync worker attempts to sync repos on unhealthy shards in non-backfill conditions gitlab-org/gitlab-ee#3690\n- [ ] Improve GitLab Geo backfill so that it can be managed properly at scale gitlab-org/gitlab-ee#3487\n\n### Documentation blurb\n\n#### Overview\n\nWhat is it?\nWhy should someone use this feature?\nWhat is the underlying (business) problem?\nHow do you use this feature?\n\n#### Use cases\n\nWho is this for? Provide one or more use cases.\n\n### Feature checklist\n\nMake sure these are completed before closing the issue,\nwith a link to the relevant commit.\n\n- [ ] [Feature assurance](https://about.gitlab.com/handbook/product/#feature-assurance)\n- [ ] Documentation\n- [ ] Added to [features.yml](https://gitlab.com/gitlab-com/www-gitlab-com/blob/master/data/features.yml)","state":"closed","created_at":"2017-09-08T13:25:31.953Z","updated_at":"2019-12-11T20:11:11.747Z","closed_at":"2017-12-23T00:14:28.539Z","closed_by":null,"labels":["Enterprise Edition","bug::performance","devops::systems","group::geo","type::feature","workflow::in review"],"milestone":{"id":360828,"iid":4,"group_id":9970,"title":"10.4","description":"https://about.gitlab.com/releases/2018/01/22/gitlab-10-4-released","state":"closed","created_at":"2017-08-16T16:52:35.085Z","updated_at":"2020-04-27T16:31:17.439Z","due_date":"2018-01-22","start_date":"2017-12-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/4"},"assignees":[{"id":2293,"username":"brodock","name":"Gabriel Mazetto","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2293/avatar.png","web_url":"https://gitlab.com/brodock"}],"author":{"id":572018,"username":"nick.thomas","name":"Nick Thomas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/572018/avatar.png","web_url":"https://gitlab.com/nick.thomas"},"type":"ISSUE","assignee":{"id":2293,"username":"brodock","name":"Gabriel Mazetto","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2293/avatar.png","web_url":"https://gitlab.com/brodock"},"user_notes_count":15,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/3382","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":6,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 6 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/3382","notes":"https://gitlab.com/api/v4/projects/278964/issues/3382/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/3382/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#3382","relative":"#3382","full":"gitlab-org/gitlab#3382"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":24656751,"iid":19411,"project_id":278964,"title":"Toggling on/off confidentiality and locking of issues/mr","description":"When you turn on/ff confidentially or locking of an issue or mr, you click the button and have to wait for the page to reload. It doesn't appear that anything is happening. We should add our spinner icon to the button while the page reloads to indicate the action is being performed.\n\n#### Design\nThe spinner will show up after users click the button.\n\n| Confidentiality | Lock issue |\n| --------------- | ---------- |\n| ![dropdown-confidentiality-loading](/uploads/0dc0d59eaeb2df6568fcec1a901b947c/dropdown-confidentiality-loading.png) | ![dropdown-lock-loading](/uploads/4450d203368809305e84c649a9fa7a82/dropdown-lock-loading.png) |\n\n**Note: Confidentiality on issues has been completed**","state":"closed","created_at":"2017-09-07T20:17:41.880Z","updated_at":"2022-05-19T16:47:34.612Z","closed_at":"2020-07-30T17:03:21.186Z","closed_by":{"id":5961404,"username":"euko","name":"Eulyeon Ko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5961404/avatar.png","web_url":"https://gitlab.com/euko"},"labels":["UX","UX debt","devops::plan","frontend","group::project management","issues","missed:13.0","missed:13.1","workflow::production"],"milestone":{"id":1233752,"iid":50,"group_id":9970,"title":"13.3","description":"https://about.gitlab.com/releases/2020/08/22/gitlab-13-3-released/","state":"closed","created_at":"2020-04-09T17:39:21.090Z","updated_at":"2022-04-13T14:50:18.976Z","due_date":"2020-08-17","start_date":"2020-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/50"},"assignees":[{"id":5961404,"username":"euko","name":"Eulyeon Ko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5961404/avatar.png","web_url":"https://gitlab.com/euko"}],"author":{"id":516904,"username":"tauriedavis","name":"Taurie Davis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/516904/avatar.png","web_url":"https://gitlab.com/tauriedavis"},"type":"ISSUE","assignee":{"id":5961404,"username":"euko","name":"Eulyeon Ko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5961404/avatar.png","web_url":"https://gitlab.com/euko"},"user_notes_count":26,"merge_requests_count":1,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/19411","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/19411","notes":"https://gitlab.com/api/v4/projects/278964/issues/19411/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/19411/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#19411","relative":"#19411","full":"gitlab-org/gitlab#19411"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2458,"epic":{"id":18042,"iid":2458,"title":"Plan - UX Deficiencies","url":"/groups/gitlab-org/-/epics/2458","group_id":9970,"human_readable_end_date":"Jul 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":24656748,"iid":19409,"project_id":278964,"title":"Close sidebar lock comp dialog when other Edit is clicked","description":"Close sidebar lock comp dialog when other `Edit` is clicked.\n\nhttps://gitlab.com/gitlab-org/gitlab-ce/merge_requests/13963#note_39503092\n\n\u003e If you open up another Edit dropdown, it should close the lock dropdown\n\u003e ![YAuSACOHQP](https://gitlab.com/gitlab-org/gitlab-ce/uploads/af9c0b0be7c8d6c06689228f56ad2a93/YAuSACOHQP.gif)","state":"closed","created_at":"2017-09-07T19:55:30.334Z","updated_at":"2022-07-07T06:16:21.541Z","closed_at":"2022-07-07T06:16:21.528Z","closed_by":{"id":11701495,"username":"deepika.guliani","name":"Deepika Guliani","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11701495/avatar.png","web_url":"https://gitlab.com/deepika.guliani"},"labels":["UX","depth","devops::plan","frontend","group::project management","section::dev","severity::4","workflow::verification"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":11701495,"username":"deepika.guliani","name":"Deepika Guliani","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11701495/avatar.png","web_url":"https://gitlab.com/deepika.guliani"}],"author":{"id":534669,"username":"lbennett","name":"Luke Bennett","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/534669/avatar.png","web_url":"https://gitlab.com/lbennett"},"type":"ISSUE","assignee":{"id":11701495,"username":"deepika.guliani","name":"Deepika Guliani","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11701495/avatar.png","web_url":"https://gitlab.com/deepika.guliani"},"user_notes_count":14,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":false,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/19409","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/19409","notes":"https://gitlab.com/api/v4/projects/278964/issues/19409/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/19409/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#19409","relative":"#19409","full":"gitlab-org/gitlab#19409"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2458,"epic":{"id":18042,"iid":2458,"title":"Plan - UX Deficiencies","url":"/groups/gitlab-org/-/epics/2458","group_id":9970,"human_readable_end_date":"Jul 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":6684741,"iid":3349,"project_id":278964,"title":"Option to enable self approval of merge requests at a project level","description":"### Description\n\nWe use 'group' branches for staging related work before it hits master. For example, a large feature might be 'feature/group' with specific tasks as 'feature/task-1' and 'feature/task-2'. All of the task branches are merged into the group branch via merge requests. To ensure that no integration issues have crept in, prior to the merge to 'master' we also issue a merge request for the group branch. At this point, the merge request contains commits from several developers. In our team, anyone can create the group merge request with the expectation that that person will also participate in its review. \n\nHowever, the creator of the group merge request cannot indicate their approval of the merge via the standard mechanism, as this is restricted by Gitlab. This means that the true review and approval status of the merge request is not reflected or recorded accurately.\n\n### Proposal\n\nAdd an option at the project level to allow creators of merge requests to also approve them. As a small team, we can manage the sensibilities of who is a valid approver via separate mechanisms and do not need this enforced at the software level.\n\n### Links / references\n\nNote that this is very similar to #966, but not limited to 'masters' and controlled via a project setting.\n\n### Design\n- If `Enable self-approval of merge requests` is on, authors will simply be able self-approve, and they see the approve UI.\n- The `question` icon links to the [documentation]() (*The documentation doesn't exist now*).\n\n![c-00-project-settings](/uploads/f63dec4f10f23e0d18aff5bd745a3eb3/c-00-project-settings.png)","state":"closed","created_at":"2017-09-05T16:55:09.207Z","updated_at":"2020-12-08T08:50:26.518Z","closed_at":"2018-09-05T15:36:40.713Z","closed_by":{"id":87854,"username":"DouweM","name":"Douwe Maan","state":"active","avatar_url":"https://secure.gravatar.com/avatar/73d1548ae618321220679b3a4fda7fb1?s=80\u0026d=identicon","web_url":"https://gitlab.com/DouweM"},"labels":["Category:Code Review Workflow","Create [DEPRECATED]","Deliverable","Enterprise Edition","GitLab Starter","approvals","backend","customer+","devops::create","direction","group::code review","merge requests","type::feature","workflow::in review"],"milestone":{"id":502939,"iid":17,"group_id":9970,"title":"11.3","description":"","state":"closed","created_at":"2018-04-09T17:59:35.838Z","updated_at":"2018-11-06T19:17:11.721Z","due_date":"2018-09-22","start_date":"2018-08-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/17"},"assignees":[{"id":11493,"username":"oswaldo","name":"Oswaldo Ferreira","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11493/avatar.png","web_url":"https://gitlab.com/oswaldo"},{"id":577113,"username":"hazelyang","name":"Hazel Yang","state":"active","avatar_url":"https://secure.gravatar.com/avatar/e84e4d70639ad1177276340868d7f074?s=80\u0026d=identicon","web_url":"https://gitlab.com/hazelyang"}],"author":{"id":617730,"username":"martinpengellyphillips","name":"Martin Pengelly-Phillips","state":"active","avatar_url":"https://secure.gravatar.com/avatar/e2ab1463db61f23c895b6f14ad96362c?s=80\u0026d=identicon","web_url":"https://gitlab.com/martinpengellyphillips"},"type":"ISSUE","assignee":{"id":11493,"username":"oswaldo","name":"Oswaldo Ferreira","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11493/avatar.png","web_url":"https://gitlab.com/oswaldo"},"user_notes_count":59,"merge_requests_count":1,"upvotes":15,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/3349","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/3349","notes":"https://gitlab.com/api/v4/projects/278964/issues/3349/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/3349/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#3349","relative":"#3349","full":"gitlab-org/gitlab#3349"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2,"epic":{"id":2,"iid":2,"title":"Increase approvals usage","url":"/groups/gitlab-org/-/epics/2","group_id":9970,"human_readable_end_date":"Sep 22, 2018","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":24656686,"iid":19376,"project_id":278964,"title":"User dropdown in FogBugz import only finds exact matches","description":"### Summary\n\nThe dropdown to map a GitLab user for FogBugz import requires typing the full name.\n\n### Steps to reproduce\n\n- navigate to [FogBugz user mapping](http://localhost:3000/import/fogbugz/user_map)\n\n### What is the current *bug* behavior?\n\nYou need to type the complete name:\n\n![fogbugz-import](/uploads/dfe12127960eeda9f8ef0fe7d5928fbc/fogbugz-import.mp4)\n\n### What is the expected *correct* behavior?\n\nTyping part of the name is sufficient.","state":"closed","created_at":"2017-09-05T09:24:57.847Z","updated_at":"2021-05-19T00:56:56.132Z","closed_at":"2021-05-19T00:52:51.486Z","closed_by":{"id":5247073,"username":"hdelalic","name":"Haris Delalić","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5247073/avatar.png","web_url":"https://gitlab.com/hdelalic"},"labels":["Category:Importers","FogBugz","Importer:FogBugz","UX","[deprecated] Accepting merge requests","default-priority","default-severity","devops::manage","frontend","good for new contributors","group::import","priority::3","section::dev","severity::3","type::bug","type::feature"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":1212235,"username":"winh","name":"Inactive Account","state":"active","avatar_url":"https://secure.gravatar.com/avatar/e34b010c96ff3f44c62cddf66607232a?s=80\u0026d=identicon","web_url":"https://gitlab.com/winh"},"type":"ISSUE","assignee":null,"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/19376","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/19376","notes":"https://gitlab.com/api/v4/projects/278964/issues/19376/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/19376/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#19376","relative":"#19376","full":"gitlab-org/gitlab#19376"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3446,"epic":{"id":60574,"iid":3446,"title":"FogBugz Importer","url":"/groups/gitlab-org/-/epics/3446","group_id":9970},"iteration":null,"health_status":null},{"id":6666392,"iid":3327,"project_id":278964,"title":"Reduce the size of the blobs index","description":"Per https://gitlab.com/gitlab-com/infrastructure/issues/1597#note_39253531\n\nOn GitLab.com, the elasticsearch index is predicted to be absolutely huge. Initially I thought this was dominated by commits, but that doesn't seem to be case.\n\nWe have https://gitlab.com/gitlab-org/gitlab-ee/issues/3217 and https://gitlab.com/gitlab-org/gitlab-ee/issues/2225 to consider ways to reduce the size of the commit documents. Some of the suggestions could apply equally to blobs.\n\nIs there anything else we could do for blobs specifically? Are our analyzers creating grossly bloated indexes? Anything else?\n\n/cc @smcgivern @vsizov","state":"closed","created_at":"2017-09-04T13:34:40.134Z","updated_at":"2022-05-31T12:05:18.677Z","closed_at":"2020-10-19T23:26:18.466Z","closed_by":{"id":120073,"username":"DylanGriffith","name":"Dylan Griffith","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/120073/avatar.png","web_url":"https://gitlab.com/DylanGriffith"},"labels":["Category:Global Search","Create [DEPRECATED]","Enterprise Edition","[deprecated] Accepting merge requests","advanced search","backend","devops::data_stores","group::global search","section::enablement"],"milestone":{"id":1233757,"iid":54,"group_id":9970,"title":"13.7","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:43:14.893Z","updated_at":"2022-04-13T14:51:12.240Z","due_date":"2020-12-17","start_date":"2020-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/54"},"assignees":[],"author":{"id":572018,"username":"nick.thomas","name":"Nick Thomas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/572018/avatar.png","web_url":"https://gitlab.com/nick.thomas"},"type":"ISSUE","assignee":null,"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/3327","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/3327","notes":"https://gitlab.com/api/v4/projects/278964/issues/3327/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/3327/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#3327","relative":"#3327","full":"gitlab-org/gitlab#3327"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3203,"epic":{"id":49763,"iid":3203,"title":"Advanced Global Search Improve and Optimize Recall","url":"/groups/gitlab-org/-/epics/3203","group_id":9970,"human_readable_end_date":"Dec 16, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":6664249,"iid":3326,"project_id":278964,"title":"LicenseHelper uses \"extend self\" inapproriately","description":"Noted in https://gitlab.com/gitlab-org/gitlab-ee/merge_requests/2776#note_39237093\n\nThe `LicenseHelper` module has a number of methods that use instance variables for memoization, or refer to `@project`. At the end of the module, `extend self` is called, encouraging its use as, e.g., `LicenseHelper.show_promotions?(current_user)` in controllers.\n\nUnfortunately, the memoization is stored in the module itself for these calls (so `LicenseHelper.instance_variable_get(\"@show_promotions\")` returns the value), rather than in any instances. So it's cached for the life of the process - whether that's unicorn or a spec run.\n\nWe need to untangle this module and clearly separate out methods that will work when `self == LicenseFinder` from those that won't.\n\nI'll remove memoization for `show_promotions?` in !2776 as that is definitely incorrect - it doesn't take account of the passed-in user, for instance.","state":"closed","created_at":"2017-09-04T11:02:10.884Z","updated_at":"2020-04-09T23:24:36.080Z","closed_at":"2020-04-09T23:24:35.862Z","closed_by":{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"},"labels":["Enterprise Edition","backend","backstage [DEPRECATED]","default-priority","default-severity","devops::fulfillment","devops::growth","maintenance::refactor","priority::3","severity::3","type::bug","vintage","workflow::in review"],"milestone":{"id":1104429,"iid":46,"group_id":9970,"title":"12.10","description":"https://about.gitlab.com/releases/2020/04/22/gitlab-12-10-released","state":"closed","created_at":"2019-12-20T15:15:53.243Z","updated_at":"2020-10-08T12:00:39.852Z","due_date":"2020-04-17","start_date":"2020-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/46"},"assignees":[{"id":5667561,"username":"vshumilo","name":"Vladlena Shumilo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08dfa82785d130c151ab9e21caeab4e3?s=80\u0026d=identicon","web_url":"https://gitlab.com/vshumilo"}],"author":{"id":572018,"username":"nick.thomas","name":"Nick Thomas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/572018/avatar.png","web_url":"https://gitlab.com/nick.thomas"},"type":"ISSUE","assignee":{"id":5667561,"username":"vshumilo","name":"Vladlena Shumilo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08dfa82785d130c151ab9e21caeab4e3?s=80\u0026d=identicon","web_url":"https://gitlab.com/vshumilo"},"user_notes_count":7,"merge_requests_count":1,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/3326","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/3326","notes":"https://gitlab.com/api/v4/projects/278964/issues/3326/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/3326/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#3326","relative":"#3326","full":"gitlab-org/gitlab#3326"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":6575838,"iid":3264,"project_id":278964,"title":"Repository Shortcuts: support remapping of Git repos via SSH","description":"### Problem to solve\n\nCustomer has legacy git repositories that have no namespace, but since GitLab requires a namespace, they need some way to map their old projects to the new GitLab URL. They have thousands of repositories that need to retain their original remote URLs due to automation.\n\n### Further details\n\nThey are going to work around this by using gitolite, modifying gitlab-shell, and hooking into `SSH_ORIGINAL_COMMAND` environment variable to remap the clone. For example, if we need to remap:\n\n```project.git =\u003e namespace/project.git```\n\nThe clone request for `project.git` will appear as `git-upload-pack project.git` in `SSH_ORIGINAL_COMMAND`. They'll remap this to `git-upload-pack namespace/project.git`.\n\nTo avoid having to maintain this, we could support some sort of repository mapping that would automatically do this.\n\n### Proposal\n\nAdd a new Admin API for creating, deleting redirects to Git repos to permit Git repositories to be accessed over SSH or HTTP without a namespace. The API could (but doesn't need to) look like this:\n\n- `GET /api/v4/git_redirects`\n- `PUT /api/v4/git_redirects/\u003cshort\u003e?target=\u003cnamespace\u003e/\u003cproject\u003e` (with project path or ID) (or does POST make more sense?)\n- `DELETE /api/v4/git_redirects/\u003cshort\u003e`\n\nWhen an SSH (or HTTP) connection tries to access `ssh://example.com/\u003cshort\u003e.git` they will transparently access `ssh://example.com/\u003cnamespace\u003e/\u003cproject\u003e.git`","state":"closed","created_at":"2017-08-26T01:19:31.804Z","updated_at":"2021-02-03T21:24:50.024Z","closed_at":"2019-07-08T10:53:29.955Z","closed_by":{"id":1884221,"username":"patrickbajao","name":"Patrick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1884221/avatar.png","web_url":"https://gitlab.com/patrickbajao"},"labels":["Create [DEPRECATED]","Deliverable","Enterprise Edition","GitLab Premium","api","backend","customer+","devops::create","group::source code","repository","type::feature"],"milestone":{"id":693520,"iid":34,"group_id":9970,"title":"12.1","description":"https://about.gitlab.com/releases/2019/07/22/gitlab-12-1-released","state":"closed","created_at":"2018-10-30T16:47:58.826Z","updated_at":"2020-04-27T16:30:09.107Z","due_date":"2019-07-22","start_date":"2019-06-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/34"},"assignees":[{"id":1884221,"username":"patrickbajao","name":"Patrick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1884221/avatar.png","web_url":"https://gitlab.com/patrickbajao"}],"author":{"id":64248,"username":"stanhu","name":"Stan Hu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/64248/stanhu.jpg","web_url":"https://gitlab.com/stanhu"},"type":"ISSUE","assignee":{"id":1884221,"username":"patrickbajao","name":"Patrick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1884221/avatar.png","web_url":"https://gitlab.com/patrickbajao"},"user_notes_count":34,"merge_requests_count":0,"upvotes":3,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/3264","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/3264","notes":"https://gitlab.com/api/v4/projects/278964/issues/3264/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/3264/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#3264","relative":"#3264","full":"gitlab-org/gitlab#3264"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":6563540,"iid":3244,"project_id":278964,"title":"Geo: Track rate of download failures with Prometheus metrics","description":"Right now on our staging Geo cluster is receiving a lot of 404s for file transfers because LFS and attachments don't exist on the primary. We should be tracking the number of errors there so that we can graph it.","state":"closed","created_at":"2017-08-24T18:11:19.816Z","updated_at":"2019-12-11T20:37:39.914Z","closed_at":"2017-11-21T11:20:44.277Z","closed_by":null,"labels":["Enterprise Edition","group::geo","type::feature","workflow::in dev"],"milestone":{"id":360827,"iid":3,"group_id":9970,"title":"10.3","description":"","state":"closed","created_at":"2017-08-16T16:51:52.890Z","updated_at":"2018-03-22T16:15:37.036Z","due_date":"2017-12-22","start_date":"2017-11-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/3"},"assignees":[{"id":59678,"username":"vsizov","name":"Valery Sizov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/59678/avatar.png","web_url":"https://gitlab.com/vsizov"}],"author":{"id":64248,"username":"stanhu","name":"Stan Hu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/64248/stanhu.jpg","web_url":"https://gitlab.com/stanhu"},"type":"ISSUE","assignee":{"id":59678,"username":"vsizov","name":"Valery Sizov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/59678/avatar.png","web_url":"https://gitlab.com/vsizov"},"user_notes_count":3,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/3244","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/3244","notes":"https://gitlab.com/api/v4/projects/278964/issues/3244/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/3244/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#3244","relative":"#3244","full":"gitlab-org/gitlab#3244"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":6563387,"iid":3243,"project_id":278964,"title":"Geo: Check that shard configuration is the same across primary and secondary","description":"Right now it's easy to misconfigure the secondary Geo node so that the storage paths don't match the primary. We should consider sending the configuration to the primary to verify that they are identical, or use some hash to ensure that they are the same.","state":"closed","created_at":"2017-08-24T17:53:00.563Z","updated_at":"2019-12-11T20:11:33.617Z","closed_at":"2018-01-04T21:03:12.280Z","closed_by":null,"labels":["Enterprise Edition","devops::systems","group::geo","workflow::in dev"],"milestone":{"id":360828,"iid":4,"group_id":9970,"title":"10.4","description":"https://about.gitlab.com/releases/2018/01/22/gitlab-10-4-released","state":"closed","created_at":"2017-08-16T16:52:35.085Z","updated_at":"2020-04-27T16:31:17.439Z","due_date":"2018-01-22","start_date":"2017-12-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/4"},"assignees":[{"id":64248,"username":"stanhu","name":"Stan Hu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/64248/stanhu.jpg","web_url":"https://gitlab.com/stanhu"}],"author":{"id":64248,"username":"stanhu","name":"Stan Hu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/64248/stanhu.jpg","web_url":"https://gitlab.com/stanhu"},"type":"ISSUE","assignee":{"id":64248,"username":"stanhu","name":"Stan Hu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/64248/stanhu.jpg","web_url":"https://gitlab.com/stanhu"},"user_notes_count":7,"merge_requests_count":2,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/3243","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/3243","notes":"https://gitlab.com/api/v4/projects/278964/issues/3243/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/3243/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#3243","relative":"#3243","full":"gitlab-org/gitlab#3243"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":6547743,"iid":3225,"project_id":278964,"title":"\"Member Lock\" works with EE 9.5 without license","description":"### Summary\n\n\"Member Lock\" works with EE 9.5 without license\n\n### Steps to reproduce\n\n- Install a Gitlab EE 9.5 and make sure no license is installed\n- Create a group and a project inside the group\n- Check the group settings page\n\n### Example Project\n\nN/A\n\n### What is the current *bug* behavior?\n\n\"Member Lock\" available and functions as if there's EE license.\n\n### What is the expected *correct* behavior?\n\n\"Member Lock\" not shown or greyed out.\n\n### Relevant logs and/or screenshots\n\n![image](/uploads/22ffb777f746c6bd260e00aa4e4d6d7d/image.png)\n--------------\n![image](/uploads/4597f7eb228a606d8a50ddec7c7130f7/image.png)\n--------------\n![image](/uploads/a1de432393cddf978cb7822d3b0e5946/image.png)\n\n\n### Output of checks\n\n#### Results of GitLab environment info\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to GitLab environment info\u003c/summary\u003e\n\u003cpre\u003e\n\nSystem information\nSystem:\t\t\nProxy:\t\tno\nCurrent User:\tgit\nUsing RVM:\tno\nRuby Version:\t2.3.3p222\nGem Version:\t2.6.6\nBundler Version:1.13.7\nRake Version:\t12.0.0\nRedis Version:\t3.2.5\nGit Version:\t2.13.5\nSidekiq Version:5.0.4\nGo Version:\tunknown\n\nGitLab information\nVersion:\t9.5.0-ee\nRevision:\t36112e7\nDirectory:\t/opt/gitlab/embedded/service/gitlab-rails\nDB Adapter:\tpostgresql\nDB Version:\t9.6.3\nURL:\t\thttp://172.16.81.151:6080\nHTTP Clone URL:\thttp://172.16.81.151:6080/some-group/some-project.git\nSSH Clone URL:\tgit@172.16.81.151:some-group/some-project.git\nElasticsearch:\tno\nGeo:\t\tno\nUsing LDAP:\tno\nUsing Omniauth:\tno\n\nGitLab Shell\nVersion:\t5.8.0\nRepository storage paths:\n- default: \t/var/opt/gitlab/git-data/repositories\nHooks:\t\t/opt/gitlab/embedded/service/gitlab-shell/hooks\nGit:\t\t/opt/gitlab/embedded/bin/git\n\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n#### Results of GitLab application Check\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to the GitLab application check\u003c/summary\u003e\n\u003cpre\u003e\n\nChecking GitLab Shell ...\n\nGitLab Shell version \u003e= 5.8.0 ? ... OK (5.8.0)\nRepo base directory exists?\ndefault... yes\nRepo storage directories are symlinks?\ndefault... no\nRepo paths owned by git:root, or git:git?\ndefault... yes\nRepo paths access is drwxrws---?\ndefault... yes\nhooks directories in repos are links: ... \n1/1 ... ok\n1/2 ... ok\n1/3 ... ok\n4/4 ... repository is empty\nRunning /opt/gitlab/embedded/service/gitlab-shell/bin/check\nCheck GitLab API access: OK\nAccess to /var/opt/gitlab/.ssh/authorized_keys: OK\nSend ping to redis server: OK\ngitlab-shell self-check successful\n\nChecking GitLab Shell ... Finished\n\nChecking Sidekiq ...\n\nRunning? ... yes\nNumber of Sidekiq processes ... 1\n\nChecking Sidekiq ... Finished\n\nChecking Reply by email ...\n\nReply by email is disabled in config/gitlab.yml\n\nChecking Reply by email ... Finished\n\nChecking LDAP ...\n\nLDAP is disabled in config/gitlab.yml\n\nChecking LDAP ... Finished\n\nChecking GitLab ...\n\nGit configured correctly? ... yes\nDatabase config exists? ... yes\nAll migrations up? ... yes\nDatabase contains orphaned GroupMembers? ... no\nGitLab config exists? ... yes\nGitLab config up to date? ... yes\nLog directory writable? ... yes\nTmp directory writable? ... yes\nUploads directory exists? ... yes\nUploads directory has correct permissions? ... yes\nUploads directory tmp has correct permissions? ... yes\nInit script exists? ... skipped (omnibus-gitlab has no init script)\nInit script up-to-date? ... skipped (omnibus-gitlab has no init script)\nProjects have namespace: ... \n1/1 ... yes\n1/2 ... yes\n1/3 ... yes\n4/4 ... yes\nRedis version \u003e= 2.8.0? ... yes\nRuby version \u003e= 2.3.3 ? ... yes (2.3.3)\nGit version \u003e= 2.7.3 ? ... yes (2.13.5)\nActive users: ... 3\nElasticsearch version 5.1 - 5.3? ... skipped (elasticsearch is disabled)\n\nChecking GitLab ... Finished\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n### Possible fixes\n\nN/A","state":"closed","created_at":"2017-08-23T11:57:17.139Z","updated_at":"2021-02-23T11:34:54.042Z","closed_at":"2018-02-02T17:20:20.184Z","closed_by":null,"labels":["Category:User Management","Deliverable","Enterprise Edition","backend","settings","type::bug","workflow::in review"],"milestone":{"id":404412,"iid":7,"group_id":9970,"title":"10.5","description":"https://about.gitlab.com/releases/2018/02/22/gitlab-10-5-released","state":"closed","created_at":"2017-11-02T10:41:09.107Z","updated_at":"2020-04-27T16:30:54.473Z","due_date":"2018-02-22","start_date":"2018-01-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/7"},"assignees":[],"author":{"id":915692,"username":"xiaogang_gitlab","name":"Xiaogang Wen","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/915692/avatar.png","web_url":"https://gitlab.com/xiaogang_gitlab"},"type":"ISSUE","assignee":null,"user_notes_count":1,"merge_requests_count":3,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/3225","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/3225","notes":"https://gitlab.com/api/v4/projects/278964/issues/3225/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/3225/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#3225","relative":"#3225","full":"gitlab-org/gitlab#3225"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":24656208,"iid":19206,"project_id":278964,"title":"Make flash notification sticky at top to make it always visible","description":"## Problem\nWe should consider having the top flash notification as sticky to make it always visible on the page.\n\nImagine that in a very long issue with lots of comments, when you perform an action and if it goes wrong on the backend, we show a Flash message at the top of the page but you can only see it when/if you scroll all the way to the top. If we make it sticky, we could see it right away.\n\n### Design\n\n![Screen_Shot_2019-06-13_at_3.19.23_PM](/uploads/b5187f6ade0cd42b690ccccda1e57714/Screen_Shot_2019-06-13_at_3.19.23_PM.png)\n\n- Banner should show up at the top of viewport (let's try `56px` from the top of the entire page)\n- Banner should be `fixed` and dismissible \n- Spec previews: https://gitlab-org.gitlab.io/gitlab-design/hosted/design-gitlab-specs/error-banners-spec-previews/\n- `box-shadow: 0 2px 4px 0 rgba(0,0,0,0.25);`\n\n\u003cdetails\u003e\nHere is a gif to show the issue better.\n\n![_](https://gitlab.com/gitlab-org/gitlab-ce/uploads/8afde088a031b21bea2526ec7f00d1ce/bad-flash-banner-sm.gif)\n\u003c/details\u003e","state":"closed","created_at":"2017-08-21T21:01:46.501Z","updated_at":"2022-05-19T16:49:03.760Z","closed_at":"2019-09-16T07:50:19.598Z","closed_by":{"id":502136,"username":"fatihacet","name":"Fatih Acet","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/502136/avatar.png","web_url":"https://gitlab.com/fatihacet"},"labels":["Pajamas","UI polish","UX","UX debt","devops::plan","frontend","group::project management","internal customer","issues","missed:11.11","priority::3","workflow::in dev"],"milestone":{"id":731038,"iid":37,"group_id":9970,"title":"12.3","description":"https://about.gitlab.com/releases/2019/09/22/gitlab-12-3-released/","state":"closed","created_at":"2018-12-07T12:40:55.400Z","updated_at":"2020-04-23T21:06:04.173Z","due_date":"2019-09-17","start_date":"2019-08-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/37"},"assignees":[{"id":201566,"username":"annabeldunstone","name":"Annabel Dunstone Gray","state":"active","avatar_url":"https://secure.gravatar.com/avatar/85c0203926134720f9a9aa8c6e264c78?s=80\u0026d=identicon","web_url":"https://gitlab.com/annabeldunstone"},{"id":502136,"username":"fatihacet","name":"Fatih Acet","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/502136/avatar.png","web_url":"https://gitlab.com/fatihacet"},{"id":3617348,"username":"uhlexsis","name":"Alexis Ginsberg","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3617348/avatar.png","web_url":"https://gitlab.com/uhlexsis"}],"author":{"id":502136,"username":"fatihacet","name":"Fatih Acet","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/502136/avatar.png","web_url":"https://gitlab.com/fatihacet"},"type":"ISSUE","assignee":{"id":201566,"username":"annabeldunstone","name":"Annabel Dunstone Gray","state":"active","avatar_url":"https://secure.gravatar.com/avatar/85c0203926134720f9a9aa8c6e264c78?s=80\u0026d=identicon","web_url":"https://gitlab.com/annabeldunstone"},"user_notes_count":62,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/19206","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/19206","notes":"https://gitlab.com/api/v4/projects/278964/issues/19206/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/19206/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#19206","relative":"#19206","full":"gitlab-org/gitlab#19206"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":6484397,"iid":3195,"project_id":278964,"title":"Improve Geo Nodes admin screen","description":"### Description\n\nThis is how our Geo Nodes admin screen look like today:\n![geonodes](/uploads/e40c0106891d5398c4caf6798b6b2580/geonodes.png)\n\nThere are a lot of information and concerns in a single screen:\n\n* CRUD\n* Monitoring\n* Health Checking and Error displaying\n* Disabling / Re-enabling replication\n* Repairing configuration (if some of dependencies are removed a button to repair shows up next to the Node).\n* Selective replication (you can choose a node to sync only specified namespaces)\n\n### Proposal / Questions\n\nWe need UX work here. Few things in my mind:\n\n* We may want to hide the form and show it only when the user clicks a \"Add a new Geo node\" button\n* We need a \"hero\" onboarding instruction (perhaps this is what I meant: https://gitlab.com/gitlab-org/gitlab-ee/issues/1363)\n* There are a lot of tabular information need to rethink something\n* We display percentage of completude, perhaps we can show a nice progress bar or a composed progress bar with different colors for Actual / Remaining / Failed\n* Should we hide the extra information in a collapsable something?\n* How do we display more than one error? \n  - Where do we display then? \n  - Should we have a \"checklist\" with \"green\" and \"red\" dots for everything we are testing on behalf of our user?\n* How do we display / communicate selective replication? \n  - Should we have icons for \"full\" and \"selective\"? \n  - Should we display all selected namespaces, or hide it into a collapsable something? in a modal? New page? \n\nWe are not finished yet on the amount of things we want to communicate, there are this other issues on the backlog:\n\n* https://gitlab.com/gitlab-org/gitlab-ee/issues/1929\n* https://gitlab.com/gitlab-org/gitlab-ee/issues/1996\n* https://gitlab.com/gitlab-org/gitlab-ee/issues/1957 (we've already implemented most of it but there are things remaining) \n* https://gitlab.com/gitlab-org/gitlab-ee/issues/1751\n* https://gitlab.com/gitlab-org/gitlab-ee/issues/727\n* https://gitlab.com/gitlab-org/gitlab-ee/issues/1285\n* https://gitlab.com/gitlab-org/gitlab-ee/issues/2968\n\n#### Design\n\n- If there are no nodes on 'Geo Nodes' page, it will show the empty state from https://gitlab.com/gitlab-org/gitlab-ee/issues/1363.\n- If there are nodes on 'Geo Nodes' page, only the 'Geo nodes' table will be displayed. (_Mockup 01_)\n * The 'Add new node' form is removed from this page and displays on a separate page. (_Mockup 02_)\n- On 'New node' and 'Edit Geo Node' pages, if `[] This is primary node` is checked, `Public key` and `Namespaces to replicate` will be hidden.(_Mockup 03_)\n\n##### Progress bar\n- It includes the numbers of 'Synced', 'Failed', and 'Out of sync' in the progress bar.\n- When the mouse is over the progress bar, a tooltip with the percentage will show up.\n\n##### Selective replications\n- The selective replications aren't displayed on 'Geo Nodes' page. Considering that there might be thousands of replications, so they will only be shown in the 'edit form'.\n- Instead, only the status of sync setting will be displayed.\n\n##### Last event info\n- Last event info displays next to status of Selective replications.\n- 5 minutes up to 1 hour: A tooltip with `Node is slow, overloaded, or it just recovered after an outage.` shows up when it's hovering.\n- Over 1 hour: A tooltip with `Node is failing or broken.` shows up when the mouse is over the text.\n\n| Up to 5 minutes | 5 minutes up to 1 hour | Over 1 hour |\n| --------------- | ---------------------- | ----------- |\n| ![sync-settings--up-to-5-mins](/uploads/b272e68bd8fa0eddcfee8cf19ec90640/sync-settings--up-to-5-mins.png) | ![sync-settings--5mins-to-1-hour](/uploads/674cb5d9419db83827c01f6e14cab4cf/sync-settings--5mins-to-1-hour.png) | ![sync-settings--over-1-hour](/uploads/bf0cc6cd7d50f15f8b789a0c080d3be8/sync-settings--over-1-hour.png) |\n\n##### Errors\n- If there is more than one error, the second error displays under the first error. Users can expand the error message if it has detail information (e.g. health checklist). (_Mockup 05_)\n\n| 01 | 02 |\n| -- | -- | \n| ![01-default](/uploads/cca534f7aad94acffc03ed97cf783bbf/01-default.png) | ![02-new-node](/uploads/7c720e6647f931df6fd8d87f4b91444f/02-new-node.png) |\n\n| 03 | 04 - Edit Geo Node | \n| -- | -- | \n| ![02-new-node--primary](/uploads/4a2694b9622aa586cd5afba111ff8151/02-new-node--primary.png) | ![04-edit-form](/uploads/f2a5952dea19b8f65326457808e05388/04-edit-form.png) | \n\n| 05 - Erros |\n| -- |\n| ![05-errors](/uploads/cc132b7b944a7ef129dd70aff9ec1076/05-errors.png) |\n\n##### Icons used both in errors and last event info\n- [Warning](https://gitlab.com/gitlab-org/gitlab-svgs/blob/master/sprite_icons/warning.svg)\n- [Check](https://gitlab.com/gitlab-org/gitlab-svgs/blob/master/sprite_icons/issue-close.svg)\n\n##### Icon used in last event info\n- [Sync](https://gitlab.com/gitlab-org/gitlab-svgs/blob/master/sprite_icons/retry.svg)\n\n##### The colors for the bars:\n- Failed: \n * Background - `$red-500`\n * Hover - `$red-600`\n * Font - `$white`\n- Synced: \n * Background - `$green-500`\n * Hover - `$green-600`\n * Font - `$white`\n- Waiting:\n * Background - `$grey-200`\n * Hover - `$grey-300`\n * Font - `$grey-700`\n- Not available:\n * Background - `$grey-100`\n * Font - `$grey-600`\n\n##### Design for the mobile:\n[geo-admin--mobile](/uploads/217171e6106dab15b7b65a3857261d34/geo-admin--mobile.png)\n\n\ncc @stanhu @dbalexandre @to1ne @rspeicher","state":"closed","created_at":"2017-08-18T02:20:52.994Z","updated_at":"2019-12-11T20:11:40.466Z","closed_at":"2017-12-07T18:06:49.445Z","closed_by":null,"labels":["Deliverable","Enterprise Edition","admin dashboard","devops::systems","frontend","group::geo","workflow::in review"],"milestone":{"id":360827,"iid":3,"group_id":9970,"title":"10.3","description":"","state":"closed","created_at":"2017-08-16T16:51:52.890Z","updated_at":"2018-03-22T16:15:37.036Z","due_date":"2017-12-22","start_date":"2017-11-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/3"},"assignees":[{"id":411701,"username":"kushalpandya","name":"Kushal Pandya","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/411701/avatar.png","web_url":"https://gitlab.com/kushalpandya"},{"id":577113,"username":"hazelyang","name":"Hazel Yang","state":"active","avatar_url":"https://secure.gravatar.com/avatar/e84e4d70639ad1177276340868d7f074?s=80\u0026d=identicon","web_url":"https://gitlab.com/hazelyang"}],"author":{"id":2293,"username":"brodock","name":"Gabriel Mazetto","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2293/avatar.png","web_url":"https://gitlab.com/brodock"},"type":"ISSUE","assignee":{"id":411701,"username":"kushalpandya","name":"Kushal Pandya","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/411701/avatar.png","web_url":"https://gitlab.com/kushalpandya"},"user_notes_count":87,"merge_requests_count":1,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/3195","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":6,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/3195","notes":"https://gitlab.com/api/v4/projects/278964/issues/3195/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/3195/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#3195","relative":"#3195","full":"gitlab-org/gitlab#3195"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":6476320,"iid":3188,"project_id":278964,"title":"LDAP - Support user-level filters / mappings offering finer level of control than just Group mappings","description":"### Description\n\n```\nProblem: Currently GitLab groups only support LDAP group mappings wholesale, meaning a GitLab group will get all the users in the ldap group.\nWe would like the ability to map GitLab groups with one of the following two ways:\nWork just like the GitLab Access: be able to define a base and a user filter with it\nHow it works today with an ldap group to the GitLab Group\nWe need the user filter option as we need to have a GitLab group that includes all Full Time Employees (FTE) who are developers and active employees.  These users span across all business units of the company, there is no single group that includes all of these users.  Without this enhancement I will have to create a script to manually create a group for this either in GitLab or an Ldap group that can be mapped to the GitLab Group.\nIn this case the base would be: dc=customer_name,dc=com\nThe user filter may be something like: \n(\u0026(objectcategory=person)(objectclass=user)(extensionAttribute20=FTE)(|(extensionAttribute501=developer)(extensionAttribute501=technical))\nIn this case extensionAttribute20 defines Full Time Employee, and extensionAttribute501 defines they have the role of developer or technical.  This example would work with GitLab access.\n```\n\nWe have several other cases that are similar, for example we want to create a group for each business unit for users with a specific security level.\n\nA lot of our access is not defined through groups which is why we need the ability to make this more dynamic.\n\n#### Use cases\n\nCustomer Reference: https://gitlab.my.salesforce.com/0016100000KvaIg\n\n### Proposal\n\n- Keep the “LDAP group cn” field as it is today\n- Add a “LDAP user filter” text field that is validated for the correct syntax\n- Add an exclusivity behavior where the user either uses the “LDAP group cn” field or the “LDAP filter” field (I'll be looking into this)\n- For synchronizations in the “Linked LDAP groups” list that use a LDAP filter, show the full query\n\n### Design\n\n| LDAP group cn | LDAP user filter |\n|---------------|------------------|\n| ![ldap-group-cn](/uploads/717417b2372cd4e4195f7970fb2a4a44/ldap-group-cn.png) | ![ldap-user-filter](/uploads/b9dada55f56b7e55bdf525e14ad6b9fc/ldap-user-filter.png) |\n\n- Add a “Synch method” field with radio buttons that toggle the “LDAP group cn” and “LDAP user filter” fields\n\n- Add a “LDAP user filter” text field:\n\n    - Placeholder: “e.g. (\u0026(objectCategory=person)(objectClass=developer))”\n\n    - Description: “This query must use valid [LDAP Search Filter Syntax]. Synchronize [GROUP]'s members with this LDAP user filter. If you do not belong to this LDAP user filter you will lose ownership of [GROUP].”\n\n    - The “LDAP Search Filter Syntax” link should point to our own documentation about the syntax (I didn't find any, so it would need to be created) or to an external documentation. In my searches I've found these: [Microsoft](https://msdn.microsoft.com/en-us/library/aa746475(v=vs.85).aspx), [LDAP Explorer](http://www.ldapexplorer.com/en/manual/109010000-ldap-filter-syntax.htm), [CentOS](https://www.centos.org/docs/5/html/CDS/ag/8.0/Finding_Directory_Entries-LDAP_Search_Filters.html).\n- Make the help text of the “LDAP group cn” and “LDAP user filter” fields all in one line\n\n- If an active synchronization is:\n\n    - A group, prefix it with “Group: ”\n\n    - A user filter, prefix it with “User filter: ” and append the full query. Very long queries should be truncated with ellipsis according to the full width of the panel.\n- As this feature won't be limited to just groups anymore (filters allow you to sync across a server):\n\n    - Rename the navigation item from “LDAP Group” to “LDAP”\n\n    - Rename the breadcrumb item from “LDAP Groups” to “LDAP Settings”\n\n    - Rename the page title from “Linked LDAP groups” to “LDAP synchronizations”\n\n    - Rename the list panel from “Linked LDAP groups” “Active synchronizations”\n\n    - (Not in the images) Rename the red “unlink” button to “Remove”\n\n### Feature checklist","state":"closed","created_at":"2017-08-17T10:27:12.579Z","updated_at":"2019-08-12T15:48:51.563Z","closed_at":"2017-09-28T12:09:40.268Z","closed_by":null,"labels":["Deliverable","Enterprise Edition","GitLab Premium","backend","customer","ldap","type::feature","workflow::in review"],"milestone":{"id":349690,"iid":1,"group_id":9970,"title":"10.1","description":"","state":"closed","created_at":"2017-07-24T13:26:40.259Z","updated_at":"2018-02-26T11:31:14.294Z","due_date":"2017-10-22","start_date":"2017-09-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/1"},"assignees":[{"id":273486,"username":"jameslopez","name":"James Lopez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/273486/avatar.png","web_url":"https://gitlab.com/jameslopez"},{"id":516904,"username":"tauriedavis","name":"Taurie Davis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/516904/avatar.png","web_url":"https://gitlab.com/tauriedavis"},{"id":626804,"username":"pedroms","name":"Pedro Moreira da Silva","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c306f087d191ac15549f3c11e3bed321?s=80\u0026d=identicon","web_url":"https://gitlab.com/pedroms"}],"author":{"id":1394918,"username":"dt","name":"David Thomas \"DT\"","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1394918/avatar.png","web_url":"https://gitlab.com/dt"},"type":"ISSUE","assignee":{"id":273486,"username":"jameslopez","name":"James Lopez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/273486/avatar.png","web_url":"https://gitlab.com/jameslopez"},"user_notes_count":41,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/3188","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/3188","notes":"https://gitlab.com/api/v4/projects/278964/issues/3188/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/3188/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#3188","relative":"#3188","full":"gitlab-org/gitlab#3188"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":24656114,"iid":19165,"project_id":278964,"title":"Avoid displaying empty list of projects (\"Trending\")","description":"### Description\n\nWhen clicking \"Explore projects\", display \"Most stars\" or \"All\" instead of \"Trending\", when there are no trending projects.\n\n### Proposal\nMy proposal is, to display the \"All\" page, or maybe \"Most stars\" in case there are no \"Trending\" projects.\n\n### Links / references\n\n### Documentation blurb\n\n#### Overview\n\nWhen you want to explore projects, and for some reason, there are no trending projects, it is always one extra moment \"Huh?\" and then an extra click (\"All\") to really explore the projects.\n\nI don't know how \"Trending\" projects are calculated, but for us, the \"Trending\" page is always empty.\n\n#### Use cases\n\nIt's for any user wanting to explore projects. This might make more sense for company/private GitLab instances than public-hosted instances.\n\n### Feature checklist\n\nMake sure these are completed before closing the issue,\nwith a link to the relevant commit.\n\n- [ ] [Feature assurance](https://about.gitlab.com/handbook/product/#feature-assurance)\n- [ ] Documentation\n- [ ] Added to [features.yml](https://gitlab.com/gitlab-com/www-gitlab-com/blob/master/data/features.yml)","state":"closed","created_at":"2017-08-16T08:07:26.191Z","updated_at":"2020-02-04T22:38:56.428Z","closed_at":"2020-01-31T20:34:01.831Z","closed_by":{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"},"labels":["auto updated","customer","devops::manage","frontend","group::optimize","potential proposal","type::feature"],"milestone":{"id":1001915,"iid":43,"group_id":9970,"title":"12.8","description":"https://about.gitlab.com/releases/2020/02/22/gitlab-12-8-released","state":"closed","created_at":"2019-09-15T20:53:58.792Z","updated_at":"2020-05-19T14:23:44.837Z","due_date":"2020-02-17","start_date":"2020-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/43"},"assignees":[{"id":4512390,"username":"djensen","name":"Dan Jensen","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4512390/avatar.png","web_url":"https://gitlab.com/djensen"}],"author":{"id":1479162,"username":"cgpfeiffer","name":"Carsten Pfeiffer","state":"active","avatar_url":"https://secure.gravatar.com/avatar/dd9722e083f80633efdf48d819ca64b5?s=80\u0026d=identicon","web_url":"https://gitlab.com/cgpfeiffer"},"type":"ISSUE","assignee":{"id":4512390,"username":"djensen","name":"Dan Jensen","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4512390/avatar.png","web_url":"https://gitlab.com/djensen"},"user_notes_count":16,"merge_requests_count":1,"upvotes":15,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/19165","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/19165","notes":"https://gitlab.com/api/v4/projects/278964/issues/19165/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/19165/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#19165","relative":"#19165","full":"gitlab-org/gitlab#19165"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":6463223,"iid":3176,"project_id":278964,"title":"Drop unnecessary created_at columns in Geo event log","description":"It looks like the `event_log` table already has a `created_at` entry, while the specific event logs (e.g. `repository_deleted_event`) contain a redundant entry.","state":"closed","created_at":"2017-08-16T07:34:55.727Z","updated_at":"2019-12-11T20:11:41.711Z","closed_at":"2017-09-22T16:23:09.695Z","closed_by":null,"labels":["Enterprise Edition","database","devops::systems","group::geo","maintenance::refactor"],"milestone":{"id":339358,"iid":30,"project_id":278964,"title":"10.0","description":"","state":"closed","created_at":"2017-07-03T13:55:49.909Z","updated_at":"2018-02-26T11:26:06.451Z","due_date":"2017-09-22","start_date":"2017-08-08","expired":true,"web_url":"https://gitlab.com/gitlab-org/gitlab/-/milestones/30"},"assignees":[{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"}],"author":{"id":64248,"username":"stanhu","name":"Stan Hu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/64248/stanhu.jpg","web_url":"https://gitlab.com/stanhu"},"type":"ISSUE","assignee":{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/3176","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/3176","notes":"https://gitlab.com/api/v4/projects/278964/issues/3176/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/3176/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#3176","relative":"#3176","full":"gitlab-org/gitlab#3176"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null}]