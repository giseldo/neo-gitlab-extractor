[{"id":30087182,"iid":145,"project_id":5261717,"title":"Error reporting to VSCode OutputChannel","description":"### Problem to solve\n\nIn my experience today, there was very little information about what was working or not. The side pane simply stayed blank and did not show anything apart from the default text (\"there is no XYZ assigned to you\" etc.). Which makes it very hard to understand at what point something goes wrong or what might be the cause (connection to GitLab? authentication? extension not configured correctly?).\n\n### Proposal\n\nCreating and logging to an OutputChannel (see https://code.visualstudio.com/api/references/vscode-api#window.createOutputChannel) instead of logging to console would probably make it easier for the user to understand what is happening (and what not).\n\n### Further details\n\n#### In scope\n\n- bubble exceptions to the top-level client code (e.g. `extension.js`) and then log them to the output channel\n- make sure that exceptions are not silenced (by empty try/catch blocks)\n- **stretch**: separate exceptions from normal program flow - a lot of code in `git_service.js` and `gitlab_service.js` is using exceptions as a part of normal program flow (e.g. command returning empty result \u0026 command throwing exception is treated the same)\n- making sure that the OutputChannel is shown during automated integratin tests (it will help understanding what's wrong)\n\n#### Out of scope\n\n- \n\n### Links / references\n\n- https://code.visualstudio.com/api/references/vscode-api#window.createOutputChannel","state":"closed","created_at":"2020-01-29T23:19:58.696Z","updated_at":"2023-04-26T10:00:27.496Z","closed_at":"2020-09-21T09:55:01.975Z","closed_by":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3457201/avatar.png","web_url":"https://gitlab.com/viktomas"},"labels":["Category:GitLab CLI","Deliverable","VS Code","devops::create","frontend","group::ide","section::dev","type::feature","workflow::in review"],"milestone":{"id":1233753,"iid":51,"group_id":9970,"title":"13.4","description":"https://about.gitlab.com/releases/2020/09/22/gitlab-13-4-released/","state":"closed","created_at":"2020-04-09T17:39:21.662Z","updated_at":"2022-04-13T14:50:33.769Z","due_date":"2020-09-17","start_date":"2020-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/51"},"assignees":[{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3457201/avatar.png","web_url":"https://gitlab.com/viktomas"}],"author":{"id":2849942,"username":"philip-n","name":"Philip N","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7bfdfa72ea9c849cbd95320d1c2bdaa6?s=80\u0026d=identicon","web_url":"https://gitlab.com/philip-n"},"type":"ISSUE","assignee":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3457201/avatar.png","web_url":"https://gitlab.com/viktomas"},"user_notes_count":9,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab-vscode-extension/-/issues/145","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/5261717/issues/145","notes":"https://gitlab.com/api/v4/projects/5261717/issues/145/notes","award_emoji":"https://gitlab.com/api/v4/projects/5261717/issues/145/award_emoji","project":"https://gitlab.com/api/v4/projects/5261717","closed_as_duplicate_of":null},"references":{"short":"#145","relative":"#145","full":"gitlab-org/gitlab-vscode-extension#145"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":26478886,"iid":129,"project_id":5261717,"title":"Insert Snippets in to current file in VS Code","description":"## Problem to Solve\n\nSnippets inside of a user account must be copy/pasted out of GitLab and into a file when they need to be used in another place. This is error prone and time consuming to context switch and find the appropriate Snippet and then paste the contents in to the file you're working on.\n\n## Proposal\n\nCreate a command for `Insert Snippet` that talks to the GitLab Snippets API to retrieve a list of Snippets and then choose which file to insert.\n\n![image](https://gitlab.com/gitlab-org/gitlab-vscode-extension/uploads/30999d43156eb226d562c61c1d314611/Kapture_2020-09-11_at_11.53.01.gif)\n\n- If a user selects insert snippet from the command palette, display a list of single file project scoped snippets in the modal\n- If a user selects a snippet from the list insert it's content to the editor at the cursor position\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2019-10-30T10:34:50.917Z","updated_at":"2023-04-26T10:00:38.898Z","closed_at":"2020-10-21T13:19:26.946Z","closed_by":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3457201/avatar.png","web_url":"https://gitlab.com/viktomas"},"labels":["Category:GitLab CLI","Category:Source Code Management","Deliverable","UX","VS Code","devops::create","direction","frontend","frontend-weight::3","group::ide","section::dev","snippets","type::feature","workflow::production"],"milestone":{"id":1233754,"iid":52,"group_id":9970,"title":"13.5","description":"https://about.gitlab.com/releases/2020/10/22/gitlab-13-5-released/","state":"closed","created_at":"2020-04-09T17:39:21.990Z","updated_at":"2022-04-21T07:21:12.213Z","due_date":"2020-10-17","start_date":"2020-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/52"},"assignees":[{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3457201/avatar.png","web_url":"https://gitlab.com/viktomas"}],"author":{"id":1083559,"username":"giuseslab","name":"Giuseppe Pagano","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1083559/avatar.png","web_url":"https://gitlab.com/giuseslab"},"type":"ISSUE","assignee":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3457201/avatar.png","web_url":"https://gitlab.com/viktomas"},"user_notes_count":57,"merge_requests_count":0,"upvotes":4,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab-vscode-extension/-/issues/129","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/5261717/issues/129","notes":"https://gitlab.com/api/v4/projects/5261717/issues/129/notes","award_emoji":"https://gitlab.com/api/v4/projects/5261717/issues/129/award_emoji","project":"https://gitlab.com/api/v4/projects/5261717","closed_as_duplicate_of":null},"references":{"short":"#129","relative":"#129","full":"gitlab-org/gitlab-vscode-extension#129"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3661,"epic":{"id":70999,"iid":3661,"title":"VS Code Snippets Improvements","url":"/groups/gitlab-org/-/epics/3661","group_id":9970,"human_readable_end_date":"Oct 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":21291743,"iid":103,"project_id":5261717,"title":"API calls fail when the GitLab instance is on a custom path, but the git remote isn't","description":"## Summary\n\nThe API calls are not working when the `gitlab.instanceUrl` setting contains a custom path, but the `git remote` URL doesn't.\n\nExample:\n\n```\n\"gitlab.instanceUrl\": \"http://aom-int/gitlab\",\n```\n\nand `git remote`:\n\n```\ngit@aom-int:depoortere/testmaven.git\n```\n\nThe parsing logic expects that if the `instanceUrl` contains a custom path, the `git remote` will too. From the example above: `http://aom-int/gitlab` `instanceUrl` should have `git@aom-int:gitlab/depoortere/testmaven.git` `git remote`.\n\n### Details\n\nThe original issue with GitLab on a custom path is this: https://gitlab.com/gitlab-org/gitlab-vscode-extension/-/issues/42\n\nAnd the initial fix was implemented in https://gitlab.com/gitlab-org/gitlab-vscode-extension/-/merge_requests/11.\n\n[The implementation](https://gitlab.com/gitlab-org/gitlab-vscode-extension/blob/56dab86117c109443a9422b85b58605fa5b774f1/src/git/git_remote_parser.ts#L30) assumes that if your GitLab instance is on a custom path (e.g. `/gitlab`) then the `git remote` URL contains the same path (i.e. in above scenario the remote should be `git@aom-int:gitlab/depoortere/testmaven.git`. I'm not sure whether that's a reasonable assumption or not, but it doesn't hold true in above scenario.\n\nA workaround might be to use `https://` remote URL instead of the `git@..`. I assume that the `https://` version would have `/gitlab` in the remote path.\n\nThe code for parsing remotes is in [`git_remote_parser.ts`](https://gitlab.com/gitlab-org/gitlab-vscode-extension/blob/56dab86117c109443a9422b85b58605fa5b774f1/src/git/git_remote_parser.ts#L10-38). I'm open to suggestions about how to change it. I also include a failing test with above scenario:\n\n\u003cdetails\u003e\n\u003csummary\u003eFailing test case\u003c/summary\u003e\n\n```diff\ndiff --git a/src/git/git_remote_parser.test.ts b/src/git/git_remote_parser.test.ts\nindex 33cba5a..c3c4586 100644\n--- a/src/git/git_remote_parser.test.ts\n+++ b/src/git/git_remote_parser.test.ts\n@@ -81,4 +81,14 @@ describe('git_remote_parser', () =\u003e {\n       project: 'gitlab-vscode-extension',\n     });\n   });\n+\n+  it('should support host aliases with a custom path', () =\u003e {\n+    expect(\n+      parseGitRemote('git@aom-int:depoortere/testmaven.git', 'https://aom-int/gitlab'),\n+    ).toEqual({\n+      host: 'aom-int',\n+      namespace: 'depoortere',\n+      project: 'testmaven',\n+    });\n+  });\n });\n```\n\n\u003c/details\u003e\n\n\n\u003cdetails\u003e\n\u003csummary\u003eOriginal issue description\u003c/summary\u003e\n\nSay my GITLAB instance URL is https://xyz.com/gitlab  (Exposed via Nginx)\n\nIn this case, the parsing by the extension is done incorrectly and fails to retrieve any information.\n\nThe parsed array gives this (removing /gitlab from the path):\n\n[\"http:\", \"xyz.com\", \"my-group/subgroup1\", \"project\"]\n\nAnd thus the extension does not work. I tried concatenating the extra \"/gitlab\" and still it does not work.\n\nMeanwhile, what ports does this extension need/use? I only have https port of my instance exposed - have not exposed the SSH or git port.\n\n\u003c/details\u003e","state":"closed","created_at":"2019-05-25T13:57:04.945Z","updated_at":"2021-07-08T08:17:46.475Z","closed_at":"2021-07-08T08:17:46.468Z","closed_by":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3457201/avatar.png","web_url":"https://gitlab.com/viktomas"},"labels":["Category:GitLab CLI","VS Code","[deprecated] Accepting merge requests","bug","devops::create","group::code review","priority::4","section::dev","severity::4"],"milestone":null,"assignees":[],"author":{"id":1858936,"username":"vigneshtv","name":"Vignesh T.V.","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1858936/avatar.png","web_url":"https://gitlab.com/vigneshtv"},"type":"ISSUE","assignee":null,"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab-vscode-extension/-/issues/103","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/5261717/issues/103","notes":"https://gitlab.com/api/v4/projects/5261717/issues/103/notes","award_emoji":"https://gitlab.com/api/v4/projects/5261717/issues/103/award_emoji","project":"https://gitlab.com/api/v4/projects/5261717","closed_as_duplicate_of":null},"references":{"short":"#103","relative":"#103","full":"gitlab-org/gitlab-vscode-extension#103"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":16800932,"iid":81,"project_id":5261717,"title":"Matching access token URL with GitLab instance URL is too strict","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab-vscode-extension/-/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n\nIf you are facing issues around configuring Token from your GitLab.com account, see the list of already addressed Token related issues:\n\nhttps://gitlab.com/gitlab-org/gitlab-vscode-extension/issues?scope=all\u0026utf8=%E2%9C%93\u0026state=closed\u0026label_name[]=token-issue\n---\u003e\n\n### Summary\n\nThe GitLab instance URL configured in `gitlab.instanceUrl` and the URL you specify when adding a new access token needs to match perfectly. If one contains slash at the end, the token is not used.\n\n\u003cdetails\u003e\n\u003csummary\u003eOriginal description\u003c/summary\u003e\n\nConnection issues with self-hosted GitLab instance URL name.\n\ne.g. correct connection when `https://my.gitlabinstance.io/group-name/project1` as opposed to `https://my.gitlabinstance.io/group-name/project1/`\n\nThere are no instructions that mention to put it exactly like this...\n\n\u003c/details\u003e\n\n### Steps to reproduce\n\n1. open workspace with project on `gitlab.com`\n1. remove your token with `GitLab: Remove your Personal Access Token` command\n1. add the same token but specify `https://gitlab.com/` as the instance URL (notice the `/` at the end)\n1. now the extension can't authenticate your requests and you see an error\n\n### What is the current *bug* behavior?\n\nThe extension cant match the token for `https://gitlab.com/` with the configured instance `https://gitlab.com` (without the slash)\n\n### What is the expected *correct* behavior?\n\nThe extension should be able to recognise that those two URLs are for the same GitLab instance and use the token\n\n### Relevant logs and/or screenshots\n\n![Screenshot_2020-07-24_at_1.23.50_PM](/uploads/eacc8e0190ed9b87a0e65104e5cad0d4/Screenshot_2020-07-24_at_1.23.50_PM.png)\n\n### Possible fixes\n\nA naive solution would be to remove trialling slashes. A more complete solution could be parsing the URLs and deciding what parts need to match (most likely hostname, and port, maybe protocol).","state":"closed","created_at":"2018-12-19T22:42:26.196Z","updated_at":"2021-08-12T12:53:16.515Z","closed_at":"2021-08-12T12:53:16.496Z","closed_by":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3457201/avatar.png","web_url":"https://gitlab.com/viktomas"},"labels":["Category:GitLab CLI","Stretch","VS Code","[deprecated] Accepting merge requests","bug","devops::create","group::code review","priority::4","section::dev","severity::4","workflow::in dev"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3457201/avatar.png","web_url":"https://gitlab.com/viktomas"}],"author":{"id":2996769,"username":"andrewtec","name":"Andrew Tec","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2996769/avatar.png","web_url":"https://gitlab.com/andrewtec"},"type":"ISSUE","assignee":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3457201/avatar.png","web_url":"https://gitlab.com/viktomas"},"user_notes_count":20,"merge_requests_count":0,"upvotes":5,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab-vscode-extension/-/issues/81","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/5261717/issues/81","notes":"https://gitlab.com/api/v4/projects/5261717/issues/81/notes","award_emoji":"https://gitlab.com/api/v4/projects/5261717/issues/81/award_emoji","project":"https://gitlab.com/api/v4/projects/5261717","closed_as_duplicate_of":null},"references":{"short":"#81","relative":"#81","full":"gitlab-org/gitlab-vscode-extension#81"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":14680257,"iid":60,"project_id":5261717,"title":"Auto update \"For Current Branch\" tab in sidebar","description":"To improve the current behavior \"For Current Branch\" tab should auto update itself.\n\nAlso refreshing the panels should clear issue and MR cache. Related with this one https://gitlab.com/fatihacet/gitlab-vscode-extension/issues/21\n\n## Problem\n\nRith now the sidebar with \"For Current Branch\" information needs to be manually refreshed and it will likely show outdated information.\n\nAdditionally, the status bar refreshes every 30s, but at the start of the VS Code, the first refresh happens before the extension can access the git repository and the user always sees roughly 25s of \"initializing status bar\":\n\n![status bar](https://gitlab.com/gitlab-org/gitlab-vscode-extension/uploads/815e15090c1dc2566e48c75b8bcc1bc0/Screenshot_2021-09-07_at_20.10.54.png)\n\n## Proposal\n\nBoth the \"For Current Branch\" sidebar panel and the status bar are using the same information (pipeline, MR, and issue). I suggest that they'll get automatically updated together. The update is going to be triggered by the following events:\n\n- Repository has been initialized (fixes the initial 25s of delay)\n- Branch has been changed\n- 30 seconds have passed since the last update (only this is now partially implemented)","state":"closed","created_at":"2018-10-04T10:53:18.349Z","updated_at":"2022-01-18T13:02:07.273Z","closed_at":"2021-10-12T11:35:50.200Z","closed_by":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3457201/avatar.png","web_url":"https://gitlab.com/viktomas"},"labels":["Category:GitLab CLI","Deliverable","Scheduled for next version","VS Code","devops::create","enhancement","group::code review","section::dev","type::feature","workflow::in dev"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3457201/avatar.png","web_url":"https://gitlab.com/viktomas"}],"author":{"id":502136,"username":"fatihacet","name":"Fatih Acet","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/502136/avatar.png","web_url":"https://gitlab.com/fatihacet"},"type":"ISSUE","assignee":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3457201/avatar.png","web_url":"https://gitlab.com/viktomas"},"user_notes_count":2,"merge_requests_count":0,"upvotes":3,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab-vscode-extension/-/issues/60","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/5261717/issues/60","notes":"https://gitlab.com/api/v4/projects/5261717/issues/60/notes","award_emoji":"https://gitlab.com/api/v4/projects/5261717/issues/60/award_emoji","project":"https://gitlab.com/api/v4/projects/5261717","closed_as_duplicate_of":null},"references":{"short":"#60","relative":"#60","full":"gitlab-org/gitlab-vscode-extension#60"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":10763880,"iid":44,"project_id":5261717,"title":"Merge requests fail where branch contains a # symbol","description":"\n### Summary\n\nWhen we call `GitLab: Crete new merge request on current branch` command, branch with `#` doesn't get escaped causing incorrect branch name\n\n### Steps to reproduce\n\n1. Create `test-#-hash` branch and push a commit to the remote.\n1. Run `GitLab: Crete new merge request on current branch` command\n\n### What is the current *bug* behavior?\n\nThe branch name appears unescaped in the URL:\n\n```\nhttp://127.0.0.1:3000/root/empty-test-2/-/merge_requests/new?merge_request%5Bsource_branch%5D=test-#-hash\n```\n\nThe `#-hash` gets treated as the browser ID fragment.\n\n### What is the expected *correct* behavior?\n\nThe `#` is encoded and we open the MR with the following URL:\n\n```\nhttp://127.0.0.1:3000/root/empty-test-2/-/merge_requests/new?merge_request[source_branch]=test-%23-hash\n```\n\n### Relevant logs and/or screenshots\n\n![Screenshot_2020-08-05_at_11.14.34_AM](/uploads/2631da4c7bea6a6e97901e44cd4ff374/Screenshot_2020-08-05_at_11.14.34_AM.png)\n\n### Possible fixes\n\nProbably calling `encodeURIComponent(branchName);` is enough to fix the issue.","state":"closed","created_at":"2018-05-10T14:47:44.457Z","updated_at":"2022-04-18T07:01:13.473Z","closed_at":"2022-04-12T10:51:11.484Z","closed_by":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3457201/avatar.png","web_url":"https://gitlab.com/viktomas"},"labels":["Category:GitLab CLI","Deliverable","VS Code","bug","devops::create","group::code review","section::dev","type::bug","vintage"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3457201/avatar.png","web_url":"https://gitlab.com/viktomas"}],"author":{"id":2291496,"username":"ewanmclean","name":"Ewan McLean","state":"active","avatar_url":"https://secure.gravatar.com/avatar/e8d4d05fb551939c076e32b4e7b3b4c1?s=80\u0026d=identicon","web_url":"https://gitlab.com/ewanmclean"},"type":"ISSUE","assignee":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3457201/avatar.png","web_url":"https://gitlab.com/viktomas"},"user_notes_count":7,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab-vscode-extension/-/issues/44","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/5261717/issues/44","notes":"https://gitlab.com/api/v4/projects/5261717/issues/44/notes","award_emoji":"https://gitlab.com/api/v4/projects/5261717/issues/44/award_emoji","project":"https://gitlab.com/api/v4/projects/5261717","closed_as_duplicate_of":null},"references":{"short":"#44","relative":"#44","full":"gitlab-org/gitlab-vscode-extension#44"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null}]