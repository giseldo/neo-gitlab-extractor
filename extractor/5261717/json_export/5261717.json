[{"id":30087182,"iid":145,"project_id":5261717,"title":"Error reporting to VSCode OutputChannel","description":"### Problem to solve\n\nIn my experience today, there was very little information about what was working or not. The side pane simply stayed blank and did not show anything apart from the default text (\"there is no XYZ assigned to you\" etc.). Which makes it very hard to understand at what point something goes wrong or what might be the cause (connection to GitLab? authentication? extension not configured correctly?).\n\n### Proposal\n\nCreating and logging to an OutputChannel (see https:\/\/code.visualstudio.com\/api\/references\/vscode-api#window.createOutputChannel) instead of logging to console would probably make it easier for the user to understand what is happening (and what not).\n\n### Further details\n\n#### In scope\n\n- bubble exceptions to the top-level client code (e.g. `extension.js`) and then log them to the output channel\n- make sure that exceptions are not silenced (by empty try\/catch blocks)\n- **stretch**: separate exceptions from normal program flow - a lot of code in `git_service.js` and `gitlab_service.js` is using exceptions as a part of normal program flow (e.g. command returning empty result & command throwing exception is treated the same)\n- making sure that the OutputChannel is shown during automated integratin tests (it will help understanding what's wrong)\n\n#### Out of scope\n\n- \n\n### Links \/ references\n\n- https:\/\/code.visualstudio.com\/api\/references\/vscode-api#window.createOutputChannel","state":"closed","created_at":1580339998696,"updated_at":1682503227496,"closed_at":1600682101975,"closed_by":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"labels":["Category:GitLab CLI","Deliverable","VS Code","devops::create","frontend","group::ide","section::dev","type::feature","workflow::in review"],"milestone":{"id":1233753,"iid":51,"group_id":9970,"title":"13.4","description":"https:\/\/about.gitlab.com\/releases\/2020\/09\/22\/gitlab-13-4-released\/","state":"closed","created_at":"2020-04-09T17:39:21.662Z","updated_at":"2022-04-13T14:50:33.769Z","due_date":"2020-09-17","start_date":"2020-08-18","expired":true,"web_url":"https:\/\/gitlab.com\/groups\/gitlab-org\/-\/milestones\/51"},"assignees":[{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"}],"author":{"id":2849942,"username":"philip-n","name":"Philip N","state":"active","avatar_url":"https:\/\/secure.gravatar.com\/avatar\/7bfdfa72ea9c849cbd95320d1c2bdaa6?s=80&d=identicon","web_url":"https:\/\/gitlab.com\/philip-n"},"type":"ISSUE","assignee":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"user_notes_count":9,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/145","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/145","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/145\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/145\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717","closed_as_duplicate_of":null},"references":{"short":"#145","relative":"#145","full":"gitlab-org\/gitlab-vscode-extension#145"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":26478886,"iid":129,"project_id":5261717,"title":"Insert Snippets in to current file in VS Code","description":"## Problem to Solve\n\nSnippets inside of a user account must be copy\/pasted out of GitLab and into a file when they need to be used in another place. This is error prone and time consuming to context switch and find the appropriate Snippet and then paste the contents in to the file you're working on.\n\n## Proposal\n\nCreate a command for `Insert Snippet` that talks to the GitLab Snippets API to retrieve a list of Snippets and then choose which file to insert.\n\n![image](https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/uploads\/30999d43156eb226d562c61c1d314611\/Kapture_2020-09-11_at_11.53.01.gif)\n\n- If a user selects insert snippet from the command palette, display a list of single file project scoped snippets in the modal\n- If a user selects a snippet from the list insert it's content to the editor at the cursor position\n<!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION -->\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n<!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION -->","state":"closed","created_at":1572431690917,"updated_at":1682503238898,"closed_at":1603286366946,"closed_by":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"labels":["Category:GitLab CLI","Category:Source Code Management","Deliverable","UX","VS Code","devops::create","direction","frontend","frontend-weight::3","group::ide","section::dev","snippets","type::feature","workflow::production"],"milestone":{"id":1233754,"iid":52,"group_id":9970,"title":"13.5","description":"https:\/\/about.gitlab.com\/releases\/2020\/10\/22\/gitlab-13-5-released\/","state":"closed","created_at":"2020-04-09T17:39:21.990Z","updated_at":"2022-04-21T07:21:12.213Z","due_date":"2020-10-17","start_date":"2020-09-18","expired":true,"web_url":"https:\/\/gitlab.com\/groups\/gitlab-org\/-\/milestones\/52"},"assignees":[{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"}],"author":{"id":1083559,"username":"giuseslab","name":"Giuseppe Pagano","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/1083559\/avatar.png","web_url":"https:\/\/gitlab.com\/giuseslab"},"type":"ISSUE","assignee":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"user_notes_count":57,"merge_requests_count":0,"upvotes":4,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/129","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/129","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/129\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/129\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717","closed_as_duplicate_of":null},"references":{"short":"#129","relative":"#129","full":"gitlab-org\/gitlab-vscode-extension#129"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3661.0,"epic":{"id":70999,"iid":3661,"title":"VS Code Snippets Improvements","url":"\/groups\/gitlab-org\/-\/epics\/3661","group_id":9970,"human_readable_end_date":"Oct 17, 2020","human_readable_timestamp":"<strong>Past due<\/strong>"},"iteration":null,"health_status":null},{"id":21291743,"iid":103,"project_id":5261717,"title":"API calls fail when the GitLab instance is on a custom path, but the git remote isn't","description":"## Summary\n\nThe API calls are not working when the `gitlab.instanceUrl` setting contains a custom path, but the `git remote` URL doesn't.\n\nExample:\n\n```\n\"gitlab.instanceUrl\": \"http:\/\/aom-int\/gitlab\",\n```\n\nand `git remote`:\n\n```\ngit@aom-int:depoortere\/testmaven.git\n```\n\nThe parsing logic expects that if the `instanceUrl` contains a custom path, the `git remote` will too. From the example above: `http:\/\/aom-int\/gitlab` `instanceUrl` should have `git@aom-int:gitlab\/depoortere\/testmaven.git` `git remote`.\n\n### Details\n\nThe original issue with GitLab on a custom path is this: https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/42\n\nAnd the initial fix was implemented in https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/merge_requests\/11.\n\n[The implementation](https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/blob\/56dab86117c109443a9422b85b58605fa5b774f1\/src\/git\/git_remote_parser.ts#L30) assumes that if your GitLab instance is on a custom path (e.g. `\/gitlab`) then the `git remote` URL contains the same path (i.e. in above scenario the remote should be `git@aom-int:gitlab\/depoortere\/testmaven.git`. I'm not sure whether that's a reasonable assumption or not, but it doesn't hold true in above scenario.\n\nA workaround might be to use `https:\/\/` remote URL instead of the `git@..`. I assume that the `https:\/\/` version would have `\/gitlab` in the remote path.\n\nThe code for parsing remotes is in [`git_remote_parser.ts`](https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/blob\/56dab86117c109443a9422b85b58605fa5b774f1\/src\/git\/git_remote_parser.ts#L10-38). I'm open to suggestions about how to change it. I also include a failing test with above scenario:\n\n<details>\n<summary>Failing test case<\/summary>\n\n```diff\ndiff --git a\/src\/git\/git_remote_parser.test.ts b\/src\/git\/git_remote_parser.test.ts\nindex 33cba5a..c3c4586 100644\n--- a\/src\/git\/git_remote_parser.test.ts\n+++ b\/src\/git\/git_remote_parser.test.ts\n@@ -81,4 +81,14 @@ describe('git_remote_parser', () => {\n       project: 'gitlab-vscode-extension',\n     });\n   });\n+\n+  it('should support host aliases with a custom path', () => {\n+    expect(\n+      parseGitRemote('git@aom-int:depoortere\/testmaven.git', 'https:\/\/aom-int\/gitlab'),\n+    ).toEqual({\n+      host: 'aom-int',\n+      namespace: 'depoortere',\n+      project: 'testmaven',\n+    });\n+  });\n });\n```\n\n<\/details>\n\n\n<details>\n<summary>Original issue description<\/summary>\n\nSay my GITLAB instance URL is https:\/\/xyz.com\/gitlab  (Exposed via Nginx)\n\nIn this case, the parsing by the extension is done incorrectly and fails to retrieve any information.\n\nThe parsed array gives this (removing \/gitlab from the path):\n\n[\"http:\", \"xyz.com\", \"my-group\/subgroup1\", \"project\"]\n\nAnd thus the extension does not work. I tried concatenating the extra \"\/gitlab\" and still it does not work.\n\nMeanwhile, what ports does this extension need\/use? I only have https port of my instance exposed - have not exposed the SSH or git port.\n\n<\/details>","state":"closed","created_at":1558792624945,"updated_at":1625732266475,"closed_at":1625732266468,"closed_by":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"labels":["Category:GitLab CLI","VS Code","[deprecated] Accepting merge requests","bug","devops::create","group::code review","priority::4","section::dev","severity::4"],"milestone":null,"assignees":[],"author":{"id":1858936,"username":"vigneshtv","name":"Vignesh T.V.","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/1858936\/avatar.png","web_url":"https:\/\/gitlab.com\/vigneshtv"},"type":"ISSUE","assignee":null,"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/103","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/103","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/103\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/103\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717","closed_as_duplicate_of":null},"references":{"short":"#103","relative":"#103","full":"gitlab-org\/gitlab-vscode-extension#103"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":16800932,"iid":81,"project_id":5261717,"title":"Matching access token URL with GitLab instance URL is too strict","description":"<!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"bug\" label:\n\n- https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n\nIf you are facing issues around configuring Token from your GitLab.com account, see the list of already addressed Token related issues:\n\nhttps:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/issues?scope=all&utf8=%E2%9C%93&state=closed&label_name[]=token-issue\n--->\n\n### Summary\n\nThe GitLab instance URL configured in `gitlab.instanceUrl` and the URL you specify when adding a new access token needs to match perfectly. If one contains slash at the end, the token is not used.\n\n<details>\n<summary>Original description<\/summary>\n\nConnection issues with self-hosted GitLab instance URL name.\n\ne.g. correct connection when `https:\/\/my.gitlabinstance.io\/group-name\/project1` as opposed to `https:\/\/my.gitlabinstance.io\/group-name\/project1\/`\n\nThere are no instructions that mention to put it exactly like this...\n\n<\/details>\n\n### Steps to reproduce\n\n1. open workspace with project on `gitlab.com`\n1. remove your token with `GitLab: Remove your Personal Access Token` command\n1. add the same token but specify `https:\/\/gitlab.com\/` as the instance URL (notice the `\/` at the end)\n1. now the extension can't authenticate your requests and you see an error\n\n### What is the current *bug* behavior?\n\nThe extension cant match the token for `https:\/\/gitlab.com\/` with the configured instance `https:\/\/gitlab.com` (without the slash)\n\n### What is the expected *correct* behavior?\n\nThe extension should be able to recognise that those two URLs are for the same GitLab instance and use the token\n\n### Relevant logs and\/or screenshots\n\n![Screenshot_2020-07-24_at_1.23.50_PM](\/uploads\/eacc8e0190ed9b87a0e65104e5cad0d4\/Screenshot_2020-07-24_at_1.23.50_PM.png)\n\n### Possible fixes\n\nA naive solution would be to remove trialling slashes. A more complete solution could be parsing the URLs and deciding what parts need to match (most likely hostname, and port, maybe protocol).","state":"closed","created_at":1545259346196,"updated_at":1628772796515,"closed_at":1628772796496,"closed_by":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"labels":["Category:GitLab CLI","Stretch","VS Code","[deprecated] Accepting merge requests","bug","devops::create","group::code review","priority::4","section::dev","severity::4","workflow::in dev"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https:\/\/gitlab.com\/groups\/gitlab-org\/-\/milestones\/62"},"assignees":[{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"}],"author":{"id":2996769,"username":"andrewtec","name":"Andrew Tec","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/2996769\/avatar.png","web_url":"https:\/\/gitlab.com\/andrewtec"},"type":"ISSUE","assignee":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"user_notes_count":20,"merge_requests_count":0,"upvotes":5,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/81","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/81","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/81\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/81\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717","closed_as_duplicate_of":null},"references":{"short":"#81","relative":"#81","full":"gitlab-org\/gitlab-vscode-extension#81"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":14680257,"iid":60,"project_id":5261717,"title":"Auto update \"For Current Branch\" tab in sidebar","description":"To improve the current behavior \"For Current Branch\" tab should auto update itself.\n\nAlso refreshing the panels should clear issue and MR cache. Related with this one https:\/\/gitlab.com\/fatihacet\/gitlab-vscode-extension\/issues\/21\n\n## Problem\n\nRith now the sidebar with \"For Current Branch\" information needs to be manually refreshed and it will likely show outdated information.\n\nAdditionally, the status bar refreshes every 30s, but at the start of the VS Code, the first refresh happens before the extension can access the git repository and the user always sees roughly 25s of \"initializing status bar\":\n\n![status bar](https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/uploads\/815e15090c1dc2566e48c75b8bcc1bc0\/Screenshot_2021-09-07_at_20.10.54.png)\n\n## Proposal\n\nBoth the \"For Current Branch\" sidebar panel and the status bar are using the same information (pipeline, MR, and issue). I suggest that they'll get automatically updated together. The update is going to be triggered by the following events:\n\n- Repository has been initialized (fixes the initial 25s of delay)\n- Branch has been changed\n- 30 seconds have passed since the last update (only this is now partially implemented)","state":"closed","created_at":1538650398349,"updated_at":1642510927273,"closed_at":1634038550200,"closed_by":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"labels":["Category:GitLab CLI","Deliverable","Scheduled for next version","VS Code","devops::create","enhancement","group::code review","section::dev","type::feature","workflow::in dev"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https:\/\/about.gitlab.com\/releases\/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https:\/\/gitlab.com\/groups\/gitlab-org\/-\/milestones\/64"},"assignees":[{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"}],"author":{"id":502136,"username":"fatihacet","name":"Fatih Acet","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/502136\/avatar.png","web_url":"https:\/\/gitlab.com\/fatihacet"},"type":"ISSUE","assignee":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"user_notes_count":2,"merge_requests_count":0,"upvotes":3,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/60","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/60","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/60\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/60\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717","closed_as_duplicate_of":null},"references":{"short":"#60","relative":"#60","full":"gitlab-org\/gitlab-vscode-extension#60"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":10763880,"iid":44,"project_id":5261717,"title":"Merge requests fail where branch contains a # symbol","description":"\n### Summary\n\nWhen we call `GitLab: Crete new merge request on current branch` command, branch with `#` doesn't get escaped causing incorrect branch name\n\n### Steps to reproduce\n\n1. Create `test-#-hash` branch and push a commit to the remote.\n1. Run `GitLab: Crete new merge request on current branch` command\n\n### What is the current *bug* behavior?\n\nThe branch name appears unescaped in the URL:\n\n```\nhttp:\/\/127.0.0.1:3000\/root\/empty-test-2\/-\/merge_requests\/new?merge_request%5Bsource_branch%5D=test-#-hash\n```\n\nThe `#-hash` gets treated as the browser ID fragment.\n\n### What is the expected *correct* behavior?\n\nThe `#` is encoded and we open the MR with the following URL:\n\n```\nhttp:\/\/127.0.0.1:3000\/root\/empty-test-2\/-\/merge_requests\/new?merge_request[source_branch]=test-%23-hash\n```\n\n### Relevant logs and\/or screenshots\n\n![Screenshot_2020-08-05_at_11.14.34_AM](\/uploads\/2631da4c7bea6a6e97901e44cd4ff374\/Screenshot_2020-08-05_at_11.14.34_AM.png)\n\n### Possible fixes\n\nProbably calling `encodeURIComponent(branchName);` is enough to fix the issue.","state":"closed","created_at":1525963664457,"updated_at":1650265273473,"closed_at":1649760671484,"closed_by":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"labels":["Category:GitLab CLI","Deliverable","VS Code","bug","devops::create","group::code review","section::dev","type::bug","vintage"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https:\/\/gitlab.com\/groups\/gitlab-org\/-\/milestones\/72"},"assignees":[{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"}],"author":{"id":2291496,"username":"ewanmclean","name":"Ewan McLean","state":"active","avatar_url":"https:\/\/secure.gravatar.com\/avatar\/e8d4d05fb551939c076e32b4e7b3b4c1?s=80&d=identicon","web_url":"https:\/\/gitlab.com\/ewanmclean"},"type":"ISSUE","assignee":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"user_notes_count":7,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/44","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/44","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/44\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/44\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717","closed_as_duplicate_of":null},"references":{"short":"#44","relative":"#44","full":"gitlab-org\/gitlab-vscode-extension#44"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":117140277,"iid":633,"project_id":5261717,"title":"Add OAuth support for VSCodium","description":"When I click the `Connect to GitLab.com with OAuth` button I get a redirect error screen on GitLab's Web UI:\n\n![image](\/uploads\/9b062930e8dad00ac522e49fd6c6a30b\/image.png)\n\nThis is probably due to it being on VSCodium... so the redirect url includes: `vscodium` instead of `vscode`:\n\n```\nhttps:\/\/gitlab.com\/oauth\/authorize?client_id=...&redirect_uri=vscodium%3A%2F%2Fgitlab.gitlab-workflow%2Fauthentication&response_type=code&state=...&scope=api+read_user&code_challenge=...&code_challenge_method=S256\n```\n\nwe likely need to add it as valid redirects","state":"closed","created_at":1666143585849,"updated_at":1669655701616,"closed_at":1669654901729,"closed_by":{"id":2293,"username":"brodock","name":"Gabriel Mazetto","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/2293\/avatar.png","web_url":"https:\/\/gitlab.com\/brodock"},"labels":["bug::functional","devops::create","group::code review","oauth","section::dev","type::bug"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https:\/\/gitlab.com\/groups\/gitlab-org\/-\/milestones\/82"},"assignees":[{"id":2293,"username":"brodock","name":"Gabriel Mazetto","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/2293\/avatar.png","web_url":"https:\/\/gitlab.com\/brodock"}],"author":{"id":2293,"username":"brodock","name":"Gabriel Mazetto","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/2293\/avatar.png","web_url":"https:\/\/gitlab.com\/brodock"},"type":"ISSUE","assignee":{"id":2293,"username":"brodock","name":"Gabriel Mazetto","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/2293\/avatar.png","web_url":"https:\/\/gitlab.com\/brodock"},"user_notes_count":10,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/633","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/633","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/633\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/633\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717","closed_as_duplicate_of":null},"references":{"short":"#633","relative":"#633","full":"gitlab-org\/gitlab-vscode-extension#633"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":116769263,"iid":630,"project_id":5261717,"title":"Don't log the whole token","description":"<!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"bug\" label:\n\n- https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n--->\n\n### Checklist\n\n<!-- Please test the latest versions, that will remove the possibility that you see a bug that is fixed in a newer version. -->\n\n- [ ] I'm using the latest version of the extension ([see the latest version in the right column of this page](https:\/\/marketplace.visualstudio.com\/items?itemName=GitLab.gitlab-workflow))\n  - Extension version: _Put your extension version here_\n- [ ] I'm using the latest VS Code version ([find the latest version here](https:\/\/github.com\/microsoft\/vscode\/releases))\n  - VS Code version: _Put your VS Code version here_\n- [ ] I'm using a supported version of GitLab ([see README for the supported version](https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/blob\/main\/README.md#minimum-supported-version))\n  - GitLab version: _Put your GitLab version here, or say \"happens on `gitlab.com`\"_\n\n### Summary\n\nWhen user enables debug logging, we log the whole token in the extension output every time the OAuth token is refreshed (~2h). Ideally we would like not to log the whole access token.\n\nhttps:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/blob\/77a1cbc0f7d85dbab917d8c06203663bbc87b525\/src\/gitlab\/token_exchange_service.ts#L111\n\n### Steps to reproduce\n\n<!-- How one can reproduce the issue - this is very important -->\n\n### What is the current _bug_ behavior?\n\n<!-- What actually happens -->\n\n### What is the expected _correct_ behavior?\n\n<!-- What you should see instead -->\n\n### Relevant logs and\/or screenshots\n\n<!-- Logs can be found by running `GitLab: Show extension logs` command (using `cmd+shift+p`). Please enable `\"gitlab.debug\": true` in your `settings.json`. Debug mode will improve error stack traces and adds debug log messages. -->\n\n### Possible fixes\n\n<!-- If you can, link to the line of code that might be responsible for the problem -->","state":"closed","created_at":1665595418888,"updated_at":1682503199674,"closed_at":1668058161656,"closed_by":{"id":2233420,"username":"pslaughter","name":"Paul Slaughter","state":"active","avatar_url":"https:\/\/secure.gravatar.com\/avatar\/631b25421eb206ab44cb2793ef09d881?s=80&d=identicon","web_url":"https:\/\/gitlab.com\/pslaughter"},"labels":["Category:GitLab CLI","Deliverable","VS Code","backend","bug::vulnerability","devops::create","frontend","group::ide","priority::3","section::dev","security","severity::3","type::bug","workflow::production"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https:\/\/gitlab.com\/groups\/gitlab-org\/-\/milestones\/81"},"assignees":[{"id":2233420,"username":"pslaughter","name":"Paul Slaughter","state":"active","avatar_url":"https:\/\/secure.gravatar.com\/avatar\/631b25421eb206ab44cb2793ef09d881?s=80&d=identicon","web_url":"https:\/\/gitlab.com\/pslaughter"}],"author":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"type":"ISSUE","assignee":{"id":2233420,"username":"pslaughter","name":"Paul Slaughter","state":"active","avatar_url":"https:\/\/secure.gravatar.com\/avatar\/631b25421eb206ab44cb2793ef09d881?s=80&d=identicon","web_url":"https:\/\/gitlab.com\/pslaughter"},"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2022-12-26","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/630","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"task_status":null,"_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/630","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/630\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/630\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717","closed_as_duplicate_of":null},"references":{"short":"#630","relative":"#630","full":"gitlab-org\/gitlab-vscode-extension#630"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":112169745,"iid":608,"project_id":5261717,"title":"Custom Query error with `avatar_url` in Vulnerabilty Reports","description":"## Problem to Solve\n\nWhen using a custom query to look at vulnerability reports, there is an issue with `avatar_url` being expected in the response:\n\n**Error Message:**\n```\n[error]: Cannot read properties of undefined (reading 'avatar_url')\n         TypeError: Cannot read properties of undefined (reading 'avatar_url')\n         \tat \/Users\/phikai\/.vscode-insiders\/extensions\/gitlab.gitlab-workflow-3.47.2\/out\/extension.js:298:239\n         \tat Array.map (<anonymous>)\n         \tat Js.getIssuables (\/Users\/phikai\/.vscode-insiders\/extensions\/gitlab.gitlab-workflow-3.47.2\/out\/extension.js:327:3252)\n         \tat processTicksAndRejections (node:internal\/process\/task_queues:96:5)\n         \tat async bd.getProjectIssues (\/Users\/phikai\/.vscode-insiders\/extensions\/gitlab.gitlab-workflow-3.47.2\/out\/extension.js:344:2214)\n         \tat async bd.getChildren (\/Users\/phikai\/.vscode-insiders\/extensions\/gitlab.gitlab-workflow-3.47.2\/out\/extension.js:344:2963)\n         \tat async v.fetchChildrenNodes (\/Applications\/Visual Studio Code - Insiders.app\/Contents\/Resources\/app\/out\/vs\/workbench\/api\/node\/extensionHostProcess.js:106:19736)\n         \tat async v.getChildren (\/Applications\/Visual Studio Code - Insiders.app\/Contents\/Resources\/app\/out\/vs\/workbench\/api\/node\/extensionHostProcess.js:106:15955)\n\n```\n\n**Custom Query:**\n```\n\"gitlab.customQueries\": [\n        {\n        \"name\": \"Vulnerability Reports\",\n        \"type\": \"vulnerabilities\",\n        \"scope\": \"all\",\n        \"noItemText\": \"No Vulns.\",\n        \"state\": \"opened\"\n        }\n    ] \n```\n\nThis was tested against the `gitlab-org\/gitlab` project.","state":"closed","created_at":1658769776460,"updated_at":1660653071839,"closed_at":1660653071812,"closed_by":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"labels":["Category:GitLab CLI","devops::create","group::code review","section::dev","type::bug"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https:\/\/gitlab.com\/groups\/gitlab-org\/-\/milestones\/75"},"assignees":[{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"}],"author":{"id":2935693,"username":"phikai","name":"Kai Armstrong","state":"active","avatar_url":"https:\/\/secure.gravatar.com\/avatar\/2c5d6a63b41cbeb3ea4cccda82e758e1?s=80&d=identicon","web_url":"https:\/\/gitlab.com\/phikai"},"type":"ISSUE","assignee":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/608","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/608","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/608\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/608\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717","closed_as_duplicate_of":null},"references":{"short":"#608","relative":"#608","full":"gitlab-org\/gitlab-vscode-extension#608"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":109854568,"iid":591,"project_id":5261717,"title":"Update development documentation","description":"### Problem to solve\n\nThe development documentation hasn't been updated in about a year. We plan to add more team members as maintainers soon. That means we need the development documentation up to date.\n\n### Proposal\n\nReview the following documents:\n\n- [x] CONTRIBUTING.md\n- [x] docs\/developer\/architecture.md\n- [x] docs\/developer\/ci-variables.md\n- [x] docs\/developer\/coding-guidelines.md\n- [x] docs\/developer\/commits.md\n- [x] docs\/developer\/developer-process.md\n- [x] docs\/developer\/maintainer.md\n- [x] docs\/developer\/release-process.md\n- [x] docs\/developer\/security-releases.md\n- [x] docs\/developer\/testing-strategy.md\n- [x] docs\/developer\/writing-tests.md\n\n\n### Links \/ references","state":"closed","created_at":1654781228070,"updated_at":1657881392588,"closed_at":1657881392569,"closed_by":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"labels":["Category:GitLab CLI","VS Code","devops::create","documentation","group::code review","section::dev","type::maintenance","workflow::in review"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https:\/\/gitlab.com\/groups\/gitlab-org\/-\/milestones\/73"},"assignees":[{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"}],"author":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"type":"ISSUE","assignee":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/591","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":11,"completed_count":11},"weight":1,"blocking_issues_count":0,"has_tasks":false,"task_status":null,"_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/591","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/591\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/591\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717","closed_as_duplicate_of":null},"references":{"short":"#591","relative":"#591","full":"gitlab-org\/gitlab-vscode-extension#591"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":108685441,"iid":579,"project_id":5261717,"title":"PAT no longer available after restart","description":"<!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"bug\" label:\n\n- https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n--->\n\n### Checklist\n\n<!-- Please test the latest versions, that will remove the possibility that you see a bug that is fixed in a newer version. -->\n\n- [x] I'm using the latest version of the extension ([see the latest version in the right column of this page](https:\/\/marketplace.visualstudio.com\/items?itemName=GitLab.gitlab-workflow))\n  - Extension version: v3.44.1\n- [x] I'm using the latest VS Code version ([find the latest version here](https:\/\/github.com\/microsoft\/vscode\/releases))\n  - VS Code version: 1.67.1\n- [x] I'm using a supported version of GitLab ([see README for the supported version](https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/blob\/main\/README.md#minimum-supported-version))\n  - GitLab version: 14.9.1\n\n### Summary\n\nInitial installation of the plugin works well after the PAT and URL are set up.\n\nAfter shutdown of VSCode and restart the PAT seems to be unavailable.\n\nI'm not sure how to debug any further.\n\n### Steps to reproduce\n\n1. Start with a linux desktop environment.  In this case Archlinux with SwayWM.\n2. Launch VSCode, install the plugin, and configure it with a URL and PAT.\n3. Observe all works well.\n4. Exit VSCode and re-launch.\n5. Observe that the extension no longer is authenticated\n6. Attempt to provide the URL and a new PAT, but it never succeeds.\n\n### What is the current _bug_ behavior?\n\nPlugin no longer works.\n\n### What is the expected _correct_ behavior?\n\n1. That the PAT is retained for next launch\n2. That the plugin continues to work after re-launch\n\n### Relevant logs and\/or screenshots\n\n```\n[error]: Account for instance REDACTED and user REDACTED is missing token in secret storage. Try to remove the account and add it again.\n```\n\n### Possible fixes\n\n<!-- If you can, link to the line of code that might be responsible for the problem -->","state":"closed","created_at":1652795487785,"updated_at":1682503199180,"closed_at":1673936499716,"closed_by":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"labels":["VS Code","devops::create","group::ide","section::dev","type::bug"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https:\/\/gitlab.com\/groups\/gitlab-org\/-\/milestones\/82"},"assignees":[{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"}],"author":{"id":190523,"username":"jinnko","name":"Jinn Ko","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/190523\/avatar.png","web_url":"https:\/\/gitlab.com\/jinnko"},"type":"ISSUE","assignee":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"user_notes_count":13,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/579","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":3},"weight":2,"blocking_issues_count":0,"has_tasks":false,"task_status":null,"_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/579","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/579\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/579\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717","closed_as_duplicate_of":null},"references":{"short":"#579","relative":"#579","full":"gitlab-org\/gitlab-vscode-extension#579"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":108130012,"iid":572,"project_id":5261717,"title":"MR Review comments are not rendering Markdown","description":"### Checklist\n\n<!-- Please test the latest versions, that will remove the possibility that you see a bug that is fixed in a newer version. -->\n\n- [x] I'm using the latest version of the extension ([see the latest version in the right column of this page](https:\/\/marketplace.visualstudio.com\/items?itemName=GitLab.gitlab-workflow))\n  - Extension version: `3.43.1`\n- [x] I'm using the latest VS Code version ([find the latest version here](https:\/\/github.com\/microsoft\/vscode\/releases))\n  - VS Code version: `1.67.0-insider`\n- [x] I'm using a supported version of GitLab ([see README for the supported version](https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/blob\/main\/README.md#minimum-supported-version))\n  - GitLab version: \"happens on `gitlab.com`\"\n\n### Summary\n\nMarkdown in MR comments stopped rendering in the newer version of VS Code\n\n![gitlab-vscode-extension](\/uploads\/0096dfa1ad3ae66b41f819f5abb5e238\/gitlab-vscode-extension.png)\n\nGitLab Workflow depended on a \"bug\" in VS Code. VS Code rendered plain text comment body as markdown ([Comment.body rendered as Markdown, even for plain strings \u00b7 Issue #140967 \u00b7 microsoft\/vscode](https:\/\/github.com\/microsoft\/vscode\/issues\/140967)). They fixed it in February 2022 and since then we show plain text MR comments.\n\n### Steps to reproduce\n\n1. See any MR comment with Markdown syntax.\n\n### What is the current _bug_ behavior?\n\nMarkdown is shown as plain string.\n\n### What is the expected _correct_ behavior?\n\nMarkdown should be rendered.\n\n![_Extension_Development_Host__-_gitlab-vscode-extension-TEST](\/uploads\/e875bc21fe466c6210a51ff67691e998\/_Extension_Development_Host__-_gitlab-vscode-extension-TEST.png)\n\n### Relevant logs and\/or screenshots\n\n<!-- Logs can be found by running `GitLab: Show extension logs` command (using `cmd+shift+p`) -->\n\n### Possible fixes\n\nUse `vscode.MarkdownString` rather than `string` for the MR body.","state":"closed","created_at":1651823894149,"updated_at":1652430624352,"closed_at":1652430624329,"closed_by":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"labels":["Category:GitLab CLI","VS Code","devops::create","group::code review","section::dev","type::bug"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https:\/\/gitlab.com\/groups\/gitlab-org\/-\/milestones\/65"},"assignees":[{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"}],"author":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"type":"ISSUE","assignee":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"user_notes_count":3,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/572","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":3},"weight":1,"blocking_issues_count":0,"has_tasks":false,"task_status":null,"_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/572","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/572\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/572\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717","closed_as_duplicate_of":null},"references":{"short":"#572","relative":"#572","full":"gitlab-org\/gitlab-vscode-extension#572"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":107015529,"iid":566,"project_id":5261717,"title":"Advanced search is broken + minor errors in issuable search","description":"### Summary\n\nThe extension has a rudimentary search feature (it shows you input box and then it opens the web search results for you).\n\nThere are 3 commands: \n\n-  `GitLab: Search Project Issues (Supports Filters)`\n- `GitLab: Search Project Merge Requests (Supports Filters)`\n- `GitLab: Project Advanced Search (Issues, MR's, Commits, Comments...)`\n\nThe advanced project search doesn't work. The remaining searches are sometimes throwing errors (no user-facing defects though).\n\n### Steps to reproduce\n\n1. Open GitLab project in VS Code\n2. run the `GitLab: Project Advanced Search (Issues, MR's, Commits, Comments...)`\n3. type in any query that would normally return results\n4. see that the search results are empty\n\n### What is the current _bug_ behavior?\n\nThe extension creates URL with `project_id=undefined` in it and the search results are empty.\n\n### What is the expected _correct_ behavior?\n\nThe extension creates correct URL and there are search results.\n\n### Relevant logs and\/or screenshots\n\n![dependency___Search___GitLab](\/uploads\/f481536c1f1d678b351622e2f2199ebd\/dependency___Search___GitLab.png)\n\n### Possible fixes\n\nWe use `project.id` in `search_input.js`, we should use `project.restId`. Best solution is to migrate this small file to TS, which would discover such an issue.","state":"closed","created_at":1650614911388,"updated_at":1652273553856,"closed_at":1652273553841,"closed_by":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"labels":["Category:GitLab CLI","VS Code","devops::create","group::code review","section::dev","type::bug"],"milestone":null,"assignees":[{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"}],"author":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"type":"ISSUE","assignee":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/566","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/566","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/566\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/566\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717","closed_as_duplicate_of":null},"references":{"short":"#566","relative":"#566","full":"gitlab-org\/gitlab-vscode-extension#566"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":106325001,"iid":561,"project_id":5261717,"title":"Implement OAuth token refreshing","description":"\n\n### Problem to solve\n\nWhen we generate an access token using the OAuth flow (https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/560), the token will expire (by default in 2 hours). \n\n### Proposal\n\nAsk for a new token using the `refresh_token` https:\/\/docs.gitlab.com\/ee\/api\/oauth2.html#authorization-code-with-proof-key-for-code-exchange-pkce.\n\n### Further details\n\nWe'll need to keep track of when the original token has been generated and refresh it when the extension want's to use it after its expiration time.\n\n### Links \/ references","state":"closed","created_at":1649417911872,"updated_at":1655812904129,"closed_at":1654780404206,"closed_by":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"labels":["Category:GitLab CLI","Deliverable","VS Code","devops::create","group::code review","section::dev","type::feature"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https:\/\/gitlab.com\/groups\/gitlab-org\/-\/milestones\/73"},"assignees":[{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"}],"author":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"type":"ISSUE","assignee":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"user_notes_count":2,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/561","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/561","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/561\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/561\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717","closed_as_duplicate_of":null},"references":{"short":"#561","relative":"#561","full":"gitlab-org\/gitlab-vscode-extension#561"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4363.0,"epic":{"id":107314,"iid":4363,"title":"Improve Onboarding and Auth of GitLab Workflow","url":"\/groups\/gitlab-org\/-\/epics\/4363","group_id":9970,"human_readable_end_date":"Jun 17, 2022","human_readable_timestamp":"<strong>Past due<\/strong>"},"iteration":null,"health_status":null},{"id":106324564,"iid":560,"project_id":5261717,"title":"Implement OAuth flow for `gitlab.com`","description":"### Problem to solve\n\nUsers have to [log in with generated personal access token](https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension#setup).\n\n### Proposal\n\nAllow OAuth authorization so user's can log in to `gitlab.com` without generating token.\n\n### Further details\n\nhttps:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/221#note_885722819\n\n### Links \/ references","state":"closed","created_at":1649417226847,"updated_at":1653411540563,"closed_at":1652883328887,"closed_by":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"labels":["Category:GitLab CLI","Deliverable","VS Code","devops::create","group::code review","section::dev","type::feature"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https:\/\/gitlab.com\/groups\/gitlab-org\/-\/milestones\/65"},"assignees":[{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"}],"author":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"type":"ISSUE","assignee":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/560","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/560","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/560\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/560\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717","closed_as_duplicate_of":null},"references":{"short":"#560","relative":"#560","full":"gitlab-org\/gitlab-vscode-extension#560"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4363.0,"epic":{"id":107314,"iid":4363,"title":"Improve Onboarding and Auth of GitLab Workflow","url":"\/groups\/gitlab-org\/-\/epics\/4363","group_id":9970,"human_readable_end_date":"Jun 17, 2022","human_readable_timestamp":"<strong>Past due<\/strong>"},"iteration":null,"health_status":null},{"id":106032596,"iid":558,"project_id":5261717,"title":"Project-centric data model - change extension model to reflect Git and GitLab models","description":"### Problem to solve\n\nThere are many edge cases when the extension's internal state can't reflect how entities (git remotes and GitLab projects) relate to each other. This is caused by the incremental nature of the current model design.\n\n1. We started with workspace centric approach, where the whole extension operated on an opened folder. This implementation couldn't support multiple repositories.\n1. We refactored the extension to use repositories instead of workspaces (https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/345). This was a large improvement, but the model still struggles to reflect some scenarios. It especially struggles with multiple remotes and repositories that don't contain GitLab projects.\n\nThe way how repository-centred approach doesn't exactly reflect the Git repository + GitLab project entities is a cause of small bugs and misunderstandings. Currently, we [mix repository and project-related methods](https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/blob\/d92a0cb3cfa47d5cc7dcf074edd21a6220bb8870\/src\/git\/wrapped_repository.ts#L71).\n\n### Proposal\n\nIn hindsight, the solution is clear: Use the GitLabProject-centric approach. As the extension starts or configuration changes, we'll loop over all remote URLs in all repositories and find out which ones correspond to GitLab projects. Then, if there's more than one GitLab project per repository, we'll let the user choose which one they want to use.\n\n### Benefits\n\n- Simpler logic, many places in the codebase are now concerned about how to obtain GitLabProject from a repository. There is often an implicit expectation that the project is present.\n- Simpler mental model - a few entities will reflect the whole application state, clear separation between the GitLab project model and the local repository model\n- Easy support for [multiple accounts](https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/298), which will become more important once we implement [OAuth login](https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/221)\n\n### Further details\n\nHere are a few issues that we implemented to work around the repository-centric model:\n\n- [Helping users set the correct remote name](https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/459)\n- [Unable to Validate CI config for mirrored repository](https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/505)\n- [Extension ignores expired token and fails in the wrong place](https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/487)\n\n### Proposed model\n\nI'll put this in a diagram a bit later:\n\n```ts\n\ninterface Repository {\n  remotes: Remote[]\n  \/\/ all local repository git methods will be here\n}\n\ninterface Remote {\n  name: string;\n  urlEntries: UrlEntry[];\n}\n\ninterface UrlEntry {\n  type: 'fetch' | 'push' | 'both';\n  url: string;\n}\n\n\/* This pointer allows us to work with remote URLs (because they represent GitLab Project),\n * but also keep track of what local repository contains this remote URL.\n*\/\ninterface RemoteUrlPointer {\n  repository: Repository;\n  remote: Remote;\n  urlEntry: UrlEntry;\n}\n\ninterface Account {\n  instanceUrl: string;\n  token: string;\n}\n\n\/* Represents a GitLab project that we can infer from remote URL and instance URL *\/\ninterface ParsedProject {\n  remoteUrl: string;\n  instanceUrl: string;\n  projectName: string;\n  namespace: string;\n}\n\n\/* In a case when there is more than one GitLab project in a repository,\n * the user will create this setting to indicate which project should be used.\n * This will be a persistent setting stored in the global storage.\n *\n * There can be more than one GitLab project for a repository if there are multiple\n * remotes like:\n *\n * - git@gitlab.com:gitlab-org\/gitlab-vscode-extension.git\n * - git@gitlab.com:gitlab-org\/security\/gitlab-vscode-extension.git\n *\n * Or when there are multiple accounts on the same GitLab instance.\n *\/\ninterface SelectedProject {\n  pointer: RemoteUrlPointer;\n  account: Account;\n  projectName: string;\n  namespace: string;\n}\n\n\/* This represents a GitLab project that the rest of the extension will work with\n * this entity only exists at runtime, and the `GitLabProject` is always populated by querying a GitLab API\n *\/\ninterface InitializedProject {\n  project: GitLabProject;\n  pointer: RemoteUrlPointer;\n  account: Account;\n  \/\/ all GitLab project methods are going to be either here or accessed through here\n}\n\n```\n\n### Links \/ references","state":"closed","created_at":1649077549059,"updated_at":1652445191812,"closed_at":1651578221872,"closed_by":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"labels":["Category:GitLab CLI","VS Code","devops::create","group::code review","section::dev","type::maintenance"],"milestone":null,"assignees":[{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"}],"author":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"type":"ISSUE","assignee":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"user_notes_count":8,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/558","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/558","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/558\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/558\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717","closed_as_duplicate_of":null},"references":{"short":"#558","relative":"#558","full":"gitlab-org\/gitlab-vscode-extension#558"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":105059947,"iid":553,"project_id":5261717,"title":"Failed to fetch jobs for pipeline (for current branch) - project_id in the requested url is 'undefined'","description":"### Checklist\n\n- [x] I'm using the latest version of the extension ([see the latest version in the right column of this page](https:\/\/marketplace.visualstudio.com\/items?itemName=GitLab.gitlab-workflow))\n  - Extension version: v3.41.2 (v3.39.0 also has the same issue)\n- [x] I'm using the latest VS Code version ([find the latest version here](https:\/\/github.com\/microsoft\/vscode\/releases))\n  - VS Code version: 1.65.2\n- [x] I'm using a supported version of GitLab ([see README for the supported version](https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/blob\/main\/README.md#minimum-supported-version))\n  - GitLab version: 13.5.4-ee\n\n### Summary\n\n<!-- Summarize the bug encountered concisely -->\n\n### Steps to reproduce\n\n1. Install this extension\n2. Setup gitlab.instanceUrl and personal access token\n3. Open an VSCode workspace hosted by gitlab 13.5.4-ee\n4. Click the gitlab icon in the sidebar, the pipeline result `FORCURRENT BRANCH` does not show fully: it shows the overall status but details are not displayed\n\n### What is the current _bug_ behavior?\n\nCan't see details of pipeline (see picture below)\n\n### What is the expected _correct_ behavior?\n\nShow details of pipeline correctly\n\n### Relevant logs and\/or screenshots\n\nLogs from `GitLab: Show extension logs`\n```\n[error]: {\n           \"userMessage\": \"Failed to fetch jobs for pipeline.\",\n           \"errorMessage\": \"Fetching jobs for pipeline from https:\/\/gitlab.ourcompany.com\/api\/v4\/projects\/undefined\/pipelines\/397251\/jobs failed\",\n           \"stack\": [\n             \"Error: Fetching jobs for pipeline from https:\/\/gitlab.ourcompany.com\/api\/v4\/projects\/undefined\/pipelines\/397251\/jobs failed\",\n             \"\\tat ps (c:\\\\Apps\\\\VS Code\\\\data\\\\extensions\\\\gitlab.gitlab-workflow-3.41.2\\\\out\\\\extension.js:265:444)\",\n             \"\\tat processTicksAndRejections (internal\/process\/task_queues.js:93:5)\",\n             \"\\tat async pa.fetch (c:\\\\Apps\\\\VS Code\\\\data\\\\extensions\\\\gitlab.gitlab-workflow-3.41.2\\\\out\\\\extension.js:265:1606)\",\n             \"\\tat async zv (c:\\\\Apps\\\\VS Code\\\\data\\\\extensions\\\\gitlab.gitlab-workflow-3.41.2\\\\out\\\\extension.js:316:7053)\",\n             \"\\tat async Function.getState (c:\\\\Apps\\\\VS Code\\\\data\\\\extensions\\\\gitlab.gitlab-workflow-3.41.2\\\\out\\\\extension.js:316:8530)\",\n             \"\\tat async An.refresh (c:\\\\Apps\\\\VS Code\\\\data\\\\extensions\\\\gitlab.gitlab-workflow-3.41.2\\\\out\\\\extension.js:316:8142)\",\n             \"\\tat async An.clearAndSetIntervalAndRefresh (c:\\\\Apps\\\\VS Code\\\\data\\\\extensions\\\\gitlab.gitlab-workflow-3.41.2\\\\out\\\\extension.js:316:7866)\"\n           ]\n         }\n[error]: {\n           \"userMessage\": \"Failed to fetch jobs for pipeline.\",\n           \"errorMessage\": \"Fetching jobs for pipeline from https:\/\/gitlab.ourcompany.com\/api\/v4\/projects\/undefined\/pipelines\/397251\/jobs failed\",\n           \"stack\": [\n             \"Error: Fetching jobs for pipeline from https:\/\/gitlab.ourcompany.com\/api\/v4\/projects\/undefined\/pipelines\/397251\/jobs failed\",\n             \"\\tat ps (c:\\\\Apps\\\\VS Code\\\\data\\\\extensions\\\\gitlab.gitlab-workflow-3.41.2\\\\out\\\\extension.js:265:444)\",\n             \"\\tat processTicksAndRejections (internal\/process\/task_queues.js:93:5)\",\n             \"\\tat async pa.fetch (c:\\\\Apps\\\\VS Code\\\\data\\\\extensions\\\\gitlab.gitlab-workflow-3.41.2\\\\out\\\\extension.js:265:1606)\",\n             \"\\tat async zv (c:\\\\Apps\\\\VS Code\\\\data\\\\extensions\\\\gitlab.gitlab-workflow-3.41.2\\\\out\\\\extension.js:316:7053)\",\n             \"\\tat async Function.getState (c:\\\\Apps\\\\VS Code\\\\data\\\\extensions\\\\gitlab.gitlab-workflow-3.41.2\\\\out\\\\extension.js:316:8530)\",\n             \"\\tat async An.refresh (c:\\\\Apps\\\\VS Code\\\\data\\\\extensions\\\\gitlab.gitlab-workflow-3.41.2\\\\out\\\\extension.js:316:8142)\",\n             \"\\tat async An.clearAndSetIntervalAndRefresh (c:\\\\Apps\\\\VS Code\\\\data\\\\extensions\\\\gitlab.gitlab-workflow-3.41.2\\\\out\\\\extension.js:316:7866)\",\n             \"\\tat async Timeout._onTimeout (c:\\\\Apps\\\\VS Code\\\\data\\\\extensions\\\\gitlab.gitlab-workflow-3.41.2\\\\out\\\\extension.js:316:7745)\"\n           ]\n         }\n[error]: {\n           \"userMessage\": \"Failed to fetch jobs for pipeline.\",\n           \"errorMessage\": \"Fetching jobs for pipeline from https:\/\/gitlab.ourcompany.com\/api\/v4\/projects\/undefined\/pipelines\/397251\/jobs failed\",\n           \"stack\": [\n             \"Error: Fetching jobs for pipeline from https:\/\/gitlab.ourcompany.com\/api\/v4\/projects\/undefined\/pipelines\/397251\/jobs failed\",\n             \"\\tat ps (c:\\\\Apps\\\\VS Code\\\\data\\\\extensions\\\\gitlab.gitlab-workflow-3.41.2\\\\out\\\\extension.js:265:444)\",\n             \"\\tat processTicksAndRejections (internal\/process\/task_queues.js:93:5)\",\n             \"\\tat async pa.fetch (c:\\\\Apps\\\\VS Code\\\\data\\\\extensions\\\\gitlab.gitlab-workflow-3.41.2\\\\out\\\\extension.js:265:1606)\",\n             \"\\tat async zv (c:\\\\Apps\\\\VS Code\\\\data\\\\extensions\\\\gitlab.gitlab-workflow-3.41.2\\\\out\\\\extension.js:316:7053)\",\n             \"\\tat async Function.getState (c:\\\\Apps\\\\VS Code\\\\data\\\\extensions\\\\gitlab.gitlab-workflow-3.41.2\\\\out\\\\extension.js:316:8530)\",\n             \"\\tat async An.refresh (c:\\\\Apps\\\\VS Code\\\\data\\\\extensions\\\\gitlab.gitlab-workflow-3.41.2\\\\out\\\\extension.js:316:8142)\",\n             \"\\tat async gl.refreshSidebar (c:\\\\Apps\\\\VS Code\\\\data\\\\extensions\\\\gitlab.gitlab-workflow-3.41.2\\\\out\\\\extension.js:317:2934)\",\n             \"\\tat async c:\\\\Apps\\\\VS Code\\\\data\\\\extensions\\\\gitlab.gitlab-workflow-3.41.2\\\\out\\\\extension.js:317:1540\",\n             \"\\tat async r._executeContributedCommand (c:\\\\Apps\\\\VS Code\\\\resources\\\\app\\\\out\\\\vs\\\\workbench\\\\services\\\\extensions\\\\node\\\\extensionHostProcess.js:95:31072)\"\n           ]\n         }\n[error]: {\n           \"userMessage\": \"Failed to fetch jobs for pipeline.\",\n           \"errorMessage\": \"Fetching jobs for pipeline from https:\/\/gitlab.ourcompany.com\/api\/v4\/projects\/undefined\/pipelines\/397251\/jobs failed\",\n           \"stack\": [\n             \"Error: Fetching jobs for pipeline from https:\/\/gitlab.ourcompany.com\/api\/v4\/projects\/undefined\/pipelines\/397251\/jobs failed\",\n             \"\\tat ps (c:\\\\Apps\\\\VS Code\\\\data\\\\extensions\\\\gitlab.gitlab-workflow-3.41.2\\\\out\\\\extension.js:265:444)\",\n             \"\\tat processTicksAndRejections (internal\/process\/task_queues.js:93:5)\",\n             \"\\tat async pa.fetch (c:\\\\Apps\\\\VS Code\\\\data\\\\extensions\\\\gitlab.gitlab-workflow-3.41.2\\\\out\\\\extension.js:265:1606)\",\n             \"\\tat async zv (c:\\\\Apps\\\\VS Code\\\\data\\\\extensions\\\\gitlab.gitlab-workflow-3.41.2\\\\out\\\\extension.js:316:7053)\",\n             \"\\tat async Function.getState (c:\\\\Apps\\\\VS Code\\\\data\\\\extensions\\\\gitlab.gitlab-workflow-3.41.2\\\\out\\\\extension.js:316:8530)\",\n             \"\\tat async An.refresh (c:\\\\Apps\\\\VS Code\\\\data\\\\extensions\\\\gitlab.gitlab-workflow-3.41.2\\\\out\\\\extension.js:316:8142)\",\n             \"\\tat async Timeout._onTimeout (c:\\\\Apps\\\\VS Code\\\\data\\\\extensions\\\\gitlab.gitlab-workflow-3.41.2\\\\out\\\\extension.js:316:8015)\"\n           ]\n         }\n[error]: {\n           \"userMessage\": \"Failed to fetch jobs for pipeline.\",\n           \"errorMessage\": \"Fetching jobs for pipeline from https:\/\/gitlab.ourcompany.com\/api\/v4\/projects\/undefined\/pipelines\/397251\/jobs failed\",\n           \"stack\": [\n             \"Error: Fetching jobs for pipeline from https:\/\/gitlab.ourcompany.com\/api\/v4\/projects\/undefined\/pipelines\/397251\/jobs failed\",\n             \"\\tat ps (c:\\\\Apps\\\\VS Code\\\\data\\\\extensions\\\\gitlab.gitlab-workflow-3.41.2\\\\out\\\\extension.js:265:444)\",\n             \"\\tat processTicksAndRejections (internal\/process\/task_queues.js:93:5)\",\n             \"\\tat async pa.fetch (c:\\\\Apps\\\\VS Code\\\\data\\\\extensions\\\\gitlab.gitlab-workflow-3.41.2\\\\out\\\\extension.js:265:1606)\",\n             \"\\tat async zv (c:\\\\Apps\\\\VS Code\\\\data\\\\extensions\\\\gitlab.gitlab-workflow-3.41.2\\\\out\\\\extension.js:316:7053)\",\n             \"\\tat async Function.getState (c:\\\\Apps\\\\VS Code\\\\data\\\\extensions\\\\gitlab.gitlab-workflow-3.41.2\\\\out\\\\extension.js:316:8530)\",\n             \"\\tat async An.refresh (c:\\\\Apps\\\\VS Code\\\\data\\\\extensions\\\\gitlab.gitlab-workflow-3.41.2\\\\out\\\\extension.js:316:8142)\",\n             \"\\tat async Timeout._onTimeout (c:\\\\Apps\\\\VS Code\\\\data\\\\extensions\\\\gitlab.gitlab-workflow-3.41.2\\\\out\\\\extension.js:316:8015)\"\n           ]\n         }\n[error]: {\n           \"userMessage\": \"Failed to fetch jobs for pipeline.\",\n           \"errorMessage\": \"Fetching jobs for pipeline from https:\/\/gitlab.ourcompany.com\/api\/v4\/projects\/undefined\/pipelines\/397251\/jobs failed\",\n           \"stack\": [\n             \"Error: Fetching jobs for pipeline from https:\/\/gitlab.ourcompany.com\/api\/v4\/projects\/undefined\/pipelines\/397251\/jobs failed\",\n             \"\\tat ps (c:\\\\Apps\\\\VS Code\\\\data\\\\extensions\\\\gitlab.gitlab-workflow-3.41.2\\\\out\\\\extension.js:265:444)\",\n             \"\\tat processTicksAndRejections (internal\/process\/task_queues.js:93:5)\",\n             \"\\tat async pa.fetch (c:\\\\Apps\\\\VS Code\\\\data\\\\extensions\\\\gitlab.gitlab-workflow-3.41.2\\\\out\\\\extension.js:265:1606)\",\n             \"\\tat async zv (c:\\\\Apps\\\\VS Code\\\\data\\\\extensions\\\\gitlab.gitlab-workflow-3.41.2\\\\out\\\\extension.js:316:7053)\",\n             \"\\tat async Function.getState (c:\\\\Apps\\\\VS Code\\\\data\\\\extensions\\\\gitlab.gitlab-workflow-3.41.2\\\\out\\\\extension.js:316:8530)\",\n             \"\\tat async An.refresh (c:\\\\Apps\\\\VS Code\\\\data\\\\extensions\\\\gitlab.gitlab-workflow-3.41.2\\\\out\\\\extension.js:316:8142)\",\n             \"\\tat async Timeout._onTimeout (c:\\\\Apps\\\\VS Code\\\\data\\\\extensions\\\\gitlab.gitlab-workflow-3.41.2\\\\out\\\\extension.js:316:8015)\"\n           ]\n         }\n[error]: {\n           \"userMessage\": \"Failed to fetch jobs for pipeline.\",\n           \"errorMessage\": \"Fetching jobs for pipeline from https:\/\/gitlab.ourcompany.com\/api\/v4\/projects\/undefined\/pipelines\/397251\/jobs failed\",\n           \"stack\": [\n             \"Error: Fetching jobs for pipeline from https:\/\/gitlab.ourcompany.com\/api\/v4\/projects\/undefined\/pipelines\/397251\/jobs failed\",\n             \"\\tat ps (c:\\\\Apps\\\\VS Code\\\\data\\\\extensions\\\\gitlab.gitlab-workflow-3.41.2\\\\out\\\\extension.js:265:444)\",\n             \"\\tat processTicksAndRejections (internal\/process\/task_queues.js:93:5)\",\n             \"\\tat async pa.fetch (c:\\\\Apps\\\\VS Code\\\\data\\\\extensions\\\\gitlab.gitlab-workflow-3.41.2\\\\out\\\\extension.js:265:1606)\",\n             \"\\tat async zv (c:\\\\Apps\\\\VS Code\\\\data\\\\extensions\\\\gitlab.gitlab-workflow-3.41.2\\\\out\\\\extension.js:316:7053)\",\n             \"\\tat async Function.getState (c:\\\\Apps\\\\VS Code\\\\data\\\\extensions\\\\gitlab.gitlab-workflow-3.41.2\\\\out\\\\extension.js:316:8530)\",\n             \"\\tat async An.refresh (c:\\\\Apps\\\\VS Code\\\\data\\\\extensions\\\\gitlab.gitlab-workflow-3.41.2\\\\out\\\\extension.js:316:8142)\",\n             \"\\tat async Timeout._onTimeout (c:\\\\Apps\\\\VS Code\\\\data\\\\extensions\\\\gitlab.gitlab-workflow-3.41.2\\\\out\\\\extension.js:316:8015)\"\n           ]\n         }\n[error]: {\n           \"userMessage\": \"Failed to fetch jobs for pipeline.\",\n           \"errorMessage\": \"Fetching jobs for pipeline from https:\/\/gitlab.ourcompany.com\/api\/v4\/projects\/undefined\/pipelines\/397251\/jobs failed\",\n           \"stack\": [\n             \"Error: Fetching jobs for pipeline from https:\/\/gitlab.ourcompany.com\/api\/v4\/projects\/undefined\/pipelines\/397251\/jobs failed\",\n             \"\\tat ps (c:\\\\Apps\\\\VS Code\\\\data\\\\extensions\\\\gitlab.gitlab-workflow-3.41.2\\\\out\\\\extension.js:265:444)\",\n             \"\\tat processTicksAndRejections (internal\/process\/task_queues.js:93:5)\",\n             \"\\tat async pa.fetch (c:\\\\Apps\\\\VS Code\\\\data\\\\extensions\\\\gitlab.gitlab-workflow-3.41.2\\\\out\\\\extension.js:265:1606)\",\n             \"\\tat async zv (c:\\\\Apps\\\\VS Code\\\\data\\\\extensions\\\\gitlab.gitlab-workflow-3.41.2\\\\out\\\\extension.js:316:7053)\",\n             \"\\tat async Function.getState (c:\\\\Apps\\\\VS Code\\\\data\\\\extensions\\\\gitlab.gitlab-workflow-3.41.2\\\\out\\\\extension.js:316:8530)\",\n             \"\\tat async An.refresh (c:\\\\Apps\\\\VS Code\\\\data\\\\extensions\\\\gitlab.gitlab-workflow-3.41.2\\\\out\\\\extension.js:316:8142)\",\n             \"\\tat async Timeout._onTimeout (c:\\\\Apps\\\\VS Code\\\\data\\\\extensions\\\\gitlab.gitlab-workflow-3.41.2\\\\out\\\\extension.js:316:8015)\"\n           ]\n         }\n[error]: {\n           \"userMessage\": \"Failed to fetch jobs for pipeline.\",\n           \"errorMessage\": \"Fetching jobs for pipeline from https:\/\/gitlab.ourcompany.com\/api\/v4\/projects\/undefined\/pipelines\/397251\/jobs failed\",\n           \"stack\": [\n             \"Error: Fetching jobs for pipeline from https:\/\/gitlab.ourcompany.com\/api\/v4\/projects\/undefined\/pipelines\/397251\/jobs failed\",\n             \"\\tat ps (c:\\\\Apps\\\\VS Code\\\\data\\\\extensions\\\\gitlab.gitlab-workflow-3.41.2\\\\out\\\\extension.js:265:444)\",\n             \"\\tat processTicksAndRejections (internal\/process\/task_queues.js:93:5)\",\n             \"\\tat async pa.fetch (c:\\\\Apps\\\\VS Code\\\\data\\\\extensions\\\\gitlab.gitlab-workflow-3.41.2\\\\out\\\\extension.js:265:1606)\",\n             \"\\tat async zv (c:\\\\Apps\\\\VS Code\\\\data\\\\extensions\\\\gitlab.gitlab-workflow-3.41.2\\\\out\\\\extension.js:316:7053)\",\n             \"\\tat async Function.getState (c:\\\\Apps\\\\VS Code\\\\data\\\\extensions\\\\gitlab.gitlab-workflow-3.41.2\\\\out\\\\extension.js:316:8530)\",\n             \"\\tat async An.refresh (c:\\\\Apps\\\\VS Code\\\\data\\\\extensions\\\\gitlab.gitlab-workflow-3.41.2\\\\out\\\\extension.js:316:8142)\",\n             \"\\tat async Timeout._onTimeout (c:\\\\Apps\\\\VS Code\\\\data\\\\extensions\\\\gitlab.gitlab-workflow-3.41.2\\\\out\\\\extension.js:316:8015)\"\n           ]\n         }\n[error]: {\n           \"userMessage\": \"Failed to fetch jobs for pipeline.\",\n           \"errorMessage\": \"Fetching jobs for pipeline from https:\/\/gitlab.ourcompany.com\/api\/v4\/projects\/undefined\/pipelines\/397251\/jobs failed\",\n           \"stack\": [\n             \"Error: Fetching jobs for pipeline from https:\/\/gitlab.ourcompany.com\/api\/v4\/projects\/undefined\/pipelines\/397251\/jobs failed\",\n             \"\\tat ps (c:\\\\Apps\\\\VS Code\\\\data\\\\extensions\\\\gitlab.gitlab-workflow-3.41.2\\\\out\\\\extension.js:265:444)\",\n             \"\\tat processTicksAndRejections (internal\/process\/task_queues.js:93:5)\",\n             \"\\tat async pa.fetch (c:\\\\Apps\\\\VS Code\\\\data\\\\extensions\\\\gitlab.gitlab-workflow-3.41.2\\\\out\\\\extension.js:265:1606)\",\n             \"\\tat async zv (c:\\\\Apps\\\\VS Code\\\\data\\\\extensions\\\\gitlab.gitlab-workflow-3.41.2\\\\out\\\\extension.js:316:7053)\",\n             \"\\tat async Function.getState (c:\\\\Apps\\\\VS Code\\\\data\\\\extensions\\\\gitlab.gitlab-workflow-3.41.2\\\\out\\\\extension.js:316:8530)\",\n             \"\\tat async An.refresh (c:\\\\Apps\\\\VS Code\\\\data\\\\extensions\\\\gitlab.gitlab-workflow-3.41.2\\\\out\\\\extension.js:316:8142)\",\n             \"\\tat async Timeout._onTimeout (c:\\\\Apps\\\\VS Code\\\\data\\\\extensions\\\\gitlab.gitlab-workflow-3.41.2\\\\out\\\\extension.js:316:8015)\"\n           ]\n         }\n```\n\n(Note: I use a portable VS Code to re-produce this issue without any other extensions installed, but the issue also exists in a normal user setup of VS Code)\n\n### Possible fixes\n\nThe problem might be caused by failure when get project id: in the log, you can see `undefined` in the request url, where it should be a project id:\n\n`https:\/\/gitlab.ourcompany.com\/api\/v4\/projects\/undefined\/pipelines\/397251\/jobs`\n\nI try to replace regex `\\{\\w+\\.project_id\\}` with my project id `438` in `C:\\Users\\username\\.vscode\\extensions\\gitlab.gitlab-workflow-3.41.2`, then it works (see the picture below):\n\n![gitlab_pipeline_error](\/uploads\/f450aa066c95a580ec26ba1c625c0359\/gitlab_pipeline_error.png)","state":"closed","created_at":1647597714691,"updated_at":1662717462916,"closed_at":1662717462885,"closed_by":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"labels":["Category:GitLab CLI","Deliverable","VS Code","[deprecated] Accepting merge requests","[deprecated] good for new contributors","devops::create","group::code review","section::dev","type::bug","workflow::in review"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https:\/\/gitlab.com\/groups\/gitlab-org\/-\/milestones\/75"},"assignees":[{"id":10539680,"username":"slashmanov","name":"Stanislav Lashmanov","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/10539680\/avatar.png","web_url":"https:\/\/gitlab.com\/slashmanov"}],"author":{"id":11104362,"username":"EurekaSeven","name":"Eureka Seven","state":"active","avatar_url":"https:\/\/secure.gravatar.com\/avatar\/970f642c0a4ad147e976c216c5a30a45?s=80&d=identicon","web_url":"https:\/\/gitlab.com\/EurekaSeven"},"type":"ISSUE","assignee":{"id":10539680,"username":"slashmanov","name":"Stanislav Lashmanov","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/10539680\/avatar.png","web_url":"https:\/\/gitlab.com\/slashmanov"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/553","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":3},"weight":1,"blocking_issues_count":0,"has_tasks":false,"task_status":null,"_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/553","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/553\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/553\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717","closed_as_duplicate_of":null},"references":{"short":"#553","relative":"#553","full":"gitlab-org\/gitlab-vscode-extension#553"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":104749501,"iid":551,"project_id":5261717,"title":"Fail to access merge request and pipeline result - Field 'url' doesn't exist on type 'Note'","description":"### Checklist\n\n<!-- Please test the latest versions, that will remove the possibility that you see a bug that is fixed in a newer version. -->\n\n- [x] I'm using the latest version of the extension ([see the latest version in the right column of this page](https:\/\/marketplace.visualstudio.com\/items?itemName=GitLab.gitlab-workflow))\n  - Extension version: v3.41.1\n- [x] I'm using the latest VS Code version ([find the latest version here](https:\/\/github.com\/microsoft\/vscode\/releases))\n  - VS Code version: 1.65.2 (user setup)\n- [x] I'm using a supported version of GitLab ([see README for the supported version](https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/blob\/main\/README.md#minimum-supported-version))\n  - GitLab version: 13.5.4-ee\n\n### Summary\n\n\n\n### Steps to reproduce\n\n1. Install this extension\n2. Setup gitlab.instanceUrl and personal access token\n3. Open an VSCode workspace hosted by gitlab EE\n4. Click the gitlab icon in the sidebar, it shows list of the merge requests\n   (But here, the pipeline result FORCURRENT BRANCH does not show fully)\n5. Click any MR in the ISSUES AND MERGE REQUESTS, an error message displays:\n```\nThe extension failed to preload discussions on the MR diff.\n            It's possible that you've encountered\n            https:\/\/gitlab.com\/gitlab-org\/gitlab\/-\/issues\/298827.\n```\n  (I tried to find a solution from above URL but not found)\n\n6. Click 'Overview' of a MR, another error message displays:\n```\nField 'url' doesn't exist on type 'Note': {\"response\":{\"errors\":[{\"message\":\"Field 'url' doesn't exist on type 'Note'\",\"locations\":[{\"line\":35,\"column\":5}],\"path\":[\"fragment noteDetails\",\"url\"],\"extensions\":{\"code\":\"undefinedField\",\"typeName\":\"Note\",\"fieldName\":\"url\"}}],\"status\":200,\"headers\":{}},\"request\":{\"query\":\"\\n  \\n  \\n  \\n  \\n  fragment position on Note {\\n    position {\\n      diffRefs {\\n        baseSha\\n        headSha\\n        startSha\\n      }\\n      filePath\\n      positionType\\n      newLine\\n      oldLine\\n      newPath\\n      oldPath\\n      positionType\\n    }\\n  }\\n\\n  fragment noteDetails on Note {\\n    id\\n    createdAt\\n    system\\n    author {\\n      avatarUrl\\n      name\\n      username\\n      webUrl\\n    }\\n    body\\n    bodyHtml\\n    url\\n    userPermissions {\\n      resolveNote\\n      adminNote\\n      createNote\\n    }\\n    ...position\\n  }\\n\\n  fragment discussionDetails on Discussion {\\n    replyId\\n    createdAt\\n    resolved\\n    resolvable\\n    notes {\\n      pageInfo {\\n        hasNextPage\\n        endCursor\\n      }\\n      nodes {\\n        ...noteDetails\\n      }\\n    }\\n  }\\n\\n  fragment discussions on DiscussionConnection {\\n    pageInfo {\\n      hasNextPage\\n      endCursor\\n    }\\n    nodes {\\n      ...discussionDetails\\n    }\\n  }\\n\\n  query GetMrDiscussions($projectPath: ID!, $iid: String!, $afterCursor: String) {\\n    project(fullPath: $projectPath) {\\n      id\\n      mergeRequest(iid: $iid) {\\n        discussions(after: $afterCursor) {\\n          ...discussions\\n        }\\n      }\\n    }\\n  }\\n\",\"variables\":{\"projectPath\":\"dev\/ProjectName\",\"iid\":\"729\"}}}\n```\n### What is the current _bug_ behavior?\n\nCan't open the merge request\n\n### What is the expected _correct_ behavior?\n\nIt should open the MR correctly\n\n<!-- What you should see instead -->\n\n### Relevant logs and\/or screenshots\n![gitlab_error](\/uploads\/e8a2c12d0a9b5a5183e1d5b7ae2cacbf\/gitlab_error.png)\nlog from 'GitLab: Show extension logs'\n```\n[error]: {\n           \"userMessage\": \"The extension failed to preload discussions on the MR diff.\\n            It's possible that you've encountered\\n            https:\/\/gitlab.com\/gitlab-org\/gitlab\/-\/issues\/298827.\",\n           \"errorMessage\": \"Field 'url' doesn't exist on type 'Note': {\\\"response\\\":{\\\"errors\\\":[{\\\"message\\\":\\\"Field 'url' doesn't exist on type 'Note'\\\",\\\"locations\\\":[{\\\"line\\\":35,\\\"column\\\":5}],\\\"path\\\":[\\\"fragment noteDetails\\\",\\\"url\\\"],\\\"extensions\\\":{\\\"code\\\":\\\"undefinedField\\\",\\\"typeName\\\":\\\"Note\\\",\\\"fieldName\\\":\\\"url\\\"}}],\\\"status\\\":200,\\\"headers\\\":{}},\\\"request\\\":{\\\"query\\\":\\\"\\\\n  \\\\n  \\\\n  \\\\n  \\\\n  fragment position on Note {\\\\n    position {\\\\n      diffRefs {\\\\n        baseSha\\\\n        headSha\\\\n        startSha\\\\n      }\\\\n      filePath\\\\n      positionType\\\\n      newLine\\\\n      oldLine\\\\n      newPath\\\\n      oldPath\\\\n      positionType\\\\n    }\\\\n  }\\\\n\\\\n  fragment noteDetails on Note {\\\\n    id\\\\n    createdAt\\\\n    system\\\\n    author {\\\\n      avatarUrl\\\\n      name\\\\n      username\\\\n      webUrl\\\\n    }\\\\n    body\\\\n    bodyHtml\\\\n    url\\\\n    userPermissions {\\\\n      resolveNote\\\\n      adminNote\\\\n      createNote\\\\n    }\\\\n    ...position\\\\n  }\\\\n\\\\n  fragment discussionDetails on Discussion {\\\\n    replyId\\\\n    createdAt\\\\n    resolved\\\\n    resolvable\\\\n    notes {\\\\n      pageInfo {\\\\n        hasNextPage\\\\n        endCursor\\\\n      }\\\\n      nodes {\\\\n        ...noteDetails\\\\n      }\\\\n    }\\\\n  }\\\\n\\\\n  fragment discussions on DiscussionConnection {\\\\n    pageInfo {\\\\n      hasNextPage\\\\n      endCursor\\\\n    }\\\\n    nodes {\\\\n      ...discussionDetails\\\\n    }\\\\n  }\\\\n\\\\n  query GetMrDiscussions($projectPath: ID!, $iid: String!, $afterCursor: String) {\\\\n    project(fullPath: $projectPath) {\\\\n      id\\\\n      mergeRequest(iid: $iid) {\\\\n        discussions(after: $afterCursor) {\\\\n          ...discussions\\\\n        }\\\\n      }\\\\n    }\\\\n  }\\\\n\\\",\\\"variables\\\":{\\\"projectPath\\\":\\\"dev\/ProjectName\\\",\\\"iid\\\":\\\"731\\\"}}}\",\n           \"stack\": [\n             \"Error: Field 'url' doesn't exist on type 'Note': {\\\"response\\\":{\\\"errors\\\":[{\\\"message\\\":\\\"Field 'url' doesn't exist on type 'Note'\\\",\\\"locations\\\":[{\\\"line\\\":35,\\\"column\\\":5}],\\\"path\\\":[\\\"fragment noteDetails\\\",\\\"url\\\"],\\\"extensions\\\":{\\\"code\\\":\\\"undefinedField\\\",\\\"typeName\\\":\\\"Note\\\",\\\"fieldName\\\":\\\"url\\\"}}],\\\"status\\\":200,\\\"headers\\\":{}},\\\"request\\\":{\\\"query\\\":\\\"\\\\n  \\\\n  \\\\n  \\\\n  \\\\n  fragment position on Note {\\\\n    position {\\\\n      diffRefs {\\\\n        baseSha\\\\n        headSha\\\\n        startSha\\\\n      }\\\\n      filePath\\\\n      positionType\\\\n      newLine\\\\n      oldLine\\\\n      newPath\\\\n      oldPath\\\\n      positionType\\\\n    }\\\\n  }\\\\n\\\\n  fragment noteDetails on Note {\\\\n    id\\\\n    createdAt\\\\n    system\\\\n    author {\\\\n      avatarUrl\\\\n      name\\\\n      username\\\\n      webUrl\\\\n    }\\\\n    body\\\\n    bodyHtml\\\\n    url\\\\n    userPermissions {\\\\n      resolveNote\\\\n      adminNote\\\\n      createNote\\\\n    }\\\\n    ...position\\\\n  }\\\\n\\\\n  fragment discussionDetails on Discussion {\\\\n    replyId\\\\n    createdAt\\\\n    resolved\\\\n    resolvable\\\\n    notes {\\\\n      pageInfo {\\\\n        hasNextPage\\\\n        endCursor\\\\n      }\\\\n      nodes {\\\\n        ...noteDetails\\\\n      }\\\\n    }\\\\n  }\\\\n\\\\n  fragment discussions on DiscussionConnection {\\\\n    pageInfo {\\\\n      hasNextPage\\\\n      endCursor\\\\n    }\\\\n    nodes {\\\\n      ...discussionDetails\\\\n    }\\\\n  }\\\\n\\\\n  query GetMrDiscussions($projectPath: ID!, $iid: String!, $afterCursor: String) {\\\\n    project(fullPath: $projectPath) {\\\\n      id\\\\n      mergeRequest(iid: $iid) {\\\\n        discussions(after: $afterCursor) {\\\\n          ...discussions\\\\n        }\\\\n      }\\\\n    }\\\\n  }\\\\n\\\",\\\"variables\\\":{\\\"projectPath\\\":\\\"dev\/ProjectName\\\",\\\"iid\\\":\\\"731\\\"}}}\",\n             \"\\tat c:\\\\Users\\\\username\\\\.vscode\\\\extensions\\\\gitlab.gitlab-workflow-3.41.1\\\\out\\\\extension.js:31:15173\",\n             \"\\tat o (c:\\\\Users\\\\username\\\\.vscode\\\\extensions\\\\gitlab.gitlab-workflow-3.41.1\\\\out\\\\extension.js:31:10042)\",\n             \"\\tat Object.next (c:\\\\Users\\\\username\\\\.vscode\\\\extensions\\\\gitlab.gitlab-workflow-3.41.1\\\\out\\\\extension.js:31:9346)\",\n             \"\\tat p (c:\\\\Users\\\\username\\\\.vscode\\\\extensions\\\\gitlab.gitlab-workflow-3.41.1\\\\out\\\\extension.js:31:8906)\",\n             \"\\tat processTicksAndRejections (internal\/process\/task_queues.js:93:5)\"\n           ]\n         }\n[error]: Field 'url' doesn't exist on type 'Note': {\"response\":{\"errors\":[{\"message\":\"Field 'url' doesn't exist on type 'Note'\",\"locations\":[{\"line\":35,\"column\":5}],\"path\":[\"fragment noteDetails\",\"url\"],\"extensions\":{\"code\":\"undefinedField\",\"typeName\":\"Note\",\"fieldName\":\"url\"}}],\"status\":200,\"headers\":{}},\"request\":{\"query\":\"\\n  \\n  \\n  \\n  \\n  fragment position on Note {\\n    position {\\n      diffRefs {\\n        baseSha\\n        headSha\\n        startSha\\n      }\\n      filePath\\n      positionType\\n      newLine\\n      oldLine\\n      newPath\\n      oldPath\\n      positionType\\n    }\\n  }\\n\\n  fragment noteDetails on Note {\\n    id\\n    createdAt\\n    system\\n    author {\\n      avatarUrl\\n      name\\n      username\\n      webUrl\\n    }\\n    body\\n    bodyHtml\\n    url\\n    userPermissions {\\n      resolveNote\\n      adminNote\\n      createNote\\n    }\\n    ...position\\n  }\\n\\n  fragment discussionDetails on Discussion {\\n    replyId\\n    createdAt\\n    resolved\\n    resolvable\\n    notes {\\n      pageInfo {\\n        hasNextPage\\n        endCursor\\n      }\\n      nodes {\\n        ...noteDetails\\n      }\\n    }\\n  }\\n\\n  fragment discussions on DiscussionConnection {\\n    pageInfo {\\n      hasNextPage\\n      endCursor\\n    }\\n    nodes {\\n      ...discussionDetails\\n    }\\n  }\\n\\n  query GetMrDiscussions($projectPath: ID!, $iid: String!, $afterCursor: String) {\\n    project(fullPath: $projectPath) {\\n      id\\n      mergeRequest(iid: $iid) {\\n        discussions(after: $afterCursor) {\\n          ...discussions\\n        }\\n      }\\n    }\\n  }\\n\",\"variables\":{\"projectPath\":\"dev\/ProjectName\",\"iid\":\"731\"}}}\n         Error: Field 'url' doesn't exist on type 'Note': {\"response\":{\"errors\":[{\"message\":\"Field 'url' doesn't exist on type 'Note'\",\"locations\":[{\"line\":35,\"column\":5}],\"path\":[\"fragment noteDetails\",\"url\"],\"extensions\":{\"code\":\"undefinedField\",\"typeName\":\"Note\",\"fieldName\":\"url\"}}],\"status\":200,\"headers\":{}},\"request\":{\"query\":\"\\n  \\n  \\n  \\n  \\n  fragment position on Note {\\n    position {\\n      diffRefs {\\n        baseSha\\n        headSha\\n        startSha\\n      }\\n      filePath\\n      positionType\\n      newLine\\n      oldLine\\n      newPath\\n      oldPath\\n      positionType\\n    }\\n  }\\n\\n  fragment noteDetails on Note {\\n    id\\n    createdAt\\n    system\\n    author {\\n      avatarUrl\\n      name\\n      username\\n      webUrl\\n    }\\n    body\\n    bodyHtml\\n    url\\n    userPermissions {\\n      resolveNote\\n      adminNote\\n      createNote\\n    }\\n    ...position\\n  }\\n\\n  fragment discussionDetails on Discussion {\\n    replyId\\n    createdAt\\n    resolved\\n    resolvable\\n    notes {\\n      pageInfo {\\n        hasNextPage\\n        endCursor\\n      }\\n      nodes {\\n        ...noteDetails\\n      }\\n    }\\n  }\\n\\n  fragment discussions on DiscussionConnection {\\n    pageInfo {\\n      hasNextPage\\n      endCursor\\n    }\\n    nodes {\\n      ...discussionDetails\\n    }\\n  }\\n\\n  query GetMrDiscussions($projectPath: ID!, $iid: String!, $afterCursor: String) {\\n    project(fullPath: $projectPath) {\\n      id\\n      mergeRequest(iid: $iid) {\\n        discussions(after: $afterCursor) {\\n          ...discussions\\n        }\\n      }\\n    }\\n  }\\n\",\"variables\":{\"projectPath\":\"dev\/ProjectName\",\"iid\":\"731\"}}}\n         \tat c:\\Users\\username\\.vscode\\extensions\\gitlab.gitlab-workflow-3.41.1\\out\\extension.js:31:15173\n         \tat o (c:\\Users\\username\\.vscode\\extensions\\gitlab.gitlab-workflow-3.41.1\\out\\extension.js:31:10042)\n         \tat Object.next (c:\\Users\\username\\.vscode\\extensions\\gitlab.gitlab-workflow-3.41.1\\out\\extension.js:31:9346)\n         \tat p (c:\\Users\\username\\.vscode\\extensions\\gitlab.gitlab-workflow-3.41.1\\out\\extension.js:31:8906)\n         \tat processTicksAndRejections (internal\/process\/task_queues.js:93:5)\n[error]: {\n           \"userMessage\": \"The extension failed to preload discussions on the MR diff.\\n            It's possible that you've encountered\\n            https:\/\/gitlab.com\/gitlab-org\/gitlab\/-\/issues\/298827.\",\n           \"errorMessage\": \"Field 'url' doesn't exist on type 'Note': {\\\"response\\\":{\\\"errors\\\":[{\\\"message\\\":\\\"Field 'url' doesn't exist on type 'Note'\\\",\\\"locations\\\":[{\\\"line\\\":35,\\\"column\\\":5}],\\\"path\\\":[\\\"fragment noteDetails\\\",\\\"url\\\"],\\\"extensions\\\":{\\\"code\\\":\\\"undefinedField\\\",\\\"typeName\\\":\\\"Note\\\",\\\"fieldName\\\":\\\"url\\\"}}],\\\"status\\\":200,\\\"headers\\\":{}},\\\"request\\\":{\\\"query\\\":\\\"\\\\n  \\\\n  \\\\n  \\\\n  \\\\n  fragment position on Note {\\\\n    position {\\\\n      diffRefs {\\\\n        baseSha\\\\n        headSha\\\\n        startSha\\\\n      }\\\\n      filePath\\\\n      positionType\\\\n      newLine\\\\n      oldLine\\\\n      newPath\\\\n      oldPath\\\\n      positionType\\\\n    }\\\\n  }\\\\n\\\\n  fragment noteDetails on Note {\\\\n    id\\\\n    createdAt\\\\n    system\\\\n    author {\\\\n      avatarUrl\\\\n      name\\\\n      username\\\\n      webUrl\\\\n    }\\\\n    body\\\\n    bodyHtml\\\\n    url\\\\n    userPermissions {\\\\n      resolveNote\\\\n      adminNote\\\\n      createNote\\\\n    }\\\\n    ...position\\\\n  }\\\\n\\\\n  fragment discussionDetails on Discussion {\\\\n    replyId\\\\n    createdAt\\\\n    resolved\\\\n    resolvable\\\\n    notes {\\\\n      pageInfo {\\\\n        hasNextPage\\\\n        endCursor\\\\n      }\\\\n      nodes {\\\\n        ...noteDetails\\\\n      }\\\\n    }\\\\n  }\\\\n\\\\n  fragment discussions on DiscussionConnection {\\\\n    pageInfo {\\\\n      hasNextPage\\\\n      endCursor\\\\n    }\\\\n    nodes {\\\\n      ...discussionDetails\\\\n    }\\\\n  }\\\\n\\\\n  query GetMrDiscussions($projectPath: ID!, $iid: String!, $afterCursor: String) {\\\\n    project(fullPath: $projectPath) {\\\\n      id\\\\n      mergeRequest(iid: $iid) {\\\\n        discussions(after: $afterCursor) {\\\\n          ...discussions\\\\n        }\\\\n      }\\\\n    }\\\\n  }\\\\n\\\",\\\"variables\\\":{\\\"projectPath\\\":\\\"dev\/ProjectName\\\",\\\"iid\\\":\\\"730\\\"}}}\",\n           \"stack\": [\n             \"Error: Field 'url' doesn't exist on type 'Note': {\\\"response\\\":{\\\"errors\\\":[{\\\"message\\\":\\\"Field 'url' doesn't exist on type 'Note'\\\",\\\"locations\\\":[{\\\"line\\\":35,\\\"column\\\":5}],\\\"path\\\":[\\\"fragment noteDetails\\\",\\\"url\\\"],\\\"extensions\\\":{\\\"code\\\":\\\"undefinedField\\\",\\\"typeName\\\":\\\"Note\\\",\\\"fieldName\\\":\\\"url\\\"}}],\\\"status\\\":200,\\\"headers\\\":{}},\\\"request\\\":{\\\"query\\\":\\\"\\\\n  \\\\n  \\\\n  \\\\n  \\\\n  fragment position on Note {\\\\n    position {\\\\n      diffRefs {\\\\n        baseSha\\\\n        headSha\\\\n        startSha\\\\n      }\\\\n      filePath\\\\n      positionType\\\\n      newLine\\\\n      oldLine\\\\n      newPath\\\\n      oldPath\\\\n      positionType\\\\n    }\\\\n  }\\\\n\\\\n  fragment noteDetails on Note {\\\\n    id\\\\n    createdAt\\\\n    system\\\\n    author {\\\\n      avatarUrl\\\\n      name\\\\n      username\\\\n      webUrl\\\\n    }\\\\n    body\\\\n    bodyHtml\\\\n    url\\\\n    userPermissions {\\\\n      resolveNote\\\\n      adminNote\\\\n      createNote\\\\n    }\\\\n    ...position\\\\n  }\\\\n\\\\n  fragment discussionDetails on Discussion {\\\\n    replyId\\\\n    createdAt\\\\n    resolved\\\\n    resolvable\\\\n    notes {\\\\n      pageInfo {\\\\n        hasNextPage\\\\n        endCursor\\\\n      }\\\\n      nodes {\\\\n        ...noteDetails\\\\n      }\\\\n    }\\\\n  }\\\\n\\\\n  fragment discussions on DiscussionConnection {\\\\n    pageInfo {\\\\n      hasNextPage\\\\n      endCursor\\\\n    }\\\\n    nodes {\\\\n      ...discussionDetails\\\\n    }\\\\n  }\\\\n\\\\n  query GetMrDiscussions($projectPath: ID!, $iid: String!, $afterCursor: String) {\\\\n    project(fullPath: $projectPath) {\\\\n      id\\\\n      mergeRequest(iid: $iid) {\\\\n        discussions(after: $afterCursor) {\\\\n          ...discussions\\\\n        }\\\\n      }\\\\n    }\\\\n  }\\\\n\\\",\\\"variables\\\":{\\\"projectPath\\\":\\\"dev\/ProjectName\\\",\\\"iid\\\":\\\"730\\\"}}}\",\n             \"\\tat c:\\\\Users\\\\username\\\\.vscode\\\\extensions\\\\gitlab.gitlab-workflow-3.41.1\\\\out\\\\extension.js:31:15173\",\n             \"\\tat o (c:\\\\Users\\\\username\\\\.vscode\\\\extensions\\\\gitlab.gitlab-workflow-3.41.1\\\\out\\\\extension.js:31:10042)\",\n             \"\\tat Object.next (c:\\\\Users\\\\username\\\\.vscode\\\\extensions\\\\gitlab.gitlab-workflow-3.41.1\\\\out\\\\extension.js:31:9346)\",\n             \"\\tat p (c:\\\\Users\\\\username\\\\.vscode\\\\extensions\\\\gitlab.gitlab-workflow-3.41.1\\\\out\\\\extension.js:31:8906)\",\n             \"\\tat processTicksAndRejections (internal\/process\/task_queues.js:93:5)\"\n           ]\n         }\n[error]: Field 'url' doesn't exist on type 'Note': {\"response\":{\"errors\":[{\"message\":\"Field 'url' doesn't exist on type 'Note'\",\"locations\":[{\"line\":35,\"column\":5}],\"path\":[\"fragment noteDetails\",\"url\"],\"extensions\":{\"code\":\"undefinedField\",\"typeName\":\"Note\",\"fieldName\":\"url\"}}],\"status\":200,\"headers\":{}},\"request\":{\"query\":\"\\n  \\n  \\n  \\n  \\n  fragment position on Note {\\n    position {\\n      diffRefs {\\n        baseSha\\n        headSha\\n        startSha\\n      }\\n      filePath\\n      positionType\\n      newLine\\n      oldLine\\n      newPath\\n      oldPath\\n      positionType\\n    }\\n  }\\n\\n  fragment noteDetails on Note {\\n    id\\n    createdAt\\n    system\\n    author {\\n      avatarUrl\\n      name\\n      username\\n      webUrl\\n    }\\n    body\\n    bodyHtml\\n    url\\n    userPermissions {\\n      resolveNote\\n      adminNote\\n      createNote\\n    }\\n    ...position\\n  }\\n\\n  fragment discussionDetails on Discussion {\\n    replyId\\n    createdAt\\n    resolved\\n    resolvable\\n    notes {\\n      pageInfo {\\n        hasNextPage\\n        endCursor\\n      }\\n      nodes {\\n        ...noteDetails\\n      }\\n    }\\n  }\\n\\n  fragment discussions on DiscussionConnection {\\n    pageInfo {\\n      hasNextPage\\n      endCursor\\n    }\\n    nodes {\\n      ...discussionDetails\\n    }\\n  }\\n\\n  query GetMrDiscussions($projectPath: ID!, $iid: String!, $afterCursor: String) {\\n    project(fullPath: $projectPath) {\\n      id\\n      mergeRequest(iid: $iid) {\\n        discussions(after: $afterCursor) {\\n          ...discussions\\n        }\\n      }\\n    }\\n  }\\n\",\"variables\":{\"projectPath\":\"dev\/ProjectName\",\"iid\":\"730\"}}}\n         Error: Field 'url' doesn't exist on type 'Note': {\"response\":{\"errors\":[{\"message\":\"Field 'url' doesn't exist on type 'Note'\",\"locations\":[{\"line\":35,\"column\":5}],\"path\":[\"fragment noteDetails\",\"url\"],\"extensions\":{\"code\":\"undefinedField\",\"typeName\":\"Note\",\"fieldName\":\"url\"}}],\"status\":200,\"headers\":{}},\"request\":{\"query\":\"\\n  \\n  \\n  \\n  \\n  fragment position on Note {\\n    position {\\n      diffRefs {\\n        baseSha\\n        headSha\\n        startSha\\n      }\\n      filePath\\n      positionType\\n      newLine\\n      oldLine\\n      newPath\\n      oldPath\\n      positionType\\n    }\\n  }\\n\\n  fragment noteDetails on Note {\\n    id\\n    createdAt\\n    system\\n    author {\\n      avatarUrl\\n      name\\n      username\\n      webUrl\\n    }\\n    body\\n    bodyHtml\\n    url\\n    userPermissions {\\n      resolveNote\\n      adminNote\\n      createNote\\n    }\\n    ...position\\n  }\\n\\n  fragment discussionDetails on Discussion {\\n    replyId\\n    createdAt\\n    resolved\\n    resolvable\\n    notes {\\n      pageInfo {\\n        hasNextPage\\n        endCursor\\n      }\\n      nodes {\\n        ...noteDetails\\n      }\\n    }\\n  }\\n\\n  fragment discussions on DiscussionConnection {\\n    pageInfo {\\n      hasNextPage\\n      endCursor\\n    }\\n    nodes {\\n      ...discussionDetails\\n    }\\n  }\\n\\n  query GetMrDiscussions($projectPath: ID!, $iid: String!, $afterCursor: String) {\\n    project(fullPath: $projectPath) {\\n      id\\n      mergeRequest(iid: $iid) {\\n        discussions(after: $afterCursor) {\\n          ...discussions\\n        }\\n      }\\n    }\\n  }\\n\",\"variables\":{\"projectPath\":\"dev\/ProjectName\",\"iid\":\"730\"}}}\n         \tat c:\\Users\\username\\.vscode\\extensions\\gitlab.gitlab-workflow-3.41.1\\out\\extension.js:31:15173\n         \tat o (c:\\Users\\username\\.vscode\\extensions\\gitlab.gitlab-workflow-3.41.1\\out\\extension.js:31:10042)\n         \tat Object.next (c:\\Users\\username\\.vscode\\extensions\\gitlab.gitlab-workflow-3.41.1\\out\\extension.js:31:9346)\n         \tat p (c:\\Users\\username\\.vscode\\extensions\\gitlab.gitlab-workflow-3.41.1\\out\\extension.js:31:8906)\n         \tat runMicrotasks (<anonymous>)\n         \tat processTicksAndRejections (internal\/process\/task_queues.js:93:5)\n[error]: {\n           \"userMessage\": \"The extension failed to preload discussions on the MR diff.\\n            It's possible that you've encountered\\n            https:\/\/gitlab.com\/gitlab-org\/gitlab\/-\/issues\/298827.\",\n           \"errorMessage\": \"Field 'url' doesn't exist on type 'Note': {\\\"response\\\":{\\\"errors\\\":[{\\\"message\\\":\\\"Field 'url' doesn't exist on type 'Note'\\\",\\\"locations\\\":[{\\\"line\\\":35,\\\"column\\\":5}],\\\"path\\\":[\\\"fragment noteDetails\\\",\\\"url\\\"],\\\"extensions\\\":{\\\"code\\\":\\\"undefinedField\\\",\\\"typeName\\\":\\\"Note\\\",\\\"fieldName\\\":\\\"url\\\"}}],\\\"status\\\":200,\\\"headers\\\":{}},\\\"request\\\":{\\\"query\\\":\\\"\\\\n  \\\\n  \\\\n  \\\\n  \\\\n  fragment position on Note {\\\\n    position {\\\\n      diffRefs {\\\\n        baseSha\\\\n        headSha\\\\n        startSha\\\\n      }\\\\n      filePath\\\\n      positionType\\\\n      newLine\\\\n      oldLine\\\\n      newPath\\\\n      oldPath\\\\n      positionType\\\\n    }\\\\n  }\\\\n\\\\n  fragment noteDetails on Note {\\\\n    id\\\\n    createdAt\\\\n    system\\\\n    author {\\\\n      avatarUrl\\\\n      name\\\\n      username\\\\n      webUrl\\\\n    }\\\\n    body\\\\n    bodyHtml\\\\n    url\\\\n    userPermissions {\\\\n      resolveNote\\\\n      adminNote\\\\n      createNote\\\\n    }\\\\n    ...position\\\\n  }\\\\n\\\\n  fragment discussionDetails on Discussion {\\\\n    replyId\\\\n    createdAt\\\\n    resolved\\\\n    resolvable\\\\n    notes {\\\\n      pageInfo {\\\\n        hasNextPage\\\\n        endCursor\\\\n      }\\\\n      nodes {\\\\n        ...noteDetails\\\\n      }\\\\n    }\\\\n  }\\\\n\\\\n  fragment discussions on DiscussionConnection {\\\\n    pageInfo {\\\\n      hasNextPage\\\\n      endCursor\\\\n    }\\\\n    nodes {\\\\n      ...discussionDetails\\\\n    }\\\\n  }\\\\n\\\\n  query GetMrDiscussions($projectPath: ID!, $iid: String!, $afterCursor: String) {\\\\n    project(fullPath: $projectPath) {\\\\n      id\\\\n      mergeRequest(iid: $iid) {\\\\n        discussions(after: $afterCursor) {\\\\n          ...discussions\\\\n        }\\\\n      }\\\\n    }\\\\n  }\\\\n\\\",\\\"variables\\\":{\\\"projectPath\\\":\\\"dev\/ProjectName\\\",\\\"iid\\\":\\\"729\\\"}}}\",\n           \"stack\": [\n             \"Error: Field 'url' doesn't exist on type 'Note': {\\\"response\\\":{\\\"errors\\\":[{\\\"message\\\":\\\"Field 'url' doesn't exist on type 'Note'\\\",\\\"locations\\\":[{\\\"line\\\":35,\\\"column\\\":5}],\\\"path\\\":[\\\"fragment noteDetails\\\",\\\"url\\\"],\\\"extensions\\\":{\\\"code\\\":\\\"undefinedField\\\",\\\"typeName\\\":\\\"Note\\\",\\\"fieldName\\\":\\\"url\\\"}}],\\\"status\\\":200,\\\"headers\\\":{}},\\\"request\\\":{\\\"query\\\":\\\"\\\\n  \\\\n  \\\\n  \\\\n  \\\\n  fragment position on Note {\\\\n    position {\\\\n      diffRefs {\\\\n        baseSha\\\\n        headSha\\\\n        startSha\\\\n      }\\\\n      filePath\\\\n      positionType\\\\n      newLine\\\\n      oldLine\\\\n      newPath\\\\n      oldPath\\\\n      positionType\\\\n    }\\\\n  }\\\\n\\\\n  fragment noteDetails on Note {\\\\n    id\\\\n    createdAt\\\\n    system\\\\n    author {\\\\n      avatarUrl\\\\n      name\\\\n      username\\\\n      webUrl\\\\n    }\\\\n    body\\\\n    bodyHtml\\\\n    url\\\\n    userPermissions {\\\\n      resolveNote\\\\n      adminNote\\\\n      createNote\\\\n    }\\\\n    ...position\\\\n  }\\\\n\\\\n  fragment discussionDetails on Discussion {\\\\n    replyId\\\\n    createdAt\\\\n    resolved\\\\n    resolvable\\\\n    notes {\\\\n      pageInfo {\\\\n        hasNextPage\\\\n        endCursor\\\\n      }\\\\n      nodes {\\\\n        ...noteDetails\\\\n      }\\\\n    }\\\\n  }\\\\n\\\\n  fragment discussions on DiscussionConnection {\\\\n    pageInfo {\\\\n      hasNextPage\\\\n      endCursor\\\\n    }\\\\n    nodes {\\\\n      ...discussionDetails\\\\n    }\\\\n  }\\\\n\\\\n  query GetMrDiscussions($projectPath: ID!, $iid: String!, $afterCursor: String) {\\\\n    project(fullPath: $projectPath) {\\\\n      id\\\\n      mergeRequest(iid: $iid) {\\\\n        discussions(after: $afterCursor) {\\\\n          ...discussions\\\\n        }\\\\n      }\\\\n    }\\\\n  }\\\\n\\\",\\\"variables\\\":{\\\"projectPath\\\":\\\"dev\/ProjectName\\\",\\\"iid\\\":\\\"729\\\"}}}\",\n             \"\\tat c:\\\\Users\\\\username\\\\.vscode\\\\extensions\\\\gitlab.gitlab-workflow-3.41.1\\\\out\\\\extension.js:31:15173\",\n             \"\\tat o (c:\\\\Users\\\\username\\\\.vscode\\\\extensions\\\\gitlab.gitlab-workflow-3.41.1\\\\out\\\\extension.js:31:10042)\",\n             \"\\tat Object.next (c:\\\\Users\\\\username\\\\.vscode\\\\extensions\\\\gitlab.gitlab-workflow-3.41.1\\\\out\\\\extension.js:31:9346)\",\n             \"\\tat p (c:\\\\Users\\\\username\\\\.vscode\\\\extensions\\\\gitlab.gitlab-workflow-3.41.1\\\\out\\\\extension.js:31:8906)\",\n             \"\\tat runMicrotasks (<anonymous>)\",\n             \"\\tat processTicksAndRejections (internal\/process\/task_queues.js:93:5)\"\n           ]\n         }\n[error]: Field 'url' doesn't exist on type 'Note': {\"response\":{\"errors\":[{\"message\":\"Field 'url' doesn't exist on type 'Note'\",\"locations\":[{\"line\":35,\"column\":5}],\"path\":[\"fragment noteDetails\",\"url\"],\"extensions\":{\"code\":\"undefinedField\",\"typeName\":\"Note\",\"fieldName\":\"url\"}}],\"status\":200,\"headers\":{}},\"request\":{\"query\":\"\\n  \\n  \\n  \\n  \\n  fragment position on Note {\\n    position {\\n      diffRefs {\\n        baseSha\\n        headSha\\n        startSha\\n      }\\n      filePath\\n      positionType\\n      newLine\\n      oldLine\\n      newPath\\n      oldPath\\n      positionType\\n    }\\n  }\\n\\n  fragment noteDetails on Note {\\n    id\\n    createdAt\\n    system\\n    author {\\n      avatarUrl\\n      name\\n      username\\n      webUrl\\n    }\\n    body\\n    bodyHtml\\n    url\\n    userPermissions {\\n      resolveNote\\n      adminNote\\n      createNote\\n    }\\n    ...position\\n  }\\n\\n  fragment discussionDetails on Discussion {\\n    replyId\\n    createdAt\\n    resolved\\n    resolvable\\n    notes {\\n      pageInfo {\\n        hasNextPage\\n        endCursor\\n      }\\n      nodes {\\n        ...noteDetails\\n      }\\n    }\\n  }\\n\\n  fragment discussions on DiscussionConnection {\\n    pageInfo {\\n      hasNextPage\\n      endCursor\\n    }\\n    nodes {\\n      ...discussionDetails\\n    }\\n  }\\n\\n  query GetMrDiscussions($projectPath: ID!, $iid: String!, $afterCursor: String) {\\n    project(fullPath: $projectPath) {\\n      id\\n      mergeRequest(iid: $iid) {\\n        discussions(after: $afterCursor) {\\n          ...discussions\\n        }\\n      }\\n    }\\n  }\\n\",\"variables\":{\"projectPath\":\"dev\/ProjectName\",\"iid\":\"729\"}}}\n         Error: Field 'url' doesn't exist on type 'Note': {\"response\":{\"errors\":[{\"message\":\"Field 'url' doesn't exist on type 'Note'\",\"locations\":[{\"line\":35,\"column\":5}],\"path\":[\"fragment noteDetails\",\"url\"],\"extensions\":{\"code\":\"undefinedField\",\"typeName\":\"Note\",\"fieldName\":\"url\"}}],\"status\":200,\"headers\":{}},\"request\":{\"query\":\"\\n  \\n  \\n  \\n  \\n  fragment position on Note {\\n    position {\\n      diffRefs {\\n        baseSha\\n        headSha\\n        startSha\\n      }\\n      filePath\\n      positionType\\n      newLine\\n      oldLine\\n      newPath\\n      oldPath\\n      positionType\\n    }\\n  }\\n\\n  fragment noteDetails on Note {\\n    id\\n    createdAt\\n    system\\n    author {\\n      avatarUrl\\n      name\\n      username\\n      webUrl\\n    }\\n    body\\n    bodyHtml\\n    url\\n    userPermissions {\\n      resolveNote\\n      adminNote\\n      createNote\\n    }\\n    ...position\\n  }\\n\\n  fragment discussionDetails on Discussion {\\n    replyId\\n    createdAt\\n    resolved\\n    resolvable\\n    notes {\\n      pageInfo {\\n        hasNextPage\\n        endCursor\\n      }\\n      nodes {\\n        ...noteDetails\\n      }\\n    }\\n  }\\n\\n  fragment discussions on DiscussionConnection {\\n    pageInfo {\\n      hasNextPage\\n      endCursor\\n    }\\n    nodes {\\n      ...discussionDetails\\n    }\\n  }\\n\\n  query GetMrDiscussions($projectPath: ID!, $iid: String!, $afterCursor: String) {\\n    project(fullPath: $projectPath) {\\n      id\\n      mergeRequest(iid: $iid) {\\n        discussions(after: $afterCursor) {\\n          ...discussions\\n        }\\n      }\\n    }\\n  }\\n\",\"variables\":{\"projectPath\":\"dev\/ProjectName\",\"iid\":\"729\"}}}\n         \tat c:\\Users\\username\\.vscode\\extensions\\gitlab.gitlab-workflow-3.41.1\\out\\extension.js:31:15173\n         \tat o (c:\\Users\\username\\.vscode\\extensions\\gitlab.gitlab-workflow-3.41.1\\out\\extension.js:31:10042)\n         \tat Object.next (c:\\Users\\username\\.vscode\\extensions\\gitlab.gitlab-workflow-3.41.1\\out\\extension.js:31:9346)\n         \tat p (c:\\Users\\username\\.vscode\\extensions\\gitlab.gitlab-workflow-3.41.1\\out\\extension.js:31:8906)\n         \tat runMicrotasks (<anonymous>)\n         \tat processTicksAndRejections (internal\/process\/task_queues.js:93:5)\n\n```\n<!-- Logs can be found by running `GitLab: Show extension logs` command (using `cmd+shift+p`) -->\n\n### Possible fixes\n\nIt seems that the extension failed to parse the project id correctly. I try to open `C:\\Users\\username\\.vscode\\extensions\\gitlab.gitlab-workflow-3.41.1` and replace regex `\\$\\{\\w+\\.project_id\\}` with my project id `438`, then I can see the pipeline result correctly, but the merge requests still can't be opened.\n<!-- If you can, link to the line of code that might be responsible for the problem -->","state":"closed","created_at":1647245832947,"updated_at":1647596320050,"closed_at":1647422707613,"closed_by":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"labels":["Category:GitLab CLI","VS Code","devops::create","group::code review","section::dev","type::bug"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https:\/\/gitlab.com\/groups\/gitlab-org\/-\/milestones\/71"},"assignees":[{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"}],"author":{"id":11104362,"username":"EurekaSeven","name":"Eureka Seven","state":"active","avatar_url":"https:\/\/secure.gravatar.com\/avatar\/970f642c0a4ad147e976c216c5a30a45?s=80&d=identicon","web_url":"https:\/\/gitlab.com\/EurekaSeven"},"type":"ISSUE","assignee":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/551","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":3},"weight":1,"blocking_issues_count":0,"has_tasks":false,"task_status":null,"_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/551","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/551\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/551\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717","closed_as_duplicate_of":null},"references":{"short":"#551","relative":"#551","full":"gitlab-org\/gitlab-vscode-extension#551"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":103967604,"iid":545,"project_id":5261717,"title":"Fix \/merge quick action by submitting head SHA with the new note","description":"\n### Summary\n\nThe `\/merge` quick action in any MR comment causes the API to fail. Original issue: https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/352\n\n![merge-quick-action](\/uploads\/27f47835194fa6553869733be9523f91\/merge-quick-action.mp4)\n\n### Steps to reproduce\n\nTry to send a comment on an open MR that contains the `\/merge` quick action.\n\n### What is the current _bug_ behavior?\n\nGitLab API fails with 500 error.\n\n### What is the expected _correct_ behavior?\n\nThe MR gets merged.\n\n### Relevant logs and\/or screenshots\n\n<!-- Logs can be found by running `GitLab: Show extension logs` command (using `cmd+shift+p`) -->\n\n### Possible fixes\n\nWe need to submit the `CreateNoteInput.mergeRequestDiffHeadSha` parameter to the GraphQL `createNote` mutation. This parameter should contain the MR HEAD SHA and it is used for optimistic locking.\n\nMaybe we'll need to add a condition and only submit the parameter if the GitLab version is 14.9 or higher. I'm not 100% sure how GraphQL handles input parameters that are not defined (because the `mergeRequestDiffHeadSha` parameter won't be defined on older versions)","state":"closed","created_at":1646224085948,"updated_at":1650458630563,"closed_at":1650458630548,"closed_by":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"labels":["Category:GitLab CLI","Deliverable","VS Code","devops::create","group::code review","section::dev","type::bug"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https:\/\/gitlab.com\/groups\/gitlab-org\/-\/milestones\/72"},"assignees":[],"author":{"id":5918904,"username":"marc_shaw","name":"Marc Shaw","state":"active","avatar_url":"https:\/\/secure.gravatar.com\/avatar\/78c946cb19e40815a2b5d97cefecec6a?s=80&d=identicon","web_url":"https:\/\/gitlab.com\/marc_shaw"},"type":"ISSUE","assignee":null,"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/545","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/545","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/545\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/545\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717","closed_as_duplicate_of":null},"references":{"short":"#545","relative":"#545","full":"gitlab-org\/gitlab-vscode-extension#545"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7648.0,"epic":{"id":454264,"iid":7648,"title":"Submitting MR comment through API fails if the comment contains \/merge quick action","url":"\/groups\/gitlab-org\/-\/epics\/7648","group_id":9970,"human_readable_end_date":"Aug 17, 2022","human_readable_timestamp":"<strong>Past due<\/strong>"},"iteration":null,"health_status":null},{"id":103884289,"iid":544,"project_id":5261717,"title":"POC - OAuth GitLab login in addition to token login","description":"### Problem to solve\n\nThe current way of generating Personal Access token and adding it to the extension is relatively complicated and prone to errors. More information is in the original issue https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/221\n\n### Proposal\n\nIn the proof of concept we would test the OAuth login locally:\n\n1. Create an [instance-wide OAuth application](https:\/\/docs.gitlab.com\/ee\/integration\/oauth_provider.html#instance-wide-applications) in the local GDK\n1. Create a page that GitLab redirects to when user gives the OAuth permission\n    - Try localhost server triggered by the extension (this is how JetBrains GitHub plugin does it)\n    - If that doesn't work, we can try to use GitLab Pages (that's similar to how the VS Code GitHub extension does it)\n1. Implement the OAuth flow in the extension\n\n### Further details\n\nThis is going to be proof-of-concept with throwaway code. The output is going to be:\n\n- POC code in the extension\n- Documentation on how to set up the OAuth application in the GitLab instance.\n- It would be good to think how could this OAuth flow be adjusted for alternative VS Code deployments (Gitpod or `vscode.dev`) but that might be out of scope for this quick spike.\n\n### Links \/ references","state":"closed","created_at":1646131865632,"updated_at":1651051111530,"closed_at":1651051111509,"closed_by":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"labels":["Category:GitLab CLI","VS Code","devops::create","group::code review","section::dev","type::feature"],"milestone":null,"assignees":[],"author":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"type":"ISSUE","assignee":null,"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/544","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/544","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/544\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/544\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717","closed_as_duplicate_of":null},"references":{"short":"#544","relative":"#544","full":"gitlab-org\/gitlab-vscode-extension#544"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":101152837,"iid":530,"project_id":5261717,"title":"Reintroduce minimal GitLab version warning","description":"<!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"feature\" label:\n\n- https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues?label_name%5B%5D=feature\n\nand verify the issue you're about to submit isn't a duplicate.\n--->\n\n### Problem to solve\n\nThere are currently two version-related checks that could cut down on our triage\/support time:\n\n* [The README note](https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension#minimum-supported-version) - I have doubts that many people would install the extension, read this part of readme and double-check their GitLab instance version.\n* [The Bug.md issue template](https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/blob\/main\/.gitlab\/issue_templates\/Bug.md) - From my experience maybe 20% of bug reports use that template, the rest is people clicking \"New Issue\" and describing their problem in the description.\n  * I sometimes follow up and ask the issue creator to double-check their version but not always\n\nThe checks that we have in place are (IMO) not successful at letting people know they are using an unsupported GitLab version (unless they use the two features specified in [feat: remove minimal version requirement in favour of per-feature checking](https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/merge_requests\/342)).\n\n### Proposal\n\nReintroduce the minimal version check that we removed in https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/merge_requests\/342\n\nSet the minimum supported version to 13.0\n\n### Further details\n\n<!-- Include examples, use cases, benefits, goals, or any other details that will help us understand the problem better. -->\n\n### Links \/ references","state":"closed","created_at":1643033984538,"updated_at":1661083284973,"closed_at":1659941580077,"closed_by":{"id":10539680,"username":"slashmanov","name":"Stanislav Lashmanov","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/10539680\/avatar.png","web_url":"https:\/\/gitlab.com\/slashmanov"},"labels":["Category:GitLab CLI","Deliverable","SUS::Impacting","Technical Writing","UI text","VS Code","devops::create","frontend","group::code review","missed-deliverable","missed:15.2","section::dev","severity::3","type::feature","workflow::in review"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https:\/\/gitlab.com\/groups\/gitlab-org\/-\/milestones\/75"},"assignees":[{"id":10539680,"username":"slashmanov","name":"Stanislav Lashmanov","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/10539680\/avatar.png","web_url":"https:\/\/gitlab.com\/slashmanov"}],"author":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"type":"ISSUE","assignee":{"id":10539680,"username":"slashmanov","name":"Stanislav Lashmanov","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/10539680\/avatar.png","web_url":"https:\/\/gitlab.com\/slashmanov"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/530","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/530","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/530\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/530\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717","closed_as_duplicate_of":null},"references":{"short":"#530","relative":"#530","full":"gitlab-org\/gitlab-vscode-extension#530"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":100379393,"iid":523,"project_id":5261717,"title":"No pipeline nor MR found for current branch","description":"### Summary\n\nI have been using the extension smoothly for many month but a few days ago it stopped properly linking the remote branch MRs and Pipelines. When I am on master\/main it still works, but as soon as I switch to any other branch it stops showing the latest MR and pipeline status in the bottom bar. In the extension sidebar is stills shows the project merge requests though... I have uninstall and re-install, but this did not fix the issue.\n\n![image](\/uploads\/735c95a3d496e5a4e0d0d181ddb74feb\/image.png)  \n\n### Steps to reproduce\n\nSee above\n\n### Relevant logs and\/or screenshots\n\nNothing particularly suspicious in the logs:\n```\n[info]: Found https:\/\/gitlab.com in the PAT list and git remotes, using it as the instanceUrl\n[info]: Found https:\/\/gitlab.com in the PAT list and git remotes, using it as the instanceUrl\n[info]: Found https:\/\/gitlab.com in the PAT list and git remotes, using it as the instanceUrl\n[info]: Found https:\/\/gitlab.com in the PAT list and git remotes, using it as the instanceUrl\n[info]: Found https:\/\/gitlab.com in the PAT list and git remotes, using it as the instanceUrl\n[info]: Found https:\/\/gitlab.com in the PAT list and git remotes, using it as the instanceUrl\n[info]: Found https:\/\/gitlab.com in the PAT list and git remotes, using it as the instanceUrl\n[info]: Found https:\/\/gitlab.com in the PAT list and git remotes, using it as the instanceUrl\n[info]: Found https:\/\/gitlab.com in the PAT list and git remotes, using it as the instanceUrl\n[info]: Found https:\/\/gitlab.com in the PAT list and git remotes, using it as the instanceUrl\n[info]: Found https:\/\/gitlab.com in the PAT list and git remotes, using it as the instanceUrl\n[info]: Found https:\/\/gitlab.com in the PAT list and git remotes, using it as the instanceUrl\n[info]: Found https:\/\/gitlab.com in the PAT list and git remotes, using it as the instanceUrl\n[info]: Found https:\/\/gitlab.com in the PAT list and git remotes, using it as the instanceUrl\n[info]: Found https:\/\/gitlab.com in the PAT list and git remotes, using it as the instanceUrl\n[info]: Found https:\/\/gitlab.com in the PAT list and git remotes, using it as the instanceUrl\n[info]: Found https:\/\/gitlab.com in the PAT list and git remotes, using it as the instanceUrl\n[info]: Found https:\/\/gitlab.com in the PAT list and git remotes, using it as the instanceUrl\n[info]: Found https:\/\/gitlab.com in the PAT list and git remotes, using it as the instanceUrl\n[info]: Found https:\/\/gitlab.com in the PAT list and git remotes, using it as the instanceUrl\n```","state":"closed","created_at":1641835980840,"updated_at":1642516960506,"closed_at":1642510648113,"closed_by":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"labels":["Category:GitLab CLI","VS Code","bug","devops::create","group::code review","section::dev","workflow::in review"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https:\/\/gitlab.com\/groups\/gitlab-org\/-\/milestones\/70"},"assignees":[{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"}],"author":{"id":9663722,"username":"pablo151","name":"Pablo Salas","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/9663722\/avatar.png","web_url":"https:\/\/gitlab.com\/pablo151"},"type":"ISSUE","assignee":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"user_notes_count":6,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/523","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/523","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/523\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/523\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717","closed_as_duplicate_of":null},"references":{"short":"#523","relative":"#523","full":"gitlab-org\/gitlab-vscode-extension#523"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":98682076,"iid":515,"project_id":5261717,"title":"Validate personal access token right after the user added it","description":"### Problem to solve\n\nUsers can add a personal access token that is invalid or expired, or they make a typo when entering the instance URL.\n\nThe extension will save this potentially incorrect pair (instance URL, token) and the user will find about the invalid token later when they try to use some of the extension functionality\n\n### Proposal\n\nValidate the token instantly after the user adds it. We can do that by calling `instanceUrl\/api\/v4\/version` API endpoint.\n\n### Further details\n\nThanks @pslaughter for suggesting this ~\"type::feature\" \n\n### Links \/ references","state":"closed","created_at":1638981121060,"updated_at":1650265273367,"closed_at":1648818401764,"closed_by":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"labels":["Category:GitLab CLI","Deliverable","VS Code","devops::create","group::code review","section::dev","type::feature","workflow::production"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https:\/\/gitlab.com\/groups\/gitlab-org\/-\/milestones\/72"},"assignees":[{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"}],"author":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"type":"ISSUE","assignee":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/515","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/515","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/515\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/515\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717","closed_as_duplicate_of":null},"references":{"short":"#515","relative":"#515","full":"gitlab-org\/gitlab-vscode-extension#515"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":98158818,"iid":506,"project_id":5261717,"title":"Remote repositories not showing all files","description":"\n\n### Checklist\n\n<!-- Please test the latest versions, that will remove the possibility that you see a bug that is fixed in a newer version. -->\n\n- [x] I'm using the latest version of the extension ([see the latest version in the right column of this page](https:\/\/marketplace.visualstudio.com\/items?itemName=GitLab.gitlab-workflow))\n  - Extension version: 3.38.1\n- [x] I'm using the latest VS Code version ([find the latest version here](https:\/\/github.com\/microsoft\/vscode\/releases))\n  - VS Code version: Latest insiders\n- [x] I'm using a supported version of GitLab ([see README for the supported version](https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/blob\/main\/README.md#minimum-supported-version))\n  - GitLab version: happens on `gitlab.com`\n\n### Summary\n\nThe extension loads a maximum of 20 files in the folder, if the folder has got more files\/folders than that, the remote repository won't show them.\n\n| local repository | remote repository |\n| ------ | ------ |\n| ![image](\/uploads\/733d37a1fb933a419b18c9fec9444e50\/image.png) | ![image](\/uploads\/746bbc525e2606ce3133d908404d65b1\/image.png) |\n\n\n### Steps to reproduce\n\nOpen https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension as a remote repository, then open the `src\/` folder.\n\n### What is the current *bug* behavior?\n\nThe `src` folder has only 20 files.\n\n### What is the expected *correct* behavior?\n\nThe `src` folder shows all the files\n\n\n### Possible fixes\n\nWe need to make sure we load all pages if the REST API result is paginated","state":"closed","created_at":1638263979223,"updated_at":1647348662643,"closed_at":1642510486836,"closed_by":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"labels":["Category:GitLab CLI","VS Code","devops::create","group::code review","section::dev","type::bug"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https:\/\/gitlab.com\/groups\/gitlab-org\/-\/milestones\/70"},"assignees":[{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"}],"author":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"type":"ISSUE","assignee":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/506","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":3},"weight":1,"blocking_issues_count":0,"has_tasks":false,"task_status":null,"_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/506","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/506\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/506\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717","closed_as_duplicate_of":null},"references":{"short":"#506","relative":"#506","full":"gitlab-org\/gitlab-vscode-extension#506"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":97260473,"iid":500,"project_id":5261717,"title":"Feature Request: Pipeline view does not show stages containing manually triggered jobs","description":"<!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"feature\" label:\n\n- https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues?label_name%5B%5D=feature\n\nand verify the issue you're about to submit isn't a duplicate.\n--->  There is no issue with a \"feature\" label as of submission time\n\n### Problem to solve\n\nAs a developer using this feature to monitor pipelines for the projects I work on, some of the pipelines contain stages containing [manual jobs](https:\/\/docs.gitlab.com\/ee\/ci\/jobs\/job_control.html#create-a-job-that-must-be-run-manually).  In the pipeline view for the extension, I do not see these stages nor can I manually trigger any of these jobs despite the stage containing these manual jobs also containing non-manual jobs.  Being able to view and trigger these jobs would allow for me to do more pipeline management from within VS code without having to use the web API.\n\n### Proposal\n\nExtend the pipeline view to include viewing manual jobs and the ability to trigger them.\n\n### Further details\n\n\n### Links \/ references","state":"closed","created_at":1636744844596,"updated_at":1662720829308,"closed_at":1662720829295,"closed_by":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"labels":["Category:GitLab CLI","VS Code","devops::create","group::code review","section::dev","type::feature"],"milestone":null,"assignees":[],"author":{"id":10205581,"username":"jessedenissullivan461","name":"Jesse Sullivan","state":"active","avatar_url":"https:\/\/secure.gravatar.com\/avatar\/fb5025ec1a436090e3f97603b5be1c45?s=80&d=identicon","web_url":"https:\/\/gitlab.com\/jessedenissullivan461"},"type":"ISSUE","assignee":null,"user_notes_count":3,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/500","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/500","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/500\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/500\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717","closed_as_duplicate_of":null},"references":{"short":"#500","relative":"#500","full":"gitlab-org\/gitlab-vscode-extension#500"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":96370440,"iid":487,"project_id":5261717,"title":"Extension ignores expired token and fails in the wrong place","description":"Original title: (*Open Active File on GitLab fails with Cannot read property 'webUrl' of null*)\n\n### Checklist\n\n- [x] I'm using the latest version of the extension 3.34.0 ([see the latest version in the right column of this page](https:\/\/marketplace.visualstudio.com\/items?itemName=GitLab.gitlab-workflow))\n  - Extension version: *Put your extension version here*\n- [x] I'm using the latest VS Code version ([find the latest version here](https:\/\/github.com\/microsoft\/vscode\/releases))\n  - VS Code version:\nVersion: 1.61.2\nCommit: 6cba118ac49a1b88332f312a8f67186f7f3c1643\nDate: 2021-10-19T15:49:28.381Z\nElectron: 13.5.1\nChrome: 91.0.4472.164\nNode.js: 14.16.0\nV8: 9.1.269.39-electron.0\nOS: Darwin x64 20.6.0\n- [x] I'm using a supported version of GitLab ([see README for the supported version](https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/blob\/main\/README.md#minimum-supported-version))\n  - GitLab version: 14.4.0-ee\n### Summary\n\nWhen I use the \"Open Active File on GitLab\" fails with Cannot read property 'webUrl' of null\n\n### Steps to reproduce\n\nUse an expired token to set up the extension.\n\nOpen any file and execute the \"Open Active File on GitLab\" command.\n\n### What is the current *bug* behavior?\n\nNothing happens. No error, no browser window opened.\n\nBefore I updated it used to give this error:\n\n```\nCannot read property 'webUrl' of null\nTypeError: Cannot read property 'webUrl' of null\nat getActiveFile (\/Users\/myusername\/.vscode\/extensions\/gitlab.gitlab-workflow-3.33.0\/out\/src\/openers.js:91:39)\nat processTicksAndRejections (internal\/process\/task_queues.js:93:5)\nat async openActiveFile (\/Users\/myusername\/.vscode\/extensions\/gitlab.gitlab-workflow-3.33.0\/out\/src\/openers.js:103:33)\nat async \/Users\/myusername\/.vscode\/extensions\/gitlab.gitlab-workflow-3.33.0\/out\/src\/extension.js:36:9\nat async _executeContributedCommand (\/Applications\/Visual Studio Code.app\/Contents\/Resources\/app\/out\/vs\/workbench\/services\/extensions\/node\/extensionHostProcess.js:94:110871)\n```\n\n### What is the expected *correct* behavior?\n\nIt should open a browser window with the file I selected.\n\n### Relevant logs and\/or screenshots\n\nIt looks like my logs are empty.","state":"closed","created_at":1635482732256,"updated_at":1649077556289,"closed_at":1638867746844,"closed_by":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"labels":["Category:GitLab CLI","Deliverable","VS Code","devops::create","group::code review","section::dev","type::bug","workflow::production"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https:\/\/about.gitlab.com\/releases\/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https:\/\/gitlab.com\/groups\/gitlab-org\/-\/milestones\/67"},"assignees":[{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"}],"author":{"id":1131985,"username":"bwj.johnson","name":"Ben Johnson","state":"active","avatar_url":"https:\/\/secure.gravatar.com\/avatar\/9a933bba5e55c6e0dbf704900cc951b1?s=80&d=identicon","web_url":"https:\/\/gitlab.com\/bwj.johnson"},"type":"ISSUE","assignee":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/487","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":3},"weight":1,"blocking_issues_count":0,"has_tasks":false,"task_status":null,"_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/487","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/487\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/487\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717","closed_as_duplicate_of":null},"references":{"short":"#487","relative":"#487","full":"gitlab-org\/gitlab-vscode-extension#487"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":96137280,"iid":482,"project_id":5261717,"title":"Validate that instance URL starts with protocol","description":"### Problem to solve\n\nCurrently, users can add GitLab instance URLs that do not start with the protocol. This can happen in both the `gitlab.instanceUrl` setting and the instance URL specified when adding token.\n\nThis sometimes makes extension setup more confusing (e.g. #481).\n\n\n### Proposal\n\nWhen the user adds a token, validate that the instance URL starts with a protocol (either `http:\/\/` or `https:\/\/`).\n\nWhen the extension notices a `gitlab.instanceUrl` setting, it warns user if the setting doesn't start with a protocol.\n\n### Further details\n\nThis would work well with https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/515\n\n\n### Links \/ references","state":"closed","created_at":1635232593326,"updated_at":1647586866586,"closed_at":1646817448300,"closed_by":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"labels":["Category:GitLab CLI","Deliverable","VS Code","devops::create","frontend","group::code review","section::dev","type::feature"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https:\/\/gitlab.com\/groups\/gitlab-org\/-\/milestones\/71"},"assignees":[{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"}],"author":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"type":"ISSUE","assignee":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/482","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/482","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/482\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/482\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717","closed_as_duplicate_of":null},"references":{"short":"#482","relative":"#482","full":"gitlab-org\/gitlab-vscode-extension#482"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":95823326,"iid":479,"project_id":5261717,"title":"request: support vscode browser based extension (vscode.dev)","description":"<!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"feature\" label:\n\n- https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues?label_name%5B%5D=feature\n\nand verify the issue you're about to submit isn't a duplicate.\n--->\n\n### Problem to solve\n\n<!-- What problem do we solve? Try\u00a0to\u00a0define\u00a0the\u00a0who\/what\/why\u00a0of\u00a0the\u00a0opportunity\u00a0as\u00a0a\u00a0user\u00a0story.\u00a0For\u00a0example,\u00a0\"As\u00a0a\u00a0(who),\u00a0I\u00a0want\u00a0(what),\u00a0so\u00a0I\u00a0can\u00a0(why\/value).\" -->\n\nAs a developer I want to open my web browser to https:\/\/vscode.dev\/gitlab.mycorp.com\/mygroup\/myproject\/-\/merge_requests\/3 and to be able to see the code\/MR, so I can use vscode just by clicking a link\n\n### Proposal\n\n<!-- How are we going to solve the problem? -->\n\npotentially make the extension support web extensions, at least partially \n\nhttps:\/\/code.visualstudio.com\/api\/extension-guides\/web-extensions#update-existing-extensions-to-web-extensions\n\n### Further details\n\n<!-- Include examples, use cases, benefits, goals, or any other details that will help us understand the problem better. -->\n\nIf I have a lot of projects and merge requests get created, I'd rather be able to click a link to open an editor than open the editor, clone the repo, etc\n\n[remote-fs-url-format.md](docs\/user\/remote-fs-url-format.md) is cool, but can't seem to open up a merge request or use the plugin from that view\n\n`code --folder-uri 'gitlab-remote:\/\/gitlab.mycorp.com\/myproject?project=35595&ref=master'`\n\n### Links \/ references","state":"closed","created_at":1634763158144,"updated_at":1675339811527,"closed_at":1641374862694,"closed_by":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"labels":["Category:GitLab CLI","Deliverable","VS Code","devops::create","group::code review","section::dev","spike","type::feature","workflow::in dev"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https:\/\/about.gitlab.com\/releases\/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https:\/\/gitlab.com\/groups\/gitlab-org\/-\/milestones\/67"},"assignees":[{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"}],"author":{"id":473858,"username":"stuart-warren","name":"Woz","state":"active","avatar_url":"https:\/\/secure.gravatar.com\/avatar\/5d500ae0d540aabe8400072cd09a6377?s=80&d=identicon","web_url":"https:\/\/gitlab.com\/stuart-warren"},"type":"ISSUE","assignee":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"user_notes_count":9,"merge_requests_count":0,"upvotes":4,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/479","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/479","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/479\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/479\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717","closed_as_duplicate_of":null},"references":{"short":"#479","relative":"#479","full":"gitlab-org\/gitlab-vscode-extension#479"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8191.0,"epic":{"id":540104,"iid":8191,"title":"Web based VS Code support for GitLab Workflow","url":"\/groups\/gitlab-org\/-\/epics\/8191","group_id":9970,"human_readable_end_date":"Dec 17, 2021","human_readable_timestamp":"<strong>Past due<\/strong>"},"iteration":null,"health_status":null},{"id":95722138,"iid":477,"project_id":5261717,"title":"Pipeline status term mismatch: Succeeded","description":"## :speech_balloon: Term mismatch\n\nThe VSCode extension uses the term **Succeeded** for pipelines and jobs that finished without errors or warnings (green check mark) in the sidebar. The extension also uses **Passed** for pipelines in the bottom status bar. Meanwhile, the GitLab platform just uses the term **Passed** (except for [MWPS](https:\/\/docs.gitlab.com\/ee\/user\/project\/merge_requests\/merge_when_pipeline_succeeds.html#merge-when-pipeline-succeeds)).\n\n| Current (extension) | [Reference](https:\/\/gitlab.com\/KevSlashNull\/empty-brackets-in-extension\/-\/pipelines\/391382511) (in GitLab) | Expected (extension) |\n| --- | --- | --- |\n| ![image](\/uploads\/2f8faaee6f2cdda63eab1c63c278752a\/image.png) | ![image](\/uploads\/2393c667199e5a3c4a8248232e585396\/image.png) | ![image](\/uploads\/76257b292c3cbfec6bb641cabceb11f5\/image.png) |\n\n| Status bar term |\n| --- |\n| ![image](\/uploads\/77ddf0e8b3f738dcd2938e147a6dfe3c\/image.png) |\n\n## :bulb: Proposal\n\nUse the term **Passed** in the extension to be consistent with the UI text in the GitLab platform.","state":"closed","created_at":1634675344103,"updated_at":1643187570877,"closed_at":1643187185822,"closed_by":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"labels":["Category:GitLab CLI","VS Code","[deprecated] Accepting merge requests","devops::create","group::code review","section::dev","type::maintenance"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https:\/\/about.gitlab.com\/releases\/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https:\/\/gitlab.com\/groups\/gitlab-org\/-\/milestones\/66"},"assignees":[],"author":{"id":2190515,"username":"KevSlashNull","name":"Kev","state":"active","avatar_url":"https:\/\/secure.gravatar.com\/avatar\/f3861b3746ee5f779cbdcf1efa4a2a1e?s=80&d=identicon","web_url":"https:\/\/gitlab.com\/KevSlashNull"},"type":"ISSUE","assignee":null,"user_notes_count":5,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/477","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/477","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/477\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/477\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717","closed_as_duplicate_of":null},"references":{"short":"#477","relative":"#477","full":"gitlab-org\/gitlab-vscode-extension#477"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":95016920,"iid":471,"project_id":5261717,"title":"flaky test: Pipeline actions - creates  new pipeline","description":"The test failed on master https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/jobs\/1657306279, rerun fixed the pipeline.\n\nFailed assertion: https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/blob\/400425fb1819824b3455f8fce3c1ccb96f6bbe68\/test\/integration\/pipeline_actions.test.js#L51\n\nI assume that the new refreshing logic introduced in #60 refreshes more than once and the `calledOnce` assumption fails.","state":"closed","created_at":1633595067920,"updated_at":1634888609890,"closed_at":1634888609870,"closed_by":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"labels":["Category:GitLab CLI","VS Code","devops::create","group::code review","section::dev"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https:\/\/about.gitlab.com\/releases\/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https:\/\/gitlab.com\/groups\/gitlab-org\/-\/milestones\/66"},"assignees":[],"author":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"type":"ISSUE","assignee":null,"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/471","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/471","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/471\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/471\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717","closed_as_duplicate_of":null},"references":{"short":"#471","relative":"#471","full":"gitlab-org\/gitlab-vscode-extension#471"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":92911576,"iid":459,"project_id":5261717,"title":"Helping users set the correct remote name","description":"### Problem to solve\n\nCurrently, when user has got multiple remotes in the same repository (e.g. `origin` and `upstream`) the GitLab Workflow extension silently selects the (alphabetically) first one (`origin` in this example).\n\nUsers can select remote to be used by setting the `gitlab.remoteName` (https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension#extension-settings). But that is not obvious to the user.\n\n### Proposal\n\nWhen we detect multiple remotes in the repository, we'll ask user which one they want to use and store it into the workspace settings (`gitlab.remoteName`)\n\n### Further details\n\n<!-- Include examples, use cases, benefits, goals, or any other details that will help us understand the problem better. -->\n\n### Links \/ references\n\n- more context https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/433#note_662047082","state":"closed","created_at":1630480945832,"updated_at":1649077556145,"closed_at":1635231672305,"closed_by":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"labels":["Category:GitLab CLI","Deliverable","VS Code","devops::create","group::code review","section::dev","type::feature","workflow::production"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https:\/\/about.gitlab.com\/releases\/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https:\/\/gitlab.com\/groups\/gitlab-org\/-\/milestones\/64"},"assignees":[{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"}],"author":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"type":"ISSUE","assignee":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"user_notes_count":8,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/459","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/459","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/459\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/459\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717","closed_as_duplicate_of":null},"references":{"short":"#459","relative":"#459","full":"gitlab-org\/gitlab-vscode-extension#459"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":92803258,"iid":458,"project_id":5261717,"title":"Can't access Issue detail from self-hosted gitlab (`Cannot read property 'full' of undefined`)","description":"### Checklist\n\n- [X] I'm using the latest version of the extension\n  - Extension version: *v3.29.1*\n- [X] I'm using the latest VS Code version\n  - VS Code version: *1.51.1*\n- [X] I'm using a supported version of GitLab\n  - GitLab version: *14.2.1*\n\n### Summary\n\nI can see the list of issues associated with the current branch ![image](\/uploads\/2b208ecc8d687dbd0b2c778b1b236689\/image.png)\n\nBut when I click on one of those issue they just display \"Fetching issuable details and discussions. This may take a while.\"\n\nThis bug is similar to (#297) but the error message is different.\n\n### Steps to reproduce\n - open VS Code\n - go to the GitLab Workflow tab\n - click on on of the issues associated with the current branch\n\n### What is the current *bug* behavior?\n\nIt opens a tab with only \"Fetching issuable details and discussions. This may take a while.\"\n\n### What is the expected *correct* behavior?\n\nTo see the same thing that if I access the issue through \"Issues created by me\"\n\n### Relevant logs and\/or screenshots\n\nThe logs gives:\n```\nCannot read property 'full' of undefined\nTypeError: Cannot read property 'full' of undefined\n\tat getProjectPath (\/home\/pouxa\/.vscode\/extensions\/gitlab.gitlab-workflow-3.29.1\/out\/src\/gitlab\/gitlab_new_service.js:67:58)\n\tat GitLabNewService.getDiscussions (\/home\/pouxa\/.vscode\/extensions\/gitlab.gitlab-workflow-3.29.1\/out\/src\/gitlab\/gitlab_new_service.js:235:29)\n\tat GitLabNewService.getDiscussionsAndLabelEvents (\/home\/pouxa\/.vscode\/extensions\/gitlab.gitlab-workflow-3.29.1\/out\/src\/gitlab\/gitlab_new_service.js:290:18)\n\tat initPanelIfActive (\/home\/pouxa\/.vscode\/extensions\/gitlab.gitlab-workflow-3.29.1\/out\/src\/webview_controller.js:32:57)\n\tat processTicksAndRejections (internal\/process\/task_queues.js:93:5)\n\tat async WebviewController.create (\/home\/pouxa\/.vscode\/extensions\/gitlab.gitlab-workflow-3.29.1\/out\/src\/webview_controller.js:143:9)\n\tat async WebviewController.open (\/home\/pouxa\/.vscode\/extensions\/gitlab.gitlab-workflow-3.29.1\/out\/src\/webview_controller.js:130:26)\n\tat async \/home\/pouxa\/.vscode\/extensions\/gitlab.gitlab-workflow-3.29.1\/out\/src\/extension.js:35:9\n\tat async _executeContributedCommand (\/opt\/visual-studio-code\/resources\/app\/out\/vs\/workbench\/services\/extensions\/node\/extensionHostProcess.js:85:109243)\n\tat async _executeContributedCommand (\/opt\/visual-studio-code\/resources\/app\/out\/vs\/workbench\/services\/extensions\/node\/extensionHostProcess.js:85:109243)\n```","state":"closed","created_at":1630333862178,"updated_at":1650455753617,"closed_at":1650455753594,"closed_by":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"labels":["Category:GitLab CLI","Deliverable","VS Code","devops::create","group::code review","priority::3","section::dev","severity::3","type::bug"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https:\/\/gitlab.com\/groups\/gitlab-org\/-\/milestones\/72"},"assignees":[{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"}],"author":{"id":35783,"username":"pums974","name":"Alexandre Poux","state":"active","avatar_url":"https:\/\/secure.gravatar.com\/avatar\/c26b98b60291aa5e4027ef9a22d6507e?s=80&d=identicon","web_url":"https:\/\/gitlab.com\/pums974"},"type":"ISSUE","assignee":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"user_notes_count":7,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/458","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":3},"weight":1,"blocking_issues_count":0,"has_tasks":false,"task_status":null,"_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/458","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/458\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/458\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717","closed_as_duplicate_of":null},"references":{"short":"#458","relative":"#458","full":"gitlab-org\/gitlab-vscode-extension#458"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":92518812,"iid":453,"project_id":5261717,"title":"Optimize packaged extension","description":"[esbuild](https:\/\/github.com\/evanw\/esbuild) is an extremely fast JavaScript\/TypeScript bundler. On my (admittedly powerful) PC, esbuild can bundle (and minify) this extension in ~40ms.\n\nThe main advantage is a reduction in the number and size of files loaded by VSCode. Currently, the packaged extension contains ~3500 files:\n\n* `node_modules\/` - ~2900 files\n* `out\/` - ~400 files\n* `src\/` - ~200 files - **these should be added to .vscodeignore**, since source files are not needed at runtime\n* Miscellaneous other - 25 files\n\nUsing esbuild can reduce the total file count to ~30 by bundling each entry point into a single file, thus eliminating `node_modules` and `out`. AFAIK, there are two entry points: main and webview.\n\nRemoving `src` reduces the extension size by 2.2MB. Bundling the main entry point and eliminating `node_modules` and `out` reduces the extension size by 9MB. This is size of the files, after unpacking the extension from the .vsix\/ZIP. This does not include the webview, because I'm not sure how to use esbuild with Vue.\n\nI am interested in submitting an MR.","state":"closed","created_at":1629826175766,"updated_at":1637218856453,"closed_at":1637151758766,"closed_by":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"labels":["Category:GitLab CLI","Deliverable","VS Code","devops::create","group::code review","section::dev","type::maintenance","workflow::in dev"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https:\/\/about.gitlab.com\/releases\/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https:\/\/gitlab.com\/groups\/gitlab-org\/-\/milestones\/66"},"assignees":[{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"}],"author":{"id":78208,"username":"firelizzard","name":"Ethan Reesor","state":"active","avatar_url":"https:\/\/secure.gravatar.com\/avatar\/ea21fea4e336bf9f349a78673bea60cb?s=80&d=identicon","web_url":"https:\/\/gitlab.com\/firelizzard"},"type":"ISSUE","assignee":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"user_notes_count":17,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/453","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/453","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/453\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/453\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717","closed_as_duplicate_of":null},"references":{"short":"#453","relative":"#453","full":"gitlab-org\/gitlab-vscode-extension#453"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":92093995,"iid":447,"project_id":5261717,"title":"Spike: Debug custom SSL Certificate issues","description":"### Summary\n\nThe extension has issues connecting to instances that use a self-signed SSL certificate (not signed by a root authority included in `node`) (Epic: https:\/\/gitlab.com\/groups\/gitlab-org\/-\/epics\/6244). The goal of this spike is to create a local environment where the server uses self-signed certificate. In this environment, we are going to test setting up the `gitlab.ca`, `gitlab.cert`, `gitlab.certKey`, and `gitlab.ingnoreCertificateErrors`.\n\n### Output of this spike:\n\n1. Documentation about the current support of self-signed certificates in the README - this will help users to set up their extension. If the extension doesn't support self-signed certificates, we'll document that.\n1. Triage of existing issues in https:\/\/gitlab.com\/groups\/gitlab-org\/-\/epics\/6244\n1. If `cross-fetch` (our library for making HTTPS requests) doesn't support self-signed SSL, this spike will document possible alternatives","state":"closed","created_at":1629190209893,"updated_at":1646127522268,"closed_at":1632143920783,"closed_by":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"labels":["Category:GitLab CLI","Deliverable","VS Code","devops::create","group::code review","section::dev","type::maintenance","workflow::in review"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https:\/\/about.gitlab.com\/releases\/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https:\/\/gitlab.com\/groups\/gitlab-org\/-\/milestones\/63"},"assignees":[{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"}],"author":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"type":"ISSUE","assignee":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/447","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/447","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/447\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/447\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717","closed_as_duplicate_of":null},"references":{"short":"#447","relative":"#447","full":"gitlab-org\/gitlab-vscode-extension#447"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6244.0,"epic":{"id":294854,"iid":6244,"title":"GitLab VS Code extension - Custom SSL certificate support","url":"\/groups\/gitlab-org\/-\/epics\/6244","group_id":9970,"human_readable_timestamp":"<strong>838<\/strong> days elapsed"},"iteration":null,"health_status":null},{"id":90519846,"iid":437,"project_id":5261717,"title":"Markdown renderer in Gitlab Workflow VSCode extension allows arbitrary HTML attributes on whitelisted elements","description":"**[HackerOne report #1261073](https:\/\/hackerone.com\/reports\/1261073)** by `arw9234` on 2021-07-14, assigned to GitLab Team:\n\n[Report](#report) | [Attachments](#attachments) | [How To Reproduce](#how-to-reproduce)\n\n## Report\n\n#####  Summary\n\nI'm not sure whether something like this would be accepted without a larger impact, but I figured I should report it nonetheless.\n\nThe Gitlab VSCode extension renders gitlab flavored markdown in a few places, mostly just in issues and merge requests. When doing so, it sends the markdown to be rendered to the connected Gitlab instance where it is processed server-side. However, the extension then [mutates the resulting HTML with regexes](https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/blob\/main\/src\/webview_controller.ts#L104) before incorporating it into the document using the following function:\n\n```ts  \nprivate createMessageHandler = (  \n\tpanel: vscode.WebviewPanel,  \n\tissuable: RestIssuable,  \n\trepositoryRoot: string,  \n) => async (message: any) => {  \n\tconst instanceUrl = await getInstanceUrl(repositoryRoot);  \n\tif (message.command === 'renderMarkdown') {  \n\t\tlet rendered = await gitLabService.renderMarkdown(message.markdown, repositoryRoot); \/\/ <--- clean HTML from server  \n\t\trendered = (rendered || '')  \n\t\t\t.replace(\/ src=\".*\" alt\/gim, ' alt') \/\/ <--- dangerous alteration of HTML with regexes  \n\t\t\t.replace(\/\" data-src\/gim, '\" src')  \n\t\t\t.replace(\/ href=\"\\\/\/gim, ` href=\"${instanceUrl}\/`);\n\n\t\/\/ ...  \n}\n```\n\nThe above code attempts to remove\/alter specific attributes within the resulting HTML. In particular, the `\/ src=\".*\" alt\/gim` regex tries to remove `src` attributes followed by an `alt` attribute, but could be made to break out of quoted attributes or change the nesting order of elements. For example, the following HTML:  \n```html  \n<div color=\" src=\" title=\"\" alt=\" someattr='somevalue'\"><\/div>  \n```  \nWill pass through Gitlab's markdown renderer relatively unchanged (`color`, `title`, and `alt` are [whitelisted on all elements](https:\/\/github.com\/gjtorikian\/html-pipeline\/blob\/v2.12.3\/lib\/html\/pipeline\/sanitization_filter.rb#L59), and `<div>` is a whitelisted element), but the ` src=\" title=\"\" alt` sequence would then be matched and replaced by ` alt` with the above regex, resulting in:  \n```html  \n<div color=\" alt=\" someattr=\"somevalue\" \"=\"\"><\/div>  \n```  \nWhere the `someattr` attribute has broken out of the `alt` attribute and became part of the DOM. This allows for arbitrary HTML attributes to be added to any element whitelisted by the sanitization filter.\n\nThis is limited, however, in that the affected frame is [using a nonce-based CSP](https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/blob\/main\/src\/webview\/public\/index.html#L5) that restricts inline event handlers and `javascript:` URIs.  If it were possible to inject arbitrary HTML elements as well, it could be possible to inject `<iframe>`\/,`<object>` tags since the `object-src` directive is missing from the CSP. This would most likely require gitlab's GFM renderer to emit unescaped angle bracket characters in a quoted attribute, which it does not seem very keen on doing, but I will keep looking into it.\n\n#####  Steps to reproduce\n\nYou can reproduce this yourself as follows:  \n1. [Install Visual Studio Code](https:\/\/code.visualstudio.com\/download) and the [Gitlab Workflow extension](https:\/\/marketplace.visualstudio.com\/items?itemName=GitLab.gitlab-workflow)  \n2. Create a personal access token and add it to the extension to link it to your gitlab account. Instructions can be found [here](https:\/\/marketplace.visualstudio.com\/items?itemName=GitLab.gitlab-workflow#setup)  \n3. In a new or existing project, create an issue with the following markdown in the description:  \n\n```html  \n<div color=\" src=\" title=\"\" alt=\" style='display: block; position: absolute; width: 100vw; height: 100vh; left: 0; top: 0; z-index: 999999; background-color: black;' onmouseover='throw \/this will raise a CSP violation\/'\">  \n\t<h1>arbitrary style attr injected<\/h1>  \n<\/div>  \n```\n\n4. Assign the issue to the same user whose access token you used to set up the extension  \n5. Clone the repository locally in vscode  \n6. If prompted, grant trust to the repository - vscode disables all extensions if you deny trust to the repo  \n7. Click the gitlab icon in the left-hand menu  \n8. On the left-hand side, expand `ISSUES AND MERGE REQUESTS > Issues assigned to me`  \n9. Open the newly created issue  \n10. The editor window will be filled with a black menu with the text 'arbitrary style attr injected', indicating the `style` attribute was injected into the DOM. You can also open `Help > Toggle Developer Tools` to see the source code for the page and to see CSP violations printed to the console\n\n#####  Impact\n\nAn attacker can submit a malicious issue\/merge request to a project that could contain arbitrary HTML attributes on whitelisted elements when opened in vscode. The impact of this is limited with inline event handlers blocked by the CSP, but this could still allow restyling of the page, injecting hrefs with arbitrary protocols on anchor elements (`javascript:` uris obviously won't be executed, but other protocols could be used, such as custom protocols registered by other applications), and injecting other potentially dangerous attributes.\n\n#####  Examples\n\nSee the attached OVA.\n\n#####  What is the current *bug* behavior?\n\nThe markdown renderer in the GitLab Workflow VSCode extension uses a poorly designed regex to alter attributes on HTML elements which can be induced to change the structure of the HTML returned from the server.\n\n#####  What is the expected *correct* behavior?\n\nThe markdown renderer should either:  \n\t- not change the HTML returned from the server, or  \n\t- parse the HTML and update the relevant attributes using `setAttribute(...)`\/`removeAttribute(...)`\/similar before inserting it into the DOM  \nso that the structure of the document is not changed\n\n#####  Relevant logs and\/or screenshots\n\nBelow is a screenshot of what the window should look like after opening the issue:  \n![VSCode_Extension_Attr_Injection_1.png](https:\/\/h1.sec.gitlab.net\/a\/f4a66084-5a26-4967-8048-7b2043d49d7d\/VSCode_Extension_Attr_Injection_1.png)\n\nBelow is a screenshot showing the CSP violations printed to the console due to the `onmouseover` handler:  \n![VSCode_Extension_Attr_Injection_2.png](https:\/\/h1.sec.gitlab.net\/a\/efea9d95-9bee-47d6-bef5-e6552bc64a39\/VSCode_Extension_Attr_Injection_2.png)\n\n#####  Output of checks\n\nNot applicable to GitLab.com\n\n######  Results of GitLab environment info\n\nN\/A\n\nBest regards,  \n[@]arw9234\n\n####  Impact\n\nAn attacker can submit a malicious issue\/merge request to a project that could contain arbitrary HTML attributes on whitelisted elements when opened in vscode, allowing for restyling of the page, injecting hrefs with arbitrary protocols on anchor elements, and injecting other potentially dangerous attributes. A CSP bypass or ability to inject `<object>` tags could potentially increase impact.\n\n## Attachments\n\n**Warning:** Attachments received through HackerOne, please exercise caution!\n\n* [VSCode_Extension_Attr_Injection_2.png](https:\/\/h1.sec.gitlab.net\/a\/efea9d95-9bee-47d6-bef5-e6552bc64a39\/VSCode_Extension_Attr_Injection_2.png)\n* [VSCode_Extension_Attr_Injection_1.png](https:\/\/h1.sec.gitlab.net\/a\/f4a66084-5a26-4967-8048-7b2043d49d7d\/VSCode_Extension_Attr_Injection_1.png)\n\n## How To Reproduce\n\nPlease add [reproducibility information] to this section:\n\n1.\n1.\n1.\n\n[reproducibility information]: https:\/\/about.gitlab.com\/handbook\/engineering\/security\/#reproducibility-on-security-issues","state":"closed","created_at":1626724913257,"updated_at":1635249708006,"closed_at":1635249703732,"closed_by":{"id":4992072,"username":"dcouture","name":"Dominic Couture","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4992072\/avatar.png","web_url":"https:\/\/gitlab.com\/dcouture"},"labels":["Category:GitLab CLI","HackerOne","VS Code","Weakness::CWE-79","devops::create","group::code review","missed:14.4","priority::4","section::dev","security","severity::4","workflow::production"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https:\/\/about.gitlab.com\/releases\/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https:\/\/gitlab.com\/groups\/gitlab-org\/-\/milestones\/66"},"assignees":[{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"}],"author":{"id":2741139,"username":"gitlab-securitybot","name":"GitLab SecurityBot","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/2741139\/avatar.png","web_url":"https:\/\/gitlab.com\/gitlab-securitybot"},"type":"ISSUE","assignee":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"user_notes_count":12,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2021-11-16","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/437","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/437","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/437\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/437\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717","closed_as_duplicate_of":null},"references":{"short":"#437","relative":"#437","full":"gitlab-org\/gitlab-vscode-extension#437"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":90241604,"iid":432,"project_id":5261717,"title":"Move documentation images away from the `main` branch","description":"### Problem to solve\n\nWe currently store all documentation images in [`src\/assets` on the `main` branch](https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/tree\/main\/src\/assets).\n\nThe images currently take about 13 MB.\n\nThis has several problems:\n\n- It increases the size of the repository for cloning\n- All pictures need to be referenced in `README.md` with absolute URLs (because [the README is also rendered in the Marketplace](https:\/\/marketplace.visualstudio.com\/items?itemName=GitLab.gitlab-workflow))\n  - this means that we need to use links in a format like https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/raw\/main\/src\/assets\/_diff-comments.gif in the MR, but they don't work till the MR gets merged to `main`\n- The images are in the wrong folder (I'd expect `src\/` folder to contain files needed for the extension runtime)\n- some of these images get packaged with the extension, where they increase the download size without any purpose (this could be \"fixed\"[^1] without removing the images from `main`)\n\n   <details>\n\n    ```\n    ~\/.v\/e\/g\/s\/assets \u276f\u276f\u276f ll\n    Permissions Size User  Date Modified Name\n    .rw-r--r--   27k tomas 13 Jul 15:01  gitlab-logo.png\n    .rw-r--r--  207k tomas 13 Jul 15:01  gitlab-vscode.png\n    drwxr-xr-x     - tomas 13 Jul 15:01  images\n    .rw-r--r--  892k tomas 13 Jul 15:01  insert-multi-file-snippet.gif\n    .rw-r--r--  149k tomas 13 Jul 15:01  logo.png\n    .rw-r--r--   44k tomas 13 Jul 15:01  pipeline-actions.png\n    .rw-r--r--   74k tomas 13 Jul 15:01  screencast-cover.jpg\n    ~\/.v\/e\/g\/s\/assets \u276f\u276f\u276f pwd\n    \/Users\/tomas\/.vscode-insiders\/extensions\/gitlab.gitlab-workflow-3.26.0\/src\/assets\n    ```\n\n    This is controled by the expression in [`.vsignore` file](https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/blob\/main\/.vscodeignore)\n\n    <\/details>\n\n### Proposal\n\nThere are two options I can think of:\n\n- put the images outside of git (e.g. imgur.com)\n- put the images into a separate git branch (e.g. `images` or `documentation-assets`) and make this branch protected\n\nMy preference would be the `images` protected branch.\n\n### Further details\n\nThe migration must happen in several steps:\n\n1. copy the images outside of the `main` branch and change the links in `README.md`\n1. **Wait for a few months** (because older versions of the README still reference the resources in `main` branch)\n1. Remove the images from the main brach.\n\n### Links \/ references\n\n[^1]: Fixed is in quotes because, without some automated checking, we are bound to forget to put the `_` prefix to some future documentation image.","state":"closed","created_at":1626250406478,"updated_at":1629792913335,"closed_at":1629792913313,"closed_by":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"labels":["Category:GitLab CLI","VS Code","devops::create","documentation","group::code review","section::dev"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https:\/\/about.gitlab.com\/releases\/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https:\/\/gitlab.com\/groups\/gitlab-org\/-\/milestones\/63"},"assignees":[{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"}],"author":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"type":"ISSUE","assignee":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/432","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/432","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/432\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/432\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717","closed_as_duplicate_of":null},"references":{"short":"#432","relative":"#432","full":"gitlab-org\/gitlab-vscode-extension#432"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":89521269,"iid":428,"project_id":5261717,"title":"Change behaviour of the extension based on GitLab version","description":"### Problem to solve\n\nCurrently we support all GitLab versions from 13.5 onwards [1](https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/359). But sometimes we either need to introduce a new feature that's only supported in newer versions of GitLab or we need to fix a bug (https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/397) in different ways for the latest GitLab version and the older versions.\n\n### Proposal\n\nWe are parsing the version for the GitLab instance since https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/merge_requests\/252. We can reuse this logic and create a branching based on it:\n\n```js\nfunction getSnippetContent(){\n  if (semver.lte(version, '14.1.0') {\n    return getSnippetContentLegacy();\n  }\n  return getSnippetContentNew();\n}\n\n\/* REMOVE AT 14.1.x: deprecated, doesn't work for versions lower than 14.1.0, remove when we stop supporting 14.0.x *\/\nfunction getSnippetContentLegacy(){\n}\n```\n\n### Further details\n\nThis might be tricky when we change GraphQL queries to match the new functionality. When GraphQL receives a query for a parameter that doesn't exist, it errors out instead of ignoring that parameter. This is going to be problem if we want to only introduce a feature for newer GitLab versions but the older instances would start returning errors for the whole query.\n\n### Links \/ references","state":"closed","created_at":1625041129815,"updated_at":1634540458609,"closed_at":1632314438072,"closed_by":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"labels":["Category:GitLab CLI","Deliverable","VS Code","devops::create","group::code review","section::dev","type::feature","workflow::production"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https:\/\/about.gitlab.com\/releases\/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https:\/\/gitlab.com\/groups\/gitlab-org\/-\/milestones\/64"},"assignees":[{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"}],"author":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"type":"ISSUE","assignee":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/428","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/428","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/428\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/428\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717","closed_as_duplicate_of":null},"references":{"short":"#428","relative":"#428","full":"gitlab-org\/gitlab-vscode-extension#428"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":89425150,"iid":423,"project_id":5261717,"title":"Pipelines progress and logs views","description":"I use most of the features in gitlab and found gitlab vscode intact with all the features except gitlab CI is the best service and awesome tool that I use everyday in every project.\n\n### Problem to solve\n\nAs a developer who spend all working hours in vscode, I would love to see all pipelines with logs and jobs.\n\n![test-unit___1391199576____Jobs___GitLab_org___gitlab-vscode-extension___GitLab_and_fish__Users_tomas_and_Slack_____Google_Calendar___GitLab](\/uploads\/be4ae16fe815adc6da8550ac67b637c2\/test-unit___1391199576____Jobs___GitLab_org___gitlab-vscode-extension___GitLab_and_fish__Users_tomas_and_Slack_____Google_Calendar___GitLab.png)\n\n\n### Proposal\n\n<!-- How are we going to solve the problem? -->\n\n### Further details\n\n<!-- Include examples, use cases, benefits, goals, or any other details that will help us understand the problem better. -->\n\n### Links \/ references","state":"closed","created_at":1624902400512,"updated_at":1682503197180,"closed_at":1679906657247,"closed_by":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"labels":["Actionable Insight::Product change","SUS::Non-impacting","VS Code","closed::will not do","devops::create","feature::addition","group::ide","section::dev","type::feature"],"milestone":null,"assignees":[],"author":{"id":8782203,"username":"sanjay-hona","name":"Sanjay Hona","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/8782203\/avatar.png","web_url":"https:\/\/gitlab.com\/sanjay-hona"},"type":"ISSUE","assignee":null,"user_notes_count":24,"merge_requests_count":0,"upvotes":5,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/423","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/423","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/423\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/423\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717","closed_as_duplicate_of":null},"references":{"short":"#423","relative":"#423","full":"gitlab-org\/gitlab-vscode-extension#423"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":88764313,"iid":411,"project_id":5261717,"title":"Spike: Implement remote repositories similar to GitHub","description":"<!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"feature\" label:\n\n- https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues?label_name%5B%5D=feature\n\nand verify the issue you're about to submit isn't a duplicate.\n--->\n\n### Problem to solve\n\n<!-- What problem do we solve? Try\u00a0to\u00a0define\u00a0the\u00a0who\/what\/why\u00a0of\u00a0the\u00a0opportunity\u00a0as\u00a0a\u00a0user\u00a0story.\u00a0For\u00a0example,\u00a0\"As\u00a0a\u00a0(who),\u00a0I\u00a0want\u00a0(what),\u00a0so\u00a0I\u00a0can\u00a0(why\/value).\" -->\nMicrosoft recently [introduced](https:\/\/code.visualstudio.com\/blogs\/2021\/06\/10\/remote-repositories) a new RemoteHub extension which made it possible to view and edit GitHub repositories without cloning them. It will be a very good idea to implement the same functionality in this extension in regard to GitLab.\n\n\n### Proposal\n\n<!-- How are we going to solve the problem? -->\nThere is a [documentation](https:\/\/github.com\/microsoft\/vscode\/wiki\/Virtual-Workspaces) about the underlying Virtual Workspaces API which is used to implement that extension. Unfortunately, the original extension is not open source, but there is an [issue](https:\/\/github.com\/microsoft\/vscode\/issues\/123115) about Virtual Workspaces API proposals and questions.\n\n### Further details\n\n<!-- Include examples, use cases, benefits, goals, or any other details that will help us understand the problem better. -->\n\n### Links \/ references","state":"closed","created_at":1623779836515,"updated_at":1634025223753,"closed_at":1633509981590,"closed_by":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"labels":["Category:GitLab CLI","VS Code","devops::create","group::code review","section::dev","type::feature"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https:\/\/about.gitlab.com\/releases\/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https:\/\/gitlab.com\/groups\/gitlab-org\/-\/milestones\/64"},"assignees":[],"author":{"id":5744853,"username":"Igormahov","name":"Igor Mahov","state":"active","avatar_url":"https:\/\/secure.gravatar.com\/avatar\/11bf8e45f21a155c8df58b7a8eda7ad1?s=80&d=identicon","web_url":"https:\/\/gitlab.com\/Igormahov"},"type":"ISSUE","assignee":null,"user_notes_count":15,"merge_requests_count":0,"upvotes":7,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/411","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/411","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/411\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/411\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717","closed_as_duplicate_of":null},"references":{"short":"#411","relative":"#411","full":"gitlab-org\/gitlab-vscode-extension#411"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":88756354,"iid":410,"project_id":5261717,"title":"POC: Include GitLab CI code quality feedback in the MR diff view","description":"### Problem to solve\n\nGitLab allows code quality tools to display results in the diff view: https:\/\/docs.gitlab.com\/ee\/user\/project\/merge_requests\/code_quality.html#code-quality-in-diff-view\n\nThe VS Code extension doesn't surface code quality.\n\n\n### Proposal\n\nCreate POC that would expose some code quality metrics in the MR review view in GitLab Workflow\n\n# Result of the POC\n\nThis document shows the proof of concept of how we could integrate Code Quality reports into VS Code.\n\nIn this document I'll look at the available code quality report, available VS Code API for surfacing this report and then I'll suggest possible implementations.\n\n## TL;DR\n\n- Check out the videos of possible implementations for normal editor view and MR diff view.\n- The POC uses downloaded json artefact, there's no API ATM.\n- If we want to enrich the normal editor view (not MR diff), we'll have a hard time showing the errors if the text files have added\/removed lines since the report was generated.\n- code is in [`code-quality-poc` branch](https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/commits\/code-quality-poc)\n\n## Code Quality Report\n\nI used the `gl-code-quality-report.json` JSON artefact from [`code_quality`](https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/jobs\/1455192063) job\n\nThe report is an array of error messages:\n\n``` json\n{\n\t\"engine_name\": \"structure\",\n\t\"fingerprint\": \"a54cbeb36914a3fde6c04a1f5fb57155\",\n\t\"categories\": [\n\t\"Complexity\"\n\t],\n\t\"check_name\": \"method_complexity\",\n\t\"content\": {\n\t\"body\": \"# Cognitive Complexity\\nCognitive Complexity is a measure of how difficult a unit of code is to intuitively understand. Unlike Cyclomatic Complexity, which determines how difficult your code will be to test, Cognitive Complexity tells you how difficult your code will be to read and comprehend.\\n\\n### A method's cognitive complexity is based on a few simple rules:\\n* Code is not considered more complex when it uses shorthand that the language provides for collapsing multiple statements into one\\n* Code is considered more complex for each \\\"break in the linear flow of the code\\\"\\n* Code is considered more complex when \\\"flow breaking structures are nested\\\"\\n\\n### Further reading\\n* [Cognitive Complexity docs](https:\/\/docs.codeclimate.com\/v1.0\/docs\/cognitive-complexity)\\n* [Cognitive Complexity: A new way of measuring understandability](https:\/\/www.sonarsource.com\/docs\/CognitiveComplexity.pdf)\\n\"\n\t},\n\t\"description\": \"Function `parseQuery` has a Cognitive Complexity of 6 (exceeds 5 allowed). Consider refactoring.\",\n\t\"location\": {\n\t\"path\": \"src\/search_input.js\",\n\t\"lines\": {\n\t\t\"begin\": 6,\n\t\t\"end\": 88\n\t}\n\t},\n\t\"other_locations\": [],\n\t\"remediation_points\": 250000,\n\t\"severity\": \"minor\",\n\t\"type\": \"issue\"\n},\n```\n\nEach error message contains `description`, `severity`, and `location` of the problem amongst a few extra details.\n\n## VS Code API\n\nDiagnostic](https:\/\/code.visualstudio.com\/api\/references\/vscode-api#Diagnostic) interface allows us to put error\/warning\/info messages on any location in any file (including MR diff), this is the [Errors & Warnings](https:\/\/code.visualstudio.com\/docs\/editor\/editingevolved#_errors-warnings) feature from the user perspective.\n\nDiagnostic consists of location in the code, severity, message and source. All visible on the following screenshot:\n\t\t\n![_Extension_Development_Host_-_status_bar_test_ts___gitlab-vscode-extension-TEST_1627460731204_0](\/uploads\/a2995397186df78a7539dc72a02198ae\/_Extension_Development_Host_-_status_bar_test_ts___gitlab-vscode-extension-TEST_1627460731204_0.png)\n\n## Possible implementation\n\n### MR diff view\nWe would show the code quality information in the MR review Diff. Showing every error from the `gl-code-quality-report.json` doesn't make sense here because the MR author is not responsible for most of the issues. Here we would **need an API endpoint** that exposes the diff (existing\/new errors) for each MR. (We could also download the artefact from `main` branch and from the MR branch and diff them, but that sounds like a lot of effort.)\n\n![mr-diff-view](\/uploads\/453348f5b29f215ab20b96ab1b6ea17a\/mr-diff-view.mp4)\n\n### Normal editor view\n\nWe can also just add all the Code Quality errors directly into user's editor which will highlight problems in the file tree, show them in the editor and also in the \"Problems\" output panel at the bottom. This works well even with the whole `gl-code-quality-report.json` (except for causing too much noise).\n\n- We could have a right-click context menu (e.g. \"show code quality\") on each pipeline with `code-quality` job. This right-click would download the artefact and show all the errors.\n- We could only download the errors that are newly introduced by the MR (when there's an API endpoint) and show them.\n\n![normal-editor-view](\/uploads\/7c2b1928525300d19f21c8cb463cb528\/normal-editor-view.webm)\n\n## General problems\n\n### Too much noise\n\nHighlighting whole blocks of code is very intrusive compared to normal warnings (e.g. eslint)\n\n| very targetted warning by most of the extensions | code quality marking the whole file as having too many lines |\n| ------ | ------ |\n| ![process_code_quality_ts___gitlab-vscode-extension_1627395552714_0](\/uploads\/0d391f1d4e78063c7fcc915039a4d873\/process_code_quality_ts___gitlab-vscode-extension_1627395552714_0.png) | ![_Extension_Development_Host__-_gitlab_new_service_ts___gitlab-vscode-extension-TEST](\/uploads\/f9b197ef7c6121ffe1916fae9b8f310f\/_Extension_Development_Host__-_gitlab_new_service_ts___gitlab-vscode-extension-TEST.png) |\n\nOn top of highlighting the whole blocks, the `gl-code-quality-report.json` only contains lines on which the problem occurs, not columns. So if an error applies only to a symbol or two, we still highlight the whole line.\n\n``` json\n{\n    \"location\": {\n        \"path\": \"src\/search_input.js\",\n        \"lines\": {\n        \"begin\": 6,\n        \"end\": 88\n        }\n    },\n}\n```\n\n#### Possible solutions to the \"Too Much Noise\" problem\n\n- show the error\/warning on the first line of the complexity issue, contributed by @KevSlashNull (https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/410#note_638971740)\n- not showing complexity errors (and other kinds that would highlight 10+ lines) or at least not by default\n- add an easy way to toggle the visibility of these errors (adding a button to the editor or to the status bar)\n\t  \n### Making sure the report is are up to date\n\nVS Code handles moving the `Diagnostic` highlights with changes, but it incorrectly highlights if the changes happened before we generated the `Diagnostic`\n\n| Diagnostic objects generated before changes | Diagnostic object generated after changes |\n| ------ | ------ |\n| ![errors-before-changes](\/uploads\/1cc1544a04b7e396d2a91c722ddf87d8\/errors-before-changes.webm) | ![errors-after-changes](\/uploads\/58adb7d2da6a3d75fd79e871d4ea261b\/errors-after-changes.webm) |\n| VS Code can automatically track the error even when there are new\/removed lines | VS Code highlights wrong lines, because it can't know that we are giving diagnostic for different version of the file |\n\n## Mapping Code Quality report error on diagnostic\n\nThere are a few attributes in the code quality report, which don't have a natural place in the `Diagnotic` object.\n\n- `engine_name`\n- `check_name`\n- `categories` would have to be somehow included in the message or the source.\n\n`eslint` includes this in the source part ( `@typescript-eslint\/no-unused-vars` )\n\n![process_code_quality_ts___gitlab-vscode-extension_1627461501748_0](\/uploads\/136375bd780938bb08bbd7fbcb33fd5f\/process_code_quality_ts___gitlab-vscode-extension_1627461501748_0.png)\n\n### Severity\n\nIt seems that we've got only two severities in the report `minor` \/ `major` but VS Code offers four:\n\n\n| severity | visual |\n| ------ | ------ |\n| error | ![_Extension_Development_Host_-_create_snippet_ts___gitlab-vscode-extension-TEST_1627461073097_0](\/uploads\/2819bcb6408f26a848acb1eb18f2f8eb\/_Extension_Development_Host_-_create_snippet_ts___gitlab-vscode-extension-TEST_1627461073097_0.png) |\n| warning | ![_Extension_Development_Host_-_status_bar_test_ts___gitlab-vscode-extension-TEST_1627460731204_0](\/uploads\/828813a7f569d315422462fca93e1886\/_Extension_Development_Host_-_status_bar_test_ts___gitlab-vscode-extension-TEST_1627460731204_0.png) |\n| info | ![command_names_ts___gitlab-vscode-extension_1627461188785_0](\/uploads\/2e9b8299042b7a5e8667d696471b9699\/command_names_ts___gitlab-vscode-extension_1627461188785_0.png) |\n| tip | ![Screenshot_2021-07-28_at_10.34.30_1627461351258_0](\/uploads\/3a4cd61facb4e61a6cd55c7490e9d26d\/Screenshot_2021-07-28_at_10.34.30_1627461351258_0.png) |","state":"closed","created_at":1623769082756,"updated_at":1673365539042,"closed_at":1628088105309,"closed_by":{"id":2935693,"username":"phikai","name":"Kai Armstrong","state":"active","avatar_url":"https:\/\/secure.gravatar.com\/avatar\/2c5d6a63b41cbeb3ea4cccda82e758e1?s=80&d=identicon","web_url":"https:\/\/gitlab.com\/phikai"},"labels":["Category:GitLab CLI","Deliverable","VS Code","devops::create","group::code review","section::dev","type::feature"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https:\/\/gitlab.com\/groups\/gitlab-org\/-\/milestones\/62"},"assignees":[{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"}],"author":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"type":"ISSUE","assignee":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"user_notes_count":30,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/410","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/410","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/410\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/410\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717","closed_as_duplicate_of":null},"references":{"short":"#410","relative":"#410","full":"gitlab-org\/gitlab-vscode-extension#410"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6515.0,"epic":{"id":320162,"iid":6515,"title":"Run Security Analyzers in the IDE (VSCode)","url":"\/groups\/gitlab-org\/-\/epics\/6515","group_id":9970},"iteration":null,"health_status":null},{"id":88741500,"iid":408,"project_id":5261717,"title":"Context menu shows when trying to add an MR comment + duplicated comments","description":"### Summary\n\nOpening MR item multiple times in different places in the side-panel registers multiple comment controllers. That results in UX that lets the user choose which controller to use (context menu) and it will cause every MR diff comment to show twice.\n\n![Screenshot_2021-06-15_at_15_30_27](\/uploads\/458a8c2e1aa8661e8ebe229833601a5a\/Screenshot_2021-06-15_at_15_30_27.png)\n\n![double-comment-controller-2](\/uploads\/4f2f3f1f6697e47cd0b5bbba324e0902\/double-comment-controller-2.mp4)\n\n### Steps to reproduce\n\n1. Click on an MR in the extension side panel in multiple places:\n  - For example, you open \"Merge requests assigned to me\" and \"All project merge requests\", and open the same MR in both views\n1. Open one changed file in this MR\n1. Try to add a comment - you'll see a context menu\n1. If the MR contains comments on the MR diff, you'll see them twice.\n\n### What is the current *bug* behavior?\n\n- You have to choose which controller to use from the context menu\n- You see comments on the diff twice\n\n![Screenshot_2021-06-15_at_13_35_06](\/uploads\/1d895af1d4fedc9edd9246baa499a87d\/Screenshot_2021-06-15_at_13_35_06.png)\n\n### What is the expected *correct* behavior?\n\n- A new comment thread should open as usual.\n- Each comment shows only once\n\n### Workaround for adding comments\n\nChoosing  one of the options will work fine:\n\n![choosing-controller](\/uploads\/782a11432e74d9ff5762327e39570265\/choosing-controller.gif)\n\n### Possible fixes\n\nWe must ensure that only one commenting controller gets initialized.","state":"closed","created_at":1623757509945,"updated_at":1623933956093,"closed_at":1623933956059,"closed_by":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"labels":["Category:GitLab CLI","VS Code","bug","devops::create","frontend","group::code review","section::dev","workflow::production"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https:\/\/gitlab.com\/groups\/gitlab-org\/-\/milestones\/61"},"assignees":[{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"}],"author":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"type":"ISSUE","assignee":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/408","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/408","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/408\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/408\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717","closed_as_duplicate_of":null},"references":{"short":"#408","relative":"#408","full":"gitlab-org\/gitlab-vscode-extension#408"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":88666251,"iid":407,"project_id":5261717,"title":"Add \"View as Tree\" option","description":"<!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"feature\" label:\n\n- https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues?label_name%5B%5D=feature\n\nand verify the issue you're about to submit isn't a duplicate.\n--->\n\n### Problem to solve\n\nRight now the extension shows the changes of an MR as flat list. Each element in the list has the path next to it. This works pretty well but for bigger mono repos it is hard to review. VSCode itself support the \"View as Tree\" option in the git diff view. This will show the changes within it's directories \n\n![image](\/uploads\/8ed7bada1003b5887270555457f873c5\/image.png)\n\nGitLab support this as well :wink: \n\n### Proposal\n\nAdd a button (View as Tree) similar to VSCode diff view to switch between this 2 variants. This would make reviewing in some cases much easier.\n\n### Further details\n\nCheckout the git diff view of VSCode with some sub directories to see the effect in action.\n\n### Links \/ references","state":"closed","created_at":1623669849472,"updated_at":1636646651431,"closed_at":1636636177907,"closed_by":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"labels":["Category:GitLab CLI","VS Code","[deprecated] Accepting merge requests","devops::create","group::code review","section::dev","type::feature","workflow::production"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https:\/\/about.gitlab.com\/releases\/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https:\/\/gitlab.com\/groups\/gitlab-org\/-\/milestones\/66"},"assignees":[],"author":{"id":541379,"username":"tonka3000","name":"Michael Aigner","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/541379\/avatar.png","web_url":"https:\/\/gitlab.com\/tonka3000"},"type":"ISSUE","assignee":null,"user_notes_count":4,"merge_requests_count":0,"upvotes":6,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/407","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/407","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/407\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/407\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717","closed_as_duplicate_of":null},"references":{"short":"#407","relative":"#407","full":"gitlab-org\/gitlab-vscode-extension#407"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6516.0,"epic":{"id":320177,"iid":6516,"title":"Cleanup and Followups for reviews in VS Code","url":"\/groups\/gitlab-org\/-\/epics\/6516","group_id":9970,"human_readable_end_date":"Nov 17, 2021","human_readable_timestamp":"<strong>Past due<\/strong>"},"iteration":null,"health_status":null},{"id":88515812,"iid":404,"project_id":5261717,"title":"MR Review: indicate which changed files have MR discussions","description":"<!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"feature\" label:\n\n- https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues?label_name%5B%5D=feature\n\nand verify the issue you're about to submit isn't a duplicate.\n--->\n\n### Problem to solve\n\nWhen I'm reviewing MR's I don't know which files have MR discussions before I show the diff and scroll to the comment.\n\n### Proposal\n\nI propose the same solution as GitHub Pull Request extension uses. Add a text bubble emoji decoration the same way we add decoration for the type of change.\n\n![_Extension_Development_Host__-_webview_controller_js___gitlab-vscode-extension-TEST_and_extension_js___gitlab-vscode-extension](\/uploads\/6841da534bdc198ad2e900b47d75fd33\/_Extension_Development_Host__-_webview_controller_js___gitlab-vscode-extension-TEST_and_extension_js___gitlab-vscode-extension.png)\n\n### Further details\n\n#### GitHub Pull Request Screenshot\n\n![Getting_Started___github-test-repository](\/uploads\/7352c18bfca0eb1d41c0e29fdfe4f6d2\/Getting_Started___github-test-repository.png)\n\n### Links \/ references\n\nI created a POC, the change seems fairly simple https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/commits\/commenting-decorator-poc\n\n\/cc @phikai @pedroms","state":"closed","created_at":1623323563200,"updated_at":1626592024594,"closed_at":1625041601314,"closed_by":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"labels":["Category:GitLab CLI","Deliverable","VS Code","devops::create","frontend","group::code review","section::dev","type::feature","workflow::production"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https:\/\/gitlab.com\/groups\/gitlab-org\/-\/milestones\/61"},"assignees":[{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"}],"author":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"type":"ISSUE","assignee":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"user_notes_count":6,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/404","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/404","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/404\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/404\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717","closed_as_duplicate_of":null},"references":{"short":"#404","relative":"#404","full":"gitlab-org\/gitlab-vscode-extension#404"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":88038534,"iid":398,"project_id":5261717,"title":"MR Review: improve UX when extension fails to create new comment","description":"### Problem to solve\n\nWe implemented creating comments on MR diff in https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/342.\n\nThe happy-path scenario works well, but when the comment fails to send (network failure, GitLab API unavailable) the UX is not great. We show the user an error message and store the comment text in extension logs, but we don't offer an easy way to retry sending the comment. Each failure has to be followed by copy-pasting the comment text from logs and trying again.\n\n\n### Proposal\n\nWe should handle the failure similarly to the GitHub Pull Request extension. We should create a new type of comment (failed comment) which would have a button to retry.\n\n1. Creating comment fails\n1. Extension creates a failed comment and puts it into the diff discussion\n1. The failed comment has a \"Retry\" button which lets users try to resend it\n\n### Current UX\n\n![new-comment-error](\/uploads\/74717853ba06403865b21dda8b03a57a\/new-comment-error.mp4)","state":"closed","created_at":1622552418553,"updated_at":1629270102560,"closed_at":1627541169828,"closed_by":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"labels":["Category:GitLab CLI","Deliverable","Technical Writing","UI text","VS Code","devops::create","frontend","group::code review","missed-deliverable","missed:14.1","section::dev","tw-weight::3","type::feature"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https:\/\/gitlab.com\/groups\/gitlab-org\/-\/milestones\/62"},"assignees":[{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"}],"author":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"type":"ISSUE","assignee":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"user_notes_count":18,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/398","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/398","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/398\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/398\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717","closed_as_duplicate_of":null},"references":{"short":"#398","relative":"#398","full":"gitlab-org\/gitlab-vscode-extension#398"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":87978417,"iid":397,"project_id":5261717,"title":"Inserting snippets is broken for newly created snippets","description":"### Summary\n\nNewly created snippets can't be inserted. Applies only to `gitlab.com` (and soon to `14.0`)\n\nThis issue is caused by GitLab switching to `main` branch name.\n\n### Steps to reproduce\n\n1. Create a project snippet\n1. Try to insert it with `GitLab: Insert snippet` command\n\n### What is the current *bug* behavior?\n\nWhen calling API to get the snippet blob, you get 404\n\n### What is the expected *correct* behavior?\n\ninserting the snippet\n\n### Relevant logs and\/or screenshots\n\nThe extension makes a call like:\n\n```sh\ncurl -H \"PRIVATE-TOKEN: $TOKEN\" \"https:\/\/gitlab.com\/api\/v4\/projects\/20486274\/snippets\/2128747\/files\/master\/blah.patch\/raw\"\n```\n\n(notice the **master** branch in the request)\n\nWe should instead make call to \n\n```sh\ncurl -H \"PRIVATE-TOKEN: $TOKEN\" \"https:\/\/gitlab.com\/api\/v4\/projects\/20486274\/snippets\/2128747\/files\/main\/blah.patch\/raw\" \n```\n\n(notice the **main** branch in the request)","state":"closed","created_at":1622468640609,"updated_at":1631798619764,"closed_at":1626080379907,"closed_by":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"labels":["Category:GitLab CLI","Deliverable","VS Code","devops::create","frontend","group::code review","section::dev","type::bug","workflow::in dev"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https:\/\/gitlab.com\/groups\/gitlab-org\/-\/milestones\/61"},"assignees":[{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"}],"author":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"type":"ISSUE","assignee":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"user_notes_count":11,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/397","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/397","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/397\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/397\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717","closed_as_duplicate_of":null},"references":{"short":"#397","relative":"#397","full":"gitlab-org\/gitlab-vscode-extension#397"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":87800877,"iid":393,"project_id":5261717,"title":"create snippet from git patch and apply patch stored in a snippet","description":"### Problem to solve\n\nWhen I review MR, sometimes I want to suggest changes that span multiple lines in multiple files and the \"suggestions\" GitLab feature is not powerful enough for that.\n\nThen I result in creating the changes locally, running `git diff > suggestions.patch` and including this patch to one of my MR comments.\n\n### Proposal\n\nIntroduce two new commands: `Create patch snippet` and `Apply patch snippet`.\n\n![poc video](https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/uploads\/93f89519e56c165c63b08d2e6658b9cb\/snippet-patch-poc.mp4)\n\n#### `Create patch snippet`\n\n1. run the command\n1. VS Code asks for the patch name and visibility\n1. VS Code runs `git diff` to get the patch\n1. project snippet with name `patch: <name submitted by the user>` is created\n\n#### `Apply patch snippet`\n\n1. run the command\n1. VS Code shows a list of all snippets with `patch: ` name prefix\n1. select one patch\n1. VS Code runs `git apply` to apply the patch\n\n### Further details\n\n\n### Links \/ references\n\n\/cc @phikai","state":"closed","created_at":1622105619276,"updated_at":1679567368928,"closed_at":1626180393623,"closed_by":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"labels":["Category:GitLab CLI","Deliverable","Technical Writing","VS Code","devops::create","documentation","frontend","group::code review","section::dev","tw-weight::3","type::feature","workflow::production"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https:\/\/gitlab.com\/groups\/gitlab-org\/-\/milestones\/61"},"assignees":[{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"}],"author":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"type":"ISSUE","assignee":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"user_notes_count":5,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/393","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/393","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/393\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/393\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717","closed_as_duplicate_of":null},"references":{"short":"#393","relative":"#393","full":"gitlab-org\/gitlab-vscode-extension#393"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":87293716,"iid":390,"project_id":5261717,"title":"Add support to open local file during MR reviews (file diff view)","description":"<!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"feature\" label:\n\n- https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues?label_name%5B%5D=feature\n\nand verify the issue you're about to submit isn't a duplicate.\n--->\n\n### Problem to solve\n\nWhen reviewing a merge request sometimes it's better to have better insights on the file like the file path, checkout neighboring files and folder etc.. and sometimes we might even need to open the file in the local to make a small change to see if it would workout or not.\n\n\n### Proposal\n\nUtilize a native feature in VScode to open a diff view while knowing the local path of that file, that will enable few features in VScode like (open file) button, the breadcrump and will allow some of \"gitlens\" extension features get activated\n\n### Further details\n\n<!-- Include examples, use cases, benefits, goals, or any other details that will help us understand the problem better. -->\nCurrent GitLab Workflow MR file diff view actions:\n![GL](\/uploads\/191f1af9864a2981ca6bb5d726375a23\/GL.png)\n\nAssumed to be an achievable behavior (Notice the breadcrumb and the \"open file\" action on the left): \n![GH](\/uploads\/2d0fa14bfa6f3f4cecba92f63ff1c7c8\/GH.png)\n\nI'm aware that the file path is already available on hover, but that doesn't exactly give the features of a breadcrumb found in VScode.\n![GL_path](\/uploads\/af995896ee05058dc535cc7d89e75c8c\/GL_path.png)\n\nSome of the features activated by gitlens when a local file with history is diffed (Git blame, refs navigation):\n![GH_gitlens](\/uploads\/adc8a3abe931a22b154dc605df16d849\/GH_gitlens.png)\n \n### Links \/ references\n(I've no knowledge of the VScode APIs)","state":"closed","created_at":1621353393145,"updated_at":1629270102611,"closed_at":1628676979121,"closed_by":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"labels":["Category:GitLab CLI","Deliverable","VS Code","[deprecated] Accepting merge requests","devops::create","group::code review","section::dev","type::feature"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https:\/\/gitlab.com\/groups\/gitlab-org\/-\/milestones\/62"},"assignees":[{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"}],"author":{"id":8597292,"username":"ahmed2m","name":"Ahmed Mohamadeen","state":"active","avatar_url":"https:\/\/secure.gravatar.com\/avatar\/7edfbbd9282f4b64d878d6f1f43b5137?s=80&d=identicon","web_url":"https:\/\/gitlab.com\/ahmed2m"},"type":"ISSUE","assignee":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"user_notes_count":5,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/390","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/390","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/390\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/390\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717","closed_as_duplicate_of":null},"references":{"short":"#390","relative":"#390","full":"gitlab-org\/gitlab-vscode-extension#390"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6516.0,"epic":{"id":320177,"iid":6516,"title":"Cleanup and Followups for reviews in VS Code","url":"\/groups\/gitlab-org\/-\/epics\/6516","group_id":9970,"human_readable_end_date":"Nov 17, 2021","human_readable_timestamp":"<strong>Past due<\/strong>"},"iteration":null,"health_status":null},{"id":87279951,"iid":389,"project_id":5261717,"title":"Inserting snippet into user's snippets fails (multi-repository workspaces)","description":"\n\n### Summary\n\nWhen a user tries to add a snippet to their user snippets (rather than project snippets) the command fails.\n\n### Steps to reproduce\n\nUser tries to add a snippet to their user snippets (rather than project snippets):\n\n1. Open folder containing multiple repositories\n2. Open file from one of the repositories\n3. Trigger the `GitLab: Create snippet` command\n4. Select `User's Snippets` in the project selection\n5. See the command fail\n\n### Possible fixes\n\nI added all caps comments to the following snippet from [create_snippet.js](https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/blob\/ca514167e28766b74c24faba255802920468ce05\/src\/commands\/create_snippet.js#L66-111)\n\n```ts\nasync function createSnippet() {\n  const editor = vscode.window.activeTextEditor;\n  let repositoryRoot = null;\n  let project = null;\n\n  if (editor) {\n    const repository = gitExtensionWrapper.getActiveRepository();\n    repositoryRoot = repository && repository.rootFsPath;\n    try {\n      project = repository && (await repository.getProject());\n    } catch (e) {\n      logError(e);\n    }\n\n    \/\/ FIXME: the empty `uri` representing user's snippets is not correctly handled\n    if (!project) {\n      repositoryRoot = await gitlabProjectInput.show(\n        [\n          {\n            label: \"User's Snippets\",\n            uri: '', \/\/ HERE WE RETURN EMPTY STRING\n          },\n        ],\n        \"Select a Gitlab Project or use the User's Snippets\",\n      );\n      try {\n        const selectedRepository = gitExtensionWrapper.getRepository(repositoryRoot); \/\/ HERE WE EXPECT SOME VALID URL\n        project = selectedRepository && (await selectedRepository.getProject());\n      } catch (e) {\n        logError(e);\n      }\n    }\n\n    const visibility = await vscode.window.showQuickPick(visibilityOptions);\n\n    if (visibility) {\n      const context = await vscode.window.showQuickPick(contextOptions);\n\n      if (context) {\n        uploadSnippet(project, editor, visibility.type, context.type, repositoryRoot); \/\/ THIS FUNCTION NEEDS VALID repositoryRoot\n      }\n    }\n  } else {\n    vscode.window.showInformationMessage('GitLab Workflow: No open file.');\n  }\n}\n```","state":"closed","created_at":1621340183128,"updated_at":1625214101840,"closed_at":1625214061260,"closed_by":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"labels":["Category:GitLab CLI","VS Code","devops::create","group::code review","section::dev","type::bug"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https:\/\/gitlab.com\/groups\/gitlab-org\/-\/milestones\/60"},"assignees":[],"author":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"type":"ISSUE","assignee":null,"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/389","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/389","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/389\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/389\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717","closed_as_duplicate_of":null},"references":{"short":"#389","relative":"#389","full":"gitlab-org\/gitlab-vscode-extension#389"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":86774523,"iid":384,"project_id":5261717,"title":"Change TreeView to list repositories first and then filters","description":"Follow-up from https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/345#note_569008314\n\n### Problem to solve\n\nAs a user, I want to navigate my issues and <abbr title=\"merge request\">MR<\/abbr>s using a \u201crepository-first\u201d hierarchy, so that its hierarchy matches other VS Code views and it doesn't make me think.\n\n### Proposal\n\nChange the extension's \u201cIssues and merge requests\u201d view to show repositories first and then the filters.\n\n### Further details\n\n| Current GitLab Workflow | explorer | source control | GitHub extension |\n|----------|----------------|-----------------|-|\n| ![settings_json___workspace](https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/uploads\/9a839aad560ebc8960a23c15e6430334\/settings_json___workspace.png) | ![settings_json___workspace](https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/uploads\/785c11d232b242892b71bd444eb55cef\/settings_json___workspace.png) | ![settings_json___workspace](https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/uploads\/4c68c4228d3bd0d15a3934c71d557de7\/settings_json___workspace.png) | ![image](\/uploads\/3464d2984cf890c1b1122364bcbdf45d\/image.png) |\n\n### Links \/ references","state":"closed","created_at":1620643723380,"updated_at":1641575527073,"closed_at":1635932324008,"closed_by":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"labels":["Category:GitLab CLI","Deliverable","VS Code","[deprecated] Accepting merge requests","devops::create","feature::enhancement","frontend","group::code review","section::dev","type::feature","workflow::production"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https:\/\/about.gitlab.com\/releases\/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https:\/\/gitlab.com\/groups\/gitlab-org\/-\/milestones\/66"},"assignees":[{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"}],"author":{"id":626804,"username":"pedroms","name":"Pedro Moreira da Silva","state":"active","avatar_url":"https:\/\/secure.gravatar.com\/avatar\/c306f087d191ac15549f3c11e3bed321?s=80&d=identicon","web_url":"https:\/\/gitlab.com\/pedroms"},"type":"ISSUE","assignee":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/384","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/384","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/384\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/384\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717","closed_as_duplicate_of":null},"references":{"short":"#384","relative":"#384","full":"gitlab-org\/gitlab-vscode-extension#384"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":86556184,"iid":383,"project_id":5261717,"title":"Add command to show merged YAML for CI config","description":"### Problem to solve\n\nAs a developer, I want to be able to view the merged YAML for my GitLab CI configuration inside my VSCode workspace, so that I don't have to leave my IDE and navigate through a web browser to see the results.\n\n### Proposal\n\nUtilize the API endpoint to [Validate a CI YAML configuration with a namespace](https:\/\/docs.gitlab.com\/ee\/api\/lint.html#validate-a-ci-yaml-configuration-with-a-namespace), retrieve the `merged_yaml` attribute from the response, and display the results in a separate editor.\n\n### Further details\n\nFor complex pipelines, it can be very challenging to know whether the resulting merged YAML is going to look as desired\/expected. Having the ability to view this directly in the developer's IDE would be extremely valuable.\n\n### Links \/ references\n\nMight be blocked by https:\/\/gitlab.com\/gitlab-org\/gitlab\/-\/issues\/320778.\n\nWe can use virtual documents to show the merged result: https:\/\/code.visualstudio.com\/api\/extension-guides\/virtual-documents.\n\n- We'd define a `TextDocumentContentProvider` that will serve documents on a custom scheme URI (e.g. `gitlab-merged-ci-yaml`)\n    - this provider would somehow have to store the API response\n- We'd show the file by running `vscode.workspace.openTextDocument(customUri)`","state":"closed","created_at":1620261605842,"updated_at":1667829573230,"closed_at":1662717528465,"closed_by":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"labels":["Category:GitLab CLI","VS Code","[deprecated] Accepting merge requests","devops::create","group::code review","section::dev","type::feature"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https:\/\/gitlab.com\/gitlab-org\/gitlab\/-\/releases\/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https:\/\/gitlab.com\/groups\/gitlab-org\/-\/milestones\/76"},"assignees":[{"id":4106223,"username":"X_Sheep","name":"Lennard Sprong","state":"active","avatar_url":"https:\/\/secure.gravatar.com\/avatar\/8511bd42dbd2376f33e7f293a180bc02?s=80&d=identicon","web_url":"https:\/\/gitlab.com\/X_Sheep"}],"author":{"id":1597694,"username":"patwalsh","name":"Pat Walsh","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/1597694\/avatar.png","web_url":"https:\/\/gitlab.com\/patwalsh"},"type":"ISSUE","assignee":{"id":4106223,"username":"X_Sheep","name":"Lennard Sprong","state":"active","avatar_url":"https:\/\/secure.gravatar.com\/avatar\/8511bd42dbd2376f33e7f293a180bc02?s=80&d=identicon","web_url":"https:\/\/gitlab.com\/X_Sheep"},"user_notes_count":17,"merge_requests_count":0,"upvotes":4,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/383","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/383","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/383\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/383\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717","closed_as_duplicate_of":null},"references":{"short":"#383","relative":"#383","full":"gitlab-org\/gitlab-vscode-extension#383"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":86520187,"iid":382,"project_id":5261717,"title":"Integrate with YAML extension to provide .gitlab-ci.yml autocompletion","description":"### Problem to solve\n\nSince ci files are not created many times we never get to memorize all the **keys** to achieve what we need.\n\nWhen creating a new gitlab-ci file I normally have to copy stuff from an existing file or open the documentation to see what are the yaml keys to get things done.\n\n### Proposal\n\nAdd code completions to the actual yaml keys allowed by the gitlab-ci file schema, along with their description.\n\nThis can be achieved already by making the following steps:\n\n1. install the [YAML](https:\/\/marketplace.visualstudio.com\/items?itemName=redhat.vscode-yaml) extension\n1. change your `settings.json` associate the `.gitlab-ci.yml` file with the correct JSON Schema\n    ```json\n    {\n      \"yaml.schemas\": {\n        \"https:\/\/json.schemastore.org\/gitlab-ci.json\": \".gitlab-ci.yml\"\n      }\n    }\n    ```\n\nWe should simplify the integration with YAML extension to make it even easier for the users to enable `.gitlab-ci.yml` auto-completion.\n\nWe can recognize that the YAML extension is installed (`vscode.extensions.getExtension<GitExtension>('redhat.vscode-yaml')`). If it is, we can somehow suggest to the user, that we can add configuration to enable the autocompletion.\n\n```json\n{\n  \"yaml.schemas\": {\n    \"https:\/\/json.schemastore.org\/gitlab-ci.json\": \".gitlab-ci.yml\"\n  }\n}\n```\n\n### Further details\n\nWe should agree on the UX before implementation.\n\n- Do we do this change automatically and only inform user that we've done it?\n- Are we going to show pop-up message with a button which will add the configuration?\n    - If users dismisses this message, should we show it again, or never suggest it again?\n- What if they've already have some configuration in their `yaml.schemas`? We must ensure it won't get lost\n\n\n<details>\n<summary>This snippet shows the changes we could do to edit YAML's config<\/summary>\n\n```diff\ndiff --git a\/package.json b\/package.json\nindex a17bd0c..8ab2ea9 100644\n--- a\/package.json\n+++ b\/package.json\n@@ -353,6 +353,9 @@\n     \"configuration\": {\n       \"title\": \"GitLab Workflow (GitLab VSCode Extension)\",\n       \"properties\": {\n+        \"yaml.schemas\": {\n+          \"type\":\"object\"\n+        },\n         \"gitlab.instanceUrl\": {\n           \"type\": [\n             \"string\",\ndiff --git a\/src\/extension.js b\/src\/extension.js\nindex 7d81215..bebf082 100644\n--- a\/src\/extension.js\n+++ b\/src\/extension.js\n@@ -107,7 +107,7 @@ const registerCiCompletion = context => {\n   context.subscriptions.push(subscription);\n };\n \n-const activate = context => {\n+const activate = async context => {\n   const outputChannel = vscode.window.createOutputChannel('GitLab Workflow');\n   initializeLogging(line => outputChannel.appendLine(line));\n   vscode.workspace.registerTextDocumentContentProvider(REVIEW_URI_SCHEME, new GitContentProvider());\n@@ -120,6 +120,9 @@ const activate = context => {\n   gitExtensionWrapper.init();\n   context.subscriptions.push(gitExtensionWrapper);\n   vscode.window.registerFileDecorationProvider(fileDecorationProvider);\n+  await vscode.workspace\n+    .getConfiguration()\n+    .update('yaml.schemas', { 'https:\/\/json.schemastore.org\/gitlab-ci.json': '.gitlab-ci.yml' });\n };\n \n exports.activate = activate;\n```\n\n<\/details>","state":"closed","created_at":1620218194312,"updated_at":1667403978498,"closed_at":1659941560391,"closed_by":{"id":10539680,"username":"slashmanov","name":"Stanislav Lashmanov","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/10539680\/avatar.png","web_url":"https:\/\/gitlab.com\/slashmanov"},"labels":["Category:GitLab CLI","Deliverable","Technical Writing","VS Code","[deprecated] Accepting merge requests","devops::create","documentation","frontend","group::code review","missed-deliverable","missed:15.2","section::dev","type::feature","workflow::in review"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https:\/\/gitlab.com\/groups\/gitlab-org\/-\/milestones\/75"},"assignees":[{"id":10539680,"username":"slashmanov","name":"Stanislav Lashmanov","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/10539680\/avatar.png","web_url":"https:\/\/gitlab.com\/slashmanov"}],"author":{"id":282670,"username":"GCSBOSS","name":"Guilherme C. Souza","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/282670\/avatar.png","web_url":"https:\/\/gitlab.com\/GCSBOSS"},"type":"ISSUE","assignee":{"id":10539680,"username":"slashmanov","name":"Stanislav Lashmanov","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/10539680\/avatar.png","web_url":"https:\/\/gitlab.com\/slashmanov"},"user_notes_count":21,"merge_requests_count":0,"upvotes":4,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/382","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/382","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/382\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/382\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717","closed_as_duplicate_of":null},"references":{"short":"#382","relative":"#382","full":"gitlab-org\/gitlab-vscode-extension#382"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":86314631,"iid":379,"project_id":5261717,"title":"Replace Node Sass (node-sass) with Dart Sass (sass) in JavaScript","description":"Part of &5923","state":"closed","created_at":1619856311012,"updated_at":1620315656295,"closed_at":1620307762955,"closed_by":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"labels":["frontend","javascript","maintenance::dependency","maintenance::refactor","workflow::in review"],"milestone":{"id":1233762,"iid":58,"group_id":9970,"title":"13.12","description":"https:\/\/about.gitlab.com\/releases\/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.948Z","updated_at":"2022-04-21T07:22:18.898Z","due_date":"2021-05-17","start_date":"2021-04-18","expired":true,"web_url":"https:\/\/gitlab.com\/groups\/gitlab-org\/-\/milestones\/58"},"assignees":[{"id":100770,"username":"tnir","name":"Takuya Noguchi","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/100770\/canstock6553672_288.png","web_url":"https:\/\/gitlab.com\/tnir"}],"author":{"id":100770,"username":"tnir","name":"Takuya Noguchi","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/100770\/canstock6553672_288.png","web_url":"https:\/\/gitlab.com\/tnir"},"type":"ISSUE","assignee":{"id":100770,"username":"tnir","name":"Takuya Noguchi","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/100770\/canstock6553672_288.png","web_url":"https:\/\/gitlab.com\/tnir"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/379","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/379","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/379\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/379\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717","closed_as_duplicate_of":null},"references":{"short":"#379","relative":"#379","full":"gitlab-org\/gitlab-vscode-extension#379"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5923.0,"epic":{"id":263051,"iid":5923,"title":"Replace LibSass (sassc\/node-sass) with Dart Sass (sass)","url":"\/groups\/gitlab-org\/-\/epics\/5923","group_id":9970,"human_readable_end_date":"May 17, 2023","human_readable_timestamp":"<strong>11<\/strong> days remaining"},"iteration":null,"health_status":null},{"id":85455078,"iid":371,"project_id":5261717,"title":"Support suggestions in VS Code diff comments","description":"### Problem to solve\n\nGitLab supports a custom suggestion Markdown code blocks\n\n    ```suggestion:-0+0\n    suggested text\n    ```\n\nWhich gets rendered on the web as\n\n![Update_new-file2_txt___9____Merge_requests___Tomas_Vik___test_project___GitLab](\/uploads\/6c6285cd99149ac0b2201b1bab5cad3b\/Update_new-file2_txt___9____Merge_requests___Tomas_Vik___test_project___GitLab.png)\n\nbut in VS Code it renders as a generic text block:\n\n![_Extension_Development_Host__-_new-file2_txt___9____test-project](\/uploads\/c141d97dfaf0ae44e25b5a5aba370575\/_Extension_Development_Host__-_new-file2_txt___9____test-project.png)\n\n### Proposal\n\nImplement a post-processing of comments in VS Code to convert the custom suggestion into a diff block:\n\n~~~markdown \n```suggestion:-1+0\n,--,\n```\n~~~\n\nchanges to\n\n~~~markdown\nSuggestion:\n\n```diff\n- \n- ,,,\n+ ,--,\n```\n~~~\n\nrendered as\n\n![_Extension_Development_Host__-_new-file2_txt___9____test-project](\/uploads\/99be510904a9514adc31334844d4b08b\/_Extension_Development_Host__-_new-file2_txt___9____test-project.png)\n\n### Further details\n\n- This would be quite complex because as seen in the previous example, suggestion can span multiple lines (`suggestion:-1+0`) and so the logic would have to work not only on comments but also access the text file to have the full context.\n\n### Links \/ references","state":"closed","created_at":1618837994834,"updated_at":1639810857012,"closed_at":1639486763778,"closed_by":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"labels":["Category:GitLab CLI","Deliverable","VS Code","devops::create","group::code review","section::dev","type::feature","workflow::in dev"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https:\/\/about.gitlab.com\/releases\/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https:\/\/gitlab.com\/groups\/gitlab-org\/-\/milestones\/67"},"assignees":[{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"}],"author":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"type":"ISSUE","assignee":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"user_notes_count":3,"merge_requests_count":0,"upvotes":7,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/371","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/371","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/371\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/371\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717","closed_as_duplicate_of":null},"references":{"short":"#371","relative":"#371","full":"gitlab-org\/gitlab-vscode-extension#371"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":84688797,"iid":359,"project_id":5261717,"title":"Warn users that they should use supported GitLab version","description":"### Problem to solve\n\nThe extension doesn't work correctly with older GitLab versions (13.4 and older) (e.g. #347 #358). But the users don't have any way of finding this information and so the process currently looks like this:\n\n1. GitLab instance returns an error\n1. User creates a bug in extension issues\n1. We try to help the user debug the issue\n1. Eventually we ask about the GitLab version\n1. User tells us an old version\n1. We mark the issue as ~wontfix and explain to the user that we don't support old versions\n\n### Proposal\n\n#### Passive solutions\n\nPassive solutions to the problem are trivial to implement, but they are not going to be as effective, because they rely on user reading the documentation for the extension.\n\n- Add a note to the top of the README, that explains that the extension supports GitLab 13.5 and above.\n- Add a section to the [Bug issue template](https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/blob\/main\/.gitlab\/issue_templates\/Bug.md)\n\n#### Active solution\n\n- When we start the extension, we can check the `\/api\/v4\/version` response and if we find out that the version is lower than 13.5, we'll show the user a warning saying that they are connected to an unsupported version of GitLab instance and the extension won't fully work.\n\n### Further details\n\n- We already make use of the `version` endpoint: https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/blob\/c484feb48d44d8492a54be61b51637c781ef2b53\/src\/gitlab_service.ts#L170-181\n\n### Links \/ references\n\n\/cc @phikai","state":"closed","created_at":1617697054525,"updated_at":1625041132199,"closed_at":1623933879638,"closed_by":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"labels":["Category:GitLab CLI","Deliverable","Technical Writing","UI text","VS Code","devops::create","frontend","group::code review","missed-deliverable","missed:13.12","quad-planning::complete-no-action","section::dev","tw-weight::3","tw::finished","type::feature","workflow::verification"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https:\/\/gitlab.com\/groups\/gitlab-org\/-\/milestones\/60"},"assignees":[{"id":4017300,"username":"jboyson","name":"Justin Boyson","state":"blocked","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4017300\/avatar.png","web_url":"https:\/\/gitlab.com\/jboyson"}],"author":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"type":"ISSUE","assignee":{"id":4017300,"username":"jboyson","name":"Justin Boyson","state":"blocked","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4017300\/avatar.png","web_url":"https:\/\/gitlab.com\/jboyson"},"user_notes_count":17,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/359","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/359","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/359\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/359\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717","closed_as_duplicate_of":null},"references":{"short":"#359","relative":"#359","full":"gitlab-org\/gitlab-vscode-extension#359"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":81188307,"iid":345,"project_id":5261717,"title":"Use repositories instead of workspace folders","description":"# Use repositories instead of workspace folders\n\nTL;DR: We use the wrong abstraction in the code. If we change the abstraction, we'll simplify the code significantly, make future work on the codebase much easier.\n\n## What is a workspace?\n\nWorkspace is the content of an open VS Code window. It can either contain one open folder or multiple folders if you use [Multi-root Workspace](https:\/\/code.visualstudio.com\/docs\/editor\/multi-root-workspaces).\n\n| single foldre in the workspace | mutli-root workspace |\n| ---- | ---- |\n| ![e3c8ae52e5a24d82bfd88b406d150871](\/uploads\/828ff723636f899733269b1e1e2eb2f6\/e3c8ae52e5a24d82bfd88b406d150871.png) | ![2e96f2863e554495b225c1770e775aa4](\/uploads\/305198895c82e53256e795ae03ef36d4\/2e96f2863e554495b225c1770e775aa4.png) |\n\n\nGitLab Workflow uses the workspace folder to run the `git` command. The most common use case is this:\n\n```mermaid\ngraph TD;\nA[Obtains workspaceFolder from VS Code] --\"\/workspace\/extension\"--> B[\"Run git remote -v in that folder to get remote URL\"]\nB --\"git@gitlab.com:gitlab-org\/gitlab-vscode-extension.git\"--> C[\"parse namespace and project from the remote\"]\nC --\"gitlab-org\/gitlab-vscode-extension\"--> D[\"Run API queries for this project\"]\n```\n\n### The problem with using `workspaceFolders`\n\nThe problem with this approach is that **the `workspaceFolder` doesn't have 1:1 relationship with repository**. You can open the VS Code in any folder (`code .` in the command line). If we have the following folder structure:\n\n```\n.\n\u2514\u2500\u2500 workspace\/\n    \u251c\u2500\u2500 projectA\/\n    \u2502   \u251c\u2500\u2500 .git\n    \u2502   \u251c\u2500\u2500 frontend\/\n    \u2502   \u2502   \u2514\u2500\u2500 src\n    \u2502   \u2514\u2500\u2500 backend\n    \u2514\u2500\u2500 projectB\/\n        \u251c\u2500\u2500 .git\n        \u2514\u2500\u2500 src\/\n```\n\nThis structure allows for the following three scenarios:\n\n1. Open `projectB` (`cd workspace\/projectB && code .`) - \u2705 This will work fine because the `workspaceFolder` is a git repository at the same time\n2. Open `frontend` (`cd workspace\/projectA\/frontend && code .`) - \u26a0\ufe0fThis now works, because there is still only one repository for the `workspaceFolder`. But it caused us trouble in the past:\n\t- \ud83d\udc1e [Open active file on GitLab does not resolve from git repository root](https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/327)\n3. Open `workspace` (`cd workspace && code .`) - \u274c The extension will run `git` command in the folder called `worskpace` and think that there are no repositories. `workspace` folder contains two repositories.\n    - \ud83d\udc1e [Does not support workspace folders containing multiple repositories](https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/216)\n\n\n## Better approach: Using repositories\n\nThe key insight is that the `workspaceFolder` <--> git repository 1:n relationship makes it very hard to keep the extension git information in sync with VS Code.\n\nWe've recently introduced the VS Code Git extension to our codebase ([Support VSCode \"git clone\" command](https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/222)) and now we can use the way VS Code recognizes repositories.\n\n### Folder that contains multiple repositories\n\n| explorer| source control (git) tree view | GitLab Workflow tree view |\n| -- | -- | -- |\n| ![cbdebfffbbb54267b27496f93ffd4718](\/uploads\/567e82034650e94b0b2e07499ec3acbf\/cbdebfffbbb54267b27496f93ffd4718.png) | ![74b38c20d8b544f99efe3a0b4ed18367](\/uploads\/d157e0084e1c5dcc7b410da04f28c75c\/74b38c20d8b544f99efe3a0b4ed18367.png) | ![0197b75bb9b6465bab9c1459eb5fcd84](\/uploads\/2813581eb23320951549eeab427c6f88\/0197b75bb9b6465bab9c1459eb5fcd84.png) |\n\n### Benefits of switching to repositories\n\n- Benefits of changing the abstraction\n  - Clear abstraction. GitLab project = git repository. Easy to understand for new and existing contributors.\n- Benefits of switching to the VS Code git extension\n  - **Single source of truth for the git information**, if user sees 4 repostiories in the SCM tree view, they'll see up to 4 in the GitLab Workflow TreeView\n  - Less dependency on `execa` module to run our custom `git` commands and parse them. Running the git commands ourselves is tricky from a security perspective (e.g. [Client side code execution](https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/170))\n\n\n### Drawbacks of switching to repositories\n\nThere is no drawback (that I can think of) of **changing the abstraction**. However, there is a drawback of using the VS Code Git extension:\n\n- Dependency on the VS Code Git extension means that if there is a bug or a missing feature, we are not fully in control, and we can only contribute the fix upstream and wait for a release.\n\t- There is plenty of popular extensions (GitHub Pull Request, Git Lenses) depending on the same API, the \"severe bug\" scenario is not very likely.\n\t- We can still use `execa` for any missing git commands\/features, but I don't know of any.\n\n## Getting technical\n\n**(some experience with the extension code is recommended)**\n\nI have implemented a POC of this change in [refactor-to-use-git-repositories](https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/tree\/refactor-to-use-git-repositories) branch. The potential for simplifying the code got me excited enough to write this issue.\n\n### Opportunity for simplifying the codebase\n\nThe way we now obtain information about the git repository or how we call API is quite complex. If we create a wrapper around the `Repository` that we get from VS Code Git extension, we can reduce a significant amount of code and complexity from the extension[^1].\n\n<details>\n\t<summary>Good example<\/summary>\n\nIn this example, we already built the GitLabNewService to be decoupled from the repository logic.\n\n[Getting the `GitLabNewService`](https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/blob\/42ba142134b0ace97ae56a36f2f1131eba212a39\/src\/service_factory.ts#L16-18)\n\n```ts\nexport async function createGitLabNewService(workspaceFolder: string): Promise<GitLabNewService> {\n  return new GitLabNewService(await getInstanceUrl(workspaceFolder));\n}\n```\n\n[Using the new service](https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/blob\/c012837326fca58ec4dcf4e85fe94f3483a261f3\/src\/commands\/insert_snippet.ts#L34-37):\n\n```\n const gitService = createGitService(workspaceFolder);\n  const gitLabService = await createGitLabNewService(workspaceFolder);\n  const remote = await gitService.fetchGitRemote();\n  const snippets = await gitLabService.getSnippets(`${remote.namespace}\/${remote.project}`);\n```\n\n<\/details>\n\n<details>\n\t<summary>Bad example<\/summary>\n\nThe old GitLabService is incredibly coupled with the workspace and git logic:\n\n```ts\nexport async function getAllGitlabWorkspaces(): Promise<GitLabWorkspace[]> {\n  if (!vscode.workspace.workspaceFolders) {\n    return [];\n  }\n  const projectsWithUri = vscode.workspace.workspaceFolders.map(async workspaceFolder => {\n    const uri = workspaceFolder.uri.fsPath;\n    try {\n      const currentProject = await fetchCurrentProject(uri);\n      return {\n        label: currentProject?.name ?? basename(uri),\n        uri,\n      };\n    } catch (e) {\n      logError(e);\n      return { label: basename(uri), uri, error: true };\n    }\n  });\n\n  return Promise.all(projectsWithUri);\n}\n```\n\n```ts\nexport async function fetchCurrentProject(workspaceFolder: string): Promise<GitLabProject | null> {\n  try {\n    const remote = await createGitService(workspaceFolder).fetchGitRemote();\n\n    return await fetchProjectData(remote, workspaceFolder);\n  } catch (e) {\n    throw new ApiError(e, 'get current project');\n  }\n}\n```\n\n<\/details>\n\nI imagine the new repository centric approach like this:\n\n```js\nconst activeEditor = vscode.workspace.activeEditor;\nconst gitlabRepository = repositoryManager.getRepositoryForFile(activeEditor.document.uri);\nconst snippets = await gitlabRepository.gitlabService.getSnippets();\nconst activeBranch = await gitlabRepository.git.getActiveBranch();\n```\n\n## Related\n\n- [Consistent handling of remotes, instances and branches](https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/260)\n- [Replace the library for interacting with git](https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/203)\n\n[^1]: I'm confident that even with covering the new logic with unit tests, we'll end up with less code in total.","state":"closed","created_at":1616074626043,"updated_at":1682533119767,"closed_at":1620391469131,"closed_by":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"labels":["Category:GitLab CLI","Deliverable","VS Code","devops::create","frontend","group::code review","section::dev","type::maintenance","workflow::production"],"milestone":{"id":1233762,"iid":58,"group_id":9970,"title":"13.12","description":"https:\/\/about.gitlab.com\/releases\/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.948Z","updated_at":"2022-04-21T07:22:18.898Z","due_date":"2021-05-17","start_date":"2021-04-18","expired":true,"web_url":"https:\/\/gitlab.com\/groups\/gitlab-org\/-\/milestones\/58"},"assignees":[{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"}],"author":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"type":"ISSUE","assignee":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"user_notes_count":12,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/345","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/345","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/345\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/345\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717","closed_as_duplicate_of":null},"references":{"short":"#345","relative":"#345","full":"gitlab-org\/gitlab-vscode-extension#345"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":81119370,"iid":344,"project_id":5261717,"title":"MR Review: track changed lines on the diff","description":"### Problem to solve\n\nThis issue is a follow up for https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/340 that might be not necessary to implement if the https:\/\/gitlab.com\/gitlab-org\/gitlab\/-\/issues\/325161 gets fixed.\n\nThis issue implements logic related to tracking which lines in the diff have been added\/removed\/unchanged. This feature needs to be behind a feature flag because we'll implement submitting new comments in a subsequent issue.\n\n#### Commenting ranges\n\nTo be able to create new comments (not replies to a thread) we need to create a [`CommentingRangeProvider`](https:\/\/code.visualstudio.com\/api\/references\/vscode-api#CommentingRangeProvider). We implement a function that receives a file URI and returns all the lines that the user can comment on.\n\nWithout these ranges, the user can only respond to existing comments (#339).\n\n#### Track changed lines on the diff\n\nTo be able to submit comments on unchanged lines, we also need to be able to track position of unchanged lines across both old and new diff version. The `createDiffNote` GraphQL mutation requires both `oldLine` and `newLine` for unchanged lines (this is an issue tracked in https:\/\/gitlab.com\/gitlab-org\/gitlab\/-\/issues\/325161). The following image explains the information we must compute:\n\n![_Extension_Development_Host__-_gitlab_comment_thread_test_ts___197____gitlab-vscode-extension-TEST](\/uploads\/1d7b3ca4f7a9cfc00d91d5a6379156f5\/_Extension_Development_Host__-_gitlab_comment_thread_test_ts___197____gitlab-vscode-extension-TEST.png)\n\nTo be able to submit a comment for the `it('deletes a comment', async () => {` line, we need to compute that the line has the number `133` on the old version but `149` on the new.\n\n### Proposal\n\nWe'll need to use the textual diff that we retrieve from the [MR Diff version API endpoint](https:\/\/docs.gitlab.com\/ee\/api\/merge_requests.html#get-a-single-mr-diff-version).\n\n```json\n{\n  \"old_path\": \"new_file.ts\",\n  \"new_path\": \"new_file.ts\",\n  \"a_mode\": \"0\",\n  \"b_mode\": \"100644\",\n  \"new_file\": true,\n  \"renamed_file\": false,\n  \"deleted_file\": false,\n  \"diff\": \"@@ -0,0 +1,3 @@\\n+export class NewFile{\\n+    private property: string;\\n+}\\n\"\n}\n```\n\nWe'll have to praise the `diff` property to find all changed lines.\n\n### Further details\n\nExample:\n\n| no ranges | with ranges |\n| ------ | ------ |\n| ![gitlab_comment_thread_test_ts___197____gitlab-vscode-extension](\/uploads\/68d82d72b633a1cd187b1dbbb1973363\/gitlab_comment_thread_test_ts___197____gitlab-vscode-extension.png) | ![_Extension_Development_Host__-_gitlab_comment_thread_test_ts___197____gitlab-vscode-extension-TEST](\/uploads\/f64380715c20a6a230e17dd8c95f00ce\/_Extension_Development_Host__-_gitlab_comment_thread_test_ts___197____gitlab-vscode-extension-TEST.png) |\n\n### Links \/ references","state":"closed","created_at":1615996318781,"updated_at":1624000022260,"closed_at":1623059827398,"closed_by":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"labels":["Category:GitLab CLI","Deliverable","GitLab Free","VS Code","devops::create","direction","frontend","group::code review","section::dev","type::feature","workflow::production"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https:\/\/gitlab.com\/groups\/gitlab-org\/-\/milestones\/60"},"assignees":[{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"}],"author":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"type":"ISSUE","assignee":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/344","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/344","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/344\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/344\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717","closed_as_duplicate_of":null},"references":{"short":"#344","relative":"#344","full":"gitlab-org\/gitlab-vscode-extension#344"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4607.0,"epic":{"id":126339,"iid":4607,"title":"Merge Request Reviews in VS Code","url":"\/groups\/gitlab-org\/-\/epics\/4607","group_id":9970,"human_readable_end_date":"Jul 17, 2021","human_readable_timestamp":"<strong>Past due<\/strong>"},"iteration":null,"health_status":null},{"id":81037359,"iid":342,"project_id":5261717,"title":"MR Review: create a new comment on the diff","description":"### Problem to solve\n\nThe extension only allows creating new comments on the \"Details\"  `webview` which means they are not related to any particular position. To replicate the GitLab web experience, this ~feature implements creating new comments in the MR diff view.\n\n### Proposal\n\n![new_comments](\/uploads\/cd27d196a2c53b0698650baf587d23e5\/new_comments.mp4)\n\nImplement a command that will be triggered when the user clicks \"Add comment now\" button:\n\n![_Extension_Development_Host__-_test_ts___5____test-project](\/uploads\/0f1044ee573794ef21ec8f976982b545\/_Extension_Development_Host__-_test_ts___5____test-project.png)\n\nThis command will create a new comment. It will support unchanged, removed, and added lines.\n\n### Further details\n\n#### Creating comments\n\nGraphQL mutation\n\n```graphql\nmutation CreateDiffNote5 {\n  createDiffNote(\n    input: {\n      noteableId: \"gid:\/\/gitlab\/MergeRequest\/87196674\"\n      body: \"new note\"\n      position: {\n        baseSha: \"5e6dffa282c5129aa67cd227a0429be21bfdaf80\"\n        headSha: \"a2616e0fea06c8b5188e4064a76d623afbf97b0c\"\n        startSha: \"5e6dffa282c5129aa67cd227a0429be21bfdaf80\"\n        paths: { oldPath: \"\/test.js\", newPath: \"\/test.ts\" }\n        newLine: 15\n      }\n    }\n  ) {\n    errors\n  }\n}\n```\n\nAll attributes are mandatory, except for the following exception regarding `newLine` and `oldLine`:\n\n| type of line we comment on | newLine, oldLine explained |\n| ------ | ------ |\n| added line (right-hand-side of the diff) | We only submit `newLine` |\n| removed line (left-hand-side of the diff) | We only submit `oldLine` |\n| unchanged line | Both `newLine` and `oldLine` are **required**. If the unchanged line has a different index on each side of the diff, these attributes need to [reflect that different index](https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/340#track-changed-lines-on-the-diff). |\n\n#### Representing the new comment in VS Code\n\nThe `createDiffNote` mutation gives us only the new note as a response. But we need the full `discussion` response because only the discussion contains `replyId` attribute that allows us to submit replies.\n\nIn other words, without knowing the `replyId`, we can create a new thread, but the user can't reply to that thread.\n\nThe only way how we can get it now is to ask for **all discussions on MR** and filter out the one that contains our new note.\n\n### Links \/ references","state":"closed","created_at":1615915501077,"updated_at":1624000022322,"closed_at":1623059856748,"closed_by":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"labels":["Category:GitLab CLI","Deliverable","GitLab Free","VS Code","devops::create","direction","frontend","group::code review","section::dev","type::feature","workflow::production"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https:\/\/gitlab.com\/groups\/gitlab-org\/-\/milestones\/60"},"assignees":[{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"}],"author":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"type":"ISSUE","assignee":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"user_notes_count":5,"merge_requests_count":0,"upvotes":13,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/342","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":4,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/342","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/342\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/342\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717","closed_as_duplicate_of":null},"references":{"short":"#342","relative":"#342","full":"gitlab-org\/gitlab-vscode-extension#342"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4607.0,"epic":{"id":126339,"iid":4607,"title":"Merge Request Reviews in VS Code","url":"\/groups\/gitlab-org\/-\/epics\/4607","group_id":9970,"human_readable_end_date":"Jul 17, 2021","human_readable_timestamp":"<strong>Past due<\/strong>"},"iteration":null,"health_status":null},{"id":81036147,"iid":341,"project_id":5261717,"title":"MR Review: Introduce global MR cache","description":"### Problem to solve\n\nWhen we submit a new comment on the diff, we need to calculate `newLine` and `oldLine` position. The trickiest scenario is when we comment on an unchanged line and we need to calculate the `newLine` and `oldLine` (https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/340#track-changed-lines-on-the-diff). \n\nWe currently can't get all information we need because there is a disconnect between the data available to the `MrItemModel` and the code diff\n\n- `MrItemModel` - we have all the API responses for MR, Discussions and MR Diff (version)\n- code diff (VS Code Diff view) - we have only the URI and what we can put into `query` parameter\n\nWhen we create a new comment (new `CommentThread`) the **only** information available to us is the URI.\n\nWe need access to **much more MR information** when we create a new comment.\n\n#### URI example\n\n```\n\"gl-review:\/src\/commands\/mr_discussion_commands.ts?%7B%22commit%22%3A%2265d828eb07558c8dfe03da797f6778fc18eece8b%22%2C%22workspacePath%22%3A%22%2FUsers%2Ftomas%2Fworkspace%2Ftest-projects%2Fgitlab-vscode-extension-TEST%22%2C%22projectId%22%3A5261717%7D\"\n```\n\nThe cryptical `query` string is encoded JSON:\n\n```json\n{\n    \"commit\": \"65d828eb07558c8dfe03da797f6778fc18eece8b\",\n    \"workspacePath\": \"\/Users\/tomas\/workspace\/test-projects\/gitlab-vscode-extension-TEST\",\n    \"projectId\": 5261717\n}\n```\n\n#### Why more information?\n\nThis is the full query to create a new note (notice the input):\n\n```graphql\nmutation CreateDiffNoteNonChanged {\n  createDiffNote(\n    input: {\n      noteableId: \"gid:\/\/gitlab\/MergeRequest\/87196674\"\n      body: \"new note\"\n      position: {\n        baseSha: \"5e6dffa282c5129aa67cd227a0429be21bfdaf80\"\n        headSha: \"a2616e0fea06c8b5188e4064a76d623afbf97b0c\"\n        startSha: \"5e6dffa282c5129aa67cd227a0429be21bfdaf80\"\n        paths: { oldPath: \"test.js\", newPath: \"test.ts\" }\n        newLine: 8\n        oldLine: 8\n      }\n    }\n  ) {\n    errors\n  }\n}\n```\n\nWe could still put most of the information into the URL. The only information that would be missing is the lines.\n\n### Proposal\n\nWe can introduce a cache, through which we'll be able to retrieve all necessary MR information. Each MR is going to be uniquely identified by `workspaceFolder` (i.e. the local git repository) and `mergeRequest.id` the database numerical ID that is unique for GitLab instance.\n\nThe trickiest part of this cache is going to be designing the lifecycle of the cached MR (i.e. when will the cache get invalidated). Currently, we fetch all issues and MRs when the user triggers the `GitLab: Refresh Sidebar` command. (that would equal to cache invalidation).\n\n### Further details\n\nSketch of how this cache could look like is implemented in the POC (#293) branch [`293-new-comments-poc`](https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/tree\/293-new-comments-poc) (`MrRepository`)\n\n### Links \/ references","state":"closed","created_at":1615914356897,"updated_at":1624000022378,"closed_at":1623059724992,"closed_by":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"labels":["Category:GitLab CLI","Deliverable","VS Code","devops::create","frontend","group::code review","missed-deliverable","missed:13.12","section::dev","type::feature","workflow::production"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https:\/\/gitlab.com\/groups\/gitlab-org\/-\/milestones\/60"},"assignees":[{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"}],"author":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"type":"ISSUE","assignee":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/341","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/341","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/341\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/341\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717","closed_as_duplicate_of":null},"references":{"short":"#341","relative":"#341","full":"gitlab-org\/gitlab-vscode-extension#341"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4607.0,"epic":{"id":126339,"iid":4607,"title":"Merge Request Reviews in VS Code","url":"\/groups\/gitlab-org\/-\/epics\/4607","group_id":9970,"human_readable_end_date":"Jul 17, 2021","human_readable_timestamp":"<strong>Past due<\/strong>"},"iteration":null,"health_status":null},{"id":81033227,"iid":340,"project_id":5261717,"title":"MR Review: add commenting ranges","description":"### Problem to solve\n\nThis issue implements logic related to tracking which lines in the diff have been added\/removed\/unchanged. This feature needs to be behind a feature flag because we'll implement submitting new comments in a subsequent issue.\n\n#### Commenting ranges\n\nTo be able to create new comments (not replies to a thread) we need to create a [`CommentingRangeProvider`](https:\/\/code.visualstudio.com\/api\/references\/vscode-api#CommentingRangeProvider). We implement a function that receives a file URI and returns all the lines that the user can comment on.\n\nWithout these ranges, the user can only respond to existing comments (#339).\n\n### Proposal\n\nWe'll need to use the textual diff that we retrieve from the [MR Diff version API endpoint](https:\/\/docs.gitlab.com\/ee\/api\/merge_requests.html#get-a-single-mr-diff-version).\n\n```json\n{\n  \"old_path\": \"new_file.ts\",\n  \"new_path\": \"new_file.ts\",\n  \"a_mode\": \"0\",\n  \"b_mode\": \"100644\",\n  \"new_file\": true,\n  \"renamed_file\": false,\n  \"deleted_file\": false,\n  \"diff\": \"@@ -0,0 +1,3 @@\\n+export class NewFile{\\n+    private property: string;\\n+}\\n\"\n}\n```\n\nWe'll have to praise the `diff` property to find all changed lines.\n\n### Further details\n\nThere is a follow up issue that might have to build on the logic implemented here: https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/344\n\nExample:\n\n| no ranges | with ranges |\n| ------ | ------ |\n| ![gitlab_comment_thread_test_ts___197____gitlab-vscode-extension](\/uploads\/68d82d72b633a1cd187b1dbbb1973363\/gitlab_comment_thread_test_ts___197____gitlab-vscode-extension.png) | ![_Extension_Development_Host__-_gitlab_comment_thread_test_ts___197____gitlab-vscode-extension-TEST](\/uploads\/f64380715c20a6a230e17dd8c95f00ce\/_Extension_Development_Host__-_gitlab_comment_thread_test_ts___197____gitlab-vscode-extension-TEST.png) |\n\n### Links \/ references","state":"closed","created_at":1615911896101,"updated_at":1621518358444,"closed_at":1620108496432,"closed_by":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"labels":["Category:GitLab CLI","Deliverable","VS Code","devops::create","frontend","group::code review","section::dev","type::feature","workflow::production"],"milestone":{"id":1233762,"iid":58,"group_id":9970,"title":"13.12","description":"https:\/\/about.gitlab.com\/releases\/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.948Z","updated_at":"2022-04-21T07:22:18.898Z","due_date":"2021-05-17","start_date":"2021-04-18","expired":true,"web_url":"https:\/\/gitlab.com\/groups\/gitlab-org\/-\/milestones\/58"},"assignees":[{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"}],"author":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"type":"ISSUE","assignee":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/340","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/340","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/340\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/340\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717","closed_as_duplicate_of":null},"references":{"short":"#340","relative":"#340","full":"gitlab-org\/gitlab-vscode-extension#340"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4607.0,"epic":{"id":126339,"iid":4607,"title":"Merge Request Reviews in VS Code","url":"\/groups\/gitlab-org\/-\/epics\/4607","group_id":9970,"human_readable_end_date":"Jul 17, 2021","human_readable_timestamp":"<strong>Past due<\/strong>"},"iteration":null,"health_status":null},{"id":81028861,"iid":339,"project_id":5261717,"title":"MR Review: Respond to a diff thread","description":"\n\n### Problem to solve\n\nThe extension shows us comment threads on the diff, but doesn't allow us to comment in the thread. This issue is to enable and implement responses to diff threads.\n\n![index_md___56749____gitlab](\/uploads\/14cdcc1b9d790da59ddc3bb36e119c3b\/index_md___56749____gitlab.png)\n\n### Proposal\n\n1. [Enable responses](https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/blob\/d1d744624080dea35d6a5d61b28239aafb67747a\/src\/review\/gitlab_comment_thread.ts#L50)\n1. Extend the [`createNote` method](https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/blob\/d1d744624080dea35d6a5d61b28239aafb67747a\/src\/gitlab\/gitlab_new_service.ts#L532-538) to return notes (with positions), instead of `void`\n1. Implement `reply()` function on the [`gitlab_comment_thread`](https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/blob\/d1d744624080dea35d6a5d61b28239aafb67747a\/src\/review\/gitlab_comment_thread.ts)\n1. Add a `Create comment now` command and add it to the [`comments\/commentThread\/context` menu](https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/blob\/e09ab184e876b79f7648865c4e18272ec1802a98\/package.json#L240)\n\n### Further details\n\nExample:\n\n![respond-example](\/uploads\/7c71d116f0d4f48e286e1d418694e1d2\/respond-example.mp4)\n\nThis feature is implemented (not production-ready at all) in the POC (#293) branch [`293-new-comments-poc`](https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/tree\/293-new-comments-poc)\n\n### Links \/ references","state":"closed","created_at":1615908421346,"updated_at":1638480540781,"closed_at":1618218421908,"closed_by":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"labels":["Category:GitLab CLI","Deliverable","VS Code","devops::create","frontend","group::code review","section::dev","type::feature"],"milestone":{"id":1406669,"iid":59,"group_id":9970,"title":"13.11","description":"https:\/\/about.gitlab.com\/releases\/archives.html","state":"closed","created_at":"2020-08-13T14:23:09.688Z","updated_at":"2022-04-21T07:22:08.835Z","due_date":"2021-04-17","start_date":"2021-03-18","expired":true,"web_url":"https:\/\/gitlab.com\/groups\/gitlab-org\/-\/milestones\/59"},"assignees":[{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"}],"author":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"type":"ISSUE","assignee":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"user_notes_count":6,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/339","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/339","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/339\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/339\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717","closed_as_duplicate_of":null},"references":{"short":"#339","relative":"#339","full":"gitlab-org\/gitlab-vscode-extension#339"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4607.0,"epic":{"id":126339,"iid":4607,"title":"Merge Request Reviews in VS Code","url":"\/groups\/gitlab-org\/-\/epics\/4607","group_id":9970,"human_readable_end_date":"Jul 17, 2021","human_readable_timestamp":"<strong>Past due<\/strong>"},"iteration":null,"health_status":null},{"id":80124523,"iid":331,"project_id":5261717,"title":"Error 400 when on a branch that has special chars","description":"<!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"bug\" label:\n\n- https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n\nIf you are facing issues around configuring Token from your GitLab.com account, see the list of already addressed Token related issues:\n\nhttps:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/issues?scope=all&utf8=%E2%9C%93&state=closed&label_name[]=token-issue\n--->\n\n### Summary\n\n<!-- Summarize the bug encountered concisely -->\nWhen in a branch with a special name the extensions simply goes haywire. It keeps trying to communicate with Gitlab but keeps receiving a ton of 400 errors.\n\n### Steps to reproduce\n\n<!-- How one can reproduce the issue - this is very important -->\nRight now I'm in a branch called `feature\/ch38\/add-fn-para-criar-novo-usu\u00e1rio` (which is in Portuguese and has an accent in one of the words).\n\n- Moving to a branch that has special chars already does the job\n\n### What is the current *bug* behavior?\n\n<!-- What actually happens -->\nTold above.\n\n### What is the expected *correct* behavior?\n\n<!-- What you should see instead -->\nIt should work as any other branch, regardless of the name.\n\n### Relevant logs and\/or screenshots\n\n<!-- Logs can be found by running `GitLab: Show extension logs` command (using `cmd+shift+p`) -->\n\n<details>\n\n```\n\nFound https:\/\/gitlab.com in the PAT list and git remotes, using it as the instanceUrl\n{\n  \"userMessage\": \"Failed to parse GitLab API response\",\n  \"errorMessage\": \"Unexpected token < in JSON at position 0\",\n  \"stack\": [\n    \"SyntaxError: Unexpected token < in JSON at position 0\",\n    \"\\tat JSON.parse (<anonymous>)\",\n    \"\\tat Object.config.transform (\/home\/johnny\/.vscode\/extensions\/gitlab.gitlab-workflow-3.13.0\/out\/src\/gitlab_service.js:63:36)\",\n    \"\\tat \/home\/johnny\/.vscode\/extensions\/gitlab.gitlab-workflow-3.13.0\/node_modules\/request-promise-core\/lib\/plumbing.js:94:46\",\n    \"\\tat Promise.cancellationExecute [as _execute] (\/home\/johnny\/.vscode\/extensions\/gitlab.gitlab-workflow-3.13.0\/node_modules\/bluebird\/js\/release\/debuggability.js:406:9)\",\n    \"\\tat Promise._resolveFromExecutor (\/home\/johnny\/.vscode\/extensions\/gitlab.gitlab-workflow-3.13.0\/node_modules\/bluebird\/js\/release\/promise.js:518:18)\",\n    \"\\tat new Promise (\/home\/johnny\/.vscode\/extensions\/gitlab.gitlab-workflow-3.13.0\/node_modules\/bluebird\/js\/release\/promise.js:103:10)\",\n    \"\\tat Request.plumbing.callback (\/home\/johnny\/.vscode\/extensions\/gitlab.gitlab-workflow-3.13.0\/node_modules\/request-promise-core\/lib\/plumbing.js:93:18)\",\n    \"\\tat Request.RP$callback [as _callback] (\/home\/johnny\/.vscode\/extensions\/gitlab.gitlab-workflow-3.13.0\/node_modules\/request-promise-core\/lib\/plumbing.js:46:31)\",\n    \"\\tat Request.self.callback (\/home\/johnny\/.vscode\/extensions\/gitlab.gitlab-workflow-3.13.0\/node_modules\/request\/request.js:185:22)\",\n    \"\\tat Request.emit (events.js:315:20)\",\n    \"\\tat Request.<anonymous> (\/home\/johnny\/.vscode\/extensions\/gitlab.gitlab-workflow-3.13.0\/node_modules\/request\/request.js:1154:10)\",\n    \"\\tat Request.emit (events.js:315:20)\",\n    \"\\tat IncomingMessage.<anonymous> (\/home\/johnny\/.vscode\/extensions\/gitlab.gitlab-workflow-3.13.0\/node_modules\/request\/request.js:1076:12)\",\n    \"\\tat Object.onceWrapper (events.js:421:28)\",\n    \"\\tat IncomingMessage.emit (events.js:327:22)\",\n    \"\\tat endReadableNT (_stream_readable.js:1220:12)\",\n    \"\\tat processTicksAndRejections (internal\/process\/task_queues.js:84:21)\"\n  ],\n  \"additionalInfo\": \"Response body: <!DOCTYPE html>\\n<html>\\n<head>\\n  <meta content=\\\"width=device-width, initial-scale=1, maximum-scale=1\\\" name=\\\"viewport\\\">\\n  <title>400 Bad Request<\/title>\\n  <style>...<\/style>\\n<\/head>\\n\\n<body>\\n  <h1>\\n    <img src=\\\"...\\\" alt=\\\"GitLab Logo\\\" \/><br \/>\\n    400\\n  <\/h1>\\n  <div class=\\\"container\\\">\\n    <h3>Your browser sent an invalid request.<\/h3>\\n    <hr \/>\\n    <p>Please contact your GitLab administrator if you think this is a mistake.<\/p>\\n  <\/div>\\n<\/body>\\n<\/html>\\n<html>\\n\\nRequest URL: https:\/\/gitlab.com\/api\/v4\/projects\/...\/pipelines?ref=feature\/ch38\/add-fn-para-criar-novo-usu\u00e1rio\"\n}\n400 - \"<!DOCTYPE html>\\n<html>\\n<head>\\n  <meta content=\\\"width=device-width, initial-scale=1, maximum-scale=1\\\" name=\\\"viewport\\\">\\n  <title>400 Bad Request<\/title>\\n  <style>\\n    body {\\n      color: #666;\\n      text-align: center;\\n      font-family: \\\"Helvetica Neue\\\", Helvetica, Arial, sans-serif;\\n      margin: auto;\\n      font-size: 14px;\\n    }\\n\\n    h1 {\\n      font-size: 56px;\\n      line-height: 100px;\\n      font-weight: normal;\\n      color: #456;\\n    }\\n\\n    h2 {\\n      font-size: 24px;\\n      color: #666;\\n      line-height: 1.5em;\\n    }\\n\\n    h3 {\\n      color: #456;\\n      font-size: 20px;\\n      font-weight: normal;\\n      line-height: 28px;\\n    }\\n\\n    hr {\\n      max-width: 800px;\\n      margin: 18px auto;\\n      border: 0;\\n      border-top: 1px solid #EEE;\\n      border-bottom: 1px solid white;\\n    }\\n\\n    img {\\n      max-width: 40vw;\\n    }\\n\\n    .container {\\n      margin: auto 20px;\\n    }\\n  <\/style>\\n<\/head>\\n\\n<body>\\n  <h1>\\n    <img src=\\\"...\\\" alt=\\\"GitLab Logo\\\" \/><br \/>\\n    400\\n  <\/h1>\\n  <div class=\\\"container\\\">\\n    <h3>Your browser sent an invalid request.<\/h3>\\n    <hr \/>\\n    <p>Please contact your GitLab administrator if you think this is a mistake.<\/p>\\n  <\/div>\\n<\/body>\\n<\/html>\\n<html>\\n\"\nStatusCodeError: 400 - \"<!DOCTYPE html>\\n<html>\\n<head>\\n  <meta content=\\\"width=device-width, initial-scale=1, maximum-scale=1\\\" name=\\\"viewport\\\">\\n  <title>400 Bad Request<\/title>\\n  <style>... <\/style>\\n<\/head>\\n\\n<body>\\n  <h1>\\n    <img src=\\\"...\\\" alt=\\\"GitLab Logo\\\" \/><br \/>\\n    400\\n  <\/h1>\\n  <div class=\\\"container\\\">\\n    <h3>Your browser sent an invalid request.<\/h3>\\n    <hr \/>\\n    <p>Please contact your GitLab administrator if you think this is a mistake.<\/p>\\n  <\/div>\\n<\/body>\\n<\/html>\\n<html>\\n\"\n\tat new StatusCodeError (\/home\/johnny\/.vscode\/extensions\/gitlab.gitlab-workflow-3.13.0\/node_modules\/request-promise-core\/lib\/errors.js:32:15)\n\tat \/home\/johnny\/.vscode\/extensions\/gitlab.gitlab-workflow-3.13.0\/node_modules\/request-promise-core\/lib\/plumbing.js:97:41\n\tat tryCatcher (\/home\/johnny\/.vscode\/extensions\/gitlab.gitlab-workflow-3.13.0\/node_modules\/bluebird\/js\/release\/util.js:16:23)\n\tat Promise._settlePromiseFromHandler (\/home\/johnny\/.vscode\/extensions\/gitlab.gitlab-workflow-3.13.0\/node_modules\/bluebird\/js\/release\/promise.js:547:31)\n\tat Promise._settlePromise (\/home\/johnny\/.vscode\/extensions\/gitlab.gitlab-workflow-3.13.0\/node_modules\/bluebird\/js\/release\/promise.js:604:18)\n\tat Promise._settlePromiseCtx (\/home\/johnny\/.vscode\/extensions\/gitlab.gitlab-workflow-3.13.0\/node_modules\/bluebird\/js\/release\/promise.js:641:10)\n\tat _drainQueueStep (\/home\/johnny\/.vscode\/extensions\/gitlab.gitlab-workflow-3.13.0\/node_modules\/bluebird\/js\/release\/async.js:97:12)\n\tat _drainQueue (\/home\/johnny\/.vscode\/extensions\/gitlab.gitlab-workflow-3.13.0\/node_modules\/bluebird\/js\/release\/async.js:86:9)\n\tat Async._drainQueues (\/home\/johnny\/.vscode\/extensions\/gitlab.gitlab-workflow-3.13.0\/node_modules\/bluebird\/js\/release\/async.js:102:5)\n\tat Immediate.Async.drainQueues [as _onImmediate] (\/home\/johnny\/.vscode\/extensions\/gitlab.gitlab-workflow-3.13.0\/node_modules\/bluebird\/js\/release\/async.js:15:14)\n\tat processImmediate (internal\/timers.js:456:21)\n\n```\n\n<\/details>\n\n### Possible fixes\n\n<!-- If you can, link to the line of code that might be responsible for the problem -->\n\n- Possibly it's lacking url-encode the branch name before sending the message","state":"closed","created_at":1614720079707,"updated_at":1627892471800,"closed_at":1627892471786,"closed_by":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"labels":["Category:GitLab CLI","VS Code","[deprecated] Accepting merge requests","devops::create","group::code review","section::dev","type::bug"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https:\/\/gitlab.com\/groups\/gitlab-org\/-\/milestones\/14"},"assignees":[],"author":{"id":793379,"username":"johnnyasantoss","name":"Johnny A. dos Santos","state":"active","avatar_url":"https:\/\/secure.gravatar.com\/avatar\/5ccc5f0f6d418e635497d2bac126f92f?s=80&d=identicon","web_url":"https:\/\/gitlab.com\/johnnyasantoss"},"type":"ISSUE","assignee":null,"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/331","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/331","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/331\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/331\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717","closed_as_duplicate_of":null},"references":{"short":"#331","relative":"#331","full":"gitlab-org\/gitlab-vscode-extension#331"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":79651105,"iid":325,"project_id":5261717,"title":"Remote Code Execution after cloning a malicious repository [ VSCode Extension ]","description":"**[HackerOne report #1094381](https:\/\/hackerone.com\/reports\/1094381)** by `rapt00r` on 2021-02-04, assigned to @dcouture:\n\n[Report](#report) | [Attachments](#attachments) | [How To Reproduce](#how-to-reproduce)\n\n## Report\n\n###  Summary  \nHi there! I've found a critical vulnerability on the VSCode Extension `gitlab` that allows an attacker to execute malicious binary on the victim's machine after they cloning a repository.\n\n###  Description  \nThe vulnerability occurs because the gitlab extension for VSCode doesn't specify where the binary `git.exe` on the windows, must be called. This will make the Windows search for the `git.exe` inside of the current directory after cloning a repository, allowing a custom git.exe binary to be executed after the clone.\n\n#####  Why this happen?  \nWhen a user execute a command, Windows first will check on the current directory, then it's will verify each path in the `%PATH%` variable and finally checks the system locations, for example `%WINDIR%`.\n\nBy knowing this, when a user clone a new repository, Windows will check if the `git.exe` file exists on the current directory (cloned repository) and if found, it will be executed. As the malicious repository have the `git.exe` file and any 'allowed paths' are not defined, Windows will check the repository and will execute, allowing to execute our binaries.\n\n###  Steps to Reproduce  \n1. Create a new Repository.  \n2. Rename a Window's binary to `git.exe` and upload to the repository (in this example, I used the calculator.exe)  \n3. Open the VSCode and install the gitlab extension.  \n4. Clone the repository  \n5. The binary will be executed after the clone.\n\n####  Demo  \n1. Creating a new repository:  \n![gitlab-00.png](https:\/\/h1.sec.gitlab.net\/a\/8bd8c78a-d94f-4f07-88c1-33effc758a21\/gitlab-00.png)\n\n2. Upload the calculator binary inside of the repository (remember to renamee it to git.exe before upload):  \n![gitlab-04.png](https:\/\/h1.sec.gitlab.net\/a\/4ad59212-4e14-4c0c-9ff5-1a0b1370f29f\/gitlab-04.png)\n\n3.  Clone the  repository (can be via VSCode directly too):  \n![gitlab-05.png](https:\/\/h1.sec.gitlab.net\/a\/68638e99-c1ec-4bc3-996e-5a32d8ac4d8d\/gitlab-05.png)\n\n4. Open the repository in the VSCode:  \n![gitlab-07.png](https:\/\/h1.sec.gitlab.net\/a\/7af90f90-7316-4912-98bb-4ba9b1d2a458\/gitlab-07.png)\n\n5. The calculator binary will be executed:  \n![gitlab-08.png](https:\/\/h1.sec.gitlab.net\/a\/ea2b0d7e-09a3-45b3-b76c-908ba118c79d\/gitlab-08.png)\n\nVideo PoC:  \n![gitlab-rce.mp4](https:\/\/h1.sec.gitlab.net\/a\/a40b55d6-9f04-46f9-8882-fca1c1e6bf47\/gitlab-rce.mp4)\n\n####  Impact\n\nAttackers can run malicious binary on user's machine that cloned the malicious repository\n\n## Attachments\n\n**Warning:** Attachments received through HackerOne, please exercise caution!\n\n* [gitlab-00.png](https:\/\/h1.sec.gitlab.net\/a\/8bd8c78a-d94f-4f07-88c1-33effc758a21\/gitlab-00.png)\n* [gitlab-05.png](https:\/\/h1.sec.gitlab.net\/a\/68638e99-c1ec-4bc3-996e-5a32d8ac4d8d\/gitlab-05.png)\n* [gitlab-04.png](https:\/\/h1.sec.gitlab.net\/a\/4ad59212-4e14-4c0c-9ff5-1a0b1370f29f\/gitlab-04.png)\n* [gitlab-08.png](https:\/\/h1.sec.gitlab.net\/a\/ea2b0d7e-09a3-45b3-b76c-908ba118c79d\/gitlab-08.png)\n* [gitlab-07.png](https:\/\/h1.sec.gitlab.net\/a\/7af90f90-7316-4912-98bb-4ba9b1d2a458\/gitlab-07.png)\n* [gitlab-rce.mp4](https:\/\/h1.sec.gitlab.net\/a\/a40b55d6-9f04-46f9-8882-fca1c1e6bf47\/gitlab-rce.mp4)\n\n## How To Reproduce\n\nPlease add [reproducibility information] to this section:\n\n1.\n1.\n1.\n\n[reproducibility information]: https:\/\/about.gitlab.com\/handbook\/engineering\/security\/#reproducibility-on-security-issues","state":"closed","created_at":1614098836734,"updated_at":1621429166509,"closed_at":1617122376869,"closed_by":{"id":4992072,"username":"dcouture","name":"Dominic Couture","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4992072\/avatar.png","web_url":"https:\/\/gitlab.com\/dcouture"},"labels":["Category:GitLab CLI","Deliverable","HackerOne","VS Code","Weakness::CWE-77","devops::create","frontend","group::code review","priority::2","section::dev","security","severity::2","workflow::production"],"milestone":{"id":1406669,"iid":59,"group_id":9970,"title":"13.11","description":"https:\/\/about.gitlab.com\/releases\/archives.html","state":"closed","created_at":"2020-08-13T14:23:09.688Z","updated_at":"2022-04-21T07:22:08.835Z","due_date":"2021-04-17","start_date":"2021-03-18","expired":true,"web_url":"https:\/\/gitlab.com\/groups\/gitlab-org\/-\/milestones\/59"},"assignees":[{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"}],"author":{"id":2741139,"username":"gitlab-securitybot","name":"GitLab SecurityBot","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/2741139\/avatar.png","web_url":"https:\/\/gitlab.com\/gitlab-securitybot"},"type":"ISSUE","assignee":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"user_notes_count":38,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2021-04-24","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/325","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/325","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/325\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/325\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717","closed_as_duplicate_of":null},"references":{"short":"#325","relative":"#325","full":"gitlab-org\/gitlab-vscode-extension#325"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":79060575,"iid":319,"project_id":5261717,"title":"Subpath in self-hosted gitlab is not used","description":"### Summary\nWhen self-hosted gitlab is in a subpath (such as https:\/\/my.domain\/gitlab\/) all results return \"Project failed to load\" with a 404 error.\n\nInitially discussed in #297 but you asked me to open as its own ticket.\n\n### Steps to reproduce\n* Install self-hosted gitlab in a subpath like https:\/\/my.domain\/gitlab\/\n* Configure `gitlab.instanceUrl` to be `https:\/\/my.domain\/gitlab\/`\n* Set PAT\n* Open the Gitlab Workflow tab\n\n### What is the current *bug* behavior?\n* \"Issues and merge requests\" shows \"Project failed to load\"\n* \"For Current Branch\" shows \"Error occurred, please try to refresh\"\n* Error 404 logged in console\n* Looking in fiddler, see a request being made to https:\/\/my.domain\/api\/graphql\n\n### What is the expected *correct* behavior?\n* Proper values, not error messages.\n* API query should be sent to https:\/\/my.domain\/gitlab\/api\/graphql instead of https:\/\/my.domain\/api\/graphql \n\n### Relevant logs and\/or screenshots\noutput of `git remote show origin`:\n```\n* remote origin\n  Fetch URL: https:\/\/my.domain\/gitlab\/myname\/keyboard.git\n  Push  URL: https:\/\/my.domain\/gitlab\/myname\/keyboard.git\n  HEAD branch: master\n  Remote branch:\n    master tracked\n```\n\nConfiguration file:\n```\n{\n    \"gitlab.instanceUrl\": \"https:\/\/my.domain\/gitlab\/\",\n}\n```\n\nIn the log:\n```\nGraphQL Error (Code: 404): {\"response\":{\"error\":\"<html>\\r\\n<head><title>404 Not Found<\/title><\/head>\\r\\n<body>\\r\\n<center><h1>404 Not Found<\/h1><\/center>\\r\\n<hr><center>nginx\/1.18.0 (Ubuntu)<\/center>\\r\\n<\/body>\\r\\n<\/html>\\r\\n\",\"status\":404},\"request\":{\"query\":\"\\n  query GetProject($projectPath: ID!) {\\n    project(fullPath: $projectPath) {\\n      id\\n      name\\n      fullPath\\n      webUrl\\n      group {\\n        id\\n      }\\n    }\\n  }\\n\",\"variables\":{\"projectPath\":\"myname\/keyboard\"}}}\nError: GraphQL Error (Code: 404): {\"response\":{\"error\":\"<html>\\r\\n<head><title>404 Not Found<\/title><\/head>\\r\\n<body>\\r\\n<center><h1>404 Not Found<\/h1><\/center>\\r\\n<hr><center>nginx\/1.18.0 (Ubuntu)<\/center>\\r\\n<\/body>\\r\\n<\/html>\\r\\n\",\"status\":404},\"request\":{\"query\":\"\\n  query GetProject($projectPath: ID!) {\\n    project(fullPath: $projectPath) {\\n      id\\n      name\\n      fullPath\\n      webUrl\\n      group {\\n        id\\n      }\\n    }\\n  }\\n\",\"variables\":{\"projectPath\":\"myname\/keyboard\"}}}\n\tat GraphQLClient.<anonymous> (c:\\Users\\myname\\.vscode\\extensions\\gitlab.gitlab-workflow-3.12.0\\node_modules\\graphql-request\\dist\\index.js:172:35)\n\tat step (c:\\Users\\myname\\.vscode\\extensions\\gitlab.gitlab-workflow-3.12.0\\node_modules\\graphql-request\\dist\\index.js:63:23)\n\tat Object.next (c:\\Users\\myname\\.vscode\\extensions\\gitlab.gitlab-workflow-3.12.0\\node_modules\\graphql-request\\dist\\index.js:44:53)\n\tat fulfilled (c:\\Users\\myname\\.vscode\\extensions\\gitlab.gitlab-workflow-3.12.0\\node_modules\\graphql-request\\dist\\index.js:35:58)\n\tat processTicksAndRejections (internal\/process\/task_queues.js:97:5)\n{\n  \"message\": \"API request failed when trying to get current project because: GraphQL Error (Code: 404): {\\\"response\\\":{\\\"error\\\":\\\"<html>\\\\r\\\\n<head><title>404 Not Found<\/title><\/head>\\\\r\\\\n<body>\\\\r\\\\n<center><h1>404 Not Found<\/h1><\/center>\\\\r\\\\n<hr><center>nginx\/1.18.0 (Ubuntu)<\/center>\\\\r\\\\n<\/body>\\\\r\\\\n<\/html>\\\\r\\\\n\\\",\\\"status\\\":404},\\\"request\\\":{\\\"query\\\":\\\"\\\\n  query GetProject($projectPath: ID!) {\\\\n    project(fullPath: $projectPath) {\\\\n      id\\\\n      name\\\\n      fullPath\\\\n      webUrl\\\\n      group {\\\\n        id\\\\n      }\\\\n    }\\\\n  }\\\\n\\\",\\\"variables\\\":{\\\"projectPath\\\":\\\"myname\/keyboard\\\"}}}\",\n  \"stack\": [\n    \"Error: API request failed when trying to get current project because: GraphQL Error (Code: 404): {\\\"response\\\":{\\\"error\\\":\\\"<html>\\\\r\\\\n<head><title>404 Not Found<\/title><\/head>\\\\r\\\\n<body>\\\\r\\\\n<center><h1>404 Not Found<\/h1><\/center>\\\\r\\\\n<hr><center>nginx\/1.18.0 (Ubuntu)<\/center>\\\\r\\\\n<\/body>\\\\r\\\\n<\/html>\\\\r\\\\n\\\",\\\"status\\\":404},\\\"request\\\":{\\\"query\\\":\\\"\\\\n  query GetProject($projectPath: ID!) {\\\\n    project(fullPath: $projectPath) {\\\\n      id\\\\n      name\\\\n      fullPath\\\\n      webUrl\\\\n      group {\\\\n        id\\\\n      }\\\\n    }\\\\n  }\\\\n\\\",\\\"variables\\\":{\\\"projectPath\\\":\\\"myname\/keyboard\\\"}}}\",\n    \"\\tat Object.<anonymous> (c:\\\\Users\\\\myname\\\\.vscode\\\\extensions\\\\gitlab.gitlab-workflow-3.12.0\\\\out\\\\src\\\\gitlab_service.js:91:19)\",\n    \"\\tat Generator.throw (<anonymous>)\",\n    \"\\tat rejected (c:\\\\Users\\\\myname\\\\.vscode\\\\extensions\\\\gitlab.gitlab-workflow-3.12.0\\\\out\\\\src\\\\gitlab_service.js:6:65)\",\n    \"\\tat processTicksAndRejections (internal\/process\/task_queues.js:97:5)\"\n  ]\n}\n```","state":"closed","created_at":1613342967795,"updated_at":1617870452614,"closed_at":1617870452547,"closed_by":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"labels":["Category:GitLab CLI","VS Code","[deprecated] Accepting merge requests","devops::create","group::code review","priority::3","section::dev","severity::3","type::bug"],"milestone":{"id":1406669,"iid":59,"group_id":9970,"title":"13.11","description":"https:\/\/about.gitlab.com\/releases\/archives.html","state":"closed","created_at":"2020-08-13T14:23:09.688Z","updated_at":"2022-04-21T07:22:08.835Z","due_date":"2021-04-17","start_date":"2021-03-18","expired":true,"web_url":"https:\/\/gitlab.com\/groups\/gitlab-org\/-\/milestones\/59"},"assignees":[{"id":1113096,"username":"amohoban","name":"Ahmed Hoban","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/1113096\/avatar.png","web_url":"https:\/\/gitlab.com\/amohoban"}],"author":{"id":8055645,"username":"frankr2","name":"Frank Racis","state":"active","avatar_url":"https:\/\/secure.gravatar.com\/avatar\/adc34806c1f777ec35caaf03abd74aec?s=80&d=identicon","web_url":"https:\/\/gitlab.com\/frankr2"},"type":"ISSUE","assignee":{"id":1113096,"username":"amohoban","name":"Ahmed Hoban","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/1113096\/avatar.png","web_url":"https:\/\/gitlab.com\/amohoban"},"user_notes_count":3,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/319","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/319","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/319\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/319\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717","closed_as_duplicate_of":null},"references":{"short":"#319","relative":"#319","full":"gitlab-org\/gitlab-vscode-extension#319"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":78741410,"iid":317,"project_id":5261717,"title":"MR Review: Resolve discussion, Edit and Delete comment","description":"### Problem to solve\n\nCurrently, users can only view comments on MRs. If they want to interact with these comments, they'll have to switch to the web interface.\n\n### Proposal\n\nImplement resolving discussions, editing and deleting comments as described in detail in #269.\n\n#### Resolving\/unresolving discussions\n\n![poc-resolve-thread](\/uploads\/50243d6f171f20f3f2e26e033cf2b5db\/poc-resolve-thread.gif)\n\n#### Edit comment\n\n![poc-editing-comments](\/uploads\/7b16d501872a1734ab58d9e3fec50b2e\/poc-editing-comments.gif)\n\n#### Delete comment\n\n![delete-confirmation](\/uploads\/5eb7158f06c0361e45141c6f2f31c232\/delete-confirmation.gif)\n\n#### Stretch: Open the comment in the browser\n\n![poc-comment-on-the-web](\/uploads\/0d9652783c487deefc61ed2c1727e98a\/poc-comment-on-the-web.gif)\n\n### Further details\n\nThe [\"POC Result\" section of the POC issue](https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/269#poc-result) provides a detailed technical description of the features\n### Links \/ references","state":"closed","created_at":1612894407892,"updated_at":1673451196321,"closed_at":1615980816430,"closed_by":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"labels":["Category:GitLab CLI","Deliverable","VS Code","devops::create","group::code review","section::dev","type::feature","workflow::production"],"milestone":{"id":1233761,"iid":57,"group_id":9970,"title":"13.10","description":"https:\/\/about.gitlab.com\/releases\/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.646Z","updated_at":"2022-04-21T07:22:00.171Z","due_date":"2021-03-17","start_date":"2021-02-18","expired":true,"web_url":"https:\/\/gitlab.com\/groups\/gitlab-org\/-\/milestones\/57"},"assignees":[{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"}],"author":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"type":"ISSUE","assignee":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"user_notes_count":4,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/317","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/317","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/317\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/317\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717","closed_as_duplicate_of":null},"references":{"short":"#317","relative":"#317","full":"gitlab-org\/gitlab-vscode-extension#317"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4607.0,"epic":{"id":126339,"iid":4607,"title":"Merge Request Reviews in VS Code","url":"\/groups\/gitlab-org\/-\/epics\/4607","group_id":9970,"human_readable_end_date":"Jul 17, 2021","human_readable_timestamp":"<strong>Past due<\/strong>"},"iteration":null,"health_status":null},{"id":78361685,"iid":311,"project_id":5261717,"title":"Deprecate custom query with pipeline id","description":"### Problem to solve\n\nCustom queries are used in the sidebar view (e.g. showing \"MRs assigned to me\"). Custom query is a VS Code configuration object.\n\nOne of the custom query properties is `pipelineId` and it's defined as follows:\n\n```json\n{\n  \"pipelineId\": {\n    \"type\": \"number | string\",\n    \"description\": \"Returns vulnerabilities belonging to specified pipeline. \\\"branch\\\" returns vulnerabilities belonging to latest pipeline of the current branch. Works only with vulnerabilities\"\n  }\n}\n```\n\nThe `branch` part has been broken for at least 3 months, probably more (I found that when working on https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/merge_requests\/174).\n\nAnd I don't see users hardcoding a numeric `pipelineId` into their VS Code config.\n\n\n### Proposal\n\nRemove this option altogether.\n\n### Further details\n\n\n### Links \/ references","state":"closed","created_at":1612360344669,"updated_at":1638361079443,"closed_at":1638361079419,"closed_by":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"labels":["Category:GitLab CLI","VS Code","devops::create","group::code review","section::dev","type::feature"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https:\/\/about.gitlab.com\/releases\/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https:\/\/gitlab.com\/groups\/gitlab-org\/-\/milestones\/67"},"assignees":[{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"}],"author":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"type":"ISSUE","assignee":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/311","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/311","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/311\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/311\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717","closed_as_duplicate_of":null},"references":{"short":"#311","relative":"#311","full":"gitlab-org\/gitlab-vscode-extension#311"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":78196311,"iid":308,"project_id":5261717,"title":"Error loading Merge Requests -  \"Cannot read property 'startsWith' of null\"","description":"<!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"bug\" label:\n\n- https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n\nIf you are facing issues around configuring Token from your GitLab.com account, see the list of already addressed Token related issues:\n\nhttps:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/issues?scope=all&utf8=%E2%9C%93&state=closed&label_name[]=token-issue\n--->\n\n### Summary\n\n<!-- Summarize the bug encountered concisely -->\nWhen trying to load MRs from a private GitLab I'm getting the error \"Cannot read property 'startsWith' of null\".\nHowever, I can see issues for example.\n\n### Steps to reproduce\n\n<!-- How one can reproduce the issue - this is very important -->\nI'm not sure but all I've done is install the extension, connect it to a privat gitlab (where we use SSH for connection), set the Personal Access Token, and add the instanceUrl, remoteName and pipelineGitRemoteName as it is reached via SSH and there is a known issue with that. (https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/79#note_495879565)\n\n\n### What is the current *bug* behavior?\n\n<!-- What actually happens -->\nI was able to see MRs at first after setting the Extension up. However, I had to set \"gitlab.instanceUrl\"\n, \"gitlab.remoteName\" and \"gitlab.pipelineGitRemoteName\" for it to work.\nThe next time I wanted to see a MR it didn't work giving me the error from the title with the following behavior:\nWhen selecting \"Issues assigned to me\" in the extension tab, I can see the expected issues, when I select \"Merge requests assigned to me\" or \"All project merge requests\" I get the \"Cannot read property 'startsWith' of null\" error and I don't see any MRs.\n\n\n\n### What is the expected *correct* behavior?\n\n<!-- What you should see instead -->\nI should be able to see MRs assigned to me or all MRs depending on which tab I'm opening.\n\n### Relevant logs and\/or screenshots\n\n<!-- Logs can be found by running `GitLab: Show extension logs` command (using `cmd+shift+p`) -->\nI'm only getting the VS Code \"Cannot read property 'startsWith' of null\" Error without any further information.\n\n### Possible fixes\n\n<!-- If you can, link to the line of code that might be responsible for the problem -->","state":"closed","created_at":1612177458911,"updated_at":1613556146888,"closed_at":1613404359069,"closed_by":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"labels":["Category:GitLab CLI","VS Code","devops::create","group::code review","section::dev","type::bug"],"milestone":{"id":1233760,"iid":56,"group_id":9970,"title":"13.9","description":"https:\/\/about.gitlab.com\/releases\/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.334Z","updated_at":"2022-04-21T07:21:28.468Z","due_date":"2021-02-17","start_date":"2021-01-18","expired":true,"web_url":"https:\/\/gitlab.com\/groups\/gitlab-org\/-\/milestones\/56"},"assignees":[],"author":{"id":8082927,"username":"ManuelEibl","name":"ManuelEibl","state":"active","avatar_url":"https:\/\/secure.gravatar.com\/avatar\/284fe73621376bc962850b923a3d5dff?s=80&d=identicon","web_url":"https:\/\/gitlab.com\/ManuelEibl"},"type":"ISSUE","assignee":null,"user_notes_count":13,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/308","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/308","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/308\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/308\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717","closed_as_duplicate_of":null},"references":{"short":"#308","relative":"#308","full":"gitlab-org\/gitlab-vscode-extension#308"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":77691377,"iid":304,"project_id":5261717,"title":"Fetching issue\/merge request description not working in VS Code Insiders","description":"### Summary\n\nFetching the issue\/merge request description has stopped working in the last few weeks.\n\n### Steps to reproduce\n\n1. Open *GitLab Workflow* sidebar.\n1. Expand a dropdown to reveal an issue or merge request.\n1. Expand the issue or merge request options.\n1. Click \"Description\".\n1. Observe a new editor launch saying that it's \"Fetching issuable details and discussions. This may take a while.\"\n1. Observe that the editor never populates with the issuable details and discussions.\n\n### What is the current *bug* behavior?\n\nDescription editor never populates with details.\n\n### What is the expected *correct* behavior?\n\nDescription editor should show issue or merge request details.\n\n### Relevant info and screenshots\n\nThe editor simply shows this indefinitely:\n\n![image](\/uploads\/12d4f6665d02745e9cb636bf6cead63d\/image.png)\n\n- I'm currently running version v3.10.0 of the *GitLab Workflow* extension, but I believe this issue started happening a few releases prior.\n- In previous versions, I was able to switch to a different editor tab and then switch back to the *Description* tab and the issue\/merge request details would then populate.\n\n### VSCode version information\n\n- Version: 1.53.0-insider (user setup)\n- Commit: 4f2341834e646360e603953b62bf6c6020b07a29\n- Date: 2021-01-22T08:57:22.447Z\n- Electron: 11.2.0\n- Chrome: 87.0.4280.141\n- Node.js: 12.18.3\n- V8: 8.7.220.31-electron.0\n- OS: Windows_NT x64 10.0.16299","state":"closed","created_at":1611327702258,"updated_at":1613122599954,"closed_at":1611592249026,"closed_by":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"labels":["Category:GitLab CLI","VS Code","devops::create","group::code review","priority::1","section::dev","severity::1","type::bug"],"milestone":{"id":1233760,"iid":56,"group_id":9970,"title":"13.9","description":"https:\/\/about.gitlab.com\/releases\/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.334Z","updated_at":"2022-04-21T07:21:28.468Z","due_date":"2021-02-17","start_date":"2021-01-18","expired":true,"web_url":"https:\/\/gitlab.com\/groups\/gitlab-org\/-\/milestones\/56"},"assignees":[],"author":{"id":1597694,"username":"patwalsh","name":"Pat Walsh","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/1597694\/avatar.png","web_url":"https:\/\/gitlab.com\/patwalsh"},"type":"ISSUE","assignee":null,"user_notes_count":17,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/304","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/304","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/304\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/304\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717","closed_as_duplicate_of":null},"references":{"short":"#304","relative":"#304","full":"gitlab-org\/gitlab-vscode-extension#304"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":77619224,"iid":303,"project_id":5261717,"title":"MR Review: Relative links in comments don't work.","description":"### Summary\n\nWhen we receive comments from the Graph QL endpoint, they might contain relative URLs. VS Code needs to have access to full URLs. For example\n\nThis comment https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/merge_requests\/156#note_482777098\n\ncontains link\n\n```md\n![_Extension_Development_Host__-_gitlab_new_service_ts___gitlab-vscode-extension-TEST](\/uploads\/a262ea24dc5da36de0fb49aca7622881\/_Extension_Development_Host__-_gitlab_new_service_ts___gitlab-vscode-extension-TEST.png)\n```\n\nand in VS Code it looks like:\n\n![current_branch_js___156____gitlab-vscode-extension](\/uploads\/0db5eb29c8c7437a664fb2ca268b3b14\/current_branch_js___156____gitlab-vscode-extension.png)\n\n### Steps to reproduce\n\nOpen https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/merge_requests\/156#note_482777098 in VS Code. You can find the MR by adding this [custom query](https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension#custom-queries) to you VS Code `settings.json`.\n\n```json\n    {\n      \"name\": \"Merged MRs assigned to viktomas\",\n      \"type\": \"merge_requests\",\n      \"noItemText\": \"There is no issue assigned to viktomas.\",\n      \"state\": \"merged\",\n      \"assignee\": \"viktomas\"\n    },\n```\n\n### What is the current *bug* behavior?\n\nVS Code displays links and images incorrectly.\n\n### What is the expected *correct* behavior?\n\nThe extension is going to prepend the instance URL to each relative link.","state":"closed","created_at":1611243323441,"updated_at":1637218856746,"closed_at":1635932292991,"closed_by":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"labels":["Category:GitLab CLI","Deliverable","VS Code","devops::create","group::code review","section::dev","type::bug","workflow::production"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https:\/\/about.gitlab.com\/releases\/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https:\/\/gitlab.com\/groups\/gitlab-org\/-\/milestones\/66"},"assignees":[{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"}],"author":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"type":"ISSUE","assignee":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/303","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/303","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/303\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/303\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717","closed_as_duplicate_of":null},"references":{"short":"#303","relative":"#303","full":"gitlab-org\/gitlab-vscode-extension#303"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":77216120,"iid":298,"project_id":5261717,"title":"Support Multiple Accounts per GitLab Instance","description":"### Problem to solve\n\nAs a Freelancer, I want to be able to set the GitLab Personal Token per Git Repository \/ Project, so I can work with different accounts on GitLab.com\n\n### Proposal\n\nIn general within Git it's possible to specify Identity Files specifying which ssh key to use. These can referenced per repo in the repos git config so I'm able to use different ssh keys for the same host.\n\nIt would be great to have a similar functionality for the Gitlab Workflow Extension, so it's possible to set e.g. a Company and Private Accounts Secret Token for gitlab.com\n\n### Links \/ references","state":"closed","created_at":1610620933775,"updated_at":1653393625071,"closed_at":1652430583515,"closed_by":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"labels":["Category:GitLab CLI","Deliverable","VS Code","devops::create","group::code review","section::dev","type::feature"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https:\/\/gitlab.com\/groups\/gitlab-org\/-\/milestones\/65"},"assignees":[{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"}],"author":{"id":156402,"username":"swiffer","name":"Matthias Wirtz","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/156402\/avatar.png","web_url":"https:\/\/gitlab.com\/swiffer"},"type":"ISSUE","assignee":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"user_notes_count":4,"merge_requests_count":0,"upvotes":5,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/298","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/298","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/298\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/298\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717","closed_as_duplicate_of":null},"references":{"short":"#298","relative":"#298","full":"gitlab-org\/gitlab-vscode-extension#298"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4363.0,"epic":{"id":107314,"iid":4363,"title":"Improve Onboarding and Auth of GitLab Workflow","url":"\/groups\/gitlab-org\/-\/epics\/4363","group_id":9970,"human_readable_end_date":"Jun 17, 2022","human_readable_timestamp":"<strong>Past due<\/strong>"},"iteration":null,"health_status":null},{"id":76936742,"iid":293,"project_id":5261717,"title":"MR review: new comments and reviews POC","description":"### Problem to solve\n\nThis issue is a continuation of the #269 investigation. The #269 investigated how te work with existing comments and this POC is validating implementation for creating new comments and managing reviews.\n\nWe had a few issues when integrating with the GitLab API(https:\/\/gitlab.com\/gitlab-org\/gitlab\/-\/issues\/281143, https:\/\/gitlab.com\/gitlab-org\/gitlab\/-\/issues\/282476, https:\/\/gitlab.com\/gitlab-org\/gitlab\/-\/issues\/282481). Part of the validation is going to be checking that all GitLab endpoints are now working as expected.\n\n### Proposal\n\nCreate POC that answers the following questions:\n\n\n- How are we going to create a comment? What's going to be the VS Code behaviour if we fail to send the comment (on the web the text area remembers the comment)\n- How are we going to contribute to a thread?\n- How can we represent MR review in progress? What is the API for showing unsubmitted reviews?\n- How can we edit and delete existing comments?\n- What happens when we submit a review that is out of date? In other words: somebody committed changes since we started the review.\n\n### Result\n\n![new_comments](\/uploads\/42fd96a62b757e3356cf8e3a0becbc35\/new_comments.mp4)\n\nTry the POC extension: [gitlab-workflow-4.0.0.vsix](\/uploads\/2658d339a155a2c8513125a82dcbad2a\/gitlab-workflow-4.0.0.vsix)\n\nThe POC is implemented in a branch: [`293-new-comments-poc`](https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/tree\/293-new-comments-poc)\n\n#### TL;DR\n\nCreating new comments is possible, however, there are several API deficiencies[1][2] that will make extension implementation harder requiring several workarounds. Fixing the deficiencies would simplify the implementation a lot.\n\n#### Overview of the work:\n\n- [MR Review: Respond to a diff thread](https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/339)\n  - relatively simple because we don't need to pass in a position for the new note, we'll just send `discussion.replyId` with the request to explain what we are responding to\n  - *the only issue that can't be made simpler by fixing the GraphQL API*\n- [MR Review: add commenting ranges](https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/340)\n  - We need to compute what lines have been added, based on text diff hunks that we get from the API.\n  - We then use this information to show commenting ranges (gutters) that allow users to comment on certain lines.\n- [MR Review: track changed lines on the diff](https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/344)\n  - This issue is to track the line index of an unchanged line. The unchanged line can be \"pushed down\" or \"pulled up\" relative to the new version of the diff and we must track that difference to be able to submit a comment on unchanged line.\n  - There are some unnecessary constraints introduced by the API that make it extra hard for us the create notes on unchanged lines[1]. *If we fix [1], we don't have to implement this issue.*\n- [MR Review: Introduce global MR cache](https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/341)\n  - thanks to [1] and [2] we need much more information for creating new notes than what can fit in the URI (which VS Code uses to communicate between the extension and the diff view).\n  - we need to introduce a global cache so we can easily get all the MR information just by knowing its ID\n  - *It would be possible to get away without implementing this issue if [1] and [2] get fixed, but I think it's still worth simplifying the way we handle MR information (GitHub Pull Request does something similar). But if [1][2] get fixed, this is not a blocker.*\n- [MR Review: create a new comment on the diff](https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/342)\n  - This is the final issue, it's going to be quite a lot of effort and has got weight of `4`\n  - We'll have to implement a workaround for [2]\n\n#### Dependencies\n\nOnly the last issue ([MR Review: create a new comment on the diff](https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/342)) is dependent on all the previous issues.\n\n```mermaid\ngraph LR\nA[\"Respond to a diff thread\"] --> D[\"create a new comment on the diff\"]\nB[\"add commenting ranges\"] --> E[\"track changed lines on the diff\"]\nE --> D\nC[\"Introduce global MR cache\"] --> D\n```\n\n[1]: [GraphQL `createDiffNote` forces clients to compute redundant information](https:\/\/gitlab.com\/gitlab-org\/gitlab\/-\/issues\/325161)\n\n[2]: [GraphQL `createDiffNote` mutation doesn't fully support interactive clients](https:\/\/gitlab.com\/gitlab-org\/gitlab\/-\/issues\/325155)","state":"closed","created_at":1610123916365,"updated_at":1618330122624,"closed_at":1615995347612,"closed_by":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"labels":["Category:GitLab CLI","Stretch","VS Code","devops::create","frontend","group::code review","section::dev","type::feature","workflow::in dev"],"milestone":{"id":1233761,"iid":57,"group_id":9970,"title":"13.10","description":"https:\/\/about.gitlab.com\/releases\/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.646Z","updated_at":"2022-04-21T07:22:00.171Z","due_date":"2021-03-17","start_date":"2021-02-18","expired":true,"web_url":"https:\/\/gitlab.com\/groups\/gitlab-org\/-\/milestones\/57"},"assignees":[{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"}],"author":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"type":"ISSUE","assignee":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"user_notes_count":10,"merge_requests_count":0,"upvotes":3,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/293","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/293","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/293\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/293\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717","closed_as_duplicate_of":null},"references":{"short":"#293","relative":"#293","full":"gitlab-org\/gitlab-vscode-extension#293"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4607.0,"epic":{"id":126339,"iid":4607,"title":"Merge Request Reviews in VS Code","url":"\/groups\/gitlab-org\/-\/epics\/4607","group_id":9970,"human_readable_end_date":"Jul 17, 2021","human_readable_timestamp":"<strong>Past due<\/strong>"},"iteration":null,"health_status":null},{"id":76107661,"iid":286,"project_id":5261717,"title":"Add MR's I'm Reviewing to Sidebar Lists","description":"## Problem to Solve\n\n[Merge Request Reviewers](https:\/\/gitlab.com\/groups\/gitlab-org\/-\/epics\/5072) was added to GitLab. This allows people to be placed in the `Reviewers` role for Merge Requests. If you're a `Reviewer` those items won't be surfaced in VS Code.\n\n## Proposal\n\nWe should add a `Merge Requests I'm Reviewing` filter to the sidebar in VS Code that retrieves a list of MR's where I'm listed as a Reviewer.\n\n## Technical details\n\n- We define default queries (that show in the sidebar) in [package.json](https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/blob\/658a0c8bccc425bd046b5de4d1ef78a3fb7f2250\/package.json#L483-489)\n- The `CustomQuery` type is defined in [`custom_query.ts`](https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/blob\/a2b3f881f8de9c30bce5e423b51506a9935d6188\/src%2Fgitlab%2Fcustom_query.ts#L2-3)\n- Same way as we use [`assignee_username`](https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/blob\/a2b3f881f8de9c30bce5e423b51506a9935d6188\/src%2Fgitlab_service.ts#L298) we would want to use `reviewer_username`.\n\n## Possible improvements to the existing code\n\n- Use [`URLSearchParams`](https:\/\/developer.mozilla.org\/en-US\/docs\/Web\/API\/URLSearchParams) or similar method to replace the current `queryString += '&key=value'` mutations that the  `gitlab_service.ts`.`fetchIssuables()` method uses.\n- Increase the test coverage for the same `fetchIssuables()` method.\n  - There are a few happy path integration test scenarios in `test\/integration\/tree_view.test.js`\n  - We could potentially introduce a Jest uni test because there is a lot of logic branching in the method.","state":"closed","created_at":1608074544728,"updated_at":1618729586956,"closed_at":1618468449388,"closed_by":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"labels":["Category:GitLab CLI","Deliverable","Technical Writing","VS Code","devops::create","documentation","feature::enhancement","frontend","group::code review","missed-deliverable","missed:13.10","section::dev","type::feature","workflow::in review"],"milestone":{"id":1406669,"iid":59,"group_id":9970,"title":"13.11","description":"https:\/\/about.gitlab.com\/releases\/archives.html","state":"closed","created_at":"2020-08-13T14:23:09.688Z","updated_at":"2022-04-21T07:22:08.835Z","due_date":"2021-04-17","start_date":"2021-03-18","expired":true,"web_url":"https:\/\/gitlab.com\/groups\/gitlab-org\/-\/milestones\/59"},"assignees":[{"id":4017300,"username":"jboyson","name":"Justin Boyson","state":"blocked","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4017300\/avatar.png","web_url":"https:\/\/gitlab.com\/jboyson"}],"author":{"id":2935693,"username":"phikai","name":"Kai Armstrong","state":"active","avatar_url":"https:\/\/secure.gravatar.com\/avatar\/2c5d6a63b41cbeb3ea4cccda82e758e1?s=80&d=identicon","web_url":"https:\/\/gitlab.com\/phikai"},"type":"ISSUE","assignee":{"id":4017300,"username":"jboyson","name":"Justin Boyson","state":"blocked","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4017300\/avatar.png","web_url":"https:\/\/gitlab.com\/jboyson"},"user_notes_count":9,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/286","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/286","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/286\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/286\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717","closed_as_duplicate_of":null},"references":{"short":"#286","relative":"#286","full":"gitlab-org\/gitlab-vscode-extension#286"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":76072720,"iid":285,"project_id":5261717,"title":"Use windows CI runner to run integration tests","description":"### Problem to solve\n\nAt GitLab, using Windows for development is [strictly prohibited](https:\/\/about.gitlab.com\/handbook\/business-ops\/team-member-enablement\/onboarding-access-requests\/#laptop-configurations). The extension is heavily working with the host machine file system. But the extension is rarely (if ever) tested on non-POSIX system before the release.\n\nIn some cases, this development process results in bugs (e.g. #284) that could be caught by running the integration tests on Windows.\n\n\n### Proposal\n\nDog feed our [shared Windows runners](https:\/\/about.gitlab.com\/blog\/2020\/01\/21\/windows-shared-runner-beta\/).\n\n### Further details\n\nWe would introduce another CI task similar to the `test-integration` but run by a windows CI runner.\n\n```yaml\ntest-integration:\n  stage: test\n  variables:\n    DISPLAY: ':99.0'\n  script:\n    - apt-get update\n    - apt-get install -y xvfb libxtst6 libnss3 libgtk-3-0 libxss1 libasound2 libsecret-1-0 git\n    - npm ci\n    - echo $DISPLAY\n    - \/usr\/bin\/Xvfb :99 -screen 0 1024x768x24 > \/dev\/null 2>&1 &\n    - npm run test-integration\n```\n\n### Links \/ references","state":"closed","created_at":1608025782795,"updated_at":1637591439846,"closed_at":1637591439829,"closed_by":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"labels":["Category:GitLab CLI","Deliverable","VS Code","devops::create","group::code review","section::dev","type::feature"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https:\/\/about.gitlab.com\/releases\/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https:\/\/gitlab.com\/groups\/gitlab-org\/-\/milestones\/66"},"assignees":[{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"}],"author":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"type":"ISSUE","assignee":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"user_notes_count":1,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/285","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/285","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/285\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/285\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717","closed_as_duplicate_of":null},"references":{"short":"#285","relative":"#285","full":"gitlab-org\/gitlab-vscode-extension#285"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":75817200,"iid":281,"project_id":5261717,"title":"Use welcome view when the extension can't show TreeView","description":"### Problem to solve\n\nThere are several scenarios when the extension can't do any useful work:\n\n- New VS Code window (no workspace is open)\n- None of the open workspaces contains a configured GitLab project\n- The personal access token hasn't been set up\n- There workspace folder doesn't have initialized git repository #321\n\nFor example, attempt to use the extension when there is no open project now results in an error message:\n\n![image](\/uploads\/18b16f548b566c4e715efec3cc205bfb\/image.png)\n\n### Proposal\n\nUtilise the [Welcome view](https:\/\/code.visualstudio.com\/api\/references\/contribution-points#contributes.viewsWelcome) available in for VS Code extensions:\n\n![poc-welcome](\/uploads\/e7eb40ec6996d372afa767cb7ae902b5\/poc-welcome.gif)\n\n#### Scenario 1: No token\n\n```txt\nHey. Welcome to the GitLab Workflow extension. It seems that you have not yet set up your access token.\nIf you use GitLab.com, click [here](https:\/\/gitlab.com\/profile\/personal_access_tokens). If you have a self-managed GitLab, then: \n1. Go to 'Settings'\n2. Click 'Access Tokens' on the left navigation menu\n3. Click on 'Add a personal access token'\nNow you can set your token by clicking on the following button\n[Set Personal Access Token](command:gl.setToken)\nTo learn more, please [read our docs](https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension#setup).\n```\n\n- [ ] mention that the token needs `read_user` and `api` scopes to fix https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/230\n\n**Once this scenario is implemented, we should not show the \"add token\" info message during every extension startup. It was bothering users: #279**\n\n#### Scenario 2: No GitLab project\n\n```txt\nIt seems like your current workspace doesn't contain a GitLab project (or the project has been moved).\n```\n\n#### Scenario 3: No open project\n\n```txt\nIn order to use the GitLab Worfklow extension, please open a folder containing a GitLab project.\n[Open GitLab project folder](command:vscode.open)\n```\n\n### Further details\n\nThere is a small POC implemented in [`welcome-poc` branch](https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/compare\/main...welcome-poc).\n\n### Examples\n\n| extension | screenshot |\n| ------ | ------ |\n| source control (no open workspace) | ![Welcome](\/uploads\/676ed2698d424024945391d4e342834c\/Welcome.png) |\n| source control (no git repository) | ![Welcome___Music](\/uploads\/a9d6fd9928ba19e51e4038a14621d256\/Welcome___Music.png) |\n| debugger | ![Welcome___Music](\/uploads\/36ca0ffadab097b21ae3b32bf09f12be\/Welcome___Music.png) |","state":"closed","created_at":1607505499790,"updated_at":1618729586990,"closed_at":1617887387319,"closed_by":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"labels":["Category:GitLab CLI","Deliverable","Technical Writing","UI text","UX FY21-Q4","VS Code","devops::create","frontend","group::code review","missed:13.10","section::dev","type::feature","workflow::in dev"],"milestone":{"id":1406669,"iid":59,"group_id":9970,"title":"13.11","description":"https:\/\/about.gitlab.com\/releases\/archives.html","state":"closed","created_at":"2020-08-13T14:23:09.688Z","updated_at":"2022-04-21T07:22:08.835Z","due_date":"2021-04-17","start_date":"2021-03-18","expired":true,"web_url":"https:\/\/gitlab.com\/groups\/gitlab-org\/-\/milestones\/59"},"assignees":[{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"}],"author":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"type":"ISSUE","assignee":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"user_notes_count":8,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/281","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"task_status":null,"_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/281","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/281\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/281\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717","closed_as_duplicate_of":null},"references":{"short":"#281","relative":"#281","full":"gitlab-org\/gitlab-vscode-extension#281"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4363.0,"epic":{"id":107314,"iid":4363,"title":"Improve Onboarding and Auth of GitLab Workflow","url":"\/groups\/gitlab-org\/-\/epics\/4363","group_id":9970,"human_readable_end_date":"Jun 17, 2022","human_readable_timestamp":"<strong>Past due<\/strong>"},"iteration":null,"health_status":null},{"id":75629820,"iid":278,"project_id":5261717,"title":"Unpubished Branch on Remote generates Error","description":"When a branch exists locally, but has not been published to GitLab there is an error in the logs:\n\n```\nCommand failed with exit code 1: git config --get branch.phikai-code-review-dec-pi-update.merge\nError: Command failed with exit code 1: git config --get branch.phikai-code-review-dec-pi-update.merge\n\tat makeError (\/Users\/phikai\/.vscode-insiders\/extensions\/gitlab.gitlab-workflow-3.6.2\/node_modules\/execa\/lib\/error.js:59:11)\n\tat handlePromise (\/Users\/phikai\/.vscode-insiders\/extensions\/gitlab.gitlab-workflow-3.6.2\/node_modules\/execa\/index.js:114:26)\n\tat runMicrotasks (<anonymous>)\n\tat processTicksAndRejections (internal\/process\/task_queues.js:94:5)\n```","state":"closed","created_at":1607102618430,"updated_at":1620042975946,"closed_at":1611938528178,"closed_by":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"labels":["Category:GitLab CLI","devops::create","group::code review","section::dev","type::bug"],"milestone":{"id":1233760,"iid":56,"group_id":9970,"title":"13.9","description":"https:\/\/about.gitlab.com\/releases\/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.334Z","updated_at":"2022-04-21T07:21:28.468Z","due_date":"2021-02-17","start_date":"2021-01-18","expired":true,"web_url":"https:\/\/gitlab.com\/groups\/gitlab-org\/-\/milestones\/56"},"assignees":[],"author":{"id":2935693,"username":"phikai","name":"Kai Armstrong","state":"active","avatar_url":"https:\/\/secure.gravatar.com\/avatar\/2c5d6a63b41cbeb3ea4cccda82e758e1?s=80&d=identicon","web_url":"https:\/\/gitlab.com\/phikai"},"type":"ISSUE","assignee":null,"user_notes_count":4,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/278","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/278","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/278\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/278\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717","closed_as_duplicate_of":null},"references":{"short":"#278","relative":"#278","full":"gitlab-org\/gitlab-vscode-extension#278"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":75498628,"iid":276,"project_id":5261717,"title":"MR Review: Show change type for each changed file","description":"### Problem to solve\n\nThis is a follow-up to #263. Currently, we are indicating the type of git change by prepending `[added]`, `[deleted]`, `[renamed]` to the item description.\n\n![_Extension_Development_Host__-_Welcome___gitlab-vscode-extension-TEST](\/uploads\/79eaf122b3480c71793ca31084ef6c52\/_Extension_Development_Host__-_Welcome___gitlab-vscode-extension-TEST.png)\n\nBut once the `FileDecoration`s are [generally available in the next VS Code release](https:\/\/github.com\/microsoft\/vscode\/issues\/54938), we should use them instead:\n\n![mr_item_ts___gitlab-vscode-extension](\/uploads\/a362e564c6ef5b289aa0194cbc729e35\/mr_item_ts___gitlab-vscode-extension.png)\n\n### Proposal\n\nImplement the `FileDecorationProvider` once at least 90% of the users are on the latest version (`^1.52.0`).\n\n### Further details\n\nI looked into the logs today (2020-12-02) and I saw that roughly 90% of extension requests on `gitlab.com` are made by the latest VS Code version. [Today is 21 days since the latest VS Code version has been released](https:\/\/github.com\/microsoft\/vscode\/releases\/tag\/1.51.1).\n\nThese numbers can be checked in the logs https:\/\/log.gprd.gitlab.net\/ (only GitLab team members).\n\n- index: `pubsub-workhorse-inf-gprd-*`\n- query: `json.user_agent : \"vs-code-gitlab-workflow\/3.6.2 VSCode\/\"` AND NOT `json.user_agent : \"vs-code-gitlab-workflow\/3.6.2 VSCode\/1.51.1\"` (replace versions by the latest)\n\n### Links \/ references","state":"closed","created_at":1606927010115,"updated_at":1618729587097,"closed_at":1618218550468,"closed_by":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"labels":["Category:GitLab CLI","Deliverable","VS Code","devops::create","frontend","group::code review","section::dev","type::feature","workflow::in review"],"milestone":{"id":1406669,"iid":59,"group_id":9970,"title":"13.11","description":"https:\/\/about.gitlab.com\/releases\/archives.html","state":"closed","created_at":"2020-08-13T14:23:09.688Z","updated_at":"2022-04-21T07:22:08.835Z","due_date":"2021-04-17","start_date":"2021-03-18","expired":true,"web_url":"https:\/\/gitlab.com\/groups\/gitlab-org\/-\/milestones\/59"},"assignees":[{"id":4017300,"username":"jboyson","name":"Justin Boyson","state":"blocked","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4017300\/avatar.png","web_url":"https:\/\/gitlab.com\/jboyson"}],"author":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"type":"ISSUE","assignee":{"id":4017300,"username":"jboyson","name":"Justin Boyson","state":"blocked","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4017300\/avatar.png","web_url":"https:\/\/gitlab.com\/jboyson"},"user_notes_count":9,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/276","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/276","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/276\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/276\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717","closed_as_duplicate_of":null},"references":{"short":"#276","relative":"#276","full":"gitlab-org\/gitlab-vscode-extension#276"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4607.0,"epic":{"id":126339,"iid":4607,"title":"Merge Request Reviews in VS Code","url":"\/groups\/gitlab-org\/-\/epics\/4607","group_id":9970,"human_readable_end_date":"Jul 17, 2021","human_readable_timestamp":"<strong>Past due<\/strong>"},"iteration":null,"health_status":null},{"id":75467458,"iid":275,"project_id":5261717,"title":"Multi-root workspace with a non-GitLab project doesn't work: Error: 404 Project Not Found","description":"<!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"bug\" label:\n\n- https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n\nIf you are facing issues around configuring Token from your GitLab.com account, see the list of already addressed Token related issues:\n\nhttps:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/issues?scope=all&utf8=%E2%9C%93&state=closed&label_name[]=token-issue\n--->\n\n### Summary\n\n<!-- Summarize the bug encountered concisely -->\n\nExt is going to be useless if project could not be fetched by API.\n\n### Steps to reproduce\n\n<!-- How one can reproduce the issue - this is very important -->\n\n1. Clone [gitlabhq\/terraform-provider-gitlab](https:\/\/github.com\/gitlabhq\/terraform-provider-gitlab) from GitHub to folder on the workstation.\n2. Clone [gitlab-org\/gitlab-vscode-extension](https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension) from GitLan to folder on the workstation.\n3. Add both repos to VS Code and save workspace configuration.\n4. Go to GitLab sidebar.\n5. Click on **refresh** icon.\n6. Gitlab Extension fails with error notification.\n\n\nClone git repo with valid git remote url.\nChange git remote url to something else.\nGo to sidebar and refresh your issues \/ merge requests.\n\n### What is the current *bug* behavior?\n\n<!-- What actually happens -->\n\nGitLab Ext tries to fetch project info by given group name extracted from git remote url, and fails when project could not found.\nAPI request failed when trying to get current project because: 404 - \"{\\\"message\\\":\\\"404 Project Not Found\\\"}\"\n\n### What is the expected *correct* behavior?\n\n<!-- What you should see instead -->\n\nExt shouldn't fail in case if project does not exist by given group name, or added git repo is originally from Github, Bitbucket, etc.\n\n### Relevant logs and\/or screenshots\n\n![image](\/uploads\/ddb7df56f55eed8cd30667e17c98323f\/image.png)\n![image](\/uploads\/86b9bcd45c9b0b5c8bcc195838b59559\/image.png)\n\n<!-- Logs can be found by running `GitLab: Show extension logs` command (using `cmd+shift+p`) -->\n\n### Possible fixes\n\n<!-- If you can, link to the line of code that might be responsible for the problem -->","state":"closed","created_at":1606894752650,"updated_at":1612362993433,"closed_at":1612362993378,"closed_by":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"labels":["Category:GitLab CLI","VS Code","[deprecated] Accepting merge requests","devops::create","group::code review","priority::3","section::dev","severity::3","type::bug"],"milestone":{"id":1233760,"iid":56,"group_id":9970,"title":"13.9","description":"https:\/\/about.gitlab.com\/releases\/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.334Z","updated_at":"2022-04-21T07:21:28.468Z","due_date":"2021-02-17","start_date":"2021-01-18","expired":true,"web_url":"https:\/\/gitlab.com\/groups\/gitlab-org\/-\/milestones\/56"},"assignees":[{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"}],"author":{"id":359491,"username":"vymarkov","name":"Vitaly Markov","state":"active","avatar_url":"https:\/\/secure.gravatar.com\/avatar\/f5ccc19f662bc1ce9acce4e275263e17?s=80&d=identicon","web_url":"https:\/\/gitlab.com\/vymarkov"},"type":"ISSUE","assignee":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"user_notes_count":15,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/275","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/275","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/275\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/275\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717","closed_as_duplicate_of":null},"references":{"short":"#275","relative":"#275","full":"gitlab-org\/gitlab-vscode-extension#275"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":74332669,"iid":269,"project_id":5261717,"title":"MR review: interacting with existing comments - POC","description":"### Problem to solve\n\nThe #243 proof of concept work didn't validate the workflows for creating and updating comments on the MR diff. The VS Code API for creating\/editing comments is not documented and so we have to result to try to copy a reference implementation like GitHub pull request extension.\n\nThis issue is to create POC that validates the implementation of interacting with existing comments (responding, resolving, deleting, possibly reactions). Creating new comments and reviews is going to be out of scope for this POC.\n\n### Proposal\n\n- Investigate VS Code API's for triggering actions on comments (edit, (un)resolve, delete, report abuse?)\n- Implement POC for editing comments.\n- Investigate VS Code API's for access control (i.e. only show users actions that are available to them (e.g. only the author can edit the comment).\n- validate that the GraphQL queries and mutations are in place\n- if time allows, investigate how to implement reactions (is the VS Code reaction API compatible with GitLab?)\n\n### Further details\n\n- Explanation of how the current MR review POC works is here: #243\n\n## POC Result\n\n**TL;DR**: This POC implemented editing and resolving comments, validating the presence of all APIs (both GitLab and VS Code). The only feature that we are not able to implement straight away is emoji reactions.\n\nAll code is available in the [`existing-comments-poc`](https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/tree\/existing-comments-poc) branch.\n\n### :white_check_mark: Editing comments\n\n![poc-editing-comments](\/uploads\/e357e81ea6d25bbf1b882907533b4ff4\/poc-editing-comments.gif)\n\n#### GitLab\n\nWe'll use `adminNote` permission attribute (see Appendix 2) to decide whether the user can edit a note. GitLab GraphQL API provides an `updateNote` mutation that will change the note body.\n\n#### VS Code\n\nWe will add a pencil-shaped icon to the comment title (see Appendix 1). Clicking this icon will change the note mode to `vscode.CommentMode.Editing`. We add two comment context action (see Appendix 1) `Submit` and `Cancel`. Submit will trigger the GraphQL mutation, cancel reverts any changes to the comment text.\n\nWe also add the `canAdmin` permission attribute on the comment context so the VS Code can decide whether to show the edit button or not.\n\n#### :warning: Caveyats\n\n- **Comment drafts**: VS Code is not telling us when the comment editing is in progress. We only get notified when the user triggers one of the context actions (submit\/cancel). If users close the editor or refresh the MR during editing, they'll lose the draft and we can't do anything about it.\n\n### :heavy_check_mark:  Deleting comments\n\nI've validated the API, but haven't implemented this feature.\n\nVery similar to editing comments without the need to switch comment into editing mode.\n\nWe will show a warning message before removing the comment:\n\n```js\nconst shouldDelete = await vscode.window.showWarningMessage('Delete comment?', { modal: true }, 'Delete');\n```\n\n![delete-confirmation](\/uploads\/2ed0f0ca38dd3771f8999cc8f50a4bea\/delete-confirmation.gif)\n\n\n### :white_check_mark: Resolving\/Unresolving discussions\n\n![poc-resolve-thread](\/uploads\/3ed5bac48d482a3e9318651578da18bc\/poc-resolve-thread.gif)\n\n#### GitLab\n\nWe'll use `resolvable` permission attribute (see Appendix 2) to decide whether we can let user resolve\/unresolve a discussion. GitLab GraphQL API provides a `discussionToggleResolve` mutation that will set the `resolved` attribute.\n\n#### VS Code\n\nWe will add a `check` icon to the thread title (see Appendix 1). Clicking this icon will resolve the thread and it will set the thread context to `resolved`. VS Code recognises the context change and it will show `close` icon instead.\n\n#### :warning: Caveyats\n\n- The `cancel` and `check` icons might not accurately show the user what is going to happen. At least they have a tooltip that shows on hover ![Screenshot_2021-02-09_at_17.52.00](\/uploads\/4909d98d6d09dcf36d08e057543f0367\/Screenshot_2021-02-09_at_17.52.00.png)\n\n*[List of all supported icions]([codicon](https:\/\/microsoft.github.io\/vscode-codicons\/dist\/codicon.html))*\n\n### :x: Emoji reactions\n\nImplementing reactions is going to be facing issues on both the GitLab and the VS Code side.\n\n#### :x: GitLab\n\n**We don't have a GraphQL endpoint to retrieve reactions for a note.** Issue: https:\/\/gitlab.com\/gitlab-org\/gitlab\/-\/issues\/320963\n\nWe do have an endpoint to add or remove a reaction:\n\n```graphql\nmutation{\n  awardEmojiAdd(input:{awardableId: \"gid:\/\/gitlab\/DiffNote\/447164415\", name: \"tada\"}){\n    errors\n  }\n}\n```\n\n#### :warning: VS Code\n\nThe VS Code extension API is very much GitHub oriented. It is made to support half a dozen predefined reactions, not a full emoji selection as we have at GitLab. You can see that the emoji picker doesn't scale above maybe 10 emojis. Also, each emoji needs to have a PNG icon in the project.\n\n![700face67d864dd78fb55f15934f39cc](\/uploads\/b2e2c7dadded662f057b976dd1864587\/700face67d864dd78fb55f15934f39cc.png)\n\n##### Implementation notes\n\n1. add a `commentHandler`\n    ```ts\n\tcommentController.reactionHandler = async (\n      comment: vscode.Comment,\n      reaction: vscode.CommentReaction,\n    ): Promise<void> => {};\n\t```\n1. Each comment can have `reactions`. If they have `count === 0`, they don't show at the bottom of the comment\n    ```js\n    reactions: [\n\t  {\n\t\tlabel: '\u2705',\n\t\ticonPath: '$(check)',\n\t\tcount: 1,\n\t\tauthorHasReacted: true,\n\t  },\n\t],\n\t```\n3. Each [reaction has to have a PNG icon](https:\/\/github.com\/microsoft\/vscode-pull-request-github\/blob\/29955445c80ae5b3f06b27eb89886d1fd9e91a76\/src\/common\/resources.ts#L13-L25)\notherwise, it shows up as ![e8eecbc1d7624b87bf6f8ec3d951ca69](\/uploads\/20fc686815c1e0f0de7b2d1a0d155368\/e8eecbc1d7624b87bf6f8ec3d951ca69.png)\n\n### :heavy_check_mark: Bonus: Open the comment in a browser\n\nSince we are most likely not going to be adding the \"Report Abuse\" button and also because it might be difficult to introduce reactions from the get-go, I suggested we include `globe` button in the title of each note. When the user clicks this button, VS Code will open the comment permalink in the browser.\n\n![poc-comment-on-the-web](\/uploads\/d0bdb3deb738236cf6e1803e88574de8\/poc-comment-on-the-web.gif)\n\nThe POC haven't fully implemented this feature, but all the necessary information (MR URL and note ID) is available.\n\n### Appendix 1: Context menu on comment threads and comments\n\nExtensions can [contribute menus](https:\/\/code.visualstudio.com\/api\/references\/contribution-points#contributes.menus). The important menus for the MR Review comments are:\n\n- The comment thread title menu bar - `comments\/commentThread\/title`\n    ![_Extension_Development_Host__-_git_service_ts___173__\u2014_gitlab-vscode-extension-TEST.png](\/uploads\/46586488ac139956c5b9903c760392c2\/24d89816d1e7417abb1151a2d69bcefe.png)\n\n- The comment thread context menu - `comments\/commentThread\/context`\n    ![_Extension_Development_Host__-_git_service_ts___173__\u2014_gitlab-vscode-extension-TEST.png](\/uploads\/7b80203bf6f4425b46d2282f95de19ee\/bc238157fa5e4436a1c6f48abd1d07d6.png)\n\n- The comment title menu bar - `comments\/comment\/title`\n\t  ![comments\/comment\/title](\/uploads\/9058c42082b8c425218b763eb3bd2682\/bdf8aff525fe442c98d046b2e8e9b71b.png)\n\n- The comment context menu - `comments\/comment\/context`\n    ![_Extension_Development_Host__-_git_service_ts___173__\u2014_gitlab-vscode-extension-TEST.png](\/uploads\/2a78ae8bc120c624d7c3e51a79d80ed0\/78dde3979b754cc1bbdb1ddb245ea17c.png)\n\n### Appendix 2: Access control\n\n\n#### on each note\n\n| Field |\tType | \tDescription |\n| -- | -- | -- |\n|adminNote |\tBoolean! |\tIndicates the user can perform admin_note on this resource |\n|awardEmoji |\tBoolean! |\tIndicates the user can perform award_emoji on this resource |\n|createNote |\tBoolean! |\tIndicates the user can perform create_note on this resource |\n|readNote |\tBoolean! |\tIndicates the user can perform read_note on this resource |\n|repositionNote |\tBoolean! |\tIndicates the user can perform reposition_note on this resource |\n|resolveNote |\tBoolean! |\tIndicates the user can perform resolve_note on this resource |\n\n#### on merge request\n\nWe need the `createNote` value to know whether the user can respond to a discussion.\n\n```\nmergeRequest(iid: \"3\") {\n  id\n  webUrl\n  userPermissions{\n\tcreateNote\n  }\n}\n```\n\n#### on a discussion\n\nA discussion contains a boolean field `resolvable` indicating whether the discussion can be resolved or not.","state":"closed","created_at":1605282990656,"updated_at":1613632026555,"closed_at":1613404260844,"closed_by":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"labels":["Category:GitLab CLI","Deliverable","VS Code","devops::create","frontend","group::code review","section::dev","type::feature","workflow::in dev"],"milestone":{"id":1233760,"iid":56,"group_id":9970,"title":"13.9","description":"https:\/\/about.gitlab.com\/releases\/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.334Z","updated_at":"2022-04-21T07:21:28.468Z","due_date":"2021-02-17","start_date":"2021-01-18","expired":true,"web_url":"https:\/\/gitlab.com\/groups\/gitlab-org\/-\/milestones\/56"},"assignees":[{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"}],"author":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"type":"ISSUE","assignee":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"user_notes_count":6,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/269","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/269","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/269\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/269\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717","closed_as_duplicate_of":null},"references":{"short":"#269","relative":"#269","full":"gitlab-org\/gitlab-vscode-extension#269"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4607.0,"epic":{"id":126339,"iid":4607,"title":"Merge Request Reviews in VS Code","url":"\/groups\/gitlab-org\/-\/epics\/4607","group_id":9970,"human_readable_end_date":"Jul 17, 2021","human_readable_timestamp":"<strong>Past due<\/strong>"},"iteration":null,"health_status":null},{"id":74331208,"iid":268,"project_id":5261717,"title":"Add the ability to show pipelines within vscode","description":"### Problem to solve\n\nCurrently, it's necessary to open the pipeline in the GitLab web interface to learn details about jobs.\n\nWe show some rudimentary pipeline information in two places:\n\n|  |  |\n| ------ | ------ |\n| status bar | ![current_branch_ts___gitlab-vscode-extension](\/uploads\/62d29acd8ec085d24ffdf8ed9f320ab5\/current_branch_ts___gitlab-vscode-extension.png) |\n| \"For current branch\" sidebar | ![current_branch_ts___gitlab-vscode-extension](\/uploads\/b5c0a3a2f2b7e63b7b5210bed72a8190\/current_branch_ts___gitlab-vscode-extension.png) |\n\n### Proposal\n\nExtend the tree item in the sidebar to show information about all jobs:\n\n| before | after |\n| ------ | ------ |\n| ![current_branch_ts___gitlab-vscode-extension](\/uploads\/efb1e59d5061b4a87146af8e3dba4bd9\/current_branch_ts___gitlab-vscode-extension.png) | ![_Extension_Development_Host__-_README_md___test-project](\/uploads\/e9b76e1e5f5ff1a23694b307ee7d7c22\/_Extension_Development_Host__-_README_md___test-project.png) |\n\n### Further details\n\nThe API information is available and it should be fairly simple to render the UI as shown above.\n\nThis work would provide basis for:\n\n- starting\/stopping\/retrying jobs #97 \n- seeing job logs #423 \n- downloading job artifacts #106\n\nThe auto-update would be a great follow-up [Auto update \"For Current Branch\" tab in sidebar](https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/60)\n\n<details>\n<summary>Original description<\/summary>\n\nPossible duplicate: https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/97\n\n### Problem to solve\n\nIt's very convenient having the ability to create, view, and comment on issues from within vscode. \n\nI understand there are a few open issues related to pipelines jobs that I'd assume would be tied into this solution. But I didn't see an open issue specifically requesting this feature, although https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/97 may actually be good enough honestly, if it would work like issues\/MRs do.\n\n\n### Proposal\n\nCurious if embedding `\/-\/pipelines\/$Pipeline_ID` would be an option, similar to what the experience is when clicking an issue and how we can \"View issue and MR details and comments in VS Code\"? This would at least allow us to see which job failed, if nothing else. \n\n### Further details\n\nIt looks like @fatihacet did some work towards integrating jobs under pipelines in For Current Branch section of the sidebar and that's great!...not sure if that work\/code transferred over with the project ownership shift. I'm not sure if the intent was clicking one of those jobs would have opened the build output?...that's what I would love to see!\n\n### Links \/ references\n\n\n<\/details>","state":"closed","created_at":1605281525973,"updated_at":1675782615452,"closed_at":1628081545468,"closed_by":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"labels":["Category:GitLab CLI","Deliverable","VS Code","devops::verify","group::pipeline authoring","section::ops","type::feature","workflow::complete"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https:\/\/gitlab.com\/groups\/gitlab-org\/-\/milestones\/62"},"assignees":[{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"}],"author":{"id":3142328,"username":"michael.lawler.omc","name":"Michael Lawler","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3142328\/avatar.png","web_url":"https:\/\/gitlab.com\/michael.lawler.omc"},"type":"ISSUE","assignee":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"user_notes_count":26,"merge_requests_count":0,"upvotes":4,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/268","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/268","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/268\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/268\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717","closed_as_duplicate_of":null},"references":{"short":"#268","relative":"#268","full":"gitlab-org\/gitlab-vscode-extension#268"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":74267730,"iid":266,"project_id":5261717,"title":"MR Review: Show comments on changed file diff","description":"### Problem to solve\n\nUsers who perform MR review in VS Code can get additional context from commetns that are placed directly on the diff.\n\n### Proposal\n\n![_Extension_Development_Host__-_test_js__MR____test-project](\/uploads\/53a54bf961c2845edf5d527771348e5a\/_Extension_Development_Host__-_test_js__MR____test-project.png)\n\nWe are going to fetch all comments for the MR and show the non-outdated on the diff.\n\n### Further details\n\nThis issue is described in a detail on the POC work here: https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/243#showing-existing-comments\n\n### Out of scope\n\n- adding, editing or deleting comments\n- reactions\n\n### Links \/ references","state":"closed","created_at":1605197107992,"updated_at":1611136826830,"closed_at":1611052433004,"closed_by":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"labels":["Category:GitLab CLI","VS Code","devops::create","group::code review","release post item","release post item::in review","section::dev","type::feature","workflow::in dev"],"milestone":{"id":1233759,"iid":55,"group_id":9970,"title":"13.8","description":"https:\/\/about.gitlab.com\/releases\/archives.html","state":"closed","created_at":"2020-04-09T17:44:13.983Z","updated_at":"2022-04-13T14:51:23.220Z","due_date":"2021-01-17","start_date":"2020-12-18","expired":true,"web_url":"https:\/\/gitlab.com\/groups\/gitlab-org\/-\/milestones\/55"},"assignees":[{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"}],"author":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"type":"ISSUE","assignee":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"user_notes_count":2,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/266","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/266","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/266\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/266\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717","closed_as_duplicate_of":null},"references":{"short":"#266","relative":"#266","full":"gitlab-org\/gitlab-vscode-extension#266"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4607.0,"epic":{"id":126339,"iid":4607,"title":"Merge Request Reviews in VS Code","url":"\/groups\/gitlab-org\/-\/epics\/4607","group_id":9970,"human_readable_end_date":"Jul 17, 2021","human_readable_timestamp":"<strong>Past due<\/strong>"},"iteration":null,"health_status":null},{"id":74267126,"iid":265,"project_id":5261717,"title":"MR Review: Show changed file diff (Git-provided)","description":"### Problem to solve\n\nAfter implementing https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/264, user can see change diff for an MR file, but the change needs to be fetched from the GitLab API, putting additional load on the API but mainly decreasing the responsivness of the review. Often the file is going to be already present in the local Git repo and that's where we'll try to get it from.\n\n### Proposal\n\nImplement a content provider that will be able to serve file content for a specific version. It will serve this content from the local git repository.\n\n### Further details\n\nShowing the diff is explained in the [MR Review POC](https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/243#file-diff-view). When we are done, we'll have a chain of content providers as shown in:\n\n```mermaid\ngraph LR\nA[VS Code] -- \"gl-review: URI\" --> B[LocalGitContentProvider]\nB --> C[RemoteApiContentProvider]\n```\n\nThis issue implements the `LocalGitContentProvider`\n\nGood way to approach this is going to be to use the native Git extension that is always present as a part of VS Code. That way we'll have all git-related information in VS Code in sync. Eventually we might want to move away from executing the git command ourselves in other parts of the codebase as well.\n\n### Links \/ references\n\n- https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/243","state":"closed","created_at":1605196450556,"updated_at":1614156169644,"closed_at":1612946722993,"closed_by":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"labels":["Category:GitLab CLI","VS Code","devops::create","group::code review","section::dev","type::feature","workflow::in review"],"milestone":{"id":1233760,"iid":56,"group_id":9970,"title":"13.9","description":"https:\/\/about.gitlab.com\/releases\/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.334Z","updated_at":"2022-04-21T07:21:28.468Z","due_date":"2021-02-17","start_date":"2021-01-18","expired":true,"web_url":"https:\/\/gitlab.com\/groups\/gitlab-org\/-\/milestones\/56"},"assignees":[{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"}],"author":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"type":"ISSUE","assignee":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"user_notes_count":1,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/265","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/265","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/265\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/265\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717","closed_as_duplicate_of":null},"references":{"short":"#265","relative":"#265","full":"gitlab-org\/gitlab-vscode-extension#265"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4607.0,"epic":{"id":126339,"iid":4607,"title":"Merge Request Reviews in VS Code","url":"\/groups\/gitlab-org\/-\/epics\/4607","group_id":9970,"human_readable_end_date":"Jul 17, 2021","human_readable_timestamp":"<strong>Past due<\/strong>"},"iteration":null,"health_status":null},{"id":74266031,"iid":264,"project_id":5261717,"title":"MR Review: Show changed file diff (API-provided)","description":"### Problem to solve\n\nWhen reviewing MRs, users need to see changed files. This is going to be the first iteration of showing users the changes made in the file.\n\n### Proposal\n\n![Extension\\_Development\\_Host\\_-\\_terraform\\_list\\_vue\\_\\_MR\\_\\_\\_\\_gitlab\\_and\\_Add\\_\\_Ability\\_to\\_chec\\_\\_\\_\\_\\_\\_gitlab-vscode-extension\\_and\\_zsh](https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/uploads\/8731b1c3adb85de00977d0a4edbfdeb5\/_Extension_Development_Host__-_terraform_list_vue__MR____gitlab_and_Add__Ability_to_chec______gitlab-vscode-extension_and_zsh.png)\n\nOnce the user clicks on a changed file (see https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/263), VS Code will open a file diff showing the change. VS Code will get file content from the GitLab instance API.\n\n### Further details\n\nShowing the diff is explained in the [MR Review POC](https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/243#file-diff-view). When we are done, we'll have a chain of content providers as shown in:\n\n\n```mermaid\ngraph LR\nA[VS Code] -- \"gl-review: URI\" --> B[LocalGitContentProvider]\nB --> C[RemoteApiContentProvider]\n```\n\nThis issue is going to implement the remote content provider. We'll start with the remote provider in the first iteration because the remote provider will always have the content and the local git provider is optimisation that we'll implement next.\n\nShowing diff for images and other binaries is out of scope.\n\nWe need to have a look into how to show diffs of extra large text files like `package-lock.json`.\n\n### Links \/ references","state":"closed","created_at":1605195393210,"updated_at":1610499926666,"closed_at":1607418329071,"closed_by":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"labels":["Category:GitLab CLI","Deliverable","VS Code","devops::create","direction","frontend","group::code review","section::dev","type::feature","workflow::production"],"milestone":{"id":1233757,"iid":54,"group_id":9970,"title":"13.7","description":"https:\/\/about.gitlab.com\/releases\/archives.html","state":"closed","created_at":"2020-04-09T17:43:14.893Z","updated_at":"2022-04-13T14:51:12.240Z","due_date":"2020-12-17","start_date":"2020-11-18","expired":true,"web_url":"https:\/\/gitlab.com\/groups\/gitlab-org\/-\/milestones\/54"},"assignees":[{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"}],"author":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"type":"ISSUE","assignee":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"user_notes_count":1,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/264","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/264","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/264\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/264\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717","closed_as_duplicate_of":null},"references":{"short":"#264","relative":"#264","full":"gitlab-org\/gitlab-vscode-extension#264"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4607.0,"epic":{"id":126339,"iid":4607,"title":"Merge Request Reviews in VS Code","url":"\/groups\/gitlab-org\/-\/epics\/4607","group_id":9970,"human_readable_end_date":"Jul 17, 2021","human_readable_timestamp":"<strong>Past due<\/strong>"},"iteration":null,"health_status":null},{"id":74265459,"iid":263,"project_id":5261717,"title":"MR Review: Show changed files for the MR","description":"### Problem to solve\n\nAs a part of MR review, users need to see what files changed. It's the initial step in selecting a chagned file and inspecting the MR diff view.\n\n### Proposal\n\n![_Extension_Development_Host__-_agents_spec_js___gitlab](\/uploads\/411e83788322641d0258bdf50b2ad547\/_Extension_Development_Host__-_agents_spec_js___gitlab.png)\n\nBuilding on top of the work in https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/243 we would extend the MR items in the tree view as per the screenshot. For each MR user can click on the MR and see an item representing the description and all changed files.\n\n### Further details\n\n- We would have a chance to deside what icons do we want to show and we could also redesign the tree structure (e.g. grouping issue queries and MR queries)\n- The current implementation of the tree view is mainly untested (except for a few integration tests) and it is not extensible in its current form. We will need to refactor the tree view a bit before we can start building on top of it.\n\n\n### Links \/ references","state":"closed","created_at":1605194688558,"updated_at":1678766800006,"closed_at":1607418343547,"closed_by":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"labels":["Category:GitLab CLI","Deliverable","VS Code","devops::create","direction","frontend","group::code review","section::dev","type::feature","workflow::production"],"milestone":{"id":1233757,"iid":54,"group_id":9970,"title":"13.7","description":"https:\/\/about.gitlab.com\/releases\/archives.html","state":"closed","created_at":"2020-04-09T17:43:14.893Z","updated_at":"2022-04-13T14:51:12.240Z","due_date":"2020-12-17","start_date":"2020-11-18","expired":true,"web_url":"https:\/\/gitlab.com\/groups\/gitlab-org\/-\/milestones\/54"},"assignees":[{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"}],"author":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"type":"ISSUE","assignee":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"user_notes_count":5,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/263","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/263","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/263\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/263\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717","closed_as_duplicate_of":null},"references":{"short":"#263","relative":"#263","full":"gitlab-org\/gitlab-vscode-extension#263"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":73785128,"iid":260,"project_id":5261717,"title":"Consistent handling of remotes, instances and branches","description":"### Problem to solve\n\nWith the implementation of https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/merge_requests\/90 we started discovering several classes of errors related to parsing information about the workspace git repository.\n\nThe main issue is the complex edge cases that were never considered (sorted by how frequently they occur):\n\n- Mutiple remotes in one repository\n  - here we can get a remote that is not matching the defined `instanceUrl` (more details: https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/115#note_410341027)\n- Multi-root workspaces\n  - Which remote, `instanceUrl` and branch to use when there are multiple git repositories in one workspace?\n  - currently, we use the open file to find out what git repository should we use, but if there's no file open we have very inconsistent handling\n- Tracking branches\n  - sometimes we ask for [tracking branch](https:\/\/git-scm.com\/book\/en\/v2\/Git-Branching-Remote-Branches#_tracking_branches) which can again point to a different remote than what we use for rest of the requests\n\n### Proposal\n\nSeparate the current `GitService` into three modules with different responsibilities:\n\n- thin layer on top of the `git` shell command\n- instanceUrl service that would be responsible for matching git remotes and define tokens\n- GitLab-specific git logic (e.g. picking which remote to use based on an instanceUrl, creating GitLab API URL based on git remote)\n\nThe last service would return an object with the following attributes:\n\n- `apiUrl` - where to send API requests\n- `namespace` - group or username\n- `project` - project name\n- `branch` (optional) - remote branch (e.g. to query for active pipelines)\n\n\n### Further details\n\nThe main benefit of the proposed solution is that we would have certainty that our `instanceUrl` matches the `namespace`, `project`, and `branch` information. This would reduce hard to remove issues and it would improve the environment for contributors because the current edge-case ridden code is very hard to understand.\n\nWe also have two config options that override the aforementioned logic:\n\n```json\n\"gitlab.remoteName\": {\n  \"type\": \"string\",\n  \"default\": null,\n  \"description\": \"Name of the git remote to use in order to locate the Gitlab project\"\n},\n\"gitlab.pipelineGitRemoteName\": {\n  \"type\": \"string\",\n  \"default\": null,\n  \"description\": \"Name of the git remote to use in order to locate the Gitlab project for your pipeline. Keep empty for default\"\n},\n```\n\n### Links \/ references\n\n- https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/34\n- https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/71","state":"closed","created_at":1604396730677,"updated_at":1651578596224,"closed_at":1651578596213,"closed_by":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"labels":["Category:GitLab CLI","VS Code","devops::create","group::code review","section::dev","type::feature"],"milestone":null,"assignees":[],"author":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"type":"ISSUE","assignee":null,"user_notes_count":5,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/260","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/260","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/260\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/260\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717","closed_as_duplicate_of":null},"references":{"short":"#260","relative":"#260","full":"gitlab-org\/gitlab-vscode-extension#260"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":73753976,"iid":259,"project_id":5261717,"title":"403 Forbidden Error on Projects with Pipelines Disabled","description":"### Summary\n\nWhen configuring the Gitlab Workflow Plugin with a repo that has Pipelines Disabled, the extension tosses a 403 when viewing Merge Requests. Enabling Pipelines allows Merge Requests to once again be polled and return results as expected. Gitlab in this bug report is self-hosted v13.4.2-ee and not on Gitlab.com (not sure if that matters).\n\n### Steps to reproduce\n\n*Note: this happens on `gitlab.com` as well.*\n\n1. Setup on-prem (non-gitlab.com) personal access token\n2. Setup Settings to use the proper Gitlab Instance URL (gitlab.examplecompany.com)\n3. Find\/Create a repository with Merge Requests Enabled and Pipelines Disabled.\n    ![General___Settings___Tomas_Vik___test_project___GitLab](\/uploads\/425b823650eb8e1842a0a89269d10709\/General___Settings___Tomas_Vik___test_project___GitLab.png)\n4. Attempt to use the VSCode Plugin to view MRs but receive a 403\n    ![Screenshot_2020-11-04_at_2.14.00_PM](\/uploads\/afadc494c8f938192e0af93ed6d59d62\/Screenshot_2020-11-04_at_2.14.00_PM.png)\n\n### What is the current *bug* behavior?\n\n403 - Forbidden\n\n### What is the expected *correct* behavior?\n\nAbility to see Active\/Closed MRs, or MRs assigned to \"me\"\n\n### Relevant logs and\/or screenshots\n\n```\n403 - \"{\\\"message\\\":\\\"403 Forbidden\\\"}\"\nStatusCodeError: 403 - \"{\\\"message\\\":\\\"403 Forbidden\\\"}\"\n\tat new StatusCodeError (\/Users\/joel.vasallo\/.vscode\/extensions\/gitlab.gitlab-workflow-3.6.0\/node_modules\/request-promise-core\/lib\/errors.js:32:15)\n\tat \/Users\/joel.vasallo\/.vscode\/extensions\/gitlab.gitlab-workflow-3.6.0\/node_modules\/request-promise-core\/lib\/plumbing.js:97:41\n\tat tryCatcher (\/Users\/joel.vasallo\/.vscode\/extensions\/gitlab.gitlab-workflow-3.6.0\/node_modules\/bluebird\/js\/release\/util.js:16:23)\n\tat Promise._settlePromiseFromHandler (\/Users\/joel.vasallo\/.vscode\/extensions\/gitlab.gitlab-workflow-3.6.0\/node_modules\/bluebird\/js\/release\/promise.js:547:31)\n\tat Promise._settlePromise (\/Users\/joel.vasallo\/.vscode\/extensions\/gitlab.gitlab-workflow-3.6.0\/node_modules\/bluebird\/js\/release\/promise.js:604:18)\n\tat Promise._settlePromiseCtx (\/Users\/joel.vasallo\/.vscode\/extensions\/gitlab.gitlab-workflow-3.6.0\/node_modules\/bluebird\/js\/release\/promise.js:641:10)\n\tat _drainQueueStep (\/Users\/joel.vasallo\/.vscode\/extensions\/gitlab.gitlab-workflow-3.6.0\/node_modules\/bluebird\/js\/release\/async.js:97:12)\n\tat _drainQueue (\/Users\/joel.vasallo\/.vscode\/extensions\/gitlab.gitlab-workflow-3.6.0\/node_modules\/bluebird\/js\/release\/async.js:86:9)\n\tat Async._drainQueues (\/Users\/joel.vasallo\/.vscode\/extensions\/gitlab.gitlab-workflow-3.6.0\/node_modules\/bluebird\/js\/release\/async.js:102:5)\n\tat Immediate.Async.drainQueues [as _onImmediate] (\/Users\/joel.vasallo\/.vscode\/extensions\/gitlab.gitlab-workflow-3.6.0\/node_modules\/bluebird\/js\/release\/async.js:15:14)\n\tat processImmediate (internal\/timers.js:439:21)\n```\n\n### Possible fixes\n\nThe fix for now is to enable Pipelines in the project settings.\n\nThe [offending code in `current_branch.js`](https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/blob\/a03468d9e525fa9c9835fa8466e48646b8369f18\/src\/data_providers\/current_branch.js#L101-103):\n\n```js\n  async getChildren() {\n    try {\n      const workspaceFolder = await getCurrentWorkspaceFolder();\n      this.project = await gitLabService.fetchCurrentProject(workspaceFolder);\n      await this.fetchPipeline(workspaceFolder);\n      await this.fetchMR(workspaceFolder);\n      await this.fetchClosingIssue(workspaceFolder);\n    } catch (e) {\n      handleError(e);\n      this.children.push(new ErrorItem());\n    }\n\n    return this.children;\n  }\n```\n\nSince the fetching pipeline fails, the whole request fail. This code didn't consider that some of the calls could be still successful.","state":"closed","created_at":1604341569487,"updated_at":1607418436185,"closed_at":1607418436140,"closed_by":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"labels":["Category:GitLab CLI","Stretch","VS Code","devops::create","frontend","group::code review","priority::3","section::dev","severity::3","type::bug","workflow::production"],"milestone":{"id":1233757,"iid":54,"group_id":9970,"title":"13.7","description":"https:\/\/about.gitlab.com\/releases\/archives.html","state":"closed","created_at":"2020-04-09T17:43:14.893Z","updated_at":"2022-04-13T14:51:12.240Z","due_date":"2020-12-17","start_date":"2020-11-18","expired":true,"web_url":"https:\/\/gitlab.com\/groups\/gitlab-org\/-\/milestones\/54"},"assignees":[{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"}],"author":{"id":237959,"username":"jvasallo","name":"Joel Vasallo","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/237959\/avatar.png","web_url":"https:\/\/gitlab.com\/jvasallo"},"type":"ISSUE","assignee":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"user_notes_count":7,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/259","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/259","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/259\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/259\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717","closed_as_duplicate_of":null},"references":{"short":"#259","relative":"#259","full":"gitlab-org\/gitlab-vscode-extension#259"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":73586084,"iid":258,"project_id":5261717,"title":"Collecting MAU for GitLab Workflow (VS Code) Extension","description":"## Problem to Solve\n\nThe GitLab Workflow Extension is currently used outside of the main GitLab application and connects to GitLab instances via API to perform tasks. There is currently no standard way within GitLab to understand this usage and provide accurate usage statistics to aid in feature development, prioritization and continued investment in the extension.\n\n## Additional Details\n\nGitLab has a series of [performance indicators](https:\/\/about.gitlab.com\/handbook\/product\/performance-indicators\/#structure) based around AMU (Active Monthly Users). In many cases these are measured as aggregate counts of users who engage with certain features over a period of time. An example of this is for the ~\"group::editor\" [`Git write operations from web editors`](https:\/\/about.gitlab.com\/handbook\/product\/dev-section-performance-indicators\/#createeditor---gmau---mau-conducting-git-write-operations-from-web-editors) are measured.\n\n## Proposal\n\nIntercept some hook for all API calls or develop\/use a rack middleware. This way we could log usage in Redis using Product Analytics HLL (distinct counts) or regular count APIs.\n\n<details><summary>Old Proposal<\/summary>\n\n### Option 1\n\nWith the release of GitLab Workflow 3.6.0 a [User-Agent is included in all API requests](https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/238) that identifies the extension and the version. If log collection and importing of specific data was available in the Data Warehouse ([other](https:\/\/gitlab.com\/gitlab-data\/analytics\/-\/issues\/5305) [proposals](https:\/\/gitlab.com\/gitlab-data\/analytics\/-\/issues\/5200) suggesting log usage) we could aggregate logs based on this user agent. We would need some way to get additional data to identify users in aggregate and not specifically, but this could be a foundation for getting usage numbers.\n\n### Option 2\n\nIn an effort to [improve the onboarding flow](https:\/\/gitlab.com\/groups\/gitlab-org\/-\/epics\/4363) a proposal is being considered to [implement OAuth](https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/221) for using the extension. OAuth applications are [stored in the database](https:\/\/gitlab.com\/gitlab-org\/gitlab\/-\/blob\/master\/db\/structure.sql#L13981) of GitLab which would allow us to count the number of authorizations. **Lacking from this could be last used as that doesn't appear to be tracked.**\n\nAlso important is that the level of effort required for Option 2 might be [quite significant](https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/221#note_438407317) and is not the preferred path at this time.\n\n<\/details>","state":"closed","created_at":1603986101379,"updated_at":1642614398501,"closed_at":1613544510551,"closed_by":{"id":5918904,"username":"marc_shaw","name":"Marc Shaw","state":"active","avatar_url":"https:\/\/secure.gravatar.com\/avatar\/78c946cb19e40815a2b5d97cefecec6a?s=80&d=identicon","web_url":"https:\/\/gitlab.com\/marc_shaw"},"labels":["Category:GitLab CLI","Deliverable","devops::create","group::code review","product intelligence","section::dev","type::feature","workflow::in dev"],"milestone":{"id":1233760,"iid":56,"group_id":9970,"title":"13.9","description":"https:\/\/about.gitlab.com\/releases\/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.334Z","updated_at":"2022-04-21T07:21:28.468Z","due_date":"2021-02-17","start_date":"2021-01-18","expired":true,"web_url":"https:\/\/gitlab.com\/groups\/gitlab-org\/-\/milestones\/56"},"assignees":[{"id":5918904,"username":"marc_shaw","name":"Marc Shaw","state":"active","avatar_url":"https:\/\/secure.gravatar.com\/avatar\/78c946cb19e40815a2b5d97cefecec6a?s=80&d=identicon","web_url":"https:\/\/gitlab.com\/marc_shaw"}],"author":{"id":2935693,"username":"phikai","name":"Kai Armstrong","state":"active","avatar_url":"https:\/\/secure.gravatar.com\/avatar\/2c5d6a63b41cbeb3ea4cccda82e758e1?s=80&d=identicon","web_url":"https:\/\/gitlab.com\/phikai"},"type":"ISSUE","assignee":{"id":5918904,"username":"marc_shaw","name":"Marc Shaw","state":"active","avatar_url":"https:\/\/secure.gravatar.com\/avatar\/78c946cb19e40815a2b5d97cefecec6a?s=80&d=identicon","web_url":"https:\/\/gitlab.com\/marc_shaw"},"user_notes_count":44,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/258","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/258","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/258\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/258\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717","closed_as_duplicate_of":null},"references":{"short":"#258","relative":"#258","full":"gitlab-org\/gitlab-vscode-extension#258"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4948.0,"epic":{"id":147168,"iid":4948,"title":"The Great Code Review Instrumentation Epic","url":"\/groups\/gitlab-org\/-\/epics\/4948","group_id":9970,"human_readable_end_date":"Sep 17, 2021","human_readable_timestamp":"<strong>Past due<\/strong>"},"iteration":null,"health_status":null},{"id":73185897,"iid":257,"project_id":5261717,"title":"Can't respond in comment thread in webview for MR\/Issue","description":"## Problem to solve\n\nInside of Issues and Merge Requests you can comment in a new comment or via a threaded reply to a parent comment. The option to reply in a thread to a parent comment is not available inside of the webview for issues\/merge requests.\n\n![Screen_Shot_2020-10-22_at_12.13.09_PM](\/uploads\/6b7d158f17d3e5222e38ecc06f18c0be\/Screen_Shot_2020-10-22_at_12.13.09_PM.png)\n\n## Proposal\n\nThe ability to respond via a threaded reply should be added so that conversations can be properly tracked and resolved.","state":"closed","created_at":1603387012757,"updated_at":1610477990654,"closed_at":1610477990602,"closed_by":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"labels":["Category:GitLab CLI","Deliverable","VS Code","devops::create","frontend","group::code review","section::dev","type::feature","webview","workflow::in review"],"milestone":{"id":1233757,"iid":54,"group_id":9970,"title":"13.7","description":"https:\/\/about.gitlab.com\/releases\/archives.html","state":"closed","created_at":"2020-04-09T17:43:14.893Z","updated_at":"2022-04-13T14:51:12.240Z","due_date":"2020-12-17","start_date":"2020-11-18","expired":true,"web_url":"https:\/\/gitlab.com\/groups\/gitlab-org\/-\/milestones\/54"},"assignees":[{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"}],"author":{"id":2935693,"username":"phikai","name":"Kai Armstrong","state":"active","avatar_url":"https:\/\/secure.gravatar.com\/avatar\/2c5d6a63b41cbeb3ea4cccda82e758e1?s=80&d=identicon","web_url":"https:\/\/gitlab.com\/phikai"},"type":"ISSUE","assignee":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"user_notes_count":14,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/257","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/257","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/257\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/257\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717","closed_as_duplicate_of":null},"references":{"short":"#257","relative":"#257","full":"gitlab-org\/gitlab-vscode-extension#257"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4604.0,"epic":{"id":126240,"iid":4604,"title":"VS Code Webview Cleanup","url":"\/groups\/gitlab-org\/-\/epics\/4604","group_id":9970,"human_readable_end_date":"Jun 17, 2021","human_readable_timestamp":"<strong>Past due<\/strong>"},"iteration":null,"health_status":null},{"id":72274320,"iid":243,"project_id":5261717,"title":"Create POC for MR review feature","description":"### Problem to solve\n\nBefore we implement #53, we'd like to validate certain assumptions like:\n\n- GitLab API provides us with the MR diff file content and comments in an easy-to-consume format\n- VS Code Extension API allows for easy integration of the GitLab API results with the diff view\n\n### Proposal\n\nImplement POC that can:\n\n1. Show files that have been changed in the MR\n1. For each one of those files shows a diff view between merge-base and the MR branch\n1. Display comments from the MR diff\n1. Allow creating comments on the diff\n\n# Report from POC implementation\n\nThis report is a summary of the POC work. It will try to explain what uncertainties we've removed and discovered.\n\n![_Extension_Development_Host__-_test_js__MR____test-project_and_mr_item_js___gitlab-vscode-extension_and_zsh](https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/uploads\/e641142e889443c1118f8a5ab49a0f92\/_Extension_Development_Host__-_test_js__MR____test-project_and_mr_item_js___gitlab-vscode-extension_and_zsh.png)\n\n## Try it yourself\n\nStraight to the fun bit, try it yourself by installing the [packaged extension with POC](https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/raw\/mr-review-poc\/gitlab-workflow-3.6.0.vsix?inline=false) ([how to install](https:\/\/stackoverflow.com\/questions\/37071388\/how-can-i-install-visual-studio-code-extensions-offline))\n\n**Caveat: All MR refs (commits) need to be available locally (run `git pull` before trying the POC)**\n\nI've tested the POC on `gitlab-org\/gitlab` project and it seemed to work for most of the MR's.\n\nThe messy code is available in [`mr-review-poc` branch](https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/tree\/mr-review-poc).\n\n## Features:\n\n### File tree:\n\n![_Extension_Development_Host__-_index_md___gitlab](https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/uploads\/7dc75673aba70492f162abc2f095bf00\/_Extension_Development_Host__-_index_md___gitlab.png)\n\n#### Certainty overview\n\n- Dependencies available and working: **4\/5**\n  - REST API \u2705, GraphQL \u274c\n- VS Code API suits our needs: **4.5\/5**\n  - Only the Git Changed status indicator is unavailable to us.\n- The codebase is ready for implementation: **3\/5**\n  - Tree view cleanup necessary before starting\n\n#### Details\n\nThere is no custom UI involved; we are going to utilise the VS Code API.\n\nWe can get necessary information about the changed files from the REST API ([MR version](https:\/\/docs.gitlab.com\/ee\/api\/merge_requests.html#get-a-single-mr-diff-version)). The GraphQL API can't provide us with the necessary information (https:\/\/gitlab.com\/gitlab-org\/gitlab\/-\/issues\/280803).\n\nCreating the file tree seems straight forward, the only thing I wasn't able to achieve vas to show the Git Changed status indicator:\n\n![_Extension_Development_Host__-_snippet_blob_actions_edit_vue___gitlab](https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/uploads\/3637bb847c89d94b70cc4157bdf9c3b7\/_Extension_Development_Host__-_snippet_blob_actions_edit_vue___gitlab.png)\n\nThe API seems not to be officially exposed.\n\nWhen talking about the design, we'll have to decide between two ways of showing the changes:\n\n| Tree | Path in the item detail |\n| ------ | ------ |\n| ![constants_ts___gitlab-vscode-extension](https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/uploads\/bc8cbe08ad4bc90054dca50a6ce9a525\/constants_ts___gitlab-vscode-extension.png) | ![constants_ts___gitlab-vscode-extension](https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/uploads\/436d38db17c1a2d0d980c53a9eaabc43\/constants_ts___gitlab-vscode-extension.png) |\n\n#### Known issues and uncertainty\n\n- The current code ([issuable.js](https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/blob\/main\/src\/data_providers\/issuable.js) and [sidebar\\_tree\\_item.js](https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/blob\/main\/src\/data_providers\/sidebar_tree_item.js) will need a cleanup before we can start build on topo of it.\n- We'll probably always work with the last MR version and will ignore the intermediate versions.\n- We might want to start showing Merge Requests differently from issues in the Tree View. Also we might want to choose icons for all tree items.\n\n### File Diff View\n\n![_Extension_Development_Host__-_terraform_list_vue__MR____gitlab_and_Add__Ability_to_chec______gitlab-vscode-extension_and_zsh](https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/uploads\/8731b1c3adb85de00977d0a4edbfdeb5\/_Extension_Development_Host__-_terraform_list_vue__MR____gitlab_and_Add__Ability_to_chec______gitlab-vscode-extension_and_zsh.png)\n\n#### Certainty overview\n\n- Dependencies available and working: **3\/5**\n  - fetching remote content has not been tested\n- VS Code API suits our needs: **5\/5**\n- The codebase is ready for implementation: **2\/5**\n  - It would be best to slowly shift Git related responsibility to VS Code (instead of running shell command)\n\n#### Details\n\nVS Code provides us with the diff functionality, the only thing we do is defining a custom document URI and then implement content providers for that URI.\n\nUri:\n\n```\n\"gl-review:\/\/authority\/app\/assets\/javascripts\/terraform\/graphql\/queries\/get_states.query.graphql?commit%3D5fa9332d0cedb98b0095b34d01470e419d3a98ba%26workspace%3D%2FUsers%2Ftomas%2Fworkspace%2Fgitlab%2Fgitlab-development-kit%2Fgitlab%26version%3Dbase\"\n```\n\nWhen VS Code tries to open our URI, it will invoke our content provider, which returns a `string` content of the file. The POC implements only the local git content provider, which means that the file version (correct commit) needs to be in the local git repository. The proper implementation is going to implement a fallback provider which will fetch the content from the API.\n\n```mermaid\ngraph LR\nA[VS Code] -- \"gl-review: URI\" --> B[LocalGitContentProvider]\nB --> C[RemoteApiContentProvider]\n```\n\nThe future-proof way to interact with `git` is to use the VS Code core extension for Git (originally suggested in !54). It is how most of git-related extensions work. The added benefit is that everything git related (VS Code VCS view, other extensions, our extension) is going to be in sync. This will require a bit of plumbing implementation, potentially overlapping with [Consistent handling of remotes, instances and branches](https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/260).\n\n#### Known issues and uncertainty\n\n- I haven't implemented the API file content provider and so we don't have 100% certainty that we can retrieve the content.\n- I'm not sure how are we going to react to remote changes. For example, when the user refreshes the file tree and all of a sudden the displayed diff doesn't correspond with the latest version.\n- I'm not sure if there is a difference in how we'll use API to fetch file content from forked projects\n- **Images** - VS Code can show images in tabs, but the POC haven't done any exploration of how that works.\n\n### Showing existing comments\n\n![_Extension_Development_Host__-_test_js__MR____test-project](https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/uploads\/53a54bf961c2845edf5d527771348e5a\/_Extension_Development_Host__-_test_js__MR____test-project.png)\n\n#### Certainty overview\n\n- Dependencies available and working: **5\/5**\n- VS Code API suits our needs: **4\/5**\n  - GitLab-specific highlighting like #243, !54 and @viktomas is not going to work\n  - images and advanced Markdown syntax (mermaidjs) is not working out of the box and maybe not at all\n- The codebase is ready for implementation: **5\/5**\n  - This is going to be a greenfield development.\n\n#### Details\n\nThis feature is going to use GraphQL, so far it seems to be the only endpoint that's going to work out of the box.\n\n<details>\n<summary>See the full GrapQL query<\/summary>\n\n```graphql\n query GetDiscussions($projectPath: ID!, $iid: String!) {\n    project(fullPath: $projectPath) {\n      mergeRequest(iid: $iid) {\n        discussions {\n          nodes {\n            notes {\n              nodes {\n                body\n                author {\n                  name\n                  avatarUrl\n                }\n                position {\n                  diffRefs {\n                    baseSha\n                    headSha\n                  }\n                  filePath\n                  positionType\n                  newLine\n                  oldLine\n                  newPath\n                  oldPath\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n```\n\n<\/details>\n\nThe VS Code API allows us to add comments for our custom URI. This seems to work really well (and potentially handles automatically comments on outdated diffs). Each comment has a `body` (markdown string) and Author information. We create the commits as follows:\n\n```js\ncommentController.createCommentThread(\n  getReviewUri({\n    path,\n    commit,\n    workspace: this.projectUri,\n    version: old ? 'base' : 'head',\n  }),\n  new vscode.Range(vsPosition, vsPosition),\n  comments,\n);\n```\n\n#### Known issues and uncertainty\n\n- **I assumed the following about the GrapQL response**\n  - Each GitLab comment has a `diffRefs` and I assume they always point to the latest MR version (even if the comment was made on the previous version).\n- The POC didn't validate editing or deleting existing comments. \n- Reactions to the comments are possible but weren't part of the POC.\n- As mentioned in the \"Certainty overview\", some markdown might be not rendering correctly\n- The comments can range over multiple files (according to the API) but it hasn't been tested\n\n### \u26a0\ufe0fCreating new review comments\u26a0\ufe0f\n\n![pullRequestNode_ts__Pull_Request____vscode-pull-request-github](https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/uploads\/d9dcfad2c415cfd1e651592733fbd400\/pullRequestNode_ts__Pull_Request____vscode-pull-request-github.png)\n\n#### Certainty overview\n\n- Dependencies available and working: **1\/5**\n  - I wasn't able to reliably create a comment (note) on GitLab MR through our API.\n- VS Code API suits our needs: **3\/5**\n  - It should because other extensions work, but parts of the API are not officially documented.\n- The codebase is ready for implementation: **5\/5**\n  - This is going to be a greenfield development.\n\n#### Details\n\nFirst, we tell the VS Code where in the file can we create comments. VS Code provides an API for that: [CommentingRangeProvider](https:\/\/code.visualstudio.com\/api\/references\/vscode-api#CommentingRangeProvider). This provider gets a URI and returns ranges of lines where it is possible to comment.\n\nMy understanding is that on an MR Diff, we can comment on any (even not changed) line in the left-hand side of the diff and only on changed lines in the right-hand side:\n\n![Update_test_js_take_2___2____Merge_Requests___Tomas_Vik___test_project___GitLab](https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/uploads\/5872be9dc8cd3e79bfa6b32adc34ffc7\/Update_test_js_take_2___2____Merge_Requests___Tomas_Vik___test_project___GitLab.png)\n\nWhen we have the commenting ranges, the user can click on the commenting gutter and start a comment:\n\n![_Extension_Development_Host__-_test_js__MR____test-project](https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/uploads\/3cb38bd8a5b1a7ac572c22b4a562d38d\/_Extension_Development_Host__-_test_js__MR____test-project.png)\n\nThe buttons on the comment are custom defined and can have arbitrary functionality (Comment now, Add to review). This configuration is done in [package.json](https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/blob\/mr-review-poc\/package.json#L142) and **it is not officially documented**.\n\n#### GitLab API problem\n\nWe are not dogfooding our REST or GraphQL APIs for our code review on GitLab website. I wasn't able to create a new comment through our API in two days. Partly because I'm unfamiliar with the domain and partly because the documentation is quite brief. I faced several bugs (https:\/\/gitlab.com\/gitlab-org\/gitlab\/-\/issues\/281143 and one similar to https:\/\/gitlab.com\/gitlab-org\/gitlab\/-\/issues\/37066) that I need to debug further before I can report them.\n\nWithout further investigation, I can't tell whether there is a way of implementing creating comments from VS Code or whether we need to implement\/update\/fix API endpoints first.\n\n#### Known issues and uncertainty\n\n- The POC didn't implement adding comments and so there is large uncertainty.\n- I'm also not familiar with the MR Review workflows to be able to foresee any edge cases.\n- Large part of the comment functionality is undocumented and we might result in using [vscode-pull-request-github](https:\/\/github.com\/microsoft\/vscode-pull-request-github) as documentation (it's good that it is under MIT license).\n\n### Local git manipulation (e.g. Check out MR branch)\n\nI wasn't able to include this in POC.\n<!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION -->\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n<!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION -->","state":"closed","created_at":1602007502340,"updated_at":1682503198040,"closed_at":1605260112287,"closed_by":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"labels":["Category:GitLab CLI","Deliverable","VS Code","devops::create","direction","frontend","group::ide","mr-review","section::dev","type::feature","workflow::in dev"],"milestone":{"id":1233755,"iid":53,"group_id":9970,"title":"13.6","description":"https:\/\/about.gitlab.com\/releases\/2020\/11\/22\/gitlab-13-6-released\/","state":"closed","created_at":"2020-04-09T17:39:22.328Z","updated_at":"2022-04-13T14:51:04.376Z","due_date":"2020-11-17","start_date":"2020-10-18","expired":true,"web_url":"https:\/\/gitlab.com\/groups\/gitlab-org\/-\/milestones\/53"},"assignees":[{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"}],"author":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"type":"ISSUE","assignee":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"user_notes_count":17,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/243","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/243","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/243\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/243\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717","closed_as_duplicate_of":null},"references":{"short":"#243","relative":"#243","full":"gitlab-org\/gitlab-vscode-extension#243"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4607.0,"epic":{"id":126339,"iid":4607,"title":"Merge Request Reviews in VS Code","url":"\/groups\/gitlab-org\/-\/epics\/4607","group_id":9970,"human_readable_end_date":"Jul 17, 2021","human_readable_timestamp":"<strong>Past due<\/strong>"},"iteration":null,"health_status":null},{"id":72030889,"iid":239,"project_id":5261717,"title":"The \"Select a Gitlab Project\" dialog gets stuck in a perpetual loop","description":"### Summary\n\nI have a workspace with three GitLab projects in it. Sometimes when using the \"Create a new merge request...\" action, it stalls for a few seconds and then the \"Select a Gitlab Project\" dialog opens, but no amount of interacting with the dialog will get it to go away and complete the action.\n\n* MacOS 10.15.6\n* VSCode 1.49.2\n* GL extension: 3.3.0\n* GL host\/plan: Ultimate\n\n### Steps to reproduce\n\n1. Open a [Multi-root workspace](https:\/\/code.visualstudio.com\/docs\/editor\/multi-root-workspaces)\n1. Open a non-project editor tab (easiest might be to open any extension page from the extension side panel, @joel.schou recommends diff view)\n1. Use the keyboard command to open the Command Palette\n1. Find \"GitLab: Create new merge request on current project\" and hit Enter\n1. Wait for the \"Select a Gitlab Project\" dialog\n1. Choose a project\n\n<details>\n<summary>Original steps<\/summary>\n\n1. Add at least two projects to a single workspace\n1. Make changes in one and commit the files locally, then push your branch up\n1. Have a file open in the DIFF view \ud83d\udc48 **Edit: this might be the key**\n1. Use the keyboard command to open the Command Palette\n1. Find \"Create a new merge request...\" and hit Enter\n1. Wait for the \"Select a Gitlab Project\" dialog\n1. Choose a project\n\n<\/details>\n\nThis doesn't happen every time I use \"Create a new merge request...\". Sometimes the extension makes a wise guess at the project I want it to choose and opens the new MR screen in GitLab. Other times the dialog comes up immediately and I can successfully choose the project. In the past couple days, though, I've been stuck in this loop.\n\n### What is the current *bug* behavior?\n\nThe extension stops working. After some time the \"Select a Gitlab Project\" dialog will show and it will not go away for good. Trying to escape from it or select a project on it simply closes it and then brings it back.\n\n### What is the expected *correct* behavior?\n\nI should be able to use the dialog as normal.\n\n### Relevant logs and\/or screenshots\n\nI cannot get at the logs because any time the dialog loses focus, it closes and immediately opens again, stealing focus.\n\n![Kapture_2020-10-05_at_11.47.33](\/uploads\/74a4a88808631a4166ac4f4d9f1a1f00\/Kapture_2020-10-05_at_11.47.33.gif)\n\n<details>\n<summary>Logs<\/summary>\n\n```\nCommand failed with exit code 128: git ls-remote --get-url\nfatal: No remote configured to list refs from.\nError: Command failed with exit code 128: git ls-remote --get-url\nfatal: No remote configured to list refs from.\n\tat makeError (\/Users\/tomas\/workspace\/code\/gitlab-vscode-extension\/node_modules\/execa\/lib\/error.js:59:11)\n\tat handlePromise (\/Users\/tomas\/workspace\/code\/gitlab-vscode-extension\/node_modules\/execa\/index.js:114:26)\n\tat runMicrotasks (<anonymous>)\n\tat processTicksAndRejections (internal\/process\/task_queues.js:94:5)\n\tat async GitService._fetch (\/Users\/tomas\/workspace\/code\/gitlab-vscode-extension\/src\/git_service.js:31:26)\n\tat async GitService._fetchRemoteUrl (\/Users\/tomas\/workspace\/code\/gitlab-vscode-extension\/src\/git_service.js:51:21)\n\tat async GitService.fetchGitRemote (\/Users\/tomas\/workspace\/code\/gitlab-vscode-extension\/src\/git_service.js:65:12)\n\tat async fetchCurrentProject (\/Users\/tomas\/workspace\/code\/gitlab-vscode-extension\/src\/gitlab_service.js:160:20)\n\tat async Promise.all (index 1)\n\tat async Object.getAllGitlabProjects (\/Users\/tomas\/workspace\/code\/gitlab-vscode-extension\/src\/gitlab_service.js:228:20)\n\tat async Object.showPicker [as show] (\/Users\/tomas\/workspace\/code\/gitlab-vscode-extension\/src\/gitlab_project_input.js:5:34)\n\tat async getCurrentWorkspaceFolderOrSelectOne (\/Users\/tomas\/workspace\/code\/gitlab-vscode-extension\/src\/gitlab_service.js:52:23)\n\tat async fetch (\/Users\/tomas\/workspace\/code\/gitlab-vscode-extension\/src\/gitlab_service.js:63:5)\n\tat async fetchProjectData (\/Users\/tomas\/workspace\/code\/gitlab-vscode-extension\/src\/gitlab_service.js:148:28)\n\tat async fetchCurrentProject (\/Users\/tomas\/workspace\/code\/gitlab-vscode-extension\/src\/gitlab_service.js:162:12)\n\tat async Promise.all (index 2)\n\tat async Object.getAllGitlabProjects (\/Users\/tomas\/workspace\/code\/gitlab-vscode-extension\/src\/gitlab_service.js:228:20)\n\tat async Object.showPicker [as show] (\/Users\/tomas\/workspace\/code\/gitlab-vscode-extension\/src\/gitlab_project_input.js:5:34)\n\tat async getCurrentWorkspaceFolderOrSelectOne (\/Users\/tomas\/workspace\/code\/gitlab-vscode-extension\/src\/gitlab_service.js:52:23)\n\tat async fetch (\/Users\/tomas\/workspace\/code\/gitlab-vscode-extension\/src\/gitlab_service.js:63:5)\n\tat async fetchProjectData (\/Users\/tomas\/workspace\/code\/gitlab-vscode-extension\/src\/gitlab_service.js:148:28)\n\tat async fetchCurrentProject (\/Users\/tomas\/workspace\/code\/gitlab-vscode-extension\/src\/gitlab_service.js:162:12)\n\tat async Promise.all (index 2)\n\tat async Object.getAllGitlabProjects (\/Users\/tomas\/workspace\/code\/gitlab-vscode-extension\/src\/gitlab_service.js:228:20)\n\tat async Object.showPicker [as show] (\/Users\/tomas\/workspace\/code\/gitlab-vscode-extension\/src\/gitlab_project_input.js:5:34)\n\tat async getCurrentWorkspaceFolderOrSelectOne (\/Users\/tomas\/workspace\/code\/gitlab-vscode-extension\/src\/gitlab_service.js:52:23)\n\tat async fetch (\/Users\/tomas\/workspace\/code\/gitlab-vscode-extension\/src\/gitlab_service.js:63:5)\n\tat async fetchProjectData (\/Users\/tomas\/workspace\/code\/gitlab-vscode-extension\/src\/gitlab_service.js:148:28)\n\tat async fetchCurrentProject (\/Users\/tomas\/workspace\/code\/gitlab-vscode-extension\/src\/gitlab_service.js:162:12)\n\tat async Promise.all (index 2)\n\tat async Object.getAllGitlabProjects (\/Users\/tomas\/workspace\/code\/gitlab-vscode-extension\/src\/gitlab_service.js:228:20)\n\tat async Object.showPicker [as show] (\/Users\/tomas\/workspace\/code\/gitlab-vscode-extension\/src\/gitlab_project_input.js:5:34)\n\tat async getCurrentWorkspaceFolderOrSelectOne (\/Users\/tomas\/workspace\/code\/gitlab-vscode-extension\/src\/gitlab_service.js:52:23)\n\tat async fetch (\/Users\/tomas\/workspace\/code\/gitlab-vscode-extension\/src\/gitlab_service.js:63:5)\n\tat async fetchProjectData (\/Users\/tomas\/workspace\/code\/gitlab-vscode-extension\/src\/gitlab_service.js:148:28)\n\tat async fetchCurrentProject (\/Users\/tomas\/workspace\/code\/gitlab-vscode-extension\/src\/gitlab_service.js:162:12)\n\tat async Promise.all (index 2)\n\tat async Object.getAllGitlabProjects (\/Users\/tomas\/workspace\/code\/gitlab-vscode-extension\/src\/gitlab_service.js:228:20)\n\tat async Object.showPicker [as show] (\/Users\/tomas\/workspace\/code\/gitlab-vscode-extension\/src\/gitlab_project_input.js:5:34)\n\tat async getCurrentWorkspaceFolderOrSelectOne (\/Users\/tomas\/workspace\/code\/gitlab-vscode-extension\/src\/gitlab_service.js:52:23)\n\tat async fetch (\/Users\/tomas\/workspace\/code\/gitlab-vscode-extension\/src\/gitlab_service.js:63:5)\n\tat async fetchProjectData (\/Users\/tomas\/workspace\/code\/gitlab-vscode-extension\/src\/gitlab_service.js:148:28)\n\tat async fetchCurrentProject (\/Users\/tomas\/workspace\/code\/gitlab-vscode-extension\/src\/gitlab_service.js:162:12)\n\tat async Promise.all (index 2)\n\tat async Object.getAllGitlabProjects (\/Users\/tomas\/workspace\/code\/gitlab-vscode-extension\/src\/gitlab_service.js:228:20)\n\tat async Object.showPicker [as show] (\/Users\/tomas\/workspace\/code\/gitlab-vscode-extension\/src\/gitlab_project_input.js:5:34)\n\tat async getCurrentWorkspaceFolderOrSelectOne (\/Users\/tomas\/workspace\/code\/gitlab-vscode-extension\/src\/gitlab_service.js:52:23)\n\tat async fetch (\/Users\/tomas\/workspace\/code\/gitlab-vscode-extension\/src\/gitlab_service.js:63:5)\n\tat async fetchProjectData (\/Users\/tomas\/workspace\/code\/gitlab-vscode-extension\/src\/gitlab_service.js:148:28)\n\tat async fetchCurrentProject (\/Users\/tomas\/workspace\/code\/gitlab-vscode-extension\/src\/gitlab_service.js:162:12)\n\tat async Promise.all (index 2)\n\tat async Object.getAllGitlabProjects (\/Users\/tomas\/workspace\/code\/gitlab-vscode-extension\/src\/gitlab_service.js:228:20)\n\tat async Object.showPicker [as show] (\/Users\/tomas\/workspace\/code\/gitlab-vscode-extension\/src\/gitlab_project_input.js:5:34)\n\tat async getCurrentWorkspaceFolderOrSelectOne (\/Users\/tomas\/workspace\/code\/gitlab-vscode-extension\/src\/gitlab_service.js:52:23)\n\tat async fetch (\/Users\/tomas\/workspace\/code\/gitlab-vscode-extension\/src\/gitlab_service.js:63:5)\n\tat async fetchProjectData (\/Users\/tomas\/workspace\/code\/gitlab-vscode-extension\/src\/gitlab_service.js:148:28)\n\tat async fetchCurrentProject (\/Users\/tomas\/workspace\/code\/gitlab-vscode-extension\/src\/gitlab_service.js:162:12)\n\tat async Promise.all (index 2)\n\tat async Object.getAllGitlabProjects (\/Users\/tomas\/workspace\/code\/gitlab-vscode-extension\/src\/gitlab_service.js:228:20)\n\tat async Object.showPicker [as show] (\/Users\/tomas\/workspace\/code\/gitlab-vscode-extension\/src\/gitlab_project_input.js:5:34)\n\tat async getCurrentWorkspaceFolderOrSelectOne (\/Users\/tomas\/workspace\/code\/gitlab-vscode-extension\/src\/gitlab_service.js:52:23)\n\tat async fetch (\/Users\/tomas\/workspace\/code\/gitlab-vscode-extension\/src\/gitlab_service.js:63:5)\n\tat async fetchProjectData (\/Users\/tomas\/workspace\/code\/gitlab-vscode-extension\/src\/gitlab_service.js:148:28)\n\tat async fetchCurrentProject (\/Users\/tomas\/workspace\/code\/gitlab-vscode-extension\/src\/gitlab_service.js:162:12)\n\tat async Promise.all (index 2)\n\tat async Object.getAllGitlabProjects (\/Users\/tomas\/workspace\/code\/gitlab-vscode-extension\/src\/gitlab_service.js:228:20)\n\tat async Object.showPicker [as show] (\/Users\/tomas\/workspace\/code\/gitlab-vscode-extension\/src\/gitlab_project_input.js:5:34)\n\tat async getCurrentWorkspaceFolderOrSelectOne (\/Users\/tomas\/workspace\/code\/gitlab-vscode-extension\/src\/gitlab_service.js:52:23)\n\tat async fetch (\/Users\/tomas\/workspace\/code\/gitlab-vscode-extension\/src\/gitlab_service.js:63:5)\n\tat async fetchProjectData (\/Users\/tomas\/workspace\/code\/gitlab-vscode-extension\/src\/gitlab_service.js:148:28)\n\tat async fetchCurrentProject (\/Users\/tomas\/workspace\/code\/gitlab-vscode-extension\/src\/gitlab_service.js:162:12)\n\tat async Promise.all (index 2)\n\tat async Object.getAllGitlabProjects (\/Users\/tomas\/workspace\/code\/gitlab-vscode-extension\/src\/gitlab_service.js:228:20)\n\tat async Object.showPicker [as show] (\/Users\/tomas\/workspace\/code\/gitlab-vscode-extension\/src\/gitlab_project_input.js:5:34)\n\tat async Object.getCurrentWorkspaceFolderOrSelectOne (\/Users\/tomas\/workspace\/code\/gitlab-vscode-extension\/src\/gitlab_service.js:52:23)\n\tat async openCreateNewMr (\/Users\/tomas\/workspace\/code\/gitlab-vscode-extension\/src\/openers.js:112:27)\n\tat async \/Users\/tomas\/workspace\/code\/gitlab-vscode-extension\/src\/extension.js:29:5\nCommand failed with exit code 128: git ls-remote --get-url\nfatal: No remote configured to list refs from.\nError: Command failed with exit code 128: git ls-remote --get-url\nfatal: No remote configured to list refs from.\n\tat makeError (\/Users\/tomas\/workspace\/code\/gitlab-vscode-extension\/node_modules\/execa\/lib\/error.js:59:11)\n\tat handlePromise (\/Users\/tomas\/workspace\/code\/gitlab-vscode-extension\/node_modules\/execa\/index.js:114:26)\n\tat runMicrotasks (<anonymous>)\n\tat processTicksAndRejections (internal\/process\/task_queues.js:94:5)\n\tat async GitService._fetch (\/Users\/tomas\/workspace\/code\/gitlab-vscode-extension\/src\/git_service.js:31:26)\n\tat async GitService._fetchRemoteUrl (\/Users\/tomas\/workspace\/code\/gitlab-vscode-extension\/src\/git_service.js:51:21)\n\tat async GitService.fetchGitRemote (\/Users\/tomas\/workspace\/code\/gitlab-vscode-extension\/src\/git_service.js:65:12)\n\tat async fetchCurrentProject (\/Users\/tomas\/workspace\/code\/gitlab-vscode-extension\/src\/gitlab_service.js:160:20)\n\tat async Promise.all (index 1)\n\tat async Object.getAllGitlabProjects (\/Users\/tomas\/workspace\/code\/gitlab-vscode-extension\/src\/gitlab_service.js:228:20)\n\tat async Object.showPicker [as show] (\/Users\/tomas\/workspace\/code\/gitlab-vscode-extension\/src\/gitlab_project_input.js:5:34)\n\tat async getCurrentWorkspaceFolderOrSelectOne (\/Users\/tomas\/workspace\/code\/gitlab-vscode-extension\/src\/gitlab_service.js:52:23)\n\tat async fetch (\/Users\/tomas\/workspace\/code\/gitlab-vscode-extension\/src\/gitlab_service.js:63:5)\n\tat async fetchProjectData (\/Users\/tomas\/workspace\/code\/gitlab-vscode-extension\/src\/gitlab_service.js:148:28)\n\tat async fetchCurrentProject (\/Users\/tomas\/workspace\/code\/gitlab-vscode-extension\/src\/gitlab_service.js:162:12)\n\tat async Promise.all (index 1)\n\tat async Object.getAllGitlabProjects (\/Users\/tomas\/workspace\/code\/gitlab-vscode-extension\/src\/gitlab_service.js:228:20)\n\tat async Object.showPicker [as show] (\/Users\/tomas\/workspace\/code\/gitlab-vscode-extension\/src\/gitlab_project_input.js:5:34)\n\tat async getCurrentWorkspaceFolderOrSelectOne (\/Users\/tomas\/workspace\/code\/gitlab-vscode-extension\/src\/gitlab_service.js:52:23)\n\tat async fetch (\/Users\/tomas\/workspace\/code\/gitlab-vscode-extension\/src\/gitlab_service.js:63:5)\n\tat async fetchProjectData (\/Users\/tomas\/workspace\/code\/gitlab-vscode-extension\/src\/gitlab_service.js:148:28)\n\tat async fetchCurrentProject (\/Users\/tomas\/workspace\/code\/gitlab-vscode-extension\/src\/gitlab_service.js:162:12)\n\tat async Promise.all (index 1)\n\tat async Object.getAllGitlabProjects (\/Users\/tomas\/workspace\/code\/gitlab-vscode-extension\/src\/gitlab_service.js:228:20)\n\tat async Object.showPicker [as show] (\/Users\/tomas\/workspace\/code\/gitlab-vscode-extension\/src\/gitlab_project_input.js:5:34)\n\tat async getCurrentWorkspaceFolderOrSelectOne (\/Users\/tomas\/workspace\/code\/gitlab-vscode-extension\/src\/gitlab_service.js:52:23)\n\tat async fetch (\/Users\/tomas\/workspace\/code\/gitlab-vscode-extension\/src\/gitlab_service.js:63:5)\n\tat async fetchProjectData (\/Users\/tomas\/workspace\/code\/gitlab-vscode-extension\/src\/gitlab_service.js:148:28)\n\tat async fetchCurrentProject (\/Users\/tomas\/workspace\/code\/gitlab-vscode-extension\/src\/gitlab_service.js:162:12)\n\tat async Promise.all (index 1)\n\tat async Object.getAllGitlabProjects (\/Users\/tomas\/workspace\/code\/gitlab-vscode-extension\/src\/gitlab_service.js:228:20)\n\tat async Object.showPicker [as show] (\/Users\/tomas\/workspace\/code\/gitlab-vscode-extension\/src\/gitlab_project_input.js:5:34)\n\tat async getCurrentWorkspaceFolderOrSelectOne (\/Users\/tomas\/workspace\/code\/gitlab-vscode-extension\/src\/gitlab_service.js:52:23)\n\tat async fetch (\/Users\/tomas\/workspace\/code\/gitlab-vscode-extension\/src\/gitlab_service.js:63:5)\n\tat async fetchProjectData (\/Users\/tomas\/workspace\/code\/gitlab-vscode-extension\/src\/gitlab_service.js:148:28)\n\tat async fetchCurrentProject (\/Users\/tomas\/workspace\/code\/gitlab-vscode-extension\/src\/gitlab_service.js:162:12)\n\tat async Promise.all (index 1)\n\tat async Object.getAllGitlabProjects (\/Users\/tomas\/workspace\/code\/gitlab-vscode-extension\/src\/gitlab_service.js:228:20)\n\tat async Object.showPicker [as show] (\/Users\/tomas\/workspace\/code\/gitlab-vscode-extension\/src\/gitlab_project_input.js:5:34)\n\tat async getCurrentWorkspaceFolderOrSelectOne (\/Users\/tomas\/workspace\/code\/gitlab-vscode-extension\/src\/gitlab_service.js:52:23)\n\tat async fetch (\/Users\/tomas\/workspace\/code\/gitlab-vscode-extension\/src\/gitlab_service.js:63:5)\n\tat async fetchProjectData (\/Users\/tomas\/workspace\/code\/gitlab-vscode-extension\/src\/gitlab_service.js:148:28)\n\tat async fetchCurrentProject (\/Users\/tomas\/workspace\/code\/gitlab-vscode-extension\/src\/gitlab_service.js:162:12)\n\tat async Promise.all (index 1)\n\tat async Object.getAllGitlabProjects (\/Users\/tomas\/workspace\/code\/gitlab-vscode-extension\/src\/gitlab_service.js:228:20)\n\tat async Object.showPicker [as show] (\/Users\/tomas\/workspace\/code\/gitlab-vscode-extension\/src\/gitlab_project_input.js:5:34)\n\tat async Object.getCurrentWorkspaceFolderOrSelectOne (\/Users\/tomas\/workspace\/code\/gitlab-vscode-extension\/src\/gitlab_service.js:52:23)\n\tat async openCreateNewMr (\/Users\/tomas\/workspace\/code\/gitlab-vscode-extension\/src\/openers.js:112:27)\n\tat async \/Users\/tomas\/workspace\/code\/gitlab-vscode-extension\/src\/extension.js:29:5\n```\n\n<\/details>\n\n### Possible fixes\n\n \u00af\\\uff3f(\u30c4)\uff3f\/\u00af\n\n- Break the circular dependency between `gitlabProjectInput.show()` and `gitlab_service`.\n\n### Workaround\n\n- Always have a project file open in the editor when running GitLab Workflow commands.\n- The best option for using multi-root workspaces might be downgrading to [`3.2.1`](https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/blob\/main\/CHANGELOG.md#321-2020-08-31) (previous version) until a fix is released.\n\n![Screenshot_2020-10-05_at_12.10.07_PM](\/uploads\/e1ab63715c1ab173440b174fd320102c\/Screenshot_2020-10-05_at_12.10.07_PM.png)","state":"closed","created_at":1601570496586,"updated_at":1682503195820,"closed_at":1603106968553,"closed_by":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"labels":["Category:GitLab CLI","VS Code","devops::create","group::ide","priority::3","section::dev","severity::3","type::bug"],"milestone":{"id":1233754,"iid":52,"group_id":9970,"title":"13.5","description":"https:\/\/about.gitlab.com\/releases\/2020\/10\/22\/gitlab-13-5-released\/","state":"closed","created_at":"2020-04-09T17:39:21.990Z","updated_at":"2022-04-21T07:21:12.213Z","due_date":"2020-10-17","start_date":"2020-09-18","expired":true,"web_url":"https:\/\/gitlab.com\/groups\/gitlab-org\/-\/milestones\/52"},"assignees":[],"author":{"id":1615036,"username":"joel.schou","name":"Joel Schou","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/1615036\/avatar.png","web_url":"https:\/\/gitlab.com\/joel.schou"},"type":"ISSUE","assignee":null,"user_notes_count":10,"merge_requests_count":1,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/239","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/239","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/239\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/239\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717","closed_as_duplicate_of":null},"references":{"short":"#239","relative":"#239","full":"gitlab-org\/gitlab-vscode-extension#239"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":71639849,"iid":238,"project_id":5261717,"title":"Include User-Agent to all API requests","description":"### Problem to solve\n\nWe don't know how many of our users are using the extension and we managed to push some extension changes in the past that started hitting GitLab.com API hard (https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/211)\n\n### Proposal\n\nInclude [User-Agent header](https:\/\/developer.mozilla.org\/en-US\/docs\/Web\/HTTP\/Headers\/User-Agent) to all API requests made by the extension. This way we'll be able to see how many requests are coming from the extension.\n\n```User-Agent: vs-code-gitlab-workflow\/${packageJson.version}```\n\n### Further details\n\n<!-- Include examples, use cases, benefits, goals, or any other details that will help us understand the problem better. -->\n\n### Links \/ references\n\nFor GitLab team members, the access logs can be seen in https:\/\/log.gprd.gitlab.net\/app\/kibana","state":"closed","created_at":1600962534308,"updated_at":1682503196950,"closed_at":1603718871605,"closed_by":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"labels":["Category:GitLab CLI","Deliverable","VS Code","[deprecated] Accepting merge requests","devops::create","frontend","group::ide","section::dev","type::feature","workflow::production"],"milestone":{"id":1233755,"iid":53,"group_id":9970,"title":"13.6","description":"https:\/\/about.gitlab.com\/releases\/2020\/11\/22\/gitlab-13-6-released\/","state":"closed","created_at":"2020-04-09T17:39:22.328Z","updated_at":"2022-04-13T14:51:04.376Z","due_date":"2020-11-17","start_date":"2020-10-18","expired":true,"web_url":"https:\/\/gitlab.com\/groups\/gitlab-org\/-\/milestones\/53"},"assignees":[{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"}],"author":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"type":"ISSUE","assignee":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/238","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/238","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/238\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/238\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717","closed_as_duplicate_of":null},"references":{"short":"#238","relative":"#238","full":"gitlab-org\/gitlab-vscode-extension#238"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":70316834,"iid":228,"project_id":5261717,"title":"Detached Pipeline Status","description":"### Problem to solve\nAs a developer in a company that uses only [Pipelines for Merge Requests](https:\/\/docs.gitlab.com\/ee\/ci\/merge_request_pipelines\/), I would still like to be able to see the status of my current pipeline in VSCode. Currently, it always reports \"No pipeline found\", because there is no pipeline associated with the branch. Only with the Merge Request.\n\n\n### Proposal\nIf a related merge request is detected, try fetching the status of the Merge Request Pipeline first, and if that does not exist fall back to fetching the pipeline for the branch.\n\nMaybe add a config option to toggle this behavior on\/off\n\n### Further details\nn\/a\n\n### Links \/ references\n\n- [REST API docs](https:\/\/docs.gitlab.com\/ee\/api\/merge_requests.html#list-mr-pipelines)","state":"closed","created_at":1598442334784,"updated_at":1618231871276,"closed_at":1613732685181,"closed_by":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"labels":["Category:GitLab CLI","VS Code","devops::create","group::code review","section::dev","type::feature","workflow::in dev"],"milestone":{"id":1233760,"iid":56,"group_id":9970,"title":"13.9","description":"https:\/\/about.gitlab.com\/releases\/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.334Z","updated_at":"2022-04-21T07:21:28.468Z","due_date":"2021-02-17","start_date":"2021-01-18","expired":true,"web_url":"https:\/\/gitlab.com\/groups\/gitlab-org\/-\/milestones\/56"},"assignees":[{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"}],"author":{"id":6824164,"username":"moritzhoewer","name":"Moritz H\u00f6wer","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/6824164\/avatar.png","web_url":"https:\/\/gitlab.com\/moritzhoewer"},"type":"ISSUE","assignee":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"user_notes_count":4,"merge_requests_count":0,"upvotes":4,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/228","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/228","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/228\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/228\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717","closed_as_duplicate_of":null},"references":{"short":"#228","relative":"#228","full":"gitlab-org\/gitlab-vscode-extension#228"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":69366225,"iid":221,"project_id":5261717,"title":"Improve onboarding by enabling users to get started via OAuth","description":"### Problem to solve\nRight now a user has to set his personal access token (PAT) to login to the GitLab instance. So the user needs to go to the instance, go through the settings, grab the token, go back to VSCode and paste the token and hopefully it works. This works but the workflow could be much better here.\n\n### Proposal\nAfter trigger the GitLab login command in VSCode\n1. the user get asked for the GitLab instance url\n2. the browser popup with a tab with the \"authorize\" application for ... \n3. user get some kind of popup that login was successful\n\nThis would make it also easier to setup multiple GitLab instances.\n\n### Links \/ references\n\n- Documentation [GitLab as an OAuth2 provider](https:\/\/docs.gitlab.com\/ee\/api\/oauth2.html#gitlab-as-an-oauth2-provider)\n- [Discussion: Streamlined GitHub authentication \u00b7 Issue #93 \u00b7 microsoft\/vscode-pull-request-github](https:\/\/github.com\/microsoft\/vscode-pull-request-github\/issues\/93)\n\n#### Example of GitHub extension authentication\n\n![Kapture_2020-08-04_at_13.50.59](\/uploads\/d5b71ee72819ca6748fc6a74a5215c97\/Kapture_2020-08-04_at_13.50.59.gif)","state":"closed","created_at":1596461911751,"updated_at":1650371525076,"closed_at":1650371525056,"closed_by":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"labels":["Category:GitLab CLI","Deliverable","VS Code","devops::create","group::code review","section::dev","spike","type::feature","workflow::in dev"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https:\/\/gitlab.com\/groups\/gitlab-org\/-\/milestones\/72"},"assignees":[{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"}],"author":{"id":541379,"username":"tonka3000","name":"Michael Aigner","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/541379\/avatar.png","web_url":"https:\/\/gitlab.com\/tonka3000"},"type":"ISSUE","assignee":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"user_notes_count":37,"merge_requests_count":0,"upvotes":6,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/221","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/221","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/221\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/221\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717","closed_as_duplicate_of":null},"references":{"short":"#221","relative":"#221","full":"gitlab-org\/gitlab-vscode-extension#221"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4363.0,"epic":{"id":107314,"iid":4363,"title":"Improve Onboarding and Auth of GitLab Workflow","url":"\/groups\/gitlab-org\/-\/epics\/4363","group_id":9970,"human_readable_end_date":"Jun 17, 2022","human_readable_timestamp":"<strong>Past due<\/strong>"},"iteration":null,"health_status":null},{"id":69354629,"iid":220,"project_id":5261717,"title":"TS migration 2: migrate gitlab_service","description":"### Problem to solve\n\nThis is a followup issue for #219. `gitlab_service.js` has got 670 LOC and because we need to convert a JS file to TS in one go, we are creating a separate issue just for this conversion. The rest of the extension will be converted in the spirit \"you touch it, you convert it\".\n\n### Proposal\n\nWe are going to migrate the `gitlab_servic.js` to TypeScript. This service is providing the rest of the extension with information from the GitLab instance.\n\n```mermaid\ngraph TD\nA[rest of the extension] --> B\nD[status_bar] -->\nB[gitlab_service] -->\nC[git_service.ts]\nB --> D\n```\n\n### Further details\n\n#### In scope\n\n- break the cyclic dependency so that `gitlab_service` isn't dependent on `status_bar`\n- write 3 - 5 integration tests touching the GitLab service\n- define types for `token_service` and `gitlab_project_input` (or migrate them to TS if it's trivial)\n- rewrite the `gitlab_service.js` to TypeScript\n- manual testing afterwards\n\n#### Out of scope\n\n- rewriting any other code to TypeScript\n- extensive test coverage with unit test (would take too long)\n- redesigning the `gitlab_service.js` (for easy review, the code branches and interfaces shouldn't change too much)\n\n### Links \/ references\n\n- original decision to split the work this way: https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/204#note_388292319\n- example of the rewrite can be found in !53","state":"closed","created_at":1596444568238,"updated_at":1682503208783,"closed_at":1604590143959,"closed_by":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"labels":["Category:GitLab CLI","Deliverable","VS Code","devops::create","frontend","group::ide","section::dev","workflow::in review"],"milestone":{"id":1233755,"iid":53,"group_id":9970,"title":"13.6","description":"https:\/\/about.gitlab.com\/releases\/2020\/11\/22\/gitlab-13-6-released\/","state":"closed","created_at":"2020-04-09T17:39:22.328Z","updated_at":"2022-04-13T14:51:04.376Z","due_date":"2020-11-17","start_date":"2020-10-18","expired":true,"web_url":"https:\/\/gitlab.com\/groups\/gitlab-org\/-\/milestones\/53"},"assignees":[{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"}],"author":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"type":"ISSUE","assignee":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"user_notes_count":4,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/220","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/220","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/220\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/220\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717","closed_as_duplicate_of":null},"references":{"short":"#220","relative":"#220","full":"gitlab-org\/gitlab-vscode-extension#220"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":69354151,"iid":219,"project_id":5261717,"title":"TS migration 1: configure TS and migrate git_service","description":"### Problem to solve\n\nWe decided to proceed with migrating the small codebase of this extension to TypeScript #204. We are going migrate the extension iteratively. This is the first step.\n\n### Proposal\n\nWe are going to migrate the `git_service.js` to typescript. This service is providing the extension with information about the project git repository (branches, remotes ..). The rest of the extension is dependent on this service and we can start immediately benefit from using autocomplete in code dependent on git.\n\n```mermaid\ngraph TD\nA[rest of the extension] -->\nB[gitlab_service] -->\nC[git_service]\nA --> C\n```\n\n### Further details\n\n#### In scope\n\n- write integration tests touching the git service - namely, test functionality that uses:\n    - branch name\n    - tracking branch name\n    - current commit SHA\n    - remote repository URL\n- configure TypeScript compilation in a way that it works with the rest of the extension which is still in JavaScript\n- configure TypeScript linting and prettier\n- rewrite the `git_service.js` to TypeScript\n- introduce static `create()` method as described in https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/merge_requests\/100#note_414925480\n- manual testing afterwards\n\n#### Out of scope\n\n- rewriting any other code to TypeScript\n- extensive test coverage with unit test (would take too long)\n- redesigning the `git_service.js` (for easy review, the code branches and interfaces shouldn't change too much)\n\n### Links \/ references\n\n- original decision to split the work this way: https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/204#note_388292319\n- example of the TS configuration and rewrite can be found in !53","state":"closed","created_at":1596443795710,"updated_at":1682503213456,"closed_at":1601906335848,"closed_by":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"labels":["Category:GitLab CLI","Deliverable","VS Code","devops::create","frontend","group::ide","section::dev","workflow::in review"],"milestone":{"id":1233754,"iid":52,"group_id":9970,"title":"13.5","description":"https:\/\/about.gitlab.com\/releases\/2020\/10\/22\/gitlab-13-5-released\/","state":"closed","created_at":"2020-04-09T17:39:21.990Z","updated_at":"2022-04-21T07:21:12.213Z","due_date":"2020-10-17","start_date":"2020-09-18","expired":true,"web_url":"https:\/\/gitlab.com\/groups\/gitlab-org\/-\/milestones\/52"},"assignees":[{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"}],"author":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"type":"ISSUE","assignee":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"user_notes_count":3,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/219","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/219","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/219\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/219\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717","closed_as_duplicate_of":null},"references":{"short":"#219","relative":"#219","full":"gitlab-org\/gitlab-vscode-extension#219"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":55905406,"iid":215,"project_id":5261717,"title":"webview: extension sometimes posts same comment multiple times","description":"### Summary\n\nSometimes the extension sends the same entered message multiple times to the opened issue\/MR when using the experimental webview.\n\n### Steps to reproduce\n\nNote that in my experience this seems to be inconsistent.\n\n1. Enable Experimental Features in Extension Settings (gitlab.enableExperimentalFeatures)\n1. Open an issue in webview\n1. Send a comment\n\nI should note that I have had more success getting this to happen when multiple webview-tabs are open simultaneously (I tested with two), though I had this happen even with only one webview tab open. Perhaps other tabs (like open files) also cause this or maybe doing the multiple tabs aren't strictly required for the bug to occur.\n\nThe first time I encountered this behaviour was before GitLab officially adopted this extension, so it isn't a recent development.\n\n### What is the current *bug* behavior?\n\nThe same message is sent to the same issue multiple times instead of once. Quick actions seem to be applied multiple times, too.\n\n### What is the expected *correct* behavior?\n\nThe new comment and any included quick action should only be added\/triggered once.\n\n### Relevant logs and\/or screenshots\n\n![GitLab_Workflow_Message_duplication_glitch](\/uploads\/4f0c7cd0d1fbf3a8d1feffaf3d51b78d\/GitLab_Workflow_Message_duplication_glitch.gif)\n\n### Possible fixes\n\nNo idea.\n\n### Versions and OS\n* VSCode Version: 1.47.0 (commit d5e9aa0227e057a60c82568bf31c04730dc15dcd)\n* Extension Version: 3.0.4 (from official marketplace)\n* OS: Arch Linux x86_64 (all packages up-to-date)","state":"closed","created_at":1594671106925,"updated_at":1606397960397,"closed_at":1606390980547,"closed_by":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"labels":["Category:GitLab CLI","Deliverable","VS Code","bug","devops::create","frontend","group::code review","section::dev","webview","workflow::production"],"milestone":{"id":1233757,"iid":54,"group_id":9970,"title":"13.7","description":"https:\/\/about.gitlab.com\/releases\/archives.html","state":"closed","created_at":"2020-04-09T17:43:14.893Z","updated_at":"2022-04-13T14:51:12.240Z","due_date":"2020-12-17","start_date":"2020-11-18","expired":true,"web_url":"https:\/\/gitlab.com\/groups\/gitlab-org\/-\/milestones\/54"},"assignees":[{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"}],"author":{"id":4385075,"username":"jotoho","name":"Jonas Tobias Hopusch","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4385075\/avatar.png","web_url":"https:\/\/gitlab.com\/jotoho"},"type":"ISSUE","assignee":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"user_notes_count":6,"merge_requests_count":0,"upvotes":3,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/215","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/215","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/215\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/215\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717","closed_as_duplicate_of":null},"references":{"short":"#215","relative":"#215","full":"gitlab-org\/gitlab-vscode-extension#215"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4604.0,"epic":{"id":126240,"iid":4604,"title":"VS Code Webview Cleanup","url":"\/groups\/gitlab-org\/-\/epics\/4604","group_id":9970,"human_readable_end_date":"Jun 17, 2021","human_readable_timestamp":"<strong>Past due<\/strong>"},"iteration":null,"health_status":null},{"id":55518070,"iid":214,"project_id":5261717,"title":"Change the default branch from `master` to `main`","description":"In order to support the discussion and our initiative of changing the default branch name, we should follow this [GitLab Issue](https:\/\/gitlab.com\/gitlab-org\/gitlab\/-\/issues\/221164) \n\nLet's rename `master` to `main`\n\n- [x] Make sure any branch name depending scripts are updated\n- [x] Make sure there are no blockers to make this change\n- [x] Change the contribution guidelines to reflect the non-standard default branch name\n- [x] Set `main` as default branch\n- [x] change target branch of all open merge requests to `main`\n- [x] unprotect `master`, delete it, and protect `master` branch again, allowing no one to create it\n- [x] propagate the changes to the [security repo](https:\/\/gitlab.com\/gitlab-org\/security\/gitlab-vscode-extension)\n\nA similar project that just went through this change: https:\/\/gitlab.com\/gitlab-org\/gitlab-svgs\/-\/issues\/127#note_378289361","state":"closed","created_at":1594645149656,"updated_at":1682503215033,"closed_at":1597244031007,"closed_by":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"labels":["Stretch","VS Code","devops::create","frontend","group::ide","section::dev","workflow::in review"],"milestone":{"id":1233752,"iid":50,"group_id":9970,"title":"13.3","description":"https:\/\/about.gitlab.com\/releases\/2020\/08\/22\/gitlab-13-3-released\/","state":"closed","created_at":"2020-04-09T17:39:21.090Z","updated_at":"2022-04-13T14:50:18.976Z","due_date":"2020-08-17","start_date":"2020-07-18","expired":true,"web_url":"https:\/\/gitlab.com\/groups\/gitlab-org\/-\/milestones\/50"},"assignees":[{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"}],"author":{"id":5068667,"username":"rkuba","name":"Roman Kuba","state":"blocked","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/5068667\/avatar.png","web_url":"https:\/\/gitlab.com\/rkuba"},"type":"ISSUE","assignee":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"user_notes_count":5,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/214","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":7,"completed_count":7},"weight":1,"blocking_issues_count":0,"has_tasks":false,"task_status":null,"_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/214","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/214\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/214\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717","closed_as_duplicate_of":null},"references":{"short":"#214","relative":"#214","full":"gitlab-org\/gitlab-vscode-extension#214"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3350.0,"epic":{"id":55624,"iid":3350,"title":"GitLab VS Code Extension Housekeeping","url":"\/groups\/gitlab-org\/-\/epics\/3350","group_id":9970,"human_readable_end_date":"Jan 17, 2022","human_readable_timestamp":"<strong>Past due<\/strong>"},"iteration":null,"health_status":null},{"id":53959952,"iid":213,"project_id":5261717,"title":"\"Validate GitLab CI config\" requires project for local file import","description":"<!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"bug\" label:\n\n- https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n--->\n\n### Summary\n\n\"Validate GitLab CI config\" requires project for local file import. According to GitLab's online validator and documen tation this is incorrect\n\n### Steps to reproduce\n\nCreate two file config in single repo. Open .gitlab-ci.yml and run \"GitLab: Validate GitLab CI config\"\n\n\/\/.gitlab-ci.yml\n```\nstages:\n    - echo\n\ninclude:\n    - local: child.gitlab-ci.yml\n```\n\n\/\/ child.gitlab-ci.yml\n```\nstages:\n    - echo\n\necho:\n    stage: echo\n    image: ruby:2.6\n    script:\n        - echo \"echo\"\n```\n\n\n### What is the current *bug* behavior?\n\nValidation fails with error \"Local file `child.gitlab-ci.yml` does not have project!\"\n\n### What is the expected *correct* behavior?\n\nShould say \"Your CI configuration is valid.\"\n\n### Relevant logs and\/or screenshots\n\n(Logs can be found by running `Developer: Show Logs ...` command (using `cmd+shift+p`) and selecting `Extension Host`)\n\n### Possible fixes\n\n(If you can, link to the line of code that might be responsible for the problem)","state":"closed","created_at":1594027885347,"updated_at":1658425795880,"closed_at":1629189208765,"closed_by":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"labels":["Category:GitLab CLI","VS Code","devops::create","group::code review","section::dev","type::bug"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https:\/\/gitlab.com\/groups\/gitlab-org\/-\/milestones\/62"},"assignees":[{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"}],"author":{"id":4012702,"username":"hixus","name":"hixus","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4012702\/avatar.png","web_url":"https:\/\/gitlab.com\/hixus"},"type":"ISSUE","assignee":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"user_notes_count":19,"merge_requests_count":0,"upvotes":7,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/213","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/213","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/213\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/213\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717","closed_as_duplicate_of":null},"references":{"short":"#213","relative":"#213","full":"gitlab-org\/gitlab-vscode-extension#213"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":53883289,"iid":212,"project_id":5261717,"title":"Poll for branch information only in active window","description":"### Problem to solve\n\nIf the user opens multiple extension windows, all of those windows are going to be polling pipeline information (each 30s) and open MR and closing issue (each 60s) for the current branch. This could result in increased load on the API and issues like #211\n\n### Proposal\n\nThe polling should only happen when the extension window is [`focused`](https:\/\/code.visualstudio.com\/api\/references\/vscode-api#WindowState). Same way as the native `git` extension polls for remote branch changes.\n\nWe should also start to poll immediately after the window comes into focus ([`window.onDidChangeWindowState`](https:\/\/code.visualstudio.com\/api\/references\/vscode-api#window.onDidChangeWindowState)).\n\n### Further details\n\n- https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/blob\/ec80a6f81d5d9b5b402dcf8ad50f5ad45c21800b\/src\/status_bar.js#L121\n- https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/blob\/ec80a6f81d5d9b5b402dcf8ad50f5ad45c21800b\/src\/status_bar.js#L184\n\n### Links \/ references\n\nI assume the official `git` extension implementation to be somewhere here https:\/\/github.com\/microsoft\/vscode\/blob\/master\/extensions\/git\/src\/statusbar.ts\n\nThe official VS Code extension API offers a [`WindowState`](https:\/\/code.visualstudio.com\/api\/references\/vscode-api#WindowState) which allows us to find out whether the window is focused or not.","state":"closed","created_at":1593781329783,"updated_at":1619177981673,"closed_at":1618839049380,"closed_by":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"labels":["Category:GitLab CLI","Deliverable","VS Code","devops::create","frontend","group::code review","section::dev","status-bar","type::feature","workflow::in dev"],"milestone":{"id":1406669,"iid":59,"group_id":9970,"title":"13.11","description":"https:\/\/about.gitlab.com\/releases\/archives.html","state":"closed","created_at":"2020-08-13T14:23:09.688Z","updated_at":"2022-04-21T07:22:08.835Z","due_date":"2021-04-17","start_date":"2021-03-18","expired":true,"web_url":"https:\/\/gitlab.com\/groups\/gitlab-org\/-\/milestones\/59"},"assignees":[{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"}],"author":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"type":"ISSUE","assignee":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"user_notes_count":4,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/212","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/212","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/212\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/212\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717","closed_as_duplicate_of":null},"references":{"short":"#212","relative":"#212","full":"gitlab-org\/gitlab-vscode-extension#212"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":51409234,"iid":208,"project_id":5261717,"title":"Create a open-vsx account","description":"In order to be allowed to publish to https:\/\/open-vsx.org\/ we need a token and a publisher account.\nI would follow the same we use on the vscode marketplace.\n\n- [x] Create a GitHub account for open-vsx with the `vscode@gitlab.com` email address\n- [x] Create the `gitlab` publisher on open-vsx\n- [x] Make sure login credentials are in the shared 1Password vault\n- [x] Retrieve a token that can be used for publishing\n- [x] Add the token to CI\/CD configuration of [this project](https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension) as `OPENVSX_ACCESS_TOKEN` (same settings as `AZURE_ACCESS_TOKEN`)\n- [x] Add the token to CI\/CD configuration of the [security project](https:\/\/gitlab.com\/gitlab-org\/security\/gitlab-vscode-extension) as `OPENVSX_ACCESS_TOKEN`\n- [x] Claim the `GitLab` publisher namespace https:\/\/github.com\/eclipse\/open-vsx.org\/issues\/103\n\n\/cc @viktomas @phikai","state":"closed","created_at":1593426886691,"updated_at":1682503210406,"closed_at":1596193549077,"closed_by":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"labels":["Category:GitLab CLI","Deliverable","VS Code","devops::create","frontend","group::ide","section::dev","workflow::in dev"],"milestone":{"id":1233752,"iid":50,"group_id":9970,"title":"13.3","description":"https:\/\/about.gitlab.com\/releases\/2020\/08\/22\/gitlab-13-3-released\/","state":"closed","created_at":"2020-04-09T17:39:21.090Z","updated_at":"2022-04-13T14:50:18.976Z","due_date":"2020-08-17","start_date":"2020-07-18","expired":true,"web_url":"https:\/\/gitlab.com\/groups\/gitlab-org\/-\/milestones\/50"},"assignees":[{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"}],"author":{"id":5068667,"username":"rkuba","name":"Roman Kuba","state":"blocked","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/5068667\/avatar.png","web_url":"https:\/\/gitlab.com\/rkuba"},"type":"ISSUE","assignee":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"user_notes_count":13,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/208","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":7,"completed_count":7},"weight":1,"blocking_issues_count":0,"has_tasks":false,"task_status":null,"_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/208","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/208\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/208\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717","closed_as_duplicate_of":null},"references":{"short":"#208","relative":"#208","full":"gitlab-org\/gitlab-vscode-extension#208"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":50091981,"iid":205,"project_id":5261717,"title":"Publish GitLab Workflow extension to Open VSX Registry","description":"## Problem to Solve\n\nCurrently there are users who use VS Code alternatives like [VS Codium](https:\/\/github.com\/VSCodium\/vscodium), [Theia](https:\/\/theia-ide.org\/) and others which are generally OSS alternatives to VS Code. In most cases, these editors are able to run VS Code extensions, but the VS Code marketplace is unavailable for normal distribution.\n\n## Additional Details\n\n[Open VSX](https:\/\/open-vsx.org) is an open-source registry for VS Code extensions. It can be used by any development environment that supports such extensions.\n\nAdditional information on how to publish an extension to Open VSX can be obtained [here](https:\/\/github.com\/eclipse\/openvsx\/wiki\/Publishing-Extensions).\n\n## Proposal\n\nIn order to make the GitLab Workflow extension more accessible to more users we should also automate publishing of the extension to the Open VSX registry.\n\n<details><summary>Original Description<\/summary>\nI'm a [VS Codium](https:\/\/github.com\/VSCodium\/vscodium) user, a FLOSS version of VS Code. It's the same code but without Microsoft's telemetry, branding and licensing.\n\nI would like to request, if possible, to add the **GitLab** extension to the [open-vsx.org](https:\/\/open-vsx.org) market as it is unclear if it's legal to use the official Microsoft extension marketplace on VS Code forks, see [here](https:\/\/github.com\/microsoft\/vscode\/issues\/31168).\n\nAdditional information on how to publish an extension to Open VSX can be obtained [here](https:\/\/github.com\/eclipse\/openvsx\/wiki\/Publishing-Extensions).\n<\/details>","state":"closed","created_at":1593111548694,"updated_at":1682503210399,"closed_at":1596439374758,"closed_by":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"labels":["Category:GitLab CLI","Deliverable","Open Source","VS Code","devops::create","frontend","group::ide","internal customer","section::dev","type::feature","workflow::in dev"],"milestone":{"id":1233752,"iid":50,"group_id":9970,"title":"13.3","description":"https:\/\/about.gitlab.com\/releases\/2020\/08\/22\/gitlab-13-3-released\/","state":"closed","created_at":"2020-04-09T17:39:21.090Z","updated_at":"2022-04-13T14:50:18.976Z","due_date":"2020-08-17","start_date":"2020-07-18","expired":true,"web_url":"https:\/\/gitlab.com\/groups\/gitlab-org\/-\/milestones\/50"},"assignees":[{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"}],"author":{"id":3498507,"username":"theS1LV3R","name":"S1LV3R","state":"active","avatar_url":"https:\/\/secure.gravatar.com\/avatar\/b0c5eaef15619543addb14d21362046f?s=80&d=identicon","web_url":"https:\/\/gitlab.com\/theS1LV3R"},"type":"ISSUE","assignee":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"user_notes_count":17,"merge_requests_count":1,"upvotes":7,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/205","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/205","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/205\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/205\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717","closed_as_duplicate_of":null},"references":{"short":"#205","relative":"#205","full":"gitlab-org\/gitlab-vscode-extension#205"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":50023153,"iid":200,"project_id":5261717,"title":"Update contribution guidelines","description":"### Problem to solve\n\nThe contribution guidelines are not in line with GitLab standards.\n\n### Proposal\n\n- [x] Add DCO + License info at the top (see an example at https:\/\/gitlab.com\/gitlab-org\/gitlab-runner\/-\/blob\/master\/CONTRIBUTING.md)\n- [x] Remove the separate [code of conduct file](https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/blob\/master\/CODE_OF_CONDUCT.md). Just have a link to the [Code of conduct page](https:\/\/about.gitlab.com\/community\/contribute\/code-of-conduct\/) as a SSOT in the [CONTRIBUTING.md](https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/blob\/master\/CONTRIBUTING.md) file\n- [x] Remove \"Reporting Issues\" and \"Proposing Features\" sections and only point to the templates\n- [x] Revisit the practical setup sections\n\n### Further details\n\n### Links \/ references","state":"closed","created_at":1592993981127,"updated_at":1682503212440,"closed_at":1595336443890,"closed_by":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"labels":["Category:GitLab CLI","Doing","VS Code","devops::create","frontend","group::ide","housekeeping","section::dev"],"milestone":{"id":1233752,"iid":50,"group_id":9970,"title":"13.3","description":"https:\/\/about.gitlab.com\/releases\/2020\/08\/22\/gitlab-13-3-released\/","state":"closed","created_at":"2020-04-09T17:39:21.090Z","updated_at":"2022-04-13T14:50:18.976Z","due_date":"2020-08-17","start_date":"2020-07-18","expired":true,"web_url":"https:\/\/gitlab.com\/groups\/gitlab-org\/-\/milestones\/50"},"assignees":[{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"}],"author":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"type":"ISSUE","assignee":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/200","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":4,"completed_count":4},"weight":2,"blocking_issues_count":0,"has_tasks":false,"task_status":null,"_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/200","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/200\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/200\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717","closed_as_duplicate_of":null},"references":{"short":"#200","relative":"#200","full":"gitlab-org\/gitlab-vscode-extension#200"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3350.0,"epic":{"id":55624,"iid":3350,"title":"GitLab VS Code Extension Housekeeping","url":"\/groups\/gitlab-org\/-\/epics\/3350","group_id":9970,"human_readable_end_date":"Jan 17, 2022","human_readable_timestamp":"<strong>Past due<\/strong>"},"iteration":null,"health_status":null},{"id":50018411,"iid":199,"project_id":5261717,"title":"Automated testing strategy","description":"### Problem to solve\n\nThere are no automated tests for the extension (with exception of [unit test for `parseGitRemote` function](https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/blob\/master\/test\/unit_tests\/git_service.test.ts)). We need to increase our automated test coverage to be able to make changes to the extension without introducing regressions.\n\n### Proposal\n\nCreate a testing strategy for the extension.\n\n*Personal opinion: At the beginning, we should focus on the highest level tests (integration\/e2e). There is a lot of suggested work that is taking out major parts of the codebase (!53 !54 ). Unit tests written for these soon-to-be-replaced parts might not be the best use of our efforts*\n\n### Acceptance criteria\n\n- Testing pyramid for our VS Code Extension is described (i.e. what kind of tests we'll implement)\n- Implement at least one example test for each level of testing (e.g. If we'll have unit tests, functional tests, and E2E tests, then at least one unit test, functional test, and E2E test).\n- Example tests are reliably running in our CI\n\n### Links \/ references\n\n- My personal extension having [integration and unit tests](https:\/\/gitlab.com\/viktomas\/gitlab-example-extension\/-\/blob\/integration-tests\/.gitlab-ci.yml#L13-29)\n- Testing guide in the official documentation https:\/\/code.visualstudio.com\/api\/working-with-extensions\/testing-extension","state":"closed","created_at":1592989788936,"updated_at":1682503210176,"closed_at":1597223357955,"closed_by":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"labels":["Category:GitLab CLI","Deliverable","To Do","VS Code","devops::create","frontend","group::ide","housekeeping","section::dev","workflow::in review"],"milestone":{"id":1233752,"iid":50,"group_id":9970,"title":"13.3","description":"https:\/\/about.gitlab.com\/releases\/2020\/08\/22\/gitlab-13-3-released\/","state":"closed","created_at":"2020-04-09T17:39:21.090Z","updated_at":"2022-04-13T14:50:18.976Z","due_date":"2020-08-17","start_date":"2020-07-18","expired":true,"web_url":"https:\/\/gitlab.com\/groups\/gitlab-org\/-\/milestones\/50"},"assignees":[{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"}],"author":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"type":"ISSUE","assignee":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/199","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/199","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/199\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/199\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717","closed_as_duplicate_of":null},"references":{"short":"#199","relative":"#199","full":"gitlab-org\/gitlab-vscode-extension#199"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3350.0,"epic":{"id":55624,"iid":3350,"title":"GitLab VS Code Extension Housekeeping","url":"\/groups\/gitlab-org\/-\/epics\/3350","group_id":9970,"human_readable_end_date":"Jan 17, 2022","human_readable_timestamp":"<strong>Past due<\/strong>"},"iteration":null,"health_status":null},{"id":50016385,"iid":198,"project_id":5261717,"title":"Automated CHANGELOG entries creation","description":"### Problem to solve\n\nNew entries are added to CHANGELOG ad-hoc, which results in more manual work and inconsistencies in the changelog entries.\n\n### Proposal\n\nImplement a mechanism similar to the one used `gitlab-org\/gitlab` (https:\/\/docs.gitlab.com\/ee\/development\/changelog.html). Each MR that introduces significant user-facing change would create a changelog entry. These entries would get compiled into a version changelog during the release of the new version.\n\nImproving even further we could utilize the [releases](https:\/\/docs.gitlab.com\/ee\/user\/project\/releases\/) feature which we've started using for GitLab. Example: https:\/\/gitlab.com\/gitlab-org\/gitlab\/-\/releases#v13.1.0-ee\n\n### Links \/ references\n\n- Example changelog entries: https:\/\/gitlab.com\/gitlab-org\/gitlab\/tree\/master\/changelogs\/unreleased\/\n- Ruby script for generating changelog entries: https:\/\/gitlab.com\/gitlab-org\/gitlab\/-\/blob\/master\/bin\/changelog","state":"closed","created_at":1592987401753,"updated_at":1682503212161,"closed_at":1597160640184,"closed_by":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"labels":["Category:GitLab CLI","Stretch","VS Code","devops::create","frontend","group::ide","housekeeping","section::dev","workflow::in review"],"milestone":{"id":1233752,"iid":50,"group_id":9970,"title":"13.3","description":"https:\/\/about.gitlab.com\/releases\/2020\/08\/22\/gitlab-13-3-released\/","state":"closed","created_at":"2020-04-09T17:39:21.090Z","updated_at":"2022-04-13T14:50:18.976Z","due_date":"2020-08-17","start_date":"2020-07-18","expired":true,"web_url":"https:\/\/gitlab.com\/groups\/gitlab-org\/-\/milestones\/50"},"assignees":[{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"}],"author":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"type":"ISSUE","assignee":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"user_notes_count":5,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/198","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/198","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/198\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/198\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717","closed_as_duplicate_of":null},"references":{"short":"#198","relative":"#198","full":"gitlab-org\/gitlab-vscode-extension#198"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3350.0,"epic":{"id":55624,"iid":3350,"title":"GitLab VS Code Extension Housekeeping","url":"\/groups\/gitlab-org\/-\/epics\/3350","group_id":9970,"human_readable_end_date":"Jan 17, 2022","human_readable_timestamp":"<strong>Past due<\/strong>"},"iteration":null,"health_status":null},{"id":34729493,"iid":183,"project_id":5261717,"title":"Deprecated dependency: request-promise","description":"In order to make requests towards GitLab `src\/gitlab_service.js` makes use of \nthe [`request-promise` library which is deprecated](https:\/\/github.com\/request\/request-promise#deprecated) since February 2020.\n\nThis dependency should be changed as it won't receive any security updates in the future. Note that !53 still seems to include this dependency.","state":"closed","created_at":1589884284545,"updated_at":1641464592120,"closed_at":1641464579938,"closed_by":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"labels":["Category:GitLab CLI","VS Code","devops::create","group::code review","priority::4","section::dev","severity::4","type::maintenance","vintage"],"milestone":{"id":2156369,"iid":68,"group_id":9970,"title":"14.7","description":"","state":"active","created_at":"2021-07-21T17:39:41.786Z","updated_at":"2021-07-21T17:39:41.786Z","due_date":"2022-01-17","start_date":"2021-12-18","expired":true,"web_url":"https:\/\/gitlab.com\/groups\/gitlab-org\/-\/milestones\/68"},"assignees":[],"author":{"id":104376,"username":"joernchen","name":"Joern Schneeweisz","state":"active","avatar_url":"https:\/\/secure.gravatar.com\/avatar\/5a29ccf0244143eb2faed20bcf7fe8bd?s=80&d=identicon","web_url":"https:\/\/gitlab.com\/joernchen"},"type":"ISSUE","assignee":null,"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/183","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/183","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/183\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/183\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717","closed_as_duplicate_of":null},"references":{"short":"#183","relative":"#183","full":"gitlab-org\/gitlab-vscode-extension#183"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3351.0,"epic":{"id":55701,"iid":3351,"title":"VS Code Extension Security Review","url":"\/groups\/gitlab-org\/-\/epics\/3351","group_id":9970,"human_readable_end_date":"Jan 17, 2022","human_readable_timestamp":"<strong>Past due<\/strong>"},"iteration":null,"health_status":null},{"id":34191828,"iid":168,"project_id":5261717,"title":"Opening the same MR or Issue in webview multiple times causes duplicated tabs","description":"I just noticed that when selecting an Issue or Merge Request I have already opened once, it opens another tab instead of showing the already existing tab.\nThis can cause the tab-bar to get full very quickly if you don't track what you already opened and is not how VSCode itself handles these things, so it's a bit annoying.\n\nI know that the Issue and MR-Features are still experimental but wanted to point this strange behaviour out anyway.\n\n* VSCode Version: 1.44.2 (ff915844119ce9485abfe8aa9076ec76b5300ddd)\n* Extension version: 2.2.0\n* OS: Arch Linux on 64bit Desktop-PC\n\n## Screenshots\n\n![Kapture_2020-06-29_at_10.06.24](\/uploads\/119fd679f949793d7ca7b4dfcc2d15d4\/Kapture_2020-06-29_at_10.06.24.gif)\n\n## Possible solution\n\nIf we use the VS Code native [Uri](https:\/\/code.visualstudio.com\/api\/references\/vscode-api#Uri) to identify each issue and MR webview, we could avoid duplication without us writing any custom code.","state":"closed","created_at":1588755882223,"updated_at":1623332517331,"closed_at":1623325614672,"closed_by":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"labels":["Category:GitLab CLI","Stretch","VS Code","devops::create","frontend","group::code review","section::dev","type::bug","webview","workflow::production"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https:\/\/gitlab.com\/groups\/gitlab-org\/-\/milestones\/60"},"assignees":[{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"}],"author":{"id":4385075,"username":"jotoho","name":"Jonas Tobias Hopusch","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4385075\/avatar.png","web_url":"https:\/\/gitlab.com\/jotoho"},"type":"ISSUE","assignee":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/168","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/168","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/168\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/168\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717","closed_as_duplicate_of":null},"references":{"short":"#168","relative":"#168","full":"gitlab-org\/gitlab-vscode-extension#168"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4604.0,"epic":{"id":126240,"iid":4604,"title":"VS Code Webview Cleanup","url":"\/groups\/gitlab-org\/-\/epics\/4604","group_id":9970,"human_readable_end_date":"Jun 17, 2021","human_readable_timestamp":"<strong>Past due<\/strong>"},"iteration":null,"health_status":null},{"id":30626235,"iid":154,"project_id":5261717,"title":"Click on merge request in status bar should open the webview","description":"Since one of the last versions, GitLab Workflow has this merge request detail view which opens when I click on a merge request from the list in the sidebar.\n\nFor user interaction consistency, I think this should also be the case when I click on the merge request link in the status bar.\n\n*Note: the webview needs to be enabled as an [experimental feature](https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension#experimental-features).*\n\n![Kapture_2020-06-25_at_11.10.06](\/uploads\/fb8ce39650c94975e314149b21f93f84\/Kapture_2020-06-25_at_11.10.06.gif)\n\n\n![image](\/uploads\/26516ec1c3bbac5070f5fedfbf156961\/image.png)","state":"closed","created_at":1581421120803,"updated_at":1638866807077,"closed_at":1638866807066,"closed_by":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"labels":["Category:GitLab CLI","VS Code","devops::create","group::code review","section::dev","status-bar","type::feature","vintage","webview"],"milestone":null,"assignees":[],"author":{"id":1083739,"username":"dmstern","name":"Daniel Morgenstern","state":"active","avatar_url":"https:\/\/secure.gravatar.com\/avatar\/efbf630f55797e557b97e172a8837b29?s=80&d=identicon","web_url":"https:\/\/gitlab.com\/dmstern"},"type":"ISSUE","assignee":null,"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/154","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/154","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/154\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/154\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717","closed_as_duplicate_of":null},"references":{"short":"#154","relative":"#154","full":"gitlab-org\/gitlab-vscode-extension#154"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4604.0,"epic":{"id":126240,"iid":4604,"title":"VS Code Webview Cleanup","url":"\/groups\/gitlab-org\/-\/epics\/4604","group_id":9970,"human_readable_end_date":"Jun 17, 2021","human_readable_timestamp":"<strong>Past due<\/strong>"},"iteration":null,"health_status":null},{"id":30251516,"iid":146,"project_id":5261717,"title":"3.0.0 Release","description":"## Summary\n\nVersion `3.0.0` is the next major release of the extension. See details in the [CHANGELOG](https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/blob\/master\/CHANGELOG.md#v300-tbd).\n\n## Testing strategy\n\n- Testing new features of this release.\n  - [x] Multi-root workspaces\n    - VS Code documentation: https:\/\/code.visualstudio.com\/docs\/editor\/multi-root-workspaces\n    - Tested: tree view with issues, snippets, custom queries\n  - [x] New icon (lines instead of fill)\n  - [x] Custom queries\n    - :question: The custom queries completely replace the default queries\n    - works well even with multi-root workspaces\n- Testing fixes in this release\n  - [x] Creating snippets\n  - [x] Improve remote URL parsing to support non-standard Gitlab usernames.\n      - The implementatoin seems good to me. I don't have access to gitlab instance with different git user.\n      - During testing weird names I discovered and fixed https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/197\n  - [x] Click on merge request \"for current branch\" doesn't do anything\n- [x] Sanity testing\n  - this release introduces 16k changed lines of code, part of the testing should be generic happy-path testing of the extension's [Feature set](https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension#features).\n\n<details>\n<summary>Original descriptiom<\/summary>\n\nHi @fatihacet \n\nwe should be ready for 3.0.0 release. Before go ahead with the release_checklist.md, would you mind to test the attached packaged extension to be sure we are not breaking anything?\n\nThank you\n\n[gitlab-workflow-3.0.0.vsix](\/uploads\/2b7ef51cb938ff5bd0b3b7afcabb6855\/gitlab-workflow-3.0.0.vsix)\n\n<\/details>","state":"closed","created_at":1580677377743,"updated_at":1682503238364,"closed_at":1593428937342,"closed_by":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"labels":["Category:GitLab CLI","Doing","VS Code","backstage [DEPRECATED]","devops::create","frontend","group::ide","section::dev","workflow::in dev"],"milestone":{"id":1233746,"iid":49,"group_id":9970,"title":"13.2","description":"https:\/\/about.gitlab.com\/releases\/2020\/07\/22\/gitlab-13-2-released\/","state":"closed","created_at":"2020-04-09T17:28:01.032Z","updated_at":"2022-04-13T14:48:24.167Z","due_date":"2020-07-17","start_date":"2020-06-18","expired":true,"web_url":"https:\/\/gitlab.com\/groups\/gitlab-org\/-\/milestones\/49"},"assignees":[{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"}],"author":{"id":1521547,"username":"massimeddu","name":"Massimeddu Cireddu","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/1521547\/avatar.png","web_url":"https:\/\/gitlab.com\/massimeddu"},"type":"ISSUE","assignee":{"id":3457201,"username":"viktomas","name":"Tomas Vik (OOO back on 2023-05-10)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3457201\/avatar.png","web_url":"https:\/\/gitlab.com\/viktomas"},"user_notes_count":31,"merge_requests_count":0,"upvotes":3,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/gitlab-org\/gitlab-vscode-extension\/-\/issues\/146","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":7,"completed_count":7},"weight":4,"blocking_issues_count":0,"has_tasks":false,"task_status":null,"_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/146","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/146\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717\/issues\/146\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/5261717","closed_as_duplicate_of":null},"references":{"short":"#146","relative":"#146","full":"gitlab-org\/gitlab-vscode-extension#146"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null}]