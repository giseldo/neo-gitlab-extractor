[{"id":17457017,"iid":5985,"project_id":1304532,"title":"Inventory Catalogue - File","description":"## Task \nFill out the gSIC (GitLab Service Inventory Catalogue) template for the service. The task of filling it out is really up to us as we need to reach out to various team members in order to capture the information. \n\n## Service\nFile\n\n## Sample Template Location\nhttps://gitlab.com/gitlab-com/www-gitlab-com/blob/5f6a07f582be3c2a15914f4773b8de8e13a6d7e9/source/handbook/engineering/infrastructure/design/sample/201901_ServiceInventoryCatalogue/service-catalogue.yml\n\n## Questions or Comments about the template?\nReach out to @aamarsanaa","state":"closed","created_at":"2019-01-18T08:18:34.189Z","updated_at":"2019-02-11T23:30:13.669Z","closed_at":"2019-01-28T11:03:02.375Z","closed_by":{"id":506061,"username":"ahmadsherif","name":"Ahmad Sherif","state":"active","avatar_url":"https://secure.gravatar.com/avatar/bd6d0ec4213b91601956c9f801cbfe9b?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahmadsherif"},"labels":["OKR","auto updated"],"milestone":{"id":756353,"iid":62,"project_id":1304532,"title":"JF team 2019 week 3","description":"","state":"closed","created_at":"2019-01-10T15:23:52.245Z","updated_at":"2019-01-29T09:59:00.137Z","due_date":"2019-01-25","start_date":"2019-01-14","expired":true,"web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/milestones/62"},"assignees":[{"id":506061,"username":"ahmadsherif","name":"Ahmad Sherif","state":"active","avatar_url":"https://secure.gravatar.com/avatar/bd6d0ec4213b91601956c9f801cbfe9b?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahmadsherif"}],"author":{"id":2601632,"username":"aamarsanaa","name":"Amarbayar Amarsanaa","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2601632/avatar.png","web_url":"https://gitlab.com/aamarsanaa"},"type":"ISSUE","assignee":{"id":506061,"username":"ahmadsherif","name":"Ahmad Sherif","state":"active","avatar_url":"https://secure.gravatar.com/avatar/bd6d0ec4213b91601956c9f801cbfe9b?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahmadsherif"},"user_notes_count":1,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/issues/5985","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/1304532/issues/5985","notes":"https://gitlab.com/api/v4/projects/1304532/issues/5985/notes","award_emoji":"https://gitlab.com/api/v4/projects/1304532/issues/5985/award_emoji","project":"https://gitlab.com/api/v4/projects/1304532","closed_as_duplicate_of":null},"references":{"short":"#5985","relative":"#5985","full":"gitlab-com/gl-infra/reliability#5985"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":32,"epic":{"id":3038,"iid":32,"title":"Service Production Inventory","url":"/groups/gitlab-com/gl-infra/-/epics/32","group_id":1112072,"human_readable_end_date":"Mar 7, 2019","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":17457008,"iid":5984,"project_id":1304532,"title":"Inventory Catalogue - ELK","description":"## Task \nFill out the gSIC (GitLab Service Inventory Catalogue) template for the service. The task of filling it out is really up to us as we need to reach out to various team members in order to capture the information. \n\n## Service\nELK\n\n## Sample Template Location\nhttps://gitlab.com/gitlab-com/www-gitlab-com/blob/5f6a07f582be3c2a15914f4773b8de8e13a6d7e9/source/handbook/engineering/infrastructure/design/sample/201901_ServiceInventoryCatalogue/service-catalogue.yml\n\n## Questions or Comments about the template?\nReach out to @aamarsanaa","state":"closed","created_at":"2019-01-18T08:18:10.385Z","updated_at":"2019-01-28T11:26:20.178Z","closed_at":"2019-01-28T11:07:45.612Z","closed_by":{"id":506061,"username":"ahmadsherif","name":"Ahmad Sherif","state":"active","avatar_url":"https://secure.gravatar.com/avatar/bd6d0ec4213b91601956c9f801cbfe9b?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahmadsherif"},"labels":["OKR","auto updated"],"milestone":{"id":756353,"iid":62,"project_id":1304532,"title":"JF team 2019 week 3","description":"","state":"closed","created_at":"2019-01-10T15:23:52.245Z","updated_at":"2019-01-29T09:59:00.137Z","due_date":"2019-01-25","start_date":"2019-01-14","expired":true,"web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/milestones/62"},"assignees":[{"id":506061,"username":"ahmadsherif","name":"Ahmad Sherif","state":"active","avatar_url":"https://secure.gravatar.com/avatar/bd6d0ec4213b91601956c9f801cbfe9b?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahmadsherif"}],"author":{"id":2601632,"username":"aamarsanaa","name":"Amarbayar Amarsanaa","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2601632/avatar.png","web_url":"https://gitlab.com/aamarsanaa"},"type":"ISSUE","assignee":{"id":506061,"username":"ahmadsherif","name":"Ahmad Sherif","state":"active","avatar_url":"https://secure.gravatar.com/avatar/bd6d0ec4213b91601956c9f801cbfe9b?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahmadsherif"},"user_notes_count":1,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/issues/5984","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/1304532/issues/5984","notes":"https://gitlab.com/api/v4/projects/1304532/issues/5984/notes","award_emoji":"https://gitlab.com/api/v4/projects/1304532/issues/5984/award_emoji","project":"https://gitlab.com/api/v4/projects/1304532","closed_as_duplicate_of":null},"references":{"short":"#5984","relative":"#5984","full":"gitlab-com/gl-infra/reliability#5984"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":32,"epic":{"id":3038,"iid":32,"title":"Service Production Inventory","url":"/groups/gitlab-com/gl-infra/-/epics/32","group_id":1112072,"human_readable_end_date":"Mar 7, 2019","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":17456998,"iid":5983,"project_id":1304532,"title":"Inventory Catalogue - Contributors","description":"## Task \nFill out the gSIC (GitLab Service Inventory Catalogue) template for the service. The task of filling it out is really up to us as we need to reach out to various team members in order to capture the information. \n\n## Service\nContributors\n\n## Sample Template Location\nhttps://gitlab.com/gitlab-com/www-gitlab-com/blob/5f6a07f582be3c2a15914f4773b8de8e13a6d7e9/source/handbook/engineering/infrastructure/design/sample/201901_ServiceInventoryCatalogue/service-catalogue.yml\n\n## Questions or Comments about the template?\nReach out to @aamarsanaa","state":"closed","created_at":"2019-01-18T08:17:37.524Z","updated_at":"2019-01-30T12:26:44.546Z","closed_at":"2019-01-30T11:55:14.399Z","closed_by":{"id":506061,"username":"ahmadsherif","name":"Ahmad Sherif","state":"active","avatar_url":"https://secure.gravatar.com/avatar/bd6d0ec4213b91601956c9f801cbfe9b?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahmadsherif"},"labels":["OKR","auto updated"],"milestone":{"id":772447,"iid":70,"project_id":1304532,"title":"JF team 2019 week 5","description":"","state":"closed","created_at":"2019-01-28T08:11:41.276Z","updated_at":"2019-02-12T10:10:58.907Z","due_date":"2019-02-08","start_date":"2019-01-28","expired":true,"web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/milestones/70"},"assignees":[{"id":506061,"username":"ahmadsherif","name":"Ahmad Sherif","state":"active","avatar_url":"https://secure.gravatar.com/avatar/bd6d0ec4213b91601956c9f801cbfe9b?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahmadsherif"}],"author":{"id":2601632,"username":"aamarsanaa","name":"Amarbayar Amarsanaa","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2601632/avatar.png","web_url":"https://gitlab.com/aamarsanaa"},"type":"ISSUE","assignee":{"id":506061,"username":"ahmadsherif","name":"Ahmad Sherif","state":"active","avatar_url":"https://secure.gravatar.com/avatar/bd6d0ec4213b91601956c9f801cbfe9b?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahmadsherif"},"user_notes_count":1,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/issues/5983","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/1304532/issues/5983","notes":"https://gitlab.com/api/v4/projects/1304532/issues/5983/notes","award_emoji":"https://gitlab.com/api/v4/projects/1304532/issues/5983/award_emoji","project":"https://gitlab.com/api/v4/projects/1304532","closed_as_duplicate_of":null},"references":{"short":"#5983","relative":"#5983","full":"gitlab-com/gl-infra/reliability#5983"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":32,"epic":{"id":3038,"iid":32,"title":"Service Production Inventory","url":"/groups/gitlab-com/gl-infra/-/epics/32","group_id":1112072,"human_readable_end_date":"Mar 7, 2019","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":17456983,"iid":5982,"project_id":1304532,"title":"Inventory Catalogue - Consul","description":"## Task \nFill out the gSIC (GitLab Service Inventory Catalogue) template for the service. The task of filling it out is really up to us as we need to reach out to various team members in order to capture the information. \n\n## Service\nConsul\n\n## Sample Template Location\nhttps://gitlab.com/gitlab-com/www-gitlab-com/blob/5f6a07f582be3c2a15914f4773b8de8e13a6d7e9/source/handbook/engineering/infrastructure/design/sample/201901_ServiceInventoryCatalogue/service-catalogue.yml\n\n## Questions or Comments about the template?\nReach out to @aamarsanaa","state":"closed","created_at":"2019-01-18T08:17:04.266Z","updated_at":"2019-01-29T10:25:20.748Z","closed_at":"2019-01-29T09:52:20.371Z","closed_by":{"id":506061,"username":"ahmadsherif","name":"Ahmad Sherif","state":"active","avatar_url":"https://secure.gravatar.com/avatar/bd6d0ec4213b91601956c9f801cbfe9b?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahmadsherif"},"labels":["OKR"],"milestone":{"id":772447,"iid":70,"project_id":1304532,"title":"JF team 2019 week 5","description":"","state":"closed","created_at":"2019-01-28T08:11:41.276Z","updated_at":"2019-02-12T10:10:58.907Z","due_date":"2019-02-08","start_date":"2019-01-28","expired":true,"web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/milestones/70"},"assignees":[{"id":506061,"username":"ahmadsherif","name":"Ahmad Sherif","state":"active","avatar_url":"https://secure.gravatar.com/avatar/bd6d0ec4213b91601956c9f801cbfe9b?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahmadsherif"}],"author":{"id":2601632,"username":"aamarsanaa","name":"Amarbayar Amarsanaa","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2601632/avatar.png","web_url":"https://gitlab.com/aamarsanaa"},"type":"ISSUE","assignee":{"id":506061,"username":"ahmadsherif","name":"Ahmad Sherif","state":"active","avatar_url":"https://secure.gravatar.com/avatar/bd6d0ec4213b91601956c9f801cbfe9b?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahmadsherif"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/issues/5982","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/1304532/issues/5982","notes":"https://gitlab.com/api/v4/projects/1304532/issues/5982/notes","award_emoji":"https://gitlab.com/api/v4/projects/1304532/issues/5982/award_emoji","project":"https://gitlab.com/api/v4/projects/1304532","closed_as_duplicate_of":null},"references":{"short":"#5982","relative":"#5982","full":"gitlab-com/gl-infra/reliability#5982"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":32,"epic":{"id":3038,"iid":32,"title":"Service Production Inventory","url":"/groups/gitlab-com/gl-infra/-/epics/32","group_id":1112072,"human_readable_end_date":"Mar 7, 2019","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":17456971,"iid":5981,"project_id":1304532,"title":"Inventory Catalogue - Console","description":"## Task \nFill out the gSIC (GitLab Service Inventory Catalogue) template for the service. The task of filling it out is really up to us as we need to reach out to various team members in order to capture the information. \n\n## Service\nConsole\n\n## Sample Template Location\nhttps://gitlab.com/gitlab-com/www-gitlab-com/blob/5f6a07f582be3c2a15914f4773b8de8e13a6d7e9/source/handbook/engineering/infrastructure/design/sample/201901_ServiceInventoryCatalogue/service-catalogue.yml\n\n## Questions or Comments about the template?\nReach out to @aamarsanaa","state":"closed","created_at":"2019-01-18T08:16:34.563Z","updated_at":"2019-01-25T16:24:42.102Z","closed_at":"2019-01-25T16:24:42.077Z","closed_by":{"id":506061,"username":"ahmadsherif","name":"Ahmad Sherif","state":"active","avatar_url":"https://secure.gravatar.com/avatar/bd6d0ec4213b91601956c9f801cbfe9b?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahmadsherif"},"labels":["OKR","auto updated"],"milestone":{"id":756353,"iid":62,"project_id":1304532,"title":"JF team 2019 week 3","description":"","state":"closed","created_at":"2019-01-10T15:23:52.245Z","updated_at":"2019-01-29T09:59:00.137Z","due_date":"2019-01-25","start_date":"2019-01-14","expired":true,"web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/milestones/62"},"assignees":[{"id":506061,"username":"ahmadsherif","name":"Ahmad Sherif","state":"active","avatar_url":"https://secure.gravatar.com/avatar/bd6d0ec4213b91601956c9f801cbfe9b?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahmadsherif"}],"author":{"id":2601632,"username":"aamarsanaa","name":"Amarbayar Amarsanaa","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2601632/avatar.png","web_url":"https://gitlab.com/aamarsanaa"},"type":"ISSUE","assignee":{"id":506061,"username":"ahmadsherif","name":"Ahmad Sherif","state":"active","avatar_url":"https://secure.gravatar.com/avatar/bd6d0ec4213b91601956c9f801cbfe9b?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahmadsherif"},"user_notes_count":1,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/issues/5981","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/1304532/issues/5981","notes":"https://gitlab.com/api/v4/projects/1304532/issues/5981/notes","award_emoji":"https://gitlab.com/api/v4/projects/1304532/issues/5981/award_emoji","project":"https://gitlab.com/api/v4/projects/1304532","closed_as_duplicate_of":null},"references":{"short":"#5981","relative":"#5981","full":"gitlab-com/gl-infra/reliability#5981"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":32,"epic":{"id":3038,"iid":32,"title":"Service Production Inventory","url":"/groups/gitlab-com/gl-infra/-/epics/32","group_id":1112072,"human_readable_end_date":"Mar 7, 2019","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":17456959,"iid":5980,"project_id":1304532,"title":"Inventory Catalogue - Blackbox","description":"## Task \nFill out the gSIC (GitLab Service Inventory Catalogue) template for the service. The task of filling it out is really up to us as we need to reach out to various team members in order to capture the information. \n\n## Service\nBlackbox\n\n## Sample Template Location\nhttps://gitlab.com/gitlab-com/www-gitlab-com/blob/5f6a07f582be3c2a15914f4773b8de8e13a6d7e9/source/handbook/engineering/infrastructure/design/sample/201901_ServiceInventoryCatalogue/service-catalogue.yml\n\n## Questions or Comments about the template?\nReach out to @aamarsanaa","state":"closed","created_at":"2019-01-18T08:16:06.442Z","updated_at":"2019-01-25T16:25:35.750Z","closed_at":"2019-01-25T16:10:10.574Z","closed_by":{"id":506061,"username":"ahmadsherif","name":"Ahmad Sherif","state":"active","avatar_url":"https://secure.gravatar.com/avatar/bd6d0ec4213b91601956c9f801cbfe9b?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahmadsherif"},"labels":["OKR"],"milestone":{"id":756353,"iid":62,"project_id":1304532,"title":"JF team 2019 week 3","description":"","state":"closed","created_at":"2019-01-10T15:23:52.245Z","updated_at":"2019-01-29T09:59:00.137Z","due_date":"2019-01-25","start_date":"2019-01-14","expired":true,"web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/milestones/62"},"assignees":[{"id":506061,"username":"ahmadsherif","name":"Ahmad Sherif","state":"active","avatar_url":"https://secure.gravatar.com/avatar/bd6d0ec4213b91601956c9f801cbfe9b?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahmadsherif"}],"author":{"id":2601632,"username":"aamarsanaa","name":"Amarbayar Amarsanaa","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2601632/avatar.png","web_url":"https://gitlab.com/aamarsanaa"},"type":"ISSUE","assignee":{"id":506061,"username":"ahmadsherif","name":"Ahmad Sherif","state":"active","avatar_url":"https://secure.gravatar.com/avatar/bd6d0ec4213b91601956c9f801cbfe9b?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahmadsherif"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/issues/5980","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/1304532/issues/5980","notes":"https://gitlab.com/api/v4/projects/1304532/issues/5980/notes","award_emoji":"https://gitlab.com/api/v4/projects/1304532/issues/5980/award_emoji","project":"https://gitlab.com/api/v4/projects/1304532","closed_as_duplicate_of":null},"references":{"short":"#5980","relative":"#5980","full":"gitlab-com/gl-infra/reliability#5980"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":32,"epic":{"id":3038,"iid":32,"title":"Service Production Inventory","url":"/groups/gitlab-com/gl-infra/-/epics/32","group_id":1112072,"human_readable_end_date":"Mar 7, 2019","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":17456938,"iid":5979,"project_id":1304532,"title":"Inventory Catalogue - API","description":"## Task \nFill out the gSIC (GitLab Service Inventory Catalogue) template for the service. The task of filling it out is really up to us as we need to reach out to various team members in order to capture the information. \n\n## Service\nAPI\n\n## Sample Template Location\nhttps://gitlab.com/gitlab-com/www-gitlab-com/blob/5f6a07f582be3c2a15914f4773b8de8e13a6d7e9/source/handbook/engineering/infrastructure/design/sample/201901_ServiceInventoryCatalogue/service-catalogue.yml\n\n## Questions or Comments about the template?\nReach out to @aamarsanaa","state":"closed","created_at":"2019-01-18T08:15:29.046Z","updated_at":"2019-01-25T16:25:35.724Z","closed_at":"2019-01-25T15:56:40.422Z","closed_by":{"id":506061,"username":"ahmadsherif","name":"Ahmad Sherif","state":"active","avatar_url":"https://secure.gravatar.com/avatar/bd6d0ec4213b91601956c9f801cbfe9b?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahmadsherif"},"labels":["OKR","auto updated"],"milestone":{"id":756353,"iid":62,"project_id":1304532,"title":"JF team 2019 week 3","description":"","state":"closed","created_at":"2019-01-10T15:23:52.245Z","updated_at":"2019-01-29T09:59:00.137Z","due_date":"2019-01-25","start_date":"2019-01-14","expired":true,"web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/milestones/62"},"assignees":[{"id":506061,"username":"ahmadsherif","name":"Ahmad Sherif","state":"active","avatar_url":"https://secure.gravatar.com/avatar/bd6d0ec4213b91601956c9f801cbfe9b?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahmadsherif"}],"author":{"id":2601632,"username":"aamarsanaa","name":"Amarbayar Amarsanaa","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2601632/avatar.png","web_url":"https://gitlab.com/aamarsanaa"},"type":"ISSUE","assignee":{"id":506061,"username":"ahmadsherif","name":"Ahmad Sherif","state":"active","avatar_url":"https://secure.gravatar.com/avatar/bd6d0ec4213b91601956c9f801cbfe9b?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahmadsherif"},"user_notes_count":3,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/issues/5979","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/1304532/issues/5979","notes":"https://gitlab.com/api/v4/projects/1304532/issues/5979/notes","award_emoji":"https://gitlab.com/api/v4/projects/1304532/issues/5979/award_emoji","project":"https://gitlab.com/api/v4/projects/1304532","closed_as_duplicate_of":null},"references":{"short":"#5979","relative":"#5979","full":"gitlab-com/gl-infra/reliability#5979"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":32,"epic":{"id":3038,"iid":32,"title":"Service Production Inventory","url":"/groups/gitlab-com/gl-infra/-/epics/32","group_id":1112072,"human_readable_end_date":"Mar 7, 2019","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":17443838,"iid":5977,"project_id":1304532,"title":"Add Gitter VPCs to terraform","description":"The current Gitter VPCs were manually created and are not managed within Terraform; we should add those to terraform and import the current resources to the state file.","state":"closed","created_at":"2019-01-17T19:08:40.115Z","updated_at":"2020-11-18T19:27:11.536Z","closed_at":"2020-01-31T13:18:21.959Z","closed_by":{"id":528408,"username":"asandov","name":"AnthonySandoval","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/528408/avatar.png","web_url":"https://gitlab.com/asandov"},"labels":["Gitter","automation","group::gitter","terraform","workflow-infra::Cancelled"],"milestone":null,"assignees":[],"author":{"id":693144,"username":"craig","name":"Craig Barrett","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c8dfa1ca41754b9409068e5e42080cd2?s=80\u0026d=identicon","web_url":"https://gitlab.com/craig"},"type":"ISSUE","assignee":null,"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/issues/5977","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/1304532/issues/5977","notes":"https://gitlab.com/api/v4/projects/1304532/issues/5977/notes","award_emoji":"https://gitlab.com/api/v4/projects/1304532/issues/5977/award_emoji","project":"https://gitlab.com/api/v4/projects/1304532","closed_as_duplicate_of":null},"references":{"short":"#5977","relative":"#5977","full":"gitlab-com/gl-infra/reliability#5977"},"severity":"UNKNOWN","moved_to_id":74586095,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":17443767,"iid":5976,"project_id":1304532,"title":"Add terraform state bucket and dynamodb table to Gitter AWS account","description":"As a step towards automating Gitter terraform deployments, we need to [setup](https://www.terraform.io/docs/backends/types/s3.html) an AWS S3 bucket for remote state and a DynamoDB table for state locking.","state":"closed","created_at":"2019-01-17T19:05:43.607Z","updated_at":"2020-11-18T19:27:12.798Z","closed_at":"2019-01-23T19:55:44.841Z","closed_by":{"id":693144,"username":"craig","name":"Craig Barrett","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c8dfa1ca41754b9409068e5e42080cd2?s=80\u0026d=identicon","web_url":"https://gitlab.com/craig"},"labels":["Gitter","automation","group::gitter","terraform"],"milestone":{"id":757545,"iid":63,"project_id":1304532,"title":"AS Team 2019 Week 3","description":"","state":"closed","created_at":"2019-01-11T21:44:30.740Z","updated_at":"2019-01-29T02:23:18.245Z","due_date":"2019-01-27","start_date":"2019-01-14","expired":true,"web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/milestones/63"},"assignees":[{"id":693144,"username":"craig","name":"Craig Barrett","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c8dfa1ca41754b9409068e5e42080cd2?s=80\u0026d=identicon","web_url":"https://gitlab.com/craig"}],"author":{"id":693144,"username":"craig","name":"Craig Barrett","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c8dfa1ca41754b9409068e5e42080cd2?s=80\u0026d=identicon","web_url":"https://gitlab.com/craig"},"type":"ISSUE","assignee":{"id":693144,"username":"craig","name":"Craig Barrett","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c8dfa1ca41754b9409068e5e42080cd2?s=80\u0026d=identicon","web_url":"https://gitlab.com/craig"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/issues/5976","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/1304532/issues/5976","notes":"https://gitlab.com/api/v4/projects/1304532/issues/5976/notes","award_emoji":"https://gitlab.com/api/v4/projects/1304532/issues/5976/award_emoji","project":"https://gitlab.com/api/v4/projects/1304532","closed_as_duplicate_of":null},"references":{"short":"#5976","relative":"#5976","full":"gitlab-com/gl-infra/reliability#5976"},"severity":"UNKNOWN","moved_to_id":74586097,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":17441944,"iid":5973,"project_id":1304532,"title":"Chatbot not showing production on-call overrides","description":"`/chatops run oncall prod` is only returning the Escalation Manager when the primary on-call is an override","state":"closed","created_at":"2019-01-17T17:13:39.950Z","updated_at":"2019-01-17T18:23:53.255Z","closed_at":"2019-01-17T18:03:46.926Z","closed_by":{"id":2336046,"username":"devin","name":"Devin Sylva","state":"active","avatar_url":"https://secure.gravatar.com/avatar/424b025122218e9a586245e301c1c725?s=80\u0026d=identicon","web_url":"https://gitlab.com/devin"},"labels":["chatops"],"milestone":null,"assignees":[{"id":2336046,"username":"devin","name":"Devin Sylva","state":"active","avatar_url":"https://secure.gravatar.com/avatar/424b025122218e9a586245e301c1c725?s=80\u0026d=identicon","web_url":"https://gitlab.com/devin"}],"author":{"id":2336046,"username":"devin","name":"Devin Sylva","state":"active","avatar_url":"https://secure.gravatar.com/avatar/424b025122218e9a586245e301c1c725?s=80\u0026d=identicon","web_url":"https://gitlab.com/devin"},"type":"ISSUE","assignee":{"id":2336046,"username":"devin","name":"Devin Sylva","state":"active","avatar_url":"https://secure.gravatar.com/avatar/424b025122218e9a586245e301c1c725?s=80\u0026d=identicon","web_url":"https://gitlab.com/devin"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/issues/5973","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/1304532/issues/5973","notes":"https://gitlab.com/api/v4/projects/1304532/issues/5973/notes","award_emoji":"https://gitlab.com/api/v4/projects/1304532/issues/5973/award_emoji","project":"https://gitlab.com/api/v4/projects/1304532","closed_as_duplicate_of":null},"references":{"short":"#5973","relative":"#5973","full":"gitlab-com/gl-infra/reliability#5973"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":17439306,"iid":5970,"project_id":1304532,"title":"Setup network-level access to database replica for ELT loads","description":"This is the second part of https://gitlab.com/gitlab-com/gl-infra/infrastructure/issues/5847: Provide network-level access (VPC + firewall rules) to the archive replica in gprd for the ELT job runner. See the discussion over in https://gitlab.com/gitlab-com/gl-infra/infrastructure/issues/5847.\n\nDetails:\n* Network access to the archive replica `postgres-dr-archive-01-db-gprd.c.gitlab-production.internal`\n* From the `gitlab-analysis` project's network\n* Limit access to resources in `gitlab-production` to only said replica","state":"closed","created_at":"2019-01-17T15:29:40.570Z","updated_at":"2021-06-24T08:10:18.522Z","closed_at":"2019-06-03T10:09:57.344Z","closed_by":{"id":3417286,"username":"mwasilewski-gitlab","name":"Michal Wasilewski","state":"blocked","avatar_url":"https://secure.gravatar.com/avatar/2a9fc70321a9df494ecdc8f178df11dd?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwasilewski-gitlab"},"labels":["Database [pl]","auto updated","network","priority::1","team::Reliability","workflow-infra::Done"],"milestone":{"id":859879,"iid":19,"group_id":1112072,"title":"Dev \u0026 Ops Team 2019 June","description":"","state":"closed","created_at":"2019-04-29T02:51:21.585Z","updated_at":"2019-10-07T19:07:42.692Z","due_date":"2019-06-28","start_date":"2019-06-03","expired":true,"web_url":"https://gitlab.com/groups/gitlab-com/gl-infra/-/milestones/19"},"assignees":[{"id":3417286,"username":"mwasilewski-gitlab","name":"Michal Wasilewski","state":"blocked","avatar_url":"https://secure.gravatar.com/avatar/2a9fc70321a9df494ecdc8f178df11dd?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwasilewski-gitlab"}],"author":{"id":1562869,"username":"abrandl","name":"Andreas Brandl","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1562869/avatar.png","web_url":"https://gitlab.com/abrandl"},"type":"ISSUE","assignee":{"id":3417286,"username":"mwasilewski-gitlab","name":"Michal Wasilewski","state":"blocked","avatar_url":"https://secure.gravatar.com/avatar/2a9fc70321a9df494ecdc8f178df11dd?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwasilewski-gitlab"},"user_notes_count":57,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/issues/5970","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/1304532/issues/5970","notes":"https://gitlab.com/api/v4/projects/1304532/issues/5970/notes","award_emoji":"https://gitlab.com/api/v4/projects/1304532/issues/5970/award_emoji","project":"https://gitlab.com/api/v4/projects/1304532","closed_as_duplicate_of":null},"references":{"short":"#5970","relative":"#5970","full":"gitlab-com/gl-infra/reliability#5970"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":17431133,"iid":5969,"project_id":1304532,"title":"Review Candidate Questionnaire for PS","description":"Review completed: https://app2.greenhouse.io/people/14331312002?application_id=15824625002","state":"closed","created_at":"2019-01-17T10:21:45.216Z","updated_at":"2019-01-17T18:23:53.218Z","closed_at":"2019-01-17T10:21:54.422Z","closed_by":{"id":2601632,"username":"aamarsanaa","name":"Amarbayar Amarsanaa","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2601632/avatar.png","web_url":"https://gitlab.com/aamarsanaa"},"labels":[],"milestone":{"id":756353,"iid":62,"project_id":1304532,"title":"JF team 2019 week 3","description":"","state":"closed","created_at":"2019-01-10T15:23:52.245Z","updated_at":"2019-01-29T09:59:00.137Z","due_date":"2019-01-25","start_date":"2019-01-14","expired":true,"web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/milestones/62"},"assignees":[{"id":2601632,"username":"aamarsanaa","name":"Amarbayar Amarsanaa","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2601632/avatar.png","web_url":"https://gitlab.com/aamarsanaa"}],"author":{"id":2601632,"username":"aamarsanaa","name":"Amarbayar Amarsanaa","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2601632/avatar.png","web_url":"https://gitlab.com/aamarsanaa"},"type":"ISSUE","assignee":{"id":2601632,"username":"aamarsanaa","name":"Amarbayar Amarsanaa","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2601632/avatar.png","web_url":"https://gitlab.com/aamarsanaa"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/issues/5969","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/1304532/issues/5969","notes":"https://gitlab.com/api/v4/projects/1304532/issues/5969/notes","award_emoji":"https://gitlab.com/api/v4/projects/1304532/issues/5969/award_emoji","project":"https://gitlab.com/api/v4/projects/1304532","closed_as_duplicate_of":null},"references":{"short":"#5969","relative":"#5969","full":"gitlab-com/gl-infra/reliability#5969"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":17410845,"iid":5966,"project_id":1304532,"title":"SSLMate Action Required cert renewals - Jan 2019","description":"We have action required emails for:\n\nCheck that we need the new certs and renew if so:\n\n* [x] ~~http://sentry.gitlap.com/ - Exp Jan 20~~\n* [x] ~~http://runners-cache-3.gitlab.com/ Jan 17~~\n* [x] ~~http://runners-cache-4.gitlab.com/ Jan 30~~\n* [x] http://forum.gitlab.com/ Feb 13\n* [x] http://ee.gitlab.com/ - Jan 26\n* [x] http://ce.gitlab.com/ - Jan 26\n* [x] http://jobs.gitlab.com/ - Jan 26\n* [x] ~~http://alerts.gitlab.com/ - Jan 21~~\n* [x] http://prometheus.gitlab.com/ - Jan 21","state":"closed","created_at":"2019-01-17T00:44:54.286Z","updated_at":"2019-02-10T00:12:42.948Z","closed_at":"2019-01-28T19:02:08.017Z","closed_by":{"id":429540,"username":"ahanselka","name":"Alex Hanselka","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/429540/avatar.png","web_url":"https://gitlab.com/ahanselka"},"labels":["moved 1","toil","unscheduled"],"milestone":{"id":753073,"iid":60,"project_id":1304532,"title":"DS team 2019 Week 5","description":"","state":"closed","created_at":"2019-01-07T21:39:55.723Z","updated_at":"2019-03-12T14:16:08.052Z","due_date":"2019-02-10","start_date":"2019-01-28","expired":true,"web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/milestones/60"},"assignees":[{"id":429540,"username":"ahanselka","name":"Alex Hanselka","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/429540/avatar.png","web_url":"https://gitlab.com/ahanselka"},{"id":2524675,"username":"skarbek","name":"John Skarbek","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c6455ce4726023aac6dd7fb0acd1f236?s=80\u0026d=identicon","web_url":"https://gitlab.com/skarbek"}],"author":{"id":2222520,"username":"dawsmith","name":"Dave Smith","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ef341e061f6b86461626e64c5fbcfe52?s=80\u0026d=identicon","web_url":"https://gitlab.com/dawsmith"},"type":"ISSUE","assignee":{"id":429540,"username":"ahanselka","name":"Alex Hanselka","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/429540/avatar.png","web_url":"https://gitlab.com/ahanselka"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2019-01-18","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/issues/5966","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":9,"completed_count":9},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/1304532/issues/5966","notes":"https://gitlab.com/api/v4/projects/1304532/issues/5966/notes","award_emoji":"https://gitlab.com/api/v4/projects/1304532/issues/5966/award_emoji","project":"https://gitlab.com/api/v4/projects/1304532","closed_as_duplicate_of":null},"references":{"short":"#5966","relative":"#5966","full":"gitlab-com/gl-infra/reliability#5966"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":17407249,"iid":5963,"project_id":1304532,"title":"RackSpace Access for Kathy Wang","description":"@kathyw used to have access to review the billing under our GCP contract and would like the same access under RackSpace.\n\nShe needs a RackSpace Portal account with Billing Overview privileges.","state":"closed","created_at":"2019-01-16T20:08:39.769Z","updated_at":"2019-01-21T00:24:52.338Z","closed_at":"2019-01-19T04:18:14.048Z","closed_by":{"id":478289,"username":"northrup","name":"John Northrup","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f076b1aa65652a2852e897baf0a65ba0?s=80\u0026d=identicon","web_url":"https://gitlab.com/northrup"},"labels":["access request","toil"],"milestone":{"id":753074,"iid":61,"project_id":1304532,"title":"Completed 2019-01-26","description":"On call work milestone - tracking issues worked by oncall.\r\n","state":"closed","created_at":"2019-01-07T21:41:02.373Z","updated_at":"2019-02-03T16:29:51.114Z","due_date":"2019-01-26","start_date":"2019-01-13","expired":true,"web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/milestones/61"},"assignees":[],"author":{"id":478289,"username":"northrup","name":"John Northrup","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f076b1aa65652a2852e897baf0a65ba0?s=80\u0026d=identicon","web_url":"https://gitlab.com/northrup"},"type":"ISSUE","assignee":null,"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/issues/5963","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/1304532/issues/5963","notes":"https://gitlab.com/api/v4/projects/1304532/issues/5963/notes","award_emoji":"https://gitlab.com/api/v4/projects/1304532/issues/5963/award_emoji","project":"https://gitlab.com/api/v4/projects/1304532","closed_as_duplicate_of":null},"references":{"short":"#5963","relative":"#5963","full":"gitlab-com/gl-infra/reliability#5963"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":17396320,"iid":5961,"project_id":1304532,"title":"Many nodes in chef server which are not connecting","description":"There are many nodes in the chef server which are not connecting to the server and pulling data.\n\nThese servers should either be removed from the list of known hosts, or should be made to connect and pull data.\n\nI am putting the list here so we can have some discussion first, in case any of them are in this state on purpose.\n\nHere is the list:\n\n```\njjn@thor ~/Workspace $ knife status --hide-by-mins 600\n11964 hours ago, lfs1.single.gitlab.com, ubuntu 16.04.\n10475 hours ago, sync-nfs-02.geo.gitlab.com, ubuntu 16.04.\n10475 hours ago, sync-nfs-01.geo.gitlab.com, ubuntu 16.04.\n10263 hours ago, redis-cache-01.db.prometheus-testbed.helm-charts-win, ubuntu 16.04.\n10263 hours ago, redis-cache-02.db.prometheus-testbed.helm-charts-win, ubuntu 16.04.\n7881 hours ago, omnibus-builder-runners-manager.gitlab.org, ubuntu 16.04.\n7770 hours ago, sentry-infra.gitlap.com, ubuntu 16.04.\n4449 hours ago, consul-03.inf.stg.gitlab.net, ubuntu 16.04.\n4449 hours ago, consul-02.inf.stg.gitlab.net, ubuntu 16.04.\n4448 hours ago, consul-01.inf.stg.gitlab.net, ubuntu 16.04.\n4116 hours ago, deploy.gitlab.com, ubuntu 16.04.\n2569 hours ago, customers.stg.gitlab.com, ubuntu 16.04.\n2218 hours ago, contributors-01-sv-gstg.c.gitlab-staging-1.internal, ubuntu 16.04.\n2217 hours ago, contributors-01-sv-gprd.c.gitlab-production.internal, ubuntu 16.04.\n1715 hours ago, contributors.gitlab.com, ubuntu 14.04.\n1014 hours ago, blackbox.gitlab.com, ubuntu 16.04.\njjn@thor ~/Workspace $\n```","state":"closed","created_at":"2019-01-16T16:28:55.845Z","updated_at":"2019-08-27T22:27:58.061Z","closed_at":"2019-08-27T22:00:49.030Z","closed_by":{"id":2336046,"username":"devin","name":"Devin Sylva","state":"active","avatar_url":"https://secure.gravatar.com/avatar/424b025122218e9a586245e301c1c725?s=80\u0026d=identicon","web_url":"https://gitlab.com/devin"},"labels":["auto updated","chef","cleanup","unscheduled"],"milestone":{"id":786143,"iid":74,"project_id":1304532,"title":"Current","description":"Current milestone for ~oncall","state":"closed","created_at":"2019-02-10T00:14:42.318Z","updated_at":"2019-03-06T16:08:54.602Z","due_date":"2019-02-23","start_date":"2019-02-10","expired":true,"web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/milestones/74"},"assignees":[{"id":2336046,"username":"devin","name":"Devin Sylva","state":"active","avatar_url":"https://secure.gravatar.com/avatar/424b025122218e9a586245e301c1c725?s=80\u0026d=identicon","web_url":"https://gitlab.com/devin"}],"author":{"id":2336046,"username":"devin","name":"Devin Sylva","state":"active","avatar_url":"https://secure.gravatar.com/avatar/424b025122218e9a586245e301c1c725?s=80\u0026d=identicon","web_url":"https://gitlab.com/devin"},"type":"ISSUE","assignee":{"id":2336046,"username":"devin","name":"Devin Sylva","state":"active","avatar_url":"https://secure.gravatar.com/avatar/424b025122218e9a586245e301c1c725?s=80\u0026d=identicon","web_url":"https://gitlab.com/devin"},"user_notes_count":6,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/issues/5961","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/1304532/issues/5961","notes":"https://gitlab.com/api/v4/projects/1304532/issues/5961/notes","award_emoji":"https://gitlab.com/api/v4/projects/1304532/issues/5961/award_emoji","project":"https://gitlab.com/api/v4/projects/1304532","closed_as_duplicate_of":null},"references":{"short":"#5961","relative":"#5961","full":"gitlab-com/gl-infra/reliability#5961"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":17374791,"iid":5956,"project_id":1304532,"title":"about-src.gitlab.com not downloading latest cookbooks","description":"about-src.gitlab.com is not downloading the latest cookbooks pinned on the chef server.\n\nSince the node `about.gitlab.com` was renamed in DNS to `about-src.gitlab.com` for our CDN SSL configuration, I think the hostname and node name on the Chef server also need to be updated, following the process in https://gitlab.com/gitlab-com/runbooks/blob/master/howto/rename-nodes.md.\n\n/cc @northrup for a sanity check","state":"closed","created_at":"2019-01-15T23:28:49.204Z","updated_at":"2019-01-16T18:58:28.372Z","closed_at":"2019-01-16T02:32:27.494Z","closed_by":{"id":478289,"username":"northrup","name":"John Northrup","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f076b1aa65652a2852e897baf0a65ba0?s=80\u0026d=identicon","web_url":"https://gitlab.com/northrup"},"labels":["unscheduled"],"milestone":{"id":757545,"iid":63,"project_id":1304532,"title":"AS Team 2019 Week 3","description":"","state":"closed","created_at":"2019-01-11T21:44:30.740Z","updated_at":"2019-01-29T02:23:18.245Z","due_date":"2019-01-27","start_date":"2019-01-14","expired":true,"web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/milestones/63"},"assignees":[],"author":{"id":693144,"username":"craig","name":"Craig Barrett","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c8dfa1ca41754b9409068e5e42080cd2?s=80\u0026d=identicon","web_url":"https://gitlab.com/craig"},"type":"ISSUE","assignee":null,"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/issues/5956","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/1304532/issues/5956","notes":"https://gitlab.com/api/v4/projects/1304532/issues/5956/notes","award_emoji":"https://gitlab.com/api/v4/projects/1304532/issues/5956/award_emoji","project":"https://gitlab.com/api/v4/projects/1304532","closed_as_duplicate_of":null},"references":{"short":"#5956","relative":"#5956","full":"gitlab-com/gl-infra/reliability#5956"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":17373801,"iid":5954,"project_id":1304532,"title":"Chef Service Stale on gprd Patroni Servers","description":"Test by running:\r\n```\r\n$ knife status --hide-by-mins 60\r\n```\r\nNodes effected are: \r\n\r\n```\r\n8 hours ago, patroni-02-db-gstg.c.gitlab-staging-1.internal, ubuntu 16.04.\r\n6 hours ago, pgbouncer-01-db-gstg.c.gitlab-staging-1.internal, ubuntu 16.04.\r\n6 hours ago, pgbouncer-03-db-gstg.c.gitlab-staging-1.internal, ubuntu 16.04.\r\n6 hours ago, patroni-04-db-gstg.c.gitlab-staging-1.internal, ubuntu 16.04.\r\n6 hours ago, patroni-01-db-gstg.c.gitlab-staging-1.internal, ubuntu 16.04.\r\n6 hours ago, patroni-05-db-gstg.c.gitlab-staging-1.internal, ubuntu 16.04.\r\n6 hours ago, pgbouncer-02-db-gstg.c.gitlab-staging-1.internal, ubuntu 16.04.\r\n6 hours ago, patroni-06-db-gstg.c.gitlab-staging-1.internal, ubuntu 16.04.\r\n6 hours ago, patroni-03-db-gstg.c.gitlab-staging-1.internal, ubuntu 16.04.\r\n5 hours ago, patroni-03-db-gprd.c.gitlab-production.internal, ubuntu 16.04.\r\n5 hours ago, patroni-02-db-gprd.c.gitlab-production.internal, ubuntu 16.04.\r\n5 hours ago, pgbouncer-03-db-gprd.c.gitlab-production.internal, ubuntu 16.04.\r\n5 hours ago, pgbouncer-01-db-gprd.c.gitlab-production.internal, ubuntu 16.04.\r\n5 hours ago, patroni-04-db-gprd.c.gitlab-production.internal, ubuntu 16.04.\r\n5 hours ago, patroni-01-db-gprd.c.gitlab-production.internal, ubuntu 16.04.\r\n5 hours ago, patroni-05-db-gprd.c.gitlab-production.internal, ubuntu 16.04.\r\n5 hours ago, patroni-06-db-gprd.c.gitlab-production.internal, ubuntu 16.04.\r\n5 hours ago, pgbouncer-02-db-gprd.c.gitlab-production.internal, ubuntu 16.04.\r\n4 hours ago, runner-release-01-inf-ops.c.gitlab-ops.internal, ubuntu 16.04.\r\n```","state":"closed","created_at":"2019-01-15T22:04:23.440Z","updated_at":"2019-01-16T07:24:54.548Z","closed_at":"2019-01-16T06:25:03.115Z","closed_by":{"id":2601632,"username":"aamarsanaa","name":"Amarbayar Amarsanaa","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2601632/avatar.png","web_url":"https://gitlab.com/aamarsanaa"},"labels":["alert","chef","oncall","unscheduled"],"milestone":{"id":753074,"iid":61,"project_id":1304532,"title":"Completed 2019-01-26","description":"On call work milestone - tracking issues worked by oncall.\r\n","state":"closed","created_at":"2019-01-07T21:41:02.373Z","updated_at":"2019-02-03T16:29:51.114Z","due_date":"2019-01-26","start_date":"2019-01-13","expired":true,"web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/milestones/61"},"assignees":[{"id":2336046,"username":"devin","name":"Devin Sylva","state":"active","avatar_url":"https://secure.gravatar.com/avatar/424b025122218e9a586245e301c1c725?s=80\u0026d=identicon","web_url":"https://gitlab.com/devin"}],"author":{"id":2336046,"username":"devin","name":"Devin Sylva","state":"active","avatar_url":"https://secure.gravatar.com/avatar/424b025122218e9a586245e301c1c725?s=80\u0026d=identicon","web_url":"https://gitlab.com/devin"},"type":"ISSUE","assignee":{"id":2336046,"username":"devin","name":"Devin Sylva","state":"active","avatar_url":"https://secure.gravatar.com/avatar/424b025122218e9a586245e301c1c725?s=80\u0026d=identicon","web_url":"https://gitlab.com/devin"},"user_notes_count":14,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/issues/5954","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/1304532/issues/5954","notes":"https://gitlab.com/api/v4/projects/1304532/issues/5954/notes","award_emoji":"https://gitlab.com/api/v4/projects/1304532/issues/5954/award_emoji","project":"https://gitlab.com/api/v4/projects/1304532","closed_as_duplicate_of":null},"references":{"short":"#5954","relative":"#5954","full":"gitlab-com/gl-infra/reliability#5954"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":17370685,"iid":5953,"project_id":1304532,"title":"Stale Chef Runs in Production","description":"Chef runs were stale on several production servers.\n\n```\nprometheus-01.nyc1.do.gitlab-runners.gitlab.net\n\nprometheus-01-inf-gprd.c.gitlab-production.internal\nprometheus-02-inf-gprd.c.gitlab-production.internal\n\ndeploy-01-sv-gprd.c.gitlab-production.internal\n\nfile-04-stor-gprd.c.gitlab-production.internal\nfile-18-stor-gprd.c.gitlab-production.internal\n```","state":"closed","created_at":"2019-01-15T18:44:44.214Z","updated_at":"2019-01-15T19:24:48.738Z","closed_at":"2019-01-15T18:53:31.109Z","closed_by":{"id":2336046,"username":"devin","name":"Devin Sylva","state":"active","avatar_url":"https://secure.gravatar.com/avatar/424b025122218e9a586245e301c1c725?s=80\u0026d=identicon","web_url":"https://gitlab.com/devin"},"labels":["alert","chef","oncall","unscheduled"],"milestone":{"id":753074,"iid":61,"project_id":1304532,"title":"Completed 2019-01-26","description":"On call work milestone - tracking issues worked by oncall.\r\n","state":"closed","created_at":"2019-01-07T21:41:02.373Z","updated_at":"2019-02-03T16:29:51.114Z","due_date":"2019-01-26","start_date":"2019-01-13","expired":true,"web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/milestones/61"},"assignees":[{"id":2336046,"username":"devin","name":"Devin Sylva","state":"active","avatar_url":"https://secure.gravatar.com/avatar/424b025122218e9a586245e301c1c725?s=80\u0026d=identicon","web_url":"https://gitlab.com/devin"}],"author":{"id":2336046,"username":"devin","name":"Devin Sylva","state":"active","avatar_url":"https://secure.gravatar.com/avatar/424b025122218e9a586245e301c1c725?s=80\u0026d=identicon","web_url":"https://gitlab.com/devin"},"type":"ISSUE","assignee":{"id":2336046,"username":"devin","name":"Devin Sylva","state":"active","avatar_url":"https://secure.gravatar.com/avatar/424b025122218e9a586245e301c1c725?s=80\u0026d=identicon","web_url":"https://gitlab.com/devin"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/issues/5953","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/1304532/issues/5953","notes":"https://gitlab.com/api/v4/projects/1304532/issues/5953/notes","award_emoji":"https://gitlab.com/api/v4/projects/1304532/issues/5953/award_emoji","project":"https://gitlab.com/api/v4/projects/1304532","closed_as_duplicate_of":null},"references":{"short":"#5953","relative":"#5953","full":"gitlab-com/gl-infra/reliability#5953"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":17347657,"iid":5946,"project_id":1304532,"title":"Fix payment issues on services","description":"See notification emails of payment fail for link to fix for:\n\n1. [x] Dead man's snitch\n2. [ ] scaleway\n3. [x] Digital ocean","state":"closed","created_at":"2019-01-15T00:08:58.210Z","updated_at":"2019-04-03T18:38:23.228Z","closed_at":"2019-01-16T00:24:47.680Z","closed_by":{"id":478289,"username":"northrup","name":"John Northrup","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f076b1aa65652a2852e897baf0a65ba0?s=80\u0026d=identicon","web_url":"https://gitlab.com/northrup"},"labels":["auto updated","toil","unscheduled"],"milestone":{"id":753072,"iid":59,"project_id":1304532,"title":"DS Team 2019 Week 3","description":"Finish DR, Spike consul, kick of CI/CD, Spike and scope K8s in Q1 OKR","state":"closed","created_at":"2019-01-07T21:39:28.108Z","updated_at":"2019-01-26T19:47:59.561Z","due_date":"2019-01-25","start_date":"2019-01-14","expired":true,"web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/milestones/59"},"assignees":[{"id":478289,"username":"northrup","name":"John Northrup","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f076b1aa65652a2852e897baf0a65ba0?s=80\u0026d=identicon","web_url":"https://gitlab.com/northrup"}],"author":{"id":2222520,"username":"dawsmith","name":"Dave Smith","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ef341e061f6b86461626e64c5fbcfe52?s=80\u0026d=identicon","web_url":"https://gitlab.com/dawsmith"},"type":"ISSUE","assignee":{"id":478289,"username":"northrup","name":"John Northrup","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f076b1aa65652a2852e897baf0a65ba0?s=80\u0026d=identicon","web_url":"https://gitlab.com/northrup"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/issues/5946","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":2},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/1304532/issues/5946","notes":"https://gitlab.com/api/v4/projects/1304532/issues/5946/notes","award_emoji":"https://gitlab.com/api/v4/projects/1304532/issues/5946/award_emoji","project":"https://gitlab.com/api/v4/projects/1304532","closed_as_duplicate_of":null},"references":{"short":"#5946","relative":"#5946","full":"gitlab-com/gl-infra/reliability#5946"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":17347202,"iid":5945,"project_id":1304532,"title":"Share learnings about Terraform changes from Dec 21 RCA","description":"Part of the discussion on the RCA from the December 21st incident was to document ideas on how to make sure we don't have conflicts in Terraform that could force us to go to the GCP console to clean up things.  \n[RCA for Dec 21](https://gitlab.com/gitlab-com/gl-infra/infrastructure/issues/5813)\n\nhttps://ops.gitlab.net/gitlab-com/gitlab-com-infrastructure/merge_requests/671 tracks proposed notes about process.  Creating this issue to point discussion to that MR.","state":"closed","created_at":"2019-01-14T23:38:33.960Z","updated_at":"2019-01-25T00:24:42.748Z","closed_at":"2019-01-24T23:35:32.569Z","closed_by":{"id":2222520,"username":"dawsmith","name":"Dave Smith","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ef341e061f6b86461626e64c5fbcfe52?s=80\u0026d=identicon","web_url":"https://gitlab.com/dawsmith"},"labels":["auto updated","corrective action"],"milestone":{"id":753072,"iid":59,"project_id":1304532,"title":"DS Team 2019 Week 3","description":"Finish DR, Spike consul, kick of CI/CD, Spike and scope K8s in Q1 OKR","state":"closed","created_at":"2019-01-07T21:39:28.108Z","updated_at":"2019-01-26T19:47:59.561Z","due_date":"2019-01-25","start_date":"2019-01-14","expired":true,"web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/milestones/59"},"assignees":[{"id":2222520,"username":"dawsmith","name":"Dave Smith","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ef341e061f6b86461626e64c5fbcfe52?s=80\u0026d=identicon","web_url":"https://gitlab.com/dawsmith"}],"author":{"id":2222520,"username":"dawsmith","name":"Dave Smith","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ef341e061f6b86461626e64c5fbcfe52?s=80\u0026d=identicon","web_url":"https://gitlab.com/dawsmith"},"type":"ISSUE","assignee":{"id":2222520,"username":"dawsmith","name":"Dave Smith","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ef341e061f6b86461626e64c5fbcfe52?s=80\u0026d=identicon","web_url":"https://gitlab.com/dawsmith"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2019-01-18","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/issues/5945","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/1304532/issues/5945","notes":"https://gitlab.com/api/v4/projects/1304532/issues/5945/notes","award_emoji":"https://gitlab.com/api/v4/projects/1304532/issues/5945/award_emoji","project":"https://gitlab.com/api/v4/projects/1304532","closed_as_duplicate_of":null},"references":{"short":"#5945","relative":"#5945","full":"gitlab-com/gl-infra/reliability#5945"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":17343226,"iid":5943,"project_id":1304532,"title":"Review Gitter security group rules \u0026 assignments","description":"As a follow-up to #5492, we need to perform a detailed review of Gitter network security rules, both VPC ACLs and per-instance rules in EC2/VPC Security Groups.\n\nThis issue is to track discussion around reviewing EC2/VPC security groups, rules, and assignment to EC2 instances for necessary ingress/egress filtering, and relating any MRs to implement changes.","state":"closed","created_at":"2019-01-14T20:26:30.930Z","updated_at":"2020-11-18T19:27:15.998Z","closed_at":"2020-11-02T21:54:07.015Z","closed_by":{"id":528408,"username":"asandov","name":"AnthonySandoval","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/528408/avatar.png","web_url":"https://gitlab.com/asandov"},"labels":["Gitter","group::gitter","security","team::Reliability"],"milestone":null,"assignees":[],"author":{"id":693144,"username":"craig","name":"Craig Barrett","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c8dfa1ca41754b9409068e5e42080cd2?s=80\u0026d=identicon","web_url":"https://gitlab.com/craig"},"type":"ISSUE","assignee":null,"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/issues/5943","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/1304532/issues/5943","notes":"https://gitlab.com/api/v4/projects/1304532/issues/5943/notes","award_emoji":"https://gitlab.com/api/v4/projects/1304532/issues/5943/award_emoji","project":"https://gitlab.com/api/v4/projects/1304532","closed_as_duplicate_of":null},"references":{"short":"#5943","relative":"#5943","full":"gitlab-com/gl-infra/reliability#5943"},"severity":"UNKNOWN","moved_to_id":74586100,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":17343190,"iid":5942,"project_id":1304532,"title":"Review Gitter VPC ACLs","description":"As a follow-up to #5492, we need to perform a detailed review of Gitter network security rules, both VPC ACLs and per-instance rules in EC2/VPC Security Groups.\n\nThis issue is to track discussion around reviewing VPC ACLs for boundary ingress/egress filtering, and relating any MRs to implement changes.","state":"closed","created_at":"2019-01-14T20:24:06.547Z","updated_at":"2020-11-18T19:27:16.919Z","closed_at":"2020-06-08T17:13:47.350Z","closed_by":{"id":528408,"username":"asandov","name":"AnthonySandoval","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/528408/avatar.png","web_url":"https://gitlab.com/asandov"},"labels":["Gitter","group::gitter","security","team::Reliability","workflow-infra::Cancelled"],"milestone":null,"assignees":[],"author":{"id":693144,"username":"craig","name":"Craig Barrett","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c8dfa1ca41754b9409068e5e42080cd2?s=80\u0026d=identicon","web_url":"https://gitlab.com/craig"},"type":"ISSUE","assignee":null,"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/issues/5942","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/1304532/issues/5942","notes":"https://gitlab.com/api/v4/projects/1304532/issues/5942/notes","award_emoji":"https://gitlab.com/api/v4/projects/1304532/issues/5942/award_emoji","project":"https://gitlab.com/api/v4/projects/1304532","closed_as_duplicate_of":null},"references":{"short":"#5942","relative":"#5942","full":"gitlab-com/gl-infra/reliability#5942"},"severity":"UNKNOWN","moved_to_id":74586101,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":17328415,"iid":5940,"project_id":1304532,"title":"Database Reviews","description":"\nCarried over from https://gitlab.com/gitlab-com/gl-infra/infrastructure/issues/5851\n* [ ] @NikolayS https://gitlab.com/gitlab-org/gitlab-ce/issues/51854#note_127186345\n* [ ] @NikolayS https://gitlab.com/gitlab-org/gitlab-ee/merge_requests/8988#note_128739113\n* [ ] Fixtures https://gitlab.com/gitlab-org/gitlab-ee/merge_requests/8240#note_129069979\n* [ ] https://gitlab.com/gitlab-org/gitlab-ce/merge_requests/23464#note_126871390\n* [ ] https://gitlab.com/gitlab-org/gitlab-ce/issues/54643#note_125483243\n\nNew:\n* [x] @abrandl https://gitlab.com/gitlab-org/gitlab-ee/merge_requests/8949#note_131363655\n* [ ] https://dev.gitlab.org/gitlab/gitlabhq/merge_requests/2734#note_145286\n* [x] @abrandl https://gitlab.com/gitlab-org/gitlab-ee/merge_requests/8949\n* [x] @abrandl https://gitlab.com/gitlab-org/gitlab-ce/merge_requests/24325\n* [x] @abrandl https://dev.gitlab.org/gitlab/gitlabhq/merge_requests/2694\n* [x] @abrandl https://gitlab.com/gitlab-org/gitlab-ce/merge_requests/24368/#cd94b16b88eadd9a4a80a04eefd02fa71e712d63\n* [x] @abrandl https://gitlab.com/gitlab-org/gitlab-ce/merge_requests/24368\n* [x] @abrandl https://gitlab.com/gitlab-org/gitlab-ce/merge_requests/24144#note_132337799\n* [x] @abrandl https://gitlab.com/gitlab-org/gitlab-ce/merge_requests/23596#note_132697035\n* [x] @NikolayS https://gitlab.com/gitlab-org/gitlab-ee/merge_requests/9110#note_132657852 \u003c\u003c :green\\_apple: @abrandl ready for approval\n* [x] @NikolayS https://gitlab.com/gitlab-org/gitlab-ce/merge_requests/24198#note_132859150 \u003c\u003c :green\\_apple: @abrandl ready for approval\n* [ ] Add a composite primary key for diff files https://gitlab.com/gitlab-org/gitlab-ce/merge_requests/24496\n* [x] @abrandl https://dev.gitlab.org/gitlab/gitlabhq/merge_requests/2734\n* [x] @abrandl https://gitlab.com/gitlab-org/gitlab-ee/merge_requests/9281\n* [x] @NikolayS https://gitlab.com/gitlab-org/gitlab-ee/merge_requests/9182#note_134446447 \u003c\u003c :green\\_apple: @abrandl ready for approval\n* [ ] int4int8 https://gitlab.com/gitlab-org/gitlab-ce/merge_requests/24512\n\nForgotten?\n* [ ] https://gitlab.com/gitlab-org/gitlab-ce/merge_requests/19740  not yet approved","state":"closed","created_at":"2019-01-14T15:25:03.802Z","updated_at":"2019-02-04T16:49:56.025Z","closed_at":"2019-01-28T09:51:24.269Z","closed_by":{"id":1562869,"username":"abrandl","name":"Andreas Brandl","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1562869/avatar.png","web_url":"https://gitlab.com/abrandl"},"labels":["Database [pl]","auto updated","toil"],"milestone":{"id":772447,"iid":70,"project_id":1304532,"title":"JF team 2019 week 5","description":"","state":"closed","created_at":"2019-01-28T08:11:41.276Z","updated_at":"2019-02-12T10:10:58.907Z","due_date":"2019-02-08","start_date":"2019-01-28","expired":true,"web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/milestones/70"},"assignees":[{"id":1562869,"username":"abrandl","name":"Andreas Brandl","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1562869/avatar.png","web_url":"https://gitlab.com/abrandl"},{"id":1906296,"username":"NikolayS","name":"Nikolay Samokhvalov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1906296/avatar.png","web_url":"https://gitlab.com/NikolayS"}],"author":{"id":1562869,"username":"abrandl","name":"Andreas Brandl","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1562869/avatar.png","web_url":"https://gitlab.com/abrandl"},"type":"ISSUE","assignee":{"id":1562869,"username":"abrandl","name":"Andreas Brandl","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1562869/avatar.png","web_url":"https://gitlab.com/abrandl"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/issues/5940","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":22,"completed_count":13},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/1304532/issues/5940","notes":"https://gitlab.com/api/v4/projects/1304532/issues/5940/notes","award_emoji":"https://gitlab.com/api/v4/projects/1304532/issues/5940/award_emoji","project":"https://gitlab.com/api/v4/projects/1304532","closed_as_duplicate_of":null},"references":{"short":"#5940","relative":"#5940","full":"gitlab-com/gl-infra/reliability#5940"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":17275391,"iid":5936,"project_id":1304532,"title":"New GCP Project for GitLab QA GKE Clusters (and maybe more for teams)","description":"We have multiple uses for creating Kubernetes clusters in GKE right now. Most people in the company (including our automated tests) are using the `gitlab-internal` project in GCP for doing this and as the company grows we are reaching our GCP limits quite regularly (most challenging to resolve is the IP range limit for multiple clusters  https://gitlab.slack.com/archives/CB07X8AQ3/p1543741063017000?thread_ts=1543741035.016900\u0026cid=CB07X8AQ3)\n\nWe (the Configure team and others) use this for testing GitLab's Kubernetes integration locally and on gitlab.com.\n\nWe also create these clusters during automated QA tests. This regularly results in failures due to exhausted resources (eg. https://gitlab.com/gitlab-org/quality/nightly/issues/50 ) and this can break in Master and requires us to ask around for people to clean up after themselves (eg. https://gitlab.slack.com/archives/C02PF508L/p1547228126465300 ) which is all a manual process.\n\nThere may be other ways to solve these quota (or IP range exhaustion) problems. Perhaps increasing GCP quotas will help but from what I understand we may need to reconfigure something in GCP to allow more IP addresses to fit in the range (see https://gitlab.com/gl-retrospectives/configure/issues/4#note_127820216) .\n\nAnother challenge with having everyone in the company using the same GCP instance is that it's difficult to encourage good habits about cleaning things up since not everybody realises that not cleaning things up could actually be creating blockers for other teams or even breaking our master build. If we had separate projects for QA then at least nobody could break the build but still the Configure team might end up blocked if we run out on `gitlab-internal`. Configure team relies heavily on this to do their work so quite possibly they will need their own GCP project as well.","state":"closed","created_at":"2019-01-11T18:01:45.650Z","updated_at":"2019-05-24T10:02:07.081Z","closed_at":"2019-01-23T05:24:30.329Z","closed_by":{"id":478289,"username":"northrup","name":"John Northrup","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f076b1aa65652a2852e897baf0a65ba0?s=80\u0026d=identicon","web_url":"https://gitlab.com/northrup"},"labels":["auto updated","oncall"],"milestone":{"id":753074,"iid":61,"project_id":1304532,"title":"Completed 2019-01-26","description":"On call work milestone - tracking issues worked by oncall.\r\n","state":"closed","created_at":"2019-01-07T21:41:02.373Z","updated_at":"2019-02-03T16:29:51.114Z","due_date":"2019-01-26","start_date":"2019-01-13","expired":true,"web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/milestones/61"},"assignees":[],"author":{"id":120073,"username":"DylanGriffith","name":"Dylan Griffith","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/120073/avatar.png","web_url":"https://gitlab.com/DylanGriffith"},"type":"ISSUE","assignee":null,"user_notes_count":18,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/issues/5936","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/1304532/issues/5936","notes":"https://gitlab.com/api/v4/projects/1304532/issues/5936/notes","award_emoji":"https://gitlab.com/api/v4/projects/1304532/issues/5936/award_emoji","project":"https://gitlab.com/api/v4/projects/1304532","closed_as_duplicate_of":null},"references":{"short":"#5936","relative":"#5936","full":"gitlab-com/gl-infra/reliability#5936"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":17268993,"iid":5927,"project_id":1304532,"title":"version goes down like every weekend","description":"For the past couple of weekends, version.gitlab.com goes offline for a bit.  We think we've reached enough installations that enough customers ping the app on the weekend to bring it down.\n\nCurrently the server sits using nearly all available RAM.  There's no swap available on this machine.  This is a single instance full stack machine.  The current unicorn worker count is set to 3.  What can we do **SHORT TERM** to alleviate the problem?\n\nSidekiq, unicorn, and chef are the top memory use offenders.  I'm afraid if we try to bump the amount of workers, we'll run the system out of memory.\n\nReferences:\n* https://gitlab.pagerduty.com/incidents/PC6S6FB\n* https://gitlab.pagerduty.com/incidents/PP1FIQS\n* https://gitlab.pagerduty.com/incidents/P2OQHHD\n* https://gitlab.pagerduty.com/incidents/PFQPBXA","state":"closed","created_at":"2019-01-11T13:44:36.526Z","updated_at":"2019-06-09T16:58:26.155Z","closed_at":"2019-01-11T18:19:48.735Z","closed_by":{"id":2524675,"username":"skarbek","name":"John Skarbek","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c6455ce4726023aac6dd7fb0acd1f236?s=80\u0026d=identicon","web_url":"https://gitlab.com/skarbek"},"labels":["configuration","oncall"],"milestone":{"id":725741,"iid":58,"project_id":1304532,"title":"Completed 2019-01-02","description":"Milestone to be worked by oncall team members.","state":"closed","created_at":"2018-12-02T12:54:22.142Z","updated_at":"2019-01-14T13:18:55.521Z","due_date":"2019-01-12","start_date":"2018-12-30","expired":true,"web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/milestones/58"},"assignees":[{"id":2524675,"username":"skarbek","name":"John Skarbek","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c6455ce4726023aac6dd7fb0acd1f236?s=80\u0026d=identicon","web_url":"https://gitlab.com/skarbek"}],"author":{"id":2524675,"username":"skarbek","name":"John Skarbek","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c6455ce4726023aac6dd7fb0acd1f236?s=80\u0026d=identicon","web_url":"https://gitlab.com/skarbek"},"type":"ISSUE","assignee":{"id":2524675,"username":"skarbek","name":"John Skarbek","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c6455ce4726023aac6dd7fb0acd1f236?s=80\u0026d=identicon","web_url":"https://gitlab.com/skarbek"},"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/issues/5927","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/1304532/issues/5927","notes":"https://gitlab.com/api/v4/projects/1304532/issues/5927/notes","award_emoji":"https://gitlab.com/api/v4/projects/1304532/issues/5927/award_emoji","project":"https://gitlab.com/api/v4/projects/1304532","closed_as_duplicate_of":null},"references":{"short":"#5927","relative":"#5927","full":"gitlab-com/gl-infra/reliability#5927"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":17268522,"iid":5926,"project_id":1304532,"title":"[Design Document] Service Production Inventory","description":"Please fill with your ideas the following design doc: https://docs.google.com/document/d/17rgjc_2Kukw5atR3VxrcKqiGmv-jwO9u2mGKhk0wP8c/edit?usp=sharing","state":"closed","created_at":"2019-01-11T13:26:51.010Z","updated_at":"2019-01-28T06:24:58.915Z","closed_at":"2019-01-28T06:04:02.902Z","closed_by":{"id":2601632,"username":"aamarsanaa","name":"Amarbayar Amarsanaa","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2601632/avatar.png","web_url":"https://gitlab.com/aamarsanaa"},"labels":["Design Document","auto updated"],"milestone":{"id":756353,"iid":62,"project_id":1304532,"title":"JF team 2019 week 3","description":"","state":"closed","created_at":"2019-01-10T15:23:52.245Z","updated_at":"2019-01-29T09:59:00.137Z","due_date":"2019-01-25","start_date":"2019-01-14","expired":true,"web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/milestones/62"},"assignees":[{"id":2601632,"username":"aamarsanaa","name":"Amarbayar Amarsanaa","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2601632/avatar.png","web_url":"https://gitlab.com/aamarsanaa"}],"author":{"id":2759709,"username":"Finotto","name":"Jose Finotto","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2759709/avatar.png","web_url":"https://gitlab.com/Finotto"},"type":"ISSUE","assignee":{"id":2601632,"username":"aamarsanaa","name":"Amarbayar Amarsanaa","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2601632/avatar.png","web_url":"https://gitlab.com/aamarsanaa"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/issues/5926","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":8,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/1304532/issues/5926","notes":"https://gitlab.com/api/v4/projects/1304532/issues/5926/notes","award_emoji":"https://gitlab.com/api/v4/projects/1304532/issues/5926/award_emoji","project":"https://gitlab.com/api/v4/projects/1304532","closed_as_duplicate_of":null},"references":{"short":"#5926","relative":"#5926","full":"gitlab-com/gl-infra/reliability#5926"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":32,"epic":{"id":3038,"iid":32,"title":"Service Production Inventory","url":"/groups/gitlab-com/gl-infra/-/epics/32","group_id":1112072,"human_readable_end_date":"Mar 7, 2019","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":17267568,"iid":5925,"project_id":1304532,"title":"Create DB replica using ZFS","description":"\nPlease create a zfs replica from staging and production NOT in the Patroni cluster.\nFirst Staging, when stable we proceed to prod.\n\nWe need to create a replica for production, to get datasets equal to production, to make our future test environments more similar, also we will scramble confidential data, but will be in another process.","state":"closed","created_at":"2019-01-11T13:02:24.240Z","updated_at":"2019-05-20T10:31:53.353Z","closed_at":"2019-05-20T10:18:34.041Z","closed_by":{"id":2759709,"username":"Finotto","name":"Jose Finotto","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2759709/avatar.png","web_url":"https://gitlab.com/Finotto"},"labels":["Database","Global:In Progress","auto updated"],"milestone":{"id":839985,"iid":12,"group_id":1112072,"title":"Dev \u0026 Ops Team 2019 week 15","description":"","state":"closed","created_at":"2019-04-05T09:27:08.641Z","updated_at":"2019-05-06T10:46:47.337Z","due_date":"2019-04-19","start_date":"2019-04-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-com/gl-infra/-/milestones/12"},"assignees":[{"id":506061,"username":"ahmadsherif","name":"Ahmad Sherif","state":"active","avatar_url":"https://secure.gravatar.com/avatar/bd6d0ec4213b91601956c9f801cbfe9b?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahmadsherif"}],"author":{"id":2759709,"username":"Finotto","name":"Jose Finotto","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2759709/avatar.png","web_url":"https://gitlab.com/Finotto"},"type":"ISSUE","assignee":{"id":506061,"username":"ahmadsherif","name":"Ahmad Sherif","state":"active","avatar_url":"https://secure.gravatar.com/avatar/bd6d0ec4213b91601956c9f801cbfe9b?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahmadsherif"},"user_notes_count":17,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/issues/5925","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/1304532/issues/5925","notes":"https://gitlab.com/api/v4/projects/1304532/issues/5925/notes","award_emoji":"https://gitlab.com/api/v4/projects/1304532/issues/5925/award_emoji","project":"https://gitlab.com/api/v4/projects/1304532","closed_as_duplicate_of":null},"references":{"short":"#5925","relative":"#5925","full":"gitlab-com/gl-infra/reliability#5925"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":30,"epic":{"id":3036,"iid":30,"title":"Database replica using ZFS","url":"/groups/gitlab-com/gl-infra/-/epics/30","group_id":1112072,"human_readable_end_date":"Apr 19, 2019","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":17267510,"iid":5924,"project_id":1304532,"title":"[Design Document] PostgreSQL Bloat Maintenance","description":"Propose solution to reduce bloat for GitLab.com\n\nFurther input: https://docs.google.com/document/d/1AJCORsmLmT2yC3axJkQ4uUZw-BBOXaKlyUsnwfyel0E/edit?usp=sharing","state":"closed","created_at":"2019-01-11T12:59:30.496Z","updated_at":"2020-07-14T23:00:17.022Z","closed_at":"2019-02-08T21:34:43.912Z","closed_by":{"id":1562869,"username":"abrandl","name":"Andreas Brandl","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1562869/avatar.png","web_url":"https://gitlab.com/abrandl"},"labels":["Database","Design Document","auto updated"],"milestone":{"id":772447,"iid":70,"project_id":1304532,"title":"JF team 2019 week 5","description":"","state":"closed","created_at":"2019-01-28T08:11:41.276Z","updated_at":"2019-02-12T10:10:58.907Z","due_date":"2019-02-08","start_date":"2019-01-28","expired":true,"web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/milestones/70"},"assignees":[{"id":1562869,"username":"abrandl","name":"Andreas Brandl","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1562869/avatar.png","web_url":"https://gitlab.com/abrandl"}],"author":{"id":2759709,"username":"Finotto","name":"Jose Finotto","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2759709/avatar.png","web_url":"https://gitlab.com/Finotto"},"type":"ISSUE","assignee":{"id":1562869,"username":"abrandl","name":"Andreas Brandl","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1562869/avatar.png","web_url":"https://gitlab.com/abrandl"},"user_notes_count":6,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/issues/5924","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/1304532/issues/5924","notes":"https://gitlab.com/api/v4/projects/1304532/issues/5924/notes","award_emoji":"https://gitlab.com/api/v4/projects/1304532/issues/5924/award_emoji","project":"https://gitlab.com/api/v4/projects/1304532","closed_as_duplicate_of":null},"references":{"short":"#5924","relative":"#5924","full":"gitlab-com/gl-infra/reliability#5924"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":29,"epic":{"id":3035,"iid":29,"title":"Implement PGRepack","url":"/groups/gitlab-com/gl-infra/-/epics/29","group_id":1112072,"human_readable_end_date":"Apr 19, 2019","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":17255905,"iid":5916,"project_id":1304532,"title":"Discussion: Programming/Scripting languages we accept as a team","description":"## Objective\nThe objective of this issue is to derive a discussion around the programming/scripting languages that we accept (or would want to accept) for usage within our team. This came up from a feedback on a recent automation work which was done in Python and a proposal was suggested to do everything in Ruby going forward. Hence, I wanted to create this issue and gather more feedback to understand the reasoning behind this and whether 'Ruby/Go-only' is ultimately where we, as a team, go. \n\n## Datapoints \nStarting with the most obvious:\n- Our product is a Ruby-on-Rails product [1], [2] \n- The SRE role job description does list \"Ruby and/or Go\" under a \"May be a fit\" [3]\n- We already have ruby/go scripts that help with our infrastructure work\n\n## Discussion \nIs the answer to this inquiry is as simple as: \"We should just go with Ruby/Go in all of our infrastructure related work\"? While the above data points are already present, I know we do use bash scripts though it is not specifically called out. It is possible that it is an inherent requirement that we all should know and should be able to use. However, going further than this, what do we think about adopting/using other languages such as Python or even Java (not as a replacement of Ruby/Go but as an addition as long as they get our jobs done)?\n\nWe might want to avoid getting into too much in-depth discussion on comparing one language to another (underlying implementation, learning-curve, syntax, performance, community support and adoption, functionalities and features...etc) but I think it might be better if we focus on what do we as a team want and why one language is a better choice over another based on our experience and infrastructure need. \n\nSome indicators on why I think we could possibly add Python to our list:\n- We are on GCP and Google Cloud has an officially supported, Python library (just like Ruby and Go) [4]\n- Kubernetes is one of the items on our radar and it has an officially supported Python library similar to Go. But, Ruby is listed on the community supported library. [5]\n- If we end up using Ansible, it is also written in Python. \n- Within GCP, if we want to write a Google Cloud Function - it currently only supports Node.JS and Python. \n\nNote, the above don't talk about one language's performance, syntax, configuration, implementation, features...etc. \n\nI am not sure what the degree of Ruby/Go experience is for the rest of the team. But as for transparency, my personal experience with Ruby/Go is much less than Python/Java. Therefore, a decision to stick with the former group of languages would mean I would have to ramp up on them as well. However, I will be happy to do so if we do end up sticking to Ruby/Go only. :) \n\n@gitlab\\-com/gl\\-infra \n\n## References\n[1] https://gitlab.com/gitlab-org/gitlab-ce\n[2] https://gitlab.com/gitlab-org/gitlab-ee\n[3] https://about.gitlab.com/job-families/engineering/site-reliability-engineer/ \n[4] https://cloud.google.com/apis/docs/cloud-client-libraries","state":"closed","created_at":"2019-01-11T03:15:53.131Z","updated_at":"2019-01-28T22:34:43.215Z","closed_at":"2019-01-14T01:00:37.659Z","closed_by":{"id":2601632,"username":"aamarsanaa","name":"Amarbayar Amarsanaa","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2601632/avatar.png","web_url":"https://gitlab.com/aamarsanaa"},"labels":["Discussion"],"milestone":null,"assignees":[{"id":2601632,"username":"aamarsanaa","name":"Amarbayar Amarsanaa","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2601632/avatar.png","web_url":"https://gitlab.com/aamarsanaa"}],"author":{"id":2601632,"username":"aamarsanaa","name":"Amarbayar Amarsanaa","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2601632/avatar.png","web_url":"https://gitlab.com/aamarsanaa"},"type":"ISSUE","assignee":{"id":2601632,"username":"aamarsanaa","name":"Amarbayar Amarsanaa","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2601632/avatar.png","web_url":"https://gitlab.com/aamarsanaa"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2019-01-15","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/issues/5916","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/1304532/issues/5916","notes":"https://gitlab.com/api/v4/projects/1304532/issues/5916/notes","award_emoji":"https://gitlab.com/api/v4/projects/1304532/issues/5916/award_emoji","project":"https://gitlab.com/api/v4/projects/1304532","closed_as_duplicate_of":null},"references":{"short":"#5916","relative":"#5916","full":"gitlab-com/gl-infra/reliability#5916"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":17246637,"iid":5908,"project_id":1304532,"title":"Enable fast_destroy_uploads flag in production","description":"There is a new feature - async deletion of uploads (https://gitlab.com/gitlab-org/gitlab-ce/merge_requests/20977), this is behind feature flag and disabled. To make sure this feature works properly, I'd like to do following steps on production:\n\n* run `rake gitlab:cleanup:remote_upload_files` on prod to get current number of orphaned files\n* enable `fast_destroy_uploads` feature and wait for 1-2 days\n* run `rake gitlab:cleanup:remote_upload_files` and compare number of orphaned files - if there is significant increase of orhpaned files, it might be sign that uploads deletion doesn't work as expected\n\nRunning this rake task should not cause dramatic IO load on prod server (as most of checking should be done in object store) and it's expected to run probably few hours - https://gitlab.slack.com/archives/C101F3796/p1547136320445300\n\nI set due date to 21st because based on slack discussion that week would be preferred to do this instead of doing it now\n\n/cc @skarbek @ahanselka","state":"closed","created_at":"2019-01-10T16:39:11.752Z","updated_at":"2019-03-06T13:15:42.783Z","closed_at":"2019-01-25T13:13:48.127Z","closed_by":{"id":2524675,"username":"skarbek","name":"John Skarbek","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c6455ce4726023aac6dd7fb0acd1f236?s=80\u0026d=identicon","web_url":"https://gitlab.com/skarbek"},"labels":["auto updated"],"milestone":null,"assignees":[{"id":2524675,"username":"skarbek","name":"John Skarbek","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c6455ce4726023aac6dd7fb0acd1f236?s=80\u0026d=identicon","web_url":"https://gitlab.com/skarbek"}],"author":{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"},"type":"ISSUE","assignee":{"id":2524675,"username":"skarbek","name":"John Skarbek","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c6455ce4726023aac6dd7fb0acd1f236?s=80\u0026d=identicon","web_url":"https://gitlab.com/skarbek"},"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2019-01-25","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/issues/5908","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/1304532/issues/5908","notes":"https://gitlab.com/api/v4/projects/1304532/issues/5908/notes","award_emoji":"https://gitlab.com/api/v4/projects/1304532/issues/5908/award_emoji","project":"https://gitlab.com/api/v4/projects/1304532","closed_as_duplicate_of":null},"references":{"short":"#5908","relative":"#5908","full":"gitlab-com/gl-infra/reliability#5908"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":17241002,"iid":5907,"project_id":1304532,"title":"Grafana Dashboard git sync broken","description":"The [grafana-dashboards](https://gitlab.com/gitlab-org/grafana-dashboards) repo is synced by the [gitlab-grafana::export_dashboards](https://gitlab.com/gitlab-cookbooks/gitlab-grafana/blob/master/recipes/export_dashboards.rb) recipe.\n\nThe account/secret config is currently broken, so the sync has been failing.","state":"closed","created_at":"2019-01-10T14:55:54.799Z","updated_at":"2019-02-20T14:26:56.631Z","closed_at":"2019-02-20T14:20:58.367Z","closed_by":{"id":506061,"username":"ahmadsherif","name":"Ahmad Sherif","state":"active","avatar_url":"https://secure.gravatar.com/avatar/bd6d0ec4213b91601956c9f801cbfe9b?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahmadsherif"},"labels":["auto updated"],"milestone":{"id":786877,"iid":75,"project_id":1304532,"title":"JF team 2019 week 7","description":"","state":"closed","created_at":"2019-02-11T07:58:35.950Z","updated_at":"2019-02-27T09:25:26.188Z","due_date":"2019-02-22","start_date":"2019-02-11","expired":true,"web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/milestones/75"},"assignees":[{"id":506061,"username":"ahmadsherif","name":"Ahmad Sherif","state":"active","avatar_url":"https://secure.gravatar.com/avatar/bd6d0ec4213b91601956c9f801cbfe9b?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahmadsherif"}],"author":{"id":928230,"username":"bjk-gitlab","name":"Ben Kochie","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/928230/avatar.png","web_url":"https://gitlab.com/bjk-gitlab"},"type":"ISSUE","assignee":{"id":506061,"username":"ahmadsherif","name":"Ahmad Sherif","state":"active","avatar_url":"https://secure.gravatar.com/avatar/bd6d0ec4213b91601956c9f801cbfe9b?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahmadsherif"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/issues/5907","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/1304532/issues/5907","notes":"https://gitlab.com/api/v4/projects/1304532/issues/5907/notes","award_emoji":"https://gitlab.com/api/v4/projects/1304532/issues/5907/award_emoji","project":"https://gitlab.com/api/v4/projects/1304532","closed_as_duplicate_of":null},"references":{"short":"#5907","relative":"#5907","full":"gitlab-com/gl-infra/reliability#5907"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":17220699,"iid":5905,"project_id":1304532,"title":"chat-ops access for .com support","description":"Hi there! The .com support team would love to be able to use chat-ops commands.\n\nThe following people have active `ops` accounts and are ready to be added to the appropriate group to allow access. \nWould it be possible to get them going?\n\n- [x] @tatkins \n- [x] @tristan \n- [x] @namhokim \n- [x] @arihantar \n- [x] @j.collins \n- [x] @deandre \n- [x] @amandarueda \n- [x] @jeromeuy \n- [x] @anazir \n- [x] @cwainaina \n\nThanks!","state":"closed","created_at":"2019-01-09T23:06:35.172Z","updated_at":"2019-01-21T00:24:52.214Z","closed_at":"2019-01-18T23:33:33.546Z","closed_by":{"id":786106,"username":"lyle","name":"Lyle Kozloff","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f94534d0df4ebb24d5634eb42548d8b4?s=80\u0026d=identicon","web_url":"https://gitlab.com/lyle"},"labels":["access request","auto updated","toil","unblocks others"],"milestone":{"id":753072,"iid":59,"project_id":1304532,"title":"DS Team 2019 Week 3","description":"Finish DR, Spike consul, kick of CI/CD, Spike and scope K8s in Q1 OKR","state":"closed","created_at":"2019-01-07T21:39:28.108Z","updated_at":"2019-01-26T19:47:59.561Z","due_date":"2019-01-25","start_date":"2019-01-14","expired":true,"web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/milestones/59"},"assignees":[{"id":2222520,"username":"dawsmith","name":"Dave Smith","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ef341e061f6b86461626e64c5fbcfe52?s=80\u0026d=identicon","web_url":"https://gitlab.com/dawsmith"}],"author":{"id":786106,"username":"lyle","name":"Lyle Kozloff","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f94534d0df4ebb24d5634eb42548d8b4?s=80\u0026d=identicon","web_url":"https://gitlab.com/lyle"},"type":"ISSUE","assignee":{"id":2222520,"username":"dawsmith","name":"Dave Smith","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ef341e061f6b86461626e64c5fbcfe52?s=80\u0026d=identicon","web_url":"https://gitlab.com/dawsmith"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/issues/5905","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":10,"completed_count":10},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/1304532/issues/5905","notes":"https://gitlab.com/api/v4/projects/1304532/issues/5905/notes","award_emoji":"https://gitlab.com/api/v4/projects/1304532/issues/5905/award_emoji","project":"https://gitlab.com/api/v4/projects/1304532","closed_as_duplicate_of":null},"references":{"short":"#5905","relative":"#5905","full":"gitlab-com/gl-infra/reliability#5905"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":17219445,"iid":5904,"project_id":1304532,"title":"Consider additional alerting added for our storage nodes","description":"Recently our storage nodes surpassed 80% usage on the 4 new nodes that has been spun up.  So we spun 4 new nodes up.  Now we need alerting to prevent surprises in the future.\n\nLet's set up an overall alert if any file server breaches 80% full, warn us.   These servers may be subject to our standard alerting policy for file storage, but the process of remediation is much slower and has the potential to muck with a lot of the community.  We should consider a dedicated alert for these systems.\n\nhttps://dashboards.gitlab.net/d/W_Pbu9Smk/storage-stats?refresh=30m\u0026orgId=1\n\nThis has the consequence of alerting us today until we rebalance the git repos on our nodes. https://gitlab.com/gitlab-com/gl-infra/infrastructure/issues/5360","state":"closed","created_at":"2019-01-09T21:23:24.320Z","updated_at":"2019-07-08T20:04:18.079Z","closed_at":"2019-03-18T23:26:50.735Z","closed_by":{"id":429540,"username":"ahanselka","name":"Alex Hanselka","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/429540/avatar.png","web_url":"https://gitlab.com/ahanselka"},"labels":["moved 1","moved 2","priority::3","severity::3","storage"],"milestone":{"id":811926,"iid":5,"group_id":1112072,"title":"DS Team 2019 Week 11","description":"","state":"closed","created_at":"2019-03-07T15:26:23.368Z","updated_at":"2019-03-27T22:35:09.438Z","due_date":"2019-03-23","start_date":"2019-03-10","expired":true,"web_url":"https://gitlab.com/groups/gitlab-com/gl-infra/-/milestones/5"},"assignees":[{"id":429540,"username":"ahanselka","name":"Alex Hanselka","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/429540/avatar.png","web_url":"https://gitlab.com/ahanselka"}],"author":{"id":2524675,"username":"skarbek","name":"John Skarbek","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c6455ce4726023aac6dd7fb0acd1f236?s=80\u0026d=identicon","web_url":"https://gitlab.com/skarbek"},"type":"ISSUE","assignee":{"id":429540,"username":"ahanselka","name":"Alex Hanselka","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/429540/avatar.png","web_url":"https://gitlab.com/ahanselka"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/issues/5904","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/1304532/issues/5904","notes":"https://gitlab.com/api/v4/projects/1304532/issues/5904/notes","award_emoji":"https://gitlab.com/api/v4/projects/1304532/issues/5904/award_emoji","project":"https://gitlab.com/api/v4/projects/1304532","closed_as_duplicate_of":null},"references":{"short":"#5904","relative":"#5904","full":"gitlab-com/gl-infra/reliability#5904"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":17219364,"iid":5903,"project_id":1304532,"title":"Sentry DSN for ops GitLab instance points to incorrect FQDN","description":"The sentry DSN FQDN for the ops instance points to gitlap.com; it should be gitlab.com.  Please remediate.","state":"closed","created_at":"2019-01-09T21:17:19.624Z","updated_at":"2019-01-15T09:01:32.005Z","closed_at":"2019-01-11T22:34:48.395Z","closed_by":{"id":478289,"username":"northrup","name":"John Northrup","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f076b1aa65652a2852e897baf0a65ba0?s=80\u0026d=identicon","web_url":"https://gitlab.com/northrup"},"labels":["auto updated","corrective action","unscheduled"],"milestone":{"id":725741,"iid":58,"project_id":1304532,"title":"Completed 2019-01-02","description":"Milestone to be worked by oncall team members.","state":"closed","created_at":"2018-12-02T12:54:22.142Z","updated_at":"2019-01-14T13:18:55.521Z","due_date":"2019-01-12","start_date":"2018-12-30","expired":true,"web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/milestones/58"},"assignees":[{"id":478289,"username":"northrup","name":"John Northrup","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f076b1aa65652a2852e897baf0a65ba0?s=80\u0026d=identicon","web_url":"https://gitlab.com/northrup"}],"author":{"id":2524675,"username":"skarbek","name":"John Skarbek","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c6455ce4726023aac6dd7fb0acd1f236?s=80\u0026d=identicon","web_url":"https://gitlab.com/skarbek"},"type":"ISSUE","assignee":{"id":478289,"username":"northrup","name":"John Northrup","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f076b1aa65652a2852e897baf0a65ba0?s=80\u0026d=identicon","web_url":"https://gitlab.com/northrup"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/issues/5903","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/1304532/issues/5903","notes":"https://gitlab.com/api/v4/projects/1304532/issues/5903/notes","award_emoji":"https://gitlab.com/api/v4/projects/1304532/issues/5903/award_emoji","project":"https://gitlab.com/api/v4/projects/1304532","closed_as_duplicate_of":null},"references":{"short":"#5903","relative":"#5903","full":"gitlab-com/gl-infra/reliability#5903"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":17217220,"iid":5902,"project_id":1304532,"title":"gitlab-restore-bot was missing from postgres restore project","description":"restore pipeline seems to start failing from 1/8 11:32pm est\nhttps://gitlab.com/gitlab-com/gl-infra/gitlab-restore/postgres-gprd/pipelines\nIt's due to this line https://gitlab.com/gitlab-com/gl-infra/gitlab-restore/postgres-gprd/blob/master/common.sh#L19 error out on `{\"message\":\"403 Forbidden\"}` \nI found out gitlab-restore-bot  is no longer a member of the the project, so I added it back as a developer and expiration date at 2033 as temporary fix. Not sure what happened to this account and whether my fix is correct.\n\n@abrandl  please review and let me know","state":"closed","created_at":"2019-01-09T19:55:35.757Z","updated_at":"2019-01-10T19:24:02.448Z","closed_at":"2019-01-10T19:16:56.499Z","closed_by":{"id":1562869,"username":"abrandl","name":"Andreas Brandl","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1562869/avatar.png","web_url":"https://gitlab.com/abrandl"},"labels":["Database [pl]","auto updated"],"milestone":{"id":725741,"iid":58,"project_id":1304532,"title":"Completed 2019-01-02","description":"Milestone to be worked by oncall team members.","state":"closed","created_at":"2018-12-02T12:54:22.142Z","updated_at":"2019-01-14T13:18:55.521Z","due_date":"2019-01-12","start_date":"2018-12-30","expired":true,"web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/milestones/58"},"assignees":[{"id":1562869,"username":"abrandl","name":"Andreas Brandl","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1562869/avatar.png","web_url":"https://gitlab.com/abrandl"}],"author":{"id":3140823,"username":"yguo","name":"yun guo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3140823/avatar.png","web_url":"https://gitlab.com/yguo"},"type":"ISSUE","assignee":{"id":1562869,"username":"abrandl","name":"Andreas Brandl","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1562869/avatar.png","web_url":"https://gitlab.com/abrandl"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/issues/5902","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":0,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/1304532/issues/5902","notes":"https://gitlab.com/api/v4/projects/1304532/issues/5902/notes","award_emoji":"https://gitlab.com/api/v4/projects/1304532/issues/5902/award_emoji","project":"https://gitlab.com/api/v4/projects/1304532","closed_as_duplicate_of":null},"references":{"short":"#5902","relative":"#5902","full":"gitlab-com/gl-infra/reliability#5902"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":17177255,"iid":5896,"project_id":1304532,"title":"GitHub Import Starves PGBouncer Connections","description":"Sidekiq queues started growing, it was observed that the GitHub Import was directly correlated to DB locks and starvation of PGBouncer connection resources.","state":"closed","created_at":"2019-01-08T17:45:32.220Z","updated_at":"2019-01-24T23:37:18.969Z","closed_at":"2019-01-24T23:13:39.282Z","closed_by":{"id":2222520,"username":"dawsmith","name":"Dave Smith","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ef341e061f6b86461626e64c5fbcfe52?s=80\u0026d=identicon","web_url":"https://gitlab.com/dawsmith"},"labels":["corrective action","priority::2"],"milestone":{"id":753072,"iid":59,"project_id":1304532,"title":"DS Team 2019 Week 3","description":"Finish DR, Spike consul, kick of CI/CD, Spike and scope K8s in Q1 OKR","state":"closed","created_at":"2019-01-07T21:39:28.108Z","updated_at":"2019-01-26T19:47:59.561Z","due_date":"2019-01-25","start_date":"2019-01-14","expired":true,"web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/milestones/59"},"assignees":[{"id":693144,"username":"craig","name":"Craig Barrett","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c8dfa1ca41754b9409068e5e42080cd2?s=80\u0026d=identicon","web_url":"https://gitlab.com/craig"},{"id":1254817,"username":"jarv","name":"John Jarvis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1254817/avatar.png","web_url":"https://gitlab.com/jarv"},{"id":2222520,"username":"dawsmith","name":"Dave Smith","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ef341e061f6b86461626e64c5fbcfe52?s=80\u0026d=identicon","web_url":"https://gitlab.com/dawsmith"}],"author":{"id":478289,"username":"northrup","name":"John Northrup","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f076b1aa65652a2852e897baf0a65ba0?s=80\u0026d=identicon","web_url":"https://gitlab.com/northrup"},"type":"ISSUE","assignee":{"id":693144,"username":"craig","name":"Craig Barrett","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c8dfa1ca41754b9409068e5e42080cd2?s=80\u0026d=identicon","web_url":"https://gitlab.com/craig"},"user_notes_count":14,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2018-01-22","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/issues/5896","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/1304532/issues/5896","notes":"https://gitlab.com/api/v4/projects/1304532/issues/5896/notes","award_emoji":"https://gitlab.com/api/v4/projects/1304532/issues/5896/award_emoji","project":"https://gitlab.com/api/v4/projects/1304532","closed_as_duplicate_of":null},"references":{"short":"#5896","relative":"#5896","full":"gitlab-com/gl-infra/reliability#5896"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":17176496,"iid":5895,"project_id":1304532,"title":"Bootstrap kernel update requires successful chef run","description":"Successful chef run requires successful bootstrap kernel update.\n\nWhen bootstrapping a new system, we upgrade the kernel to our desired version.\n\nDuring the bootstrap process, before the kernel upgrade, we do a chef run.\n\nIf this chef run fails for any reason (including missing vault keys), the kernel update fails - then the system reboots, leaving the system locked in an unbootable state.\n\nThis makes it difficult to determine why the chef run failed. Fixing the chef problem will not cause it to recover, since it will never try again.  The machine needs to be destroyed and re-created.\n\nThe kernel upgrade should not depend on the success of the chef run. It should be robust enough to succeed even if chef does not. It should end up powered on and repeatedly re-trying the chef run. That will leave it in a state where fixing the chef or credential problem will result in the next chef attempt succeeding.\n\nHere are the relevant lines from the bootstrap log:\n\n```\nFeb 12 00:01:10 geo-postgres-01-db-dr startup-script: INFO startup-script: + [[ 4.13.0-1007-gcp != *4.15.0-1015* ]]\nFeb 12 00:01:10 geo-postgres-01-db-dr startup-script: INFO startup-script: + apt-get install -y linux-modules-4.15.0-1015-gcp linux-modules-extra-4.15.0-1015-gcp linux-image-4.15.0-1015-gcp linux-gcp-headers-4.15.0-1015\nFeb 12 00:01:11 geo-postgres-01-db-dr startup-script: INFO startup-script: Reading package lists...\nFeb 12 00:01:11 geo-postgres-01-db-dr startup-script: INFO startup-script: Building dependency tree...\nFeb 12 00:01:11 geo-postgres-01-db-dr startup-script: INFO startup-script: Reading state information...\nFeb 12 00:01:11 geo-postgres-01-db-dr startup-script: INFO startup-script: E: Unable to locate package linux-modules-4.15.0-1015-gcp\nFeb 12 00:01:11 geo-postgres-01-db-dr startup-script: INFO startup-script: E: Couldn't find any package by glob 'linux-modules-4.15.0-1015-gcp'\nFeb 12 00:01:11 geo-postgres-01-db-dr startup-script: INFO startup-script: E: Couldn't find any package by regex 'linux-modules-4.15.0-1015-gcp'\nFeb 12 00:01:11 geo-postgres-01-db-dr startup-script: INFO startup-script: E: Unable to locate package linux-modules-extra-4.15.0-1015-gcp\nFeb 12 00:01:11 geo-postgres-01-db-dr startup-script: INFO startup-script: E: Couldn't find any package by glob 'linux-modules-extra-4.15.0-1015-gcp'\nFeb 12 00:01:11 geo-postgres-01-db-dr startup-script: INFO startup-script: E: Couldn't find any package by regex 'linux-modules-extra-4.15.0-1015-gcp'\nFeb 12 00:01:11 geo-postgres-01-db-dr startup-script: INFO startup-script: E: Unable to locate package linux-image-4.15.0-1015-gcp\nFeb 12 00:01:11 geo-postgres-01-db-dr startup-script: INFO startup-script: E: Couldn't find any package by glob 'linux-image-4.15.0-1015-gcp'\nFeb 12 00:01:11 geo-postgres-01-db-dr startup-script: INFO startup-script: E: Couldn't find any package by regex 'linux-image-4.15.0-1015-gcp'\nFeb 12 00:01:11 geo-postgres-01-db-dr startup-script: INFO startup-script: E: Unable to locate package linux-gcp-headers-4.15.0-1015\nFeb 12 00:01:11 geo-postgres-01-db-dr startup-script: INFO startup-script: E: Couldn't find any package by glob 'linux-gcp-headers-4.15.0-1015'\nFeb 12 00:01:11 geo-postgres-01-db-dr startup-script: INFO startup-script: E: Couldn't find any package by regex 'linux-gcp-headers-4.15.0-1015'\nFeb 12 00:01:11 geo-postgres-01-db-dr startup-script: INFO startup-script: ++ dpkg-query -W '-f=${binary:Package}\\n' 'linux-image*' 'linux-headers*'\nFeb 12 00:01:11 geo-postgres-01-db-dr startup-script: INFO startup-script: ++ grep -v 4.15.0-1015\nFeb 12 00:01:11 geo-postgres-01-db-dr startup-script: INFO startup-script: + apt-get purge -y linux-headers linux-headers-3.0 linux-headers-4.13.0-1007-gcp linux-headers-gcp linux-image linux-image-4.13.0-1007-gcp linux-image-gcp\nFeb 12 00:01:11 geo-postgres-01-db-dr startup-script: INFO startup-script: Reading package lists...\nFeb 12 00:01:11 geo-postgres-01-db-dr startup-script: INFO startup-script: Building dependency tree...\nFeb 12 00:01:11 geo-postgres-01-db-dr startup-script: INFO startup-script: Reading state information...\nFeb 12 00:01:11 geo-postgres-01-db-dr startup-script: INFO startup-script: The following packages were automatically installed and are no longer required:\nFeb 12 00:01:11 geo-postgres-01-db-dr startup-script: INFO startup-script:   grub-common grub-gfxpayload-lists grub-pc grub-pc-bin grub2-common\nFeb 12 00:01:11 geo-postgres-01-db-dr startup-script: INFO startup-script:   libfreetype6 linux-gcp-headers-4.13.0-1007 os-prober\nFeb 12 00:01:11 geo-postgres-01-db-dr startup-script: INFO startup-script: Use 'apt autoremove' to remove them.\nFeb 12 00:01:11 geo-postgres-01-db-dr startup-script: INFO startup-script: The following packages will be REMOVED:\nFeb 12 00:01:11 geo-postgres-01-db-dr startup-script: INFO startup-script:   linux-gcp* linux-headers-4.13.0-1007-gcp* linux-headers-gcp*\nFeb 12 00:01:11 geo-postgres-01-db-dr startup-script: INFO startup-script:   linux-image-4.13.0-1007-gcp* linux-image-gcp*\nFeb 12 00:01:13 geo-postgres-01-db-dr startup-script: INFO startup-script: 0 upgraded, 0 newly installed, 5 to remove and 0 not upgraded.\nFeb 12 00:01:13 geo-postgres-01-db-dr startup-script: INFO startup-script: After this operation, 78.8 MB disk space will be freed.\nFeb 12 00:01:13 geo-postgres-01-db-dr startup-script: INFO startup-script: (Reading database ... #015(Reading database ... 5%#015(Reading database ... 10%#015(Reading database ... 15%#015(Reading database ... 20%#015(Reading database ... 25%#015(Reading database ... 30%#015(Reading database ... 35%#015(Reading database ... 40%#015(Reading database ... 45%#015(Reading database ... 50%#015(Reading database ... 55%#015(Reading database ... 60%#015(Reading database ... 65%#015(Reading database ... 70%#015(Reading database ... 75%#015(Reading database ... 80%#015(Reading database ... 85%#015(Reading database ... 90%#015(Reading database ... 95%#015(Reading database ... 100%#015(Reading database ... 83018 files and directories currently installed.)\nFeb 12 00:01:13 geo-postgres-01-db-dr startup-script: INFO startup-script: Removing linux-gcp (4.13.0.1007.9) ...\nFeb 12 00:01:14 geo-postgres-01-db-dr startup-script: INFO startup-script: Removing linux-headers-gcp (4.13.0.1007.9) ...\nFeb 12 00:01:14 geo-postgres-01-db-dr startup-script: INFO startup-script: Removing linux-headers-4.13.0-1007-gcp (4.13.0-1007.10) ...\nFeb 12 00:01:18 geo-postgres-01-db-dr startup-script: INFO startup-script: Removing linux-image-gcp (4.13.0.1007.9) ...\nFeb 12 00:01:18 geo-postgres-01-db-dr startup-script: INFO startup-script: Removing linux-image-4.13.0-1007-gcp (4.13.0-1007.10) ...\nFeb 12 00:01:18 geo-postgres-01-db-dr startup-script: INFO startup-script: WARN: Proceeding with removing running kernel image.\nFeb 12 00:01:18 geo-postgres-01-db-dr startup-script: INFO startup-script: Examining /etc/kernel/postrm.d .\nFeb 12 00:01:18 geo-postgres-01-db-dr startup-script: INFO startup-script: run-parts: executing /etc/kernel/postrm.d/initramfs-tools 4.13.0-1007-gcp /boot/vmlinuz-4.13.0-1007-gcp\nFeb 12 00:01:18 geo-postgres-01-db-dr startup-script: INFO startup-script: update-initramfs: Deleting /boot/initrd.img-4.13.0-1007-gcp\nFeb 12 00:01:18 geo-postgres-01-db-dr startup-script: INFO startup-script: run-parts: executing /etc/kernel/postrm.d/zz-update-grub 4.13.0-1007-gcp /boot/vmlinuz-4.13.0-1007-gcp\nFeb 12 00:01:19 geo-postgres-01-db-dr startup-script: INFO startup-script: Generating grub configuration file ...\nFeb 12 00:01:20 geo-postgres-01-db-dr startup-script: INFO startup-script: done\nFeb 12 00:01:20 geo-postgres-01-db-dr startup-script: INFO startup-script: The link /vmlinuz is a damaged link\nFeb 12 00:01:20 geo-postgres-01-db-dr startup-script: INFO startup-script: Removing symbolic link vmlinuz\nFeb 12 00:01:20 geo-postgres-01-db-dr startup-script: INFO startup-script:  you may need to re-run your boot loader[grub]\nFeb 12 00:01:20 geo-postgres-01-db-dr startup-script: INFO startup-script: The link /initrd.img is a damaged link\nFeb 12 00:01:20 geo-postgres-01-db-dr startup-script: INFO startup-script: Removing symbolic link initrd.img\nFeb 12 00:01:20 geo-postgres-01-db-dr startup-script: INFO startup-script:  you may need to re-run your boot loader[grub]\nFeb 12 00:01:20 geo-postgres-01-db-dr startup-script: INFO startup-script: Purging configuration files for linux-image-4.13.0-1007-gcp (4.13.0-1007.10) ...\nFeb 12 00:01:20 geo-postgres-01-db-dr startup-script: INFO startup-script: Examining /etc/kernel/postrm.d .\nFeb 12 00:01:20 geo-postgres-01-db-dr startup-script: INFO startup-script: run-parts: executing /etc/kernel/postrm.d/initramfs-tools 4.13.0-1007-gcp /boot/vmlinuz-4.13.0-1007-gcp\nFeb 12 00:01:20 geo-postgres-01-db-dr startup-script: INFO startup-script: run-parts: executing /etc/kernel/postrm.d/zz-update-grub 4.13.0-1007-gcp /boot/vmlinuz-4.13.0-1007-gcp\nFeb 12 00:01:22 geo-postgres-01-db-dr startup-script: INFO startup-script: + update-grub\nFeb 12 00:01:22 geo-postgres-01-db-dr startup-script: INFO startup-script: Generating grub configuration file ...\nFeb 12 00:01:22 geo-postgres-01-db-dr startup-script: INFO startup-script: done\n```","state":"closed","created_at":"2019-01-08T17:31:00.345Z","updated_at":"2019-02-14T23:59:34.645Z","closed_at":"2019-02-13T22:28:41.223Z","closed_by":{"id":2336046,"username":"devin","name":"Devin Sylva","state":"active","avatar_url":"https://secure.gravatar.com/avatar/424b025122218e9a586245e301c1c725?s=80\u0026d=identicon","web_url":"https://gitlab.com/devin"},"labels":["chef","terraform"],"milestone":null,"assignees":[{"id":2336046,"username":"devin","name":"Devin Sylva","state":"active","avatar_url":"https://secure.gravatar.com/avatar/424b025122218e9a586245e301c1c725?s=80\u0026d=identicon","web_url":"https://gitlab.com/devin"},{"id":2601632,"username":"aamarsanaa","name":"Amarbayar Amarsanaa","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2601632/avatar.png","web_url":"https://gitlab.com/aamarsanaa"}],"author":{"id":2336046,"username":"devin","name":"Devin Sylva","state":"active","avatar_url":"https://secure.gravatar.com/avatar/424b025122218e9a586245e301c1c725?s=80\u0026d=identicon","web_url":"https://gitlab.com/devin"},"type":"ISSUE","assignee":{"id":2336046,"username":"devin","name":"Devin Sylva","state":"active","avatar_url":"https://secure.gravatar.com/avatar/424b025122218e9a586245e301c1c725?s=80\u0026d=identicon","web_url":"https://gitlab.com/devin"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/issues/5895","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/1304532/issues/5895","notes":"https://gitlab.com/api/v4/projects/1304532/issues/5895/notes","award_emoji":"https://gitlab.com/api/v4/projects/1304532/issues/5895/award_emoji","project":"https://gitlab.com/api/v4/projects/1304532","closed_as_duplicate_of":null},"references":{"short":"#5895","relative":"#5895","full":"gitlab-com/gl-infra/reliability#5895"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":17175318,"iid":5894,"project_id":1304532,"title":"Investigate Consul vs. Etcd for service discovery","description":"The Q1 OKR's include operationalizing service discovery for GitLab.com.\n\nCurrent documents all refer to Consul as the service discovery mechanism. In the Geo Group Conversation this morning, @sytses had some [good points](https://gitlab.com/gitlab-org/gitlab-ee/issues/3789#note_129839448) about Etcd starting to look like the industry standard. Since we are moving towards being cloud native eventually, we will eventually be using Etcd as part of Kubernetes, and at that point we will have two solutions to support.\n\nConsul is easier to use, and it is what we are currently using, but surely there is some value in supporting a single solution rather than two.\n\nThe Geo team is currently researching this issue (https://gitlab.com/gitlab-org/gitlab-ee/issues/8932). The @gitlab\\-com/gl\\-infra  team should also look into it before work starts, and either document why Consul will be the better solution long term, or lay out a path to convert existing consul use to etcd.","state":"closed","created_at":"2019-01-08T16:42:48.201Z","updated_at":"2021-02-17T18:42:20.337Z","closed_at":"2019-06-13T20:03:19.410Z","closed_by":{"id":2336046,"username":"devin","name":"Devin Sylva","state":"active","avatar_url":"https://secure.gravatar.com/avatar/424b025122218e9a586245e301c1c725?s=80\u0026d=identicon","web_url":"https://gitlab.com/devin"},"labels":["Discussion","Geo","OKR","auto updated"],"milestone":null,"assignees":[{"id":2336046,"username":"devin","name":"Devin Sylva","state":"active","avatar_url":"https://secure.gravatar.com/avatar/424b025122218e9a586245e301c1c725?s=80\u0026d=identicon","web_url":"https://gitlab.com/devin"}],"author":{"id":2336046,"username":"devin","name":"Devin Sylva","state":"active","avatar_url":"https://secure.gravatar.com/avatar/424b025122218e9a586245e301c1c725?s=80\u0026d=identicon","web_url":"https://gitlab.com/devin"},"type":"ISSUE","assignee":{"id":2336046,"username":"devin","name":"Devin Sylva","state":"active","avatar_url":"https://secure.gravatar.com/avatar/424b025122218e9a586245e301c1c725?s=80\u0026d=identicon","web_url":"https://gitlab.com/devin"},"user_notes_count":13,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/issues/5894","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/1304532/issues/5894","notes":"https://gitlab.com/api/v4/projects/1304532/issues/5894/notes","award_emoji":"https://gitlab.com/api/v4/projects/1304532/issues/5894/award_emoji","project":"https://gitlab.com/api/v4/projects/1304532","closed_as_duplicate_of":null},"references":{"short":"#5894","relative":"#5894","full":"gitlab-com/gl-infra/reliability#5894"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":17174259,"iid":5892,"project_id":1304532,"title":"ChatOps SQL explain unable to connect to pgbouncer","description":"The ChatOps SQL explain does not work at the moment: https://gitlab.slack.com/archives/C101F3796/p1546962452337200\n\nThe error is:\n\n```\n/app/vendor/bundle/ruby/2.4.0/gems/pg-1.1.3/lib/pg.rb:56:in `initialize': ERROR:  pgbouncer cannot connect to server (PG::ConnectionBad)\n```\n\nThis can be reproduced with any `/chatops run explain SELECT...` query.\n\nAs pointed out on Slack, the [CI variables](https://ops.gitlab.net/gitlab-com/chatops/settings/ci_cd) control which host to connect to. Currently, the CI job connects to `10.217.4.2` which is `pgbouncer-03-db-gprd.c.gitlab-production.internal`.\n\nWe may want to change this setting to a more stable hostname, preferrably one that points to a replica.","state":"closed","created_at":"2019-01-08T16:03:03.390Z","updated_at":"2019-01-09T13:24:31.645Z","closed_at":"2019-01-09T13:00:29.700Z","closed_by":{"id":1562869,"username":"abrandl","name":"Andreas Brandl","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1562869/avatar.png","web_url":"https://gitlab.com/abrandl"},"labels":["Database","chatops"],"milestone":{"id":725741,"iid":58,"project_id":1304532,"title":"Completed 2019-01-02","description":"Milestone to be worked by oncall team members.","state":"closed","created_at":"2018-12-02T12:54:22.142Z","updated_at":"2019-01-14T13:18:55.521Z","due_date":"2019-01-12","start_date":"2018-12-30","expired":true,"web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/milestones/58"},"assignees":[{"id":1562869,"username":"abrandl","name":"Andreas Brandl","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1562869/avatar.png","web_url":"https://gitlab.com/abrandl"}],"author":{"id":1562869,"username":"abrandl","name":"Andreas Brandl","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1562869/avatar.png","web_url":"https://gitlab.com/abrandl"},"type":"ISSUE","assignee":{"id":1562869,"username":"abrandl","name":"Andreas Brandl","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1562869/avatar.png","web_url":"https://gitlab.com/abrandl"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/issues/5892","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/1304532/issues/5892","notes":"https://gitlab.com/api/v4/projects/1304532/issues/5892/notes","award_emoji":"https://gitlab.com/api/v4/projects/1304532/issues/5892/award_emoji","project":"https://gitlab.com/api/v4/projects/1304532","closed_as_duplicate_of":null},"references":{"short":"#5892","relative":"#5892","full":"gitlab-com/gl-infra/reliability#5892"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":17368221,"iid":5952,"project_id":1304532,"title":"Runners on Windows for GitLab Runner Team","description":"## Description\n\nCreate a new windows environment for https://gitlab.com/gitlab-org/gitlab-runner/issues/3755 https://gitlab.com/gitlab-org/gitlab-runner/issues/3757 and have the latest version of GitLab runner installed.\n\n## Proposal\n\nWe would need a **windows machine** with the following software installed; **Docker** \u0026 **gitlab-runner** running as shell executor with powershell so that we can start [building the containers](https://gitlab.com/gitlab-org/gitlab-runner/issues/3755), and [running tests](https://gitlab.com/gitlab-org/gitlab-runner/issues/3757). GCP [provides windows machine](https://cloud.google.com/compute/docs/instances/windows/) which has the following [pricing](https://cloud.google.com/compute/pricing#windows_server_pricing) which costs need to be calculated. This machine should not be provisioned manually as it would be second class from the beginning since all our linux environment is already automated. We can use a mixture of terraform and chef to provision and configure the machine.\n\nAs pointed out in https://gitlab.com/gitlab-org/gitlab-runner/issues/3757#note_129070759 we need at least Windows server Core 2016, but we can go with [Windows Server, version 1803](https://cloud.google.com/compute/docs/instances/windows/#windows_server) since it's the latest version of windows.\n\nThe following software needs to be installed on the machine\n\n- Openssh\n- docker\n- gitlab-runner\n- Git https://github.com/git-for-windows/git\n\n## Links to related issues and merge requests / references\n\n- https://gitlab.com/gitlab-org/gitlab-runner/issues/3755\n- https://gitlab.com/gitlab-org/gitlab-runner/issues/3757","state":"closed","created_at":"2019-01-08T10:49:19.670Z","updated_at":"2020-07-04T18:57:44.065Z","closed_at":"2019-06-07T10:52:13.917Z","closed_by":{"id":210928,"username":"steveazz","name":"Steve Azzopardi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4a5eeed7ec5c80642df9ee708bb496d7?s=80\u0026d=identicon","web_url":"https://gitlab.com/steveazz"},"labels":["Verify","auto updated","moved 1","moved 2","moved 3"],"milestone":{"id":816499,"iid":9,"group_id":1112072,"title":"CI/CD \u0026 Enablement Reliability Team Backlog","description":"","state":"closed","created_at":"2019-03-12T14:14:39.135Z","updated_at":"2019-12-04T21:45:38.189Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-com/gl-infra/-/milestones/9"},"assignees":[],"author":{"id":210928,"username":"steveazz","name":"Steve Azzopardi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4a5eeed7ec5c80642df9ee708bb496d7?s=80\u0026d=identicon","web_url":"https://gitlab.com/steveazz"},"type":"ISSUE","assignee":null,"user_notes_count":14,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/issues/5952","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/1304532/issues/5952","notes":"https://gitlab.com/api/v4/projects/1304532/issues/5952/notes","award_emoji":"https://gitlab.com/api/v4/projects/1304532/issues/5952/award_emoji","project":"https://gitlab.com/api/v4/projects/1304532","closed_as_duplicate_of":null},"references":{"short":"#5952","relative":"#5952","full":"gitlab-com/gl-infra/reliability#5952"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":17158979,"iid":5889,"project_id":1304532,"title":"Replication lag dashboards for DR replicas don't show data","description":"We have separate dashboards regarding replication lag for the DR replica (archive/delayed): https://dashboards.gitlab.net/d/000000144/postgresql-overview?panelId=133\u0026fullscreen\u0026edit\u0026orgId=1\n\nAll of these don't show data.","state":"closed","created_at":"2019-01-08T09:01:29.138Z","updated_at":"2019-01-16T12:48:28.882Z","closed_at":"2019-01-09T13:06:15.121Z","closed_by":{"id":1562869,"username":"abrandl","name":"Andreas Brandl","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1562869/avatar.png","web_url":"https://gitlab.com/abrandl"},"labels":["Database"],"milestone":{"id":725741,"iid":58,"project_id":1304532,"title":"Completed 2019-01-02","description":"Milestone to be worked by oncall team members.","state":"closed","created_at":"2018-12-02T12:54:22.142Z","updated_at":"2019-01-14T13:18:55.521Z","due_date":"2019-01-12","start_date":"2018-12-30","expired":true,"web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/milestones/58"},"assignees":[{"id":1562869,"username":"abrandl","name":"Andreas Brandl","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1562869/avatar.png","web_url":"https://gitlab.com/abrandl"}],"author":{"id":1562869,"username":"abrandl","name":"Andreas Brandl","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1562869/avatar.png","web_url":"https://gitlab.com/abrandl"},"type":"ISSUE","assignee":{"id":1562869,"username":"abrandl","name":"Andreas Brandl","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1562869/avatar.png","web_url":"https://gitlab.com/abrandl"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/issues/5889","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/1304532/issues/5889","notes":"https://gitlab.com/api/v4/projects/1304532/issues/5889/notes","award_emoji":"https://gitlab.com/api/v4/projects/1304532/issues/5889/award_emoji","project":"https://gitlab.com/api/v4/projects/1304532","closed_as_duplicate_of":null},"references":{"short":"#5889","relative":"#5889","full":"gitlab-com/gl-infra/reliability#5889"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":17158754,"iid":5888,"project_id":1304532,"title":"Workaround for GitHub importer bug","description":"Apply a database-level fix for affected projects for GitLab.com. This is the third time we apply a manual fix for this.\n\nChange issue: https://gitlab.com/gitlab-com/gl-infra/production/issues/643\n\nWork is on the way though: https://gitlab.com/gitlab-org/gitlab-ce/issues/54270","state":"closed","created_at":"2019-01-08T08:52:43.725Z","updated_at":"2019-01-08T09:25:38.937Z","closed_at":"2019-01-08T09:12:49.841Z","closed_by":{"id":1562869,"username":"abrandl","name":"Andreas Brandl","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1562869/avatar.png","web_url":"https://gitlab.com/abrandl"},"labels":["Database"],"milestone":{"id":725741,"iid":58,"project_id":1304532,"title":"Completed 2019-01-02","description":"Milestone to be worked by oncall team members.","state":"closed","created_at":"2018-12-02T12:54:22.142Z","updated_at":"2019-01-14T13:18:55.521Z","due_date":"2019-01-12","start_date":"2018-12-30","expired":true,"web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/milestones/58"},"assignees":[{"id":1562869,"username":"abrandl","name":"Andreas Brandl","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1562869/avatar.png","web_url":"https://gitlab.com/abrandl"}],"author":{"id":1562869,"username":"abrandl","name":"Andreas Brandl","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1562869/avatar.png","web_url":"https://gitlab.com/abrandl"},"type":"ISSUE","assignee":{"id":1562869,"username":"abrandl","name":"Andreas Brandl","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1562869/avatar.png","web_url":"https://gitlab.com/abrandl"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/issues/5888","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/1304532/issues/5888","notes":"https://gitlab.com/api/v4/projects/1304532/issues/5888/notes","award_emoji":"https://gitlab.com/api/v4/projects/1304532/issues/5888/award_emoji","project":"https://gitlab.com/api/v4/projects/1304532","closed_as_duplicate_of":null},"references":{"short":"#5888","relative":"#5888","full":"gitlab-com/gl-infra/reliability#5888"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":17158717,"iid":5887,"project_id":1304532,"title":"Require that all scripts performing maintenance have a dry-run output that can be reviewed","description":"This has come up multiple times in incidents and I think its worth making it a bit more formal that if maintenance is automated there should be a dry-run mode that displays exactly what the script is doing, ssh commands, api calls, etc. so that it can be reviewed. \n\nCorrective action for https://gitlab.com/gitlab-com/gl-infra/infrastructure/issues/5874","state":"closed","created_at":"2019-01-08T08:51:35.441Z","updated_at":"2019-01-17T07:28:55.935Z","closed_at":"2019-01-15T03:14:02.517Z","closed_by":{"id":2601632,"username":"aamarsanaa","name":"Amarbayar Amarsanaa","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2601632/avatar.png","web_url":"https://gitlab.com/aamarsanaa"},"labels":["auto updated","corrective action"],"milestone":{"id":756353,"iid":62,"project_id":1304532,"title":"JF team 2019 week 3","description":"","state":"closed","created_at":"2019-01-10T15:23:52.245Z","updated_at":"2019-01-29T09:59:00.137Z","due_date":"2019-01-25","start_date":"2019-01-14","expired":true,"web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/milestones/62"},"assignees":[{"id":2601632,"username":"aamarsanaa","name":"Amarbayar Amarsanaa","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2601632/avatar.png","web_url":"https://gitlab.com/aamarsanaa"}],"author":{"id":1254817,"username":"jarv","name":"John Jarvis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1254817/avatar.png","web_url":"https://gitlab.com/jarv"},"type":"ISSUE","assignee":{"id":2601632,"username":"aamarsanaa","name":"Amarbayar Amarsanaa","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2601632/avatar.png","web_url":"https://gitlab.com/aamarsanaa"},"user_notes_count":3,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/issues/5887","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/1304532/issues/5887","notes":"https://gitlab.com/api/v4/projects/1304532/issues/5887/notes","award_emoji":"https://gitlab.com/api/v4/projects/1304532/issues/5887/award_emoji","project":"https://gitlab.com/api/v4/projects/1304532","closed_as_duplicate_of":null},"references":{"short":"#5887","relative":"#5887","full":"gitlab-com/gl-infra/reliability#5887"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":17155221,"iid":5884,"project_id":1304532,"title":"Unresolvable service discovery config spamming Sentry","description":"See https://sentry.gitlab.net/gitlab/staginggitlabcom/issues/612471:\n\n```\nIPAddr::InvalidAddressError: invalid address\n  from ipaddr.rb:649:in `in6_addr'\n  from ipaddr.rb:586:in `initialize'\n  from gitlab/database/load_balancing/service_discovery.rb:139:in `new'\n  from gitlab/database/load_balancing/service_discovery.rb:139:in `nameserver_ip'\n  from gitlab/database/load_balancing/service_discovery.rb:130:in `resolver'\n  from gitlab/database/load_balancing/service_discovery.rb:103:in `addresses_from_dns'\n  from gitlab/database/load_balancing/service_discovery.rb:68:in `refresh_if_necessary'\n  from gitlab/database/load_balancing/service_discovery.rb:41:in `block (2 levels) in start'\n  from gitlab/database/load_balancing/service_discovery.rb:38:in `loop'\n  from gitlab/database/load_balancing/service_discovery.rb:38:in `block in start'\nGitlab::Database::LoadBalancing::ServiceDiscovery::UnresolvableNameserverError: could not resolve localhost\n  from gitlab/database/load_balancing/service_discovery.rb:144:in `rescue in nameserver_ip'\n  from gitlab/database/load_balancing/service_discovery.rb:138:in `nameserver_ip'\n  from gitlab/database/load_balancing/service_discovery.rb:130:in `resolver'\n  from gitlab/database/load_balancing/service_discovery.rb:103:in `addresses_from_dns'\n  from gitlab/database/load_balancing/service_discovery.rb:68:in `refresh_if_necessary'\n  from gitlab/database/load_balancing/service_discovery.rb:41:in `block (2 levels) in start'\n  from gitlab/database/load_balancing/service_discovery.rb:38:in `loop'\n  from gitlab/database/load_balancing/service_discovery.rb:38:in `block in start'\n```\n\n\nThe config is:\n\n```\n  load_balancing: {\"hosts\":[],\"discover\":{\"record\":\"replica.patroni.service.consul.\",\"nameserver\":\"localhost\",\"port\":8600}}\n```\n\nThe error suggests this local nameserver isn't able to resolve that record.","state":"closed","created_at":"2019-01-08T04:47:30.619Z","updated_at":"2019-01-08T16:38:24.583Z","closed_at":"2019-01-08T10:27:43.840Z","closed_by":{"id":506061,"username":"ahmadsherif","name":"Ahmad Sherif","state":"active","avatar_url":"https://secure.gravatar.com/avatar/bd6d0ec4213b91601956c9f801cbfe9b?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahmadsherif"},"labels":["Database","auto updated"],"milestone":null,"assignees":[{"id":506061,"username":"ahmadsherif","name":"Ahmad Sherif","state":"active","avatar_url":"https://secure.gravatar.com/avatar/bd6d0ec4213b91601956c9f801cbfe9b?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahmadsherif"}],"author":{"id":64248,"username":"stanhu","name":"Stan Hu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/64248/stanhu.jpg","web_url":"https://gitlab.com/stanhu"},"type":"ISSUE","assignee":{"id":506061,"username":"ahmadsherif","name":"Ahmad Sherif","state":"active","avatar_url":"https://secure.gravatar.com/avatar/bd6d0ec4213b91601956c9f801cbfe9b?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahmadsherif"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/issues/5884","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/1304532/issues/5884","notes":"https://gitlab.com/api/v4/projects/1304532/issues/5884/notes","award_emoji":"https://gitlab.com/api/v4/projects/1304532/issues/5884/award_emoji","project":"https://gitlab.com/api/v4/projects/1304532","closed_as_duplicate_of":null},"references":{"short":"#5884","relative":"#5884","full":"gitlab-com/gl-infra/reliability#5884"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":17152180,"iid":5880,"project_id":1304532,"title":"Install and configure GitLab application for Geo","description":"Now that https://gitlab.com/gitlab-com/gl-infra/infrastructure/issues/5467 is closed, we have a working environment. The next step is to get the application set up in such a way that it can be automatically updated along with production, so they don't diverge.\n\nBefore we can enable Geo (#5468), this work needs to be done","state":"closed","created_at":"2019-01-07T23:37:03.287Z","updated_at":"2020-07-29T10:02:45.058Z","closed_at":"2020-06-05T19:32:20.202Z","closed_by":{"id":2336046,"username":"devin","name":"Devin Sylva","state":"active","avatar_url":"https://secure.gravatar.com/avatar/424b025122218e9a586245e301c1c725?s=80\u0026d=identicon","web_url":"https://gitlab.com/devin"},"labels":["Geo","auto updated","blocked","moved 1","moved 2","moved 3","moved 4","team::Reliability","workflow-infra::Blocked"],"milestone":null,"assignees":[{"id":2336046,"username":"devin","name":"Devin Sylva","state":"active","avatar_url":"https://secure.gravatar.com/avatar/424b025122218e9a586245e301c1c725?s=80\u0026d=identicon","web_url":"https://gitlab.com/devin"}],"author":{"id":2336046,"username":"devin","name":"Devin Sylva","state":"active","avatar_url":"https://secure.gravatar.com/avatar/424b025122218e9a586245e301c1c725?s=80\u0026d=identicon","web_url":"https://gitlab.com/devin"},"type":"ISSUE","assignee":{"id":2336046,"username":"devin","name":"Devin Sylva","state":"active","avatar_url":"https://secure.gravatar.com/avatar/424b025122218e9a586245e301c1c725?s=80\u0026d=identicon","web_url":"https://gitlab.com/devin"},"user_notes_count":21,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/issues/5880","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":4,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/1304532/issues/5880","notes":"https://gitlab.com/api/v4/projects/1304532/issues/5880/notes","award_emoji":"https://gitlab.com/api/v4/projects/1304532/issues/5880/award_emoji","project":"https://gitlab.com/api/v4/projects/1304532","closed_as_duplicate_of":null},"references":{"short":"#5880","relative":"#5880","full":"gitlab-com/gl-infra/reliability#5880"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":12,"epic":{"id":1144,"iid":12,"title":"GEO for DR for GitLab.com","url":"/groups/gitlab-com/gl-infra/-/epics/12","group_id":1112072,"human_readable_end_date":"May 8, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":17152036,"iid":5879,"project_id":1304532,"title":"Create @ groups to reduce gl-infra spam","description":"Currently, folks are using @gitlab\\-com/gl\\-infra  to draw attention to all infrastructure issues.  This is a very large group, and there are a lot of these alerts.  Not everybody needs to see them.\n\nI propose splitting out these types of tags into smaller groups.  It would be easier for everyone to maintain focus if they could only be tagged on issues that they have an interest in.\n\nWe could start by splitting out the 3 new SRE groups, or we could create one for each functional area.","state":"closed","created_at":"2019-01-07T23:26:47.884Z","updated_at":"2019-02-01T01:27:30.225Z","closed_at":"2019-02-01T00:57:27.877Z","closed_by":{"id":2336046,"username":"devin","name":"Devin Sylva","state":"active","avatar_url":"https://secure.gravatar.com/avatar/424b025122218e9a586245e301c1c725?s=80\u0026d=identicon","web_url":"https://gitlab.com/devin"},"labels":[],"milestone":null,"assignees":[{"id":2336046,"username":"devin","name":"Devin Sylva","state":"active","avatar_url":"https://secure.gravatar.com/avatar/424b025122218e9a586245e301c1c725?s=80\u0026d=identicon","web_url":"https://gitlab.com/devin"}],"author":{"id":2336046,"username":"devin","name":"Devin Sylva","state":"active","avatar_url":"https://secure.gravatar.com/avatar/424b025122218e9a586245e301c1c725?s=80\u0026d=identicon","web_url":"https://gitlab.com/devin"},"type":"ISSUE","assignee":{"id":2336046,"username":"devin","name":"Devin Sylva","state":"active","avatar_url":"https://secure.gravatar.com/avatar/424b025122218e9a586245e301c1c725?s=80\u0026d=identicon","web_url":"https://gitlab.com/devin"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/issues/5879","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/1304532/issues/5879","notes":"https://gitlab.com/api/v4/projects/1304532/issues/5879/notes","award_emoji":"https://gitlab.com/api/v4/projects/1304532/issues/5879/award_emoji","project":"https://gitlab.com/api/v4/projects/1304532","closed_as_duplicate_of":null},"references":{"short":"#5879","relative":"#5879","full":"gitlab-com/gl-infra/reliability#5879"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":17151849,"iid":5878,"project_id":1304532,"title":"Chef automation breaks when deleting files","description":"When deleting a file from the chef repo, knife tries to push the deleted file to the chef server.  This causes the whole pipeline to fail.\n\nIf there are other changed files, they will not be uploaded to the repo, because just doing another commit won't work.  Only changed files are pushed, so on the subsequent commit, that file will no longer be changed.\n\nWe need to filter out deleted files from the list of changed files to upload to the chef server.\n\nThis MR addresses the issue: \nhttps://ops.gitlab.net/gitlab-cookbooks/chef-repo/merge_requests/503","state":"closed","created_at":"2019-01-07T23:09:08.294Z","updated_at":"2019-01-07T23:24:16.744Z","closed_at":"2019-01-07T23:10:05.050Z","closed_by":{"id":2336046,"username":"devin","name":"Devin Sylva","state":"active","avatar_url":"https://secure.gravatar.com/avatar/424b025122218e9a586245e301c1c725?s=80\u0026d=identicon","web_url":"https://gitlab.com/devin"},"labels":["chef","unscheduled"],"milestone":{"id":725741,"iid":58,"project_id":1304532,"title":"Completed 2019-01-02","description":"Milestone to be worked by oncall team members.","state":"closed","created_at":"2018-12-02T12:54:22.142Z","updated_at":"2019-01-14T13:18:55.521Z","due_date":"2019-01-12","start_date":"2018-12-30","expired":true,"web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/milestones/58"},"assignees":[{"id":2336046,"username":"devin","name":"Devin Sylva","state":"active","avatar_url":"https://secure.gravatar.com/avatar/424b025122218e9a586245e301c1c725?s=80\u0026d=identicon","web_url":"https://gitlab.com/devin"}],"author":{"id":2336046,"username":"devin","name":"Devin Sylva","state":"active","avatar_url":"https://secure.gravatar.com/avatar/424b025122218e9a586245e301c1c725?s=80\u0026d=identicon","web_url":"https://gitlab.com/devin"},"type":"ISSUE","assignee":{"id":2336046,"username":"devin","name":"Devin Sylva","state":"active","avatar_url":"https://secure.gravatar.com/avatar/424b025122218e9a586245e301c1c725?s=80\u0026d=identicon","web_url":"https://gitlab.com/devin"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/issues/5878","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/1304532/issues/5878","notes":"https://gitlab.com/api/v4/projects/1304532/issues/5878/notes","award_emoji":"https://gitlab.com/api/v4/projects/1304532/issues/5878/award_emoji","project":"https://gitlab.com/api/v4/projects/1304532","closed_as_duplicate_of":null},"references":{"short":"#5878","relative":"#5878","full":"gitlab-com/gl-infra/reliability#5878"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":17149085,"iid":5876,"project_id":1304532,"title":"Fluentd repos are broken on gitter hosts","description":"While updating the package cache on gitter hosts today, all returned the following error\n\n```\nReading package lists...\nW: An error occurred during the signature verification. The repository is not updated and the previous index files will be used. GPG error: http://packages.treasuredata.com trusty InRelease: The following signatures couldn't be verified because the public key is not available: NO_PUBKEY 901F9177AB97ACBE\n\nW: GPG error: https://deb.nodesource.com trusty InRelease: The following signatures couldn't be verified because the public key is not available: NO_PUBKEY 1655A0AB68576280\nW: Failed to fetch http://packages.treasuredata.com/2/ubuntu/trusty/dists/trusty/InRelease\n\nW: Some index files failed to download. They have been ignored, or old ones used instead.\n```\n\nThis is due to an update to the GPG key for fluentd package repositories. We need to download and import the new key (reference the manual process [here](https://www.fluentd.org/blog/update-gpg-key-for-td-agent))\n\n---\n\nSome discussion, https://gitlab.slack.com/archives/CB3LSMEJV/p1546890404268400","state":"closed","created_at":"2019-01-07T19:43:20.478Z","updated_at":"2020-11-18T19:27:13.546Z","closed_at":"2019-01-10T19:01:53.859Z","closed_by":{"id":693144,"username":"craig","name":"Craig Barrett","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c8dfa1ca41754b9409068e5e42080cd2?s=80\u0026d=identicon","web_url":"https://gitlab.com/craig"},"labels":["Gitter","group::gitter","unscheduled"],"milestone":{"id":725741,"iid":58,"project_id":1304532,"title":"Completed 2019-01-02","description":"Milestone to be worked by oncall team members.","state":"closed","created_at":"2018-12-02T12:54:22.142Z","updated_at":"2019-01-14T13:18:55.521Z","due_date":"2019-01-12","start_date":"2018-12-30","expired":true,"web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/milestones/58"},"assignees":[{"id":693144,"username":"craig","name":"Craig Barrett","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c8dfa1ca41754b9409068e5e42080cd2?s=80\u0026d=identicon","web_url":"https://gitlab.com/craig"}],"author":{"id":693144,"username":"craig","name":"Craig Barrett","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c8dfa1ca41754b9409068e5e42080cd2?s=80\u0026d=identicon","web_url":"https://gitlab.com/craig"},"type":"ISSUE","assignee":{"id":693144,"username":"craig","name":"Craig Barrett","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c8dfa1ca41754b9409068e5e42080cd2?s=80\u0026d=identicon","web_url":"https://gitlab.com/craig"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/issues/5876","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/1304532/issues/5876","notes":"https://gitlab.com/api/v4/projects/1304532/issues/5876/notes","award_emoji":"https://gitlab.com/api/v4/projects/1304532/issues/5876/award_emoji","project":"https://gitlab.com/api/v4/projects/1304532","closed_as_duplicate_of":null},"references":{"short":"#5876","relative":"#5876","full":"gitlab-com/gl-infra/reliability#5876"},"severity":"UNKNOWN","moved_to_id":74586098,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":17092334,"iid":5869,"project_id":1304532,"title":"Ensure integrity of terraform changes before apply/merge","description":"[RCA](#5813) corrective action:\n\n\u003e Use [Atlantis](https://runatlantis.io) for automating and queuing terraform deployments\n\nWe should implement [Atlantis](https://runatlantis.io) for distributed locking/queuing across merge requests, and incorporate that into the work for \u00269.\n\nThe description for this issue was originally `Setup Atlantis for Terraform deployments on ops instance`. More fundamentally, this issue is intended to ensure the integrity of all terraform changes before running apply and merging to master. Utilizing Atlantis (or Terraform Enterprise) would be one way of implementing a FIFO queue for merge requests, but we may also be able to leverage [merge trains](https://docs.gitlab.com/ee/ci/merge_request_pipelines/pipelines_for_merged_results/merge_trains/index.html) within the GitLab product, itself.","state":"closed","created_at":"2019-01-05T00:04:58.890Z","updated_at":"2021-09-29T16:24:43.813Z","closed_at":"2021-09-22T20:19:36.749Z","closed_by":{"id":194566,"username":"cmcfarland","name":"Cameron McFarland","state":"active","avatar_url":"https://secure.gravatar.com/avatar/0fea59864aa5c034e15089251bf9fa8f?s=80\u0026d=identicon","web_url":"https://gitlab.com/cmcfarland"},"labels":["automation","corrective action","severity::3","team::Reliability","terraform","workflow-infra::Cancelled"],"milestone":null,"assignees":[{"id":194566,"username":"cmcfarland","name":"Cameron McFarland","state":"active","avatar_url":"https://secure.gravatar.com/avatar/0fea59864aa5c034e15089251bf9fa8f?s=80\u0026d=identicon","web_url":"https://gitlab.com/cmcfarland"}],"author":{"id":693144,"username":"craig","name":"Craig Barrett","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c8dfa1ca41754b9409068e5e42080cd2?s=80\u0026d=identicon","web_url":"https://gitlab.com/craig"},"type":"ISSUE","assignee":{"id":194566,"username":"cmcfarland","name":"Cameron McFarland","state":"active","avatar_url":"https://secure.gravatar.com/avatar/0fea59864aa5c034e15089251bf9fa8f?s=80\u0026d=identicon","web_url":"https://gitlab.com/cmcfarland"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/issues/5869","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/1304532/issues/5869","notes":"https://gitlab.com/api/v4/projects/1304532/issues/5869/notes","award_emoji":"https://gitlab.com/api/v4/projects/1304532/issues/5869/award_emoji","project":"https://gitlab.com/api/v4/projects/1304532","closed_as_duplicate_of":null},"references":{"short":"#5869","relative":"#5869","full":"gitlab-com/gl-infra/reliability#5869"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":219,"epic":{"id":46451,"iid":219,"title":"Terraform Improvements Backlog","url":"/groups/gitlab-com/gl-infra/-/epics/219","group_id":1112072},"iteration":null,"health_status":null},{"id":17071059,"iid":5864,"project_id":1304532,"title":"Clean up orphaned resources in Gitter environment","description":"The following DNS entries in the `prod.gitter` [zone](https://console.aws.amazon.com/route53/home?region=us-east-1#resource-record-sets:ZLV6X5P28OJXS) reference non-existent resources; we should ensure that we have any/all associated infrastructure removed from terraform and configuration cleaned up from ansible, as well as removing any corresponding DNS records/resources in the beta environment.\n\n```\nconsul-01.prod.gitter\nconsul-02.prod.gitter\nconsul-03.prod.gitter\nmaster-01.prod.gitter\nmaster-02.prod.gitter\nmaster-03.prod.gitter\nminion-01.prod.gitter\nminion-02.prod.gitter\npacker.prod.gitter\nredis-03.prod.gitter\nvpn-01.prod.gitter\n```","state":"closed","created_at":"2019-01-04T00:38:30.553Z","updated_at":"2020-11-18T19:24:14.560Z","closed_at":"2020-11-18T19:24:14.456Z","closed_by":{"id":892863,"username":"MadLittleMods","name":"Eric Eastwood","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4d634a2b818e2265fa2924b5f4c2da71?s=80\u0026d=identicon","web_url":"https://gitlab.com/MadLittleMods"},"labels":["Gitter","group::gitter","team::Reliability","toil"],"milestone":null,"assignees":[],"author":{"id":693144,"username":"craig","name":"Craig Barrett","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c8dfa1ca41754b9409068e5e42080cd2?s=80\u0026d=identicon","web_url":"https://gitlab.com/craig"},"type":"ISSUE","assignee":null,"user_notes_count":0,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/issues/5864","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/1304532/issues/5864","notes":"https://gitlab.com/api/v4/projects/1304532/issues/5864/notes","award_emoji":"https://gitlab.com/api/v4/projects/1304532/issues/5864/award_emoji","project":"https://gitlab.com/api/v4/projects/1304532","closed_as_duplicate_of":null},"references":{"short":"#5864","relative":"#5864","full":"gitlab-com/gl-infra/reliability#5864"},"severity":"UNKNOWN","moved_to_id":74585915,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":17070459,"iid":5863,"project_id":1304532,"title":"Remove unused EBS volumes in Gitter AWS account","description":"A recent review of EBS volumes showed the following 13 volumes as unused/unattached. If they are no longer needed, we should delete the volumes.\n\n![Screen_Shot_2019-01-03_at_3.01.42_PM](/uploads/4d4017beb5d23bd8b0158aff30f37ece/Screen_Shot_2019-01-03_at_3.01.42_PM.png)\n\n/cc @MadLittleMods @andrewn","state":"closed","created_at":"2019-01-03T23:09:11.483Z","updated_at":"2020-11-18T19:24:16.445Z","closed_at":"2020-11-18T19:24:16.358Z","closed_by":{"id":892863,"username":"MadLittleMods","name":"Eric Eastwood","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4d634a2b818e2265fa2924b5f4c2da71?s=80\u0026d=identicon","web_url":"https://gitlab.com/MadLittleMods"},"labels":["Cloud Spend","Gitter","Infrastructure","Ready","Savings-Estimate::\u003c $10k / QTR","group::gitter","team::Reliability"],"milestone":null,"assignees":[],"author":{"id":693144,"username":"craig","name":"Craig Barrett","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c8dfa1ca41754b9409068e5e42080cd2?s=80\u0026d=identicon","web_url":"https://gitlab.com/craig"},"type":"ISSUE","assignee":null,"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/issues/5863","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/1304532/issues/5863","notes":"https://gitlab.com/api/v4/projects/1304532/issues/5863/notes","award_emoji":"https://gitlab.com/api/v4/projects/1304532/issues/5863/award_emoji","project":"https://gitlab.com/api/v4/projects/1304532","closed_as_duplicate_of":null},"references":{"short":"#5863","relative":"#5863","full":"gitlab-com/gl-infra/reliability#5863"},"severity":"UNKNOWN","moved_to_id":74585917,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":17070164,"iid":5861,"project_id":1304532,"title":"Setup NAT Gateways for all Gitter AZs","description":"As a follow-up to #5492 and gitlab-com/gl-infra/production#559, we introduced a NAT gateway for egress from internal hosts within the Gitter environment, instead of the legacy VPN which also acted as a NAT instance.\n\nThe new gateway is currently serving traffic for all subnets, but is susceptible to disruption if Amazon suffers an outage of the Availability Zone where the NAT Gateway is provisioned, and/or traffic is disrupted between AZs.\n\nNow that the issue from gitlab-com/gl-infra/production#559 has been mitigated, we need to shore up the infrastructure, and provision additional NAT gateways in each availability zone, and associate the local private subnets in those AZs.","state":"closed","created_at":"2019-01-03T22:34:15.693Z","updated_at":"2020-11-18T19:24:18.330Z","closed_at":"2020-01-31T13:17:42.267Z","closed_by":{"id":528408,"username":"asandov","name":"AnthonySandoval","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/528408/avatar.png","web_url":"https://gitlab.com/asandov"},"labels":["Gitter","group::gitter","team::Reliability","workflow-infra::Cancelled"],"milestone":null,"assignees":[],"author":{"id":693144,"username":"craig","name":"Craig Barrett","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c8dfa1ca41754b9409068e5e42080cd2?s=80\u0026d=identicon","web_url":"https://gitlab.com/craig"},"type":"ISSUE","assignee":null,"user_notes_count":2,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/issues/5861","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/1304532/issues/5861","notes":"https://gitlab.com/api/v4/projects/1304532/issues/5861/notes","award_emoji":"https://gitlab.com/api/v4/projects/1304532/issues/5861/award_emoji","project":"https://gitlab.com/api/v4/projects/1304532","closed_as_duplicate_of":null},"references":{"short":"#5861","relative":"#5861","full":"gitlab-com/gl-infra/reliability#5861"},"severity":"UNKNOWN","moved_to_id":74585925,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":17069985,"iid":5860,"project_id":1304532,"title":"Setup autoscaling for Gitter bastion","description":"As a follow-up to #5492 and gitlab-com/gl-infra/production#559, we introduced a bastion host for access to the Gitter environment, instead of the legacy VPN. The new bastion is a single instance, with no redundancy for fault-tolerance or HA as a quick mitigation to gitlab-com/gl-infra/production#559, but now we need to shore up the infrastructure.\n\n1. [ ] Setup a Network Load Balancer for SSH traffic to the bastion node\n1. [ ] Setup an Autoscaling group for bastion nodes\n1. [ ] Setup a Launch Configuration / Launch Template for bastion nodes\n1. [ ] Provision a deterministic host key on bootstrap for all bastion nodes (allows clients to rely on strict host key checking)","state":"closed","created_at":"2019-01-03T22:26:45.950Z","updated_at":"2020-11-18T19:24:20.533Z","closed_at":"2020-01-31T21:28:40.145Z","closed_by":{"id":528408,"username":"asandov","name":"AnthonySandoval","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/528408/avatar.png","web_url":"https://gitlab.com/asandov"},"labels":["Gitter","automation","group::gitter","security","team::Reliability","terraform","workflow-infra::Cancelled"],"milestone":null,"assignees":[],"author":{"id":693144,"username":"craig","name":"Craig Barrett","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c8dfa1ca41754b9409068e5e42080cd2?s=80\u0026d=identicon","web_url":"https://gitlab.com/craig"},"type":"ISSUE","assignee":null,"user_notes_count":1,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/issues/5860","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":4,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/1304532/issues/5860","notes":"https://gitlab.com/api/v4/projects/1304532/issues/5860/notes","award_emoji":"https://gitlab.com/api/v4/projects/1304532/issues/5860/award_emoji","project":"https://gitlab.com/api/v4/projects/1304532","closed_as_duplicate_of":null},"references":{"short":"#5860","relative":"#5860","full":"gitlab-com/gl-infra/reliability#5860"},"severity":"UNKNOWN","moved_to_id":74585932,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":17061569,"iid":5859,"project_id":1304532,"title":"Create more file nodes","description":"As is customary, we need to create 4 more storage nodes. We usually do this at 60% capacity and we're WAY farther behind than we usual as they are at 80%+ at this point. Thus, I'd say this is pretty urgent.\n\ncc/ @dawsmith ","state":"closed","created_at":"2019-01-03T18:18:03.748Z","updated_at":"2019-02-05T18:39:55.179Z","closed_at":"2019-01-04T13:50:18.244Z","closed_by":{"id":2524675,"username":"skarbek","name":"John Skarbek","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c6455ce4726023aac6dd7fb0acd1f236?s=80\u0026d=identicon","web_url":"https://gitlab.com/skarbek"},"labels":["auto updated","storage"],"milestone":{"id":725741,"iid":58,"project_id":1304532,"title":"Completed 2019-01-02","description":"Milestone to be worked by oncall team members.","state":"closed","created_at":"2018-12-02T12:54:22.142Z","updated_at":"2019-01-14T13:18:55.521Z","due_date":"2019-01-12","start_date":"2018-12-30","expired":true,"web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/milestones/58"},"assignees":[{"id":2524675,"username":"skarbek","name":"John Skarbek","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c6455ce4726023aac6dd7fb0acd1f236?s=80\u0026d=identicon","web_url":"https://gitlab.com/skarbek"}],"author":{"id":429540,"username":"ahanselka","name":"Alex Hanselka","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/429540/avatar.png","web_url":"https://gitlab.com/ahanselka"},"type":"ISSUE","assignee":{"id":2524675,"username":"skarbek","name":"John Skarbek","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c6455ce4726023aac6dd7fb0acd1f236?s=80\u0026d=identicon","web_url":"https://gitlab.com/skarbek"},"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/issues/5859","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/1304532/issues/5859","notes":"https://gitlab.com/api/v4/projects/1304532/issues/5859/notes","award_emoji":"https://gitlab.com/api/v4/projects/1304532/issues/5859/award_emoji","project":"https://gitlab.com/api/v4/projects/1304532","closed_as_duplicate_of":null},"references":{"short":"#5859","relative":"#5859","full":"gitlab-com/gl-infra/reliability#5859"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":17044047,"iid":5855,"project_id":1304532,"title":"Fix statement timeout spikes related to GitHub importer jobs","description":"This is the infra issue to track work on https://gitlab.com/gitlab-org/gitlab-ce/issues/54270.","state":"closed","created_at":"2019-01-03T11:06:25.955Z","updated_at":"2019-01-29T18:25:49.104Z","closed_at":"2019-01-29T17:16:47.589Z","closed_by":{"id":1562869,"username":"abrandl","name":"Andreas Brandl","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1562869/avatar.png","web_url":"https://gitlab.com/abrandl"},"labels":["Database"],"milestone":{"id":760026,"iid":67,"project_id":1304532,"title":"AS Team 2019 Week 5","description":"","state":"closed","created_at":"2019-01-14T19:49:28.874Z","updated_at":"2019-02-11T19:28:21.820Z","due_date":"2019-02-10","start_date":"2019-01-28","expired":true,"web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/milestones/67"},"assignees":[{"id":1562869,"username":"abrandl","name":"Andreas Brandl","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1562869/avatar.png","web_url":"https://gitlab.com/abrandl"}],"author":{"id":1562869,"username":"abrandl","name":"Andreas Brandl","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1562869/avatar.png","web_url":"https://gitlab.com/abrandl"},"type":"ISSUE","assignee":{"id":1562869,"username":"abrandl","name":"Andreas Brandl","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1562869/avatar.png","web_url":"https://gitlab.com/abrandl"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/issues/5855","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/1304532/issues/5855","notes":"https://gitlab.com/api/v4/projects/1304532/issues/5855/notes","award_emoji":"https://gitlab.com/api/v4/projects/1304532/issues/5855/award_emoji","project":"https://gitlab.com/api/v4/projects/1304532","closed_as_duplicate_of":null},"references":{"short":"#5855","relative":"#5855","full":"gitlab-com/gl-infra/reliability#5855"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":17025630,"iid":5853,"project_id":1304532,"title":"Transition temporary indexes into release","description":"This is to track the work being done on https://gitlab.com/gitlab-org/gitlab-ce/merge_requests/23188/diffs to be able to remove temporary indexes we added in production. Once the CE MR is released, we can execute https://gitlab.com/gitlab-com/gl-infra/production/issues/524 and remove the temporary indexes.","state":"closed","created_at":"2019-01-02T14:45:20.640Z","updated_at":"2019-01-08T09:25:38.910Z","closed_at":"2019-01-08T08:48:28.731Z","closed_by":{"id":1562869,"username":"abrandl","name":"Andreas Brandl","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1562869/avatar.png","web_url":"https://gitlab.com/abrandl"},"labels":["Database"],"milestone":{"id":725741,"iid":58,"project_id":1304532,"title":"Completed 2019-01-02","description":"Milestone to be worked by oncall team members.","state":"closed","created_at":"2018-12-02T12:54:22.142Z","updated_at":"2019-01-14T13:18:55.521Z","due_date":"2019-01-12","start_date":"2018-12-30","expired":true,"web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/milestones/58"},"assignees":[{"id":1562869,"username":"abrandl","name":"Andreas Brandl","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1562869/avatar.png","web_url":"https://gitlab.com/abrandl"}],"author":{"id":1562869,"username":"abrandl","name":"Andreas Brandl","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1562869/avatar.png","web_url":"https://gitlab.com/abrandl"},"type":"ISSUE","assignee":{"id":1562869,"username":"abrandl","name":"Andreas Brandl","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1562869/avatar.png","web_url":"https://gitlab.com/abrandl"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/issues/5853","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/1304532/issues/5853","notes":"https://gitlab.com/api/v4/projects/1304532/issues/5853/notes","award_emoji":"https://gitlab.com/api/v4/projects/1304532/issues/5853/award_emoji","project":"https://gitlab.com/api/v4/projects/1304532","closed_as_duplicate_of":null},"references":{"short":"#5853","relative":"#5853","full":"gitlab-com/gl-infra/reliability#5853"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":17018615,"iid":5852,"project_id":1304532,"title":"Postgres backup restores fail","description":"`gitlab-restore/postgres-gprd` is not checking in with deadmanssnitch anymore (since at least Dec 27).\n\nSee https://deadmanssnitch.com/snitches/178d5bf474 and notifications in Slack: https://gitlab.slack.com/archives/C3NBYFJ6N/p1546387218020400","state":"closed","created_at":"2019-01-02T09:53:49.409Z","updated_at":"2019-03-07T16:31:36.322Z","closed_at":"2019-03-07T16:23:48.831Z","closed_by":{"id":1562869,"username":"abrandl","name":"Andreas Brandl","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1562869/avatar.png","web_url":"https://gitlab.com/abrandl"},"labels":["Database","backup"],"milestone":{"id":799299,"iid":77,"project_id":1304532,"title":"JF Team 2019 Week 9","description":"","state":"closed","created_at":"2019-02-23T07:32:47.253Z","updated_at":"2019-03-11T12:32:29.343Z","due_date":"2019-03-07","start_date":"2019-02-25","expired":true,"web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/milestones/77"},"assignees":[{"id":1562869,"username":"abrandl","name":"Andreas Brandl","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1562869/avatar.png","web_url":"https://gitlab.com/abrandl"}],"author":{"id":1562869,"username":"abrandl","name":"Andreas Brandl","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1562869/avatar.png","web_url":"https://gitlab.com/abrandl"},"type":"ISSUE","assignee":{"id":1562869,"username":"abrandl","name":"Andreas Brandl","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1562869/avatar.png","web_url":"https://gitlab.com/abrandl"},"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/issues/5852","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/1304532/issues/5852","notes":"https://gitlab.com/api/v4/projects/1304532/issues/5852/notes","award_emoji":"https://gitlab.com/api/v4/projects/1304532/issues/5852/award_emoji","project":"https://gitlab.com/api/v4/projects/1304532","closed_as_duplicate_of":null},"references":{"short":"#5852","relative":"#5852","full":"gitlab-com/gl-infra/reliability#5852"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":17018476,"iid":5851,"project_id":1304532,"title":"Database Reviews","description":"* [x] @NikolayS -\u003e @abrandl https://gitlab.com/gitlab-org/gitlab-ee/merge_requests/8497#note_124026675\n* [x] @abrandl https://gitlab.com/gitlab-org/gitlab-ee/merge_requests/8927#note_126726752\n* [x] @abrandl https://gitlab.com/gitlab-org/gitlab-ee/merge_requests/8669#note_126158494\n* [x] @abrandl https://gitlab.com/gitlab-org/gitlab-ce/merge_requests/19740#note_125938200\n* [x] @NikolayS https://gitlab.com/gitlab-org/gitlab-ce/merge_requests/23098#note_125777941\n* [x] @abrandl https://gitlab.com/gitlab-org/gitlab-ce/merge_requests/24056#note_128145058\n* [x] @abrandl https://gitlab.com/gitlab-org/gitlab-ce/merge_requests/24042#note_127617989\n* [x] @abrandl https://gitlab.com/gitlab-org/gitlab-ee/merge_requests/8497#note_127501661\n* [ ] @NikolayS https://gitlab.com/gitlab-org/gitlab-ce/issues/51854#note_127186345\n* [x] @abrandl https://gitlab.com/gitlab-org/gitlab-ee/merge_requests/8949#note_127338816\n* [x] @abrandl trigram https://gitlab.com/gitlab-org/gitlab-ce/merge_requests/23952#note_128130394\n* [x] @abrandl https://gitlab.com/gitlab-org/gitlab-ce/merge_requests/18425#note_126834567\n* [x] @abrandl https://gitlab.com/gitlab-org/gitlab-ee/merge_requests/8961\n* [x] @abrandl Thu https://gitlab.com/gitlab-org/gitlab-ce/merge_requests/21499\n* [x] @abrandl Thu https://dev.gitlab.org/gitlab/gitlabhq/merge_requests/2694\n* [ ] @NikolayS https://gitlab.com/gitlab-org/gitlab-ee/merge_requests/8988#note_128739113\n* [x] @abrandl https://gitlab.com/gitlab-org/gitlab-ce/merge_requests/24119\n* [x] @abrandl binary join https://gitlab.com/gitlab-org/gitlab-ee/merge_requests/8977#note_128700496\n* [x] @abrandl trigram https://gitlab.com/gitlab-org/gitlab-ce/merge_requests/23952#note_128621830\n* [x] @abrandl LB https://gitlab.com/gitlab-org/gitlab-ee/merge_requests/8961\n* [x] @abrandl https://gitlab.com/gitlab-org/gitlab-ce/merge_requests/21499 with https://gitlab.com/gitlab-org/gitlab-ee/merge_requests/7238\n* [x] @NikolayS -\u003e @abrandl https://gitlab.com/gitlab-org/gitlab-ce/merge_requests/24047#note_128914394\n* [x] @abrandl https://gitlab.com/gitlab-org/gitlab-ee/merge_requests/8949#note_128914150\n* [x] @abrandl rather heavy migration https://gitlab.com/gitlab-org/gitlab-ee/merge_requests/8669\n* [x] @abrandl https://gitlab.com/gitlab-org/gitlab-ce/merge_requests/18425/diffs#note_129308895\n* [ ] Fixtures https://gitlab.com/gitlab-org/gitlab-ee/merge_requests/8240#note_129069979\n* [x] @abrandl https://gitlab.com/gitlab-org/gitlab-ce/merge_requests/24144\n* [x] High risk https://dev.gitlab.org/gitlab/gitlabhq/merge_requests/2694#note_144679\n* [x] N+1 https://dev.gitlab.org/gitlab/gitlabhq/merge_requests/2480\n* [x] @abrandl DB load balancing https://gitlab.com/gitlab-org/gitlab-ee/merge_requests/9071#note_130145897\n\nNo or later milestone:\n\n* [ ] @abrandl https://gitlab.com/gitlab-org/gitlab-ce/merge_requests/23464#note_126871390\n* [ ] @abrandl https://gitlab.com/gitlab-org/gitlab-ce/issues/54643#note_125483243","state":"closed","created_at":"2019-01-02T09:47:35.423Z","updated_at":"2019-01-14T16:32:03.100Z","closed_at":"2019-01-14T15:26:08.849Z","closed_by":{"id":1562869,"username":"abrandl","name":"Andreas Brandl","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1562869/avatar.png","web_url":"https://gitlab.com/abrandl"},"labels":["Database","toil"],"milestone":{"id":757545,"iid":63,"project_id":1304532,"title":"AS Team 2019 Week 3","description":"","state":"closed","created_at":"2019-01-11T21:44:30.740Z","updated_at":"2019-01-29T02:23:18.245Z","due_date":"2019-01-27","start_date":"2019-01-14","expired":true,"web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/milestones/63"},"assignees":[{"id":1562869,"username":"abrandl","name":"Andreas Brandl","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1562869/avatar.png","web_url":"https://gitlab.com/abrandl"},{"id":1906296,"username":"NikolayS","name":"Nikolay Samokhvalov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1906296/avatar.png","web_url":"https://gitlab.com/NikolayS"}],"author":{"id":1562869,"username":"abrandl","name":"Andreas Brandl","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1562869/avatar.png","web_url":"https://gitlab.com/abrandl"},"type":"ISSUE","assignee":{"id":1562869,"username":"abrandl","name":"Andreas Brandl","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1562869/avatar.png","web_url":"https://gitlab.com/abrandl"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/issues/5851","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":32,"completed_count":27},"weight":0,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/1304532/issues/5851","notes":"https://gitlab.com/api/v4/projects/1304532/issues/5851/notes","award_emoji":"https://gitlab.com/api/v4/projects/1304532/issues/5851/award_emoji","project":"https://gitlab.com/api/v4/projects/1304532","closed_as_duplicate_of":null},"references":{"short":"#5851","relative":"#5851","full":"gitlab-com/gl-infra/reliability#5851"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":17009034,"iid":5847,"project_id":1304532,"title":"Set up DB replica for analytics pulls into EDW","description":"Organization:\n1. In this issue, we want to setup access to the archive replica and configure it such that it can be used from the ELT loads\n1. In a related issue https://gitlab.com/gitlab-com/gl-infra/infrastructure/issues/5970, we are going to provide network-level access to said replica for the ELT runner jobs (with appropriate firewall rules).\n\nDiscussion summary:\n1. The ELT load will only need read-only permissions (hence a replica is fine).\n1. No strict SLA guarantees regarding uptime/availability/performance.\n1. Queries from the ELT load are expected to finish within 5 minutes. Statement timeouts will be enforced accordingly.\n\n\n\n-------\n\n\nOur current method for getting updated production data into our warehouse is as follows:\n\n* Update pseudonymizer config if possible https://gitlab.com/gitlab-org/gitlab-ee/blob/master/config/pseudonymizer.yml\n* Ping someone on production team to run the pseudonymizer (usually Stan)\n  * Hope that nothing fails or bombs out writing CSVs to GCS\n* Import generated CSVs from object storage into Snowflake\n\nThis presents a number of challenges, not the least of which is precious time from a member of the production team every time we want updated data. \n\nReading through https://about.gitlab.com/handbook/engineering/infrastructure/database/disaster_recovery.html and https://gitlab.com/gitlab-restore/postgres-gprd it seems like we should be able to set up an isolated replica that is updated on a regular basis with production data. (We do this regularly for version, customer, and license dbs https://gitlab.com/gitlab-restore/version.gitlab.com#vpc-setup) We don't need up to the minute updates, delays of 1-2 weeks is fine.\n\nIf we follow the same model where only our project's runner is whitelisted for access I think it'll simplify the security footprint and risk. We'd still have an explicit list of fields we'd be pulling that security would approve for updates and increased data pulls.\n\nMy time request is that something be stood up by the end of January. We've got some OKRs related to modeling of the dotcom data. \n\n@stanhu does this seem reasonable? I know it'd save you some time. \n\n@dawsmith thoughts on this? Is this something @yguo could setup?\n\n@jeremy @tszuromi just FYI - I'm trying to close the time between updates for production data. \n\ncc @tlapiana","state":"closed","created_at":"2019-01-01T15:43:59.406Z","updated_at":"2021-06-01T12:50:25.508Z","closed_at":"2019-03-01T11:54:55.528Z","closed_by":{"id":1562869,"username":"abrandl","name":"Andreas Brandl","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1562869/avatar.png","web_url":"https://gitlab.com/abrandl"},"labels":["Database [pl]"],"milestone":{"id":799299,"iid":77,"project_id":1304532,"title":"JF Team 2019 Week 9","description":"","state":"closed","created_at":"2019-02-23T07:32:47.253Z","updated_at":"2019-03-11T12:32:29.343Z","due_date":"2019-03-07","start_date":"2019-02-25","expired":true,"web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/milestones/77"},"assignees":[{"id":1562869,"username":"abrandl","name":"Andreas Brandl","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1562869/avatar.png","web_url":"https://gitlab.com/abrandl"}],"author":{"id":1942272,"username":"tayloramurphy","name":"Taylor A Murphy","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1942272/avatar.png","web_url":"https://gitlab.com/tayloramurphy"},"type":"ISSUE","assignee":{"id":1562869,"username":"abrandl","name":"Andreas Brandl","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1562869/avatar.png","web_url":"https://gitlab.com/abrandl"},"user_notes_count":39,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/issues/5847","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/1304532/issues/5847","notes":"https://gitlab.com/api/v4/projects/1304532/issues/5847/notes","award_emoji":"https://gitlab.com/api/v4/projects/1304532/issues/5847/award_emoji","project":"https://gitlab.com/api/v4/projects/1304532","closed_as_duplicate_of":null},"references":{"short":"#5847","relative":"#5847","full":"gitlab-com/gl-infra/reliability#5847"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":17001284,"iid":5841,"project_id":1304532,"title":"Investigate solutions to vacuuming our database prior to failover","description":"During a recent failover https://gitlab.com/gitlab-com/gl-infra/production/issues/637, patroni-04 was elected leader.  Upon becoming the leader, we received an alert that we've exceeded our thresholds for Dead Tuples.\n\n![image](/uploads/70b247f384080c84eaa52d8630ad98ee/image.png)\n\nThis node started off with high percentages of dead tuples.  \n\nUse this issue to investigate and resolve the following questions:\n1. Why do secondaries not have the same data or analyze table information for dead tuples as the primary?\n1. Should this alert be considered high priority?\n1. If this is a problem what can be done prior to failovers to ensure potentially elected secondaries do not have a high percentage of dead tuples?","state":"closed","created_at":"2018-12-31T15:13:32.027Z","updated_at":"2022-06-27T04:28:53.670Z","closed_at":"2019-09-27T13:22:59.004Z","closed_by":{"id":506061,"username":"ahmadsherif","name":"Ahmad Sherif","state":"active","avatar_url":"https://secure.gravatar.com/avatar/bd6d0ec4213b91601956c9f801cbfe9b?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahmadsherif"},"labels":["Database","OnGres::Project","auto updated","corrective action"],"milestone":{"id":1010428,"iid":46,"group_id":1112072,"title":"Dev \u0026 Ops: 2019-09-23 - 2019-10-06","description":"","state":"closed","created_at":"2019-09-23T09:44:24.361Z","updated_at":"2019-10-08T10:08:00.814Z","due_date":"2019-10-06","start_date":"2019-09-23","expired":true,"web_url":"https://gitlab.com/groups/gitlab-com/gl-infra/-/milestones/46"},"assignees":[{"id":506061,"username":"ahmadsherif","name":"Ahmad Sherif","state":"active","avatar_url":"https://secure.gravatar.com/avatar/bd6d0ec4213b91601956c9f801cbfe9b?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahmadsherif"}],"author":{"id":2524675,"username":"skarbek","name":"John Skarbek","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c6455ce4726023aac6dd7fb0acd1f236?s=80\u0026d=identicon","web_url":"https://gitlab.com/skarbek"},"type":"ISSUE","assignee":{"id":506061,"username":"ahmadsherif","name":"Ahmad Sherif","state":"active","avatar_url":"https://secure.gravatar.com/avatar/bd6d0ec4213b91601956c9f801cbfe9b?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahmadsherif"},"user_notes_count":19,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/issues/5841","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/1304532/issues/5841","notes":"https://gitlab.com/api/v4/projects/1304532/issues/5841/notes","award_emoji":"https://gitlab.com/api/v4/projects/1304532/issues/5841/award_emoji","project":"https://gitlab.com/api/v4/projects/1304532","closed_as_duplicate_of":null},"references":{"short":"#5841","relative":"#5841","full":"gitlab-com/gl-infra/reliability#5841"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":17001129,"iid":5839,"project_id":1304532,"title":"Improve WAL-E alert for 'WALEBackupDelayed'","description":"During our recent failover https://gitlab.com/gitlab-com/gl-infra/production/issues/637, the alert `WALEBackupDelayed` fired.  This was technically a false alarm.  Wal-E backups continued to work, the data that prometheus was looking at was correct, but fired when another server had begun processing uploads to S3.\n\n![image](/uploads/bedcb6f07cc4ab04bf1e82e1f74a197b/image.png)\n\nhttps://prometheus.gprd.gitlab.net/graph?g0.range_input=2d\u0026g0.expr=gitlab_com%3Alast_wale_backup_age_in_seconds%20\u0026g0.tab=0\n\nImprove this alert to reduce alert fatigue during incidents.  This alert introduced noise into an already stressful situation.","state":"closed","created_at":"2018-12-31T14:54:38.648Z","updated_at":"2019-01-03T09:27:03.322Z","closed_at":"2019-01-03T08:53:22.300Z","closed_by":{"id":1562869,"username":"abrandl","name":"Andreas Brandl","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1562869/avatar.png","web_url":"https://gitlab.com/abrandl"},"labels":["Database","corrective action"],"milestone":{"id":725741,"iid":58,"project_id":1304532,"title":"Completed 2019-01-02","description":"Milestone to be worked by oncall team members.","state":"closed","created_at":"2018-12-02T12:54:22.142Z","updated_at":"2019-01-14T13:18:55.521Z","due_date":"2019-01-12","start_date":"2018-12-30","expired":true,"web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/milestones/58"},"assignees":[{"id":1562869,"username":"abrandl","name":"Andreas Brandl","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1562869/avatar.png","web_url":"https://gitlab.com/abrandl"}],"author":{"id":2524675,"username":"skarbek","name":"John Skarbek","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c6455ce4726023aac6dd7fb0acd1f236?s=80\u0026d=identicon","web_url":"https://gitlab.com/skarbek"},"type":"ISSUE","assignee":{"id":1562869,"username":"abrandl","name":"Andreas Brandl","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1562869/avatar.png","web_url":"https://gitlab.com/abrandl"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/issues/5839","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/1304532/issues/5839","notes":"https://gitlab.com/api/v4/projects/1304532/issues/5839/notes","award_emoji":"https://gitlab.com/api/v4/projects/1304532/issues/5839/award_emoji","project":"https://gitlab.com/api/v4/projects/1304532","closed_as_duplicate_of":null},"references":{"short":"#5839","relative":"#5839","full":"gitlab-com/gl-infra/reliability#5839"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":16960452,"iid":5833,"project_id":1304532,"title":"Doing graceful DB failovers under the new Patroni setup","description":"Right now Patroni failovers can result in 50x errors during the short period of demoting a DB a promoting another.\n\nWe can leverage the fact that all client connections go through pgbouncer and that pgbouncer can be [paused](https://pgbouncer.github.io/usage.html#pause-db) from accepting new connections. However, with the current setup we can't utilize the pausing feature. Consider this scenario:\n\n1. `patroni-01` is a master, we want to failover to `patroni-02`\n1. We pause pgbouncer on `patroni-01`, existing client connections are completed and closed\n1. Clients are trying to establish new connections, they are still forwarded to `patroni-01` by the ILB but pgbouncer isn't accepting any yet\n1. We do a failover to `patroni-02`\n1. We resume (un-pause) pgbouncer on `patroni-01`\n1. Now `patroni-01` has connections that are trying to execute read/write queries, they will fail\n\nWe need to pause connections at the level of the ILB before they are forwarded to a master, but this doesn't seem possible. I tried marking all of Patroni ILB backends as unhealthy to see if new connections will fail immediately or will wait for a backend to become healthy, but the ILB forwarded the connection to one of the replicas! (even when its backend is marked as unhealthy)\n\nSo I think we may need to have a dedicated pgbouncer node in front of the ILB, so we can control the connection flow at a higher level. pgbouncer on such node will be configured with the ILB FQDN, so we don't run into all the issues of using Consul watchers to update the databases configuration. We can go one step further and drop the ILB altogether in favor of using Consul DNS record for the master node (assuming https://gitlab.com/gitlab-com/gl-infra/production/issues/633 has made it to production)","state":"closed","created_at":"2018-12-28T21:11:59.389Z","updated_at":"2020-05-12T13:19:13.387Z","closed_at":"2020-05-12T13:19:13.354Z","closed_by":{"id":506061,"username":"ahmadsherif","name":"Ahmad Sherif","state":"active","avatar_url":"https://secure.gravatar.com/avatar/bd6d0ec4213b91601956c9f801cbfe9b?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahmadsherif"},"labels":["Database","auto updated","corrective action","unscheduled"],"milestone":null,"assignees":[{"id":506061,"username":"ahmadsherif","name":"Ahmad Sherif","state":"active","avatar_url":"https://secure.gravatar.com/avatar/bd6d0ec4213b91601956c9f801cbfe9b?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahmadsherif"}],"author":{"id":506061,"username":"ahmadsherif","name":"Ahmad Sherif","state":"active","avatar_url":"https://secure.gravatar.com/avatar/bd6d0ec4213b91601956c9f801cbfe9b?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahmadsherif"},"type":"ISSUE","assignee":{"id":506061,"username":"ahmadsherif","name":"Ahmad Sherif","state":"active","avatar_url":"https://secure.gravatar.com/avatar/bd6d0ec4213b91601956c9f801cbfe9b?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahmadsherif"},"user_notes_count":14,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/issues/5833","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/1304532/issues/5833","notes":"https://gitlab.com/api/v4/projects/1304532/issues/5833/notes","award_emoji":"https://gitlab.com/api/v4/projects/1304532/issues/5833/award_emoji","project":"https://gitlab.com/api/v4/projects/1304532","closed_as_duplicate_of":null},"references":{"short":"#5833","relative":"#5833","full":"gitlab-com/gl-infra/reliability#5833"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":16957200,"iid":5832,"project_id":1304532,"title":"Large file in generic-sv-with-group terraform module","description":"There is a 42M file in the [generic-sv-with-group](https://gitlab.com/gitlab-com/gl-infra/terraform-modules/google/generic-sv-with-group) terraform module at:\n\n`.terraform/plugins/darwin_amd64/terraform-provider-google_v1.18.0_x4`\n\nOn a fast connection, it doesn't make much difference - but with the slow internet provider problems that I have been having, it's been preventing me from running `tf-init`.  I suspect that it is slowing down other people as well, and they're not noticing because it's not failing.\n\nI didn't delete it because I wasn't sure if it was there for a reason.\n\nDoes this need to be there? And can we delete it from the repo?\n\nAs a side note, these repo's probably all need .gitignore and README.md files","state":"closed","created_at":"2018-12-28T17:39:33.280Z","updated_at":"2018-12-28T18:55:27.372Z","closed_at":"2018-12-28T18:27:31.248Z","closed_by":{"id":2336046,"username":"devin","name":"Devin Sylva","state":"active","avatar_url":"https://secure.gravatar.com/avatar/424b025122218e9a586245e301c1c725?s=80\u0026d=identicon","web_url":"https://gitlab.com/devin"},"labels":["terraform","unscheduled"],"milestone":{"id":713047,"iid":57,"project_id":1304532,"title":"2018-12-30 Completed","description":"","state":"closed","created_at":"2018-11-17T17:50:24.811Z","updated_at":"2019-01-02T14:36:41.786Z","due_date":"2018-12-29","start_date":"2018-12-16","expired":true,"web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/milestones/57"},"assignees":[{"id":2336046,"username":"devin","name":"Devin Sylva","state":"active","avatar_url":"https://secure.gravatar.com/avatar/424b025122218e9a586245e301c1c725?s=80\u0026d=identicon","web_url":"https://gitlab.com/devin"}],"author":{"id":2336046,"username":"devin","name":"Devin Sylva","state":"active","avatar_url":"https://secure.gravatar.com/avatar/424b025122218e9a586245e301c1c725?s=80\u0026d=identicon","web_url":"https://gitlab.com/devin"},"type":"ISSUE","assignee":{"id":2336046,"username":"devin","name":"Devin Sylva","state":"active","avatar_url":"https://secure.gravatar.com/avatar/424b025122218e9a586245e301c1c725?s=80\u0026d=identicon","web_url":"https://gitlab.com/devin"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/issues/5832","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/1304532/issues/5832","notes":"https://gitlab.com/api/v4/projects/1304532/issues/5832/notes","award_emoji":"https://gitlab.com/api/v4/projects/1304532/issues/5832/award_emoji","project":"https://gitlab.com/api/v4/projects/1304532","closed_as_duplicate_of":null},"references":{"short":"#5832","relative":"#5832","full":"gitlab-com/gl-infra/reliability#5832"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":16954549,"iid":5831,"project_id":1304532,"title":"prometheus gprd servers getting low on space","description":"https://gitlab.slack.com/archives/C12RCNXK5/p1546004197013500\n\nNodes 01 and 02 are using 91% and 86% space of the `data` disk mounted to `/opt/prometheus`\n","state":"closed","created_at":"2018-12-28T14:59:31.903Z","updated_at":"2018-12-28T17:24:55.439Z","closed_at":"2018-12-28T16:55:16.616Z","closed_by":{"id":2524675,"username":"skarbek","name":"John Skarbek","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c6455ce4726023aac6dd7fb0acd1f236?s=80\u0026d=identicon","web_url":"https://gitlab.com/skarbek"},"labels":[],"milestone":null,"assignees":[{"id":2524675,"username":"skarbek","name":"John Skarbek","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c6455ce4726023aac6dd7fb0acd1f236?s=80\u0026d=identicon","web_url":"https://gitlab.com/skarbek"}],"author":{"id":2524675,"username":"skarbek","name":"John Skarbek","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c6455ce4726023aac6dd7fb0acd1f236?s=80\u0026d=identicon","web_url":"https://gitlab.com/skarbek"},"type":"ISSUE","assignee":{"id":2524675,"username":"skarbek","name":"John Skarbek","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c6455ce4726023aac6dd7fb0acd1f236?s=80\u0026d=identicon","web_url":"https://gitlab.com/skarbek"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/issues/5831","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/1304532/issues/5831","notes":"https://gitlab.com/api/v4/projects/1304532/issues/5831/notes","award_emoji":"https://gitlab.com/api/v4/projects/1304532/issues/5831/award_emoji","project":"https://gitlab.com/api/v4/projects/1304532","closed_as_duplicate_of":null},"references":{"short":"#5831","relative":"#5831","full":"gitlab-com/gl-infra/reliability#5831"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":16940106,"iid":5829,"project_id":1304532,"title":"Unable to run terraform against GCP when S3 is unavailable","description":"I had a strange issue today where I was working on the DR environment, running terraform commands to configure resources in GCP and for some reason I lost connectivity to AWS and S3 from my location. I could ping Amazon addresses, but could not connect to either S3 or the AWS console. All of my other connectivity to GCP and elsewhere was unaffected.\n\nThis should not have been a problem, since I was only working in GCP, but since the `.tfstate` file lives in S3, I could not use terraform at all.\n\nI'd like to propose moving the `.tfstate` files to Google Storage. It would be nice to reduce the dependencies for critical components like this.  If this happened during a high pressure incident, it would be extremely frustrating.\n\nDoes anyone know of any reason why we shouldn't do this? \n\ncc/ @gitlab\\-com/gl\\-infra","state":"closed","created_at":"2018-12-27T22:43:12.861Z","updated_at":"2022-08-16T16:55:53.326Z","closed_at":"2022-08-16T16:55:39.268Z","closed_by":{"id":10167447,"username":"afappiano","name":"Anthony Fappiano","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10167447/avatar.png","web_url":"https://gitlab.com/afappiano"},"labels":["Discussion","team::Reliability","terraform","workflow-infra::Done"],"milestone":null,"assignees":[],"author":{"id":2336046,"username":"devin","name":"Devin Sylva","state":"active","avatar_url":"https://secure.gravatar.com/avatar/424b025122218e9a586245e301c1c725?s=80\u0026d=identicon","web_url":"https://gitlab.com/devin"},"type":"ISSUE","assignee":null,"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/issues/5829","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/1304532/issues/5829","notes":"https://gitlab.com/api/v4/projects/1304532/issues/5829/notes","award_emoji":"https://gitlab.com/api/v4/projects/1304532/issues/5829/award_emoji","project":"https://gitlab.com/api/v4/projects/1304532","closed_as_duplicate_of":null},"references":{"short":"#5829","relative":"#5829","full":"gitlab-com/gl-infra/reliability#5829"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":16932917,"iid":5826,"project_id":1304532,"title":"Prometheus in the staging environment crashes","description":"On the night of December 27th, the early morning, prometheus kept crashing in the staging environment.   We were alerted twice for both prometheus-01 and for prometheus-02 that we are restarting frequently.\n\n![image](/uploads/7aa266e29f6af94d4c93a8ead215666a/image.png)\n\nSource: https://prometheus.gstg.gitlab.net/graph?g0.range_input=12h\u0026g0.expr=changes(process_start_time_seconds%7Bjob%3D~%22prometheus.*%22%7D%5B30m%5D)\u0026g0.tab=0\n\nBoth servers appear to be suffering from a damaged wal file:\n```\n2018-12-27_13:23:09.53663 level=warn ts=2018-12-27T13:23:09.536566544Z caller=wal.go:116 component=tsdb msg=\"last page of the wal is torn, filling it with zeros\" segment=/opt/prometheus/prometheus/data/wal/00032880\n2018-12-27_13:25:36.46930 level=warn ts=2018-12-27T13:25:36.469178923Z caller=head.go:434 component=tsdb msg=\"unknown series references\" count=536346\n```\n\nBoth servers have go stack traces in their log history:\n```\n2018-12-27_13:23:21.56483 goroutine 3517 [select]:\n2018-12-27_13:23:21.56484 net/http.(*persistConn).writeLoop(0xc16d30afc0)\n2018-12-27_13:23:21.56484       /usr/local/go/src/net/http/transport.go:1885 +0x113\n2018-12-27_13:23:21.56484 created by net/http.(*Transport).dialConn\n2018-12-27_13:23:21.56485       /usr/local/go/src/net/http/transport.go:1339 +0x966\n2018-12-27_13:23:21.56485\n2018-12-27_13:23:21.56485 goroutine 3391 [select]:\n2018-12-27_13:23:21.56486 net/http.(*persistConn).writeLoop(0xc16d2a7c20)\n2018-12-27_13:23:21.56486       /usr/local/go/src/net/http/transport.go:1885 +0x113\n2018-12-27_13:23:21.56486 created by net/http.(*Transport).dialConn\n2018-12-27_13:23:21.56487       /usr/local/go/src/net/http/transport.go:1339 +0x966\n2018-12-27_13:23:21.56487\n2018-12-27_13:23:21.56487 goroutine 3496 [select]:\n2018-12-27_13:23:21.56488 net/http.(*persistConn).writeLoop(0xc16b3af680)\n2018-12-27_13:23:21.56488       /usr/local/go/src/net/http/transport.go:1885 +0x113\n2018-12-27_13:23:21.56488 created by net/http.(*Transport).dialConn\n2018-12-27_13:23:21.56489       /usr/local/go/src/net/http/transport.go:1339 +0x966\n2018-12-27_13:23:21.56489\n2018-12-27_13:23:21.56489 goroutine 3515 [select]:\n2018-12-27_13:23:21.56490 net/http.(*persistConn).writeLoop(0xc16d024360)\n2018-12-27_13:23:21.56490       /usr/local/go/src/net/http/transport.go:1885 +0x113\n2018-12-27_13:23:21.56490 created by net/http.(*Transport).dialConn\n2018-12-27_13:23:21.56490       /usr/local/go/src/net/http/transport.go:1339 +0x966\n2018-12-27_13:23:21.56491\n2018-12-27_13:23:21.56491 goroutine 3523 [select]:\n2018-12-27_13:23:21.56491 net/http.(*persistConn).writeLoop(0xc16d024240)\n2018-12-27_13:23:21.56491       /usr/local/go/src/net/http/transport.go:1885 +0x113\n2018-12-27_13:23:21.56492 created by net/http.(*Transport).dialConn\n2018-12-27_13:23:21.56492       /usr/local/go/src/net/http/transport.go:1339 +0x966\n\u003cSNIP\u003e\n2018-12-27_13:23:21.56493 goroutine 3488 [IO wait]:\n2018-12-27_13:23:21.56493 internal/poll.runtime_pollWait(0x7f73558b98c0, 0x72, 0xc16b498a40)\n2018-12-27_13:23:21.56493       /usr/local/go/src/runtime/netpoll.go:173 +0x66\n2018-12-27_13:23:21.56494 internal/poll.(*pollDesc).wait(0xc16d448c18, 0x72, 0xffffffffffffff00, 0x1e9d680, 0x2e045a8)\n2018-12-27_13:23:21.56495       /usr/local/go/src/internal/poll/fd_poll_runtime.go:85 +0x9a\n2018-12-27_13:23:21.56495 internal/poll.(*pollDesc).waitRead(0xc16d448c18, 0xc16d4ba000, 0x1000, 0x1000)\n2018-12-27_13:23:21.56495       /usr/local/go/src/internal/poll/fd_poll_runtime.go:90 +0x3d\n2018-12-27_13:23:21.56496 internal/poll.(*FD).Read(0xc16d448c00, 0xc16d4ba000, 0x1000, 0x1000, 0x0, 0x0, 0x0)\n2018-12-27_13:23:21.56497       /usr/local/go/src/internal/poll/fd_unix.go:169 +0x179\n2018-12-27_13:23:21.56497 net.(*netFD).Read(0xc16d448c00, 0xc16d4ba000, 0x1000, 0x1000, 0xc16d4ad200, 0x4, 0x0)\n2018-12-27_13:23:21.56498       /usr/local/go/src/net/fd_unix.go:202 +0x4f\n2018-12-27_13:23:21.56499 net.(*conn).Read(0xc169185c58, 0xc16d4ba000, 0x1000, 0x1000, 0x0, 0x0, 0x0)\n2018-12-27_13:23:21.56500       /usr/local/go/src/net/net.go:177 +0x68\n2018-12-27_13:23:21.56500 net/http.(*persistConn).Read(0xc16d4ad200, 0xc16d4ba000, 0x1000, 0x1000, 0xc16b498c70, 0x404c85, 0xc16d49a360)\n2018-12-27_13:23:21.56501       /usr/local/go/src/net/http/transport.go:1497 +0x75\n2018-12-27_13:23:21.56502 bufio.(*Reader).fill(0xc16cdee6c0)\n2018-12-27_13:23:21.56502       /usr/local/go/src/bufio/bufio.go:100 +0x106\n2018-12-27_13:23:21.56503 bufio.(*Reader).Peek(0xc16cdee6c0, 0x1, 0x0, 0x0, 0x1, 0xc093b5ea80, 0x0)\n\u003cSNIP\u003e\n```\n\nAs of the time of this writing, https://prometheus.gstg.gitlab.com throws a 502, despite both servers having prometheus ready to receive web requests...\n\nDue to https://gitlab.com/gitlab-com/gl-infra/infrastructure/issues/5823, currently these pages for the staging environment will wake up the on-call person.\n\n/cc @bjk\\-gitlab \n/cc @gitlab\\-com/gl\\-infra","state":"closed","created_at":"2018-12-27T13:35:03.678Z","updated_at":"2019-01-28T22:26:22.861Z","closed_at":"2019-01-15T09:11:43.723Z","closed_by":{"id":1254817,"username":"jarv","name":"John Jarvis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1254817/avatar.png","web_url":"https://gitlab.com/jarv"},"labels":["oncall"],"milestone":{"id":753074,"iid":61,"project_id":1304532,"title":"Completed 2019-01-26","description":"On call work milestone - tracking issues worked by oncall.\r\n","state":"closed","created_at":"2019-01-07T21:41:02.373Z","updated_at":"2019-02-03T16:29:51.114Z","due_date":"2019-01-26","start_date":"2019-01-13","expired":true,"web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/milestones/61"},"assignees":[{"id":1254817,"username":"jarv","name":"John Jarvis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1254817/avatar.png","web_url":"https://gitlab.com/jarv"}],"author":{"id":2524675,"username":"skarbek","name":"John Skarbek","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c6455ce4726023aac6dd7fb0acd1f236?s=80\u0026d=identicon","web_url":"https://gitlab.com/skarbek"},"type":"ISSUE","assignee":{"id":1254817,"username":"jarv","name":"John Jarvis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1254817/avatar.png","web_url":"https://gitlab.com/jarv"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/issues/5826","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/1304532/issues/5826","notes":"https://gitlab.com/api/v4/projects/1304532/issues/5826/notes","award_emoji":"https://gitlab.com/api/v4/projects/1304532/issues/5826/award_emoji","project":"https://gitlab.com/api/v4/projects/1304532","closed_as_duplicate_of":null},"references":{"short":"#5826","relative":"#5826","full":"gitlab-com/gl-infra/reliability#5826"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":16931209,"iid":5825,"project_id":1304532,"title":"Create a wrapper command similar to `gitlab-ctl pgb-console` for the Patroni cluster","description":"","state":"closed","created_at":"2018-12-27T11:43:11.695Z","updated_at":"2018-12-27T15:07:44.735Z","closed_at":"2018-12-27T13:52:07.766Z","closed_by":{"id":506061,"username":"ahmadsherif","name":"Ahmad Sherif","state":"active","avatar_url":"https://secure.gravatar.com/avatar/bd6d0ec4213b91601956c9f801cbfe9b?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahmadsherif"},"labels":["unscheduled"],"milestone":{"id":713047,"iid":57,"project_id":1304532,"title":"2018-12-30 Completed","description":"","state":"closed","created_at":"2018-11-17T17:50:24.811Z","updated_at":"2019-01-02T14:36:41.786Z","due_date":"2018-12-29","start_date":"2018-12-16","expired":true,"web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/milestones/57"},"assignees":[{"id":506061,"username":"ahmadsherif","name":"Ahmad Sherif","state":"active","avatar_url":"https://secure.gravatar.com/avatar/bd6d0ec4213b91601956c9f801cbfe9b?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahmadsherif"}],"author":{"id":506061,"username":"ahmadsherif","name":"Ahmad Sherif","state":"active","avatar_url":"https://secure.gravatar.com/avatar/bd6d0ec4213b91601956c9f801cbfe9b?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahmadsherif"},"type":"ISSUE","assignee":{"id":506061,"username":"ahmadsherif","name":"Ahmad Sherif","state":"active","avatar_url":"https://secure.gravatar.com/avatar/bd6d0ec4213b91601956c9f801cbfe9b?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahmadsherif"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/issues/5825","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"","_links":{"self":"https://gitlab.com/api/v4/projects/1304532/issues/5825","notes":"https://gitlab.com/api/v4/projects/1304532/issues/5825/notes","award_emoji":"https://gitlab.com/api/v4/projects/1304532/issues/5825/award_emoji","project":"https://gitlab.com/api/v4/projects/1304532","closed_as_duplicate_of":null},"references":{"short":"#5825","relative":"#5825","full":"gitlab-com/gl-infra/reliability#5825"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":16912805,"iid":5820,"project_id":1304532,"title":"packages.gitlab.com has breached 10% free of space","description":"The packages.gitlab.com is running low on the 16TB volume.\n\nUse this issue to find the problem and resolve it.","state":"closed","created_at":"2018-12-26T13:29:37.616Z","updated_at":"2019-04-02T01:23:52.360Z","closed_at":"2019-04-02T01:17:03.616Z","closed_by":{"id":429540,"username":"ahanselka","name":"Alex Hanselka","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/429540/avatar.png","web_url":"https://gitlab.com/ahanselka"},"labels":["SRE:On-call","backup","oncall"],"milestone":{"id":725741,"iid":58,"project_id":1304532,"title":"Completed 2019-01-02","description":"Milestone to be worked by oncall team members.","state":"closed","created_at":"2018-12-02T12:54:22.142Z","updated_at":"2019-01-14T13:18:55.521Z","due_date":"2019-01-12","start_date":"2018-12-30","expired":true,"web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/milestones/58"},"assignees":[{"id":3059703,"username":"hphilipps","name":"Henri Philipps","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3059703/avatar.png","web_url":"https://gitlab.com/hphilipps"}],"author":{"id":2524675,"username":"skarbek","name":"John Skarbek","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c6455ce4726023aac6dd7fb0acd1f236?s=80\u0026d=identicon","web_url":"https://gitlab.com/skarbek"},"type":"ISSUE","assignee":{"id":3059703,"username":"hphilipps","name":"Henri Philipps","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3059703/avatar.png","web_url":"https://gitlab.com/hphilipps"},"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/issues/5820","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/1304532/issues/5820","notes":"https://gitlab.com/api/v4/projects/1304532/issues/5820/notes","award_emoji":"https://gitlab.com/api/v4/projects/1304532/issues/5820/award_emoji","project":"https://gitlab.com/api/v4/projects/1304532","closed_as_duplicate_of":null},"references":{"short":"#5820","relative":"#5820","full":"gitlab-com/gl-infra/reliability#5820"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":16888035,"iid":5819,"project_id":1304532,"title":"Allocate more storage on about-src.gitlab.com","description":"The `/home` filesystem on `about-src.gitlab.com` filled up over the weekend, preventing users from updating the website. I managed to free up ~600MB of old/unnecessary files, but will need further assistance from someone more familiar with this system on either a) which files under `/home/gitlab-runner` can be deleted to free up space, b) extending a volume in Azure, or c) both.\n\n/cc @gitlab\\-com/gl\\-infra","state":"closed","created_at":"2018-12-24T22:42:47.733Z","updated_at":"2019-12-06T21:44:21.408Z","closed_at":"2019-06-21T14:39:25.328Z","closed_by":{"id":528408,"username":"asandov","name":"AnthonySandoval","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/528408/avatar.png","web_url":"https://gitlab.com/asandov"},"labels":["team::Reliability","toil","unscheduled","workflow-infra::Done"],"milestone":null,"assignees":[{"id":3947902,"username":"msmiley","name":"Matt Smiley","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3947902/avatar.png","web_url":"https://gitlab.com/msmiley"}],"author":{"id":693144,"username":"craig","name":"Craig Barrett","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c8dfa1ca41754b9409068e5e42080cd2?s=80\u0026d=identicon","web_url":"https://gitlab.com/craig"},"type":"ISSUE","assignee":{"id":3947902,"username":"msmiley","name":"Matt Smiley","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3947902/avatar.png","web_url":"https://gitlab.com/msmiley"},"user_notes_count":35,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/issues/5819","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/1304532/issues/5819","notes":"https://gitlab.com/api/v4/projects/1304532/issues/5819/notes","award_emoji":"https://gitlab.com/api/v4/projects/1304532/issues/5819/award_emoji","project":"https://gitlab.com/api/v4/projects/1304532","closed_as_duplicate_of":null},"references":{"short":"#5819","relative":"#5819","full":"gitlab-com/gl-infra/reliability#5819"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":16866440,"iid":5817,"project_id":1304532,"title":"license.gitlab.com restarting every 30 minutes","description":"This looks like Chef restarting it for some reason:\n\n```\nroot@license:/var/log/upstart#  grep \"master process ready\" license-gitlab-com.log\nI, [2018-12-22T07:08:59.159445 #27739]  INFO -- : master process ready\nI, [2018-12-22T07:40:41.871684 #29583]  INFO -- : master process ready\nI, [2018-12-22T08:15:51.267262 #31442]  INFO -- : master process ready\nI, [2018-12-22T08:50:59.267311 #832]  INFO -- : master process ready\nI, [2018-12-22T09:21:37.651062 #2663]  INFO -- : master process ready\nI, [2018-12-22T09:54:35.334625 #4508]  INFO -- : master process ready\nI, [2018-12-22T10:27:24.003285 #6353]  INFO -- : master process ready\nI, [2018-12-22T10:58:08.655725 #8164]  INFO -- : master process ready\nI, [2018-12-22T11:30:36.299489 #10008]  INFO -- : master process ready\nI, [2018-12-22T12:05:06.211216 #11835]  INFO -- : master process ready\nI, [2018-12-22T12:40:30.717682 #13675]  INFO -- : master process ready\nI, [2018-12-22T13:14:45.559951 #15540]  INFO -- : master process ready\nI, [2018-12-22T13:47:28.384103 #17386]  INFO -- : master process ready\nI, [2018-12-22T14:20:29.356144 #19244]  INFO -- : master process ready\nI, [2018-12-22T14:51:56.199960 #21080]  INFO -- : master process ready\nI, [2018-12-22T15:22:52.262106 #22910]  INFO -- : master process ready\nI, [2018-12-22T15:56:28.324569 #24759]  INFO -- : master process ready\nI, [2018-12-22T16:30:37.367573 #26623]  INFO -- : master process ready\nI, [2018-12-22T17:05:39.551101 #28488]  INFO -- : master process ready\nI, [2018-12-22T17:36:18.146337 #30317]  INFO -- : master process ready\nI, [2018-12-22T18:10:18.243692 #32175]  INFO -- : master process ready\nI, [2018-12-22T18:45:39.000223 #1579]  INFO -- : master process ready\nI, [2018-12-22T19:18:47.696688 #3447]  INFO -- : master process ready\nI, [2018-12-22T19:53:59.259197 #5287]  INFO -- : master process ready\nI, [2018-12-22T20:26:07.063813 #7141]  INFO -- : master process ready\nI, [2018-12-22T20:58:10.156486 #9312]  INFO -- : master process ready\nI, [2018-12-22T21:32:11.070613 #11165]  INFO -- : master process ready\nI, [2018-12-22T22:04:36.984267 #13026]  INFO -- : master process ready\nI, [2018-12-22T22:36:17.337633 #15085]  INFO -- : master process ready\n```\n\n/cc: @ctbarrett","state":"closed","created_at":"2018-12-22T22:57:59.958Z","updated_at":"2019-07-10T18:11:31.958Z","closed_at":"2019-03-08T19:02:43.592Z","closed_by":{"id":693144,"username":"craig","name":"Craig Barrett","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c8dfa1ca41754b9409068e5e42080cd2?s=80\u0026d=identicon","web_url":"https://gitlab.com/craig"},"labels":["Alert Fatigue","SRE:On-call","automation","blocked","chef","oncall","toil"],"milestone":{"id":787766,"iid":76,"project_id":1304532,"title":"AS Team 2019 Week 9","description":"","state":"closed","created_at":"2019-02-11T19:49:21.439Z","updated_at":"2019-03-11T14:00:45.982Z","due_date":"2019-03-10","start_date":"2019-02-25","expired":true,"web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/milestones/76"},"assignees":[{"id":693144,"username":"craig","name":"Craig Barrett","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c8dfa1ca41754b9409068e5e42080cd2?s=80\u0026d=identicon","web_url":"https://gitlab.com/craig"}],"author":{"id":64248,"username":"stanhu","name":"Stan Hu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/64248/stanhu.jpg","web_url":"https://gitlab.com/stanhu"},"type":"ISSUE","assignee":{"id":693144,"username":"craig","name":"Craig Barrett","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c8dfa1ca41754b9409068e5e42080cd2?s=80\u0026d=identicon","web_url":"https://gitlab.com/craig"},"user_notes_count":7,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/issues/5817","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/1304532/issues/5817","notes":"https://gitlab.com/api/v4/projects/1304532/issues/5817/notes","award_emoji":"https://gitlab.com/api/v4/projects/1304532/issues/5817/award_emoji","project":"https://gitlab.com/api/v4/projects/1304532","closed_as_duplicate_of":null},"references":{"short":"#5817","relative":"#5817","full":"gitlab-com/gl-infra/reliability#5817"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":16861061,"iid":5816,"project_id":1304532,"title":"Move terraform modules to the ops instance","description":"[RCA](https://gitlab.com/gitlab-com/gl-infra/infrastructure/issues/5813) corrective action:\n\n\u003e failed due to inaccessible terraform modules not hosted in ops instance\n\nWe should move all modules to the ops instance and make them the source of truth for push and pull. Like other repositories on ops.gitlab.net we can setup a push mirror so they are mirrored on gitlab.com.","state":"closed","created_at":"2018-12-22T12:06:57.897Z","updated_at":"2019-01-21T17:29:48.188Z","closed_at":"2019-01-21T17:05:18.230Z","closed_by":{"id":367626,"username":"alejandro","name":"Alejandro Rodrguez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/367626/avatar.png","web_url":"https://gitlab.com/alejandro"},"labels":["auto updated","corrective action","terraform"],"milestone":{"id":757545,"iid":63,"project_id":1304532,"title":"AS Team 2019 Week 3","description":"","state":"closed","created_at":"2019-01-11T21:44:30.740Z","updated_at":"2019-01-29T02:23:18.245Z","due_date":"2019-01-27","start_date":"2019-01-14","expired":true,"web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/milestones/63"},"assignees":[{"id":367626,"username":"alejandro","name":"Alejandro Rodrguez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/367626/avatar.png","web_url":"https://gitlab.com/alejandro"}],"author":{"id":1254817,"username":"jarv","name":"John Jarvis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1254817/avatar.png","web_url":"https://gitlab.com/jarv"},"type":"ISSUE","assignee":{"id":367626,"username":"alejandro","name":"Alejandro Rodrguez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/367626/avatar.png","web_url":"https://gitlab.com/alejandro"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/issues/5816","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/1304532/issues/5816","notes":"https://gitlab.com/api/v4/projects/1304532/issues/5816/notes","award_emoji":"https://gitlab.com/api/v4/projects/1304532/issues/5816/award_emoji","project":"https://gitlab.com/api/v4/projects/1304532","closed_as_duplicate_of":null},"references":{"short":"#5816","relative":"#5816","full":"gitlab-com/gl-infra/reliability#5816"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":16860285,"iid":5815,"project_id":1304532,"title":"Enable deletion protection flag for gitaly, pages and share","description":"https://www.terraform.io/docs/providers/google/r/compute_instance.html#deletion_protection\n\nthese servers are either single points of failure or can cause disruption when deleted.","state":"closed","created_at":"2018-12-22T10:49:00.706Z","updated_at":"2019-01-15T09:26:56.842Z","closed_at":"2019-01-15T09:03:42.797Z","closed_by":{"id":1254817,"username":"jarv","name":"John Jarvis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1254817/avatar.png","web_url":"https://gitlab.com/jarv"},"labels":["auto updated","corrective action","unscheduled"],"milestone":{"id":753074,"iid":61,"project_id":1304532,"title":"Completed 2019-01-26","description":"On call work milestone - tracking issues worked by oncall.\r\n","state":"closed","created_at":"2019-01-07T21:41:02.373Z","updated_at":"2019-02-03T16:29:51.114Z","due_date":"2019-01-26","start_date":"2019-01-13","expired":true,"web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/milestones/61"},"assignees":[{"id":1254817,"username":"jarv","name":"John Jarvis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1254817/avatar.png","web_url":"https://gitlab.com/jarv"}],"author":{"id":1254817,"username":"jarv","name":"John Jarvis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1254817/avatar.png","web_url":"https://gitlab.com/jarv"},"type":"ISSUE","assignee":{"id":1254817,"username":"jarv","name":"John Jarvis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1254817/avatar.png","web_url":"https://gitlab.com/jarv"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/issues/5815","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/1304532/issues/5815","notes":"https://gitlab.com/api/v4/projects/1304532/issues/5815/notes","award_emoji":"https://gitlab.com/api/v4/projects/1304532/issues/5815/award_emoji","project":"https://gitlab.com/api/v4/projects/1304532","closed_as_duplicate_of":null},"references":{"short":"#5815","relative":"#5815","full":"gitlab-com/gl-infra/reliability#5815"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":16855627,"iid":5813,"project_id":1304532,"title":"RCA for 2018-12-21 Gitaly Outage","description":"**Please note:** if the incident relates to sensitive data, or is security related consider\nlabeling this issue with ~security and mark it confidential.\n***\n\n## Summary\n\nA brief summary of what happened. Try to make it as executive-friendly as possible.\n\n1. Service(s) affected : Gitaly Storage Nodes\n2. Team attribution : Infrastructure\n3. Minutes downtime or degradation : 35 Minutes \n\n## Impact \u0026 Metrics\n\nStart with the following:\n\n- What was the impact of the incident? All customer and internal requests to Git data nodes were unable to be serviced for 34 minutes.\n- Who was impacted by this incident? External Customers, CI jobs\n- How did the incident impact customers? See impact above\n- How many attempts were made to access the impacted service/feature? \n- How many customers were affected? All\n- How many customers tried to access the impacted service/feature?\n\nInclude any additional metrics that are of relevance.\n\nProvide any relevant graphs that could help understand the impact of the incident and its dynamics.\n\n\n## Detection \u0026 Response\n\nStart with the following:\n\n- How was the incident detected? PagerDuty/Slack Alerts\n- Did alarming work as expected? Yes\n- How long did it take from the start of the incident to its detection? Approximately 10 minutes\n- How long did it take from detection to remediation? 30 minutes\n- Were there any issues with the response to the incident? (i.e. bastion host used to access the service was not available, relevant team memeber wasn't page-able, ...)\nYes - terraform module repos that were only on .com delayed us in running terraform to stand the compute node back up until a local copy was used.\n\n## Timeline\n\nOn the production issue.\n\n## Root Cause Analysis\n\nWhile working on our Disaster Recovery project and region, an SRE on our team was unable to use Terraform to properly remove some nodes in the the DR project and region.  They chose to go to the GCP console to perform the deletes to get the Terraform state back to good.  While doing this, they searched for some nodes and per the illustration below had their project switched from gitlab-dr to gitlab-production.  It was not clear that the project switch had been made and they proceeded to remove the gitaly compute instances (file-[1-24]) in the gitlab-production project.  At that point, monitoring started to alert us to the problem and the team started to restore the deleted compute nodes.\n\n### Illustration\n\nWhen attempting to search for something in the GCP search bar which has a partial match, one would expect that pressing enter here would execute a search for a partial IP address, which in this case returns no results.\n\n![Search](/uploads/e2f6e884da37a81f47cd38613abfffba/Search.png)\n\nPressing enter results in this:\n\n![Changed](/uploads/48988c5767305f64a109f595f342a560/Changed.png)\n\nWhich appears to have searched and found nothing.  However, it did not search - the first line in the dropdown above was highlighted - so the project changed. At this point, going and deleting the DR file nodes resulted in the gitlab-production nodes being deleted rather than the gitlab-dr nodes.\n\n## What went well\n\nStart with the following:\n\n- Identify the things that worked well or as expected.\n- Any additional call-outs for what went particularly well.\n\n1.  Quickness of team to jump on a zoom and start to mitigate the issue.\n1.  We were able to restore the affected infrastructure with no data loss\n\n## What can be improved\n\nStart with the following:\n\n- Using the root cause analysis, explain what can be improved to prevent this from happening again.\n- Is there anything that could have been done to improve the detection or time to detection?\n- Is there anything that could have been done to improve the response or time to response?\n- Is there an existing issue that would have either prevented this incident or reduced the impact?\n- Did we have any indication or beforehand knowledge that this incident might take place?\n\n1. Look at different node names for disaster recovery compute and storage node names vs production. \n2. Mirror all Terraform repos (environments and modules) on ops.gitlab.net to prevent issues with access when GitLab.com is down.\n3. Look at further enhancing procedures for any deletes in production requiring two sets of eyes and ways to prevent needing to do any interaction with the cloud console.  Further automation to ask and double check before performing the delete.\n\n\n## Corrective actions\n\n1. https://gitlab.com/gitlab-com/gl-infra/infrastructure/issues/5815 : Add deletion protection for gitaly servers\n2. https://gitlab.com/gitlab-com/gl-infra/infrastructure/issues/5816 : Move terraform modules to the ops instance\n3. https://gitlab.com/gitlab-com/gl-infra/infrastructure/issues/5868 : Start practicing incident response\n4. https://gitlab.com/gitlab-com/gl-infra/infrastructure/issues/5867 : Create list of incident response scenarios\n5. https://gitlab.com/gitlab-com/gl-infra/infrastructure/issues/5869 : Setup Atlantis for Terraform deployments on ops instance\n6. https://gitlab.com/gitlab-com/gl-infra/infrastructure/issues/5945 : Change to TF process to prevent conflicts that sent us to Cloud console\n\n## Guidelines\n\n* [Blameless RCA Guideline](https://about.gitlab.com/handbook/infrastructure/#rca)\n* [5 whys](https://en.wikipedia.org/wiki/5_Whys)","state":"closed","created_at":"2018-12-21T22:23:06.460Z","updated_at":"2023-02-08T12:24:28.269Z","closed_at":"2019-02-05T23:43:08.877Z","closed_by":{"id":2222520,"username":"dawsmith","name":"Dave Smith","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ef341e061f6b86461626e64c5fbcfe52?s=80\u0026d=identicon","web_url":"https://gitlab.com/dawsmith"},"labels":["IncidentReview","auto updated","moved 1","severity::1"],"milestone":{"id":753073,"iid":60,"project_id":1304532,"title":"DS team 2019 Week 5","description":"","state":"closed","created_at":"2019-01-07T21:39:55.723Z","updated_at":"2019-03-12T14:16:08.052Z","due_date":"2019-02-10","start_date":"2019-01-28","expired":true,"web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/milestones/60"},"assignees":[{"id":2222520,"username":"dawsmith","name":"Dave Smith","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ef341e061f6b86461626e64c5fbcfe52?s=80\u0026d=identicon","web_url":"https://gitlab.com/dawsmith"}],"author":{"id":2222520,"username":"dawsmith","name":"Dave Smith","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ef341e061f6b86461626e64c5fbcfe52?s=80\u0026d=identicon","web_url":"https://gitlab.com/dawsmith"},"type":"ISSUE","assignee":{"id":2222520,"username":"dawsmith","name":"Dave Smith","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ef341e061f6b86461626e64c5fbcfe52?s=80\u0026d=identicon","web_url":"https://gitlab.com/dawsmith"},"user_notes_count":12,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/issues/5813","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/1304532/issues/5813","notes":"https://gitlab.com/api/v4/projects/1304532/issues/5813/notes","award_emoji":"https://gitlab.com/api/v4/projects/1304532/issues/5813/award_emoji","project":"https://gitlab.com/api/v4/projects/1304532","closed_as_duplicate_of":null},"references":{"short":"#5813","relative":"#5813","full":"gitlab-com/gl-infra/reliability#5813"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":16855222,"iid":5812,"project_id":1304532,"title":"Put packages.gitlab.com behind a CDN","description":"Discussed using fastly here - https://gitlab.com/gitlab-com/gl-infra/infrastructure/issues/4452#note_88966038\n\nBut maybe we should consider using cloudfront for now? In any case since we just disabled transfer acceleration this may be a semi-urgent change though it's not clear yet what effect this will have on download speed.","state":"closed","created_at":"2018-12-21T21:06:03.955Z","updated_at":"2021-09-10T00:20:56.980Z","closed_at":"2019-06-14T01:05:18.278Z","closed_by":{"id":429540,"username":"ahanselka","name":"Alex Hanselka","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/429540/avatar.png","web_url":"https://gitlab.com/ahanselka"},"labels":["priority::1","team::Reliability","workflow-infra::Ready"],"milestone":{"id":883480,"iid":30,"group_id":1112072,"title":"CI/CD \u0026 Enablement Team June 2019","description":"","state":"closed","created_at":"2019-05-22T22:09:36.213Z","updated_at":"2019-07-10T14:17:04.133Z","due_date":"2019-06-30","start_date":"2019-06-01","expired":true,"web_url":"https://gitlab.com/groups/gitlab-com/gl-infra/-/milestones/30"},"assignees":[{"id":429540,"username":"ahanselka","name":"Alex Hanselka","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/429540/avatar.png","web_url":"https://gitlab.com/ahanselka"}],"author":{"id":1254817,"username":"jarv","name":"John Jarvis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1254817/avatar.png","web_url":"https://gitlab.com/jarv"},"type":"ISSUE","assignee":{"id":429540,"username":"ahanselka","name":"Alex Hanselka","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/429540/avatar.png","web_url":"https://gitlab.com/ahanselka"},"user_notes_count":24,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2019-06-21","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/issues/5812","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/1304532/issues/5812","notes":"https://gitlab.com/api/v4/projects/1304532/issues/5812/notes","award_emoji":"https://gitlab.com/api/v4/projects/1304532/issues/5812/award_emoji","project":"https://gitlab.com/api/v4/projects/1304532","closed_as_duplicate_of":null},"references":{"short":"#5812","relative":"#5812","full":"gitlab-com/gl-infra/reliability#5812"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":16841326,"iid":5809,"project_id":1304532,"title":"Beefier GitLab shared runners","description":"In https://gitlab.com/gitlab-com/www-gitlab-com/issues/2342#note_84878793, @rspeicher noted that if we increased the power of our runners for www-gitlab-com builds, we'd save a lot of time for those builds to happen.\n\nThe machines have changed since that test, but mostly as part of the GCP switch rather than any dramatic change in specs; @SteveAzz and @tmaczukin confirmed (in https://gitlab.slack.com/archives/C0SFP840G/p1545226526151000?thread_ts=1545226152.150800\u0026cid=C0SFP840G) that these are n1-standard-2.\n\nIn https://gitlab.com/gitlab-com/www-gitlab-com/issues/2342#note_126680858, @northrup said:\n\n\u003e We have a pool\nthat is in GCP for our use that we pay for, it makes no sense to have the\nlowest form of box which takes more time because I think the combined\nwasted time waiting on CI in employee pay is more than what wed pay to\njust spin up and down higher CPU count boxes.\n\nAnd I agree! Can we beef these up, please? Even having an eight-core machine just for the website's master pipeline would be great, but if we could extend that across all GitLab projects it would probably help a lot.","state":"closed","created_at":"2018-12-21T11:23:32.039Z","updated_at":"2019-10-09T16:26:09.663Z","closed_at":"2019-01-07T16:47:07.734Z","closed_by":{"id":478289,"username":"northrup","name":"John Northrup","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f076b1aa65652a2852e897baf0a65ba0?s=80\u0026d=identicon","web_url":"https://gitlab.com/northrup"},"labels":["auto updated","ci","corrective action"],"milestone":{"id":725741,"iid":58,"project_id":1304532,"title":"Completed 2019-01-02","description":"Milestone to be worked by oncall team members.","state":"closed","created_at":"2018-12-02T12:54:22.142Z","updated_at":"2019-01-14T13:18:55.521Z","due_date":"2019-01-12","start_date":"2018-12-30","expired":true,"web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/milestones/58"},"assignees":[{"id":478289,"username":"northrup","name":"John Northrup","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f076b1aa65652a2852e897baf0a65ba0?s=80\u0026d=identicon","web_url":"https://gitlab.com/northrup"}],"author":{"id":443319,"username":"smcgivern","name":"Sean McGivern","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/443319/avatar.png","web_url":"https://gitlab.com/smcgivern"},"type":"ISSUE","assignee":{"id":478289,"username":"northrup","name":"John Northrup","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f076b1aa65652a2852e897baf0a65ba0?s=80\u0026d=identicon","web_url":"https://gitlab.com/northrup"},"user_notes_count":14,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/issues/5809","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/1304532/issues/5809","notes":"https://gitlab.com/api/v4/projects/1304532/issues/5809/notes","award_emoji":"https://gitlab.com/api/v4/projects/1304532/issues/5809/award_emoji","project":"https://gitlab.com/api/v4/projects/1304532","closed_as_duplicate_of":null},"references":{"short":"#5809","relative":"#5809","full":"gitlab-com/gl-infra/reliability#5809"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":16819225,"iid":5806,"project_id":1304532,"title":"Update handbook db arch diagram with patroni info","description":"I was looking at https://about.gitlab.com/handbook/engineering/infrastructure/production-architecture/#database-architecture and see that we still have references to repmgr there - seems like we should update with patroni info","state":"closed","created_at":"2018-12-20T14:50:03.974Z","updated_at":"2020-07-14T22:58:33.940Z","closed_at":"2018-12-22T01:21:46.130Z","closed_by":{"id":2222520,"username":"dawsmith","name":"Dave Smith","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ef341e061f6b86461626e64c5fbcfe52?s=80\u0026d=identicon","web_url":"https://gitlab.com/dawsmith"},"labels":["auto updated","documentation","unscheduled"],"milestone":{"id":713047,"iid":57,"project_id":1304532,"title":"2018-12-30 Completed","description":"","state":"closed","created_at":"2018-11-17T17:50:24.811Z","updated_at":"2019-01-02T14:36:41.786Z","due_date":"2018-12-29","start_date":"2018-12-16","expired":true,"web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/milestones/57"},"assignees":[{"id":506061,"username":"ahmadsherif","name":"Ahmad Sherif","state":"active","avatar_url":"https://secure.gravatar.com/avatar/bd6d0ec4213b91601956c9f801cbfe9b?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahmadsherif"}],"author":{"id":2222520,"username":"dawsmith","name":"Dave Smith","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ef341e061f6b86461626e64c5fbcfe52?s=80\u0026d=identicon","web_url":"https://gitlab.com/dawsmith"},"type":"ISSUE","assignee":{"id":506061,"username":"ahmadsherif","name":"Ahmad Sherif","state":"active","avatar_url":"https://secure.gravatar.com/avatar/bd6d0ec4213b91601956c9f801cbfe9b?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahmadsherif"},"user_notes_count":1,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/issues/5806","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/1304532/issues/5806","notes":"https://gitlab.com/api/v4/projects/1304532/issues/5806/notes","award_emoji":"https://gitlab.com/api/v4/projects/1304532/issues/5806/award_emoji","project":"https://gitlab.com/api/v4/projects/1304532","closed_as_duplicate_of":null},"references":{"short":"#5806","relative":"#5806","full":"gitlab-com/gl-infra/reliability#5806"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":16800610,"iid":5801,"project_id":1304532,"title":"sentry.gitlab.net is slow (Sentry error reporting)","description":"https://sentry.gitlab.net/ is being really slow and I can barely load an issue there\n\nI even got this error once,\n\n\u003e Frig\n\u003e \n\u003e Something went horribly wrong rendering this page. We use a decent error reporting service so this will probably be fixed soon. Unless our error reporting service is also broken. That would be awkward. Anyway, we apologize for the inconvenience.\n\u003e\n\u003e `TypeError: Cannot read property 'id' of undefined`\n\n![](https://i.imgur.com/FaVBmr8.png)\n\n---\n\nAre there dashboards for Sentry CPU, etc?\n\n---\n\n - Sentry error reporting","state":"closed","created_at":"2018-12-19T22:08:58.336Z","updated_at":"2019-01-04T21:08:59.730Z","closed_at":"2018-12-19T22:15:01.435Z","closed_by":{"id":892863,"username":"MadLittleMods","name":"Eric Eastwood","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4d634a2b818e2265fa2924b5f4c2da71?s=80\u0026d=identicon","web_url":"https://gitlab.com/MadLittleMods"},"labels":["performance","priority::2","requires production access","severity::3","unscheduled"],"milestone":{"id":713047,"iid":57,"project_id":1304532,"title":"2018-12-30 Completed","description":"","state":"closed","created_at":"2018-11-17T17:50:24.811Z","updated_at":"2019-01-02T14:36:41.786Z","due_date":"2018-12-29","start_date":"2018-12-16","expired":true,"web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/milestones/57"},"assignees":[],"author":{"id":892863,"username":"MadLittleMods","name":"Eric Eastwood","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4d634a2b818e2265fa2924b5f4c2da71?s=80\u0026d=identicon","web_url":"https://gitlab.com/MadLittleMods"},"type":"ISSUE","assignee":null,"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/issues/5801","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/1304532/issues/5801","notes":"https://gitlab.com/api/v4/projects/1304532/issues/5801/notes","award_emoji":"https://gitlab.com/api/v4/projects/1304532/issues/5801/award_emoji","project":"https://gitlab.com/api/v4/projects/1304532","closed_as_duplicate_of":null},"references":{"short":"#5801","relative":"#5801","full":"gitlab-com/gl-infra/reliability#5801"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":16795683,"iid":5799,"project_id":1304532,"title":"Registry nodes scale down","description":"Recently we spun up extra nodes due to combat a memory leak, but all nodes are still leaking memory, so we've created a job to daily restart these services.\n\nSince this problem is systematic and not dependent on scale, let's rid of the extra nodes.\n\nReferences:\n* https://ops.gitlab.net/gitlab-com/gl-infra/registry-restarter/pipeline_schedules\n* https://ops.gitlab.net/gitlab-com/gitlab-com-infrastructure/merge_requests/640/diffs","state":"closed","created_at":"2018-12-19T16:55:14.253Z","updated_at":"2019-01-03T14:23:53.597Z","closed_at":"2019-01-03T13:04:34.937Z","closed_by":{"id":2524675,"username":"skarbek","name":"John Skarbek","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c6455ce4726023aac6dd7fb0acd1f236?s=80\u0026d=identicon","web_url":"https://gitlab.com/skarbek"},"labels":["oncall"],"milestone":{"id":725741,"iid":58,"project_id":1304532,"title":"Completed 2019-01-02","description":"Milestone to be worked by oncall team members.","state":"closed","created_at":"2018-12-02T12:54:22.142Z","updated_at":"2019-01-14T13:18:55.521Z","due_date":"2019-01-12","start_date":"2018-12-30","expired":true,"web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/milestones/58"},"assignees":[{"id":2524675,"username":"skarbek","name":"John Skarbek","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c6455ce4726023aac6dd7fb0acd1f236?s=80\u0026d=identicon","web_url":"https://gitlab.com/skarbek"}],"author":{"id":2524675,"username":"skarbek","name":"John Skarbek","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c6455ce4726023aac6dd7fb0acd1f236?s=80\u0026d=identicon","web_url":"https://gitlab.com/skarbek"},"type":"ISSUE","assignee":{"id":2524675,"username":"skarbek","name":"John Skarbek","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c6455ce4726023aac6dd7fb0acd1f236?s=80\u0026d=identicon","web_url":"https://gitlab.com/skarbek"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/issues/5799","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/1304532/issues/5799","notes":"https://gitlab.com/api/v4/projects/1304532/issues/5799/notes","award_emoji":"https://gitlab.com/api/v4/projects/1304532/issues/5799/award_emoji","project":"https://gitlab.com/api/v4/projects/1304532","closed_as_duplicate_of":null},"references":{"short":"#5799","relative":"#5799","full":"gitlab-com/gl-infra/reliability#5799"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":16787443,"iid":5797,"project_id":1304532,"title":"Shutdown postgres and pgbouncer nodes in gstg/gprd","description":"Now that we're using Patroni in both environments for over a week, there's no need to keep these machines up and running. Just removing their Terraform modules should be enough. We can also take a snapshot of the production disks just in case.","state":"closed","created_at":"2018-12-19T11:54:40.871Z","updated_at":"2018-12-19T13:27:02.129Z","closed_at":"2018-12-19T12:44:42.291Z","closed_by":{"id":506061,"username":"ahmadsherif","name":"Ahmad Sherif","state":"active","avatar_url":"https://secure.gravatar.com/avatar/bd6d0ec4213b91601956c9f801cbfe9b?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahmadsherif"},"labels":[],"milestone":{"id":653500,"iid":50,"project_id":1304532,"title":"Backlog 1","description":"Placeholder milestone to serve as a backlog for upcoming milestones","state":"closed","created_at":"2018-09-20T14:18:27.841Z","updated_at":"2019-02-11T19:25:00.446Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/milestones/50"},"assignees":[],"author":{"id":506061,"username":"ahmadsherif","name":"Ahmad Sherif","state":"active","avatar_url":"https://secure.gravatar.com/avatar/bd6d0ec4213b91601956c9f801cbfe9b?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahmadsherif"},"type":"ISSUE","assignee":null,"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/issues/5797","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/1304532/issues/5797","notes":"https://gitlab.com/api/v4/projects/1304532/issues/5797/notes","award_emoji":"https://gitlab.com/api/v4/projects/1304532/issues/5797/award_emoji","project":"https://gitlab.com/api/v4/projects/1304532","closed_as_duplicate_of":null},"references":{"short":"#5797","relative":"#5797","full":"gitlab-com/gl-infra/reliability#5797"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":16784839,"iid":5795,"project_id":1304532,"title":"Elasticsearch disk watermark monitoring","description":"We should observe the storage capacity usage on our elastic search cluster and (in addition to the email notifications we get from Elastic) add alerts when reaching the low-watermark on a node.","state":"closed","created_at":"2018-12-19T10:10:32.944Z","updated_at":"2022-08-16T16:56:50.663Z","closed_at":"2022-08-16T16:56:44.676Z","closed_by":{"id":10167447,"username":"afappiano","name":"Anthony Fappiano","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10167447/avatar.png","web_url":"https://gitlab.com/afappiano"},"labels":["Observability","Service::Elasticsearch","elasticsearch","logging","team::Reliability","workflow-infra::Done"],"milestone":null,"assignees":[],"author":{"id":3059703,"username":"hphilipps","name":"Henri Philipps","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3059703/avatar.png","web_url":"https://gitlab.com/hphilipps"},"type":"ISSUE","assignee":null,"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/issues/5795","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/1304532/issues/5795","notes":"https://gitlab.com/api/v4/projects/1304532/issues/5795/notes","award_emoji":"https://gitlab.com/api/v4/projects/1304532/issues/5795/award_emoji","project":"https://gitlab.com/api/v4/projects/1304532","closed_as_duplicate_of":null},"references":{"short":"#5795","relative":"#5795","full":"gitlab-com/gl-infra/reliability#5795"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":190,"epic":{"id":26692,"iid":190,"title":"SLIs for Elasticsearch","url":"/groups/gitlab-com/gl-infra/-/epics/190","group_id":1112072},"iteration":null,"health_status":null},{"id":16784424,"iid":5794,"project_id":1304532,"title":"Add runbook instructions for recovering the Elastic Search cluster","description":"Add runbook instructions for recovering the Elastic Search cluster in case it went out of storage.","state":"closed","created_at":"2018-12-19T09:53:52.672Z","updated_at":"2020-01-23T22:21:49.113Z","closed_at":"2020-01-23T18:40:29.886Z","closed_by":{"id":2222520,"username":"dawsmith","name":"Dave Smith","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ef341e061f6b86461626e64c5fbcfe52?s=80\u0026d=identicon","web_url":"https://gitlab.com/dawsmith"},"labels":["Observability","Vendor::Elastic","corrective action","elasticsearch","priority::2","runbook","team::Reliability"],"milestone":null,"assignees":[],"author":{"id":3059703,"username":"hphilipps","name":"Henri Philipps","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3059703/avatar.png","web_url":"https://gitlab.com/hphilipps"},"type":"ISSUE","assignee":null,"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/issues/5794","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/1304532/issues/5794","notes":"https://gitlab.com/api/v4/projects/1304532/issues/5794/notes","award_emoji":"https://gitlab.com/api/v4/projects/1304532/issues/5794/award_emoji","project":"https://gitlab.com/api/v4/projects/1304532","closed_as_duplicate_of":null},"references":{"short":"#5794","relative":"#5794","full":"gitlab-com/gl-infra/reliability#5794"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":16784239,"iid":5793,"project_id":1304532,"title":"Evaluate our log retention needs","description":"Aggregating logs at a cloud service provider like Elastic is bound to costs and eventual storage/bandwidth capacity limits. To keep costs at a reasonable amount we should do some research:\n\n* what is the bandwidth/storage limit of Elastic?\n* What is the current rate of logs send to Elastic? What do we expect in the future?\n* which types of logs do we need in Elastic (e.g. do we need debug logs)?\n* How long do we need to keep each of the log types?\n* Which log types are we storing currently?\n* How can we reduce the amount of logs send to Elastic?\n* Do we need to look for alternatives to Elastic cloud?\n\n(related to #5757)","state":"closed","created_at":"2018-12-19T09:46:37.044Z","updated_at":"2021-08-18T22:42:13.531Z","closed_at":"2021-08-18T22:36:06.345Z","closed_by":{"id":3623028,"username":"cmiskell","name":"Craig Miskell","state":"active","avatar_url":"https://secure.gravatar.com/avatar/852a93b505b1f4a5549595792035f445?s=80\u0026d=identicon","web_url":"https://gitlab.com/cmiskell"},"labels":["Observability"],"milestone":null,"assignees":[],"author":{"id":3059703,"username":"hphilipps","name":"Henri Philipps","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3059703/avatar.png","web_url":"https://gitlab.com/hphilipps"},"type":"ISSUE","assignee":null,"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/issues/5793","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/1304532/issues/5793","notes":"https://gitlab.com/api/v4/projects/1304532/issues/5793/notes","award_emoji":"https://gitlab.com/api/v4/projects/1304532/issues/5793/award_emoji","project":"https://gitlab.com/api/v4/projects/1304532","closed_as_duplicate_of":null},"references":{"short":"#5793","relative":"#5793","full":"gitlab-com/gl-infra/reliability#5793"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":16783625,"iid":5791,"project_id":1304532,"title":"Increase Elastic Cloud storage watermarks","description":"Storage is filling up on our elastic cloud. When reaching the storage low-watermark on a node, shards will be moved to another node but if all nodes have reached the low-watermark, the cluster will stop storing any data. As per suggestion from Elastic (https://gitlab.com/gitlab-com/gl-infra/production/issues/616#note_124839760) we should increase the low-watermark to just leave about 150gb free, so we can make better use of storage capacity.","state":"closed","created_at":"2018-12-19T09:20:08.897Z","updated_at":"2019-01-08T13:22:56.773Z","closed_at":"2018-12-20T11:44:44.141Z","closed_by":{"id":3059703,"username":"hphilipps","name":"Henri Philipps","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3059703/avatar.png","web_url":"https://gitlab.com/hphilipps"},"labels":["elasticsearch","unscheduled"],"milestone":{"id":713047,"iid":57,"project_id":1304532,"title":"2018-12-30 Completed","description":"","state":"closed","created_at":"2018-11-17T17:50:24.811Z","updated_at":"2019-01-02T14:36:41.786Z","due_date":"2018-12-29","start_date":"2018-12-16","expired":true,"web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/milestones/57"},"assignees":[{"id":3059703,"username":"hphilipps","name":"Henri Philipps","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3059703/avatar.png","web_url":"https://gitlab.com/hphilipps"}],"author":{"id":3059703,"username":"hphilipps","name":"Henri Philipps","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3059703/avatar.png","web_url":"https://gitlab.com/hphilipps"},"type":"ISSUE","assignee":{"id":3059703,"username":"hphilipps","name":"Henri Philipps","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3059703/avatar.png","web_url":"https://gitlab.com/hphilipps"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/issues/5791","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/1304532/issues/5791","notes":"https://gitlab.com/api/v4/projects/1304532/issues/5791/notes","award_emoji":"https://gitlab.com/api/v4/projects/1304532/issues/5791/award_emoji","project":"https://gitlab.com/api/v4/projects/1304532","closed_as_duplicate_of":null},"references":{"short":"#5791","relative":"#5791","full":"gitlab-com/gl-infra/reliability#5791"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":16782710,"iid":5790,"project_id":1304532,"title":"Canary instances are reporting in prometheus as `stage=main`","description":"\nhttps://prometheus.gprd.gitlab.net/graph?g0.range_input=1h\u0026g0.expr=count(%7Bstage%3D%22main%22%2C%20fqdn%3D~%22.*cny.*%22%7D)%20by%20(job%2C%20fqdn%2Cstage)\u0026g0.tab=1\n\n```\n{fqdn=\"fe-cny-01-lb-gprd.c.gitlab-production.internal\"}\t3\n{fqdn=\"fe-cny-02-lb-gprd.c.gitlab-production.internal\"}\t3\n{fqdn=\"fe-cny-01-lb-gprd.c.gitlab-production.internal\",job=\"node\"}\t471\n{fqdn=\"fe-cny-01-lb-gprd.c.gitlab-production.internal\",job=\"mtail\"}\t157\n{fqdn=\"fe-cny-01-lb-gprd.c.gitlab-production.internal\",job=\"fluentd\"}\t13\n{fqdn=\"fe-cny-01-lb-gprd.c.gitlab-production.internal\",job=\"process_exporter\"}\t84\n{fqdn=\"fe-cny-02-lb-gprd.c.gitlab-production.internal\",job=\"process_exporter\"}\t84\n{fqdn=\"fe-cny-02-lb-gprd.c.gitlab-production.internal\",job=\"node\"}\t471\n{fqdn=\"fe-cny-02-lb-gprd.c.gitlab-production.internal\",job=\"mtail\"}\t224\n{fqdn=\"fe-cny-02-lb-gprd.c.gitlab-production.internal\",job=\"fluentd\"}\n```\n\ncc @T4cC0re @jarv","state":"closed","created_at":"2018-12-19T08:44:18.666Z","updated_at":"2018-12-19T10:24:30.100Z","closed_at":"2018-12-19T09:27:23.821Z","closed_by":{"id":1254817,"username":"jarv","name":"John Jarvis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1254817/avatar.png","web_url":"https://gitlab.com/jarv"},"labels":["Observability","auto updated","unscheduled"],"milestone":{"id":713047,"iid":57,"project_id":1304532,"title":"2018-12-30 Completed","description":"","state":"closed","created_at":"2018-11-17T17:50:24.811Z","updated_at":"2019-01-02T14:36:41.786Z","due_date":"2018-12-29","start_date":"2018-12-16","expired":true,"web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/milestones/57"},"assignees":[{"id":1254817,"username":"jarv","name":"John Jarvis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1254817/avatar.png","web_url":"https://gitlab.com/jarv"}],"author":{"id":895869,"username":"andrewn","name":"Andrew Newdigate","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/895869/avatar.png","web_url":"https://gitlab.com/andrewn"},"type":"ISSUE","assignee":{"id":1254817,"username":"jarv","name":"John Jarvis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1254817/avatar.png","web_url":"https://gitlab.com/jarv"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/issues/5790","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/1304532/issues/5790","notes":"https://gitlab.com/api/v4/projects/1304532/issues/5790/notes","award_emoji":"https://gitlab.com/api/v4/projects/1304532/issues/5790/award_emoji","project":"https://gitlab.com/api/v4/projects/1304532","closed_as_duplicate_of":null},"references":{"short":"#5790","relative":"#5790","full":"gitlab-com/gl-infra/reliability#5790"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":16774215,"iid":5787,"project_id":1304532,"title":"Terraform reports changes on all instances in `gstg`","description":"A recent unidentified change to the terraform repository has resulted in most/all instances in the fleet registering as tainted:\n\n```\nPlan: 104 to add, 91 to change, 102 to destroy.\n```","state":"closed","created_at":"2018-12-18T21:54:37.264Z","updated_at":"2018-12-20T06:24:29.748Z","closed_at":"2018-12-20T06:00:55.168Z","closed_by":{"id":2601632,"username":"aamarsanaa","name":"Amarbayar Amarsanaa","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2601632/avatar.png","web_url":"https://gitlab.com/aamarsanaa"},"labels":["unscheduled"],"milestone":{"id":713047,"iid":57,"project_id":1304532,"title":"2018-12-30 Completed","description":"","state":"closed","created_at":"2018-11-17T17:50:24.811Z","updated_at":"2019-01-02T14:36:41.786Z","due_date":"2018-12-29","start_date":"2018-12-16","expired":true,"web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/milestones/57"},"assignees":[{"id":693144,"username":"craig","name":"Craig Barrett","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c8dfa1ca41754b9409068e5e42080cd2?s=80\u0026d=identicon","web_url":"https://gitlab.com/craig"}],"author":{"id":693144,"username":"craig","name":"Craig Barrett","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c8dfa1ca41754b9409068e5e42080cd2?s=80\u0026d=identicon","web_url":"https://gitlab.com/craig"},"type":"ISSUE","assignee":{"id":693144,"username":"craig","name":"Craig Barrett","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c8dfa1ca41754b9409068e5e42080cd2?s=80\u0026d=identicon","web_url":"https://gitlab.com/craig"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/issues/5787","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/1304532/issues/5787","notes":"https://gitlab.com/api/v4/projects/1304532/issues/5787/notes","award_emoji":"https://gitlab.com/api/v4/projects/1304532/issues/5787/award_emoji","project":"https://gitlab.com/api/v4/projects/1304532","closed_as_duplicate_of":null},"references":{"short":"#5787","relative":"#5787","full":"gitlab-com/gl-infra/reliability#5787"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":16772659,"iid":5786,"project_id":1304532,"title":"Gitter OS Patching (beta)","description":"## Summary\nAs an interim step towards updating Gitter AMI images (infrastructure#5755), follow-up to infrastructure#5492, and in support of production#620, we need to perform OS patching on all Gitter instances to establish timing and validate the steps listed in production#620.\n\n## Patch process\nThe patch process should at least be scripted, or possibly implemented via Ansible. The broad strokes will require running `apt-get update \u0026\u0026 apt-get upgrade`. On at least one instance, preferably one instance of each service/group, we will also need to script and validate the rollback process before proceeding to production. Finally, we need to consider service impact when orchestrating the change, by draining connections and detaching instances from load-balancer(s) wherever possible.\n\n/cc @gitlab\\-com/gl\\-infra @MadLittleMods","state":"closed","created_at":"2018-12-18T20:11:21.694Z","updated_at":"2020-11-18T19:24:23.856Z","closed_at":"2018-12-26T19:10:24.640Z","closed_by":{"id":693144,"username":"craig","name":"Craig Barrett","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c8dfa1ca41754b9409068e5e42080cd2?s=80\u0026d=identicon","web_url":"https://gitlab.com/craig"},"labels":["Gitter","change","group::gitter","staging","toil","unscheduled"],"milestone":{"id":713047,"iid":57,"project_id":1304532,"title":"2018-12-30 Completed","description":"","state":"closed","created_at":"2018-11-17T17:50:24.811Z","updated_at":"2019-01-02T14:36:41.786Z","due_date":"2018-12-29","start_date":"2018-12-16","expired":true,"web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/milestones/57"},"assignees":[{"id":693144,"username":"craig","name":"Craig Barrett","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c8dfa1ca41754b9409068e5e42080cd2?s=80\u0026d=identicon","web_url":"https://gitlab.com/craig"}],"author":{"id":693144,"username":"craig","name":"Craig Barrett","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c8dfa1ca41754b9409068e5e42080cd2?s=80\u0026d=identicon","web_url":"https://gitlab.com/craig"},"type":"ISSUE","assignee":{"id":693144,"username":"craig","name":"Craig Barrett","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c8dfa1ca41754b9409068e5e42080cd2?s=80\u0026d=identicon","web_url":"https://gitlab.com/craig"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/issues/5786","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/1304532/issues/5786","notes":"https://gitlab.com/api/v4/projects/1304532/issues/5786/notes","award_emoji":"https://gitlab.com/api/v4/projects/1304532/issues/5786/award_emoji","project":"https://gitlab.com/api/v4/projects/1304532","closed_as_duplicate_of":null},"references":{"short":"#5786","relative":"#5786","full":"gitlab-com/gl-infra/reliability#5786"},"severity":"UNKNOWN","moved_to_id":74585934,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":16772426,"iid":5785,"project_id":1304532,"title":"RCA: Pipelines slow \u0026 queued jobs","description":"## Summary\r\n\r\nMultiple users [reported](https://gitlab.slack.com/archives/C101F3796/p1545154906806500) slowness in launching pipeline jobs on private runners.\r\n\r\nTiming correlated with spikes in sidekiq queues\r\n![sidekiq stats](https://dashboards.gitlab.net/render/d-solo/000000159/ci?refresh=5m\u0026orgId=1\u0026var-runner_type=All\u0026var-runner_managers=All\u0026var-cache_server=All\u0026var-gl_monitor_fqdn=patroni-01-db-gprd.c.gitlab-production.internal\u0026var-has_minutes=yes\u0026var-hanging_droplets_cleaner=All\u0026var-droplet_zero_machines_cleaner=All\u0026var-runner_job_failure_reason=All\u0026var-gitlab_env=gprd\u0026var-jobs_running_for_project=0\u0026panelId=85\u0026from=1545143637349\u0026to=1545158573520\u0026width=1000\u0026height=500\u0026tz=America%2FLos_Angeles)\r\n\r\nWhich also correlated with patch deployments to `cny` and later to `gprd` (yellow annotations)\r\n![sidekiq queues with deployments](https://dashboards.gitlab.net/render/d-solo/RZmbBr7mk/gitlab-triage?refresh=30s\u0026orgId=1\u0026from=1545137784683\u0026to=1545159384683\u0026var-environment=gprd\u0026var-prometheus=prometheus-01-inf-gprd\u0026var-prometheus_app=prometheus-app-01-inf-gprd\u0026var-backend=All\u0026var-type=All\u0026var-stage=main\u0026panelId=5\u0026width=1000\u0026height=500\u0026tz=America%2FLos_Angeles)\r\n\r\nService(s) affected : ~\"Service:CI Runners\" ~\"Service:Sidekiq\"  \r\nTeam attribution :  \r\nMinutes downtime or degradation : TBD  \r\n\r\n## Impact \u0026 Metrics\r\n\r\nStart with the following:\r\n\r\n- What was the impact of the incident? (i.e. service outage, sub-service brown-out, exposure of sensitive data, ...)\r\n- Who was impacted by this incident? (i.e. external customers, internal customers, specific teams, ...)\r\n- How did the incident impact customers? (i.e. preventing them from doing X, incorrect display of Y, ...)\r\n- How many attempts were made to access the impacted service/feature?\r\n- How many customers were affected?\r\n- How many customers tried to access the impacted service/feature?\r\n\r\nInclude any additional metrics that are of relevance.\r\n\r\nProvide any relevant graphs that could help understand the impact of the incident and its dynamics.\r\n\r\n\r\n## Detection \u0026 Response\r\n\r\nStart with the following:\r\n\r\n- How was the incident detected?\r\n- Did alarming work as expected?\r\n- How long did it take from the start of the incident to its detection?\r\n- How long did it take from detection to remediation?\r\n- Were there any issues with the response to the incident? (i.e. bastion host used to access the service was not available, relevant team memeber wasn't page-able, ...)\r\n\r\n## Timeline\r\n\r\n2018-12-18\r\n\r\n- 15:23 UTC - @jlenny [reported issues](https://gitlab.slack.com/archives/CB7P5CJS1/p1545146610059200) with shared runners [in slack](https://gitlab.slack.com/archives/C101F3796/p1545147179792500)\r\n- 15:36 UTC - user reported [very slow slack notifications/emails and stalled pipelines](https://gitlab.zendesk.com/agent/tickets/110463)\r\n- 15:46 UTC - user reported [hung pipelines and idle runners](https://gitlab.zendesk.com/agent/tickets/110464)\r\n- 16:54 UTC - user reported [latency in pipeline jobs](https://gitlab.zendesk.com/agent/tickets/110472)\r\n- 17:41 UTC - slowness [reported](https://gitlab.slack.com/archives/C101F3796/p1545154906806500) to production team via slack\r\n\r\n## Root Cause Analysis\r\n\r\nThe purpose of this document is to understand the reasons that caused an incident, and to create mechanisms to prevent it from recurring in the future. A root cause can **never be a person**, the way of writing has to refer to the system and the context rather than the specific actors.\r\n\r\nFollow the \"**5 whys**\" in a **blameless** manner as the core of the root-cause analysis.\r\n\r\nFor this it is necessary to start with the incident, and question why it happened. Keep iterating asking \"why?\" 5 times. While it's not a hard rule that it has to be 5 times, it helps to keep questions get deeper in finding the actual root cause. \r\n\r\nKeep in min that from one \"why?\" there may come more than one answer, consider following the different branches.\r\n\r\n###Example of the usage of \"5 whys\"\r\nThe vehicle will not start. (the problem)\r\n\r\n1. Why? - The battery is dead. \r\n2. Why? - The alternator is not functioning.\r\n3. Why? - The alternator belt has broken.\r\n4. Why? - The alternator belt was well beyond its useful service life and not replaced. \r\n5. Why? - The vehicle was not maintained according to the recommended service schedule. (Fifth why, a root cause)\r\n\r\n## What went well\r\n\r\nStart with the following:\r\n\r\n- Identify the things that worked well or as expected.\r\n- Any additional call-outs for what went particularly well.\r\n\r\n## What can be improved\r\n\r\nStart with the following:\r\n\r\n- Using the root cause analysis, explain what can be improved to prevent this from happening again.\r\n- Is there anything that could have been done to improve the detection or time to detection?\r\n- Is there anything that could have been done to improve the response or time to response?\r\n- Is there an existing issue that would have either prevented this incident or reduced the impact?\r\n- Did we have any indication or beforehand knowledge that this incident might take place?\r\n\r\n\r\n## Corrective actions\r\n\r\n- List issues that have been created as corrective actions from this incident.\r\n- For each issue, include the following:\r\n    - \u003cBare Issue link\u003e - Issue labeled as ~\"corrective action\".\r\n    - Include an estimated date of completion of the corrective action.\r\n    - Incldue the named individual who owns the delivery of the corrective action.\r\n\r\n\r\n## Guidelines\r\n\r\n* [Blameless RCA Guideline](https://about.gitlab.com/handbook/infrastructure/#rca)\r\n* [5 whys](https://en.wikipedia.org/wiki/5_Whys)\r\n\r\n","state":"closed","created_at":"2018-12-18T19:54:16.807Z","updated_at":"2019-12-26T15:46:48.799Z","closed_at":"2019-01-09T21:56:39.927Z","closed_by":{"id":693144,"username":"craig","name":"Craig Barrett","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c8dfa1ca41754b9409068e5e42080cd2?s=80\u0026d=identicon","web_url":"https://gitlab.com/craig"},"labels":["oncall","severity::3"],"milestone":{"id":725741,"iid":58,"project_id":1304532,"title":"Completed 2019-01-02","description":"Milestone to be worked by oncall team members.","state":"closed","created_at":"2018-12-02T12:54:22.142Z","updated_at":"2019-01-14T13:18:55.521Z","due_date":"2019-01-12","start_date":"2018-12-30","expired":true,"web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/milestones/58"},"assignees":[{"id":693144,"username":"craig","name":"Craig Barrett","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c8dfa1ca41754b9409068e5e42080cd2?s=80\u0026d=identicon","web_url":"https://gitlab.com/craig"}],"author":{"id":693144,"username":"craig","name":"Craig Barrett","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c8dfa1ca41754b9409068e5e42080cd2?s=80\u0026d=identicon","web_url":"https://gitlab.com/craig"},"type":"ISSUE","assignee":{"id":693144,"username":"craig","name":"Craig Barrett","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c8dfa1ca41754b9409068e5e42080cd2?s=80\u0026d=identicon","web_url":"https://gitlab.com/craig"},"user_notes_count":14,"merge_requests_count":0,"upvotes":5,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/issues/5785","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/1304532/issues/5785","notes":"https://gitlab.com/api/v4/projects/1304532/issues/5785/notes","award_emoji":"https://gitlab.com/api/v4/projects/1304532/issues/5785/award_emoji","project":"https://gitlab.com/api/v4/projects/1304532","closed_as_duplicate_of":null},"references":{"short":"#5785","relative":"#5785","full":"gitlab-com/gl-infra/reliability#5785"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":16764686,"iid":5781,"project_id":1304532,"title":"Fix customers.gitlab.com database backup and restore pipeline","description":"","state":"closed","created_at":"2018-12-18T16:10:42.453Z","updated_at":"2019-01-04T21:10:04.586Z","closed_at":"2018-12-18T20:48:18.574Z","closed_by":{"id":3140823,"username":"yguo","name":"yun guo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3140823/avatar.png","web_url":"https://gitlab.com/yguo"},"labels":["auto updated","toil","unscheduled"],"milestone":{"id":713047,"iid":57,"project_id":1304532,"title":"2018-12-30 Completed","description":"","state":"closed","created_at":"2018-11-17T17:50:24.811Z","updated_at":"2019-01-02T14:36:41.786Z","due_date":"2018-12-29","start_date":"2018-12-16","expired":true,"web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/milestones/57"},"assignees":[{"id":3140823,"username":"yguo","name":"yun guo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3140823/avatar.png","web_url":"https://gitlab.com/yguo"}],"author":{"id":3140823,"username":"yguo","name":"yun guo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3140823/avatar.png","web_url":"https://gitlab.com/yguo"},"type":"ISSUE","assignee":{"id":3140823,"username":"yguo","name":"yun guo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3140823/avatar.png","web_url":"https://gitlab.com/yguo"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/issues/5781","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"","_links":{"self":"https://gitlab.com/api/v4/projects/1304532/issues/5781","notes":"https://gitlab.com/api/v4/projects/1304532/issues/5781/notes","award_emoji":"https://gitlab.com/api/v4/projects/1304532/issues/5781/award_emoji","project":"https://gitlab.com/api/v4/projects/1304532","closed_as_duplicate_of":null},"references":{"short":"#5781","relative":"#5781","full":"gitlab-com/gl-infra/reliability#5781"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":16750974,"iid":5772,"project_id":1304532,"title":"create periodic restart of registry with haproxy draining","description":"This is something we need to do for now to address the memory issue.\nThe restart will need to be coordinated carefully. My current though is to leverage our deploy tooling which already has haproxy draining logc.\n\ncc @hphilipps","state":"closed","created_at":"2018-12-18T10:59:21.786Z","updated_at":"2019-01-04T21:11:01.765Z","closed_at":"2018-12-18T15:28:37.952Z","closed_by":{"id":1254817,"username":"jarv","name":"John Jarvis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1254817/avatar.png","web_url":"https://gitlab.com/jarv"},"labels":["Alert Fatigue","oncall","toil","unscheduled"],"milestone":{"id":713047,"iid":57,"project_id":1304532,"title":"2018-12-30 Completed","description":"","state":"closed","created_at":"2018-11-17T17:50:24.811Z","updated_at":"2019-01-02T14:36:41.786Z","due_date":"2018-12-29","start_date":"2018-12-16","expired":true,"web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/milestones/57"},"assignees":[{"id":1254817,"username":"jarv","name":"John Jarvis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1254817/avatar.png","web_url":"https://gitlab.com/jarv"}],"author":{"id":1254817,"username":"jarv","name":"John Jarvis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1254817/avatar.png","web_url":"https://gitlab.com/jarv"},"type":"ISSUE","assignee":{"id":1254817,"username":"jarv","name":"John Jarvis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1254817/avatar.png","web_url":"https://gitlab.com/jarv"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/issues/5772","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/1304532/issues/5772","notes":"https://gitlab.com/api/v4/projects/1304532/issues/5772/notes","award_emoji":"https://gitlab.com/api/v4/projects/1304532/issues/5772/award_emoji","project":"https://gitlab.com/api/v4/projects/1304532","closed_as_duplicate_of":null},"references":{"short":"#5772","relative":"#5772","full":"gitlab-com/gl-infra/reliability#5772"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":16736493,"iid":5768,"project_id":1304532,"title":"Convert environments to associate branches with deployments instead of tags","description":"The next step for the environments project is to correct the design decision to use tags to track deployments. \n\nIt makes much more sense to track a deployed environment with a branch, and use tags to track versions of the code. The original design was using tags, because they could overload meta information into the tag name, but there are more intuitive - and less cool - ways to get that information, so Im going to convert it to the boring solution thats easy to understand, and works the way the rest of the world works.","state":"closed","created_at":"2018-12-17T23:10:37.023Z","updated_at":"2019-04-12T18:19:05.171Z","closed_at":"2019-04-12T18:19:05.133Z","closed_by":{"id":2336046,"username":"devin","name":"Devin Sylva","state":"active","avatar_url":"https://secure.gravatar.com/avatar/424b025122218e9a586245e301c1c725?s=80\u0026d=identicon","web_url":"https://gitlab.com/devin"},"labels":["TechnicalDebt","auto updated"],"milestone":{"id":816499,"iid":9,"group_id":1112072,"title":"CI/CD \u0026 Enablement Reliability Team Backlog","description":"","state":"closed","created_at":"2019-03-12T14:14:39.135Z","updated_at":"2019-12-04T21:45:38.189Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-com/gl-infra/-/milestones/9"},"assignees":[{"id":2336046,"username":"devin","name":"Devin Sylva","state":"active","avatar_url":"https://secure.gravatar.com/avatar/424b025122218e9a586245e301c1c725?s=80\u0026d=identicon","web_url":"https://gitlab.com/devin"}],"author":{"id":2336046,"username":"devin","name":"Devin Sylva","state":"active","avatar_url":"https://secure.gravatar.com/avatar/424b025122218e9a586245e301c1c725?s=80\u0026d=identicon","web_url":"https://gitlab.com/devin"},"type":"ISSUE","assignee":{"id":2336046,"username":"devin","name":"Devin Sylva","state":"active","avatar_url":"https://secure.gravatar.com/avatar/424b025122218e9a586245e301c1c725?s=80\u0026d=identicon","web_url":"https://gitlab.com/devin"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/issues/5768","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/1304532/issues/5768","notes":"https://gitlab.com/api/v4/projects/1304532/issues/5768/notes","award_emoji":"https://gitlab.com/api/v4/projects/1304532/issues/5768/award_emoji","project":"https://gitlab.com/api/v4/projects/1304532","closed_as_duplicate_of":null},"references":{"short":"#5768","relative":"#5768","full":"gitlab-com/gl-infra/reliability#5768"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":26,"epic":{"id":2761,"iid":26,"title":"Grouping: Ephemeral Environments","url":"/groups/gitlab-com/gl-infra/-/epics/26","group_id":1112072,"human_readable_end_date":"Sep 13, 2019","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":16736470,"iid":5767,"project_id":1304532,"title":"Change environments project to use single pipeline","description":"There is a design decision I don't like on the original project.  They were working around a limitation in the CI pipelines by running multiple pipelines for each deploy. I can see why they did it, because you can only expand a variable once per pipeline. There are better ways to work around it though. \n\nI am converting it to use one pipeline per deploy, which means that we can do automated rollbacks.","state":"closed","created_at":"2018-12-17T23:07:55.489Z","updated_at":"2019-03-12T14:16:03.658Z","closed_at":"2019-02-07T23:14:01.002Z","closed_by":{"id":2336046,"username":"devin","name":"Devin Sylva","state":"active","avatar_url":"https://secure.gravatar.com/avatar/424b025122218e9a586245e301c1c725?s=80\u0026d=identicon","web_url":"https://gitlab.com/devin"},"labels":["TechnicalDebt","auto updated"],"milestone":{"id":753073,"iid":60,"project_id":1304532,"title":"DS team 2019 Week 5","description":"","state":"closed","created_at":"2019-01-07T21:39:55.723Z","updated_at":"2019-03-12T14:16:08.052Z","due_date":"2019-02-10","start_date":"2019-01-28","expired":true,"web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/milestones/60"},"assignees":[{"id":2336046,"username":"devin","name":"Devin Sylva","state":"active","avatar_url":"https://secure.gravatar.com/avatar/424b025122218e9a586245e301c1c725?s=80\u0026d=identicon","web_url":"https://gitlab.com/devin"}],"author":{"id":2336046,"username":"devin","name":"Devin Sylva","state":"active","avatar_url":"https://secure.gravatar.com/avatar/424b025122218e9a586245e301c1c725?s=80\u0026d=identicon","web_url":"https://gitlab.com/devin"},"type":"ISSUE","assignee":{"id":2336046,"username":"devin","name":"Devin Sylva","state":"active","avatar_url":"https://secure.gravatar.com/avatar/424b025122218e9a586245e301c1c725?s=80\u0026d=identicon","web_url":"https://gitlab.com/devin"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/issues/5767","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/1304532/issues/5767","notes":"https://gitlab.com/api/v4/projects/1304532/issues/5767/notes","award_emoji":"https://gitlab.com/api/v4/projects/1304532/issues/5767/award_emoji","project":"https://gitlab.com/api/v4/projects/1304532","closed_as_duplicate_of":null},"references":{"short":"#5767","relative":"#5767","full":"gitlab-com/gl-infra/reliability#5767"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":26,"epic":{"id":2761,"iid":26,"title":"Grouping: Ephemeral Environments","url":"/groups/gitlab-com/gl-infra/-/epics/26","group_id":1112072,"human_readable_end_date":"Sep 13, 2019","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":16735357,"iid":5766,"project_id":1304532,"title":"Rotate secret_key for customers.gitlab.com","description":"Hi team, can you please change the [`secret_token`](https://gitlab.com/gitlab-cookbooks/cookbook-customers-gitlab-com/blob/master/attributes/default.rb#L11) that's stored in the chef vault?\n\nREF: https://gitlab.com/gitlab-org/customers-gitlab-com/issues/379#note_124194313","state":"closed","created_at":"2018-12-17T22:41:57.704Z","updated_at":"2019-07-08T19:57:35.640Z","closed_at":"2018-12-18T02:15:37.312Z","closed_by":{"id":478289,"username":"northrup","name":"John Northrup","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f076b1aa65652a2852e897baf0a65ba0?s=80\u0026d=identicon","web_url":"https://gitlab.com/northrup"},"labels":["oncall","priority::1","security","unscheduled"],"milestone":{"id":713047,"iid":57,"project_id":1304532,"title":"2018-12-30 Completed","description":"","state":"closed","created_at":"2018-11-17T17:50:24.811Z","updated_at":"2019-01-02T14:36:41.786Z","due_date":"2018-12-29","start_date":"2018-12-16","expired":true,"web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/milestones/57"},"assignees":[{"id":478289,"username":"northrup","name":"John Northrup","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f076b1aa65652a2852e897baf0a65ba0?s=80\u0026d=identicon","web_url":"https://gitlab.com/northrup"}],"author":{"id":280339,"username":"rdavila","name":"Rubn Dvila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/280339/avatar.png","web_url":"https://gitlab.com/rdavila"},"type":"ISSUE","assignee":{"id":478289,"username":"northrup","name":"John Northrup","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f076b1aa65652a2852e897baf0a65ba0?s=80\u0026d=identicon","web_url":"https://gitlab.com/northrup"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/issues/5766","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/1304532/issues/5766","notes":"https://gitlab.com/api/v4/projects/1304532/issues/5766/notes","award_emoji":"https://gitlab.com/api/v4/projects/1304532/issues/5766/award_emoji","project":"https://gitlab.com/api/v4/projects/1304532","closed_as_duplicate_of":null},"references":{"short":"#5766","relative":"#5766","full":"gitlab-com/gl-infra/reliability#5766"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":16718673,"iid":5762,"project_id":1304532,"title":"Database Reviews","description":"* [x] @abrandl https://gitlab.com/gitlab-org/gitlab-ee/merge_requests/8637#note_124023965\n* [ ] @NikolayS https://gitlab.com/gitlab-org/gitlab-ee/merge_requests/8497#note_124026675\n* [x] @NikolayS, @abrandl https://gitlab.com/gitlab-org/gitlab-ce/merge_requests/23464#note_124871412\n* [x] @abrandl https://gitlab.com/gitlab-org/gitlab-ee/merge_requests/8871#note_125248109\n* [x] @abrandl https://gitlab.com/gitlab-org/gitlab-ee/merge_requests/8871\n* [x] @NikolayS https://gitlab.com/gitlab-org/gitlab-ce/merge_requests/23630#note_125506227\n* [x] @abrandl https://gitlab.com/gitlab-org/gitlab-ee/merge_requests/8939\n* [ ] https://gitlab.com/gitlab-org/gitlab-ee/merge_requests/8927#note_126726752\n* [ ] https://gitlab.com/gitlab-org/gitlab-ee/merge_requests/8669#note_126158494\n* [ ] https://gitlab.com/gitlab-org/gitlab-ce/merge_requests/19740#note_125938200\n* [ ] @abrandl https://gitlab.com/gitlab-org/gitlab-ce/merge_requests/23098#note_125777941\n* [ ] @abrandl https://gitlab.com/gitlab-org/gitlab-ce/issues/54643#note_125483243\n\nOpen reviews have been moved over to https://gitlab.com/gitlab-com/gl-infra/infrastructure/issues/5851.","state":"closed","created_at":"2018-12-17T11:28:16.446Z","updated_at":"2019-01-02T10:25:42.341Z","closed_at":"2019-01-02T09:49:22.201Z","closed_by":{"id":1562869,"username":"abrandl","name":"Andreas Brandl","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1562869/avatar.png","web_url":"https://gitlab.com/abrandl"},"labels":["Database","toil"],"milestone":{"id":713047,"iid":57,"project_id":1304532,"title":"2018-12-30 Completed","description":"","state":"closed","created_at":"2018-11-17T17:50:24.811Z","updated_at":"2019-01-02T14:36:41.786Z","due_date":"2018-12-29","start_date":"2018-12-16","expired":true,"web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/milestones/57"},"assignees":[{"id":1562869,"username":"abrandl","name":"Andreas Brandl","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1562869/avatar.png","web_url":"https://gitlab.com/abrandl"},{"id":1906296,"username":"NikolayS","name":"Nikolay Samokhvalov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1906296/avatar.png","web_url":"https://gitlab.com/NikolayS"}],"author":{"id":1562869,"username":"abrandl","name":"Andreas Brandl","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1562869/avatar.png","web_url":"https://gitlab.com/abrandl"},"type":"ISSUE","assignee":{"id":1562869,"username":"abrandl","name":"Andreas Brandl","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1562869/avatar.png","web_url":"https://gitlab.com/abrandl"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/issues/5762","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":12,"completed_count":6},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/1304532/issues/5762","notes":"https://gitlab.com/api/v4/projects/1304532/issues/5762/notes","award_emoji":"https://gitlab.com/api/v4/projects/1304532/issues/5762/award_emoji","project":"https://gitlab.com/api/v4/projects/1304532","closed_as_duplicate_of":null},"references":{"short":"#5762","relative":"#5762","full":"gitlab-com/gl-infra/reliability#5762"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":16671827,"iid":5758,"project_id":1304532,"title":"Upgrade linux kernel in production environment","description":"This issue is to keep track of the planning, reviews and execution (via CR) to upgrade linux kernel from `4.10.0-1009` to `4.15.0-1015` in production environment. \n\nFor past reference the following were completed for staging:\n- https://gitlab.com/gitlab-com/gl-infra/infrastructure/issues/5289\n- https://gitlab.com/gitlab-com/gl-infra/production/issues/607\n\nLessons learned from upgrading the kernel in staging:\n- [ ] Revert the kernel on redis, sentinels, postgres, file-*, prometheus, alertmanager in `STAGING`\n- [ ] Don't upgrade kernel for redis, sentinels, postgres, file-*, prometheus, alertmanager\n- [ ] Include a dry-run functionality which would just print a list of hosts to be upgraded\n- [ ] Link script in the production CR (once it is created) so it can be reviewed along the CR itself as well. ","state":"closed","created_at":"2018-12-14T16:33:05.830Z","updated_at":"2019-08-15T18:33:41.739Z","closed_at":"2019-08-15T17:50:09.648Z","closed_by":{"id":2601632,"username":"aamarsanaa","name":"Amarbayar Amarsanaa","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2601632/avatar.png","web_url":"https://gitlab.com/aamarsanaa"},"labels":[],"milestone":null,"assignees":[],"author":{"id":2601632,"username":"aamarsanaa","name":"Amarbayar Amarsanaa","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2601632/avatar.png","web_url":"https://gitlab.com/aamarsanaa"},"type":"ISSUE","assignee":null,"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/issues/5758","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":4,"completed_count":0},"weight":8,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/1304532/issues/5758","notes":"https://gitlab.com/api/v4/projects/1304532/issues/5758/notes","award_emoji":"https://gitlab.com/api/v4/projects/1304532/issues/5758/award_emoji","project":"https://gitlab.com/api/v4/projects/1304532","closed_as_duplicate_of":null},"references":{"short":"#5758","relative":"#5758","full":"gitlab-com/gl-infra/reliability#5758"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":16646158,"iid":5755,"project_id":1304532,"title":"Setup automated AMI builds and OS updates for Gitter","description":"Currently, we configure [unattended upgrades](https://gitlab.com/gitlab-com/gl-infra/gitter-infrastructure/blob/master/ansible/roles/base/tasks/packages.yml#L98-104) to install [security updates](https://gitlab.com/gitlab-com/gl-infra/gitter-infrastructure/blob/master/ansible/roles/base/files/etc/apt/apt.conf.d/50unattended-upgrades). This is great for a lower bar, but we also need a process to keep base images updated (packer pipelines) for minimal bootstrapping of new nodes in autoscaling groups, and we need to update to the latest LTS version of ubuntu across the fleet.\n\n1. [ ] Trigger packer builds for each role when Ansible code is updated\n1. [ ] Trigger daily packer builds to bake in latest OS package updates (`apt-get update \u0026\u0026 apt-get upgrade`)\n1. [ ] Implement scheduled scaling actions to cycle ASG nodes\n1. [ ] Implement cleanup job/lambda for pruning old AMI images\n\nThese are just some high-level ideas to prompt a more intensive review/design doc, followed by more specific implementation issues.","state":"closed","created_at":"2018-12-13T23:18:20.769Z","updated_at":"2020-11-18T19:24:25.272Z","closed_at":"2019-12-09T23:38:29.862Z","closed_by":{"id":528408,"username":"asandov","name":"AnthonySandoval","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/528408/avatar.png","web_url":"https://gitlab.com/asandov"},"labels":["workflow-infra::Cancelled"],"milestone":null,"assignees":[],"author":{"id":693144,"username":"craig","name":"Craig Barrett","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c8dfa1ca41754b9409068e5e42080cd2?s=80\u0026d=identicon","web_url":"https://gitlab.com/craig"},"type":"ISSUE","assignee":null,"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/issues/5755","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":4,"completed_count":0},"weight":13,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/1304532/issues/5755","notes":"https://gitlab.com/api/v4/projects/1304532/issues/5755/notes","award_emoji":"https://gitlab.com/api/v4/projects/1304532/issues/5755/award_emoji","project":"https://gitlab.com/api/v4/projects/1304532","closed_as_duplicate_of":null},"references":{"short":"#5755","relative":"#5755","full":"gitlab-com/gl-infra/reliability#5755"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":40,"epic":{"id":3232,"iid":40,"title":"[KR] [Availability] Reduce spin-up time for provisioning auto-scaled servers to \u003c3.5min","url":"/groups/gitlab-com/gl-infra/-/epics/40","group_id":1112072,"human_readable_end_date":"Apr 30, 2019","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":16635745,"iid":5752,"project_id":1304532,"title":"Enable Elasticsearch on ops.gitlab.net","description":"I suggest that we enable Elasticsearch on ops.gitlab.net for a number of reasons:\n\n1. We don't test/use Elasticsearch in a real environment. This provides an opportunity to do some basic testing.\n2. Global search would be helpful in looking for content across cookbooks.\n3. It will expose limitations with Geo support etc.\n\n@vsizov @mdelaossa @jarv Thoughts?","state":"closed","created_at":"2018-12-13T15:34:31.915Z","updated_at":"2019-04-09T13:08:39.217Z","closed_at":"2019-01-16T22:14:15.501Z","closed_by":{"id":64248,"username":"stanhu","name":"Stan Hu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/64248/stanhu.jpg","web_url":"https://gitlab.com/stanhu"},"labels":["auto updated","unscheduled"],"milestone":{"id":753074,"iid":61,"project_id":1304532,"title":"Completed 2019-01-26","description":"On call work milestone - tracking issues worked by oncall.\r\n","state":"closed","created_at":"2019-01-07T21:41:02.373Z","updated_at":"2019-02-03T16:29:51.114Z","due_date":"2019-01-26","start_date":"2019-01-13","expired":true,"web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/milestones/61"},"assignees":[{"id":1254817,"username":"jarv","name":"John Jarvis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1254817/avatar.png","web_url":"https://gitlab.com/jarv"}],"author":{"id":64248,"username":"stanhu","name":"Stan Hu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/64248/stanhu.jpg","web_url":"https://gitlab.com/stanhu"},"type":"ISSUE","assignee":{"id":1254817,"username":"jarv","name":"John Jarvis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1254817/avatar.png","web_url":"https://gitlab.com/jarv"},"user_notes_count":10,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/issues/5752","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/1304532/issues/5752","notes":"https://gitlab.com/api/v4/projects/1304532/issues/5752/notes","award_emoji":"https://gitlab.com/api/v4/projects/1304532/issues/5752/award_emoji","project":"https://gitlab.com/api/v4/projects/1304532","closed_as_duplicate_of":null},"references":{"short":"#5752","relative":"#5752","full":"gitlab-com/gl-infra/reliability#5752"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":16608848,"iid":5742,"project_id":1304532,"title":"Fix links in Postgres Grafana Dashboards","description":"Since the Patroni migration, the Postgres Dashboards have undergone several adjustments, leading to several links pointing to non-existent Dashboards within Grafana. For example the links from the [Top Qeries Dashboard](https://dashboards.gitlab.net/d/000000242/postgresql-top-queries?orgId=1\u0026var-environment=gprd\u0026var-fqdn=patroni-01-db-gprd.c.gitlab-production.internal\u0026var-datname=gitlabhq_production\u0026var-user=gitlab\u0026var-interval=6h\u0026var-prometheus=prometheus-01-inf-gprd) to the [Query Drilldown Dashboard](https://dashboards.gitlab.net/d/000000237/postgresql-query-drill-down?orgId=1) for each of the top query IDs. They should be fixed.","state":"closed","created_at":"2018-12-12T17:22:12.504Z","updated_at":"2022-08-02T06:06:38.736Z","closed_at":"2022-08-02T06:06:38.725Z","closed_by":{"id":1786152,"username":"gitlab-bot","name":" GitLab Bot ","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1786152/avatar.png","web_url":"https://gitlab.com/gitlab-bot"},"labels":["Service::Postgres","toil"],"milestone":null,"assignees":[],"author":{"id":3059703,"username":"hphilipps","name":"Henri Philipps","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3059703/avatar.png","web_url":"https://gitlab.com/hphilipps"},"type":"ISSUE","assignee":null,"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/issues/5742","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/1304532/issues/5742","notes":"https://gitlab.com/api/v4/projects/1304532/issues/5742/notes","award_emoji":"https://gitlab.com/api/v4/projects/1304532/issues/5742/award_emoji","project":"https://gitlab.com/api/v4/projects/1304532","closed_as_duplicate_of":null},"references":{"short":"#5742","relative":"#5742","full":"gitlab-com/gl-infra/reliability#5742"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":16602897,"iid":5741,"project_id":1304532,"title":"chatops command for oncall does not show overrides","description":"It looks like when there are overrides for oncall they aren't shown.\n![Screen_Shot_2018-12-12_at_3.13.57_PM](/uploads/ee6684e557b8069ee64013fdcdc5d165/Screen_Shot_2018-12-12_at_3.13.57_PM.png)","state":"closed","created_at":"2018-12-12T14:14:25.120Z","updated_at":"2019-04-17T01:27:58.572Z","closed_at":"2019-04-17T00:41:03.424Z","closed_by":{"id":2222520,"username":"dawsmith","name":"Dave Smith","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ef341e061f6b86461626e64c5fbcfe52?s=80\u0026d=identicon","web_url":"https://gitlab.com/dawsmith"},"labels":["chatops"],"milestone":{"id":840628,"iid":13,"group_id":1112072,"title":"DS Team 2019 Week 15","description":"","state":"closed","created_at":"2019-04-05T23:03:08.211Z","updated_at":"2019-04-22T22:57:03.216Z","due_date":"2019-04-20","start_date":"2019-04-07","expired":true,"web_url":"https://gitlab.com/groups/gitlab-com/gl-infra/-/milestones/13"},"assignees":[{"id":2222520,"username":"dawsmith","name":"Dave Smith","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ef341e061f6b86461626e64c5fbcfe52?s=80\u0026d=identicon","web_url":"https://gitlab.com/dawsmith"}],"author":{"id":1254817,"username":"jarv","name":"John Jarvis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1254817/avatar.png","web_url":"https://gitlab.com/jarv"},"type":"ISSUE","assignee":{"id":2222520,"username":"dawsmith","name":"Dave Smith","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ef341e061f6b86461626e64c5fbcfe52?s=80\u0026d=identicon","web_url":"https://gitlab.com/dawsmith"},"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/issues/5741","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/1304532/issues/5741","notes":"https://gitlab.com/api/v4/projects/1304532/issues/5741/notes","award_emoji":"https://gitlab.com/api/v4/projects/1304532/issues/5741/award_emoji","project":"https://gitlab.com/api/v4/projects/1304532","closed_as_duplicate_of":null},"references":{"short":"#5741","relative":"#5741","full":"gitlab-com/gl-infra/reliability#5741"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":16593367,"iid":5739,"project_id":1304532,"title":"Make a pre check to verify ulimit are in the proper setup in all the services before launch in production","description":"Make a pre-check to the maintenance template to verify ulimit are in the proper setup in all the services before launching in production","state":"closed","created_at":"2018-12-12T08:50:31.644Z","updated_at":"2020-07-29T15:59:34.448Z","closed_at":"2020-07-29T15:59:34.421Z","closed_by":{"id":2759709,"username":"Finotto","name":"Jose Finotto","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2759709/avatar.png","web_url":"https://gitlab.com/Finotto"},"labels":[],"milestone":{"id":653500,"iid":50,"project_id":1304532,"title":"Backlog 1","description":"Placeholder milestone to serve as a backlog for upcoming milestones","state":"closed","created_at":"2018-09-20T14:18:27.841Z","updated_at":"2019-02-11T19:25:00.446Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/milestones/50"},"assignees":[],"author":{"id":2759709,"username":"Finotto","name":"Jose Finotto","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2759709/avatar.png","web_url":"https://gitlab.com/Finotto"},"type":"ISSUE","assignee":null,"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/issues/5739","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/1304532/issues/5739","notes":"https://gitlab.com/api/v4/projects/1304532/issues/5739/notes","award_emoji":"https://gitlab.com/api/v4/projects/1304532/issues/5739/award_emoji","project":"https://gitlab.com/api/v4/projects/1304532","closed_as_duplicate_of":null},"references":{"short":"#5739","relative":"#5739","full":"gitlab-com/gl-infra/reliability#5739"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":16590390,"iid":5738,"project_id":1304532,"title":"AWS Rate Limiting","description":"Our access to our AWS project was being rate limited by AWS because of excessive usage of the API / resource calls.\n\nIt was to the point that it was even effecting the GUI console throwing \"Rate Exceeded\" errors.\n\nAfter investigation it was determined that some automation for `gitlab-review.app` was creating the excessive usage. There were also more than 10,000 DNS records in the `gitlab-review.app` domain.\n\nTo remove the throttling without breaking _too_ many things I removed the role policy (`Review-app-ee-dns`) from the user (`review-app-ee-dns`) which removed access.","state":"closed","created_at":"2018-12-12T05:32:52.055Z","updated_at":"2019-01-07T15:23:56.292Z","closed_at":"2019-01-04T18:57:40.468Z","closed_by":{"id":478289,"username":"northrup","name":"John Northrup","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f076b1aa65652a2852e897baf0a65ba0?s=80\u0026d=identicon","web_url":"https://gitlab.com/northrup"},"labels":["auto updated"],"milestone":{"id":725741,"iid":58,"project_id":1304532,"title":"Completed 2019-01-02","description":"Milestone to be worked by oncall team members.","state":"closed","created_at":"2018-12-02T12:54:22.142Z","updated_at":"2019-01-14T13:18:55.521Z","due_date":"2019-01-12","start_date":"2018-12-30","expired":true,"web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/milestones/58"},"assignees":[{"id":478289,"username":"northrup","name":"John Northrup","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f076b1aa65652a2852e897baf0a65ba0?s=80\u0026d=identicon","web_url":"https://gitlab.com/northrup"}],"author":{"id":478289,"username":"northrup","name":"John Northrup","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f076b1aa65652a2852e897baf0a65ba0?s=80\u0026d=identicon","web_url":"https://gitlab.com/northrup"},"type":"ISSUE","assignee":{"id":478289,"username":"northrup","name":"John Northrup","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f076b1aa65652a2852e897baf0a65ba0?s=80\u0026d=identicon","web_url":"https://gitlab.com/northrup"},"user_notes_count":49,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-com/gl-infra/reliability/-/issues/5738","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":4,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/1304532/issues/5738","notes":"https://gitlab.com/api/v4/projects/1304532/issues/5738/notes","award_emoji":"https://gitlab.com/api/v4/projects/1304532/issues/5738/award_emoji","project":"https://gitlab.com/api/v4/projects/1304532","closed_as_duplicate_of":null},"references":{"short":"#5738","relative":"#5738","full":"gitlab-com/gl-infra/reliability#5738"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null}]