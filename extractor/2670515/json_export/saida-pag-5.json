[{"id":114125773,"iid":4731,"project_id":2670515,"title":"Add data mapping for Arrowsphere","description":"### Background:\n\nPreviously Arrow system talks to Gitlab Platypus API endpoint(and then Platypus talks to CustomersDot). We will remove Platypus in this communication chain.\n\n* previously(as of today): `Arrow -\u003e Platypus -\u003e CustomersDot`\n* after removing Platypus, Arrow will directly talk to CustomersDot: `Arrow -\u003e CustomersDot`\n\nIn order to achieve this, there are several changes required on CustomersDot side.\n\n1. implement OAuth provider in CustomersDot. This allows secure API access control. We propose to use `doorkeeper` gem.\n1. add required data mapping in CustomersDot. This maps some Arrow payload data to the CustomersDot/Zuora/SFDC required values.\n1. track the Arrow order status. The status is used to:  allow Arrow to poll the order status; validate duplicate requests; ensure to take action safely only on the right order status.\n1. provide API endpoint for Arrow to poll the order status.\n\nFor more information, refer to the task breakdown at https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4637#note_1062429151.\n\n### This issue's scope\n\nThis issue covers the second task `add required data mapping in CustomersDot`\n\n#### Proposal\nBelow are required mappings. Refer to [Arrow to Platypus mapping column](https://docs.google.com/spreadsheets/d/138UqGiYfGc8A4HyBin6JrsRelmjfGbqvg3UZ0nJaLTU/edit#gid=0\u0026range=B1) to find the information on how to map these values.\n   * externalSubscriptionSource: generated based on authenticated client(ATM the value is `Arrowsphere`)\n      - Once doorkeeper authentication succeeds, we could get from `doorkeeper_token.application.name`. (when creating the OAuth application, set the application name as `Arrowsphere`)\n   * fulfillmentDistributor: add a section in `application.yml`\n   * $\\['orderLines'\\]\\[0\\]\\['productId'\\]: add a section in `application.yml`\n   * $\\['invoiceOwnerId'\\]: add a section in `application.yml`\n   * invoiceOwnerAccountNumber: add a section in `application.yml`\n\n\n### Problem\n\n### Proposal\n\n\u003c!-- Consult with `@gitlab-com/business-technology/enterprise-apps/zuora-architects` on the ~\"Enterprise Applications\" team if Zuora business logic is involved. --\u003e\n\n### Result\n\n### Next steps (if any)\n\n### How will we measure success?","state":"closed","created_at":"2022-08-30T06:24:13.768Z","updated_at":"2023-02-24T16:02:18.789Z","closed_at":"2022-09-20T01:40:35.300Z","closed_by":{"id":4098809,"username":"qzhaogitlab","name":"Qingyu Zhao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4098809/avatar.png","web_url":"https://gitlab.com/qzhaogitlab"},"labels":["Category:Fulfillment Integrations \u0026 Visibility","devops::fulfillment","eDisty","feature::addition","group::provision","section::fulfillment","type::feature"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":4098809,"username":"qzhaogitlab","name":"Qingyu Zhao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4098809/avatar.png","web_url":"https://gitlab.com/qzhaogitlab"}],"author":{"id":4098809,"username":"qzhaogitlab","name":"Qingyu Zhao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4098809/avatar.png","web_url":"https://gitlab.com/qzhaogitlab"},"type":"ISSUE","assignee":{"id":4098809,"username":"qzhaogitlab","name":"Qingyu Zhao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4098809/avatar.png","web_url":"https://gitlab.com/qzhaogitlab"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4731","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/4731","notes":"https://gitlab.com/api/v4/projects/2670515/issues/4731/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/4731/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#4731","relative":"#4731","full":"gitlab-org/customers-gitlab-com#4731"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8666,"epic":{"id":594198,"iid":8666,"title":"Remove Platypus from the E-Disty marketplace architecture","url":"/groups/gitlab-org/-/epics/8666","group_id":9970,"human_readable_end_date":"Dec 18, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":114125393,"iid":4730,"project_id":2670515,"title":"Implement OAuth provider in CDot","description":"### Background:\n\nPreviously Arrow system talks to Gitlab Platypus API endpoint(and then Platypus talks to CustomersDot). We will remove Platypus in this communication chain.\n- previously(as of today):  `Arrow -\u003e Platypus -\u003e CustomersDot`\n- after removing Platypus, Arrow will directly talk to CustomersDot:  `Arrow -\u003e CustomersDot`\n\nIn order to achieve this, there are several changes required on CustomersDot side.\n1. implement OAuth provider in CustomersDot. This allows secure API access control. We propose to use `doorkeeper` gem.\n2. add required data mapping in CustomersDot. This maps some Arrow payload data to the CustomersDot/Zuora/SFDC required values.\n3. track the Arrow order status. The status is used to: allow Arrow to poll the order status; validate duplicate requests; ensure to take action safely only on the right order status.\n4. provide API endpoint for Arrow to poll the order status.\n\nFor more information, refer to the task breakdown at https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4637#note_1062429151.\n\n### This issue's scope\n\nThis issue covers the first task `implement OAuth provider in CustomersDot`\n\n#### Proposal\n   * Use `doorkeeper` gem. Follow the documentation https://doorkeeper.gitbook.io/guides/ to configure and coding. \n     * For the marketplace, we only need to secure API endpoint. So only support `client_credentials` flow is OK.\n     * Configure scope(s)\n     * **Question**: it seems we do not need to configure resource_owner_authenticator to secure API?\n       * I skipped this part in my local configuration, and it works. All resource_owner_id is `null` in the `oauth_access_tokens` table. As in API, we only care about the client itself.\n       * **Answer** I believe so for `client_credentials`.\n          * The `client_credentials` grant type provides an application with a way to access its own service account. \n          * Marketplace application's `own service account` is the this Marketplace provider(e.g. Arrow)'s Zuora account. Once authenticated, the application has access to resources belonging to the Zuora subscriptions whose `invoice owner account is the Marketplace provider's Zuora account`. For example, such resources could be `status` in `MarketplaceOrder` table, Zuora subscriptions, etc.\n          * In CustomersDot, one easy and reliable way to check whether a Zuora subscription is owned by a Marketplace provider is: check the `Zuora subscription's external_subscription_source == Marketplace provider's name`\n          * In `POST /v1/orders`, we should always set the `external_subscription_source` -- We already did this.\n          * In `GET /v1/orders/{external_subscription_id}`, we should only search subscriptions with `external_subscription_source == the Marketplace provider's name`.\n          * The `Marketplace provider's name` should be discovered by `doorkeeper_token.application.name`. **NOTE**: for security reasons, we should **NEVER get this value from user input**(such as: request URL, request header, or request body). We should **ALWAYS get the value from the valid access_token**. This is important to ensure one Marketplace provider cannot create/query resources owned by other Marketplace providers.-- ATM we only have `Arrowsphere`, but in the future, we could have more Marketplace providers.\n   * Generate `client_id`/`client_secret`(with `scope`) and send to Arrow.\n     * we can do this through rails console `Doorkeeper::Application.create(name: \"MyApp\", redirect_uri: \"\", scopes: [\"marketplace_order_create\"])`\n   * Arrow: update `client_id`/`client_secret`/`scope` generated from CDot\n\n### Problem\n\n### Proposal\n\n\u003c!-- Consult with `@gitlab-com/business-technology/enterprise-apps/zuora-architects` on the ~\"Enterprise Applications\" team if Zuora business logic is involved. --\u003e\n\n### Result\n\n### Next steps (if any)\n\n   * Generate `client_id`/`client_secret`(with `scope`) and send to Arrow.\n     * we can do this through rails console `Doorkeeper::Application.create(name: \"MyApp\", redirect_uri: \"\", scopes: [\"marketplace_order_create\"])`\n   * Arrow: update `client_id`/`client_secret`/`scope` generated from CDot\n   * Arrow send API request to test the authentication\n\n### How will we measure success?","state":"closed","created_at":"2022-08-30T06:17:28.605Z","updated_at":"2023-02-24T16:02:18.559Z","closed_at":"2022-09-20T01:37:11.872Z","closed_by":{"id":4098809,"username":"qzhaogitlab","name":"Qingyu Zhao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4098809/avatar.png","web_url":"https://gitlab.com/qzhaogitlab"},"labels":["Category:Fulfillment Integrations \u0026 Visibility","devops::fulfillment","eDisty","feature::addition","group::provision","section::fulfillment","type::feature","workflow::in review"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":4098809,"username":"qzhaogitlab","name":"Qingyu Zhao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4098809/avatar.png","web_url":"https://gitlab.com/qzhaogitlab"}],"author":{"id":4098809,"username":"qzhaogitlab","name":"Qingyu Zhao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4098809/avatar.png","web_url":"https://gitlab.com/qzhaogitlab"},"type":"ISSUE","assignee":{"id":4098809,"username":"qzhaogitlab","name":"Qingyu Zhao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4098809/avatar.png","web_url":"https://gitlab.com/qzhaogitlab"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4730","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/4730","notes":"https://gitlab.com/api/v4/projects/2670515/issues/4730/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/4730/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#4730","relative":"#4730","full":"gitlab-org/customers-gitlab-com#4730"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8666,"epic":{"id":594198,"iid":8666,"title":"Remove Platypus from the E-Disty marketplace architecture","url":"/groups/gitlab-org/-/epics/8666","group_id":9970,"human_readable_end_date":"Dec 18, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":114110139,"iid":4728,"project_id":2670515,"title":"Rename AmendmentManagerService service class","description":"The following discussion from !5248 should be addressed:\n\n- [x] @jagood started a [discussion](https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/5248#note_1079726703):  (+4 comments)\n\n    \u003e **thought**: I wondered at some point if it might make sense for this to be in the `Amendment` module? :thinking: \n    \u003e \n    \u003e ```ruby\n    \u003e module Zuora\n    \u003e   module Orders\n    \u003e     module Amendment\n    \u003e       module ManagerService\n    \u003e ```\n    \u003e \n    \u003e Though I kind of like the combined `AmendmentManagerService` name better, I wonder if this might put it closer to other relevant code?  If it doesn't, then I wonder if that's a sign that there may be a better name for the class?","state":"closed","created_at":"2022-08-29T21:48:17.798Z","updated_at":"2023-02-28T16:17:47.460Z","closed_at":"2023-02-28T16:17:47.430Z","closed_by":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"labels":["[deprecated] Category:Fulfillment Platform","backend","devops::fulfillment","group::fulfillment platform","maintenance::refactor","missed:15.8","missed:15.9","quick win","section::fulfillment","type::maintenance","workflow::production"],"milestone":{"id":2745651,"iid":85,"group_id":9970,"title":"15.10","description":"","state":"active","created_at":"2022-08-22T16:58:22.132Z","updated_at":"2022-08-22T16:58:22.132Z","due_date":"2023-03-17","start_date":"2023-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/85"},"assignees":[{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"}],"author":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"type":"ISSUE","assignee":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4728","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":1},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/4728","notes":"https://gitlab.com/api/v4/projects/2670515/issues/4728/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/4728/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#4728","relative":"#4728","full":"gitlab-org/customers-gitlab-com#4728"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":9502,"epic":{"id":682911,"iid":9502,"title":"Cleanup Subscribe and Amend API workflows","url":"/groups/gitlab-org/-/epics/9502","group_id":9970,"human_readable_end_date":"Mar 17, 2023","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":114028718,"iid":4726,"project_id":2670515,"title":"Use named subject in upcoming renewal issues notifications spec","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n### Problem\nAs per this [comment](https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/5307#note_1078434673), using a named subject could shorten the ~~`spec/services/auto_renew/send_upcoming_renewal_issues_notification_service_spec.rb`~~ `spec/services/auto_renew/send_ineligible_for_upcoming_renewal_notification_service_spec.rb` (file was [renamed](https://gitlab.com/gitlab-org/customers-gitlab-com/-/commit/2ecf43e7fd462b18d962345e8946f34e562a736a)) spec a lot. \n### Proposal\nUse named subject in ~~`spec/services/auto_renew/send_upcoming_renewal_issues_notification_service_spec.rb`~~ `/spec/services/auto_renew/send_ineligible_for_upcoming_renewal_notification_service_spec.rb` (file was [renamed](https://gitlab.com/gitlab-org/customers-gitlab-com/-/commit/2ecf43e7fd462b18d962345e8946f34e562a736a)) as per this [comment](https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/5307#note_1078434673).\n\n\u003c!-- Consult with `@gitlab-com/business-technology/enterprise-apps/zuora-architects` on the ~\"Enterprise Applications\" team if Zuora business logic is involved. --\u003e\n\n### Result\n\n### Next steps (if any)\n\n### How will we measure success?","state":"closed","created_at":"2022-08-29T13:36:56.280Z","updated_at":"2023-04-13T13:39:42.645Z","closed_at":"2023-04-13T13:39:01.712Z","closed_by":{"id":10769415,"username":"minahilnichols","name":"Minahil Nichols","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10769415/avatar.png","web_url":"https://gitlab.com/minahilnichols"},"labels":["Unplanned","[deprecated] Category:Billing and Subscription Management","backend","devops::fulfillment","group::billing and subscription management","maintenance::refactor","section::fulfillment","type::maintenance","workflow::production"],"milestone":{"id":2910456,"iid":86,"group_id":9970,"title":"15.11","description":"","state":"active","created_at":"2022-12-13T20:08:46.985Z","updated_at":"2022-12-13T20:08:46.985Z","due_date":"2023-04-17","start_date":"2023-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/86"},"assignees":[{"id":10769415,"username":"minahilnichols","name":"Minahil Nichols","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10769415/avatar.png","web_url":"https://gitlab.com/minahilnichols"}],"author":{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"},"type":"ISSUE","assignee":{"id":10769415,"username":"minahilnichols","name":"Minahil Nichols","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10769415/avatar.png","web_url":"https://gitlab.com/minahilnichols"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4726","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/4726","notes":"https://gitlab.com/api/v4/projects/2670515/issues/4726/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/4726/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#4726","relative":"#4726","full":"gitlab-org/customers-gitlab-com#4726"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":113925225,"iid":4723,"project_id":2670515,"title":"Determine RenewSubscription order action using ActionTypeGenerator","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n### Problem\n\nUse `ActionTypeGenerator` to determine when a request pertains to Renewing a subscription.\n\n### Proposal\n\n\u003c!-- Consult with `@gitlab-com/business-technology/enterprise-apps/zuora-architects` on the ~\"Enterprise Applications\" team if Zuora business logic is involved. --\u003e\n\n![Amendment_Manager_Service_](/uploads/6be717aa794e29a447a0f206b7b30a30/Amendment_Manager_Service_.png)\n\nIn this issue, we address (1), (2) and (3) for 'RenewSubscription' functionality in the following ways:\n\n(1) Add method `#check_renew_subscription` to `Orders::Amendment::ActionTypesGenerator`. The method returns based on the `params` whether a subscription is bring renewed. Use existing logic from `AmendSubscriptionService`.\n\n(2) Add method `#renew_subscription` to `Zuora::Orders::FeatureAvailability`. This checks if `Unleash.enabled?(:use_orders_api_renew_subscription_workflow)` is enabled. Add `renew_subscription` to `SUPPORTED_TYPES` constant\n\n(3) Create validator `Zuora::Orders::Amendment::Validators::RenewSubscription`. Implement `#validate` method that validates if the request for renewing a subscription is valid. Use existing validation logic from `AmendSubscriptionService`. If no validation is present, the validator can return an empty array.\n\nCreate FF `use_orders_api_renew_subscription_workflow`.\n\n### Result\n\n### Next steps (if any)\n\n### How will we measure success?","state":"closed","created_at":"2022-08-26T15:18:00.271Z","updated_at":"2022-10-20T09:59:42.370Z","closed_at":"2022-08-30T14:24:36.365Z","closed_by":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"labels":["[deprecated] Category:Fulfillment Platform","backend","devops::fulfillment","feature::addition","group::fulfillment platform","section::fulfillment","type::feature","workflow::production"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"}],"author":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"type":"ISSUE","assignee":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4723","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/4723","notes":"https://gitlab.com/api/v4/projects/2670515/issues/4723/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/4723/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#4723","relative":"#4723","full":"gitlab-org/customers-gitlab-com#4723"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":9046,"epic":{"id":629648,"iid":9046,"title":"Transition Subscription Update workflow to use Orders API","url":"/groups/gitlab-org/-/epics/9046","group_id":9970,"human_readable_end_date":"Dec 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":113922729,"iid":4722,"project_id":2670515,"title":"Determine AddProduct order action using ActionTypeGenerator","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n### Problem\n\nUse `ActionTypeGenerator` to determine when a request pertains to Adding a Product to a subscription. \n\n### Proposal\n\n\u003c!-- Consult with `@gitlab-com/business-technology/enterprise-apps/zuora-architects` on the ~\"Enterprise Applications\" team if Zuora business logic is involved. --\u003e\n\n![Amendment_Manager_Service_](/uploads/b37359b264167456112ca6f424f754b6/Amendment_Manager_Service_.png)\n\nIn this issue, we address (1), (2) and (3) for 'AddProduct' functionality in the following ways:\n\n(1) Add method `#check_add_product` to `Orders::Amendment::ActionTypesGenerator` (see [`#check_renewal`](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/25b8a23273d49cd86daeb538700f254c9e09fb75/app/services/zuora/orders/amendment/action_types_generator.rb) for implementation structure). The method returns based on the `params` whether a product is being added to subscription. Use existing logic from `AmendSubscriptionService`.\n\n(2) Add method `#add_product` to `Zuora::Orders::FeatureAvailability`. This checks if `Unleash.enabled?(:use_orders_api_add_product_workflow)` is enabled. Add `add_product` to `SUPPORTED_TYPES` constant\n\n(3) Create validator `Zuora::Orders::Amendment::Validators::AddProduct`. Implement `#validate` method that validates if the request for adding a product is valid. (see [`Renewal validator`](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/25b8a23273d49cd86daeb538700f254c9e09fb75/app/services/zuora/orders/amendment/validators/renew_subscription.rb) for implementation structure). Use existing validation logic from `AmendSubscriptionService`. If no validation is present, the validator can return an empty array.\n\nCreate FF `use_orders_api_add_product_workflow`.\n\n### Result\n\n### Next steps (if any)\n\n### How will we measure success?","state":"closed","created_at":"2022-08-26T14:33:22.080Z","updated_at":"2022-10-20T09:56:17.088Z","closed_at":"2022-09-19T14:34:40.126Z","closed_by":{"id":5667561,"username":"vshumilo","name":"Vladlena Shumilo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08dfa82785d130c151ab9e21caeab4e3?s=80\u0026d=identicon","web_url":"https://gitlab.com/vshumilo"},"labels":["[deprecated] Category:Fulfillment Platform","backend","devops::fulfillment","feature::addition","group::fulfillment platform","section::fulfillment","type::feature","workflow::verification"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":5667561,"username":"vshumilo","name":"Vladlena Shumilo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08dfa82785d130c151ab9e21caeab4e3?s=80\u0026d=identicon","web_url":"https://gitlab.com/vshumilo"}],"author":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"type":"ISSUE","assignee":{"id":5667561,"username":"vshumilo","name":"Vladlena Shumilo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08dfa82785d130c151ab9e21caeab4e3?s=80\u0026d=identicon","web_url":"https://gitlab.com/vshumilo"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4722","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/4722","notes":"https://gitlab.com/api/v4/projects/2670515/issues/4722/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/4722/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#4722","relative":"#4722","full":"gitlab-org/customers-gitlab-com#4722"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":9045,"epic":{"id":629636,"iid":9045,"title":"Transition Subscription Upgrade workflow to use Orders API","url":"/groups/gitlab-org/-/epics/9045","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":113922701,"iid":4721,"project_id":2670515,"title":"Determine RemoveProduct order action using ActionTypeGenerator","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n### Problem\n\nUse `ActionTypeGenerator` to determine when a request pertains to Adding a Product to a subscription.\n\n### Proposal\n\n\u003c!-- Consult with `@gitlab-com/business-technology/enterprise-apps/zuora-architects` on the ~\"Enterprise Applications\" team if Zuora business logic is involved. --\u003e\n\n![Amendment_Manager_Service_](/uploads/dbc61937a3457100bb57862c7da552b0/Amendment_Manager_Service_.png)\n\nIn this issue, we address (1), (2) and (3) for 'RemoveProduct' functionality in the following ways:\n\n(1) Add method `#check_remove_product` to `Orders::Amendment::ActionTypesGenerator` (see `#check_renewal` for implementation structure). The method returns based on the `params` whether a product is being removed from subscription. Use existing logic from `AmendSubscriptionService`.\n\n(2) Add method `#remove_product` to `Zuora::Orders::FeatureAvailability`. This checks if `Unleash.enabled?(:use_orders_api_remove_product_workflow)` is enabled. Add `remove_product` to `SUPPORTED_TYPES` constant\n\n(3) Create validator `Zuora::Orders::Amendment::Validators::RemoveProduct`. Implement `#validate` method that validates if the request for removing a product is valid. (see `Renewal validator` for implementation structure). Use existing validation logic from `AmendSubscriptionService`. If no validation is present, the validator can return an empty array.\n\nCreate FF `use_orders_api_remove_product_workflow`.\n\n### Result\n\n### Next steps (if any)\n\n### How will we measure success?","state":"closed","created_at":"2022-08-26T14:33:05.392Z","updated_at":"2022-10-20T09:56:23.388Z","closed_at":"2022-09-06T01:15:58.734Z","closed_by":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"labels":["[deprecated] Category:Fulfillment Platform","backend","devops::fulfillment","feature::addition","group::fulfillment platform","section::fulfillment","type::feature","workflow::production"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"}],"author":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"type":"ISSUE","assignee":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4721","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/4721","notes":"https://gitlab.com/api/v4/projects/2670515/issues/4721/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/4721/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#4721","relative":"#4721","full":"gitlab-org/customers-gitlab-com#4721"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":9045,"epic":{"id":629636,"iid":9045,"title":"Transition Subscription Upgrade workflow to use Orders API","url":"/groups/gitlab-org/-/epics/9045","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":113922691,"iid":4720,"project_id":2670515,"title":"Determine UpdateProduct order action using ActionTypeGenerator","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n### Problem\n\nUse `ActionTypeGenerator` to determine when a request pertains to Updating a Product in a subscription.\n\n### Proposal\n\n\u003c!-- Consult with `@gitlab-com/business-technology/enterprise-apps/zuora-architects` on the ~\"Enterprise Applications\" team if Zuora business logic is involved. --\u003e\n\n![Amendment_Manager_Service_](/uploads/a92d9425d76d40b0b5312ccd2c52b37d/Amendment_Manager_Service_.png)\n\nIn this issue, we address (1), (2) and (3) for 'UpdateProduct' functionality in the following ways:\n\n(1) Add method `#check_update_product` to `Orders::Amendment::ActionTypesGenerator` (see `#check_renewal` for implementation structure). The method returns based on the `params` whether a product is being updated. Use existing logic from `AmendSubscriptionService`.\n\n(2) Add method `#update_product` to `Zuora::Orders::FeatureAvailability`. This checks if `Unleash.enabled?(:use_orders_api_update_product_workflow)` is enabled. Add `update_product` to `SUPPORTED_TYPES` constant\n\n(3) Create validator `Zuora::Orders::Amendment::Validators::UpdateProduct`. Implement `#validate` method that validates if the request for updating a product is valid. (see `Renewal validator` for implementation structure). Use existing validation logic from `AmendSubscriptionService`. If no validation is present, the validator can return an empty array.\n\nCreate FF `use_orders_api_update_product_workflow`.\n\n### Result\n\n### Next steps (if any)\n\n### How will we measure success?","state":"closed","created_at":"2022-08-26T14:32:51.563Z","updated_at":"2022-10-20T09:54:29.897Z","closed_at":"2022-09-02T17:09:55.974Z","closed_by":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"labels":["[deprecated] Category:Fulfillment Platform","backend","devops::fulfillment","feature::addition","group::fulfillment platform","section::fulfillment","type::feature","workflow::production"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"}],"author":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"type":"ISSUE","assignee":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4720","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/4720","notes":"https://gitlab.com/api/v4/projects/2670515/issues/4720/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/4720/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#4720","relative":"#4720","full":"gitlab-org/customers-gitlab-com#4720"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":9046,"epic":{"id":629648,"iid":9046,"title":"Transition Subscription Update workflow to use Orders API","url":"/groups/gitlab-org/-/epics/9046","group_id":9970,"human_readable_end_date":"Dec 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":113922256,"iid":4719,"project_id":2670515,"title":"Integrate Remove product order action with OrderManagerService","description":"### Problem\n\nhttps://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4721 implemented Order action `Zuora::Orders::Actions:: RemoveProduct` that constructs the request body to remove a product from a subscription.\n\nThe next step is to integrate this order action in `OrderManagerService`.\n\n### Proposal\n\n- Add ParamConstructor that constructs the payload required to remove a product.\n\nCurrently, removing a product is applicable:\n\n1. when [upgrading / downgrading subscription's main product](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/d2d6b0627183cb23baa6b296d76c3718ae7b56b5/app/services/amend_subscription_service.rb#L30)\n1. when [migrating to ee v2 plan](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/d2d6b0627183cb23baa6b296d76c3718ae7b56b5/app/services/amend_subscription_service.rb#L81)\n\nPlease note upgrade validation will be added as part of https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4753 and setting default payment before upgrade will be handled as part of https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4764.\n\n### Result\n\nUpgrading a subscription, requires both Adding a Product and Removing a Product functionalities.\n\nConsequently, the upgrade workflow will not be e2e complete with this issue. However, we can use it to test a product is getting removed from a subscription.\n\n### Next steps (if any)\n\n### How will we measure success?","state":"closed","created_at":"2022-08-26T14:23:42.000Z","updated_at":"2022-10-20T09:56:28.806Z","closed_at":"2022-09-12T18:50:39.861Z","closed_by":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"labels":["[deprecated] Category:Fulfillment Platform","devops::fulfillment","feature::consolidation","group::fulfillment platform","section::fulfillment","type::feature","workflow::verification"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"}],"author":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"type":"ISSUE","assignee":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4719","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/4719","notes":"https://gitlab.com/api/v4/projects/2670515/issues/4719/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/4719/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#4719","relative":"#4719","full":"gitlab-org/customers-gitlab-com#4719"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":9045,"epic":{"id":629636,"iid":9045,"title":"Transition Subscription Upgrade workflow to use Orders API","url":"/groups/gitlab-org/-/epics/9045","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":113922236,"iid":4718,"project_id":2670515,"title":"Integrate AddProduct order action with OrderManagerService","description":"### Problem\n\nhttps://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4722 implements Order action `Zuora::Orders::Actions:: AddProduct` that constructs the request body to remove a product from a subscription.\n\nThe next step is to integrate this order action in `OrderManagerService`.\n\n### Proposal\n\n* Add ParamConstructor that constructs the payload required to remove a product.\n\nCurrently, add a product is applicable when:\n\n1. when [upgrading / downgrading subscription's main product](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/d2d6b0627183cb23baa6b296d76c3718ae7b56b5/app/services/amend_subscription_service.rb#L30)\n1. when [migrating to ee v2 plan](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/d2d6b0627183cb23baa6b296d76c3718ae7b56b5/app/services/amend_subscription_service.rb#L81)\n1. when [adding a new product / addon](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/d2d6b0627183cb23baa6b296d76c3718ae7b56b5/app/services/amend_subscription_service.rb#L142)\n1. when [adding a trueup](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/d2d6b0627183cb23baa6b296d76c3718ae7b56b5/app/services/amend_subscription_service.rb#L162)\n1. when [adding option products](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/d2d6b0627183cb23baa6b296d76c3718ae7b56b5/app/services/amend_subscription_service.rb#L116)\nPlease note upgrade validation will be added as part of https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4753 and setting default payment before upgrade will be handled as part of https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4764.\n\nPlease note upgrade validation will be added as part of https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4753 and setting default payment before upgrade will be handled as part of https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4764.\n\n### Result\n\nThis completion of this issue will enable performing e2e test of Upgrade workflow (requires `RemoveProduct` and `AddProduct`)\n\n### Next steps (if any)\n\n### How will we measure success?","state":"closed","created_at":"2022-08-26T14:23:10.984Z","updated_at":"2022-10-20T09:56:38.602Z","closed_at":"2022-09-30T04:06:20.639Z","closed_by":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"labels":["[deprecated] Category:Fulfillment Platform","devops::fulfillment","feature::consolidation","group::fulfillment platform","section::fulfillment","type::feature","workflow::in review"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"}],"author":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"type":"ISSUE","assignee":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4718","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/4718","notes":"https://gitlab.com/api/v4/projects/2670515/issues/4718/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/4718/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#4718","relative":"#4718","full":"gitlab-org/customers-gitlab-com#4718"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":9045,"epic":{"id":629636,"iid":9045,"title":"Transition Subscription Upgrade workflow to use Orders API","url":"/groups/gitlab-org/-/epics/9045","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":113874873,"iid":4712,"project_id":2670515,"title":"Update default payment when customer is already associated with a Zuora account","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"bug\" label in relevant trackers:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n- https://gitlab.com/gitlab-org/customers-gitlab-com/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n\nDo not include confidential information!\n---\u003e\n\n# Bug\n\nFor customers already associated with a Zuora account, the default payment ID needs to be set before creating a subscription.\n\nIf not, the subscription creation will result in the error: `To collect payment, the customer account must have a default payment method.`\n\n`SubscribeService` [updated default payment](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/9d9d6d56f56d596e0f98c52009e2a3638575f1c7/app/services/subscribe_service.rb#L20) before making a [subscription request](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/9d9d6d56f56d596e0f98c52009e2a3638575f1c7/app/services/subscribe_service.rb#L22) if the customer already has a Zuora account associated. This likely got missed when migrating to Orders API.\n\nIn addition, `CreationFollowupService` also needs to update the default payment ID (as done [here](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/9d9d6d56f56d596e0f98c52009e2a3638575f1c7/app/services/subscribe_service.rb#L195) in SubscribeService).\n\nAs part of the fix also update `OrderManagerService` spec to use `:with_zuora_account` trait (see [comment](https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/5290#note_1078327840)).\n\n## Summary\n\n(Summarize the bug encountered concisely)\n\n## Steps to reproduce\n\n(How one can reproduce the issue - this is very important)\n\n## What is the current *bug* behavior?\n\n(What actually happens)\n\n## What is the expected *correct* behavior?\n\n(What you should see instead)\n\n## Relevant logs and/or screenshots\n\n(Paste any relevant logs - please use code blocks (```) to format console output,\nlogs, and code as it's tough to read otherwise.)\n\n## Workarounds\n\n(Ways to get around the issue)\n\n## Reported examples\n\n1.\n1.\n1.\n\n\u003c!---\nPlease add both severity and priority level according to: https://docs.gitlab.com/ee/development/contributing/issue_workflow.html#severity-labels\n---\u003e","state":"closed","created_at":"2022-08-25T19:13:58.764Z","updated_at":"2022-09-02T14:57:30.396Z","closed_at":"2022-09-02T14:57:30.373Z","closed_by":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"labels":["[deprecated] Category:Fulfillment Platform","backend","bug","bug::functional","devops::fulfillment","group::fulfillment platform","section::fulfillment","type::bug","workflow::production"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"}],"author":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"type":"ISSUE","assignee":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4712","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/4712","notes":"https://gitlab.com/api/v4/projects/2670515/issues/4712/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/4712/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#4712","relative":"#4712","full":"gitlab-org/customers-gitlab-com#4712"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8664,"epic":{"id":594034,"iid":8664,"title":"Transition Subscribe() to the Zuora Orders API for new subscriptions","url":"/groups/gitlab-org/-/epics/8664","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":113699258,"iid":4700,"project_id":2670515,"title":"Order action for TermsAndConditions","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n### Problem\n\nSimilar to the other Order actions implemented to renew a subscription, add, update and remove a product, we need an Order action to update [Terms and conditions](https://knowledgecenter.zuora.com/Billing/Subscriptions/Orders/AC_Orders_Tutorials/C_Change_the_Terms_and_Conditions_of_a_Subscription?_gl=1%2A1l4o63o%2A_ga%2AMzk3MTU1OTE4LjE2NDgwNjkzODE.%2A_ga_MY8CQ650DH%2AMTY2MTI2MzQ2My4yMTYuMS4xNjYxMjYzNTgzLjAuMC4w\u0026_ga=2.3888562.30517363.1661062519-397155918.1648069381) of a subscription.\n\nIn the current workflow, terms and conditions of a subscription are updated when a subscription is auto-renewed ([source](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/3c782065f5922a8b54c1ebec1449d4f1f0edabe8/app/services/amend_subscription_service.rb#L141)).\n\n### Proposal\n\nIn the module `app/services/zuora/orders/actions`, create a service class `UpdateTermsAndConditions`.\n\nThe service implements the following:\n\n* inherits `Zuora::Orders::Actions::BaseService`\n* defines `.execute` method that accepts `params` and instantiates an object of the class and invoked `#execute`\n* defines `#execute` method\n\nThe `#execute` method constructs `orderAction` object to update terms and conditions of a subscription, with the below parameters:\n\n| Parameter | Type | Description |\n|-----------|------|-------------|\n| `type` | String | Constant value: `TermsAndConditions` |\n| `triggerDates` | Array of Objects | Each object has the keys: `name` and `triggerDate`. Defines `ContractEffective`, `ServiceActivation` and `CustomerAcceptance` dates as appropriate (see what dates existing workflow implements)|\n| `auto_renew` | Boolean | Based on user input (included in `params`) |\n\nParams are set in accordance to the current logic for updating terms and conditions in `AmendSubscriptionService`, please verify if any other param is set in existing implementation.\n\n\u003c!-- Consult with `@gitlab-com/business-technology/enterprise-apps/zuora-architects` on the ~\"Enterprise Applications\" team if Zuora business logic is involved. --\u003e\n\n### Result\n\nThe service constructs the `orderActions` object to update terms and conditions of a subscription.\n\n### Next steps (if any)\n\n### How will we measure success?","state":"closed","created_at":"2022-08-23T14:15:30.666Z","updated_at":"2022-10-20T09:54:01.675Z","closed_at":"2022-08-25T06:11:52.098Z","closed_by":{"id":11217480,"username":"tvellishetty","name":"Tarun Vellishetty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11217480/avatar.png","web_url":"https://gitlab.com/tvellishetty"},"labels":["[deprecated] Category:Fulfillment Platform","backend","devops::fulfillment","feature::addition","group::fulfillment platform","section::fulfillment","type::feature","workflow::in review"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":11217480,"username":"tvellishetty","name":"Tarun Vellishetty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11217480/avatar.png","web_url":"https://gitlab.com/tvellishetty"}],"author":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"type":"ISSUE","assignee":{"id":11217480,"username":"tvellishetty","name":"Tarun Vellishetty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11217480/avatar.png","web_url":"https://gitlab.com/tvellishetty"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4700","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/4700","notes":"https://gitlab.com/api/v4/projects/2670515/issues/4700/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/4700/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#4700","relative":"#4700","full":"gitlab-org/customers-gitlab-com#4700"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":9046,"epic":{"id":629648,"iid":9046,"title":"Transition Subscription Update workflow to use Orders API","url":"/groups/gitlab-org/-/epics/9046","group_id":9970,"human_readable_end_date":"Dec 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":113634419,"iid":4694,"project_id":2670515,"title":"Preview amendment using Order's API","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n### Problem\n\nSimilar to amendment preview (before the actual purchase), we need a way to use the Orders API to preview an amendment.\n\n### Proposal\n\n\u003c!-- Consult with `@gitlab-com/business-technology/enterprise-apps/zuora-architects` on the ~\"Enterprise Applications\" team if Zuora business logic is involved. --\u003e\n\nUse Order Preview functionality introduced in https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4476.\n\n### Result\n\n### Next steps (if any)\n\n### How will we measure success?","state":"closed","created_at":"2022-08-22T13:58:59.582Z","updated_at":"2022-10-25T09:22:25.886Z","closed_at":"2022-10-10T12:53:57.798Z","closed_by":{"id":11217480,"username":"tvellishetty","name":"Tarun Vellishetty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11217480/avatar.png","web_url":"https://gitlab.com/tvellishetty"},"labels":["[deprecated] Category:Fulfillment Platform","backend","devops::fulfillment","feature::addition","group::fulfillment platform","section::fulfillment","type::feature","workflow::in review"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":11217480,"username":"tvellishetty","name":"Tarun Vellishetty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11217480/avatar.png","web_url":"https://gitlab.com/tvellishetty"}],"author":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"type":"ISSUE","assignee":{"id":11217480,"username":"tvellishetty","name":"Tarun Vellishetty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11217480/avatar.png","web_url":"https://gitlab.com/tvellishetty"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4694","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/4694","notes":"https://gitlab.com/api/v4/projects/2670515/issues/4694/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/4694/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#4694","relative":"#4694","full":"gitlab-org/customers-gitlab-com#4694"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8665,"epic":{"id":594036,"iid":8665,"title":"Transition Amend() to the Zuora Orders API for subscription amendments","url":"/groups/gitlab-org/-/epics/8665","group_id":9970,"human_readable_end_date":"Oct 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":113597736,"iid":4691,"project_id":2670515,"title":"Feature flag use of Orders API when updating subscription","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n### Problem\n\nhttps://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/5254 introduced AmendmentManagerService that serves as an entry point to perform amendment operation using Order's API.\n\nIn order to use this service for Amendment operations, this issue pertains with using it in `SelfService::Subscriptions::UpdateService`.\n\n\n### Proposal\n\n\u003c!-- Consult with `@gitlab-com/business-technology/enterprise-apps/zuora-architects` on the ~\"Enterprise Applications\" team if Zuora business logic is involved. --\u003e\n\n### Result\n\n### Next steps (if any)\n\n### How will we measure success?","state":"closed","created_at":"2022-08-22T00:21:23.658Z","updated_at":"2022-10-20T09:57:55.848Z","closed_at":"2022-10-13T14:45:10.383Z","closed_by":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"labels":["[deprecated] Category:Fulfillment Platform","backend","devops::fulfillment","feature::consolidation","group::fulfillment platform","section::fulfillment","type::feature","workflow::in review"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"}],"author":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"type":"ISSUE","assignee":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4691","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/4691","notes":"https://gitlab.com/api/v4/projects/2670515/issues/4691/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/4691/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#4691","relative":"#4691","full":"gitlab-org/customers-gitlab-com#4691"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":9046,"epic":{"id":629648,"iid":9046,"title":"Transition Subscription Update workflow to use Orders API","url":"/groups/gitlab-org/-/epics/9046","group_id":9970,"human_readable_end_date":"Dec 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":113533862,"iid":4689,"project_id":2670515,"title":"Refactor can_activate_cloud_license logic","description":"### Problem\nThe current activation code logic includes a check for eligibility: `can_activate_cloud_license?`\n\nThis eligibility is currently dependent on the other Super Sonics fields being populated. This is causing problems and is not a relevant dependency.\n\n### Proposal\nRemove this SS dependency to ease the creation of activation codes.\n\nIn the check for `can_activate_cloud_license?` ([code](https://gitlab.com/gitlab-org/customers-gitlab-com/blob/fe7feb2659aff9cd2bf60e998e91c042462a29c8/app/models/subscription.rb#L461)), remove:\n\n* `ContractSeatReconciliation__c` is not `null`\n* `ContractAutoRenew__c` is not `null`\n* `ContractOperationalMetrics__c` is not `null`\n* The method `Subscription#can_activate_cloud_license?` would only check for `self_service?` which can be used directly instead\n\n\n### Result\nIn tandem with https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4688, this will remove the dependency of the other SS fields being populated on the creation of a cloud license activation code.\n\n### Availability \u0026 Testing\n\n\u003c!-- This section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\nWhat risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning --\u003e\n\nBased on the description:\n\n\u003e ... Super Sonics fields being populated. **This is causing problems** and is not a relevant dependency.\n\nThese problems are likely to have risen from a lack of test coverage.  Let's isolate and determine where the test gap is and fill it.","state":"closed","created_at":"2022-08-19T14:36:12.404Z","updated_at":"2022-09-01T13:33:16.938Z","closed_at":"2022-08-29T07:53:33.085Z","closed_by":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"labels":["[deprecated] Category:Provision","backend","devops::fulfillment","group::provision","priority::2","quad-planning::complete-action","section::fulfillment","type::maintenance","workflow::production"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"}],"author":{"id":7964536,"username":"courtmeddaugh","name":"Courtney Meddaugh","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7964536/avatar.png","web_url":"https://gitlab.com/courtmeddaugh"},"type":"ISSUE","assignee":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"user_notes_count":5,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4689","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/4689","notes":"https://gitlab.com/api/v4/projects/2670515/issues/4689/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/4689/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#4689","relative":"#4689","full":"gitlab-org/customers-gitlab-com#4689"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8612,"epic":{"id":586296,"iid":8612,"title":"Refactor activation code logic","url":"/groups/gitlab-org/-/epics/8612","group_id":9970,"human_readable_end_date":"Oct 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":113481799,"iid":4684,"project_id":2670515,"title":"Clean up SaaS Provisioning Email","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n### Problem\nI noticed while recording an [updated SaaS provisioning flow walkthrough](https://www.youtube.com/watch?v=rg8liZIQ2Mo) ([issue](https://gitlab.com/gitlab-org/gitlab/-/issues/370481)) that the SaaS provisioning email is not the greatest UX. Let's try to clean this one up however possible.\n\nThis is for the html email for a GL.com purchase from Salesforce `CustomerMailer.gl_com_purchase_from_sf` - found here: https://gitlab.com/-/ide/project/gitlab-org/customers-gitlab-com/tree/remove_quotes_in_gl_com_purchase_from_sf_html_email/-/app/views/customer_mailer/gl_com_purchase_from_sf.html.haml/\n\n**Current View:**\n\n![image](/uploads/7b6f1dd0a65fccc58dfb7a6809876b3a/image.png)\n\n### Proposal\n![SaaS_Provisioning](/uploads/af59f47921bcde4060edb1261e07a839/SaaS_Provisioning.png)\n\n\u003c!-- Consult with `@gitlab-com/business-technology/enterprise-apps/zuora-architects` on the ~\"Enterprise Applications\" team if Zuora business logic is involved. --\u003e\n\n\n#### Figma Design\n[Figma File](https://www.figma.com/file/RwDEORCySqiDhagP7OJSde/Clean-up-SaaS-Privisioning-Email?node-id=0%3A1)\n\nFirst iteration design and design feedback can be found here - https://gitlab.com/gitlab-org/gitlab/-/issues/370481/designs/SaaS_Provisioning.png\n\n### Links\n| Linked Email Text | URL |\n| ------ | ------ |\n| login | https://gitlab.com/users/sign_in |\n| register | https://gitlab.com/users/sign_up |\n| Create a new group | https://docs.gitlab.com/ee/user/group/manage.html#create-a-group |\n| Owner | https://docs.gitlab.com/ee/user/permissions.html#group-members-permissions |\n| Contact our support team | https://support.gitlab.com/hc/en-us/requests/new?ticket_form_id=360000803379 |\n| Link your GitLab user account to your Customers Portal account | https://docs.gitlab.com/ee/subscriptions/index.html#change-the-linked-account |\n| Link your subscription to your namespace | https://docs.gitlab.com/ee/subscriptions/index.html#change-the-linked-namespace |\n| view your GitLab SaaS subscription | https://docs.gitlab.com/ee/subscriptions/gitlab_com/#view-your-gitlab-saas-subscription |\n| GitLab Support | https://about.gitlab.com/support/ |\n| footer: logo | https://about.gitlab.com/ |\n| footer: Support | https://about.gitlab.com/support/ |\n| footer: Customers Portal | https://customers.gitlab.com/customers/sign_in |\n| footer: Blog | https://about.gitlab.com/blog/ |\n| footer: Contact Sales | https://about.gitlab.com/sales/ |\n\n## Result\n* Email is clearer, more concise, and more visually appealing with obvious sections","state":"closed","created_at":"2022-08-18T16:16:29.220Z","updated_at":"2023-05-01T22:17:03.630Z","closed_at":"2022-10-06T08:59:49.194Z","closed_by":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"labels":["Category:SaaS Provisioning","Technical Writing","UX","[deprecated] Category:Billing and Subscription Management","devops::fulfillment","frontend","group::billing and subscription management","priority::3","quad-planning::complete-no-action","section::fulfillment","tw::finished","type::maintenance","workflow::production"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"}],"author":{"id":7964536,"username":"courtmeddaugh","name":"Courtney Meddaugh","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7964536/avatar.png","web_url":"https://gitlab.com/courtmeddaugh"},"type":"ISSUE","assignee":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"user_notes_count":52,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4684","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/4684","notes":"https://gitlab.com/api/v4/projects/2670515/issues/4684/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/4684/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#4684","relative":"#4684","full":"gitlab-org/customers-gitlab-com#4684"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":9551,"epic":{"id":690715,"iid":9551,"title":"Clean Up SaaS Provisioning Email","url":"/groups/gitlab-org/-/epics/9551","group_id":9970,"human_readable_end_date":"Oct 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":113464394,"iid":4683,"project_id":2670515,"title":"Add validations on the use of feature category (Follow-up from \"Link the \"feature_category\" class attribute to the Prometheus collector\")","description":"The following discussion from !5241 should be addressed:\n\n- [ ] @reprazent started a [discussion](https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/5241#note_1067118408):  (+3 comments)\n\n    \u003e Should we still populate the labels for these controllers if they can receive requests? We can have the `endpoint_id` built and use the fallback feature category.\n    \u003e \n    \u003e Only if they'd never receive requests, we can exclude them. Is that the case here?","state":"closed","created_at":"2022-08-18T12:17:01.879Z","updated_at":"2022-09-06T13:59:28.400Z","closed_at":"2022-09-06T13:59:28.370Z","closed_by":{"id":4192493,"username":"ebaque","name":"Etienne Baqué","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4192493/avatar.png","web_url":"https://gitlab.com/ebaque"},"labels":["[deprecated] Category:Fulfillment Platform","devops::fulfillment","group::fulfillment platform","maintenance::workflow","section::fulfillment","type::maintenance"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":4192493,"username":"ebaque","name":"Etienne Baqué","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4192493/avatar.png","web_url":"https://gitlab.com/ebaque"}],"author":{"id":4192493,"username":"ebaque","name":"Etienne Baqué","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4192493/avatar.png","web_url":"https://gitlab.com/ebaque"},"type":"ISSUE","assignee":{"id":4192493,"username":"ebaque","name":"Etienne Baqué","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4192493/avatar.png","web_url":"https://gitlab.com/ebaque"},"user_notes_count":7,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4683","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/4683","notes":"https://gitlab.com/api/v4/projects/2670515/issues/4683/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/4683/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#4683","relative":"#4683","full":"gitlab-org/customers-gitlab-com#4683"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8474,"epic":{"id":575162,"iid":8474,"title":"Feature categorization of endpoints on CustomersDot","url":"/groups/gitlab-org/-/epics/8474","group_id":9970,"human_readable_end_date":"Aug 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":113426773,"iid":4681,"project_id":2670515,"title":"Use Per Unit Charge Model to create new subscription","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"bug\" label in relevant trackers:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n- https://gitlab.com/gitlab-org/customers-gitlab-com/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n\nDo not include confidential information!\n---\u003e\n\n# Bug\n\n## Summary\n\nWhile purchasing new subscriptions, the price is determined based on the quantity of a service or product purchased.\n\nThe current implementation uses [`recurringVolume`](spec/services/zuora/orders/entities/subscribe_to_rate_plans_spec.rb) pricing, while it should use [Per Unit Charge Model](https://knowledgecenter.zuora.com/Billing/Subscriptions/Product_Catalog/B_Charge_Models#Per_Unit_Charge_Model).\n\nPer the [docs](https://knowledgecenter.zuora.com/Billing/Subscriptions/Product_Catalog/B_Charge_Models#Per_Unit_Charge_Model) for Per Unit Charge Model:\n\n\u003e With the per unit charge model, the amount to charge is expressed as a price per unit. The price is calculated based on the quantity of a service or product purchased by the customer, where the total price charged per period would be the quantity multiplied by the per-unit price. An example of a per unit charge would be a software-as-a-service vendor that charges $50 per user per month for their service.\n\n\u003e Per unit pricing can be used with one-time, recurring, or usage charges.\n\n[Docs](https://knowledgecenter.zuora.com/Billing/Subscriptions/Product_Catalog/B_Charge_Models#Volume_Pricing_Charge_Model) for Volume Pricing Charge Model:\n\n\u003e With a volume pricing charge model, the price to be charged is based on the volume purchased. When setting up a volume charge model, a price table is used to define the pricing for each range of volumes, as well as the pricing rule to apply if the customer purchases a quantity that falls within the range of that tier. Each tier is defined by a starting unit, an ending unit, a list price, and a price format (which can be either flat fee or per unit).\n\nPlease note that this is **currently not impacting** the existing new subscriptions purchased:\n\n  1. When additional CI minutes is purchased for a new customer (having no prior subscriptions). It uses Order's API workflow for new subscriptions, and the pricing model is `One-Time - Per Unit Pricing`.\n\n![Screen_Shot_2022-08-18_at_9.20.16_AM](/uploads/71a3a5c8377b6a01c68d33403c4e0c8f/Screen_Shot_2022-08-18_at_9.20.16_AM.png)\n\n- [Link to Subscription ](https://test.zuora.com/apps/Subscription.do?method=view\u0026id=8a8aa38682aad91e0182adf139042df4)\n- [Verification walkthrough](https://drive.google.com/file/d/1cfBlfMUtXaUK8P4PJg2OayPbz9R_gM3C/view?usp=sharing)\n\n 2. When customer purchases new subscription for a plan. It uses Order's API workflow for new subscriptions, and the pricing model is `Recurring - Per Unit Pricing`.\n\n- [Link to Subscription](https://test.zuora.com/apps/Subscription.do?method=view\u0026id=8a8aa0a082aa6f8c0182ade15fc915f6)\n- [Verification walkthrough](https://drive.google.com/file/d/1BpRbusMjgNbMczWDinx9AV8ZboNy0q3i/view?usp=sharing)\n\nThis is likely due to the fact that the request also includes [`product_rate_plan_charge_id`](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/6909e8dfb20722b24f3fbbcf4ea07ba8d5a37a9d/app/services/zuora/orders/entities/subscribe_to_rate_plans.rb#L38) (confirmation pending).\n\n## Steps to reproduce\n\n(How one can reproduce the issue - this is very important)\n\n1. Navigate to the billing page of a namespace in gitlab.com\n2. Select a plan and enter pricing details\n3. Verify the request defines pricing model as `recurringVolume`\n\n## What is the current *bug* behavior?\n\nAlthough no impact was observed in the subscriptions created in Zuora, the pricing model in the request needs update.\n\n## What is the expected *correct* behavior?\n\nNew subscriptions should be created with `Per Unit Pricing` pricing model.\n\n- for add-ons (CI minutes, storage): use `One-Time - Per Unit Pricing`\n- for plans: use `Recurring - Per Unit Pricing`\n\n(What you should see instead)\n\n## Relevant logs and/or screenshots\n\n(Paste any relevant logs - please use code blocks (```) to format console output,\nlogs, and code as it's tough to read otherwise.)\n\n## Workarounds\n\n(Ways to get around the issue)\n\n## Reported examples\n\n1.\n1.\n1.\n\n\u003c!---\nPlease add both severity and priority level according to: https://docs.gitlab.com/ee/development/contributing/issue_workflow.html#severity-labels\n---\u003e","state":"closed","created_at":"2022-08-17T21:31:07.073Z","updated_at":"2022-10-20T09:59:22.702Z","closed_at":"2022-08-25T19:45:04.495Z","closed_by":{"id":5667561,"username":"vshumilo","name":"Vladlena Shumilo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08dfa82785d130c151ab9e21caeab4e3?s=80\u0026d=identicon","web_url":"https://gitlab.com/vshumilo"},"labels":["[deprecated] Category:Fulfillment Platform","backend","bug","devops::fulfillment","group::fulfillment platform","section::fulfillment","type::bug","workflow::in review"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":5667561,"username":"vshumilo","name":"Vladlena Shumilo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08dfa82785d130c151ab9e21caeab4e3?s=80\u0026d=identicon","web_url":"https://gitlab.com/vshumilo"}],"author":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"type":"ISSUE","assignee":{"id":5667561,"username":"vshumilo","name":"Vladlena Shumilo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08dfa82785d130c151ab9e21caeab4e3?s=80\u0026d=identicon","web_url":"https://gitlab.com/vshumilo"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4681","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/4681","notes":"https://gitlab.com/api/v4/projects/2670515/issues/4681/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/4681/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#4681","relative":"#4681","full":"gitlab-org/customers-gitlab-com#4681"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8664,"epic":{"id":594034,"iid":8664,"title":"Transition Subscribe() to the Zuora Orders API for new subscriptions","url":"/groups/gitlab-org/-/epics/8664","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":113423268,"iid":4679,"project_id":2670515,"title":"Improve license text on subscription page","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n### Problem\n\nCurrently, some of the text displayed on the Subscription Admin Page and Admin Overview page within a self-managed subscription is confusing to customers.\n* The text \"Renews: in X days\" is confusing/alarming to customers:\n  * Who are not on auto-renew - this is not accurate as they actually will lose access\n  * Who have already purchased a renewal subscription that is an upgrade from their current - this is not accurate\n* The text \"Valid From\" isn't very clear - saying something simpler may be clearer to customers\n* \"Expires on\" is harsh, and can imply the end of a subscription even if a customer has already renewed\n\n### Proposal\n\n#### Changes on the Admin \u003e Subscription page\n\nUpdate the following text under `Subscription details` to reduce customer confusion:\n1. Change `Renews` to `End date`\n1. Change the End date format from an relative date (eg, `in 11 days`) to an absolute date (eg, `2022-08-06`)\n1. Change `Started` to `Start date`\n1. Change `Last Sync` to `Last sync` (sentence case)\n1. Update the order to be:\n     - Start date\n     - End date\n     - Last sync\n\n\nUpdate the following text under `Subscription History`:\n1. Change \"Valid From\" to \"Start date\"\n2. Change \"Expires On\" to \"End date\"\n3. Change \"Activated on\" to \"Activation date\"\n\n![image](/uploads/7f386353470ca0c5c7b804dee3c389ab/image.png)\n\n\n#### Changes on the Admin \u003e Overview page\n\nUpdate the following text under `License overview` to reduce customer confusion:\n1. Change `Expires` to `End date`\n\n![image](/uploads/c0a66ce0740f91ec6a0b5105cebc7341/image.png)\n\n### Result\nCustomer is more clearly able to understand the current state of their subscription.","state":"closed","created_at":"2022-08-17T19:35:03.203Z","updated_at":"2022-12-15T08:27:49.095Z","closed_at":"2022-12-15T08:27:49.052Z","closed_by":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"labels":["SUS::Impacting","UX","[deprecated] Category:Provision","devops::fulfillment","frontend","group::provision","maintenance::usability","priority::4","section::fulfillment","severity::4","type::maintenance","workflow::production"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"}],"author":{"id":7964536,"username":"courtmeddaugh","name":"Courtney Meddaugh","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7964536/avatar.png","web_url":"https://gitlab.com/courtmeddaugh"},"type":"ISSUE","assignee":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"user_notes_count":17,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4679","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/4679","notes":"https://gitlab.com/api/v4/projects/2670515/issues/4679/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/4679/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#4679","relative":"#4679","full":"gitlab-org/customers-gitlab-com#4679"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8592,"epic":{"id":584984,"iid":8592,"title":"Current vs. Future Subscription View Improvements","url":"/groups/gitlab-org/-/epics/8592","group_id":9970,"human_readable_end_date":"Dec 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":113355133,"iid":4674,"project_id":2670515,"title":"Introduce Manager Service for amendments","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n### Problem\n\nIntroduce `AmendmentManagerService` that will serve as an entry point for amendment workflow.\n\nThe purpose of this service is to:\n  - determine the order action types for the request (based on `params`)\n  - verify feature availability for the determined order action types\n  - trigger order manager service if feature availability passed\n\n### Proposal\n\n\u003c!-- Consult with `@gitlab-com/business-technology/enterprise-apps/zuora-architects` on the ~\"Enterprise Applications\" team if Zuora business logic is involved. --\u003e\n\nCreate `ActionTypeGenerator` that determines possible order action types. Create `AmendmentManagerService` that does the following:\n\n  - invokes `ActionTypeGenerator` to get possible order action types. If no order actions were found, return an error response so we can fallback to existing amendment workflow.\n  - run feature availability on the order action types\n  - trigger order manager service if feature availability returns `true`. If `false`, return an error response so we can fallback to existing amendment workflow.\n\n\n\n### Result\n\n### Next steps (if any)\n\n### How will we measure success?","state":"closed","created_at":"2022-08-16T15:50:32.826Z","updated_at":"2022-08-31T17:48:22.182Z","closed_at":"2022-08-24T20:27:06.625Z","closed_by":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"labels":["[deprecated] Category:Fulfillment Platform","backend","devops::fulfillment","group::fulfillment platform","section::fulfillment","type::feature","workflow::verification"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"}],"author":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"type":"ISSUE","assignee":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4674","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/4674","notes":"https://gitlab.com/api/v4/projects/2670515/issues/4674/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/4674/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#4674","relative":"#4674","full":"gitlab-org/customers-gitlab-com#4674"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8665,"epic":{"id":594036,"iid":8665,"title":"Transition Amend() to the Zuora Orders API for subscription amendments","url":"/groups/gitlab-org/-/epics/8665","group_id":9970,"human_readable_end_date":"Oct 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":113292980,"iid":4672,"project_id":2670515,"title":"Integrate UpdateProduct order action with OrderManagerService","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n### Problem\n\nhttps://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/5162 introduced an order action service for `UpdateProduct`. This issue pertains with integrating it in the amendment workflow.\n\n### Proposal\n\n\u003c!-- Consult with `@gitlab-com/business-technology/enterprise-apps/zuora-architects` on the ~\"Enterprise Applications\" team if Zuora business logic is involved. --\u003e\n\nProduct update is being handled in [AmendSubscriptionService](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/main/app/services/amend_subscription_service.rb).\n\nFor the options that are needed in `UpdateProduct` we can either pass the options directly from `AmendSubscriptionService` or pass params to a `FilterService` which returns the required options.\n\nnote: `AmendSubscriptionService` handles multiple amendments in a single call, we need to check if we can replace individual amendment actions with the new order service or do we need to wait for all actions to be implemented before we can integrate the new order service.\n\n### Result\n\n### Next steps (if any)\n\n### How will we measure success?","state":"closed","created_at":"2022-08-15T14:23:53.997Z","updated_at":"2022-10-20T09:55:24.834Z","closed_at":"2022-09-26T14:26:44.599Z","closed_by":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"labels":["[deprecated] Category:Fulfillment Platform","backend","devops::fulfillment","feature::consolidation","group::fulfillment platform","section::fulfillment","type::feature","workflow::refinement"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"}],"author":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"type":"ISSUE","assignee":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4672","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/4672","notes":"https://gitlab.com/api/v4/projects/2670515/issues/4672/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/4672/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#4672","relative":"#4672","full":"gitlab-org/customers-gitlab-com#4672"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":9046,"epic":{"id":629648,"iid":9046,"title":"Transition Subscription Update workflow to use Orders API","url":"/groups/gitlab-org/-/epics/9046","group_id":9970,"human_readable_end_date":"Dec 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":113153295,"iid":4665,"project_id":2670515,"title":"Follow-up: remove \"optional\" from cancellation survey checkboxes section","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication.\n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n# Feature Request\n\n## Problem\n\n\u003c!-- Describe the problem in terms which a user may understand. Avoid providing solutions in this section --\u003e\n\nAs part of the changes made in https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4035, we added to the header that the selection of cancellation reason is optional. See before/after here: https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4035#note_971075680\n\nThis then lead to a drop in responses as outlined in https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4035#note_1052667342\n\n## Proposal\n\n\u003c!-- Describe the proposed solution the problem --\u003e\n\nWe'd like to remove the `(optional)` from the top header, so instead of\n`Could you tell us a bit more about your cancellation? (optional)`\n\nIt should read \n`Could you tell us a bit more about your cancellation?`\n\nNote that the actual selection should continue to be optional, just like it has always been, and we shouldn't block the form submission on requiring them to select an option. \n\n## Next steps (if any)\n\n\u003c!-- If there are follow-up issues required, describe them here --\u003e\n\n## How will we measure success?\n\nIncrease in submissions.","state":"closed","created_at":"2022-08-11T19:28:40.478Z","updated_at":"2022-09-20T15:45:17.021Z","closed_at":"2022-09-20T15:45:16.996Z","closed_by":{"id":10770603,"username":"lmeckley","name":"Laura Meckley","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10770603/avatar.png","web_url":"https://gitlab.com/lmeckley"},"labels":["[deprecated] Category:Billing and Subscription Management","devops::fulfillment","frontend","group::billing and subscription management","section::fulfillment","type::feature","workflow::production"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":10770603,"username":"lmeckley","name":"Laura Meckley","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10770603/avatar.png","web_url":"https://gitlab.com/lmeckley"}],"author":{"id":9655539,"username":"ofernandez2","name":"Omar Fernandez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9655539/avatar.png","web_url":"https://gitlab.com/ofernandez2"},"type":"ISSUE","assignee":{"id":10770603,"username":"lmeckley","name":"Laura Meckley","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10770603/avatar.png","web_url":"https://gitlab.com/lmeckley"},"user_notes_count":4,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4665","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/4665","notes":"https://gitlab.com/api/v4/projects/2670515/issues/4665/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/4665/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#4665","relative":"#4665","full":"gitlab-org/customers-gitlab-com#4665"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":113126277,"iid":4662,"project_id":2670515,"title":"Revise cancellation modal to include a dropdown vs multiselect","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication.\n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n## Problem\n\nCurrently, the cancellation modal is very busy – primarily due to the 'cancellation reason' options. This increases cognitive load for the user. Given that there is also an [issue](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3981) to add content to this modal regarding overages, it may be wise to look at a simpler design for this modal.\n\n##### Current Experience\n\n ![image](/uploads/fee9b83ffe08434e063ae631dc556761/image.png) \n\n## Proposal\n![Update_subscription_cancellation_modal](/uploads/e1f7d7c3bafabd61cd41853beab9a267/Update_subscription_cancellation_modal.png)\n\nReplace the multi select options with a dropdown, which will include all the current options. \n\n## Design\n[Figma File](https://www.figma.com/file/WfIcP3jg6nkBT0GCqkZvTE/Cancellation-%E2%80%93%C2%A0Info-on-overages?node-id=0%3A1)","state":"closed","created_at":"2022-08-11T10:43:04.900Z","updated_at":"2022-10-11T07:06:39.702Z","closed_at":"2022-10-11T07:06:39.679Z","closed_by":{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"},"labels":["SUS::Impacting","[deprecated] Category:Billing and Subscription Management","devops::fulfillment","frontend","group::billing and subscription management","maintenance::usability","section::fulfillment","severity::4","type::maintenance","workflow::production"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"}],"author":{"id":11593803,"username":"philipjoyce","name":"Philip Joyce","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11593803/avatar.png","web_url":"https://gitlab.com/philipjoyce"},"type":"ISSUE","assignee":{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"},"user_notes_count":41,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4662","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/4662","notes":"https://gitlab.com/api/v4/projects/2670515/issues/4662/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/4662/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#4662","relative":"#4662","full":"gitlab-org/customers-gitlab-com#4662"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8743,"epic":{"id":601838,"iid":8743,"title":"Update subscription cancellation experience in Customers Portal","url":"/groups/gitlab-org/-/epics/8743","group_id":9970,"human_readable_end_date":"Oct 14, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":113113546,"iid":4656,"project_id":2670515,"title":"Add script for generating feature categories","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n### Problem\n\nPort the [`update-feature-categories`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/scripts/update-feature-categories) script and generate `config/feature_categories.yml` file.\n\n### Proposal\n\n\u003c!-- Consult with `@gitlab-com/business-technology/enterprise-apps/zuora-architects` on the ~\"Enterprise Applications\" team if Zuora business logic is involved. --\u003e\n\n### Result\n\n### Next steps (if any)\n\n### How will we measure success?","state":"closed","created_at":"2022-08-11T07:26:34.213Z","updated_at":"2022-09-01T11:57:23.715Z","closed_at":"2022-08-15T10:09:28.117Z","closed_by":{"id":447038,"username":"vitallium","name":"Vitaly Slobodin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/74b3243cfcfbfac1f022b78ab505e8d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/vitallium"},"labels":["[deprecated] Category:Fulfillment Platform","devops::fulfillment","group::fulfillment platform","maintenance::workflow","section::fulfillment","type::maintenance","workflow::production"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":447038,"username":"vitallium","name":"Vitaly Slobodin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/74b3243cfcfbfac1f022b78ab505e8d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/vitallium"}],"author":{"id":447038,"username":"vitallium","name":"Vitaly Slobodin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/74b3243cfcfbfac1f022b78ab505e8d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/vitallium"},"type":"ISSUE","assignee":{"id":447038,"username":"vitallium","name":"Vitaly Slobodin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/74b3243cfcfbfac1f022b78ab505e8d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/vitallium"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4656","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/4656","notes":"https://gitlab.com/api/v4/projects/2670515/issues/4656/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/4656/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#4656","relative":"#4656","full":"gitlab-org/customers-gitlab-com#4656"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8474,"epic":{"id":575162,"iid":8474,"title":"Feature categorization of endpoints on CustomersDot","url":"/groups/gitlab-org/-/epics/8474","group_id":9970,"human_readable_end_date":"Aug 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":113106538,"iid":4651,"project_id":2670515,"title":"Expired subscription has a Cancel subscription button","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"bug\" label in relevant trackers:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n- https://gitlab.com/gitlab-org/customers-gitlab-com/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n\nDo not include confidential information!\n---\u003e\n\n# Bug\n\n## Summary\n\nThe customer subscription failed to auto renew because of payment failure. When the subscription expires, there's no renew button but the `Cancel Subscription` button. \n\n## Steps to reproduce\n\n(How one can reproduce the issue - this is very important)\n\n## What is the current *bug* behavior?\n\n(What actually happens)\n\n## What is the expected *correct* behavior?\n\n(What you should see instead)\n\n## Relevant logs and/or screenshots\n\n(Paste any relevant logs - please use code blocks (```) to format console output,\nlogs, and code as it's tough to read otherwise.)\n\n![image](/uploads/1970be9b319f3979ae09633a0e00f14e/image.png)\n\n## Workarounds\n\n(Ways to get around the issue)\n\n## Reported examples\n\n1. https://gitlab.zendesk.com/agent/tickets/314929\n1.\n1.\n\n\u003c!---\nPlease add both severity and priority level according to: https://docs.gitlab.com/ee/development/contributing/issue_workflow.html#severity-labels\n---\u003e","state":"closed","created_at":"2022-08-11T03:56:14.317Z","updated_at":"2022-10-19T12:25:42.490Z","closed_at":"2022-10-19T12:25:42.409Z","closed_by":{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"},"labels":["Category:Subscription Management","SUS::Impacting","Track Health Status [DEPRECATED]","bug::ux","devops::fulfillment","frontend","group::billing and subscription management","priority::3","section::fulfillment","severity::3","type::bug","workflow::production"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"}],"author":{"id":786864,"username":"rotanak","name":"Sokunrotanak Srey (Rotanak)","state":"active","avatar_url":"https://secure.gravatar.com/avatar/9e138f6598fa362b95f725febc80087e?s=80\u0026d=identicon","web_url":"https://gitlab.com/rotanak"},"type":"ISSUE","assignee":{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4651","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/4651","notes":"https://gitlab.com/api/v4/projects/2670515/issues/4651/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/4651/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#4651","relative":"#4651","full":"gitlab-org/customers-gitlab-com#4651"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":{"id":86629,"iid":150,"sequence":1,"group_id":9970,"title":null,"description":null,"state":3,"created_at":"2022-10-04T21:31:23.241Z","updated_at":"2022-11-03T00:05:04.111Z","start_date":"2022-10-18","due_date":"2022-11-02","web_url":"https://gitlab.com/groups/gitlab-org/-/iterations/86629"},"health_status":null},{"id":113023599,"iid":4648,"project_id":2670515,"title":"[Feature flag] Enable use_orders_api_preview_subscription","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n# Summary\n\n\u003c!-- Short description of what the feature is about and link to relevant other issues. --\u003e\n\nThis issue is to rollout [Order preview for new subscriptions](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4476) on CustomersDot production,\nthat is currently behind the [`use_orders_api_preview_subscription`](https://gitlab.com/gitlab-org/customers-gitlab-com/-/feature_flags/150/edit) feature flag.\n\n## Owners\n\n- Team: Fulfillment Platform\n- Most appropriate Slack channel to reach out to: `#g_fulfillment_platform`\n- Best individual to reach out to: @aish.sub \n- PM: @tgolubeva \n\n## Stakeholders\n\n\u003c!--\nAre there any other stages or teams involved that need to be kept in the loop?\n\n- GITLAB_HANDLE of a PM\n- The Support Team\n- The Delivery Team\n--\u003e\n\n## The Rollout Plan\n\n- Partial Rollout with specific Customers on CustomersDot, [via Unleash](https://docs.gitlab.com/ee/operations/feature_flags.html#user-ids)\n- Rollout on CustomersDot for a certain period (How long)\n- Percentage Rollout on CustomersDot\n- Rollout Feature for everyone as soon as it's ready\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? Sentry errors reports can also be useful to review --\u003e\n\n## Testing User/Customer IDs\n\n\u003c!--\nList any Customer IDs for Customers that are happy to have this feature turned on early.\n\nRemove if not applicable\n--\u003e\n\n## Expectations\n\n### What are we expecting to happen?\n\n\u003c!-- Describe the expected outcome when rolling out this feature --\u003e\n\nWhen customer's preview subscription before purchase, the request in the backend uses Zuora's [Preview an Order API](https://www.zuora.com/developer/api-reference/#operation/POST_PreviewOrder) instead of Subscribe API.\n\n### What might happen if this goes wrong?\n\n\u003c!-- Should the feature flag be turned off? Any MRs that need to be rolled back? Communication that needs to happen? What are some things you can think of that could go wrong - data loss or broken pages? --\u003e\n\nCustomer's may not be able to preview subscription accurately before purchase.\n\n### What can we monitor to detect problems with this?\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? --\u003e\n\n## Rollout Steps\n\n### Rollout on non-production environments\n\n- [x] Ensure that the feature MRs have been deployed to non-production environments, i.e. `customers-staging`.\n- [x] Consider announcing that the flag will be enabled to potentially impacted groups, e.g. `#s_fulfillment_engineering`\n- [x] Enable the feature globally on non-production environments by applying the appropriate environment, e.g. `customers-staging` and `customers-development`.\n- [x] Notify the Software Engineers in Test (SETs) for Fulfillment via Slack and in a comment in this issue when enabling a feature flag in `customers-staging` as it can impact the QA pipeline.\n- [x] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n\n### Preparation before production rollout\n\n- [x] Ensure that the feature MRs have been deployed to production\n- [ ] Check if the feature flag change needs to be accompanied with a\n  [change management issue](https://about.gitlab.com/handbook/engineering/infrastructure/change-management/#feature-flags-and-the-change-management-process).\n  Cross link the issue here if it does.\n- [x] Ensure that you or a representative in Fulfillment can be available for at least 2 hours after feature flag updates in production.\n  If a different developer will be covering, or an exception is needed, please inform the Fulfillment team in #s_fulfillment_engineering\n- [ ] Ensure any documentation has been updated\n- [ ] Announce on [the feature issue](ISSUE LINK) an estimated time this will be enabled on production if applicable\n- [ ] If the feature might impact the user experience, notify `#s_fulfillment` and potentially `#support_gitlab-com`, as well as your team channel ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#communicate-the-change)).\n\n### Global rollout on CustomersDot production\n\n- [x] Confirm the feature flag is enabled on `staging` without incident\n- [ ] Roll out the feature to targeted testing users first (if applicable)\n- [x] If applicable, [incrementally roll out](https://docs.gitlab.com/ee/operations/feature_flags.html#percent-rollout) the feature.\n- [x] Verify the change has the desired outcome with the limited rollout before enabling the feature globally on production.\n- [x] Enable the feature globally on production environment\n- [x] Announce on [the feature issue](ISSUE LINK) that the feature has been globally enabled.\n- [ ] Wait for [at least one day for the verification term](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release).\n\n### Release the feature\n\nAfter the feature has been [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release),\nthe clean up should be done as soon as possible to permanently enable the feature and reduce complexity in the codebase.\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [x] Create a merge request to remove `\u003cfeature-flag-name\u003e` feature flag\n  - [x] Remove all references to the feature flag from the codebase\n- [ ] Ensure that the cleanup MR has been deployed to both staging and production\n- [ ] Disable the feature flag via the [CustomersDot dashboard](https://gitlab.com/gitlab-org/customers-gitlab-com/-/feature_flags)\n- [ ] Ensure production environment is still working as expected\n- [ ] Remove the Unleash feature flag from the [CustomersDot dashboard](https://gitlab.com/gitlab-org/customers-gitlab-com/-/feature_flags)\n- [ ] Close this rollout issue.\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by performing the following actions:\n  - [ ] Disable the Unleash flag on the [feature flag page](LINK TO THE FEATURE FLAG EDIT PAGE)","state":"closed","created_at":"2022-08-09T19:24:45.432Z","updated_at":"2022-12-15T22:35:08.545Z","closed_at":"2022-12-15T22:32:57.753Z","closed_by":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"labels":["Category:Feature Flags","[deprecated] Category:Fulfillment Platform","devops::fulfillment","feature flag","feature::addition","group::fulfillment platform","missed:15.5","missed:15.6","section::fulfillment","type::feature"],"milestone":{"id":2745648,"iid":83,"group_id":9970,"title":"15.8","description":"","state":"active","created_at":"2022-08-22T16:57:34.875Z","updated_at":"2022-08-22T16:57:34.875Z","due_date":"2023-01-17","start_date":"2022-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/83"},"assignees":[{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"}],"author":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"type":"ISSUE","assignee":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"user_notes_count":15,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4648","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":27,"completed_count":14},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/4648","notes":"https://gitlab.com/api/v4/projects/2670515/issues/4648/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/4648/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#4648","relative":"#4648","full":"gitlab-org/customers-gitlab-com#4648"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8664,"epic":{"id":594034,"iid":8664,"title":"Transition Subscribe() to the Zuora Orders API for new subscriptions","url":"/groups/gitlab-org/-/epics/8664","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":112997074,"iid":4646,"project_id":2670515,"title":"Activate cloud license during installation","description":"### Problem\n\nCustomers were able to add their [license file during installation](https://docs.gitlab.com/ee/user/admin_area/license_file.html#add-your-license-file-during-installation) of their GitLab instance when using a legacy license. With Cloud License this is no longer possible. \n\nPlease note more details in this issue: https://gitlab.com/gitlab-org/gitlab/-/issues/383878\n\n### Workaround\n\nRequest an [offline cloud license](https://about.gitlab.com/pricing/licensing-faq/cloud-licensing/#offline-cloud-licensing), which can be applied during installation.\n\n### Proposal\n\nAdd the ability to add activation code during the installation of a GitLab instance, similar to what was possible for legacy licenses: https://docs.gitlab.com/ee/user/admin_area/license_file.html#add-your-license-file-during-installation.\n\n### Reported Examples\n1. https://gitlab.zendesk.com/agent/tickets/315115\n1. https://gitlab.zendesk.com/agent/tickets/343826\n2. https://gitlab.zendesk.com/agent/tickets/365130","state":"closed","created_at":"2022-08-09T11:14:39.697Z","updated_at":"2023-05-02T02:29:18.460Z","closed_at":"2023-03-17T08:47:18.763Z","closed_by":{"id":1986039,"username":"lulalala","name":"Mark Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1986039/avatar.png","web_url":"https://gitlab.com/lulalala"},"labels":["Category:SM Provisioning","Cloud Licensing","ML::Done","backend","customer","devops::fulfillment","feature::addition","group::provision","priority::3","section::fulfillment","type::feature","workflow::complete"],"milestone":{"id":2745651,"iid":85,"group_id":9970,"title":"15.10","description":"","state":"active","created_at":"2022-08-22T16:58:22.132Z","updated_at":"2022-08-22T16:58:22.132Z","due_date":"2023-03-17","start_date":"2023-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/85"},"assignees":[{"id":1986039,"username":"lulalala","name":"Mark Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1986039/avatar.png","web_url":"https://gitlab.com/lulalala"},{"id":9431773,"username":"m_taylor","name":"Matthew Taylor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9431773/avatar.png","web_url":"https://gitlab.com/m_taylor"}],"author":{"id":4961018,"username":"mlunoe","name":"Michael Lunøe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4961018/avatar.png","web_url":"https://gitlab.com/mlunoe"},"type":"ISSUE","assignee":{"id":1986039,"username":"lulalala","name":"Mark Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1986039/avatar.png","web_url":"https://gitlab.com/lulalala"},"user_notes_count":40,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4646","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/4646","notes":"https://gitlab.com/api/v4/projects/2670515/issues/4646/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/4646/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#4646","relative":"#4646","full":"gitlab-org/customers-gitlab-com#4646"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":10028,"epic":{"id":764924,"iid":10028,"title":"Increase cloud licensing activation \u0026 cancellation options","url":"/groups/gitlab-org/-/epics/10028","group_id":9970,"human_readable_end_date":"May 17, 2023","human_readable_timestamp":"\u003cstrong\u003e11\u003c/strong\u003e days remaining"},"iteration":null,"health_status":"on_track"},{"id":112969772,"iid":4643,"project_id":2670515,"title":"Use OrderManagerService to renew subscription","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n### Problem\n\nhttps://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4326 implemented Order action `Zuora::Orders::Actions:: RenewSubscription` that constructs the request body to renew a subscription.\n\nThe next step is to use this order action in `OrderManagerService` to renew a subscription.\n\n### Proposal\n\n\u003c!-- Consult with `@gitlab-com/business-technology/enterprise-apps/zuora-architects` on the ~\"Enterprise Applications\" team if Zuora business logic is involved. --\u003e\n\n:warning: Depends on [AmendmentManagerService](https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/5254) to be complete.\n\n- Use `ActionTypesGenerator` to determine if a request pertains to renewing a subscription: see separate issue: https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4723\n- Integrate `RenewSubscription` order action with OrderManagerService: https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/5290\n\n### Result\n\nWhen renewing a subscription, there are other order actions involved: Adding a Product, Removing a product, Updating a product.\n\nConsequently, the renewal workflow will not be e2e complete with this issue. However, we can use it to test a subscription is getting renewed without any seat / product changes.\n\n### Next steps (if any)\n\n### How will we measure success?","state":"closed","created_at":"2022-08-08T22:31:50.773Z","updated_at":"2022-10-20T09:59:56.922Z","closed_at":"2022-08-31T16:58:59.891Z","closed_by":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"labels":["[deprecated] Category:Fulfillment Platform","backend","devops::fulfillment","feature::consolidation","group::fulfillment platform","section::fulfillment","type::feature","workflow::production"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"}],"author":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"type":"ISSUE","assignee":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4643","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/4643","notes":"https://gitlab.com/api/v4/projects/2670515/issues/4643/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/4643/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#4643","relative":"#4643","full":"gitlab-org/customers-gitlab-com#4643"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":9046,"epic":{"id":629648,"iid":9046,"title":"Transition Subscription Update workflow to use Orders API","url":"/groups/gitlab-org/-/epics/9046","group_id":9970,"human_readable_end_date":"Dec 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":112864577,"iid":4636,"project_id":2670515,"title":"Follow-up from \"SFDC: during opportunity creation, create account if absent\"","description":"The following discussion from !5186 should be addressed:\n\n- [ ] @a_luna started a [discussion](https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/5186#note_1051504289):  (+2 comments)\n\n    \u003e **thought (non-blocking):** The comment here is good but since `CreateSalesforceAccountService` basically does a `find_or_create`, maybe it would be better to clarify that in the service name? Renaming it to something like  `FindOrCreateSalesforceAccountService` would be longer but self-explanatory. \n    \u003e \n    \u003e I see this service has been like this for a while so definitely something that could be handled in a follow up!","state":"closed","created_at":"2022-08-05T19:56:14.063Z","updated_at":"2023-02-24T16:02:17.797Z","closed_at":"2022-10-31T08:14:23.190Z","closed_by":{"id":4098809,"username":"qzhaogitlab","name":"Qingyu Zhao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4098809/avatar.png","web_url":"https://gitlab.com/qzhaogitlab"},"labels":["Category:Fulfillment Integrations \u0026 Visibility","[deprecated] Category:Provision","devops::fulfillment","group::provision","section::fulfillment","type::maintenance","workflow::in review"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":4098809,"username":"qzhaogitlab","name":"Qingyu Zhao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4098809/avatar.png","web_url":"https://gitlab.com/qzhaogitlab"}],"author":{"id":5667561,"username":"vshumilo","name":"Vladlena Shumilo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08dfa82785d130c151ab9e21caeab4e3?s=80\u0026d=identicon","web_url":"https://gitlab.com/vshumilo"},"type":"ISSUE","assignee":{"id":4098809,"username":"qzhaogitlab","name":"Qingyu Zhao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4098809/avatar.png","web_url":"https://gitlab.com/qzhaogitlab"},"user_notes_count":4,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4636","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/4636","notes":"https://gitlab.com/api/v4/projects/2670515/issues/4636/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/4636/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#4636","relative":"#4636","full":"gitlab-org/customers-gitlab-com#4636"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":112860691,"iid":4635,"project_id":2670515,"title":"Investigate \"Update GitLab Plan\" function / mechanizer incident","description":"The [update gitlab plan function](https://gitlab.com/gitlab-com/support/toolbox/console-training-wheels/-/blob/master/lib/support_team.rb#L86) seems to be the root cause of https://gitlab.com/gitlab-com/gl-infra/production/-/issues/7555\n\nWe need to investigate why.\n\nFrom `@jameslopez`:\n\n\u003e its process was using up to half the total memory and killing it brought the system back up (as well as reducing CPU load). there could be many causes to this, from a race condition to a memory leak somwhere","state":"closed","created_at":"2022-08-05T17:34:25.955Z","updated_at":"2022-09-19T12:19:12.198Z","closed_at":"2022-09-14T07:49:33.999Z","closed_by":{"id":273486,"username":"jameslopez","name":"James Lopez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/273486/avatar.png","web_url":"https://gitlab.com/jameslopez"},"labels":["[deprecated] Category:Utilization","automation:infradev-missing-labels","backend","devops::fulfillment","group::utilization","infradev","missed:15.3","needs investigation","needs weight","section::fulfillment","severity::3","type::bug","workflow::ready for development"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":273486,"username":"jameslopez","name":"James Lopez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/273486/avatar.png","web_url":"https://gitlab.com/jameslopez"},{"id":5211906,"username":"csouthard","name":"Chase Southard","state":"active","avatar_url":"https://secure.gravatar.com/avatar/5e2adecb9fa1d32cf007754824aa358f?s=80\u0026d=identicon","web_url":"https://gitlab.com/csouthard"}],"author":{"id":2454149,"username":"cynthia","name":"Cynthia \"Arty\" Ng","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2454149/avatar.png","web_url":"https://gitlab.com/cynthia"},"type":"ISSUE","assignee":{"id":273486,"username":"jameslopez","name":"James Lopez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/273486/avatar.png","web_url":"https://gitlab.com/jameslopez"},"user_notes_count":32,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2022-10-05","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4635","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/4635","notes":"https://gitlab.com/api/v4/projects/2670515/issues/4635/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/4635/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#4635","relative":"#4635","full":"gitlab-org/customers-gitlab-com#4635"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8423,"epic":{"id":570846,"iid":8423,"title":"Review `Update GitLab Plan` mechanizer function","url":"/groups/gitlab-org/-/epics/8423","group_id":9970},"iteration":null,"health_status":null},{"id":112811238,"iid":4629,"project_id":2670515,"title":"Remove Customer dependency from Subscription model","description":"### Problem\n\nIn CustomersDot, a `Subscription` model exists as a wrapper around a `Zuora::Subscription` object.  This wrapper is meant to contain business logic specific to CustomersDot.  The `Subscription` class has an initialization dependency on having a `Customer` record ([see code](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/99ecaa74572bcf1542b5ab9fadba3f410b402b18/app/models/subscription.rb#L93)).  This dependency does not seem to be necessary and only adds to the complexity in our system.  \n\nIn most places, the `Customer` record is used simply as a way to determine the `zuora_account_id` for the subscription, but we should be getting this directly from the `Zuora::Subscription` instead.  In other places, it is used to determine who should receive provisioning emails, but this can also be determined from using Zuora (the Sold To contact of the Zuora Account).\n\n### Proposal\n\nIdentify and update all places where the `customer` is referenced from the `Subscription` object, and eventually remove the dependency altogether.  We can start with the easy references where customer is used to get the `zuora_account_id`.\n\n### Result\n\nA much cleaner and understandable `Subscription` class.  This will also enable us to rely more on Zuora data and less on the customer data in CDot which helps towards the initiative in https://gitlab.com/groups/gitlab-org/-/epics/8331.","state":"closed","created_at":"2022-08-04T18:29:52.757Z","updated_at":"2023-01-10T18:02:11.382Z","closed_at":"2022-10-26T15:09:00.142Z","closed_by":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"labels":["[deprecated] Category:Fulfillment Platform","backend","devops::fulfillment","group::fulfillment platform","maintenance::refactor","missed:15.5","section::fulfillment","type::maintenance","workflow::production"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"}],"author":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"type":"ISSUE","assignee":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"user_notes_count":53,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4629","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":8,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/4629","notes":"https://gitlab.com/api/v4/projects/2670515/issues/4629/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/4629/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#4629","relative":"#4629","full":"gitlab-org/customers-gitlab-com#4629"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8950,"epic":{"id":621714,"iid":8950,"title":"Iteration 1A: Align CustomersDot BillingAccounts and Users to Zuora objects","url":"/groups/gitlab-org/-/epics/8950","group_id":9970,"human_readable_end_date":"Mar 17, 2023","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":125858767,"iid":6138,"project_id":2670515,"title":"Provide the ability in CustomerDot to send a cloud activation code to another account","description":"[[_TOC_]]\n\n## Step 1: Describe what this request is about by answering the following questions\n\n### What is the problem/opportunity?  \n\nCurrently, in CustomerDot it is only possible to send a cloud activation code to the account owner. As shown below:\n\n![image](/uploads/0fdf44b7bdc349f621367210a72fa5e8/image.png)\n\n![image](/uploads/80ce6c24028fc7bd256d5c5e27596018/image.png)\n\nHowever, it is possible to forward a license file to another account\n\n![image](/uploads/d43104b38e2113e346b7550189bc715b/image.png)\n\n\nThis problem was exposed by a customer in a [zendesk ticket](https://gitlab.zendesk.com/agent/tickets/310143) when the account owner was on vacation and the other users did not have access to GitLab as a result. \n\n### Who is it for?\n\n       1. External: SM customers\n\n\n### Why is this important?\n\nIt is important that CustomerDot provides the parity of functionality for Cloud Licensing Activation Codes that it does for Offline/legacy licenses \n\n### How do you propose we solve for it?\n\nCreate forward license activation code functionality\n\n\n### What does success look like, and how can we measure that?\n\nCustomerDot provides the ability to send the Activation Code to another email\n\n## Proposal\nImplement the same process used today by legacy licenses.\n\n### Availability \u0026 Testing\n\n\u003c!-- This section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\nWhat risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning --\u003e\n\nWe will need to create many lower-level tests including, but not limited to:\n\n- Unit specs\n- Controller specs\n- Jest specs\n- Email validity\n- Likely Model validation specs(?) [are we validating email via the model, controller?]\n- Feature specs\n- Mailer specs(?) [test that the email has indeed been sent to the appropriate email]\n\nOther things to consider:\n\n- When the customer adds a new email, are we saving this email somewhere, so it can be sent later from a list of valid emails?\n- What email validation regex are we going to be using? Will this validation regex allow wildcard emails? (e.g.: ddavison+fulfillment[at]gitlab.com)","state":"closed","created_at":"2022-08-04T10:09:12.035Z","updated_at":"2023-04-25T17:53:48.971Z","closed_at":"2023-04-06T15:25:47.814Z","closed_by":{"id":12246302,"username":"paulobarros","name":"Paulo Barros","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12246302/avatar.png","web_url":"https://gitlab.com/paulobarros"},"labels":["Category:SM Provisioning","Cloud Licensing","Support Efficiency","Support Priority","Support Priority::2","[deprecated] Category:Provision","backend","devops::fulfillment","feature::addition","group::provision","priority::3","quad-planning::complete-action","section::fulfillment","type::feature","workflow::complete"],"milestone":{"id":2910456,"iid":86,"group_id":9970,"title":"15.11","description":"","state":"active","created_at":"2022-12-13T20:08:46.985Z","updated_at":"2022-12-13T20:08:46.985Z","due_date":"2023-04-17","start_date":"2023-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/86"},"assignees":[{"id":12246302,"username":"paulobarros","name":"Paulo Barros","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12246302/avatar.png","web_url":"https://gitlab.com/paulobarros"}],"author":{"id":8108602,"username":"jlyttle","name":"John Lyttle","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8108602/avatar.png","web_url":"https://gitlab.com/jlyttle"},"type":"ISSUE","assignee":{"id":12246302,"username":"paulobarros","name":"Paulo Barros","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12246302/avatar.png","web_url":"https://gitlab.com/paulobarros"},"user_notes_count":6,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/6138","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/6138","notes":"https://gitlab.com/api/v4/projects/2670515/issues/6138/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/6138/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#6138","relative":"#6138","full":"gitlab-org/customers-gitlab-com#6138"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":9674,"epic":{"id":722173,"iid":9674,"title":"Allow for resending and forwarding of activation codes","url":"/groups/gitlab-org/-/epics/9674","group_id":9970,"human_readable_end_date":"May 17, 2023","human_readable_timestamp":"\u003cstrong\u003e11\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":112753832,"iid":4626,"project_id":2670515,"title":"Order should be rejected if an existing customer tries to purchase through Arrow","description":"### Problem\n\nWe identified when discussing the [scorecard for UAT](https://docs.google.com/spreadsheets/d/1innM5QJP11Cc_0yuejYCkgyFqWrsuShgMG_pG-iN43s/edit#gid=0) as a group that orders need to be rejected when an existing customer attempts to make a purchase through Arrowsphere.  There are a few reasons for this:\n\n1. We don't want to allow existing Customers with access to the Customer Portal to be able to make a purchase via Arrowsphere and allow them to manage their subscription through the Portal.\n2. Customers may be looking to make adjustments to existing subscriptions through Arrowsphere by mistake.  By preventing this action, we are saving some headache and directing them to the sales-assisted route.\n\n### Proposal\n\nIf a Customer record already exists, reject a subscription from being created through the marketplace subscriptions API.\n\nWe got clarification from the team that CustomersDot should block an Order if a Customer record exists with the email address (Sold To) and has an associated Zuora Account.  That means even if the Customer record was created through an earlier Arrowsphere order, it will still be rejected.","state":"closed","created_at":"2022-08-03T21:27:42.075Z","updated_at":"2023-02-06T19:17:39.890Z","closed_at":"2022-08-22T07:04:35.932Z","closed_by":{"id":11217480,"username":"tvellishetty","name":"Tarun Vellishetty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11217480/avatar.png","web_url":"https://gitlab.com/tvellishetty"},"labels":["[deprecated] Category:Fulfillment Platform","backend","devops::fulfillment","eDisty","group::fulfillment platform","section::fulfillment","type::feature","workflow::in review"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":11217480,"username":"tvellishetty","name":"Tarun Vellishetty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11217480/avatar.png","web_url":"https://gitlab.com/tvellishetty"}],"author":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"type":"ISSUE","assignee":{"id":11217480,"username":"tvellishetty","name":"Tarun Vellishetty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11217480/avatar.png","web_url":"https://gitlab.com/tvellishetty"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4626","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/4626","notes":"https://gitlab.com/api/v4/projects/2670515/issues/4626/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/4626/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#4626","relative":"#4626","full":"gitlab-org/customers-gitlab-com#4626"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6873,"epic":{"id":365061,"iid":6873,"title":"Integrate with Distributor e-Marketplace (Arrowsphere) to create and provision orders","url":"/groups/gitlab-org/-/epics/6873","group_id":9970,"human_readable_end_date":"Nov 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":112703434,"iid":4622,"project_id":2670515,"title":"Refactor SubscriptionSerializer in License creation","description":"This is a refactoring suggestion to merge `SubscriptionSerializer` with `License` model.\n\n`SubscriptionSerializer` was originally created to serialize Zuora callback data so we can send it to LicenseApp for creating a license.\n\nLicenseDot is now merged with CDot, so its only usage is in `License#build_from_subscription`. We can consider it as an unnecessary layer of abstraction, with readability drawback: we can't easily tell how Zuora callback attributes are mapped to License record. Additional attribute name aliases were also introduced by this serializer, adding more cognitive load.\n\n## Proposal\n\nTwo opposite proposals:\n\n1. inline `SubscriptionSerializer` into `License#build_from_subscription` \n2. turn `SubscriptionSerializer` into a License factory, which would replace `License#build_from_subscription`","state":"closed","created_at":"2022-08-03T07:05:25.367Z","updated_at":"2023-01-18T13:35:39.529Z","closed_at":"2022-12-06T08:13:13.154Z","closed_by":{"id":1986039,"username":"lulalala","name":"Mark Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1986039/avatar.png","web_url":"https://gitlab.com/lulalala"},"labels":["Error Budget Improvement","[deprecated] Category:Provision","backend","devops::fulfillment","group::provision","maintenance::refactor","priority::4","quick win","section::fulfillment","type::maintenance","workflow::in review"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":1986039,"username":"lulalala","name":"Mark Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1986039/avatar.png","web_url":"https://gitlab.com/lulalala"}],"author":{"id":1986039,"username":"lulalala","name":"Mark Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1986039/avatar.png","web_url":"https://gitlab.com/lulalala"},"type":"ISSUE","assignee":{"id":1986039,"username":"lulalala","name":"Mark Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1986039/avatar.png","web_url":"https://gitlab.com/lulalala"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4622","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/4622","notes":"https://gitlab.com/api/v4/projects/2670515/issues/4622/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/4622/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#4622","relative":"#4622","full":"gitlab-org/customers-gitlab-com#4622"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":9397,"epic":{"id":671622,"iid":9397,"title":"Provision Error Budget Improvements","url":"/groups/gitlab-org/-/epics/9397","group_id":9970,"human_readable_end_date":"Jun 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":null},{"id":112642898,"iid":4617,"project_id":2670515,"title":"Switch to asdf-postgres","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n### Problem\n\nOur installation guide has a section for installing PostgreSQL via Homebrew and via `asdf`. So we have two tools for installing two things and that might cause problems like if you installed everything via Homebrew and then decided to switch to `asdf`. Which database will be used in this case? The answer is unknown.\n\n### Proposal\n\nLet's switch to a single tool for installing our dependencies. GDK and CustomersDot as well as other projects in GitLab uses `adsf` as default tool for managing runtimes. GDK also uses `asdf` to install the correct PostgreSQL version so we should to the same to eliminate possible discrepancies and simplify our setup documentation.","state":"closed","created_at":"2022-08-02T07:38:20.070Z","updated_at":"2023-03-15T14:04:26.964Z","closed_at":"2023-03-15T14:04:26.943Z","closed_by":{"id":447038,"username":"vitallium","name":"Vitaly Slobodin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/74b3243cfcfbfac1f022b78ab505e8d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/vitallium"},"labels":["[deprecated] Category:Fulfillment Platform","devops::fulfillment","group::fulfillment platform","maintenance::workflow","section::fulfillment","type::maintenance","workflow::production"],"milestone":{"id":2745651,"iid":85,"group_id":9970,"title":"15.10","description":"","state":"active","created_at":"2022-08-22T16:58:22.132Z","updated_at":"2022-08-22T16:58:22.132Z","due_date":"2023-03-17","start_date":"2023-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/85"},"assignees":[{"id":447038,"username":"vitallium","name":"Vitaly Slobodin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/74b3243cfcfbfac1f022b78ab505e8d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/vitallium"}],"author":{"id":447038,"username":"vitallium","name":"Vitaly Slobodin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/74b3243cfcfbfac1f022b78ab505e8d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/vitallium"},"type":"ISSUE","assignee":{"id":447038,"username":"vitallium","name":"Vitaly Slobodin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/74b3243cfcfbfac1f022b78ab505e8d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/vitallium"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4617","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/4617","notes":"https://gitlab.com/api/v4/projects/2670515/issues/4617/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/4617/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#4617","relative":"#4617","full":"gitlab-org/customers-gitlab-com#4617"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":112410343,"iid":4601,"project_id":2670515,"title":"[Feature flag] Enable use_orders_api_subscription_workflow","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n# Summary\n\n\u003c!-- Short description of what the feature is about and link to relevant other issues. --\u003e\n\nThis issue is to rollout [FEATURE NAME](ISSUE LINK) on CustomersDot production,\nthat is currently behind the [`\u003cfeature-flag-name\u003e`](LINK TO THE FEATURE FLAG EDIT PAGE) feature flag.\n\n## Owners\n\n- Team: Fulfillment Platform\n- Most appropriate Slack channel to reach out to: `#g_fulfillment_platform`\n- Best individual to reach out to: @aish.sub\n- PM: @tgolubeva\n\n## Stakeholders\n\n\u003c!--\nAre there any other stages or teams involved that need to be kept in the loop?\n\n- GITLAB_HANDLE of a PM\n- The Support Team\n- The Delivery Team\n--\u003e\n\n## The Rollout Plan\n\n| Step | Due date | Status |\n|---|---|---|\n| Enable flag `use_orders_api_subscription_workflow on staging| 2022-07-21 | :white_check_mark: |\n| Perform test runs for use cases listed in issue: https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4562| 2022-07-29 | :white_check_mark:  |\n| Monitoring period | Until 2022-08-03 | :white_check_mark:  |\n| Enable on production | 2022-08-03 | :white_check_mark: [Link](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4601#note_1050040212) |\n| Cleanup https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/5206 | 2022-08-12 | :white_check_mark:  |\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? Sentry errors reports can also be useful to review --\u003e\n\n## Testing User/Customer IDs\n\n\u003c!--\nList any Customer IDs for Customers that are happy to have this feature turned on early.\n\nRemove if not applicable\n--\u003e\n\n## Expectations\n\n### What are we expecting to happen?\n\n\u003c!-- Describe the expected outcome when rolling out this feature --\u003e\n\nSubscriptions are created in Zuora using Order's API for all types except Marketplace.\n\n### What might happen if this goes wrong?\n\n\u003c!-- Should the feature flag be turned off? Any MRs that need to be rolled back? Communication that needs to happen? What are some things you can think of that could go wrong - data loss or broken pages? --\u003e\n\nSubscriptions not created in Zuora, this could be a high risk for customers.\n\n### What can we monitor to detect problems with this?\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? --\u003e\n\nSentry, #s_fulfillment_status channel\n\n## Rollout Steps\n\n### Rollout on non-production environments\n\n- [x] Ensure that the feature MRs have been deployed to non-production environments, i.e. `customers-staging`.\n- [x] Consider announcing that the flag will be enabled to potentially impacted groups, e.g. `#s_fulfillment_engineering`\n- [x] Enable the feature globally on non-production environments by applying the appropriate environment, e.g. `customers-staging` and `customers-development`.\n- [x] Notify the Software Engineers in Test (SETs) for Fulfillment via Slack and in a comment in this issue when enabling a feature flag in `customers-staging` as it can impact the QA pipeline.\n- [x] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n\n### Preparation before production rollout\n\n- [x] Ensure that the feature MRs have been deployed to production\n- [ ] Check if the feature flag change needs to be accompanied with a\n  [change management issue](https://about.gitlab.com/handbook/engineering/infrastructure/change-management/#feature-flags-and-the-change-management-process).\n  Cross link the issue here if it does.\n- [x] Ensure that you or a representative in Fulfillment can be available for at least 2 hours after feature flag updates in production.\n  If a different developer will be covering, or an exception is needed, please inform the Fulfillment team in #s_fulfillment_engineering\n- [ ] Ensure any documentation has been updated\n- [ ] Announce on [the feature issue](ISSUE LINK) an estimated time this will be enabled on production if applicable\n- [x] If the feature might impact the user experience, notify `#s_fulfillment` and potentially `#support_gitlab-com`, as well as your team channel ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#communicate-the-change)).\n\n### Global rollout on CustomersDot production\n\n- [x] Confirm the feature flag is enabled on `staging` without incident\n- [ ] Roll out the feature to targeted testing users first (if applicable)\n- [x] If applicable, [incrementally roll out](https://docs.gitlab.com/ee/operations/feature_flags.html#percent-rollout) the feature.\n- [x] Verify the change has the desired outcome with the limited rollout before enabling the feature globally on production.\n- [x] Enable the feature globally on production environment\n- [x] Announce on [the feature issue](ISSUE LINK) that the feature has been globally enabled.\n- [x] Wait for [at least one day for the verification term](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release).\n\n### Release the feature\n\nAfter the feature has been [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release),\nthe clean up should be done as soon as possible to permanently enable the feature and reduce complexity in the codebase.\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [x] Create a merge request to remove `\u003cfeature-flag-name\u003e` feature flag\n  - [x] Remove all references to the feature flag from the codebase\n- [x] Ensure that the cleanup MR has been deployed to both staging and production\n- [x] Disable the feature flag via the [CustomersDot dashboard](https://gitlab.com/gitlab-org/customers-gitlab-com/-/feature_flags)\n- [x] Ensure production environment is still working as expected: ![Screen_Shot_2022-08-24_at_3.06.03_PM](/uploads/397e39961f8d48202eaa47b4c0e0b54e/Screen_Shot_2022-08-24_at_3.06.03_PM.png)\n- [x] Remove the Unleash feature flag from the [CustomersDot dashboard](https://gitlab.com/gitlab-org/customers-gitlab-com/-/feature_flags)\n- [x] Close this rollout issue.\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by performing the following actions:\n  - [ ] Disable the Unleash flag on the [feature flag page](LINK TO THE FEATURE FLAG EDIT PAGE)\n\n/label ~\"DevOps::fulfillment\" ~\"section::fulfillment\" ~\"feature flag\"\n/assign `DRI`","state":"closed","created_at":"2022-07-28T21:41:34.045Z","updated_at":"2022-08-31T21:12:50.258Z","closed_at":"2022-08-24T20:07:17.539Z","closed_by":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"labels":["Category:Feature Flags","[deprecated] Category:Fulfillment Platform","devops::fulfillment","feature flag","group::fulfillment platform","section::fulfillment","type::feature","workflow::in review"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"}],"author":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"type":"ISSUE","assignee":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4601","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":27,"completed_count":21},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/4601","notes":"https://gitlab.com/api/v4/projects/2670515/issues/4601/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/4601/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#4601","relative":"#4601","full":"gitlab-org/customers-gitlab-com#4601"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8664,"epic":{"id":594034,"iid":8664,"title":"Transition Subscribe() to the Zuora Orders API for new subscriptions","url":"/groups/gitlab-org/-/epics/8664","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":112266837,"iid":4584,"project_id":2670515,"title":"Include customer VAT code for new account","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n### Problem\n\nSimilar to the [Subscribe API](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/2d39af088c7f64fd534fc55cee7aabc3b5f53ead/app/services/subscribe_service.rb#L56), include customer's VAT code when creating an account for a new subscription.\n\n### Proposal\n\n\u003c!-- Consult with `@gitlab-com/business-technology/enterprise-apps/zuora-architects` on the ~\"Enterprise Applications\" team if Zuora business logic is involved. --\u003e\n\nUpdate `Zuora::Orders::Entities::NewAccount` to include to pass `vat_code` in `tax_info` object.\n\n### Result\n\nVAT ID is set for the new account in Zuora if customer's account has a VAT code set.\n\n### Next steps (if any)\n\n### How will we measure success?","state":"closed","created_at":"2022-07-26T23:40:23.205Z","updated_at":"2022-08-31T17:45:01.596Z","closed_at":"2022-08-01T15:59:23.857Z","closed_by":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"labels":["[deprecated] Category:Fulfillment Platform","backend","devops::fulfillment","group::fulfillment platform","section::fulfillment","type::feature","workflow::verification"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"}],"author":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"type":"ISSUE","assignee":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4584","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/4584","notes":"https://gitlab.com/api/v4/projects/2670515/issues/4584/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/4584/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#4584","relative":"#4584","full":"gitlab-org/customers-gitlab-com#4584"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8664,"epic":{"id":594034,"iid":8664,"title":"Transition Subscribe() to the Zuora Orders API for new subscriptions","url":"/groups/gitlab-org/-/epics/8664","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":112259267,"iid":4581,"project_id":2670515,"title":"Follow-up from \"Generate order action for renew subscription\"","description":"The following discussion from !5077 should be addressed:\n\n- [ ] @tyleramos started a [discussion](https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/5077#note_1039042561):  (+2 comments)\n\n    \u003e **Suggestion:** Since this type name matches the class name (minus the namespace), [just like the one defined in `CreateSubscription`](https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/5077/diffs#305e4eb502d53caa9613283a073924536c92e484_39_39), what do you think about defining a `type` method for this in `Zuora::Orders::Actions:BaseService` and removing the ones in the subclasses?\n    \u003e \n    \u003e ```\n    \u003e         def type\n    \u003e           self.class.name.demodulize\n    \u003e         end\n    \u003e ```\n    \u003e \n    \u003e If we think they'll always match the Action name, that might be a nice optimization.  This could be done in a follow-up as well. WDYT?\n\n### Proposal\n\n1. Consider defining `action_type` in `Zuora::Orders::Actions:BaseService` that returns the class name:\n\n```ruby\ndef action_type\n  self.class.name.demodulize\nend\n```\n2. Remove `type` definition from the action classes (`CreateSubscription`, `RenewSubscription`)\n3. Update `type` to `action_type` in the `#execute` method in each of the action class","state":"closed","created_at":"2022-07-26T19:30:29.385Z","updated_at":"2022-10-20T10:00:02.121Z","closed_at":"2022-08-29T03:39:29.707Z","closed_by":{"id":11217480,"username":"tvellishetty","name":"Tarun Vellishetty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11217480/avatar.png","web_url":"https://gitlab.com/tvellishetty"},"labels":["[deprecated] Category:Fulfillment Platform","[deprecated] 🍎","backend","devops::fulfillment","group::fulfillment platform","section::fulfillment","type::maintenance","workflow::ready for development"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":11217480,"username":"tvellishetty","name":"Tarun Vellishetty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11217480/avatar.png","web_url":"https://gitlab.com/tvellishetty"}],"author":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"type":"ISSUE","assignee":{"id":11217480,"username":"tvellishetty","name":"Tarun Vellishetty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11217480/avatar.png","web_url":"https://gitlab.com/tvellishetty"},"user_notes_count":5,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4581","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/4581","notes":"https://gitlab.com/api/v4/projects/2670515/issues/4581/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/4581/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#4581","relative":"#4581","full":"gitlab-org/customers-gitlab-com#4581"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":9046,"epic":{"id":629648,"iid":9046,"title":"Transition Subscription Update workflow to use Orders API","url":"/groups/gitlab-org/-/epics/9046","group_id":9970,"human_readable_end_date":"Dec 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":112143190,"iid":4576,"project_id":2670515,"title":"Replace usages of order.customer_id in feature flags and logging","description":"Update uses of `order.customer_id` with `order.current_customer.id` following discussion from !5057:\n\n- [ ] @tyleramos started a [discussion](https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/5057#note_1035847495):  (+1 comment)\n\n    \u003e There are a handful of places where `order.customer_id` is used for scoping of `Unleash.enabled?` or logging. I suspect these could be updated as well.","state":"closed","created_at":"2022-07-25T10:44:20.242Z","updated_at":"2022-08-10T08:35:06.572Z","closed_at":"2022-08-10T08:35:06.542Z","closed_by":{"id":11217480,"username":"tvellishetty","name":"Tarun Vellishetty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11217480/avatar.png","web_url":"https://gitlab.com/tvellishetty"},"labels":["[deprecated] Category:Fulfillment Platform","backend","devops::fulfillment","group::fulfillment platform","section::fulfillment","type::feature","workflow::production"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":11217480,"username":"tvellishetty","name":"Tarun Vellishetty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11217480/avatar.png","web_url":"https://gitlab.com/tvellishetty"}],"author":{"id":11217480,"username":"tvellishetty","name":"Tarun Vellishetty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11217480/avatar.png","web_url":"https://gitlab.com/tvellishetty"},"type":"ISSUE","assignee":{"id":11217480,"username":"tvellishetty","name":"Tarun Vellishetty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11217480/avatar.png","web_url":"https://gitlab.com/tvellishetty"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4576","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/4576","notes":"https://gitlab.com/api/v4/projects/2670515/issues/4576/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/4576/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#4576","relative":"#4576","full":"gitlab-org/customers-gitlab-com#4576"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":112120153,"iid":4573,"project_id":2670515,"title":"[Feature flag] remove include_future_subscriptions","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n# Summary\n\n\u003c!-- Short description of what the feature is about and link to relevant other issues. --\u003e\n\nThis issue is to rollout [include_future_subscriptions](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3800) on CustomersDot production,\nthat is currently behind the [`include_future_subscriptions`](https://gitlab.com/gitlab-org/customers-gitlab-com/-/feature_flags/112/edit) feature flag.\n\n## Owners\n\n- Team: Fulfillment::Provision\n- Most appropriate Slack channel to reach out to: `#g_provision`\n- Best individual to reach out to: @lulalala\n- PM: @courtmeddaugh \n\n## Expectations\n\n### What are we expecting to happen?\n\n\u003c!-- Describe the expected outcome when rolling out this feature --\u003e\n\n### What might happen if this goes wrong?\n\n\u003c!-- Should the feature flag be turned off? Any MRs that need to be rolled back? Communication that needs to happen? What are some things you can think of that could go wrong - data loss or broken pages? --\u003e\n\n### Release the feature\n\nAfter the feature has been [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release),\nthe clean up should be done as soon as possible to permanently enable the feature and reduce complexity in the codebase.\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [x] Create a merge request to remove include_future_subscriptions feature flag \n  - [x] Remove all references to the feature flag from the codebase\n- [x] Ensure that the cleanup MR has been deployed to both staging and production\n- [x] Disable the feature flag via the [CustomersDot dashboard](https://gitlab.com/gitlab-org/customers-gitlab-com/-/feature_flags)\n- [x] Ensure production environment is still working as expected\n- [x] Remove the Unleash feature flag from the [CustomersDot dashboard](https://gitlab.com/gitlab-org/customers-gitlab-com/-/feature_flags)\n- [x] Close this rollout issue.\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by performing the following actions:\n  - [ ] Disable the Unleash flag on the [feature flag page](LINK TO THE FEATURE FLAG EDIT PAGE)","state":"closed","created_at":"2022-07-25T03:44:19.781Z","updated_at":"2022-09-02T17:07:01.983Z","closed_at":"2022-08-04T09:27:47.665Z","closed_by":{"id":1986039,"username":"lulalala","name":"Mark Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1986039/avatar.png","web_url":"https://gitlab.com/lulalala"},"labels":["[deprecated] Category:Provision","devops::fulfillment","feature flag","group::provision","section::fulfillment","type::feature","workflow::in dev"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":1986039,"username":"lulalala","name":"Mark Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1986039/avatar.png","web_url":"https://gitlab.com/lulalala"}],"author":{"id":1986039,"username":"lulalala","name":"Mark Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1986039/avatar.png","web_url":"https://gitlab.com/lulalala"},"type":"ISSUE","assignee":{"id":1986039,"username":"lulalala","name":"Mark Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1986039/avatar.png","web_url":"https://gitlab.com/lulalala"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4573","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":9,"completed_count":7},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/4573","notes":"https://gitlab.com/api/v4/projects/2670515/issues/4573/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/4573/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#4573","relative":"#4573","full":"gitlab-org/customers-gitlab-com#4573"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":111991239,"iid":4567,"project_id":2670515,"title":"Switch SFDC BCC for Cloud Activation emails to Voucher email","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n### Problem\nToday, in order to show proof of license delivery in SFDC of Cloud Activation emails, we BCC the SFDC email address on the activation emails sent to customers. These emails include the activation codes customers use to activate their subscription. Providing this data to anyone with access to SFDC is problematic for compliance reasons, given anyone could use this code to activate a subscription.\n\n### Proposal\nhttps://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4565+ will create a voucher email for cloud license activation emails that will contain subscription details but will remove the activation code. This voucher will also include the relevant SFDC ID.\n\nRemove the SFDC BCC from the current cloud license activation email, and ~~instead add the SFDC BCC to the voucher email created in https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4565~~ The SFDC BCC email is already set as default recipient in `VoucherMail`. Making it BCC again in `ActivationCodeVoucherMailer` would be redundant.","state":"closed","created_at":"2022-07-21T15:50:33.229Z","updated_at":"2022-09-20T21:09:45.064Z","closed_at":"2022-09-07T14:59:04.358Z","closed_by":{"id":12246302,"username":"paulobarros","name":"Paulo Barros","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12246302/avatar.png","web_url":"https://gitlab.com/paulobarros"},"labels":["[deprecated] Category:Provision","[deprecated] 🍎","backend","devops::fulfillment","group::provision","priority::3","quad-planning::complete-no-action","section::fulfillment","type::maintenance","workflow::production"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":12246302,"username":"paulobarros","name":"Paulo Barros","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12246302/avatar.png","web_url":"https://gitlab.com/paulobarros"}],"author":{"id":7964536,"username":"courtmeddaugh","name":"Courtney Meddaugh","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7964536/avatar.png","web_url":"https://gitlab.com/courtmeddaugh"},"type":"ISSUE","assignee":{"id":12246302,"username":"paulobarros","name":"Paulo Barros","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12246302/avatar.png","web_url":"https://gitlab.com/paulobarros"},"user_notes_count":13,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4567","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/4567","notes":"https://gitlab.com/api/v4/projects/2670515/issues/4567/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/4567/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#4567","relative":"#4567","full":"gitlab-org/customers-gitlab-com#4567"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8795,"epic":{"id":605009,"iid":8795,"title":"Proof of Delivery for Cloud Licensing Enabled Subscriptions","url":"/groups/gitlab-org/-/epics/8795","group_id":9970,"human_readable_end_date":"Sep 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":111922224,"iid":4562,"project_id":2670515,"title":"[Testing] New subscription workflow using Orders API","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n### Problem\n\nhttps://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4319 created FF `use_orders_api_subscription_workflow`, when enabled will use the Orders API for new subscription (except for marketplace and in preview mode).\n\nThis issue is to track the testing progress before the go-live of this functionality.\n\nPart of [Orders API upgrade epic](https://gitlab.com/groups/gitlab-org/-/epics/6438).\n\n### Testing scenarios\n\n\u003c!-- Consult with `@gitlab-com/business-technology/enterprise-apps/zuora-architects` on the ~\"Enterprise Applications\" team if Zuora business logic is involved. --\u003e\n\n|Scenario|Steps|Expected result|Pass? (Staging environment)|Notes|\n|---|---|---|---|---|\n|Create a new SAAS subscription for a new customer from gitlab.com|1. Create new user in gitlab.com \u003cbr /\u003e 2. Create a group\u003cbr /\u003e3. Navigate to billings page\u003cbr /\u003e4. Select a plan and fill billing details \u003cbr /\u003e 5. Purchase subscription \u003cbr /\u003e|Customer, Order and Subscription is created with appropriate attributes| :white_check_mark: [Verification link](https://drive.google.com/file/d/1CzBtMrDXiMe3XeTNrxmIyeEbRHwDEkWi/view?usp=sharing) \u003cbr\u003e :white_check_mark: [automated test](https://gitlab.com/gitlab-org/gitlab/-/quality/test_cases/347667) | `vat_id` is not set for new customer: [Issue](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4584), [MR](https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/5143): [fixed](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4584#note_1046761737) |\n|Create a new SAAS subscription for a new customer from CDot|1. Create a new user new user in gitlab.com \u003cbr /\u003e 2. Sign in CDot via gitlab.com \u003cbr /\u003e3. Select 'Buy a new subscription' \u003cbr /\u003e 4. Enter plan and billing details \u003cbr /\u003e 5. Purchase subscription|Customer, Order and Subscription is created with appropriate attributes| :white_check_mark: [Verification link](https://drive.google.com/file/d/1W1K5cQ5Xc05V3uj-XJr-qAXwj4U6T-Ca/view?usp=sharing)\u003cbr\u003e :white_check_mark: [automated test](https://gitlab.com/gitlab-org/customers-gitlab-com/-/quality/test_cases/2749)||\n|Create a new SAAS subscription for an existing customer from gitlab.com|1. Sign in to an existing user in gitlab.com \u003cbr /\u003e 2. Create a group\u003cbr /\u003e3. Navigate to billings page\u003cbr /\u003e4. Select a plan and fill billing details \u003cbr /\u003e 5. Purchase subscription \u003cbr /\u003e|Order and Subscription is created with appropriate attributes| :white_check_mark: [Verification link](https://drive.google.com/file/d/1BMfZkI0t7PPUICtLWZceqLN1mVjuvxi5/view?usp=sharing) \u003cbr\u003e :white_check_mark: [automated test](https://gitlab.com/gitlab-org/gitlab/-/quality/test_cases/349085)||\n|Create a new SAAS subscription for an existing customer from CDot|1. Sign in to an existing user in CDot \u003cbr /\u003e2. Select 'Buy a new subscription' \u003cbr /\u003e 3. Enter plan and billing details \u003cbr /\u003e 4. Purchase subscription |Order and Subscription is created with appropriate attributes| :white_check_mark: [Verification link](https://drive.google.com/file/d/1oy6TZkd41TWc7VrBl7Fc3RdT-RkK8LR7/view?usp=sharing)\u003cbr\u003e :white_check_mark: [automated test](https://gitlab.com/gitlab-org/customers-gitlab-com/-/quality/test_cases/2752)||\n|Create a new self managed subscription for a new customer from CDot|1. Sign up CDot \u003cbr /\u003e2. In billing page, select option to buy 'self-managed' subscription' \u003cbr /\u003e 3. Enter active user count and billing details \u003cbr /\u003e 4. Purchase subscription | Order and Subscription is created with appropriate attributes. Activation code is emailed to user | :white_check_mark: [Verification link](https://drive.google.com/file/d/15uSeIB693OuqvzcKoNTmfkhFVqlnL_mR/view?usp=sharing) \u003cbr\u003e :white_check_mark: [automated test](https://gitlab.com/gitlab-org/customers-gitlab-com/-/quality/test_cases/3096)||\n|Create a new self managed subscription for an existing customer from CDot|1. Sign in to an existing user in CDot \u003cbr /\u003e2. In billing page, select option to buy 'self-managed' subscription' \u003cbr /\u003e 3. Enter active user count and billing details \u003cbr /\u003e 4. Purchase subscription | Order and Subscription is created with appropriate attributes. Activation code is emailed to user | :white_check_mark: [Verification link](https://drive.google.com/file/d/1Qs0qAhmyrGRr2KESGZ3XzCxGP3jkyJbz/view?usp=sharing)\u003cbr\u003e :white_check_mark: [automated test](https://gitlab.com/gitlab-org/gitlab/-/quality/test_cases/347667) ||\n|Preview a subscription |1. Login to CDot \u003cbr /\u003e 2. Visit url to create subscription with plan param ([http://localhost:5000/subscriptions/new?plan_id=2c92c0f97700a4f7017704c7fe465919 example](url)) \u003cbr /\u003e 3. Enter purchase details | Request is directed to Subscribe API. Orders API is not used for preview | :white_check_mark: [Verification video](https://drive.google.com/file/d/14KZVb0unCTO36OO2cj0KVxOgbcUmM8tA/view?usp=sharing)\u003cbr\u003e :white_check_mark: [automated test](https://gitlab.com/gitlab-org/customers-gitlab-com/-/quality/test_cases/3424) ||\n|Create a new marketplace subscription for an existing customer| Follow the description in this [comment](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4562#note_1033256197) | Request is directed to Subscribe API. Orders API is not used for preview(Marketplace subscription does not use the preview) | :white_check_mark: [Verification video](https://drive.google.com/file/d/1DYJnjh8cGyewP1doGcjM7WtEuYCEXAL2/view?usp=sharing) |  |\n|Create a new marketplace subscription for a new customer| Follow the description in this [comment](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4562#note_1033256197) | Request is directed to Subscribe API. Orders API is not used for preview(Marketplace subscription does not use the preview) | :white_check_mark: [Verification link](https://drive.google.com/file/d/1DryYncJvJ41yDpaLaHQCo115zswI5Cc_/view?usp=sharing) |  |\n| Purchase additional CI minutes (new add-on subscription) | 1. Create a new user on gitlab.com \u003cbr/\u003e 2. Create a group \u003cbr/\u003e 3. Navigate to Usage Quotas -\u003e Pipeline tab \u003cbr/\u003e 4. Click on 'Buy additional minutes' \u003cbr/\u003e 5. Fill in quantity and payment details. Submit form | New subscription is created for additional CI minutes purchase using Order's API. Reflects in gitlab.com | :white_check_mark: [Verification link](https://drive.google.com/file/d/1Ii_a7QWgFeZEZgMJmZIapZxH_bNnaSs6/view?usp=sharing) |  |\n| Purchase additional storage (new add-on subscription) | 1. Create a new user on gitlab.com \u003cbr/\u003e 2. Create a group \u003cbr/\u003e 3. Navigate to Usage Quotas -\u003e Storage tab \u003cbr/\u003e 4. Click on 'Buy storage' \u003cbr/\u003e 5. Fill in quantity and payment details. Submit form | New subscription is created for additional storage purchase using Order's API. Reflects in gitlab.com | :white_check_mark: [Verification link](https://drive.google.com/file/d/1HUDdEXxihEOETEsdRU41QT9fFbW7QufC/view?usp=sharing) |  |\n| New OSS SaaS subscription | 1. Generate coupon (refer doc/coupon.md) \u003cbr/\u003e 2. Create a new group gitlab.com \u003cbr/\u003e 3. Sign in CDot via gitlab.com \u003cbr/\u003e 4. Navigate to [Community Program Page for OSS](https://customers.staging.gitlab.com/subscriptions/community_program/new?product=oss) and select `Claim SaaS` \u003cbr/\u003e 5. Select group \u003cbr/\u003e 6. Enter quantity and coupon details \u003cbr/\u003e 7. Purchase subscription  | New subscription is created using Order's API for the quantity specified. Reflects in gitlab.com. Amount is 0. | :white_check_mark: [Verification link](https://drive.google.com/file/d/1uE24F8Q_iLkz_zudLBs9o44od0p7gsQW/view?usp=sharing) |  |\n| New EDU SaaS subscription | 1. Generate coupon (refer doc/coupon.md) \u003cbr/\u003e 2. Create a new group gitlab.com \u003cbr/\u003e 3. Sign in CDot via gitlab.com \u003cbr/\u003e 4. Navigate to [Community Program Page for EDU](https://customers.staging.gitlab.com/subscriptions/community_program/new?product=edu) and select `Claim SaaS`  \u003cbr/\u003e 5. Select group \u003cbr/\u003e 6. Enter quantity and coupon details \u003cbr/\u003e 7. Purchase subscription  | New subscription is created using Order's API for the quantity specified. Reflects in gitlab.com. Amount is 0. | :white_check_mark: [Verification link](https://drive.google.com/file/d/103DnUBkOO5wfByI9kAW796KuM8__qlEO/view?usp=sharing) |  |\n| New OSS self managed subscription | 1. Generate coupon (refer doc/coupon.md) \u003cbr/\u003e 2. Sign in CDot \u003cbr/\u003e 3. Navigate to [Community Program Page for OSS](https://customers.staging.gitlab.com/subscriptions/community_program/new?product=oss) and select `Claim self-managed` \u003cbr/\u003e 4. Enter number of seats \u003cbr/\u003e 5. Enter coupon code \u003cbr/\u003e 6. Purchase subscription  | New subscription is created using Order's API for the quantity specified. Amount is 0. | :white_check_mark: [Verification link](https://drive.google.com/file/d/1Ec95P7F6PeSdcNezEFtfwtL_v8dCKITZ/view?usp=sharing) |  |\n| New EDU self managed subscription | 1. Generate coupon (refer doc/coupon.md) \u003cbr/\u003e 2. Sign in CDot \u003cbr/\u003e 3. Navigate to [Community Program Page for EDU](https://customers.staging.gitlab.com/subscriptions/community_program/new?product=edu) \u003cbr/\u003e 4. Enter number of seats \u003cbr/\u003e 5. Enter coupon code and select `Claim self-managed` \u003cbr/\u003e 6. Purchase subscription  | New subscription is created using Order's API for the quantity specified. Amount is 0. | :white_check_mark: [Verification link](https://drive.google.com/file/d/10Z9LGbw2krfXxbrUxyDZEfRuFPsIwQB_/view?usp=sharing) |  |\n| Amend an existing subscription by purchasing new seats | 1. Create a group \u003cbr/\u003e 2. Upgrade the group to a paid plan \u003cbr/\u003e 3. Update seat quantity  | Verify amendment API is used. \u003cbr/\u003e Seat quantity is updated \u003cbr/\u003e Reflects in gitlab.com, CDot | :white_check_mark: [Verification link](https://drive.google.com/file/d/1opWVVtPxiGvtAxh7crPhWbZem-qxOjW0/view?usp=sharing) |  |\n| Amend an existing subscription by purchasing additional minutes | 1. Create a group and a project within the group. Verify shared runners is enabled (`Settings` -\u003e `CI/CD` -\u003e `Runners`) \u003cbr/\u003e 2. Upgrade the group to a paid plan \u003cbr/\u003e 3. Navigate to `Settings` -\u003e `Usage Quota` (Pipelines tab). \u003cbr/\u003e 4. Click 'Buy additional minutes' \u003cbr/\u003e 5. Fill in quantity and payment details. Submit. | Verify Amendment API is used to purchase additional minutes. \u003cbr/\u003e Additional CI minutes purchased is reflected in gitlab.com, CDot and Zuora | :white_check_mark: [Verification link](https://drive.google.com/file/d/1sBfZNIrZkG05MdnSeKbcugqoxzwtifZj/view?usp=sharing) |  |\n\n### Result\n\n### Next steps (if any)\n\n### How will we measure success?","state":"closed","created_at":"2022-07-20T13:49:26.228Z","updated_at":"2022-10-13T19:59:33.504Z","closed_at":"2022-08-01T16:08:41.038Z","closed_by":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"labels":["[deprecated] Category:Fulfillment Platform","devops::fulfillment","group::fulfillment platform","section::fulfillment","test-plan","type::feature","workflow::production"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"}],"author":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"type":"ISSUE","assignee":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"user_notes_count":13,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4562","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/4562","notes":"https://gitlab.com/api/v4/projects/2670515/issues/4562/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/4562/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#4562","relative":"#4562","full":"gitlab-org/customers-gitlab-com#4562"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8664,"epic":{"id":594034,"iid":8664,"title":"Transition Subscribe() to the Zuora Orders API for new subscriptions","url":"/groups/gitlab-org/-/epics/8664","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":111850600,"iid":4555,"project_id":2670515,"title":"Clean up tracking_subscription_management FF","description":"## Summary\n\nThis issue is to cleanup the `tracking_subscription_management` feature flag, after the feature flag has been enabled by default for an appropriate amount of time in production.\n\nThe feature flag is enabling/disabling frontend and backend tracking for all subscription management events for SaaS and SM subscriptions.\n\n## Owners\n\n- Team: ~25005342  \n- Most appropriate slack channel to reach out to: `#g_billing_and_subscription`\n- Best individual to reach out to: @dzubova\n- PM: @tgolubeva  \n\n## Expectations\n\n### What might happen if this goes wrong?\n\n### Cleaning up the feature flag\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [x] Create a merge request to remove `:tracking_subscription_management` feature flag\n  - [x] Remove all references to the feature flag from the codebase\n- [x] Ensure that the cleanup MR has been deployed to both staging and production\n- [x] Disable the feature flag via the [CustomersDot dashboard](https://gitlab.com/gitlab-org/customers-gitlab-com/-/feature_flags)\n- [x] Ensure production environment is still working as expected\n- [x] Remove the Unleash feature flag from the [CustomersDot dashboard](https://gitlab.com/gitlab-org/customers-gitlab-com/-/feature_flags)","state":"closed","created_at":"2022-07-19T11:49:08.174Z","updated_at":"2023-01-17T17:39:24.839Z","closed_at":"2023-01-17T17:39:24.812Z","closed_by":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"labels":["[deprecated] Category:Billing and Subscription Management","devops::fulfillment","feature flag","frontend","group::billing and subscription management","section::fulfillment","type::maintenance","workflow::complete"],"milestone":{"id":2745648,"iid":83,"group_id":9970,"title":"15.8","description":"","state":"active","created_at":"2022-08-22T16:57:34.875Z","updated_at":"2022-08-22T16:57:34.875Z","due_date":"2023-01-17","start_date":"2022-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/83"},"assignees":[{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"}],"author":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"type":"ISSUE","assignee":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4555","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":6,"completed_count":6},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/4555","notes":"https://gitlab.com/api/v4/projects/2670515/issues/4555/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/4555/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#4555","relative":"#4555","full":"gitlab-org/customers-gitlab-com#4555"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":111843959,"iid":4553,"project_id":2670515,"title":"Flaky spec spec/requests/marketo_request_spec.rb","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n### Problem\n\nThis spec `spec/requests/marketo_request_spec.rb` started failing recently:\n\n* https://gitlab.com/gitlab-org/customers-gitlab-com/-/jobs/2739474113\n* https://gitlab.com/gitlab-org/customers-gitlab-com/-/jobs/2734260310\n\n### Proposal\n\n\u003c!-- Consult with `@gitlab-com/business-technology/enterprise-apps/zuora-architects` on the ~\"Enterprise Applications\" team if Zuora business logic is involved. --\u003e\n\n### Result\n\n### Next steps (if any)\n\n### How will we measure success?","state":"closed","created_at":"2022-07-19T09:44:11.824Z","updated_at":"2022-07-22T17:56:39.571Z","closed_at":"2022-07-21T13:17:02.129Z","closed_by":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"labels":["backend","devops::fulfillment","failure::flaky-test","section::fulfillment","test","type::maintenance","workflow::production"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"}],"author":{"id":447038,"username":"vitallium","name":"Vitaly Slobodin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/74b3243cfcfbfac1f022b78ab505e8d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/vitallium"},"type":"ISSUE","assignee":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"user_notes_count":2,"merge_requests_count":0,"upvotes":4,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4553","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/4553","notes":"https://gitlab.com/api/v4/projects/2670515/issues/4553/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/4553/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#4553","relative":"#4553","full":"gitlab-org/customers-gitlab-com#4553"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":111841337,"iid":4552,"project_id":2670515,"title":"Follow-up from \"Number of users field should default to empty in CP SM purchase flow\"","description":"## Problem\n\nThe following discussion from !5039 should be addressed:\n\n- [ ] @pslaughter started a [discussion](https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/5039#note_1028174844):  (+2 comments)\n\n    \u003e **suggestion (ux):** Could we add a placeholder to the user quantity input? As-is I don't think it's obvious to the user what they are supposed to do. I'm not sure it's even clear this is supposed to be a number :thinking:\n    \u003e \n    \u003e ![Screen_Shot_2022-07-15_at_12.08.50_PM](/uploads/3f76db41b5021e65743a999ec7848533/Screen_Shot_2022-07-15_at_12.08.50_PM.png)\n    \u003e \n    \u003e What do you think @vvempati / @esybrant?\n\n\n## Proposal\n\nAdd a sentence of description to the subscription details section, similar to what we're doing for the standard subscription renewal flow.\n\nFor the technical proposal, see [this comment](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4552#note_1141749523).\n\n\u003cp\u003e\n\u003cdetails\u003e\n\u003csummary\u003eSee how the description looks in the standard subscription renewal flow\u003c/summary\u003e\n\n![image](/uploads/98f4658ab46f78b3da11a7dab3d7f70d/image.png)\n\n\u003c/details\u003e\n\u003c/p\u003e\n\n#### Design\n\n![image](/uploads/110ebecdd06f66b0aeb5f0f3e5dab703/image.png)\n\nCopy:\n\n\u003e\u003e\u003e\n\nIf you've already configured your instance, enter the current number of billable users or greater if you expect more users. If you haven't yet configured your instance, enter the number of users you expect to have.\n\n[Where to find this](/gitlab-org/customers-gitlab-com/-/blob/main/gitlab-org/customers-gitlab-com/-/blob/main/url)\n\n\u003e\u003e\u003e\n\nStyling for the copy should be the same as in the standard subscription renewal flow, see image above in the proposal section.","state":"closed","created_at":"2022-07-19T09:05:04.128Z","updated_at":"2022-11-10T23:24:23.673Z","closed_at":"2022-11-08T21:59:26.731Z","closed_by":{"id":10325315,"username":"vvempati","name":"Vamsi Vempati","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10325315/avatar.png","web_url":"https://gitlab.com/vvempati"},"labels":["Category:Purchase","UX","devops::fulfillment","frontend","group::purchase","section::fulfillment","type::feature","workflow::production"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":10325315,"username":"vvempati","name":"Vamsi Vempati","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10325315/avatar.png","web_url":"https://gitlab.com/vvempati"}],"author":{"id":10325315,"username":"vvempati","name":"Vamsi Vempati","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10325315/avatar.png","web_url":"https://gitlab.com/vvempati"},"type":"ISSUE","assignee":{"id":10325315,"username":"vvempati","name":"Vamsi Vempati","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10325315/avatar.png","web_url":"https://gitlab.com/vvempati"},"user_notes_count":16,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4552","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/4552","notes":"https://gitlab.com/api/v4/projects/2670515/issues/4552/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/4552/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#4552","relative":"#4552","full":"gitlab-org/customers-gitlab-com#4552"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":111820070,"iid":4551,"project_id":2670515,"title":"Replace custom implementation of findByTestId in tests","description":"Created as a follow up to https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4064.\n\nWe currently have 14 instances of this, once https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/5023 is merged we can start replacing these to use the wrapper.","state":"closed","created_at":"2022-07-19T00:31:12.705Z","updated_at":"2023-05-02T13:30:07.429Z","closed_at":"2023-05-02T13:30:07.409Z","closed_by":{"id":10769415,"username":"minahilnichols","name":"Minahil Nichols","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10769415/avatar.png","web_url":"https://gitlab.com/minahilnichols"},"labels":["Unplanned","[deprecated] Category:Billing and Subscription Management","backend","devops::fulfillment","group::billing and subscription management","maintenance::refactor","onboarding","section::fulfillment","type::maintenance","workflow::complete"],"milestone":{"id":2633524,"iid":80,"group_id":9970,"title":"16.0","description":"","state":"active","created_at":"2022-05-30T16:25:25.778Z","updated_at":"2022-05-30T16:25:25.778Z","due_date":"2023-05-17","start_date":"2023-04-18","expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/80"},"assignees":[{"id":10769415,"username":"minahilnichols","name":"Minahil Nichols","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10769415/avatar.png","web_url":"https://gitlab.com/minahilnichols"}],"author":{"id":10769415,"username":"minahilnichols","name":"Minahil Nichols","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10769415/avatar.png","web_url":"https://gitlab.com/minahilnichols"},"type":"ISSUE","assignee":{"id":10769415,"username":"minahilnichols","name":"Minahil Nichols","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10769415/avatar.png","web_url":"https://gitlab.com/minahilnichols"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4551","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/4551","notes":"https://gitlab.com/api/v4/projects/2670515/issues/4551/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/4551/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#4551","relative":"#4551","full":"gitlab-org/customers-gitlab-com#4551"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":111667320,"iid":4538,"project_id":2670515,"title":"Update new account custom fields to use snake case","description":"The following discussion from !4989 should be addressed:\n\n- [x] @jagood started a [discussion](https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/4989#note_1025656052):  (+3 comments)\n\n    \u003e I wonder if it might look better to have a more descriptive function name for this that might give a clue as to why we're doing this?\n    \u003e \n    \u003e ```ruby\n    \u003e def subscription_params\n    \u003e   return unless args.key?(:subscriptions)\n    \u003e \n    \u003e   args.fetch(:subscriptions).map { |subscription| prep_custom_fields!(subscription) }\n    \u003e \n    \u003e   camelize_params(:subscriptions)\n    \u003e end\n    \u003e \n    \u003e def prep_custom_fields!(params)\n    \u003e   params[:custom_fields].deep_transform_keys!(\u0026:capitalize)\n    \u003e end\n    \u003e ```\n    \u003e \n    \u003e Hmmm, I'm not sure.  That might not help.  :thinking: \n    \u003e \n    \u003e On a related note, is the `custom_fields` key of the `subscriptions` the only place we'll ever have to worry about this?  If not, I wonder about solving this for the general case in `camelize_params`.  Maybe something kind of like...\n    \u003e \n    \u003e ```ruby\n    \u003e def camelize_params(parameter)\n    \u003e   return unless args.key?(parameter.to_sym)\n    \u003e \n    \u003e   params = prep_custom_fields(args.fetch(parameter.to_sym))\n    \u003e \n    \u003e   IronBank::Object.new(params).deep_camelize(type: :lower)\n    \u003e end\n    \u003e \n    \u003e def prep_custom_fields(params)\n    \u003e   case params\n    \u003e   when Array\n    \u003e     params.map { |i| prep_custom_fields(i) }\n    \u003e   when Hash\n    \u003e     params.deep_transform_keys { |k| k.end_with?('__c') ? k.capitalize : k }\n    \u003e   else\n    \u003e     params\n    \u003e   end\n    \u003e end\n    \u003e ```\n    \u003e \n    \u003e That may still need some work.\n    \u003e \n    \u003e But if we did this, then we wouldn't change line 25.\n\nMore specifically, [new account custom fields](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/main/app/services/zuora/orders/custom_fields/new_account.rb#L15) need to be updated to snake case:\n\n\u003e On a related note, is the `custom_fields` key of the `subscriptions` the only place we'll ever have to worry about this?\n\n### Proposal\n\nConvert `SSPChannel__c` and `Entity__c` to `s_s_p_channel__c` and `entity__c` respectively.","state":"closed","created_at":"2022-07-14T23:42:02.885Z","updated_at":"2022-08-31T17:45:56.401Z","closed_at":"2022-07-20T14:29:21.063Z","closed_by":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"labels":["[deprecated] Category:Fulfillment Platform","backend","devops::fulfillment","group::fulfillment platform","section::fulfillment","type::maintenance","workflow::production"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"}],"author":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"type":"ISSUE","assignee":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4538","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":1},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/4538","notes":"https://gitlab.com/api/v4/projects/2670515/issues/4538/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/4538/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#4538","relative":"#4538","full":"gitlab-org/customers-gitlab-com#4538"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8664,"epic":{"id":594034,"iid":8664,"title":"Transition Subscribe() to the Zuora Orders API for new subscriptions","url":"/groups/gitlab-org/-/epics/8664","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":111652649,"iid":4536,"project_id":2670515,"title":"Document Order services architecture","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n### Problem\n\nAs part of the [Orders API upgrade](https://gitlab.com/groups/gitlab-org/-/epics/6438) efforts, we've implemented a design pattern to structure the Order related services.\n\n- `OrderManagerService` as the entry point for triggering a request to create an order. Based on the type of order operation (such as creating a new subscription, renewing, cancelling a subscription, updating a product, etc.), the `OrderManagerService` internally invokes the `order action` services that generate the parameters required to perform the operation\n- `orders/actions` contain services pertaining to order actions\n- `orders/entities` construct particular entity object (that can be shared and re-used by multiple order actions). For e.g. `NewAccount`, `RatePlan` object.\n- `orders/custom_fields` generate custom fields for subscription, account, orders\n\n![Orders_architecture](/uploads/176e6dca1af16f64ac2cd8b696d1b151/Orders_architecture.jpg)\n\n\n\n### Proposal\n\n\u003c!-- Consult with `@gitlab-com/business-technology/enterprise-apps/zuora-architects` on the ~\"Enterprise Applications\" team if Zuora business logic is involved. --\u003e\n\nDocument the design choice, approach, and implementation details.\n\n### Result\n\n### Next steps (if any)\n\n### How will we measure success?","state":"closed","created_at":"2022-07-14T17:00:54.391Z","updated_at":"2022-12-07T17:12:26.077Z","closed_at":"2022-12-07T17:12:26.026Z","closed_by":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"labels":["[deprecated] Category:Fulfillment Platform","devops::fulfillment","docs-only","group::fulfillment platform","maintenance::workflow","missed:15.5","missed:15.6","section::fulfillment","type::maintenance","workflow::production"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"}],"author":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"type":"ISSUE","assignee":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4536","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/4536","notes":"https://gitlab.com/api/v4/projects/2670515/issues/4536/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/4536/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#4536","relative":"#4536","full":"gitlab-org/customers-gitlab-com#4536"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6438,"epic":{"id":313961,"iid":6438,"title":"Upgrade CustomersDot to Zuora Orders API","url":"/groups/gitlab-org/-/epics/6438","group_id":9970,"human_readable_end_date":"Jan 31, 2023","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":111622394,"iid":4527,"project_id":2670515,"title":"Hard to read link in error message","description":"### Problem\n\nAfter enabling Strict Cloud License, the license for cloud licenses is no longer available for download. When attempting to download it via a direct url call by visiting `/licenses/\u003csubscription name of a cloud license\u003e`, an error message is displayed after the redirect. The error message contains a link to the Support team that is rendered in a white color, making it hard to read on the light red background:\n\n![Screen_Shot_2022-07-06_at_2.36.12_PM](/uploads/b2eb2f37eb081a903d95c8e633ccab1b/Screen_Shot_2022-07-06_at_2.36.12_PM.png)\n\nThis may also happen with other error messages too.\n\n### Proposal\n\nChange the color of the link to something more readable.\n\n### Result\n\nEasier readable link in the error message.","state":"closed","created_at":"2022-07-14T07:29:48.137Z","updated_at":"2022-09-10T11:32:28.446Z","closed_at":"2022-09-10T11:32:16.265Z","closed_by":{"id":4961018,"username":"mlunoe","name":"Michael Lunøe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4961018/avatar.png","web_url":"https://gitlab.com/mlunoe"},"labels":["[deprecated] Category:Provision","devops::fulfillment","frontend","group::provision","section::fulfillment","severity::3","type::bug","workflow::staging"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":4961018,"username":"mlunoe","name":"Michael Lunøe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4961018/avatar.png","web_url":"https://gitlab.com/mlunoe"}],"author":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"type":"ISSUE","assignee":{"id":4961018,"username":"mlunoe","name":"Michael Lunøe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4961018/avatar.png","web_url":"https://gitlab.com/mlunoe"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4527","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/4527","notes":"https://gitlab.com/api/v4/projects/2670515/issues/4527/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/4527/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#4527","relative":"#4527","full":"gitlab-org/customers-gitlab-com#4527"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":111609161,"iid":4526,"project_id":2670515,"title":"Use Order manager service to create subscriptions initiated from marketplace","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n### Problem\n\nSupport marketplace attributes when creating a new subscription using Orders API.\nLooking at `Marketplace::CreateSubscriptionService`, it appears the following attributes need to be supported:\n\n```\nexternal_subscription_id\ntrading_partner_id\nfulfillment_distributor\nlead_source\nunit_price (products -\u003e main)\n```\n\n### Proposal\n\n\u003c!-- Consult with `@gitlab-com/business-technology/enterprise-apps/zuora-architects` on the ~\"Enterprise Applications\" team if Zuora business logic is involved. --\u003e\n\nThis issue entails the following three steps:\n\n- [x] Identify the corresponding parameters in Orders API\n- [x] Include the attributes in `Zuora::Orders::OrderManagerService` or `Zuora::Orders::Actions::CreateSubscription` as appropriate (based on whether it is an order param or subscription param). Create entities if need be.\n- [x] Allow Marketplace subscriptions to be created via Orders API ([remove the eligibility `false` condition when  the request is initiated from marketplace](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/6ef9daf015f8a7e748195917f0fec0ee82966cf9/app/services/zuora/orders/feature_availability.rb#L17): depends on https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/5058 to be merged)\n\n### Result\n\nMarketplace subscriptions use Orders API to create subscriptions instead of Subscribe API.","state":"closed","created_at":"2022-07-13T22:27:08.135Z","updated_at":"2022-09-01T14:07:12.952Z","closed_at":"2022-09-01T02:22:50.470Z","closed_by":{"id":4098809,"username":"qzhaogitlab","name":"Qingyu Zhao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4098809/avatar.png","web_url":"https://gitlab.com/qzhaogitlab"},"labels":["[deprecated] Category:Fulfillment Platform","backend","devops::fulfillment","feature::addition","group::fulfillment platform","section::fulfillment","type::feature","workflow::in review"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":4098809,"username":"qzhaogitlab","name":"Qingyu Zhao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4098809/avatar.png","web_url":"https://gitlab.com/qzhaogitlab"}],"author":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"type":"ISSUE","assignee":{"id":4098809,"username":"qzhaogitlab","name":"Qingyu Zhao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4098809/avatar.png","web_url":"https://gitlab.com/qzhaogitlab"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4526","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":3},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/4526","notes":"https://gitlab.com/api/v4/projects/2670515/issues/4526/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/4526/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#4526","relative":"#4526","full":"gitlab-org/customers-gitlab-com#4526"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8664,"epic":{"id":594034,"iid":8664,"title":"Transition Subscribe() to the Zuora Orders API for new subscriptions","url":"/groups/gitlab-org/-/epics/8664","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":111517772,"iid":4517,"project_id":2670515,"title":"Update Unified Email template for SCL","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n### Problem\nIt's been discovered that the unified email template ([text version](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/b0767104a78c6e573e93b55fbbf105c5d0d8b1b3/app/views/unified_license_mailer/license_information_email.text.erb#L30-31) and [html version](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/b0767104a78c6e573e93b55fbbf105c5d0d8b1b3/app/views/unified_license_mailer/license_information_email.html.haml#L51-52)) currently still has text that is no longer relevant after the launch of strict cloud licensing, specifically directing customers to download their license from the Customers Portal, where it is no longer available.\n\nThis can result in a confusing customer experience.\n\n\n\n### Proposal\nUpdate the email template text as stated below.\n\n**Current Template:**\n\n```erb\n### Unable to use the activation code?\n\nIf you have an offline or air gapped environment, or you're unable to upgrade to 14.1 and later, you cannot use the activation code.\n\n* If you purchased directly from GitLab, download your license from the Customers Portal.\n  \u003c%= subscriptions_url %\u003e\n* If you purchased from a reseller, submit a support ticket to receive your license.\n  https://support.gitlab.com/hc/en-us/requests/new\n\n```\n\n**Proposed Template:**\n\n```\n### Offline or air gapped instance?\n\nIf you have an offline or air gapped environment, you must use an offline license file or key. To request an offline license, submit a support ticket, https://support.gitlab.com/hc/en-us/requests/new\n```","state":"closed","created_at":"2022-07-12T14:40:17.030Z","updated_at":"2022-07-21T12:05:09.502Z","closed_at":"2022-07-19T10:50:59.386Z","closed_by":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"labels":["Technical Writing","Unplanned","[deprecated] Category:Provision","[deprecated] 🍎","backend","devops::fulfillment","group::provision","missed:15.2","section::fulfillment","severity::2","type::maintenance","workflow::production"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"}],"author":{"id":7964536,"username":"courtmeddaugh","name":"Courtney Meddaugh","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7964536/avatar.png","web_url":"https://gitlab.com/courtmeddaugh"},"type":"ISSUE","assignee":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4517","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/4517","notes":"https://gitlab.com/api/v4/projects/2670515/issues/4517/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/4517/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#4517","relative":"#4517","full":"gitlab-org/customers-gitlab-com#4517"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8376,"epic":{"id":566044,"iid":8376,"title":"Customer Mailer for Subscription Updates when Cloud License is Activated","url":"/groups/gitlab-org/-/epics/8376","group_id":9970,"human_readable_end_date":"Sep 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":111030070,"iid":4498,"project_id":2670515,"title":"Set invoice owner for marketplace","description":"## Problem statement\n\nFor subscriptions originating from marketplace, the invoice owner needs to be set to be explicitly set ([reference](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/22a611f9c8795a7d9b7796c302bbbfee2cdf6650/app/services/subscribe_service.rb#L138)). This needs to be incorporated in the Orders API workflow.\n\n## Proposed solution\n\n@qzhaogitlab helped investigating a way to set the invoice owner using the [Change owner of subscription](https://knowledgecenter.zuora.com/Billing/Subscriptions/Orders/AC_Orders_Tutorials/C_Change_the_Owner_of_a_Subscription#Use_the_REST_API) Order action.\n\nFrom https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/5011#note_1013232946:\n\nPer some Zuora documentation, I tend to think this is not possible.\n\n* from [Preview an order](https://www.zuora.com/developer/api-reference/?_ga=2.258925834.1822949724.1656638338-1336953299.1647685508\u0026_gl=1*1h2399g*_ga*MTMzNjk1MzI5OS4xNjQ3Njg1NTA4*_ga_MY8CQ650DH*MTY1NjY2NDQ4MC40OC4xLjE2NTY2NjQ5NDIuMA..#operation/POST_PreviewOrder) section, it says:\n\n\u003e existingAccountNumber string \u003c= 70 characters The account number that this order will be created under. It can be either the accountNumber or the account info. It will return an error if both are specified. Note that invoice owner account of the subscriptions included in this order should be the same with the account of the order.\n\n* from [Create an order](https://www.zuora.com/developer/api-reference/?_ga=2.258925834.1822949724.1656638338-1336953299.1647685508\u0026_gl=1*1h2399g*_ga*MTMzNjk1MzI5OS4xNjQ3Njg1NTA4*_ga_MY8CQ650DH*MTY1NjY2NDQ4MC40OC4xLjE2NTY2NjQ5NDIuMA..#operation/POST_Order), it says:\n\n\u003e existingAccountNumber string \u003c= 70 characters The account number that this order will be created under. It can be either the accountNumber or the account info provided. It will return an error if both are specified. Note that this actually specifies the invoice owner account of the subscriptions included in this order.\n\n\u003e newAccount object (Account) The information of the new account to be created with the order. Note that this actually specifies the invoice owner account of the subscriptions included in this order. To create the new account, either a creditCard structure or the hpmCreditCardPaymentMethodId field (but not both) should be provided. The one provided becomes the default payment method for this account. If the credit card information is declined or can't be verified, then the account is not created.\n\n* from [Overview of orders](https://knowledgecenter.zuora.com/Billing/Subscriptions/Orders/AA_Overview_of_Orders), it says:\n\n\u003e The following components represent an Order:\n\u003e\n\u003e Order A contractual agreement between a merchant and a customer. One order can affect multiple subscriptions and order line items which belong to the same invoice owner account. These subscriptions and order line items can be owned by multiple customers.\n\nFrom the above documentations, it sounds to me, both `preview order` and `create order` do NOT allow setting `invoice account` explicitly (Zuora will set the `invoice account` to the same value as `subscription owner account` by default).\n\nSo I think, for the marketplace `invoice owner` setting, we will have to create another Order to [change the subscription owner](https://knowledgecenter.zuora.com/Billing/Subscriptions/Orders/AC_Orders_Tutorials/C_Change_the_Owner_of_a_Subscription#Use_the_REST_API). I had a quick try, it works:\n\n```\n[173] pry(#\u003cZuora::Orders::OrderManagerService\u003e)\u003e transfer_owner_params\n=\u003e {:order_date=\u003eFri, 01 Jul 2022,\n :existing_account_number=\u003e\"A00518100\",\n :subscriptions=\u003e\n  [{:subscription_number=\u003e\"A-S00216818\",\n    :order_actions=\u003e\n     [{:type=\u003e\"OwnerTransfer\",\n       :trigger_dates=\u003e\n        [{:name=\u003e\"ContractEffective\", :trigger_date=\u003eFri, 01 Jul 2022},\n         {:name=\u003e\"ServiceActivation\", :trigger_date=\u003eFri, 01 Jul 2022},\n         {:name=\u003e\"CustomerAcceptance\", :trigger_date=\u003eFri, 01 Jul 2022}],\n       :owner_transfer=\u003e{:destination_invoice_account_number=\u003e\"A00005485\"}}]}]}\n[174] pry(#\u003cZuora::Orders::OrderManagerService\u003e)\u003e test_transfer_owner = Zuora::Orders::Create.perform_now(transfer_owner_params)\n[ActiveJob] [Zuora::Orders::Create] [e68e488d-ac65-4825-ba33-7f00437cfdfe] Performing Zuora::Orders::Create (Job ID: e68e488d-ac65-4825-ba33-7f00437cfdfe) from Sidekiq(zuora) enqueued at  with arguments: {:order_date=\u003eFri, 01 Jul 2022, :existing_account_number=\u003e\"A00518100\", :subscriptions=\u003e[{:subscription_number=\u003e\"A-S00216818\", :order_actions=\u003e[{:type=\u003e\"OwnerTransfer\", :trigger_dates=\u003e[{:name=\u003e\"ContractEffective\", :trigger_date=\u003eFri, 01 Jul 2022}, {:name=\u003e\"ServiceActivation\", :trigger_date=\u003eFri, 01 Jul 2022}, {:name=\u003e\"CustomerAcceptance\", :trigger_date=\u003eFri, 01 Jul 2022}], :owner_transfer=\u003e{:destination_invoice_account_number=\u003e\"A00005485\"}}]}]}\n[ActiveJob] [Zuora::Orders::Create] [e68e488d-ac65-4825-ba33-7f00437cfdfe] Performed Zuora::Orders::Create (Job ID: e68e488d-ac65-4825-ba33-7f00437cfdfe) from Sidekiq(zuora) in 4939.16ms\n=\u003e {:success=\u003etrue,\n :order_number=\u003e\"O-00135400\",\n :account_number=\u003e\"A00518100\",\n :status=\u003e\"Completed\",\n :subscription_numbers=\u003e[\"A-S00216818\"]}\n```","state":"closed","created_at":"2022-07-01T14:54:11.332Z","updated_at":"2022-08-31T17:46:04.162Z","closed_at":"2022-08-09T11:15:10.419Z","closed_by":{"id":4098809,"username":"qzhaogitlab","name":"Qingyu Zhao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4098809/avatar.png","web_url":"https://gitlab.com/qzhaogitlab"},"labels":["[deprecated] Category:Fulfillment Platform","backend","devops::fulfillment","group::fulfillment platform","section::fulfillment","type::maintenance","workflow::in review"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":4098809,"username":"qzhaogitlab","name":"Qingyu Zhao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4098809/avatar.png","web_url":"https://gitlab.com/qzhaogitlab"}],"author":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"type":"ISSUE","assignee":{"id":4098809,"username":"qzhaogitlab","name":"Qingyu Zhao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4098809/avatar.png","web_url":"https://gitlab.com/qzhaogitlab"},"user_notes_count":16,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4498","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/4498","notes":"https://gitlab.com/api/v4/projects/2670515/issues/4498/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/4498/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#4498","relative":"#4498","full":"gitlab-org/customers-gitlab-com#4498"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8664,"epic":{"id":594034,"iid":8664,"title":"Transition Subscribe() to the Zuora Orders API for new subscriptions","url":"/groups/gitlab-org/-/epics/8664","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":111007464,"iid":4497,"project_id":2670515,"title":"Add feature tests for form submit preventing logic","description":"We want to make sure the newly added logic that prevents the form from being submitted when emojis are present is also tested at the integration level.\n\nThe reason is that while the unit test [in here](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/main/spec/frontend/sessions/register_form_spec.js#L134) gives some confidence about the Register form behaviour, (as [suggested](https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/4887#note_1012878978)) an integration test would yield a result closer to the real-life behaviour.\n\n### Proposed solution\n\nIt should be sufficient to add an expectation to the current set of tests [here](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/main/spec/features/customer_sign_up_spec.rb).\n\n### Proposed number of MRs\n\n|Description|MR\n|-|-|\n| Add feature specs | 1 |","state":"closed","created_at":"2022-07-01T08:03:47.966Z","updated_at":"2022-08-29T17:15:48.084Z","closed_at":"2022-07-22T15:22:38.653Z","closed_by":{"id":4903695,"username":"shreyasagarwal","name":"Shreyas Agarwal","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d5b09dfe06a10d119c1b2043c43de680?s=80\u0026d=identicon","web_url":"https://gitlab.com/shreyasagarwal"},"labels":["Category:Purchase","backend","devops::fulfillment","frontend","group::purchase","maintenance::test-gap","onboarding","section::fulfillment","type::maintenance","workflow::production"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":4903695,"username":"shreyasagarwal","name":"Shreyas Agarwal","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d5b09dfe06a10d119c1b2043c43de680?s=80\u0026d=identicon","web_url":"https://gitlab.com/shreyasagarwal"},{"id":11257463,"username":"bhrai","name":"Bishwa Hang Rai","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11257463/avatar.png","web_url":"https://gitlab.com/bhrai"}],"author":{"id":6348276,"username":"agulina","name":"Angelo Gulina","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b28693a558066993ea93b7272208d285?s=80\u0026d=identicon","web_url":"https://gitlab.com/agulina"},"type":"ISSUE","assignee":{"id":4903695,"username":"shreyasagarwal","name":"Shreyas Agarwal","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d5b09dfe06a10d119c1b2043c43de680?s=80\u0026d=identicon","web_url":"https://gitlab.com/shreyasagarwal"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4497","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/4497","notes":"https://gitlab.com/api/v4/projects/2670515/issues/4497/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/4497/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#4497","relative":"#4497","full":"gitlab-org/customers-gitlab-com#4497"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":113533122,"iid":4688,"project_id":2670515,"title":"Remove cloud compatible check and add GitLab EE check","description":"## Background\nCurrently, cloud license activation codes are generated only when a customer is \"eligible\". Eligibility is systematically determined based on the status \"Super Sonics\" fields:\n\n* An activation code (`cloud activation`) will be created for a SM plan [here](https://gitlab.com/gitlab-org/customers-gitlab-com/blob/8baa35bbd603bf60a75a6981da4f1fbb70abe934/app/workers/zuora_callback_worker.rb#L21) if the following conditions are fulfilled (see [this method](https://gitlab.com/gitlab-org/customers-gitlab-com/blob/fe7feb2659aff9cd2bf60e998e91c042462a29c8/app/models/subscription.rb#L401)):\n   * A cloud license can be activated ([code](https://gitlab.com/gitlab-org/customers-gitlab-com/blob/fe7feb2659aff9cd2bf60e998e91c042462a29c8/app/models/subscription.rb#L461)) which means one of the following condition should be true:\n     * the subscription was self serviced (subscription bought via CustomersDot)\n     * `ContractSeatReconciliation__c` is not `null`\n     * `ContractAutoRenew__c` is not `null`\n     * `ContractOperationalMetrics__c` is not `null`\n\n   * The subscription is cloud compatible ([code](https://gitlab.com/gitlab-org/customers-gitlab-com/blob/d1f1aac64a4b6cb99bbf47838d1fde5116b6468b/lib/zuora/subscription.rb#L47)) which means `TurnOnSeatReconciliation__c` is present.\nIf the above is met, the customer will receive either the unified mailer or the activation code mailer, and also have the option to copy the activation code from the subscription in CustomersDot. If not, we are assuming the customer is on the old terms (purchase completed prior to 2022-08-01), and not creating or providing an activation code.\n\n## Proposal\nRemove the dependency on the Super Sonics fields in order to generate a cloud license. Instead, generate an activation code for all customers where `TurnOnCloudLicensing` is not = `No`.\n\nSpecifically, remove the following conditions:\n\n* Remove check for subscription is cloud compatible ([code](https://gitlab.com/gitlab-org/customers-gitlab-com/blob/d1f1aac64a4b6cb99bbf47838d1fde5116b6468b/lib/zuora/subscription.rb#L47))\n  * Refactor logic around [SubscriptionCloudCompatibleVersionFinder](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/8260397dabda85e49c6b7642892c9fd83496fa63/lib/subscription_cloud_compatible_version_finder.rb) \u0026 rename\n\n* When removing the cloud license compatible check on manual offline cloud license creation ([code](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/fbeeb5178fe0f004d18e772b70af7b271fcb74ba/app/services/rails_admin/create_license_service.rb#L154)), add a condition that checks the license belongs to a GitLab EE plan now as an extra safety \n\n## Why \nThere is a bug in SFDC that is resulting in the Super Sonics fields occasionally being cleared out. Details of this issue are captured [here](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4599) and we are working with Sales Systems to correct this problem as part of this epic: https://gitlab.com/groups/gitlab-com/-/epics/1886.\n* ~~This is reducing adoption of Cloud Licensing as these customers are receiving only the Legacy mailer (which does NOT have an activation code) and they cannot access the activation code from within CustomersDot~~\n* This is actually causing customers to receive the activation code mailer _without_ a cloud license attached, which is a terrible customer experience, and could result in us recognizing revenue at the wrong time.\n\nIn looking at New and Renewal quotes created after 2022-08-01, about 390 have these fields blanked out.\n\n|   Quote Status          |  TurnOnSeatReconciliation__c  |   # of Primary Quotes    |\n|-------------------------|-----------------------------|-------|\n| New                     | No                          | 2038  |\n|   New                      | Yes                         | 1112  |\n|   New                      | (blank)                     | 82    |\n| **New Total**               |                             | **3232**  |\n| Sent to Z-Billing       | No                          | 4774  |\n|  Sent to Z-Billing                       | Yes                         | 3417  |\n|   Sent to Z-Billing                      | (blank)                     | 305   |\n| **Sent to Z-Billing Total** |                             | **8496**  |\n| **Grand Total**            |                             | **11728** |\n\n\n\u003cdetails\u003e\u003csummary\u003eExample reported in Slack\u003c/summary\u003e\nhttps://gitlab.slack.com/archives/C018C623KBJ/p1656623411693169\n![image](/uploads/7f285a97705b946eb410eedd7c32a9f0/image.png)\n\u003c/details\u003e\n\nThis also impacts their Customer Portal experience and prevents the customer from accessing their activation code there, so these customers are then downloading legacy licenses from the portal and activating with that. Example of this reported here: https://gitlab.com/gitlab-org/fulfillment-meta/-/issues/459#note_1064490965\n\n### Availability \u0026 Testing\n\n\u003c!-- This section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\nWhat risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning --\u003e\n\nEnsure sufficient test coverage is added to account for these different permutations and conditions..","state":"closed","created_at":"2022-06-30T22:16:58.442Z","updated_at":"2022-09-23T11:53:12.374Z","closed_at":"2022-09-01T07:02:02.387Z","closed_by":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"labels":["[deprecated] Category:Provision","backend","devops::fulfillment","group::provision","priority::2","quad-planning::complete-action","section::fulfillment","type::maintenance","workflow::production"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"}],"author":{"id":7964536,"username":"courtmeddaugh","name":"Courtney Meddaugh","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7964536/avatar.png","web_url":"https://gitlab.com/courtmeddaugh"},"type":"ISSUE","assignee":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"user_notes_count":21,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4688","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/4688","notes":"https://gitlab.com/api/v4/projects/2670515/issues/4688/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/4688/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#4688","relative":"#4688","full":"gitlab-org/customers-gitlab-com#4688"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8612,"epic":{"id":586296,"iid":8612,"title":"Refactor activation code logic","url":"/groups/gitlab-org/-/epics/8612","group_id":9970,"human_readable_end_date":"Oct 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":110988232,"iid":4496,"project_id":2670515,"title":"Custom fields for new Zuora account","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n### Problem\n\nhttps://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/4961 introduced the following custom attributes: `SSPChannel__c` and `Entity__c` and set `IsInvoiceSeparate = true` for all Marketplace subscriptions.\n\nThis change needs to be incorporated for Orders API.\n\n### Proposal\n\n\u003c!-- Consult with `@gitlab-com/business-technology/enterprise-apps/zuora-architects` on the ~\"Enterprise Applications\" team if Zuora business logic is involved. --\u003e\n\nCreate custom attributes service class for New account and set the values appropriately. Consider moving the methods to subscription helper class.\n\n\n### Result\n\nThe newly introduced custom attributes are set in the Orders workflow.","state":"closed","created_at":"2022-06-30T21:36:03.037Z","updated_at":"2022-08-31T17:45:24.974Z","closed_at":"2022-07-19T07:03:43.864Z","closed_by":{"id":273486,"username":"jameslopez","name":"James Lopez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/273486/avatar.png","web_url":"https://gitlab.com/jameslopez"},"labels":["[deprecated] Category:Fulfillment Platform","devops::fulfillment","group::fulfillment platform","section::fulfillment","type::feature","workflow::production"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"}],"author":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"type":"ISSUE","assignee":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4496","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/4496","notes":"https://gitlab.com/api/v4/projects/2670515/issues/4496/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/4496/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#4496","relative":"#4496","full":"gitlab-org/customers-gitlab-com#4496"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8664,"epic":{"id":594034,"iid":8664,"title":"Transition Subscribe() to the Zuora Orders API for new subscriptions","url":"/groups/gitlab-org/-/epics/8664","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":110942114,"iid":4494,"project_id":2670515,"title":"Missing condition when creating missing cloud activation in admin area","description":"### Problem\n\nWhile looking into the code logic for the cloud activation creation, it was found that the checks for the automatic workflow (when a subscription callback comes from Zuora to CustomersDot) differ from the ones in place for the admin area workflow to create a missing cloud activation.\n\nThe automatic workflow [checks](https://gitlab.com/gitlab-org/customers-gitlab-com/blob/bd99d8091d28f26aa62eec6578495da0a3ee9cbd/app/models/subscription.rb#L416-418) three conditions:\n1. Does the subscription have a GitLab EE plan? ([code](https://gitlab.com/gitlab-org/customers-gitlab-com/blob/bd99d8091d28f26aa62eec6578495da0a3ee9cbd/app/models/subscription.rb#L190))\n2. Is the subscription cloud license compatible? ([code](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/bd99d8091d28f26aa62eec6578495da0a3ee9cbd/lib/zuora/subscription.rb#L47))\n   * `TurnOnSeatReconciliation__c` is set\n3. Can the subscription be cloud license activated? ([code](https://gitlab.com/gitlab-org/customers-gitlab-com/blob/bd99d8091d28f26aa62eec6578495da0a3ee9cbd/app/models/subscription.rb#L475)) Which requires one of the following condition to return `true`:\n   * the subscription was self serviced (subscription bought via CustomersDot)\n   * `ContractSeatReconciliation__c` is not `null`\n   * `ContractAutoRenew__c` is not `null`\n   * `ContractOperationalMetrics__c` is not `null`\n\nThe admin area workflow [checks](https://gitlab.com/gitlab-org/customers-gitlab-com/blob/bd99d8091d28f26aa62eec6578495da0a3ee9cbd/app/models/subscription.rb#L440-441) contain the checks from 1. and 2. but are missing 3. \n\n### Proposal\n\nAlign both workflows to do the same checks to ensure a cloud activation can only be created for eligible subscriptions. To do this, the [checks](https://gitlab.com/gitlab-org/customers-gitlab-com/blob/bd99d8091d28f26aa62eec6578495da0a3ee9cbd/app/models/subscription.rb#L440-441) for the admin area workflow have to contain the check for a subscription to be cloud license activated ([code](https://gitlab.com/gitlab-org/customers-gitlab-com/blob/bd99d8091d28f26aa62eec6578495da0a3ee9cbd/app/models/subscription.rb#L475)).\n\nTo ensure later modifications will be applied to both workflows, the three checks could be moved to their own method to be easily reused in the two workflows.\n\n### Result\n\nThe automatic workflow and the admin area workflow are aligned with the checks for eligible subscriptions when checking if a cloud activation needs to be created.","state":"closed","created_at":"2022-06-30T07:31:17.350Z","updated_at":"2022-09-08T07:16:35.426Z","closed_at":"2022-09-07T22:40:26.348Z","closed_by":{"id":7964536,"username":"courtmeddaugh","name":"Courtney Meddaugh","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7964536/avatar.png","web_url":"https://gitlab.com/courtmeddaugh"},"labels":["[deprecated] Category:Provision","backend","devops::fulfillment","group::provision","priority::4","section::fulfillment","type::maintenance","workflow::ready for development"],"milestone":null,"assignees":[],"author":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"type":"ISSUE","assignee":null,"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4494","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/4494","notes":"https://gitlab.com/api/v4/projects/2670515/issues/4494/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/4494/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#4494","relative":"#4494","full":"gitlab-org/customers-gitlab-com#4494"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8187,"epic":{"id":539233,"iid":8187,"title":"Strict Cloud Licensing Follow-Up Requests","url":"/groups/gitlab-org/-/epics/8187","group_id":9970,"human_readable_end_date":"Mar 17, 2023","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":110930718,"iid":4493,"project_id":2670515,"title":"Revert PaymentTerm setting for Marketplace Zuora account","description":"### Problem\n\nPer [this discussion](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4081#note_1011074254): we do not need to set Marketplace end user Zuora account `PaymentTerm` differently.\n\n\u003e the payment term only needs to be set on the Invoice Owner Account (Arrowsphere: Net 30 EOM). The payment term of the end user is irrelevant.\n\n### Proposal\n\nTo clean up the code logic, we should revert related changes:\n- https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/55a49713a3cd40a12e1334f7ba7fae4d6b5ffae2/app/services/zuora/helpers/subscription.rb#L24-29\n- https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/55a49713a3cd40a12e1334f7ba7fae4d6b5ffae2/app/services/zuora/helpers/subscription.rb#L45-49\n\nAfter revert, all paymentTerm will be the default value `DEFAULT_PAYMENT_TERM = 'Due Upon Receipt'`\n\n### Result\n\n### Next steps (if any)\n\n### How will we measure success?","state":"closed","created_at":"2022-06-30T01:06:40.886Z","updated_at":"2022-07-19T07:00:33.791Z","closed_at":"2022-07-19T07:00:33.768Z","closed_by":{"id":273486,"username":"jameslopez","name":"James Lopez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/273486/avatar.png","web_url":"https://gitlab.com/jameslopez"},"labels":["[deprecated] Category:Fulfillment Platform","[deprecated] 🍎","backend","devops::fulfillment","eDisty","group::fulfillment platform","section::fulfillment","type::bug","workflow::production"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":11217480,"username":"tvellishetty","name":"Tarun Vellishetty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11217480/avatar.png","web_url":"https://gitlab.com/tvellishetty"}],"author":{"id":4098809,"username":"qzhaogitlab","name":"Qingyu Zhao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4098809/avatar.png","web_url":"https://gitlab.com/qzhaogitlab"},"type":"ISSUE","assignee":{"id":11217480,"username":"tvellishetty","name":"Tarun Vellishetty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11217480/avatar.png","web_url":"https://gitlab.com/tvellishetty"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4493","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/4493","notes":"https://gitlab.com/api/v4/projects/2670515/issues/4493/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/4493/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#4493","relative":"#4493","full":"gitlab-org/customers-gitlab-com#4493"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6873,"epic":{"id":365061,"iid":6873,"title":"Integrate with Distributor e-Marketplace (Arrowsphere) to create and provision orders","url":"/groups/gitlab-org/-/epics/6873","group_id":9970,"human_readable_end_date":"Nov 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":110918001,"iid":4491,"project_id":2670515,"title":"Set correct Terms of Service for Community program subscription renewal","description":"## Problem\n\nSimilar to https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3185+, we should set correct subscription fields when Community Programs subscription renews, but ONLY if these fields have not been set already.\n\nIf the following fields are already set (from when the new subscription was created), do not change them.\n\n## Proposal\n\nUpdate fields according to this logic\n\n### For SaaS\n\n- `ContractAutoRenew__c` = No\n- `TurnOnAutoRenew__c` = No\n- `ContractSeatReconciliation__c` = No\n- `TurnOnSeatReconciliation__c` = No\n\n\n### For SM\n\n- `ContractAutoRenew__c` = No\n- `TurnOnAutoRenew__c` = No\n- `ContractSeatReconciliation__c` = No\n- `TurnOnSeatReconciliation__c` = No\n- `TurnOnCloudLicensing__c` = No\n- `ContractOperationalMetrics__c` = No\n- `TurnOnOperationalMetrics__c` = No\n\n### Result\n\n### Next steps (if any)\n\n### How will we measure success?\n\n---\n\n**Iteration MR/Issues Count:** 1\n\n**Testing considerations:**\n\n* Check community program renewals callback **updates** the super sonics flag correctly, if not set.\n*  Check community program renewals callback **does not change** the super sonics flag, if already set\n* Tips on how to create subscription ready for renewal: https://gitlab.com/gitlab-org/fulfillment-meta/-/blob/master/docs/tips_and_tricks/zuora.md#create-a-subscription-with-activation-date-in-the-past","state":"closed","created_at":"2022-06-29T18:09:29.992Z","updated_at":"2022-09-13T14:28:16.829Z","closed_at":"2022-09-13T14:28:16.781Z","closed_by":{"id":11649502,"username":"aluthra2","name":"Aman Luthra","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11649502/avatar.png","web_url":"https://gitlab.com/aluthra2"},"labels":["[deprecated] Category:Billing and Subscription Management","backend","devops::fulfillment","group::billing and subscription management","section::fulfillment","type::feature","workflow::production"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":11649502,"username":"aluthra2","name":"Aman Luthra","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11649502/avatar.png","web_url":"https://gitlab.com/aluthra2"}],"author":{"id":8110789,"username":"tgolubeva","name":"Tatyana Golubeva","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8110789/avatar.png","web_url":"https://gitlab.com/tgolubeva"},"type":"ISSUE","assignee":{"id":11649502,"username":"aluthra2","name":"Aman Luthra","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11649502/avatar.png","web_url":"https://gitlab.com/aluthra2"},"user_notes_count":17,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4491","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/4491","notes":"https://gitlab.com/api/v4/projects/2670515/issues/4491/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/4491/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#4491","relative":"#4491","full":"gitlab-org/customers-gitlab-com#4491"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5711,"epic":{"id":244557,"iid":5711,"title":"[Community Programs] Renewals","url":"/groups/gitlab-org/-/epics/5711","group_id":9970,"human_readable_end_date":"Nov 4, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":110910907,"iid":4489,"project_id":2670515,"title":"Prevent subscription purchase when quantity is invalid","description":"### Problem\n\nWhen user enters 0 as quantity during subscription purchase, subscription purchase/claim CTA is enabled even if quantity is invalid and user can successfully buy the subscription despite the invalid quantity entered. The subscription purchased is for the previous valid quantity entered. For example, user enters 3 for quantity, then changes to 0, clicks on Buy subscription - this will successfully create a subscription for 3 users.\n\n| Feature | Current |\n|-|-|\n| New standard SM | ![Screen_Shot_2022-06-28_at_5.52.25_PM](/uploads/51e603f87d9722e2379a81b5c7ce5e0a/Screen_Shot_2022-06-28_at_5.52.25_PM.png)|\n| New CP SM | ![Screen_Shot_2022-06-28_at_6.10.19_PM](/uploads/1c85b4879ac1a10881f4b58079c82ec6/Screen_Shot_2022-06-28_at_6.10.19_PM.png) |\n| New standard SaaS | ![Screen_Shot_2022-06-28_at_5.56.33_PM](/uploads/ddf87441c9c4854683f5fa2a517142c5/Screen_Shot_2022-06-28_at_5.56.33_PM.png) |\n| New CP SaaS | ![Screen_Shot_2022-06-28_at_6.04.50_PM](/uploads/18ca6537ceac2dbac0d9a3b77a42faf8/Screen_Shot_2022-06-28_at_6.04.50_PM.png) |\n\n### Proposal\n\n1. Disable the CTA when quantity is invalid so user can't purchase subscription when latest entered quantity is invalid\n2. Replace the dollar value with `–` when quantity is invalid (replace the dollar values in the `order total` and the two `subtotal` lines)\n\n![Screen_Shot_2022-06-29_at_5.33.08_PM](/uploads/cf144793f56799af4934e8bce74a92e8/Screen_Shot_2022-06-29_at_5.33.08_PM.png)\n\n[Original discussion](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4392#note_1010282717)","state":"closed","created_at":"2022-06-29T15:34:03.740Z","updated_at":"2022-12-07T00:13:26.794Z","closed_at":"2022-12-07T00:13:26.764Z","closed_by":{"id":10325315,"username":"vvempati","name":"Vamsi Vempati","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10325315/avatar.png","web_url":"https://gitlab.com/vvempati"},"labels":["ARM::Consider for 15.8","Category:Purchase","SUS::Impacting","UX","bug::ux","devops::fulfillment","frontend","group::purchase","priority::3","section::fulfillment","severity::3","type::bug","workflow::in dev"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":10325315,"username":"vvempati","name":"Vamsi Vempati","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10325315/avatar.png","web_url":"https://gitlab.com/vvempati"}],"author":{"id":10325315,"username":"vvempati","name":"Vamsi Vempati","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10325315/avatar.png","web_url":"https://gitlab.com/vvempati"},"type":"ISSUE","assignee":{"id":10325315,"username":"vvempati","name":"Vamsi Vempati","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10325315/avatar.png","web_url":"https://gitlab.com/vvempati"},"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4489","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/4489","notes":"https://gitlab.com/api/v4/projects/2670515/issues/4489/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/4489/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#4489","relative":"#4489","full":"gitlab-org/customers-gitlab-com#4489"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":110866491,"iid":4482,"project_id":2670515,"title":"Follow-up from \"Notify Platypus when marketplace subscription provisioned\"","description":"There are two suggestions from MR review, which could be nice improvements:\n\nThe following discussion from !4982 should be addressed:\n\n- [ ] @tyleramos started a [discussion](https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/4982#note_1009838193): \n\n    \u003e **Suggestion:** I thought rubocop warned about this but I think the preference is to break out the namespace hierarchy using `module` like you did for the class above.\n    \u003e \n    \u003e ```\n    \u003e module Platypus\n    \u003e   class MarkSubscriptionProvisionedWorker\n    \u003e ```\n\n- [ ] Another suggestion is [this comment](https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/4982#note_1009838197):\n\u003e\u003e\u003e\n**Suggestion (non-blocking):** If we don't end up using the instance features of this class, you could consider a class that `extends self` instead, then the API to interact with this class is a little nicer (e.g. `Platypus::MarkSubscriptionProvisionedService.execute()`.\n\nOR, if you wanted to keep it as-is, you could pass the attributes in `initialize`. This would allow you to set attr_readers for `external_subscription_source` and `external_subscription_id`. You could also break up this execute method a bit more this way. For instance, `access_token` could be it's own method.\n\u003e\u003e\u003e","state":"closed","created_at":"2022-06-29T01:47:25.333Z","updated_at":"2022-07-19T07:04:06.502Z","closed_at":"2022-07-19T07:04:06.473Z","closed_by":{"id":273486,"username":"jameslopez","name":"James Lopez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/273486/avatar.png","web_url":"https://gitlab.com/jameslopez"},"labels":["[deprecated] Category:Fulfillment Platform","backend","devops::fulfillment","eDisty","group::fulfillment platform","section::fulfillment","type::maintenance","workflow::production"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"}],"author":{"id":4098809,"username":"qzhaogitlab","name":"Qingyu Zhao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4098809/avatar.png","web_url":"https://gitlab.com/qzhaogitlab"},"type":"ISSUE","assignee":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4482","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/4482","notes":"https://gitlab.com/api/v4/projects/2670515/issues/4482/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/4482/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#4482","relative":"#4482","full":"gitlab-org/customers-gitlab-com#4482"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6873,"epic":{"id":365061,"iid":6873,"title":"Integrate with Distributor e-Marketplace (Arrowsphere) to create and provision orders","url":"/groups/gitlab-org/-/epics/6873","group_id":9970,"human_readable_end_date":"Nov 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":110855738,"iid":4481,"project_id":2670515,"title":"Process payments for new subscription in Orders API","description":"The following discussion from !4947 should be addressed:\n\n- [ ] @tyleramos started a [discussion](https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/4947#note_1009249862):  (+1 comment)\n\n    \u003e **Question:** Will this logic for processing payments be captured in a later MR?  I'm just curious and totally fine if it's not included in this MR. :smile:\n\n### Problem statement\n\nSimilar to how processing payment options are included in [Subscribe api](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/90fc752163c1f6f83cc104773b30289226ca166c/app/services/subscribe_service.rb#L103), we need a mechanism to set this in Orders API.\n\n### Proposed solution\n\nCross posting the inferences from [this thread](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4446#note_1012628875):\n\nIn the subscribe api, the following options are sent in `subscribe_options` object:\n\n```ruby\nsubscribeOptions: {\n  generateInvoice: true,\n  processPayments: \u003ctrue if no coupon is used or if not marketplace\u003e,\n  subscribeInvoiceProcessingOptions: {\n    invoiceDate: \u003ccurrent date\u003e,\n    invoiceProcessingScope: 'Subscription',\n    invoiceTargetDate: \u003ccurrent date\u003e\n  }\n}\n```\n\nWhile trying to map to Orders API, the following is what I was able to infer based on the description:\n| Subscribe API | Orders API | Notes |\n|---------------|------------|-------|\n| `generateInvoice` | `runBilling` | |\n| `processPayments` | `collectPayment` | |\n| `InvoiceDate` | `documentDate` | |\n| `InvoiceDate` | `targetDate` | |\n| `subscribeInvoiceProcessingOptions` | - | Not required in Orders API |","state":"closed","created_at":"2022-06-28T18:29:08.343Z","updated_at":"2022-08-31T17:45:50.241Z","closed_at":"2022-07-19T07:03:41.221Z","closed_by":{"id":273486,"username":"jameslopez","name":"James Lopez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/273486/avatar.png","web_url":"https://gitlab.com/jameslopez"},"labels":["[deprecated] Category:Fulfillment Platform","[deprecated] Category:Provision","devops::fulfillment","group::fulfillment platform","section::fulfillment","type::feature","workflow::production"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"}],"author":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"type":"ISSUE","assignee":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"user_notes_count":3,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4481","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/4481","notes":"https://gitlab.com/api/v4/projects/2670515/issues/4481/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/4481/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#4481","relative":"#4481","full":"gitlab-org/customers-gitlab-com#4481"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8664,"epic":{"id":594034,"iid":8664,"title":"Transition Subscribe() to the Zuora Orders API for new subscriptions","url":"/groups/gitlab-org/-/epics/8664","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":110785158,"iid":4477,"project_id":2670515,"title":"Refactor Order related implementation service methods to a class method","description":"The following discussion from !4865 should be addressed:\n\n- [ ] @tyleramos started a [discussion](https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/4865#note_1004957734):  (+1 comment)\n\n    \u003e **Suggestion (non-blocking):** I wonder if it would be nice to consider adding class level methods for these new classes that allow us to execute by avoiding the `.new(...).execute` standard.  It would be a more convenient API, especially when it comes to stubbing in our tests.\n    \u003e \n    \u003e `expect(OrderManagerService).to receive(:execute)`\n    \u003e \n    \u003e vs.\n    \u003e \n    \u003e ```\n    \u003e expect_next_instance_of(OrderManagerService) do |service|\n    \u003e   expect(service).to receive(:execute)\n    \u003e ```\n    \u003e \n    \u003e Maybe something to consider in a future MR for these new Order classes if you like the idea.","state":"closed","created_at":"2022-06-27T17:54:10.434Z","updated_at":"2023-02-07T11:27:10.393Z","closed_at":"2022-07-28T04:01:47.205Z","closed_by":{"id":11217480,"username":"tvellishetty","name":"Tarun Vellishetty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11217480/avatar.png","web_url":"https://gitlab.com/tvellishetty"},"labels":["[deprecated] Category:Fulfillment Platform","backend","devops::fulfillment","group::fulfillment platform","section::fulfillment","type::maintenance","workflow::production"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":11217480,"username":"tvellishetty","name":"Tarun Vellishetty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11217480/avatar.png","web_url":"https://gitlab.com/tvellishetty"}],"author":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"type":"ISSUE","assignee":{"id":11217480,"username":"tvellishetty","name":"Tarun Vellishetty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11217480/avatar.png","web_url":"https://gitlab.com/tvellishetty"},"user_notes_count":8,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4477","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/4477","notes":"https://gitlab.com/api/v4/projects/2670515/issues/4477/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/4477/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#4477","relative":"#4477","full":"gitlab-org/customers-gitlab-com#4477"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8664,"epic":{"id":594034,"iid":8664,"title":"Transition Subscribe() to the Zuora Orders API for new subscriptions","url":"/groups/gitlab-org/-/epics/8664","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":110784646,"iid":4476,"project_id":2670515,"title":"Implement Order preview","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n### Problem\n\nSimilar to subscription preview (before the actual purchase), we need a way to use the Orders API to preview an order.\n\n### Proposal\n\n\u003c!-- Consult with `@gitlab-com/business-technology/enterprise-apps/zuora-architects` on the ~\"Enterprise Applications\" team if Zuora business logic is involved. --\u003e\n\nUse the [Preview an order API](https://www.zuora.com/developer/api-reference/#operation/POST_PreviewOrder) for the preview workflow.\n\nThis is 3 step process:\n\n| Step | Description | MR |\n|------|-------------|----|\n| Step 1 | Create Order Preview client and worker job that invokes the client | https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/5170 |\n| Step 2 | OrderPreview service | https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/5168 |\n| Step 3 | Using OrderPreview service in subscription preview workflow | https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/5192 |\n\n### Result\n\nPreview subscription uses Order Preview API instead of Subscribe API.\n\n### Next steps (if any)\n\n### How will we measure success?","state":"closed","created_at":"2022-06-27T17:35:29.622Z","updated_at":"2022-09-15T15:38:20.706Z","closed_at":"2022-08-11T23:01:03.067Z","closed_by":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"labels":["[deprecated] Category:Fulfillment Platform","backend","devops::fulfillment","group::fulfillment platform","section::fulfillment","type::feature","workflow::production"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"}],"author":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"type":"ISSUE","assignee":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4476","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/4476","notes":"https://gitlab.com/api/v4/projects/2670515/issues/4476/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/4476/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#4476","relative":"#4476","full":"gitlab-org/customers-gitlab-com#4476"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8664,"epic":{"id":594034,"iid":8664,"title":"Transition Subscribe() to the Zuora Orders API for new subscriptions","url":"/groups/gitlab-org/-/epics/8664","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":110762500,"iid":4475,"project_id":2670515,"title":"[SaaS] Number of users field should default to group's billable user count in purchase flow","description":"## Problem to solve\n\nThe number of users field in the new community programs SaaS subscription purchase flow defaults to `1`. [This has caused users](https://gitlab.com/gitlab-com/marketing/community-relations/community-operations/community-operations/-/issues/155#note_976584791) to accidentally purchase subscriptions for 1 user, because they do not change the default.\n\n![Screen_Shot_2022-06-27_at_1.22.25_PM](/uploads/aacb62c4287c84ea0d01c42f57ae9b31/Screen_Shot_2022-06-27_at_1.22.25_PM.png)\n\n![Screen_Shot_2022-06-27_at_1.22.15_PM](/uploads/910479d4b5fc10eec52b6c129eb9afcd/Screen_Shot_2022-06-27_at_1.22.15_PM.png)\n\n## Proposal\n\nFor the new community programs SaaS subscription purchase flow, the default for the number of users field should be group's billable user count.\n\nThe sections should also be reordered so that the namespace selection section comes before the user quantity section.","state":"closed","created_at":"2022-06-27T11:30:27.538Z","updated_at":"2022-11-16T21:24:37.955Z","closed_at":"2022-11-16T21:24:37.934Z","closed_by":{"id":10325315,"username":"vvempati","name":"Vamsi Vempati","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10325315/avatar.png","web_url":"https://gitlab.com/vvempati"},"labels":["Category:Purchase","backend","devops::fulfillment","frontend","group::purchase","section::fulfillment","type::maintenance","workflow::production"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":10325315,"username":"vvempati","name":"Vamsi Vempati","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10325315/avatar.png","web_url":"https://gitlab.com/vvempati"}],"author":{"id":10325315,"username":"vvempati","name":"Vamsi Vempati","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10325315/avatar.png","web_url":"https://gitlab.com/vvempati"},"type":"ISSUE","assignee":{"id":10325315,"username":"vvempati","name":"Vamsi Vempati","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10325315/avatar.png","web_url":"https://gitlab.com/vvempati"},"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4475","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/4475","notes":"https://gitlab.com/api/v4/projects/2670515/issues/4475/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/4475/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#4475","relative":"#4475","full":"gitlab-org/customers-gitlab-com#4475"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":110629231,"iid":4460,"project_id":2670515,"title":"Backfill to sync missing namespace data from CustomersDot to SFDC","description":"## Problem\n\nWe recently identified a set of subscriptions with missing namespace fields.  This results in SFDC users unable to generate complete reports or view relevant customer subscription data.\n\n## Background \nThe likely causes for missing data values are as follows:\n1. Zuora data null prior to ([sync integration](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1989)) implementation - expected since the work was move forward only. Technical work would be to backfill the data from GitLab.com-CustomersDot data.\n1. Zuora data null post implementation - could be one of two causes:\n   - Sales-assisted subscription in which the customer hasn't connected their namespace to the subscription yet. There's no technical work here.\n   - Data sync issue, somewhere between Zuora-CustomersDot-GitLab.com, data is out of sync. Technical work would be to find the data issue, resolve it, and push the data to Zuora.\n1. SFDC data null prior to the [latest work](https://gitlab.com/gitlab-com/business-technology/enterprise-apps/intake/-/issues/314) to bring the data in (I'm not sure of the date tbh) - I'd defer to the team who implemented the work, I'm not sure if they backfilled data which existed in Zuora.\n1. SFDC data null post the latest work to bring the data in. - would be the same root cause as 2.2 above\n\n## Proposal\n\nCreate a process to backfill missing namespace field values.\n\n## Communication Plan\n\n- [ ] Evaluate when this can be scheduled\n- [ ] Once scheduled, communicate to Customer Success","state":"closed","created_at":"2022-06-23T18:12:37.709Z","updated_at":"2023-01-21T00:41:43.753Z","closed_at":"2022-08-19T02:24:23.995Z","closed_by":{"id":1986039,"username":"lulalala","name":"Mark Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1986039/avatar.png","web_url":"https://gitlab.com/lulalala"},"labels":["Affects Salesforce","CSOps","[deprecated] Category:Provision","backend","customer success","devops::fulfillment","group::provision","priority::3","section::fulfillment","type::maintenance","workflow::problem validation"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":1986039,"username":"lulalala","name":"Mark Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1986039/avatar.png","web_url":"https://gitlab.com/lulalala"}],"author":{"id":7964536,"username":"courtmeddaugh","name":"Courtney Meddaugh","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7964536/avatar.png","web_url":"https://gitlab.com/courtmeddaugh"},"type":"ISSUE","assignee":{"id":1986039,"username":"lulalala","name":"Mark Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1986039/avatar.png","web_url":"https://gitlab.com/lulalala"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4460","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":0},"weight":8,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/4460","notes":"https://gitlab.com/api/v4/projects/2670515/issues/4460/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/4460/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#4460","relative":"#4460","full":"gitlab-org/customers-gitlab-com#4460"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8298,"epic":{"id":552850,"iid":8298,"title":"SaaS Namespace Data in SFDC \u0026 Zuora","url":"/groups/gitlab-org/-/epics/8298","group_id":9970,"human_readable_end_date":"Sep 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":110626005,"iid":4458,"project_id":2670515,"title":"Include subscription custom attributes in Orders API","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n### Problem\n\nhttps://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4382 created a service that generates custom attributes required for new Subscription order action.\n\nThe [Orders API](https://www.zuora.com/developer/api-reference/#operation/POST_Order) requires subscription custom attributes to be sent in the `subscriptions` object:\n\n```\n{\n  orderDate: ...,\n  ...\n  subscriptions: [\n    {\n      customFields: {\n\n      },\n      orderActions: [],\n      ...\n    }\n  ]\n}\n```\n\n### Proposal\n\n\u003c!-- Consult with `@gitlab-com/business-technology/enterprise-apps/zuora-architects` on the ~\"Enterprise Applications\" team if Zuora business logic is involved. --\u003e\n\nIn [OrderManagerService](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/d1f43892b1be3add5afba0f9f55a1719a9cb6470/app/services/zuora/orders/order_manager_service.rb), invoke the service `Zuora::Orders::CustomFields::CreateSubscription.new(customer: customer, params: params).execute` when order action is of New Subscription type.\n\n### Result\n\nNew order includes the subscription custom fields set.","state":"closed","created_at":"2022-06-23T17:01:24.288Z","updated_at":"2022-08-31T17:45:21.040Z","closed_at":"2022-07-19T16:07:07.695Z","closed_by":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"labels":["[deprecated] Category:Fulfillment Platform","backend","devops::fulfillment","group::fulfillment platform","section::fulfillment","type::feature","workflow::production"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"}],"author":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"type":"ISSUE","assignee":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4458","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/4458","notes":"https://gitlab.com/api/v4/projects/2670515/issues/4458/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/4458/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#4458","relative":"#4458","full":"gitlab-org/customers-gitlab-com#4458"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8664,"epic":{"id":594034,"iid":8664,"title":"Transition Subscribe() to the Zuora Orders API for new subscriptions","url":"/groups/gitlab-org/-/epics/8664","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":110625063,"iid":4456,"project_id":2670515,"title":"Add feature spec for cancel flash notice behavior","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n### Problem\nWe need to add a feature spec to verify the URL navigation behavior with the new [Vue cancelation modal](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/62e7646f3ba331c9892ff5f31d52207aaac5ac55/app/frontend/javascripts/subscription/components/cancellation_modal.vue). Thread [here](https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/4910#note_1000412840). \n\nAlso remove [this unit test](https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/4910/diffs?diff_id=419419267#f07ba46d14657e90fe9c115cec0bd944f7d112e7_195_223) since the feature spec will better cover that scenario.\n\n### Proposal\nAdd a test identical/very similar to [this](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/62e7646f3ba331c9892ff5f31d52207aaac5ac55/spec/features/existing_customers/renewal_spec.rb#L25) that uses the new Vue cancellation modal. \n\n### Result\nWe have better coverage of the new Vue cancel modal behavior when the user cancels their subscription.","state":"closed","created_at":"2022-06-23T16:36:33.396Z","updated_at":"2022-07-07T18:07:43.659Z","closed_at":"2022-07-07T18:07:43.646Z","closed_by":{"id":10770603,"username":"lmeckley","name":"Laura Meckley","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10770603/avatar.png","web_url":"https://gitlab.com/lmeckley"},"labels":["Unplanned","[deprecated] Category:Billing and Subscription Management","devops::fulfillment","frontend","group::billing and subscription management","section::fulfillment","type::maintenance","workflow::production"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":10770603,"username":"lmeckley","name":"Laura Meckley","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10770603/avatar.png","web_url":"https://gitlab.com/lmeckley"}],"author":{"id":10770603,"username":"lmeckley","name":"Laura Meckley","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10770603/avatar.png","web_url":"https://gitlab.com/lmeckley"},"type":"ISSUE","assignee":{"id":10770603,"username":"lmeckley","name":"Laura Meckley","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10770603/avatar.png","web_url":"https://gitlab.com/lmeckley"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4456","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/4456","notes":"https://gitlab.com/api/v4/projects/2670515/issues/4456/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/4456/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#4456","relative":"#4456","full":"gitlab-org/customers-gitlab-com#4456"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":110624142,"iid":4455,"project_id":2670515,"title":"Use current subscription instead of active for Ramp subscriptions when downloading/copying license","description":"### Problem\n\nIn https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3969, we updated the provisioning logic in CDot to support SM ramp subscriptions.  This involved using the `Subscription.build` method in places where licenses are provisioned like when activating a Cloud subscription or when processing a Zuora callout.  The `Subscription.build` method can build a ramped `Subscription` object with products from the current ramp interval rather than using the latest/active subscription information.  For instance, if interval 1 had a quantity of 5 and interval 3 had a quantity of 20, the license would be generated initially with a quantity of 5.\n\nHowever, when downloading/copying a license from the CustomersDot Manage Subscriptions page, this Subscription is loaded without this logic, so the license will always use the active/last interval quantity (e.g. 20).  \n\n## Proposal \nFor Ramp subscriptions only, update the download/copy action for a Self Managed subscription on the `Manage Purchases` page to use the `Subscription.build` method. This will ensure only the current ramp interval is used.  \n\nThis issue is related to https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3916+ where we are considering UX changes in CDot related to ramp subscriptions.","state":"closed","created_at":"2022-06-23T16:16:40.499Z","updated_at":"2023-02-23T21:19:40.874Z","closed_at":"2023-01-25T13:57:38.690Z","closed_by":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"labels":["Category:SM Provisioning","Ramps Provisioning","SUS::Impacting","UX","backend","bug::functional","devops::fulfillment","group::provision","priority::2","section::fulfillment","severity::3","type::bug","workflow::production"],"milestone":{"id":2745650,"iid":84,"group_id":9970,"title":"15.9","description":"","state":"active","created_at":"2022-08-22T16:58:02.303Z","updated_at":"2022-08-22T16:58:02.303Z","due_date":"2023-02-17","start_date":"2023-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/84"},"assignees":[{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"}],"author":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"type":"ISSUE","assignee":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"user_notes_count":14,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4455","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/4455","notes":"https://gitlab.com/api/v4/projects/2670515/issues/4455/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/4455/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#4455","relative":"#4455","full":"gitlab-org/customers-gitlab-com#4455"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":9354,"epic":{"id":668676,"iid":9354,"title":"[SM] Automated Provisioning for Ramp Deals","url":"/groups/gitlab-org/-/epics/9354","group_id":9970,"human_readable_end_date":"Jan 15, 2023","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":110546787,"iid":4450,"project_id":2670515,"title":"Add ability to use Zuora Data Query","description":"### Problem\n\nThe [gem `iron_bank`](https://github.com/zendesk/iron_bank/) that we use as a third party tool to connect CustomersDot to Zuora doesn't support complex query (like joining two data models). To find eligible subscriptions in https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4405+, we need to use a complex query. The query will use the `Subscription` as the main data model and join the `Account` and `Contact` data models to get to the data we need for the mentioned issue (to send reminder emails to instance admin/sold to contacts of a subscription).\n\nWith IronBank that isn't possible, but with [Zuora's Data Query](https://apisandbox.zuora.com/platform/data-query), this can be achieved (also see [API docs](https://www.zuora.com/developer/api-reference/#tag/Data-Queries)).\n\nOne thing to note is that Data Query is async and will not return the result directly.\n\n### Proposal\n\nAdd the ability to use Zuora's Data Query.\n\n### Result\n\nThe complex query needed for https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4405 can be done with the help of Zuora Data Query.","state":"closed","created_at":"2022-06-22T12:46:25.932Z","updated_at":"2022-07-04T10:29:54.721Z","closed_at":"2022-07-04T10:29:54.708Z","closed_by":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"labels":["Unplanned","[deprecated] Category:Provision","backend","devops::fulfillment","group::provision","section::fulfillment","type::maintenance","workflow::production"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"}],"author":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"type":"ISSUE","assignee":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4450","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/4450","notes":"https://gitlab.com/api/v4/projects/2670515/issues/4450/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/4450/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#4450","relative":"#4450","full":"gitlab-org/customers-gitlab-com#4450"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":110469859,"iid":4445,"project_id":2670515,"title":"Staging sanity of CustomersDot application - CI Decomposition","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\nAs mentioned in https://gitlab.com/gitlab-org/gitlab/-/issues/365739, we need to perform a sanity testing of the functionality for CustomersDot application.","state":"closed","created_at":"2022-06-21T11:32:14.340Z","updated_at":"2022-06-23T06:45:30.386Z","closed_at":"2022-06-22T09:20:11.770Z","closed_by":{"id":4430316,"username":"rhardarson","name":"Ragnar Hardarson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4430316/avatar.png","web_url":"https://gitlab.com/rhardarson"},"labels":["devops::fulfillment","frontend","group::billing and subscription management","section::fulfillment","type::maintenance","workflow::production"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"}],"author":{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"},"type":"ISSUE","assignee":{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4445","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/4445","notes":"https://gitlab.com/api/v4/projects/2670515/issues/4445/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/4445/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#4445","relative":"#4445","full":"gitlab-org/customers-gitlab-com#4445"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":110415737,"iid":4443,"project_id":2670515,"title":"Remove discount alerts for deprecated subscriptions","description":"### Problem\n\nWe have alerts in our code base that we show we customer **upgrades to** the deprecated subscription type (Bronze/Silver/Gold/Starter) that are eligible for discounts. Right now there is no valid case when we should show it (see [internal slack thread](url)).\n\n`\"Don't miss out on your exclusive deal\"` alerts should be safe to remove now, the renewal form is already a complex component and we should keep it clean.\n\n| SelfManaged | SaaS |\n| ------ | ------ |\n| ![Screenshot_2022-06-20_at_15.10.38](/uploads/bb6a56644729ccd35f5cc9463dcf6eba/Screenshot_2022-06-20_at_15.10.38.png) | ![Screen_Shot_2020-12-23_at_16.15.55](/uploads/6580d8e7b162a22adb484fe9cd57be83/Screen_Shot_2020-12-23_at_16.15.55.png) |\n\n### Proposal\n\nRemove the alerts from the source code.","state":"closed","created_at":"2022-06-20T13:25:37.813Z","updated_at":"2022-07-21T12:51:01.677Z","closed_at":"2022-07-21T12:51:01.652Z","closed_by":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"labels":["[deprecated] Category:Billing and Subscription Management","[deprecated] 🍎","devops::fulfillment","frontend","group::billing and subscription management","section::fulfillment","type::maintenance","workflow::production"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"}],"author":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"type":"ISSUE","assignee":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4443","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/4443","notes":"https://gitlab.com/api/v4/projects/2670515/issues/4443/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/4443/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#4443","relative":"#4443","full":"gitlab-org/customers-gitlab-com#4443"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":110261772,"iid":4433,"project_id":2670515,"title":"New account data for Orders API","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n### Problem\n\nWhen creating a new order, the account details can be provided by specifying either of the two attributes: `existingAccountNumber` or `newAccount`.\n\nAs the name suggests, `existingAccountNumber` is used for an existing account, and `newAccount` for a new account.\n\nWhile OrderManagerService currently supports pass the [`existingAccountNumber`](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/618359c09943f0c8716ad277b6c546562c103d40/app/services/zuora/orders/order_manager_service.rb#L40), we need a mechanism to send the `newAccount` object for new customers.\n\n### Proposal\n\n\u003c!-- Consult with `@gitlab-com/business-technology/enterprise-apps/zuora-architects` on the ~\"Enterprise Applications\" team if Zuora business logic is involved. --\u003e\n\nCreate an entity that constructs account object. It should return existing or new data based on whether the customer has an account or not.\n\n### Result\n\n### Next steps (if any)\n\n### How will we measure success?","state":"closed","created_at":"2022-06-16T20:51:13.836Z","updated_at":"2022-08-31T17:45:16.965Z","closed_at":"2022-07-19T07:00:04.263Z","closed_by":{"id":273486,"username":"jameslopez","name":"James Lopez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/273486/avatar.png","web_url":"https://gitlab.com/jameslopez"},"labels":["[deprecated] Category:Fulfillment Platform","backend","devops::fulfillment","group::fulfillment platform","section::fulfillment","type::feature","workflow::production"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"}],"author":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"type":"ISSUE","assignee":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4433","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/4433","notes":"https://gitlab.com/api/v4/projects/2670515/issues/4433/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/4433/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#4433","relative":"#4433","full":"gitlab-org/customers-gitlab-com#4433"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8664,"epic":{"id":594034,"iid":8664,"title":"Transition Subscribe() to the Zuora Orders API for new subscriptions","url":"/groups/gitlab-org/-/epics/8664","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":110207920,"iid":4431,"project_id":2670515,"title":"Add fields to GraphQL API to support community program management in GitLab","description":"### Problem\n\nThis is foundational work for https://gitlab.com/gitlab-org/gitlab/-/issues/363439+ and https://gitlab.com/gitlab-org/gitlab/-/issues/363440+.\n\nWe need to know what date a subscription is eligible for renewal from and whether or not the subscription can have seats added to it so that we can show the correct UI to the user, at the correct time for self managing their subscriptions in GitLab.\n\nCurrently this information is hard-coded in the GitLab codebase, but with the introduction of community programs, the renewal dates are different and not all subscriptions are eligible to have their seat count modified.\n\n### Proposal\n\nUpdate the [`SubscriptionType`](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/a56a94813b677713d9f8c43e320ca06cd3314c3f/app/graphql/types/subscription_type.rb) to have the attributes `enable_renew_from: Date` and `can_add_seats: Boolean` in the response.\n\n- `enableRenewFrom` should have the same behaviour as [the method on `Subscription`](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/a56a94813b677713d9f8c43e320ca06cd3314c3f/app/models/subscription.rb#L684)\n- `canAddSeats` should be `false` for community program subscriptions (and `true` for all others?)\n\nMore discussion in planning issue here: https://gitlab.com/gitlab-org/gitlab/-/issues/363537\n\n### Result\n\nThese attributes are available on the `SubscriptionType` in the CustomersDot GraphQL API.","state":"closed","created_at":"2022-06-16T04:26:13.687Z","updated_at":"2022-07-07T07:56:29.088Z","closed_at":"2022-07-07T07:56:29.038Z","closed_by":{"id":11257463,"username":"bhrai","name":"Bishwa Hang Rai","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11257463/avatar.png","web_url":"https://gitlab.com/bhrai"},"labels":["Category:Purchase","backend","devops::fulfillment","feature::enhancement","group::purchase","section::fulfillment","type::feature","workflow::production"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":11257463,"username":"bhrai","name":"Bishwa Hang Rai","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11257463/avatar.png","web_url":"https://gitlab.com/bhrai"}],"author":{"id":4981524,"username":"jhyson","name":"Josianne Hyson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4981524/avatar.png","web_url":"https://gitlab.com/jhyson"},"type":"ISSUE","assignee":{"id":11257463,"username":"bhrai","name":"Bishwa Hang Rai","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11257463/avatar.png","web_url":"https://gitlab.com/bhrai"},"user_notes_count":15,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4431","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":1,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/4431","notes":"https://gitlab.com/api/v4/projects/2670515/issues/4431/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/4431/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#4431","relative":"#4431","full":"gitlab-org/customers-gitlab-com#4431"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5711,"epic":{"id":244557,"iid":5711,"title":"[Community Programs] Renewals","url":"/groups/gitlab-org/-/epics/5711","group_id":9970,"human_readable_end_date":"Nov 4, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":110195583,"iid":4430,"project_id":2670515,"title":"More customizations when creating marketplace subscriptions","description":"### Background\n\nWe found out in [this thread](https://gitlab.com/groups/gitlab-org/-/epics/6873#note_993065034) that more customizations are needed when creating accounts and subscriptions in the Marketplace API in CDot.\n\n### Proposal\n\nThe following 3 customizations are needed.  As I understand it, these fields will be static for all Marketplace orders.\n\n#### 1. `IsInvoiceSeparate = TRUE`\n\nAll Arrow subscriptions should be invoiced separately (e.g. `IsInvoiceSeparate` = `true`). The default setting for `IsInvoiceSeparate` = `false` for subscriptions. However, in order to ensure that we have a 1:1 relationship between subscription and invoice, we will need this setting set to `true`.  \n\nThe `IsInvoiceSeparate` attribute can be passed in the subscribe request body as seen in [the Zuora docs](https://www.zuora.com/developer/api-reference/#operation/Action_POSTsubscribe).  This will be set in the request body where `request_body['subscribes'][0]['SubscriptionData]['Subscription']['IsInvoiceSeparate']` is `TRUE` .\n\n#### 2. `SSPChannel__c = \"Reseller\"`\n\nSSP Channel should be set as `Reseller` for the Arrow account in Zuora as well as all end user accounts.  This means setting `SSPChannel__c` to \"Reseller\" for accounts created in the subscribe request.\n\nThis field has not be set in the `SubscribeService` before and may require a change to the IronBank schema.\n\n#### 3. `Entity__c`\n\n\u003e Entity MUST be the same on all end user and Arrow account (if Arrow is US end user must be US) - this is a revenue requirement\n\nWe don't currently set `Entity__c` when creating accounts as part of the subscribe request so this will be a new attribute to set in the request.  As per [this comment](https://gitlab.com/groups/gitlab-org/-/epics/6873#note_993248300), this attribute should be set to `\"US\"` for all Arrow orders.  ~~It's not clear yet whether this applies to all Marketplace orders or just Arrow.  We've [asked about this below](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4430#note_995757617), as it may impact where the default lives; a) in Platypus, then passed to CDot in the marketplace request, OR 2) in CDot for all marketplace orders.~~\n\n~~**Update**: per [comment](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4430#note_995956944), we hope to have the `Entity__c` value passed through the Marketplace API request from Platypus.~~\n\n**Update again**: per [comment](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4430#note_1000132233), we will set `Entity__c = \"US\"` for all Marketplace orders in this iteration.","state":"closed","created_at":"2022-06-15T21:16:28.510Z","updated_at":"2023-02-06T19:17:39.845Z","closed_at":"2022-06-29T06:35:52.069Z","closed_by":{"id":4098809,"username":"qzhaogitlab","name":"Qingyu Zhao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4098809/avatar.png","web_url":"https://gitlab.com/qzhaogitlab"},"labels":["[deprecated] Category:Fulfillment Platform","backend","devops::fulfillment","eDisty","group::fulfillment platform","section::fulfillment","type::feature","workflow::in review"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":4098809,"username":"qzhaogitlab","name":"Qingyu Zhao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4098809/avatar.png","web_url":"https://gitlab.com/qzhaogitlab"}],"author":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"type":"ISSUE","assignee":{"id":4098809,"username":"qzhaogitlab","name":"Qingyu Zhao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4098809/avatar.png","web_url":"https://gitlab.com/qzhaogitlab"},"user_notes_count":16,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4430","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/4430","notes":"https://gitlab.com/api/v4/projects/2670515/issues/4430/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/4430/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#4430","relative":"#4430","full":"gitlab-org/customers-gitlab-com#4430"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6873,"epic":{"id":365061,"iid":6873,"title":"Integrate with Distributor e-Marketplace (Arrowsphere) to create and provision orders","url":"/groups/gitlab-org/-/epics/6873","group_id":9970,"human_readable_end_date":"Nov 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":110192701,"iid":4429,"project_id":2670515,"title":"Remove storyshots","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n### Problem\n\nWhen we added storyshots we wanted to test that rendering components do not produce error but turns out Jest does not treat error as errors.\n\n\n\u003csummary\u003eSee the detailed output of our storyshot tests under the summary\u003c/summary\u003e\n\n\u003cdetails\u003e\n\n```shell\n                   \u003cLicenseKeyButtons\u003e\n                     \u003cSubscriptionActivationLegacy\u003e\n                       \u003cSubscriptionActivation\u003e\n                         \u003cSubscription\u003e\n                           \u003cAnonymous\u003e\n                             \u003cAnonymous\u003e\n                               \u003cAnonymous\u003e\n                                 \u003cAnonymous\u003e\n                                   \u003cAnonymous\u003e\n                                     \u003cRoot\u003e\n\n      at warn (node_modules/vue/dist/vue.runtime.common.dev.js:621:15)\n      at node_modules/vue/dist/vue.runtime.common.dev.js:3520:36\n      at VueComponent.reactiveSetter [as $listeners] (node_modules/vue/dist/vue.runtime.common.dev.js:1047:9)\n      at updateChildComponent (node_modules/vue/dist/vue.common.dev.js:4150:17)\n      at prepatch (node_modules/vue/dist/vue.common.dev.js:3147:5)\n      at patchVnode (node_modules/vue/dist/vue.common.dev.js:6343:7)\n      at VueComponent.patch [as __patch__] (node_modules/vue/dist/vue.common.dev.js:6515:9)\n      at VueComponent.Vue._update (node_modules/vue/dist/vue.common.dev.js:3960:19)\n      at VueComponent.updateComponent (node_modules/vue/dist/vue.common.dev.js:4078:10)\n      at Watcher.get (node_modules/vue/dist/vue.common.dev.js:4490:25)\n      at Watcher.run (node_modules/vue/dist/vue.common.dev.js:4565:22)\n      at flushSchedulerQueue (node_modules/vue/dist/vue.common.dev.js:4323:13)\n      at Array.\u003canonymous\u003e (node_modules/vue/dist/vue.common.dev.js:1994:12)\n      at flushCallbacks (node_modules/vue/dist/vue.common.dev.js:1920:14)\n\n    console.error\n      [Vue warn]: Missing required prop: \"subscription\"\n      \n      found in\n      \n      ---\u003e \u003cSubscription\u003e\n             \u003cAnonymous\u003e\n               \u003cAnonymous\u003e\n                 \u003cAnonymous\u003e\n                   \u003cAnonymous\u003e\n                     \u003cAnonymous\u003e\n                       \u003cRoot\u003e\n\n      at warn (node_modules/vue/dist/vue.common.dev.js:630:15)\n      at assertProp (node_modules/vue/dist/vue.common.dev.js:1686:5)\n      at validateProp (node_modules/vue/dist/vue.common.dev.js:1637:5)\n      at loop (node_modules/vue/dist/vue.common.dev.js:4673:17)\n      at initProps (node_modules/vue/dist/vue.common.dev.js:4704:33)\n      at initState (node_modules/vue/dist/vue.common.dev.js:4647:21)\n      at VueComponent.Vue._init (node_modules/vue/dist/vue.common.dev.js:5010:5)\n      at new VueComponent (node_modules/vue/dist/vue.common.dev.js:5157:12)\n      at createComponentInstanceForVnode (node_modules/vue/dist/vue.common.dev.js:3307:10)\n      at init (node_modules/vue/dist/vue.common.dev.js:3136:45)\n      at createComponent (node_modules/vue/dist/vue.common.dev.js:6013:9)\n      at createElm (node_modules/vue/dist/vue.common.dev.js:5960:9)\n      at VueComponent.patch [as __patch__] (node_modules/vue/dist/vue.common.dev.js:6510:7)\n      at VueComponent.Vue._update (node_modules/vue/dist/vue.common.dev.js:3957:19)\n\n    console.error\n      [Vue warn]: Invalid prop: type check failed for prop \"subscription\". Expected Object, got Undefined \n      \n      found in\n      \n      ---\u003e \u003cSubscriptionButtonsSaaS\u003e\n             \u003cSubscription\u003e\n               \u003cAnonymous\u003e\n                 \u003cAnonymous\u003e\n                   \u003cAnonymous\u003e\n                     \u003cAnonymous\u003e\n                       \u003cAnonymous\u003e\n                         \u003cRoot\u003e\n\n      at warn (node_modules/vue/dist/vue.common.dev.js:630:15)\n      at assertProp (node_modules/vue/dist/vue.common.dev.js:1711:5)\n      at validateProp (node_modules/vue/dist/vue.common.dev.js:1637:5)\n      at loop (node_modules/vue/dist/vue.common.dev.js:4673:17)\n      at initProps (node_modules/vue/dist/vue.common.dev.js:4704:33)\n      at initState (node_modules/vue/dist/vue.common.dev.js:4647:21)\n      at VueComponent.Vue._init (node_modules/vue/dist/vue.common.dev.js:5010:5)\n      at new VueComponent (node_modules/vue/dist/vue.common.dev.js:5157:12)\n      at createComponentInstanceForVnode (node_modules/vue/dist/vue.common.dev.js:3307:10)\n      at init (node_modules/vue/dist/vue.common.dev.js:3136:45)\n      at createComponent (node_modules/vue/dist/vue.common.dev.js:6013:9)\n      at createElm (node_modules/vue/dist/vue.common.dev.js:5960:9)\n      at createChildren (node_modules/vue/dist/vue.common.dev.js:6088:9)\n      at createElm (node_modules/vue/dist/vue.common.dev.js:5989:9)\n\n    console.error\n      [Vue warn]: Error in render: \"TypeError: Cannot read properties of undefined (reading 'name')\"\n      \n      found in\n      \n      ---\u003e \u003cSubscriptionButtonsSaaS\u003e\n             \u003cSubscription\u003e\n               \u003cAnonymous\u003e\n                 \u003cAnonymous\u003e\n                   \u003cAnonymous\u003e\n                     \u003cAnonymous\u003e\n                       \u003cAnonymous\u003e\n                         \u003cRoot\u003e\n\n      at warn (node_modules/vue/dist/vue.common.dev.js:630:15)\n      at logError (node_modules/vue/dist/vue.common.dev.js:1898:5)\n      at globalHandleError (node_modules/vue/dist/vue.common.dev.js:1893:3)\n      at handleError (node_modules/vue/dist/vue.common.dev.js:1853:5)\n      at VueComponent.Vue._render (node_modules/vue/dist/vue.common.dev.js:3570:7)\n      at VueComponent.updateComponent (node_modules/vue/dist/vue.common.dev.js:4078:21)\n      at Watcher.get (node_modules/vue/dist/vue.common.dev.js:4490:25)\n      at new Watcher (node_modules/vue/dist/vue.common.dev.js:4479:12)\n      at mountComponent (node_modules/vue/dist/vue.common.dev.js:4085:3)\n      at VueComponent.Object.\u003canonymous\u003e.Vue.$mount (node_modules/vue/dist/vue.common.dev.js:9084:10)\n      at VueComponent.Object.\u003canonymous\u003e.Vue.$mount (node_modules/vue/dist/vue.common.dev.js:11989:16)\n      at init (node_modules/vue/dist/vue.common.dev.js:3140:13)\n      at createComponent (node_modules/vue/dist/vue.common.dev.js:6013:9)\n      at createElm (node_modules/vue/dist/vue.common.dev.js:5960:9)\n\n    console.error\n      TypeError: Cannot read properties of undefined (reading 'name')\n          at Proxy.render (/home/vitaly/Development/gitlab/customers-gitlab-com/app/frontend/javascripts/subscription/components/subscription_buttons/subscription_buttons_saas.vue:80:1)\n          at VueComponent.Vue._render (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:3568:22)\n          at VueComponent.updateComponent (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:4078:21)\n          at Watcher.get (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:4490:25)\n          at new Watcher (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:4479:12)\n          at mountComponent (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:4085:3)\n          at VueComponent.Object.\u003canonymous\u003e.Vue.$mount (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:9084:10)\n          at VueComponent.Object.\u003canonymous\u003e.Vue.$mount (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:11989:16)\n          at init (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:3140:13)\n          at createComponent (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:6013:9)\n          at createElm (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:5960:9)\n          at createChildren (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:6088:9)\n          at createElm (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:5989:9)\n          at createChildren (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:6088:9)\n          at createElm (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:5989:9)\n          at VueComponent.patch [as __patch__] (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:6510:7)\n          at VueComponent.Vue._update (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:3957:19)\n          at VueComponent.updateComponent (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:4078:10)\n          at Watcher.get (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:4490:25)\n          at new Watcher (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:4479:12)\n          at mountComponent (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:4085:3)\n          at VueComponent.Object.\u003canonymous\u003e.Vue.$mount (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:9084:10)\n          at VueComponent.Object.\u003canonymous\u003e.Vue.$mount (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:11989:16)\n          at init (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:3140:13)\n          at createComponent (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:6013:9)\n          at createElm (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:5960:9)\n          at VueComponent.patch [as __patch__] (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:6510:7)\n          at VueComponent.Vue._update (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:3957:19)\n          at VueComponent.updateComponent (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:4078:10)\n          at Watcher.get (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:4490:25)\n          at new Watcher (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:4479:12)\n          at mountComponent (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:4085:3)\n          at VueComponent.Object.\u003canonymous\u003e.Vue.$mount (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:9084:10)\n          at VueComponent.Object.\u003canonymous\u003e.Vue.$mount (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:11989:16)\n          at init (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:3140:13)\n          at createComponent (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:6013:9)\n          at createElm (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:5960:9)\n          at createChildren (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:6088:9)\n          at createElm (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:5989:9)\n          at VueComponent.patch [as __patch__] (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:6510:7)\n          at VueComponent.Vue._update (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:3957:19)\n          at VueComponent.updateComponent (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:4078:10)\n          at Watcher.get (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:4490:25)\n          at new Watcher (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:4479:12)\n          at mountComponent (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:4085:3)\n          at VueComponent.Object.\u003canonymous\u003e.Vue.$mount (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:9084:10)\n          at VueComponent.Object.\u003canonymous\u003e.Vue.$mount (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:11989:16)\n          at init (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:3140:13)\n          at createComponent (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:6013:9)\n          at createElm (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:5960:9)\n          at createChildren (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:6088:9)\n          at createElm (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:5989:9)\n          at VueComponent.patch [as __patch__] (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:6510:7)\n          at VueComponent.Vue._update (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:3957:19)\n          at VueComponent.updateComponent (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:4078:10)\n          at Watcher.get (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:4490:25)\n          at new Watcher (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:4479:12)\n          at mountComponent (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:4085:3)\n          at VueComponent.Object.\u003canonymous\u003e.Vue.$mount (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:9084:10)\n          at VueComponent.Object.\u003canonymous\u003e.Vue.$mount (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:11989:16)\n          at init (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:3140:13)\n          at createComponent (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:6013:9)\n          at createElm (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:5960:9)\n          at createChildren (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:6088:9)\n          at createElm (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:5989:9)\n          at VueComponent.patch [as __patch__] (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:6510:7)\n          at VueComponent.Vue._update (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:3957:19)\n          at VueComponent.updateComponent (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:4078:10)\n          at Watcher.get (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:4490:25)\n          at new Watcher (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:4479:12)\n          at mountComponent (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:4085:3)\n          at VueComponent.Object.\u003canonymous\u003e.Vue.$mount (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:9084:10)\n          at VueComponent.Object.\u003canonymous\u003e.Vue.$mount (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:11989:16)\n          at init (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:3140:13)\n          at createComponent (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:6013:9)\n          at createElm (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:5960:9)\n          at createChildren (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:6088:9)\n          at createElm (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:5989:9)\n          at VueComponent.patch [as __patch__] (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:6510:7)\n          at VueComponent.Vue._update (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:3957:19)\n          at VueComponent.updateComponent (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:4078:10)\n          at Watcher.get (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:4490:25)\n          at new Watcher (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:4479:12)\n          at mountComponent (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:4085:3)\n          at VueComponent.Object.\u003canonymous\u003e.Vue.$mount (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:9084:10)\n          at VueComponent.Object.\u003canonymous\u003e.Vue.$mount (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:11989:16)\n          at init (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:3140:13)\n          at createComponent (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:6013:9)\n          at createElm (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:5960:9)\n          at Vue.patch [as __patch__] (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:6510:7)\n          at Vue._update (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:3957:19)\n          at Vue.updateComponent (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:4078:10)\n          at Watcher.get (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:4490:25)\n          at new Watcher (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:4479:12)\n          at mountComponent (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:4085:3)\n          at Vue.Object.\u003canonymous\u003e.Vue.$mount (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:9084:10)\n          at Vue.Object.\u003canonymous\u003e.Vue.$mount (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:11989:16)\n          at getRenderedTree (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/@storybook/addon-storyshots/dist/ts3.9/frameworks/vue/renderTree.js:19:15)\n          at /home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/@storybook/addon-storyshots/dist/ts3.9/test-bodies.js:49:24\n          at Object.\u003canonymous\u003e (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/@storybook/addon-storyshots/dist/ts3.9/api/snapshotsTestsTemplate.js:29:24)\n          at Object.asyncJestTest (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/jest-jasmine2/build/jasmineAsyncInstall.js:106:37)\n          at /home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/jest-jasmine2/build/queueRunner.js:45:12\n          at new Promise (\u003canonymous\u003e)\n          at mapper (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/jest-jasmine2/build/queueRunner.js:28:19)\n          at /home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/jest-jasmine2/build/queueRunner.js:75:41\n          at processTicksAndRejections (node:internal/process/task_queues:96:5)\n\n      at logError (node_modules/vue/dist/vue.common.dev.js:1902:13)\n      at globalHandleError (node_modules/vue/dist/vue.common.dev.js:1893:3)\n      at handleError (node_modules/vue/dist/vue.common.dev.js:1853:5)\n      at VueComponent.Vue._render (node_modules/vue/dist/vue.common.dev.js:3570:7)\n      at VueComponent.updateComponent (node_modules/vue/dist/vue.common.dev.js:4078:21)\n      at Watcher.get (node_modules/vue/dist/vue.common.dev.js:4490:25)\n      at new Watcher (node_modules/vue/dist/vue.common.dev.js:4479:12)\n      at mountComponent (node_modules/vue/dist/vue.common.dev.js:4085:3)\n      at VueComponent.Object.\u003canonymous\u003e.Vue.$mount (node_modules/vue/dist/vue.common.dev.js:9084:10)\n      at VueComponent.Object.\u003canonymous\u003e.Vue.$mount (node_modules/vue/dist/vue.common.dev.js:11989:16)\n      at init (node_modules/vue/dist/vue.common.dev.js:3140:13)\n      at createComponent (node_modules/vue/dist/vue.common.dev.js:6013:9)\n      at createElm (node_modules/vue/dist/vue.common.dev.js:5960:9)\n      at createChildren (node_modules/vue/dist/vue.common.dev.js:6088:9)\n\n    console.error\n      [Vue warn]: $attrs is readonly.\n      \n      found in\n      \n      ---\u003e \u003cBLink\u003e\n             \u003cGlLink\u003e\n               \u003cBFormGroup\u003e\n                 \u003cGlFormGroup\u003e\n                   \u003cLicenseKeyButtons\u003e\n                     \u003cSubscriptionActivationLegacy\u003e\n                       \u003cSubscriptionActivation\u003e\n                         \u003cSubscription\u003e\n                           \u003cAnonymous\u003e\n                             \u003cAnonymous\u003e\n                               \u003cAnonymous\u003e\n                                 \u003cAnonymous\u003e\n                                   \u003cAnonymous\u003e\n                                     \u003cRoot\u003e\n\n      at warn (node_modules/vue/dist/vue.runtime.common.dev.js:621:15)\n      at node_modules/vue/dist/vue.runtime.common.dev.js:3517:36\n      at VueComponent.reactiveSetter [as $attrs] (node_modules/vue/dist/vue.runtime.common.dev.js:1047:9)\n      at updateChildComponent (node_modules/vue/dist/vue.common.dev.js:4149:13)\n      at prepatch (node_modules/vue/dist/vue.common.dev.js:3147:5)\n      at patchVnode (node_modules/vue/dist/vue.common.dev.js:6343:7)\n      at VueComponent.patch [as __patch__] (node_modules/vue/dist/vue.common.dev.js:6515:9)\n      at VueComponent.Vue._update (node_modules/vue/dist/vue.common.dev.js:3960:19)\n      at VueComponent.updateComponent (node_modules/vue/dist/vue.common.dev.js:4078:10)\n      at Watcher.get (node_modules/vue/dist/vue.common.dev.js:4490:25)\n      at Watcher.run (node_modules/vue/dist/vue.common.dev.js:4565:22)\n      at flushSchedulerQueue (node_modules/vue/dist/vue.common.dev.js:4323:13)\n      at Array.\u003canonymous\u003e (node_modules/vue/dist/vue.common.dev.js:1994:12)\n      at flushCallbacks (node_modules/vue/dist/vue.common.dev.js:1920:14)\n\n    console.error\n      [Vue warn]: $listeners is readonly.\n      \n      found in\n      \n      ---\u003e \u003cBLink\u003e\n             \u003cGlLink\u003e\n               \u003cBFormGroup\u003e\n                 \u003cGlFormGroup\u003e\n                   \u003cLicenseKeyButtons\u003e\n                     \u003cSubscriptionActivationLegacy\u003e\n                       \u003cSubscriptionActivation\u003e\n                         \u003cSubscription\u003e\n                           \u003cAnonymous\u003e\n                             \u003cAnonymous\u003e\n                               \u003cAnonymous\u003e\n                                 \u003cAnonymous\u003e\n                                   \u003cAnonymous\u003e\n                                     \u003cRoot\u003e\n\n      at warn (node_modules/vue/dist/vue.runtime.common.dev.js:621:15)\n      at node_modules/vue/dist/vue.runtime.common.dev.js:3520:36\n      at VueComponent.reactiveSetter [as $listeners] (node_modules/vue/dist/vue.runtime.common.dev.js:1047:9)\n      at updateChildComponent (node_modules/vue/dist/vue.common.dev.js:4150:17)\n      at prepatch (node_modules/vue/dist/vue.common.dev.js:3147:5)\n      at patchVnode (node_modules/vue/dist/vue.common.dev.js:6343:7)\n      at VueComponent.patch [as __patch__] (node_modules/vue/dist/vue.common.dev.js:6515:9)\n      at VueComponent.Vue._update (node_modules/vue/dist/vue.common.dev.js:3960:19)\n      at VueComponent.updateComponent (node_modules/vue/dist/vue.common.dev.js:4078:10)\n      at Watcher.get (node_modules/vue/dist/vue.common.dev.js:4490:25)\n      at Watcher.run (node_modules/vue/dist/vue.common.dev.js:4565:22)\n      at flushSchedulerQueue (node_modules/vue/dist/vue.common.dev.js:4323:13)\n      at Array.\u003canonymous\u003e (node_modules/vue/dist/vue.common.dev.js:1994:12)\n      at flushCallbacks (node_modules/vue/dist/vue.common.dev.js:1920:14)\n\n    console.error\n      [Vue warn]: Missing required prop: \"subscription\"\n      \n      found in\n      \n      ---\u003e \u003cSubscription\u003e\n             \u003cAnonymous\u003e\n               \u003cAnonymous\u003e\n                 \u003cAnonymous\u003e\n                   \u003cAnonymous\u003e\n                     \u003cAnonymous\u003e\n                       \u003cRoot\u003e\n\n      at warn (node_modules/vue/dist/vue.common.dev.js:630:15)\n      at assertProp (node_modules/vue/dist/vue.common.dev.js:1686:5)\n      at validateProp (node_modules/vue/dist/vue.common.dev.js:1637:5)\n      at loop (node_modules/vue/dist/vue.common.dev.js:4673:17)\n      at initProps (node_modules/vue/dist/vue.common.dev.js:4704:33)\n      at initState (node_modules/vue/dist/vue.common.dev.js:4647:21)\n      at VueComponent.Vue._init (node_modules/vue/dist/vue.common.dev.js:5010:5)\n      at new VueComponent (node_modules/vue/dist/vue.common.dev.js:5157:12)\n      at createComponentInstanceForVnode (node_modules/vue/dist/vue.common.dev.js:3307:10)\n      at init (node_modules/vue/dist/vue.common.dev.js:3136:45)\n      at createComponent (node_modules/vue/dist/vue.common.dev.js:6013:9)\n      at createElm (node_modules/vue/dist/vue.common.dev.js:5960:9)\n      at VueComponent.patch [as __patch__] (node_modules/vue/dist/vue.common.dev.js:6510:7)\n      at VueComponent.Vue._update (node_modules/vue/dist/vue.common.dev.js:3957:19)\n\n    console.error\n      [Vue warn]: Invalid prop: type check failed for prop \"subscription\". Expected Object, got Undefined \n      \n      found in\n      \n      ---\u003e \u003cSubscriptionButtonsSaaS\u003e\n             \u003cSubscription\u003e\n               \u003cAnonymous\u003e\n                 \u003cAnonymous\u003e\n                   \u003cAnonymous\u003e\n                     \u003cAnonymous\u003e\n                       \u003cAnonymous\u003e\n                         \u003cRoot\u003e\n\n      at warn (node_modules/vue/dist/vue.common.dev.js:630:15)\n      at assertProp (node_modules/vue/dist/vue.common.dev.js:1711:5)\n      at validateProp (node_modules/vue/dist/vue.common.dev.js:1637:5)\n      at loop (node_modules/vue/dist/vue.common.dev.js:4673:17)\n      at initProps (node_modules/vue/dist/vue.common.dev.js:4704:33)\n      at initState (node_modules/vue/dist/vue.common.dev.js:4647:21)\n      at VueComponent.Vue._init (node_modules/vue/dist/vue.common.dev.js:5010:5)\n      at new VueComponent (node_modules/vue/dist/vue.common.dev.js:5157:12)\n      at createComponentInstanceForVnode (node_modules/vue/dist/vue.common.dev.js:3307:10)\n      at init (node_modules/vue/dist/vue.common.dev.js:3136:45)\n      at createComponent (node_modules/vue/dist/vue.common.dev.js:6013:9)\n      at createElm (node_modules/vue/dist/vue.common.dev.js:5960:9)\n      at createChildren (node_modules/vue/dist/vue.common.dev.js:6088:9)\n      at createElm (node_modules/vue/dist/vue.common.dev.js:5989:9)\n\n    console.error\n      [Vue warn]: Error in render: \"TypeError: Cannot read properties of undefined (reading 'name')\"\n      \n      found in\n      \n      ---\u003e \u003cSubscriptionButtonsSaaS\u003e\n             \u003cSubscription\u003e\n               \u003cAnonymous\u003e\n                 \u003cAnonymous\u003e\n                   \u003cAnonymous\u003e\n                     \u003cAnonymous\u003e\n                       \u003cAnonymous\u003e\n                         \u003cRoot\u003e\n\n      at warn (node_modules/vue/dist/vue.common.dev.js:630:15)\n      at logError (node_modules/vue/dist/vue.common.dev.js:1898:5)\n      at globalHandleError (node_modules/vue/dist/vue.common.dev.js:1893:3)\n      at handleError (node_modules/vue/dist/vue.common.dev.js:1853:5)\n      at VueComponent.Vue._render (node_modules/vue/dist/vue.common.dev.js:3570:7)\n      at VueComponent.updateComponent (node_modules/vue/dist/vue.common.dev.js:4078:21)\n      at Watcher.get (node_modules/vue/dist/vue.common.dev.js:4490:25)\n      at new Watcher (node_modules/vue/dist/vue.common.dev.js:4479:12)\n      at mountComponent (node_modules/vue/dist/vue.common.dev.js:4085:3)\n      at VueComponent.Object.\u003canonymous\u003e.Vue.$mount (node_modules/vue/dist/vue.common.dev.js:9084:10)\n      at VueComponent.Object.\u003canonymous\u003e.Vue.$mount (node_modules/vue/dist/vue.common.dev.js:11989:16)\n      at init (node_modules/vue/dist/vue.common.dev.js:3140:13)\n      at createComponent (node_modules/vue/dist/vue.common.dev.js:6013:9)\n      at createElm (node_modules/vue/dist/vue.common.dev.js:5960:9)\n\n    console.error\n      TypeError: Cannot read properties of undefined (reading 'name')\n          at Proxy.render (/home/vitaly/Development/gitlab/customers-gitlab-com/app/frontend/javascripts/subscription/components/subscription_buttons/subscription_buttons_saas.vue:80:1)\n          at VueComponent.Vue._render (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:3568:22)\n          at VueComponent.updateComponent (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:4078:21)\n          at Watcher.get (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:4490:25)\n          at new Watcher (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:4479:12)\n          at mountComponent (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:4085:3)\n          at VueComponent.Object.\u003canonymous\u003e.Vue.$mount (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:9084:10)\n          at VueComponent.Object.\u003canonymous\u003e.Vue.$mount (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:11989:16)\n          at init (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:3140:13)\n          at createComponent (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:6013:9)\n          at createElm (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:5960:9)\n          at createChildren (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:6088:9)\n          at createElm (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:5989:9)\n          at createChildren (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:6088:9)\n          at createElm (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:5989:9)\n          at VueComponent.patch [as __patch__] (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:6510:7)\n          at VueComponent.Vue._update (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:3957:19)\n          at VueComponent.updateComponent (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:4078:10)\n          at Watcher.get (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:4490:25)\n          at new Watcher (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:4479:12)\n          at mountComponent (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:4085:3)\n          at VueComponent.Object.\u003canonymous\u003e.Vue.$mount (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:9084:10)\n          at VueComponent.Object.\u003canonymous\u003e.Vue.$mount (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:11989:16)\n          at init (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:3140:13)\n          at createComponent (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:6013:9)\n          at createElm (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:5960:9)\n          at VueComponent.patch [as __patch__] (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:6510:7)\n          at VueComponent.Vue._update (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:3957:19)\n          at VueComponent.updateComponent (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:4078:10)\n          at Watcher.get (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:4490:25)\n          at new Watcher (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:4479:12)\n          at mountComponent (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:4085:3)\n          at VueComponent.Object.\u003canonymous\u003e.Vue.$mount (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:9084:10)\n          at VueComponent.Object.\u003canonymous\u003e.Vue.$mount (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:11989:16)\n          at init (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:3140:13)\n          at createComponent (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:6013:9)\n          at createElm (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:5960:9)\n          at createChildren (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:6088:9)\n          at createElm (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:5989:9)\n          at VueComponent.patch [as __patch__] (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:6510:7)\n          at VueComponent.Vue._update (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:3957:19)\n          at VueComponent.updateComponent (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:4078:10)\n          at Watcher.get (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:4490:25)\n          at new Watcher (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:4479:12)\n          at mountComponent (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:4085:3)\n          at VueComponent.Object.\u003canonymous\u003e.Vue.$mount (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:9084:10)\n          at VueComponent.Object.\u003canonymous\u003e.Vue.$mount (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:11989:16)\n          at init (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:3140:13)\n          at createComponent (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:6013:9)\n          at createElm (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:5960:9)\n          at createChildren (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:6088:9)\n          at createElm (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:5989:9)\n          at VueComponent.patch [as __patch__] (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:6510:7)\n          at VueComponent.Vue._update (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:3957:19)\n          at VueComponent.updateComponent (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:4078:10)\n          at Watcher.get (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:4490:25)\n          at new Watcher (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:4479:12)\n          at mountComponent (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:4085:3)\n          at VueComponent.Object.\u003canonymous\u003e.Vue.$mount (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:9084:10)\n          at VueComponent.Object.\u003canonymous\u003e.Vue.$mount (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:11989:16)\n          at init (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:3140:13)\n          at createComponent (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:6013:9)\n          at createElm (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:5960:9)\n          at createChildren (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:6088:9)\n          at createElm (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:5989:9)\n          at VueComponent.patch [as __patch__] (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:6510:7)\n          at VueComponent.Vue._update (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:3957:19)\n          at VueComponent.updateComponent (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:4078:10)\n          at Watcher.get (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:4490:25)\n          at new Watcher (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:4479:12)\n          at mountComponent (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:4085:3)\n          at VueComponent.Object.\u003canonymous\u003e.Vue.$mount (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:9084:10)\n          at VueComponent.Object.\u003canonymous\u003e.Vue.$mount (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:11989:16)\n          at init (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:3140:13)\n          at createComponent (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:6013:9)\n          at createElm (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:5960:9)\n          at createChildren (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:6088:9)\n          at createElm (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:5989:9)\n          at VueComponent.patch [as __patch__] (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:6510:7)\n          at VueComponent.Vue._update (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:3957:19)\n          at VueComponent.updateComponent (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:4078:10)\n          at Watcher.get (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:4490:25)\n          at new Watcher (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:4479:12)\n          at mountComponent (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:4085:3)\n          at VueComponent.Object.\u003canonymous\u003e.Vue.$mount (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:9084:10)\n          at VueComponent.Object.\u003canonymous\u003e.Vue.$mount (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:11989:16)\n          at init (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:3140:13)\n          at createComponent (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:6013:9)\n          at createElm (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:5960:9)\n          at Vue.patch [as __patch__] (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:6510:7)\n          at Vue._update (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:3957:19)\n          at Vue.updateComponent (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:4078:10)\n          at Watcher.get (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:4490:25)\n          at new Watcher (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:4479:12)\n          at mountComponent (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:4085:3)\n          at Vue.Object.\u003canonymous\u003e.Vue.$mount (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:9084:10)\n          at Vue.Object.\u003canonymous\u003e.Vue.$mount (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:11989:16)\n          at getRenderedTree (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/@storybook/addon-storyshots/dist/ts3.9/frameworks/vue/renderTree.js:19:15)\n          at /home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/@storybook/addon-storyshots/dist/ts3.9/test-bodies.js:49:24\n          at Object.\u003canonymous\u003e (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/@storybook/addon-storyshots/dist/ts3.9/api/snapshotsTestsTemplate.js:29:24)\n          at Object.asyncJestTest (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/jest-jasmine2/build/jasmineAsyncInstall.js:106:37)\n          at /home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/jest-jasmine2/build/queueRunner.js:45:12\n          at new Promise (\u003canonymous\u003e)\n          at mapper (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/jest-jasmine2/build/queueRunner.js:28:19)\n          at /home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/jest-jasmine2/build/queueRunner.js:75:41\n          at processTicksAndRejections (node:internal/process/task_queues:96:5)\n\n      at logError (node_modules/vue/dist/vue.common.dev.js:1902:13)\n      at globalHandleError (node_modules/vue/dist/vue.common.dev.js:1893:3)\n      at handleError (node_modules/vue/dist/vue.common.dev.js:1853:5)\n      at VueComponent.Vue._render (node_modules/vue/dist/vue.common.dev.js:3570:7)\n      at VueComponent.updateComponent (node_modules/vue/dist/vue.common.dev.js:4078:21)\n      at Watcher.get (node_modules/vue/dist/vue.common.dev.js:4490:25)\n      at new Watcher (node_modules/vue/dist/vue.common.dev.js:4479:12)\n      at mountComponent (node_modules/vue/dist/vue.common.dev.js:4085:3)\n      at VueComponent.Object.\u003canonymous\u003e.Vue.$mount (node_modules/vue/dist/vue.common.dev.js:9084:10)\n      at VueComponent.Object.\u003canonymous\u003e.Vue.$mount (node_modules/vue/dist/vue.common.dev.js:11989:16)\n      at init (node_modules/vue/dist/vue.common.dev.js:3140:13)\n      at createComponent (node_modules/vue/dist/vue.common.dev.js:6013:9)\n      at createElm (node_modules/vue/dist/vue.common.dev.js:5960:9)\n      at createChildren (node_modules/vue/dist/vue.common.dev.js:6088:9)\n\n    console.error\n      [Vue warn]: $attrs is readonly.\n      \n      found in\n      \n      ---\u003e \u003cBLink\u003e\n             \u003cGlLink\u003e\n               \u003cBFormGroup\u003e\n                 \u003cGlFormGroup\u003e\n                   \u003cLicenseKeyButtons\u003e\n                     \u003cSubscriptionActivationLegacy\u003e\n                       \u003cSubscriptionActivation\u003e\n                         \u003cSubscription\u003e\n                           \u003cAnonymous\u003e\n                             \u003cAnonymous\u003e\n                               \u003cAnonymous\u003e\n                                 \u003cAnonymous\u003e\n                                   \u003cAnonymous\u003e\n                                     \u003cRoot\u003e\n\n      at warn (node_modules/vue/dist/vue.runtime.common.dev.js:621:15)\n      at node_modules/vue/dist/vue.runtime.common.dev.js:3517:36\n      at VueComponent.reactiveSetter [as $attrs] (node_modules/vue/dist/vue.runtime.common.dev.js:1047:9)\n      at updateChildComponent (node_modules/vue/dist/vue.common.dev.js:4149:13)\n      at prepatch (node_modules/vue/dist/vue.common.dev.js:3147:5)\n      at patchVnode (node_modules/vue/dist/vue.common.dev.js:6343:7)\n      at VueComponent.patch [as __patch__] (node_modules/vue/dist/vue.common.dev.js:6515:9)\n      at VueComponent.Vue._update (node_modules/vue/dist/vue.common.dev.js:3960:19)\n      at VueComponent.updateComponent (node_modules/vue/dist/vue.common.dev.js:4078:10)\n      at Watcher.get (node_modules/vue/dist/vue.common.dev.js:4490:25)\n      at Watcher.run (node_modules/vue/dist/vue.common.dev.js:4565:22)\n      at flushSchedulerQueue (node_modules/vue/dist/vue.common.dev.js:4323:13)\n      at Array.\u003canonymous\u003e (node_modules/vue/dist/vue.common.dev.js:1994:12)\n      at flushCallbacks (node_modules/vue/dist/vue.common.dev.js:1920:14)\n\n    console.error\n      [Vue warn]: $listeners is readonly.\n      \n      found in\n      \n      ---\u003e \u003cBLink\u003e\n             \u003cGlLink\u003e\n               \u003cBFormGroup\u003e\n                 \u003cGlFormGroup\u003e\n                   \u003cLicenseKeyButtons\u003e\n                     \u003cSubscriptionActivationLegacy\u003e\n                       \u003cSubscriptionActivation\u003e\n                         \u003cSubscription\u003e\n                           \u003cAnonymous\u003e\n                             \u003cAnonymous\u003e\n                               \u003cAnonymous\u003e\n                                 \u003cAnonymous\u003e\n                                   \u003cAnonymous\u003e\n                                     \u003cRoot\u003e\n\n      at warn (node_modules/vue/dist/vue.runtime.common.dev.js:621:15)\n      at node_modules/vue/dist/vue.runtime.common.dev.js:3520:36\n      at VueComponent.reactiveSetter [as $listeners] (node_modules/vue/dist/vue.runtime.common.dev.js:1047:9)\n      at updateChildComponent (node_modules/vue/dist/vue.common.dev.js:4150:17)\n      at prepatch (node_modules/vue/dist/vue.common.dev.js:3147:5)\n      at patchVnode (node_modules/vue/dist/vue.common.dev.js:6343:7)\n      at VueComponent.patch [as __patch__] (node_modules/vue/dist/vue.common.dev.js:6515:9)\n      at VueComponent.Vue._update (node_modules/vue/dist/vue.common.dev.js:3960:19)\n      at VueComponent.updateComponent (node_modules/vue/dist/vue.common.dev.js:4078:10)\n      at Watcher.get (node_modules/vue/dist/vue.common.dev.js:4490:25)\n      at Watcher.run (node_modules/vue/dist/vue.common.dev.js:4565:22)\n      at flushSchedulerQueue (node_modules/vue/dist/vue.common.dev.js:4323:13)\n      at Array.\u003canonymous\u003e (node_modules/vue/dist/vue.common.dev.js:1994:12)\n      at flushCallbacks (node_modules/vue/dist/vue.common.dev.js:1920:14)\n\n    console.error\n      [Vue warn]: Missing required prop: \"subscription\"\n      \n      found in\n      \n      ---\u003e \u003cSubscription\u003e\n             \u003cAnonymous\u003e\n               \u003cAnonymous\u003e\n                 \u003cAnonymous\u003e\n                   \u003cAnonymous\u003e\n                     \u003cAnonymous\u003e\n                       \u003cRoot\u003e\n\n      at warn (node_modules/vue/dist/vue.common.dev.js:630:15)\n      at assertProp (node_modules/vue/dist/vue.common.dev.js:1686:5)\n      at validateProp (node_modules/vue/dist/vue.common.dev.js:1637:5)\n      at loop (node_modules/vue/dist/vue.common.dev.js:4673:17)\n      at initProps (node_modules/vue/dist/vue.common.dev.js:4704:33)\n      at initState (node_modules/vue/dist/vue.common.dev.js:4647:21)\n      at VueComponent.Vue._init (node_modules/vue/dist/vue.common.dev.js:5010:5)\n      at new VueComponent (node_modules/vue/dist/vue.common.dev.js:5157:12)\n      at createComponentInstanceForVnode (node_modules/vue/dist/vue.common.dev.js:3307:10)\n      at init (node_modules/vue/dist/vue.common.dev.js:3136:45)\n      at createComponent (node_modules/vue/dist/vue.common.dev.js:6013:9)\n      at createElm (node_modules/vue/dist/vue.common.dev.js:5960:9)\n      at VueComponent.patch [as __patch__] (node_modules/vue/dist/vue.common.dev.js:6510:7)\n      at VueComponent.Vue._update (node_modules/vue/dist/vue.common.dev.js:3957:19)\n\n    console.error\n      [Vue warn]: Invalid prop: type check failed for prop \"subscription\". Expected Object, got Undefined \n      \n      found in\n      \n      ---\u003e \u003cSubscriptionButtonsSaaS\u003e\n             \u003cSubscription\u003e\n               \u003cAnonymous\u003e\n                 \u003cAnonymous\u003e\n                   \u003cAnonymous\u003e\n                     \u003cAnonymous\u003e\n                       \u003cAnonymous\u003e\n                         \u003cRoot\u003e\n\n      at warn (node_modules/vue/dist/vue.common.dev.js:630:15)\n      at assertProp (node_modules/vue/dist/vue.common.dev.js:1711:5)\n      at validateProp (node_modules/vue/dist/vue.common.dev.js:1637:5)\n      at loop (node_modules/vue/dist/vue.common.dev.js:4673:17)\n      at initProps (node_modules/vue/dist/vue.common.dev.js:4704:33)\n      at initState (node_modules/vue/dist/vue.common.dev.js:4647:21)\n      at VueComponent.Vue._init (node_modules/vue/dist/vue.common.dev.js:5010:5)\n      at new VueComponent (node_modules/vue/dist/vue.common.dev.js:5157:12)\n      at createComponentInstanceForVnode (node_modules/vue/dist/vue.common.dev.js:3307:10)\n      at init (node_modules/vue/dist/vue.common.dev.js:3136:45)\n      at createComponent (node_modules/vue/dist/vue.common.dev.js:6013:9)\n      at createElm (node_modules/vue/dist/vue.common.dev.js:5960:9)\n      at createChildren (node_modules/vue/dist/vue.common.dev.js:6088:9)\n      at createElm (node_modules/vue/dist/vue.common.dev.js:5989:9)\n\n    console.error\n      [Vue warn]: Error in render: \"TypeError: Cannot read properties of undefined (reading 'name')\"\n      \n      found in\n      \n      ---\u003e \u003cSubscriptionButtonsSaaS\u003e\n             \u003cSubscription\u003e\n               \u003cAnonymous\u003e\n                 \u003cAnonymous\u003e\n                   \u003cAnonymous\u003e\n                     \u003cAnonymous\u003e\n                       \u003cAnonymous\u003e\n                         \u003cRoot\u003e\n\n      at warn (node_modules/vue/dist/vue.common.dev.js:630:15)\n      at logError (node_modules/vue/dist/vue.common.dev.js:1898:5)\n      at globalHandleError (node_modules/vue/dist/vue.common.dev.js:1893:3)\n      at handleError (node_modules/vue/dist/vue.common.dev.js:1853:5)\n      at VueComponent.Vue._render (node_modules/vue/dist/vue.common.dev.js:3570:7)\n      at VueComponent.updateComponent (node_modules/vue/dist/vue.common.dev.js:4078:21)\n      at Watcher.get (node_modules/vue/dist/vue.common.dev.js:4490:25)\n      at new Watcher (node_modules/vue/dist/vue.common.dev.js:4479:12)\n      at mountComponent (node_modules/vue/dist/vue.common.dev.js:4085:3)\n      at VueComponent.Object.\u003canonymous\u003e.Vue.$mount (node_modules/vue/dist/vue.common.dev.js:9084:10)\n      at VueComponent.Object.\u003canonymous\u003e.Vue.$mount (node_modules/vue/dist/vue.common.dev.js:11989:16)\n      at init (node_modules/vue/dist/vue.common.dev.js:3140:13)\n      at createComponent (node_modules/vue/dist/vue.common.dev.js:6013:9)\n      at createElm (node_modules/vue/dist/vue.common.dev.js:5960:9)\n\n    console.error\n      TypeError: Cannot read properties of undefined (reading 'name')\n          at Proxy.render (/home/vitaly/Development/gitlab/customers-gitlab-com/app/frontend/javascripts/subscription/components/subscription_buttons/subscription_buttons_saas.vue:80:1)\n          at VueComponent.Vue._render (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:3568:22)\n          at VueComponent.updateComponent (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:4078:21)\n          at Watcher.get (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:4490:25)\n          at new Watcher (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:4479:12)\n          at mountComponent (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:4085:3)\n          at VueComponent.Object.\u003canonymous\u003e.Vue.$mount (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:9084:10)\n          at VueComponent.Object.\u003canonymous\u003e.Vue.$mount (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:11989:16)\n          at init (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:3140:13)\n          at createComponent (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:6013:9)\n          at createElm (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:5960:9)\n          at createChildren (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:6088:9)\n          at createElm (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:5989:9)\n          at createChildren (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:6088:9)\n          at createElm (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:5989:9)\n          at VueComponent.patch [as __patch__] (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:6510:7)\n          at VueComponent.Vue._update (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:3957:19)\n          at VueComponent.updateComponent (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:4078:10)\n          at Watcher.get (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:4490:25)\n          at new Watcher (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:4479:12)\n          at mountComponent (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:4085:3)\n          at VueComponent.Object.\u003canonymous\u003e.Vue.$mount (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:9084:10)\n          at VueComponent.Object.\u003canonymous\u003e.Vue.$mount (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:11989:16)\n          at init (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:3140:13)\n          at createComponent (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:6013:9)\n          at createElm (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:5960:9)\n          at VueComponent.patch [as __patch__] (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:6510:7)\n          at VueComponent.Vue._update (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:3957:19)\n          at VueComponent.updateComponent (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:4078:10)\n          at Watcher.get (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:4490:25)\n          at new Watcher (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:4479:12)\n          at mountComponent (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:4085:3)\n          at VueComponent.Object.\u003canonymous\u003e.Vue.$mount (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:9084:10)\n          at VueComponent.Object.\u003canonymous\u003e.Vue.$mount (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:11989:16)\n          at init (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:3140:13)\n          at createComponent (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:6013:9)\n          at createElm (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:5960:9)\n          at createChildren (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:6088:9)\n          at createElm (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:5989:9)\n          at VueComponent.patch [as __patch__] (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:6510:7)\n          at VueComponent.Vue._update (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:3957:19)\n          at VueComponent.updateComponent (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:4078:10)\n          at Watcher.get (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:4490:25)\n          at new Watcher (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:4479:12)\n          at mountComponent (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:4085:3)\n          at VueComponent.Object.\u003canonymous\u003e.Vue.$mount (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:9084:10)\n          at VueComponent.Object.\u003canonymous\u003e.Vue.$mount (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:11989:16)\n          at init (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:3140:13)\n          at createComponent (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:6013:9)\n          at createElm (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:5960:9)\n          at createChildren (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:6088:9)\n          at createElm (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:5989:9)\n          at VueComponent.patch [as __patch__] (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:6510:7)\n          at VueComponent.Vue._update (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:3957:19)\n          at VueComponent.updateComponent (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:4078:10)\n          at Watcher.get (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:4490:25)\n          at new Watcher (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:4479:12)\n          at mountComponent (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:4085:3)\n          at VueComponent.Object.\u003canonymous\u003e.Vue.$mount (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:9084:10)\n          at VueComponent.Object.\u003canonymous\u003e.Vue.$mount (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:11989:16)\n          at init (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:3140:13)\n          at createComponent (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:6013:9)\n          at createElm (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:5960:9)\n          at createChildren (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:6088:9)\n          at createElm (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:5989:9)\n          at VueComponent.patch [as __patch__] (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:6510:7)\n          at VueComponent.Vue._update (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:3957:19)\n          at VueComponent.updateComponent (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:4078:10)\n          at Watcher.get (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:4490:25)\n          at new Watcher (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:4479:12)\n          at mountComponent (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:4085:3)\n          at VueComponent.Object.\u003canonymous\u003e.Vue.$mount (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:9084:10)\n          at VueComponent.Object.\u003canonymous\u003e.Vue.$mount (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:11989:16)\n          at init (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:3140:13)\n          at createComponent (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:6013:9)\n          at createElm (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:5960:9)\n          at createChildren (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:6088:9)\n          at createElm (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:5989:9)\n          at VueComponent.patch [as __patch__] (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:6510:7)\n          at VueComponent.Vue._update (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:3957:19)\n          at VueComponent.updateComponent (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:4078:10)\n          at Watcher.get (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:4490:25)\n          at new Watcher (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:4479:12)\n          at mountComponent (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:4085:3)\n          at VueComponent.Object.\u003canonymous\u003e.Vue.$mount (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:9084:10)\n          at VueComponent.Object.\u003canonymous\u003e.Vue.$mount (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:11989:16)\n          at init (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:3140:13)\n          at createComponent (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:6013:9)\n          at createElm (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:5960:9)\n          at Vue.patch [as __patch__] (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:6510:7)\n          at Vue._update (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:3957:19)\n          at Vue.updateComponent (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:4078:10)\n          at Watcher.get (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:4490:25)\n          at new Watcher (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:4479:12)\n          at mountComponent (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:4085:3)\n          at Vue.Object.\u003canonymous\u003e.Vue.$mount (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:9084:10)\n          at Vue.Object.\u003canonymous\u003e.Vue.$mount (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:11989:16)\n          at getRenderedTree (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/@storybook/addon-storyshots/dist/ts3.9/frameworks/vue/renderTree.js:19:15)\n          at /home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/@storybook/addon-storyshots/dist/ts3.9/test-bodies.js:49:24\n          at Object.\u003canonymous\u003e (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/@storybook/addon-storyshots/dist/ts3.9/api/snapshotsTestsTemplate.js:29:24)\n          at Object.asyncJestTest (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/jest-jasmine2/build/jasmineAsyncInstall.js:106:37)\n          at /home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/jest-jasmine2/build/queueRunner.js:45:12\n          at new Promise (\u003canonymous\u003e)\n          at mapper (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/jest-jasmine2/build/queueRunner.js:28:19)\n          at /home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/jest-jasmine2/build/queueRunner.js:75:41\n          at processTicksAndRejections (node:internal/process/task_queues:96:5)\n\n      at logError (node_modules/vue/dist/vue.common.dev.js:1902:13)\n      at globalHandleError (node_modules/vue/dist/vue.common.dev.js:1893:3)\n      at handleError (node_modules/vue/dist/vue.common.dev.js:1853:5)\n      at VueComponent.Vue._render (node_modules/vue/dist/vue.common.dev.js:3570:7)\n      at VueComponent.updateComponent (node_modules/vue/dist/vue.common.dev.js:4078:21)\n      at Watcher.get (node_modules/vue/dist/vue.common.dev.js:4490:25)\n      at new Watcher (node_modules/vue/dist/vue.common.dev.js:4479:12)\n      at mountComponent (node_modules/vue/dist/vue.common.dev.js:4085:3)\n      at VueComponent.Object.\u003canonymous\u003e.Vue.$mount (node_modules/vue/dist/vue.common.dev.js:9084:10)\n      at VueComponent.Object.\u003canonymous\u003e.Vue.$mount (node_modules/vue/dist/vue.common.dev.js:11989:16)\n      at init (node_modules/vue/dist/vue.common.dev.js:3140:13)\n      at createComponent (node_modules/vue/dist/vue.common.dev.js:6013:9)\n      at createElm (node_modules/vue/dist/vue.common.dev.js:5960:9)\n      at createChildren (node_modules/vue/dist/vue.common.dev.js:6088:9)\n\n    console.error\n      [Vue warn]: $attrs is readonly.\n      \n      found in\n      \n      ---\u003e \u003cBLink\u003e\n             \u003cGlLink\u003e\n               \u003cBFormGroup\u003e\n                 \u003cGlFormGroup\u003e\n                   \u003cLicenseKeyButtons\u003e\n                     \u003cSubscriptionActivationLegacy\u003e\n                       \u003cSubscriptionActivation\u003e\n                         \u003cSubscription\u003e\n                           \u003cAnonymous\u003e\n                             \u003cAnonymous\u003e\n                               \u003cAnonymous\u003e\n                                 \u003cAnonymous\u003e\n                                   \u003cAnonymous\u003e\n                                     \u003cRoot\u003e\n\n      at warn (node_modules/vue/dist/vue.runtime.common.dev.js:621:15)\n      at node_modules/vue/dist/vue.runtime.common.dev.js:3517:36\n      at VueComponent.reactiveSetter [as $attrs] (node_modules/vue/dist/vue.runtime.common.dev.js:1047:9)\n      at updateChildComponent (node_modules/vue/dist/vue.common.dev.js:4149:13)\n      at prepatch (node_modules/vue/dist/vue.common.dev.js:3147:5)\n      at patchVnode (node_modules/vue/dist/vue.common.dev.js:6343:7)\n      at VueComponent.patch [as __patch__] (node_modules/vue/dist/vue.common.dev.js:6515:9)\n      at VueComponent.Vue._update (node_modules/vue/dist/vue.common.dev.js:3960:19)\n      at VueComponent.updateComponent (node_modules/vue/dist/vue.common.dev.js:4078:10)\n      at Watcher.get (node_modules/vue/dist/vue.common.dev.js:4490:25)\n      at Watcher.run (node_modules/vue/dist/vue.common.dev.js:4565:22)\n      at flushSchedulerQueue (node_modules/vue/dist/vue.common.dev.js:4323:13)\n      at Array.\u003canonymous\u003e (node_modules/vue/dist/vue.common.dev.js:1994:12)\n      at flushCallbacks (node_modules/vue/dist/vue.common.dev.js:1920:14)\n\n    console.error\n      [Vue warn]: $listeners is readonly.\n      \n      found in\n      \n      ---\u003e \u003cBLink\u003e\n             \u003cGlLink\u003e\n               \u003cBFormGroup\u003e\n                 \u003cGlFormGroup\u003e\n                   \u003cLicenseKeyButtons\u003e\n                     \u003cSubscriptionActivationLegacy\u003e\n                       \u003cSubscriptionActivation\u003e\n                         \u003cSubscription\u003e\n                           \u003cAnonymous\u003e\n                             \u003cAnonymous\u003e\n                               \u003cAnonymous\u003e\n                                 \u003cAnonymous\u003e\n                                   \u003cAnonymous\u003e\n                                     \u003cRoot\u003e\n\n      at warn (node_modules/vue/dist/vue.runtime.common.dev.js:621:15)\n      at node_modules/vue/dist/vue.runtime.common.dev.js:3520:36\n      at VueComponent.reactiveSetter [as $listeners] (node_modules/vue/dist/vue.runtime.common.dev.js:1047:9)\n      at updateChildComponent (node_modules/vue/dist/vue.common.dev.js:4150:17)\n      at prepatch (node_modules/vue/dist/vue.common.dev.js:3147:5)\n      at patchVnode (node_modules/vue/dist/vue.common.dev.js:6343:7)\n      at VueComponent.patch [as __patch__] (node_modules/vue/dist/vue.common.dev.js:6515:9)\n      at VueComponent.Vue._update (node_modules/vue/dist/vue.common.dev.js:3960:19)\n      at VueComponent.updateComponent (node_modules/vue/dist/vue.common.dev.js:4078:10)\n      at Watcher.get (node_modules/vue/dist/vue.common.dev.js:4490:25)\n      at Watcher.run (node_modules/vue/dist/vue.common.dev.js:4565:22)\n      at flushSchedulerQueue (node_modules/vue/dist/vue.common.dev.js:4323:13)\n      at Array.\u003canonymous\u003e (node_modules/vue/dist/vue.common.dev.js:1994:12)\n      at flushCallbacks (node_modules/vue/dist/vue.common.dev.js:1920:14)\n\n    console.error\n      [Vue warn]: Missing required prop: \"subscription\"\n      \n      found in\n      \n      ---\u003e \u003cSubscription\u003e\n             \u003cAnonymous\u003e\n               \u003cAnonymous\u003e\n                 \u003cAnonymous\u003e\n                   \u003cAnonymous\u003e\n                     \u003cAnonymous\u003e\n                       \u003cRoot\u003e\n\n      at warn (node_modules/vue/dist/vue.common.dev.js:630:15)\n      at assertProp (node_modules/vue/dist/vue.common.dev.js:1686:5)\n      at validateProp (node_modules/vue/dist/vue.common.dev.js:1637:5)\n      at loop (node_modules/vue/dist/vue.common.dev.js:4673:17)\n      at initProps (node_modules/vue/dist/vue.common.dev.js:4704:33)\n      at initState (node_modules/vue/dist/vue.common.dev.js:4647:21)\n      at VueComponent.Vue._init (node_modules/vue/dist/vue.common.dev.js:5010:5)\n      at new VueComponent (node_modules/vue/dist/vue.common.dev.js:5157:12)\n      at createComponentInstanceForVnode (node_modules/vue/dist/vue.common.dev.js:3307:10)\n      at init (node_modules/vue/dist/vue.common.dev.js:3136:45)\n      at createComponent (node_modules/vue/dist/vue.common.dev.js:6013:9)\n      at createElm (node_modules/vue/dist/vue.common.dev.js:5960:9)\n      at VueComponent.patch [as __patch__] (node_modules/vue/dist/vue.common.dev.js:6510:7)\n      at VueComponent.Vue._update (node_modules/vue/dist/vue.common.dev.js:3957:19)\n\n    console.error\n      [Vue warn]: $attrs is readonly.\n      \n      found in\n      \n      ---\u003e \u003cBLink\u003e\n             \u003cGlLink\u003e\n               \u003cBFormGroup\u003e\n                 \u003cGlFormGroup\u003e\n                   \u003cLicenseKeyButtons\u003e\n                     \u003cSubscriptionActivationLegacy\u003e\n                       \u003cSubscriptionActivation\u003e\n                         \u003cSubscription\u003e\n                           \u003cAnonymous\u003e\n                             \u003cAnonymous\u003e\n                               \u003cAnonymous\u003e\n                                 \u003cAnonymous\u003e\n                                   \u003cAnonymous\u003e\n                                     \u003cRoot\u003e\n\n      at warn (node_modules/vue/dist/vue.runtime.common.dev.js:621:15)\n      at node_modules/vue/dist/vue.runtime.common.dev.js:3517:36\n      at VueComponent.reactiveSetter [as $attrs] (node_modules/vue/dist/vue.runtime.common.dev.js:1047:9)\n      at updateChildComponent (node_modules/vue/dist/vue.common.dev.js:4149:13)\n      at prepatch (node_modules/vue/dist/vue.common.dev.js:3147:5)\n      at patchVnode (node_modules/vue/dist/vue.common.dev.js:6343:7)\n      at VueComponent.patch [as __patch__] (node_modules/vue/dist/vue.common.dev.js:6515:9)\n      at VueComponent.Vue._update (node_modules/vue/dist/vue.common.dev.js:3960:19)\n      at VueComponent.updateComponent (node_modules/vue/dist/vue.common.dev.js:4078:10)\n      at Watcher.get (node_modules/vue/dist/vue.common.dev.js:4490:25)\n      at Watcher.run (node_modules/vue/dist/vue.common.dev.js:4565:22)\n      at flushSchedulerQueue (node_modules/vue/dist/vue.common.dev.js:4323:13)\n      at Array.\u003canonymous\u003e (node_modules/vue/dist/vue.common.dev.js:1994:12)\n      at flushCallbacks (node_modules/vue/dist/vue.common.dev.js:1920:14)\n\n    console.error\n      [Vue warn]: $listeners is readonly.\n      \n      found in\n      \n      ---\u003e \u003cBLink\u003e\n             \u003cGlLink\u003e\n               \u003cBFormGroup\u003e\n                 \u003cGlFormGroup\u003e\n                   \u003cLicenseKeyButtons\u003e\n                     \u003cSubscriptionActivationLegacy\u003e\n                       \u003cSubscriptionActivation\u003e\n                         \u003cSubscription\u003e\n                           \u003cAnonymous\u003e\n                             \u003cAnonymous\u003e\n                               \u003cAnonymous\u003e\n                                 \u003cAnonymous\u003e\n                                   \u003cAnonymous\u003e\n                                     \u003cRoot\u003e\n\n      at warn (node_modules/vue/dist/vue.runtime.common.dev.js:621:15)\n      at node_modules/vue/dist/vue.runtime.common.dev.js:3520:36\n      at VueComponent.reactiveSetter [as $listeners] (node_modules/vue/dist/vue.runtime.common.dev.js:1047:9)\n      at updateChildComponent (node_modules/vue/dist/vue.common.dev.js:4150:17)\n      at prepatch (node_modules/vue/dist/vue.common.dev.js:3147:5)\n      at patchVnode (node_modules/vue/dist/vue.common.dev.js:6343:7)\n      at VueComponent.patch [as __patch__] (node_modules/vue/dist/vue.common.dev.js:6515:9)\n      at VueComponent.Vue._update (node_modules/vue/dist/vue.common.dev.js:3960:19)\n      at VueComponent.updateComponent (node_modules/vue/dist/vue.common.dev.js:4078:10)\n      at Watcher.get (node_modules/vue/dist/vue.common.dev.js:4490:25)\n      at Watcher.run (node_modules/vue/dist/vue.common.dev.js:4565:22)\n      at flushSchedulerQueue (node_modules/vue/dist/vue.common.dev.js:4323:13)\n      at Array.\u003canonymous\u003e (node_modules/vue/dist/vue.common.dev.js:1994:12)\n      at flushCallbacks (node_modules/vue/dist/vue.common.dev.js:1920:14)\n\n    console.error\n      [Vue warn]: Missing required prop: \"subscription\"\n      \n      found in\n      \n      ---\u003e \u003cSubscription\u003e\n             \u003cAnonymous\u003e\n               \u003cAnonymous\u003e\n                 \u003cAnonymous\u003e\n                   \u003cAnonymous\u003e\n                     \u003cAnonymous\u003e\n                       \u003cRoot\u003e\n\n      at warn (node_modules/vue/dist/vue.common.dev.js:630:15)\n      at assertProp (node_modules/vue/dist/vue.common.dev.js:1686:5)\n      at validateProp (node_modules/vue/dist/vue.common.dev.js:1637:5)\n      at loop (node_modules/vue/dist/vue.common.dev.js:4673:17)\n      at initProps (node_modules/vue/dist/vue.common.dev.js:4704:33)\n      at initState (node_modules/vue/dist/vue.common.dev.js:4647:21)\n      at VueComponent.Vue._init (node_modules/vue/dist/vue.common.dev.js:5010:5)\n      at new VueComponent (node_modules/vue/dist/vue.common.dev.js:5157:12)\n      at createComponentInstanceForVnode (node_modules/vue/dist/vue.common.dev.js:3307:10)\n      at init (node_modules/vue/dist/vue.common.dev.js:3136:45)\n      at createComponent (node_modules/vue/dist/vue.common.dev.js:6013:9)\n      at createElm (node_modules/vue/dist/vue.common.dev.js:5960:9)\n      at VueComponent.patch [as __patch__] (node_modules/vue/dist/vue.common.dev.js:6510:7)\n      at VueComponent.Vue._update (node_modules/vue/dist/vue.common.dev.js:3957:19)\n\n    console.error\n      [Vue warn]: Invalid prop: type check failed for prop \"subscription\". Expected Object, got Undefined \n      \n      found in\n      \n      ---\u003e \u003cSubscriptionButtonsEE\u003e\n             \u003cSubscription\u003e\n               \u003cAnonymous\u003e\n                 \u003cAnonymous\u003e\n                   \u003cAnonymous\u003e\n                     \u003cAnonymous\u003e\n                       \u003cAnonymous\u003e\n                         \u003cRoot\u003e\n\n      at warn (node_modules/vue/dist/vue.common.dev.js:630:15)\n      at assertProp (node_modules/vue/dist/vue.common.dev.js:1711:5)\n      at validateProp (node_modules/vue/dist/vue.common.dev.js:1637:5)\n      at loop (node_modules/vue/dist/vue.common.dev.js:4673:17)\n      at initProps (node_modules/vue/dist/vue.common.dev.js:4704:33)\n      at initState (node_modules/vue/dist/vue.common.dev.js:4647:21)\n      at VueComponent.Vue._init (node_modules/vue/dist/vue.common.dev.js:5010:5)\n      at new VueComponent (node_modules/vue/dist/vue.common.dev.js:5157:12)\n      at createComponentInstanceForVnode (node_modules/vue/dist/vue.common.dev.js:3307:10)\n      at init (node_modules/vue/dist/vue.common.dev.js:3136:45)\n      at createComponent (node_modules/vue/dist/vue.common.dev.js:6013:9)\n      at createElm (node_modules/vue/dist/vue.common.dev.js:5960:9)\n      at createChildren (node_modules/vue/dist/vue.common.dev.js:6088:9)\n      at createElm (node_modules/vue/dist/vue.common.dev.js:5989:9)\n\n    console.error\n      [Vue warn]: Error in render: \"TypeError: Cannot read properties of undefined (reading 'name')\"\n      \n      found in\n      \n      ---\u003e \u003cSubscriptionButtonsEE\u003e\n             \u003cSubscription\u003e\n               \u003cAnonymous\u003e\n                 \u003cAnonymous\u003e\n                   \u003cAnonymous\u003e\n                     \u003cAnonymous\u003e\n                       \u003cAnonymous\u003e\n                         \u003cRoot\u003e\n\n      at warn (node_modules/vue/dist/vue.common.dev.js:630:15)\n      at logError (node_modules/vue/dist/vue.common.dev.js:1898:5)\n      at globalHandleError (node_modules/vue/dist/vue.common.dev.js:1893:3)\n      at handleError (node_modules/vue/dist/vue.common.dev.js:1853:5)\n      at VueComponent.Vue._render (node_modules/vue/dist/vue.common.dev.js:3570:7)\n      at VueComponent.updateComponent (node_modules/vue/dist/vue.common.dev.js:4078:21)\n      at Watcher.get (node_modules/vue/dist/vue.common.dev.js:4490:25)\n      at new Watcher (node_modules/vue/dist/vue.common.dev.js:4479:12)\n      at mountComponent (node_modules/vue/dist/vue.common.dev.js:4085:3)\n      at VueComponent.Object.\u003canonymous\u003e.Vue.$mount (node_modules/vue/dist/vue.common.dev.js:9084:10)\n      at VueComponent.Object.\u003canonymous\u003e.Vue.$mount (node_modules/vue/dist/vue.common.dev.js:11989:16)\n      at init (node_modules/vue/dist/vue.common.dev.js:3140:13)\n      at createComponent (node_modules/vue/dist/vue.common.dev.js:6013:9)\n      at createElm (node_modules/vue/dist/vue.common.dev.js:5960:9)\n\n    console.error\n      TypeError: Cannot read properties of undefined (reading 'name')\n          at Proxy.render (/home/vitaly/Development/gitlab/customers-gitlab-com/app/frontend/javascripts/subscription/components/subscription_buttons/subscription_buttons_ee.vue:74:1)\n          at VueComponent.Vue._render (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:3568:22)\n          at VueComponent.updateComponent (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:4078:21)\n          at Watcher.get (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:4490:25)\n          at new Watcher (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:4479:12)\n          at mountComponent (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:4085:3)\n          at VueComponent.Object.\u003canonymous\u003e.Vue.$mount (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:9084:10)\n          at VueComponent.Object.\u003canonymous\u003e.Vue.$mount (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:11989:16)\n          at init (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:3140:13)\n          at createComponent (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:6013:9)\n          at createElm (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:5960:9)\n          at createChildren (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:6088:9)\n          at createElm (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:5989:9)\n          at createChildren (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:6088:9)\n          at createElm (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:5989:9)\n          at VueComponent.patch [as __patch__] (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:6510:7)\n          at VueComponent.Vue._update (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:3957:19)\n          at VueComponent.updateComponent (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:4078:10)\n          at Watcher.get (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:4490:25)\n          at new Watcher (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:4479:12)\n          at mountComponent (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:4085:3)\n          at VueComponent.Object.\u003canonymous\u003e.Vue.$mount (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:9084:10)\n          at VueComponent.Object.\u003canonymous\u003e.Vue.$mount (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:11989:16)\n          at init (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:3140:13)\n          at createComponent (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:6013:9)\n          at createElm (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:5960:9)\n          at VueComponent.patch [as __patch__] (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:6510:7)\n          at VueComponent.Vue._update (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:3957:19)\n          at VueComponent.updateComponent (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:4078:10)\n          at Watcher.get (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:4490:25)\n          at new Watcher (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:4479:12)\n          at mountComponent (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:4085:3)\n          at VueComponent.Object.\u003canonymous\u003e.Vue.$mount (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:9084:10)\n          at VueComponent.Object.\u003canonymous\u003e.Vue.$mount (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:11989:16)\n          at init (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:3140:13)\n          at createComponent (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:6013:9)\n          at createElm (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:5960:9)\n          at createChildren (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:6088:9)\n          at createElm (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:5989:9)\n          at VueComponent.patch [as __patch__] (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:6510:7)\n          at VueComponent.Vue._update (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:3957:19)\n          at VueComponent.updateComponent (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:4078:10)\n          at Watcher.get (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:4490:25)\n          at new Watcher (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:4479:12)\n          at mountComponent (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:4085:3)\n          at VueComponent.Object.\u003canonymous\u003e.Vue.$mount (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:9084:10)\n          at VueComponent.Object.\u003canonymous\u003e.Vue.$mount (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:11989:16)\n          at init (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:3140:13)\n          at createComponent (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:6013:9)\n          at createElm (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:5960:9)\n          at createChildren (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:6088:9)\n          at createElm (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:5989:9)\n          at VueComponent.patch [as __patch__] (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:6510:7)\n          at VueComponent.Vue._update (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:3957:19)\n          at VueComponent.updateComponent (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:4078:10)\n          at Watcher.get (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:4490:25)\n          at new Watcher (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:4479:12)\n          at mountComponent (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:4085:3)\n          at VueComponent.Object.\u003canonymous\u003e.Vue.$mount (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:9084:10)\n          at VueComponent.Object.\u003canonymous\u003e.Vue.$mount (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:11989:16)\n          at init (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:3140:13)\n          at createComponent (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:6013:9)\n          at createElm (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:5960:9)\n          at createChildren (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:6088:9)\n          at createElm (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:5989:9)\n          at VueComponent.patch [as __patch__] (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:6510:7)\n          at VueComponent.Vue._update (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:3957:19)\n          at VueComponent.updateComponent (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:4078:10)\n          at Watcher.get (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:4490:25)\n          at new Watcher (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:4479:12)\n          at mountComponent (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:4085:3)\n          at VueComponent.Object.\u003canonymous\u003e.Vue.$mount (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:9084:10)\n          at VueComponent.Object.\u003canonymous\u003e.Vue.$mount (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:11989:16)\n          at init (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:3140:13)\n          at createComponent (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:6013:9)\n          at createElm (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:5960:9)\n          at createChildren (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:6088:9)\n          at createElm (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:5989:9)\n          at VueComponent.patch [as __patch__] (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:6510:7)\n          at VueComponent.Vue._update (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:3957:19)\n          at VueComponent.updateComponent (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:4078:10)\n          at Watcher.get (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:4490:25)\n          at new Watcher (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:4479:12)\n          at mountComponent (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:4085:3)\n          at VueComponent.Object.\u003canonymous\u003e.Vue.$mount (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:9084:10)\n          at VueComponent.Object.\u003canonymous\u003e.Vue.$mount (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:11989:16)\n          at init (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:3140:13)\n          at createComponent (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:6013:9)\n          at createElm (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:5960:9)\n          at Vue.patch [as __patch__] (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:6510:7)\n          at Vue._update (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:3957:19)\n          at Vue.updateComponent (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:4078:10)\n          at Watcher.get (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:4490:25)\n          at new Watcher (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:4479:12)\n          at mountComponent (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:4085:3)\n          at Vue.Object.\u003canonymous\u003e.Vue.$mount (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:9084:10)\n          at Vue.Object.\u003canonymous\u003e.Vue.$mount (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/vue/dist/vue.common.dev.js:11989:16)\n          at getRenderedTree (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/@storybook/addon-storyshots/dist/ts3.9/frameworks/vue/renderTree.js:19:15)\n          at /home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/@storybook/addon-storyshots/dist/ts3.9/test-bodies.js:49:24\n          at Object.\u003canonymous\u003e (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/@storybook/addon-storyshots/dist/ts3.9/api/snapshotsTestsTemplate.js:29:24)\n          at Object.asyncJestTest (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/jest-jasmine2/build/jasmineAsyncInstall.js:106:37)\n          at /home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/jest-jasmine2/build/queueRunner.js:45:12\n          at new Promise (\u003canonymous\u003e)\n          at mapper (/home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/jest-jasmine2/build/queueRunner.js:28:19)\n          at /home/vitaly/Development/gitlab/customers-gitlab-com/node_modules/jest-jasmine2/build/queueRunner.js:75:41\n          at processTicksAndRejections (node:internal/process/task_queues:96:5)\n\n      at logError (node_modules/vue/dist/vue.common.dev.js:1902:13)\n      at globalHandleError (node_modules/vue/dist/vue.common.dev.js:1893:3)\n      at handleError (node_modules/vue/dist/vue.common.dev.js:1853:5)\n      at VueComponent.Vue._render (node_modules/vue/dist/vue.common.dev.js:3570:7)\n      at VueComponent.updateComponent (node_modules/vue/dist/vue.common.dev.js:4078:21)\n      at Watcher.get (node_modules/vue/dist/vue.common.dev.js:4490:25)\n      at new Watcher (node_modules/vue/dist/vue.common.dev.js:4479:12)\n      at mountComponent (node_modules/vue/dist/vue.common.dev.js:4085:3)\n      at VueComponent.Object.\u003canonymous\u003e.Vue.$mount (node_modules/vue/dist/vue.common.dev.js:9084:10)\n      at VueComponent.Object.\u003canonymous\u003e.Vue.$mount (node_modules/vue/dist/vue.common.dev.js:11989:16)\n      at init (node_modules/vue/dist/vue.common.dev.js:3140:13)\n      at createComponent (node_modules/vue/dist/vue.common.dev.js:6013:9)\n      at createElm (node_modules/vue/dist/vue.common.dev.js:5960:9)\n      at createChildren (node_modules/vue/dist/vue.common.dev.js:6088:9)\n\n    console.error\n      [Vue warn]: $attrs is readonly.\n      \n      found in\n      \n      ---\u003e \u003cBLink\u003e\n             \u003cGlLink\u003e\n               \u003cBFormGroup\u003e\n                 \u003cGlFormGroup\u003e\n                   \u003cLicenseKeyButtons\u003e\n                     \u003cSubscriptionActivationLegacy\u003e\n                       \u003cSubscriptionActivation\u003e\n                         \u003cAnonymous\u003e\n                           \u003cAnonymous\u003e\n                             \u003cAnonymous\u003e\n                               \u003cAnonymous\u003e\n                                 \u003cAnonymous\u003e\n                                   \u003cRoot\u003e\n\n      at warn (node_modules/vue/dist/vue.runtime.common.dev.js:621:15)\n      at node_modules/vue/dist/vue.runtime.common.dev.js:3517:36\n      at VueComponent.reactiveSetter [as $attrs] (node_modules/vue/dist/vue.runtime.common.dev.js:1047:9)\n      at updateChildComponent (node_modules/vue/dist/vue.common.dev.js:4149:13)\n      at prepatch (node_modules/vue/dist/vue.common.dev.js:3147:5)\n      at patchVnode (node_modules/vue/dist/vue.common.dev.js:6343:7)\n      at VueComponent.patch [as __patch__] (node_modules/vue/dist/vue.common.dev.js:6515:9)\n      at VueComponent.Vue._update (node_modules/vue/dist/vue.common.dev.js:3960:19)\n      at VueComponent.updateComponent (node_modules/vue/dist/vue.common.dev.js:4078:10)\n      at Watcher.get (node_modules/vue/dist/vue.common.dev.js:4490:25)\n      at Watcher.run (node_modules/vue/dist/vue.common.dev.js:4565:22)\n      at flushSchedulerQueue (node_modules/vue/dist/vue.common.dev.js:4323:13)\n      at Array.\u003canonymous\u003e (node_modules/vue/dist/vue.common.dev.js:1994:12)\n      at flushCallbacks (node_modules/vue/dist/vue.common.dev.js:1920:14)\n\n    console.error\n      [Vue warn]: $listeners is readonly.\n      \n      found in\n      \n      ---\u003e \u003cBLink\u003e\n             \u003cGlLink\u003e\n               \u003cBFormGroup\u003e\n                 \u003cGlFormGroup\u003e\n                   \u003cLicenseKeyButtons\u003e\n                     \u003cSubscriptionActivationLegacy\u003e\n                       \u003cSubscriptionActivation\u003e\n                         \u003cAnonymous\u003e\n                           \u003cAnonymous\u003e\n                             \u003cAnonymous\u003e\n                               \u003cAnonymous\u003e\n                                 \u003cAnonymous\u003e\n                                   \u003cRoot\u003e\n\n      at warn (node_modules/vue/dist/vue.runtime.common.dev.js:621:15)\n      at node_modules/vue/dist/vue.runtime.common.dev.js:3520:36\n      at VueComponent.reactiveSetter [as $listeners] (node_modules/vue/dist/vue.runtime.common.dev.js:1047:9)\n      at updateChildComponent (node_modules/vue/dist/vue.common.dev.js:4150:17)\n      at prepatch (node_modules/vue/dist/vue.common.dev.js:3147:5)\n      at patchVnode (node_modules/vue/dist/vue.common.dev.js:6343:7)\n      at VueComponent.patch [as __patch__] (node_modules/vue/dist/vue.common.dev.js:6515:9)\n      at VueComponent.Vue._update (node_modules/vue/dist/vue.common.dev.js:3960:19)\n      at VueComponent.updateComponent (node_modules/vue/dist/vue.common.dev.js:4078:10)\n      at Watcher.get (node_modules/vue/dist/vue.common.dev.js:4490:25)\n      at Watcher.run (node_modules/vue/dist/vue.common.dev.js:4565:22)\n      at flushSchedulerQueue (node_modules/vue/dist/vue.common.dev.js:4323:13)\n      at Array.\u003canonymous\u003e (node_modules/vue/dist/vue.common.dev.js:1994:12)\n      at flushCallbacks (node_modules/vue/dist/vue.common.dev.js:1920:14)\n\n    console.error\n      [Vue warn]: $attrs is readonly.\n      \n      found in\n      \n      ---\u003e \u003cBLink\u003e\n             \u003cGlLink\u003e\n               \u003cBFormGroup\u003e\n                 \u003cGlFormGroup\u003e\n                   \u003cLicenseKeyButtons\u003e\n                     \u003cSubscriptionActivationLegacy\u003e\n                       \u003cSubscriptionActivation\u003e\n                         \u003cAnonymous\u003e\n                           \u003cAnonymous\u003e\n                             \u003cAnonymous\u003e\n                               \u003cAnonymous\u003e\n                                 \u003cAnonymous\u003e\n                                   \u003cRoot\u003e\n\n      at warn (node_modules/vue/dist/vue.runtime.common.dev.js:621:15)\n      at node_modules/vue/dist/vue.runtime.common.dev.js:3517:36\n      at VueComponent.reactiveSetter [as $attrs] (node_modules/vue/dist/vue.runtime.common.dev.js:1047:9)\n      at updateChildComponent (node_modules/vue/dist/vue.common.dev.js:4149:13)\n      at prepatch (node_modules/vue/dist/vue.common.dev.js:3147:5)\n      at patchVnode (node_modules/vue/dist/vue.common.dev.js:6343:7)\n      at VueComponent.patch [as __patch__] (node_modules/vue/dist/vue.common.dev.js:6515:9)\n      at VueComponent.Vue._update (node_modules/vue/dist/vue.common.dev.js:3960:19)\n      at VueComponent.updateComponent (node_modules/vue/dist/vue.common.dev.js:4078:10)\n      at Watcher.get (node_modules/vue/dist/vue.common.dev.js:4490:25)\n      at Watcher.run (node_modules/vue/dist/vue.common.dev.js:4565:22)\n      at flushSchedulerQueue (node_modules/vue/dist/vue.common.dev.js:4323:13)\n      at Array.\u003canonymous\u003e (node_modules/vue/dist/vue.common.dev.js:1994:12)\n      at flushCallbacks (node_modules/vue/dist/vue.common.dev.js:1920:14)\n\n    console.error\n      [Vue warn]: $listeners is readonly.\n      \n      found in\n      \n      ---\u003e \u003cBLink\u003e\n             \u003cGlLink\u003e\n               \u003cBFormGroup\u003e\n                 \u003cGlFormGroup\u003e\n                   \u003cLicenseKeyButtons\u003e\n                     \u003cSubscriptionActivationLegacy\u003e\n                       \u003cSubscriptionActivation\u003e\n                         \u003cAnonymous\u003e\n                           \u003cAnonymous\u003e\n                             \u003cAnonymous\u003e\n                               \u003cAnonymous\u003e\n                                 \u003cAnonymous\u003e\n                                   \u003cRoot\u003e\n\n      at warn (node_modules/vue/dist/vue.runtime.common.dev.js:621:15)\n      at node_modules/vue/dist/vue.runtime.common.dev.js:3520:36\n      at VueComponent.reactiveSetter [as $listeners] (node_modules/vue/dist/vue.runtime.common.dev.js:1047:9)\n      at updateChildComponent (node_modules/vue/dist/vue.common.dev.js:4150:17)\n      at prepatch (node_modules/vue/dist/vue.common.dev.js:3147:5)\n      at patchVnode (node_modules/vue/dist/vue.common.dev.js:6343:7)\n      at VueComponent.patch [as __patch__] (node_modules/vue/dist/vue.common.dev.js:6515:9)\n      at VueComponent.Vue._update (node_modules/vue/dist/vue.common.dev.js:3960:19)\n      at VueComponent.updateComponent (node_modules/vue/dist/vue.common.dev.js:4078:10)\n      at Watcher.get (node_modules/vue/dist/vue.common.dev.js:4490:25)\n      at Watcher.run (node_modules/vue/dist/vue.common.dev.js:4565:22)\n      at flushSchedulerQueue (node_modules/vue/dist/vue.common.dev.js:4323:13)\n      at Array.\u003canonymous\u003e (node_modules/vue/dist/vue.common.dev.js:1994:12)\n      at flushCallbacks (node_modules/vue/dist/vue.common.dev.js:1920:14)\n\n    console.error\n      [Vue warn]: Missing required prop: \"autoRenew\"\n      \n      found in\n      \n      ---\u003e \u003cSubscriptionButtonsEE\u003e\n             \u003cAnonymous\u003e\n               \u003cAnonymous\u003e\n                 \u003cAnonymous\u003e\n                   \u003cAnonymous\u003e\n                     \u003cAnonymous\u003e\n                       \u003cRoot\u003e\n\n      at warn (node_modules/vue/dist/vue.common.dev.js:630:15)\n      at assertProp (node_modules/vue/dist/vue.common.dev.js:1686:5)\n      at validateProp (node_modules/vue/dist/vue.common.dev.js:1637:5)\n      at loop (node_modules/vue/dist/vue.common.dev.js:4673:17)\n      at initProps (node_modules/vue/dist/vue.common.dev.js:4704:33)\n      at initState (node_modules/vue/dist/vue.common.dev.js:4647:21)\n      at VueComponent.Vue._init (node_modules/vue/dist/vue.common.dev.js:5010:5)\n      at new VueComponent (node_modules/vue/dist/vue.common.dev.js:5157:12)\n      at createComponentInstanceForVnode (node_modules/vue/dist/vue.common.dev.js:3307:10)\n      at init (node_modules/vue/dist/vue.common.dev.js:3136:45)\n      at createComponent (node_modules/vue/dist/vue.common.dev.js:6013:9)\n      at createElm (node_modules/vue/dist/vue.common.dev.js:5960:9)\n      at VueComponent.patch [as __patch__] (node_modules/vue/dist/vue.common.dev.js:6510:7)\n      at VueComponent.Vue._update (node_modules/vue/dist/vue.common.dev.js:3957:19)\n\n    console.error\n      [Vue warn]: $attrs is readonly.\n      \n      found in\n      \n      ---\u003e \u003cBLink\u003e\n             \u003cGlLink\u003e\n               \u003cBFormGroup\u003e\n                 \u003cGlFormGroup\u003e\n                   \u003cLicenseKeyButtons\u003e\n                     \u003cSubscriptionActivationLegacy\u003e\n                       \u003cSubscriptionActivation\u003e\n                         \u003cSubscription\u003e\n                           \u003cSubscriptionList\u003e\n                             \u003cAnonymous\u003e\n                               \u003cAnonymous\u003e\n                                 \u003cAnonymous\u003e\n                                   \u003cAnonymous\u003e\n                                     \u003cAnonymous\u003e\n                                       \u003cRoot\u003e\n\n      at warn (node_modules/vue/dist/vue.runtime.common.dev.js:621:15)\n      at node_modules/vue/dist/vue.runtime.common.dev.js:3517:36\n      at VueComponent.reactiveSetter [as $attrs] (node_modules/vue/dist/vue.runtime.common.dev.js:1047:9)\n      at updateChildComponent (node_modules/vue/dist/vue.common.dev.js:4149:13)\n      at prepatch (node_modules/vue/dist/vue.common.dev.js:3147:5)\n      at patchVnode (node_modules/vue/dist/vue.common.dev.js:6343:7)\n      at VueComponent.patch [as __patch__] (node_modules/vue/dist/vue.common.dev.js:6515:9)\n      at VueComponent.Vue._update (node_modules/vue/dist/vue.common.dev.js:3960:19)\n      at VueComponent.updateComponent (node_modules/vue/dist/vue.common.dev.js:4078:10)\n      at Watcher.get (node_modules/vue/dist/vue.common.dev.js:4490:25)\n      at Watcher.run (node_modules/vue/dist/vue.common.dev.js:4565:22)\n      at flushSchedulerQueue (node_modules/vue/dist/vue.common.dev.js:4323:13)\n      at Array.\u003canonymous\u003e (node_modules/vue/dist/vue.common.dev.js:1994:12)\n      at flushCallbacks (node_modules/vue/dist/vue.common.dev.js:1920:14)\n\n    console.error\n      [Vue warn]: $listeners is readonly.\n      \n      found in\n      \n      ---\u003e \u003cBLink\u003e\n             \u003cGlLink\u003e\n               \u003cBFormGroup\u003e\n                 \u003cGlFormGroup\u003e\n                   \u003cLicenseKeyButtons\u003e\n                     \u003cSubscriptionActivationLegacy\u003e\n                       \u003cSubscriptionActivation\u003e\n                         \u003cSubscription\u003e\n                           \u003cSubscriptionList\u003e\n                             \u003cAnonymous\u003e\n                               \u003cAnonymous\u003e\n                                 \u003cAnonymous\u003e\n                                   \u003cAnonymous\u003e\n                                     \u003cAnonymous\u003e\n                                       \u003cRoot\u003e\n\n      at warn (node_modules/vue/dist/vue.runtime.common.dev.js:621:15)\n      at node_modules/vue/dist/vue.runtime.common.dev.js:3520:36\n      at VueComponent.reactiveSetter [as $listeners] (node_modules/vue/dist/vue.runtime.common.dev.js:1047:9)\n      at updateChildComponent (node_modules/vue/dist/vue.common.dev.js:4150:17)\n      at prepatch (node_modules/vue/dist/vue.common.dev.js:3147:5)\n      at patchVnode (node_modules/vue/dist/vue.common.dev.js:6343:7)\n      at VueComponent.patch [as __patch__] (node_modules/vue/dist/vue.common.dev.js:6515:9)\n      at VueComponent.Vue._update (node_modules/vue/dist/vue.common.dev.js:3960:19)\n      at VueComponent.updateComponent (node_modules/vue/dist/vue.common.dev.js:4078:10)\n      at Watcher.get (node_modules/vue/dist/vue.common.dev.js:4490:25)\n      at Watcher.run (node_modules/vue/dist/vue.common.dev.js:4565:22)\n      at flushSchedulerQueue (node_modules/vue/dist/vue.common.dev.js:4323:13)\n      at Array.\u003canonymous\u003e (node_modules/vue/dist/vue.common.dev.js:1994:12)\n      at flushCallbacks (node_modules/vue/dist/vue.common.dev.js:1920:14)\n\n    console.error\n      [Vue warn]: $attrs is readonly.\n      \n      found in\n      \n      ---\u003e \u003cBLink\u003e\n             \u003cGlLink\u003e\n               \u003cBFormGroup\u003e\n                 \u003cGlFormGroup\u003e\n                   \u003cLicenseKeyButtons\u003e\n                     \u003cSubscriptionActivationLegacy\u003e\n                       \u003cSubscriptionActivation\u003e\n                         \u003cSubscription\u003e\n                           \u003cSubscriptionList\u003e\n                             \u003cAnonymous\u003e\n                               \u003cAnonymous\u003e\n                                 \u003cAnonymous\u003e\n                                   \u003cAnonymous\u003e\n                                     \u003cAnonymous\u003e\n                                       \u003cRoot\u003e\n\n      at warn (node_modules/vue/dist/vue.runtime.common.dev.js:621:15)\n      at node_modules/vue/dist/vue.runtime.common.dev.js:3517:36\n      at VueComponent.reactiveSetter [as $attrs] (node_modules/vue/dist/vue.runtime.common.dev.js:1047:9)\n      at updateChildComponent (node_modules/vue/dist/vue.common.dev.js:4149:13)\n      at prepatch (node_modules/vue/dist/vue.common.dev.js:3147:5)\n      at patchVnode (node_modules/vue/dist/vue.common.dev.js:6343:7)\n      at VueComponent.patch [as __patch__] (node_modules/vue/dist/vue.common.dev.js:6515:9)\n      at VueComponent.Vue._update (node_modules/vue/dist/vue.common.dev.js:3960:19)\n      at VueComponent.updateComponent (node_modules/vue/dist/vue.common.dev.js:4078:10)\n      at Watcher.get (node_modules/vue/dist/vue.common.dev.js:4490:25)\n      at Watcher.run (node_modules/vue/dist/vue.common.dev.js:4565:22)\n      at flushSchedulerQueue (node_modules/vue/dist/vue.common.dev.js:4323:13)\n      at Array.\u003canonymous\u003e (node_modules/vue/dist/vue.common.dev.js:1994:12)\n      at flushCallbacks (node_modules/vue/dist/vue.common.dev.js:1920:14)\n\n    console.error\n      [Vue warn]: $listeners is readonly.\n      \n      found in\n      \n      ---\u003e \u003cBLink\u003e\n             \u003cGlLink\u003e\n               \u003cBFormGroup\u003e\n                 \u003cGlFormGroup\u003e\n                   \u003cLicenseKeyButtons\u003e\n                     \u003cSubscriptionActivationLegacy\u003e\n                       \u003cSubscriptionActivation\u003e\n                         \u003cSubscription\u003e\n                           \u003cSubscriptionList\u003e\n                             \u003cAnonymous\u003e\n                               \u003cAnonymous\u003e\n                                 \u003cAnonymous\u003e\n                                   \u003cAnonymous\u003e\n                                     \u003cAnonymous\u003e\n                                       \u003cRoot\u003e\n\n      at warn (node_modules/vue/dist/vue.runtime.common.dev.js:621:15)\n      at node_modules/vue/dist/vue.runtime.common.dev.js:3520:36\n      at VueComponent.reactiveSetter [as $listeners] (node_modules/vue/dist/vue.runtime.common.dev.js:1047:9)\n      at updateChildComponent (node_modules/vue/dist/vue.common.dev.js:4150:17)\n      at prepatch (node_modules/vue/dist/vue.common.dev.js:3147:5)\n      at patchVnode (node_modules/vue/dist/vue.common.dev.js:6343:7)\n      at VueComponent.patch [as __patch__] (node_modules/vue/dist/vue.common.dev.js:6515:9)\n      at VueComponent.Vue._update (node_modules/vue/dist/vue.common.dev.js:3960:19)\n      at VueComponent.updateComponent (node_modules/vue/dist/vue.common.dev.js:4078:10)\n      at Watcher.get (node_modules/vue/dist/vue.common.dev.js:4490:25)\n      at Watcher.run (node_modules/vue/dist/vue.common.dev.js:4565:22)\n      at flushSchedulerQueue (node_modules/vue/dist/vue.common.dev.js:4323:13)\n      at Array.\u003canonymous\u003e (node_modules/vue/dist/vue.common.dev.js:1994:12)\n      at flushCallbacks (node_modules/vue/dist/vue.common.dev.js:1920:14)\n\n PASS  spec/frontend/subscription/components/renew_community_base_subscription_form_spec.js\n PASS  spec/frontend/components/form_action_button_spec.js\n PASS  spec/frontend/subscription/components/subscription_renew_form_spec.js (5.659 s)\n  ● Console\n\n    console.error\n      [Vue warn]: Invalid prop: type check failed for prop \"selectedPlanId\". Expected String, got Undefined \n      \n      found in\n      \n      ---\u003e \u003cSubscriptionRenewUpgradePlans\u003e\n             \u003cTransactionCard\u003e\n               \u003cSubscriptionRenewForm\u003e\n                 \u003cRoot\u003e\n\n      at warn (node_modules/vue/dist/vue.runtime.common.dev.js:621:15)\n      at assertProp (node_modules/vue/dist/vue.runtime.common.dev.js:1702:5)\n      at validateProp (node_modules/vue/dist/vue.runtime.common.dev.js:1628:5)\n      at updateChildComponent (node_modules/vue/dist/vue.runtime.common.dev.js:4151:20)\n      at prepatch (node_modules/vue/dist/vue.runtime.common.dev.js:3138:5)\n      at patchVnode (node_modules/vue/dist/vue.runtime.common.dev.js:6332:7)\n      at updateChildren (node_modules/vue/dist/vue.runtime.common.dev.js:6217:9)\n      at patchVnode (node_modules/vue/dist/vue.runtime.common.dev.js:6343:29)\n      at updateChildren (node_modules/vue/dist/vue.runtime.common.dev.js:6217:9)\n      at patchVnode (node_modules/vue/dist/vue.runtime.common.dev.js:6343:29)\n      at VueComponent.patch [as __patch__] (node_modules/vue/dist/vue.runtime.common.dev.js:6504:9)\n      at VueComponent.Vue._update (node_modules/vue/dist/vue.runtime.common.dev.js:3951:19)\n      at VueComponent.updateComponent (node_modules/vue/dist/vue.runtime.common.dev.js:4069:10)\n      at Watcher.get (node_modules/vue/dist/vue.runtime.common.dev.js:4481:25)\n\n    console.error\n      [Vue warn]: Invalid prop: type check failed for prop \"checkedProductId\". Expected String, got Undefined \n      \n      found in\n      \n      ---\u003e \u003cProductRadioGroup\u003e\n             \u003cSubscriptionRenewUpgradePlans\u003e\n               \u003cTransactionCard\u003e\n                 \u003cSubscriptionRenewForm\u003e\n                   \u003cRoot\u003e\n\n      at warn (node_modules/vue/dist/vue.runtime.common.dev.js:621:15)\n      at assertProp (node_modules/vue/dist/vue.runtime.common.dev.js:1702:5)\n      at validateProp (node_modules/vue/dist/vue.runtime.common.dev.js:1628:5)\n      at updateChildComponent (node_modules/vue/dist/vue.runtime.common.dev.js:4151:20)\n      at prepatch (node_modules/vue/dist/vue.runtime.common.dev.js:3138:5)\n      at patchVnode (node_modules/vue/dist/vue.runtime.common.dev.js:6332:7)\n      at updateChildren (node_modules/vue/dist/vue.runtime.common.dev.js:6217:9)\n      at patchVnode (node_modules/vue/dist/vue.runtime.common.dev.js:6343:29)\n      at VueComponent.patch [as __patch__] (node_modules/vue/dist/vue.runtime.common.dev.js:6504:9)\n      at VueComponent.Vue._update (node_modules/vue/dist/vue.runtime.common.dev.js:3951:19)\n      at VueComponent.updateComponent (node_modules/vue/dist/vue.runtime.common.dev.js:4069:10)\n      at Watcher.get (node_modules/vue/dist/vue.runtime.common.dev.js:4481:25)\n      at Watcher.run (node_modules/vue/dist/vue.runtime.common.dev.js:4556:22)\n      at flushSchedulerQueue (node_modules/vue/dist/vue.runtime.common.dev.js:4314:13)\n\n    console.error\n      [Vue warn]: Invalid prop: type check failed for prop \"selectedPlanId\". Expected String, got Undefined \n      \n      found in\n      \n      ---\u003e \u003cSubscriptionRenewUpgradePlans\u003e\n             \u003cTransactionCard\u003e\n               \u003cSubscriptionRenewForm\u003e\n                 \u003cRoot\u003e\n\n      at warn (node_modules/vue/dist/vue.runtime.common.dev.js:621:15)\n      at assertProp (node_modules/vue/dist/vue.runtime.common.dev.js:1702:5)\n      at validateProp (node_modules/vue/dist/vue.runtime.common.dev.js:1628:5)\n      at updateChildComponent (node_modules/vue/dist/vue.runtime.common.dev.js:4151:20)\n      at prepatch (node_modules/vue/dist/vue.runtime.common.dev.js:3138:5)\n      at patchVnode (node_modules/vue/dist/vue.runtime.common.dev.js:6332:7)\n      at updateChildren (node_modules/vue/dist/vue.runtime.common.dev.js:6217:9)\n      at patchVnode (node_modules/vue/dist/vue.runtime.common.dev.js:6343:29)\n      at updateChildren (node_modules/vue/dist/vue.runtime.common.dev.js:6217:9)\n      at patchVnode (node_modules/vue/dist/vue.runtime.common.dev.js:6343:29)\n      at VueComponent.patch [as __patch__] (node_modules/vue/dist/vue.runtime.common.dev.js:6504:9)\n      at VueComponent.Vue._update (node_modules/vue/dist/vue.runtime.common.dev.js:3951:19)\n      at VueComponent.updateComponent (node_modules/vue/dist/vue.runtime.common.dev.js:4069:10)\n      at Watcher.get (node_modules/vue/dist/vue.runtime.common.dev.js:4481:25)\n\n    console.error\n      [Vue warn]: Invalid prop: type check failed for prop \"checkedProductId\". Expected String, got Undefined \n      \n      found in\n      \n      ---\u003e \u003cProductRadioGroup\u003e\n             \u003cSubscriptionRenewUpgradePlans\u003e\n               \u003cTransactionCard\u003e\n                 \u003cSubscriptionRenewForm\u003e\n                   \u003cRoot\u003e\n\n      at warn (node_modules/vue/dist/vue.runtime.common.dev.js:621:15)\n      at assertProp (node_modules/vue/dist/vue.runtime.common.dev.js:1702:5)\n      at validateProp (node_modules/vue/dist/vue.runtime.common.dev.js:1628:5)\n      at updateChildComponent (node_modules/vue/dist/vue.runtime.common.dev.js:4151:20)\n      at prepatch (node_modules/vue/dist/vue.runtime.common.dev.js:3138:5)\n      at patchVnode (node_modules/vue/dist/vue.runtime.common.dev.js:6332:7)\n      at updateChildren (node_modules/vue/dist/vue.runtime.common.dev.js:6217:9)\n      at patchVnode (node_modules/vue/dist/vue.runtime.common.dev.js:6343:29)\n      at VueComponent.patch [as __patch__] (node_modules/vue/dist/vue.runtime.common.dev.js:6504:9)\n      at VueComponent.Vue._update (node_modules/vue/dist/vue.runtime.common.dev.js:3951:19)\n      at VueComponent.updateComponent (node_modules/vue/dist/vue.runtime.common.dev.js:4069:10)\n      at Watcher.get (node_modules/vue/dist/vue.runtime.common.dev.js:4481:25)\n      at Watcher.run (node_modules/vue/dist/vue.runtime.common.dev.js:4556:22)\n      at flushSchedulerQueue (node_modules/vue/dist/vue.runtime.common.dev.js:4314:13)\n\n\n```\n\u003c/summary\u003e\n\u003c/details\u003e\n\nUnfortunately `storybook` does not provide any configuration option to resolve that so I suggest to remove storyshots testing as these tests do not do what they supposed to.\n\n### Proposal\n\n\u003c!-- Consult with `@gitlab-com/business-technology/enterprise-apps/zuora-architects` on the ~\"Enterprise Applications\" team if Zuora business logic is involved. --\u003e\n\n### Result\n\n### Next steps (if any)\n\n### How will we measure success?","state":"closed","created_at":"2022-06-15T20:00:54.936Z","updated_at":"2022-07-20T07:41:50.937Z","closed_at":"2022-07-20T07:41:50.918Z","closed_by":{"id":447038,"username":"vitallium","name":"Vitaly Slobodin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/74b3243cfcfbfac1f022b78ab505e8d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/vitallium"},"labels":["[deprecated] Category:Fulfillment Platform","devops::fulfillment","frontend","group::fulfillment platform","section::fulfillment","test","type::maintenance","wontfix","workflow::in review"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":447038,"username":"vitallium","name":"Vitaly Slobodin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/74b3243cfcfbfac1f022b78ab505e8d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/vitallium"}],"author":{"id":447038,"username":"vitallium","name":"Vitaly Slobodin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/74b3243cfcfbfac1f022b78ab505e8d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/vitallium"},"type":"ISSUE","assignee":{"id":447038,"username":"vitallium","name":"Vitaly Slobodin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/74b3243cfcfbfac1f022b78ab505e8d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/vitallium"},"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4429","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/4429","notes":"https://gitlab.com/api/v4/projects/2670515/issues/4429/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/4429/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#4429","relative":"#4429","full":"gitlab-org/customers-gitlab-com#4429"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":110185078,"iid":4428,"project_id":2670515,"title":"CI min subscriptions have subscription management buttons on CustomersDot","description":"# Bug\n\n## Summary\n\nSubscriptions that have CI minutes only are not renewable nor upgradable but the `Upgrade plan`, `Resume subscription`, `Buy more CI minutes`, `Buy more storage` buttons are visible on the active CI minutes subscriptions in CustomersDot. The expired ones do not have the `Resume subscription` button.\n\n## What is the expected *correct* behavior?\n\nIt should not have any subscription management buttons\n\n## Relevant logs and/or screenshots\n\nAn example of an account that has both expired and active CI minutes subscription is [210330 (internal)](https://customers.gitlab.com/admin/customer/210330/)\n\n![Screenshot_2022-06-15_at_19.59.44](/uploads/64f97217cf5280015dbdb9bd5ea115f6/Screenshot_2022-06-15_at_19.59.44.png)\n\n## Workarounds\n\n(Ways to get around the issue)\n\n## Reported examples\n\n1.\n1.\n1.\n\n## Implementation plan\n| Scenario | MR |\n| ------ | ------ |\n| :one: Hide `Cancel / Resume subscription` button for addon only plans | https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/5390 |\n| :two: Move amend or create decision for addons to backend  | https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/5402 |\n| :three: Hide subscription management buttons for CI minutes subscriptions which are not linked to a namespace | https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/5450 |\n\n\u003c!---\nPlease add both severity and priority level according to: https://docs.gitlab.com/ee/development/contributing/issue_workflow.html#severity-labels\n---\u003e","state":"closed","created_at":"2022-06-15T17:00:36.123Z","updated_at":"2022-09-21T14:09:10.071Z","closed_at":"2022-09-21T14:08:05.902Z","closed_by":{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"},"labels":["SUS::Impacting","UX","[deprecated] Category:Billing and Subscription Management","backend","bug::ux","customer","devops::fulfillment","frontend","group::billing and subscription management","missed:15.4","section::fulfillment","severity::3","type::bug","workflow::production"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"}],"author":{"id":9767370,"username":"ffarukh","name":"Firdaws Farukh","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f9ffec1ae6c28212690c41044f1d9c17?s=80\u0026d=identicon","web_url":"https://gitlab.com/ffarukh"},"type":"ISSUE","assignee":{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"},"user_notes_count":27,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4428","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/4428","notes":"https://gitlab.com/api/v4/projects/2670515/issues/4428/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/4428/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#4428","relative":"#4428","full":"gitlab-org/customers-gitlab-com#4428"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":110162430,"iid":4426,"project_id":2670515,"title":"Update CSS in repo to hide the inline submit button in zuora iframe","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n### Problem\nIn https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4250+, we [decided](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4250#note_945133329) that we would be taking the [one button approach](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4250#-one-button-ob) i.e. hide the internal iframe button and always shown an external button. This is currently behind the feature flag `zuora_hpm_no_refresh`. To achieve this, along with enabling the feature flag, we will also be disabling the internal iframe submit button through Zuora CSS.\n\n\n### Proposal\n1. Update the existing CSS (we can probably get the existing CSS from finance team or check if we have it tracked in our repo) to hide the zuora inline submit button. (Add `display: none` on class `.btn-submit.btn-submit` and remove existing CSS on `.btn-submit.btn-submit`)\n2. Add the Zuora HPM id (both staging and production) and the new CSS to be updated in this [issue](https://gitlab.com/gitlab-com/business-technology/enterprise-apps/financeops/finance-systems/-/issues/791) description.\n3. If this CSS is not being tracked in the repo currently, consider adding it with the appropriate naming convention (e.g. the id from [secrets](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/main/config/secrets.yml.example#L91)).   \n\n_Note: We currently have 2 css files ([style.css](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/main/vendor/zuora/css/style.css) and [hpm2.css](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/main/vendor/zuora/css/hpm2.css)) being tracked in our repo. Need to confirm which HPM these styles are for. Updating the CSS file names with a clearer naming convention might help in identifying the correct HPM going ahead._\n\n\u003c!-- Consult with `@gitlab-com/business-technology/enterprise-apps/zuora-architects` on the ~\"Enterprise Applications\" team if Zuora business logic is involved. --\u003e\n\n### Result\nWe need to update the Zuora HPM id (staging and production) and the updated CSS to hide inline submit button in Zuora iframe in this [issue](https://gitlab.com/gitlab-com/business-technology/enterprise-apps/financeops/finance-systems/-/issues/791) description.  \nWe need to mention in this issue that we need to finalise on a date and time so as to sync the Zuora CSS update and enabling the feature flag `zuora_hpm_no_refresh`. Read this [discussion](https://gitlab.com/groups/gitlab-org/-/epics/7969#note_992473878) for more context on why this is needed.\n\n### Next steps (if any)\n\n### How will we measure success?","state":"closed","created_at":"2022-06-15T12:23:05.225Z","updated_at":"2022-08-17T17:34:25.551Z","closed_at":"2022-08-17T17:34:25.364Z","closed_by":{"id":6348276,"username":"agulina","name":"Angelo Gulina","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b28693a558066993ea93b7272208d285?s=80\u0026d=identicon","web_url":"https://gitlab.com/agulina"},"labels":["Category:Purchase","devops::fulfillment","frontend","group::purchase","missed:15.2","section::fulfillment","type::maintenance","wontfix","workflow::blocked"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[],"author":{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"},"type":"ISSUE","assignee":null,"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4426","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/4426","notes":"https://gitlab.com/api/v4/projects/2670515/issues/4426/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/4426/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#4426","relative":"#4426","full":"gitlab-org/customers-gitlab-com#4426"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7969,"epic":{"id":511971,"iid":7969,"title":"Prevent Zuora HPM payment forms from refreshing when errors are thrown","url":"/groups/gitlab-org/-/epics/7969","group_id":9970,"human_readable_end_date":"Aug 22, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":110161613,"iid":4425,"project_id":2670515,"title":"Add new feature flag to show add new payment method page under maintenance mode","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n### Problem\nIn https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4250+, we [decided](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4250#note_945133329) that we would be taking the [one button approach](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4250#-one-button-ob) i.e. hide the internal iframe button and always shown an external button. This is currently behind the feature flag `zuora_hpm_no_refresh`. To achieve this, along with enabling the feature flag, we will also be disabling the internal iframe submit button through Zuora CSS.\n\nHowever we would have a problem in syncing the two operations - enabling the `zuora_no_hpm_refresh` feature flag and the zuora css update (since the CSS update will be done by finance systems team through an issue). If we enable `zuora_no_hpm_refresh` and then update the Zuora CSS, we will see 2 buttons for the time duration we take between the 2 updates. If we update Zuora CSS first and then the feature flag, then we will see no buttons in the time duration we take between the 2 updates. This will only affect the `Add new payment method` functionality since currently that is the only implementation where we are using the internal iframe button.  \n\n### Proposal\n1. Introduce a feature flag `add_new_payment_method_maintenance_mode`.  \n2. Make code changes to show `Maintenance mode` message when feature flag is enabled and not to allow users to use the `Add new payment` page.\n\n\u003c!-- Consult with `@gitlab-com/business-technology/enterprise-apps/zuora-architects` on the ~\"Enterprise Applications\" team if Zuora business logic is involved. --\u003e\n\n### Result\n`Maintenance mode` message should be shown when `add_new_payment_method_maintenance_mode` feature flag is enabled.\n\n### Next steps (if any)\n\n### How will we measure success?","state":"closed","created_at":"2022-06-15T12:05:56.559Z","updated_at":"2022-08-17T17:43:25.678Z","closed_at":"2022-08-17T17:43:25.469Z","closed_by":{"id":6348276,"username":"agulina","name":"Angelo Gulina","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b28693a558066993ea93b7272208d285?s=80\u0026d=identicon","web_url":"https://gitlab.com/agulina"},"labels":["Category:Purchase","UX","devops::fulfillment","frontend","group::purchase","missed:15.2","section::fulfillment","type::maintenance","won't do","workflow::design"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[],"author":{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"},"type":"ISSUE","assignee":null,"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4425","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/4425","notes":"https://gitlab.com/api/v4/projects/2670515/issues/4425/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/4425/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#4425","relative":"#4425","full":"gitlab-org/customers-gitlab-com#4425"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7969,"epic":{"id":511971,"iid":7969,"title":"Prevent Zuora HPM payment forms from refreshing when errors are thrown","url":"/groups/gitlab-org/-/epics/7969","group_id":9970,"human_readable_end_date":"Aug 22, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":110160648,"iid":4424,"project_id":2670515,"title":"Implement one button approach in new_payment_method.vue","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n### Problem\nIn https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4250+, we [decided](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4250#note_945133329) that we would be taking the [one button approach](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4250#-one-button-ob) i.e. hide the internal iframe button and always shown an external button.  \n\nThis is currently behind the feature flag `zuora_hpm_no_refresh`. To achieve this along with enabling the feature flag, we will also be disabling the internal iframe submit button through Zuora CSS. However since the Zuora CSS will be common across all places where this Zuora iframe is used, we need to implement the one button approach in [new_payment_method.vue](https://gitlab.com/gitlab-org/customers-gitlab-com/blob/main/app/frontend/javascripts/payment_methods/components/new_payment_method.vue) too.\n\n\n### Proposal\nImplement a similar one button approach as suggested [here](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4250#-one-button-ob). Currently [new_payment_method.vue](https://gitlab.com/gitlab-org/customers-gitlab-com/blob/main/app/frontend/javascripts/payment_methods/components/new_payment_method.vue) doesn't have an external button since it uses the `inline-submit` methodology on the old [zuora_new_credit_card_form.vue](https://gitlab.com/gitlab-org/customers-gitlab-com/blob/main/app/frontend/javascripts/payment_methods/components/new_payment_method.vue#L89). We need to introduce a button which will work with the new [zuora_static_credit_card_form.vue](https://gitlab.com/gitlab-org/customers-gitlab-com/blob/main/app/frontend/javascripts/payment_methods/components/new_payment_method.vue#L88).  \nReference: https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/4862/diffs  \n\n_**Note:** When testing with `zuora_no_hpm_refresh` FF enabled, we would need to update the Zuora CSS (from Zuora apisandbox portal) under the [hosted page's](https://apisandbox.zuora.com/apps/HostedPageLite.do?method=list) CSS field.  \nCopy CSS from this file and update in Zuora hosted page's CSS field - [style.css](/uploads/b0fca3bb14f102d72d86dedfe1acdef2/style.css)_.  \n_This is only for testing purposes. Do not use this CSS for production._\n\n\n\u003c!-- Consult with `@gitlab-com/business-technology/enterprise-apps/zuora-architects` on the ~\"Enterprise Applications\" team if Zuora business logic is involved. --\u003e\n\n### Result\nThe add new payment method flow (which uses `new_payment_method.vue`) should work fine with `zuora_np_hpm_refresh` flag enabled and disabled.\n\n### Next steps (if any)\n\n### How will we measure success?","state":"closed","created_at":"2022-06-15T11:48:55.790Z","updated_at":"2022-08-17T17:34:19.642Z","closed_at":"2022-08-17T17:34:19.471Z","closed_by":{"id":6348276,"username":"agulina","name":"Angelo Gulina","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b28693a558066993ea93b7272208d285?s=80\u0026d=identicon","web_url":"https://gitlab.com/agulina"},"labels":["Category:Purchase","devops::fulfillment","frontend","group::purchase","missed:15.2","section::fulfillment","type::maintenance","wontfix","workflow::ready for development"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[],"author":{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"},"type":"ISSUE","assignee":null,"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4424","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/4424","notes":"https://gitlab.com/api/v4/projects/2670515/issues/4424/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/4424/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#4424","relative":"#4424","full":"gitlab-org/customers-gitlab-com#4424"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7969,"epic":{"id":511971,"iid":7969,"title":"Prevent Zuora HPM payment forms from refreshing when errors are thrown","url":"/groups/gitlab-org/-/epics/7969","group_id":9970,"human_readable_end_date":"Aug 22, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":110160061,"iid":4423,"project_id":2670515,"title":"Implement one button approach in subscription_renew_form.vue","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n### Problem\nIn https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4250+, we [decided](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4250#note_945133329) that we would be taking the [one button approach](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4250#-one-button-ob) i.e. hide the internal iframe button and always shown an external button.  \n\nThis is currently behind the feature flag `zuora_hpm_no_refresh`. To achieve this along with enabling the feature flag, we will also be disabling the internal iframe submit button through Zuora CSS. However since the Zuora CSS will be common across all places where this Zuora iframe is used, we need to implement the one button approach in [subscription_renew_form.vue](https://gitlab.com/gitlab-org/customers-gitlab-com/blob/main/app/frontend/javascripts/subscription/components/subscription_renew_form.vue#L472-482) too.\n\n\n### Proposal\nImplement a similar one button approach as suggested [here](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4250#-one-button-ob).  \nReference: https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/4862/diffs  \n\n_**Note:** When testing with `zuora_no_hpm_refresh` FF enabled, we would need to update the Zuora CSS (from Zuora apisandbox portal) under the [hosted page's](https://apisandbox.zuora.com/apps/HostedPageLite.do?method=list) CSS field.  \nCopy CSS from this file and update in Zuora hosted page's CSS field - [style.css](/uploads/b0fca3bb14f102d72d86dedfe1acdef2/style.css)_  \n_This is only for testing purposes. Do not use this CSS for production._\n\n\u003c!-- Consult with `@gitlab-com/business-technology/enterprise-apps/zuora-architects` on the ~\"Enterprise Applications\" team if Zuora business logic is involved. --\u003e\n\n### Result\nThe SM renewal flow (which uses `subscription_renew_form.vue`) should work fine with `zuora_np_hpm_refresh` flag enabled and disabled.\n\n### Next steps (if any)\n\n### How will we measure success?","state":"closed","created_at":"2022-06-15T11:37:10.644Z","updated_at":"2022-08-17T17:34:12.863Z","closed_at":"2022-08-17T17:34:12.650Z","closed_by":{"id":6348276,"username":"agulina","name":"Angelo Gulina","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b28693a558066993ea93b7272208d285?s=80\u0026d=identicon","web_url":"https://gitlab.com/agulina"},"labels":["Category:Purchase","devops::fulfillment","frontend","group::purchase","missed:15.2","section::fulfillment","type::maintenance","wontfix","workflow::ready for development"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[],"author":{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"},"type":"ISSUE","assignee":null,"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4423","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/4423","notes":"https://gitlab.com/api/v4/projects/2670515/issues/4423/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/4423/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#4423","relative":"#4423","full":"gitlab-org/customers-gitlab-com#4423"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7969,"epic":{"id":511971,"iid":7969,"title":"Prevent Zuora HPM payment forms from refreshing when errors are thrown","url":"/groups/gitlab-org/-/epics/7969","group_id":9970,"human_readable_end_date":"Aug 22, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":110138452,"iid":4422,"project_id":2670515,"title":"Refactor customer registration emoji validation","description":"We recently introduced validation against emojis on the ~frontend. During the implementation of , we realised it would've been less tedious work to already abstract the validation logic (gitlab-org/customers-gitlab-com!5006), in order to reduce the amount of later refactoring. We later introduced [`VeeValidate`](https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/5017/diffs) to do the heavy lifting for custom form validation.\n\nThis issue has been changed from abstracting the logic to refactoring the validation for the customer sign-up / registration page.\n\nDiscussion for approach for custom validation - https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4644\n\n### Proposed solution\n\n- Apply VeeValidate similar to how we do it for [customer details edit](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/main/app/frontend/javascripts/account/components/personal_details.vue#L22)\n- Delete all [emoji-specific](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/7afd8712efc24d889dde3487f2db25110b9f94d4/app/frontend/javascripts/sessions/sessions_constants.js#L9) logic\n\n| Description | MR|\n|-|-|\n| Refactor customer registration emoji validation | _tbd_ |","state":"closed","created_at":"2022-06-15T07:19:01.878Z","updated_at":"2022-11-07T22:41:38.375Z","closed_at":"2022-11-07T22:29:13.027Z","closed_by":{"id":10325315,"username":"vvempati","name":"Vamsi Vempati","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10325315/avatar.png","web_url":"https://gitlab.com/vvempati"},"labels":["Category:Purchase","devops::fulfillment","frontend","group::purchase","maintenance::refactor","missed:15.3","missed:15.4","missed:15.5","section::fulfillment","type::maintenance","workflow::production"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":10325315,"username":"vvempati","name":"Vamsi Vempati","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10325315/avatar.png","web_url":"https://gitlab.com/vvempati"}],"author":{"id":6348276,"username":"agulina","name":"Angelo Gulina","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b28693a558066993ea93b7272208d285?s=80\u0026d=identicon","web_url":"https://gitlab.com/agulina"},"type":"ISSUE","assignee":{"id":10325315,"username":"vvempati","name":"Vamsi Vempati","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10325315/avatar.png","web_url":"https://gitlab.com/vvempati"},"user_notes_count":12,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4422","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/4422","notes":"https://gitlab.com/api/v4/projects/2670515/issues/4422/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/4422/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#4422","relative":"#4422","full":"gitlab-org/customers-gitlab-com#4422"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":110122445,"iid":4417,"project_id":2670515,"title":"Rate plan for new subscription - Orders API","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n### Problem\n\nWhen a user purchases a new subscription, it includes the product and the number of quantity they wish to subscribe to.\n\nIn the Subscribe API, this information was captured in [rate_plan_data](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/main/app/services/subscribe_service.rb#L154) attribute. It included details of the main and optional plan.\n\nWe need a way to capture this information when creating a new subscription through the Orders API.\n\n### Proposal\n\n\u003c!-- Consult with `@gitlab-com/business-technology/enterprise-apps/zuora-architects` on the ~\"Enterprise Applications\" team if Zuora business logic is involved. --\u003e\n\nThe [Order action `createSubscription`](https://www.zuora.com/developer/api-reference/#operation/POST_Order) has a `subscribeToRatePlans` object. It holds the list of rate plans associated with the subscription.\n\nUse the object to pass the rate plans a user subscribes to.\n\n### Result\n\nThe selected plan and quantity gets reflects in the new order / subscription created.\n\n### Next steps (if any)\n\n### How will we measure success?","state":"closed","created_at":"2022-06-14T21:15:16.544Z","updated_at":"2022-08-31T17:45:12.354Z","closed_at":"2022-06-21T13:37:13.470Z","closed_by":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"labels":["[deprecated] Category:Fulfillment Platform","backend","devops::fulfillment","group::fulfillment platform","section::fulfillment","type::maintenance","workflow::production"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"}],"author":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"type":"ISSUE","assignee":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4417","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/4417","notes":"https://gitlab.com/api/v4/projects/2670515/issues/4417/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/4417/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#4417","relative":"#4417","full":"gitlab-org/customers-gitlab-com#4417"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8664,"epic":{"id":594034,"iid":8664,"title":"Transition Subscribe() to the Zuora Orders API for new subscriptions","url":"/groups/gitlab-org/-/epics/8664","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":110049469,"iid":4410,"project_id":2670515,"title":"Fix contact support link in error messages","description":"### Problem\n\nThe `contact support` link in the error message is not properly formatted\n\n![screenshot-2022-06-13-09_37](/uploads/0a6ec28775c1a3f8ea118b4865910893/screenshot-2022-06-13-09_37.png)\n\nCheck all cases where we use errors from our [constants.js](https://gitlab.com/gitlab-org/customers-gitlab-com/blob/1b7dadd279cb16ad0c26a9ee4127951cea9ded35/app/frontend/javascripts/constants.js) and make sure to add `sprintf` to every ussage.","state":"closed","created_at":"2022-06-13T19:29:10.392Z","updated_at":"2022-06-22T08:18:08.064Z","closed_at":"2022-06-22T08:18:08.047Z","closed_by":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"labels":["[deprecated] Category:Billing and Subscription Management","[deprecated] 🍎","devops::fulfillment","frontend","group::billing and subscription management","onboarding","section::fulfillment","type::bug","workflow::production"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"}],"author":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"type":"ISSUE","assignee":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4410","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/4410","notes":"https://gitlab.com/api/v4/projects/2670515/issues/4410/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/4410/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#4410","relative":"#4410","full":"gitlab-org/customers-gitlab-com#4410"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":109863886,"iid":4397,"project_id":2670515,"title":"Handle true ups for community program subscriptions","description":"### Problem\n\nGitLab does not prevent customers from exceeding their seat count. For paying customers with legacy licenses (community programs also uses legacy licenses), we ask them to pay for overages when they renew for the next year, a process called true-ups. However, since community programs licenses are free, there's really no need to ask them to pay for or report any overages, since any true-ups charges would be for $0 anyway.\n\n### Proposal\n\nSince the licenses for customers who are on 14.0 or earlier will error when they try to add them to the instance for missing true-up quantity, we should add a `very large number` of true-ups to every license for community program subscriptions so it works for both.\n\nWe should make sure this works for customers irrespective of the version they are on.\n\n[Instructions to setup SM instance](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4397#note_991005945)\n\n[Error message that should happen without the fix for testing purposes](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4397#note_991043970)\n\n\u003e After a subscription is renewed then a new license is generated for the SM customer. The renewed license contains information like new user quantity being renewed, starts_at, expires_at etc. It also contains the trueup_quantity information. The trueup_quantity is then pulled from the renewed license within the SM instance and verified with the last year's extra active user count. If the trueup quantity is less than the last year's users difference then an error is displayed on the SM instance.\n\u003e\n\u003e You have applied a True-up for #{trueup_qty} #{\"user\".pluralize(trueup_qty)}\"]\nbut you need one for #{expected_trueup_qty} #{\"user\".pluralize(expected_trueup_qty)}.\"\nPlease contact sales at https://about.gitlab.com/sales/\"\n\n\n### Applicable SKUs\n\n`ULTIMATE_SM_EDU_1_YEAR` and `ULTIMATE_SM_OSS_1_YEAR`\n\n#### Post merge into `main`\n\nIt would be great to add the test scenarios under [True-ups section](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4182#11-true-ups-assignee-) in gitlab-org/customers-gitlab-com#4182+ and add screenshots once the fix is live so all the test scenarios are captured in the issue\n\n#### Reference links\n\nOriginal discussion: https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/2747/designs/Renewal_flow___Link_directly_into_renewal.png#note_627443393\n\nFurther discussion: https://gitlab.com/gitlab-org/gitlab/-/issues/363439#note_968411902","state":"closed","created_at":"2022-06-09T15:20:36.963Z","updated_at":"2022-08-17T12:35:08.778Z","closed_at":"2022-08-01T07:42:37.729Z","closed_by":{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"},"labels":["[deprecated] Category:Billing and Subscription Management","backend","devops::fulfillment","group::billing and subscription management","section::fulfillment","type::feature","workflow::production"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"}],"author":{"id":10325315,"username":"vvempati","name":"Vamsi Vempati","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10325315/avatar.png","web_url":"https://gitlab.com/vvempati"},"type":"ISSUE","assignee":{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"},"user_notes_count":42,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4397","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/4397","notes":"https://gitlab.com/api/v4/projects/2670515/issues/4397/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/4397/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#4397","relative":"#4397","full":"gitlab-org/customers-gitlab-com#4397"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5711,"epic":{"id":244557,"iid":5711,"title":"[Community Programs] Renewals","url":"/groups/gitlab-org/-/epics/5711","group_id":9970,"human_readable_end_date":"Nov 4, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":109861530,"iid":4396,"project_id":2670515,"title":"[Code cleanup] Cleanup Zuora::Helpers::Subscription","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n### Problem\n\nThis module was temporarily added to hold common methods in subscription workflow. The module can be dropped once the migration to Orders API is complete.\n\n### Proposal\n\n\u003c!-- Consult with `@gitlab-com/business-technology/enterprise-apps/zuora-architects` on the ~\"Enterprise Applications\" team if Zuora business logic is involved. --\u003e\n\n### Result\n\n### Next steps (if any)\n\n### How will we measure success?","state":"closed","created_at":"2022-06-09T14:41:42.721Z","updated_at":"2023-03-16T20:19:01.171Z","closed_at":"2023-03-16T20:19:01.148Z","closed_by":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"labels":["[deprecated] Category:Fulfillment Platform","backend","devops::fulfillment","group::fulfillment platform","maintenance::removal","missed:15.8","missed:15.9","quad-planning::complete-no-action","section::fulfillment","type::maintenance","workflow::complete"],"milestone":{"id":2745651,"iid":85,"group_id":9970,"title":"15.10","description":"","state":"active","created_at":"2022-08-22T16:58:22.132Z","updated_at":"2022-08-22T16:58:22.132Z","due_date":"2023-03-17","start_date":"2023-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/85"},"assignees":[{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"}],"author":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"type":"ISSUE","assignee":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"user_notes_count":6,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4396","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/4396","notes":"https://gitlab.com/api/v4/projects/2670515/issues/4396/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/4396/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#4396","relative":"#4396","full":"gitlab-org/customers-gitlab-com#4396"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":9502,"epic":{"id":682911,"iid":9502,"title":"Cleanup Subscribe and Amend API workflows","url":"/groups/gitlab-org/-/epics/9502","group_id":9970,"human_readable_end_date":"Mar 17, 2023","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":109861516,"iid":4395,"project_id":2670515,"title":"Ramp ID from Zuora GET Subscription API","description":"### Problem\n\nIn https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4303, we implemented a solution to get Ramp ID for a subscription using the https://www.zuora.com/developer/api-reference/#operation/GET_RampsBySubscriptionKey Zuora API endpoint.  This was necessary because Ramp ID was not available through the existing Zuora API endpoint that CustomersDot uses to get other Subscription data, https://www.zuora.com/developer/api-reference/#operation/Object_GETSubscription.  \n\nUsing https://www.zuora.com/developer/api-reference/#operation/GET_RampsBySubscriptionKey works as a short-term solution, but isn't ideal because it requires an additional Zuora request to fetch Ramp ID.\n\n### Proposal\n\nZuora has agreed to adding Ramp ID to the https://www.zuora.com/developer/api-reference/#operation/Object_GETSubscription API soon (potentially in late June).  When it becomes available, we can remove some of the logic introduced in https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4303, including the extra request to https://www.zuora.com/developer/api-reference/#operation/GET_RampsBySubscriptionKey.","state":"closed","created_at":"2022-06-09T14:41:35.945Z","updated_at":"2022-09-15T15:03:48.397Z","closed_at":"2022-06-17T15:12:09.961Z","closed_by":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"labels":["[deprecated] Category:Fulfillment Platform","backend","devops::fulfillment","group::fulfillment platform","section::fulfillment","type::feature","workflow::production"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"}],"author":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"type":"ISSUE","assignee":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4395","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/4395","notes":"https://gitlab.com/api/v4/projects/2670515/issues/4395/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/4395/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#4395","relative":"#4395","full":"gitlab-org/customers-gitlab-com#4395"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7099,"epic":{"id":381823,"iid":7099,"title":"Fulfillment Support for Sales-Assisted Zuora Ramps - Initial Ramps build","url":"/groups/gitlab-org/-/epics/7099","group_id":9970,"human_readable_end_date":"Nov 1, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":109812781,"iid":4393,"project_id":2670515,"title":"Flash notice missing upon successfully cancel subscription","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n### Problem\n\nWe noticed a new e2e test failure in pipeline after new `cancellation_modal` implementation. \n\nThe flash notice [`You have successfully unsubscribed from your GitLab plan`](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/main/app/viewers/transaction_viewer.rb#L38) no longer presents after cancellation is confirmed\n\n### Proposal\n\n\u003c!-- Consult with `@gitlab-com/business-technology/enterprise-apps/zuora-architects` on the ~\"Enterprise Applications\" team if Zuora business logic is involved. --\u003e\n\n### Result\n\n### Next steps (if any)\n\n### How will we measure success?","state":"closed","created_at":"2022-06-08T22:45:20.496Z","updated_at":"2022-07-07T23:33:42.685Z","closed_at":"2022-07-07T18:08:40.023Z","closed_by":{"id":10770603,"username":"lmeckley","name":"Laura Meckley","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10770603/avatar.png","web_url":"https://gitlab.com/lmeckley"},"labels":["Unplanned","[deprecated] Category:Billing and Subscription Management","devops::fulfillment","frontend","group::billing and subscription management","missed:15.1","section::fulfillment","severity::4","type::bug","workflow::production"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":10770603,"username":"lmeckley","name":"Laura Meckley","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10770603/avatar.png","web_url":"https://gitlab.com/lmeckley"}],"author":{"id":5803275,"username":"chloeliu","name":"Chloe Liu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5803275/avatar.png","web_url":"https://gitlab.com/chloeliu"},"type":"ISSUE","assignee":{"id":10770603,"username":"lmeckley","name":"Laura Meckley","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10770603/avatar.png","web_url":"https://gitlab.com/lmeckley"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4393","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/4393","notes":"https://gitlab.com/api/v4/projects/2670515/issues/4393/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/4393/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#4393","relative":"#4393","full":"gitlab-org/customers-gitlab-com#4393"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":109812181,"iid":4392,"project_id":2670515,"title":"Number of users field should default to empty in purchase flow","description":"# Feature Proposal\n\n## Problem to solve\n\nThe number of users field in the new purchase flow defaults to `1`. [This has caused users](https://gitlab.com/gitlab-com/marketing/community-relations/community-operations/community-operations/-/issues/155#note_976584791) to accidentally purchase subscriptions for 1 user, because they do not change the default.\n\n![Screen_Shot_2022-06-08_at_5.12.27_PM](/uploads/4e4006d335a098292345d7a93b0acefb/Screen_Shot_2022-06-08_at_5.12.27_PM.png)\n\n----\n\n![1654807686986](/uploads/7eaad789b4481c9eaaddc7592bd23c76/1654807686986.png)\n\n### Flows affected\n\n* New self-managed standard subscription purchase\n* New self-managed community program subscription purchase\n\n## Proposal\n\nFor the new subscription purchase flow and community programs new subscription flow, the default for the number of users field should be empty (and it should be a required field for the customer to purchase a subscription). This will force the customer to proactively enter a number instead of passively accepting our default of `1`.","state":"closed","created_at":"2022-06-08T22:25:12.826Z","updated_at":"2023-05-03T03:23:12.766Z","closed_at":"2022-07-22T09:18:00.981Z","closed_by":{"id":10325315,"username":"vvempati","name":"Vamsi Vempati","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10325315/avatar.png","web_url":"https://gitlab.com/vvempati"},"labels":["Category:Purchase","devops::fulfillment","frontend","group::purchase","missed:15.2","section::fulfillment","severity::2","type::maintenance","workflow::production"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":10325315,"username":"vvempati","name":"Vamsi Vempati","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10325315/avatar.png","web_url":"https://gitlab.com/vvempati"}],"author":{"id":4377833,"username":"esybrant","name":"Emily Sybrant","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4377833/avatar.png","web_url":"https://gitlab.com/esybrant"},"type":"ISSUE","assignee":{"id":10325315,"username":"vvempati","name":"Vamsi Vempati","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10325315/avatar.png","web_url":"https://gitlab.com/vvempati"},"user_notes_count":21,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4392","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/4392","notes":"https://gitlab.com/api/v4/projects/2670515/issues/4392/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/4392/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#4392","relative":"#4392","full":"gitlab-org/customers-gitlab-com#4392"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":109724546,"iid":4387,"project_id":2670515,"title":"[Feature flag] Enable Zuora Ramp Deals","description":"# Summary\n\nThis issue is to rollout [Zuora Ramp Deals](https://gitlab.com/groups/gitlab-org/-/epics/7099) on CustomersDot production,\nthat is currently behind the [`zuora_ramp_deals`](https://gitlab.com/gitlab-org/customers-gitlab-com/-/feature_flags/137/edit) feature flag.\n\nThis feature flag should gate the logic for provisioning ramped subscriptions as described in https://gitlab.com/groups/gitlab-org/-/epics/7192+, but may also gate logic for the display of ramped subscriptions in CustomersDot as well.\n\n## Owners\n\n- Team: ~\"group::fulfillment platform\" \n- Most appropriate Slack channel to reach out to: `#g_provision`\n- Best individual to reach out to: @cwiesner \n- PM: @courtmeddaugh \n\n## Stakeholders\n\n`@gitlab-com/business-technology/enterprise-apps/zuora-architects` on the ~\"Enterprise Applications\" team\n\n## The Rollout Plan\n\n- Partial Rollout with specific Customers on CustomersDot, [via Unleash](https://docs.gitlab.com/ee/operations/feature_flags.html#user-ids)\n- Rollout on CustomersDot for a certain period (How long)\n- Percentage Rollout on CustomersDot\n- Rollout Feature for everyone as soon as it's ready\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? Sentry errors reports can also be useful to review --\u003e\n\n## Testing User/Customer IDs\n\n\u003c!--\nList any Customer IDs for Customers that are happy to have this feature turned on early.\n\nRemove if not applicable\n--\u003e\n\n## Expectations\n\n### What are we expecting to happen?\n\nWe expect that ramped subscriptions created or updated via sales-assisted deals to be provisioned automatically via CustomersDot.  This could be expanded to include display of ramped subscriptions in CDot in the future (TBD).\n\n### What might happen if this goes wrong?\n\n\u003c!-- Should the feature flag be turned off? Any MRs that need to be rolled back? Communication that needs to happen? What are some things you can think of that could go wrong - data loss or broken pages? --\u003e\n\n### What can we monitor to detect problems with this?\n\nErrors can be monitored at https://sentry.gitlab.net/gitlab/customersgitlabcom/ .\n\n## Rollout Steps\n\n### Rollout on non-production environments\n\n- [x] Ensure that the feature MRs have been deployed to non-production environments, i.e. `customers-staging`.\n- [x] Consider announcing that the flag will be enabled to potentially impacted groups, e.g. `#s_fulfillment_engineering`\n- [x] Enable the feature globally on non-production environments by applying the appropriate environment, e.g. `customers-staging` and `customers-development`.\n- [x] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n\n### Preparation before production rollout\n\n- [x] Ensure that the feature MRs have been deployed to production\n- [x] Check if the feature flag change needs to be accompanied with a\n  [change management issue](https://about.gitlab.com/handbook/engineering/infrastructure/change-management/#feature-flags-and-the-change-management-process).\n  Cross link the issue here if it does.\n- [x] Ensure that you or a representative in Fulfillment can be available for at least 2 hours after feature flag updates in production.\n  If a different developer will be covering, or an exception is needed, please inform the Fulfillment team in #s_fulfillment_engineering\n- [x] Ensure any documentation has been updated\n- [x] Announce on [the feature epic](https://gitlab.com/groups/gitlab-org/-/epics/7099) an estimated time this will be enabled on production if applicable\n- [x] If the feature might impact the user experience, notify `#s_fulfillment` and potentially `#support_gitlab-com`, as well as your team channel ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#communicate-the-change)).\n\n### Global rollout on CustomersDot production\n\n- [x] Confirm the feature flag is enabled on `staging` without incident\n- [ ] ~Roll out the feature to targeted testing users first (if applicable)~\n- [ ] ~If applicable, [incrementally roll out]~(https://docs.gitlab.com/ee/operations/feature_flags.html#percent-rollout) the feature.\n- [ ] ~Verify the change has the desired outcome with the limited rollout before enabling the feature globally on production.~\n- [x] Enable the feature globally on production environment\n- [ ] ~Announce on [the feature epic](https://gitlab.com/groups/gitlab-org/-/epics/7099) that the feature has been globally enabled.~\n- [x] Wait for [at least one day for the verification term](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release).\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by performing the following actions:\n  - [ ] Disable the Unleash flag on the [feature flag page](https://gitlab.com/gitlab-org/customers-gitlab-com/-/feature_flags/137/edit)","state":"closed","created_at":"2022-06-07T15:19:52.457Z","updated_at":"2023-04-06T08:51:53.326Z","closed_at":"2023-04-06T08:51:53.290Z","closed_by":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"labels":["Category:SM Provisioning","Category:SaaS Provisioning","backend","devops::fulfillment","feature flag","feature::addition","group::provision","quad-planning::complete-no-action","section::fulfillment","type::feature","workflow::complete"],"milestone":{"id":2910456,"iid":86,"group_id":9970,"title":"15.11","description":"","state":"active","created_at":"2022-12-13T20:08:46.985Z","updated_at":"2022-12-13T20:08:46.985Z","due_date":"2023-04-17","start_date":"2023-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/86"},"assignees":[{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"}],"author":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"type":"ISSUE","assignee":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"user_notes_count":17,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":"2023-04-03","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4387","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":19,"completed_count":13},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/4387","notes":"https://gitlab.com/api/v4/projects/2670515/issues/4387/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/4387/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#4387","relative":"#4387","full":"gitlab-org/customers-gitlab-com#4387"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7192,"epic":{"id":394584,"iid":7192,"title":"Zuora Ramps: Automated Provisioning for Ramp Deals","url":"/groups/gitlab-org/-/epics/7192","group_id":9970,"human_readable_end_date":"Apr 3, 2023","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":109716503,"iid":4386,"project_id":2670515,"title":"Default active users to current billable member count at renewal","description":"# Bug\n\n## Summary\n\nThe input field for number of users during renewal process for community program SaaS subscriptions should default to current billable members count. \n\n## Steps to reproduce\n\nCreate a SaaS Community Program subscription due for renewal. Add more billable users to the group associated with the subscription so the original purchase quantity is less than the current billable members count.\n\n## What is the current *bug* behavior?\n\nThe input field for number of users on renewal screen defaults to the number of seats in the previous year's subscription.\n\n## What is the expected *correct* behavior?\n\nIt should be defaulted to current billable member count.\n\n## Relevant logs and/or screenshots\n\n![Screen_Shot_2022-06-07_at_3.27.24_PM](/uploads/4f8ac7b95c60413577464f7b3ee8689e/Screen_Shot_2022-06-07_at_3.27.24_PM.png)\n\n![Screen_Shot_2022-06-07_at_3.30.34_PM](/uploads/db848aed03acc2e7c8ed17e321751d6a/Screen_Shot_2022-06-07_at_3.30.34_PM.png)\n\n![Screen_Shot_2022-06-07_at_3.30.52_PM](/uploads/7928cb62298ed7386fa7157623fcbc50/Screen_Shot_2022-06-07_at_3.30.52_PM.png)","state":"closed","created_at":"2022-06-07T13:33:11.454Z","updated_at":"2022-06-14T10:06:47.484Z","closed_at":"2022-06-14T10:06:47.467Z","closed_by":{"id":10325315,"username":"vvempati","name":"Vamsi Vempati","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10325315/avatar.png","web_url":"https://gitlab.com/vvempati"},"labels":["Category:Purchase","devops::fulfillment","frontend","group::purchase","priority::2","section::fulfillment","severity::2","type::bug","workflow::verification"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":10325315,"username":"vvempati","name":"Vamsi Vempati","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10325315/avatar.png","web_url":"https://gitlab.com/vvempati"}],"author":{"id":10325315,"username":"vvempati","name":"Vamsi Vempati","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10325315/avatar.png","web_url":"https://gitlab.com/vvempati"},"type":"ISSUE","assignee":{"id":10325315,"username":"vvempati","name":"Vamsi Vempati","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10325315/avatar.png","web_url":"https://gitlab.com/vvempati"},"user_notes_count":17,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4386","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/4386","notes":"https://gitlab.com/api/v4/projects/2670515/issues/4386/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/4386/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#4386","relative":"#4386","full":"gitlab-org/customers-gitlab-com#4386"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5711,"epic":{"id":244557,"iid":5711,"title":"[Community Programs] Renewals","url":"/groups/gitlab-org/-/epics/5711","group_id":9970,"human_readable_end_date":"Nov 4, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":109658521,"iid":4382,"project_id":2670515,"title":"Service to generate custom attributes for Orders API (CreateSubscription)","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n### Problem\n\nCreate a service that returns custom attributes required while creating a subscription. It will be used in [`OrderManagerService`](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4314) when creating a new subscription using Order's API.\n\nIt represents the `orderLineItems[:customFields]` param in [Orders API](https://www.zuora.com/developer/api-reference/#operation/POST_Order).\n\n### Proposal\n\n\u003c!-- Consult with `@gitlab-com/business-technology/enterprise-apps/zuora-architects` on the ~\"Enterprise Applications\" team if Zuora business logic is involved. --\u003e\n\nCreate a service: `Zuora::Orders::CustomFields::CreateSubscription` that implements `#execute` method. It should return a has of custom attributes required when [creating a new subscription](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/6de4998feb23012df7cb7ee8a83874a7aaf49dfa/app/services/subscribe_service.rb#L276). Re use this service is `SubscribeService` to avoid duplication of code.\n\n### Result\n\n### Next steps (if any)\n\n### How will we measure success?","state":"closed","created_at":"2022-06-06T15:46:05.700Z","updated_at":"2022-08-31T17:45:47.924Z","closed_at":"2022-06-10T17:55:55.686Z","closed_by":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"labels":["[deprecated] Category:Fulfillment Platform","backend","devops::fulfillment","group::fulfillment platform","section::fulfillment","type::maintenance","workflow::production"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"}],"author":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"type":"ISSUE","assignee":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4382","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/4382","notes":"https://gitlab.com/api/v4/projects/2670515/issues/4382/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/4382/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#4382","relative":"#4382","full":"gitlab-org/customers-gitlab-com#4382"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8664,"epic":{"id":594034,"iid":8664,"title":"Transition Subscribe() to the Zuora Orders API for new subscriptions","url":"/groups/gitlab-org/-/epics/8664","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":109537194,"iid":4378,"project_id":2670515,"title":"Frontend validation against emoji customers info during edit","description":"### Problem\n\nCustomers are able to set emoji in their names in CustomersDot accounts. When we try to make a subscription purchase, we take the `bill_to_contact` details from the Customer record in the CustomersDot app. This results [in the following error from Zuora:](https://sentry.gitlab.net/gitlab/customersgitlabcom/issues/3267234/events/76539035/)\n\n```ruby\nBody: [{\"Success\"=\u003efalse, \"Errors\"=\u003e[{\"Code\"=\u003e\"UNKNOWN_ERROR\", \"Message\"=\u003e\"Operation failed due to an unknown error.\"}]}]\n```\n\n\u003cimg src=\"/uploads/97e77d6dcc65d008dc0e8d5144c528c4/CleanShot_2022-05-09_at_15.05.09.png\" width='500px' /\u003e\n\n### Steps to reproduce\n\n1. Login to your CustomersDot via GitLab\n1. Navigate to `/customers/edit`\n1. Update the details adding an emoji to the First Name\n1. Click on `Save changes`\n1. There is an error message\n\n|||\n|-|-|\n|![Screenshot_2022-06-03_at_07.01.48](/uploads/c4a22d73f1480e7c1814eb02d486cf5c/Screenshot_2022-06-03_at_07.01.48.png)|![Screenshot_2022-06-03_at_07.02.00](/uploads/d42d73d28c45180c2cfb6bb85b8be9e5/Screenshot_2022-06-03_at_07.02.00.png)|\n\n### Proposal\n\nThe presence of emojis should be validated before submission. We can leverage the `emoji-regex` module (the same as gitlab-org/customers-gitlab-com#4274).\n\nThe fields to validate against the presence of emoji are:\n\n- first_name\n- last_name\n- city\n- zip_code (postal_code)\n- company\n\n|Description|MR|\n|-|-|\n| Introduce validation directive | gitlab-org/customers-gitlab-com!5006 |\n| Prevent submission on customer edit if emoji are present| gitlab-org/customers-gitlab-com!5017|\n| Add/update feature tests | _tbd_ |","state":"closed","created_at":"2022-06-03T04:45:03.900Z","updated_at":"2023-03-13T11:55:43.658Z","closed_at":"2022-08-24T06:30:53.568Z","closed_by":{"id":10325315,"username":"vvempati","name":"Vamsi Vempati","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10325315/avatar.png","web_url":"https://gitlab.com/vvempati"},"labels":["Category:Purchase","SUS::Impacting","UX","bug::ux","devops::fulfillment","frontend","group::purchase","missed:15.1","missed:15.2","missed:15.3","priority::2","section::fulfillment","severity::3","type::bug","workflow::production"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":10325315,"username":"vvempati","name":"Vamsi Vempati","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10325315/avatar.png","web_url":"https://gitlab.com/vvempati"}],"author":{"id":6348276,"username":"agulina","name":"Angelo Gulina","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b28693a558066993ea93b7272208d285?s=80\u0026d=identicon","web_url":"https://gitlab.com/agulina"},"type":"ISSUE","assignee":{"id":10325315,"username":"vvempati","name":"Vamsi Vempati","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10325315/avatar.png","web_url":"https://gitlab.com/vvempati"},"user_notes_count":17,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4378","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/4378","notes":"https://gitlab.com/api/v4/projects/2670515/issues/4378/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/4378/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#4378","relative":"#4378","full":"gitlab-org/customers-gitlab-com#4378"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":109391376,"iid":4370,"project_id":2670515,"title":"Remove cancellation_modal HAML file","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n### Problem\nAfter https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4352+ is merged, we can remove the old [cancellation modal HAML file](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/51e415d434b177b787900402d8d90d7b9f7e12b8/app/views/subscriptions/_cancellation_modal.html.haml). Additionally, we should change from using the GL utility classes in our CSS file to in the component (discussion [here](https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/4799#note_960393274))\n\nAlso remove the border around the \"To help improve our product...\" area (request [here](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4035#note_973054549))\n\nAdditionally, we can remove the cancellation_modal FF.","state":"closed","created_at":"2022-05-31T17:31:10.311Z","updated_at":"2022-08-15T20:43:35.665Z","closed_at":"2022-08-15T20:43:35.618Z","closed_by":{"id":10770603,"username":"lmeckley","name":"Laura Meckley","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10770603/avatar.png","web_url":"https://gitlab.com/lmeckley"},"labels":["[deprecated] Category:Billing and Subscription Management","devops::fulfillment","frontend","group::billing and subscription management","section::fulfillment","type::maintenance","workflow::verification"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":10770603,"username":"lmeckley","name":"Laura Meckley","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10770603/avatar.png","web_url":"https://gitlab.com/lmeckley"}],"author":{"id":10770603,"username":"lmeckley","name":"Laura Meckley","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10770603/avatar.png","web_url":"https://gitlab.com/lmeckley"},"type":"ISSUE","assignee":{"id":10770603,"username":"lmeckley","name":"Laura Meckley","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10770603/avatar.png","web_url":"https://gitlab.com/lmeckley"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4370","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/4370","notes":"https://gitlab.com/api/v4/projects/2670515/issues/4370/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/4370/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#4370","relative":"#4370","full":"gitlab-org/customers-gitlab-com#4370"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":109366874,"iid":4366,"project_id":2670515,"title":"Provide an update of customers-gitlab-com to customers-gitlab-cn with latest changes for May '22","description":"Refer to the documentation inhttps://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/staging/doc/security/distribution.md and the previous attempts below to remove or randomize secrets to provide an updated CustomersDot for the JiHu team.\n\n**Tasks Overview**\n\n* [x] Pull the latest from https://gitlab.com/gitlab-org/customers-gitlab-com repository\n* [x] In a new branch, replace any sensitive production keys from code and documentation.\n* [ ] Review changes with peers and maintainers\n* [ ] Submit MR to customers-gitlab-cn with files in the scrubbed branch with the history removed as a single commit.\n\n## Previous Attempts\n\n* #160\n* #184\n* #198","state":"closed","created_at":"2022-05-31T10:42:57.899Z","updated_at":"2022-05-31T13:31:16.318Z","closed_at":"2022-05-31T13:31:16.275Z","closed_by":{"id":5249152,"username":"vij","name":"Vijay Hawoldar","state":"active","avatar_url":"https://secure.gravatar.com/avatar/14567a8b4af4374011c43778878de399?s=80\u0026d=identicon","web_url":"https://gitlab.com/vij"},"labels":[],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":5249152,"username":"vij","name":"Vijay Hawoldar","state":"active","avatar_url":"https://secure.gravatar.com/avatar/14567a8b4af4374011c43778878de399?s=80\u0026d=identicon","web_url":"https://gitlab.com/vij"}],"author":{"id":5249152,"username":"vij","name":"Vijay Hawoldar","state":"active","avatar_url":"https://secure.gravatar.com/avatar/14567a8b4af4374011c43778878de399?s=80\u0026d=identicon","web_url":"https://gitlab.com/vij"},"type":"ISSUE","assignee":{"id":5249152,"username":"vij","name":"Vijay Hawoldar","state":"active","avatar_url":"https://secure.gravatar.com/avatar/14567a8b4af4374011c43778878de399?s=80\u0026d=identicon","web_url":"https://gitlab.com/vij"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4366","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":4,"completed_count":2},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/4366","notes":"https://gitlab.com/api/v4/projects/2670515/issues/4366/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/4366/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#4366","relative":"#4366","full":"gitlab-org/customers-gitlab-com#4366"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":109327032,"iid":4365,"project_id":2670515,"title":"Track subscription management events on BE","description":"This is a ~backend part of the Customer Portal subscription management tracking. The click tracking is implemented in the https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3690\n\n* Collection tool: Snowplow\n* Release behind the feature flag (separate from https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3689): `tracking_subscription_management`\n\nList of transactions to track:\n\n* `Add more seats` - track full transaction\n* `Upgrade` - track full transaction\n* `Renew` - track full transaction\n* `Buy more CI minutes`/Buy more storage\\` - track full transaction\n* `Change linked namespace` - track full transaction\n* `Cancel` - is already tracked\n\n| Transaction | Event action | Link |\n| ------ | ------ | ------ |\n| Renew subscription | 'renew_subscription_saas'/'renew_subscription_sm' | /subscriptions/\u003cSUBSCRIPTION_ID\u003e/renew |\n| Upgrade subscription | 'upgrade_subscription_saas'/'upgrade_subscription_sm' | /subscriptions/\u003cSUBSCRIPTION_ID\u003e/upgrade/new |\n| Add more seats to a subscription | 'add_seats_saas'/'add_seats_sm' | /subscriptions/\u003cSUBSCRIPTION_ID\u003e/edit?transaction=extra_seats |\n| Buy CI minutes (SaaS only) | 'buy_ci_minutes' | /subscriptions/new?plan_id=2c92c0f9699eca030169a2f1f117045f\u0026subscription_id=\u003cSUBSCRIPTION_ID\u003e\u0026transaction=ci_minutes |\n| Buy storage (SaaS only) | 'buy_storage_plan' | /subscriptions/new?plan_id=2c92c0f8725e55d70172613f547f0b59\u0026subscription_id=\u003cSUBSCRIPTION_ID\u003e\u0026transaction=storage |\n| Change linked namespace (SaaS only) | 'change_namespace' | /subscriptions/\u003cSUBSCRIPTION_ID\u003e/edit?transaction=change_gitlab_group |","state":"closed","created_at":"2022-05-30T16:11:21.474Z","updated_at":"2022-08-24T14:18:50.171Z","closed_at":"2022-06-13T19:18:46.104Z","closed_by":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"labels":["[deprecated] Category:Billing and Subscription Management","backend","devops::fulfillment","group::billing and subscription management","section::fulfillment","type::feature","workflow::production"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"}],"author":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"type":"ISSUE","assignee":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4365","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/4365","notes":"https://gitlab.com/api/v4/projects/2670515/issues/4365/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/4365/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#4365","relative":"#4365","full":"gitlab-org/customers-gitlab-com#4365"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":109316958,"iid":4364,"project_id":2670515,"title":"Create class to get and put gitlab_subscription request","description":"### Problem\n\nWe are making [GET and PUT calls](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/main/app/services/check_order_in_sync_service.rb#L129) to API \"/api/v4/namespaces/\u003cnamespace_id\u003e/gitlab_subscriptions\" and are using admin_token for authentication. \n\nAs of now, we do not have a class or a module which can help in making the API call to GL.com `gitlab_subscriptions` from CustomersDot for a namespace.  \n\n### Proposal\n\nCreate a class which would abstract the API call to `gitlab_subscriptions` for a namespace_id provided as a parameter. The class can make 3 calls, GET, POST and PUT to `/api/v4/namespaces/\u003cnamespace_id\u003e/gitlab_subscriptions`.\n\n### Next steps (if any)\n\nReplace the GET, PUT and POST call to `gitlab_subscriptions` with the new class created.","state":"closed","created_at":"2022-05-30T13:22:47.109Z","updated_at":"2022-06-07T13:25:00.473Z","closed_at":"2022-06-02T15:49:55.369Z","closed_by":{"id":4903695,"username":"shreyasagarwal","name":"Shreyas Agarwal","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d5b09dfe06a10d119c1b2043c43de680?s=80\u0026d=identicon","web_url":"https://gitlab.com/shreyasagarwal"},"labels":["[deprecated] Category:Billing and Subscription Management","[deprecated] 🍎","backend","devops::fulfillment","section::fulfillment","workflow::production"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":4903695,"username":"shreyasagarwal","name":"Shreyas Agarwal","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d5b09dfe06a10d119c1b2043c43de680?s=80\u0026d=identicon","web_url":"https://gitlab.com/shreyasagarwal"}],"author":{"id":4903695,"username":"shreyasagarwal","name":"Shreyas Agarwal","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d5b09dfe06a10d119c1b2043c43de680?s=80\u0026d=identicon","web_url":"https://gitlab.com/shreyasagarwal"},"type":"ISSUE","assignee":{"id":4903695,"username":"shreyasagarwal","name":"Shreyas Agarwal","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d5b09dfe06a10d119c1b2043c43de680?s=80\u0026d=identicon","web_url":"https://gitlab.com/shreyasagarwal"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4364","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/4364","notes":"https://gitlab.com/api/v4/projects/2670515/issues/4364/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/4364/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#4364","relative":"#4364","full":"gitlab-org/customers-gitlab-com#4364"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6895,"epic":{"id":366730,"iid":6895,"title":"Distinguish Free plan from OpenSource program","url":"/groups/gitlab-org/-/epics/6895","group_id":9970,"human_readable_end_date":"Sep 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":109082897,"iid":4358,"project_id":2670515,"title":"User received \"Managing users in your subscription\" email when taking out trial","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"bug\" label in relevant trackers:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n- https://gitlab.com/gitlab-org/customers-gitlab-com/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n\nDo not include confidential information!\n---\u003e\n\n# Bug\n\n## Summary\n\nUser receive email `Managing users in your subscription` after taking out a trial on GitLab.com.\n\nThis might have to something to do with https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/main/app/mailers/reconciliation_introductory_mailer.rb\n\n## Steps to reproduce\n\n(How one can reproduce the issue - this is very important)\n\n## What is the current *bug* behavior?\n\n(What actually happens)\n\n## What is the expected *correct* behavior?\n\n(What you should see instead)\n\n## Relevant logs and/or screenshots\n\n(Paste any relevant logs - please use code blocks (```) to format console output,\nlogs, and code as it's tough to read otherwise.)\n\n**EMAIL**\n\n```\nSubject: [GitLab Transactions] Managing users in your subscription\nBody:\nDear \u003cUser Name\u003e,\n\nThank you for purchasing a GitLab.com subscription! As you get started, we want to make sure you understand some important billing information.\n\nYour subscription cost is based on the maximum number of users enabled during the billing period. If you reach the maximum number of users in your subscription, you can continue to add users and GitLab bills you for the overage. These bills occur every quarter.\n\nFor more information about quarterly reconciliation, see https://docs.gitlab.com/ee/subscriptions/quarterly_reconciliation.html\n\nIf you have any questions about this process, please contact https://support.gitlab.com/hc/en-us/requests/new?ticket_form_id=360000071293. We are happy to assist.\n\nThank you again for your purchase!\n\nGitLab Billing Team\n```\n\n## Workarounds\n\n(Ways to get around the issue)\n\n## Reported examples\n\n1. https://gitlab.zendesk.com/agent/tickets/292626, [SFDC](https://gitlab.my.salesforce.com/00T8X00005fHRFR?fId=0D58X0000A6KEl1\u0026s1oid=00D61000000JNOF\u0026s1nid=000000000000000\u0026emkind=chatterCommentNotification\u0026s1uid=0054M000003VUza\u0026emtm=1653452401008\u0026fromEmail=1\u0026s1ext=0)\n1. https://gitlab.zendesk.com/agent/tickets/296897\n1. https://gitlab.zendesk.com/agent/tickets/300565\n1. https://gitlab.zendesk.com/agent/tickets/300966\n1. https://gitlab.zendesk.com/agent/tickets/302027 (OSS program)\n2. https://gitlab.zendesk.com/agent/tickets/302269\n3. https://gitlab.zendesk.com/agent/tickets/302287\n\n\u003c!---\nPlease add both severity and priority level according to: https://docs.gitlab.com/ee/development/contributing/issue_workflow.html#severity-labels\n---\u003e","state":"closed","created_at":"2022-05-25T08:06:47.518Z","updated_at":"2022-07-08T14:58:31.853Z","closed_at":"2022-07-08T14:46:37.869Z","closed_by":{"id":11257463,"username":"bhrai","name":"Bishwa Hang Rai","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11257463/avatar.png","web_url":"https://gitlab.com/bhrai"},"labels":["Category:Purchase","SUS::Impacting","Support Priority","UX","Unplanned","backend","devops::fulfillment","group::purchase","priority::3","section::fulfillment","severity::3","type::bug","workflow::production"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":11257463,"username":"bhrai","name":"Bishwa Hang Rai","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11257463/avatar.png","web_url":"https://gitlab.com/bhrai"}],"author":{"id":786864,"username":"rotanak","name":"Sokunrotanak Srey (Rotanak)","state":"active","avatar_url":"https://secure.gravatar.com/avatar/9e138f6598fa362b95f725febc80087e?s=80\u0026d=identicon","web_url":"https://gitlab.com/rotanak"},"type":"ISSUE","assignee":{"id":11257463,"username":"bhrai","name":"Bishwa Hang Rai","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11257463/avatar.png","web_url":"https://gitlab.com/bhrai"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4358","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/4358","notes":"https://gitlab.com/api/v4/projects/2670515/issues/4358/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/4358/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#4358","relative":"#4358","full":"gitlab-org/customers-gitlab-com#4358"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":109075597,"iid":4357,"project_id":2670515,"title":"Set maintenance automatically if GitLab is down","description":"### Problem\n\nWhen GitLab.com is down, while we get notified, maintenance mode has to be set manually to avoid any errors from our side.\n\n### Proposal\n\nSimilar to https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4228+ we could automatically set maintenance mode if GitLab.com is down (for long enough)\n\nWe could replicate (and refactor) the same logic we use to do this with Zuora right now.","state":"closed","created_at":"2022-05-25T06:28:32.459Z","updated_at":"2022-07-13T14:34:56.431Z","closed_at":"2022-06-30T03:43:47.743Z","closed_by":{"id":11217480,"username":"tvellishetty","name":"Tarun Vellishetty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11217480/avatar.png","web_url":"https://gitlab.com/tvellishetty"},"labels":["[deprecated] Category:Fulfillment Platform","backend","devops::fulfillment","group::fulfillment platform","onboarding","section::fulfillment","type::feature","workflow::production"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":11217480,"username":"tvellishetty","name":"Tarun Vellishetty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11217480/avatar.png","web_url":"https://gitlab.com/tvellishetty"}],"author":{"id":273486,"username":"jameslopez","name":"James Lopez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/273486/avatar.png","web_url":"https://gitlab.com/jameslopez"},"type":"ISSUE","assignee":{"id":11217480,"username":"tvellishetty","name":"Tarun Vellishetty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11217480/avatar.png","web_url":"https://gitlab.com/tvellishetty"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4357","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/4357","notes":"https://gitlab.com/api/v4/projects/2670515/issues/4357/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/4357/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#4357","relative":"#4357","full":"gitlab-org/customers-gitlab-com#4357"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":109058144,"iid":4350,"project_id":2670515,"title":"Send PROVISIONED status to Platypus order status endpoint","description":"### Background\n\nArrowsphere would like to know when an order has been successfully provisioned.  It was decided that CustomersDot could sent an order status request to Platypus after an Arrowsphere order has been \"provisioned\".  The Platypus order status endpoint is being built in https://gitlab.com/gitlab-com/business-technology/enterprise-apps/integrations/platypus/-/issues/226.  For MVC, \"provisioned\" simply means the license or activation code email has been sent from CustomersDot.\n\n### Proposal\n\nSend the order status request to Platypus after a successful delivery of the license or activation code email as part of processing the subscription/order Zuora callout.  This could be added [here](https://gitlab.com/gitlab-org/customers-gitlab-com/blob/f730068274d6d4a60615571539243c0c32bef935/app/workers/zuora_callback_worker.rb#L63) in the `ZuoraCallbackWorker` if the result was successful.\n\nYou can find details about the order status endpoint in https://gitlab.com/gitlab-com/business-technology/enterprise-apps/integrations/platypus/-/issues/226.","state":"closed","created_at":"2022-05-24T19:54:44.937Z","updated_at":"2022-07-01T18:18:38.612Z","closed_at":"2022-06-29T10:53:10.457Z","closed_by":{"id":4098809,"username":"qzhaogitlab","name":"Qingyu Zhao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4098809/avatar.png","web_url":"https://gitlab.com/qzhaogitlab"},"labels":["[deprecated] Category:Fulfillment Platform","backend","devops::fulfillment","group::fulfillment platform","section::fulfillment","type::feature","workflow::production"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":4098809,"username":"qzhaogitlab","name":"Qingyu Zhao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4098809/avatar.png","web_url":"https://gitlab.com/qzhaogitlab"}],"author":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"type":"ISSUE","assignee":{"id":4098809,"username":"qzhaogitlab","name":"Qingyu Zhao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4098809/avatar.png","web_url":"https://gitlab.com/qzhaogitlab"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4350","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/4350","notes":"https://gitlab.com/api/v4/projects/2670515/issues/4350/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/4350/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#4350","relative":"#4350","full":"gitlab-org/customers-gitlab-com#4350"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6873,"epic":{"id":365061,"iid":6873,"title":"Integrate with Distributor e-Marketplace (Arrowsphere) to create and provision orders","url":"/groups/gitlab-org/-/epics/6873","group_id":9970,"human_readable_end_date":"Nov 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":109052935,"iid":4348,"project_id":2670515,"title":"Remove orders_harmonization feature flag","description":"### Background\n\nOrders Harmonization was enabled in Zuora Production on 2022-05-20.  More information available in https://gitlab.com/gitlab-com/business-technology/enterprise-apps/intake/-/issues/616.\n\nAs part of that enablement, the `orders_harmonization` feature flag was enabled in CustomersDot production.  The rollout issue has all the steps that were involved: https://gitlab.com/gitlab-org/gitlab/-/issues/345026.\n\n### Proposal\n\nNow that [the `orders_harmonization` feature flag](https://gitlab.com/gitlab-org/customers-gitlab-com/-/feature_flags/104/edit) has been enabled and stable for a few days, we should be safe to promote the feature flag code and remove the feature flag conditionals.  We can update [the rollout issue](https://gitlab.com/gitlab-org/gitlab/-/issues/345026#release-the-feature) once this is complete.","state":"closed","created_at":"2022-05-24T17:30:36.483Z","updated_at":"2022-05-25T16:03:00.108Z","closed_at":"2022-05-25T16:03:00.088Z","closed_by":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"labels":["[deprecated] Category:Fulfillment Platform","backend","devops::fulfillment","feature flag","group::fulfillment platform","section::fulfillment","type::feature","workflow::production"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"}],"author":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"type":"ISSUE","assignee":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4348","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/4348","notes":"https://gitlab.com/api/v4/projects/2670515/issues/4348/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/4348/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#4348","relative":"#4348","full":"gitlab-org/customers-gitlab-com#4348"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null}]