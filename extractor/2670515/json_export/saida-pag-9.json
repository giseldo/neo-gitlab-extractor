[{"id":88018151,"iid":3189,"project_id":2670515,"title":"Remove UpgradeSubscriptionTransaction component","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n### Problem\n\nWhile working on https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3086 it was identified that the component `upgrade_subscription_transaction.vue` seems not to be used anywhere, but rather all we are only using `upgrade_subscription_app.vue` instead. \n\n### Proposal\n\nIt should be safe to delete this component but let's investigate if it's indeed not used anywhere\n\n### Result\n\nDeletion of `upgrade_subscription_app.vue`\n\n### Next steps (if any)\n\n### How will we measure success?","state":"closed","created_at":"2021-06-01T07:50:29.751Z","updated_at":"2021-08-09T17:39:11.874Z","closed_at":"2021-07-29T13:40:51.247Z","closed_by":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"labels":["Category:Purchase","Unplanned","devops::fulfillment","frontend","group::purchase","maintenance::refactor","onboarding","section::fulfillment","workflow::production"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"}],"author":{"id":8858358,"username":"sheldonled","name":"Sheldon Led","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4a4252822d6a503697403c631ca987dc?s=80\u0026d=identicon","web_url":"https://gitlab.com/sheldonled"},"type":"ISSUE","assignee":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3189","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3189","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3189/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3189/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3189","relative":"#3189","full":"gitlab-org/customers-gitlab-com#3189"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":87938957,"iid":3185,"project_id":2670515,"title":"Set correct Terms of Service on Community program subscriptions","description":"### Problem\n\nUsers that redeem a subscription through the community program self checkout will need to have different fields set on their subscription. We should update the purchase logic to handle this.\n\nReminder, this is only applicable to FREE subscriptions handled via https://gitlab.com/groups/gitlab-org/-/epics/5712\n\nAdditional context here:\n- https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3017#note_586712903\n- https://gitlab.com/groups/gitlab-org/-/epics/5068#note_569095826\n- https://gitlab.com/gitlab-com/marketing/strategic-marketing/product-marketing/-/issues/5149#note_568946170\n\n**NOTE: this is only applicable after Cloud Licensing goes live**\n\n### Update fields according to this logic\n\n### For SaaS\n\n- `ContractAutoRenew__c` = No\n- `TurnOnAutoRenew__c` = No\n- `ContractSeatReconciliation__c` = No\n- `TurnOnSeatReconciliation__c` = No\n- `TurnOnCloudLicensing__c` = _NULL_\n- `ContractOperationalMetrics__c` = _NULL_\n- `TurnOnOperationalMetrics__c` = _NULL_\n\n### For SM\n\n- `ContractAutoRenew__c` = No\n- `TurnOnAutoRenew__c` = No\n- `ContractSeatReconciliation__c` = No\n- `TurnOnSeatReconciliation__c` = No\n- `TurnOnCloudLicensing__c` = No\n- `ContractOperationalMetrics__c` = No\n- `TurnOnOperationalMetrics__c` = No","state":"closed","created_at":"2021-05-30T22:14:50.421Z","updated_at":"2022-06-29T18:09:30.200Z","closed_at":"2021-09-09T10:28:27.420Z","closed_by":{"id":4903695,"username":"shreyasagarwal","name":"Shreyas Agarwal","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d5b09dfe06a10d119c1b2043c43de680?s=80\u0026d=identicon","web_url":"https://gitlab.com/shreyasagarwal"},"labels":["Category:Purchase","Deliverable","backend","devops::fulfillment","group::purchase","section::fulfillment","workflow::production"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":4903695,"username":"shreyasagarwal","name":"Shreyas Agarwal","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d5b09dfe06a10d119c1b2043c43de680?s=80\u0026d=identicon","web_url":"https://gitlab.com/shreyasagarwal"}],"author":{"id":4981524,"username":"jhyson","name":"Josianne Hyson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4981524/avatar.png","web_url":"https://gitlab.com/jhyson"},"type":"ISSUE","assignee":{"id":4903695,"username":"shreyasagarwal","name":"Shreyas Agarwal","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d5b09dfe06a10d119c1b2043c43de680?s=80\u0026d=identicon","web_url":"https://gitlab.com/shreyasagarwal"},"user_notes_count":16,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3185","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3185","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3185/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3185/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3185","relative":"#3185","full":"gitlab-org/customers-gitlab-com#3185"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5712,"epic":{"id":244558,"iid":5712,"title":"Community Programs - New Subscription","url":"/groups/gitlab-org/-/epics/5712","group_id":9970,"human_readable_end_date":"Mar 22, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":87841561,"iid":3184,"project_id":2670515,"title":"Use `self_managed_instance_activation` to find or create a seat link record","description":"### Problem\n\nAs reported in https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3163, the `SeatLinkCreateService` should create unique `LicenseSeatLink` records for each `self_managed_instance_activation` but this isn't happening at this time.  [The logic that finds or initializes a `LicenseSeatLink` record](https://gitlab.com/gitlab-org/customers-gitlab-com/blob/d2a3c2aed8894dd660eed62cdcc323d2427205ec/app/services/seat_link_create_service.rb#L46) only uses `report_timestamp|date` and `zuora_subscription_name`.\n\n### Proposal\n\nUpdate [the `SeatLinkCreateService`](https://gitlab.com/gitlab-org/customers-gitlab-com/blob/d2a3c2aed8894dd660eed62cdcc323d2427205ec/app/services/seat_link_create_service.rb#L46) to find or create `LicenseSeatLink` records using `self_managed_instance_activation`, in addition to the existing fields (`report_timestamp|date` and `zuora_subscription_name`).","state":"closed","created_at":"2021-05-27T21:59:54.736Z","updated_at":"2021-06-03T18:05:53.967Z","closed_at":"2021-06-03T18:05:53.909Z","closed_by":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"labels":["Cloud Licensing","[deprecated] Category:Provision","backend","devops::fulfillment","group::provision","section::fulfillment","workflow::production"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"}],"author":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"type":"ISSUE","assignee":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3184","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3184","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3184/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3184/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3184","relative":"#3184","full":"gitlab-org/customers-gitlab-com#3184"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":87747523,"iid":3177,"project_id":2670515,"title":"Follow-up from \"Fix documentation link for Zuora Objects\"","description":"The following discussion from !3300 should be addressed:\n\n- [ ] @vij started a [discussion](https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/3300#note_584510863):  (+7 comments)\n\n\u003e Yes, that does the trick :tada: Still weird why it works without the leading `/` in GitLab but not here :shrug_tone1:\n\n\u003e We should create a (follow-up) issue to fix other broken links to our docs within our docs but also to track the work (weight of 1). Looks like there aren't too many (just looked for `doc/` in the `doc` folder returned 9 results). Do you want to take care of them too? It'll be a quick win.","state":"closed","created_at":"2021-05-26T12:25:32.166Z","updated_at":"2021-06-01T12:46:08.589Z","closed_at":"2021-06-01T12:46:08.565Z","closed_by":{"id":5249152,"username":"vij","name":"Vijay Hawoldar","state":"active","avatar_url":"https://secure.gravatar.com/avatar/14567a8b4af4374011c43778878de399?s=80\u0026d=identicon","web_url":"https://gitlab.com/vij"},"labels":["[deprecated] Category:Utilization","devops::fulfillment","docs-technical-debt","group::utilization","section::fulfillment"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":5249152,"username":"vij","name":"Vijay Hawoldar","state":"active","avatar_url":"https://secure.gravatar.com/avatar/14567a8b4af4374011c43778878de399?s=80\u0026d=identicon","web_url":"https://gitlab.com/vij"}],"author":{"id":5249152,"username":"vij","name":"Vijay Hawoldar","state":"active","avatar_url":"https://secure.gravatar.com/avatar/14567a8b4af4374011c43778878de399?s=80\u0026d=identicon","web_url":"https://gitlab.com/vij"},"type":"ISSUE","assignee":{"id":5249152,"username":"vij","name":"Vijay Hawoldar","state":"active","avatar_url":"https://secure.gravatar.com/avatar/14567a8b4af4374011c43778878de399?s=80\u0026d=identicon","web_url":"https://gitlab.com/vij"},"user_notes_count":6,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3177","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3177","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3177/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3177/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3177","relative":"#3177","full":"gitlab-org/customers-gitlab-com#3177"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":87652621,"iid":3172,"project_id":2670515,"title":"Simplify mergeUrlParams function","description":"### Proposal\n\nWe would like to simplify the implementation of `mergeUrlParams` function defined in [`url_utility.js`](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/d031f6b64d0a27db2c902cc3b657ba66814e4ac2/app/frontend/javascripts/lib/url_utility.js).\n\nAs a part of this issue please consider iterating on detect-unsafe-regex warning that is silenced now for the `const re = /^([^?#]*)(\\?[^#]*)?(.*)/;`\n\nPlease also update the GitLab `mergeUrlParams` utility https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/assets/javascripts/lib/utils/url_utility.js#L122\n\nSuggested by @agulina in https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/3281#note_584027216","state":"closed","created_at":"2021-05-25T06:24:59.883Z","updated_at":"2022-02-28T04:39:14.967Z","closed_at":"2022-02-28T04:39:14.952Z","closed_by":{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"},"labels":["Category:Purchase","devops::fulfillment","frontend","group::purchase","maintenance::refactor","onboarding","section::fulfillment","type::maintenance","workflow::production"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"}],"author":{"id":127064,"username":"aalakkad","name":"Ammar Alakkad","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ecc1130ce340f5080afd8f2c9962948a?s=80\u0026d=identicon","web_url":"https://gitlab.com/aalakkad"},"type":"ISSUE","assignee":{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3172","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3172","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3172/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3172/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3172","relative":"#3172","full":"gitlab-org/customers-gitlab-com#3172"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":87642132,"iid":3171,"project_id":2670515,"title":"Use class `has-tooltip` when creating a bootstrap tooltip","description":"## Follow-up from \"Add ability to resend the activation code\"\n\nThe following discussion from !3261 should be addressed:\n\n- [ ] @pslaughter started a [discussion](https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/3261#note_583778633):  (+4 comments)\n\n    \u003e **question (ux,non-blocking):** Does the `title` automatically generate a tooltip for this icon?\n    \u003e \n    \u003e I'm wanting to make sure that it's obvious to admins what this link does. If it's not obvious, it could be misused and cause a bad experience for our customers :thinking:\n\nThis is mainly a follow-up of [this comment](https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/3261#note_583878232).\n\n## Problem\n\nThe tooltip implementation does not look like a bon-a-fide Bootstrap tooltip, but rather, it looks like the native browser dependent implementation which sometimes works with `title`\n\nRef: https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/title\n\nThere's some significant downsides to this browser implementation, most importantly that it doesn't do anything on focus (only sometimes on mouse hover).  The `rails_admin` gem comes baked in with some bootstrap scripts, including the tooltip one, but it's only applied to table headers.\n\nRef: https://github.com/sferik/rails_admin/blob/97ccc28940d65fee53b30c409c49032fbb0885db/app/assets/javascripts/rails_admin/ui.js#L97\n\n\n## Proposal\n\nIn the main GitLab project, there is a class `has-tooltip` which is used to programmatically create a Bootstrap tooltip for a thing:\n\nhttps://gitlab.com/gitlab-org/gitlab/blob/6e953772a9ab09c897d0f4b38f06b4db528b3924/app/assets/javascripts/main.js#L119","state":"closed","created_at":"2021-05-24T22:33:18.354Z","updated_at":"2023-03-13T17:23:01.814Z","closed_at":"2022-06-09T00:01:29.540Z","closed_by":{"id":1786152,"username":"gitlab-bot","name":"🤖 GitLab Bot 🤖","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1786152/avatar.png","web_url":"https://gitlab.com/gitlab-bot"},"labels":["Cloud License Sync - V2","Cloud Licensing","[deprecated] Category:Provision","auto closed","auto updated","devops::fulfillment","frontend","group::provision","section::fulfillment","workflow::solution validation"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":280339,"username":"rdavila","name":"Rubén Dávila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/280339/avatar.png","web_url":"https://gitlab.com/rdavila"},"type":"ISSUE","assignee":null,"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3171","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3171","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3171/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3171/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3171","relative":"#3171","full":"gitlab-org/customers-gitlab-com#3171"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4628,"epic":{"id":127229,"iid":4628,"title":"Cloud Licensing V2","url":"/groups/gitlab-org/-/epics/4628","group_id":9970,"human_readable_end_date":"Nov 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":87622362,"iid":3169,"project_id":2670515,"title":"Add documentation for how we propagate dependency updates to production","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n### Problem\nIt's not clear how we propagate dependency updates to production\n\n### Proposal\n\nAdd such documentation on project's README","state":"closed","created_at":"2021-05-24T14:55:01.760Z","updated_at":"2021-05-27T18:16:36.502Z","closed_at":"2021-05-27T18:16:36.475Z","closed_by":{"id":8858358,"username":"sheldonled","name":"Sheldon Led","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4a4252822d6a503697403c631ca987dc?s=80\u0026d=identicon","web_url":"https://gitlab.com/sheldonled"},"labels":["Category:Purchase","[deprecated] 🍎","devops::fulfillment","group::purchase","onboarding","section::fulfillment","workflow::production"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":8858358,"username":"sheldonled","name":"Sheldon Led","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4a4252822d6a503697403c631ca987dc?s=80\u0026d=identicon","web_url":"https://gitlab.com/sheldonled"}],"author":{"id":8858358,"username":"sheldonled","name":"Sheldon Led","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4a4252822d6a503697403c631ca987dc?s=80\u0026d=identicon","web_url":"https://gitlab.com/sheldonled"},"type":"ISSUE","assignee":{"id":8858358,"username":"sheldonled","name":"Sheldon Led","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4a4252822d6a503697403c631ca987dc?s=80\u0026d=identicon","web_url":"https://gitlab.com/sheldonled"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3169","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3169","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3169/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3169/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3169","relative":"#3169","full":"gitlab-org/customers-gitlab-com#3169"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":87620908,"iid":3167,"project_id":2670515,"title":"Update references to bundler version according to Gemfile.lock","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n### Problem\n\nSome places don't have the same bundler version as the `Gemfile.lock` identifies.\n\n### Proposal\n\nUpdate references to bundler version according to Gemfile.lock\n\n\n#### What we have on `Gemfile.lock`:\n\n```\nBUNDLED WITH\n   2.2.15\n```","state":"closed","created_at":"2021-05-24T14:29:59.487Z","updated_at":"2021-05-27T18:13:33.241Z","closed_at":"2021-05-27T18:06:06.869Z","closed_by":{"id":8858358,"username":"sheldonled","name":"Sheldon Led","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4a4252822d6a503697403c631ca987dc?s=80\u0026d=identicon","web_url":"https://gitlab.com/sheldonled"},"labels":["Category:Purchase","[deprecated] 🍎","devops::fulfillment","frontend","group::purchase","onboarding","section::fulfillment","workflow::production"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":8858358,"username":"sheldonled","name":"Sheldon Led","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4a4252822d6a503697403c631ca987dc?s=80\u0026d=identicon","web_url":"https://gitlab.com/sheldonled"}],"author":{"id":8858358,"username":"sheldonled","name":"Sheldon Led","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4a4252822d6a503697403c631ca987dc?s=80\u0026d=identicon","web_url":"https://gitlab.com/sheldonled"},"type":"ISSUE","assignee":{"id":8858358,"username":"sheldonled","name":"Sheldon Led","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4a4252822d6a503697403c631ca987dc?s=80\u0026d=identicon","web_url":"https://gitlab.com/sheldonled"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3167","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3167","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3167/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3167/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3167","relative":"#3167","full":"gitlab-org/customers-gitlab-com#3167"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":87517947,"iid":3163,"project_id":2670515,"title":"Manual license sync doesn't work after initial sync for a day","description":"### Problem\n\nOnce a license has been synced (through manual or automation) on a given day, no additional manual syncing works until the next report day.  This happens because the seat link sync request from the SM instance is [sent with a timestamp using the current time](https://gitlab.com/gitlab-org/gitlab/blob/63ef05526c260a0e8679a7acc9589e83a144f22e/ee/app/models/gitlab/seat_link_data.rb#L16).  In other words, each sync request will have a unique `timestamp` in the request.  A `date` param is also included in the payload which is derived from the date of the `timestamp` [here](https://gitlab.com/gitlab-org/gitlab/blob/63ef05526c260a0e8679a7acc9589e83a144f22e/ee/app/models/gitlab/seat_link_data.rb#L54).\n\nIn CustomersDot, [the `SeatLinkCreateService`](https://gitlab.com/gitlab-org/customers-gitlab-com/blob/d2a3c2aed8894dd660eed62cdcc323d2427205ec/app/services/seat_link_create_service.rb) is responsible for processing the sync request.  It is supposed to [look up an existing `LicenseSeatLink` record using `timestamp`](https://gitlab.com/gitlab-org/customers-gitlab-com/blob/d2a3c2aed8894dd660eed62cdcc323d2427205ec/app/services/seat_link_create_service.rb#L36) if present (which it would be on newer versions of EE), otherwise it uses the `date` param.  However, since the timestamp is different from the earlier sync, instead of finding/using the existing `LicenseSeatLink` record for that report date, the service initializes a new one.  When it attempts to save the record, it fails due to the [validation on `report_date`](https://gitlab.com/gitlab-org/customers-gitlab-com/blob/7cf930e839e6324c784ebd6e9319805eca2ca034/app/models/license_seat_link.rb#L8) which verifies uniqueness scoped to `order_id` and `self_managed_instance_activation_id`.\n\n[Sample Sentry Error](https://sentry.gitlab.net/gitlab/customersgitlabcom/issues/2600316/events/6143dd6af3364209a21d85299b023d3f/)\n\n### Proposal\n\nThis service should be updated to allow multiple syncs in a report day.  After discussing options with the team, we've agreed to the following plan as [mentioned here](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3163#note_585143061).\n\n1. [x] Update the `SeatLinkCreateService` to find or create `LicenseSeatLink` records using `self_managed_instance_activation`, in addition to the existing fields (`report_timestamp|date` and `zuora_subscription_name`)\n   * Created separate issue for this: https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3184\n   * MR: https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/3344 (Verified)\n1. [x] Update the `CreateReconciliationService` to only update an existing reconciliation record if the new `user_count` is greater than the previous `user_count` ([code reference](https://gitlab.com/gitlab-org/customers-gitlab-com/blob/42318b047ab9c347277f9a9416e1ec0624187d3d/app/services/create_reconciliation_service.rb#L40)).\n   * MR: https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/3352 (Verified)\n1. [x] When a new seat link record is received, if the `report_timestamp` is not included in the request, set it to `report_date 03:00 UTC`.\n   * MR: https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/3356 (Verified)\n1. [x] Populate all existing rows where `report_timestamp is NULL` to set `report_timestamp` to `report_date 03:00 UTC`. Set DB constraint for `report_timestamp` to `null: false`.  Remove `report_timestamp` method from `LicenseSeatLink` model.\n   * https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/3360 (Verified)\n1. [x] Modify the 2 unique indices to use `report_timestamp` instead of `report_date`.\n   * https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/3363 (Verified)\n\nIn https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3240, we will look at removing `report_date` from `license_seat_links` as it should no longer be needed.","state":"closed","created_at":"2021-05-21T15:28:06.622Z","updated_at":"2021-06-21T20:24:22.970Z","closed_at":"2021-06-16T21:11:20.806Z","closed_by":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"labels":["Cloud Licensing","[deprecated] Category:Provision","backend","devops::fulfillment","group::provision","section::fulfillment","type::bug","workflow::production"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"}],"author":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"type":"ISSUE","assignee":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"user_notes_count":32,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3163","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":5,"completed_count":5},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3163","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3163/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3163/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3163","relative":"#3163","full":"gitlab-org/customers-gitlab-com#3163"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":87464536,"iid":3152,"project_id":2670515,"title":"[UX] Remove the CustomersDot plans page and direct users to the marketing pricing page","description":"This is the UX issue for https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3151","state":"closed","created_at":"2021-05-20T21:24:09.723Z","updated_at":"2021-12-01T18:31:50.318Z","closed_at":"2021-09-13T15:59:46.309Z","closed_by":{"id":4377833,"username":"esybrant","name":"Emily Sybrant","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4377833/avatar.png","web_url":"https://gitlab.com/esybrant"},"labels":["Category:Purchase","UX","devops::fulfillment","group::purchase","missed:14.2","section::fulfillment","workflow::design"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":4377833,"username":"esybrant","name":"Emily Sybrant","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4377833/avatar.png","web_url":"https://gitlab.com/esybrant"}],"author":{"id":4377833,"username":"esybrant","name":"Emily Sybrant","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4377833/avatar.png","web_url":"https://gitlab.com/esybrant"},"type":"ISSUE","assignee":{"id":4377833,"username":"esybrant","name":"Emily Sybrant","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4377833/avatar.png","web_url":"https://gitlab.com/esybrant"},"user_notes_count":3,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3152","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3152","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3152/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3152/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3152","relative":"#3152","full":"gitlab-org/customers-gitlab-com#3152"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6806,"epic":{"id":354607,"iid":6806,"title":"Remove the CustomersDot plans page and direct users to the marketing pricing page","url":"/groups/gitlab-org/-/epics/6806","group_id":9970,"human_readable_end_date":"Nov 29, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":87464465,"iid":3151,"project_id":2670515,"title":"Remove the CustomersDot plans page and direct users to the marketing pricing page","description":"## Problem to solve\n\n* The Customers Dot plans page https://customers.gitlab.com/plans is hard to maintain and update the pricing information to match the marketing site\n* We are in the process of moving all SaaS purchase flows into GitLab (Subscriptions + addon products). Once we have completed that work, the `customersDot/pricing` page will become redundant for the purpose of addon products.\n* The CustomersDot plans page is not best entry point for SM customers to start their purchasing journey. The marketing site does a much better of job of displaying the tiers with additional information. Not to mention on `customersDot/pricing` we link back to the marketing site for more information.\n\n## Proposal\n\nRemove the CustomersDot plans page.\n\n- For a user who is not logged in, the home page of `customers.gitlab.com` should be the login page\n- For a user who is logged in, the Manage purchases page will be the home page\n     - Create an empty state for the Manage purchases page (The manage purchases page currently redirects to the plans page if there are no purchases, so this behavior will need to change)\n     - The `Buy new subscription` button will link to the [pricing page on the marketing website](https://about.gitlab.com/pricing/)\n\n#### Design\n\n- See design section\n- [See Figma for specs](https://www.figma.com/file/cAKBLLR5KluMCux2byl68x/Remove-the-CustomersDot-plans-page?node-id=3%3A1503)\n\n\n### Documentation\n\nWe will need to update all references to the CustomersDot plans page in the docs. \n\nIs there a way to search the docs for all instances of links to `customers.gitlab.com/plans`? I found a couple and listed them below, but I am sure there are more.\n\n- [Handling CI minutes](https://about.gitlab.com/handbook/support/license-and-renewals/workflows/saas/ci_minutes.html)\n- [Purchase additional CI minutes](https://docs.gitlab.com/ee/subscriptions/gitlab_com/#purchase-additional-ci-minutes)\n\n### Development plan\n\n| Task | MR |\n| ------ | ------ |\n| Add `redirect_plans_page` FF and use to update root controller to\u003cbr\u003e- remove redirect to /plans page\u003cbr\u003e- show sign_in page to not logged in users\u003cbr\u003e- show subscription list to logged in users | xxx |\n| For the plans controller redirect /plans to root / (behind Feature Toggle!) | xxx |\n| Create and use a component for empty state \"Manage subscriptions\" page (behind Feature Toggle!)\u003cbr\u003eUpdate link on the \"Buy new subscription\" button | xxx |\n| Update docs | xxx |\n\nAfter the FF is switched on and stable -\u003e cleanup for FF and obsolete code https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3637","state":"closed","created_at":"2021-05-20T21:23:17.027Z","updated_at":"2021-12-01T18:32:18.128Z","closed_at":"2021-09-27T15:02:47.745Z","closed_by":{"id":8110789,"username":"tgolubeva","name":"Tatyana Golubeva","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8110789/avatar.png","web_url":"https://gitlab.com/tgolubeva"},"labels":["Category:Purchase","devops::fulfillment","frontend","group::purchase","section::fulfillment","workflow::refinement"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"}],"author":{"id":4377833,"username":"esybrant","name":"Emily Sybrant","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4377833/avatar.png","web_url":"https://gitlab.com/esybrant"},"type":"ISSUE","assignee":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"user_notes_count":37,"merge_requests_count":0,"upvotes":4,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3151","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3151","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3151/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3151/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3151","relative":"#3151","full":"gitlab-org/customers-gitlab-com#3151"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6806,"epic":{"id":354607,"iid":6806,"title":"Remove the CustomersDot plans page and direct users to the marketing pricing page","url":"/groups/gitlab-org/-/epics/6806","group_id":9970,"human_readable_end_date":"Nov 29, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":87441262,"iid":3147,"project_id":2670515,"title":"Create Annual/Quarterly True Up Products By GitLab Tier","description":"# SKU Request Summary\n\n\u003c!---\nProvide a brief description of what this SKU will be used for.\n---\u003e\n\n\n\n## SKU Requirements\n\nIn order to expedite your request, please complete all of the following information.\nAny questions about this template or this request can be directed to @amandarueda in the comments of this issue.\n\n* [X] SKU Name:\n   - True-Up (Quarterly) - Self-Managed - Ultimate\n   - True-Up (Annually) - Self-Managed - Ultimate\n   - True-Up (Quarterly) - Self-Managed - Premium\n   - True-Up (Annually) - Self-Managed - Premium\n   - True-Up (Quarterly) - SaaS - Ultimate\n   - True-Up (Annually) - SaaS - Ultimate\n   - True-Up (Quarterly) - SaaS - Premium\n   - True-Up (Annually) - SaaS - Premium\n   - True-Up (Quarterly) - Starter: $12/seat/quarter\n   - True-Up (Annually) - Starter: $48/seat/year\n   - True-Up (Quarterly) - Bronze: $12/seat/quarter\n   - True-Up (Annually) - Bronze: $48/seat/year\n* [x] SKU Code/ID:  [Annual and Quarterly True Up Products By GitLab Tier 2021.06.09](https://docs.google.com/spreadsheets/d/1u9Mo9corVyiysMjfgFqblCrs0GJRh0IcYSVI4FyJsPk/edit?usp=sharing)\n* [x] Zuora Plan Name: [Annual and Quarterly True Up Products By GitLab Tier 2021.06.09](https://docs.google.com/spreadsheets/d/1u9Mo9corVyiysMjfgFqblCrs0GJRh0IcYSVI4FyJsPk/edit?usp=sharing)\n* [x] Zuora Plan ID: [Annual and Quarterly True Up Products By GitLab Tier 2021.06.09](https://docs.google.com/spreadsheets/d/1u9Mo9corVyiysMjfgFqblCrs0GJRh0IcYSVI4FyJsPk/edit?usp=sharing)\n* [X] Service type: `add-on`\n* [X] Does this need to be purchase-able via CustomersDot? `No`\n* [X] Does this service renew? `No`\n     * [ ] If yes, what is the renewal cadence? `monthly | annually | other`\n* [X] Should an email be sent indicating the subscription is coming to an end?: `No`\n* [X] Is there a unit of measure, if so what? `Yes`  `Users`\n* [X] Does this service provision anything? ``\n     * [ ] If yes, please describe in detail what should be provisioned including the systems affected:\n* [X] How soon do you need this SKU ? Timeline:  2021.07.01 go live of [Zuora Revenue SSP Refactor](https://gitlab.com/groups/gitlab-com/business-technology/enterprise-apps/-/epics/158) project\n* [X] Who in Sales-Ops approved this request: @andrew_murray @jrabbits \n* [X] Link to originating Finance issue:  https://gitlab.com/gitlab-com/Finance-Division/finance/-/issues/4156\n* [ ] Apply the appropriate `BTG Priority` label to this issue.\n\nThe Finance SKU Issue equivalent is still pending approval.  Zuora Product Catalog changes are typically configured only after all approvals have been satisfied.  EntApps will be moving forward with creating the proposed 8 new SKUs in Zuora Central Sandbox and Zuora API Sandbox 1 as part of the [Zuora Revenue SSP Refactor](https://gitlab.com/groups/gitlab-com/business-technology/enterprise-apps/-/epics/158) project.  In order to make the 2021.07.01 go-live date of the project, Fulfillment and EntApps have agreed to create this Issue in advance of completion of the Finance SKU Issue equivalent to earmark Fulfillment resources in June'21 to ensure these SKUs can go live on 2021.07.01.","state":"closed","created_at":"2021-05-20T13:37:47.725Z","updated_at":"2022-02-18T20:41:34.606Z","closed_at":"2021-07-26T05:58:51.403Z","closed_by":{"id":4098809,"username":"qzhaogitlab","name":"Qingyu Zhao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4098809/avatar.png","web_url":"https://gitlab.com/qzhaogitlab"},"labels":["Category:Purchase","Deliverable","Enterprise Applications","SKU","backend","devops::fulfillment","group::purchase","missed:14.1","section::fulfillment","workflow::production"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":4098809,"username":"qzhaogitlab","name":"Qingyu Zhao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4098809/avatar.png","web_url":"https://gitlab.com/qzhaogitlab"}],"author":{"id":7200051,"username":"mquitevis","name":"Mark Quitevis","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7200051/avatar.png","web_url":"https://gitlab.com/mquitevis"},"type":"ISSUE","assignee":{"id":4098809,"username":"qzhaogitlab","name":"Qingyu Zhao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4098809/avatar.png","web_url":"https://gitlab.com/qzhaogitlab"},"user_notes_count":23,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2021-07-30","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3147","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":16,"completed_count":13},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3147","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3147/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3147/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3147","relative":"#3147","full":"gitlab-org/customers-gitlab-com#3147"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":87417148,"iid":3144,"project_id":2670515,"title":"Send actual plans only to gitlab.com","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n### Problem\n\nRight now we send too many data and plans to gitlab.com, like `deprecated`, `hide_card` attributes. \n\n### Proposal\n\nI believe they are redundant and should not be send at all. I propose to do all the logic on the CustomersDot side and send only relevant information otherwise we are spreading our logic across two applications which leads to issues like https://gitlab.com/gitlab-org/gitlab/-/merge_requests/61990\n\nIn addition, changing available plans will require changes in **both** repositories and that increases the delivery time of a feature.\n\n### Availability \u0026 Testing\n\n\u003c!-- This section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\nWhat risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning --\u003e\n\nAn integration test should be added with a real or mocked GitLab instance.  When the data is transferred from CustomersDot, validate the appropriate data is sent.","state":"closed","created_at":"2021-05-20T08:51:42.732Z","updated_at":"2022-06-07T00:01:29.241Z","closed_at":"2022-06-07T00:01:29.227Z","closed_by":{"id":1786152,"username":"gitlab-bot","name":"🤖 GitLab Bot 🤖","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1786152/avatar.png","web_url":"https://gitlab.com/gitlab-bot"},"labels":["auto closed","auto updated","backend","devops::fulfillment","maintenance::refactor","quad-planning::complete-action","section::fulfillment","workflow::ready for development"],"milestone":null,"assignees":[],"author":{"id":447038,"username":"vitallium","name":"Vitaly Slobodin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/74b3243cfcfbfac1f022b78ab505e8d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/vitallium"},"type":"ISSUE","assignee":null,"user_notes_count":8,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3144","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3144","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3144/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3144/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3144","relative":"#3144","full":"gitlab-org/customers-gitlab-com#3144"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":87416174,"iid":3143,"project_id":2670515,"title":"Inline all email styles","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n### Problem\n\nGmail and probably some other email services too strips everything from head and does not accept remote styles.\n\n![image](/uploads/3d4b494fbba11322ddec3593f93840d7/image.png)\n\n### Proposal\n\nWe must inline all styles to make them working in Gmail. In order to do that\nwe need to go over email templates and get the list of all used classes. Then copy\u0026paste them into `mailer.scss` pack.\nAdd the `premailer-rails` to inline it into a template.\n\n### How will we measure success?","state":"closed","created_at":"2021-05-20T08:40:15.442Z","updated_at":"2022-03-07T16:42:01.147Z","closed_at":"2022-03-04T06:03:50.684Z","closed_by":{"id":447038,"username":"vitallium","name":"Vitaly Slobodin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/74b3243cfcfbfac1f022b78ab505e8d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/vitallium"},"labels":["[deprecated] Category:Provision","devops::fulfillment","frontend","group::provision","section::fulfillment","type::bug","workflow::production"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[],"author":{"id":447038,"username":"vitallium","name":"Vitaly Slobodin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/74b3243cfcfbfac1f022b78ab505e8d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/vitallium"},"type":"ISSUE","assignee":null,"user_notes_count":17,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3143","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3143","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3143/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3143/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3143","relative":"#3143","full":"gitlab-org/customers-gitlab-com#3143"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":87316263,"iid":3133,"project_id":2670515,"title":"Follow-up from \"Add ability to resend the activation code\"","description":"The following discussion from !3261 should be addressed:\n\n- [x] @rdavila started a [discussion](https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/3261#note_577702467):  (+1 comment)\n\n    \u003e I'm not using the `LicenseNotificationService` since it also try to send an email to the reseller and I don't think we want to do that in this scenario.","state":"closed","created_at":"2021-05-18T23:19:35.835Z","updated_at":"2021-09-13T19:35:10.227Z","closed_at":"2021-09-13T19:35:10.202Z","closed_by":{"id":5667561,"username":"vshumilo","name":"Vladlena Shumilo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08dfa82785d130c151ab9e21caeab4e3?s=80\u0026d=identicon","web_url":"https://gitlab.com/vshumilo"},"labels":["[deprecated] Category:Provision","backend","devops::fulfillment","group::provision","missed:14.1","missed:14.2","quad-planning::complete-no-action","section::fulfillment","workflow::in dev"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":5667561,"username":"vshumilo","name":"Vladlena Shumilo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08dfa82785d130c151ab9e21caeab4e3?s=80\u0026d=identicon","web_url":"https://gitlab.com/vshumilo"}],"author":{"id":280339,"username":"rdavila","name":"Rubén Dávila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/280339/avatar.png","web_url":"https://gitlab.com/rdavila"},"type":"ISSUE","assignee":{"id":5667561,"username":"vshumilo","name":"Vladlena Shumilo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08dfa82785d130c151ab9e21caeab4e3?s=80\u0026d=identicon","web_url":"https://gitlab.com/vshumilo"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3133","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":1},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3133","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3133/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3133/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3133","relative":"#3133","full":"gitlab-org/customers-gitlab-com#3133"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":87273445,"iid":3128,"project_id":2670515,"title":"Trial plans available options in purchase flow on GitLab.com","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n### Problem\n\nAs part of https://gitlab.com/gitlab-org/gitlab/-/issues/322043 Trials were created as their own plan.\n\nThese plans are there so we can discern which users are on a trial vs. not on a trial.\n\nUsers **should not** be able to choose these options in the purchase flow. That's what this issue is about :)\n\n![image](/uploads/6ee5ca0422d73a284e6cdd4a5dc8dc2c/image.png)\n\nThis can be seen when hitting https://gitlab.com/-/subscriptions/new?plan_id=2c92a0ff76f0d5250176f2f8c86f305a\u0026test=capabilities","state":"closed","created_at":"2021-05-18T10:17:42.133Z","updated_at":"2021-05-24T06:02:17.019Z","closed_at":"2021-05-24T06:02:17.003Z","closed_by":{"id":447038,"username":"vitallium","name":"Vitaly Slobodin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/74b3243cfcfbfac1f022b78ab505e8d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/vitallium"},"labels":["Category:Purchase","[deprecated] 🍎","devops::fulfillment","frontend","group::purchase","section::fulfillment","workflow::production"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":447038,"username":"vitallium","name":"Vitaly Slobodin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/74b3243cfcfbfac1f022b78ab505e8d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/vitallium"}],"author":{"id":4430316,"username":"rhardarson","name":"Ragnar Hardarson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4430316/avatar.png","web_url":"https://gitlab.com/rhardarson"},"type":"ISSUE","assignee":{"id":447038,"username":"vitallium","name":"Vitaly Slobodin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/74b3243cfcfbfac1f022b78ab505e8d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/vitallium"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3128","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3128","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3128/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3128/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3128","relative":"#3128","full":"gitlab-org/customers-gitlab-com#3128"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":87087435,"iid":3117,"project_id":2670515,"title":"Create new subscription for CI Minutes if customer doesn't have an active subscription","description":"Created by @doniquesmit \n\n## :reminder_ribbon:  \u0026nbsp; Note to the engineer working on this issue\n\nAdditional context and customer cases can be found in this related issue https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1485\n\n## Description\n\n- Customer tries to make a purchase for a CI minute pack, but the purchase fails with error: \"Body: {\"results\"=\u003e[{\"Success\"=\u003efalse, \"Errors\"=\u003e[{\"Code\"=\u003e\"INVALID_VALUE\", \"Message\"=\u003e\"The Contract effective date should not be later than the term end date of the basic subscription.\"}]}]}\"\n- Customer does have previous CI minute purchase showing as subscription widget\n- Namespace is linked to the previous CI minute purchase\n- SE tried to clear namespace linked with CI minute purchase, but this fails\n\n## Customer info\n\n- [Zuora account](https://www.zuora.com/apps/CustomerAccount.do?method=view\u0026id=2c92a00e6f1e0d65016f31c3b0ea6b2b)\n- [Customers portal](https://customers.gitlab.com/admin/customer/141666/edit)\n- [ZD ticket](https://gitlab.zendesk.com/agent/tickets/212579)\n\n## Sentry error\n\nhttps://sentry.gitlab.net/gitlab/customersgitlabcom/issues/2550053/?referrer=gitlab_plugin\n\n```\nStacktrace (most recent call first):\n\n  lib/gitlab/logger_helpers.rb:24:in `public_send'\n    Gitlab::Logger.public_send(log_level, object, options) # rubocop:disable GitlabSecurity/PublicSend\n  lib/gitlab/logger_helpers.rb:24:in `log'\n    Gitlab::Logger.public_send(log_level, object, options) # rubocop:disable GitlabSecurity/PublicSend\n  lib/gitlab/logger_helpers.rb:13:in `log_error'\n    log(:error, error, extra: extra)\n  app/jobs/zuora/actions/amend.rb:11:in `rescue in perform'\n    log_error(\n  app/jobs/zuora/actions/amend.rb:6:in `perform'\n    def perform(requests)\n  lib/zuora/subscription.rb:33:in `amend'\n    Zuora::Actions::Amend.perform_now(requests)\n  app/services/amendment_base_service.rb:138:in `send_zuora_amendment_request'\n    sort_amend_result(format_amend_result(Zuora::Subscription.amend([options])))\n  app/services/amendment_base_service.rb:33:in `amend!'\n    send_zuora_amendment_request(options)\n  app/services/amend_subscription_service.rb:31:in `execute'\n    result = amend!\n  app/controllers/subscriptions_controller.rb:63:in `update'\n    result = AmendSubscriptionService.new(@subscription, permitted_params_for_update).execute\n...\n(114 additional frame(s) were not displayed)\n\n[IronBank] Failed to amend record\n```","state":"closed","created_at":"2021-05-14T13:11:26.006Z","updated_at":"2022-12-27T08:40:15.422Z","closed_at":"2022-09-21T13:48:56.975Z","closed_by":{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"},"labels":["CI minutes","Duplicate","SUS::Impacting","UX","[deprecated] Category:Billing and Subscription Management","auto updated","automation:prevent-auto-close","backend","customer","devops::fulfillment","group::billing and subscription management","section::fulfillment","severity::2","type::bug","workflow::production"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"}],"author":{"id":402401,"username":"jobbot","name":"Bot","state":"active","avatar_url":"https://secure.gravatar.com/avatar/aaa6738f1ebf25404010884af511b0e7?s=80\u0026d=identicon","web_url":"https://gitlab.com/jobbot"},"type":"ISSUE","assignee":{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"},"user_notes_count":46,"merge_requests_count":0,"upvotes":4,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3117","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3117","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3117/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3117/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3117","relative":"#3117","full":"gitlab-org/customers-gitlab-com#3117"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8649,"epic":{"id":591333,"iid":8649,"title":"CI Minutes Purchasing Flow Reliability","url":"/groups/gitlab-org/-/epics/8649","group_id":9970,"human_readable_end_date":"Aug 17, 2023","human_readable_timestamp":"\u003cstrong\u003e3\u003c/strong\u003e months remaining"},"iteration":null,"health_status":null},{"id":87082041,"iid":3116,"project_id":2670515,"title":"Update Subscription Story with new manage action","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n### Situation\n\nWe recently introduced a new UI element in the Subscription Component to make it possible for customers to copy an `Activation Code` (gitlab-org/customers-gitlab-com#3006). See example here:\n\n||\n|-|\n|![](https://gitlab.com/gitlab-org/customers-gitlab-com/uploads/06008e55d9154849ffe5ddb36442c7da/Screenshot_2021-04-27_at_07.28.59.png)|\n\n(There's also have a `Copy license file` action and the 2 actions are mutually exclusive).\n\n### Complication\n\nThe Subscription story does not contain a case for this meaning the smoke tests are not taking this scenario into account.\n\n### Proposal\n\nGiven we added storyshots for smoke tests (gitlab-org/customers-gitlab-com#932), let's add this scenario to the Subscription stories.\n\n### Result\n\nBesides having the new scenario covered, we would expect a (slight) increase in coverage.","state":"closed","created_at":"2021-05-14T11:11:23.945Z","updated_at":"2021-07-08T22:08:28.958Z","closed_at":"2021-07-08T22:08:28.948Z","closed_by":{"id":8858358,"username":"sheldonled","name":"Sheldon Led","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4a4252822d6a503697403c631ca987dc?s=80\u0026d=identicon","web_url":"https://gitlab.com/sheldonled"},"labels":["Category:Purchase","[deprecated] 🍎","devops::fulfillment","frontend","group::purchase","onboarding","section::fulfillment","tests","workflow::production"],"milestone":null,"assignees":[{"id":8858358,"username":"sheldonled","name":"Sheldon Led","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4a4252822d6a503697403c631ca987dc?s=80\u0026d=identicon","web_url":"https://gitlab.com/sheldonled"}],"author":{"id":6348276,"username":"agulina","name":"Angelo Gulina","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b28693a558066993ea93b7272208d285?s=80\u0026d=identicon","web_url":"https://gitlab.com/agulina"},"type":"ISSUE","assignee":{"id":8858358,"username":"sheldonled","name":"Sheldon Led","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4a4252822d6a503697403c631ca987dc?s=80\u0026d=identicon","web_url":"https://gitlab.com/sheldonled"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3116","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3116","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3116/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3116/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3116","relative":"#3116","full":"gitlab-org/customers-gitlab-com#3116"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":87029306,"iid":3113,"project_id":2670515,"title":"Expired subscriptions - failing to retrieve one subscription stops the entire downgrade task","description":"### Summary\n\nWhen running the expired subscription downgrade task in production, the following error can be triggered:\n\n```text\nrake aborted!\nFaraday::ConnectionFailed: execution expired\n/home/gitlab-customers/customers-gitlab-com/vendor/bundle/ruby/2.6.0/gems/faraday-0.17.3/lib/faraday/adapter/net_http.rb:87:in `perform_request'\n[...]\n/home/gitlab-customers/customers-gitlab-com/vendor/bundle/ruby/2.6.0/gems/iron_bank-4.4.1/lib/iron_bank/cacheable.rb:41:in `where'\n/home/gitlab-customers/customers-gitlab-com/app/models/customer.rb:120:in `block in raw_subscriptions'\n/home/gitlab-customers/customers-gitlab-com/lib/utils/strong_memoize.rb:27:in `strong_memoize'\n/home/gitlab-customers/customers-gitlab-com/app/models/customer.rb:119:in `raw_subscriptions'\n/home/gitlab-customers/customers-gitlab-com/app/finders/subscriptions_finder.rb:69:in `subscriptions'\n/home/gitlab-customers/customers-gitlab-com/app/finders/subscriptions_finder.rb:22:in `by_id_or_name'\n/home/gitlab-customers/customers-gitlab-com/app/models/customer.rb:96:in `find_subscription'\n/home/gitlab-customers/customers-gitlab-com/app/models/order.rb:131:in `subscription'\n/home/gitlab-customers/customers-gitlab-com/app/services/check_order_in_sync_service.rb:69:in `zuora_subscription'\n/home/gitlab-customers/customers-gitlab-com/app/services/check_order_in_sync_service.rb:34:in `end_date_in_sync_with_zuora?'\n/home/gitlab-customers/customers-gitlab-com/app/services/check_order_in_sync_service.rb:11:in `execute'\n/home/gitlab-customers/customers-gitlab-com/app/services/check_order_in_sync_service.rb:5:in `execute'\n/home/gitlab-customers/customers-gitlab-com/app/jobs/expire_order_job.rb:16:in `perform'\n[...]\n```\n\n(This error on [Sentry](https://sentry.gitlab.net/gitlab/customersgitlabcom/issues/2626906/))\n\nThis error, which can happen randomly, means that we didn't manage to retrieve a subscription for a given order from Zuora.\n\n### Steps to reproduce\n\nrun the `orders:downgrade_expired_subscriptions` task in production.\n\n### What is the current *bug* behavior?\n\nError triggers and rake task stops.\n\n### What is the expected *correct* behavior?\n\nThe fact that we get this error when retrieving a subscription for one order should not be a reason to stop the rake task, we should carry on in processing the remaining orders.","state":"closed","created_at":"2021-05-13T11:41:15.501Z","updated_at":"2021-07-18T02:51:41.496Z","closed_at":"2021-05-14T13:32:59.451Z","closed_by":{"id":4192493,"username":"ebaque","name":"Etienne Baqué","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4192493/avatar.png","web_url":"https://gitlab.com/ebaque"},"labels":["devops::fulfillment","section::fulfillment","type::bug","workflow::in review"],"milestone":{"id":1233762,"iid":58,"group_id":9970,"title":"13.12","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.948Z","updated_at":"2022-04-21T07:22:18.898Z","due_date":"2021-05-17","start_date":"2021-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/58"},"assignees":[{"id":4192493,"username":"ebaque","name":"Etienne Baqué","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4192493/avatar.png","web_url":"https://gitlab.com/ebaque"}],"author":{"id":4192493,"username":"ebaque","name":"Etienne Baqué","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4192493/avatar.png","web_url":"https://gitlab.com/ebaque"},"type":"ISSUE","assignee":{"id":4192493,"username":"ebaque","name":"Etienne Baqué","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4192493/avatar.png","web_url":"https://gitlab.com/ebaque"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3113","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3113","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3113/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3113/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3113","relative":"#3113","full":"gitlab-org/customers-gitlab-com#3113"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4627,"epic":{"id":127219,"iid":4627,"title":"Expired SaaS subscriptions should revert to free plan.","url":"/groups/gitlab-org/-/epics/4627","group_id":9970,"human_readable_end_date":"Oct 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":86980460,"iid":3107,"project_id":2670515,"title":"Prevent HTTP Requests When No VCR Cassette Is Loaded","description":"### Problem\n\nWe appear to allow HTTP requests to be made by the test suite when VCR does not have any cassettes loaded:  https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/34e3aa33adfd643f98d6ce3277a8fc449393d893/spec/support/vcr.rb#L6\n\nThis makes it too easy to accidentally write a test that makes real HTTP requests every time it runs.\n\nHere's one example of how this can happen:  https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/3209#note_570376985\n\nIn short, if we use `let_it_be` with a factory that makes HTTP requests, then this will bypass VCR and always make real HTTP requests.  This makes it very easy to accidentally slip real HTTP requests into the test suite.  And there may be other ways this can happen.\n\nHere's another place we're we've discussed this being an issue:  https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/2565#note_558470717\n\nI [made an MR to experiment with changing this](https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/3217) within the scope of ~\"Stuff that should Just Work\".  In doing so, I discovered that we have a few tests that seem to make HTTP requests every test run.  Here is one such instance caused by using `let_it_be`: https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/3217/diffs#808512b32fff3a0a4332697e4a370a042f91ae1a_748_748\n\nOne easy way to verify that the test suite is bypassing VCR and attempting to make real HTTP requests is to disconnect from the network (disable your wifi, unplug your ethernet cable, etc) and then run the following spec: https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/34e3aa33adfd643f98d6ce3277a8fc449393d893/spec/controllers/subscriptions_controller_spec.rb#L747\n\nIt will generate errors like the following:\n\n```\nFaraday::ConnectionFailed:\n  Failed to open TCP connection to rest.apisandbox.zuora.com:443 (getaddrinfo: nodename nor servname provided, or not known)\n```\n\nIn contrast, it passes locally if the network is enabled.\n\n#### Notes\n\nHere are just a few further notes from code spelunking this:\n\nThis appears to be the magic that lets us use `:vcr` in our specs to get VCR to automatically find and load cassettes:  https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/98e48709688a0478ec245b0e2155b545c5986940/spec/support/vcr.rb#L9\n\nThat function is here in VCR:  https://github.com/vcr/vcr/blob/5c0ded824dd8b1f9d50ab5d48a53be065b94ece8/lib/vcr/configuration.rb#L420\n\nWhich uses RSpec’s `config.before(:each)` to load cassettes:  https://github.com/vcr/vcr/blob/5c0ded824dd8b1f9d50ab5d48a53be065b94ece8/lib/vcr/test_frameworks/rspec.rb#L35\n\nWhich seems to run after `before(:all)` (see the Order section):  https://rubydoc.info/github/rspec/rspec-core/RSpec/Core/Hooks\n\n`let_it_be` seems to be equivalent to using `before_all`:  https://test-prof.evilmartians.io/#/recipes/let_it_be?id=modifiers\n\nWhich I think ultimately uses `before(:all)` under the hood: https://github.com/test-prof/test-prof/blob/7d8effe48fa65418b0ee9a77d932d86fed240b51/lib/test_prof/recipes/rspec/before_all.rb\n\nI’m not sure I’m tracing through all that 100% correctly, but it’s in the ballpark.\n\n### Proposal\n\nLet's [change this line](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/34e3aa33adfd643f98d6ce3277a8fc449393d893/spec/support/vcr.rb#L6) to `c.allow_http_connections_when_no_cassette = false` so that HTTP requests are always denied in the test suite unless we specifically allow them for a particular test.\n\nUnfortunately, I haven't found a clear way to disable VCR and allow http requests for specific tests, which may be why we currently have `allow_http_connections_when_no_cassette` set to `true`.\n\nBut perhaps something like the following may work:\n\n```ruby\nWebMock.allow_net_connect!\nVCR.turn_off!\n```\n\nFollowed by the following to re-enable VCR and prevent HTTP connections:\n\n```ruby\nWebMock.disable_net_connect!\nVCR.turn_on!\n```\n\nOr maybe tests that require HTTP connections should be moved to the QA test suite?\n\nMaybe there are other ways to solve this?\n\n### Result\n\nOur test suite will stop leaking HTTP requests.\n\nIt will be harder to accidentally make HTTP requests from the test suite.  VCR / WebMock will always block the requests unless clearly disabled for a particular spec.\n\n### Next steps (if any)\n\n### How will we measure success?","state":"closed","created_at":"2021-05-12T20:40:43.804Z","updated_at":"2021-08-31T18:37:14.443Z","closed_at":"2021-07-15T15:07:15.845Z","closed_by":{"id":3716529,"username":"jagood","name":"Jason Goodman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6696c95a1788e2d4bee67df636805ecc?s=80\u0026d=identicon","web_url":"https://gitlab.com/jagood"},"labels":["[deprecated] Category:Utilization","backend","devops::fulfillment","group::utilization","maintenance::refactor","section::fulfillment","workflow::production"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":3716529,"username":"jagood","name":"Jason Goodman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6696c95a1788e2d4bee67df636805ecc?s=80\u0026d=identicon","web_url":"https://gitlab.com/jagood"}],"author":{"id":3716529,"username":"jagood","name":"Jason Goodman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6696c95a1788e2d4bee67df636805ecc?s=80\u0026d=identicon","web_url":"https://gitlab.com/jagood"},"type":"ISSUE","assignee":{"id":3716529,"username":"jagood","name":"Jason Goodman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6696c95a1788e2d4bee67df636805ecc?s=80\u0026d=identicon","web_url":"https://gitlab.com/jagood"},"user_notes_count":23,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3107","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3107","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3107/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3107/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3107","relative":"#3107","full":"gitlab-org/customers-gitlab-com#3107"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":86891968,"iid":3104,"project_id":2670515,"title":"Follow up: Notification on unlinked subscriptions execution","description":"### Problem\n\n:warning: We don't expect any code to be delivered as part of this effort, this issue is to consistently track any unexpected event in the first executions of `OrphanedComSubscriptionEmailCronJob`\n\nhttps://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1887 introduced a cron job to notify customers about paid .com subscriptions that are not linked to a GitLab namespace.\n\nThis job will run weekly on Mondays:\n- For the first Monday of the month it will notify all active + paid + .com + unlinked subscriptions\n- For any other monday it will refine this sets to subscriptions created in the last 36 days\n\nWe want to follow up on the first executions and validate there are no unexpected failures:\n- [x] Monday, May 17th \n- [x] Monday, May 24th\n- [x] Monday, May 31st\n- [x] Monday, May 7th (Bigger run without the `last 36 days restriction`\n\n### Proposal\n\nFor the provided dates:\n- Check Sentry and the sidekiq queues for any unexpected behavior.\n- Update this issue.","state":"closed","created_at":"2021-05-11T20:15:44.710Z","updated_at":"2021-06-08T21:40:51.338Z","closed_at":"2021-06-08T21:33:23.473Z","closed_by":{"id":5667561,"username":"vshumilo","name":"Vladlena Shumilo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08dfa82785d130c151ab9e21caeab4e3?s=80\u0026d=identicon","web_url":"https://gitlab.com/vshumilo"},"labels":["[deprecated] Category:Provision","[deprecated] 🍎","backend","devops::fulfillment","group::provision","section::fulfillment","workflow::in dev"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":5667561,"username":"vshumilo","name":"Vladlena Shumilo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08dfa82785d130c151ab9e21caeab4e3?s=80\u0026d=identicon","web_url":"https://gitlab.com/vshumilo"}],"author":{"id":5667561,"username":"vshumilo","name":"Vladlena Shumilo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08dfa82785d130c151ab9e21caeab4e3?s=80\u0026d=identicon","web_url":"https://gitlab.com/vshumilo"},"type":"ISSUE","assignee":{"id":5667561,"username":"vshumilo","name":"Vladlena Shumilo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08dfa82785d130c151ab9e21caeab4e3?s=80\u0026d=identicon","web_url":"https://gitlab.com/vshumilo"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3104","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":4,"completed_count":4},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3104","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3104/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3104/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3104","relative":"#3104","full":"gitlab-org/customers-gitlab-com#3104"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":86785692,"iid":3093,"project_id":2670515,"title":"Use metadata to set feature tag for feature specs","description":"The following discussion from !3209 should be addressed:\n\n- [ ] @ddavison started a [discussion](https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/3209#note_570157634): \n\n    \u003e _Nonblocker comment_ It's odd we don't derive this metadata from the `spec/features/*` directory.  Maybe we should consider doing this later:\n    \u003e \n    \u003e ```ruby\n    \u003e #=\u003e spec_helper.rb pseudo\n    \u003e RSpec.configure do |config|\n    \u003e   config.define_derived_metadata(path: %r{/spec/feature}) do |meta|\n    \u003e     meta[:feature] = true\n    \u003e   end\n    \u003e end\n    \u003e ```\n    \u003e \n    \u003e That way we could omit the adding the arguably superfluous `:feature` tag.","state":"closed","created_at":"2021-05-10T13:19:52.760Z","updated_at":"2021-08-04T08:52:03.816Z","closed_at":"2021-08-04T08:52:03.802Z","closed_by":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"labels":["Quality","[deprecated] Category:Provision","[deprecated] 🍎","backend","devops::fulfillment","group::provision","maintenance::refactor","quad-planning::complete-no-action","section::fulfillment","test","workflow::production"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"}],"author":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"type":"ISSUE","assignee":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3093","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3093","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3093/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3093/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3093","relative":"#3093","full":"gitlab-org/customers-gitlab-com#3093"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":86760810,"iid":3092,"project_id":2670515,"title":"Remove individual usages of aggregate_failures","description":"## Problem\n\nIn https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/3214#note_571133280 `aggregate_failures` was used within an individual test case. Although `aggregate_failures` is enabled for the [whole test suite](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/a17ae042dae80ec4803a36bb983b3a2bc6c8b372/spec/spec_helper.rb#L46). Looking through the code showed that there are a few places where this setting is explicitly set for individual test cases or spec files.\n\n## Proposal\n\nClean those places up to fall back to the global setting of `aggregate_failures`.\n\n## Result\n\nNo mixed usage of `aggregate_failures` throughout the test suite.","state":"closed","created_at":"2021-05-10T07:20:18.406Z","updated_at":"2021-05-19T16:58:47.066Z","closed_at":"2021-05-19T16:58:47.047Z","closed_by":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"labels":["[deprecated] Category:Provision","[deprecated] 🍎","backend","devops::fulfillment","group::provision","maintenance::refactor","section::fulfillment","test","workflow::production"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"}],"author":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"type":"ISSUE","assignee":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3092","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3092","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3092/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3092/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3092","relative":"#3092","full":"gitlab-org/customers-gitlab-com#3092"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":86569430,"iid":3086,"project_id":2670515,"title":"Include product title in success modal","description":"### Proposal\n\nIn `app/frontend/javascripts/purchase/components/purchase_success_modal.vue`, \n\nWhen a subscription is purchased, we want to show the product title in the success confirmation modal below the title, as show in the screenshot:\n\n\u003cimg src=\"/uploads/012feedf63b840568c06e8044c9f64da/Screen_Shot_2021-05-06_at_10.47.21.png\" width=\"800\"/\u003e\n\n### Details \n\nWe've 2 places where new subscription purchases could happen:\n\n- `new_ee_subscription.vue` for self-managed subscriptions\n- `new_gitlab_subscription.vue` for GitLab.com subscriptions\n\nWe could leverage Vue [slots](https://vuejs.org/v2/guide/components-slots.html) or find a better solution.","state":"closed","created_at":"2021-05-06T07:52:19.468Z","updated_at":"2021-06-14T16:23:24.751Z","closed_at":"2021-06-14T16:23:24.744Z","closed_by":{"id":8858358,"username":"sheldonled","name":"Sheldon Led","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4a4252822d6a503697403c631ca987dc?s=80\u0026d=identicon","web_url":"https://gitlab.com/sheldonled"},"labels":["Category:Purchase","[deprecated] 🍎","devops::fulfillment","frontend","group::purchase","onboarding","section::fulfillment","type::feature","workflow::production"],"milestone":null,"assignees":[{"id":8858358,"username":"sheldonled","name":"Sheldon Led","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4a4252822d6a503697403c631ca987dc?s=80\u0026d=identicon","web_url":"https://gitlab.com/sheldonled"}],"author":{"id":127064,"username":"aalakkad","name":"Ammar Alakkad","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ecc1130ce340f5080afd8f2c9962948a?s=80\u0026d=identicon","web_url":"https://gitlab.com/aalakkad"},"type":"ISSUE","assignee":{"id":8858358,"username":"sheldonled","name":"Sheldon Led","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4a4252822d6a503697403c631ca987dc?s=80\u0026d=identicon","web_url":"https://gitlab.com/sheldonled"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3086","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3086","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3086/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3086/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3086","relative":"#3086","full":"gitlab-org/customers-gitlab-com#3086"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":86389935,"iid":3073,"project_id":2670515,"title":"Replace clipboard.js usage with ClipboardAPI","description":"## Problem\n\nFor copying text to clipboard we’re using `clipboard.js` that use `document.execCommand('copy')`.\n\nMDN says using the mention method above [is discouraged](https://developer.mozilla.org/en-US/docs/Web/API/Document/execCommand), alternatively we can use [Clipboard API](https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/WebExtensions/Interact_with_the_clipboard#using_the_clipboard_api).\n\n`clipboard.js` has a [stale closed issue](https://github.com/zenorocha/clipboard.js/issues/683) about using the Clipboard API, but no maintainer has dropped by.\n\nClipboard API is [supported](https://developer.mozilla.org/en-US/docs/Web/API/Clipboard_API#browser_compatibility) by the browsers that [GitLab supports](https://docs.gitlab.com/ee/install/requirements.html#supported-web-browsers).\n\n## Proposal\n\nReplace `clipboard.js` usage with the new Clipboard API.\n\nExample of using the Clipboard API: https://gitlab.com/atlas-italia/atlas-sdmx/-/blob/main/src/components/SmdXplorer/index.ts#L57\n\n- [x] Remove `no-enforce-focus` property [`purchase_success_modal.vue`](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/00c5a795850c266bc37d5e7e4415f1781cd4127a/app/frontend/javascripts/purchase/components/purchase_success_modal.vue#L58-60) if !3182 is merged before this one.","state":"closed","created_at":"2021-05-03T13:45:42.388Z","updated_at":"2021-06-04T10:09:19.218Z","closed_at":"2021-06-04T10:09:19.204Z","closed_by":{"id":8858358,"username":"sheldonled","name":"Sheldon Led","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4a4252822d6a503697403c631ca987dc?s=80\u0026d=identicon","web_url":"https://gitlab.com/sheldonled"},"labels":["Category:Purchase","[deprecated] 🍎","devops::fulfillment","frontend","group::purchase","maintenance::refactor","onboarding","section::fulfillment","workflow::verification"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":8858358,"username":"sheldonled","name":"Sheldon Led","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4a4252822d6a503697403c631ca987dc?s=80\u0026d=identicon","web_url":"https://gitlab.com/sheldonled"}],"author":{"id":127064,"username":"aalakkad","name":"Ammar Alakkad","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ecc1130ce340f5080afd8f2c9962948a?s=80\u0026d=identicon","web_url":"https://gitlab.com/aalakkad"},"type":"ISSUE","assignee":{"id":8858358,"username":"sheldonled","name":"Sheldon Led","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4a4252822d6a503697403c631ca987dc?s=80\u0026d=identicon","web_url":"https://gitlab.com/sheldonled"},"user_notes_count":24,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3073","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":1},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3073","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3073/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3073/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3073","relative":"#3073","full":"gitlab-org/customers-gitlab-com#3073"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":86384646,"iid":3072,"project_id":2670515,"title":"Onboard new team member","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\nWe've got a new engineer joining the Fulfillment FE Purchase team - yay!\n\nThis issue captures the time allocation our onboarding buddy will need to be a good onboarding buddy :)\n\n### TODO\n\n- https://gitlab.com/gitlab-org/fulfillment-meta/-/issues/215\n- https://gitlab.com/gitlab-org/frontend/onboarding/-/issues/14\n- https://gitlab.com/gitlab-com/team-member-epics/employment/-/issues/2740","state":"closed","created_at":"2021-05-03T12:20:38.168Z","updated_at":"2021-06-07T14:39:17.840Z","closed_at":"2021-06-07T14:39:17.823Z","closed_by":{"id":6348276,"username":"agulina","name":"Angelo Gulina","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b28693a558066993ea93b7272208d285?s=80\u0026d=identicon","web_url":"https://gitlab.com/agulina"},"labels":["Category:Purchase","devops::fulfillment","frontend","group::purchase","section::fulfillment","spike","workflow::in dev"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":6348276,"username":"agulina","name":"Angelo Gulina","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b28693a558066993ea93b7272208d285?s=80\u0026d=identicon","web_url":"https://gitlab.com/agulina"}],"author":{"id":4430316,"username":"rhardarson","name":"Ragnar Hardarson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4430316/avatar.png","web_url":"https://gitlab.com/rhardarson"},"type":"ISSUE","assignee":{"id":6348276,"username":"agulina","name":"Angelo Gulina","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b28693a558066993ea93b7272208d285?s=80\u0026d=identicon","web_url":"https://gitlab.com/agulina"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3072","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3072","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3072/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3072/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3072","relative":"#3072","full":"gitlab-org/customers-gitlab-com#3072"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":86217062,"iid":3065,"project_id":2670515,"title":"Remove unused VCR cassettes and fix prefix for detection","description":"### Problem\n\nWhile working on https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/2748, an investigated VCR cassette didn't have a corresponding spec. While digging further into this it turned out that it isn't used at all. After running the test suite to detect unused cassettes with a command (`VCR_REPORT_UNUSED_CASSETTES=true bundle exec rspec`) from the my local reverse search in the terminal, nothing turned up. Looking into to the definition of the prefix, it turned out that only `1` is accepted as a value. Previously `true` was also working but that was changed in https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/2579.\n\nIt also turns out that the CI/CD variable for `VCR_REPORT_UNUSED_CASSETTES` for the pipelines is set to `true`.\n\n### Proposal\n\n- [x] Remove all unused VCR cassettes\n- [x] ~~Change value for CI/CD variable to `1`~~ A better suggestion came up [in Slack](https://gitlab.slack.com/archives/CMJ8JR0RH/p1619767112159100?thread_ts=1619700985.141000\u0026cid=CMJ8JR0RH) about removing the CI/CD variable the value is already set via the [.gitlab-ci.yml](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/3f5f471ba8dadc29f3f1e5b4914be59c0e8d72ae/.gitlab-ci.yml#L42).\n\n### Result\n\n- Removal of unused VCR cassettes from the code.\n- RSpec job in CI pipeline detects unused VCR cassettes again","state":"closed","created_at":"2021-04-29T12:23:33.682Z","updated_at":"2022-03-16T11:43:21.010Z","closed_at":"2021-04-30T17:23:25.263Z","closed_by":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"labels":["[deprecated] Category:Provision","backend","devops::fulfillment","group::provision","maintenance::pipelines","maintenance::refactor","section::fulfillment","type::maintenance","workflow::production"],"milestone":{"id":1233762,"iid":58,"group_id":9970,"title":"13.12","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.948Z","updated_at":"2022-04-21T07:22:18.898Z","due_date":"2021-05-17","start_date":"2021-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/58"},"assignees":[{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"}],"author":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"type":"ISSUE","assignee":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3065","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":2},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3065","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3065/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3065/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3065","relative":"#3065","full":"gitlab-org/customers-gitlab-com#3065"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":86191201,"iid":3064,"project_id":2670515,"title":"Add test coverage for EoaStarterBronze::AutoRenewService","description":"# Problem\nWhile working on !3160 and renaming `EoaAutoRenewService` to `EoaStarterBronze::AutoRenewService`, no test coverage for the class or the rake task (`lib/tasks/iron_bank.rake`) that uses it was found.\n\n# Proposal\n\nAdd test coverage for at least the service class.","state":"closed","created_at":"2021-04-29T07:28:26.298Z","updated_at":"2022-07-08T07:45:40.547Z","closed_at":"2022-07-08T07:45:40.534Z","closed_by":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"labels":["[deprecated] Category:Billing and Subscription Management","[deprecated] 🍎","auto updated","automation:prevent-auto-close","backend","devops::fulfillment","group::billing and subscription management","maintenance::refactor","section::fulfillment","type::maintenance","workflow::ready for development"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":11649502,"username":"aluthra2","name":"Aman Luthra","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11649502/avatar.png","web_url":"https://gitlab.com/aluthra2"}],"author":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"type":"ISSUE","assignee":{"id":11649502,"username":"aluthra2","name":"Aman Luthra","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11649502/avatar.png","web_url":"https://gitlab.com/aluthra2"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3064","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3064","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3064/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3064/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3064","relative":"#3064","full":"gitlab-org/customers-gitlab-com#3064"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":86099272,"iid":3059,"project_id":2670515,"title":"Use named subject in RSpec tests","description":"## What\n\nUse named subject, [doc excerpt](https://docs.gitlab.com/ee/development/testing_guide/best_practices.html#subject-and-let-variables):\n\n\u003e Avoid referencing subject in examples. Use a named subject subject(:name), or a let variable instead, so the variable has a contextual name.\n\n## Steps\n\n1. Enable Rubocop rule and exclude existing offenses - https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/3388\n1. Fix all other [places](#existing-offenses-to-fix)\n\n### Existing offenses to fix\n- [x] qa/spec/unit/helper/zuora_client_spec.rb\n- [x] spec/controllers/api/countries_controller_spec.rb\n- [x] spec/controllers/api/customers_controller_spec.rb\n- [x] spec/controllers/concerns/simple_encryption_spec.rb\n- [x] spec/controllers/eula_requests_controller_spec.rb\n- [x] spec/controllers/instance_review_controller_spec.rb\n- [x] spec/controllers/instance_review_settings_controller_spec.rb\n- [x] spec/controllers/invoices_controller_spec.rb\n- [x] spec/controllers/orders_controller_spec.rb\n- [x] spec/controllers/payment_methods_controller_spec.rb\n- [x] spec/controllers/zuora_callbacks_controller_spec.rb\n- [x] spec/features/rails_admin/list_gitlab_namespaces_spec.rb\n- [x] spec/finders/invoices_finder_spec.rb\n- [ ] spec/finders/license_finder_spec.rb (the class doesn't seem to be used anymore)  - !4161\n- [x] spec/finders/order_finder_spec.rb\n- [x] spec/finders/subscriptions_finders_spec.rb\n- [x] spec/graphql/mutations/cloud_activations/activate_spec.rb\n- [x] spec/graphql/types/plan_tag_type_spec.rb\n- [x] spec/graphql/types/subscription_type_spec.rb\n- [x] spec/helpers/registrations_helper_spec.rb\n- [x] spec/helpers/subscription_upgrades_helper_spec.rb\n- [x] spec/jobs/application_job_spec.rb\n- [x] spec/jobs/billing_rate_update_cron_job_spec.rb\n- [x] spec/jobs/billing_rate_update_job_spec.rb\n- [x] spec/jobs/expire_trial_cron_job_spec.rb\n- [x] spec/jobs/gitlab/sync_order_job_spec.rb\n- [x] spec/jobs/send_upcoming_reconciliation_email_job_spec.rb\n- [x] spec/jobs/zuora/actions/amend_spec.rb\n- [x] spec/jobs/zuora/actions/delete_spec.rb\n- [x] spec/jobs/zuora/actions/subscribe_spec.rb\n- [x] spec/jobs/zuora/actions/update_spec.rb\n- [x] spec/lib/admin_builder_spec.rb - !4088\n- [x] spec/lib/client/license_app/license_data_spec.rb - !4051 \n- [x] spec/lib/client/license_app_spec.rb - !4088\n- [x] spec/lib/country_spec.rb - !4088\n- [x] spec/lib/errors_spec.rb - !4088\n- [x] spec/lib/gem_extensions/iron_bank/local_spec.rb - !4088\n- [x] spec/lib/gitlab/http_spec.rb - !4088\n- [x] spec/lib/gitlab/tracking_spec.rb - !4088\n- [x] spec/lib/gitlab_danger_spec.rb - !4088\n- [x] spec/lib/health_check/custom_spec.rb - !4088\n- [x] spec/lib/middleware/health_check/health_check_responder_spec.rb - !4088\n- [x] spec/lib/middleware/zuora_proxy_spec.rb - !4088\n- [x] spec/lib/salesforce/attribute_builder_spec.rb - !4088\n- [x] spec/lib/salesforce/object_type_mapper_spec.rb - !4088\n- [x] spec/lib/subscription_current_version_finder_spec.rb - !4088\n- [x] spec/lib/subscription_params_generator_spec.rb - !4088\n- [x] spec/lib/utils/escape_spec.rb - !4088\n- [x] spec/lib/utils/strong_memoize_spec.rb - !4088\n- [x] spec/lib/validators/subscription_validator_spec.rb - !4088\n- [x] spec/lib/world_spec.rb - !4088\n- [x] spec/lib/zuora/associations_spec.rb - !3867\n- [x] spec/lib/zuora/digital_signature_spec.rb - !3867\n- [x] spec/lib/zuora/fields_spec.rb - !3867\n- [x] spec/lib/zuora/query_builder_extension_spec.rb - !3867\n- [x] spec/lib/zuora/resource_spec.rb - !3867\n- [x] spec/lib/zuora/subscription_spec.rb - !3867\n- [x] spec/mailers/admin_mailer_spec.rb - !3866\n- [x] spec/mailers/custom_devise_mailer_spec.rb - !3866\n- [x] spec/mailers/customer_mailer_spec.rb - !3866\n- [x] spec/mailers/gitlab_internal_mailer_spec.rb - !3866\n- [x] spec/models/amendment_spec.rb - !4080\n- [x] spec/models/customer_spec.rb - !4080\n- [x] spec/models/instance_review_setting_spec.rb - !4080\n- [x] spec/models/instance_review_spec.rb - !4080\n- [x] spec/models/license_seat_link_spec.rb - !4080\n- [x] spec/models/order_spec.rb - !4080\n- [x] spec/models/plan_spec.rb - !4080\n- [x] spec/models/plans_finder_spec.rb - !4080\n- [x] spec/models/reconciliation_spec.rb - !4080\n- [x] spec/models/subscription_spec.rb - !4080\n- [x] spec/models/trial_user_spec.rb - !4080\n- [x] spec/presenters/customer_presenter_spec.rb - !4020\n- [x] spec/presenters/order_renewal_presenter_spec.rb - !4020\n- [x] spec/presenters/payment_method_presenter_spec.rb - !4020\n- [x] spec/presenters/payment_methods_collection_presenter_spec.rb - !4020\n- [x] spec/presenters/plan_upgrade_presenter_spec.rb - !4020\n- [x] spec/presenters/product_presenter_spec.rb - !4020\n- [x] spec/presenters/subscription_license_presenter_spec.rb - !4020\n- [x] spec/requests/marketo_request_spec.rb - !3866\n- [x] spec/serializers/gitlab_plan_serializer_spec.rb - !3867\n- [x] spec/serializers/subscription_serializer_spec.rb - !3867\n- [x] spec/serializers/upgrade_amendment_response_serializer_spec.rb - !3867\n- [ ] spec/services/amendment_base_service_spec.rb - !4161\n- [ ] spec/services/compliance_check_service_spec.rb - !4161\n- [ ] spec/services/coupons/export_service_spec.rb - !4161\n- [ ] spec/services/create_order_service_spec.rb - !4161\n- [ ] spec/services/eoa_starter_bronze/calculate_next_price_service_spec.rb - !4161\n- [ ] spec/services/eoa_starter_bronze/offer_renewals_count_service_spec.rb - !4161\n- [ ] spec/services/find_or_create_customer_service_spec.rb - !4161\n- [ ] spec/services/fix_cancelled_subscription_for_order_service_spec.rb - !4161\n- [ ] spec/services/gitlab/admin/get_namespace_service_spec.rb - !4161\n- [ ] spec/services/gitlab/base_trial_service_spec.rb - !4161\n- [ ] spec/services/gitlab/hosted_plans/create_trial_service_spec.rb - !4161\n- [ ] spec/services/gitlab/hosted_plans/extend_reactivate_trial_base_service_spec.rb - !4161\n- [ ] spec/services/gitlab/hosted_plans/extend_trial_service_spec.rb - !4161\n- [ ] spec/services/gitlab/hosted_plans/purchased_add_ons/ci_minutes_service_spec.rb - !4161\n- [ ] spec/services/gitlab/hosted_plans/reactivate_trial_service_spec.rb - !4161\n- [ ] spec/services/gitlab/namespaces/get_service_spec.rb - !4161\n- [ ] spec/services/gitlab/namespaces/list_service_spec.rb - !4161\n- [ ] spec/services/gitlab/namespaces/update_service_spec.rb - !4161\n- [ ] spec/services/gitlab/self_hosted_plans/create_trial_service_spec.rb - !4161\n- [ ] spec/services/gitlab/subscription/update_service_spec.rb - !4161\n- [ ] spec/services/instance_review_create_service_spec.rb - !4161\n- [ ] spec/services/license_notification_service_spec.rb - !4161\n- [ ] spec/services/reconciliation_eligibility_service_spec.rb - !4161\n- [ ] spec/services/reconciliation_service_spec.rb - !4161\n- [ ] spec/services/reseller_notification_service_spec.rb - !4161\n- [ ] spec/services/subscription_manager_service_spec.rb - !4161\n- [ ] spec/services/update_contact_service_spec.rb - !4161\n- [ ] spec/services/zuora_callbacks/credit_card_validation_service_spec.rb - !4161\n- [x] spec/tasks/cleanup_customer_xss_payload_spec.rb - !4020\n- [x] spec/viewers/transaction_viewer_spec.rb - !4020\n- [x] spec/views/layouts/_impersonate_alert.html.haml_spec.rb - !4020\n- [x] spec/workers/create_amendment_worker_spec.rb - !3866\n- [x] spec/workers/salesforce/create_account_worker_spec.rb - !3866\n- [x] spec/workers/salesforce/create_opportunity_worker_spec.rb - !3866\n- [x] spec/workers/update_subscription_eoa_starter_bronze_offer_worker_spec.rb - !3866","state":"closed","created_at":"2021-04-28T07:08:29.450Z","updated_at":"2022-03-16T11:43:21.624Z","closed_at":"2021-12-22T18:02:50.556Z","closed_by":{"id":4717243,"username":"a_luna","name":"Amparo Luna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4717243/avatar.png","web_url":"https://gitlab.com/a_luna"},"labels":["[deprecated] Category:Provision","backend","devops::fulfillment","group::provision","maintenance::refactor","missed:14.0","missed:14.1","missed:14.3","missed:14.4","missed:14.6","section::fulfillment","test","type::maintenance","workflow::in review"],"milestone":{"id":2156369,"iid":68,"group_id":9970,"title":"14.7","description":"","state":"active","created_at":"2021-07-21T17:39:41.786Z","updated_at":"2021-07-21T17:39:41.786Z","due_date":"2022-01-17","start_date":"2021-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/68"},"assignees":[{"id":4717243,"username":"a_luna","name":"Amparo Luna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4717243/avatar.png","web_url":"https://gitlab.com/a_luna"},{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"}],"author":{"id":447038,"username":"vitallium","name":"Vitaly Slobodin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/74b3243cfcfbfac1f022b78ab505e8d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/vitallium"},"type":"ISSUE","assignee":{"id":4717243,"username":"a_luna","name":"Amparo Luna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4717243/avatar.png","web_url":"https://gitlab.com/a_luna"},"user_notes_count":18,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3059","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":118,"completed_count":89},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3059","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3059/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3059/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3059","relative":"#3059","full":"gitlab-org/customers-gitlab-com#3059"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6383,"epic":{"id":310864,"iid":6383,"title":"THEME: Maintenance and Support","url":"/groups/gitlab-org/-/epics/6383","group_id":9970,"human_readable_end_date":"Nov 16, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":85838013,"iid":3048,"project_id":2670515,"title":"Effective Price should use Invoice Item - Unit Price, not Invoice Item - Charge Amount.","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n### Problem\n\n@a_luna @amandarueda looking at the data coming over to salesforce, it looks like we had a bad mapping for what we are sending to Effective Price: https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/staging/app/services/salesforce/create_opportunity_objects_service.rb#L310\n\nThat line should be using the Invoice Item Unit Price field and not the Charge Amount. I see that this object is created by Zuora::InvoiceItem, and want to make sure that this might be an additional field it needs instead of a complete change at that level as I do not know what else is using the Charge Amount.\n\n### Proposal\n\nThe `effective_price` value sent to the [`CreateRatePlanChargeService`](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/9f0fd64a397a5fc3ff3ea3a5e9131ac7fd3f30c9/app/services/salesforce/create_quote_rate_plan_charge_service.rb) should map to `InvoiceItem-\u003eUnit Price` instead of `InvoiceItem-\u003eCharge Amount`.\n\n[This line](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/staging/app/services/salesforce/create_opportunity_objects_service.rb#L310) needs to change to `effective_price: invoice_item.unit_price`\n\n### Result\n\n### Next steps (if any)\n\n### How will we measure success?","state":"closed","created_at":"2021-04-23T17:12:52.705Z","updated_at":"2021-05-12T17:15:13.459Z","closed_at":"2021-04-30T16:41:35.365Z","closed_by":{"id":4717243,"username":"a_luna","name":"Amparo Luna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4717243/avatar.png","web_url":"https://gitlab.com/a_luna"},"labels":["[deprecated] Category:Provision","backend","devops::fulfillment","group::provision","section::fulfillment","workflow::production"],"milestone":{"id":1233762,"iid":58,"group_id":9970,"title":"13.12","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.948Z","updated_at":"2022-04-21T07:22:18.898Z","due_date":"2021-05-17","start_date":"2021-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/58"},"assignees":[{"id":4717243,"username":"a_luna","name":"Amparo Luna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4717243/avatar.png","web_url":"https://gitlab.com/a_luna"}],"author":{"id":3913212,"username":"jbrennan1","name":"Jack Brennan","state":"active","avatar_url":"https://secure.gravatar.com/avatar/828dad4c15d9a386243161630d12b5f3?s=80\u0026d=identicon","web_url":"https://gitlab.com/jbrennan1"},"type":"ISSUE","assignee":{"id":4717243,"username":"a_luna","name":"Amparo Luna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4717243/avatar.png","web_url":"https://gitlab.com/a_luna"},"user_notes_count":14,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3048","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3048","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3048/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3048/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3048","relative":"#3048","full":"gitlab-org/customers-gitlab-com#3048"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":85790188,"iid":3043,"project_id":2670515,"title":"AutoRenewJob fails for no credit_card_expiration_year","description":"### Problem\n\nWhen fetching the default payment for a customer, the default payment returns as a 'Credit Card' and it do exists within Zuora but some of the fetched Credit Cards payments has the `credit_card_expiration_year` and `credit_card_expiration_month` as nil.\n\nDue to which the [check here](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/staging/app/services/auto_renew_service.rb#L40) results in throwing an exception `TypeError: no implicit conversion from nil to integer` \n\n### Proposal\n\nCheck for the presence of `credit_card_expiration_year` and `credit_card_expiration_month` before checking whether the credit card date is valid \n\nhttps://sentry.gitlab.net/gitlab/customersgitlabcom/issues/2586755/?query=is%3Aunresolved\n\nhttps://customers.gitlab.com/sidekiq/retries","state":"closed","created_at":"2021-04-23T06:20:03.873Z","updated_at":"2021-05-18T07:08:13.910Z","closed_at":"2021-04-27T08:35:45.120Z","closed_by":{"id":4903695,"username":"shreyasagarwal","name":"Shreyas Agarwal","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d5b09dfe06a10d119c1b2043c43de680?s=80\u0026d=identicon","web_url":"https://gitlab.com/shreyasagarwal"},"labels":["Category:Purchase","Deliverable","Unplanned","backend","devops::fulfillment","group::purchase","section::fulfillment","type::bug","workflow::production"],"milestone":{"id":1233762,"iid":58,"group_id":9970,"title":"13.12","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.948Z","updated_at":"2022-04-21T07:22:18.898Z","due_date":"2021-05-17","start_date":"2021-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/58"},"assignees":[{"id":4903695,"username":"shreyasagarwal","name":"Shreyas Agarwal","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d5b09dfe06a10d119c1b2043c43de680?s=80\u0026d=identicon","web_url":"https://gitlab.com/shreyasagarwal"}],"author":{"id":4903695,"username":"shreyasagarwal","name":"Shreyas Agarwal","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d5b09dfe06a10d119c1b2043c43de680?s=80\u0026d=identicon","web_url":"https://gitlab.com/shreyasagarwal"},"type":"ISSUE","assignee":{"id":4903695,"username":"shreyasagarwal","name":"Shreyas Agarwal","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d5b09dfe06a10d119c1b2043c43de680?s=80\u0026d=identicon","web_url":"https://gitlab.com/shreyasagarwal"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3043","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3043","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3043/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3043/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3043","relative":"#3043","full":"gitlab-org/customers-gitlab-com#3043"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":85782790,"iid":3042,"project_id":2670515,"title":"Additional indexes on license_seat_link","description":"### Problem\nNearly every day customers.gitlab.com suffers degraded performance between 00:00 and 01:00 UTC, for a few minutes at least, often paging the SRE on-call because our blackbox probes are failing.  For the latest example, see https://gitlab.com/gitlab-com/gl-infra/production/-/issues/4314\n\n### Proposal\nAdd two indexes to license_seat_link, on `report_timestamp` and `zuora_subscription_name`, to make the queries more efficient than having to perform a full sequential scan of the entire table.\n\n### Result\n\nHopefully better uptime/performance and fewer pages for the on-call SRE\n\n### Next steps (if any)\n\n### How will we measure success?\n\nNumber of pages for the on-call SRE","state":"closed","created_at":"2021-04-23T01:34:45.411Z","updated_at":"2021-05-05T01:44:04.466Z","closed_at":"2021-05-03T23:57:24.004Z","closed_by":{"id":3170776,"username":"krasio","name":"Krasimir Angelov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3170776/avatar.png","web_url":"https://gitlab.com/krasio"},"labels":["[deprecated] Category:Provision","backend","devops::fulfillment","group::provision","section::fulfillment","workflow::production"],"milestone":{"id":1233762,"iid":58,"group_id":9970,"title":"13.12","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.948Z","updated_at":"2022-04-21T07:22:18.898Z","due_date":"2021-05-17","start_date":"2021-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/58"},"assignees":[{"id":3170776,"username":"krasio","name":"Krasimir Angelov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3170776/avatar.png","web_url":"https://gitlab.com/krasio"}],"author":{"id":3623028,"username":"cmiskell","name":"Craig Miskell","state":"active","avatar_url":"https://secure.gravatar.com/avatar/852a93b505b1f4a5549595792035f445?s=80\u0026d=identicon","web_url":"https://gitlab.com/cmiskell"},"type":"ISSUE","assignee":{"id":3170776,"username":"krasio","name":"Krasimir Angelov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3170776/avatar.png","web_url":"https://gitlab.com/krasio"},"user_notes_count":13,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3042","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3042","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3042/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3042/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3042","relative":"#3042","full":"gitlab-org/customers-gitlab-com#3042"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":85731902,"iid":3040,"project_id":2670515,"title":"BE: Create CI Minutes architecture proposal","description":"### Summary\n\nAs part of https://gitlab.com/groups/gitlab-org/-/epics/5715, we need to draft an initial proposal of how CI provisioning can be implemented.\n\nAt a high level, this should include:\n\n- Storing CI minute purchases\n- Syncing/Updating GitLab.com with CI minute purchases\n- Retrieving current CI minute usage statistics\n- more tbc.\n\nFurther information and a summary can be found here: https://gitlab.com/groups/gitlab-org/-/epics/4331#note_529739414","state":"closed","created_at":"2021-04-22T10:11:56.414Z","updated_at":"2021-05-13T09:08:20.807Z","closed_at":"2021-05-13T09:08:20.780Z","closed_by":{"id":5249152,"username":"vij","name":"Vijay Hawoldar","state":"active","avatar_url":"https://secure.gravatar.com/avatar/14567a8b4af4374011c43778878de399?s=80\u0026d=identicon","web_url":"https://gitlab.com/vij"},"labels":["[deprecated] Category:Utilization","backend","devops::fulfillment","group::utilization","section::fulfillment","workflow::production"],"milestone":{"id":1233762,"iid":58,"group_id":9970,"title":"13.12","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.948Z","updated_at":"2022-04-21T07:22:18.898Z","due_date":"2021-05-17","start_date":"2021-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/58"},"assignees":[{"id":5249152,"username":"vij","name":"Vijay Hawoldar","state":"active","avatar_url":"https://secure.gravatar.com/avatar/14567a8b4af4374011c43778878de399?s=80\u0026d=identicon","web_url":"https://gitlab.com/vij"}],"author":{"id":5249152,"username":"vij","name":"Vijay Hawoldar","state":"active","avatar_url":"https://secure.gravatar.com/avatar/14567a8b4af4374011c43778878de399?s=80\u0026d=identicon","web_url":"https://gitlab.com/vij"},"type":"ISSUE","assignee":{"id":5249152,"username":"vij","name":"Vijay Hawoldar","state":"active","avatar_url":"https://secure.gravatar.com/avatar/14567a8b4af4374011c43778878de399?s=80\u0026d=identicon","web_url":"https://gitlab.com/vij"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3040","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3040","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3040/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3040/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3040","relative":"#3040","full":"gitlab-org/customers-gitlab-com#3040"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5715,"epic":{"id":244743,"iid":5715,"title":"CI Minutes provisioning API Updates","url":"/groups/gitlab-org/-/epics/5715","group_id":9970,"human_readable_end_date":"Oct 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":85699411,"iid":3035,"project_id":2670515,"title":"Remove batch_id and headers from coupon generator csv","description":"Based on conversation [here](https://gitlab.com/gitlab-com/marketing/community-relations/community-operations/community-operations/-/issues/75#note_557366613) two things need to happen:\n\n* Remove `.csv` `batch_id` column\n* Remove `.csv` headers\n\nhttps://gitlab.com/gitlab-org/customers-gitlab-com/blob/4a1d1c718f408ee3c5edaaaf6e107341c7b3944e/app/services/coupons/export_service.rb#L3\n \n\n### Problem\n\n### Proposal\n\n### Result\n\n### Next steps (if any)\n\n### How will we measure success?","state":"closed","created_at":"2021-04-21T22:03:36.391Z","updated_at":"2021-05-06T00:19:01.991Z","closed_at":"2021-05-06T00:19:01.901Z","closed_by":{"id":3614911,"username":"rcobb","name":"Ryan Cobb","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7047b7014264f07daf9836e55fc5ef4c?s=80\u0026d=identicon","web_url":"https://gitlab.com/rcobb"},"labels":["Category:Purchase","backend","devops::fulfillment","group::purchase","section::fulfillment","workflow::verification"],"milestone":{"id":1233762,"iid":58,"group_id":9970,"title":"13.12","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.948Z","updated_at":"2022-04-21T07:22:18.898Z","due_date":"2021-05-17","start_date":"2021-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/58"},"assignees":[{"id":3614911,"username":"rcobb","name":"Ryan Cobb","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7047b7014264f07daf9836e55fc5ef4c?s=80\u0026d=identicon","web_url":"https://gitlab.com/rcobb"}],"author":{"id":3614911,"username":"rcobb","name":"Ryan Cobb","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7047b7014264f07daf9836e55fc5ef4c?s=80\u0026d=identicon","web_url":"https://gitlab.com/rcobb"},"type":"ISSUE","assignee":{"id":3614911,"username":"rcobb","name":"Ryan Cobb","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7047b7014264f07daf9836e55fc5ef4c?s=80\u0026d=identicon","web_url":"https://gitlab.com/rcobb"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3035","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3035","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3035/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3035/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3035","relative":"#3035","full":"gitlab-org/customers-gitlab-com#3035"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5712,"epic":{"id":244558,"iid":5712,"title":"Community Programs - New Subscription","url":"/groups/gitlab-org/-/epics/5712","group_id":9970,"human_readable_end_date":"Mar 22, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":85312809,"iid":3017,"project_id":2670515,"title":"Community Programs Self-Checkout - Controllers/views/routes for Community Programs","description":"As part of https://gitlab.com/groups/gitlab-org/-/epics/5712 users will be guided to CustomersDot to claim their subscription/license\n\n### TODO\n\nCreate controllers/views/routes to support:\n\n* [SaaS or Self-Managed landing page](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3010)\n  ```bash\n  customers.gitlab.com/subscriptions/community_program/new?coupon_code=\u003cCOUPON\u003e\u0026product=\u003cPRODUCT\u003e\n    # renders: /subscriptions/community_program/new.html.haml\n  ```\n* Community program SaaS purchase route\n  ```bash\n  customers.gitlab.com/subscriptions/community_program/new?coupon_code=\u003cCOUPON\u003e\u0026product=\u003cPRODUCT\u003e\u0026edition=saas\n    # renders: /subscriptions/community_program/new_saas.html.haml\n  ```\n* Community program self-managed purchase route\n  ```bash\n  customers.gitlab.com/subscriptions/community_program/new?coupon_code=\u003cCOUPON\u003e\u0026product=\u003cPRODUCT\u003e\u0026edition=self_managed\n    # renders: /subscriptions/community_program/new_self_managed.html.haml\n  ```\n\n`\u003cCOUPON\u003e` = coupon code (ie 123456)\n`\u003cPRODUCT\u003e` = one of `['oss', 'edu', 'startup']` (case insensitive)\n\nIf the user is not authenticated the action will redirect to sign-in/register first.\nIf the FF is disabled, or the requested product cannot be found, the action will redirect to the plans page.","state":"closed","created_at":"2021-04-16T12:09:29.965Z","updated_at":"2021-06-01T22:24:01.824Z","closed_at":"2021-06-01T22:24:01.809Z","closed_by":{"id":4981524,"username":"jhyson","name":"Josianne Hyson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4981524/avatar.png","web_url":"https://gitlab.com/jhyson"},"labels":["Category:Purchase","backend","devops::fulfillment","group::purchase","section::fulfillment","workflow::verification"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":4981524,"username":"jhyson","name":"Josianne Hyson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4981524/avatar.png","web_url":"https://gitlab.com/jhyson"}],"author":{"id":4430316,"username":"rhardarson","name":"Ragnar Hardarson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4430316/avatar.png","web_url":"https://gitlab.com/rhardarson"},"type":"ISSUE","assignee":{"id":4981524,"username":"jhyson","name":"Josianne Hyson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4981524/avatar.png","web_url":"https://gitlab.com/jhyson"},"user_notes_count":20,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3017","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3017","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3017/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3017/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3017","relative":"#3017","full":"gitlab-org/customers-gitlab-com#3017"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5712,"epic":{"id":244558,"iid":5712,"title":"Community Programs - New Subscription","url":"/groups/gitlab-org/-/epics/5712","group_id":9970,"human_readable_end_date":"Mar 22, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":85312465,"iid":3016,"project_id":2670515,"title":"SaaS - Community Programs Self-Checkout - Coupon code input","description":"As part of https://gitlab.com/groups/gitlab-org/-/epics/5068 users will be guided to CustomersDot need input the coupon code they've received.\n\n[Designs](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/2677/designs/Community_programs_checkout___Invalid_coupon_code_error.png)\n\n\n![image](/uploads/196f6cc2c92d5541d007507af9f48688/image.png)\n\n\n### TODO\n\n1. Add input field for coupon code\n1. Pass coupon code to API payload when purchasing subscription following https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/2362\n1. Render error message inline if code is consumed `This code has already been used.` or not valid `This code is not valid. Try re-entering the code from your email`\n\n### How to see the pages\n\n- Make sure you've the [`community_program_coupons`](https://gitlab.com/gitlab-org/customers-gitlab-com/-/feature_flags/91/edit) enabled for your setup.\n- Login to your CustomersDot\n- Navigate to any of:\n  - `/subscriptions/community_program/new?edition=self_managed\u0026coupon_code=coupon_test\u0026product=oss`\n  - `/subscriptions/community_program/new?edition=saas\u0026coupon_code=coupon_test\u0026product=oss`","state":"closed","created_at":"2021-04-16T12:01:44.549Z","updated_at":"2021-07-15T12:51:54.469Z","closed_at":"2021-07-15T12:51:54.230Z","closed_by":{"id":4430316,"username":"rhardarson","name":"Ragnar Hardarson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4430316/avatar.png","web_url":"https://gitlab.com/rhardarson"},"labels":["Category:Purchase","devops::fulfillment","frontend","group::purchase","section::fulfillment","workflow::production"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[],"author":{"id":4430316,"username":"rhardarson","name":"Ragnar Hardarson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4430316/avatar.png","web_url":"https://gitlab.com/rhardarson"},"type":"ISSUE","assignee":null,"user_notes_count":27,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3016","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3016","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3016/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3016/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3016","relative":"#3016","full":"gitlab-org/customers-gitlab-com#3016"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5712,"epic":{"id":244558,"iid":5712,"title":"Community Programs - New Subscription","url":"/groups/gitlab-org/-/epics/5712","group_id":9970,"human_readable_end_date":"Mar 22, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":85311863,"iid":3015,"project_id":2670515,"title":"Community Programs Self-Checkout - namespace-select","description":"As part of https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/2363#note_551260268 users will be guided to CustomersDot to apply their SaaS subscription. If they do not have groups created or correct ownership they need to address this problem in GitLab.com\n\n[Designs](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/2677/designs/SaaS_-_Community_programs_checkout___No_group_error_state.png)\n\n\n![image](/uploads/1edd41d1ebc902d1086478219db38bc6/image.png)\n\n\n### TODO\n\n1. Modify `namespace-select` to have [clarifying information  on  Owner permission](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/2677/designs/SaaS_-_Community_programs_checkout___No_group_error_state.png#note_547892789)\n1. Modify `namespace-select` to give danger alert and a link to GL.com [if no groups are detected](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/2677/designs/SaaS_-_Community_programs_checkout___No_group_error_state.png#note_543289696)","state":"closed","created_at":"2021-04-16T11:49:09.655Z","updated_at":"2021-07-29T15:31:14.250Z","closed_at":"2021-07-29T15:31:14.233Z","closed_by":{"id":127064,"username":"aalakkad","name":"Ammar Alakkad","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ecc1130ce340f5080afd8f2c9962948a?s=80\u0026d=identicon","web_url":"https://gitlab.com/aalakkad"},"labels":["Category:Purchase","devops::fulfillment","frontend","group::purchase","missed:14.1","section::fulfillment","workflow::ready for development"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":127064,"username":"aalakkad","name":"Ammar Alakkad","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ecc1130ce340f5080afd8f2c9962948a?s=80\u0026d=identicon","web_url":"https://gitlab.com/aalakkad"}],"author":{"id":4430316,"username":"rhardarson","name":"Ragnar Hardarson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4430316/avatar.png","web_url":"https://gitlab.com/rhardarson"},"type":"ISSUE","assignee":{"id":127064,"username":"aalakkad","name":"Ammar Alakkad","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ecc1130ce340f5080afd8f2c9962948a?s=80\u0026d=identicon","web_url":"https://gitlab.com/aalakkad"},"user_notes_count":16,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3015","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3015","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3015/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3015/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3015","relative":"#3015","full":"gitlab-org/customers-gitlab-com#3015"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5712,"epic":{"id":244558,"iid":5712,"title":"Community Programs - New Subscription","url":"/groups/gitlab-org/-/epics/5712","group_id":9970,"human_readable_end_date":"Mar 22, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":85311390,"iid":3014,"project_id":2670515,"title":"Community Programs Self-Checkout - subscription-details component","description":"As part of https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/2363#note_551260268\n\n[Designs](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/2677/designs/SaaS_-_Community_programs_checkout.png)\n\n\n![image](/uploads/1b55105d3393b825ae68481c4a6c64ca/image.png)\n\n\n### TODO\n\nWhen creating this component, it needs a flag to hide prices for community program\n\n1. Extract component from existing purchase flows\n1. Consume component in Self-Managed community program self-checkout\n\n### How to see the pages\n\n- Make sure you've the [`community_program_coupons`](https://gitlab.com/gitlab-org/customers-gitlab-com/-/feature_flags/91/edit) enabled for your setup.\n- Login to your CustomersDot\n\n- Navigate to any of:\n  - [/subscriptions/community_program/new?product=edu\u0026edition=self_managed](http://localhost:5000/subscriptions/community_program/new?product=edu\u0026edition=self_managed)\n  - [/subscriptions/community_program/new?coupon_code=coupon_test\u0026product=oss\u0026edition=self_managed](http://localhost:5000/subscriptions/community_program/new?coupon_code=coupon_test\u0026product=oss\u0026edition=self_managed)\n  - [/subscriptions/community_program/new?product=startup\u0026edition=self_managed](http://localhost:5000/subscriptions/community_program/new?product=startup\u0026edition=self_managed)","state":"closed","created_at":"2021-04-16T11:42:03.172Z","updated_at":"2021-08-03T12:14:35.898Z","closed_at":"2021-08-03T12:14:20.796Z","closed_by":{"id":8858358,"username":"sheldonled","name":"Sheldon Led","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4a4252822d6a503697403c631ca987dc?s=80\u0026d=identicon","web_url":"https://gitlab.com/sheldonled"},"labels":["Category:Purchase","devops::fulfillment","frontend","group::purchase","missed:14.1","section::fulfillment","workflow::production"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":8858358,"username":"sheldonled","name":"Sheldon Led","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4a4252822d6a503697403c631ca987dc?s=80\u0026d=identicon","web_url":"https://gitlab.com/sheldonled"}],"author":{"id":4430316,"username":"rhardarson","name":"Ragnar Hardarson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4430316/avatar.png","web_url":"https://gitlab.com/rhardarson"},"type":"ISSUE","assignee":{"id":8858358,"username":"sheldonled","name":"Sheldon Led","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4a4252822d6a503697403c631ca987dc?s=80\u0026d=identicon","web_url":"https://gitlab.com/sheldonled"},"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3014","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3014","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3014/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3014/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3014","relative":"#3014","full":"gitlab-org/customers-gitlab-com#3014"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5712,"epic":{"id":244558,"iid":5712,"title":"Community Programs - New Subscription","url":"/groups/gitlab-org/-/epics/5712","group_id":9970,"human_readable_end_date":"Mar 22, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":85311175,"iid":3013,"project_id":2670515,"title":"Community Programs Self-Checkout - purchase-confirmation-card allow for no CC","description":"As part of https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/2363#note_551260268 users will be able to complete the checkout flow of community programs without giving a credit card.\n\n![image](/uploads/6fdc044bc30c8b210daf5353aa61270e/image.png)\n\n\n### TODO\n\n1. control showing payment methods and make `paymentMethods` prop optional\n1. IMPORTANT it should be explicitly opt-in to not enter a credit card. In the majority of our flows the user has to give a credit card, this should be the default.","state":"closed","created_at":"2021-04-16T11:38:12.957Z","updated_at":"2021-07-06T06:49:32.438Z","closed_at":"2021-07-06T06:49:32.413Z","closed_by":{"id":127064,"username":"aalakkad","name":"Ammar Alakkad","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ecc1130ce340f5080afd8f2c9962948a?s=80\u0026d=identicon","web_url":"https://gitlab.com/aalakkad"},"labels":["Category:Purchase","[deprecated] 🍎","devops::fulfillment","frontend","group::purchase","missed:14.0","section::fulfillment","workflow::in review"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":127064,"username":"aalakkad","name":"Ammar Alakkad","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ecc1130ce340f5080afd8f2c9962948a?s=80\u0026d=identicon","web_url":"https://gitlab.com/aalakkad"}],"author":{"id":4430316,"username":"rhardarson","name":"Ragnar Hardarson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4430316/avatar.png","web_url":"https://gitlab.com/rhardarson"},"type":"ISSUE","assignee":{"id":127064,"username":"aalakkad","name":"Ammar Alakkad","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ecc1130ce340f5080afd8f2c9962948a?s=80\u0026d=identicon","web_url":"https://gitlab.com/aalakkad"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3013","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3013","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3013/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3013/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3013","relative":"#3013","full":"gitlab-org/customers-gitlab-com#3013"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5712,"epic":{"id":244558,"iid":5712,"title":"Community Programs - New Subscription","url":"/groups/gitlab-org/-/epics/5712","group_id":9970,"human_readable_end_date":"Mar 22, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":85310707,"iid":3012,"project_id":2670515,"title":"Community Programs Self-Checkout - Skeleton apps","description":"As part of https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/2363#note_547510966 we'll have two purchase flows. SaaS and Self-Managed. This issue covers creating skeleton apps we can iterate on.\n\n\n### TODO\n\n* Pass variables from HAML and query string to Vue app\n* \"Claim subscription\" title\n* dynamic subtitle\n* form placeholder\n* identify if this is EDU | Start-up | OSS","state":"closed","created_at":"2021-04-16T11:34:06.165Z","updated_at":"2021-06-11T07:22:37.539Z","closed_at":"2021-06-03T08:14:09.740Z","closed_by":{"id":127064,"username":"aalakkad","name":"Ammar Alakkad","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ecc1130ce340f5080afd8f2c9962948a?s=80\u0026d=identicon","web_url":"https://gitlab.com/aalakkad"},"labels":["Category:Purchase","[deprecated] 🍎","devops::fulfillment","frontend","group::purchase","section::fulfillment","workflow::verification"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":127064,"username":"aalakkad","name":"Ammar Alakkad","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ecc1130ce340f5080afd8f2c9962948a?s=80\u0026d=identicon","web_url":"https://gitlab.com/aalakkad"}],"author":{"id":4430316,"username":"rhardarson","name":"Ragnar Hardarson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4430316/avatar.png","web_url":"https://gitlab.com/rhardarson"},"type":"ISSUE","assignee":{"id":127064,"username":"aalakkad","name":"Ammar Alakkad","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ecc1130ce340f5080afd8f2c9962948a?s=80\u0026d=identicon","web_url":"https://gitlab.com/aalakkad"},"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3012","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3012","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3012/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3012/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3012","relative":"#3012","full":"gitlab-org/customers-gitlab-com#3012"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5712,"epic":{"id":244558,"iid":5712,"title":"Community Programs - New Subscription","url":"/groups/gitlab-org/-/epics/5712","group_id":9970,"human_readable_end_date":"Mar 22, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":85309464,"iid":3011,"project_id":2670515,"title":"Community Programs Self-Checkout - heading-and-description component","description":"As part of https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/2363#note_551260268 we need a `heading-and-description` (or whichever name makes sense) in multiple components\n\n[Designs](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/2677/designs/SaaS_-_Community_programs_checkout.png)\n\n\n![image](/uploads/a3ac0614c2b3f2239c2e6da5f91469a1/image.png)\n\n\n### TODO\n\n1. Create component and consume in existing flows\n1. Add to Community Programs Self-Checkout SaaS and Self-Managed","state":"closed","created_at":"2021-04-16T11:28:52.407Z","updated_at":"2021-06-11T10:00:22.084Z","closed_at":"2021-06-11T10:00:22.070Z","closed_by":{"id":127064,"username":"aalakkad","name":"Ammar Alakkad","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ecc1130ce340f5080afd8f2c9962948a?s=80\u0026d=identicon","web_url":"https://gitlab.com/aalakkad"},"labels":["Category:Purchase","[deprecated] 🍎","devops::fulfillment","frontend","group::purchase","section::fulfillment","workflow::production"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":127064,"username":"aalakkad","name":"Ammar Alakkad","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ecc1130ce340f5080afd8f2c9962948a?s=80\u0026d=identicon","web_url":"https://gitlab.com/aalakkad"}],"author":{"id":4430316,"username":"rhardarson","name":"Ragnar Hardarson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4430316/avatar.png","web_url":"https://gitlab.com/rhardarson"},"type":"ISSUE","assignee":{"id":127064,"username":"aalakkad","name":"Ammar Alakkad","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ecc1130ce340f5080afd8f2c9962948a?s=80\u0026d=identicon","web_url":"https://gitlab.com/aalakkad"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3011","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3011","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3011/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3011/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3011","relative":"#3011","full":"gitlab-org/customers-gitlab-com#3011"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5712,"epic":{"id":244558,"iid":5712,"title":"Community Programs - New Subscription","url":"/groups/gitlab-org/-/epics/5712","group_id":9970,"human_readable_end_date":"Mar 22, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":85308370,"iid":3010,"project_id":2670515,"title":"Community Programs Self-Checkout - SaaS or Self-Managed landing page","description":"As part of https://gitlab.com/groups/gitlab-org/-/epics/5068 users will be guided to CustomersDot where they choose Self-Managed or SaaS to redeem their code.\n\n[User flow](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/2677/designs/User_flow.png)\n\n\n![image](/uploads/1ae0f0a8de2b44a87260bb55052ee08b/image.png)\n\n\n### TODO\n\n1. Extract [the HAML code on the current Plans](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/d06a549e3c8bd20fc78403ed5317f85ba169776d/app/views/plans/index.html.haml#L16-17) landing page to a shared HAML partial.\n1. Ensure \"Claim\" buttons link to correct purchase flows","state":"closed","created_at":"2021-04-16T11:21:32.177Z","updated_at":"2021-06-17T13:41:54.419Z","closed_at":"2021-06-17T13:41:54.399Z","closed_by":{"id":127064,"username":"aalakkad","name":"Ammar Alakkad","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ecc1130ce340f5080afd8f2c9962948a?s=80\u0026d=identicon","web_url":"https://gitlab.com/aalakkad"},"labels":["Category:Purchase","[deprecated] 🍎","devops::fulfillment","frontend","group::purchase","section::fulfillment","workflow::verification"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":127064,"username":"aalakkad","name":"Ammar Alakkad","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ecc1130ce340f5080afd8f2c9962948a?s=80\u0026d=identicon","web_url":"https://gitlab.com/aalakkad"}],"author":{"id":4430316,"username":"rhardarson","name":"Ragnar Hardarson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4430316/avatar.png","web_url":"https://gitlab.com/rhardarson"},"type":"ISSUE","assignee":{"id":127064,"username":"aalakkad","name":"Ammar Alakkad","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ecc1130ce340f5080afd8f2c9962948a?s=80\u0026d=identicon","web_url":"https://gitlab.com/aalakkad"},"user_notes_count":12,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3010","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3010","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3010/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3010/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3010","relative":"#3010","full":"gitlab-org/customers-gitlab-com#3010"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5712,"epic":{"id":244558,"iid":5712,"title":"Community Programs - New Subscription","url":"/groups/gitlab-org/-/epics/5712","group_id":9970,"human_readable_end_date":"Mar 22, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":85289647,"iid":3009,"project_id":2670515,"title":"SyntaxError: JSON.parse: unexpected character at line 1 column 1 of the JSON data","description":"https://sentry.gitlab.net/gitlab/customersgitlabcom/issues/2508642/?referrer=gitlab_plugin\n\n```\nSyntaxError: JSON.parse: unexpected character at line 1 column 1 of the JSON data\n  at tryJsonParse (./app/frontend/javascripts/lib/try_json_parse.js:13:17)\n  at apply (./app/frontend/javascripts/sessions/init_auth.js:20:23)\n```","state":"closed","created_at":"2021-04-16T05:43:56.243Z","updated_at":"2021-05-25T12:42:11.667Z","closed_at":"2021-05-25T12:42:11.651Z","closed_by":{"id":447038,"username":"vitallium","name":"Vitaly Slobodin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/74b3243cfcfbfac1f022b78ab505e8d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/vitallium"},"labels":["frontend","type::bug","workflow::production"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":447038,"username":"vitallium","name":"Vitaly Slobodin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/74b3243cfcfbfac1f022b78ab505e8d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/vitallium"}],"author":{"id":402401,"username":"jobbot","name":"Bot","state":"active","avatar_url":"https://secure.gravatar.com/avatar/aaa6738f1ebf25404010884af511b0e7?s=80\u0026d=identicon","web_url":"https://gitlab.com/jobbot"},"type":"ISSUE","assignee":{"id":447038,"username":"vitallium","name":"Vitaly Slobodin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/74b3243cfcfbfac1f022b78ab505e8d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/vitallium"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3009","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3009","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3009/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3009/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3009","relative":"#3009","full":"gitlab-org/customers-gitlab-com#3009"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":85277261,"iid":3008,"project_id":2670515,"title":"EdCast Settlement Revenue SKU","description":"# SKU Request Summary\n\n\u003c!---\nProvide a brief description of what this SKU will be used for.\n---\u003e\n\n\n\n## SKU Requirements\n\nIn order to expedite your request, please complete all of the following information.\nAny questions about this template or this request can be directed to @amandarueda in the comments of this issue.\n\n* [x] SKU Name: EdCast Settlement Revenue\n* [x] SKU Code/ID: [EdCast Settlement Revenue](https://docs.google.com/spreadsheets/d/1QQ_9WmgvvrIaNPzGiODojUd2QJzLeV46JxNqHgZWTOU/edit?usp=sharing)\n* [x] Zuora Plan Name: [EdCast Settlement Revenue](https://docs.google.com/spreadsheets/d/1QQ_9WmgvvrIaNPzGiODojUd2QJzLeV46JxNqHgZWTOU/edit?usp=sharing)\n* [x] Zuora Plan ID: [EdCast Settlement Revenue](https://docs.google.com/spreadsheets/d/1QQ_9WmgvvrIaNPzGiODojUd2QJzLeV46JxNqHgZWTOU/edit?usp=sharing)\n* [ ] Service type: add-on\n* [x] Does this need to be purchase-able via CustomersDot? No\n* [x] Does this service renew? No\n     * [ ] If yes, what is the renewal cadence? `monthly | annually | other`\n* [ ] Should an email be sent indicating the subscription is coming to an end? No \n* [ ] Is there a unit of measure, if so what? Yes Education Service\n* [ ] Does this service provision anything? other\n     * [ ] If yes, please describe in detail what should be provisioned including the systems affected:\n* [ ] How soon do you need this SKU ? 2021-04-30\n* [x] Who in Sales-Ops approved this request: @dhong cc: @Jesse @james_harrison \n* [ ] Link to originating Finance issue: https://gitlab.com/gitlab-com/Finance-Division/finance/-/issues/3924\n* [ ] Apply the appropriate `BTG Priority` label to this issue.","state":"closed","created_at":"2021-04-15T22:13:48.279Z","updated_at":"2021-07-12T15:49:25.600Z","closed_at":"2021-06-15T22:36:10.639Z","closed_by":{"id":4981524,"username":"jhyson","name":"Josianne Hyson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4981524/avatar.png","web_url":"https://gitlab.com/jhyson"},"labels":["Category:Purchase","EntApp Ecosystem","SKU","[deprecated] 🍎","backend","devops::fulfillment","group::purchase","section::fulfillment","workflow::verification"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":4981524,"username":"jhyson","name":"Josianne Hyson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4981524/avatar.png","web_url":"https://gitlab.com/jhyson"}],"author":{"id":4668878,"username":"c.yoshida","name":"Christine Yoshida","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4668878/avatar.png","web_url":"https://gitlab.com/c.yoshida"},"type":"ISSUE","assignee":{"id":4981524,"username":"jhyson","name":"Josianne Hyson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4981524/avatar.png","web_url":"https://gitlab.com/jhyson"},"user_notes_count":15,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2021-04-30","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3008","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":16,"completed_count":7},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3008","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3008/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3008/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3008","relative":"#3008","full":"gitlab-org/customers-gitlab-com#3008"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":85273221,"iid":3007,"project_id":2670515,"title":"Investigate orders without corresponding subscription object in production","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n### Problem\n\nWhile running the rake task to update subscriptions in Zuora with their namespace data (https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/2962), some orders came through with a subscription name but there was no corresponding subscription object when trying to access `order.subscription` (relevant [method](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/b1bb01424444a4f020dd58458e9679eb3ce970fa/app/models/order.rb#L117-135)). Because of this we didn't update the subscription in Zuora because `order.subscription\u0026.z_subscription` was `nil`.\n\nNot really sure if this really is a problem, but just wanted to flag it and check since there were some active SAAS non-trial orders like this.\n\n#### Examples\n\nI grabbed these from the task output (there were many more)\n\n```\norder1 = Order.find 114699\n=\u003e #\u003cOrder id: 114699, REDACTED \u003e\norder1.subscription_name\n=\u003e \"A-S00033377\"\norder1.subscription\n=\u003e nil\n\norder2 = Order.find 115401\n=\u003e #\u003cOrder id: 115401, REDACTED \u003e\norder2.subscription_name\n=\u003e \"A-S00033654\"\norder2.subscription\n=\u003e nil\n```\n\n### Proposal\n\n- Generate a report with all orders that do not have a subscription object.\n- Trace origin of the order.\n- Determine possible cause.\n- Based on determination above, plan for remediation such that the order becomes correctly formed or properly cancelled.\n\n### Result\n\n### Next steps (if any)\n\n### How will we measure success?","state":"closed","created_at":"2021-04-15T19:55:34.275Z","updated_at":"2022-05-05T00:01:46.803Z","closed_at":"2022-05-05T00:01:46.788Z","closed_by":{"id":1786152,"username":"gitlab-bot","name":"🤖 GitLab Bot 🤖","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1786152/avatar.png","web_url":"https://gitlab.com/gitlab-bot"},"labels":["Maintenance and Support","[deprecated] Category:Fulfillment Platform","[deprecated] Category:Provision","auto closed","auto updated","backend","data integrity","devops::fulfillment","group::fulfillment platform","section::fulfillment","type::bug","workflow::problem validation"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[],"author":{"id":4717243,"username":"a_luna","name":"Amparo Luna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4717243/avatar.png","web_url":"https://gitlab.com/a_luna"},"type":"ISSUE","assignee":null,"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3007","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3007","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3007/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3007/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3007","relative":"#3007","full":"gitlab-org/customers-gitlab-com#3007"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6383,"epic":{"id":310864,"iid":6383,"title":"THEME: Maintenance and Support","url":"/groups/gitlab-org/-/epics/6383","group_id":9970,"human_readable_end_date":"Nov 16, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":85210766,"iid":3001,"project_id":2670515,"title":"Some Auto-Renewals in CustomersDot are throwing errors and not renewing","description":"### Problem\n\n**Based on the data found in Zuora for Subscriptions with `Enter a number of active users greater than or equal to your current` ERROR recorded in the Subscription Notes field, the first occurrence was on February 19, 2021.**\n\n**Summary:**\nThere seems to be an issue with the CustomersDot Auto-Renewal flow that is sometimes causing only the upgrade portion (UpdateProduct amendment) of a customer's renewal to be recorded in Zuora and then terminate with out an actual renewal. In some cases no UpdateProduct amendment is done and an error is recorded instead. There is also no copy of this, even the upgrade part, being sent to SFDC.\n\nThe only other explanation I can think of is that a customer made it to the True-up flow and then decided to walk away and not move forward, but CustomersDot still sent Zuora the upgrade portion.\n\n**Possible Impacts and Effects:**\n1. I am not sure of the experience these customers receive, if the flow seems to work or they receive an error.\n1. Licenses might not be being sent out to the customer.\n1. Invoices might not be being generated for these transactions.\n1. Despite the customer taking action in the web store (by the presence of the seat increase) we are effectively letting their subscription run out on them.\n1. These upgrade/renewals are not being sent to Salesforce, lowering our Net ARR attainment as it looks like there were going to upgrade.\n1. In fact we are churning many of these renewals in Salesforce because of the lack of renewal. We have taken **~125k of Churn (-$125k Net ARR)** related to these subs so far this year that might have to be reversed.\n\n**Findings**:\nThe Sales team raised some good examples of strange Net ARR data on some of march's churned opportunities and we dug into their Zuora Subscription data and found examples of subscriptions ending with an additional seats purchase but then no extension of their term (renewal). \n\nBoth examples below have this in their Notes field, which looks like there was an issue with the the True up behavior in the renewal flow: `RENEWAL_ERROR: ${:code=\u003e“RENEWAL_ERROR”, :message=\u003e“Enter a number of active users greater than or equal to your current number of active users (10)“}$` which originates from: https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/staging/app/services/amend_subscription_service.rb#L243\n\n- Example 1: https://www.zuora.com/apps/Subscription.do?method=view\u0026id=2c92a00d77fc14ea017809fc0a27731e\n- Example 2: https://www.zuora.com/apps/Subscription.do?method=view\u0026id=2c92a00777f8d0860177fa8912370fce (Note: Billing actually finds this one and is confused about the lack of Invoice or Web Direct, and then Ammends the customer back to their old seat count: https://gitlab.my.salesforce.com/5004M00000j6rRg)\n\n**Further Analysis:**\n- Using the `RENEWAL_ERROR` in the Notes field as a marker, I was able to find 264 Subscriptions with an error. All but 1 of the subscriptions was created since 2/19/2021.\n- Doing a cross reference using our Customer Subscription system in Salesforce, I was able to find 56 Renewals that have been Closed Lost since 2/19/2021 totaling ~-$150k Net ARR. These were closed lost as part of standard Sales Ops clean up of expired subscriptions. If these churns were in error that loss of Net ARR should be reversed and any additional users would be positive Net ARR. I have attached a scrubbed csv for anyone else who wants to review.\n\ncc @james_harrison @lschoenfeld @tav_scott this is the end findings of the Opps that you all raised today. Please watch this issue for any developments as Fulfillment investigates.\n\n### Proposal\n\nLook into the use cases mentioned and why renewals amendments aren't being created. Specifically:\n\n1. Subscriptions renewing for less quantity than the previous term #2837 \n   1. Currently in this case, only the error gets recorded and no Amendments made.\n   1. Example: https://www.zuora.com/apps/Subscription.do?method=view\u0026id=2c92a00d77b9842f0177b99ba8c403c9\n1. Subscriptions renewing for more quantity than the previous term\n   1. Example: This subscription had UpdateProduct amendment, but then an Error and no auto-renewal. https://www.zuora.com/apps/Subscription.do?method=view\u0026id=2c92a00c77bf60da0177c1e313380c06\n\n\n### Result\n\nAuto-renewals will happen for all subscriptions that are either increasing or decreasing Users.\n\n### Next steps (if any)\n\n### How will we measure success?\n\n[SubscriptionsWithRenewalError.csv](/uploads/73c0d56120163fdd7be036ca072b11f8/SubscriptionsWithRenewalError.csv)","state":"closed","created_at":"2021-04-14T23:08:11.603Z","updated_at":"2021-10-01T21:06:44.073Z","closed_at":"2021-04-23T16:15:25.508Z","closed_by":{"id":8110789,"username":"tgolubeva","name":"Tatyana Golubeva","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8110789/avatar.png","web_url":"https://gitlab.com/tgolubeva"},"labels":["Category:Purchase","Deliverable","backend","customer","devops::fulfillment","group::purchase","priority::2","section::fulfillment"],"milestone":{"id":1233762,"iid":58,"group_id":9970,"title":"13.12","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.948Z","updated_at":"2022-04-21T07:22:18.898Z","due_date":"2021-05-17","start_date":"2021-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/58"},"assignees":[{"id":3614911,"username":"rcobb","name":"Ryan Cobb","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7047b7014264f07daf9836e55fc5ef4c?s=80\u0026d=identicon","web_url":"https://gitlab.com/rcobb"}],"author":{"id":3913212,"username":"jbrennan1","name":"Jack Brennan","state":"active","avatar_url":"https://secure.gravatar.com/avatar/828dad4c15d9a386243161630d12b5f3?s=80\u0026d=identicon","web_url":"https://gitlab.com/jbrennan1"},"type":"ISSUE","assignee":{"id":3614911,"username":"rcobb","name":"Ryan Cobb","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7047b7014264f07daf9836e55fc5ef4c?s=80\u0026d=identicon","web_url":"https://gitlab.com/rcobb"},"user_notes_count":50,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3001","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3001","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3001/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3001/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3001","relative":"#3001","full":"gitlab-org/customers-gitlab-com#3001"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":85209050,"iid":3000,"project_id":2670515,"title":"[BE] GraphQL: Secure gitlab.com to customers-dot proxy","description":"The current gitlab.com to customers-dot graphql proxy works fine for unauthenticated resources but we need a way to securely access customer-dot resources from gitlab.com. I can think of two possible solutions:\n\n### Reuse email and token?\n\nCan we use the customer email and token like we do [here](https://gitlab.com/gitlab-org/gitlab/blob/7854f0e68d6f90c98410eb4b346630dd88c1188d/ee/lib/gitlab/subscription_portal/clients/rest.rb#L23)? We might be able to just attach the headers to the payload [here](https://gitlab.com/gitlab-org/gitlab/blob/be78ccd832fd40315c5e63bb48ee1596ae146f56/app/controllers/customers_dot/proxy_controller.rb#L12)?\n\n### Don't reauth\n\nSince we control both gitlab.com and customers-dot and the user is presumably already authed on gitlab.com we shouldn't need to reauth on customers-dot. Can we just attach the current logged in gitlab.com user id at the gitlab.com proxy controller level and secure the api between them via SSL? Whitelist? Can we just reuse [the admin token](https://gitlab.com/gitlab-org/gitlab/blob/169404d6992f4a87910277dde16b1828bf9863e5/ee/lib/gitlab/subscription_portal/client.rb#L24)?","state":"closed","created_at":"2021-04-14T21:46:26.872Z","updated_at":"2021-10-06T11:30:15.146Z","closed_at":"2021-08-12T18:06:09.655Z","closed_by":{"id":3614911,"username":"rcobb","name":"Ryan Cobb","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7047b7014264f07daf9836e55fc5ef4c?s=80\u0026d=identicon","web_url":"https://gitlab.com/rcobb"},"labels":["Category:Purchase","backend","devops::fulfillment","group::purchase","maintenance::refactor","missed:14.1","section::fulfillment","workflow::in review"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":3614911,"username":"rcobb","name":"Ryan Cobb","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7047b7014264f07daf9836e55fc5ef4c?s=80\u0026d=identicon","web_url":"https://gitlab.com/rcobb"}],"author":{"id":3614911,"username":"rcobb","name":"Ryan Cobb","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7047b7014264f07daf9836e55fc5ef4c?s=80\u0026d=identicon","web_url":"https://gitlab.com/rcobb"},"type":"ISSUE","assignee":{"id":3614911,"username":"rcobb","name":"Ryan Cobb","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7047b7014264f07daf9836e55fc5ef4c?s=80\u0026d=identicon","web_url":"https://gitlab.com/rcobb"},"user_notes_count":21,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3000","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":4,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3000","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3000/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3000/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3000","relative":"#3000","full":"gitlab-org/customers-gitlab-com#3000"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5785,"epic":{"id":251387,"iid":5785,"title":"Add customer details section to new purchase flow","url":"/groups/gitlab-org/-/epics/5785","group_id":9970,"human_readable_end_date":"Aug 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":84952742,"iid":2951,"project_id":2670515,"title":"Merge SaaS trial plans back","description":"In https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/3072 we reverted new trial plans because\nthey were visible on the Billing page on the gitlab.com.\n\nThis issue is about adding them back once https://gitlab.com/gitlab-org/gitlab/-/issues/327374 will be resolved.","state":"closed","created_at":"2021-04-09T19:45:01.061Z","updated_at":"2021-04-19T04:40:31.893Z","closed_at":"2021-04-19T04:40:31.824Z","closed_by":{"id":4903695,"username":"shreyasagarwal","name":"Shreyas Agarwal","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d5b09dfe06a10d119c1b2043c43de680?s=80\u0026d=identicon","web_url":"https://gitlab.com/shreyasagarwal"},"labels":["Category:Purchase","backend","devops::fulfillment","group::purchase","section::fulfillment","workflow::in review"],"milestone":{"id":1406669,"iid":59,"group_id":9970,"title":"13.11","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-08-13T14:23:09.688Z","updated_at":"2022-04-21T07:22:08.835Z","due_date":"2021-04-17","start_date":"2021-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/59"},"assignees":[{"id":4903695,"username":"shreyasagarwal","name":"Shreyas Agarwal","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d5b09dfe06a10d119c1b2043c43de680?s=80\u0026d=identicon","web_url":"https://gitlab.com/shreyasagarwal"}],"author":{"id":447038,"username":"vitallium","name":"Vitaly Slobodin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/74b3243cfcfbfac1f022b78ab505e8d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/vitallium"},"type":"ISSUE","assignee":{"id":4903695,"username":"shreyasagarwal","name":"Shreyas Agarwal","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d5b09dfe06a10d119c1b2043c43de680?s=80\u0026d=identicon","web_url":"https://gitlab.com/shreyasagarwal"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/2951","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/2951","notes":"https://gitlab.com/api/v4/projects/2670515/issues/2951/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/2951/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#2951","relative":"#2951","full":"gitlab-org/customers-gitlab-com#2951"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":84947197,"iid":2949,"project_id":2670515,"title":"Handle retries if there are SFDC errors while creating opportunity and related objects","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n### Problem\n\nSometimes we hit a locked row in SFDC when trying to create or update opportunity objects. When this happens, we get some `RestForce` errors but the transaction is left without its corresponding object in SFDC (like the opportunity or the quote).\n\nThis example from production shows two errors, first there's a [`Restforce::ErrorCode::UnableToLockRow`](https://sentry.gitlab.net/gitlab/customersgitlabcom/issues/2465506/events/40134490/) which causes a  [`Salesforce::OpportunityNotCreated`](https://sentry.gitlab.net/gitlab/customersgitlabcom/issues/2448958/events/40134492/) in `Salesforce::CreateOpportunityWorker`.\n\nWith the `create_opportunity_objects` feature flag in staging, the error appears when creating the quote. [Restforce::ErrorCode::CannotInsertUpdateActivateEntity](https://sentry.gitlab.net/gitlab/customersstggitlabcom/issues/2448888/) prevents the creation of the quote and all its related objects.\n\n### Challenges\n\n:balloon: The error appears to be random\n\n:balloon: Since it's apparently random, the error is not very easy to reproduce locally\n\n### Proposal\n\nRescue these Restforce errors and retry the creation of opportunity objects (`Quote`, `Quote Amendment`, `Rate Plan` and `Rate Plan Charge`) while avoiding re-creating already created ones.\n\n### Result\n\nWe avoid having transactions missing their opportunity or quote record in SFDC.\n\n### Next steps (if any)\n\n### How will we measure success?","state":"closed","created_at":"2021-04-09T17:20:07.441Z","updated_at":"2022-11-10T11:55:22.286Z","closed_at":"2022-05-17T05:40:53.236Z","closed_by":{"id":1986039,"username":"lulalala","name":"Mark Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1986039/avatar.png","web_url":"https://gitlab.com/lulalala"},"labels":["Affects Salesforce","[deprecated] Category:Provision","[deprecated] 🍎","auto updated","automation:prevent-auto-close","backend","data integrity","devops::fulfillment","group::provision","missed:14.1","section::fulfillment","severity::2","workflow::in review"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":1986039,"username":"lulalala","name":"Mark Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1986039/avatar.png","web_url":"https://gitlab.com/lulalala"}],"author":{"id":4717243,"username":"a_luna","name":"Amparo Luna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4717243/avatar.png","web_url":"https://gitlab.com/a_luna"},"type":"ISSUE","assignee":{"id":1986039,"username":"lulalala","name":"Mark Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1986039/avatar.png","web_url":"https://gitlab.com/lulalala"},"user_notes_count":26,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/2949","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/2949","notes":"https://gitlab.com/api/v4/projects/2670515/issues/2949/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/2949/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#2949","relative":"#2949","full":"gitlab-org/customers-gitlab-com#2949"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6383,"epic":{"id":310864,"iid":6383,"title":"THEME: Maintenance and Support","url":"/groups/gitlab-org/-/epics/6383","group_id":9970,"human_readable_end_date":"Nov 16, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":84944739,"iid":2948,"project_id":2670515,"title":"Follow-up from \"Update the info for the orphaned subs email\"","description":"The following discussion from !3062 should be addressed:\n\n- [ ] @cwiesner started a [discussion](https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/3062#note_548297479): \n\n    \u003e **question:** I was wondering what would happen if the dates would be the same value - which isn't the case here. While taking a closer look into this I noticed that the expectation for `include(subscription.name)` probably matches on the customer's name instead of the actual subscription name:\n    \u003e \n    \u003e ```\n    \u003e (byebug) customer.full_name\n    \u003e \"FirstName LastName\"\n    \u003e (byebug) subscription.name\n    \u003e \"Name\"\n    \u003e ```\n    \u003e \n    \u003e So what do you think about testing these values with the label like\n    \u003e \n    \u003e ```\n    \u003e expect(body).to have_content(\"Starts #{order.start_date.strftime('%Y-%m-%d')}\", normalize_ws: true)\n    \u003e ```\n    \u003e ?","state":"closed","created_at":"2021-04-09T16:21:47.331Z","updated_at":"2021-04-12T14:43:45.085Z","closed_at":"2021-04-12T14:43:39.052Z","closed_by":{"id":5667561,"username":"vshumilo","name":"Vladlena Shumilo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08dfa82785d130c151ab9e21caeab4e3?s=80\u0026d=identicon","web_url":"https://gitlab.com/vshumilo"},"labels":["[deprecated] Category:Provision","backend","devops::fulfillment","group::provision","section::fulfillment","workflow::in review"],"milestone":{"id":1406669,"iid":59,"group_id":9970,"title":"13.11","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-08-13T14:23:09.688Z","updated_at":"2022-04-21T07:22:08.835Z","due_date":"2021-04-17","start_date":"2021-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/59"},"assignees":[{"id":5667561,"username":"vshumilo","name":"Vladlena Shumilo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08dfa82785d130c151ab9e21caeab4e3?s=80\u0026d=identicon","web_url":"https://gitlab.com/vshumilo"}],"author":{"id":5667561,"username":"vshumilo","name":"Vladlena Shumilo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08dfa82785d130c151ab9e21caeab4e3?s=80\u0026d=identicon","web_url":"https://gitlab.com/vshumilo"},"type":"ISSUE","assignee":{"id":5667561,"username":"vshumilo","name":"Vladlena Shumilo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08dfa82785d130c151ab9e21caeab4e3?s=80\u0026d=identicon","web_url":"https://gitlab.com/vshumilo"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/2948","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/2948","notes":"https://gitlab.com/api/v4/projects/2670515/issues/2948/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/2948/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#2948","relative":"#2948","full":"gitlab-org/customers-gitlab-com#2948"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":84940960,"iid":2946,"project_id":2670515,"title":"Introduce n__ function to help with pluralization","description":"### Problem\n\nThis is a follow-up to https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/3019#note_548563215.\n\nWe've at least one instance where we hack a solution for pluralizing a word.\n\n### Proposal\n\nIntroduce `n__` helper function as implemented in [GitLab's codebase](https://gitlab.com/gitlab-org/gitlab/-/blob/3205f3c62750db60eb94792920d2fc7c4dcb45b4/app/assets/javascripts/locale/index.js#L82) and use it in instances when we want pluralization.\n\n### Next steps (if any)\n\n### How will we measure success?","state":"closed","created_at":"2021-04-09T15:10:42.783Z","updated_at":"2022-04-22T13:30:23.507Z","closed_at":"2022-04-22T13:30:23.500Z","closed_by":{"id":4430316,"username":"rhardarson","name":"Ragnar Hardarson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4430316/avatar.png","web_url":"https://gitlab.com/rhardarson"},"labels":["Category:Purchase","[deprecated] 🍎","auto updated","automation:prevent-auto-close","devops::fulfillment","frontend","group::purchase","maintenance::refactor","section::fulfillment"],"milestone":null,"assignees":[],"author":{"id":127064,"username":"aalakkad","name":"Ammar Alakkad","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ecc1130ce340f5080afd8f2c9962948a?s=80\u0026d=identicon","web_url":"https://gitlab.com/aalakkad"},"type":"ISSUE","assignee":null,"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/2946","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/2946","notes":"https://gitlab.com/api/v4/projects/2670515/issues/2946/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/2946/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#2946","relative":"#2946","full":"gitlab-org/customers-gitlab-com#2946"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":84937437,"iid":2945,"project_id":2670515,"title":"Extract usage of $ as a currency to a constant","description":"This is a follow-up from https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/3019#note_548207997.\n\nWe're using the `$` symbol directly in the strings, we should create a constant to hold the USD symbol and use that constant instead of embedding the symbol within strings.\n\nInstances of using `$` (as of 2021-04-09):\n\n```\napp/frontend/javascripts/subscription/components/dotcom_subscription_renew_form.vue\n114:            ${this.discountedPlanName} at $${this.currentDiscountPrice} and receive\n139:      return `Upgrade to ${this.discountedPlanName} at $${this.currentDiscountPrice}`;\n216:      const discountPrices = discounts.map((discount) =\u003e formatMoney(discount, '$', 0));\n\napp/frontend/javascripts/subscription/components/upgrade_subscription_app.vue\n204:      return `Upgrade to ${this.discountedPlanName} at $${this.currentDiscountedPrice}`;\n284:      const discountPrices = discounts.map((discount) =\u003e formatMoney(discount, '$', 0));\n308:          'To get a new license with the correct number of users, you need to enter the current number of users over license or larger if you think you’ll need more in the future. You’ll be charged for these additional seats at a special discounted price of $6 per user per month.',\n314:          'Add additional seats at a special discounted price of $6 per user per month.',\n\napp/frontend/javascripts/subscription/components/subscription_renew_form.vue\n152:            ${this.discountedPlanName} at $${this.currentDiscountPrice} and receive\n177:      return `Upgrade to ${this.discountedPlanName} at $${this.currentDiscountPrice}`;\n264:      const discountPrices = discounts.map((discount) =\u003e formatMoney(discount, '$', 0));\n\napp/frontend/javascripts/purchase/components/purchase_summary_card.vue\n82:      return formatMoney(this.pricePerUnit, '$', '', '', '', 0, 0);\n```\n\nTo get the list I used [ripgrep](https://github.com/BurntSushi/ripgrep):\n\n```bash\nrg '(?!\\.)\\$(?![\\.|\\(|\\{|emit|options|attrs| |:])' -g '*.vue' --pcre2\n```","state":"closed","created_at":"2021-04-09T14:08:44.392Z","updated_at":"2022-02-10T07:03:13.646Z","closed_at":"2022-02-10T07:03:13.629Z","closed_by":{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"},"labels":["Category:Purchase","Unplanned","[deprecated] 🍎","devops::fulfillment","frontend","group::purchase","maintenance::refactor","onboarding","section::fulfillment","type::maintenance","workflow::production"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"}],"author":{"id":127064,"username":"aalakkad","name":"Ammar Alakkad","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ecc1130ce340f5080afd8f2c9962948a?s=80\u0026d=identicon","web_url":"https://gitlab.com/aalakkad"},"type":"ISSUE","assignee":{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/2945","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/2945","notes":"https://gitlab.com/api/v4/projects/2670515/issues/2945/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/2945/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#2945","relative":"#2945","full":"gitlab-org/customers-gitlab-com#2945"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":84848103,"iid":2941,"project_id":2670515,"title":"Allow seat link to have not record counts","description":"Related to https://gitlab.com/gitlab-org/gitlab/-/issues/326931\n\n### Problem\n\nWe want to seat link even when the instance does not have data on active user counts. This is because the other goal of seat link, which is syncing the license, is equally important.\n\n### Proposal\n\nMark `license_seat_links` table's `active_user_count` and `max_histoical_user_count` columns to be nullable.\n\n### Result\n\nAllow seat link to occur even when no counts information is present\n\n### Next steps (if any)\n\nhttps://gitlab.com/gitlab-org/gitlab/-/issues/326931","state":"closed","created_at":"2021-04-08T09:01:36.480Z","updated_at":"2021-04-09T06:10:36.265Z","closed_at":"2021-04-09T06:10:36.193Z","closed_by":{"id":1986039,"username":"lulalala","name":"Mark Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1986039/avatar.png","web_url":"https://gitlab.com/lulalala"},"labels":["Cloud Licensing","[deprecated] Category:Provision","backend","devops::fulfillment","group::provision","section::fulfillment","workflow::in dev"],"milestone":{"id":1406669,"iid":59,"group_id":9970,"title":"13.11","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-08-13T14:23:09.688Z","updated_at":"2022-04-21T07:22:08.835Z","due_date":"2021-04-17","start_date":"2021-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/59"},"assignees":[{"id":1986039,"username":"lulalala","name":"Mark Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1986039/avatar.png","web_url":"https://gitlab.com/lulalala"}],"author":{"id":1986039,"username":"lulalala","name":"Mark Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1986039/avatar.png","web_url":"https://gitlab.com/lulalala"},"type":"ISSUE","assignee":{"id":1986039,"username":"lulalala","name":"Mark Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1986039/avatar.png","web_url":"https://gitlab.com/lulalala"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/2941","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/2941","notes":"https://gitlab.com/api/v4/projects/2670515/issues/2941/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/2941/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#2941","relative":"#2941","full":"gitlab-org/customers-gitlab-com#2941"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":84814007,"iid":2934,"project_id":2670515,"title":"Test new ProductRatePlan for the Education Enterprise Subscription (staging only)","description":"### Summary\n\nThis came up in https://gitlab.com/gitlab-com/Finance-Division/finance/-/issues/3487#note_546727243\n\nThe Edu PnP creates a new \"**Enterprise Education Subscription**\" for qualifying educational institutions that allows institutions to purchase our top-tier subscriptions, at a discount, in bulk, for the entire institution without use case or seat limitations. The price point is based on the size of the institution, of which there are four size classes. Institutions may request any number of seats per one of the SKUs up to the size of their total enrollment.\n\nThe product rate plan needs to be set up as a FlatFee and therefore a Quantity of 1. The expectation is that it should provision a specific number of seats (greater than 1).  Because our current provisioning process is reliant on the quantity to be passed, it was suggested to figure out a way to have Zuora product rate plan also pass the quantity, while keeping the FlatFee charge.\n\nFor additional information about how this Zuora setup idea came about, please see [agenda notes](https://docs.google.com/document/d/1IBUJTh2qLn17OwT79kHrJ1IWY0cifRVqdNtAZx3KSFY/edit#heading=h.w1i69kcg4lck). \n\n### Proposal\n\nPerform testing in Zuora Sandbox / CustomersDot Stage for the proposed new Product Rate Plan.\n\n@mquitevis has created a test Product Rate Plan with 2 Product Rate Plan Charges under [`SaaS - Ultimate` product](https://apisandbox.zuora.com/apps/Product.do?method=view\u0026id=2c92c0f97700a4f701770609612c2395). \n \n![image](/uploads/be88b6a0658e73eaa2fa1badb3c0e41f/image.png)\n\nProductRatePlanId = `2c92c0f978ac50700178ac9e4af64cdc`\n\nWe now need to add it to our configuration, and then test provisioning in stage.","state":"closed","created_at":"2021-04-07T17:18:26.486Z","updated_at":"2021-08-12T18:56:11.784Z","closed_at":"2021-04-13T23:54:50.197Z","closed_by":{"id":8110789,"username":"tgolubeva","name":"Tatyana Golubeva","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8110789/avatar.png","web_url":"https://gitlab.com/tgolubeva"},"labels":["Category:Purchase","Unplanned","backend","devops::fulfillment","group::purchase","section::fulfillment","workflow::staging"],"milestone":{"id":1406669,"iid":59,"group_id":9970,"title":"13.11","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-08-13T14:23:09.688Z","updated_at":"2022-04-21T07:22:08.835Z","due_date":"2021-04-17","start_date":"2021-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/59"},"assignees":[{"id":4098809,"username":"qzhaogitlab","name":"Qingyu Zhao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4098809/avatar.png","web_url":"https://gitlab.com/qzhaogitlab"}],"author":{"id":8110789,"username":"tgolubeva","name":"Tatyana Golubeva","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8110789/avatar.png","web_url":"https://gitlab.com/tgolubeva"},"type":"ISSUE","assignee":{"id":4098809,"username":"qzhaogitlab","name":"Qingyu Zhao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4098809/avatar.png","web_url":"https://gitlab.com/qzhaogitlab"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/2934","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/2934","notes":"https://gitlab.com/api/v4/projects/2670515/issues/2934/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/2934/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#2934","relative":"#2934","full":"gitlab-org/customers-gitlab-com#2934"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":84803748,"iid":2932,"project_id":2670515,"title":"Licence or subscription  email notifications to SALs, AEs, TAM and/or SA","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n### Problem\n\nWhen a deal sales process finishes for new or renewals, the customer gets an email with instructions to use their purchase. The customer's account team doesn't receive this email notification. \n\nIn some or most cases in my experience, the customer asks support to activate their licenses or subscription to their account team; then the account team needs:\n  - Figure out if the email was or wasn't sent.\n  - If so, check who was supposed to receive the email.\n  - In case the primary contact is wrong,  start an internal support process to solve it, guide the customer to open a support ticket to change the primary contact, and support the customer to activate their purchase.\n\n### Proposal\n\n- [x] Include  the account team in copy to the subscription/licence notifications email. \n  - [ ] Define who should receive this notification in CC.\n     - [ ] SAL/AE only\n     - [ ] SAL/AE + SDR\n     - [ ] SA/AE + SDR + SA\n     - [x] SA/AE + SDR + SA + TAM (if apply) \n\n\n### Result\n\nAs soon as we close a deal, the account team knows whether the email was sent to the correct contact or no.\nIf the customer asks for help, the account team has all the information to forward the email to the right persona without opening other internal processes.\nIn this email, the account team can guide the customer on changing the customer portal's administrator if they need it by opening a support ticket. \n\n### Next steps (if any)\n\nTBD\n\n### How will we measure success?\n\nThe account team receive in copy the email notification we usually send to our customers after we close a deal.","state":"closed","created_at":"2021-04-07T14:42:11.163Z","updated_at":"2023-03-13T17:23:00.217Z","closed_at":"2022-04-25T00:01:29.392Z","closed_by":{"id":1786152,"username":"gitlab-bot","name":"🤖 GitLab Bot 🤖","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1786152/avatar.png","web_url":"https://gitlab.com/gitlab-bot"},"labels":["Cloud License Sync - V2","Cloud Licensing","[deprecated] Category:Provision","auto closed","auto updated","backend","devops::fulfillment","group::provision","section::fulfillment","workflow::solution validation"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":5250128,"username":"ricardoamarilla","name":"Ricardo Amarilla","state":"active","avatar_url":"https://secure.gravatar.com/avatar/fdbbe5b4ce00bfdf09aec7cdfedd37ad?s=80\u0026d=identicon","web_url":"https://gitlab.com/ricardoamarilla"},"type":"ISSUE","assignee":null,"user_notes_count":11,"merge_requests_count":0,"upvotes":6,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/2932","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":6,"completed_count":2},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/2932","notes":"https://gitlab.com/api/v4/projects/2670515/issues/2932/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/2932/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#2932","relative":"#2932","full":"gitlab-org/customers-gitlab-com#2932"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":84780226,"iid":2930,"project_id":2670515,"title":"Upgrade rails_admin to 2.2.0","description":"Follow up from https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/3048\n\nWe should remove that code and get the fix from upstream - https://github.com/sferik/rails_admin/commit/97ccc28940d65fee53b30c409c49032fbb0885db\n\nWe have to wait until the new gem version gets released first","state":"closed","created_at":"2021-04-07T10:02:40.550Z","updated_at":"2021-08-06T08:13:29.855Z","closed_at":"2021-08-06T08:13:29.837Z","closed_by":{"id":273486,"username":"jameslopez","name":"James Lopez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/273486/avatar.png","web_url":"https://gitlab.com/jameslopez"},"labels":["[deprecated] Category:Provision","backend","devops::fulfillment","group::provision","section::fulfillment"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":273486,"username":"jameslopez","name":"James Lopez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/273486/avatar.png","web_url":"https://gitlab.com/jameslopez"}],"author":{"id":273486,"username":"jameslopez","name":"James Lopez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/273486/avatar.png","web_url":"https://gitlab.com/jameslopez"},"type":"ISSUE","assignee":{"id":273486,"username":"jameslopez","name":"James Lopez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/273486/avatar.png","web_url":"https://gitlab.com/jameslopez"},"user_notes_count":2,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/2930","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":0,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/2930","notes":"https://gitlab.com/api/v4/projects/2670515/issues/2930/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/2930/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#2930","relative":"#2930","full":"gitlab-org/customers-gitlab-com#2930"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":84743027,"iid":2928,"project_id":2670515,"title":"Make Salesforce::FindOrCreateLeadService work through a background job","description":"### Problem\n\nPart of https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/2112\n\nCurrently the `Salesforce::FindOrCreateLeadService` service is triggering an inline API call to Salesforce in order to find or create a Lead.\n\nThe service is used in the following sections:\n\n- `CreateSalesforceLeadFromCustomerService`\n  - Used in `Api::CustomersController#create`\n  - Used in `RegistrationsController#create`\n- `Gitlab::BaseTrialService`\n  - Ingerited by `Gitlab::HostedPlans::CreateTrialService`\n  - Inherited by `Gitlab::SelfHostedPlans::CreateTrialService`\n  - Both services are used in `TrialsController#create`\n\nAs we can see, if there is an error with the API call, the customer registration or trial generation can be broken.\n\n### Proposal\n\nPerform the API call through a background job.\n\n### Result\n\nPerformance and reliability of those endpoints will no longer be affected by an external service.\n\n### Next steps (if any)\n\n### How will we measure success?\n\n### Availability \u0026 Testing\n\n\u003c!-- This section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\nWhat risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning --\u003e\n\nThe new Job (assuming we'll be using ActiveJob) should be accompanied by a job specification to ensure the job performs the appropriate task(s)","state":"closed","created_at":"2021-04-06T21:32:01.614Z","updated_at":"2021-06-10T22:41:35.539Z","closed_at":"2021-06-10T22:41:35.524Z","closed_by":{"id":5667561,"username":"vshumilo","name":"Vladlena Shumilo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08dfa82785d130c151ab9e21caeab4e3?s=80\u0026d=identicon","web_url":"https://gitlab.com/vshumilo"},"labels":["Affects Salesforce","[deprecated] Category:Provision","backend","devops::fulfillment","group::provision","quad-planning::complete-action","section::fulfillment","workflow::in dev"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":5667561,"username":"vshumilo","name":"Vladlena Shumilo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08dfa82785d130c151ab9e21caeab4e3?s=80\u0026d=identicon","web_url":"https://gitlab.com/vshumilo"}],"author":{"id":280339,"username":"rdavila","name":"Rubén Dávila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/280339/avatar.png","web_url":"https://gitlab.com/rdavila"},"type":"ISSUE","assignee":{"id":5667561,"username":"vshumilo","name":"Vladlena Shumilo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08dfa82785d130c151ab9e21caeab4e3?s=80\u0026d=identicon","web_url":"https://gitlab.com/vshumilo"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/2928","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/2928","notes":"https://gitlab.com/api/v4/projects/2670515/issues/2928/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/2928/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#2928","relative":"#2928","full":"gitlab-org/customers-gitlab-com#2928"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":84738723,"iid":2927,"project_id":2670515,"title":"Make Salesforce::CreateLeadService work through a background job","description":"### Problem\n\nPart of https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/2112\n\nCurrently the `Salesforce::CreateLeadService` service is triggering an inline API call through [`InstanceReviewCreateService`](https://gitlab.com/gitlab-org/customers-gitlab-com/blob/c4c6bf1d2e400456526fa92cb473a8f27c8e1d46/app/services/instance_review_create_service.rb#L36-36) -\u003e [`InstanceReviewController#create`](https://gitlab.com/gitlab-org/customers-gitlab-com/blob/c4c6bf1d2e400456526fa92cb473a8f27c8e1d46/app/controllers/instance_review_controller.rb#L9-9). This operation is slowing down the mentioned endpoint and can break the application in case an unhandled exception from the Salesforce API is found.\n\n### Proposal\n\nPerform the API call through a background job.\n\n### Result\n\nPerformance and reliability of that endpoint will no longer be affected by an external service.\n\n### Next steps (if any)\n\n### How will we measure success?","state":"closed","created_at":"2021-04-06T19:47:37.607Z","updated_at":"2021-06-11T06:18:05.990Z","closed_at":"2021-06-10T22:41:02.598Z","closed_by":{"id":5667561,"username":"vshumilo","name":"Vladlena Shumilo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08dfa82785d130c151ab9e21caeab4e3?s=80\u0026d=identicon","web_url":"https://gitlab.com/vshumilo"},"labels":["Affects Salesforce","[deprecated] Category:Provision","[deprecated] 🍎","backend","devops::fulfillment","group::provision","section::fulfillment","workflow::staging"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":5667561,"username":"vshumilo","name":"Vladlena Shumilo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08dfa82785d130c151ab9e21caeab4e3?s=80\u0026d=identicon","web_url":"https://gitlab.com/vshumilo"}],"author":{"id":280339,"username":"rdavila","name":"Rubén Dávila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/280339/avatar.png","web_url":"https://gitlab.com/rdavila"},"type":"ISSUE","assignee":{"id":5667561,"username":"vshumilo","name":"Vladlena Shumilo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08dfa82785d130c151ab9e21caeab4e3?s=80\u0026d=identicon","web_url":"https://gitlab.com/vshumilo"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/2927","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/2927","notes":"https://gitlab.com/api/v4/projects/2670515/issues/2927/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/2927/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#2927","relative":"#2927","full":"gitlab-org/customers-gitlab-com#2927"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":84738450,"iid":2925,"project_id":2670515,"title":"CI Minutes provisioning - Trigger Purchase Identifiers syncs from CustomersDot to GitLab Minutes API","description":"### Establish CI Minute Purchase Identifiers on CustomersDot\n\nThe following outlines requirements from the architecture proposal as defined in !3142, we've split up the tasks into separate issues along system boundaries. \n\n**Base components: CustomersDot**\n\n- [x] Add a mechanism to return an object/data structure that represents 1+ minute packs purchases with a unique identifier (e.g. `RatePlanCharge ID` from Zuora) with an `expiry_date`, minutes purchased, and the namespace. \n- [x] Create a trigger for CI minutes purchases to sync/callback to GitLab CI Minutes API endpoint with Purchase Identifier data\n- [x] Trigger CI Minute purchase sync/callback to GitLab minutes API with a successful purchase. \n\n**UI Components: CustomersDot**\n\n- [ ] ~~Update Admin UI with a component that can trigger a callback to GitLab to sync CI Minute Purchase Data~~ Edit: moved to https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3451\n\n\n\u003cdetails\u003e \n\u003csummary markdown=\"span\"\u003ePrevious Summary\u003c/summary\u003e\n## Summary\n\n1. [ ] Create an API that we can fetch usage CI minutes statistics for a given namespace\n1. [ ] Adapt UpdateGitlabPlanInfoWorker (UpdatePlanInfoService) or create wholly new a mechanism that can send CI Minute purchase information over to GItLab from CustomersDot.\n\u003c/details\u003e\n\n### Availability \u0026 Testing\n\n\u003c!-- This section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\nWhat risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning --\u003e\n\nIn addition to any unit specs, we also should write integration tests between the the GitLab Minutes API and CustomersDot.  These integration tests can use mock APIs.\n\nAdditionally, an end-to-end test would also be recommended for executing the flow of provisioning more CI minutes and being reflected in both CustomersDot and GitLab.","state":"closed","created_at":"2021-04-06T19:39:29.175Z","updated_at":"2021-08-18T11:04:28.092Z","closed_at":"2021-08-17T16:39:06.473Z","closed_by":{"id":5249152,"username":"vij","name":"Vijay Hawoldar","state":"active","avatar_url":"https://secure.gravatar.com/avatar/14567a8b4af4374011c43778878de399?s=80\u0026d=identicon","web_url":"https://gitlab.com/vij"},"labels":["[deprecated] Category:Utilization","backend","devops::fulfillment","group::utilization","missed:14.1","quad-planning::complete-action","section::fulfillment","workflow::in review"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":5249152,"username":"vij","name":"Vijay Hawoldar","state":"active","avatar_url":"https://secure.gravatar.com/avatar/14567a8b4af4374011c43778878de399?s=80\u0026d=identicon","web_url":"https://gitlab.com/vij"}],"author":{"id":2890431,"username":"amandarueda","name":"Amanda Rueda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2890431/avatar.png","web_url":"https://gitlab.com/amandarueda"},"type":"ISSUE","assignee":{"id":5249152,"username":"vij","name":"Vijay Hawoldar","state":"active","avatar_url":"https://secure.gravatar.com/avatar/14567a8b4af4374011c43778878de399?s=80\u0026d=identicon","web_url":"https://gitlab.com/vij"},"user_notes_count":26,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/2925","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":6,"completed_count":3},"weight":5,"blocking_issues_count":1,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/2925","notes":"https://gitlab.com/api/v4/projects/2670515/issues/2925/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/2925/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#2925","relative":"#2925","full":"gitlab-org/customers-gitlab-com#2925"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5715,"epic":{"id":244743,"iid":5715,"title":"CI Minutes provisioning API Updates","url":"/groups/gitlab-org/-/epics/5715","group_id":9970,"human_readable_end_date":"Oct 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":84738372,"iid":2924,"project_id":2670515,"title":"CI Minutes provisioning - New mechanism for storing CI Minutes purchases on GitLab","description":"### Establish CI Minute Purchase Identifiers on GitLab\n\nThe following outlines requirements from the architecture proposal as defined in !3142, we've split up the tasks into separate issues along system boundaries. \n\n**Base components**\n\n- [x] Add a table in the GitLab DB to store the array of purchase identifier data structures from CustomersDot.\n\n**API (re-)Sync components**\n\n- [x] Create a new endpoint that accepts a POST/PATCH of CI minute purchases from CustomersDot following the unique Purchase Identifier\n- [x] Reuse of the same endpoint for re-syncing purchases from CustomersDot is preferable as the sync action should be idempotent\n\n**Support Namespace Changes**\n\n- [x] Trigger an update of the namespace ID in the Purchase Identifier table from the current to the new namespace ID. \n\n\n\n\u003cdetails\u003e\n\u003csummary markdown=\"span\"\u003ePrevious Summary\u003c/summary\u003e\n## Summary\n\nCreate a mechanism for receiving and storing Additional CI Minutes purchases in GitLab core. Possibly in a `new table that tracks purchased buckets of minutes` the details of which are unknown at this time. Possibly include the expiry date (other payload ideas are above)\n\u003c/details\u003e\n\n### Availability \u0026 Testing\n\n\u003c!-- This section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\nWhat risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning --\u003e\n\nSee https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/2925","state":"closed","created_at":"2021-04-06T19:37:55.553Z","updated_at":"2022-01-18T16:31:03.354Z","closed_at":"2021-06-24T08:54:24.201Z","closed_by":{"id":5249152,"username":"vij","name":"Vijay Hawoldar","state":"active","avatar_url":"https://secure.gravatar.com/avatar/14567a8b4af4374011c43778878de399?s=80\u0026d=identicon","web_url":"https://gitlab.com/vij"},"labels":["[deprecated] Category:Utilization","backend","devops::fulfillment","group::utilization","missed:14.0","quad-planning::complete-action","section::fulfillment","workflow::production"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":5249152,"username":"vij","name":"Vijay Hawoldar","state":"active","avatar_url":"https://secure.gravatar.com/avatar/14567a8b4af4374011c43778878de399?s=80\u0026d=identicon","web_url":"https://gitlab.com/vij"}],"author":{"id":2890431,"username":"amandarueda","name":"Amanda Rueda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2890431/avatar.png","web_url":"https://gitlab.com/amandarueda"},"type":"ISSUE","assignee":{"id":5249152,"username":"vij","name":"Vijay Hawoldar","state":"active","avatar_url":"https://secure.gravatar.com/avatar/14567a8b4af4374011c43778878de399?s=80\u0026d=identicon","web_url":"https://gitlab.com/vij"},"user_notes_count":27,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/2924","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":4,"completed_count":4},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/2924","notes":"https://gitlab.com/api/v4/projects/2670515/issues/2924/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/2924/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#2924","relative":"#2924","full":"gitlab-org/customers-gitlab-com#2924"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5715,"epic":{"id":244743,"iid":5715,"title":"CI Minutes provisioning API Updates","url":"/groups/gitlab-org/-/epics/5715","group_id":9970,"human_readable_end_date":"Oct 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":84717481,"iid":2921,"project_id":2670515,"title":"Remove zuora_callback_async_processing feature flag","description":"### Background\n\nThe [`zuora_callback_async_processing` feature flag](https://gitlab.com/gitlab-org/customers-gitlab-com/-/feature_flags/70/edit) has been on in staging and production for quite some time.  It was introduced in https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/2078 about 6 months ago.\n\n### Proposal\n\nUpdate the `ZuoraCallbacksController` to use the `zuora_callback_async_processing` feature flagged code and remove the legacy code.  Once merged and deployed to production, delete the [feature flag from Unleash](https://gitlab.com/gitlab-org/customers-gitlab-com/-/feature_flags/70/edit).","state":"closed","created_at":"2021-04-06T14:32:56.736Z","updated_at":"2021-10-28T13:57:55.802Z","closed_at":"2021-04-29T15:28:15.168Z","closed_by":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"labels":["[deprecated] Category:Provision","[deprecated] 🍎","backend","devops::fulfillment","feature flag","group::provision","maintenance::refactor","quad-planning::complete-no-action","section::fulfillment","type::maintenance","workflow::production"],"milestone":{"id":1233762,"iid":58,"group_id":9970,"title":"13.12","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.948Z","updated_at":"2022-04-21T07:22:18.898Z","due_date":"2021-05-17","start_date":"2021-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/58"},"assignees":[{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"}],"author":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"type":"ISSUE","assignee":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/2921","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/2921","notes":"https://gitlab.com/api/v4/projects/2670515/issues/2921/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/2921/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#2921","relative":"#2921","full":"gitlab-org/customers-gitlab-com#2921"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5836,"epic":{"id":255713,"iid":5836,"title":"Feature Flags Review and Follow Up","url":"/groups/gitlab-org/-/epics/5836","group_id":9970,"human_readable_end_date":"Sep 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":84714778,"iid":2920,"project_id":2670515,"title":"Documentation: SaaS Deprovisioning Processes","description":"## Summary\n\nIn https://gitlab.com/groups/gitlab-org/-/epics/4627 there was quite a bit of investigation and work done to ensure we are properly moving SaaS subscriptions to the Free plan after the expiration date of the subscription (plus 14 day buffer) is reached.\n\nThe outcome of this issue is to document the technical processes and knowledge gained related to this topic in the CustomersDot repo for future reference.","state":"closed","created_at":"2021-04-06T13:57:44.310Z","updated_at":"2022-01-24T17:28:15.912Z","closed_at":"2021-08-18T02:10:24.660Z","closed_by":{"id":3170776,"username":"krasio","name":"Krasimir Angelov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3170776/avatar.png","web_url":"https://gitlab.com/krasio"},"labels":["SaaS Provisioning","Stretch","Unplanned","[deprecated] Category:Utilization","[deprecated] 🍎","backend","devops::fulfillment","documentation","group::utilization","missed:13.11","missed:13.12","missed:14.0","quad-planning::complete-no-action","section::fulfillment","workflow::ready for development"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":3170776,"username":"krasio","name":"Krasimir Angelov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3170776/avatar.png","web_url":"https://gitlab.com/krasio"}],"author":{"id":2890431,"username":"amandarueda","name":"Amanda Rueda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2890431/avatar.png","web_url":"https://gitlab.com/amandarueda"},"type":"ISSUE","assignee":{"id":3170776,"username":"krasio","name":"Krasimir Angelov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3170776/avatar.png","web_url":"https://gitlab.com/krasio"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/2920","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/2920","notes":"https://gitlab.com/api/v4/projects/2670515/issues/2920/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/2920/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#2920","relative":"#2920","full":"gitlab-org/customers-gitlab-com#2920"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4627,"epic":{"id":127219,"iid":4627,"title":"Expired SaaS subscriptions should revert to free plan.","url":"/groups/gitlab-org/-/epics/4627","group_id":9970,"human_readable_end_date":"Oct 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":84664066,"iid":2914,"project_id":2670515,"title":"Use new Trial plan in reactivate trial service","description":"Address the following non-blocking suggestions from https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/3034\n\n- Update [`Gitlab::HostedPlans::ReactivateTrialService#update_order_attrs`](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/1b7fff46aa9ef908e33311e26999c8fb41d6c873/app/services/gitlab/hosted_plans/reactivate_trial_service.rb#L32) to use the new trial plan `::Plan::ULTIMATE_SAAS_TRIAL_PLAN`\n- As noted in https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/3034#note_544333441, add a comment to explain why `Plan::ULTIMATE_SAAS_1_YEAR_PLAN` is used for checking [`TrialController#require_gl_com_authentication`](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/1b7fff46aa9ef908e33311e26999c8fb41d6c873/app/controllers/trials_controller.rb#L96)\n\nThe following discussion from !3034 should be addressed:\n\n- [ ] @asubramanian1 started a [discussion](https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/3034#note_543952701):  (+2 comments)\n\n    \u003e **question:**  Should we also update [`TrialController#require_gl_com_authentication`](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/1b7fff46aa9ef908e33311e26999c8fb41d6c873/app/controllers/trials_controller.rb#L96) and in [`Gitlab::HostedPlans::ReactivateTrialService#update_order_attrs`](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/1b7fff46aa9ef908e33311e26999c8fb41d6c873/app/services/gitlab/hosted_plans/reactivate_trial_service.rb#L32)?","state":"closed","created_at":"2021-04-05T20:19:32.052Z","updated_at":"2021-10-28T13:57:58.562Z","closed_at":"2021-04-19T04:30:20.735Z","closed_by":{"id":4903695,"username":"shreyasagarwal","name":"Shreyas Agarwal","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d5b09dfe06a10d119c1b2043c43de680?s=80\u0026d=identicon","web_url":"https://gitlab.com/shreyasagarwal"},"labels":["Category:Purchase","backend","devops::fulfillment","group::purchase","section::fulfillment","type::maintenance","workflow::in dev"],"milestone":{"id":1406669,"iid":59,"group_id":9970,"title":"13.11","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-08-13T14:23:09.688Z","updated_at":"2022-04-21T07:22:08.835Z","due_date":"2021-04-17","start_date":"2021-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/59"},"assignees":[{"id":4903695,"username":"shreyasagarwal","name":"Shreyas Agarwal","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d5b09dfe06a10d119c1b2043c43de680?s=80\u0026d=identicon","web_url":"https://gitlab.com/shreyasagarwal"}],"author":{"id":4014344,"username":"aishbuilds","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4014344/avatar.png","web_url":"https://gitlab.com/aishbuilds"},"type":"ISSUE","assignee":{"id":4903695,"username":"shreyasagarwal","name":"Shreyas Agarwal","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d5b09dfe06a10d119c1b2043c43de680?s=80\u0026d=identicon","web_url":"https://gitlab.com/shreyasagarwal"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/2914","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/2914","notes":"https://gitlab.com/api/v4/projects/2670515/issues/2914/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/2914/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#2914","relative":"#2914","full":"gitlab-org/customers-gitlab-com#2914"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":82200729,"iid":2910,"project_id":2670515,"title":"Group name showing on GitLab checkout page","description":"\u003c!---\nThe issue should have the following:\n\n- The relative path of the failing spec file in the title, e.g. if the login\n  test fails, include `qa/specs/ui/login/log_in_spec.rb` in the title.\n  This is required so that existing issues can easily be found by searching for the spec file.\n- If the issue is about multiple test failures, include the path for each failing spec file in the description.\n- A link to the failing job.\n- The stack trace from the job's logs in the \"Stack trace\" section below.\n- A screenshot (if available), and HTML capture (if available), in the \"Screenshot / HTML page\" section below.\n---\u003e\n\n### Summary\n\nAs per https://gitlab.com/gitlab-org/customers-gitlab-com/-/jobs/1149404630\n\nNumerous failures on the Customers E2E Saas tests\n\n```\nFailed examples:\nrspec ./spec/ui/namespace/change_namespace_spec.rb:126 # User changes plan namespace when from group to person transfers subscription\nrspec ./spec/ui/purchase/purchase_group_plan_spec.rb:7 # User purchase plan for group from GitLab checkout page when upgrade from free to premium behaves like purchase plan within GitLab shows correct plan info on GitLab and CustomersDots\nrspec ./spec/ui/purchase/purchase_group_plan_spec.rb:12 # User purchase plan for group from GitLab checkout page when upgrade from free to ultimate behaves like purchase plan within GitLab shows correct plan info on GitLab and CustomersDots\nrspec ./spec/ui/purchase/purchase_group_plan_spec.rb:17 # User purchase plan for group from GitLab checkout page when upgrade from free with different quantity behaves like purchase plan within GitLab shows correct plan info on GitLab and CustomersDots\nrspec ./spec/ui/purchase/purchase_group_plan_spec.rb:38 # User purchase plan for group from GitLab checkout page when upgrade with invalid quantity does not allow user to proceed to billing\n```\n\n### Stack trace\n\n```\nFailures:\n  2) User purchase plan for group from GitLab checkout page when upgrade from free to premium behaves like purchase plan within GitLab shows correct plan info on GitLab and CustomersDots\n     Failure/Error: expect(checkout).to have_subscription_details(plan, group, quantity)\n       expected #has_subscription_details?({:ci_minutes=\u003e10000, :legacy_name=\u003e\"silver\", :name=\u003e\"premium\", :plan_id=\u003e\"2c92c0f876e0f4cc0176e176a08f1b70\", :price=\u003e19, :rate_charge_id=\u003e\"2c92c0f876e0f4cc0176e1794ef72eea\", :yearly_price=\u003e228}, #\u003cQA::Vendor::GitLab::Resource::Group:0x000055f5b49d9ba8 @name=\"test-group-fe37e7923d26\", @path=\"test...TDOUT\u003e\u003e, @binmode=false, @mon_data=#\u003cMonitor:0x000055f5b4d8fd88\u003e, @mon_data_owner_object_id=58420\u003e\u003e\u003e, 1) to return true, got false\n     Shared Example Group: \"purchase plan within GitLab\" called from ./spec/ui/purchase/purchase_group_plan_spec.rb:7\n     # ./spec/shared_examples/purchase_plan.rb:86:in `block (3 levels) in \u003cmodule:QA\u003e'\n     # ./page/base.rb:62:in `initialize'\n     # ./spec/shared_examples/purchase_plan.rb:83:in `new'\n     # ./spec/shared_examples/purchase_plan.rb:83:in `block (2 levels) in \u003cmodule:QA\u003e'\n     # /usr/local/bundle/gems/rspec-retry-0.6.2/lib/rspec/retry.rb:124:in `block in run'\n     # /usr/local/bundle/gems/rspec-retry-0.6.2/lib/rspec/retry.rb:110:in `loop'\n     # /usr/local/bundle/gems/rspec-retry-0.6.2/lib/rspec/retry.rb:110:in `run'\n     # /usr/local/bundle/gems/rspec-retry-0.6.2/lib/rspec_ext/rspec_ext.rb:12:in `run_with_retry'\n     # /usr/local/bundle/gems/rspec-retry-0.6.2/lib/rspec/retry.rb:37:in `block (2 levels) in setup'\n  3) User purchase plan for group from GitLab checkout page when upgrade from free to ultimate behaves like purchase plan within GitLab shows correct plan info on GitLab and CustomersDots\n     Failure/Error: expect(checkout).to have_subscription_details(plan, group, quantity)\n       expected #has_subscription_details?({:ci_minutes=\u003e50000, :legacy_name=\u003e\"gold\", :name=\u003e\"ultimate\", :plan_id=\u003e\"2c92c0f97700a4f70177060963d923c8\", :price=\u003e99, :rate_charge_id=\u003e\"2c92c0f97700a4f701770609640623cc\", :yearly_price=\u003e1188}, #\u003cQA::Vendor::GitLab::Resource::Group:0x000055f5b56d4268 @name=\"test-group-2be9ffa2ebf5\", @path=\"test...TDOUT\u003e\u003e, @binmode=false, @mon_data=#\u003cMonitor:0x000055f5b588fb20\u003e, @mon_data_owner_object_id=58780\u003e\u003e\u003e, 1) to return true, got false\n     Shared Example Group: \"purchase plan within GitLab\" called from ./spec/ui/purchase/purchase_group_plan_spec.rb:12\n     # ./spec/shared_examples/purchase_plan.rb:86:in `block (3 levels) in \u003cmodule:QA\u003e'\n     # ./page/base.rb:62:in `initialize'\n     # ./spec/shared_examples/purchase_plan.rb:83:in `new'\n     # ./spec/shared_examples/purchase_plan.rb:83:in `block (2 levels) in \u003cmodule:QA\u003e'\n     # /usr/local/bundle/gems/rspec-retry-0.6.2/lib/rspec/retry.rb:124:in `block in run'\n     # /usr/local/bundle/gems/rspec-retry-0.6.2/lib/rspec/retry.rb:110:in `loop'\n     # /usr/local/bundle/gems/rspec-retry-0.6.2/lib/rspec/retry.rb:110:in `run'\n     # /usr/local/bundle/gems/rspec-retry-0.6.2/lib/rspec_ext/rspec_ext.rb:12:in `run_with_retry'\n     # /usr/local/bundle/gems/rspec-retry-0.6.2/lib/rspec/retry.rb:37:in `block (2 levels) in setup'\n  4) User purchase plan for group from GitLab checkout page when upgrade from free with different quantity behaves like purchase plan within GitLab shows correct plan info on GitLab and CustomersDots\n     Failure/Error: expect(checkout).to have_subscription_details(plan, group, quantity)\n       expected #has_subscription_details?({:ci_minutes=\u003e50000, :legacy_name=\u003e\"gold\", :name=\u003e\"ultimate\", :plan_id=\u003e\"2c92c0f97700a4f70177060963d923c8\", :price=\u003e99, :rate_charge_id=\u003e\"2c92c0f97700a4f701770609640623cc\", :yearly_price=\u003e1188}, #\u003cQA::Vendor::GitLab::Resource::Group:0x000055f5b5aa3e98 @name=\"test-group-8592103ee741\", @path=\"test...TDOUT\u003e\u003e, @binmode=false, @mon_data=#\u003cMonitor:0x000055f5b5c21310\u003e, @mon_data_owner_object_id=59140\u003e\u003e\u003e, 20) to return true, got false\n     Shared Example Group: \"purchase plan within GitLab\" called from ./spec/ui/purchase/purchase_group_plan_spec.rb:17\n     # ./spec/shared_examples/purchase_plan.rb:86:in `block (3 levels) in \u003cmodule:QA\u003e'\n     # ./page/base.rb:62:in `initialize'\n     # ./spec/shared_examples/purchase_plan.rb:83:in `new'\n     # ./spec/shared_examples/purchase_plan.rb:83:in `block (2 levels) in \u003cmodule:QA\u003e'\n     # /usr/local/bundle/gems/rspec-retry-0.6.2/lib/rspec/retry.rb:124:in `block in run'\n     # /usr/local/bundle/gems/rspec-retry-0.6.2/lib/rspec/retry.rb:110:in `loop'\n     # /usr/local/bundle/gems/rspec-retry-0.6.2/lib/rspec/retry.rb:110:in `run'\n     # /usr/local/bundle/gems/rspec-retry-0.6.2/lib/rspec_ext/rspec_ext.rb:12:in `run_with_retry'\n     # /usr/local/bundle/gems/rspec-retry-0.6.2/lib/rspec/retry.rb:37:in `block (2 levels) in setup'\n  5) User purchase plan for group from GitLab checkout page when upgrade with invalid quantity does not allow user to proceed to billing\n     Failure/Error: expect(checkout.continue_to_billing_element.disabled?).to be true\n       expected true\n            got false\n     # ./spec/ui/purchase/purchase_group_plan_spec.rb:44:in `block (4 levels) in \u003cmodule:QA\u003e'\n     # ./page/base.rb:62:in `initialize'\n     # ./spec/ui/purchase/purchase_group_plan_spec.rb:39:in `new'\n     # ./spec/ui/purchase/purchase_group_plan_spec.rb:39:in `block (3 levels) in \u003cmodule:QA\u003e'\n     # /usr/local/bundle/gems/rspec-retry-0.6.2/lib/rspec/retry.rb:124:in `block in run'\n     # /usr/local/bundle/gems/rspec-retry-0.6.2/lib/rspec/retry.rb:110:in `loop'\n     # /usr/local/bundle/gems/rspec-retry-0.6.2/lib/rspec/retry.rb:110:in `run'\n     # /usr/local/bundle/gems/rspec-retry-0.6.2/lib/rspec_ext/rspec_ext.rb:12:in `run_with_retry'\n     # /usr/local/bundle/gems/rspec-retry-0.6.2/lib/rspec/retry.rb:37:in `block (2 levels) in setup'\n```\n\n### Screenshot / HTML page\n\n\u003c!--\nAttach the screenshot and HTML snapshot of the page from the job's artifacts:\n1. Download the job's artifacts and unarchive them.\n1. Open the `qa/tmp` folder.\n1. Select the `.png` and `.html` files that appears in the job logs (look for `HTML screenshot: /path/to/html/page.html` / `Image screenshot: `/path/to/html/page.png`).\n1. Drag and drop them here.\n\nNote: You don't need to include a screenshot if the information it contains can be included as text. Include the text instead.\nE.g., error 500/404, \"Retry later\" errors, etc.\n\nIf you include multiple screenshots it can be helpful to hide all but the first in a details/summary element, to avoid excessive scrolling:\n\n\u003cdetails\u003e\u003csummary\u003eExpand for screenshot\u003c/summary\u003e\n  drag and drop the screenshot here\n\u003c/details\u003e\n--\u003e\n\n### Possible fixes\n\n\n\u003c!-- Base labels. --\u003e","state":"closed","created_at":"2021-04-02T14:31:21.199Z","updated_at":"2021-04-15T15:56:42.717Z","closed_at":"2021-04-06T08:16:21.125Z","closed_by":{"id":447038,"username":"vitallium","name":"Vitaly Slobodin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/74b3243cfcfbfac1f022b78ab505e8d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/vitallium"},"labels":["Category:Purchase","QA","Quality","Quality:e2e-test","Unplanned","devops::fulfillment","frontend","group::purchase","section::fulfillment","severity::1","type::bug","workflow::production"],"milestone":{"id":1406669,"iid":59,"group_id":9970,"title":"13.11","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-08-13T14:23:09.688Z","updated_at":"2022-04-21T07:22:08.835Z","due_date":"2021-04-17","start_date":"2021-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/59"},"assignees":[{"id":447038,"username":"vitallium","name":"Vitaly Slobodin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/74b3243cfcfbfac1f022b78ab505e8d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/vitallium"}],"author":{"id":4937540,"username":"willmeek","name":"Will Meek","state":"active","avatar_url":"https://secure.gravatar.com/avatar/8a0cf3a6679074fce7573d2de05f05ff?s=80\u0026d=identicon","web_url":"https://gitlab.com/willmeek"},"type":"ISSUE","assignee":{"id":447038,"username":"vitallium","name":"Vitaly Slobodin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/74b3243cfcfbfac1f022b78ab505e8d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/vitallium"},"user_notes_count":12,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/2910","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/2910","notes":"https://gitlab.com/api/v4/projects/2670515/issues/2910/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/2910/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#2910","relative":"#2910","full":"gitlab-org/customers-gitlab-com#2910"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":82148074,"iid":2909,"project_id":2670515,"title":"Unable to Purchase","description":"## Summary\n\nUsers are reporting an error, during attempting self-service purchases. This has been seen with both attempting to purchase CI minutes and paid plan subscriptions. No commonality has been found yet amongst the reported examples.  \n\nLooking at the browser breakdown in [the sentry error](https://sentry.gitlab.net/gitlab/customersgitlabcom/issues/2485235/events/540e9ec18f3945d49ad1ee257ae1f80f/) we've got the majority on FF but chrome is 40% of the reports.\n\n```\nRequest failed with status code 401\n```\n\nAssumption: The problem seems to have started on April 1 (see https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/2909#note_550142037)\n\nhttps://sentry.gitlab.net/gitlab/customersgitlabcom/issues/2485235/?referrer=gitlab_plugin\n\n![Screenshot_2021-03-31_Buy_more_GitLab_CI_minutes](/uploads/b229dac3ac5e841e2f32f7a250602aee/Screenshot_2021-03-31_Buy_more_GitLab_CI_minutes.png)\n\n### Reported Examples\n\n1. https://gitlab.zendesk.com/agent/tickets/202870\n1. https://gitlab.zendesk.com/agent/tickets/203323\n1. https://gitlab.zendesk.com/agent/tickets/202265\n1. https://gitlab.zendesk.com/agent/tickets/205085\n1. https://gitlab.zendesk.com/agent/tickets/204891\n1. https://gitlab.zendesk.com/agent/tickets/205470 (switch from Firefox to Chrome worked)\n1. https://gitlab.zendesk.com/agent/tickets/206922 (switch from FF to Chromium worked)\n1. https://gitlab.zendesk.com/agent/tickets/203510 (\"It perfectly worked using chrome\")\n1. https://gitlab.zendesk.com/agent/tickets/207326\n1. https://gitlab.zendesk.com/agent/tickets/207330\n1. https://gitlab.zendesk.com/agent/tickets/207940\n1. https://gitlab.zendesk.com/agent/tickets/208544\n1. https://gitlab.zendesk.com/agent/tickets/209573\n1. https://gitlab.zendesk.com/agent/tickets/208479\n1. https://gitlab.zendesk.com/agent/tickets/210765","state":"closed","created_at":"2021-04-02T00:17:13.096Z","updated_at":"2021-05-10T08:03:25.163Z","closed_at":"2021-05-10T08:03:24.620Z","closed_by":{"id":4430316,"username":"rhardarson","name":"Ragnar Hardarson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4430316/avatar.png","web_url":"https://gitlab.com/rhardarson"},"labels":["Category:Purchase","customer","devops::fulfillment","frontend","group::purchase","priority::1","section::fulfillment","type::bug","workflow::production"],"milestone":{"id":1233762,"iid":58,"group_id":9970,"title":"13.12","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.948Z","updated_at":"2022-04-21T07:22:18.898Z","due_date":"2021-05-17","start_date":"2021-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/58"},"assignees":[{"id":447038,"username":"vitallium","name":"Vitaly Slobodin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/74b3243cfcfbfac1f022b78ab505e8d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/vitallium"}],"author":{"id":402401,"username":"jobbot","name":"Bot","state":"active","avatar_url":"https://secure.gravatar.com/avatar/aaa6738f1ebf25404010884af511b0e7?s=80\u0026d=identicon","web_url":"https://gitlab.com/jobbot"},"type":"ISSUE","assignee":{"id":447038,"username":"vitallium","name":"Vitaly Slobodin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/74b3243cfcfbfac1f022b78ab505e8d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/vitallium"},"user_notes_count":25,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/2909","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/2909","notes":"https://gitlab.com/api/v4/projects/2670515/issues/2909/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/2909/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#2909","relative":"#2909","full":"gitlab-org/customers-gitlab-com#2909"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":81962387,"iid":2902,"project_id":2670515,"title":"Keep the gl_namespace_name in sync with the namespace name in GitLab.com","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n### Problem\n\nWhen a user changes the name of their namespace in GitLab.com, the subscription object in CustomersDot gets out of sync because there's no notice of that change. In CustomersDot the customer still sees the outdated name of the namespace in their subscriptions page.\n\nIt's only after a change in the linked namespace for the subscription that the subscription object gets the updated `gl_namespace_name`.\n\n### Proposal\n\nMake a call to CustomersDot when the namespace name changes in GitLab.com to update the `gl_namespace_name` of the subscription.\n\n### Result\n\nBoth `gl_namespace_name` and `gl_namespace_id` are kept up to date in GitLab.com, CustomersDot and Zuora (through the functionality implemented in https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1989)\n\n## Delivery plan\n\nThis logic is part of a bigger picture :frame_photo: \n- [x] CustomersDot: Add endpoint that receives a namespace(id, name) and updates the namespace name for all the orders associated to this namespace: https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/3797\n- [x] GitLab: Add sync capabilities every time the name for a namespace with an associated subscription is updated **behind a feature flag**: https://gitlab.com/gitlab-org/gitlab/-/merge_requests/69896\n- [x] Create the enable feature flag issue: https://gitlab.com/gitlab-org/gitlab/-/issues/341056\n\n### Availability \u0026 Testing\n\n\u003c!-- This section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\nWhat risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning --\u003e\n\nIf possible, we should create a test to mock the related APIs and test the data sent to the APIs.  Let's test the synchronicity between these fields and ensure that they stay in sync.","state":"closed","created_at":"2021-03-30T23:08:56.919Z","updated_at":"2023-01-21T00:43:11.309Z","closed_at":"2021-10-01T15:23:33.029Z","closed_by":{"id":5667561,"username":"vshumilo","name":"Vladlena Shumilo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08dfa82785d130c151ab9e21caeab4e3?s=80\u0026d=identicon","web_url":"https://gitlab.com/vshumilo"},"labels":["[deprecated] Category:Provision","backend","devops::fulfillment","group::provision","missed:14.3","quad-planning::complete-action","section::fulfillment","workflow::verification"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":5667561,"username":"vshumilo","name":"Vladlena Shumilo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08dfa82785d130c151ab9e21caeab4e3?s=80\u0026d=identicon","web_url":"https://gitlab.com/vshumilo"}],"author":{"id":4717243,"username":"a_luna","name":"Amparo Luna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4717243/avatar.png","web_url":"https://gitlab.com/a_luna"},"type":"ISSUE","assignee":{"id":5667561,"username":"vshumilo","name":"Vladlena Shumilo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08dfa82785d130c151ab9e21caeab4e3?s=80\u0026d=identicon","web_url":"https://gitlab.com/vshumilo"},"user_notes_count":5,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/2902","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":3},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/2902","notes":"https://gitlab.com/api/v4/projects/2670515/issues/2902/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/2902/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#2902","relative":"#2902","full":"gitlab-org/customers-gitlab-com#2902"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":81829871,"iid":2891,"project_id":2670515,"title":"Remove mimemagic shim","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n### Problem\n\nDue to the mimemagic gem being yanked, we had to shim a fake version into CustomersDot in order to prevent any issues  (https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/2994)\n\nWith https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/2890, the Rails version is being upgraded which includes the change to remove the dependency on mimemagic, which means we can remove the shim :tada: \n\n### Proposal\n\nRemove the vendor shim once the upgrade has been merged\n\n### Result\n\nThe shim which is no longer neccessary, is removed from the codebase","state":"closed","created_at":"2021-03-29T09:35:23.896Z","updated_at":"2021-03-30T09:39:48.621Z","closed_at":"2021-03-30T09:39:48.502Z","closed_by":{"id":5249152,"username":"vij","name":"Vijay Hawoldar","state":"active","avatar_url":"https://secure.gravatar.com/avatar/14567a8b4af4374011c43778878de399?s=80\u0026d=identicon","web_url":"https://gitlab.com/vij"},"labels":["Unplanned","[deprecated] Category:Utilization","backend","devops::fulfillment","group::utilization","maintenance::refactor","section::fulfillment","workflow::in review"],"milestone":{"id":1406669,"iid":59,"group_id":9970,"title":"13.11","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-08-13T14:23:09.688Z","updated_at":"2022-04-21T07:22:08.835Z","due_date":"2021-04-17","start_date":"2021-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/59"},"assignees":[{"id":5249152,"username":"vij","name":"Vijay Hawoldar","state":"active","avatar_url":"https://secure.gravatar.com/avatar/14567a8b4af4374011c43778878de399?s=80\u0026d=identicon","web_url":"https://gitlab.com/vij"}],"author":{"id":5249152,"username":"vij","name":"Vijay Hawoldar","state":"active","avatar_url":"https://secure.gravatar.com/avatar/14567a8b4af4374011c43778878de399?s=80\u0026d=identicon","web_url":"https://gitlab.com/vij"},"type":"ISSUE","assignee":{"id":5249152,"username":"vij","name":"Vijay Hawoldar","state":"active","avatar_url":"https://secure.gravatar.com/avatar/14567a8b4af4374011c43778878de399?s=80\u0026d=identicon","web_url":"https://gitlab.com/vij"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/2891","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/2891","notes":"https://gitlab.com/api/v4/projects/2670515/issues/2891/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/2891/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#2891","relative":"#2891","full":"gitlab-org/customers-gitlab-com#2891"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":81817339,"iid":2890,"project_id":2670515,"title":"Update Rails to the latest version (6.1.3.1)","description":"Update Rails to the latest version. This will update Rails' (or more Active Storage's) dependency to `Marcel` to version `10.0` ([release notes](https://weblog.rubyonrails.org/2021/3/26/marcel-upgrade-releases/)):\n\n\u003e Before 1.0.0, Marcel—which is distributed under the terms of the MIT License, like Rails—indirectly depended on MIME type data released under the incompatible GNU General Public License. Marcel 1.0.0 instead directly packages MIME type data adapted from Apache Tika, released under the permissive and compatible Apache License 2.0.\n\n**Note:** With this upgrade we should be able to remove the created shim for mimemagic again.","state":"closed","created_at":"2021-03-29T06:52:05.470Z","updated_at":"2021-10-28T13:58:16.416Z","closed_at":"2021-03-29T12:56:30.303Z","closed_by":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"labels":["[deprecated] Category:Provision","[deprecated] 🍎","backend","devops::fulfillment","group::provision","section::fulfillment","type::maintenance","workflow::production"],"milestone":{"id":1406669,"iid":59,"group_id":9970,"title":"13.11","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-08-13T14:23:09.688Z","updated_at":"2022-04-21T07:22:08.835Z","due_date":"2021-04-17","start_date":"2021-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/59"},"assignees":[{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"}],"author":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"type":"ISSUE","assignee":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/2890","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/2890","notes":"https://gitlab.com/api/v4/projects/2670515/issues/2890/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/2890/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#2890","relative":"#2890","full":"gitlab-org/customers-gitlab-com#2890"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":81730721,"iid":2887,"project_id":2670515,"title":"Follow-up from \"Add initial params to pass to frontend\"","description":"The following discussion from !2936 should be addressed:\n\n- [x] @jhyson started a [discussion](https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/2936#note_535900220): \n\n    \u003e **suggestion:** would it be better to actually call this service here? I wonder if accessing this constant like this is leaking domain logic that should stay in this service? WDYT?\n\n### SUMMARY\n\nWe want to validate this and replace it with an actual call to the Service.\n\nWe want to also account for a similar usage here: https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/0eff285f7cc84361d092c7134937ad090c5a681f/app/services/amendment_base_service.rb#L165","state":"closed","created_at":"2021-03-26T15:33:14.570Z","updated_at":"2021-07-20T14:41:50.691Z","closed_at":"2021-07-20T14:41:45.355Z","closed_by":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"labels":["[deprecated] Category:Provision","backend","devops::fulfillment","group::provision","maintenance::refactor","missed:14.1","section::fulfillment","workflow::production"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"}],"author":{"id":5667561,"username":"vshumilo","name":"Vladlena Shumilo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08dfa82785d130c151ab9e21caeab4e3?s=80\u0026d=identicon","web_url":"https://gitlab.com/vshumilo"},"type":"ISSUE","assignee":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/2887","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":1},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/2887","notes":"https://gitlab.com/api/v4/projects/2670515/issues/2887/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/2887/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#2887","relative":"#2887","full":"gitlab-org/customers-gitlab-com#2887"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":81697915,"iid":2884,"project_id":2670515,"title":"Investigate Salesforce Account inconsistencies in CustomersDot, Salesforce and Zuora","description":"### Problem\nIn https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/2671 it was noticed that while the CustomersDot's customer stores a Salesforce Account Id its associated record in Salesforce could not be found (more info [here](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/2671#note_532386353)). This resulted in a raised error due to relying on always finding a record which was fixed in the mentioned issue.\n\nNow the issue is that the a [presence validation exception](https://sentry.gitlab.net/gitlab/customersgitlabcom/issues/2542134/?referrer=slack) will be raised when the Salesforce Account is empty and an Opportunity is supposed to be created. This is because since it needs the information of an `OwnerId`. That field belongs to the Salesforce Account. More info regarding this can be found in [this issue](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/2883).\n\n### Proposal\nInvestigate the inconsistency around the Salesforce Account in CustomersDot, Salesforce and Zuora. As suggested by @jbrennan1 in this [comment](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/2671#note_537873407) a walkthrough/demo with him through the standard Account/Contact creation flow is the first step of this investigation.\n\nThe actual fix for the exception will be handled in https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/2883.\n\n### Result\nFinding a solution on how to address a fix for the presence validation exception.\n\n#### Recap of errors investigated as part of this issue\n\n:mag: [Owner ID: owner cannot be blank](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/2884#note_810168556)\n\n:mag: [Required fields are missing: [ContactId]](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/2884#note_810172823)\n\n### Next steps (if any)\nCoordinate a call with @jbrennan1 to do a walkthrough/demo.","state":"closed","created_at":"2021-03-26T09:09:31.585Z","updated_at":"2022-05-25T09:12:18.433Z","closed_at":"2022-01-27T08:50:34.039Z","closed_by":{"id":273486,"username":"jameslopez","name":"James Lopez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/273486/avatar.png","web_url":"https://gitlab.com/jameslopez"},"labels":["[deprecated] Category:Provision","backend","devops::fulfillment","group::provision","missed:14.3","missed:14.4","missed:14.6","missed:14.7","section::fulfillment","workflow::in review"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":4717243,"username":"a_luna","name":"Amparo Luna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4717243/avatar.png","web_url":"https://gitlab.com/a_luna"}],"author":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"type":"ISSUE","assignee":{"id":4717243,"username":"a_luna","name":"Amparo Luna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4717243/avatar.png","web_url":"https://gitlab.com/a_luna"},"user_notes_count":37,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/2884","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/2884","notes":"https://gitlab.com/api/v4/projects/2670515/issues/2884/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/2884/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#2884","relative":"#2884","full":"gitlab-org/customers-gitlab-com#2884"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":81697277,"iid":2883,"project_id":2670515,"title":"Salesforce Account can't be blank or it results in a validation error","description":"### Problem\nOriginal mention of this issue: https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/2671#note_534741081\n\nWhile working on https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/2671 a fix was implemented to not raise an exception when the Salesforce Account can't be found and instead proceed with the remaining logic. While the remaining code accounted for the Salesforce Account to be blank all along, it never reached that code with an empty Salesforce Account before due to the mentioned exception. Which is why we are now seeing a [presence validation exception](https://sentry.gitlab.net/gitlab/customersgitlabcom/issues/2542134/?referrer=slack) that the `OwnerId` for a new `Opportunity` can't be blank. That field comes from the Salesforce Account ([code](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/a888a4e0d82447d17986bcdf46d6c15104de59ea/app/services/salesforce/create_opportunity_service.rb#L70)).\n\n### Proposal\n\nAfter the investigation in [this issue](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/2884#note_813196718), we want to:\n\n* Revisit change attempted in https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/4074, if possible\n* Unify the methods used to get a Salesforce account id in `CreateSalesforceAccountService` and `Salesforce::BaseOpportunityService`\n* [Create an Account if absent during Opportunity creation](https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/4793#note_955228314)\n\n### Result\nResolve exception and create Opportunities for these cases again.\n\n### Next steps (if any)\n\n### How will we measure success?","state":"closed","created_at":"2021-03-26T09:00:21.802Z","updated_at":"2022-08-21T12:04:45.737Z","closed_at":"2022-08-19T09:51:45.393Z","closed_by":{"id":1986039,"username":"lulalala","name":"Mark Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1986039/avatar.png","web_url":"https://gitlab.com/lulalala"},"labels":["Affects Salesforce","[deprecated] Category:Provision","auto updated","automation:prevent-auto-close","backend","devops::fulfillment","group::provision","missed:15.0","missed:15.2","missed:15.3","section::fulfillment","severity::4","type::bug","workflow::in review"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":1986039,"username":"lulalala","name":"Mark Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1986039/avatar.png","web_url":"https://gitlab.com/lulalala"}],"author":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"type":"ISSUE","assignee":{"id":1986039,"username":"lulalala","name":"Mark Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1986039/avatar.png","web_url":"https://gitlab.com/lulalala"},"user_notes_count":19,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/2883","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/2883","notes":"https://gitlab.com/api/v4/projects/2670515/issues/2883/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/2883/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#2883","relative":"#2883","full":"gitlab-org/customers-gitlab-com#2883"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":81651791,"iid":2880,"project_id":2670515,"title":"Avoid using customer relationship for subscription methods on the Order model","description":"## Purpose\n\nThere are many cases where Orders in CDot production have a `zuora_account_id` value but the Customer of the Order does not have a `zuora_account_id`.  This can be a problem when getting the [`subscription`](https://gitlab.com/gitlab-org/customers-gitlab-com/blob/1b7fff46aa9ef908e33311e26999c8fb41d6c873/app/models/order.rb#L117) or [`current_subscription`](https://gitlab.com/gitlab-org/customers-gitlab-com/blob/1b7fff46aa9ef908e33311e26999c8fb41d6c873/app/models/order.rb#L137) for an order.  These methods use the `order.customer.zuora_account_id` instead of `order.zuora_account_id`.  The subscription won't be found for those orders when it actually exists in Zuora.  \n\nWe should consider updating these subscription methods or if there are any negative consequences.  Some changes were made in https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/4551, as part of https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3837.  \n\nThere may be other changes necessary to make as we are still seeing reports where provisioning fails due to the relationship of the Customer on the Order. As recently as April 28 2022, [this was reported as a problem](https://gitlab.zendesk.com/agent/tickets/286138) (originally raised in https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/2118#note_928465165).\n\n## Follow-up\n\nThe following discussion is from !2985.","state":"closed","created_at":"2021-03-25T15:01:05.397Z","updated_at":"2022-07-19T07:00:36.792Z","closed_at":"2022-07-19T07:00:36.776Z","closed_by":{"id":273486,"username":"jameslopez","name":"James Lopez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/273486/avatar.png","web_url":"https://gitlab.com/jameslopez"},"labels":["[deprecated] Category:Fulfillment Platform","auto updated","automation:prevent-auto-close","backend","devops::fulfillment","group::fulfillment platform","section::fulfillment","type::bug","workflow::in review"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":5667561,"username":"vshumilo","name":"Vladlena Shumilo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08dfa82785d130c151ab9e21caeab4e3?s=80\u0026d=identicon","web_url":"https://gitlab.com/vshumilo"}],"author":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"type":"ISSUE","assignee":{"id":5667561,"username":"vshumilo","name":"Vladlena Shumilo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08dfa82785d130c151ab9e21caeab4e3?s=80\u0026d=identicon","web_url":"https://gitlab.com/vshumilo"},"user_notes_count":4,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/2880","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/2880","notes":"https://gitlab.com/api/v4/projects/2670515/issues/2880/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/2880/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#2880","relative":"#2880","full":"gitlab-org/customers-gitlab-com#2880"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":81650767,"iid":2879,"project_id":2670515,"title":"Investigate why some orders and customers do not have a zuora_account_id","description":"## Purpose\n\nIt was discovered that some orders in CustomersDot production do not have a `zuora_account`.  This is expected for some orders like trials and orders that revert to the free plan.  After filtering those out, there are still some orders (around 22 at the time of writing this) where `zuora_account_id` is nil.\n\nSimilarly, there are some customers attached to orders that do not have a `zuora_account_id` either.  There are even more customers without `zuora_account_id` than orders mentioned above.  \n\nPlease see the detailed comment referenced below for more info.  It would be good to figure out why this has happened, whether it is a problem, and if so, provide a solution.\n\n## Follow-up\n\nThe following discussion is from !2985:\n\n- [ ] @tyleramos made the [comment](https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/2985#note_537877774):\n\n    \u003e @lulalala Thanks for raising this as a concern! This will indeed be a problem.\n    \u003e \n    \u003e I've done some investigation into our production data and there are many orders where `zuora_account_id` is nil. However, for `Order#current_subscription`, it's actually the `customer.zuora_account_id` that needs to be present. It looks like [this method](https://gitlab.com/gitlab-org/customers-gitlab-com/blob/6e353a98934a4878a07843e08605a1fdfcb8c9b2/app/models/subscription.rb#L37) doesn't actually use the `zuora_account_id` on the order itself. The same concern exists thought that `customer.zuora_acocunt_id` could be `nil`. In fact, I think the situation is actually a little worse because we use `customer.zuora_account_id`, but more on that in a bit.\n    \u003e \n    \u003e Let's breakdown the orders where `order.zuora_account_id` is nil a bit:\n    \u003e \n    \u003e ```\n    \u003e irb(main):001:0\u003e Order.count\n    \u003e =\u003e 156049\n    \u003e irb(main):002:0\u003e Order.where(zuora_account_id: nil).count\n    \u003e =\u003e 111447\n    \u003e ```\n    \u003e \n    \u003e Out of 156049 total orders, 111447 do not have `zuora_account_id` so that seems bad. But once we filter out trials, and trials that reverted back to the free plan, it looks much better.\n    \u003e \n    \u003e ```\n    \u003e irb(main):034:0\u003e Order.where(zuora_account_id: nil).where(trial: false).where.not(product_rate_plan_id: 'free-plan-id').count\n    \u003e =\u003e 22\n    \u003e ```\n    \u003e \n    \u003e So really only 22 orders that could be a problem. I didn't dig into these too much but it seems like they could be trials that didn't transition to non-trials correctly. Either way, this is a much smaller, manageable number. I might open an issue to determine if these need to be addressed.\n    \u003e \n    \u003e Circling back to the fact that `order.current_subscription`, and `order.subscription` for that matter, use `customer.zuora_account_id`. There are even more orders that aren't trial or free plan where the `customer.zuora_account_id` is nil.\n    \u003e \n    \u003e ```\n    \u003e irb(main):054:0\u003e Order.left_outer_joins(:customer).where(customers: { zuora_account_id: nil }, trial: false).where.not(product_rate_plan_id: 'free-plan-id').count\n    \u003e =\u003e 265\n    \u003e ```\n    \u003e \n    \u003e Of these 265 orders, 48 of them are managed by resellers because the `login_activated` attr is false.\n    \u003e \n    \u003e ```\n    \u003e irb(main):060:0\u003e Order.left_outer_joins(:customer).where(customers: { zuora_account_id: nil, login_activated: false }, trial: false).where.not(product_rate_plan_id: 'free-plan-id').count\n    \u003e =\u003e 48\n    \u003e ```\n    \u003e \n    \u003e The remaining 217 orders are still mysterious. After spot checking the papertrail for a few, it looks like the customer.zuora_account_id was set but previously, but removed by gitlab admins. It would be good to understand why this is done. The bigger question though is should update the subscription methods in Order to use `order.zuora_account_id` instead of `customer.zuora_account_id` as this might be less error prone?\n    \u003e \n    \u003e **TLDR:** I'm fine with your approach in this MR to add an early return. I'm also wondering if it's worth logging the event that we don't create the cloud license for this reason. At least to begin with we could log it as an error. If it turns out, it's really common and acceptable, then we can update it to log as info. I'll open up follow-up issues for the other problems identified. :sweat_smile:","state":"closed","created_at":"2021-03-25T14:47:08.909Z","updated_at":"2022-04-04T03:03:19.636Z","closed_at":"2022-04-04T03:03:19.626Z","closed_by":{"id":1786152,"username":"gitlab-bot","name":"🤖 GitLab Bot 🤖","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1786152/avatar.png","web_url":"https://gitlab.com/gitlab-bot"},"labels":["[deprecated] 🍎","auto closed","auto updated","backend","devops::fulfillment","group::fulfillment platform","section::fulfillment","stale","type::bug","vintage","workflow::ready for development"],"milestone":null,"assignees":[],"author":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"type":"ISSUE","assignee":null,"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/2879","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/2879","notes":"https://gitlab.com/api/v4/projects/2670515/issues/2879/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/2879/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#2879","relative":"#2879","full":"gitlab-org/customers-gitlab-com#2879"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":81594328,"iid":2876,"project_id":2670515,"title":"Taxes are displayed incorrectly and line items don't add up to order total","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"bug\" label in relevant trackers:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n- https://gitlab.com/gitlab-org/customers-gitlab-com/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n\nDo not include confidential information!\n---\u003e\n\n### Summary\n\nWhen purchasing a product that is taxed, the \"Price\" line item number incorrectly includes the tax.\n\n### Steps to reproduce\n\nIn production, begin a purchase of CI Minutes with your address set to Denver, CO 80223.\n\n### What is the current *bug* behavior?\n\nWhen purchasing a product that is taxed, the \"Price\" line item number incorrectly includes the tax.\n\nNote that the order total is correct and the customer is not getting overcharged. This is just an issue with how the numbers are displaying.\n\n### What is the expected *correct* behavior?\n\nThe \"Price\" line item should only be the price of the product itself without any taxes. The taxes should only appear in the \"Estimated taxes\" line item. In the example below, \"Price\" should be $40.\n\n### Relevant logs and/or screenshots\n\n![Screen_Shot_2021-03-24_at_4.23.18_PM](/uploads/a45f9b5b3f763c017ee5d971904de4ba/Screen_Shot_2021-03-24_at_4.23.18_PM.png)\n\n\n\u003c!---\nPlease add both severity and priority level according to: https://docs.gitlab.com/ee/development/contributing/issue_workflow.html#severity-labels\n---\u003e","state":"closed","created_at":"2021-03-24T21:43:31.196Z","updated_at":"2022-05-13T01:18:46.367Z","closed_at":"2021-08-11T08:31:18.573Z","closed_by":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"labels":["Category:Purchase","devops::fulfillment","frontend","group::purchase","priority::3","section::fulfillment","severity::3","type::bug","workflow::production"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"}],"author":{"id":4377833,"username":"esybrant","name":"Emily Sybrant","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4377833/avatar.png","web_url":"https://gitlab.com/esybrant"},"type":"ISSUE","assignee":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"user_notes_count":24,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/2876","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/2876","notes":"https://gitlab.com/api/v4/projects/2670515/issues/2876/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/2876/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#2876","relative":"#2876","full":"gitlab-org/customers-gitlab-com#2876"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":81522330,"iid":2860,"project_id":2670515,"title":"Update webpacker to 6 after Rails 6 update","description":"The following discussion from !2890 should be addressed:\n\n- [ ] @asubramanian1 started a [discussion](https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/2890#note_535311824):  (+1 comment)\n\n    \u003e **question:** Should we update `webpacker` to  `5.0` based on http://railsdiff.org/6.0.3.5/6.1.3?\n\nWebpacker 6 will be released soon so we could try to update to that version instead of 5.","state":"closed","created_at":"2021-03-23T21:26:37.467Z","updated_at":"2021-05-19T20:29:55.464Z","closed_at":"2021-05-19T20:29:55.411Z","closed_by":{"id":447038,"username":"vitallium","name":"Vitaly Slobodin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/74b3243cfcfbfac1f022b78ab505e8d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/vitallium"},"labels":["[deprecated] Category:Provision","backend","devops::fulfillment","frontend","group::provision","maintenance::refactor","section::fulfillment","workflow::production"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":447038,"username":"vitallium","name":"Vitaly Slobodin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/74b3243cfcfbfac1f022b78ab505e8d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/vitallium"}],"author":{"id":4014344,"username":"aishbuilds","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4014344/avatar.png","web_url":"https://gitlab.com/aishbuilds"},"type":"ISSUE","assignee":{"id":447038,"username":"vitallium","name":"Vitaly Slobodin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/74b3243cfcfbfac1f022b78ab505e8d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/vitallium"},"user_notes_count":9,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/2860","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/2860","notes":"https://gitlab.com/api/v4/projects/2670515/issues/2860/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/2860/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#2860","relative":"#2860","full":"gitlab-org/customers-gitlab-com#2860"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":81411426,"iid":2850,"project_id":2670515,"title":"Create DOC explaining the trial flow","description":"### Proposal\n\nWrite a document in a markdown format explaining on how the trial workflow works and also explain the process happening around CustomersDot, License and Gitlab.com","state":"closed","created_at":"2021-03-22T13:37:06.597Z","updated_at":"2021-04-02T14:36:48.579Z","closed_at":"2021-03-29T16:44:05.676Z","closed_by":{"id":4903695,"username":"shreyasagarwal","name":"Shreyas Agarwal","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d5b09dfe06a10d119c1b2043c43de680?s=80\u0026d=identicon","web_url":"https://gitlab.com/shreyasagarwal"},"labels":["Category:Purchase","backend","devops::fulfillment","documentation","group::purchase","section::fulfillment","workflow::production"],"milestone":{"id":1406669,"iid":59,"group_id":9970,"title":"13.11","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-08-13T14:23:09.688Z","updated_at":"2022-04-21T07:22:08.835Z","due_date":"2021-04-17","start_date":"2021-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/59"},"assignees":[{"id":4903695,"username":"shreyasagarwal","name":"Shreyas Agarwal","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d5b09dfe06a10d119c1b2043c43de680?s=80\u0026d=identicon","web_url":"https://gitlab.com/shreyasagarwal"}],"author":{"id":4903695,"username":"shreyasagarwal","name":"Shreyas Agarwal","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d5b09dfe06a10d119c1b2043c43de680?s=80\u0026d=identicon","web_url":"https://gitlab.com/shreyasagarwal"},"type":"ISSUE","assignee":{"id":4903695,"username":"shreyasagarwal","name":"Shreyas Agarwal","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d5b09dfe06a10d119c1b2043c43de680?s=80\u0026d=identicon","web_url":"https://gitlab.com/shreyasagarwal"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/2850","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/2850","notes":"https://gitlab.com/api/v4/projects/2670515/issues/2850/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/2850/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#2850","relative":"#2850","full":"gitlab-org/customers-gitlab-com#2850"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":81182936,"iid":2847,"project_id":2670515,"title":"Graduate feature flag for `create_opportunity_objects`","description":"### Problem\nThe feature flag for [create_opportunity_objects](https://gitlab.com/gitlab-org/customers-gitlab-com/-/feature_flags/42/edit) was introduced with https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1379 to add additional object creations along with an Salesforce Opportunity. The development issue (https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1379) was closed in August 2020 but the parent issue (https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/911) from the Sales team is still open.\n\n### Proposal\n- Check with the Sales team when the feature flag can be removed\n- Remove the feature flag from the code\n\n### Result\n- Cleaned up code that was needed for the feature flag\n- One less feature flag to maintain.\n\n### Next steps (if any)\nCheck with Sales team if the feature flag can be removed.","state":"closed","created_at":"2021-03-18T13:09:00.905Z","updated_at":"2021-10-28T13:58:49.405Z","closed_at":"2021-07-22T12:12:17.837Z","closed_by":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"labels":["[deprecated] Category:Provision","[deprecated] 🍎","backend","devops::fulfillment","group::provision","maintenance::refactor","section::fulfillment","type::maintenance","workflow::production"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"}],"author":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"type":"ISSUE","assignee":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/2847","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/2847","notes":"https://gitlab.com/api/v4/projects/2670515/issues/2847/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/2847/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#2847","relative":"#2847","full":"gitlab-org/customers-gitlab-com#2847"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5836,"epic":{"id":255713,"iid":5836,"title":"Feature Flags Review and Follow Up","url":"/groups/gitlab-org/-/epics/5836","group_id":9970,"human_readable_end_date":"Sep 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":81125975,"iid":2840,"project_id":2670515,"title":"Reduce repetition of similar parts in subs components","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n### Problem\n\nAt the moment the New Subscription Components for GitLab and EE are sharing quite a good amount of logic, therefore demanding every update to be ported in many places. Increasing the risk of inconsistencies and the time for maintenance.\n\n### Proposal\n\nConsider:\n\n- `app/frontend/javascripts/subscription/components/new_gitlab_subscription_form.vue`\n- `app/frontend/javascripts/subscription/components/new_ee_subscription_form.vue`\n\nWe have 2 viable strategies (not necessarily mutually excluding):\n1. individuate the parts that can be easily extracted into new/shared components and move them there OR\n1. generalize the component and add props customize the parts that are different\n1. moving the duplicate values into constants and referencing those instead\n\nFinally, update the tests where applicable.\n\n### Result\n\nReduction of code and decreased maintenance time in the future.\n\n### How will we measure success?\n\nRemoved code should be more than added one (excluding additional tests)","state":"closed","created_at":"2021-03-17T17:40:55.805Z","updated_at":"2022-04-04T00:01:28.656Z","closed_at":"2022-04-04T00:01:28.641Z","closed_by":{"id":1786152,"username":"gitlab-bot","name":"🤖 GitLab Bot 🤖","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1786152/avatar.png","web_url":"https://gitlab.com/gitlab-bot"},"labels":["Category:Purchase","auto closed","auto updated","devops::fulfillment","frontend","group::purchase","maintenance::refactor","onboarding","section::fulfillment","to schedule"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":6348276,"username":"agulina","name":"Angelo Gulina","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b28693a558066993ea93b7272208d285?s=80\u0026d=identicon","web_url":"https://gitlab.com/agulina"},"type":"ISSUE","assignee":null,"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/2840","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/2840","notes":"https://gitlab.com/api/v4/projects/2670515/issues/2840/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/2840/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#2840","relative":"#2840","full":"gitlab-org/customers-gitlab-com#2840"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":81029777,"iid":2837,"project_id":2670515,"title":"Allow renewals of subscriptions for less quantity than the previous term","description":"This issue is the remaining work on https://gitlab.com/gitlab-org/growth/product/-/issues/1577\n\n## Summary\n\nWhen a subscription renews, and the active seat count is less than the original purchased amount, it tries to renew at the active (lower) seat count than the previous term, which produces an error and subscription doesn't renew.  This applies to both Self-Managed and SaaS.\n\n## Steps to reproduce\n\n1. Create a SaaS subscription which will expire next date for 3 users\n1. Set the subscription to autorenew (utilizing custom_autorenew setting in Zuora or by selecting from frontend Customers Portal)\n1. Associate the subscription with a GitLab group\n1. Ensure the GitLab group has 2 or less users\n1. When the subscription attempts to renew, it will error\n\n![Screen_Shot_2021-03-12_at_10.02.56_a.m.](/uploads/70d0bf8a01c0a8f6454dfe81bf0052e4/Screen_Shot_2021-03-12_at_10.02.56_a.m..png)","state":"closed","created_at":"2021-03-16T14:44:52.060Z","updated_at":"2021-08-03T15:37:36.267Z","closed_at":"2021-04-27T17:38:51.116Z","closed_by":{"id":3614911,"username":"rcobb","name":"Ryan Cobb","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7047b7014264f07daf9836e55fc5ef4c?s=80\u0026d=identicon","web_url":"https://gitlab.com/rcobb"},"labels":["#field-fyi","Category:Purchase","Deliverable","backend","devops::fulfillment","group::purchase","section::fulfillment","workflow::verification"],"milestone":{"id":1233762,"iid":58,"group_id":9970,"title":"13.12","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.948Z","updated_at":"2022-04-21T07:22:18.898Z","due_date":"2021-05-17","start_date":"2021-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/58"},"assignees":[{"id":3614911,"username":"rcobb","name":"Ryan Cobb","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7047b7014264f07daf9836e55fc5ef4c?s=80\u0026d=identicon","web_url":"https://gitlab.com/rcobb"}],"author":{"id":8110789,"username":"tgolubeva","name":"Tatyana Golubeva","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8110789/avatar.png","web_url":"https://gitlab.com/tgolubeva"},"type":"ISSUE","assignee":{"id":3614911,"username":"rcobb","name":"Ryan Cobb","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7047b7014264f07daf9836e55fc5ef4c?s=80\u0026d=identicon","web_url":"https://gitlab.com/rcobb"},"user_notes_count":40,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/2837","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/2837","notes":"https://gitlab.com/api/v4/projects/2670515/issues/2837/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/2837/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#2837","relative":"#2837","full":"gitlab-org/customers-gitlab-com#2837"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":80968684,"iid":2834,"project_id":2670515,"title":"Add fields to SFDC opportunity objects mapping","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n### Problem\n\nAfter testing the changes added in https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/2097 the team decided that more data is needed for the `QuoteRatePlanCharge` object to be complete and usable in SFDC.\n\n| Data Name               | SFDC Quote Rate Plan Charge Field | Zuora Field                                        | Type              |\n|-------------------------|-----------------------------------|----------------------------------------------------|-------------------|\n| Amendment Type          |          Webstore_Zuora_Type__c                         | InvoiceItem:Amendment-\u003eType                        | String            |\n| Quantity                |           Webstore_Zuora_Quantity__c                        | InvoiceItem-\u003eQuantity                              | Number(13, 5)     |\n| Effect Price            |         Webstore_Zuora_Effective_Price__c                          | InvoiceItem-\u003eCharge Amount                         | Currency          |\n| DTCV                    |             Webstore_Zuora_DTCV__c                      | InvoiceItem:Rate Plan Charge-\u003eDTCV                 | Currency          |\n| DMRC                    |             Webstore_Zuora_DMRC__c                      | InvoiceItem:Rate Plan Charge-\u003eDMRC                 | Currency          |\n| MRR                     |        Webstore_Zuora_MRR__c                           | InvoiceItem:Rate Plan Charge-\u003eMRR                  | Currency          |\n| Service End Date        |             Webstore_Zuora_Service_End_Date__c                      | InvoiceItem-\u003eService End Date                      | Date (YYYY-MM-DD) |\n| Service Start Date      |             Webstore_Zuora_Service_Start_Date__c                      | InvoiceItem-\u003eService Start Date                    | Date (YYYY-MM-DD) |\n| Description             |             Webstore_Zuora_Description__c                      | InvoiceItem:Amendment-\u003eDescription                 | String            |\n| Amendment ID                      |         Webstore_Zuora_Amendment_ID__c                          | InvoiceItem:Amendment-\u003eID                          | String            |\n| Name                    |            Webstore_Zuora_Name__c                       | InvoiceItem:Amendment-\u003eName                        | String            |\n| Invoice ID                      |      Webstore_Zuora_Invoice_ID__c                             | InvoiceItem:Invoice-\u003eID                            | String            |\n| Invoice Number          |            Webstore_Zuora_Invoice_Number__c                       | InvoiceItem:Invoice-\u003eInvoice Number                | String            |\n| Rate Plan ID                    |           Webstore_Zuora_Rate_Plan_ID__c                        | InvoiceItem:Rate Plan-\u003eID                          | String            |\n| Effective End Date      |            Webstore_Zuora_Effective_End_Date__c                       | InvoiceItem:Rate Plan Charge-\u003eEffective End Date   | Date (YYYY-MM-DD) |\n| Effective Start Date    |        Webstore_Zuora_Effective_Start_Date__c                           | InvoiceItem:Rate Plan Charge-\u003eEffective Start Date | Date (YYYY-MM-DD) |\n| TCV                     |             Webstore_Zuora_TCV__c                      | InvoiceItem:Rate Plan Charge-\u003eTCV                  | Currency          |\n| Subscription ID                      |        Webstore_Zuora_Subscription_ID__c                           | InvoiceItem:Subscription-\u003eID                       | String            |\n| Original Subscription ID             |         Webstore_Zuora_Original_Subscription_ID__c                          | InvoiceItem:Subscription-\u003eOriginal ID              | String            |\n| Subscription End Date   |         Webstore_Zuora_Subscription_End_Date__c                          | InvoiceItem:Subscription-\u003eSubscription End Date    | Date (YYYY-MM-DD) |\n| Subscription Start Date |     Webstore_Zuora_Subscription_Start_Date__c                              | InvoiceItem:Subscription-\u003eSubscription Start Date  | Date (YYYY-MM-DD) |\n\n### Proposal\n\nWe need to update `Salesforce::CreateOpportunityObjectsService` and `Salesforce::CreateQuoteRatePlanChargeService` to send all this data over to SFDC.\n\n### Result\n\nRaw data that can be used to make all the calculations needed in SFDC side.\n\n### Next steps (if any)\n\n### How will we measure success?","state":"closed","created_at":"2021-03-15T22:12:35.623Z","updated_at":"2022-11-30T16:14:04.178Z","closed_at":"2021-04-07T17:52:23.262Z","closed_by":{"id":4717243,"username":"a_luna","name":"Amparo Luna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4717243/avatar.png","web_url":"https://gitlab.com/a_luna"},"labels":["Affects Salesforce","[deprecated] Category:Provision","backend","devops::fulfillment","group::provision","section::fulfillment","workflow::verification"],"milestone":{"id":1406669,"iid":59,"group_id":9970,"title":"13.11","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-08-13T14:23:09.688Z","updated_at":"2022-04-21T07:22:08.835Z","due_date":"2021-04-17","start_date":"2021-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/59"},"assignees":[{"id":4717243,"username":"a_luna","name":"Amparo Luna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4717243/avatar.png","web_url":"https://gitlab.com/a_luna"}],"author":{"id":4717243,"username":"a_luna","name":"Amparo Luna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4717243/avatar.png","web_url":"https://gitlab.com/a_luna"},"type":"ISSUE","assignee":{"id":4717243,"username":"a_luna","name":"Amparo Luna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4717243/avatar.png","web_url":"https://gitlab.com/a_luna"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/2834","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/2834","notes":"https://gitlab.com/api/v4/projects/2670515/issues/2834/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/2834/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#2834","relative":"#2834","full":"gitlab-org/customers-gitlab-com#2834"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":80951169,"iid":2831,"project_id":2670515,"title":"Exclude unnecessary fields from IronBank Schema files","description":"### Problem\n\nIn https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/2825, we found out that it can be problematic when custom fields are renamed or removed from Zuora, if those fields are listed in the IronBank Schema ([sandbox files](https://gitlab.com/gitlab-org/customers-gitlab-com/-/tree/staging/config/zuora/sandbox/schema), [prod files](https://gitlab.com/gitlab-org/customers-gitlab-com/-/tree/staging/config/zuora/production/schema)).  Since the schema files are used when IronBank builds queries to pull data from Zuora resources, changes to the fields in Zuora without being reflected in the Schema results in `IronBank::BadRequestError` errors.\n\n### Proposal\n\nTo help avoid these types of errors, we probably should exclude any fields in queries which are not needed directly by CustomersDot.  This could be done by adding these fields to [`excluded_files.yml`](https://gitlab.com/gitlab-org/customers-gitlab-com/blob/6b8978605499bc74aa3d3cdee8b1afaf5d10858f/config/zuora/sandbox/excluded_fields.yml).  This should prevent these fields from being included in the Zuora queries ([ref from IronBank](https://github.com/zendesk/iron_bank/blob/main/lib/iron_bank/metadata.rb#L31)).  If that approach doesn't work, we could simply remove the fields from the schema altogether.\n\nThis might be the best course of action:\n- Update all the schema files to get the lastest by exporting: `IronBank::Schema.export`.\n- Audit each field for each Resource and add any fields not used by CustomersDot to the `excluded_files.yml`\n- This will likely cause specs to fail because the Zuora requests are different. VCR cassettes will need to be re-recorded.\n\nThe above could be done for Sandbox first, then later for Production.","state":"closed","created_at":"2021-03-15T16:58:53.135Z","updated_at":"2021-10-05T19:54:21.421Z","closed_at":"2021-10-05T19:54:21.398Z","closed_by":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"labels":["[deprecated] Category:Provision","backend","devops::fulfillment","group::provision","maintenance::refactor","quad-planning::complete-no-action","section::fulfillment","workflow::production"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"}],"author":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"type":"ISSUE","assignee":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/2831","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/2831","notes":"https://gitlab.com/api/v4/projects/2670515/issues/2831/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/2831/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#2831","relative":"#2831","full":"gitlab-org/customers-gitlab-com#2831"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":80939414,"iid":2830,"project_id":2670515,"title":"PlansFinder should search for plans in Zuora if not found within eager loaded plans","description":"### Problem\n\nIf a product rate plan is not in the [list of preloaded plan ids](https://gitlab.com/gitlab-org/customers-gitlab-com/blob/aa13252af0a6e69a58c8ac2bc645afaf36d7b12c/app/models/plans_finder.rb#L11) in `PlansFinder` and this plan id is used in [`PlansFinder.find`](https://gitlab.com/gitlab-org/customers-gitlab-com/blob/aa13252af0a6e69a58c8ac2bc645afaf36d7b12c/app/models/plans_finder.rb#L49), the result is `nil`, even if the product rate plan exists in Zuora.  This can lead to errors when a subscription is created or updated which uses a product rate plan not listed in the PlansFinder.  The results in the Zuora worker failing to process the callout which means no Order record is created for the subscription.\n\nI noticed this when testing an MR where we were adding a new SKU to CustomersDot.  See [this discussion](https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/2925#note_526657938) for more info.  This happens quite often as can be seen by these Sentry errors:\n\n- https://sentry.gitlab.net/gitlab/customersgitlabcom/issues/2446974\n- https://sentry.gitlab.net/gitlab/customersgitlabcom/issues/2458737\n- https://sentry.gitlab.net/gitlab/customersgitlabcom/issues/2465402\n- https://sentry.gitlab.net/gitlab/customersgitlabcom/issues/2474979\n- https://sentry.gitlab.net/gitlab/customersgitlabcom/issues/2069046\n- https://sentry.gitlab.net/gitlab/customersgitlabcom/issues/2374919\n\n### Proposal\n\nOne way to fix this issue would be to update [the `PlansFinder.find` method](https://gitlab.com/gitlab-org/customers-gitlab-com/blob/aa13252af0a6e69a58c8ac2bc645afaf36d7b12c/app/models/plans_finder.rb#L49) to fallback to searching Zuora if the product rate plan isn't found within the seat of `eager_loaded_plans`.  Since the product catalog is cached locally anyway, this wouldn't be a very expensive operation as it would have been when this eager loading was originally introduced.\n\nIn fact, this eager loading is probably not necessary at all, and we have [an issue to investigate removing it](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/2680).  While that would be a better longer term solution, this could be a nice, quick short term solution for this problem. If https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/2680 get's prioritized first, we can close this issue.\n\n### Result\n\nNo more errors like the ones shown above.  We could resolve those in Sentry when this is finished.","state":"closed","created_at":"2021-03-15T14:33:27.318Z","updated_at":"2022-03-17T18:41:03.628Z","closed_at":"2021-08-06T05:08:57.152Z","closed_by":{"id":1986039,"username":"lulalala","name":"Mark Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1986039/avatar.png","web_url":"https://gitlab.com/lulalala"},"labels":["[deprecated] Category:Provision","[deprecated] 🍎","backend","devops::fulfillment","group::provision","maintenance::refactor","section::fulfillment","type::bug","workflow::in dev"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":1986039,"username":"lulalala","name":"Mark Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1986039/avatar.png","web_url":"https://gitlab.com/lulalala"}],"author":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"type":"ISSUE","assignee":{"id":1986039,"username":"lulalala","name":"Mark Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1986039/avatar.png","web_url":"https://gitlab.com/lulalala"},"user_notes_count":7,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/2830","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/2830","notes":"https://gitlab.com/api/v4/projects/2670515/issues/2830/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/2830/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#2830","relative":"#2830","full":"gitlab-org/customers-gitlab-com#2830"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":80900916,"iid":2829,"project_id":2670515,"title":"Replace local danger files with gitlab-dangerfiles gem","description":"### Problem\n\nGitLab's Dangerfiles has been extracted to its own gem at https://gitlab.com/gitlab-org/ruby/gems/gitlab-dangerfiles.\n\n### Proposal\n\nEvaluate and implement (if applicable) removing our local dangerfiles in favor of using the official gem file while keeping our needed customization.\n\n### Result\n\nUp-to-date dangerfiles and less code to maintain.\n\n### Next steps (if any)\n\nSchedule\n\n### How will we measure success?","state":"closed","created_at":"2021-03-15T04:19:31.685Z","updated_at":"2022-06-13T14:28:47.897Z","closed_at":"2022-06-13T14:28:47.874Z","closed_by":{"id":4717243,"username":"a_luna","name":"Amparo Luna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4717243/avatar.png","web_url":"https://gitlab.com/a_luna"},"labels":["[deprecated] Category:Provision","[deprecated] 🍎","auto updated","automation:prevent-auto-close","backend","devops::fulfillment","frontend","group::provision","maintenance::refactor","maintenance::workflow","quad-planning::complete-no-action","section::fulfillment","type::maintenance","workflow::ready for development"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":4717243,"username":"a_luna","name":"Amparo Luna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4717243/avatar.png","web_url":"https://gitlab.com/a_luna"}],"author":{"id":127064,"username":"aalakkad","name":"Ammar Alakkad","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ecc1130ce340f5080afd8f2c9962948a?s=80\u0026d=identicon","web_url":"https://gitlab.com/aalakkad"},"type":"ISSUE","assignee":{"id":4717243,"username":"a_luna","name":"Amparo Luna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4717243/avatar.png","web_url":"https://gitlab.com/a_luna"},"user_notes_count":7,"merge_requests_count":0,"upvotes":4,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/2829","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/2829","notes":"https://gitlab.com/api/v4/projects/2670515/issues/2829/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/2829/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#2829","relative":"#2829","full":"gitlab-org/customers-gitlab-com#2829"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":80828836,"iid":2825,"project_id":2670515,"title":"Resolve IronBank::BadRequestError errors from change in sandbox schema","description":"### Problem\n\nWe're [seeing a bunch of errors](https://sentry.gitlab.net/gitlab/customersstggitlabcom/?query=is%3Aunresolved+end_customer_details__c) like `IronBank::BadRequestError` related to a malformed query like [this one](https://sentry.gitlab.net/gitlab/customersstggitlabcom/issues/2527191/?environment=stg\u0026referrer=alert_email):\n\n```\nBody: {\"detail\"=\u003e{\"MalformedQueryFault\"=\u003e{\"FaultMessage\"=\u003e\"invalid field for query: Subscription.end_customer_details__c\", \"FaultCode\"=\u003e\"INVALID_FIELD\"}}, \"faultcode\"=\u003e\"fns:INVALID_FIELD\", \"faultstring\"=\u003e\"invalid field for query: Subscription.end_customer_details__c\"}\n```\n\nThe majority of the `IronBank::BadRequestError` errors we've seen are related to above, but there is [one other error](https://sentry.gitlab.net/gitlab/customersstggitlabcom/issues/2527106/?query=is%3Aunresolved%20invalid%20field%20for%20query) we've seen related to another field `Invoice.currencyexchangerate__c`:\n\n```\nIronBank::BadRequestError: Body: {\"detail\"=\u003e{\"MalformedQueryFault\"=\u003e{\"FaultMessage\"=\u003e\"invalid field for query: Invoice.currencyexchangerate__c\", \"FaultCode\"=\u003e\"INVALID_FIELD\"}}, \"faultcode\"=\u003e\"fns:INVALID_FIELD\", \"faultstring\"=\u003e\"invalid field for query: Invoice.currencyexchangerate__c\"}\n```\n\n### Proposal\n\nFix the schema for Zuora Sandbox.  It looks like the custom field was renamed in Zuora Sandbox but we have to match that in our schema.  If we don't use that field in our codebase, then the better fix might be to remove it from our schema in case it changes again.\n\n### Result\n\nThis should fix many errors we're seeing in stg at the moment.\n\n### Next steps (if any)\n\nLong term it would be good to notify the Fulfillment team before  custom field changes are made in Zuora production or sandbox.","state":"closed","created_at":"2021-03-12T20:21:27.817Z","updated_at":"2021-07-01T05:05:08.630Z","closed_at":"2021-03-18T02:23:30.409Z","closed_by":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"labels":["backend","devops::fulfillment","section::fulfillment","type::bug","workflow::production"],"milestone":{"id":1233761,"iid":57,"group_id":9970,"title":"13.10","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.646Z","updated_at":"2022-04-21T07:22:00.171Z","due_date":"2021-03-17","start_date":"2021-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/57"},"assignees":[{"id":3716529,"username":"jagood","name":"Jason Goodman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6696c95a1788e2d4bee67df636805ecc?s=80\u0026d=identicon","web_url":"https://gitlab.com/jagood"},{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},{"id":4717243,"username":"a_luna","name":"Amparo Luna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4717243/avatar.png","web_url":"https://gitlab.com/a_luna"}],"author":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"type":"ISSUE","assignee":{"id":3716529,"username":"jagood","name":"Jason Goodman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6696c95a1788e2d4bee67df636805ecc?s=80\u0026d=identicon","web_url":"https://gitlab.com/jagood"},"user_notes_count":3,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/2825","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/2825","notes":"https://gitlab.com/api/v4/projects/2670515/issues/2825/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/2825/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#2825","relative":"#2825","full":"gitlab-org/customers-gitlab-com#2825"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":80788724,"iid":2822,"project_id":2670515,"title":"EoA: Subscription did not renew with the new product name","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n### Problem\n\nCustomer renewed their Silver subscription, but the name of the subscription did not change to the new product name. \n\n### Proposal\n\nAll renewals after Jan 26 should renew with the new product names.\n\n### Reported examples\n\n1. https://gitlab.zendesk.com/agent/tickets/198984\n1. https://gitlab.zendesk.com/agent/tickets/200391 (note: I had to do a [force associate](https://gitlab.com/gitlab-com/support/internal-requests/-/issues/5182) for this one)\n\n### Once completed...\n\n- [x] @tgolubeva to follow up in https://gitlab.com/gitlab-com/business-ops/enterprise-apps/intake/-/issues/160#note_530913862","state":"closed","created_at":"2021-03-12T11:19:13.765Z","updated_at":"2022-06-28T23:24:17.318Z","closed_at":"2021-04-13T19:50:04.941Z","closed_by":{"id":3614911,"username":"rcobb","name":"Ryan Cobb","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7047b7014264f07daf9836e55fc5ef4c?s=80\u0026d=identicon","web_url":"https://gitlab.com/rcobb"},"labels":["Category:Purchase","Deliverable","Priority Project","backend","customer","devops::fulfillment","group::purchase","section::fulfillment","type::bug","workflow::verification"],"milestone":{"id":1406669,"iid":59,"group_id":9970,"title":"13.11","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-08-13T14:23:09.688Z","updated_at":"2022-04-21T07:22:08.835Z","due_date":"2021-04-17","start_date":"2021-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/59"},"assignees":[{"id":3614911,"username":"rcobb","name":"Ryan Cobb","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7047b7014264f07daf9836e55fc5ef4c?s=80\u0026d=identicon","web_url":"https://gitlab.com/rcobb"}],"author":{"id":4665308,"username":"doniquesmit","name":"Donique Smit","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c5737881c65a3063443d7692dfe04f4a?s=80\u0026d=identicon","web_url":"https://gitlab.com/doniquesmit"},"type":"ISSUE","assignee":{"id":3614911,"username":"rcobb","name":"Ryan Cobb","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7047b7014264f07daf9836e55fc5ef4c?s=80\u0026d=identicon","web_url":"https://gitlab.com/rcobb"},"user_notes_count":26,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/2822","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":1},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/2822","notes":"https://gitlab.com/api/v4/projects/2670515/issues/2822/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/2822/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#2822","relative":"#2822","full":"gitlab-org/customers-gitlab-com#2822"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":80756619,"iid":2821,"project_id":2670515,"title":"Assign appropriate Zuora batch for self-service Community subscriptions","description":"## Summary\n\nIn https://gitlab.com/groups/gitlab-org/-/epics/5068 we are introducing the ability for community program participants to self checkout. Under the current manual bookings process, the billing team is manually assigning community subscriptions to `Batch50` in Zuora. Since we are automating the booking process, we need to automate this batch assignment as well.\n\n\n## Proposal\n\nAs per [this comment](https://gitlab.com/gitlab-com/marketing/community-relations/community-operations/community-operations/-/issues/63#note_527588922) from our billing manager, we need to make sure that subscription created during this process as assigned to `Batch50` in Zuora.","state":"closed","created_at":"2021-03-11T21:37:41.719Z","updated_at":"2021-06-28T14:58:17.353Z","closed_at":"2021-06-03T00:06:39.229Z","closed_by":{"id":3614911,"username":"rcobb","name":"Ryan Cobb","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7047b7014264f07daf9836e55fc5ef4c?s=80\u0026d=identicon","web_url":"https://gitlab.com/rcobb"},"labels":["Category:Purchase","[deprecated] 🍎","backend","devops::fulfillment","group::purchase","missed:13.12","section::fulfillment","type::feature","workflow::verification"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":3614911,"username":"rcobb","name":"Ryan Cobb","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7047b7014264f07daf9836e55fc5ef4c?s=80\u0026d=identicon","web_url":"https://gitlab.com/rcobb"}],"author":{"id":2890431,"username":"amandarueda","name":"Amanda Rueda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2890431/avatar.png","web_url":"https://gitlab.com/amandarueda"},"type":"ISSUE","assignee":{"id":3614911,"username":"rcobb","name":"Ryan Cobb","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7047b7014264f07daf9836e55fc5ef4c?s=80\u0026d=identicon","web_url":"https://gitlab.com/rcobb"},"user_notes_count":10,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/2821","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/2821","notes":"https://gitlab.com/api/v4/projects/2670515/issues/2821/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/2821/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#2821","relative":"#2821","full":"gitlab-org/customers-gitlab-com#2821"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5712,"epic":{"id":244558,"iid":5712,"title":"Community Programs - New Subscription","url":"/groups/gitlab-org/-/epics/5712","group_id":9970,"human_readable_end_date":"Mar 22, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":80752554,"iid":2820,"project_id":2670515,"title":"Follow-up from \"Remove gitlab sync from subscriptions#update\"","description":"The following discussion from !2886 should be addressed:\n\n- [ ] @cwiesner started a [discussion](https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/2886#note_527348783):  (+2 comments)\n\n    \u003e **suggestion (non-blocking):** A nice follow-up could be using a named subject throughout this file. Although I keep seeing the use of `subject` within controller specs in GitLab as well. Am I maybe missing something and we're not supposed to use in in them? :thinking: :shrug_tone1:","state":"closed","created_at":"2021-03-11T19:54:50.409Z","updated_at":"2021-03-22T16:10:10.233Z","closed_at":"2021-03-22T16:10:10.095Z","closed_by":{"id":5667561,"username":"vshumilo","name":"Vladlena Shumilo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08dfa82785d130c151ab9e21caeab4e3?s=80\u0026d=identicon","web_url":"https://gitlab.com/vshumilo"},"labels":["[deprecated] Category:Provision","backend","devops::fulfillment","group::provision","section::fulfillment","workflow::in dev"],"milestone":{"id":1406669,"iid":59,"group_id":9970,"title":"13.11","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-08-13T14:23:09.688Z","updated_at":"2022-04-21T07:22:08.835Z","due_date":"2021-04-17","start_date":"2021-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/59"},"assignees":[{"id":5667561,"username":"vshumilo","name":"Vladlena Shumilo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08dfa82785d130c151ab9e21caeab4e3?s=80\u0026d=identicon","web_url":"https://gitlab.com/vshumilo"}],"author":{"id":5667561,"username":"vshumilo","name":"Vladlena Shumilo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08dfa82785d130c151ab9e21caeab4e3?s=80\u0026d=identicon","web_url":"https://gitlab.com/vshumilo"},"type":"ISSUE","assignee":{"id":5667561,"username":"vshumilo","name":"Vladlena Shumilo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08dfa82785d130c151ab9e21caeab4e3?s=80\u0026d=identicon","web_url":"https://gitlab.com/vshumilo"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/2820","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/2820","notes":"https://gitlab.com/api/v4/projects/2670515/issues/2820/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/2820/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#2820","relative":"#2820","full":"gitlab-org/customers-gitlab-com#2820"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":80711997,"iid":2815,"project_id":2670515,"title":"Follow-up from \"Implement additional logging when expiring orders\"","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n### Problem\nIn !2915 a [discussion](https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/2915#note_526425953) (+2 comments) about why there is a `#to_param` and `#to_i` being called on a parameter ([here](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/4809f88aef0442d6f5e79f6b0b407167ba14d541/app/jobs/expire_order_job.rb#L9)) that is only passed in as an Integer ([here](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/4809f88aef0442d6f5e79f6b0b407167ba14d541/app/jobs/expire_order_cron_job.rb#L18)). It turned out that this was recently changed in https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/2303#note_467690097 to meet Sidekiq's best practices. Any remaining jobs during the deploy had to be supported then and therefore this was still needed.\n\n### Proposal\nSince there is only one usage where an Integer is being passed in and all jobs the `ExpireOrderJob` class are processed (no retires left as well), we can remove the `#to_param` and `#to_i`. The `#to_i` is also not needed since `.find_by_id` handles this anyway:\n\n```\n[2] pry(main)\u003e Order.find_by_id(1)\nOrder Load (0.4ms)  SELECT  \"orders\".* FROM \"orders\" WHERE \"orders\".\"id\" = $1 LIMIT $2  [[\"id\", 1], [\"LIMIT\", 1]]\n[3] pry(main)\u003e Order.find_by_id(nil)\nOrder Load (0.3ms)  SELECT  \"orders\".* FROM \"orders\" WHERE \"orders\".\"id\" IS NULL LIMIT $1  [[\"LIMIT\", 1]]\n[4] pry(main)\u003e Order.find_by_id(\"\")\nOrder Load (0.4ms)  SELECT  \"orders\".* FROM \"orders\" WHERE \"orders\".\"id\" = $1 LIMIT $2  [[\"id\", nil], [\"LIMIT\", 1]]\n[5] pry(main)\u003e Order.find_by_id(\"a-string\")\nOrder Load (0.4ms)  SELECT  \"orders\".* FROM \"orders\" WHERE \"orders\".\"id\" = $1 LIMIT $2  [[\"id\", 0], [\"LIMIT\", 1]]\n[6] pry(main)\u003e Order.find_by_id(\"1\")\nOrder Load (0.4ms)  SELECT  \"orders\".* FROM \"orders\" WHERE \"orders\".\"id\" = $1 LIMIT $2  [[\"id\", 1], [\"LIMIT\", 1]]\n```\n\n### Result\nRemove unnecessary method calls and therefore clean up the code and avoid possible confusion.","state":"closed","created_at":"2021-03-11T11:21:16.260Z","updated_at":"2021-10-28T13:59:03.007Z","closed_at":"2021-07-21T07:07:21.310Z","closed_by":{"id":4192493,"username":"ebaque","name":"Etienne Baqué","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4192493/avatar.png","web_url":"https://gitlab.com/ebaque"},"labels":["[deprecated] Category:Utilization","[deprecated] 🍎","backend","devops::fulfillment","group::utilization","maintenance::refactor","missed:14.1","quad-planning::complete-no-action","section::fulfillment","type::maintenance","workflow::in review"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":4192493,"username":"ebaque","name":"Etienne Baqué","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4192493/avatar.png","web_url":"https://gitlab.com/ebaque"}],"author":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"type":"ISSUE","assignee":{"id":4192493,"username":"ebaque","name":"Etienne Baqué","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4192493/avatar.png","web_url":"https://gitlab.com/ebaque"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/2815","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/2815","notes":"https://gitlab.com/api/v4/projects/2670515/issues/2815/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/2815/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#2815","relative":"#2815","full":"gitlab-org/customers-gitlab-com#2815"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":80664252,"iid":2812,"project_id":2670515,"title":"Cloud License: Skip user limit validation when saving cloud licenses","description":"### Problem\n\nAs mentioned in https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/2801, between the time a customer purchases a new SM subscription and the customer activates the license in the SM instance, there is potential for the number of active users in the SM instance to increase.\n\nCurrently, when (legacy) licenses are applied to new SM instances (e.g. instances without historical user data), if the instance tries to apply a license for `X` number of users, but the instance has more than `X * 1.1` (where the user overage exceeds 10%), then the license can’t be applied. 10% is the allowed user overage for new/non-renewal subscriptions (defined [here](https://gitlab.com/gitlab-org/gitlab/blob/25536b04c0c42e250a9d4319eeff7b1d892d47a5/ee/app/models/license.rb#L616)).\n\nThis will be a problem for cloud license activation. Let's say a cloud license is purchased for 10 users, but when the customer gets around to activating the license with the code they received in an email, the number active users on their instance is 15. This would exceed the 10% overage allowance and the license would [fail validation](https://gitlab.com/gitlab-org/gitlab/blob/25536b04c0c42e250a9d4319eeff7b1d892d47a5/ee/app/models/license.rb#L619).\n\n### Proposal\n\nThe simplest solution to this problem is to skip the user limit validation for cloud licenses and save them regardless of whether the instance is over the user overage allowance for the license. The customer would pay for the increased users at the quarterly reconciliation.  \n\nThis also solves the problem for on-going license updates along the lifespan of the cloud license.  Because we will be applying new licenses records during the license sync workflow (even after activation), this will allow the license to be applied even if the license count is lower than the current active user count.","state":"closed","created_at":"2021-03-10T18:43:04.363Z","updated_at":"2021-03-10T18:54:22.375Z","closed_at":"2021-03-10T18:54:22.265Z","closed_by":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"labels":["Cloud Licensing","[deprecated] Category:Provision","backend","devops::fulfillment","group::provision","section::fulfillment","workflow::ready for development"],"milestone":{"id":1233761,"iid":57,"group_id":9970,"title":"13.10","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.646Z","updated_at":"2022-04-21T07:22:00.171Z","due_date":"2021-03-17","start_date":"2021-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/57"},"assignees":[{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"}],"author":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"type":"ISSUE","assignee":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/2812","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/2812","notes":"https://gitlab.com/api/v4/projects/2670515/issues/2812/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/2812/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#2812","relative":"#2812","full":"gitlab-org/customers-gitlab-com#2812"},"severity":"UNKNOWN","moved_to_id":80664712,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":80592442,"iid":2805,"project_id":2670515,"title":"Drop :sync_plan_to_gitlab_from_controller feature flag","description":"### SUMMARY\n\nWe want to remove GitLab plan syncs from the subscriptions `create` and `update` controller actions.\n\nThis removal will be behind a feature flag that will be off by default:\n\n```ruby\nif Unleash.enabled?(:sync_plan_to_gitlab_from_controller)\n  # Code we want to remove that handles syncing the plan to gitlab\n  Gitlab::Namespaces::UpdatePlanInfoService.new(order, force_sync: true).execute_async\nend\n```\n\nThis feature flag will be disabled by default and only there as a safety net in case we want to \"recover\" the code.\n\nIt is our expectations that we never have to turn on this flag and that given a reasonable amount of time (TBD) we consider it is safe to entirely remove the code and the flag. This issue is to track this.","state":"closed","created_at":"2021-03-09T22:39:59.432Z","updated_at":"2021-06-04T04:14:00.282Z","closed_at":"2021-06-04T04:14:00.267Z","closed_by":{"id":4717243,"username":"a_luna","name":"Amparo Luna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4717243/avatar.png","web_url":"https://gitlab.com/a_luna"},"labels":["[deprecated] Category:Provision","[deprecated] 🍎","backend","devops::fulfillment","feature flag","group::provision","section::fulfillment","workflow::verification"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":4717243,"username":"a_luna","name":"Amparo Luna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4717243/avatar.png","web_url":"https://gitlab.com/a_luna"}],"author":{"id":5667561,"username":"vshumilo","name":"Vladlena Shumilo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08dfa82785d130c151ab9e21caeab4e3?s=80\u0026d=identicon","web_url":"https://gitlab.com/vshumilo"},"type":"ISSUE","assignee":{"id":4717243,"username":"a_luna","name":"Amparo Luna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4717243/avatar.png","web_url":"https://gitlab.com/a_luna"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/2805","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/2805","notes":"https://gitlab.com/api/v4/projects/2670515/issues/2805/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/2805/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#2805","relative":"#2805","full":"gitlab-org/customers-gitlab-com#2805"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5836,"epic":{"id":255713,"iid":5836,"title":"Feature Flags Review and Follow Up","url":"/groups/gitlab-org/-/epics/5836","group_id":9970,"human_readable_end_date":"Sep 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":80560012,"iid":2802,"project_id":2670515,"title":"User can't reenter new card information if card has insufficient funds","description":"### Summary\n\nWhen the entered card has insufficient funds, the user can't reenter another card information without refreshing the page.\n\n### Steps to reproduce\n\n1. Go to a purchase page (e.g. buy more CI minutes)\n1. Enter a card that will produce insufficient funds error (e.g. `4000000000009995`)\n1. Notice the error is shown at the top of the page\n1. Notice adding a new card iframe isn't refreshed to allow the user to enter a new card\n\n\n**Note:** the error is not being sent as other errors like \"enter a card with a future date\".\n\n### What is the current *bug* behavior?\n\nNew a card iframe doesn't refresh and stays on\n\n### What is the expected *correct* behavior?\n\nThe new card iframe should be refreshed allowing the user to enter a new card.\n\n### Relevant logs and/or screenshots\n\n![Screen_Shot_2021-03-09_at_17.19.55](/uploads/bc7f784279d895b137334e45b9f3b11d/Screen_Shot_2021-03-09_at_17.19.55.png)\n\n### Workarounds\n\nRefresh the page","state":"closed","created_at":"2021-03-09T14:21:21.208Z","updated_at":"2022-03-10T07:07:01.139Z","closed_at":"2022-03-10T07:07:01.126Z","closed_by":{"id":127064,"username":"aalakkad","name":"Ammar Alakkad","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ecc1130ce340f5080afd8f2c9962948a?s=80\u0026d=identicon","web_url":"https://gitlab.com/aalakkad"},"labels":["Category:Purchase","auto updated","devops::fulfillment","frontend","group::purchase","priority::4","section::fulfillment","type::bug","workflow::refinement"],"milestone":{"id":1212252,"iid":48,"group_id":9970,"title":"Next 1-3 releases","description":"Issues which are not quite ready to schedule, but should be considered as part of the near-term roadmap.","state":"active","created_at":"2020-03-26T20:39:10.889Z","updated_at":"2020-03-26T20:39:10.889Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/48"},"assignees":[],"author":{"id":127064,"username":"aalakkad","name":"Ammar Alakkad","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ecc1130ce340f5080afd8f2c9962948a?s=80\u0026d=identicon","web_url":"https://gitlab.com/aalakkad"},"type":"ISSUE","assignee":null,"user_notes_count":25,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/2802","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/2802","notes":"https://gitlab.com/api/v4/projects/2670515/issues/2802/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/2802/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#2802","relative":"#2802","full":"gitlab-org/customers-gitlab-com#2802"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":80556872,"iid":2800,"project_id":2670515,"title":"Allow to retry submitting in upgrade/renew page when there's a payment error","description":"### Summary\n\nOn the upgrade page, if the user entered an invalid/expired card the submit button will remain disabled preventing the user from updating the card details and submitting again.\n\n### Steps to reproduce\n\n1. Go to subscription upgrade/renew page\n2. Choose add a new card\n3. Enter card details with an expired date (e.g. 01/01/2021)\n4. Hit submit\n5. Notice the error at the top of the page\n6. Notice the submit button is still disabled, the user can't adjust the card details and need to refresh the page to proceed with the upgrade.\n\n### What is the current *bug* behavior?\n\nAfter submitting an invalid credit card the submit button is disabled, not allowing the user to retry.\n\n### What is the expected *correct* behavior?\n\nWhen there's an error in the payment methods, the submit button should be enabled to allow retrying.\n\n### Relevant logs and/or screenshots\n\n![Screen_Shot_2021-03-09_at_16.37.58](/uploads/c519994c4ba750d273586a51fa86e156/Screen_Shot_2021-03-09_at_16.37.58.png)\n\n### Workarounds\n\nRefreshing the page.\n\n# TODO\n\n- Remove the [`!this.errorMessage`](https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/2591/diffs#995e8151c13e03c9af3ab9e2d2cbe613b2d96ee0_126_126) block that prevents the submit button from being enabled in Upgrade and Renew","state":"closed","created_at":"2021-03-09T13:42:49.997Z","updated_at":"2021-11-26T18:06:47.267Z","closed_at":"2021-11-26T18:06:47.239Z","closed_by":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"labels":["Category:Purchase","[deprecated] 🍎","devops::fulfillment","frontend","group::purchase","missed:13.12","missed:14.1","section::fulfillment","type::bug","workflow::staging"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"}],"author":{"id":127064,"username":"aalakkad","name":"Ammar Alakkad","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ecc1130ce340f5080afd8f2c9962948a?s=80\u0026d=identicon","web_url":"https://gitlab.com/aalakkad"},"type":"ISSUE","assignee":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"user_notes_count":21,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/2800","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/2800","notes":"https://gitlab.com/api/v4/projects/2670515/issues/2800/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/2800/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#2800","relative":"#2800","full":"gitlab-org/customers-gitlab-com#2800"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":80519404,"iid":2796,"project_id":2670515,"title":"Order total and price not correctly updated after quantity entered","description":"### Summary\n\nThere's a [race condition](https://en.wikipedia.org/wiki/Race_condition) occurring in purchase pages (e.g. CI minutes and storage), the problem is happening mostly on our e2e tests but it could happen to our users.\n\n### Proposal\n\nIn purchase pages, debounce HTTP requests that are triggered by user input (e.g. change seats count).\n\nIntroducing the debounce might increase our bundle size a bit (or a few bytes) but it will prevent the race condition from happening, which help with:\n\n1. Our tests will fail less often\n1. Our users won't encounter strange UX behavior in the total price changing unexpectedly\n\n**Note:** since the problem is happening on multiple pages, we want to implement a holistic solution for all pages.\n\n### Details\n\nHere's an example of order total and price not correctly updated after quantity entered: \n\n![image](/uploads/cb9f15d649ee7076a6677728b3ed7a8e/image.png)\n\n### Steps to reproduce\n\nSeems to be intermittently failure in pipeline. More investigation needed.\n\n### Reported examples\n\n1. https://gitlab.com/gitlab-org/customers-gitlab-com/-/jobs/1080777644\n1. https://gitlab.com/gitlab-org/customers-gitlab-com/-/jobs/1084970324\n1.\n\n\u003c!---\nPlease add both severity and priority level according to: https://docs.gitlab.com/ee/development/contributing/issue_workflow.html#severity-labels\n---\u003e","state":"closed","created_at":"2021-03-09T00:59:59.575Z","updated_at":"2021-10-12T13:27:10.778Z","closed_at":"2021-10-12T13:27:10.757Z","closed_by":{"id":5803275,"username":"chloeliu","name":"Chloe Liu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5803275/avatar.png","web_url":"https://gitlab.com/chloeliu"},"labels":["Category:Purchase","Eng-Consumer::Quality","Eng-Producer::Development","Engineering Allocation","Quality","Quality:e2e-test","devops::fulfillment","group::purchase","needs investigation","section::fulfillment","staging::failed","type::bug"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":5803275,"username":"chloeliu","name":"Chloe Liu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5803275/avatar.png","web_url":"https://gitlab.com/chloeliu"}],"author":{"id":5803275,"username":"chloeliu","name":"Chloe Liu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5803275/avatar.png","web_url":"https://gitlab.com/chloeliu"},"type":"ISSUE","assignee":{"id":5803275,"username":"chloeliu","name":"Chloe Liu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5803275/avatar.png","web_url":"https://gitlab.com/chloeliu"},"user_notes_count":36,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/2796","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/2796","notes":"https://gitlab.com/api/v4/projects/2670515/issues/2796/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/2796/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#2796","relative":"#2796","full":"gitlab-org/customers-gitlab-com#2796"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":80456382,"iid":2792,"project_id":2670515,"title":"Create documentation explaining custom auto renew","description":"As part of the [Custom Auto Renew](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/2081), create a document explaining the reason and the process behind the Custom Auto Renew. \n\nIt should explain the use, how the implementation and also the fallback strategy behind the Custom Auto Renew.","state":"closed","created_at":"2021-03-08T10:04:03.418Z","updated_at":"2021-03-24T15:41:40.849Z","closed_at":"2021-03-12T10:16:28.389Z","closed_by":{"id":4903695,"username":"shreyasagarwal","name":"Shreyas Agarwal","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d5b09dfe06a10d119c1b2043c43de680?s=80\u0026d=identicon","web_url":"https://gitlab.com/shreyasagarwal"},"labels":["backend","devops::fulfillment","documentation","section::fulfillment","workflow::production"],"milestone":{"id":1233761,"iid":57,"group_id":9970,"title":"13.10","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.646Z","updated_at":"2022-04-21T07:22:00.171Z","due_date":"2021-03-17","start_date":"2021-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/57"},"assignees":[{"id":4903695,"username":"shreyasagarwal","name":"Shreyas Agarwal","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d5b09dfe06a10d119c1b2043c43de680?s=80\u0026d=identicon","web_url":"https://gitlab.com/shreyasagarwal"}],"author":{"id":4903695,"username":"shreyasagarwal","name":"Shreyas Agarwal","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d5b09dfe06a10d119c1b2043c43de680?s=80\u0026d=identicon","web_url":"https://gitlab.com/shreyasagarwal"},"type":"ISSUE","assignee":{"id":4903695,"username":"shreyasagarwal","name":"Shreyas Agarwal","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d5b09dfe06a10d119c1b2043c43de680?s=80\u0026d=identicon","web_url":"https://gitlab.com/shreyasagarwal"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/2792","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/2792","notes":"https://gitlab.com/api/v4/projects/2670515/issues/2792/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/2792/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#2792","relative":"#2792","full":"gitlab-org/customers-gitlab-com#2792"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":80287858,"iid":2788,"project_id":2670515,"title":"ProServ Training Per-Seat Add-on SKU","description":"# SKU Request Summary\n\n\u003c!---\nProvide a brief description of what this SKU will be used for.\n---\u003e\n\n\n\n## SKU Requirements\n\nIn order to expedite your request, please complete all of the following information.\nAny questions about this template or this request can be directed to @amandarueda in the comments of this issue.\n\n* [x] SKU Name: ProServ Training Per-Seat Add-on\n* [x] SKU Code/ID: [ProServ Training Per-Seat Add-on](https://docs.google.com/spreadsheets/d/1tOGWs86qtiT7p_21qBI_sJCTWWKJKVmj7pIV9lmr6H4/edit?usp=sharing)\n* [x] Zuora Plan Name: [ProServ Training Per-Seat Add-on](https://docs.google.com/spreadsheets/d/1tOGWs86qtiT7p_21qBI_sJCTWWKJKVmj7pIV9lmr6H4/edit?usp=sharing)\n* [x] Zuora Plan ID: [ProServ Training Per-Seat Add-on](https://docs.google.com/spreadsheets/d/1tOGWs86qtiT7p_21qBI_sJCTWWKJKVmj7pIV9lmr6H4/edit?usp=sharing)\n* [ ] Service type: `add-on`\n* [x] Does this need to be purchase-able via CustomersDot? `No`\n* [x] Does this service renew? `No`\n     * [ ] If yes, what is the renewal cadence? `monthly | annually | other`\n* [x] Should an email be sent indicating the subscription is coming to an end?: `No`\n* [x] Is there a unit of measure, if so what? ` Yes`  `Education Service`\n* [x] Does this service provision anything? `other`\n     * [ ] If yes, please describe in detail what should be provisioned including the systems affected:\n* [x] How soon do you need this SKU ? Timeline: As soon as possible\n* [x] Who in Sales-Ops approved this request: @c.yoshida \n* [x] Link to originating Finance issue: https://gitlab.com/gitlab-com/Finance-Division/finance/-/issues/3676\n* [ ] Apply the appropriate `BTG Priority` label to this issue.","state":"closed","created_at":"2021-03-04T23:30:16.614Z","updated_at":"2022-03-07T20:52:44.926Z","closed_at":"2021-04-12T16:14:05.979Z","closed_by":{"id":2890431,"username":"amandarueda","name":"Amanda Rueda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2890431/avatar.png","web_url":"https://gitlab.com/amandarueda"},"labels":["Category:Purchase","EntApp Ecosystem","SKU","backend","devops::fulfillment","group::purchase","quad-planning::complete-no-action","section::fulfillment","workflow::production"],"milestone":{"id":1406669,"iid":59,"group_id":9970,"title":"13.11","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-08-13T14:23:09.688Z","updated_at":"2022-04-21T07:22:08.835Z","due_date":"2021-04-17","start_date":"2021-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/59"},"assignees":[{"id":4098809,"username":"qzhaogitlab","name":"Qingyu Zhao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4098809/avatar.png","web_url":"https://gitlab.com/qzhaogitlab"}],"author":{"id":4668878,"username":"c.yoshida","name":"Christine Yoshida","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4668878/avatar.png","web_url":"https://gitlab.com/c.yoshida"},"type":"ISSUE","assignee":{"id":4098809,"username":"qzhaogitlab","name":"Qingyu Zhao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4098809/avatar.png","web_url":"https://gitlab.com/qzhaogitlab"},"user_notes_count":14,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2021-03-12","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/2788","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":16,"completed_count":12},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/2788","notes":"https://gitlab.com/api/v4/projects/2670515/issues/2788/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/2788/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#2788","relative":"#2788","full":"gitlab-org/customers-gitlab-com#2788"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":80233355,"iid":2782,"project_id":2670515,"title":"Cleanup old trials controller and views","description":"### Problem\n\nI noticed we have some views related to `trials` not being used.\n\n- `app/views/trials/new.html.haml`\n- `app/views/trials/_simple_gitlab_com_trial_form.html.haml`\n\n### Proposal\n\nConfirm it's not being used and delete related code (e.g. controller, routes, views, etc.)\n\n### Next steps (if any)","state":"closed","created_at":"2021-03-04T09:25:34.081Z","updated_at":"2023-03-17T15:46:57.207Z","closed_at":"2023-03-17T15:46:56.919Z","closed_by":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"labels":["[deprecated] Category:Billing and Subscription Management","auto updated","automation:prevent-auto-close","backend","devops::fulfillment","frontend","group::billing and subscription management","maintenance::refactor","section::fulfillment","type::maintenance"],"milestone":{"id":427855,"iid":11,"group_id":9970,"title":"Next 4-7 releases","description":"Bigger issues we plan to ship in the next 4-7 releases, but don't have a designated release yet. \r\n\r\nDO NOT add small changes, bugs, regressions to this milestone.","state":"active","created_at":"2017-12-11T16:26:55.828Z","updated_at":"2018-08-17T11:09:43.594Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/11"},"assignees":[],"author":{"id":127064,"username":"aalakkad","name":"Ammar Alakkad","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ecc1130ce340f5080afd8f2c9962948a?s=80\u0026d=identicon","web_url":"https://gitlab.com/aalakkad"},"type":"ISSUE","assignee":null,"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/2782","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/2782","notes":"https://gitlab.com/api/v4/projects/2670515/issues/2782/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/2782/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":"https://gitlab.com/api/v4/projects/2670515/issues/3530"},"references":{"short":"#2782","relative":"#2782","full":"gitlab-org/customers-gitlab-com#2782"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":80225356,"iid":2781,"project_id":2670515,"title":"Remove font awesome icons and replace them with gitlab-ui SVGs","description":"## Description\n\nAt the moment **we're loading the Font Awesome CSS for only one icon** in the invoices view:\n\n| Screenshot | Description|\n| --- | --- |\n| ![Screenshot_2021-03-06_at_05.49.40](/uploads/37be0b3b691beb3975aba38810ba85f2/Screenshot_2021-03-06_at_05.49.40.png) | Empty state of invoices view (there are no invoices to display) |\n\nThis is a `6.5kB` http request to a 3rd party URL that we can avoid:\n\n![Screenshot_2021-03-04_at_10.03.34](/uploads/b14597ea1b55ffd85537de54b21290f5/Screenshot_2021-03-04_at_10.03.34.png)\n\n## Suggested optimization\n\nWe should replace this icon with [the info SVG we already have](https://gitlab.com/gitlab-org/customers-gitlab-com/blob/cbded25ee79e137cd795ce3d88b5394c4092e083/app/views/shared/svg/_information_o.svg). \n\n## font-awesome usage in the customers-gitlab-com project\n\n| Type | RegEx used | Place(s) used |\n| --- | --- | --- |\n| Library CSS import | | https://gitlab.com/gitlab-org/customers-gitlab-com/blob/1cf439b58cbd13466d270baa23aa6ee01e790709/app/views/layouts/application.html.haml#L12 |\n| HAML usage | `[ \"\\.]fa[ \"\\.]` | https://gitlab.com/gitlab-org/customers-gitlab-com/blob/7cb5d6b61a25194be52c5a7416bf2225412b1c12/app/views/invoices/index.html.haml#L27 |\n| SCSS usage | `\\.fa[-\\.]+` | https://gitlab.com/gitlab-org/customers-gitlab-com/blob/1593ae6ea0837ecf2236e6df4c097542b81df84e/app/assets/stylesheets/main.scss#L183 |","state":"closed","created_at":"2021-03-04T08:04:19.919Z","updated_at":"2021-10-12T15:41:28.961Z","closed_at":"2021-10-12T15:41:28.948Z","closed_by":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"labels":["Category:Purchase","Unplanned","[deprecated] 🍎","devops::fulfillment","frontend","group::purchase","maintenance::refactor","missed:13.11","section::fulfillment","workflow::production"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"}],"author":{"id":4737352,"username":"astoicescu","name":"Andrei Stoicescu","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4737352/avatar.png","web_url":"https://gitlab.com/astoicescu"},"type":"ISSUE","assignee":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"user_notes_count":18,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/2781","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/2781","notes":"https://gitlab.com/api/v4/projects/2670515/issues/2781/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/2781/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#2781","relative":"#2781","full":"gitlab-org/customers-gitlab-com#2781"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":80174659,"iid":2777,"project_id":2670515,"title":"Upgrade subscription not showing payment method errors","description":"### Problem\n\nWhen upgrading a subscription (new upgrade app), if an invalid credit card is entered and the page is submitted, the error received from the backend is not shown properly on the frontend.\n\n![Screen_Shot_2021-03-03_at_16.22.17](/uploads/4b329a6d06232f780dcd85c267031235/Screen_Shot_2021-03-03_at_16.22.17.png)\n\nIn the example above I submitted the page without entering the credit card data (the same happened when entering an expired credit card).\n\nI tested the same scenario on the renew subscription page and the error doesn't exist there, it was showing the backend error correctly.","state":"closed","created_at":"2021-03-03T13:26:03.565Z","updated_at":"2021-03-10T00:36:44.665Z","closed_at":"2021-03-09T08:18:16.519Z","closed_by":{"id":447038,"username":"vitallium","name":"Vitaly Slobodin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/74b3243cfcfbfac1f022b78ab505e8d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/vitallium"},"labels":["Category:Purchase","Unplanned","devops::fulfillment","frontend","group::purchase","section::fulfillment","severity::2","type::bug","workflow::production"],"milestone":{"id":1233761,"iid":57,"group_id":9970,"title":"13.10","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.646Z","updated_at":"2022-04-21T07:22:00.171Z","due_date":"2021-03-17","start_date":"2021-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/57"},"assignees":[{"id":447038,"username":"vitallium","name":"Vitaly Slobodin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/74b3243cfcfbfac1f022b78ab505e8d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/vitallium"}],"author":{"id":127064,"username":"aalakkad","name":"Ammar Alakkad","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ecc1130ce340f5080afd8f2c9962948a?s=80\u0026d=identicon","web_url":"https://gitlab.com/aalakkad"},"type":"ISSUE","assignee":{"id":447038,"username":"vitallium","name":"Vitaly Slobodin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/74b3243cfcfbfac1f022b78ab505e8d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/vitallium"},"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/2777","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/2777","notes":"https://gitlab.com/api/v4/projects/2670515/issues/2777/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/2777/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#2777","relative":"#2777","full":"gitlab-org/customers-gitlab-com#2777"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":80143679,"iid":2776,"project_id":2670515,"title":"Self-instance with a valid premium license is using the free plan name","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"bug\" label in relevant trackers:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n- https://gitlab.com/gitlab-org/customers-gitlab-com/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n\nDo not include confidential information!\n---\u003e\n\n### Summary\n\nSelf-managed instance with a license shows `free` as their `actual_plan` object, instead of the `default` plan object.\n\n### Steps to reproduce\n\nUnknown currently. I'm only aware [that the customer that has been affected](https://gitlab.zendesk.com/agent/tickets/196781) (internal link) has had the instance for a very long time (~2+ years).\n\n### What is the current *bug* behavior?\n\nPerforming any changes to the `default` plan object does not work when raising application limits.\n\n### What is the expected *correct* behavior?\n\nPerforming changes to the `default` plan object should work when raising application limits.\n\n### Relevant logs and/or screenshots\n\n```\nirb(main):001:0\u003e project = Project.find_by_full_path(\"group/project\")\n=\u003e #\u003cProject id:1234 group/project\u003e\u003e\nirb(main):002:0\u003e pp project.actual_plan_name\n\"free\"\n```\n\nThe `free` plan is returned for all projects and groups, newly created, or existing ones. Expected was the `default` plan.\n\n```\nirb(main):003:0\u003e pp Gitlab.com? \nfalse \n```\n\n### Workarounds\n\n(Ways to get around the issue)\n\nApplication limits can be updated on the `free` plan object instead of the `default` one.\n\n### Reported examples\n\n1. https://gitlab.zendesk.com/agent/tickets/196781 (internal link)\n\n\u003c!---\nPlease add both severity and priority level according to: https://docs.gitlab.com/ee/development/contributing/issue_workflow.html#severity-labels\n---\u003e","state":"closed","created_at":"2021-03-03T07:36:19.227Z","updated_at":"2021-11-12T15:02:41.470Z","closed_at":"2021-11-12T05:55:14.473Z","closed_by":{"id":1986039,"username":"lulalala","name":"Mark Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1986039/avatar.png","web_url":"https://gitlab.com/lulalala"},"labels":["[deprecated] Category:Provision","backend","customer","devops::fulfillment","group::provision","missed:14.3","missed:14.4","section::fulfillment","type::bug","workflow::in review"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":1986039,"username":"lulalala","name":"Mark Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1986039/avatar.png","web_url":"https://gitlab.com/lulalala"}],"author":{"id":7536567,"username":"hchouraria","name":"Harsh Chouraria","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7536567/avatar.png","web_url":"https://gitlab.com/hchouraria"},"type":"ISSUE","assignee":{"id":1986039,"username":"lulalala","name":"Mark Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1986039/avatar.png","web_url":"https://gitlab.com/lulalala"},"user_notes_count":17,"merge_requests_count":0,"upvotes":3,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/2776","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/2776","notes":"https://gitlab.com/api/v4/projects/2670515/issues/2776/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/2776/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#2776","relative":"#2776","full":"gitlab-org/customers-gitlab-com#2776"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6383,"epic":{"id":310864,"iid":6383,"title":"THEME: Maintenance and Support","url":"/groups/gitlab-org/-/epics/6383","group_id":9970,"human_readable_end_date":"Nov 16, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":80122544,"iid":2773,"project_id":2670515,"title":"[FE] Breakdown: Improve provisioning and onboarding of new sales-assisted GitLab.com subscribers","description":"This ~frontend issue (for https://gitlab.com/groups/gitlab-org/-/epics/5012) will be used to track breakdown work. As a result, new FE issues will be created.  \n\n## Design\n\n[See UX issue](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/2040/)","state":"closed","created_at":"2021-03-02T20:44:13.984Z","updated_at":"2021-08-18T14:53:51.304Z","closed_at":"2021-08-16T09:54:31.116Z","closed_by":{"id":4961018,"username":"mlunoe","name":"Michael Lunøe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4961018/avatar.png","web_url":"https://gitlab.com/mlunoe"},"labels":["[deprecated] Category:Provision","devops::fulfillment","frontend","group::provision","section::fulfillment","type::feature","workflow::planning breakdown"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[],"author":{"id":8110789,"username":"tgolubeva","name":"Tatyana Golubeva","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8110789/avatar.png","web_url":"https://gitlab.com/tgolubeva"},"type":"ISSUE","assignee":null,"user_notes_count":17,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/2773","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/2773","notes":"https://gitlab.com/api/v4/projects/2670515/issues/2773/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/2773/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#2773","relative":"#2773","full":"gitlab-org/customers-gitlab-com#2773"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5012,"epic":{"id":152448,"iid":5012,"title":"Improve provisioning and onboarding of new sales-assisted SaaS subscribers","url":"/groups/gitlab-org/-/epics/5012","group_id":9970,"human_readable_end_date":"Sep 30, 2023","human_readable_timestamp":"\u003cstrong\u003eUpcoming\u003c/strong\u003e"},"iteration":null,"health_status":null}]