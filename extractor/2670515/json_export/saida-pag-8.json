[{"id":93082739,"iid":3557,"project_id":2670515,"title":"Add feature flag for processing orders callouts","description":"### Background\n\nTo get [Zuora Orders Harmonization](https://gitlab.com/groups/gitlab-org/-/epics/6641) working in CustomersDot, there are many things to still sort out.  We've found that with Orders Harmonization enabled in Zuora, when using the Amend API to modify subscriptions, CustomersDot can receive multiple callouts to the `subscription_update` endpoint.  This is because with Order Action Processed callouts configured alongside the Amendment Processed callouts, both will be triggered in Zuora.  When the Order feature is used, only the Order Action callout will be triggered.\n\nIt seems likely that we will need a feature flag for Orders Harmonization.  This will serve as an indicator to know which callouts to process.\n\n### Proposal\n\nIntroduce a feature flag, `orders_harmonization`, which will server as an indication of which callouts to process.  With the flag enabled, CustomersDot should process Orders-related callouts.  If disabled, CustomersDot should process the existing amendment-related callouts.\n\nTo distinguish Orders-related callouts from amendments-related callouts, we could check the callout body params for `order_id`.  We're not exactly sure at this moment what type of callout will be used for orders (see [this thread](https://gitlab.com/gitlab-com/business-technology/enterprise-apps/intake/-/issues/322#note_666782612) for more info), but it seems like whether we go with order processed or order action processed, either one should contain an `order_id`.\n\n### Result\n\nFeature flag created: https://gitlab.com/gitlab-org/customers-gitlab-com/-/feature_flags/104/edit","state":"closed","created_at":"2021-09-03T14:31:28.685Z","updated_at":"2022-05-02T18:10:22.984Z","closed_at":"2021-09-10T21:06:17.074Z","closed_by":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"labels":["Zuora Orders Harmonization","[deprecated] Category:Provision","backend","devops::fulfillment","group::provision","section::fulfillment","workflow::production"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"}],"author":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"type":"ISSUE","assignee":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3557","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3557","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3557/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3557/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3557","relative":"#3557","full":"gitlab-org/customers-gitlab-com#3557"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6641,"epic":{"id":336961,"iid":6641,"title":"[License Group] Order Harmonization","url":"/groups/gitlab-org/-/epics/6641","group_id":9970,"human_readable_end_date":"Nov 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":93027345,"iid":3556,"project_id":2670515,"title":"Remove amendment from Product object","description":"## Background\n\nWhen using the Amend API to make changes to a subscription, the Subscription Rate Plan ends up with a reference to the `amendment_id` responsible for the change. As part of the [Orders Harmonization](https://gitlab.com/groups/gitlab-org/-/epics/6641) testing, we noticed when using Orders to make changes to a subscription, there is no `amendment_id` on the Subscription Rate Plan (interestingly there is an `amendment_type`).\n\nCustomersDot uses this reference to the `amendment_id` in order to build a `Product` object ([ref](https://gitlab.com/gitlab-org/customers-gitlab-com/blob/ac33b9df3ddfd21f27eaad5e452d86394ecb7384/app/models/product.rb#L22)) for the subscription (think of this as an object representing the products attached to the subscription). \n\nAs far as we can tell, the amendment on the Product is used only to determine [the ](https://gitlab.com/gitlab-org/customers-gitlab-com/blob/ac33b9df3ddfd21f27eaad5e452d86394ecb7384/app/models/product.rb#L52)`created_at` datetime of the Product. CustomersDot is using the `created_date` of the amendment as the Product's `created_at` date. It's not exactly clear why this is using the amendment, but was introduced in https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/333 over 2 years ago. Perhaps this information could be pulled from the Subscription Rate Plan, Charge or Tier, and eliminate this dependency on the amendment.\n\n## Purpose\n\nInvestigate if `amendment` can be removed from [the `Product` model](https://gitlab.com/gitlab-org/customers-gitlab-com/blob/ac33b9df3ddfd21f27eaad5e452d86394ecb7384/app/models/product.rb#L22).  It appears to only be used for [the `created_at` method](https://gitlab.com/gitlab-org/customers-gitlab-com/blob/ac33b9df3ddfd21f27eaad5e452d86394ecb7384/app/models/product.rb#L52) (but we should confirm that).  If we use other object like the Subscription Rate Plan, Charge or Tier to get a \"created\" timestamp of the product, we would be able to remove amendment.\n\nWe also noticed that the [amendment](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/937b0ca6dd146c43fb21a5d8bff356824e052bd9/app/models/subscription.rb#L72) in the subscription object appears to be only used for product initialization. We should determine if it can be removed from Subscription as well.","state":"closed","created_at":"2021-09-02T18:10:02.653Z","updated_at":"2021-11-08T21:37:12.831Z","closed_at":"2021-11-05T22:17:11.230Z","closed_by":{"id":4717243,"username":"a_luna","name":"Amparo Luna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4717243/avatar.png","web_url":"https://gitlab.com/a_luna"},"labels":["Zuora Orders Harmonization","[deprecated] Category:Provision","backend","devops::fulfillment","group::provision","missed:14.4","quad-planning::complete-no-action","section::fulfillment","workflow::production"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":4717243,"username":"a_luna","name":"Amparo Luna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4717243/avatar.png","web_url":"https://gitlab.com/a_luna"}],"author":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"type":"ISSUE","assignee":{"id":4717243,"username":"a_luna","name":"Amparo Luna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4717243/avatar.png","web_url":"https://gitlab.com/a_luna"},"user_notes_count":47,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3556","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3556","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3556/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3556/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3556","relative":"#3556","full":"gitlab-org/customers-gitlab-com#3556"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6641,"epic":{"id":336961,"iid":6641,"title":"[License Group] Order Harmonization","url":"/groups/gitlab-org/-/epics/6641","group_id":9970,"human_readable_end_date":"Nov 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":93009357,"iid":3555,"project_id":2670515,"title":"Add Danger reminder for updating DB structure diagrams","description":"# Proposal\n\nAs mentioned in https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3547#note_667582820, [the `database/Dangerfile`](https://gitlab.com/gitlab-org/customers-gitlab-com/blob/9c670a912f16fa2877c4ed8d96c572cb525f75ab/danger/database/Dangerfile) could be updated to include a reminder about how/where to update the [db structure diagrams on the Fulfillment architecture page](https://about.gitlab.com/handbook/engineering/development/fulfillment/architecture/#database-structure-of-customersdot-and-licensedot).","state":"closed","created_at":"2021-09-02T13:23:35.754Z","updated_at":"2021-09-07T18:11:59.558Z","closed_at":"2021-09-07T18:11:59.545Z","closed_by":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"labels":["devops::fulfillment","documentation","section::fulfillment","workflow::production"],"milestone":null,"assignees":[{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"}],"author":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"type":"ISSUE","assignee":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3555","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3555","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3555/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3555/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3555","relative":"#3555","full":"gitlab-org/customers-gitlab-com#3555"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":92961922,"iid":3547,"project_id":2670515,"title":"[Documentation] CustomersDot \u003c\u003e Zuora Object Mapping","description":"### Problem\n\nWe need a way to understand how Zuora objects are mapped in CustomersDot.  This helps solve several business and technical challenges.  For one, this helps when analyzing impact of a change.  It helps in describing scope of a required change.  It can also help with communicating the state of a subscription resulting from an order/account update.\n\n### Proposal\n\nCreate information oriented documentation that describes and maps Zuora object fields to fields in CustomersDot.  At the very least, the documentation includes:\n\n- list of fields in CustomersDot and the corresponding field it maps to in Zuora\n- each field is fully qualified and specifies the source, table name and field name (ie: Source, TABLE_NAME.FIELD_NAME )\n- each field describes when they are initialized, and possibly subsequent updates, if appropriate\n- each field describes initial value, if appropriate","state":"closed","created_at":"2021-09-01T22:11:36.686Z","updated_at":"2023-03-13T17:23:07.578Z","closed_at":"2022-06-17T22:48:04.293Z","closed_by":{"id":7964536,"username":"courtmeddaugh","name":"Courtney Meddaugh","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7964536/avatar.png","web_url":"https://gitlab.com/courtmeddaugh"},"labels":["Cloud License Sync - V2","Cloud Licensing","[deprecated] Category:Provision","backend","devops::fulfillment","documentation","group::provision","section::fulfillment","type::maintenance","workflow::ready for development"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":7971452,"username":"teresatison","name":"Teresa Tison","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7971452/avatar.png","web_url":"https://gitlab.com/teresatison"},"type":"ISSUE","assignee":null,"user_notes_count":9,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3547","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3547","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3547/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3547/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3547","relative":"#3547","full":"gitlab-org/customers-gitlab-com#3547"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":92945411,"iid":3546,"project_id":2670515,"title":"Error transferring CI minutes between namespaces","description":"https://sentry.gitlab.net/gitlab/customersgitlabcom/issues/2780568/?referrer=gitlab_plugin\n\n```\nStacktrace (most recent call first):\n\n  lib/gitlab/logger_helpers.rb:24:in `public_send'\n    Gitlab::Logger.public_send(log_level, object, options) # rubocop:disable GitlabSecurity/PublicSend\n  lib/gitlab/logger_helpers.rb:24:in `log'\n    Gitlab::Logger.public_send(log_level, object, options) # rubocop:disable GitlabSecurity/PublicSend\n  lib/gitlab/logger_helpers.rb:13:in `log_error'\n    log(:error, error, extra: extra)\n  app/services/gitlab/hosted_plans/purchased_add_ons/transfer_ci_minutes_service.rb:23:in `rescue in execute'\n    log_error(\n  app/services/gitlab/hosted_plans/purchased_add_ons/transfer_ci_minutes_service.rb:17:in `execute'\n    def execute\n  app/services/gitlab/namespaces/update_plan_info_service.rb:120:in `update_gitlab_ci_minutes'\n    ).execute\n  app/services/gitlab/namespaces/update_plan_info_service.rb:77:in `update_new_namespace'\n    update_gitlab_ci_minutes\n  app/services/gitlab/namespaces/update_plan_info_service.rb:38:in `execute'\n    update_new_namespace\n  app/workers/zuora_callout/base_worker.rb:73:in `sync_gitlab_com_subscription'\n    Gitlab::Namespaces::UpdatePlanInfoService.new(order, force_sync: true).execute\n  app/workers/zuora_callback_worker.rb:24:in `perform'\n    sync_gitlab_com_subscription(result[:order])\n...\n(31 additional frame(s) were not displayed)\n\nError transferring CI minutes between namespaces\n```","state":"closed","created_at":"2021-09-01T15:50:53.269Z","updated_at":"2021-09-10T14:59:48.840Z","closed_at":"2021-09-10T14:59:48.810Z","closed_by":{"id":5249152,"username":"vij","name":"Vijay Hawoldar","state":"active","avatar_url":"https://secure.gravatar.com/avatar/14567a8b4af4374011c43778878de399?s=80\u0026d=identicon","web_url":"https://gitlab.com/vij"},"labels":["[deprecated] Category:Utilization","backend","customer","devops::fulfillment","group::utilization","section::fulfillment","type::bug","workflow::production"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":5249152,"username":"vij","name":"Vijay Hawoldar","state":"active","avatar_url":"https://secure.gravatar.com/avatar/14567a8b4af4374011c43778878de399?s=80\u0026d=identicon","web_url":"https://gitlab.com/vij"}],"author":{"id":402401,"username":"jobbot","name":"Bot","state":"active","avatar_url":"https://secure.gravatar.com/avatar/aaa6738f1ebf25404010884af511b0e7?s=80\u0026d=identicon","web_url":"https://gitlab.com/jobbot"},"type":"ISSUE","assignee":{"id":5249152,"username":"vij","name":"Vijay Hawoldar","state":"active","avatar_url":"https://secure.gravatar.com/avatar/14567a8b4af4374011c43778878de399?s=80\u0026d=identicon","web_url":"https://gitlab.com/vij"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3546","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3546","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3546/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3546/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3546","relative":"#3546","full":"gitlab-org/customers-gitlab-com#3546"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":92845286,"iid":3539,"project_id":2670515,"title":"Revert quick fix of Zuora cloud license enabled flag","description":"# Summary of problem to solve\n\nA [quick fix](https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/3706) was added to fix issues where future subscriptions are not cloud license enabled.\n\nThis potentially can have a [rare edge case](https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/3706#note_652209766), so we should remove this fix one month after it is deployed.\n\n## Proposal\nRevert the logic in seat link to enable all future subscriptions.\n___","state":"closed","created_at":"2021-08-31T07:46:21.722Z","updated_at":"2021-10-21T09:55:59.702Z","closed_at":"2021-10-21T09:55:59.688Z","closed_by":{"id":1986039,"username":"lulalala","name":"Mark Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1986039/avatar.png","web_url":"https://gitlab.com/lulalala"},"labels":["[deprecated] Category:Provision","backend","devops::fulfillment","group::provision","maintenance::refactor","section::fulfillment","workflow::in review"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":1986039,"username":"lulalala","name":"Mark Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1986039/avatar.png","web_url":"https://gitlab.com/lulalala"}],"author":{"id":1986039,"username":"lulalala","name":"Mark Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1986039/avatar.png","web_url":"https://gitlab.com/lulalala"},"type":"ISSUE","assignee":{"id":1986039,"username":"lulalala","name":"Mark Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1986039/avatar.png","web_url":"https://gitlab.com/lulalala"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3539","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3539","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3539/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3539/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3539","relative":"#3539","full":"gitlab-org/customers-gitlab-com#3539"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":92644434,"iid":3535,"project_id":2670515,"title":"Update activated_at when activate request received for a previously activated instance","description":"### Problem\n\nAs discussed in [this discussion thread](https://gitlab.com/gitlab-org/gitlab/-/issues/337531#note_661936602), an instance could fluctuate between the type of license used for their subscription.  They could start with a license file, then use a cloud license, back to a license file, and so on.  When a customer activates an instance for the first time, [the `activated_at` timestamp is set to the current datetime](https://gitlab.com/gitlab-org/customers-gitlab-com/blob/e32106e55ef97492032ef0e8789119f637ed3272/app/services/cloud_activations/activate_service.rb#L61).  However, if the instance had previously been activated (IOW. a `SelfManagedInstanceActivation` already exists for the `activation_code` and `instance_identifier`, the `activated_at` isn't updated but it probably should be since the instance is activating again.\n\n### Proposal\n\nIn [the `ActivateService`](https://gitlab.com/gitlab-org/customers-gitlab-com/blob/e32106e55ef97492032ef0e8789119f637ed3272/app/services/cloud_activations/activate_service.rb#L19), update the `activated_at` timestamp to the current time if the `self_managed_instance_activation` record already exists.  Also, make sure the new license generated after the `activated_at` is updated contains this change so that when synced to the instance the \"Activated On\" reflects the current time.\n\n### Availability \u0026 Testing\n\n\u003c!-- This section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\nWhat risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning --\u003e\n\nAdding this new logic to the activation service, to update the timestamp, a simple test should be added to ensure that this timestamp is updated to the appropriate time.  It is not enough to validate that the `activated_at` column has changed, but we must also validate the value.","state":"closed","created_at":"2021-08-26T14:14:11.722Z","updated_at":"2021-10-28T13:53:17.431Z","closed_at":"2021-09-16T06:54:25.785Z","closed_by":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"labels":["Cloud License Sync - V2","[deprecated] Category:Provision","backend","devops::fulfillment","group::provision","quad-planning::complete-action","section::fulfillment","type::maintenance","workflow::production"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"}],"author":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"type":"ISSUE","assignee":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3535","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3535","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3535/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3535/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3535","relative":"#3535","full":"gitlab-org/customers-gitlab-com#3535"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4628,"epic":{"id":127229,"iid":4628,"title":"Cloud Licensing V2","url":"/groups/gitlab-org/-/epics/4628","group_id":9970,"human_readable_end_date":"Nov 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":92631329,"iid":3532,"project_id":2670515,"title":"Replace Sentry.captureMessage with Sentry.captureException","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n### Problem\n\nFor some reason we use `Sentry.captureMessage` for capturing exceptions and that leads to several problems:\n\n- Unhelpful messages in out status channel in Slack. See the image below.\n- `captureMessage` automatically assigns the `info` level to the message which breaks the error statistic because `captureException` sets the level to `fatal`. \n\n![image](/uploads/84f4af18c70d2af8791d8411433cc81f/image.png)\n\n### Proposal\n\nReplace all occurrences of `Sentry.captureMessage` with `Sentry.captureException` in places where we capture exceptions.\n\n### Result\n\n### Next steps (if any)\n\n### How will we measure success?","state":"closed","created_at":"2021-08-26T10:22:57.781Z","updated_at":"2022-04-26T13:02:44.692Z","closed_at":"2022-04-26T13:02:44.680Z","closed_by":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"labels":["devops::fulfillment","frontend","maintenance::workflow","section::fulfillment","type::maintenance"],"milestone":null,"assignees":[],"author":{"id":447038,"username":"vitallium","name":"Vitaly Slobodin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/74b3243cfcfbfac1f022b78ab505e8d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/vitallium"},"type":"ISSUE","assignee":null,"user_notes_count":2,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3532","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3532","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3532/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3532/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3532","relative":"#3532","full":"gitlab-org/customers-gitlab-com#3532"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":92593820,"iid":3530,"project_id":2670515,"title":"Remove obsolete trial code","description":"## Proposal\n\nLet's investigate whether the `/trials/new` action and its related views can be removed.  If they aren't used anymore, removing all this related code should simplify the trials code in CustomersDot, which is pretty complex at the moment.\n\n### Follow-up\n\nThe following discussion from !3743 should be addressed:\n\n- [ ] @jagood started a [discussion](https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/3743#note_659686621):  (+2 comments)\n\n    \u003e I'm not sure what this function is for.  I only see it used here:  https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/e65123726c8ffb93bad38783f00ecdb2bf467b73/app/views/trials/_simple_gitlab_com_trial_form.html.haml#L16\n    \u003e \n    \u003e Just guessing from the heading of that file, \"Free Trial of GitLab.com Gold\", maybe this is all unused code at this point?\n\nWe should also look at removing [`app/views/trials/_gitlab_com_trial_form.html.haml`](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/2642d79401b3ecc422f71c047be30b5aff249c82/app/views/trials/_gitlab_com_trial_form.html.haml) as well as it also refers to a Gold Trial.\n\nThis should also take care of the work mentioned in https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/2782 related to removing these views:\n\n* `app/views/trials/new.html.haml` \n* `app/views/trials/_simple_gitlab_com_trial_form.html.haml`","state":"closed","created_at":"2021-08-25T20:08:19.548Z","updated_at":"2023-04-03T14:14:03.442Z","closed_at":"2023-04-03T14:14:03.419Z","closed_by":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"labels":["auto updated","automation:prevent-auto-close","backend","devops::fulfillment","group::fulfillment platform","maintenance::refactor","quick win","section::fulfillment","type::maintenance","workflow::complete"],"milestone":{"id":2910456,"iid":86,"group_id":9970,"title":"15.11","description":"","state":"active","created_at":"2022-12-13T20:08:46.985Z","updated_at":"2022-12-13T20:08:46.985Z","due_date":"2023-04-17","start_date":"2023-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/86"},"assignees":[{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"}],"author":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"type":"ISSUE","assignee":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3530","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3530","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3530/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3530/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3530","relative":"#3530","full":"gitlab-org/customers-gitlab-com#3530"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":9831,"epic":{"id":738847,"iid":9831,"title":"Improve Bill To / Sold To Contact Management in CustomersDot","url":"/groups/gitlab-org/-/epics/9831","group_id":9970,"human_readable_end_date":"Jul 31, 2023","human_readable_timestamp":"\u003cstrong\u003e3\u003c/strong\u003e months remaining"},"iteration":null,"health_status":null},{"id":92528020,"iid":3526,"project_id":2670515,"title":"[FE] Cloud Licensing - Workflow for Expired Cloud License","description":"## Summary\n\nAfter a license expires, the GitLab instance becomes blocked and git features like pushes are blocked. Here's a link to the docs on this: https://docs.gitlab.com/ee/user/admin_area/license.html#what-happens-when-your-license-expires. When a customer is using a license file they will renew their subscription and upload a new license file to reinstate the features or remove the license file. This will be the same behaviour for cloud licenses, but there is currently no way for a customer to remove a cloud license from their self-managed instance. This issue is to design/investigate the removal of a cloud license. [Original discussion](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3215#note_595998053).\n\n## Proposal\n\n- Add a remove license button to the Admin \u003e Subscription page for cloud licenses\n- Make a request to [`LicensesController#destroy`](https://gitlab.com/gitlab-org/gitlab/blob/a90ec139423285cd8046a6373603c4b79d85e46d/ee/app/controllers/admin/licenses_controller.rb#L37) (`DELETE /admin/license`)\n\n## Backend\n\nIssue: https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3525","state":"closed","created_at":"2021-08-24T21:57:14.967Z","updated_at":"2021-10-01T12:17:17.753Z","closed_at":"2021-09-30T13:59:58.594Z","closed_by":{"id":7971452,"username":"teresatison","name":"Teresa Tison","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7971452/avatar.png","web_url":"https://gitlab.com/teresatison"},"labels":["Cloud License Sync - V2","[deprecated] Category:Provision","devops::fulfillment","frontend","group::provision","quad-planning::complete-no-action","section::fulfillment","type::feature","workflow::ready for development"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[],"author":{"id":7971452,"username":"teresatison","name":"Teresa Tison","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7971452/avatar.png","web_url":"https://gitlab.com/teresatison"},"type":"ISSUE","assignee":null,"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3526","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3526","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3526/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3526/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3526","relative":"#3526","full":"gitlab-org/customers-gitlab-com#3526"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4628,"epic":{"id":127229,"iid":4628,"title":"Cloud Licensing V2","url":"/groups/gitlab-org/-/epics/4628","group_id":9970,"human_readable_end_date":"Nov 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":92527844,"iid":3525,"project_id":2670515,"title":"[BE] Cloud Licensing - Workflow for Expired Cloud License","description":"## Summary\n\nAfter a license expires, the GitLab instance becomes blocked and git features like pushes are blocked. Here's a link to the docs on this: https://docs.gitlab.com/ee/user/admin_area/license.html#what-happens-when-your-license-expires. When a customer is using a license file they will renew their subscription and upload a new license file to reinstate the features or remove the license file. This will be the same behaviour for cloud licenses, but there is currently no way for a customer to remove a cloud license from their self-managed instance. This issue is to design/investigate the removal of a cloud license. [Original discussion](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3215#note_595998053).\n\n## Proposal\n\n- Add a remove license button to the Admin \u003e Subscription page for cloud licenses\n- Follow the same removal flow as legacy licenses\n\nWe should be able to reuse the same endpoint for deleting legacy licenses, [`LicensesController#destroy`](https://gitlab.com/gitlab-org/gitlab/blob/a90ec139423285cd8046a6373603c4b79d85e46d/ee/app/controllers/admin/licenses_controller.rb#L37).  We'll need to update [the `Licenses::DestroyService`](https://gitlab.com/gitlab-org/gitlab/blob/d926e54cc88ad2cba71a3579e033e10954066430/ee/app/services/licenses/destroy_service.rb#L13) to allow cloud licenses to be destroyed.","state":"closed","created_at":"2021-08-24T21:48:35.054Z","updated_at":"2021-09-30T14:10:55.835Z","closed_at":"2021-09-30T14:08:14.617Z","closed_by":{"id":7971452,"username":"teresatison","name":"Teresa Tison","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7971452/avatar.png","web_url":"https://gitlab.com/teresatison"},"labels":["Cloud License Sync - V2","[deprecated] Category:Provision","backend","devops::fulfillment","group::provision","quad-planning::complete-no-action","section::fulfillment","type::feature","workflow::in dev"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"}],"author":{"id":7971452,"username":"teresatison","name":"Teresa Tison","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7971452/avatar.png","web_url":"https://gitlab.com/teresatison"},"type":"ISSUE","assignee":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3525","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3525","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3525/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3525/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3525","relative":"#3525","full":"gitlab-org/customers-gitlab-com#3525"},"severity":"UNKNOWN","moved_to_id":94619597,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":92520374,"iid":3524,"project_id":2670515,"title":"New Trials Report as Free Plan in CustomersDot Backend","description":"### Problem\n\nA trial plan using one of the new `ultimate_trial` plans appears as a `free` plan in the CustomersDot admin backend.\n\n![Free](/uploads/673feef0ba96a4c4a3da42d913182020/Free.png)\n\nAttempting to update the plan expiration date via the UI results in a 500 error:\n\n![Screen_Shot_2021-08-24_at_2.08.08_PM](/uploads/c8f0ebb54126df76e2c01b557eca00e2/Screen_Shot_2021-08-24_at_2.08.08_PM.png)\n\nAnd then the plan no longer has any expiration date in the CustomersDot backend:\n\n![FreeExpirationMissing](/uploads/03b98525bb75609def93e705e3e19861/FreeExpirationMissing.png)\n\n### Proposal\n\nThe dropdown options need the new `ultimate_trial` and `premium_trial` plans.","state":"closed","created_at":"2021-08-24T18:10:30.325Z","updated_at":"2021-10-28T13:53:20.849Z","closed_at":"2021-08-26T16:31:48.911Z","closed_by":{"id":3716529,"username":"jagood","name":"Jason Goodman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6696c95a1788e2d4bee67df636805ecc?s=80\u0026d=identicon","web_url":"https://gitlab.com/jagood"},"labels":["Unplanned","[deprecated] Category:Utilization","backend","devops::fulfillment","group::utilization","section::fulfillment","type::maintenance","workflow::production"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":3716529,"username":"jagood","name":"Jason Goodman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6696c95a1788e2d4bee67df636805ecc?s=80\u0026d=identicon","web_url":"https://gitlab.com/jagood"}],"author":{"id":3716529,"username":"jagood","name":"Jason Goodman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6696c95a1788e2d4bee67df636805ecc?s=80\u0026d=identicon","web_url":"https://gitlab.com/jagood"},"type":"ISSUE","assignee":{"id":3716529,"username":"jagood","name":"Jason Goodman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6696c95a1788e2d4bee67df636805ecc?s=80\u0026d=identicon","web_url":"https://gitlab.com/jagood"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3524","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3524","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3524/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3524/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3524","relative":"#3524","full":"gitlab-org/customers-gitlab-com#3524"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":92469628,"iid":3521,"project_id":2670515,"title":"Refinement: Update the Renew button to provide more information","description":"\u003c!-- The first four sections: \"Problem to solve\", \"Intended users\", \"User experience goal\", and \"Proposal\", are strongly recommended, while the rest of the sections can be filled out during the problem validation or breakdown phase. However, keep in mind that providing complete and relevant information early helps our product team validate the problem and start working on a solution. --\u003e\n\n### Problem to solve\n\nThe ability to manually renew a subscription is only available starting 15 days prior to the expiration date of the subscription.\n\nCurrently, the renew button is disabled until 15 days before the expriration date with a tool tip explaining when the customer will be able to renew.\n\n![Screen_Shot_2022-11-30_at_4.59.23_PM](/uploads/06d9ecd6f1b61cde47a2875103b60a83/Screen_Shot_2022-11-30_at_4.59.23_PM.png)\n\nThis has proven to be a confusing experience for customers because they often do not see the tooltip.\n\nAdditionally, customer sometimes try to find a way to pay true-ups without knowing that the true-up is paid at the same time as renewal.\n\n### Intended users\n\nSubscription owners/managers in CDot\n\n### User experience goal\n\nCustomer know when they can renew and what they can do when they click the `Renew` button once it's available.\n\n### Proposal\n\n\u003c!-- How are we going to solve the problem? Try to include the user journey! https://about.gitlab.com/handbook/journeys/#user-journey --\u003e\n\nKeep the renew button active at all times, regardless of whether or not the customer has the ability to renew. \n\nIf the ability to renew is not available when they click the `Renew` button, show a modal explaining the renewal window and that they will pay for true-ups at the time of their renewal.\n\n**Note:** We need to promote this issue to an epic and then break it down into smaller issues based on this [discussion](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3521#note_1318050870). The [refinement notes](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3521#note_1318042013) can be used for the issue breakdown.\n\n**Design:** [See design section](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3521/designs/Clicking__Renew__when_renew_action_is_not_available.png)","state":"closed","created_at":"2021-08-24T01:58:00.729Z","updated_at":"2023-05-03T14:18:14.211Z","closed_at":"2023-03-23T04:45:27.098Z","closed_by":{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"},"labels":["BSM::Renewal","Category:Subscription Management","SUS::Impacting","Technical Writing","UI text","UX","auto updated","automation:prevent-auto-close","customer","devops::fulfillment","frontend","group::billing and subscription management","section::fulfillment","severity::3","type::feature","workflow::planning breakdown"],"milestone":{"id":2745651,"iid":85,"group_id":9970,"title":"15.10","description":"","state":"active","created_at":"2022-08-22T16:58:22.132Z","updated_at":"2022-08-22T16:58:22.132Z","due_date":"2023-03-17","start_date":"2023-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/85"},"assignees":[{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"}],"author":{"id":786864,"username":"rotanak","name":"Sokunrotanak Srey (Rotanak)","state":"active","avatar_url":"https://secure.gravatar.com/avatar/9e138f6598fa362b95f725febc80087e?s=80\u0026d=identicon","web_url":"https://gitlab.com/rotanak"},"type":"ISSUE","assignee":{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"},"user_notes_count":24,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3521","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3521","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3521/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3521/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3521","relative":"#3521","full":"gitlab-org/customers-gitlab-com#3521"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":92453968,"iid":3519,"project_id":2670515,"title":"MalformedQueryFault error raised because custom field, collectionsagent__c removed","description":"### Problem\n\nWe're seeing some errors related to a malformed Zuora query in CustomersDot production.\n\n- https://sentry.gitlab.net/gitlab/customersgitlabcom/issues/2769584\n- https://sentry.gitlab.net/gitlab/customersgitlabcom/issues/2769590\n- https://sentry.gitlab.net/gitlab/customersgitlabcom/issues/2769602\n- https://sentry.gitlab.net/gitlab/customersgitlabcom/issues/2769599\n\nLooks like the custom field, `collectionsagent__c` was removed from the Account object in Zuora production.\n\n### Proposal\n\nI've reached out to @mquitevis about restoring the field in Zuora production temporarily as we remove the reference from CustomersDot.","state":"closed","created_at":"2021-08-23T18:27:08.663Z","updated_at":"2021-08-31T03:56:29.410Z","closed_at":"2021-08-25T13:45:43.035Z","closed_by":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"labels":["Enterprise Applications","Unplanned","[deprecated] Category:Provision","backend","devops::fulfillment","group::provision","section::fulfillment","workflow::production"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"}],"author":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"type":"ISSUE","assignee":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3519","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3519","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3519/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3519/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3519","relative":"#3519","full":"gitlab-org/customers-gitlab-com#3519"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":92285162,"iid":3509,"project_id":2670515,"title":"Add  documentation to the CustomersDot REST API","description":"### Problem\nCurrent REST API is not documented. To find out what we offer we need to check the code every time.\n\n### Proposal\nWe could use [swagger](https://swagger.io/) for documentation.\n\n- solves documentation \u0026 discoverability problem\n- provides sandbox [SwaggerUI](https://swagger.io/tools/swagger-ui/) to allow developer and non developer to interact with APIs\n- uses OpenAPI (fka Swagger Specification)\n\nWe would like to focus on `/subscription/*` endpoint first as it's the one we work the most at the moment\n\nThere is also [rswag](https://github.com/rswag/rswag#getting-started) gem for auto generated docs\n\n#### What are our gains\n- clean documentation\n- faster lookup of what we have and how to use it\n- spec could be used as a draft for future GraphQL endpoint during migration\n- faster onboarding of new team members\n\n#### Implementation plan\n| Step | Issue |\n| ------ | ------ |\n| Setup documentation | 👉 you are here |\n| Write the actual yaml docs for subscription | :white_check_mark:  https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3667 |\n\n#### What we need to do\n**Option A (preferred):** \n- Add openAPI integration https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3509#note_660256083, make sure the authentication works\n- Document `/subscription*` routes\n\n**Option B (in case integration doesn't work how it should):**\n- add swagger specs \u0026 rswag integration (inspiration \"https://medium.com/@clarkjohnson_85334/adding-swagger-docs-to-a-rails-6-api-using-rswag-a3e8bc577986)\n- add swagger UI (documentation)\n\nBoth steps are critical because just documenting won't help in better discoverability\n\n### How will we measure success?\nChecking on \"can we query X from CustomersDot\" will become a trivial 5-minutes task","state":"closed","created_at":"2021-08-19T16:30:14.304Z","updated_at":"2021-12-20T10:20:46.138Z","closed_at":"2021-12-20T10:20:46.131Z","closed_by":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"labels":["devops::fulfillment","maintenance::refactor","section::fulfillment","workflow::ready for development"],"milestone":null,"assignees":[{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"}],"author":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"type":"ISSUE","assignee":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"user_notes_count":39,"merge_requests_count":0,"upvotes":7,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3509","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3509","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3509/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3509/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3509","relative":"#3509","full":"gitlab-org/customers-gitlab-com#3509"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6898,"epic":{"id":367040,"iid":6898,"title":"Promote the Fulfillment API","url":"/groups/gitlab-org/-/epics/6898","group_id":9970,"human_readable_end_date":"May 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":92178935,"iid":3503,"project_id":2670515,"title":"Add 'Trial' indication in license list","description":"For the investigation of license problems for customers with multiple subscriptions or a lot of historical changes, having as much info as possible available up front in the license list helps in narrowing down which license details need to be looked at. \\\nIt would help if an indication was added showing if a license is a trial.\n\n### Availability \u0026 Testing\n\n\u003c!-- This section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\nWhat risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning --\u003e\n\nA frontend test should accompany this change to ensure that the indication is correct depending on the trial status.\n\n- If License is not trial, do not show the indication.\n- If License is trial, show the indication.","state":"closed","created_at":"2021-08-18T09:26:55.348Z","updated_at":"2023-03-13T17:23:06.992Z","closed_at":"2021-11-11T08:06:50.972Z","closed_by":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"labels":["Cloud License Sync - V2","Cloud Licensing","[deprecated] Category:Provision","backend","devops::fulfillment","group::provision","quad-planning::complete-action","section::fulfillment","type::maintenance","workflow::production"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"}],"author":{"id":4015010,"username":"rverschoor","name":"Rene Verschoor","state":"active","avatar_url":"https://secure.gravatar.com/avatar/34ff23f73913372d0b5c5e5ff4e92819?s=80\u0026d=identicon","web_url":"https://gitlab.com/rverschoor"},"type":"ISSUE","assignee":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3503","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3503","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3503/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3503/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3503","relative":"#3503","full":"gitlab-org/customers-gitlab-com#3503"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6580,"epic":{"id":327648,"iid":6580,"title":"CustomersDot Admin usability feedback","url":"/groups/gitlab-org/-/epics/6580","group_id":9970,"human_readable_end_date":"Oct 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":92146374,"iid":3499,"project_id":2670515,"title":"New Trial Plans Do Not Expire Properly","description":"After we enable the `trial_plans` flag in https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3378, trial plans will be created with their own plan - `ultimate_trial` instead of `ultimate`.\n\nThe new trial plans do not expire appropriately like the old plans do.\n\n## Steps to reproduce\n\n1. Create an ultimate trial using the current plans.  So that you have an `ultimate` trial plan.  (Not an `ultimate_trial` trial plan)\n\n1. Enable the `trial_plans` and the `deprovision_newly_expired_subscriptions` feature flags for your local development environment.\n\n1. Create an ultimate trial again.  This plan should end up with an `ultimate_trial` plan, because the `trial_plans` flag is enabled.  (`deprovision_newly_expired_subscriptions` is related to the `ExpireOrderCronJob` worker which comes into play later)\n\n1. Open the billing pages for both plans.  In the screenshots below, we can see that both New Trial Group (`ultimate`) and Eric Group (`ultimate_trial`) have Ultimate Trial plans set to expire in the future.\n\nNew Trial Group (`ultimate`)\n\n![Screen_Shot_2021-08-17_at_5.29.58_PM](/uploads/790932fb0dbc0b0b258f9df218ecc2ae/Screen_Shot_2021-08-17_at_5.29.58_PM.png)\n\nEric Group (`ultimate_trial`)\n\n![Screen_Shot_2021-08-17_at_5.29.48_PM](/uploads/d11c2c54611f98bfb0b4758ad7e78f0a/Screen_Shot_2021-08-17_at_5.29.48_PM.png)\n\n\n5. Set the system clock forward to a date after the Ultimate Trial expiry date.  In the running example, this would be any date after 2021-09-12.\n\n![Screen_Shot_2021-08-17_at_5.35.03_PM](/uploads/0fb21e03bd7b66113da417e30a5948b0/Screen_Shot_2021-08-17_at_5.35.03_PM.png)\n\n6. Wait briefly for the [`ExpireOrderCronJob`](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/6d58fe82c4780841bea2c3f56b93f601e93274a0/app/jobs/expire_order_cron_job.rb) to run.  Refresh the browser and observe what happens to each trial plan.  See the screenshots below.  New Trial Group (`ultimate`) shows that it is expired and we can see from the lack of an \"Epics\" menu item that the Ultimate features have been withdrawn.  However, Eric Group (`ultimate_trial`) shows an error from CustomersDot and the Ultimate Trial features are still present, as evidenced by the \"Epics\" menu item.\n\nNew Trial Group (`ultimate`)\n\n![Screen_Shot_2021-09-17_at_5.37.57_PM](/uploads/c40eea34357959deb70ce02aa2f3a6e7/Screen_Shot_2021-09-17_at_5.37.57_PM.png)\n\nEric Group (`ultimate_trial`)\n\n![Screen_Shot_2021-09-17_at_5.37.40_PM](/uploads/7ff362412515791521cc107e24faf52b/Screen_Shot_2021-09-17_at_5.37.40_PM.png)","state":"closed","created_at":"2021-08-17T20:52:23.858Z","updated_at":"2022-04-20T13:48:27.200Z","closed_at":"2021-08-19T18:52:24.751Z","closed_by":{"id":3716529,"username":"jagood","name":"Jason Goodman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6696c95a1788e2d4bee67df636805ecc?s=80\u0026d=identicon","web_url":"https://gitlab.com/jagood"},"labels":["[deprecated] Category:Utilization","backend","devops::fulfillment","group::utilization","priority::2","section::fulfillment","severity::2","trials","type::bug","workflow::production"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":3716529,"username":"jagood","name":"Jason Goodman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6696c95a1788e2d4bee67df636805ecc?s=80\u0026d=identicon","web_url":"https://gitlab.com/jagood"}],"author":{"id":3716529,"username":"jagood","name":"Jason Goodman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6696c95a1788e2d4bee67df636805ecc?s=80\u0026d=identicon","web_url":"https://gitlab.com/jagood"},"type":"ISSUE","assignee":{"id":3716529,"username":"jagood","name":"Jason Goodman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6696c95a1788e2d4bee67df636805ecc?s=80\u0026d=identicon","web_url":"https://gitlab.com/jagood"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3499","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3499","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3499/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3499/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3499","relative":"#3499","full":"gitlab-org/customers-gitlab-com#3499"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":92142469,"iid":3497,"project_id":2670515,"title":"Easier hyperlink to open license details page","description":"In the license list of LicenseDot, the `Name` field was the hyperlink to open the license details page. \\\nIn CustomersDot this is replaced by an (i) icon.\n\nThe icon is tiny and far to the right, which might require horizontal scrolling. \\\nI would like to see the `Name` field act as hyperlink again.","state":"closed","created_at":"2021-08-17T19:04:09.576Z","updated_at":"2021-11-09T09:01:56.356Z","closed_at":"2021-11-09T09:01:56.341Z","closed_by":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"labels":["Cloud License Sync - V2","[deprecated] Category:Provision","backend","devops::fulfillment","group::provision","quad-planning::complete-no-action","section::fulfillment","workflow::production"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"}],"author":{"id":4015010,"username":"rverschoor","name":"Rene Verschoor","state":"active","avatar_url":"https://secure.gravatar.com/avatar/34ff23f73913372d0b5c5e5ff4e92819?s=80\u0026d=identicon","web_url":"https://gitlab.com/rverschoor"},"type":"ISSUE","assignee":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3497","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3497","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3497/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3497/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3497","relative":"#3497","full":"gitlab-org/customers-gitlab-com#3497"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6580,"epic":{"id":327648,"iid":6580,"title":"CustomersDot Admin usability feedback","url":"/groups/gitlab-org/-/epics/6580","group_id":9970,"human_readable_end_date":"Oct 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":92142211,"iid":3496,"project_id":2670515,"title":"Add confirmation dialog to 'Resend to customer via email' icon from cloud activation and license list","description":"LicenseDot has a `Resend to customer via email` button on the license details page. \\\nIn CustomersDot this functionality is now available as an icon in the license list. \\\nAs the icon is tiny, amidst several other icons, and the resending is immediate, accidental resends will happen.\n\n~~Either move the functionality to a button on the license details page~~, or add a confirmation dialog. \\\nEdit: button is already present on the license details page.","state":"closed","created_at":"2021-08-17T18:58:39.220Z","updated_at":"2023-03-13T17:23:06.779Z","closed_at":"2022-04-25T08:34:46.909Z","closed_by":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"labels":["Cloud License Sync - V2","Cloud Licensing","Priority Project","[deprecated] Category:Provision","backend","devops::fulfillment","group::provision","priority::3","section::fulfillment","workflow::production"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"}],"author":{"id":4015010,"username":"rverschoor","name":"Rene Verschoor","state":"active","avatar_url":"https://secure.gravatar.com/avatar/34ff23f73913372d0b5c5e5ff4e92819?s=80\u0026d=identicon","web_url":"https://gitlab.com/rverschoor"},"type":"ISSUE","assignee":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3496","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3496","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3496/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3496/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3496","relative":"#3496","full":"gitlab-org/customers-gitlab-com#3496"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6580,"epic":{"id":327648,"iid":6580,"title":"CustomersDot Admin usability feedback","url":"/groups/gitlab-org/-/epics/6580","group_id":9970,"human_readable_end_date":"Oct 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":92142042,"iid":3495,"project_id":2670515,"title":"Show license details page after creating a license","description":"## Summary\n\nAfter creating a new license in CustomersDot, the details page of the license that happens to be be the license at the top of the list (?) is shown. \\\nThat's utterly confusing, you expect to see the details of the license you just created.\n\n## Proposal\n\nDisplay details of the newly created license after submit.","state":"closed","created_at":"2021-08-17T18:53:14.560Z","updated_at":"2021-10-14T09:00:55.441Z","closed_at":"2021-10-14T09:00:55.419Z","closed_by":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"labels":["Cloud License Sync - V2","Priority Project","[deprecated] Category:Provision","backend","devops::fulfillment","group::provision","priority::3","section::fulfillment","workflow::production"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"}],"author":{"id":4015010,"username":"rverschoor","name":"Rene Verschoor","state":"active","avatar_url":"https://secure.gravatar.com/avatar/34ff23f73913372d0b5c5e5ff4e92819?s=80\u0026d=identicon","web_url":"https://gitlab.com/rverschoor"},"type":"ISSUE","assignee":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3495","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3495","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3495/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3495/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3495","relative":"#3495","full":"gitlab-org/customers-gitlab-com#3495"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6580,"epic":{"id":327648,"iid":6580,"title":"CustomersDot Admin usability feedback","url":"/groups/gitlab-org/-/epics/6580","group_id":9970,"human_readable_end_date":"Oct 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":92141935,"iid":3494,"project_id":2670515,"title":"Show license details page after duplicating a license","description":"## Summary\nAfter duplicating a license in CustomersDot, the details page of the license from which you duplicated is shown. \\\nThat's very confusing, as you expect to see the details of the new license you just created.\n\n## Proposal\n\nDisplay details of newly duplicated license upon submit instead of the original.","state":"closed","created_at":"2021-08-17T18:49:51.337Z","updated_at":"2021-10-12T07:58:10.698Z","closed_at":"2021-10-12T07:04:55.313Z","closed_by":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"labels":["Cloud License Sync - V2","Priority Project","[deprecated] Category:Provision","backend","devops::fulfillment","group::provision","priority::3","section::fulfillment","won't do","workflow::solution validation"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[],"author":{"id":4015010,"username":"rverschoor","name":"Rene Verschoor","state":"active","avatar_url":"https://secure.gravatar.com/avatar/34ff23f73913372d0b5c5e5ff4e92819?s=80\u0026d=identicon","web_url":"https://gitlab.com/rverschoor"},"type":"ISSUE","assignee":null,"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3494","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":0,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3494","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3494/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3494/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":"https://gitlab.com/api/v4/projects/2670515/issues/3495"},"references":{"short":"#3494","relative":"#3494","full":"gitlab-org/customers-gitlab-com#3494"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6580,"epic":{"id":327648,"iid":6580,"title":"CustomersDot Admin usability feedback","url":"/groups/gitlab-org/-/epics/6580","group_id":9970,"human_readable_end_date":"Oct 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":92141600,"iid":3493,"project_id":2670515,"title":"Message that duplicated license is mailed","description":"When you duplicate a license in CustomersDot, a message is shown: `License successfully created`. \\\nLicenseDot shows the message: `License was successfully created and sent to customer`. \\\n\nAs the current message doesn't mention that the license is emailed, users might start doubting that all went well. \\\nIt confused me the first time!","state":"closed","created_at":"2021-08-17T18:46:22.943Z","updated_at":"2021-10-21T16:31:07.993Z","closed_at":"2021-10-21T16:31:07.974Z","closed_by":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"labels":["Cloud License Sync - V2","Priority Project","[deprecated] Category:Provision","backend","devops::fulfillment","group::provision","priority::3","section::fulfillment","workflow::production"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"}],"author":{"id":4015010,"username":"rverschoor","name":"Rene Verschoor","state":"active","avatar_url":"https://secure.gravatar.com/avatar/34ff23f73913372d0b5c5e5ff4e92819?s=80\u0026d=identicon","web_url":"https://gitlab.com/rverschoor"},"type":"ISSUE","assignee":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3493","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3493","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3493/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3493/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3493","relative":"#3493","full":"gitlab-org/customers-gitlab-com#3493"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6580,"epic":{"id":327648,"iid":6580,"title":"CustomersDot Admin usability feedback","url":"/groups/gitlab-org/-/epics/6580","group_id":9970,"human_readable_end_date":"Oct 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":92140416,"iid":3491,"project_id":2670515,"title":"Allow manual entry of dates in CustomersDot datepicker","description":"## Summary\n\nThe `New Offline License` and `Duplicate license` forms in CustomersDot have a datepicker that doesn't seem to accept manual entry of dates. \\\nWe often copy/paste or type dates in ISO 8601 format, in addition to clicking around in the calendar to pick the date.\n\n## Proposal\n\nAdd ability to paste a date from a user's clipboard.","state":"closed","created_at":"2021-08-17T18:31:52.735Z","updated_at":"2021-10-25T20:54:28.008Z","closed_at":"2021-10-25T20:54:27.995Z","closed_by":{"id":5667561,"username":"vshumilo","name":"Vladlena Shumilo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08dfa82785d130c151ab9e21caeab4e3?s=80\u0026d=identicon","web_url":"https://gitlab.com/vshumilo"},"labels":["Cloud License Sync - V2","Priority Project","[deprecated] Category:Provision","backend","devops::fulfillment","group::provision","missed:14.4","priority::3","section::fulfillment","workflow::verification"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":5667561,"username":"vshumilo","name":"Vladlena Shumilo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08dfa82785d130c151ab9e21caeab4e3?s=80\u0026d=identicon","web_url":"https://gitlab.com/vshumilo"}],"author":{"id":4015010,"username":"rverschoor","name":"Rene Verschoor","state":"active","avatar_url":"https://secure.gravatar.com/avatar/34ff23f73913372d0b5c5e5ff4e92819?s=80\u0026d=identicon","web_url":"https://gitlab.com/rverschoor"},"type":"ISSUE","assignee":{"id":5667561,"username":"vshumilo","name":"Vladlena Shumilo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08dfa82785d130c151ab9e21caeab4e3?s=80\u0026d=identicon","web_url":"https://gitlab.com/vshumilo"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3491","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3491","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3491/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3491/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3491","relative":"#3491","full":"gitlab-org/customers-gitlab-com#3491"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6580,"epic":{"id":327648,"iid":6580,"title":"CustomersDot Admin usability feedback","url":"/groups/gitlab-org/-/epics/6580","group_id":9970,"human_readable_end_date":"Oct 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":92140281,"iid":3490,"project_id":2670515,"title":"Standardizing ISO 8601 for date and time across CustomersDot Admin","description":"The `New Offline License` and `Duplicate license` forms in CustomersDot show dates in `MMMM DD, YYYY` format. \\\nThis should be the company standard `ISO 8601` format.","state":"closed","created_at":"2021-08-17T18:28:33.228Z","updated_at":"2023-03-13T17:23:06.569Z","closed_at":"2021-11-03T15:32:52.026Z","closed_by":{"id":5667561,"username":"vshumilo","name":"Vladlena Shumilo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08dfa82785d130c151ab9e21caeab4e3?s=80\u0026d=identicon","web_url":"https://gitlab.com/vshumilo"},"labels":["Cloud License Sync - V2","Cloud Licensing","Priority Project","[deprecated] Category:Provision","backend","devops::fulfillment","group::provision","priority::3","section::fulfillment","workflow::in dev"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":5667561,"username":"vshumilo","name":"Vladlena Shumilo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08dfa82785d130c151ab9e21caeab4e3?s=80\u0026d=identicon","web_url":"https://gitlab.com/vshumilo"}],"author":{"id":4015010,"username":"rverschoor","name":"Rene Verschoor","state":"active","avatar_url":"https://secure.gravatar.com/avatar/34ff23f73913372d0b5c5e5ff4e92819?s=80\u0026d=identicon","web_url":"https://gitlab.com/rverschoor"},"type":"ISSUE","assignee":{"id":5667561,"username":"vshumilo","name":"Vladlena Shumilo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08dfa82785d130c151ab9e21caeab4e3?s=80\u0026d=identicon","web_url":"https://gitlab.com/vshumilo"},"user_notes_count":13,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3490","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3490","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3490/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3490/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3490","relative":"#3490","full":"gitlab-org/customers-gitlab-com#3490"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6580,"epic":{"id":327648,"iid":6580,"title":"CustomersDot Admin usability feedback","url":"/groups/gitlab-org/-/epics/6580","group_id":9970,"human_readable_end_date":"Oct 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":92139958,"iid":3489,"project_id":2670515,"title":"Show 'Previous Users Count' and 'Trueup Count' in CustomersDot's list of licenses","description":"Recently LicenseDot was improved by showing the `Previous Users Count` and `Trueup Count` in addition to `Users Count` in the list at https://license.gitlab.com. \\\nThis proves to be very useful while investigating license problems. \\\nBy looking at the values in the list you know which licenses are worth including in the investigation and which are not.\n\nCustomersDot's license list at https://customers.gitlab.com/admin/license only shows `Users Count`. \\\nPlease add `Previous Users Count` and `Trueup Count`.","state":"closed","created_at":"2021-08-17T18:21:40.889Z","updated_at":"2021-09-22T06:30:54.443Z","closed_at":"2021-09-22T06:30:54.414Z","closed_by":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"labels":["Cloud License Sync - V2","Priority Project","[deprecated] Category:Provision","backend","devops::fulfillment","group::provision","priority::3","section::fulfillment","workflow::production"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"}],"author":{"id":4015010,"username":"rverschoor","name":"Rene Verschoor","state":"active","avatar_url":"https://secure.gravatar.com/avatar/34ff23f73913372d0b5c5e5ff4e92819?s=80\u0026d=identicon","web_url":"https://gitlab.com/rverschoor"},"type":"ISSUE","assignee":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3489","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3489","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3489/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3489/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3489","relative":"#3489","full":"gitlab-org/customers-gitlab-com#3489"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6580,"epic":{"id":327648,"iid":6580,"title":"CustomersDot Admin usability feedback","url":"/groups/gitlab-org/-/epics/6580","group_id":9970,"human_readable_end_date":"Oct 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":92075345,"iid":3483,"project_id":2670515,"title":"Inform Sales of limitation when disabling cloud license","description":"For https://gitlab.com/gitlab-org/gitlab/-/issues/337958 we created a temporary fix, however there can be an edge case: \n\n\u003e especially for customers that have multiple instances. Say we have a customer who originally activated using cloud and later wants to use offline licenses. Support or Sales manually updates the Zuora subscription with `TurnOnCloudLicensing__c` as \"No\", and provides the customer with an offline license. Say the customer does not install the license immediately, the Zuora subscription might be reverted back to `TurnOnCloudLicensing__c` as \"Yes\". Those with multiple instances would need to make sure all had an offline license applied before seat link ran again.\n\n@teresatison do you know how we can communicate with Sales/Support that, if we ever want to revert from cloud license back to offline license, the offline license must be applied before seat-link occurs, and **on all instances**?\n\nOur temporary fix will be removed after 1-2 month, after that Sales/Support will no longer need to worry about this.","state":"closed","created_at":"2021-08-17T02:39:18.073Z","updated_at":"2021-10-22T20:54:15.297Z","closed_at":"2021-10-22T20:54:15.283Z","closed_by":{"id":7971452,"username":"teresatison","name":"Teresa Tison","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7971452/avatar.png","web_url":"https://gitlab.com/teresatison"},"labels":["[deprecated] Accepting merge requests","[deprecated] Category:Provision","auto closed","auto updated","devops::fulfillment","group::provision","missed:14.3","missed:14.4","section::fulfillment"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":1986039,"username":"lulalala","name":"Mark Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1986039/avatar.png","web_url":"https://gitlab.com/lulalala"},{"id":7971452,"username":"teresatison","name":"Teresa Tison","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7971452/avatar.png","web_url":"https://gitlab.com/teresatison"}],"author":{"id":1986039,"username":"lulalala","name":"Mark Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1986039/avatar.png","web_url":"https://gitlab.com/lulalala"},"type":"ISSUE","assignee":{"id":1986039,"username":"lulalala","name":"Mark Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1986039/avatar.png","web_url":"https://gitlab.com/lulalala"},"user_notes_count":19,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3483","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":0,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3483","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3483/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3483/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3483","relative":"#3483","full":"gitlab-org/customers-gitlab-com#3483"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":92046756,"iid":3480,"project_id":2670515,"title":"Renewal license has 'Previous users count' set to 'Users count'","description":"### Summary\n\nA renewal license was generated with an incorrect `Previous users count`. \\\nThe `Previous users count` happens to be the same as the `Users count`. \\\n\nThis could be a coincidence, but I recall someone recently mentioning a similar incorrect renewal. \\\nCould not find an issue for it though.\n\n### Workaround\n\nManually create a license with the correct numbers.\n\n### Reported examples\n\n1. https://customers.gitlab.com/admin/license/1000674\n1. https://gitlab.zendesk.com/agent/tickets/232843, https://customers.gitlab.com/admin/license/1000852\n1. https://gitlab.zendesk.com/agent/tickets/242306, https://customers.gitlab.com/admin/license/1003353\n1. https://gitlab.zendesk.com/agent/tickets/237329, https://customers.gitlab.com/admin/license/1003239\n1. https://gitlab.zendesk.com/agent/tickets/242071, https://customers.gitlab.com/admin/license/1003463\n1. https://gitlab.zendesk.com/agent/tickets/242947, https://customers.gitlab.com/admin/license/1004046\n1. https://gitlab.zendesk.com/agent/tickets/251300, https://customers.gitlab.com/admin/license/1008102\n1. https://gitlab.zendesk.com/agent/tickets/255564, https://customers.gitlab.com/admin/license/1010903\n1. https://gitlab.zendesk.com/agent/tickets/258317, https://customers.gitlab.com/admin/license/1012418\n1. https://gitlab.zendesk.com/agent/tickets/261120, https://customers.gitlab.com/admin/license/1014650\n1. https://gitlab.zendesk.com/agent/tickets/279611\n\n\u003c!---\nPlease add both severity and priority level according to: https://docs.gitlab.com/ee/development/contributing/issue_workflow.html#severity-labels\n---\u003e","state":"closed","created_at":"2021-08-16T15:09:09.259Z","updated_at":"2022-04-21T17:13:24.975Z","closed_at":"2022-04-07T18:34:28.222Z","closed_by":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"labels":["[deprecated] Category:Provision","backend","customer","devops::fulfillment","group::provision","section::fulfillment","severity::2","type::bug"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[],"author":{"id":4015010,"username":"rverschoor","name":"Rene Verschoor","state":"active","avatar_url":"https://secure.gravatar.com/avatar/34ff23f73913372d0b5c5e5ff4e92819?s=80\u0026d=identicon","web_url":"https://gitlab.com/rverschoor"},"type":"ISSUE","assignee":null,"user_notes_count":17,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3480","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3480","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3480/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3480/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":"https://gitlab.com/api/v4/projects/2670515/issues/3346"},"references":{"short":"#3480","relative":"#3480","full":"gitlab-org/customers-gitlab-com#3480"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":91951337,"iid":3475,"project_id":2670515,"title":"[UX] Information Hierarchy and General Layout for Support Admin Tool","description":"## User Story\n\nAs a product owner, I want to map current user flows and object domains in CustomersDot Admin Support Tool to help design and improve the information hierarchy and layout for users.\n\n## Deliverables\n\n- IA Documentation\n- List of user flows \n- Conduct interviews with Support tooling users\n- UX Scorecards on user JTBD (Still to be defined)","state":"closed","created_at":"2021-08-13T17:42:36.219Z","updated_at":"2021-10-21T09:35:48.778Z","closed_at":"2021-10-04T19:14:21.806Z","closed_by":{"id":3354144,"username":"timnoah","name":"Tim Noah","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3354144/avatar.png","web_url":"https://gitlab.com/timnoah"},"labels":["Design::Focus","UX","[deprecated] Category:Provision","devops::fulfillment","group::provision","missed:14.2","missed:14.3","section::fulfillment","workflow::ready for design"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":3354144,"username":"timnoah","name":"Tim Noah","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3354144/avatar.png","web_url":"https://gitlab.com/timnoah"}],"author":{"id":7971452,"username":"teresatison","name":"Teresa Tison","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7971452/avatar.png","web_url":"https://gitlab.com/teresatison"},"type":"ISSUE","assignee":{"id":3354144,"username":"timnoah","name":"Tim Noah","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3354144/avatar.png","web_url":"https://gitlab.com/timnoah"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3475","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3475","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3475/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3475/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3475","relative":"#3475","full":"gitlab-org/customers-gitlab-com#3475"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":91947348,"iid":3470,"project_id":2670515,"title":"Exclude trials from deletion of groups/namespaces when they have a subscription","description":"### Problem\n\nAfter the implementation of https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1879 , users can no longer delete a group while there is a trial.\n\nHowever, unlike a regular subscription, trials cannot be removed from a group. So a user must wait 30 days for the trial to expire before having the option to delete the group.\n\nWhile it's not a complete blocker, it is a significant inconvenience for users. If they want it deleted earlier, they have to write into support, who can change the trial expiration date.\n\nJust for reference, we encountered this while wanting to test: https://gitlab.com/gitlab-org/gitlab/-/merge_requests/66951\n\n### Proposal\n\nExclude trials from the subscription check for deletion of groups/namespaces. If needed, we can wait until the trial specific plans `ultimate_trial` and `premium_trial` are in use.\n\n### Result\n\nUsers should be able to delete trial-only namespaces.\n\n### Next steps (if any)\n\n### How will we measure success?","state":"closed","created_at":"2021-08-13T15:44:51.353Z","updated_at":"2023-03-03T19:03:22.815Z","closed_at":"2022-11-29T05:47:36.861Z","closed_by":{"id":5152497,"username":"s_shaik","name":"sameer shaik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2416af270b1fb596b4e9cb3a63a5bcc?s=80\u0026d=identicon","web_url":"https://gitlab.com/s_shaik"},"labels":["Category:Purchase","Support Efficiency","Support Priority","auto updated","automation:prevent-auto-close","backend","customer","devops::fulfillment","group::purchase","section::fulfillment","trials","type::feature"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":5152497,"username":"s_shaik","name":"sameer shaik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2416af270b1fb596b4e9cb3a63a5bcc?s=80\u0026d=identicon","web_url":"https://gitlab.com/s_shaik"}],"author":{"id":2454149,"username":"cynthia","name":"Cynthia \"Arty\" Ng","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2454149/avatar.png","web_url":"https://gitlab.com/cynthia"},"type":"ISSUE","assignee":{"id":5152497,"username":"s_shaik","name":"sameer shaik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2416af270b1fb596b4e9cb3a63a5bcc?s=80\u0026d=identicon","web_url":"https://gitlab.com/s_shaik"},"user_notes_count":22,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3470","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3470","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3470/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3470/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3470","relative":"#3470","full":"gitlab-org/customers-gitlab-com#3470"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":91888517,"iid":3468,"project_id":2670515,"title":"Prod gitlab_customers_dot_jwt_public_key not populating","description":"Related to https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3000\n\nFor some reason, `gitlab_customers_dot_jwt_public_key` is not populating in `secrets.yml` for production. It is for staging. \n\ntemplate updates: https://gitlab.com/gitlab-cookbooks/cookbook-customers-gitlab-com/-/merge_requests/133  \nvault values: https://gitlab.com/gitlab-com/gl-infra/infrastructure/-/issues/13949","state":"closed","created_at":"2021-08-12T17:31:14.924Z","updated_at":"2021-10-14T21:07:14.034Z","closed_at":"2021-09-21T21:40:03.342Z","closed_by":{"id":3614911,"username":"rcobb","name":"Ryan Cobb","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7047b7014264f07daf9836e55fc5ef4c?s=80\u0026d=identicon","web_url":"https://gitlab.com/rcobb"},"labels":["Category:Purchase","backend","devops::fulfillment","group::purchase","missed:14.3","section::fulfillment","workflow::production"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":3614911,"username":"rcobb","name":"Ryan Cobb","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7047b7014264f07daf9836e55fc5ef4c?s=80\u0026d=identicon","web_url":"https://gitlab.com/rcobb"}],"author":{"id":3614911,"username":"rcobb","name":"Ryan Cobb","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7047b7014264f07daf9836e55fc5ef4c?s=80\u0026d=identicon","web_url":"https://gitlab.com/rcobb"},"type":"ISSUE","assignee":{"id":3614911,"username":"rcobb","name":"Ryan Cobb","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7047b7014264f07daf9836e55fc5ef4c?s=80\u0026d=identicon","web_url":"https://gitlab.com/rcobb"},"user_notes_count":14,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3468","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3468","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3468/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3468/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3468","relative":"#3468","full":"gitlab-org/customers-gitlab-com#3468"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":91825782,"iid":3466,"project_id":2670515,"title":"Unify property names for CI Minutes and Storage","description":"While working on !3689 we figured out that we use `productNameFull` and not `productName` in a majority of places withing addons purchase flow. `productName` is only used once for purchase success notification.\n\n- [ ] @sheldonled started a [discussion](https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/3689#note_648238773):  (+4 comments)\n\n    \u003e **question**: can we unify `productName`, `productNameFull`, `productNameShorthand` into just `productName`?\n\n## Suggestion\n\n1. Remove the `productName` from the https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/staging/app/frontend/javascripts/purchase/products.js\n1. Update all usages of `productName` to use `productNameFull`\n1. Rename `productNameFull` into `productName`\n\n## Visual changes that would be caused this way\n\nNo visual changes for CI Minutes, only Storage\n\n| Before (Storage) | After (Storage) |\n| ------ | ------ |\n| ![Screenshot_2021-08-11_at_18.10.48](/uploads/57d3bbc5c53730a28f7f71c79735b46f/Screenshot_2021-08-11_at_18.10.48.png) | ![Screenshot_2021-08-11_at_18.12.47](/uploads/0e571ae3fa7a9ce8c341d744c52a2ecb/Screenshot_2021-08-11_at_18.12.47.png)|","state":"closed","created_at":"2021-08-11T16:15:37.882Z","updated_at":"2021-08-18T07:56:46.173Z","closed_at":"2021-08-18T07:56:46.160Z","closed_by":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"labels":["Category:Purchase","Unplanned","devops::fulfillment","frontend","group::purchase","section::fulfillment","workflow::production"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"}],"author":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"type":"ISSUE","assignee":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3466","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3466","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3466/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3466/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3466","relative":"#3466","full":"gitlab-org/customers-gitlab-com#3466"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":91751032,"iid":3463,"project_id":2670515,"title":"Update Storybook setup","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n### Problem\nStorybook has an outdated setup and is not widely used for dev/design topics rather for test runs.\n\n### Proposal\nWe can get more out of the tool, it offers a great dev environment for isolated components. It can be used together by designer and developer to check components before they land in staging/production.\n\nTo achieve it, we could introduce a couple of addons that make developers lives easier. As a minimum, we should consider adding [essential addons](https://storybook.js.org/docs/vue/essentials/introduction) (especially [controls](https://storybook.js.org/docs/vue/essentials/controls) that offers dynamic props change). These addons are already used by `gitlab` project.\n\nAlso, it's time to migrate the setup to use `main.js`, `preview.js` and add postcss-addon on top. It would not only remove the deprecation warnings but make us ready for Storybook 7 (most likely to be released in 2021).\n\n### Next steps (if any)\nIf we cover the two topics above, we can consider updating the old and/or building new stories utilizing mentioned addons and involving designers to check/test components and pages in Storybook.","state":"closed","created_at":"2021-08-10T13:59:36.649Z","updated_at":"2021-11-26T16:33:40.761Z","closed_at":"2021-11-26T15:06:36.339Z","closed_by":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"labels":["Unplanned","devops::fulfillment","frontend","maintenance::refactor","section::fulfillment","workflow::production"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"}],"author":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"type":"ISSUE","assignee":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3463","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3463","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3463/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3463/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3463","relative":"#3463","full":"gitlab-org/customers-gitlab-com#3463"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":91660967,"iid":3459,"project_id":2670515,"title":"CI Minutes Provisioning - Trigger namespace change","description":"### Establish CI Minute Purchase Identifiers on GitLab\n\nThe following outlines requirements from the architecture proposal as defined in !3142, we've split up the tasks into separate issues along system boundaries.\n\n**Base components**\n\n* [x] Add a table in the GitLab DB: https://gitlab.com/gitlab-org/gitlab/-/merge_requests/62393\n\n**API (re-)Sync components**\n\n* [x] Create a new endpoint that moves packs: https://gitlab.com/gitlab-org/gitlab/-/merge_requests/64212\n\n**Support Namespace Changes**\n\n* [x] Trigger an update of the namespace ID via the endpoint added above :point_left_tone3: **we are here**\n\n\n### Testing and verification\n\nAs part of this work, we have put https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/2925 behind a feature flag until this issue is complete. We will need to verify both flows (new purchases and namespace changes) are applied correctly once this work is complete and the feature flag enabled.","state":"closed","created_at":"2021-08-09T07:53:34.509Z","updated_at":"2021-09-16T15:17:47.994Z","closed_at":"2021-09-16T15:17:47.658Z","closed_by":{"id":5249152,"username":"vij","name":"Vijay Hawoldar","state":"active","avatar_url":"https://secure.gravatar.com/avatar/14567a8b4af4374011c43778878de399?s=80\u0026d=identicon","web_url":"https://gitlab.com/vij"},"labels":["[deprecated] Category:Utilization","backend","devops::fulfillment","feature::addition","group::utilization","section::fulfillment","type::feature","workflow::verification"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":5249152,"username":"vij","name":"Vijay Hawoldar","state":"active","avatar_url":"https://secure.gravatar.com/avatar/14567a8b4af4374011c43778878de399?s=80\u0026d=identicon","web_url":"https://gitlab.com/vij"}],"author":{"id":5249152,"username":"vij","name":"Vijay Hawoldar","state":"active","avatar_url":"https://secure.gravatar.com/avatar/14567a8b4af4374011c43778878de399?s=80\u0026d=identicon","web_url":"https://gitlab.com/vij"},"type":"ISSUE","assignee":{"id":5249152,"username":"vij","name":"Vijay Hawoldar","state":"active","avatar_url":"https://secure.gravatar.com/avatar/14567a8b4af4374011c43778878de399?s=80\u0026d=identicon","web_url":"https://gitlab.com/vij"},"user_notes_count":14,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3459","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":3},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3459","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3459/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3459/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3459","relative":"#3459","full":"gitlab-org/customers-gitlab-com#3459"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5715,"epic":{"id":244743,"iid":5715,"title":"CI Minutes provisioning API Updates","url":"/groups/gitlab-org/-/epics/5715","group_id":9970,"human_readable_end_date":"Oct 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":91571479,"iid":3452,"project_id":2670515,"title":"Remove version check when setting Super Sonics flags processing renewal amendments","description":"### Problem\n\nAs described in [this thread](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3034#note_639971420):\n\n\u003e Just to summarize where we are now, we decided that for renewals to be eligible for cloud licensing we would check a number of factors ([defined here in code](https://gitlab.com/gitlab-org/customers-gitlab-com/blob/b7ab6e6ec6167bfae68f5cd045e245bb7500c0c3/app/workers/zuora_callback_worker.rb#L113)) when processing the renewal amendment callout. The one that I'm wondering about is the gitlab version check. This check works by querying for the latest seat link record for the subscription where the gitlab version is available, and compares this version to the minimum version requirement for cloud licensing (14.1).\n\u003e\n\u003e I think this is a problem because after we decided on this path, we later decided to no longer send seat link data from GitLab starting on version 14.1 unless the SM instance did has a license with cloud licensing enabled. I don't see how any renewal would be eligible for cloud licensing given we won't receive the version data for 14.1.\n\u003e \n\u003e Now that we are rolling out with both types of licenses (offline and cloud), I wonder if we shouldn't just remove the GitLab version requirement altogether. Before we were concerned about forcing customers into the cloud license strategy that they weren't prepared for, but that shouldn't matter now.\n\u003e\n\u003e It has some nice side benefits as well like:\n\u003e\n\u003e 1. Gets more people with the option of cloud licensing.\n\u003e 1. Might entice more customers to upgrade their GitLab version when renewing.\n\u003e 1. Removes a query against the LicenseSeatLink table which probably won't be performant over time.\n\u003e 1. Makes the code cleaner.\n\n### Proposal\n\nRemove [the GitLab version check](https://gitlab.com/gitlab-org/customers-gitlab-com/blob/7c54a467dcecf386814d5d9e524c98b6be87dc07/app/workers/zuora_callback_worker.rb#L118) that happens in the `ZuoraCallbackWorker` as part of the logic to decide whether the subscription should have the Super Sonics custom fields set at renewal.","state":"closed","created_at":"2021-08-06T14:51:25.947Z","updated_at":"2021-10-28T13:54:13.386Z","closed_at":"2021-08-16T19:28:59.013Z","closed_by":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"labels":["Cloud License Sync - V2","Priority Project","[deprecated] Category:Provision","[deprecated] 🍎","backend","devops::fulfillment","group::provision","priority::1","section::fulfillment","type::maintenance","workflow::production"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"}],"author":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"type":"ISSUE","assignee":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3452","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3452","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3452/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3452/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3452","relative":"#3452","full":"gitlab-org/customers-gitlab-com#3452"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":91559700,"iid":3449,"project_id":2670515,"title":"Downloading a license results in a new license being generated","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"bug\" label in relevant trackers:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n- https://gitlab.com/gitlab-org/customers-gitlab-com/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n\nDo not include confidential information!\n---\u003e\n\n### Summary\n\nEach time a license is downloaded from the `Customers Portal \u003e Manage purchases` screen, a new license is generated.\n\n### Steps to reproduce\n\n- Go to `Customers Portal \u003e Manage purchases` screen\n- Use the `Download license` button to download the license file. Do this twice.\n- Observe in https://customers.gitlab.com/admin/license that the license was created twice. Inspecting the details page will show a different digest and key.\n- Decoding the downloaded files will show that the information is the same in both files.\n\n### What is the current *bug* behavior?\n\nEach time a license is downloaded from the `Customers Portal \u003e Manage purchases` screen, a new license is generated.\n\nPossibly relevant is that for the subscription where I observed this behavior the existing license was present in LicenseDot, but not yet in CustomersDot.\n\n### What is the expected *correct* behavior?\n\nEach time a license is downloaded from the `Customers Portal \u003e Manage purchases` screen, the existing license is returned.\n\n### Relevant logs and/or screenshots\n\n(Paste any relevant logs - please use code blocks (```) to format console output,\nlogs, and code as it's tough to read otherwise.)\n\n### Workarounds\n\n(Ways to get around the issue)\n\n### Reported examples\n\n1.\n1.\n1.\n\n\u003c!---\nPlease add both severity and priority level according to: https://docs.gitlab.com/ee/development/contributing/issue_workflow.html#severity-labels\n---\u003e","state":"closed","created_at":"2021-08-06T11:04:24.338Z","updated_at":"2021-09-03T13:02:16.861Z","closed_at":"2021-09-03T13:02:16.840Z","closed_by":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"labels":["Cloud License Sync - V2","Priority Project","[deprecated] Category:Provision","backend","devops::fulfillment","group::provision","priority::2","section::fulfillment","type::bug","workflow::production"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"}],"author":{"id":4015010,"username":"rverschoor","name":"Rene Verschoor","state":"active","avatar_url":"https://secure.gravatar.com/avatar/34ff23f73913372d0b5c5e5ff4e92819?s=80\u0026d=identicon","web_url":"https://gitlab.com/rverschoor"},"type":"ISSUE","assignee":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3449","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3449","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3449/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3449/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3449","relative":"#3449","full":"gitlab-org/customers-gitlab-com#3449"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":91549815,"iid":3448,"project_id":2670515,"title":"[FE] Validate activation code length on frontend","description":"### Problem\n\nMany tried to pass the license file as an activation code during Cloud License activation. License files are all very long while activation codes are a length of 24 characters.\n\n### Proposal\n\n- We should validate the length of the activation code in the front end. This can quickly help customers to understand that they have entered the wrong thing in the activation code field.\n- We should also include some help text underneath the activation input field...\u003cbr\u003e`This activation code is a 24-character alphanumeric string.`\n\n![Frame_21](/uploads/cb9dba022be5e8210672911422124b18/Frame_21.png)\n\n### Result\n\n- Customer can learn about mistakes more quickly.\n- Reduce errors on sentry","state":"closed","created_at":"2021-08-06T08:28:04.182Z","updated_at":"2021-10-04T10:56:41.872Z","closed_at":"2021-10-04T10:56:41.858Z","closed_by":{"id":4961018,"username":"mlunoe","name":"Michael Lunøe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4961018/avatar.png","web_url":"https://gitlab.com/mlunoe"},"labels":["Cloud License Sync - V2","[deprecated] Category:Provision","[deprecated] 🍎","devops::fulfillment","frontend","group::provision","section::fulfillment","usability","workflow::staging"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":4961018,"username":"mlunoe","name":"Michael Lunøe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4961018/avatar.png","web_url":"https://gitlab.com/mlunoe"}],"author":{"id":1986039,"username":"lulalala","name":"Mark Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1986039/avatar.png","web_url":"https://gitlab.com/lulalala"},"type":"ISSUE","assignee":{"id":4961018,"username":"mlunoe","name":"Michael Lunøe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4961018/avatar.png","web_url":"https://gitlab.com/mlunoe"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3448","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3448","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3448/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3448/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3448","relative":"#3448","full":"gitlab-org/customers-gitlab-com#3448"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":91511127,"iid":3445,"project_id":2670515,"title":"Seat Link fails when license data contains subscription id exceeding 64 characters","description":"https://sentry.gitlab.net/gitlab/customersgitlabcom/issues/2708483/?referrer=gitlab_plugin\n\n```\nPG::StringDataRightTruncation: ERROR:  value too long for type character varying(64)\n\n  app/services/seat_link_create_service.rb:22:in `execute'\n    if seat_link.save\n  app/controllers/api/v1/seat_links_controller.rb:13:in `create'\n    ).execute\n  lib/middleware/health_check/health_check_responder.rb:14:in `call'\n    return @app.call(env) if format.nil? || (ip_blocked(env) \u0026\u0026 not_authenticated(env))\n...\n(135 additional frame(s) were not displayed)\n\nActiveRecord::ValueTooLong: PG::StringDataRightTruncation: ERROR:  value too long for type character varying(64)\n```\n\n### Problem\n\nSeat Link fails when the license in the request contains a `zuora_subscription_id` that exceeds the limit (64 characters) for this column in the `license_seat_links` table.  This appears to be happening because LicenseDot does not have a length limit on the `zuora_subscription_id` column and some manually created licenses exceeded 64 characters.  When these licenses are received used for Seat Link, we see the errors like above.\n\nIn reality, a `zuora_subscription_id` should only be 32 characters in length so anything longer than that is likely a mistake.  It appears there are 9 licenses currently in LicenseDot that exceed this limit.  In all 9 cases, the `zuora_subscription_id` appears to be a mistake, where a URL was entered instead of an id (see below from LicenseDot).\n\n```\nirb(main):001:0\u003e License.where('LENGTH(zuora_subscription_id) \u003e 64').count\nD, [2021-08-05T15:03:28.552984 #62] DEBUG -- :    (477.9ms)  SELECT COUNT(*) FROM \"licenses\" WHERE (LENGTH(zuora_subscription_id) \u003e 64)\n=\u003e 9\n\nirb(main):002:0\u003e licenses = License.where('LENGTH(zuora_subscription_id) \u003e 64').pluck(:zuora_subscription_id)\n=\u003e [\"https://www.zuora.com/apps/Subscription.do?method=view\u0026id=2c92a0fe65cb1a800165d208b79e5a56\", \"2c92a0fd7912307c01791493f4342e59#anchor2c92a0fd7912307c01791493f4592e5e\", \"https://www.zuora.com/apps/Subscription.do?method=view\u0026id=2c92a0ff64176cd401641ee1a7ce411b\", \"https://gitlab.recurly.com/subscriptions/36cee8c72c0efd0ceb07ec4c04b8367a\", \"https://gitlab.recurly.com/subscriptions/36cee8c72c0efd0ceb07ec4c04b8367a\", \"https://gitlab.recurly.com/subscriptions/36cee8c72c0efd0ceb07ec4c04b8367a\", \"https://www.zuora.com/apps/Subscription.do?method=view\u0026id=2c92a0fe65cb1a800165d208b79e5a56\", \"https://www.zuora.com/apps/Subscription.do?method=view\u0026id=https://www.zuora.com/apps/Subscription.do?method=view\u0026id=2c92a0fe65cb1a800165d208b79e5a56\", \"https://www.zuora.com/apps/Subscription.do?method=view\u0026id=2c92a0ff67756a270167762a68561538\"]\n```\n\n### Proposal\n\nThis error should not happen with cloud licensing but there are things we can do to limit this happening going forward.  Here are some things to consider:\n\n- We can validate the `zuora_subscription_id` when creating licenses.  We have an issue for this already: https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3385.\n- We should include rails validations on the `License` model to match the limit DB constraints for a better user experience when creating licenses.\n- We could have sales or support provide corrected licenses to customers to avoid the errors above.","state":"closed","created_at":"2021-08-05T15:17:56.666Z","updated_at":"2023-03-13T17:23:05.135Z","closed_at":"2022-03-02T08:24:39.744Z","closed_by":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"labels":["Cloud License Sync - V2","Cloud Licensing","GitLab Premium","GitLab Ultimate","[deprecated] Accepting merge requests","[deprecated] Category:Provision","backend","customer","devops::fulfillment","group::provision","section::fulfillment","workflow::production"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"}],"author":{"id":402401,"username":"jobbot","name":"Bot","state":"active","avatar_url":"https://secure.gravatar.com/avatar/aaa6738f1ebf25404010884af511b0e7?s=80\u0026d=identicon","web_url":"https://gitlab.com/jobbot"},"type":"ISSUE","assignee":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3445","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3445","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3445/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3445/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3445","relative":"#3445","full":"gitlab-org/customers-gitlab-com#3445"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":91483446,"iid":3440,"project_id":2670515,"title":"[Daily Pipeline Fails 4 of 4] Enable daily pipeline run with empty VCR cassettes again","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n### Problem\n\nThe [daily pipeline run with empty VCR cassettes](https://gitlab.com/gitlab-org/customers-gitlab-com/-/pipeline_schedules/118484/edit) has been disabled for over a year now. The pipeline didn't pass back then since a lot of new specs were added that use VCR cassettes but there wasn't a rerecordability for all of them.\n\n### Proposal\n\nAfter all other issues from [the epic](https://gitlab.com/groups/gitlab-org/-/epics/6519) are closed, enable the daily pipeline run with empty VCR cassettes again.\n\n### Result\n\nThe daily pipeline run with empty VCR cassettes\n\n### Next steps (if any)\n\n### How will we measure success?","state":"closed","created_at":"2021-08-05T08:59:54.430Z","updated_at":"2022-03-16T11:39:42.687Z","closed_at":"2021-11-03T11:55:08.307Z","closed_by":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"labels":["[deprecated] Category:Provision","backend","devops::fulfillment","group::provision","maintenance::pipelines","section::fulfillment","trials","type::maintenance","workflow::production"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"}],"author":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"type":"ISSUE","assignee":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3440","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3440","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3440/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3440/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3440","relative":"#3440","full":"gitlab-org/customers-gitlab-com#3440"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6519,"epic":{"id":320598,"iid":6519,"title":"Daily pipeline run fails due to empty vcr cassettes","url":"/groups/gitlab-org/-/epics/6519","group_id":9970,"human_readable_end_date":"Nov 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":91482844,"iid":3439,"project_id":2670515,"title":"[Daily Pipeline Fails 3 of 4] Evaluate LicenseDot instance usage for daily pipeline run with empty VCR cassettes","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n### Problem\n\nSimilar to https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3438, we may require an instance for LicenseDot to use for the daily pipeline run with empty VCR cassettes.\n\n**Note:** It might make sense to tackle https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3551 before this issue since it won't be necessary to have a LicenseDot instance anymore then.\n\n### Proposal\n\n- Evaluate if it's sufficient to reuse LicenseDot staging since LicenseDot is going to be deprecated at some point (if yes, weight: 1)\n- If the answer to the above is no, implement something like a temp instance similar to what is being done for a temp GitLab instance in https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3438 (weight: 3)\n\n### Result\n\nClean separation between an instance that is only needed for specs and other envs.\n\n### Next steps (if any)\n\n### How will we measure success?","state":"closed","created_at":"2021-08-05T08:53:26.945Z","updated_at":"2022-03-16T11:39:43.265Z","closed_at":"2021-10-13T07:19:38.343Z","closed_by":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"labels":["[deprecated] Category:Provision","backend","devops::fulfillment","group::provision","maintenance::pipelines","section::fulfillment","type::maintenance","won't do"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[],"author":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"type":"ISSUE","assignee":null,"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3439","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":0,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3439","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3439/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3439/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3439","relative":"#3439","full":"gitlab-org/customers-gitlab-com#3439"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6519,"epic":{"id":320598,"iid":6519,"title":"Daily pipeline run fails due to empty vcr cassettes","url":"/groups/gitlab-org/-/epics/6519","group_id":9970,"human_readable_end_date":"Nov 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":91482450,"iid":3438,"project_id":2670515,"title":"[Daily Pipeline Fails 2 of 4] Use temp GitLab instance for daily pipeline run with empty VCR cassettes","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n### Problem\n\nThere are quite a few requests that are sent to a GitLab instance when running the test suite with empty VCR cassettes. Since the requests are not only get requests, but also put and post ones, we need a own GitLab instance for the daily pipeline run with empty VCR cassettes.\n\n### Proposal\n\n- Check with QA how they spin up a docker instance for the E2E tests (https://gitlab.com/groups/gitlab-org/-/epics/6519#note_643775127)\n- Implement the same for the daily pipeline run\n- Seed the instance with the test data from [this spec support class](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/3f0cc55d1ef0ee32df77719f5cb5a6743c37b5b3/spec/support/gitlab_seed_service.rb)\n\n### Result\n\nAn instance that is only used for specs to write and read data from without polluting other environments like GitLab.com staging.\n\n### Next steps (if any)\n\n### How will we measure success?","state":"closed","created_at":"2021-08-05T08:49:16.731Z","updated_at":"2022-07-13T15:21:54.232Z","closed_at":"2021-10-22T06:18:35.617Z","closed_by":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"labels":["[deprecated] Category:Provision","backend","devops::fulfillment","group::provision","maintenance::pipelines","missed:14.3","missed:14.4","section::fulfillment","type::maintenance","workflow::production"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"}],"author":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"type":"ISSUE","assignee":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"user_notes_count":21,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3438","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3438","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3438/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3438/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3438","relative":"#3438","full":"gitlab-org/customers-gitlab-com#3438"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6519,"epic":{"id":320598,"iid":6519,"title":"Daily pipeline run fails due to empty vcr cassettes","url":"/groups/gitlab-org/-/epics/6519","group_id":9970,"human_readable_end_date":"Nov 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":91481961,"iid":3437,"project_id":2670515,"title":"Automatically retry failed specs in a pipeline run","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n### Problem\n\nSome specs in the test suite require multiple tries in order to pass. This is going to be a problem for the daily pipeline run with empty VCR cassettes.\n\n### Proposal\n\nImplement retry mechanism into the test suite. Evaluate gems like [rspec-retry](https://github.com/NoRedInk/rspec-retry) that QA is using for E2E tests.\n\n### Result\n\nMaking a successful pipeline run with empty VCR cassettes possible by avoiding failures due to random errors like flaky specs, Zuora timeouts or not finding an element.\n\n### Next steps (if any)\n\n### How will we measure success?","state":"closed","created_at":"2021-08-05T08:42:09.618Z","updated_at":"2022-03-16T11:39:45.395Z","closed_at":"2021-08-05T08:42:53.024Z","closed_by":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"labels":["[deprecated] Category:Provision","backend","devops::fulfillment","group::provision","maintenance::pipelines","section::fulfillment","type::maintenance","workflow::in dev"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[],"author":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"type":"ISSUE","assignee":null,"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3437","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":0,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3437","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3437/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3437/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3437","relative":"#3437","full":"gitlab-org/customers-gitlab-com#3437"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6519,"epic":{"id":320598,"iid":6519,"title":"Daily pipeline run fails due to empty vcr cassettes","url":"/groups/gitlab-org/-/epics/6519","group_id":9970,"human_readable_end_date":"Nov 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":91481780,"iid":3436,"project_id":2670515,"title":"Automatically retry failed specs in a pipeline run","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n### Problem\n\nSome specs in the test suite require multiple tries in order to pass. This is going to be a problem for the daily pipeline run with empty VCR cassettes.\n\n### Proposal\n\nImplement retry mechanism into the test suite. Evaluate gems like [rspec-retry](https://github.com/NoRedInk/rspec-retry) that QA is using for E2E tests.\n\n### Result\n\nMaking a successful pipeline run with empty VCR cassettes possible by avoiding failures due to random errors like flaky specs, Zuora timeouts or not finding an element.\n\n### Next steps (if any)\n\n### How will we measure success?","state":"closed","created_at":"2021-08-05T08:39:37.117Z","updated_at":"2022-03-16T11:39:46.006Z","closed_at":"2021-08-24T19:11:58.695Z","closed_by":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"labels":["[deprecated] Category:Provision","backend","devops::fulfillment","group::provision","maintenance::pipelines","missed:14.2","section::fulfillment","type::maintenance","workflow::verification"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"}],"author":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"type":"ISSUE","assignee":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3436","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3436","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3436/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3436/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3436","relative":"#3436","full":"gitlab-org/customers-gitlab-com#3436"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6519,"epic":{"id":320598,"iid":6519,"title":"Daily pipeline run fails due to empty vcr cassettes","url":"/groups/gitlab-org/-/epics/6519","group_id":9970,"human_readable_end_date":"Nov 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":91481528,"iid":3435,"project_id":2670515,"title":"[Daily Pipeline Fails 1 of 4] Make all specs rerecordable","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n### Problem\n\nFor the daily pipeline run with empty VCR cassettes, we have to make sure that all specs that use VCR are rerecordable.\n\n### Proposal\n\nFind specs that are not rerecordable and fix them.\n\n### Result\n\nAll specs being rerecordable.\n\n### Next steps (if any)\n\n### How will we measure success?","state":"closed","created_at":"2021-08-05T08:35:12.343Z","updated_at":"2022-03-16T11:39:46.557Z","closed_at":"2021-09-01T10:05:28.515Z","closed_by":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"labels":["[deprecated] Category:Provision","backend","devops::fulfillment","group::provision","maintenance::pipelines","missed:14.2","section::fulfillment","type::maintenance","workflow::production"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"}],"author":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"type":"ISSUE","assignee":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3435","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3435","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3435/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3435/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3435","relative":"#3435","full":"gitlab-org/customers-gitlab-com#3435"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6519,"epic":{"id":320598,"iid":6519,"title":"Daily pipeline run fails due to empty vcr cassettes","url":"/groups/gitlab-org/-/epics/6519","group_id":9970,"human_readable_end_date":"Nov 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":91457274,"iid":3432,"project_id":2670515,"title":"Feature Request: add 'download license' to admin section","description":"With license file management moving into CustomerDot admin section now, there doesn't appear to be a way to download the license file, a function that was very useful in LicenseDot.  You can see the license text, but this is not useful for downloading and sending it along; the line breaks get converted into spaces which breaks the license.  Also it's just more convenient having a one-click option for retrieving the license.\n\nThere's sort of a workaround by impersonating the user and downloading the file, but this is only applicable to the most recent version of a license, and is error prone ([1](https://gitlab.com/gitlab-org/license-gitlab-com/-/issues/217) [2](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3419) [3](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/2799))\n\n### Availability \u0026 Testing\n\n\u003c!-- This section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\nWhat risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning --\u003e\n\nFrontend and feature tests should accompany this change.\n\n- Frontend tests should ensure that the download license link is present.\n- Feature test should ensure that the appropriate MIME is presented, as well as the content within.  (Validate that the downloaded content is the same as the text displayed.)","state":"closed","created_at":"2021-08-04T20:06:59.838Z","updated_at":"2021-12-07T10:12:28.347Z","closed_at":"2021-10-15T19:26:40.562Z","closed_by":{"id":7971452,"username":"teresatison","name":"Teresa Tison","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7971452/avatar.png","web_url":"https://gitlab.com/teresatison"},"labels":["[deprecated] Category:Provision","backend","devops::fulfillment","group::provision","quad-planning::complete-action","section::fulfillment","type::feature","workflow::ready for development"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[],"author":{"id":4447183,"username":"kevenhughes","name":"Keven Hughes","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4447183/avatar.png","web_url":"https://gitlab.com/kevenhughes"},"type":"ISSUE","assignee":null,"user_notes_count":7,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3432","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3432","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3432/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3432/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3432","relative":"#3432","full":"gitlab-org/customers-gitlab-com#3432"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6580,"epic":{"id":327648,"iid":6580,"title":"CustomersDot Admin usability feedback","url":"/groups/gitlab-org/-/epics/6580","group_id":9970,"human_readable_end_date":"Oct 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":91449921,"iid":3430,"project_id":2670515,"title":"Cloud License: Investigate reseller purchases getting activation codes","description":"### Summary\n\n[Related slack](https://gitlab.slack.com/archives/C018C623KBJ/p1628090677137200?thread_ts=1628088842.119600\u0026cid=C018C623KBJ)\n\nReseller purchased licenses should not create and send cloud activation codes.\n\n@teresatison mentioned in slack:\n\n\u003e reseller was out of scope for V1, so no changes there.\n\nBut per @amandarueda \n\n\u003e We should have a look into this because an activation code was generated for this reseller deal.\n\n### Reported examples\n\n1. https://gitlab-federal-support.zendesk.com/agent/tickets/1258 (US team only)\n1.\n1.\n\n\u003c!---\nPlease add both severity and priority level according to: https://docs.gitlab.com/ee/development/contributing/issue_workflow.html#severity-labels\n---\u003e","state":"closed","created_at":"2021-08-04T16:40:12.780Z","updated_at":"2023-03-13T17:23:04.857Z","closed_at":"2022-05-19T17:58:06.482Z","closed_by":{"id":9655539,"username":"ofernandez2","name":"Omar Fernandez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9655539/avatar.png","web_url":"https://gitlab.com/ofernandez2"},"labels":["Cloud License Sync - V2","Cloud Licensing","Priority Project","[deprecated] Category:Provision","devops::fulfillment","group::provision","priority::4","product work","section::fulfillment","severity::4","type::bug","workflow::validation backlog"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":4447183,"username":"kevenhughes","name":"Keven Hughes","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4447183/avatar.png","web_url":"https://gitlab.com/kevenhughes"},"type":"ISSUE","assignee":null,"user_notes_count":8,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3430","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3430","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3430/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3430/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3430","relative":"#3430","full":"gitlab-org/customers-gitlab-com#3430"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":91448543,"iid":3429,"project_id":2670515,"title":"Allow edits to super_sonics_aware in Admin interface","description":"### Problem\n\nAs discussed in [this Slack thread](https://gitlab.slack.com/archives/CNA13RPPA/p1627925913041500?thread_ts=1627924518.040700\u0026cid=CNA13RPPA), there might be times when Admins would need to edit the `super_sonics_aware` flag for `CloudActivation` records.  This currently isn't possible in the Admin interface.\n\n### Proposal\n\nAllow the `super_sonics_aware` field to be editable from the Admin interface.  We should probably document when this feature should be used.  For example, a customer must legally accept new terms of service before using cloud licensing so this should be known before enabling `super_sonics_aware` for a subscription.\n\n### Availability \u0026 Testing\n\n\u003c!-- This section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\nWhat risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning --\u003e\n\nWith the possibility of the \"accepting new terms of service\", this would call for a new end-to-end test to be created to test this flow.  A [test case](https://gitlab.com/gitlab-org/customers-gitlab-com/-/quality/test_cases) should be created and a test should be written.","state":"closed","created_at":"2021-08-04T16:08:36.151Z","updated_at":"2021-09-06T02:18:32.212Z","closed_at":"2021-09-06T02:18:32.200Z","closed_by":{"id":1986039,"username":"lulalala","name":"Mark Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1986039/avatar.png","web_url":"https://gitlab.com/lulalala"},"labels":["Cloud License Sync - V2","Priority Project","[deprecated] Category:Provision","backend","devops::fulfillment","feature::addition","group::provision","priority::2","quad-planning::complete-no-action","section::fulfillment","type::feature","workflow::verification"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":1986039,"username":"lulalala","name":"Mark Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1986039/avatar.png","web_url":"https://gitlab.com/lulalala"}],"author":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"type":"ISSUE","assignee":{"id":1986039,"username":"lulalala","name":"Mark Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1986039/avatar.png","web_url":"https://gitlab.com/lulalala"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3429","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3429","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3429/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3429/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3429","relative":"#3429","full":"gitlab-org/customers-gitlab-com#3429"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":91447558,"iid":3427,"project_id":2670515,"title":"CloudActivation should match on subscription_name only","description":"### Problem\n\nWe realized in a few cases distinct customer records in CustomersDot can share the same `zuora_account_id`.  Cloud Activations have attributes for `subscription_name` and `customer_id`.  Both attributes are currently used when finding a cloud activation for a subscription ([code](https://gitlab.com/gitlab-org/customers-gitlab-com/blob/748cbc04aee7725b5d6d9544f64768bcf5756768/app/models/subscription.rb#L420)), despite the fact that the subscription could be shared by multiple customer accounts.  This leads to a problem where a customer that has access to a subscription but wasn't the creator of the subscription does not see the activation code in the subscription card in CustomersDot.\n\n![Screen_Shot_2021-08-04_at_9.16.50_AM](/uploads/8957e12288942df79de6dc3d6b47a7f6/Screen_Shot_2021-08-04_at_9.16.50_AM.png)\n\nSee [this Slack thread](https://gitlab.slack.com/archives/CNA13RPPA/p1628085874075700) for more details.\n\n### Proposal\n\nUpdate the [code for finding a cloud activation](https://gitlab.com/gitlab-org/customers-gitlab-com/blob/748cbc04aee7725b5d6d9544f64768bcf5756768/app/models/subscription.rb#L420) for a subscription to only look up by `subscription_name`.  Find any other cloud activation code that involves `customer_id` and consider whether it should be adjusted.","state":"closed","created_at":"2021-08-04T15:43:10.092Z","updated_at":"2021-08-06T17:50:18.920Z","closed_at":"2021-08-06T17:50:18.898Z","closed_by":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"labels":["Cloud License Sync - V2","Priority Project","[deprecated] Category:Provision","backend","devops::fulfillment","group::provision","priority::1","section::fulfillment","type::bug","workflow::production"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"}],"author":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"type":"ISSUE","assignee":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3427","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3427","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3427/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3427/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3427","relative":"#3427","full":"gitlab-org/customers-gitlab-com#3427"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":91432439,"iid":3426,"project_id":2670515,"title":"Namespace Select should take advantage of v-model","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n### Problem\n\nOur [`NamespaceSelect` Component](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/staging/app/frontend/javascripts/purchase/components/namespace_select.vue) helps us in managing the namespaces selection nicely. There are a couple of things we can improve though:\n\n1. its API forces the parent to manually manage the state\n1. its API seems to have knowledge the parents will use the data for some other actions\n1. its usage from the parent components is not always consistent\n\n|An example from Storybook|\n|-|\n|![Screenshot_2021-08-04_at_14.03.07](/uploads/ddb754f9c2d21767a70e3b313756b474/Screenshot_2021-08-04_at_14.03.07.png)|\n\n### Proposal\n\nTo help with the improvements above, let's make the `NamespaceSelect` `v-model`-ready by [configuring it](https://vuejs.org/v2/api/#model):\n- using `change` event to propagate the selection, which is the newly selected `namespace`:\n- `value` as the prop for the selected namespace\n- `initialNamespaceId` would be good to stay only as a non-required prop to define the initially selected id\n\nA selector is a quite common scenario where a `v-model` would turn useful to avoid 1). Also, a `v-model`-enabled component can support divergent usages (like the ones specified in the [notes below](#notes)), but should not be designed based on the assumption of such usages.\n\n### Notes\n\nThe namespace selection is sometimes used to perform other operations as a consequence of the selection (see examples of usage). While this might not be ideal, changing this approach would result in a much larger scope. To circumvent this, we can rely on the usage of `watch`:\n\n```js\nwatch: {\n    selectedNamespace() {\n      // operation to perform\n    },\n  },\n```\n\nIn at least one case, the `change` event is just proxied. This is a valid approach for `v-model`-enabled components as well. We can keep it as-is.\n\n### Result\n\nHaving this way, we can avoid manual handling of data mutation in some of the parent components using it. Here's a list of where it's used:\n\n- [New GitLab Subscription Form](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/staging/app/frontend/javascripts/subscription/components/new_gitlab_subscription_form.vue)\n- [Change Namespace Form](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/staging/app/frontend/javascripts/subscription/components/change_namespace_form.vue)\n- [Purchase Details Card](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/staging/app/frontend/javascripts/purchase/components/purchase_details_card.vue)\n\n### Next steps (if any)\n\nAfter having introduced `v-model` capability for the component, tag `@fulfillment-group/fe` on the Issue to notify them of the change and/or share the news in `#s_fulfillment_engineering`.","state":"closed","created_at":"2021-08-04T12:13:06.441Z","updated_at":"2022-08-22T00:02:28.206Z","closed_at":"2022-08-22T00:02:28.190Z","closed_by":{"id":1786152,"username":"gitlab-bot","name":"🤖 GitLab Bot 🤖","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1786152/avatar.png","web_url":"https://gitlab.com/gitlab-bot"},"labels":["Category:Purchase","auto closed","auto updated","devops::fulfillment","frontend","group::purchase","maintenance::refactor","onboarding","section::fulfillment"],"milestone":null,"assignees":[],"author":{"id":6348276,"username":"agulina","name":"Angelo Gulina","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b28693a558066993ea93b7272208d285?s=80\u0026d=identicon","web_url":"https://gitlab.com/agulina"},"type":"ISSUE","assignee":null,"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3426","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3426","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3426/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3426/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3426","relative":"#3426","full":"gitlab-org/customers-gitlab-com#3426"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":91396768,"iid":3421,"project_id":2670515,"title":"Multi Year Subscriptions and License file start/end dates","description":"### Summary\n\nSelf-managed subscriptions sold with a validity period greater than 12 months result in a license file always being generated for the original start date and original end date.  This includes any amendments made to the subscription, such as adding users, often resulting in the system generating a license file with a 12-month validity period in the past.\n\n\n### Steps to reproduce\n\n1. Have a multi-year subscription\n1. Create any amendment to it that would result in a new license being generated, like adding seats to the license, during year 2 or 3.\n\n### What is the current *bug* behavior?\n\nLicense files created with outdated validity periods. \n\n**Reason:**\n* We generate a legacy license with `term_start_date` + 1 year based on our logic of generating all legacy licenses for 1 year.\n* The problem with this is that `term_start_date` matches the original subscription start date - so when we are year 2 or 3 of a MY subscription and a new license is generated, it will be for the first year only.\n\n### What is the expected *correct* behavior?\nGenerate a license file that matches the relevant, current year of the subscription.\n\n\n### Workarounds\n\nGenerate license manually with the correct dates.\n\n### Reported examples\n\n1. https://license.gitlab.com/licenses/180420\n   - Issued at 2021-06-22 ; Starts at 2018-09-28, the original date of the [first amendment on the subscription](https://www.zuora.com/apps/Subscription.do?method=view\u0026id=2c92a00766206962016630c57a8f4072)\n1. gitlab-com/support/internal-requests#8536\n1. https://gitlab.zendesk.com/agent/tickets/223424\n   - [added users to a multi-year](https://www.zuora.com/apps/Amendment.do?method=viewInfo\u0026id=2c92a0fe7a8544b7017a87139ba95503), resulting [license file](https://license.gitlab.com/licenses/182744) Issued at 2021-07-08 ; Starts at 2020-05-22\n1. https://gitlab.com/gitlab-com/support/internal-requests/-/issues/8911\n   - https://customers.gitlab.com/admin/license/1000675, Issue at 2021-08-12, Starts at 2020-09-30\n   - After clicking the download license file in the subscription, a new license was generated: https://customers.gitlab.com/admin/license/1001375, issue at 2021-08-25, Starts at 2020-09-30 \n\n## Proposal\nDynamically calculate the license `end date` and license `start date` for a multi-year subscription on a legacy or offline license based on the provision date.\n* By dynamically setting `end date` of the license based on the provision date, we ensure the license is aligned to the current term.\n* By dynamically setting `start date` based on provision date, the 1-year increment logic can hold true, allowing true-ups to be calculated correctly. \n\nNote: an alternative option is to generate all legacy licenses for the full subscription term (i.e. 3 years) but this is not something we are prepared to move to at this time ([comment for details](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3421#note_1230790958)).","state":"closed","created_at":"2021-08-03T20:20:01.159Z","updated_at":"2023-04-27T18:00:48.912Z","closed_at":"2023-03-16T04:08:44.518Z","closed_by":{"id":1986039,"username":"lulalala","name":"Mark Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1986039/avatar.png","web_url":"https://gitlab.com/lulalala"},"labels":["Category:SM Provisioning","Common Provisioning Bugs","ML::To Do","Support Efficiency","Support Priority","Support Priority::3","auto updated","automation:prevent-auto-close","backend","bug::functional","customer","devops::fulfillment","group::provision","missed:15.6","missed:15.7","missed:15.8","missed:15.9","section::fulfillment","severity::3","type::bug","workflow::complete"],"milestone":{"id":2745651,"iid":85,"group_id":9970,"title":"15.10","description":"","state":"active","created_at":"2022-08-22T16:58:22.132Z","updated_at":"2022-08-22T16:58:22.132Z","due_date":"2023-03-17","start_date":"2023-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/85"},"assignees":[{"id":1986039,"username":"lulalala","name":"Mark Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1986039/avatar.png","web_url":"https://gitlab.com/lulalala"}],"author":{"id":4447183,"username":"kevenhughes","name":"Keven Hughes","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4447183/avatar.png","web_url":"https://gitlab.com/kevenhughes"},"type":"ISSUE","assignee":{"id":1986039,"username":"lulalala","name":"Mark Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1986039/avatar.png","web_url":"https://gitlab.com/lulalala"},"user_notes_count":39,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3421","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3421","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3421/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3421/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3421","relative":"#3421","full":"gitlab-org/customers-gitlab-com#3421"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":"on_track"},{"id":91372866,"iid":3417,"project_id":2670515,"title":"PG::StringDataRightTruncation error occurring on activation","description":"https://sentry.gitlab.net/gitlab/customersgitlabcom/issues/2747467/?referrer=gitlab_plugin\n\n```\nStacktrace (most recent call first):\n\n  lib/gitlab/logger_helpers.rb:24:in `public_send'\n    Gitlab::Logger.public_send(log_level, object, options) # rubocop:disable GitlabSecurity/PublicSend\n  lib/gitlab/logger_helpers.rb:24:in `log'\n    Gitlab::Logger.public_send(log_level, object, options) # rubocop:disable GitlabSecurity/PublicSend\n  lib/gitlab/logger_helpers.rb:13:in `log_error'\n    log(:error, error, extra: extra)\n  app/services/cloud_activations/activate_service.rb:132:in `handle_error'\n    log_error(message, extra: extra)\n  app/services/cloud_activations/activate_service.rb:36:in `rescue in execute'\n    handle_error(e.message)\n  app/services/cloud_activations/activate_service.rb:21:in `execute'\n    def execute\n  app/graphql/mutations/cloud_activations/activate.rb:23:in `resolve'\n    ).execute\n  app/controllers/graphql_controller.rb:21:in `execute'\n    result = PaymentAppSchema.execute(query, variables: variables, context: context, operation_name: operation_name)\n  lib/middleware/health_check/health_check_responder.rb:14:in `call'\n    return @app.call(env) if format.nil? || (ip_blocked(env) \u0026\u0026 not_authenticated(env))\n...\n(135 additional frame(s) were not displayed)\n\nPG::StringDataRightTruncation: ERROR:  value too long for type character varying(32)\n\n```","state":"closed","created_at":"2021-08-03T12:57:12.850Z","updated_at":"2021-08-06T12:30:40.851Z","closed_at":"2021-08-05T14:23:57.956Z","closed_by":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"labels":["Cloud License Sync - V2","Priority Project","[deprecated] Category:Provision","backend","devops::fulfillment","group::provision","priority::2","section::fulfillment","type::bug","workflow::production"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"}],"author":{"id":402401,"username":"jobbot","name":"Bot","state":"active","avatar_url":"https://secure.gravatar.com/avatar/aaa6738f1ebf25404010884af511b0e7?s=80\u0026d=identicon","web_url":"https://gitlab.com/jobbot"},"type":"ISSUE","assignee":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3417","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3417","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3417/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3417/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3417","relative":"#3417","full":"gitlab-org/customers-gitlab-com#3417"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":91243730,"iid":3409,"project_id":2670515,"title":"Follow-up from \"Add super sonics aware on cloud activations list\"","description":"## Proposal\n\nIn !3625 we added \"super sonics aware\" column to cloud activation list as follows:\n\n![](https://gitlab.com/gitlab-org/customers-gitlab-com/uploads/f44be93d329f0f0a238a9021a4192d77/Screen_Shot_2021-07-30_at_10.59.06_AM.png)\n\nDuring the review a [discussion](https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/3625#note_639917181) came up about the output of that column if it is suitable from a UX perspective (it will output either `true` or ` false`), an argument that it's okay is that only admins will see that table.\n\nShould we change this value to something else, or it's okay to keep as is?","state":"closed","created_at":"2021-08-02T06:35:25.745Z","updated_at":"2021-09-06T13:54:51.228Z","closed_at":"2021-09-06T13:54:51.213Z","closed_by":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"labels":["Cloud License Sync - V2","[deprecated] Category:Provision","backend","devops::fulfillment","feature::enhancement","group::provision","section::fulfillment","type::feature"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[],"author":{"id":127064,"username":"aalakkad","name":"Ammar Alakkad","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ecc1130ce340f5080afd8f2c9962948a?s=80\u0026d=identicon","web_url":"https://gitlab.com/aalakkad"},"type":"ISSUE","assignee":null,"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3409","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":0,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3409","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3409/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3409/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3409","relative":"#3409","full":"gitlab-org/customers-gitlab-com#3409"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":91110851,"iid":3404,"project_id":2670515,"title":"Some Admins do not have the expected access levels after Okta sign in","description":"### Problem\n\nThere are multiple reports of Admins, mostly Support team members, that do not have the expected read/write access to the Customers Admin interface.  It seems that after signing in via Okta, the Admin record is updated with the read only access level to Customers information. \n\nPlease see this [Slack thread](https://gitlab.slack.com/archives/CK4EQH50E/p1627532249099000) for more details.\n\n#### Background\n\n[Two days ago we enabled the `admin_roles` feature flag](https://gitlab.com/gitlab-org/customers-gitlab-com/-/feature_flags/98/edit) in Production after receiving word that the necessary license app groups have been to the CustomersDot Okta app.  With this enabled, admin roles would be enforced and certain write actions would be restricted based on access levels.  These access levels should be set in [the `Admins::AuthenticateFromOmniauthService`](https://gitlab.com/gitlab-org/customers-gitlab-com/blob/6bbe84277de0cb0c4b6e68dc86afbbe9285c723c/app/services/admins/authenticate_from_omniauth_service.rb#L4) which is executed after Okta redirects back to CustomersDot after successful sign in.   If the customers groups returned from Okta include the CustomersDot write access group (`okta-customerportal-users`), then the read/write access level would be assigned to the Admin.  \n\nHowever, something seems to be amiss in this integration.  This could be a caching issue where CustomersDot is receiving stale group information.  However, admins have reported attempting to login with multiple browsers, even incognito windows, and still have the issue.\n\n### Proposal\n\nInvestigate why this is occurring and fix it.  We need more logging in the authentication service in order to determine what groups CustomersDot is receiving from Okta.  Once we have that information, we should be able to determine if CustomersDot is receiving stale information, pointing to a caching problem, or if there is a bug in the service in CustomersDot.","state":"closed","created_at":"2021-07-29T18:52:09.220Z","updated_at":"2021-07-30T09:40:42.035Z","closed_at":"2021-07-30T09:40:42.020Z","closed_by":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"labels":["[deprecated] Category:Provision","backend","devops::fulfillment","group::provision","section::fulfillment","type::bug","workflow::production"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"}],"author":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"type":"ISSUE","assignee":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3404","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3404","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3404/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3404/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3404","relative":"#3404","full":"gitlab-org/customers-gitlab-com#3404"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":91106090,"iid":3403,"project_id":2670515,"title":"Upgrade Unleash Gem","description":"We use the Unleash client gem in CustomersDot for our feature flags.\n\nWe're currently using version 0.1.6, released September 12th, 2019.  The latest version is 3.2.2, released March 26th, 2021.\n\nUnleash Releases: https://github.com/Unleash/unleash-client-ruby/releases\n\nWe should consider upgrading our gem to the latest version.\n\n### Availability \u0026 Testing\n\n\u003c!-- This section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\nWhat risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning --\u003e\n\nAs this upgrade is quite significant (major version 0 to major version 3 [three major versions ahead]), we should ensure that all feature flags act as they should.\n\nThis may be a mostly manual effort with the help of some feature specs, but we should ensure that the behavior does not change between versions.","state":"closed","created_at":"2021-07-29T17:04:02.541Z","updated_at":"2022-12-20T23:12:39.966Z","closed_at":"2022-12-20T23:12:39.938Z","closed_by":{"id":3716529,"username":"jagood","name":"Jason Goodman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6696c95a1788e2d4bee67df636805ecc?s=80\u0026d=identicon","web_url":"https://gitlab.com/jagood"},"labels":["[deprecated] Category:Utilization","auto updated","automation:prevent-auto-close","backend","devops::fulfillment","group::utilization","maintenance::refactor","quad-planning::complete-action","section::fulfillment","type::maintenance","workflow::ready for development"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":3716529,"username":"jagood","name":"Jason Goodman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6696c95a1788e2d4bee67df636805ecc?s=80\u0026d=identicon","web_url":"https://gitlab.com/jagood"},"type":"ISSUE","assignee":null,"user_notes_count":21,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3403","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3403","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3403/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3403/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3403","relative":"#3403","full":"gitlab-org/customers-gitlab-com#3403"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":91101299,"iid":3402,"project_id":2670515,"title":"Community Programs - Allow for purchases with no payment methods","description":"## Problem\n\nWhen purchasing Community Programs on an account with no payment methods (which the majority of our Community consumers will do) the purchase will fail with `Can not have Account with Auto-Pay enabled if Payment Method is null`\n\nIt's expected that Zuora will not allow this [since CustomersDot sets auto_pay: true](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3392#note_635762121) on purchases.\n\n## Expected result\n\nUsers with new accounts and no payment methods should be able to purchase a community program\n\n\n## Proposal\n\nUpdate parameters (for free Community subscriptions only) to not process payments and to not set account to auto-pay.\n\n1. [ ] Update `auto_pay` to false\n\n```\n:account=\u003e{                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             │\n            :auto_pay=\u003efalse,\n```\n\n2. [ ] Update `process_payments` to false\n\n```\n:subscribe_options=\u003e{                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             │\n            :process_payments=\u003efalse,\n```\n\nEnsure we have test coverage for \"purchase of community programs with no payment methods\"","state":"closed","created_at":"2021-07-29T15:31:37.180Z","updated_at":"2021-10-01T13:15:24.437Z","closed_at":"2021-08-15T11:27:23.394Z","closed_by":{"id":4981524,"username":"jhyson","name":"Josianne Hyson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4981524/avatar.png","web_url":"https://gitlab.com/jhyson"},"labels":["Category:Purchase","Unplanned","backend","devops::fulfillment","group::purchase","section::fulfillment","workflow::verification"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":4981524,"username":"jhyson","name":"Josianne Hyson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4981524/avatar.png","web_url":"https://gitlab.com/jhyson"}],"author":{"id":4430316,"username":"rhardarson","name":"Ragnar Hardarson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4430316/avatar.png","web_url":"https://gitlab.com/rhardarson"},"type":"ISSUE","assignee":{"id":4981524,"username":"jhyson","name":"Josianne Hyson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4981524/avatar.png","web_url":"https://gitlab.com/jhyson"},"user_notes_count":32,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3402","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3402","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3402/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3402/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3402","relative":"#3402","full":"gitlab-org/customers-gitlab-com#3402"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5712,"epic":{"id":244558,"iid":5712,"title":"Community Programs - New Subscription","url":"/groups/gitlab-org/-/epics/5712","group_id":9970,"human_readable_end_date":"Mar 22, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":90835017,"iid":3391,"project_id":2670515,"title":"Old orders and customers throwing errors on staging","description":"### Problem\n\nDue to [switch to new Zuora server](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/2848) the previous data within the Customers and the Orders table became redundant and due to presence of `zuora_account_id` within the customers table lead to error `Account ID is invalid` while purchasing orders within the staging gitlab.com \n\n### Proposal\n\nDelete the old customers and their corresponding orders from the database right before the switch happened. \n\n### Result\n\nIt would ask the customers again to register to buy a new subscription.\n\n### How will we measure success?\n\nIt should not throw `Account ID is invalid.` error on the buy new subscription page.","state":"closed","created_at":"2021-07-26T09:37:02.701Z","updated_at":"2021-08-09T17:39:11.922Z","closed_at":"2021-07-27T15:30:21.013Z","closed_by":{"id":4903695,"username":"shreyasagarwal","name":"Shreyas Agarwal","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d5b09dfe06a10d119c1b2043c43de680?s=80\u0026d=identicon","web_url":"https://gitlab.com/shreyasagarwal"},"labels":["Category:Purchase","Unplanned","backend","devops::fulfillment","group::purchase","maintenance::refactor","section::fulfillment"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":4903695,"username":"shreyasagarwal","name":"Shreyas Agarwal","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d5b09dfe06a10d119c1b2043c43de680?s=80\u0026d=identicon","web_url":"https://gitlab.com/shreyasagarwal"}],"author":{"id":4903695,"username":"shreyasagarwal","name":"Shreyas Agarwal","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d5b09dfe06a10d119c1b2043c43de680?s=80\u0026d=identicon","web_url":"https://gitlab.com/shreyasagarwal"},"type":"ISSUE","assignee":{"id":4903695,"username":"shreyasagarwal","name":"Shreyas Agarwal","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d5b09dfe06a10d119c1b2043c43de680?s=80\u0026d=identicon","web_url":"https://gitlab.com/shreyasagarwal"},"user_notes_count":10,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3391","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3391","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3391/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3391/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3391","relative":"#3391","full":"gitlab-org/customers-gitlab-com#3391"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":90749259,"iid":3385,"project_id":2670515,"title":"Validate Zuora subscription name and ID when creating licenses","description":"### Problem\n\nAs mentioned in https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3379, we have instances where licenses have been manually created with a typo in the `zuora_subscription_name` field.  For example, it might include a leading or trailing whitespace by mistake.  This is a problem because this field is commonly used as a lookup to find the subscription associated with the licenses (e.g. Seat Link Service) but with the typo, the association is not found.\n\nThis was only found in about 13 licenses as of 2021-07-23 in LicenseDot production so it's a small problem but does lead to some noisy Sentry errors.  You can find the list of licenses in [this comment](https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/3585#note_634371978).\n\n### Proposal\n\nAdd a validation to CustomersDot when licenses are created to verify the `zuora_subscription_name` and `zuora_subscription_id` are valid by querying Zuora.  It's probably not worth adding this same validation to LicenseDot given it's a very small problem and would be more effort to connect to Zuora for validation in that application.","state":"closed","created_at":"2021-07-23T20:05:50.553Z","updated_at":"2021-09-07T08:26:54.871Z","closed_at":"2021-09-07T08:26:54.853Z","closed_by":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"labels":["Cloud License Sync - V2","[deprecated] Category:Provision","backend","devops::fulfillment","group::provision","section::fulfillment","type::feature","workflow::production"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"}],"author":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"type":"ISSUE","assignee":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3385","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3385","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3385/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3385/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3385","relative":"#3385","full":"gitlab-org/customers-gitlab-com#3385"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":90737772,"iid":3384,"project_id":2670515,"title":"Evaluate impact of GitLab database decomposition","description":"As described in https://gitlab.com/gitlab-org/fulfillment-meta/-/issues/283, evaluate and document the impact of database decomposition on Fulfillment and specifically Purchase operations.","state":"closed","created_at":"2021-07-23T14:44:36.832Z","updated_at":"2021-09-01T08:42:21.006Z","closed_at":"2021-08-05T12:47:57.743Z","closed_by":{"id":4415228,"username":"chris_baus","name":"Chris Baus","state":"blocked","avatar_url":"https://secure.gravatar.com/avatar/59e5568c2f6bb8bb7818b22cc5cd15b1?s=80\u0026d=identicon","web_url":"https://gitlab.com/chris_baus"},"labels":["Category:Purchase","Unplanned","backend","devops::fulfillment","group::purchase","section::fulfillment"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":4098809,"username":"qzhaogitlab","name":"Qingyu Zhao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4098809/avatar.png","web_url":"https://gitlab.com/qzhaogitlab"}],"author":{"id":4415228,"username":"chris_baus","name":"Chris Baus","state":"blocked","avatar_url":"https://secure.gravatar.com/avatar/59e5568c2f6bb8bb7818b22cc5cd15b1?s=80\u0026d=identicon","web_url":"https://gitlab.com/chris_baus"},"type":"ISSUE","assignee":{"id":4098809,"username":"qzhaogitlab","name":"Qingyu Zhao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4098809/avatar.png","web_url":"https://gitlab.com/qzhaogitlab"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3384","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3384","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3384/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3384/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3384","relative":"#3384","full":"gitlab-org/customers-gitlab-com#3384"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":90736587,"iid":3383,"project_id":2670515,"title":"Fix Eula rendering","description":"### Problem\n\nCurrently Eula **Content** is rendered \"as is\" in the list view.\n\nThis creates a huge horizontal scroll that pushes out the other columns and the actions.\n\n### Acceptance Criteria\n\nEula **Content** is formatted to be truncated for the list view and will remain accessible in the show view.","state":"closed","created_at":"2021-07-23T14:19:29.795Z","updated_at":"2022-08-05T19:59:13.607Z","closed_at":"2022-08-05T18:27:40.342Z","closed_by":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"labels":["auto updated","automation:prevent-auto-close","devops::fulfillment","section::fulfillment"],"milestone":null,"assignees":[],"author":{"id":5667561,"username":"vshumilo","name":"Vladlena Shumilo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08dfa82785d130c151ab9e21caeab4e3?s=80\u0026d=identicon","web_url":"https://gitlab.com/vshumilo"},"type":"ISSUE","assignee":null,"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3383","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3383","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3383/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3383/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3383","relative":"#3383","full":"gitlab-org/customers-gitlab-com#3383"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4271,"epic":{"id":100026,"iid":4271,"title":"Improve Customer Portal Admin Interface","url":"/groups/gitlab-org/-/epics/4271","group_id":9970,"human_readable_end_date":"Aug 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":90698556,"iid":3379,"project_id":2670515,"title":"Manually created licenses with typo causing Seat Link failures","description":"### Problem\n\nI noticed when verifying the changes from https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/3563 that some errors have been occurring in the SeatLinkCreateService when the license received in the request contains a `zuora_subscription_name` with a typo.  Specifically, in the cases I've seen (see Sentry links below), the `zuora_subscription_name` contains and extra whitespace character at the end of the string which causes `Zuora::Subscription` not to be found when queried.  In both cases, the licenses were created manually in LicenseDot.\n\nSentry Issues:\n- https://sentry.gitlab.net/gitlab/customersgitlabcom/issues/2735681/events/f0637a1b406b436eb2c8568cb3dc16ee/\n- https://sentry.gitlab.net/gitlab/customersgitlabcom/issues/2735681/events/484f4cd8ace848558c4bd802b93aee4e/\n\n### Proposal\n\nA simple solution could be to trim the trailing whitespace characters when processing the seat link request.","state":"closed","created_at":"2021-07-22T19:50:28.878Z","updated_at":"2021-07-27T18:05:48.556Z","closed_at":"2021-07-27T18:05:48.537Z","closed_by":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"labels":["[deprecated] Category:Provision","backend","devops::fulfillment","group::provision","section::fulfillment","workflow::production"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"}],"author":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"type":"ISSUE","assignee":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3379","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3379","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3379/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3379/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3379","relative":"#3379","full":"gitlab-org/customers-gitlab-com#3379"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":90636602,"iid":3370,"project_id":2670515,"title":"Proof of Delivery","description":"\n## Background\n\nThis issue describes the smallest and simplest changes we can start iterating on to help our internal teams confirm that the provisioning email was sent.\n\n## Proposal\n\n#### MVC - 14.8\n- Capture and set the date and time when the confirmation email with provisioning info was generated and sent.\n- Display this information for each active subscription in Customers Admin Portal.\n  - Option 1: within the Basic Info tab, add a field \"Delivery Confirmation\" This new line will display the date and time when the confirmation email containing the license was sent and the email address of who it was sent to\n  - Option 2: add a new tab next to Show tab with label \"Delivery Confirmation\" This new tab will display the date and time when the confirmation email with the license was sent and the email address of who it was sent to\n  - Option 3: Leverage Papertrail (version tracking gem) to store the email the license was sent to and the timestamp when it was sent. Use the History tab of a license object to display it - [Proposal](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3370#note_804551801)\n\n:rocket: The decision was to implement option 3 - See https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3370#note_817042324. \n\n#### Post MVC\n- Capture delivery information for each outgoing message that contains a license \n- Display all deliveries related to the license in some delivery history table/dashboard\n\n## Related Problems\n\n- as defined [here](https://gitlab.com/gitlab-org/fulfillment-meta/-/issues/273)\n- as described [here](https://gitlab.com/gitlab-com/sales-team/field-operations/deal-desk/-/issues/156)","state":"closed","created_at":"2021-07-21T17:17:05.866Z","updated_at":"2022-06-07T18:20:42.443Z","closed_at":"2022-02-18T17:40:42.633Z","closed_by":{"id":4717243,"username":"a_luna","name":"Amparo Luna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4717243/avatar.png","web_url":"https://gitlab.com/a_luna"},"labels":["License Delivery Service","[deprecated] Category:Provision","backend","devops::fulfillment","group::provision","quad-planning::complete-no-action","section::fulfillment","workflow::verification"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":4717243,"username":"a_luna","name":"Amparo Luna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4717243/avatar.png","web_url":"https://gitlab.com/a_luna"}],"author":{"id":7971452,"username":"teresatison","name":"Teresa Tison","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7971452/avatar.png","web_url":"https://gitlab.com/teresatison"},"type":"ISSUE","assignee":{"id":4717243,"username":"a_luna","name":"Amparo Luna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4717243/avatar.png","web_url":"https://gitlab.com/a_luna"},"user_notes_count":22,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3370","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3370","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3370/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3370/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3370","relative":"#3370","full":"gitlab-org/customers-gitlab-com#3370"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6404,"epic":{"id":312716,"iid":6404,"title":"Proof of License Delivery: Sales","url":"/groups/gitlab-org/-/epics/6404","group_id":9970,"human_readable_end_date":"Mar 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":90507022,"iid":3365,"project_id":2670515,"title":"Use strong_memoize for SeatLinksController#license_data","description":"The following discussion from !3553 should be addressed:\n\n- [ ] @tyleramos started a [discussion](https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/3553#note_630280185): \n\n    \u003e **Question (non-blocking):** As I look at this code again, I'm wondering if we should use `strong_memoize` here to avoid `license_data` logic being executed twice in event it is `nil`?  No need to block this MR on that point though given it was using the `||=` strategy before.  Let me know your thoughts on it though.  I'll probably go ahead and create a follow-up issue for it.","state":"closed","created_at":"2021-07-19T15:42:33.317Z","updated_at":"2021-07-19T16:14:30.573Z","closed_at":"2021-07-19T16:14:30.556Z","closed_by":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"labels":["[deprecated] Category:Provision","backend","devops::fulfillment","group::provision","maintenance::refactor","section::fulfillment"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"}],"author":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"type":"ISSUE","assignee":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3365","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3365","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3365/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3365/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3365","relative":"#3365","full":"gitlab-org/customers-gitlab-com#3365"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":90333252,"iid":3360,"project_id":2670515,"title":"Community Program - Glue SaaS form","description":"### Problem\n\nSimilar to #3331, we need to make sure all parts of SaaS subscription form are well integrated.\n\n### Proposal\n\n- [x] Duplicate `community_ee_subscription_form.vue` to `community_saas_subscription_form.vue`\n- [x] Replace SaaS placeholder in `new_community_subscription.vue` with the newly duplicated file `community_saas_subscription_form.vue`\n- [x] Duplicate `community_ee_subscription_form_spec.js` to `community_saas_subscription_form_spec.js`\n- [x] Update `community_saas_subscription_form.vue` to use `namespace-select` from #3015 (send selected namespace with request payload and make sure \"claim\" button is disabled if no namespace is selected)\n- [x] Make sure `community_saas_subscription_form_spec.js` is covering all changes\n- [x] Run full purchase workflow locally to ensure everything is working as expected","state":"closed","created_at":"2021-07-15T12:47:16.399Z","updated_at":"2021-08-17T13:25:21.133Z","closed_at":"2021-08-17T13:25:21.117Z","closed_by":{"id":127064,"username":"aalakkad","name":"Ammar Alakkad","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ecc1130ce340f5080afd8f2c9962948a?s=80\u0026d=identicon","web_url":"https://gitlab.com/aalakkad"},"labels":["Category:Purchase","devops::fulfillment","frontend","group::purchase","section::fulfillment","type::feature","workflow::verification"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":127064,"username":"aalakkad","name":"Ammar Alakkad","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ecc1130ce340f5080afd8f2c9962948a?s=80\u0026d=identicon","web_url":"https://gitlab.com/aalakkad"}],"author":{"id":127064,"username":"aalakkad","name":"Ammar Alakkad","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ecc1130ce340f5080afd8f2c9962948a?s=80\u0026d=identicon","web_url":"https://gitlab.com/aalakkad"},"type":"ISSUE","assignee":{"id":127064,"username":"aalakkad","name":"Ammar Alakkad","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ecc1130ce340f5080afd8f2c9962948a?s=80\u0026d=identicon","web_url":"https://gitlab.com/aalakkad"},"user_notes_count":14,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3360","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":6,"completed_count":6},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3360","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3360/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3360/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3360","relative":"#3360","full":"gitlab-org/customers-gitlab-com#3360"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5712,"epic":{"id":244558,"iid":5712,"title":"Community Programs - New Subscription","url":"/groups/gitlab-org/-/epics/5712","group_id":9970,"human_readable_end_date":"Mar 22, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":90319429,"iid":3359,"project_id":2670515,"title":"Switch impersonate and group icons","description":"### Problem\n\nIt seems strange that we annotate the impersonate option with `icon-home` while:\n\n![image](/uploads/f2d8c523b06407c70a77aa8399906a61/image.png)\n\nAll other icons describe their function well, but these two often trip me up. Esp. in the search results overview: I usually want to view a user's group, but I often point instinctively towards the `icon-home`.\n\n### Proposal\n\nSwitch those icons around. I `grep` through the code just now for those icon names, but didn't find an obvious place to change. Are such design elements pulled in from another repo?\n\n### Result\n\nLess accidental impersonation events\n\n### Next steps (if any)\n\n### How will we measure success?","state":"closed","created_at":"2021-07-15T08:38:24.585Z","updated_at":"2023-03-13T17:23:03.591Z","closed_at":"2021-11-08T08:10:19.626Z","closed_by":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"labels":["Cloud License Sync - V2","Cloud Licensing","[deprecated] Category:Provision","admin dashboard","backend","devops::fulfillment","group::provision","internal customer","section::fulfillment","workflow::production"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"}],"author":{"id":724395,"username":"katrinleinweber","name":"Katrin Leinweber","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/724395/avatar.png","web_url":"https://gitlab.com/katrinleinweber"},"type":"ISSUE","assignee":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3359","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3359","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3359/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3359/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3359","relative":"#3359","full":"gitlab-org/customers-gitlab-com#3359"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6383,"epic":{"id":310864,"iid":6383,"title":"THEME: Maintenance and Support","url":"/groups/gitlab-org/-/epics/6383","group_id":9970,"human_readable_end_date":"Nov 16, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":90275298,"iid":3358,"project_id":2670515,"title":"Verify sentry-rails gem","description":"### Description of the changes\n\nBlocking production deployments until the `sentry-rails gem` update, introduced in https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/3513, is verified in stg.  This MR  removes the deprecated `sentry-raven` gem and replaces it with `sentry-rails` to avoid missing features and security patches.\n\n### Potentially breaking changes checklist\n\n* [x] Follow the regular process to create the MR. Make sure this issue is Public.\n* [x] Make sure the maintainer adds the ~\"production::blocker\" label to this issue once the MR is ready to be merged\n* [ ] Once the MR lands in Staging, announce the changes in [#s_fulfillment](https://gitlab.slack.com/archives/CMJ8JR0RH) and request help for testing all the different flows affected\n* [ ] Announce the changes in [#support_licensing-subscription](https://gitlab.slack.com/archives/C018C623KBJ)\n* [ ] Create a revert MR targeting `master` to quickly deploy to production should anything go wrong\n* [ ] Inform the `@sre-oncall` about the potentially breaking changes\n* [ ] Remove the ~\"production::blocker\" label if testing has completed successfully, wait for production deployment\n* [ ] If everything looks good after a few hours/days (depending on the change), close the revert MR\n* [ ] If there has been a problem, merge the revert MR into `master`, inform Infrastructure/`@sre-oncall` to trigger a `chef` deploy (if urgent) and push the changes to the `staging` branch last","state":"closed","created_at":"2021-07-14T14:10:30.544Z","updated_at":"2022-06-06T18:05:46.100Z","closed_at":"2021-08-26T09:10:35.574Z","closed_by":{"id":447038,"username":"vitallium","name":"Vitaly Slobodin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/74b3243cfcfbfac1f022b78ab505e8d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/vitallium"},"labels":["devops::fulfillment","maintenance::dependency","production::blocker","section::fulfillment"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":447038,"username":"vitallium","name":"Vitaly Slobodin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/74b3243cfcfbfac1f022b78ab505e8d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/vitallium"}],"author":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"type":"ISSUE","assignee":{"id":447038,"username":"vitallium","name":"Vitaly Slobodin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/74b3243cfcfbfac1f022b78ab505e8d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/vitallium"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3358","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":9,"completed_count":2},"weight":0,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3358","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3358/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3358/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3358","relative":"#3358","full":"gitlab-org/customers-gitlab-com#3358"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":90254578,"iid":3357,"project_id":2670515,"title":"Extract params to presenter in community program - new subscription","description":"## Proposal\n\nThe number of parameters being passed to the frontend in `app/views/subscriptions/community_program/new_self_managed.html.haml` is growing, let's extract all the params to a presenter.\n\nThis will allow us to test those params and reuse the params in `new_gitLab.html.haml`.","state":"closed","created_at":"2021-07-14T11:44:40.709Z","updated_at":"2021-07-14T15:12:39.363Z","closed_at":"2021-07-14T15:12:39.007Z","closed_by":{"id":4430316,"username":"rhardarson","name":"Ragnar Hardarson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4430316/avatar.png","web_url":"https://gitlab.com/rhardarson"},"labels":["Category:Purchase","Duplicate","backend","devops::fulfillment","group::purchase","maintenance::refactor","section::fulfillment"],"milestone":null,"assignees":[],"author":{"id":127064,"username":"aalakkad","name":"Ammar Alakkad","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ecc1130ce340f5080afd8f2c9962948a?s=80\u0026d=identicon","web_url":"https://gitlab.com/aalakkad"},"type":"ISSUE","assignee":null,"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3357","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":0,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3357","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3357/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3357/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3357","relative":"#3357","full":"gitlab-org/customers-gitlab-com#3357"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5712,"epic":{"id":244558,"iid":5712,"title":"Community Programs - New Subscription","url":"/groups/gitlab-org/-/epics/5712","group_id":9970,"human_readable_end_date":"Mar 22, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":90229348,"iid":3354,"project_id":2670515,"title":"Community subscriptions should be able to renew up to 3 months before expiration date","description":"### Problem\n\nIn this issue https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3268 we have limited customers' ability to renew early. They can now only renew starting at 15 days before subscription expiration date.\n\nCommunity Program subscriptions (with $0 revenue) need to be renewable starting at 3 months before expiration date, because it takes some time to go through the re-approval process.\n\nThe renew button (https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3575+) on community programs subscription card (EDU and OSS) and renewal banner (https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3574+) for community programs (EDU and OSS) should be shown 3 months before expiration date.\n\n[Community Program Subscription Renewal Setup instructions](https://gitlab.com/groups/gitlab-org/-/epics/5711#steps-to-setup)\n\n### Proposal\n\nAllow Community Program subscriptions with $0 SKUs to renew 3 months before expiration date.\n\n### Result\n\n### Next steps (if any)\n\n### How will we measure success?","state":"closed","created_at":"2021-07-14T02:59:48.782Z","updated_at":"2023-04-27T15:47:45.372Z","closed_at":"2022-05-01T11:39:58.572Z","closed_by":{"id":10325315,"username":"vvempati","name":"Vamsi Vempati","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10325315/avatar.png","web_url":"https://gitlab.com/vvempati"},"labels":["Category:Purchase","[deprecated] Category:Billing and Subscription Management","backend","devops::fulfillment","frontend","group::purchase","section::fulfillment","workflow::production"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":10325315,"username":"vvempati","name":"Vamsi Vempati","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10325315/avatar.png","web_url":"https://gitlab.com/vvempati"}],"author":{"id":8110789,"username":"tgolubeva","name":"Tatyana Golubeva","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8110789/avatar.png","web_url":"https://gitlab.com/tgolubeva"},"type":"ISSUE","assignee":{"id":10325315,"username":"vvempati","name":"Vamsi Vempati","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10325315/avatar.png","web_url":"https://gitlab.com/vvempati"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3354","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3354","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3354/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3354/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3354","relative":"#3354","full":"gitlab-org/customers-gitlab-com#3354"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5711,"epic":{"id":244557,"iid":5711,"title":"[Community Programs] Renewals","url":"/groups/gitlab-org/-/epics/5711","group_id":9970,"human_readable_end_date":"Nov 4, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":90207376,"iid":3351,"project_id":2670515,"title":"Community Programs Self-Checkout - Start/End Date","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n### Problem\n\nWe need to get the Start and End Dates to inform in the Self-Checkout. The current implementation is adding via JS (https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/3456#note_624247786)\n\n### Proposal\n\nImplement the necessary ~backend to retrieve Start/End Dates for the Community Program new Subscription and inform it in `app/frontend/packs/pages/subscriptions/community_program/new.js`\n\n### Result\n\nData is coming from the backend\n\n### Next steps (if any)\n\n### How will we measure success?\n\nEnsuring that this data is coming from the backend, when going to Community Program Self-checkout","state":"closed","created_at":"2021-07-13T15:50:18.657Z","updated_at":"2021-07-15T12:58:11.004Z","closed_at":"2021-07-15T11:41:14.852Z","closed_by":{"id":127064,"username":"aalakkad","name":"Ammar Alakkad","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ecc1130ce340f5080afd8f2c9962948a?s=80\u0026d=identicon","web_url":"https://gitlab.com/aalakkad"},"labels":["Category:Purchase","Unplanned","devops::fulfillment","frontend","group::purchase","section::fulfillment","workflow::production"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":127064,"username":"aalakkad","name":"Ammar Alakkad","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ecc1130ce340f5080afd8f2c9962948a?s=80\u0026d=identicon","web_url":"https://gitlab.com/aalakkad"}],"author":{"id":8858358,"username":"sheldonled","name":"Sheldon Led","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4a4252822d6a503697403c631ca987dc?s=80\u0026d=identicon","web_url":"https://gitlab.com/sheldonled"},"type":"ISSUE","assignee":{"id":127064,"username":"aalakkad","name":"Ammar Alakkad","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ecc1130ce340f5080afd8f2c9962948a?s=80\u0026d=identicon","web_url":"https://gitlab.com/aalakkad"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3351","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3351","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3351/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3351/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3351","relative":"#3351","full":"gitlab-org/customers-gitlab-com#3351"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5712,"epic":{"id":244558,"iid":5712,"title":"Community Programs - New Subscription","url":"/groups/gitlab-org/-/epics/5712","group_id":9970,"human_readable_end_date":"Mar 22, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":90205411,"iid":3350,"project_id":2670515,"title":"Frontend errors: use `ErrorBoundary` for error handling","description":"# Overview\n\nAs part of our effort to improve the frontend logs management in `CustomersDot`, as well as reduce code duplication and manual error handling, provide more useful and consistent error info to our users, we will implement a [_holistic_ approach to errors](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/2279) which consists of 2 parts:\n\n- [Centralise Sentry logs management](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3349)\n- Use `ErrorBoundary` for error handling (current)\n\nThe 2 parts have been individuated in a **[previous research with PoC](https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/2935)** which helped define the approach. Some use cases are presented [here](https://vue-demo.xyz/).\n\n##### Use `ErrorBoundary` Component for displaying UI errors\n\nAdvantages of `ErrorBoundary` Component are:\n\n- follows a standard approach in the industry, see [React's ErrorBoundaries](https://reactjs.org/blog/2017/07/26/error-handling-in-react-16.html#introducing-error-boundaries)\n- implements our values of [boring solutions](https://about.gitlab.com/handbook/values/#boring-solutions): it leverages [Vue errorCaptured hook](https://vuejs.org/v2/api/#errorCaptured)\n- increases maintainability: we rely on `GlAlert` for displaying errors, we can encapsulate its usage in the `ErrorBoundary`\n- allows moving error messages definitions to a more central level (app or global configuration)\n\nWe will measure success by:\n\n- reducing (eliminating) manual toggling of errors\n\n\u003cdetails\u003e\n\u003csummary\u003eThe approach is also good for splitting responsibilities between layers and increasing the flexibility fo our error displaying management \u003c/summary\u003e\n\n- **responsibility** comes in terms of delegation when the UI/UX of errors for a (more or less long) chain of components can be handled at a centralized place. An `ErrorBoundary` Component is a quasi [render-less component](https://adamwathan.me/renderless-components-in-vuejs/), that aims to help in scenarios where data and behaviors are often the same. Analog to this is the use of services such as `API`, `Vuex`, that lift from the component the burden of managing communication or data flow\n- **flexibility** comes in terms of configuration. An `ErrorBoundary` Component is general enough to account for the majority of cases while also being close enough to the app where it's used to adapt to more specific cases where the desired behavior might need to change or adapt\n\n\u003c/details\u003e\n\n##### Scenarios to consider\n\n\u003cdetails\u003e\n\u003csummary\u003eErrors coming from the ~backend are not suitable for being displayed to the user\u003c/summary\u003e\n\nWe had [some cases](https://gitlab.com/gitlab-org/gitlab/-/issues/331148) where the error received from the ~backend was not offering much information to the ~frontend. The suggested approach will allow us:\n\n- in the short run, to account for such cases in a more flexible way\n- in the long run, to establish a way where the ~backend communicates with the ~frontend using codes (e.g. `UNSUCCESSFUL_X_Y_Z` instead of string literals, an approach that [already proved useful](https://gitlab.com/gitlab-org/gitlab/-/issues/327255#note_556782292))\n\n\u003c/details\u003e\n\n# Implementation plan\n\n[Sentry Vue Integration](https://docs.sentry.io/platforms/javascript/guides/vue/configuration/integrations/default/) [attaches the `errorHandlder` to our Vue instance](https://github.com/getsentry/sentry-javascript/blob/master/packages/integrations/src/vue.ts#L390). This will catch and log all the errors generated at runtime to the specified Sentry API.\n\nAfter creating the `ErrorBoundary` Component, we should tackle each application one by one.\n\n| Step | MR |\n|-|-|\n| Create the `ErroBoundary` Component (an [example](https://gitlab.com/agulina/vue-demo/-/blob/main/src/services/error_boundary.vue)) |  _tdb_ |\n| Use `ErrorBoundary` in [`add_seats.vue`](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/662f889b066e628c8b5db7aec0b8099d72927ff2/app/frontend/javascripts/subscription/components/add_seats.vue) | _tdb_ |\n\n# Other resources\n\n- the Draft MR: gitlab-org/customers-gitlab-com!2935\n- a video showing the approaches in the demo app: [link to drive](https://drive.google.com/file/d/1yBdT51vIP-DEdL54QOZoIgPSFSOa-rhu/view?usp=sharing)\n- a video for some more specific cases: [link to drive](https://drive.google.com/file/d/1KXNUX-CCU-MXot0q6aC9fic9fY7BjspR/view?usp=sharing)\n- a video for some more specific cases: [link to drive](https://drive.google.com/file/d/1RBaJ7bDezuXcJblWgImY9uTDdCfeF3TS/view?usp=sharing)","state":"closed","created_at":"2021-07-13T15:17:17.657Z","updated_at":"2023-01-31T02:54:46.489Z","closed_at":"2022-07-29T00:02:09.248Z","closed_by":{"id":1786152,"username":"gitlab-bot","name":"🤖 GitLab Bot 🤖","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1786152/avatar.png","web_url":"https://gitlab.com/gitlab-bot"},"labels":["[deprecated] Category:Fulfillment Platform","auto closed","auto updated","devops::fulfillment","frontend","group::fulfillment platform","maintenance::refactor","section::fulfillment","to schedule","workflow::validation backlog"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":6348276,"username":"agulina","name":"Angelo Gulina","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b28693a558066993ea93b7272208d285?s=80\u0026d=identicon","web_url":"https://gitlab.com/agulina"},"type":"ISSUE","assignee":null,"user_notes_count":6,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3350","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3350","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3350/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3350/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3350","relative":"#3350","full":"gitlab-org/customers-gitlab-com#3350"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":90198755,"iid":3349,"project_id":2670515,"title":"Frontend errors: use Sentry Integration for error logging","description":"# Overview\n\nAs part of our effort to improve the frontend logs management in `CustomersDot`, as well as reduce code duplication and manual error handling, provide more useful and consistent error info to our users, we will implement a [_holistic_ approach to errors](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/2279) which consists of 2 parts:\n\n- Use Sentry Integration for error logging (current)\n- [Use `ErrorBoundary` for error handling](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3350)\n\nThe 2 parts have been individuated in a **[previous research with PoC](https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/2935)** which helped define the approach. Some use cases are presented [here](https://vue-demo.xyz/).\n\n##### Use Sentry Integration for error logging\n\nWe expect improvements in the following areas:\n\n- separation of concerns: our components will only be responsible for *handling* errors, not for *logging* them\n- DRYness: in most cases where we manually log errors, we're just proxying them. This only adds maintenance cost and no value\n- using [boring solutions](https://about.gitlab.com/handbook/values/#boring-solutions): we _already_ have most of the functionality in place, due to Sentry Integration being active [the following line](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/50ee3275a0177e192102268f93ce87f47ee07d8b/app/frontend/packs/sentry.js#L9)\n\nWe will measure them by:\n\n- reduction or elimination of manual calls to `Sentry.captureMessage` and `Sentry.captureException` most of which are just proxying the error ([instances of `captureMessage`](https://gitlab.com/search?group_id=9970\u0026project_id=2670515\u0026repository_ref=\u0026scope=blobs\u0026search=Sentry.captureMessage\u0026snippets=false) and [instances of `captureException`]((https://gitlab.com/search?group_id=9970\u0026project_id=2670515\u0026repository_ref=\u0026scope=blobs\u0026search=Sentry.captureException\u0026snippets=false)))\n- reduction or elimination of the checks for Sentry call in tests\n\n##### Scenarios to consider\n\n\u003cdetails\u003e\n\u003csummary\u003eErrors based on [unprocessable entity](https://www.keycdn.com/support/422-unprocessable-entity)\u003c/summary\u003e\n\nWe have had [some cases as such](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/2697). Errors like this are very useful for the user in order to recover from them but may or *may not* be useful for our system. A centralized approach will let us configure which error we want to exclude at a higher level.\n\u003c/details\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eDynamic rendering errors\u003c/summary\u003e\n\nRendering errors are hard to handle mainly because of unpredictability: how would you know which component is gonna break and for which reason? It seems intuitive that only a centralized way can give enough confidence for such cases. Also note: by *dynamic* rendering errors here we mean the ones that might be caused by supplying inconsistent data to a component. Errors that prevent the component from rendering, whatever the point of failure is (a method, the template, etc), the kind of scenarios that would leave the page blank and log a red error in the console.\n\u003c/details\u003e\n\n# Implementation plan\n\nVue offers an [errorHanlder config](https://vuejs.org/v2/api/#errorHandler) which can be used as a unified place to where all errors can bubble up. [Sentry Vue Integration](https://docs.sentry.io/platforms/javascript/guides/vue/configuration/integrations/default/) [attaches the `errorHandlder` to our Vue instance](https://github.com/getsentry/sentry-javascript/blob/master/packages/integrations/src/vue.ts#L390). This will catch and log all the errors generated at runtime to the specified Sentry API.\n\nIn order to make this work we will need to:\n\n* always `return` `Promise` from Vue `methods` where async calls are made (if we don't do it, Sentry Integration will catch the error anyways, but it will also display as an uncaught error in the console)\n* if the error is manually handled (in a `catch` block), always throw a new `Error`\n\n##### Sentry.captureException\n\nAn example of how one can remove the manual `captureException` and let Sentry handle the error:\n\n\u003cdetails\u003e\n\u003csummary\u003eDiff\u003c/summary\u003e\n\n```\ndiff --git a/app/frontend/javascripts/subscription/components/subscription_license_buttons.vue b/app/frontend/javascripts/subscription/components/subscription_license_buttons.vue\n--- a/app/frontend/javascripts/subscription/components/subscription_license_buttons.vue\t(revision d2679d3c9f25ef8ac0a57a3e1e9f875f1169fa2c)\n+++ b/app/frontend/javascripts/subscription/components/subscription_license_buttons.vue\t(date 1626185697875)\n@@ -49,7 +49,7 @@\n       if (this.licenseFile.length \u003e 0) {\n         return;\n       }\n-      this.fetchLicense();\n+      return this.fetchLicense();\n     },\n     async fetchLicense() {\n       this.isFetchingLicense = true;\n@@ -64,7 +64,7 @@\n         this.isLicenseCollapseVisible = false;\n         // eslint-disable-next-line no-jquery/no-animate-toggle\n         this.$toast.show(this.$options.toast.error);\n-        Sentry.captureException(err);\n+        throw new Error(err.message);\n       }\n       this.isFetchingLicense = false;\n     },\n```\n\u003c/details\u003e\n\nThe resulting payload sent to Sentry is the same:\n\n\u003cdetails\u003e\n\u003csummary\u003eBefore\u003c/summary\u003e\n```json\n{\"exception\":{\"values\":[{\"type\":\"Error\",\"value\":\"Request failed with status code 422\",\"stacktrace\":{\"frames\":[{\"colno\":7,\"filename\":\"https://agulina.ngrok.io/packs/js/vendor-b73adfbd1839150fb479.chunk.js\",\"function\":\"XMLHttpRequest.handleLoad\",\"in_app\":true,\"lineno\":36629},{\"colno\":12,\"filename\":\"https://agulina.ngrok.io/packs/js/vendor-b73adfbd1839150fb479.chunk.js\",\"function\":\"settle\",\"in_app\":true,\"lineno\":37389},{\"colno\":15,\"filename\":\"https://agulina.ngrok.io/packs/js/vendor-b73adfbd1839150fb479.chunk.js\",\"function\":\"createError\",\"in_app\":true,\"lineno\":37155}]},\"mechanism\":{\"handled\":true,\"type\":\"generic\"}}]},\"level\":\"error\",\"event_id\":\"783d557d0b2d40608d3ed88d33a14c99\",\"platform\":\"javascript\",\"sdk\":{\"name\":\"sentry.javascript.browser\",\"packages\":[{\"name\":\"npm:@sentry/browser\",\"version\":\"5.21.1\"}],\"version\":\"5.21.1\",\"integrations\":[\"InboundFilters\",\"FunctionToString\",\"TryCatch\",\"Breadcrumbs\",\"GlobalHandlers\",\"LinkedErrors\",\"UserAgent\",\"RewriteFrames\",\"Dedupe\",\"ExtraErrorData\",\"Vue\"]},\"timestamp\":1626186230.9387002,\"environment\":\"development\",\"release\":\"d2679d3c9f25ef8ac0a57a3e1e9f875f1169fa2c\",\"user\":{\"id\":6,\"email\":\"angelo@thismail.com\",\"company\":\"Angelo Local Company\"},\"breadcrumbs\":[{\"timestamp\":1626185805.2841,\"category\":\"console\",\"data\":{\"arguments\":[\"You are running Vue in development mode.\\nMake sure to turn on production mode when deploying for production.\\nSee more tips at https://vuejs.org/guide/deployment.html\"],\"logger\":\"console\"},\"level\":\"info\",\"message\":\"You are running Vue in development mode.\\nMake sure to turn on production mode when deploying for production.\\nSee more tips at https://vuejs.org/guide/deployment.html\"},{\"timestamp\":1626185805.2847002,\"category\":\"ui.click\",\"message\":\"div.collapse-content \u003e div#collapse-container-id-5.gl-mt-2.collapse\"},{\"timestamp\":1626185805.5453,\"category\":\"xhr\",\"data\":{\"method\":\"GET\",\"url\":\"https://webpacko-dev-server.ngrok.io/sockjs-node/info?t=1626185805285\",\"status_code\":200},\"type\":\"http\"},{\"timestamp\":1626185806.3127003,\"category\":\"xhr\",\"data\":{\"method\":\"POST\",\"url\":\"/mini-profiler-resources/results\",\"status_code\":200},\"type\":\"http\"},{\"timestamp\":1626185806.3188,\"category\":\"xhr\",\"data\":{\"method\":\"POST\",\"url\":\"/mini-profiler-resources/results\",\"status_code\":200},\"type\":\"http\"},{\"timestamp\":1626185806.3203,\"category\":\"xhr\",\"data\":{\"method\":\"POST\",\"url\":\"/mini-profiler-resources/results\",\"status_code\":200},\"type\":\"http\"},{\"timestamp\":1626185806.3252,\"category\":\"ui.click\",\"message\":\"tbody \u003e tr \u003e td.profiler-duration. \u003e a.profiler-queries-show\"},{\"timestamp\":1626186226.4326,\"category\":\"ui.click\",\"message\":\"div \u003e div \u003e div \u003e a.gl-link\"},{\"timestamp\":1626186230.9316,\"category\":\"xhr\",\"data\":{\"method\":\"GET\",\"url\":\"/licenses/A-S00067289\",\"status_code\":422},\"type\":\"http\"}],\"request\":{\"url\":\"https://agulina.ngrok.io/subscriptions\",\"headers\":{\"User-Agent\":\"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.114 Safari/537.36\"}},\"contexts\":{\"Error\":{\"message\":\"[undefined]\",\"name\":\"[undefined]\",\"description\":\"[undefined]\",\"number\":\"[undefined]\",\"fileName\":\"[undefined]\",\"lineNumber\":\"[undefined]\",\"columnNumber\":\"[undefined]\",\"stack\":\"[undefined]\",\"config\":{\"url\":\"/licenses/A-S00067289\",\"method\":\"get\",\"headers\":\"[Object]\",\"transformRequest\":\"[Array]\",\"transformResponse\":\"[Array]\",\"timeout\":0,\"adapter\":\"[Function: xhrAdapter]\",\"xsrfCookieName\":\"XSRF-TOKEN\",\"xsrfHeaderName\":\"X-XSRF-TOKEN\",\"maxContentLength\":-1,\"maxBodyLength\":-1,\"validateStatus\":\"[Function: validateStatus]\",\"data\":\"[undefined]\"},\"code\":\"[undefined]\"}}}\n```\n\u003c/details\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eAfter\u003c/summary\u003e\n```json\n{\"exception\":{\"values\":[{\"type\":\"Error\",\"value\":\"Request failed with status code 422\",\"stacktrace\":{\"frames\":[{\"colno\":7,\"filename\":\"https://agulina.ngrok.io/packs/js/vendor-b73adfbd1839150fb479.chunk.js\",\"function\":\"XMLHttpRequest.handleLoad\",\"in_app\":true,\"lineno\":36629},{\"colno\":12,\"filename\":\"https://agulina.ngrok.io/packs/js/vendor-b73adfbd1839150fb479.chunk.js\",\"function\":\"settle\",\"in_app\":true,\"lineno\":37389},{\"colno\":15,\"filename\":\"https://agulina.ngrok.io/packs/js/vendor-b73adfbd1839150fb479.chunk.js\",\"function\":\"createError\",\"in_app\":true,\"lineno\":37155}]},\"mechanism\":{\"handled\":true,\"type\":\"generic\"}}]},\"level\":\"error\",\"event_id\":\"783d557d0b2d40608d3ed88d33a14c99\",\"platform\":\"javascript\",\"sdk\":{\"name\":\"sentry.javascript.browser\",\"packages\":[{\"name\":\"npm:@sentry/browser\",\"version\":\"5.21.1\"}],\"version\":\"5.21.1\",\"integrations\":[\"InboundFilters\",\"FunctionToString\",\"TryCatch\",\"Breadcrumbs\",\"GlobalHandlers\",\"LinkedErrors\",\"UserAgent\",\"RewriteFrames\",\"Dedupe\",\"ExtraErrorData\",\"Vue\"]},\"timestamp\":1626186230.9387002,\"environment\":\"development\",\"release\":\"d2679d3c9f25ef8ac0a57a3e1e9f875f1169fa2c\",\"user\":{\"id\":6,\"email\":\"angelo@thismail.com\",\"company\":\"Angelo Local Company\"},\"breadcrumbs\":[{\"timestamp\":1626185805.2841,\"category\":\"console\",\"data\":{\"arguments\":[\"You are running Vue in development mode.\\nMake sure to turn on production mode when deploying for production.\\nSee more tips at https://vuejs.org/guide/deployment.html\"],\"logger\":\"console\"},\"level\":\"info\",\"message\":\"You are running Vue in development mode.\\nMake sure to turn on production mode when deploying for production.\\nSee more tips at https://vuejs.org/guide/deployment.html\"},{\"timestamp\":1626185805.2847002,\"category\":\"ui.click\",\"message\":\"div.collapse-content \u003e div#collapse-container-id-5.gl-mt-2.collapse\"},{\"timestamp\":1626185805.5453,\"category\":\"xhr\",\"data\":{\"method\":\"GET\",\"url\":\"https://webpacko-dev-server.ngrok.io/sockjs-node/info?t=1626185805285\",\"status_code\":200},\"type\":\"http\"},{\"timestamp\":1626185806.3127003,\"category\":\"xhr\",\"data\":{\"method\":\"POST\",\"url\":\"/mini-profiler-resources/results\",\"status_code\":200},\"type\":\"http\"},{\"timestamp\":1626185806.3188,\"category\":\"xhr\",\"data\":{\"method\":\"POST\",\"url\":\"/mini-profiler-resources/results\",\"status_code\":200},\"type\":\"http\"},{\"timestamp\":1626185806.3203,\"category\":\"xhr\",\"data\":{\"method\":\"POST\",\"url\":\"/mini-profiler-resources/results\",\"status_code\":200},\"type\":\"http\"},{\"timestamp\":1626185806.3252,\"category\":\"ui.click\",\"message\":\"tbody \u003e tr \u003e td.profiler-duration. \u003e a.profiler-queries-show\"},{\"timestamp\":1626186226.4326,\"category\":\"ui.click\",\"message\":\"div \u003e div \u003e div \u003e a.gl-link\"},{\"timestamp\":1626186230.9316,\"category\":\"xhr\",\"data\":{\"method\":\"GET\",\"url\":\"/licenses/A-S00067289\",\"status_code\":422},\"type\":\"http\"}],\"request\":{\"url\":\"https://agulina.ngrok.io/subscriptions\",\"headers\":{\"User-Agent\":\"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.114 Safari/537.36\"}},\"contexts\":{\"Error\":{\"message\":\"[undefined]\",\"name\":\"[undefined]\",\"description\":\"[undefined]\",\"number\":\"[undefined]\",\"fileName\":\"[undefined]\",\"lineNumber\":\"[undefined]\",\"columnNumber\":\"[undefined]\",\"stack\":\"[undefined]\",\"config\":{\"url\":\"/licenses/A-S00067289\",\"method\":\"get\",\"headers\":\"[Object]\",\"transformRequest\":\"[Array]\",\"transformResponse\":\"[Array]\",\"timeout\":0,\"adapter\":\"[Function: xhrAdapter]\",\"xsrfCookieName\":\"XSRF-TOKEN\",\"xsrfHeaderName\":\"X-XSRF-TOKEN\",\"maxContentLength\":-1,\"maxBodyLength\":-1,\"validateStatus\":\"[Function: validateStatus]\",\"data\":\"[undefined]\"},\"code\":\"[undefined]\"}}}\n```\n\u003c/details\u003e\n\n\n##### Sentry.captureMessage\n\nAn example of how one can remove the manual `captureMessage` and let Sentry handle the error. **Note that this will change the log level from `info` to `error`**.\n\n\u003cdetails\u003e\n\u003csummary\u003eDiff\u003c/summary\u003e\n\n```\ndiff --git a/app/frontend/javascripts/subscription/components/new_gitlab_subscription.vue b/app/frontend/javascripts/subscription/components/new_gitlab_subscription.vue\n--- a/app/frontend/javascripts/subscription/components/new_gitlab_subscription.vue\t(revision d2679d3c9f25ef8ac0a57a3e1e9f875f1169fa2c)\n+++ b/app/frontend/javascripts/subscription/components/new_gitlab_subscription.vue\t(date 1626187067985)\n@@ -82,9 +82,6 @@\n       this.showSuccessModal = true;\n     },\n     handleError(message) {\n-      if (message) {\n-        Sentry.captureMessage(message);\n-      }\n       this.errorMessage = message;\n     },\n   },\ndiff --git a/app/frontend/javascripts/subscription/components/new_gitlab_subscription_form.vue b/app/frontend/javascripts/subscription/components/new_gitlab_subscription_form.vue\n--- a/app/frontend/javascripts/subscription/components/new_gitlab_subscription_form.vue\t(revision d2679d3c9f25ef8ac0a57a3e1e9f875f1169fa2c)\n+++ b/app/frontend/javascripts/subscription/components/new_gitlab_subscription_form.vue\t(date 1626187443274)\n@@ -151,7 +151,7 @@\n \n       this.clearError();\n \n-      purchaseSubscription(requestParams)\n+      return purchaseSubscription(requestParams)\n         .then(({ invoice_item, invoice }) =\u003e {\n           this.invoice = invoice;\n           this.serviceStartDate = invoice_item[0].service_start_date;\n@@ -159,6 +159,7 @@\n         })\n         .catch((error) =\u003e {\n           this.$emit('error', error.message);\n+          throw new Error('This is a dummy error')\n         })\n         .finally(() =\u003e {\n           this.isLoading = false;\n```\n\u003c/details\u003e\n\n# Other resources\n\n- the Draft MR: gitlab-org/customers-gitlab-com!2935\n- a video showing the approaches in the demo app: [link to drive](https://drive.google.com/file/d/1yBdT51vIP-DEdL54QOZoIgPSFSOa-rhu/view?usp=sharing)\n- a video for some more specific cases: [link to drive](https://drive.google.com/file/d/1KXNUX-CCU-MXot0q6aC9fic9fY7BjspR/view?usp=sharing)\n- a video for some more specific cases: [link to drive](https://drive.google.com/file/d/1RBaJ7bDezuXcJblWgImY9uTDdCfeF3TS/view?usp=sharing)","state":"closed","created_at":"2021-07-13T13:32:49.027Z","updated_at":"2022-07-29T00:02:10.240Z","closed_at":"2022-07-29T00:02:10.216Z","closed_by":{"id":1786152,"username":"gitlab-bot","name":"🤖 GitLab Bot 🤖","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1786152/avatar.png","web_url":"https://gitlab.com/gitlab-bot"},"labels":["Sentry","[deprecated] Category:Fulfillment Platform","auto closed","auto updated","devops::fulfillment","frontend","group::fulfillment platform","maintenance::refactor","missed:14.2","missed:14.5","section::fulfillment","to schedule","workflow::ready for development"],"milestone":{"id":1212252,"iid":48,"group_id":9970,"title":"Next 1-3 releases","description":"Issues which are not quite ready to schedule, but should be considered as part of the near-term roadmap.","state":"active","created_at":"2020-03-26T20:39:10.889Z","updated_at":"2020-03-26T20:39:10.889Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/48"},"assignees":[],"author":{"id":6348276,"username":"agulina","name":"Angelo Gulina","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b28693a558066993ea93b7272208d285?s=80\u0026d=identicon","web_url":"https://gitlab.com/agulina"},"type":"ISSUE","assignee":null,"user_notes_count":13,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3349","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3349","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3349/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3349/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3349","relative":"#3349","full":"gitlab-org/customers-gitlab-com#3349"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":90177139,"iid":3348,"project_id":2670515,"title":"Addons purchase info seem redundant and not so clear","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n### Problem\n\nWith gitlab-org/customers-gitlab-com#2876:\n- `Price` and `Subtotal` lines in the Addons purchase will necessarily display the same values (there are no other products to purchase)\n- the Unit Price of the product is not so evident and placed in a line that's not even so clear\n\n| |||\n|-|-|-|\n| Simple | ![Screenshot_2021-07-13_at_09.04.43](/uploads/372c4527876ba894d9feb3799047e565/Screenshot_2021-07-13_at_09.04.43.png)| This should be fixed with gitlab-org/customers-gitlab-com#2876. Also, the line for quantity is a bit weird.\n| with Proration credit | ![Screenshot_2021-07-15_at_07.08.26](/uploads/d5ce956a4661d281c25964f5d0a7a9fb/Screenshot_2021-07-15_at_07.08.26.png) | The info here are correctly displayed and the difference between `Price` and `Subtotal` clearly makes sense\n\n### Proposal\n\nTo solve this, I'm proposing to make the line for the quantity a bit more readable.\n\n| | | |\n|-|-|-|\n| Price per Unit (clearer quantity)|![Screenshot_2021-07-13_at_09.11.03](/uploads/9359bcc242573db548b6e275240dd792/Screenshot_2021-07-13_at_09.11.03.png)| If we want to keep the Price as a total, we can at least improve the line for the quantity a bit. |","state":"closed","created_at":"2021-07-13T07:41:01.892Z","updated_at":"2022-05-13T01:18:46.303Z","closed_at":"2021-08-16T07:47:19.685Z","closed_by":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"labels":["Category:Purchase","UX","Unplanned","devops::fulfillment","feature::enhancement","frontend","group::purchase","onboarding","section::fulfillment","type::feature","workflow::production"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"}],"author":{"id":6348276,"username":"agulina","name":"Angelo Gulina","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b28693a558066993ea93b7272208d285?s=80\u0026d=identicon","web_url":"https://gitlab.com/agulina"},"type":"ISSUE","assignee":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"user_notes_count":14,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3348","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3348","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3348/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3348/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3348","relative":"#3348","full":"gitlab-org/customers-gitlab-com#3348"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":90163707,"iid":3346,"project_id":2670515,"title":"Previous user count is incorrect when changing products and seat count during renewal","description":"### Problem\n\nWhen a subscription is renewed, and the user changes the product and the number of active users at the same time, the `previous_user_count` is the same as the new `user_count`.\n\nThis is because `Subscription#previous` finds the last version of the subscription and we use the result of this to get the `previous_user_count`. This is an issue when changing products and seats, because we generate an amendment of the subscription with the new product and the new seat count before processing the renewal amendment. This means the previous version at that point is the version with the new product and the new user count.\n\n##### Example\n\n![Screen_Shot_2021-07-13_at_3.10.22_PM](/uploads/d701cb402d3ee4a38b3353e051b77556/Screen_Shot_2021-07-13_at_3.10.22_PM.png)\n\n^ In this example, we renew the initial subscription (V1) and change the product from premium to ultimate. We also change the user count (which was 10 in V1 and is then 15 in V3). When we process the renewal, we look for the most recent previous version and this is returning V3 currently. This means we're creating the license with `user_count: 15, previous_user_count: 15` but it should be `user_count: 15, previous_user_count: 10`\n\n#### 🐛 Steps to reproduce\n\n1. Create a new self-managed license via CustomersDot\n1. Navigate to the renewal page for that license\n1. Renew the license with:\n   1. Changed product (ie Premium -\u003e Ultimate)\n   1. Changed number of users\n1. View the license in the db: `previous_users_count == user_count`\n\n#### 📸 Screenshots\n\n![Example](/uploads/9e44db1ba9601d91dc6464efa7ccce22/count_present.mp4)\n\n\n### Proposal\n\nI'm not entirely sure how to address this, it will likely require some investigation. We need to get the version of the subscription before we made the renewal amendments, or we need to store the `previous_user_count` somewhere else and look it up from there.\n\n### Reported Examples\n\n1. https://gitlab.com/gitlab-com/support/internal-requests/-/issues/11348\n1.","state":"closed","created_at":"2021-07-13T03:08:19.129Z","updated_at":"2022-11-11T09:28:01.735Z","closed_at":"2022-07-29T19:35:35.074Z","closed_by":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"labels":["Common Provisioning Bugs","Support Efficiency","[deprecated] Category:Provision","auto updated","automation:prevent-auto-close","backend","customer","devops::fulfillment","group::provision","missed:14.2","missed:14.3","missed:15.0","missed:15.2","section::fulfillment","severity::2","type::bug","workflow::production"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"}],"author":{"id":4981524,"username":"jhyson","name":"Josianne Hyson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4981524/avatar.png","web_url":"https://gitlab.com/jhyson"},"type":"ISSUE","assignee":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"user_notes_count":38,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3346","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3346","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3346/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3346/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3346","relative":"#3346","full":"gitlab-org/customers-gitlab-com#3346"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8402,"epic":{"id":568437,"iid":8402,"title":"Improve accuracy of determining subscription state using the Zuora Subscription API","url":"/groups/gitlab-org/-/epics/8402","group_id":9970,"human_readable_end_date":"Sep 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":90041200,"iid":3341,"project_id":2670515,"title":"Allow users to manually renew subscription up to 45 days post expiration (change from 30 days)","description":"## Summary\n\nThe following issue https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1393 introduced the limitation of showing 'Renew' button up to 30 days after subscription expiration, but hiding it after 30 days.\n\nPer comment here https://gitlab.com/gitlab-com/sales-team/field-operations/deal-desk/-/issues/102#note_622857803 from @jrabbits [The foundational policy](https://about.gitlab.com/handbook/sales/field-operations/order-processing/#late-renewals) now states that renewals can be closed up to 45 days after the renewal date. This requires a modification of the logic from 30 days to 45 days.\n\n## Proposal\n\nMake an update to logic introduced in https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1393 to use 45 days instead of 30 days.","state":"closed","created_at":"2021-07-09T19:15:06.643Z","updated_at":"2023-02-14T07:04:06.960Z","closed_at":"2022-05-02T12:40:15.800Z","closed_by":{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"},"labels":["Category:Purchase","devops::fulfillment","frontend","group::purchase","section::fulfillment","workflow::production"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"}],"author":{"id":8110789,"username":"tgolubeva","name":"Tatyana Golubeva","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8110789/avatar.png","web_url":"https://gitlab.com/tgolubeva"},"type":"ISSUE","assignee":{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"},"user_notes_count":15,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3341","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3341","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3341/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3341/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3341","relative":"#3341","full":"gitlab-org/customers-gitlab-com#3341"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":89905285,"iid":3332,"project_id":2670515,"title":"Make use of SubscriptionCurrentVersionFinder redundant","description":"Continuing the discussion from the MR https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/3484 here, we are introducing a new class `SubscriptionVersionFinder` to find subscriptions which were active/present in a given period of time. \n\nThe `SubscriptionCurrentVersionFinder` makes the use of `SubscriptionVersionFinder` and finds the subscriptions which were active on `Date.current`. \n\nWe can simply make a call to `SubscriptionVersionFinder` and use the method current_version which will make use of `Date.current` without having to use the whole calls being inherited from `SubscriptionVersionFinder`.\n\nUpdate: In addition to the above, we will also update the logic where `SubscriptionCurrentVersionFinder` is used to use the new POC logic introduced in https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4246+ instead.\n\n### How will we measure success?\n\nWe should not need to update VCR after the change has been made as the query to Zuora still has to be the same.","state":"closed","created_at":"2021-07-07T12:59:36.344Z","updated_at":"2022-07-27T17:06:49.799Z","closed_at":"2022-07-25T19:58:50.819Z","closed_by":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"labels":["[deprecated] Category:Fulfillment Platform","auto updated","backend","devops::fulfillment","group::fulfillment platform","maintenance::refactor","section::fulfillment","type::maintenance","workflow::production"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"}],"author":{"id":4903695,"username":"shreyasagarwal","name":"Shreyas Agarwal","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d5b09dfe06a10d119c1b2043c43de680?s=80\u0026d=identicon","web_url":"https://gitlab.com/shreyasagarwal"},"type":"ISSUE","assignee":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3332","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3332","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3332/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3332/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3332","relative":"#3332","full":"gitlab-org/customers-gitlab-com#3332"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8402,"epic":{"id":568437,"iid":8402,"title":"Improve accuracy of determining subscription state using the Zuora Subscription API","url":"/groups/gitlab-org/-/epics/8402","group_id":9970,"human_readable_end_date":"Sep 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":89826866,"iid":3331,"project_id":2670515,"title":"Community Program - Glue self-managed form","description":"### Problem\n\nWe have all the parts of the self-managed form in the main component, but they're not integrated together.\n\n### Proposal\n\nGlue all parts to send confirmed request to backend and handle error/success.\n\n### Details\n\n- [x] When the purchase succeed, we'll show success modal with \"View your subscription\" button.\n- [x] If there's a coupon code error, we'll show it below coupon code input field.\n- [x] If there are other errors, we'll show it on top of the form.\n\n### To do\n\n- [x] Once !3456 is merged, send seats count alongside the request","state":"closed","created_at":"2021-07-06T09:58:38.853Z","updated_at":"2021-08-17T13:25:33.215Z","closed_at":"2021-08-17T13:25:33.202Z","closed_by":{"id":127064,"username":"aalakkad","name":"Ammar Alakkad","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ecc1130ce340f5080afd8f2c9962948a?s=80\u0026d=identicon","web_url":"https://gitlab.com/aalakkad"},"labels":["Category:Purchase","devops::fulfillment","frontend","group::purchase","missed:14.1","section::fulfillment","workflow::verification"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":127064,"username":"aalakkad","name":"Ammar Alakkad","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ecc1130ce340f5080afd8f2c9962948a?s=80\u0026d=identicon","web_url":"https://gitlab.com/aalakkad"}],"author":{"id":127064,"username":"aalakkad","name":"Ammar Alakkad","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ecc1130ce340f5080afd8f2c9962948a?s=80\u0026d=identicon","web_url":"https://gitlab.com/aalakkad"},"type":"ISSUE","assignee":{"id":127064,"username":"aalakkad","name":"Ammar Alakkad","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ecc1130ce340f5080afd8f2c9962948a?s=80\u0026d=identicon","web_url":"https://gitlab.com/aalakkad"},"user_notes_count":16,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3331","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":4,"completed_count":4},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3331","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3331/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3331/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3331","relative":"#3331","full":"gitlab-org/customers-gitlab-com#3331"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5712,"epic":{"id":244558,"iid":5712,"title":"Community Programs - New Subscription","url":"/groups/gitlab-org/-/epics/5712","group_id":9970,"human_readable_end_date":"Mar 22, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":89783311,"iid":3327,"project_id":2670515,"title":"Update wrapper to find GlTooltip using data-testId","description":"The following discussion from !3467 should be addressed:\n\n- [ ] @aalakkad started a [discussion](https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/3467#note_616282898):  (+6 comments)\n\n    \u003e **suggestion (non-blocking):** I think it's better if we added data-testid to the tooltips, since we're having 2 of them instead of one.\n    \u003e \n    \u003e Then we can choose which tooltip are we targeting in the tests rather than finding a tooltip and hope it's the correct one.\n    \u003e \n    \u003e I'm marking this as non-blocking to be done in a follow-up, but will defer to the maintainer to decide if it's ok.\n\ncc: @rhardarson","state":"closed","created_at":"2021-07-05T15:08:54.363Z","updated_at":"2021-07-14T11:40:02.515Z","closed_at":"2021-07-14T11:40:02.493Z","closed_by":{"id":127064,"username":"aalakkad","name":"Ammar Alakkad","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ecc1130ce340f5080afd8f2c9962948a?s=80\u0026d=identicon","web_url":"https://gitlab.com/aalakkad"},"labels":["Category:Purchase","Unplanned","devops::fulfillment","frontend","group::purchase","maintenance::refactor","section::fulfillment","workflow::in review"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":127064,"username":"aalakkad","name":"Ammar Alakkad","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ecc1130ce340f5080afd8f2c9962948a?s=80\u0026d=identicon","web_url":"https://gitlab.com/aalakkad"}],"author":{"id":4903695,"username":"shreyasagarwal","name":"Shreyas Agarwal","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d5b09dfe06a10d119c1b2043c43de680?s=80\u0026d=identicon","web_url":"https://gitlab.com/shreyasagarwal"},"type":"ISSUE","assignee":{"id":127064,"username":"aalakkad","name":"Ammar Alakkad","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ecc1130ce340f5080afd8f2c9962948a?s=80\u0026d=identicon","web_url":"https://gitlab.com/aalakkad"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3327","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3327","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3327/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3327/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3327","relative":"#3327","full":"gitlab-org/customers-gitlab-com#3327"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":89756680,"iid":3326,"project_id":2670515,"title":"Rename occurrences of `user` to `customer` in purchase flow","description":"When talking about out application, we rarely use the term `user` but prefer `customer`. To keep our application vocabulary consistent with the usage, let's replace the references to `user` with `customer`, at least for the purchase experience. This will help us keeping a shared language between all team members.\n\n\nThe following discussion from !3490 should be addressed:\n\n- [ ] @agulina started a [discussion](https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/3490#note_617304689):  (+1 comment)\n\n    \u003e **question**: I struggle a bit here because CDot is sometimes inconsistent with names.\n    \u003e \n    \u003e Should it be `customer` or `user`?","state":"closed","created_at":"2021-07-05T08:09:11.456Z","updated_at":"2021-08-10T06:21:40.251Z","closed_at":"2021-08-10T06:21:40.243Z","closed_by":{"id":6348276,"username":"agulina","name":"Angelo Gulina","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b28693a558066993ea93b7272208d285?s=80\u0026d=identicon","web_url":"https://gitlab.com/agulina"},"labels":["Category:Purchase","devops::fulfillment","frontend","group::purchase","maintenance::refactor","onboarding","section::fulfillment","to schedule"],"milestone":null,"assignees":[],"author":{"id":6348276,"username":"agulina","name":"Angelo Gulina","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b28693a558066993ea93b7272208d285?s=80\u0026d=identicon","web_url":"https://gitlab.com/agulina"},"type":"ISSUE","assignee":null,"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3326","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3326","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3326/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3326/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3326","relative":"#3326","full":"gitlab-org/customers-gitlab-com#3326"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":89642208,"iid":3318,"project_id":2670515,"title":"IronBank Gem version(4.4.1, used by current CustomersDot ) does not connect to Zuora Central Sandbox","description":"IronBank Gem version(4.4.1, used by current CustomersDot ) does not connect to Zuora Central Sandbox.\n\n\n### Problem\n\nSince CustomersDot rely on IronBank to connect to Zuora, this prevent CustomersDot from working with Zuora central sandbox. This blocks issue https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/2848\n\nDetails in https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/2848#note_616941950\n\n### Proposal\n\nTwo options so far:\n1. Bump iron_bank gem version to [v5.2.3](https://github.com/zendesk/iron_bank/releases/tag/v5.2.3), which contains the [fix exactly for this issue](https://github.com/zendesk/iron_bank/pull/74).\n2. Monkey patch the fix in CustomersDot, on top of existing iron_bank gem 4.4.1\n\nIn local environment, with monkey patch, I have verified IronBank can query from Central Sandbox(`rest.test.zuora.com`) successfully.\n\nOption 1 is preferred. Asked in slack to see whether people have concern to bump iron_bank gem version https://gitlab.slack.com/archives/CMJ8JR0RH/p1625186996057700\n\nThanks @jameslopez to suggest a nice checklist in MR https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/3504 - we should follow the checklist.\n* [x] Follow the regular process to create the MR. Make sure this issue is Public.\n* [x] Make sure the maintainer adds the ~\"production::blocker\" label to this issue once the MR is ready to be merged\n* [x] Once the MR lands in Staging, announce the changes in `#s_fulfillment` and request help for testing all the different flows affected\n* [x] Announce the changes in `#support_licensing-subscription`\n* [x] Create a revert MR targeting `master` to quickly deploy to production should anything go wrong\n* [ ] Inform the `@sre-oncall` about the potentially breaking changes\n* [x] Remove the ~\"production::blocker\" label if tested has completed succesfully, wait for production deployment\n* [x] If everything looks good after a few hours/days (depending on the change), close the revert MR\n* [ ] If there has been a problem, merge the revert MR into `master`, inform Infrastructure/`@sre-oncall` to trigger a `chef` deploy (if urgent) and push the changes to the `staging` branch last\n\n\n### How will we measure success?\n\nCustomersDot can connect to `rest.test.zuora.com`","state":"closed","created_at":"2021-07-02T01:05:40.086Z","updated_at":"2021-07-18T01:08:33.538Z","closed_at":"2021-07-06T08:45:50.184Z","closed_by":{"id":4903695,"username":"shreyasagarwal","name":"Shreyas Agarwal","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d5b09dfe06a10d119c1b2043c43de680?s=80\u0026d=identicon","web_url":"https://gitlab.com/shreyasagarwal"},"labels":["Category:Purchase","Unplanned","backend","devops::fulfillment","group::purchase","section::fulfillment","workflow::production"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":4903695,"username":"shreyasagarwal","name":"Shreyas Agarwal","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d5b09dfe06a10d119c1b2043c43de680?s=80\u0026d=identicon","web_url":"https://gitlab.com/shreyasagarwal"}],"author":{"id":4098809,"username":"qzhaogitlab","name":"Qingyu Zhao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4098809/avatar.png","web_url":"https://gitlab.com/qzhaogitlab"},"type":"ISSUE","assignee":{"id":4903695,"username":"shreyasagarwal","name":"Shreyas Agarwal","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d5b09dfe06a10d119c1b2043c43de680?s=80\u0026d=identicon","web_url":"https://gitlab.com/shreyasagarwal"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2021-07-09","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3318","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":9,"completed_count":7},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3318","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3318/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3318/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3318","relative":"#3318","full":"gitlab-org/customers-gitlab-com#3318"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":89532931,"iid":3314,"project_id":2670515,"title":"Community Programs Self-Checkout - Customer Information","description":"In https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/2089 we extracted a customer information component to use in the Community Programs checkout flow.\n\n### TODO\n\nConsume the created component in the community programs self-managed flow","state":"closed","created_at":"2021-06-30T10:53:54.164Z","updated_at":"2021-07-07T16:38:09.870Z","closed_at":"2021-07-05T15:25:46.353Z","closed_by":{"id":127064,"username":"aalakkad","name":"Ammar Alakkad","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ecc1130ce340f5080afd8f2c9962948a?s=80\u0026d=identicon","web_url":"https://gitlab.com/aalakkad"},"labels":["Category:Purchase","devops::fulfillment","frontend","group::purchase","section::fulfillment","workflow::in review"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":127064,"username":"aalakkad","name":"Ammar Alakkad","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ecc1130ce340f5080afd8f2c9962948a?s=80\u0026d=identicon","web_url":"https://gitlab.com/aalakkad"}],"author":{"id":4430316,"username":"rhardarson","name":"Ragnar Hardarson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4430316/avatar.png","web_url":"https://gitlab.com/rhardarson"},"type":"ISSUE","assignee":{"id":127064,"username":"aalakkad","name":"Ammar Alakkad","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ecc1130ce340f5080afd8f2c9962948a?s=80\u0026d=identicon","web_url":"https://gitlab.com/aalakkad"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3314","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3314","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3314/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3314/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3314","relative":"#3314","full":"gitlab-org/customers-gitlab-com#3314"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5712,"epic":{"id":244558,"iid":5712,"title":"Community Programs - New Subscription","url":"/groups/gitlab-org/-/epics/5712","group_id":9970,"human_readable_end_date":"Mar 22, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":89501828,"iid":3312,"project_id":2670515,"title":"Follow-up from \"Use current_subscription when checking for last_quarter reconciliation\"","description":"The following discussion from !3468 should be addressed:\n\n- [ ] @tyleramos started a [discussion](https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/3468#note_614688188): \n\n    \u003e **Suggestion for follow-up:** I'm seeing we have similar logic of `order.current_subscription || order.subscription` in at least 3 other places now.  What do you think about defining as a method on `Order` and using that method in those references to DRY it up a bit?","state":"closed","created_at":"2021-06-29T20:56:25.075Z","updated_at":"2022-03-31T14:18:04.473Z","closed_at":"2022-03-31T14:18:04.458Z","closed_by":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"labels":["[deprecated] 🍎","backend","devops::fulfillment","group::fulfillment platform","maintenance::refactor","onboarding","section::fulfillment","workflow::production"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"}],"author":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"type":"ISSUE","assignee":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3312","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3312","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3312/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3312/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3312","relative":"#3312","full":"gitlab-org/customers-gitlab-com#3312"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":89459784,"iid":3306,"project_id":2670515,"title":"Follow-up from \"Update expired subscription downgrade process\"","description":"The following discussion from !3379 should be addressed:\n\n- [ ] @rcobb started a [discussion](https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/3379#note_613651926):  (+1 comment)\n\n    \u003e Random thought: Not related to this MR but IMO having these checks here is a bit unintuitive. I think moving them to their own method makes their intent more clear.\n    \u003e \n    \u003e ```ruby\n    \u003e def end_date_in_sync_with_zuora?\n    \u003e   return true unless check_zuora_end_date?\n    \u003e \n    \u003e   order_end_date.to_s == zuora_subscription_end_date.to_s\n    \u003e end\n    \u003e \n    \u003e def check_zuora_end_date?\n    \u003e   return false if order.trial?\n    \u003e   return false if end_date_before_expiration...\n    \u003e   ...\n    \u003e end\n    \u003e ```","state":"closed","created_at":"2021-06-29T08:38:35.315Z","updated_at":"2021-07-29T09:29:08.433Z","closed_at":"2021-07-29T09:29:08.420Z","closed_by":{"id":4192493,"username":"ebaque","name":"Etienne Baqué","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4192493/avatar.png","web_url":"https://gitlab.com/ebaque"},"labels":["Unplanned","[deprecated] Category:Utilization","backend","devops::fulfillment","group::utilization","missed:14.1","section::fulfillment","workflow::in review"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":4192493,"username":"ebaque","name":"Etienne Baqué","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4192493/avatar.png","web_url":"https://gitlab.com/ebaque"}],"author":{"id":4192493,"username":"ebaque","name":"Etienne Baqué","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4192493/avatar.png","web_url":"https://gitlab.com/ebaque"},"type":"ISSUE","assignee":{"id":4192493,"username":"ebaque","name":"Etienne Baqué","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4192493/avatar.png","web_url":"https://gitlab.com/ebaque"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3306","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3306","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3306/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3306/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3306","relative":"#3306","full":"gitlab-org/customers-gitlab-com#3306"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":89067046,"iid":3290,"project_id":2670515,"title":"Remove collapse component from subscription card","description":"## Proposal\n\n- Remove the collapse component that wraps the subscription card, as [suggested](https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/3374#note_604989438) by @timnoah.\n\n- Removing the collapse also removes the thick border around the subscription card.\n\n- Replace the thin border between cards with a thick gray 4px border.\n\n## Design\n\n**[Figma Specs](https://www.figma.com/file/yjusTZF6Qgr4DzXkvE5bK2/Customers-Portal-Templates?node-id=1113%3A4023)**\n\n![Manage_purchases_-_Updated](/uploads/69ffb582aa55e4163040d78270791e37/Manage_purchases_-_Updated.png)\n\nRelated to #3140 and !3374.","state":"closed","created_at":"2021-06-22T06:12:19.301Z","updated_at":"2021-08-09T07:45:28.957Z","closed_at":"2021-08-09T07:45:28.942Z","closed_by":{"id":447038,"username":"vitallium","name":"Vitaly Slobodin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/74b3243cfcfbfac1f022b78ab505e8d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/vitallium"},"labels":["Cloud License Sync - V2","[deprecated] Category:Provision","devops::fulfillment","frontend","group::provision","onboarding","quad-planning::complete-no-action","section::fulfillment","workflow::production"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":447038,"username":"vitallium","name":"Vitaly Slobodin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/74b3243cfcfbfac1f022b78ab505e8d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/vitallium"}],"author":{"id":127064,"username":"aalakkad","name":"Ammar Alakkad","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ecc1130ce340f5080afd8f2c9962948a?s=80\u0026d=identicon","web_url":"https://gitlab.com/aalakkad"},"type":"ISSUE","assignee":{"id":447038,"username":"vitallium","name":"Vitaly Slobodin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/74b3243cfcfbfac1f022b78ab505e8d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/vitallium"},"user_notes_count":15,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3290","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3290","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3290/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3290/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3290","relative":"#3290","full":"gitlab-org/customers-gitlab-com#3290"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4628,"epic":{"id":127229,"iid":4628,"title":"Cloud Licensing V2","url":"/groups/gitlab-org/-/epics/4628","group_id":9970,"human_readable_end_date":"Nov 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":89054358,"iid":3289,"project_id":2670515,"title":"Downloading licenses can lead to LicenseOutOfSyncError","description":"### Problem\n\n[Tom Houston reported](https://gitlab.slack.com/archives/CMJ8JR0RH/p1624288923284200) earlier today that he came across 2 customers who are getting 500 errors when trying to download their license.  The system shows an error when trying to display the license in CustomersDot.  \n\nHe's seeing the following errors in both cases:\n```\nObtainLicenseService::LicenseOutOfSyncError: ObtainLicenseService::LicenseOutOfSyncError License and subscription are out of sync\n```\n\n#### Links to Customer accounts and tickets:\n- https://gitlab.zendesk.com/agent/tickets/219463\n- https://gitlab.zendesk.com/agent/tickets/219343\n- https://customers.gitlab.com/admin/customer/291084/edit\n- https://customers.gitlab.com/admin/customer/184727/edit\n\n### Proposal\n\nThis appears to be related to a recent change in the way licenses are downloaded in CustomersDot, introduced in https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/3315.  After a cursory look, this seems to be happening in the `ObtainLicenseService` where the license is being compared to the current subscription.  However, this code should not be used yet as it should be behind the `cloud_license_sync` feature flag.","state":"closed","created_at":"2021-06-21T21:02:30.177Z","updated_at":"2021-06-23T14:15:31.381Z","closed_at":"2021-06-23T14:15:31.364Z","closed_by":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"labels":["[deprecated] Category:Provision","backend","customer","devops::fulfillment","group::provision","section::fulfillment","type::bug","workflow::production"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"}],"author":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"type":"ISSUE","assignee":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3289","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3289","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3289/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3289/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3289","relative":"#3289","full":"gitlab-org/customers-gitlab-com#3289"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":88823997,"iid":3274,"project_id":2670515,"title":"Conditionally create a license in CustomersDot if missing using feature flag","description":"### Problem\n\nAs described in [this Slack thread](https://gitlab.slack.com/archives/CMJ8JR0RH/p1623853191158300), we realized that a handful of licenses were being created in CustomersDot rather than LicenseDot before the `cloud_license_sync` feature flag was enabled.  It turns out this began after we merged https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/3315 which creates a license if one doesn't exist when users attempt to download or copy a license.  This feature creates the license using CustomersDot rather than LicenseDot, which wasn't expected until the `cloud_license_sync` is enabled.\n\n### Proposal\n\nUpdate the `ObtainLicenseService` to avoid creating a license in CustomersDot if the `cloud_license_sync` feature is disabled.  Instead we should fallback to the old behavior of raising an error instead.","state":"closed","created_at":"2021-06-16T15:27:30.234Z","updated_at":"2021-06-22T15:55:45.955Z","closed_at":"2021-06-18T02:52:40.027Z","closed_by":{"id":4717243,"username":"a_luna","name":"Amparo Luna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4717243/avatar.png","web_url":"https://gitlab.com/a_luna"},"labels":["[deprecated] Category:Provision","backend","devops::fulfillment","group::provision","section::fulfillment","type::bug","workflow::production"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":4717243,"username":"a_luna","name":"Amparo Luna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4717243/avatar.png","web_url":"https://gitlab.com/a_luna"}],"author":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"type":"ISSUE","assignee":{"id":4717243,"username":"a_luna","name":"Amparo Luna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4717243/avatar.png","web_url":"https://gitlab.com/a_luna"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3274","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3274","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3274/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3274/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3274","relative":"#3274","full":"gitlab-org/customers-gitlab-com#3274"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":88773290,"iid":3268,"project_id":2670515,"title":"Customers should only be able to renew 15 days before subscription expiration date","description":"### Problem\n\nToday, customers are able to renew their subscription early via the Customer Portal. This can create various downstream issues, like the following:\n\n1. [Early renewal can cause issues for reconciliations](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3182)\n1. [Prevent users from accidentally renewing multiple times\n](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1099) \n1. [Renewing subscription multiple times will cause trueup error when its count is changed](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3268)\n\nSales Assisted renewals have already been aligned to the [FY22 Booking Policy](https://about.gitlab.com/handbook/sales/field-operations/order-processing/#renewal-opportunities), which states that we wait to close the renewal till 15 days from renewal date.  We now need to align self-service renewals to the same policy.\n\nOriginal issue thread: https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3182#note_599340590\n\n### Proposal\n\nPrevent early renewals by hiding \"Renew\" button 15 days before Subscription End Date, and add a related check in the backend. \n\n~backend specific tasks:\n\n- Lock down the `/renew` route from the backend. Hiding the `renew` button isn't sufficient since we're linking to the renew route from multiple places (CustomersDot, Billing page)\n\n~frontend specific tasks:\n\n- Disable the \"Renew\" button 15 days before Subscription End Date\n- Add a tooltip explaining why it's disabled (perhaps `Ability to renew will be available in X days`)\n\n### Result\n\nCustomers can only renew their subscription 15 days before renewal date.\n\n### Next steps (if any)\n\n### How will we measure success?","state":"closed","created_at":"2021-06-15T22:47:45.897Z","updated_at":"2022-03-17T04:56:48.761Z","closed_at":"2021-07-08T10:43:20.733Z","closed_by":{"id":4903695,"username":"shreyasagarwal","name":"Shreyas Agarwal","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d5b09dfe06a10d119c1b2043c43de680?s=80\u0026d=identicon","web_url":"https://gitlab.com/shreyasagarwal"},"labels":["Category:Purchase","Deliverable","backend","devops::fulfillment","group::purchase","section::fulfillment","workflow::staging"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":4903695,"username":"shreyasagarwal","name":"Shreyas Agarwal","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d5b09dfe06a10d119c1b2043c43de680?s=80\u0026d=identicon","web_url":"https://gitlab.com/shreyasagarwal"}],"author":{"id":8110789,"username":"tgolubeva","name":"Tatyana Golubeva","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8110789/avatar.png","web_url":"https://gitlab.com/tgolubeva"},"type":"ISSUE","assignee":{"id":4903695,"username":"shreyasagarwal","name":"Shreyas Agarwal","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d5b09dfe06a10d119c1b2043c43de680?s=80\u0026d=identicon","web_url":"https://gitlab.com/shreyasagarwal"},"user_notes_count":29,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3268","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3268","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3268/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3268/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3268","relative":"#3268","full":"gitlab-org/customers-gitlab-com#3268"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":88760740,"iid":3267,"project_id":2670515,"title":"Add Invoice Item Charge Amount and Invoice Data and Entity to Data Packet","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n### Problem\nWhile reviewing the Data we receive from Web Directs we found 2 additional fields that will be needed to fully automate our reconcile process and 1 that is blocking us from getting the correct charged Amount on prorated add-ons.\n\n### Proposal\nPlease add the following fields to the Rate Plan Charge payload pointed at the corresponding Salesforce fields:\n\n| Salesforce Field                      | Zuora Object chain                     |\n|---------------------------------------|----------------------------------------|\n| Webstore_Zuora_Invoice_Entity__c      | Invoice Item: Invoice: Account: Entity |\n| Webstore_Zuora_Invoice_Date__c        | Invoice Item: Invoice: Invoice Date    |\n| Webstore_Zuora_Invoice_item_Charge__c | Invoice Item: Charge Amount            |\n\n\n### Result\n\n### Next steps (if any)\n\n### How will we measure success?","state":"closed","created_at":"2021-06-15T16:24:12.254Z","updated_at":"2021-06-30T19:40:57.275Z","closed_at":"2021-06-28T23:03:22.757Z","closed_by":{"id":4717243,"username":"a_luna","name":"Amparo Luna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4717243/avatar.png","web_url":"https://gitlab.com/a_luna"},"labels":["Affects Salesforce","[deprecated] Category:Provision","backend","devops::fulfillment","group::provision","section::fulfillment","workflow::production"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":4717243,"username":"a_luna","name":"Amparo Luna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4717243/avatar.png","web_url":"https://gitlab.com/a_luna"}],"author":{"id":3913212,"username":"jbrennan1","name":"Jack Brennan","state":"active","avatar_url":"https://secure.gravatar.com/avatar/828dad4c15d9a386243161630d12b5f3?s=80\u0026d=identicon","web_url":"https://gitlab.com/jbrennan1"},"type":"ISSUE","assignee":{"id":4717243,"username":"a_luna","name":"Amparo Luna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4717243/avatar.png","web_url":"https://gitlab.com/a_luna"},"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3267","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3267","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3267/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3267/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3267","relative":"#3267","full":"gitlab-org/customers-gitlab-com#3267"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":88663144,"iid":3256,"project_id":2670515,"title":"Expired subscriptions downgrade - modify Plan scope","description":"### Summary\n\nThe expired subscription downgrade process is based on this following query:\n\n```\norders = Order.saas_subscriptions.full.where('end_date \u003c ?', expiration_date)\n```\n\nThe use of the `saas_subscriptions` scope means that we're limiting our query so that only orders related to specific Plan are  retrieved.\n\n### What is the current *bug* behavior?\n\nThe retrieved `Order` objects are related to one of the following plan:\n- Ultimate Saas 1 Year plan: `2c92a0ff76f0d5250176f2f8c86f305a`\n- Premium Saas 1 Year plan: `2c92a00d76f0d5060176f2fb0a5029ff`\n- (Deprecated) Gold plan: `2c92a0fc5a83f01d015aa6db83c45aac`\n- (Deprecated) Silver plan: `2c92a0fd5a840403015aa6d9ea2c46d6`\n- (Deprecated) Bronze plan: `2c92a0ff5a840412015aa3cde86f2ba6`\n\n### What is the expected *correct* behavior?\n\nOrders should be retrieved regardless of related plan. Ensure at least that it is a Saas plan.","state":"closed","created_at":"2021-06-14T10:30:08.677Z","updated_at":"2021-07-18T02:49:47.471Z","closed_at":"2021-07-08T11:42:37.450Z","closed_by":{"id":4192493,"username":"ebaque","name":"Etienne Baqué","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4192493/avatar.png","web_url":"https://gitlab.com/ebaque"},"labels":["Unplanned","[deprecated] Category:Utilization","backend","devops::fulfillment","group::utilization","section::fulfillment","type::bug","workflow::in review"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":4192493,"username":"ebaque","name":"Etienne Baqué","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4192493/avatar.png","web_url":"https://gitlab.com/ebaque"}],"author":{"id":4192493,"username":"ebaque","name":"Etienne Baqué","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4192493/avatar.png","web_url":"https://gitlab.com/ebaque"},"type":"ISSUE","assignee":{"id":4192493,"username":"ebaque","name":"Etienne Baqué","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4192493/avatar.png","web_url":"https://gitlab.com/ebaque"},"user_notes_count":8,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3256","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3256","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3256/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3256/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3256","relative":"#3256","full":"gitlab-org/customers-gitlab-com#3256"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4627,"epic":{"id":127219,"iid":4627,"title":"Expired SaaS subscriptions should revert to free plan.","url":"/groups/gitlab-org/-/epics/4627","group_id":9970,"human_readable_end_date":"Oct 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":88656191,"iid":3253,"project_id":2670515,"title":"Refactor condition to be easier comprehensible","description":"The following discussion from !3366 should be addressed:\n\n- [ ] @cwiesner started a [discussion](https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/3366#note_600340545): \n\n    \u003e `return unless current_customer \u0026\u0026 !params.key?(:edit_namespace) \u0026\u0026 gitlab_com_lead`\n    \u003e\n    \u003e **nitpick (non-blocking):** Not for this merge request but we should refactor this condition to make it easier comprehensible.\n\n### Proposal\n\nThis can be done by using an `if` instead of an `unless` which is easier to understand on a quick look.","state":"closed","created_at":"2021-06-14T08:46:47.581Z","updated_at":"2021-10-28T13:56:00.317Z","closed_at":"2021-07-21T08:29:31.977Z","closed_by":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"labels":["[deprecated] Category:Provision","[deprecated] 🍎","backend","devops::fulfillment","group::provision","maintenance::refactor","section::fulfillment","type::maintenance","workflow::production"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"}],"author":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"type":"ISSUE","assignee":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3253","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3253","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3253/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3253/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3253","relative":"#3253","full":"gitlab-org/customers-gitlab-com#3253"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":90099679,"iid":3343,"project_id":2670515,"title":"Validate Customer's License File","description":"## User Story\n\nAs product owner, I want to examine the customer's license file, when available, so that I can determine whether the file is valid or not and understand whether that is causing the 401 HTTP response.\n\n## Acceptance Criteria\n- [License file](https://gitlab.com/gitlab-com/account-management/eastern-north-america/ihs-markit/-/issues/69#note_601131184) is validated and a determination is made on whether its validity is causing the 401 error.\n\n\u003e SyncSeatLinkRequestWorker::RequestError: Seat Link request failed! Code:401 Body:{\"success\":false}\n\n\n\n## Customer Issue Reference\n- https://gitlab.com/gitlab-com/account-management/eastern-north-america/ihs-markit/-/issues/69","state":"closed","created_at":"2021-06-11T17:08:01.521Z","updated_at":"2022-05-19T19:42:06.974Z","closed_at":"2021-07-29T02:38:41.001Z","closed_by":{"id":1986039,"username":"lulalala","name":"Mark Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1986039/avatar.png","web_url":"https://gitlab.com/lulalala"},"labels":["[deprecated] Accepting merge requests","[deprecated] Category:Provision","backend","customer","devops::fulfillment","group::provision","missed:14.1","section::fulfillment","workflow::verification"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":1986039,"username":"lulalala","name":"Mark Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1986039/avatar.png","web_url":"https://gitlab.com/lulalala"}],"author":{"id":7971452,"username":"teresatison","name":"Teresa Tison","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7971452/avatar.png","web_url":"https://gitlab.com/teresatison"},"type":"ISSUE","assignee":{"id":1986039,"username":"lulalala","name":"Mark Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1986039/avatar.png","web_url":"https://gitlab.com/lulalala"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3343","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3343","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3343/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3343/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3343","relative":"#3343","full":"gitlab-org/customers-gitlab-com#3343"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6175,"epic":{"id":287810,"iid":6175,"title":"SyncSeatLinkRequestWorker::RequestError: Seat Link request failed! Code:401 Body:{\"success\":false}","url":"/groups/gitlab-org/-/epics/6175","group_id":9970,"human_readable_end_date":"Aug 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":88586757,"iid":3247,"project_id":2670515,"title":"Clean up wsdl file","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n### Problem\n\nIn https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/70b04d0db1a918b1e8c803d943acab4776b391ec/config/application.yml#L169 we're referencing a WSDL file that's version 88. The newest version of this file is 109.\n\nMoreover it looks like this file is no longer used since we moved away from SOAP https://gitlab.com/groups/gitlab-org/-/epics/1993\n\n\n### Proposal\n\n1. Confirm this is no longer used in our project and cookbooks.\n1. Confirm this is not used in our 3rd party code like https://github.com/sportngin/active_zuora\n1. Delete reference and record cassettes to remove the references - [example](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/staging/spec/fixtures/vcr_cassettes/amendmentbaseservice/_amend_/with_2_line_items_e_g_adding_and_removing_product_/logs_sending_amendment_request.yml#L5)","state":"closed","created_at":"2021-06-11T15:52:04.422Z","updated_at":"2022-06-28T00:02:06.912Z","closed_at":"2022-06-28T00:02:06.814Z","closed_by":{"id":1786152,"username":"gitlab-bot","name":"🤖 GitLab Bot 🤖","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1786152/avatar.png","web_url":"https://gitlab.com/gitlab-bot"},"labels":["[deprecated] Category:Fulfillment Platform","auto closed","auto updated","backend","devops::fulfillment","group::fulfillment platform","maintenance::refactor","section::fulfillment","workflow::validation backlog"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":4430316,"username":"rhardarson","name":"Ragnar Hardarson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4430316/avatar.png","web_url":"https://gitlab.com/rhardarson"},"type":"ISSUE","assignee":null,"user_notes_count":7,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3247","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3247","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3247/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3247/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3247","relative":"#3247","full":"gitlab-org/customers-gitlab-com#3247"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":88580109,"iid":3244,"project_id":2670515,"title":"Self-Managed - Community Programs Self-Checkout - Coupon code input","description":"As part of https://gitlab.com/groups/gitlab-org/-/epics/5068 users will be guided to CustomersDot need input the coupon code they've received.\n\n[Designs](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/2677/designs/Community_programs_checkout___Invalid_coupon_code_error.png)\n\n\n![image](/uploads/196f6cc2c92d5541d007507af9f48688/image.png)\n\n\n### TODO\n\n1. Add input field for coupon code\n1. Pass coupon code to API payload when purchasing subscription following https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/2362\n1. Render error message inline if code is consumed `This code has already been used.` or not valid `This code is not valid. Try re-entering the code from your email`\n\n### How to see the pages\n\n- Make sure you've the [`community_program_coupons`](https://gitlab.com/gitlab-org/customers-gitlab-com/-/feature_flags/91/edit) enabled for your setup.\n- Login to your CustomersDot\n- Navigate to any of:\n  - `/subscriptions/community_program/new?edition=self_managed\u0026coupon_code=coupon_test\u0026product=oss`\n  - `/subscriptions/community_program/new?edition=saas\u0026coupon_code=coupon_test\u0026product=oss`\n\nBE logic issue: https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/2362","state":"closed","created_at":"2021-06-11T13:46:57.163Z","updated_at":"2021-06-29T09:43:50.918Z","closed_at":"2021-06-28T14:29:31.124Z","closed_by":{"id":4737352,"username":"astoicescu","name":"Andrei Stoicescu","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4737352/avatar.png","web_url":"https://gitlab.com/astoicescu"},"labels":["Category:Purchase","devops::fulfillment","frontend","group::purchase","missed:14.0","section::fulfillment","workflow::verification"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":4737352,"username":"astoicescu","name":"Andrei Stoicescu","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4737352/avatar.png","web_url":"https://gitlab.com/astoicescu"}],"author":{"id":4737352,"username":"astoicescu","name":"Andrei Stoicescu","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4737352/avatar.png","web_url":"https://gitlab.com/astoicescu"},"type":"ISSUE","assignee":{"id":4737352,"username":"astoicescu","name":"Andrei Stoicescu","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4737352/avatar.png","web_url":"https://gitlab.com/astoicescu"},"user_notes_count":19,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3244","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3244","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3244/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3244/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3244","relative":"#3244","full":"gitlab-org/customers-gitlab-com#3244"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5712,"epic":{"id":244558,"iid":5712,"title":"Community Programs - New Subscription","url":"/groups/gitlab-org/-/epics/5712","group_id":9970,"human_readable_end_date":"Mar 22, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":88547806,"iid":3242,"project_id":2670515,"title":"Extract Community Program Subscription Data loading out of the view layer","description":"### Problem\n\nFollow up from https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/3292\n\nWe have data in the following views that relies on the `GitlabPlansHelper` for loading and formatting the data for the frontend:\n\n1. `app/views/subscriptions/community_program/new_saas.html.haml`\n1. `app/views/subscriptions/community_program/new_self_managed.html.haml`\n1. `app/views/subscriptions/_new_gitlab_com_subscription.html.haml`\n1. `app/views/subscriptions/_new_ee_subscription.html.haml`\n\nWe should extract the data loading out of this helper (into the controller?) ~~and move the presentation logic to a presenter so that it is easier to test~~. Helper methods are available across all controllers, so moving this logic to a presenter class will help us signal more clearly what it applies to.\n\n### Proposal\n\n1. ~~Create one or several presenters to format the data for the new subscription pages~~\n1. Load and filter the eligible namespaces in the controller/services instead of the view helper\n   - Currently this is happening in `GitlabPlansHelper#gitlab_namespaces`\n\n**Note:** after extracting the data loading into the controllers, it didn't seem as important to create presenters so we've decided to leave this part for now.","state":"closed","created_at":"2021-06-11T01:22:41.782Z","updated_at":"2022-05-25T03:37:18.498Z","closed_at":"2022-05-25T03:25:17.552Z","closed_by":{"id":10325315,"username":"vvempati","name":"Vamsi Vempati","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10325315/avatar.png","web_url":"https://gitlab.com/vvempati"},"labels":["Category:Purchase","backend","devops::fulfillment","group::purchase","maintenance::refactor","missed:15.0","section::fulfillment","type::maintenance","workflow::production"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":10325315,"username":"vvempati","name":"Vamsi Vempati","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10325315/avatar.png","web_url":"https://gitlab.com/vvempati"}],"author":{"id":4981524,"username":"jhyson","name":"Josianne Hyson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4981524/avatar.png","web_url":"https://gitlab.com/jhyson"},"type":"ISSUE","assignee":{"id":10325315,"username":"vvempati","name":"Vamsi Vempati","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10325315/avatar.png","web_url":"https://gitlab.com/vvempati"},"user_notes_count":35,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3242","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3242","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3242/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3242/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3242","relative":"#3242","full":"gitlab-org/customers-gitlab-com#3242"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5711,"epic":{"id":244557,"iid":5711,"title":"[Community Programs] Renewals","url":"/groups/gitlab-org/-/epics/5711","group_id":9970,"human_readable_end_date":"Nov 4, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":88541788,"iid":3240,"project_id":2670515,"title":"Remove report_date from LicenseSeatLink","description":"### Problem\n\nIn https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3163, the `SeatLinkCreateService` was updated to always save `LicenseSeatLink` records with a `report_timestamp`, even when `timestamp` isn't provided in the request params.  If `timestamp` is missing, the `date` param is used to construct a timestamp instead (e.g. `date` + 3:00 UTC). This was added in https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/3356.  Other MRs related to https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3163 were merged to remove the dependence on `report_date` like backfilling `report_timestamp`, along with transitioning DB constraints from `report_date` to `report_timestamp`.\n\nWith these changes, we no longer need to continue storing or referencing `report_date` on `LicenseSeatLink`.  All logic in CustomersDot should use `report_timestamp`.\n\n### Proposal\n\nIn this issue, we should finish the steps to removing `report_date`.\n\n- Remove any remaining references to `report_date`\n- Ignore the column in the model.\n- Remove the column from the database.","state":"closed","created_at":"2021-06-10T20:38:24.198Z","updated_at":"2021-10-28T13:56:06.902Z","closed_at":"2021-07-15T15:58:36.552Z","closed_by":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"labels":["[deprecated] Category:Provision","backend","devops::fulfillment","group::provision","maintenance::refactor","section::fulfillment","type::maintenance","workflow::production"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"}],"author":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"type":"ISSUE","assignee":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3240","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3240","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3240/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3240/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3240","relative":"#3240","full":"gitlab-org/customers-gitlab-com#3240"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":88539873,"iid":3239,"project_id":2670515,"title":"Follow-up from \"Execute Salesforce::CreateLeadService async\"","description":"The following discussion from !3347 should be addressed:\n\n- [ ] @vij started a [discussion](https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/3347#note_594561479):  (+3 comments)\n\n    \u003e Do we need to call `set_logger` here? If I've traced it through correctly, without passing a filename arg, I think [it assigns the `Sidekiq::Logger`](https://gitlab.com/gitlab-org/customers-gitlab-com/blob/853bd226bc41167336b5cb5f739823da05088658/app/workers/concerns/loggable_worker.rb#L20), which is also the default? :thinking: \n\nAlso it was noted that the name: `ZuoraWorker` was no longer accurate and misleading because this is too used for Salesforce interactions so we will rename it to something less specific.\n\nThis service specifically includes rescue / raise logic that relies on Zuora and Salesforce [error codes](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/01446ba03a7aa99f3fed1dec17fcfea87dd0a611/lib/errors.rb#L13) so will try with `IntegrationWorker` because we already have a `BaseWorker`.\n\n### Proposal\n\n- Update all workers that `include ZuoraWorker` to not call `set_logger` when the intention is to use the default `Sidekiq.logger`.\n\n- Rename `ZuoraWorker` to `IntegrationWorker`","state":"closed","created_at":"2021-06-10T19:35:28.081Z","updated_at":"2021-06-16T18:18:39.599Z","closed_at":"2021-06-16T18:18:39.581Z","closed_by":{"id":5667561,"username":"vshumilo","name":"Vladlena Shumilo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08dfa82785d130c151ab9e21caeab4e3?s=80\u0026d=identicon","web_url":"https://gitlab.com/vshumilo"},"labels":["[deprecated] Category:Provision","backend","devops::fulfillment","group::provision","section::fulfillment","workflow::in review"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":5667561,"username":"vshumilo","name":"Vladlena Shumilo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08dfa82785d130c151ab9e21caeab4e3?s=80\u0026d=identicon","web_url":"https://gitlab.com/vshumilo"}],"author":{"id":5667561,"username":"vshumilo","name":"Vladlena Shumilo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08dfa82785d130c151ab9e21caeab4e3?s=80\u0026d=identicon","web_url":"https://gitlab.com/vshumilo"},"type":"ISSUE","assignee":{"id":5667561,"username":"vshumilo","name":"Vladlena Shumilo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08dfa82785d130c151ab9e21caeab4e3?s=80\u0026d=identicon","web_url":"https://gitlab.com/vshumilo"},"user_notes_count":1,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3239","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3239","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3239/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3239/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3239","relative":"#3239","full":"gitlab-org/customers-gitlab-com#3239"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":88515572,"iid":3235,"project_id":2670515,"title":"Tooltips with seat-link info do not render properly for self-managed subscription cards","description":"## Description\n\nIf there is more than a Self-Managed subscription on the page that is canceled, only the first one gets the tooltip displayed for the Resume button. This could happen because all rendered tooltips have the same target ID.\n\n## Video\n\n![Screen_Recording_2021-06-10_at_14.09.14](/uploads/a93ea52db6990e097d42be9bc139a32f/Screen_Recording_2021-06-10_at_14.09.14.mov)","state":"closed","created_at":"2021-06-10T11:06:58.290Z","updated_at":"2022-06-20T03:05:42.999Z","closed_at":"2022-06-20T03:05:42.991Z","closed_by":{"id":1786152,"username":"gitlab-bot","name":"🤖 GitLab Bot 🤖","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1786152/avatar.png","web_url":"https://gitlab.com/gitlab-bot"},"labels":["[deprecated] Category:Billing and Subscription Management","auto closed","auto updated","devops::fulfillment","frontend","group::billing and subscription management","section::fulfillment","severity::4","stale","type::bug","vintage"],"milestone":null,"assignees":[],"author":{"id":4737352,"username":"astoicescu","name":"Andrei Stoicescu","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4737352/avatar.png","web_url":"https://gitlab.com/astoicescu"},"type":"ISSUE","assignee":null,"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3235","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3235","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3235/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3235/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3235","relative":"#3235","full":"gitlab-org/customers-gitlab-com#3235"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":88485512,"iid":3231,"project_id":2670515,"title":"[UX] Cloud Licensing - Workflow for Expired Cloud License","description":"### Problem\n\nAfter a license expires, the GitLab instance becomes blocked and git features like pushes are blocked. Here's a link to the docs on this: https://docs.gitlab.com/ee/user/admin_area/license.html#what-happens-when-your-license-expires. When a customer is using a license file they will renew their subscription and upload a new license file to reinstate the features or remove the license file. This will be the same behaviour for cloud licenses, but there is currently no way for a customer to remove a cloud license from their self-managed instance. This issue is to design/investigate the removal of a cloud license. [Original discussion](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3215#note_595998053).\n\nI've created [this issue](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3512) to also discuss a better way to gracefully handle the downgrading of an expired license as I'm unsure whether we should be blocking git features like pushes.\n\n### Proposal\n\n- Add a remove license button to the Admin \u003e Subscription page for cloud licenses\n- Follow the same removal flow as legacy licenses\n \n[**Figma design specs**](https://www.figma.com/file/0cuDNaL8iPZdUaMY8vtBzh/Workflow-for-Expired-Cloud-License?node-id=2%3A6791)","state":"closed","created_at":"2021-06-09T21:54:42.383Z","updated_at":"2021-10-01T12:17:17.827Z","closed_at":"2021-08-24T22:19:22.105Z","closed_by":{"id":7971452,"username":"teresatison","name":"Teresa Tison","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7971452/avatar.png","web_url":"https://gitlab.com/teresatison"},"labels":["Cloud License Sync - V2","[deprecated] Category:Provision","backend","devops::fulfillment","group::provision","missed:14.0","missed:14.2","section::fulfillment","workflow::ready for development"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":3354144,"username":"timnoah","name":"Tim Noah","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3354144/avatar.png","web_url":"https://gitlab.com/timnoah"}],"author":{"id":7971452,"username":"teresatison","name":"Teresa Tison","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7971452/avatar.png","web_url":"https://gitlab.com/teresatison"},"type":"ISSUE","assignee":{"id":3354144,"username":"timnoah","name":"Tim Noah","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3354144/avatar.png","web_url":"https://gitlab.com/timnoah"},"user_notes_count":14,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3231","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3231","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3231/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3231/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3231","relative":"#3231","full":"gitlab-org/customers-gitlab-com#3231"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6324,"epic":{"id":305818,"iid":6324,"title":"THEME: Cloud Licensing Delightful User Experiences post MVC","url":"/groups/gitlab-org/-/epics/6324","group_id":9970,"human_readable_end_date":"Apr 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":88458650,"iid":3224,"project_id":2670515,"title":"Follow-up from \"Add cleanup_groupless_subscriptions rake task\"","description":"The following discussion from !3361 should be addressed:\n\n- [ ] @vij started a [discussion](https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/3361#note_596397219):  (+2 comments)\n\n    \u003e I think it's kind of nice having them defined in this file so you know what's going on at a glance, but there's an existing helper for stubbing this call, if you'd rather use it (apologies if you already know about it, but I just wanted to point it out incase you didn't):\n    \u003e \n    \u003e https://gitlab.com/gitlab-org/customers-gitlab-com/blob/853bd226bc41167336b5cb5f739823da05088658/spec/support/stub_gitlab_calls.rb#L159","state":"closed","created_at":"2021-06-09T13:24:17.849Z","updated_at":"2021-07-05T09:56:53.600Z","closed_at":"2021-07-05T09:56:53.586Z","closed_by":{"id":4192493,"username":"ebaque","name":"Etienne Baqué","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4192493/avatar.png","web_url":"https://gitlab.com/ebaque"},"labels":["[deprecated] Category:Utilization","backend","devops::fulfillment","group::utilization","section::fulfillment","workflow::in review"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":4192493,"username":"ebaque","name":"Etienne Baqué","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4192493/avatar.png","web_url":"https://gitlab.com/ebaque"}],"author":{"id":4192493,"username":"ebaque","name":"Etienne Baqué","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4192493/avatar.png","web_url":"https://gitlab.com/ebaque"},"type":"ISSUE","assignee":{"id":4192493,"username":"ebaque","name":"Etienne Baqué","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4192493/avatar.png","web_url":"https://gitlab.com/ebaque"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3224","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3224","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3224/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3224/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3224","relative":"#3224","full":"gitlab-org/customers-gitlab-com#3224"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":88399091,"iid":3218,"project_id":2670515,"title":"Conditionally show address block in customer info","description":"## Description\n\nAs entering the user address is optional, we have to make the component that displays the customer info conditionally show the address. At the moment, when the user hasn't entered an address, we display an empty HTML container that has spacing applied to it. This doesn't result in predictable vertical spacing and it hinders accessibility.\n\nMaybe as part of this issue we can revisit the HTML elements that are shown inside of the customer info component so we make sure they're semantic.\n\nThe component is called `customer-information.vue`.\n\nThis issue is a follow-up from https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/2089\n\n## Screenshots\n\n| User can leave out their address fields... | Empty containers rendered in DOM |\n| --- | --- |\n| ![Screenshot_2021-06-08_at_17.20.29](/uploads/a6f964bc77cd7ede9b0a74cc4a40bf09/Screenshot_2021-06-08_at_17.20.29.png) | ![Screenshot_2021-06-08_at_17.31.21](/uploads/a4f2069f470009ebd0edd733bb5e75c9/Screenshot_2021-06-08_at_17.31.21.png) |","state":"closed","created_at":"2021-06-08T14:32:06.968Z","updated_at":"2021-10-28T13:56:09.303Z","closed_at":"2021-08-11T20:52:15.999Z","closed_by":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"labels":["Category:Purchase","Unplanned","devops::fulfillment","frontend","group::purchase","onboarding","section::fulfillment","type::maintenance","workflow::production"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"}],"author":{"id":4737352,"username":"astoicescu","name":"Andrei Stoicescu","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4737352/avatar.png","web_url":"https://gitlab.com/astoicescu"},"type":"ISSUE","assignee":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3218","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3218","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3218/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3218/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3218","relative":"#3218","full":"gitlab-org/customers-gitlab-com#3218"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":88186669,"iid":3206,"project_id":2670515,"title":"remove AutoRenew__c from the schema files","description":"We have renamed the Custom Auto Renew Zuora custom field API name from `AutoRenew__c` to `TurnOnAutoRenew__c`(issue https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/2947)\n\nAfter renaming , `AutoRenew__c` is now useless. It should be removed.\n\nWe need to remove `AutoRenew__c` from the [schema files](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/5fe12ca3016abc4814fdf756afa6896869dfec53/config/zuora/production/schema/Subscription.xml#L53) as well. And then we can remove the Zuora custom field.\n\n\n### Problem\n\n`AutoRenew__c` is now useless. It should be removed.\n\n### Proposal\n\nremove `AutoRenew__c` from the schema files\n- Production schema file https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/5fe12ca3016abc4814fdf756afa6896869dfec53/config/zuora/production/schema/Subscription.xml#L53\n- Sandbox schema file https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/5fe12ca3016abc4814fdf756afa6896869dfec53/config/zuora/sandbox/schema/Subscription.xml#L53\n- Staging schema file https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/def98ff782c5f26107bce05e2c3e3cb746654276/config/zuora/staging/schema/Subscription.xml#L145\n\n### Result\n`AutoRenew__c` is removed from the schema files\n\n### Next steps (if any)\n\n- [ ] Ask @mquitevis to remove the Zuora Subscription custom field `AutoRenew__c`\n\n### How will we measure success?","state":"closed","created_at":"2021-06-03T22:25:42.527Z","updated_at":"2022-05-20T14:33:57.646Z","closed_at":"2022-05-20T14:33:47.922Z","closed_by":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"labels":["[deprecated] Category:Fulfillment Platform","backend","devops::fulfillment","group::fulfillment platform","section::fulfillment","type::maintenance","workflow::production"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"}],"author":{"id":4098809,"username":"qzhaogitlab","name":"Qingyu Zhao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4098809/avatar.png","web_url":"https://gitlab.com/qzhaogitlab"},"type":"ISSUE","assignee":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3206","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3206","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3206/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3206/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3206","relative":"#3206","full":"gitlab-org/customers-gitlab-com#3206"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":88102849,"iid":3199,"project_id":2670515,"title":"Download invoice link shows 404","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n### Problem\n\nSometimes on invoice page, a `download invoice` link shows up and is clickable, but results in a 404 page.\n\ne.g. pipeline https://gitlab.com/gitlab-org/customers-gitlab-com/-/jobs/1262188785\n\n![image](/uploads/322f10a4de1133201301d689718daec0/image.png)\n\nWe had [Slack discussion](https://gitlab.slack.com/archives/CMJ8JR0RH/p1618003253143800) identified root cause is a delay from Zuora when generating invoice for new subscription.\n\n### Proposal\n\nUI improvement proposed - a temporary text field showing `Processing...` on invoice page instead of providing a download link when invoice is not ready from Zuora :point_down: \n\n![image](/uploads/01f95706df9299ba8d08ad76ec65d4a8/image.png)\n\n### Result\n\n### Next steps (if any)\n\n### How will we measure success?","state":"closed","created_at":"2021-06-02T12:53:22.879Z","updated_at":"2021-12-08T05:13:15.078Z","closed_at":"2021-12-08T05:13:15.067Z","closed_by":{"id":6348276,"username":"agulina","name":"Angelo Gulina","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b28693a558066993ea93b7272208d285?s=80\u0026d=identicon","web_url":"https://gitlab.com/agulina"},"labels":["Category:Purchase","Eng-Consumer::Quality","Eng-Producer::Development","Engineering Allocation","backend","devops::fulfillment","feature::enhancement","group::purchase","priority::2","section::fulfillment","severity::2","type::bug","type::feature","workflow::production"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[{"id":6348276,"username":"agulina","name":"Angelo Gulina","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b28693a558066993ea93b7272208d285?s=80\u0026d=identicon","web_url":"https://gitlab.com/agulina"}],"author":{"id":5803275,"username":"chloeliu","name":"Chloe Liu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5803275/avatar.png","web_url":"https://gitlab.com/chloeliu"},"type":"ISSUE","assignee":{"id":6348276,"username":"agulina","name":"Angelo Gulina","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b28693a558066993ea93b7272208d285?s=80\u0026d=identicon","web_url":"https://gitlab.com/agulina"},"user_notes_count":29,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3199","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3199","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3199/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3199/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3199","relative":"#3199","full":"gitlab-org/customers-gitlab-com#3199"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":88047848,"iid":3193,"project_id":2670515,"title":"Perform amendment to update rate plan charge for EOA","description":"As part of the main issue https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/2783, we have worked on calling to [update the `rate_plan_charge`](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/staging/app/services/amendment_base_service.rb#L267) whenever the user has [accepted/declined the EOA offer](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/staging/app/services/amendment_base_service.rb#L272). \n\nThis callback is made after the renew has been amended and [via a background job](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/staging/app/workers/update_subscription_eoa_starter_bronze_offer_worker.rb) which makes a call to update the custom value [`EoaStarterBronzeOfferAccepted__c`](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/staging/app/workers/update_subscription_eoa_starter_bronze_offer_worker.rb#L43) and then traverses though the rate_plans to find the rate_plan_charges which are part of PREMIUM plans and then make the changes to the `price_change_option`.\n\nThese changes can be resulted into an error by Zuora which is then just logged into the Sentry and no rescue of the error is then called in place.  \n\n### Proposal\n\nThe amendment takes place in a batch and if one results in error then all of it is rolledback by Zuora. Instead of calling the update on `rate_plan_charges` after the amendment happens we can add another amendment to the batch to update the rate_plan_charges `price_change_option` itself. \n\ncc: @vshumilo","state":"closed","created_at":"2021-06-01T15:21:33.554Z","updated_at":"2021-08-18T17:35:51.714Z","closed_at":"2021-08-18T14:33:39.945Z","closed_by":{"id":8110789,"username":"tgolubeva","name":"Tatyana Golubeva","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8110789/avatar.png","web_url":"https://gitlab.com/tgolubeva"},"labels":["Affects Salesforce","Category:Purchase","Enterprise Applications","backend","devops::fulfillment","group::purchase","section::fulfillment","workflow::production"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":4903695,"username":"shreyasagarwal","name":"Shreyas Agarwal","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d5b09dfe06a10d119c1b2043c43de680?s=80\u0026d=identicon","web_url":"https://gitlab.com/shreyasagarwal"}],"author":{"id":4903695,"username":"shreyasagarwal","name":"Shreyas Agarwal","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d5b09dfe06a10d119c1b2043c43de680?s=80\u0026d=identicon","web_url":"https://gitlab.com/shreyasagarwal"},"type":"ISSUE","assignee":{"id":4903695,"username":"shreyasagarwal","name":"Shreyas Agarwal","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d5b09dfe06a10d119c1b2043c43de680?s=80\u0026d=identicon","web_url":"https://gitlab.com/shreyasagarwal"},"user_notes_count":25,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3193","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3193","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3193/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3193/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3193","relative":"#3193","full":"gitlab-org/customers-gitlab-com#3193"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null}]