[{"id":70640502,"iid":1906,"project_id":2670515,"title":"Throw an error if :new_episodes record_mode used","description":"The following discussion from !1746 should be addressed:\n\n- [ ] @vitallium started a [discussion](https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/1746#note_406076340):  (+4 comments)\n\n    \u003e @tyleramos, continuing our discussion here because I renamed the class `ZuoraIntegration` to `ZuoraTimeTraveller`. `ZuoraIntegration` was a bad name.\n    \u003e \n    \u003e So. I think it's fine to use original datetime for VCR in `new_episodes` mode. And we do the same for `once` and `none` modes. For `all` we use the current datetime.\n\n## Problem\n\nWith the new `ZuoraTimeTraveler` class, we will make the specs that use VCR and Zuora less flakey by using Timecop to freeze time using the datetime from the VCR cassette recording.  This approach however makes the record mode `:new_episodes` unusable because the entire cassette must be created at one time.\n\n## Proposal\n\nRaise an error if `:new_episodes` is used with a message of why it can't be used.  It's possible that it could be used for a subset of specs as long as those specs don't use the `:zuora` rspec metadata tag ([introduced here](https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/1746)).  Not sure if it's possible or worth it to make that distinction.","state":"closed","created_at":"2020-09-02T15:16:16.204Z","updated_at":"2022-03-16T11:50:49.550Z","closed_at":"2020-09-03T12:54:57.801Z","closed_by":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"labels":["[deprecated] üçé","backend","devops::fulfillment","group::provision","maintenance::pipelines","section::fulfillment","test","type::maintenance","workflow::production"],"milestone":{"id":1233753,"iid":51,"group_id":9970,"title":"13.4","description":"https://about.gitlab.com/releases/2020/09/22/gitlab-13-4-released/","state":"closed","created_at":"2020-04-09T17:39:21.662Z","updated_at":"2022-04-13T14:50:33.769Z","due_date":"2020-09-17","start_date":"2020-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/51"},"assignees":[{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"}],"author":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"type":"ISSUE","assignee":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1906","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/1906","notes":"https://gitlab.com/api/v4/projects/2670515/issues/1906/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/1906/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#1906","relative":"#1906","full":"gitlab-org/customers-gitlab-com#1906"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":70594782,"iid":1904,"project_id":2670515,"title":"Setting up customer portal on local machine throws database does not exist error","description":"### Summary\nSetting up a customer portal on local machine (fresh install) fails on `bundle exec rake db:setup` step with the below error. The steps I'm referring to is from the [doc/installation_steps.md#final-steps-for-customers-application](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/master/doc/installation_steps.md#final-steps-for-customers-application)\n\n```shell\nActiveRecord::NoDatabaseError: FATAL: database \"payment_app_development\" does not exist\n```\n\n### Steps to reproduce\n\n1. Checkout the latest master/staging of customer portal https://gitlab.com/gitlab-org/customers-gitlab-com\n1. Follow the instructions in the [doc/installation_steps.md#final-steps-for-customers-application](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/master/doc/installation_steps.md#final-steps-for-customers-application)\n\n### What is the current *bug* behavior?\n`bundle exec rake db:setup` throws error if the database doesn't exist instead of creating a new one.\n\n### What is the expected *correct* behavior?\n\n`bundle exec rake db:setup` should create the database if it doesn't exist.\n\n### Relevant logs and/or screenshots\n\n```shell\nActiveRecord::NoDatabaseError: FATAL: database \"payment_app_development\" does not exist\n```\n\n### Workarounds\n1. Log into the client and create the database manually with the following steps\n\n```shell\n\u003e psql\n\u003e CREATE DATABASE payment_app_development;\n\u003e quit;\n```\n\n2. Run `bundle exec rake db:setup` to see the rest of the process working.","state":"closed","created_at":"2020-09-01T18:38:10.865Z","updated_at":"2022-03-16T11:50:52.961Z","closed_at":"2020-09-07T13:47:24.482Z","closed_by":{"id":2967854,"username":"rpereira2","name":"Reuben Pereira","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2967854/avatar.png","web_url":"https://gitlab.com/rpereira2"},"labels":["[deprecated] üçé","devops::fulfillment","devops::growth","section::growth","type::maintenance","workflow::verification"],"milestone":{"id":1233753,"iid":51,"group_id":9970,"title":"13.4","description":"https://about.gitlab.com/releases/2020/09/22/gitlab-13-4-released/","state":"closed","created_at":"2020-04-09T17:39:21.662Z","updated_at":"2022-04-13T14:50:33.769Z","due_date":"2020-09-17","start_date":"2020-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/51"},"assignees":[{"id":2967854,"username":"rpereira2","name":"Reuben Pereira","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2967854/avatar.png","web_url":"https://gitlab.com/rpereira2"}],"author":{"id":4024467,"username":"dbodicherla","name":"Dhiraj Bodicherla","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4024467/avatar.png","web_url":"https://gitlab.com/dbodicherla"},"type":"ISSUE","assignee":{"id":2967854,"username":"rpereira2","name":"Reuben Pereira","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2967854/avatar.png","web_url":"https://gitlab.com/rpereira2"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1904","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/1904","notes":"https://gitlab.com/api/v4/projects/2670515/issues/1904/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/1904/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#1904","relative":"#1904","full":"gitlab-org/customers-gitlab-com#1904"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":70591748,"iid":1903,"project_id":2670515,"title":"Patch the IronBank gem to make error codes more accessible","description":"The following discussion from !1856 should be addressed:\n\n- [ ] @tyleramos started a [discussion](https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/1856#note_405535241):  (+1 comment)\n\n    \u003e It's disappointing that IronBank doesn't make the codes easily accessible, forcing us to search for the code in this way.  :slight_frown:\n    \u003e \n    \u003e This totally works though and I'm fine with it in the short term.  What do you think about opening a follow-up issue to patch IronBank to make these codes easily accessible by adding an instance method to [the error class](https://github.com/zendesk/iron_bank/blob/main/lib/iron_bank/error.rb)?  I've submitted a PR to that repo before and the maintainers seems to be very responsive.  It's not something we have to act on immediately but might be nice to work on it at some point in the future.  Thoughts?\n\n## Problem\n\nWe can't directly access error codes for an `IronBank::Error` as [discussed here](https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/1856#note_405535241).  It's contained inside the message of the error object which contains an unparsed json string.  This makes for a less-than-elegant solution when determining the exact error class returned from Zuora.\n\n## Proposal\n\nSubmit a PR to the IronBank repo to make an `error_code` instance method available on [the Error class](https://github.com/zendesk/iron_bank/blob/main/lib/iron_bank/error.rb).  Once this is accepted and the gem is updated, we can use this updated gem in the portal, replacing the [code here](https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/1856/diffs#52d3703e65dee7027b3ef5af4fd34791dfe83d1c_19_16) with something a bit more concrete (e.g. `Zuora::ErrorCodes.rescuable_codes.include?(e.error_code)`).","state":"closed","created_at":"2020-09-01T17:06:50.220Z","updated_at":"2022-02-28T17:06:19.047Z","closed_at":"2022-02-28T17:06:19.032Z","closed_by":{"id":1786152,"username":"gitlab-bot","name":"ü§ñ GitLab Bot ü§ñ","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1786152/avatar.png","web_url":"https://gitlab.com/gitlab-bot"},"labels":["[deprecated] üçé","auto closed","auto updated","devops::fulfillment","maintenance::refactor","section::fulfillment","type::maintenance","workflow::ready for development"],"milestone":{"id":1212252,"iid":48,"group_id":9970,"title":"Next 1-3 releases","description":"Issues which are not quite ready to schedule, but should be considered as part of the near-term roadmap.","state":"active","created_at":"2020-03-26T20:39:10.889Z","updated_at":"2020-03-26T20:39:10.889Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/48"},"assignees":[],"author":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"type":"ISSUE","assignee":null,"user_notes_count":15,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1903","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/1903","notes":"https://gitlab.com/api/v4/projects/2670515/issues/1903/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/1903/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#1903","relative":"#1903","full":"gitlab-org/customers-gitlab-com#1903"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":70502235,"iid":1899,"project_id":2670515,"title":"Add timezone information to the reviewer roulette","description":"We should keep our files up to date with GitLab's codebase to avoid future incompatibility.\n\nBased on gitlab-org/customers-gitlab-com!1622\n\nThis change would add the timezone of the suggested reviewer(s) beside their names.\n\n### Next steps (if any)\n\nSchedule or pick up (it's a tiny change)","state":"closed","created_at":"2020-08-31T12:19:57.607Z","updated_at":"2022-03-16T11:50:55.272Z","closed_at":"2020-09-01T12:16:42.305Z","closed_by":{"id":3841241,"username":"dstull","name":"Doug Stull","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2d7b8532bca28f593b193b012841a40?s=80\u0026d=identicon","web_url":"https://gitlab.com/dstull"},"labels":["Duplicate","devops::fulfillment","devops::growth","maintenance::pipelines","section::growth","type::maintenance"],"milestone":{"id":1212252,"iid":48,"group_id":9970,"title":"Next 1-3 releases","description":"Issues which are not quite ready to schedule, but should be considered as part of the near-term roadmap.","state":"active","created_at":"2020-03-26T20:39:10.889Z","updated_at":"2020-03-26T20:39:10.889Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/48"},"assignees":[],"author":{"id":127064,"username":"aalakkad","name":"Ammar Alakkad","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ecc1130ce340f5080afd8f2c9962948a?s=80\u0026d=identicon","web_url":"https://gitlab.com/aalakkad"},"type":"ISSUE","assignee":null,"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1899","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/1899","notes":"https://gitlab.com/api/v4/projects/2670515/issues/1899/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/1899/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#1899","relative":"#1899","full":"gitlab-org/customers-gitlab-com#1899"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":70484389,"iid":1897,"project_id":2670515,"title":"Replace Timecop with ActiveSupport::Testing::TimeHelpers","description":"### Problem\nWith https://gitlab.com/gitlab-org/gitlab/-/issues/214432 GitLab moves away from `Timecop` to replace it with `ActiveSupport::Testing::TimeHelpers`.\n\n### Proposal\nAlign with GitLab and replace `Timecop` with `ActiveSupport::Testing::TimeHelpers` as everything can be easily replaced:\n\n| Timecop | ActiveSUpport::Testing::TimeHelpers |\n|---------|-------------------------------------|\n| Timecop.freeze(\u0026block) | freeze_time(\u0026block) |\n| Timecop.travel(time, \u0026block) | travel_to(time, \u0026block) |\n\n### Result\nRemove unmaintained `Timecop` gem and use Rails core feature `ActiveSupport::Testing::TimeHelpers`.\n\n### Next steps (if any)\n* [ ] Add Cop on Timecop.freeze to use `freeze_time` - https://gitlab.com/gitlab-org/gitlab/-/merge_requests/39656#note_399654010\n* [ ] Add Cop on Timecop.travel to use `travel_to`\n* [ ] Enable cops and address existing violations","state":"closed","created_at":"2020-08-31T06:18:33.812Z","updated_at":"2022-03-16T11:50:57.154Z","closed_at":"2020-11-09T10:20:55.673Z","closed_by":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"labels":["[deprecated] Category:Provision","[deprecated] üçé","backend","devops::fulfillment","devops::growth","group::provision","maintenance::refactor","section::growth","type::maintenance"],"milestone":{"id":1212252,"iid":48,"group_id":9970,"title":"Next 1-3 releases","description":"Issues which are not quite ready to schedule, but should be considered as part of the near-term roadmap.","state":"active","created_at":"2020-03-26T20:39:10.889Z","updated_at":"2020-03-26T20:39:10.889Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/48"},"assignees":[],"author":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"type":"ISSUE","assignee":null,"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1897","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/1897","notes":"https://gitlab.com/api/v4/projects/2670515/issues/1897/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/1897/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#1897","relative":"#1897","full":"gitlab-org/customers-gitlab-com#1897"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":70414272,"iid":1890,"project_id":2670515,"title":"Document sales-assisted subscription creation workflow","description":"### Problem\nA [possible bug](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1881) turned out not to be a bug but an issue in the workflow how sales-assisted subscriptions are created.\n\n### Proposal\nCreate documentation for the correct workflow for sales-assisted subscription creation. The correct way is described in [this comment](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1881#note_403799485).\n\n### Result\nHave documentation about the correct way to create sales-assisted subscriptions.","state":"closed","created_at":"2020-08-28T10:39:06.478Z","updated_at":"2020-09-21T13:52:10.933Z","closed_at":"2020-09-02T10:23:31.957Z","closed_by":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"labels":["devops::fulfillment","devops::growth","documentation","section::growth","workflow::production"],"milestone":{"id":1233753,"iid":51,"group_id":9970,"title":"13.4","description":"https://about.gitlab.com/releases/2020/09/22/gitlab-13-4-released/","state":"closed","created_at":"2020-04-09T17:39:21.662Z","updated_at":"2022-04-13T14:50:33.769Z","due_date":"2020-09-17","start_date":"2020-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/51"},"assignees":[{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"}],"author":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"type":"ISSUE","assignee":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1890","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/1890","notes":"https://gitlab.com/api/v4/projects/2670515/issues/1890/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/1890/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#1890","relative":"#1890","full":"gitlab-org/customers-gitlab-com#1890"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":70402402,"iid":1886,"project_id":2670515,"title":"Create log_warn method in Gitlab::LoggerHelpers","description":"There was a [discussion](https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/1862#note_403237068) in !1862 where it was discussed if we should change `log_error` into `log(:error` or define the missing `log_warn` method instead of using `log(:warn`.\n\nAfter a brief discussion with some other team members, it was decided to define the missing `log_warn` in [Gitlab::LoggerHelpers](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/staging/lib/gitlab/logger_helpers.rb) method for consistency.\n\nOther log levels that are defined in https://gitlab.com/gitlab-org/customers-gitlab-com/blob/staging/lib/gitlab/logger.rb#L9 and do not have a helper method yet, will be created when they are needed.","state":"closed","created_at":"2020-08-28T05:43:15.364Z","updated_at":"2021-10-28T14:08:23.822Z","closed_at":"2020-09-02T10:24:39.270Z","closed_by":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"labels":["backend","devops::fulfillment","group::provision","maintenance::refactor","section::fulfillment","type::maintenance","workflow::production"],"milestone":{"id":1233753,"iid":51,"group_id":9970,"title":"13.4","description":"https://about.gitlab.com/releases/2020/09/22/gitlab-13-4-released/","state":"closed","created_at":"2020-04-09T17:39:21.662Z","updated_at":"2022-04-13T14:50:33.769Z","due_date":"2020-09-17","start_date":"2020-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/51"},"assignees":[{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"}],"author":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"type":"ISSUE","assignee":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1886","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/1886","notes":"https://gitlab.com/api/v4/projects/2670515/issues/1886/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/1886/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#1886","relative":"#1886","full":"gitlab-org/customers-gitlab-com#1886"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":70392358,"iid":1883,"project_id":2670515,"title":"Follow-up from \"Resolve \"Stop sending EULA requests for new purchases\"\"","description":"The following discussion from !1855 should be addressed:\n\n- [ ] @vshumilo started a [discussion](https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/1855#note_402727249):  (+3 comments)\n\n    \u003e @tyleramos the `send_license_key` will execute for EE plans or `Plan::TRUE_UP_PLAN`. Just wanted to double check this one is left out in the `else` un purpose\n\n## Purpose\n\nUpdate [the `send_license_key` method](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/523c93bf52dc03a0b509bac3e96429a5b1d038ea/app/controllers/zuora_callbacks_controller.rb#L139-146) in `ZuoraCallbacksController` to remove the plan checks.  As [discussed here](https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/1855#note_403443583), we decided these do not add much value given we already [do plan checks earlier in the action](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/523c93bf52dc03a0b509bac3e96429a5b1d038ea/app/controllers/zuora_callbacks_controller.rb#L26).","state":"closed","created_at":"2020-08-27T21:11:04.192Z","updated_at":"2021-10-28T14:08:24.742Z","closed_at":"2020-09-02T14:37:15.539Z","closed_by":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"labels":["backend","devops::fulfillment","group::provision","maintenance::refactor","section::fulfillment","type::maintenance","workflow::production"],"milestone":{"id":1233753,"iid":51,"group_id":9970,"title":"13.4","description":"https://about.gitlab.com/releases/2020/09/22/gitlab-13-4-released/","state":"closed","created_at":"2020-04-09T17:39:21.662Z","updated_at":"2022-04-13T14:50:33.769Z","due_date":"2020-09-17","start_date":"2020-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/51"},"assignees":[{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"}],"author":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"type":"ISSUE","assignee":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1883","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/1883","notes":"https://gitlab.com/api/v4/projects/2670515/issues/1883/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/1883/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#1883","relative":"#1883","full":"gitlab-org/customers-gitlab-com#1883"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":70382480,"iid":1882,"project_id":2670515,"title":"Remove :stop_eula_requests feature flag","description":"Once the [new EULA process](https://gitlab.com/gitlab-org/gitlab/-/issues/224712) is live and [the `:stop_eula_requests` feature flag](https://gitlab.com/gitlab-org/customers-gitlab-com/-/feature_flags/63/edit) is turned on in production, we should be free to remove the flag and the associated EULA requests code.  The flag was simply created in order to more easily time the roll out in conjunction with the new EULA process.  I think once the flag has been enabled for a day or so it should be safe to remove.\n\nFor reference, the feature flag was introduced in https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/1855.  Additional code related to this feature flag was introduced in https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/1857.\n\nWe will also need to remove the following related code as well:\n  - https://gitlab.com/gitlab-org/customers-gitlab-com/blob/0d06456d94f06cc46671776e0f9df622cefc3a02/lib/rails_admin/resend_eula.rb#L6\n  - https://gitlab.com/gitlab-org/customers-gitlab-com/blob/154152723d1f0a9af846573222eda73082368ffb/config/initializers/rails_admin.rb#L4\n  - https://gitlab.com/gitlab-org/customers-gitlab-com/blob/62170a0d134d3758c307f2803c8c3dac663c1796/config/locales/en.yml#L25\n\nAlso, there are references to files to be removed as part of this issue in .rubocop_todo.yml that will no longer be needed (e.g. https://gitlab.com/gitlab-org/customers-gitlab-com/blob/154152723d1f0a9af846573222eda73082368ffb/.rubocop_todo.yml#L727).","state":"closed","created_at":"2020-08-27T16:00:56.047Z","updated_at":"2021-10-28T14:08:25.656Z","closed_at":"2020-10-16T14:03:25.080Z","closed_by":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"labels":["#field-fyi","Deliverable","[deprecated] Category:Provision","[deprecated] üçé","backend","devops::fulfillment","feature flag","group::provision","type::maintenance","workflow::verification"],"milestone":{"id":1233754,"iid":52,"group_id":9970,"title":"13.5","description":"https://about.gitlab.com/releases/2020/10/22/gitlab-13-5-released/","state":"closed","created_at":"2020-04-09T17:39:21.990Z","updated_at":"2022-04-21T07:21:12.213Z","due_date":"2020-10-17","start_date":"2020-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/52"},"assignees":[{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"}],"author":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"type":"ISSUE","assignee":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1882","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/1882","notes":"https://gitlab.com/api/v4/projects/2670515/issues/1882/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/1882/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#1882","relative":"#1882","full":"gitlab-org/customers-gitlab-com#1882"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5836,"epic":{"id":255713,"iid":5836,"title":"Feature Flags Review and Follow Up","url":"/groups/gitlab-org/-/epics/5836","group_id":9970,"human_readable_end_date":"Sep 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":70363044,"iid":1880,"project_id":2670515,"title":"Cleanup for subscriptions with deleted group/namespace","description":"Original issue: https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1273\n\nThis should be done after the work for https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1879 is completed.\n\n### Problem\nSubscriptions that are linked to deleted GitLab groups/namespaces cause errors in the Customers Portal due to the a fetch request to GitLab for that group/namespace.\n\n### Proposal\nWith the work in https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1879 this scenario is being prevented. So after the work for https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1879  is completed, the existing inconsistencies because of that problem should be resolved. \n\nThese are two possible solutions:\n- update existing subscriptions that are linked to deleted groups/namespaces to set the attributes `gl_namespace_id` and `gl_namespace_name` to nil\n- make Customers Portal's code fail-safe by not trying to fetch data when the group/namespace can't be found (e.g. in `GitLab::Namespace::UpdatePlanInfoService` which gets called on namespace change)\n\n### Result\nNo errors due to inconsistencies that were caused by subscriptions linked to deleted groups/namespaces.\n\n### Next steps (if any)\n\n\n### How will we measure success?\nNo errors due to inconsistencies that were caused by subscriptions linked to deleted groups/namespaces.","state":"closed","created_at":"2020-08-27T09:09:21.578Z","updated_at":"2021-06-15T14:01:00.558Z","closed_at":"2021-06-15T13:44:35.881Z","closed_by":{"id":4192493,"username":"ebaque","name":"Etienne Baqu√©","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4192493/avatar.png","web_url":"https://gitlab.com/ebaque"},"labels":["[deprecated] Category:Utilization","[deprecated] üçé","backend","devops::fulfillment","group::utilization","maintenance::refactor","section::fulfillment","workflow::in review"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":4192493,"username":"ebaque","name":"Etienne Baqu√©","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4192493/avatar.png","web_url":"https://gitlab.com/ebaque"}],"author":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"type":"ISSUE","assignee":{"id":4192493,"username":"ebaque","name":"Etienne Baqu√©","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4192493/avatar.png","web_url":"https://gitlab.com/ebaque"},"user_notes_count":13,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1880","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/1880","notes":"https://gitlab.com/api/v4/projects/2670515/issues/1880/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/1880/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#1880","relative":"#1880","full":"gitlab-org/customers-gitlab-com#1880"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4461,"epic":{"id":115367,"iid":4461,"title":"Prevent deletion of groups/namespaces when they have a subscription","url":"/groups/gitlab-org/-/epics/4461","group_id":9970,"human_readable_end_date":"Jun 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":70362437,"iid":1879,"project_id":2670515,"title":"BE: Prevent deletion of groups/namespaces when they have a subscription","description":"Original issue: https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1273\n\n### Problem\nThe deletion of groups/namespaces with linked subscriptions are creating inconsistencies between GitLab and the Customers Portal. The linked group/namespace can't be fetched on the Customers Portal side on update like changing namespace and results in an error (500).\n\n### Proposal\nPrevent groups/namespaces from being deleted when they have a subscription. A group/namespace has to be disassociated from any linked subscriptions before deletion.\n\nIt should also be checked what happens to a subscription when a group gets transferred. The current assumption is that the subscription does not change.\n\n### Design\n\n[See UX issue](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1923)\n\n### Result\nKeep data between GitLab and Customers portal in sync.\n\n### Next steps (if any)\n- Disable the `Delete group` button when deleting a group\n- Add an info text about disassociating any subscriptions first\n- Prevent deletion in the backend\n\n### How will we measure success?\nNo error on the Customers Portal side because of deleted groups/namespaces in subscriptions.","state":"closed","created_at":"2020-08-27T08:54:01.310Z","updated_at":"2022-03-14T04:35:07.532Z","closed_at":"2021-04-01T17:28:32.977Z","closed_by":{"id":3716529,"username":"jagood","name":"Jason Goodman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6696c95a1788e2d4bee67df636805ecc?s=80\u0026d=identicon","web_url":"https://gitlab.com/jagood"},"labels":["#field-fyi","Engineering","[deprecated] Category:Utilization","[deprecated] üçé","backend","devops::fulfillment","group::utilization","link::parent issue","missed:13.10","section::fulfillment","type::feature","workflow::verification"],"milestone":{"id":1406669,"iid":59,"group_id":9970,"title":"13.11","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-08-13T14:23:09.688Z","updated_at":"2022-04-21T07:22:08.835Z","due_date":"2021-04-17","start_date":"2021-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/59"},"assignees":[{"id":3716529,"username":"jagood","name":"Jason Goodman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6696c95a1788e2d4bee67df636805ecc?s=80\u0026d=identicon","web_url":"https://gitlab.com/jagood"}],"author":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"type":"ISSUE","assignee":{"id":3716529,"username":"jagood","name":"Jason Goodman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6696c95a1788e2d4bee67df636805ecc?s=80\u0026d=identicon","web_url":"https://gitlab.com/jagood"},"user_notes_count":46,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1879","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/1879","notes":"https://gitlab.com/api/v4/projects/2670515/issues/1879/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/1879/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#1879","relative":"#1879","full":"gitlab-org/customers-gitlab-com#1879"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4461,"epic":{"id":115367,"iid":4461,"title":"Prevent deletion of groups/namespaces when they have a subscription","url":"/groups/gitlab-org/-/epics/4461","group_id":9970,"human_readable_end_date":"Jun 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":70341967,"iid":1877,"project_id":2670515,"title":"Customer cannot add new card during renewal/new purchase","description":"\n### Summary\n\nWhen customer try to renew a subscription using a new credit card, the purchase will give an error if the customer is trying to use a different card that's not stored on their account.\n\n### Steps to reproduce\n\n1. Have a self-managed subscription\n1. Select Renew button\n1. During checkout, choose `Add new credit card` option\n1. Add credit card details ([stripe test credit cards](https://stripe.com/docs/testing#cards))\n1. See the purchase error\n\n### Error\n![Issue_1877](/uploads/f7d864149828a89009fd3d283e3a1b80/Issue_1877.gif)\n\n### What is the current *bug* behavior?\n\nCustomer cannot pay with a different than the existing one(s?)\n\n### What is the expected *correct* behavior?\n\nCustomer should be able to successfully purchase with different card than the default one.\n\n### Relevant logs and/or screenshots\n\nThese look like  SOAP-related errors\n- [Sentry errors](https://sentry.gitlab.net/gitlab/customersgitlabcom/?query=is%3Aunresolved+user%3A120855): \n- https://sentry.gitlab.net/gitlab/customersgitlabcom/issues/1773339/?query=is%3Aunresolved%20user%3A120855\n- https://sentry.gitlab.net/gitlab/customersgitlabcom/issues/1768435/?query=is%3Aunresolved%20user%3A120855\n- https://sentry.gitlab.net/gitlab/customersgitlabcom/issues/1181887/?query=is%3Aunresolved%20user%3A120855\n\n### Workarounds\n\nInstruction for customer:\n\n1.  Sign in to [customers portal](https://customers.gitlab.com/customers/sign_in)\n2.  Navigate to `My account` ‚Üí `Payment methods`\n3.  Click on `Add new payment method` ‚Üí Fill in all the information\n4.  Edit the new card, fill in the information and make sure that the `Make default payment method` box is checked ‚Üí click `Save changes`\n5.  Try to renew again\n\n\n\n### Reported examples\n\n1. https://gitlab.zendesk.com/agent/tickets/169982\n- Zuora account: https://www.zuora.com/apps/CustomerAccount.do?method=view\u0026id=2c92a0fe6d151c5b016d161751fb0dca\n- No prior refunds: https://gitlab.my.salesforce.com/0014M00001jCFVz?srPos=0\u0026srKp=001\n\n1. https://gitlab.zendesk.com/agent/tickets/169925\n- Zuora account: https://www.zuora.com/apps/CustomerAccount.do?method=view\u0026id=2c92a0086d4dcd5a016d62ea6f807df1\n- No prior refunds: https://gitlab.my.salesforce.com/0014M00001jCq6h?srPos=0\u0026srKp=003\n\n\u003c!---\nPlease add both severity and priority level according to: https://docs.gitlab.com/ee/development/contributing/issue_workflow.html#severity-labels\n---\u003e","state":"closed","created_at":"2020-08-26T23:30:26.104Z","updated_at":"2020-10-18T22:30:33.393Z","closed_at":"2020-10-05T15:06:08.474Z","closed_by":{"id":4430316,"username":"rhardarson","name":"Ragnar Hardarson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4430316/avatar.png","web_url":"https://gitlab.com/rhardarson"},"labels":["Category:Purchase","Fulfillment Priority","backend","customer","devops::fulfillment","frontend","group::purchase","priority::1","section::fulfillment","severity::1","type::bug","workflow::production"],"milestone":{"id":1233754,"iid":52,"group_id":9970,"title":"13.5","description":"https://about.gitlab.com/releases/2020/10/22/gitlab-13-5-released/","state":"closed","created_at":"2020-04-09T17:39:21.990Z","updated_at":"2022-04-21T07:21:12.213Z","due_date":"2020-10-17","start_date":"2020-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/52"},"assignees":[{"id":4430316,"username":"rhardarson","name":"Ragnar Hardarson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4430316/avatar.png","web_url":"https://gitlab.com/rhardarson"}],"author":{"id":786864,"username":"rotanak","name":"Sokunrotanak Srey (Rotanak)","state":"active","avatar_url":"https://secure.gravatar.com/avatar/9e138f6598fa362b95f725febc80087e?s=80\u0026d=identicon","web_url":"https://gitlab.com/rotanak"},"type":"ISSUE","assignee":{"id":4430316,"username":"rhardarson","name":"Ragnar Hardarson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4430316/avatar.png","web_url":"https://gitlab.com/rhardarson"},"user_notes_count":38,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1877","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/1877","notes":"https://gitlab.com/api/v4/projects/2670515/issues/1877/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/1877/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#1877","relative":"#1877","full":"gitlab-org/customers-gitlab-com#1877"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4459,"epic":{"id":115365,"iid":4459,"title":"Purchase flow improvements","url":"/groups/gitlab-org/-/epics/4459","group_id":9970,"human_readable_end_date":"Feb 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":70327080,"iid":1872,"project_id":2670515,"title":"Cap percentageUsed at 0% and on 100% if return value is out of range","description":"### Problem\n\nWith the following data:\n\n| now          | start date   | end date     |\n| ------------ | ------------ | ------------ |\n| `2018-04-02` | `2018-05-02` | `2019-05-02` |\n\n\nThe percentage used should be: `0%`, but the current implementation is returning `-8%`\n\n---\n\nWith the following data:\n\n| now          | start date   | end date     |\n| ------------ | ------------ | ------------ |\n| `2020-04-02` | `2018-05-02` | `2019-05-02` |\n\nThe percentage used should be: `100%`, but the current implementation will return something like `240%`\n\n### How to reproduce\n\nRenew a subscription 2+ times then go to \"add more seats\" page (the pajama's page) and see the percentage.\n\nExample of the issue:\n\n![](https://gitlab.com/gitlab-org/customers-gitlab-com/uploads/430e7f340829449e9344fd0217eb5fa0/Screenshot_2020-08-24_at_11.31.54_AM.png)\n\n\n### Proposal\n\nWe need to cap `percentageUsed` to:\n\n- `0%` if the `start date` is in the future.\n- `100%` if the `end date` is in the past.\n\n### Result\n\nWe will have realistic percentages and we can unblock shipping #1808.\n\n### Next steps (if any)\n\nAdding this issue to %\"13.4\" since it's blocking other issues in the milestone.","state":"closed","created_at":"2020-08-26T14:54:54.129Z","updated_at":"2021-10-28T14:08:27.668Z","closed_at":"2020-09-01T06:48:57.121Z","closed_by":{"id":127064,"username":"aalakkad","name":"Ammar Alakkad","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ecc1130ce340f5080afd8f2c9962948a?s=80\u0026d=identicon","web_url":"https://gitlab.com/aalakkad"},"labels":["devops::fulfillment","devops::growth","frontend","section::growth","type::bug","type::maintenance","workflow::in review"],"milestone":{"id":1233753,"iid":51,"group_id":9970,"title":"13.4","description":"https://about.gitlab.com/releases/2020/09/22/gitlab-13-4-released/","state":"closed","created_at":"2020-04-09T17:39:21.662Z","updated_at":"2022-04-13T14:50:33.769Z","due_date":"2020-09-17","start_date":"2020-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/51"},"assignees":[{"id":127064,"username":"aalakkad","name":"Ammar Alakkad","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ecc1130ce340f5080afd8f2c9962948a?s=80\u0026d=identicon","web_url":"https://gitlab.com/aalakkad"}],"author":{"id":127064,"username":"aalakkad","name":"Ammar Alakkad","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ecc1130ce340f5080afd8f2c9962948a?s=80\u0026d=identicon","web_url":"https://gitlab.com/aalakkad"},"type":"ISSUE","assignee":{"id":127064,"username":"aalakkad","name":"Ammar Alakkad","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ecc1130ce340f5080afd8f2c9962948a?s=80\u0026d=identicon","web_url":"https://gitlab.com/aalakkad"},"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1872","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/1872","notes":"https://gitlab.com/api/v4/projects/2670515/issues/1872/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/1872/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#1872","relative":"#1872","full":"gitlab-org/customers-gitlab-com#1872"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":70326560,"iid":1871,"project_id":2670515,"title":"Remove SOAP matches from VCR spec matcher","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\nOnce we've stopped using SOAP endpoints we need to clean up SOAP usages in the test suite: \n\n- [x] Remove [`method_with_soap_support`](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/63fb053af4231ec3005b90abd240a4cf837db063/spec/support/vcr.rb#L45) \n- [x] Remove [`SoapMatcher`](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/1576acf0ccfcd349e1496a737b8af7613ca8322e/spec/support/vcr/soap_matcher.rb)\n- [x] Remove [this part](https://gitlab.com/gitlab-org/customers-gitlab-com/blob/86a674fc14aa21d81488b5583d57aac5e87de785/spec/support/vcr/custom_request_matcher.rb#L16-17) of `CustomRequestMatcher` that uses `SoapMatcher`.","state":"closed","created_at":"2020-08-26T14:43:37.848Z","updated_at":"2021-03-25T00:56:10.047Z","closed_at":"2021-02-11T14:29:14.343Z","closed_by":{"id":447038,"username":"vitallium","name":"Vitaly Slobodin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/74b3243cfcfbfac1f022b78ab505e8d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/vitallium"},"labels":["Category:Purchase","[deprecated] üçé","devops::fulfillment","frontend","group::purchase","maintenance::refactor","section::fulfillment","workflow::production"],"milestone":{"id":1233760,"iid":56,"group_id":9970,"title":"13.9","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.334Z","updated_at":"2022-04-21T07:21:28.468Z","due_date":"2021-02-17","start_date":"2021-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/56"},"assignees":[{"id":447038,"username":"vitallium","name":"Vitaly Slobodin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/74b3243cfcfbfac1f022b78ab505e8d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/vitallium"}],"author":{"id":4430316,"username":"rhardarson","name":"Ragnar Hardarson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4430316/avatar.png","web_url":"https://gitlab.com/rhardarson"},"type":"ISSUE","assignee":{"id":447038,"username":"vitallium","name":"Vitaly Slobodin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/74b3243cfcfbfac1f022b78ab505e8d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/vitallium"},"user_notes_count":6,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1871","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":3},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/1871","notes":"https://gitlab.com/api/v4/projects/2670515/issues/1871/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/1871/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#1871","relative":"#1871","full":"gitlab-org/customers-gitlab-com#1871"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2286,"epic":{"id":15763,"iid":2286,"title":"Deprecate Zuora SOAP apis and enhance REST apis","url":"/groups/gitlab-org/-/epics/2286","group_id":9970,"human_readable_end_date":"Dec 31, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":70312762,"iid":1866,"project_id":2670515,"title":"Self-Service Upgrades for Self-Managed","description":"Original issue https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/107\n\nThis is the issue for the ~backend part.\n\n### Problem\nA user should be able to self-serve upgrade a paid self-managed subscription to a higher tier.\n\n### Proposal\nThis workflow already exists for upgrading a .com subscription, so try reusing that logic as much as possible.\n\nWhen upgrading an existing paid self-managed subscription to a higher tier:\n* Prorate total price at the new rate for the remaining time, e.g. when upgrading a Starter subscription bought 4 months ago, only pay for the remaining 8 months for the new tier\n* Create amendment with the same end date as the original subscription (syncs to Zuora)\n* Generate new license key\n* Send new license key to user\n* Deprecate old license key\n* Make sure this process works if it was triggered from Zuora directly instead of the Customers Portal (https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/353#note_120015198)","state":"closed","created_at":"2020-08-26T10:03:21.778Z","updated_at":"2020-10-14T14:08:51.391Z","closed_at":"2020-09-02T10:57:19.066Z","closed_by":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"labels":["DEPRECATED Growth-Deliverable","Deliverable","Growth - OKR","backend","devops::fulfillment","group::provision","section::fulfillment","type::feature","workflow::in dev"],"milestone":{"id":1233753,"iid":51,"group_id":9970,"title":"13.4","description":"https://about.gitlab.com/releases/2020/09/22/gitlab-13-4-released/","state":"closed","created_at":"2020-04-09T17:39:21.662Z","updated_at":"2022-04-13T14:50:33.769Z","due_date":"2020-09-17","start_date":"2020-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/51"},"assignees":[{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"}],"author":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"type":"ISSUE","assignee":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"user_notes_count":2,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1866","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/1866","notes":"https://gitlab.com/api/v4/projects/2670515/issues/1866/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/1866/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#1866","relative":"#1866","full":"gitlab-org/customers-gitlab-com#1866"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":70288817,"iid":1865,"project_id":2670515,"title":"Clarify that the customers portal is a separate platform","description":"### Problem\n\nWhen GitLab.com users purchase products or go to manage their subscription from within GitLab.com, they often don't realize that they were taken to a separate website. \n- Users are often confused by \"Sign in with GitLab\" because they believe they are still on GitLab.com and are already signed it. \n- For first time users, the customers portal registration step is confusing because users have trouble understanding why they are being asked to register again (not realizing they are on a separate website).\n\nThe root of these issues comes down to the fact that users don't notice that they are being sent to a separate website when they are redirected to the customers portal.\n\n### Proposal\n\nOur long term vision is to move all purchasing/subscription management out of the portal and into GitLab.com for SaaS customers. \n\nBut in the short term, we can make the customers portal a better experience by being clearer about the fact that it is a website separate from GitLab.com and telling the user why that is.\n\n### Design\n\n[Figma](https://www.figma.com/file/hFQB3yZJTD7ZZlBNBNH2hw/Clarify-that-the-customers-portal-is-a-separate-platform?node-id=0%3A1)\n\n**Important:** The implemented designs differ from the Figma designs and the designs attached as a result of some discussions. To iterate faster we decided not to modify the Figma file nor the attached designs. Here are the differences:\n- Main h1 heading sits on its own row, just like in theGitLab signup page ([relevant discussion here](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1865#note_416996380))\n- Typography is the same as GitLab.com signup page; only notable exception is the paragraph, which will have the Pajamas h2 styles ([relevant discussion here](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1865#note_417714030))\n- The text in the paragraph changes to `The Customers Portal is a standalone site for managing payment and license information` ([relevant discussion here](https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/1984#note_420799169))\n\n### How to test?\n\n#### Sign-in view\n1. Go to https://customers.stg.gitlab.com/ and make sure you're signed out\n1. Click **Sign In** in the top-right of the nav bar\n\n#### Sign in w/GitLab view\n1. Go to https://customers.stg.gitlab.com/ and make sure you're signed out\n2. Click **Buy Now** for any of the plans\n3. In the modal, choose the GitLab.com plan\n\n### Follow-up Issue\nhttps://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/2005","state":"closed","created_at":"2020-08-25T21:37:56.356Z","updated_at":"2020-10-18T22:30:05.117Z","closed_at":"2020-10-02T14:24:59.497Z","closed_by":{"id":4737352,"username":"astoicescu","name":"Andrei Stoicescu","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4737352/avatar.png","web_url":"https://gitlab.com/astoicescu"},"labels":["Category:Purchase","EntApp Ecosystem","Fulfillment Priority","devops::fulfillment","frontend","group::purchase","workflow::staging"],"milestone":{"id":1233754,"iid":52,"group_id":9970,"title":"13.5","description":"https://about.gitlab.com/releases/2020/10/22/gitlab-13-5-released/","state":"closed","created_at":"2020-04-09T17:39:21.990Z","updated_at":"2022-04-21T07:21:12.213Z","due_date":"2020-10-17","start_date":"2020-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/52"},"assignees":[{"id":4737352,"username":"astoicescu","name":"Andrei Stoicescu","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4737352/avatar.png","web_url":"https://gitlab.com/astoicescu"}],"author":{"id":4377833,"username":"esybrant","name":"Emily Sybrant","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4377833/avatar.png","web_url":"https://gitlab.com/esybrant"},"type":"ISSUE","assignee":{"id":4737352,"username":"astoicescu","name":"Andrei Stoicescu","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4737352/avatar.png","web_url":"https://gitlab.com/astoicescu"},"user_notes_count":24,"merge_requests_count":0,"upvotes":7,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1865","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/1865","notes":"https://gitlab.com/api/v4/projects/2670515/issues/1865/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/1865/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#1865","relative":"#1865","full":"gitlab-org/customers-gitlab-com#1865"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4459,"epic":{"id":115365,"iid":4459,"title":"Purchase flow improvements","url":"/groups/gitlab-org/-/epics/4459","group_id":9970,"human_readable_end_date":"Feb 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":70272533,"iid":1862,"project_id":2670515,"title":"Remove the :seat_link feature flag","description":"### Problem\nAs [discussed here](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1802#note_401767545), the `:seat_link` feature flag has been in use for quite some time without being turned off.  Seat link information has been persisted as expected for a while so this feature was successful.\n\n### Proposal\nRemove the `:seat_link` feature flag from the code base and remove the entry from [the feature flags management list](https://gitlab.com/gitlab-org/customers-gitlab-com/-/feature_flags).\n\n### Result","state":"closed","created_at":"2020-08-25T14:09:41.687Z","updated_at":"2021-10-28T14:08:32.501Z","closed_at":"2021-02-17T18:49:18.698Z","closed_by":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"labels":["[deprecated] Category:Provision","[deprecated] üçé","backend","devops::fulfillment","group::provision","section::fulfillment","type::maintenance","workflow::production"],"milestone":{"id":1233760,"iid":56,"group_id":9970,"title":"13.9","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.334Z","updated_at":"2022-04-21T07:21:28.468Z","due_date":"2021-02-17","start_date":"2021-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/56"},"assignees":[{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"}],"author":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"type":"ISSUE","assignee":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1862","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/1862","notes":"https://gitlab.com/api/v4/projects/2670515/issues/1862/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/1862/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#1862","relative":"#1862","full":"gitlab-org/customers-gitlab-com#1862"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":70254786,"iid":1860,"project_id":2670515,"title":"Graduate pajamas_error_messages feature flag","description":"We introduced a new look for showing error messages in #1021 under [`pajamas_error_messages`](https://gitlab.com/gitlab-org/customers-gitlab-com/-/feature_flags/57/edit) feature flag.\n\nIt has been enabled on production since 10-04-2020, without any issue so far.\n\nWe need to graduate this change from the feature flag.\n\n### Next steps (if any)\n\nSchedule\n\n### How will we measure success?","state":"closed","created_at":"2020-08-25T08:21:31.845Z","updated_at":"2021-10-28T14:08:35.178Z","closed_at":"2020-08-26T13:32:41.802Z","closed_by":{"id":127064,"username":"aalakkad","name":"Ammar Alakkad","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ecc1130ce340f5080afd8f2c9962948a?s=80\u0026d=identicon","web_url":"https://gitlab.com/aalakkad"},"labels":["devops::fulfillment","devops::growth","frontend","maintenance::refactor","section::growth","type::maintenance","workflow::verification"],"milestone":{"id":1233753,"iid":51,"group_id":9970,"title":"13.4","description":"https://about.gitlab.com/releases/2020/09/22/gitlab-13-4-released/","state":"closed","created_at":"2020-04-09T17:39:21.662Z","updated_at":"2022-04-13T14:50:33.769Z","due_date":"2020-09-17","start_date":"2020-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/51"},"assignees":[{"id":127064,"username":"aalakkad","name":"Ammar Alakkad","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ecc1130ce340f5080afd8f2c9962948a?s=80\u0026d=identicon","web_url":"https://gitlab.com/aalakkad"}],"author":{"id":127064,"username":"aalakkad","name":"Ammar Alakkad","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ecc1130ce340f5080afd8f2c9962948a?s=80\u0026d=identicon","web_url":"https://gitlab.com/aalakkad"},"type":"ISSUE","assignee":{"id":127064,"username":"aalakkad","name":"Ammar Alakkad","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ecc1130ce340f5080afd8f2c9962948a?s=80\u0026d=identicon","web_url":"https://gitlab.com/aalakkad"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1860","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/1860","notes":"https://gitlab.com/api/v4/projects/2670515/issues/1860/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/1860/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#1860","relative":"#1860","full":"gitlab-org/customers-gitlab-com#1860"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":70202924,"iid":1857,"project_id":2670515,"title":"Refactor AmendSubscriptionService#calculate_quantity","description":"[Original discussion](https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/1826#note_399344899) (+5 comments) from !1826.\n\nThe `AmendSubscriptionService#calculate_quantity` method is quite complex in its logic and should be evaluated to be refactored to something easier. A few possibilities were discussed [here](https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/1826#note_399344899).\n\nBefore refactoring, we should make sure that the method is 100% covered by specs, so that we are not missing a possible scenario from this method.","state":"closed","created_at":"2020-08-24T08:53:45.321Z","updated_at":"2022-03-16T11:53:31.163Z","closed_at":"2021-08-25T07:28:20.482Z","closed_by":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"labels":["[deprecated] Category:Provision","[deprecated] üçé","auto updated","backend","devops::fulfillment","group::provision","maintenance::refactor","section::fulfillment","type::maintenance","won't do"],"milestone":{"id":427853,"iid":10,"group_id":9970,"title":"Next 3-4 releases","description":"Bigger issues we plan to ship in the next 3-4 releases, but don't have a designated release yet. \r\n\r\n\u003e \"An easy way to look at it for me it's translating to months. Since our iterations are 1 month, I look at it as 'within the next 4 months'.\" - @dgruesso [via slack]\r\n\r\nDO NOT add small changes, bugs, regressions to this milestone.","state":"active","created_at":"2017-12-11T16:26:33.141Z","updated_at":"2020-07-14T18:21:29.639Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/10"},"assignees":[],"author":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"type":"ISSUE","assignee":null,"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1857","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/1857","notes":"https://gitlab.com/api/v4/projects/2670515/issues/1857/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/1857/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#1857","relative":"#1857","full":"gitlab-org/customers-gitlab-com#1857"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":70113188,"iid":1852,"project_id":2670515,"title":"Sync danger with GitLab updates","description":"Noticed during https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/1838 that there were some recent updates like the warning on 50 character commit limit (removal) and assignment for feature specs that hasn't been sync'd to this application yet.\n\nWe should do that along with a bit of restructure to match the GitLab danger implementation for easier updating.\n\nNote: This will include the timezone details on reviewers\n\n\n/cc @pcalder","state":"closed","created_at":"2020-08-21T13:17:23.676Z","updated_at":"2022-07-26T00:58:43.142Z","closed_at":"2020-09-28T17:31:11.541Z","closed_by":{"id":3841241,"username":"dstull","name":"Doug Stull","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2d7b8532bca28f593b193b012841a40?s=80\u0026d=identicon","web_url":"https://gitlab.com/dstull"},"labels":["devops::growth","group::acquisition","maintenance::workflow","section::growth","workflow::in review"],"milestone":{"id":1233754,"iid":52,"group_id":9970,"title":"13.5","description":"https://about.gitlab.com/releases/2020/10/22/gitlab-13-5-released/","state":"closed","created_at":"2020-04-09T17:39:21.990Z","updated_at":"2022-04-21T07:21:12.213Z","due_date":"2020-10-17","start_date":"2020-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/52"},"assignees":[{"id":3841241,"username":"dstull","name":"Doug Stull","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2d7b8532bca28f593b193b012841a40?s=80\u0026d=identicon","web_url":"https://gitlab.com/dstull"}],"author":{"id":3841241,"username":"dstull","name":"Doug Stull","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2d7b8532bca28f593b193b012841a40?s=80\u0026d=identicon","web_url":"https://gitlab.com/dstull"},"type":"ISSUE","assignee":{"id":3841241,"username":"dstull","name":"Doug Stull","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2d7b8532bca28f593b193b012841a40?s=80\u0026d=identicon","web_url":"https://gitlab.com/dstull"},"user_notes_count":0,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1852","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/1852","notes":"https://gitlab.com/api/v4/projects/2670515/issues/1852/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/1852/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#1852","relative":"#1852","full":"gitlab-org/customers-gitlab-com#1852"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":70112400,"iid":1851,"project_id":2670515,"title":"Follow-up from \"Fix broken string concatenation\"","description":"Add test coverage for this route/path on eula_requests\n\n\nThe following discussion from !1818 should be addressed:\n\n- [ ] @rdavila started a [discussion](https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/1818#note_398389379):  (+4 comments)\n\n    \u003e @dstull can you please review?","state":"closed","created_at":"2020-08-21T13:01:26.882Z","updated_at":"2022-07-26T00:58:43.017Z","closed_at":"2020-08-21T18:50:06.595Z","closed_by":{"id":3841241,"username":"dstull","name":"Doug Stull","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2d7b8532bca28f593b193b012841a40?s=80\u0026d=identicon","web_url":"https://gitlab.com/dstull"},"labels":["devops::growth","group::acquisition","maintenance::refactor","type::maintenance","workflow::in dev"],"milestone":{"id":1233753,"iid":51,"group_id":9970,"title":"13.4","description":"https://about.gitlab.com/releases/2020/09/22/gitlab-13-4-released/","state":"closed","created_at":"2020-04-09T17:39:21.662Z","updated_at":"2022-04-13T14:50:33.769Z","due_date":"2020-09-17","start_date":"2020-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/51"},"assignees":[{"id":3841241,"username":"dstull","name":"Doug Stull","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2d7b8532bca28f593b193b012841a40?s=80\u0026d=identicon","web_url":"https://gitlab.com/dstull"}],"author":{"id":3841241,"username":"dstull","name":"Doug Stull","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2d7b8532bca28f593b193b012841a40?s=80\u0026d=identicon","web_url":"https://gitlab.com/dstull"},"type":"ISSUE","assignee":{"id":3841241,"username":"dstull","name":"Doug Stull","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2d7b8532bca28f593b193b012841a40?s=80\u0026d=identicon","web_url":"https://gitlab.com/dstull"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1851","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/1851","notes":"https://gitlab.com/api/v4/projects/2670515/issues/1851/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/1851/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#1851","relative":"#1851","full":"gitlab-org/customers-gitlab-com#1851"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":70108972,"iid":1849,"project_id":2670515,"title":"Clean-up: graduate Pajama's add more seats page from feature flag","description":"With #954 we introduced a new design for adding more seats page.\n\nOn 2020-08-21 we turned [`pajamas_add_seats`](https://gitlab.com/gitlab-org/customers-gitlab-com/-/feature_flags/13/edit) feature flag on for production environment.\n\nWe should graduate this page from the feature flag after 2 milestones if there's nothing being reported.","state":"closed","created_at":"2020-08-21T12:09:28.066Z","updated_at":"2021-02-24T09:21:08.567Z","closed_at":"2021-02-24T07:28:36.640Z","closed_by":{"id":447038,"username":"vitallium","name":"Vitaly Slobodin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/74b3243cfcfbfac1f022b78ab505e8d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/vitallium"},"labels":["Category:Purchase","[deprecated] üçé","devops::fulfillment","frontend","group::purchase","quad-planning::complete-no-action","section::fulfillment","type::feature","workflow::production"],"milestone":{"id":1233761,"iid":57,"group_id":9970,"title":"13.10","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.646Z","updated_at":"2022-04-21T07:22:00.171Z","due_date":"2021-03-17","start_date":"2021-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/57"},"assignees":[{"id":447038,"username":"vitallium","name":"Vitaly Slobodin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/74b3243cfcfbfac1f022b78ab505e8d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/vitallium"}],"author":{"id":127064,"username":"aalakkad","name":"Ammar Alakkad","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ecc1130ce340f5080afd8f2c9962948a?s=80\u0026d=identicon","web_url":"https://gitlab.com/aalakkad"},"type":"ISSUE","assignee":{"id":447038,"username":"vitallium","name":"Vitaly Slobodin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/74b3243cfcfbfac1f022b78ab505e8d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/vitallium"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1849","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/1849","notes":"https://gitlab.com/api/v4/projects/2670515/issues/1849/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/1849/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#1849","relative":"#1849","full":"gitlab-org/customers-gitlab-com#1849"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":70107940,"iid":1848,"project_id":2670515,"title":"Unable to purchase CI minutes when subscription has been refunded before","description":"### Summary\n\nCustomer is unable to purchase additional CI minutes, currently they're on a bronze plan and while trying to purchase additional CI minutes - the portal shows `Unknown error occurred` at checkout\n\n### Steps to reproduce\n\n1. Have a subscription\n1. Try to purchase additional CI minutes \n1. see the purchase error\n\n### Relevant logs and/or screenshots\n\nhttps://sentry.gitlab.net/gitlab/customersgitlabcom/issues/1430650/?referrer=gitlab_plugin\n\n```\nmalformed error\n\n{\nerror: Not Found, \nstatus: 404\n}\n\n```\n\n![Screenshot_2020-08-27_at_8.23.03_AM](/uploads/c6cd1ec4abe2a399ba45abf1a8c511c9/Screenshot_2020-08-27_at_8.23.03_AM.png)\n**Zendesk Ticket**: [Ticket #168992](https://gitlab.zendesk.com/agent/tickets/168992)\n\nSE issue: https://gitlab.com/gitlab-com/support/internal-requests/-/issues/2939 (Internal)\n\nExamples:\n1. Customer: https://customers.gitlab.com/admin/customer/131019/edit | Ticket: https://gitlab.zendesk.com/agent/tickets/169015","state":"closed","created_at":"2020-08-21T11:44:24.219Z","updated_at":"2020-10-18T22:19:55.518Z","closed_at":"2020-10-12T16:36:10.585Z","closed_by":{"id":5667561,"username":"vshumilo","name":"Vladlena Shumilo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08dfa82785d130c151ab9e21caeab4e3?s=80\u0026d=identicon","web_url":"https://gitlab.com/vshumilo"},"labels":["Fulfillment Priority","[deprecated] Category:Provision","backend","customer","devops::fulfillment","group::provision","type::bug","workflow::in review"],"milestone":{"id":1233754,"iid":52,"group_id":9970,"title":"13.5","description":"https://about.gitlab.com/releases/2020/10/22/gitlab-13-5-released/","state":"closed","created_at":"2020-04-09T17:39:21.990Z","updated_at":"2022-04-21T07:21:12.213Z","due_date":"2020-10-17","start_date":"2020-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/52"},"assignees":[{"id":5667561,"username":"vshumilo","name":"Vladlena Shumilo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08dfa82785d130c151ab9e21caeab4e3?s=80\u0026d=identicon","web_url":"https://gitlab.com/vshumilo"}],"author":{"id":402401,"username":"jobbot","name":"Bot","state":"active","avatar_url":"https://secure.gravatar.com/avatar/aaa6738f1ebf25404010884af511b0e7?s=80\u0026d=identicon","web_url":"https://gitlab.com/jobbot"},"type":"ISSUE","assignee":{"id":5667561,"username":"vshumilo","name":"Vladlena Shumilo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08dfa82785d130c151ab9e21caeab4e3?s=80\u0026d=identicon","web_url":"https://gitlab.com/vshumilo"},"user_notes_count":22,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1848","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/1848","notes":"https://gitlab.com/api/v4/projects/2670515/issues/1848/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/1848/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#1848","relative":"#1848","full":"gitlab-org/customers-gitlab-com#1848"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4459,"epic":{"id":115365,"iid":4459,"title":"Purchase flow improvements","url":"/groups/gitlab-org/-/epics/4459","group_id":9970,"human_readable_end_date":"Feb 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":70107905,"iid":1847,"project_id":2670515,"title":"Clean-up: graduate Pajama's renew subscription page from feature flag","description":"With #955 we introduced a new design for renew subscription page.\n\nOn 2020-08-21 we turned [`pajamas_purchases_renew_subscription`](https://gitlab.com/gitlab-org/customers-gitlab-com/-/feature_flags/59/edit) feature flag on for production environment.\n\nWe should graduate this page from the feature flag after 2 milestones if there's nothing being reported.\n\n## Next action\n\n- [x] Schedule the issue for development.\n- [x] Create MR !2133 to clean up the code\n- [x] Turn the feature flag off\n- [x] Make sure nothing is broken\n- [x] Delete the [feature flag](https://gitlab.com/gitlab-org/customers-gitlab-com/-/feature_flags/20/edit)","state":"closed","created_at":"2020-08-21T11:43:33.565Z","updated_at":"2021-10-28T14:08:44.657Z","closed_at":"2020-11-05T09:50:35.664Z","closed_by":{"id":127064,"username":"aalakkad","name":"Ammar Alakkad","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ecc1130ce340f5080afd8f2c9962948a?s=80\u0026d=identicon","web_url":"https://gitlab.com/aalakkad"},"labels":["Category:Purchase","[deprecated] üçé","devops::fulfillment","frontend","group::purchase","maintenance::refactor","type::maintenance","workflow::staging"],"milestone":{"id":1233757,"iid":54,"group_id":9970,"title":"13.7","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:43:14.893Z","updated_at":"2022-04-13T14:51:12.240Z","due_date":"2020-12-17","start_date":"2020-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/54"},"assignees":[{"id":127064,"username":"aalakkad","name":"Ammar Alakkad","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ecc1130ce340f5080afd8f2c9962948a?s=80\u0026d=identicon","web_url":"https://gitlab.com/aalakkad"}],"author":{"id":127064,"username":"aalakkad","name":"Ammar Alakkad","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ecc1130ce340f5080afd8f2c9962948a?s=80\u0026d=identicon","web_url":"https://gitlab.com/aalakkad"},"type":"ISSUE","assignee":{"id":127064,"username":"aalakkad","name":"Ammar Alakkad","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ecc1130ce340f5080afd8f2c9962948a?s=80\u0026d=identicon","web_url":"https://gitlab.com/aalakkad"},"user_notes_count":12,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1847","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":5,"completed_count":5},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/1847","notes":"https://gitlab.com/api/v4/projects/2670515/issues/1847/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/1847/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#1847","relative":"#1847","full":"gitlab-org/customers-gitlab-com#1847"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":70086806,"iid":1845,"project_id":2670515,"title":"Update renewal flow screenshots","description":"## Summary\n\nAs a result of [this change](https://gitlab.com/gitlab-org/gitlab/-/issues/233823) we will need to update the screenshots in the self-managed renewal flow created in https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/955 to display  `Billable users` instead of `Active Users`.\n\n\n## Updated screenshots\n\n| Users over license | Billable users |\n| ------ | ------ |\n| ![1](/uploads/05032489c20d42cfa8d5be1932a35b47/1.png) | ![2](/uploads/8da0a45b38d987d43136ef6cded46cb1/2.png) |","state":"closed","created_at":"2020-08-20T22:06:28.988Z","updated_at":"2020-12-03T08:39:20.409Z","closed_at":"2020-12-03T08:39:20.365Z","closed_by":{"id":127064,"username":"aalakkad","name":"Ammar Alakkad","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ecc1130ce340f5080afd8f2c9962948a?s=80\u0026d=identicon","web_url":"https://gitlab.com/aalakkad"},"labels":["Category:Purchase","Fulfillment Priority","[deprecated] üçé","devops::fulfillment","frontend","group::purchase","section::fulfillment","type::feature","workflow::production"],"milestone":{"id":1233757,"iid":54,"group_id":9970,"title":"13.7","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:43:14.893Z","updated_at":"2022-04-13T14:51:12.240Z","due_date":"2020-12-17","start_date":"2020-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/54"},"assignees":[{"id":127064,"username":"aalakkad","name":"Ammar Alakkad","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ecc1130ce340f5080afd8f2c9962948a?s=80\u0026d=identicon","web_url":"https://gitlab.com/aalakkad"}],"author":{"id":2890431,"username":"amandarueda","name":"Amanda Rueda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2890431/avatar.png","web_url":"https://gitlab.com/amandarueda"},"type":"ISSUE","assignee":{"id":127064,"username":"aalakkad","name":"Ammar Alakkad","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ecc1130ce340f5080afd8f2c9962948a?s=80\u0026d=identicon","web_url":"https://gitlab.com/aalakkad"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1845","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/1845","notes":"https://gitlab.com/api/v4/projects/2670515/issues/1845/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/1845/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#1845","relative":"#1845","full":"gitlab-org/customers-gitlab-com#1845"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4459,"epic":{"id":115365,"iid":4459,"title":"Purchase flow improvements","url":"/groups/gitlab-org/-/epics/4459","group_id":9970,"human_readable_end_date":"Feb 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":70082185,"iid":1844,"project_id":2670515,"title":"Remove DB tables for Eula and EulaRequest","description":"### Problem\n\nAs mentioned in [the epic](https://gitlab.com/groups/gitlab-org/-/epics/4225), we no longer require the manual EULA process. After a period of time (TBD), we will no longer need to preserve the data for existing EULAs or EULA Requests.\n\n### Proposal\n\nOnce we've removed references to the models `Eula` and `EulaRequest` (as part of [this issue](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1842)), we should remove the tables from the database.\n\n**Important Note: This issue is blocked until the new terms have been live for at least 90 days (e.g. 90 days after [the `stop_eula_requests` feature flag was enabled](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1882)).  [That occurred on 2020-10-13](https://gitlab.slack.com/archives/CMJ8JR0RH/p1602599797469400).  The exact date is TBD. See [this issue](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1602) for more information.**","state":"closed","created_at":"2020-08-20T19:05:19.825Z","updated_at":"2022-10-14T21:12:42.419Z","closed_at":"2022-09-16T14:34:54.290Z","closed_by":{"id":5667561,"username":"vshumilo","name":"Vladlena Shumilo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08dfa82785d130c151ab9e21caeab4e3?s=80\u0026d=identicon","web_url":"https://gitlab.com/vshumilo"},"labels":["Deliverable","[deprecated] Category:Provision","[deprecated] üçé","auto updated","automation:prevent-auto-close","backend","devops::fulfillment","group::provision","section::fulfillment","type::maintenance","workflow::in review"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":5667561,"username":"vshumilo","name":"Vladlena Shumilo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08dfa82785d130c151ab9e21caeab4e3?s=80\u0026d=identicon","web_url":"https://gitlab.com/vshumilo"}],"author":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"type":"ISSUE","assignee":{"id":5667561,"username":"vshumilo","name":"Vladlena Shumilo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08dfa82785d130c151ab9e21caeab4e3?s=80\u0026d=identicon","web_url":"https://gitlab.com/vshumilo"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1844","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/1844","notes":"https://gitlab.com/api/v4/projects/2670515/issues/1844/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/1844/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#1844","relative":"#1844","full":"gitlab-org/customers-gitlab-com#1844"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4225,"epic":{"id":96785,"iid":4225,"title":"Decommission the EULA acceptance process in customers","url":"/groups/gitlab-org/-/epics/4225","group_id":9970,"human_readable_end_date":"Sep 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":70082099,"iid":1843,"project_id":2670515,"title":"Document process of investigating \"applying discounts to renewals\"","description":"### Problem\n\nWe will be on-boarding two new engineers to the Business Integration team. A significant part of on-boarding is understanding the complexity of the data model and code abstractions. \n\n### Proposal\n\nUse the issue of [applying previous discounts to renewals](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/790) as an vehicle to examine the code and data model of the customer portal\n\n### Result\nStart documenting the data model for the Customer's Portal.\n\n### How will we measure success?","state":"closed","created_at":"2020-08-20T19:02:40.654Z","updated_at":"2022-02-28T17:06:21.761Z","closed_at":"2022-02-28T17:06:21.744Z","closed_by":{"id":1786152,"username":"gitlab-bot","name":"ü§ñ GitLab Bot ü§ñ","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1786152/avatar.png","web_url":"https://gitlab.com/gitlab-bot"},"labels":["[deprecated] üçé","auto closed","auto updated","devops::fulfillment","missed:13.4","section::fulfillment"],"milestone":{"id":1212252,"iid":48,"group_id":9970,"title":"Next 1-3 releases","description":"Issues which are not quite ready to schedule, but should be considered as part of the near-term roadmap.","state":"active","created_at":"2020-03-26T20:39:10.889Z","updated_at":"2020-03-26T20:39:10.889Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/48"},"assignees":[],"author":{"id":4415228,"username":"chris_baus","name":"Chris Baus","state":"blocked","avatar_url":"https://secure.gravatar.com/avatar/59e5568c2f6bb8bb7818b22cc5cd15b1?s=80\u0026d=identicon","web_url":"https://gitlab.com/chris_baus"},"type":"ISSUE","assignee":null,"user_notes_count":14,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1843","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/1843","notes":"https://gitlab.com/api/v4/projects/2670515/issues/1843/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/1843/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#1843","relative":"#1843","full":"gitlab-org/customers-gitlab-com#1843"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":70082078,"iid":1842,"project_id":2670515,"title":"Remove references of Eula and EulaRequest models","description":"### Problem\n\nAs mentioned in [the epic](https://gitlab.com/groups/gitlab-org/-/epics/4225), we no longer require the manual EULA process. After a period of time (TBD), we will no longer need to preserve the data for existing EULAs or EULA Requests.\n\n### Proposal\n\nRemove references to the `Eula` and `EulaRequest` models.\n\nHere is a list of code that could be removed:\n- https://gitlab.com/gitlab-org/customers-gitlab-com/blob/7e111a908a465b5e6b8101647b203cef2e79dbff/app/models/eula_request.rb\n- https://gitlab.com/gitlab-org/customers-gitlab-com/blob/ee5aedd2d4a3ca662c95371aba3ef07d2808b8f8/app/models/eula.rb\n- https://gitlab.com/gitlab-org/customers-gitlab-com/blob/0b900c33fe4dec8ce9b2d78ce050cd18dd83fdfc/app/models/customer.rb#L35\n- Factories for Eula and EulaRequest.\n- Use different table name [here](https://gitlab.com/gitlab-org/customers-gitlab-com/blob/39de54a16787d2d3e3a79f0ce187e09b3a272253/spec/lib/database/migrations_helper_spec.rb#L169)\n- References to files to be removed as part of this issue from .rubocop_todo.yml (e.g. https://gitlab.com/gitlab-org/customers-gitlab-com/blob/154152723d1f0a9af846573222eda73082368ffb/.rubocop_todo.yml#L13)\n\n**Important Note: This issue is blocked until the new terms have been live for at least 90 days (e.g. 90 days after [the `stop_eula_requests` feature flag was enabled](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1882)).  [That occurred on 2020-10-13](https://gitlab.slack.com/archives/CMJ8JR0RH/p1602599797469400).  We may decide to keep this data around for a while longer.  The exact date is TBD.  See [this issue](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1602) for more information.**","state":"closed","created_at":"2020-08-20T19:01:45.575Z","updated_at":"2022-09-21T12:05:38.481Z","closed_at":"2022-09-08T15:34:48.120Z","closed_by":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"labels":["Deliverable","[deprecated] Category:Provision","[deprecated] üçé","auto updated","automation:prevent-auto-close","backend","devops::fulfillment","group::provision","priority::4","section::fulfillment","type::maintenance","workflow::production"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"}],"author":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"type":"ISSUE","assignee":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1842","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/1842","notes":"https://gitlab.com/api/v4/projects/2670515/issues/1842/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/1842/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#1842","relative":"#1842","full":"gitlab-org/customers-gitlab-com#1842"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4225,"epic":{"id":96785,"iid":4225,"title":"Decommission the EULA acceptance process in customers","url":"/groups/gitlab-org/-/epics/4225","group_id":9970,"human_readable_end_date":"Sep 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":70081840,"iid":1841,"project_id":2670515,"title":"Remove code allowing customers to accept EULAs","description":"### Problem\n\nAs mentioned in [the epic](https://gitlab.com/groups/gitlab-org/-/epics/4225), we no longer require the manual EULA process. As a result, customers no longer need to accept EULAs.\n\n### Proposal\n\nWe should remove all the code that allows customers to accept EULAs.  However, we still want to keep the data for existing EULAs for period of time (exact time TBD) so we don't want to remove models and DB tables.\n\nHere is some related code to be sure to remove:\n- https://gitlab.com/gitlab-org/customers-gitlab-com/blob/02d90dd9d3d776b0d9f5e25c9127f4b219342d85/app/models/subscription.rb#L133\n- https://gitlab.com/gitlab-org/customers-gitlab-com/blob/0769075bb7cb91ba6871d074de30b07ce8001298/app/presenters/subscription_presenter.rb#L72\n- https://gitlab.com/gitlab-org/customers-gitlab-com/blob/b82fc68107f4a6a6f8b23191fa19aea9749dbafc/app/helpers/eula_requests_helper.rb#L3\n- https://gitlab.com/gitlab-org/customers-gitlab-com/blob/a0caa37649a5701a805b6c82caa458852d542438/app/controllers/eula_requests_controller.rb\n- https://gitlab.com/gitlab-org/customers-gitlab-com/blob/7c57f22ba9073f86ed1b428681d5430715ef6633/app/assets/stylesheets/pages.scss#L3\n- https://gitlab.com/gitlab-org/customers-gitlab-com/blob/e2cab1a1d9e4f09bd4c2b14093a83a3bf44f4f02/app/views/eula_requests/show.html.haml\n- https://gitlab.com/gitlab-org/customers-gitlab-com/blob/d789b8c7493cade57c6dd69ec2edb31651625131/config/routes.rb#L35\n- References (e.g. `eulaRequestPath`) in https://gitlab.com/gitlab-org/customers-gitlab-com/blob/9ac7fb080d7096d77d7737fff8f44e36c41e6f52/app/frontend/javascripts/subscription/components/subscription_buttons.vue\n- References (e.g. `eulaReuqestPath`) in https://gitlab.com/gitlab-org/customers-gitlab-com/blob/d7d5757677ee8060adb05f52b99230954fb52952/app/frontend/javascripts/subscription/components/subscription.vue#L70\n\n**Important Note: This issue is blocked until the new terms have been live for at least 90 days (e.g. 90 days after [the `stop_eula_requests` feature flag was enabled](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1882)).  [That occurred on 2020-10-13](https://gitlab.slack.com/archives/CMJ8JR0RH/p1602599797469400).  The exact date is TBD.**","state":"closed","created_at":"2020-08-20T18:52:26.601Z","updated_at":"2022-09-21T12:05:25.240Z","closed_at":"2022-09-06T15:55:04.172Z","closed_by":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"labels":["Deliverable","[deprecated] Category:Fulfillment Platform","[deprecated] üçé","auto updated","automation:prevent-auto-close","backend","devops::fulfillment","group::fulfillment platform","maintenance::dependency","section::fulfillment","type::maintenance","workflow::production"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"}],"author":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"type":"ISSUE","assignee":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1841","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/1841","notes":"https://gitlab.com/api/v4/projects/2670515/issues/1841/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/1841/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#1841","relative":"#1841","full":"gitlab-org/customers-gitlab-com#1841"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4225,"epic":{"id":96785,"iid":4225,"title":"Decommission the EULA acceptance process in customers","url":"/groups/gitlab-org/-/epics/4225","group_id":9970,"human_readable_end_date":"Sep 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":70081676,"iid":1840,"project_id":2670515,"title":"Remove AdminMailer code for notifying of EULA acceptance","description":"### Problem\n\nAs mentioned in [the epic](https://gitlab.com/groups/gitlab-org/-/epics/4225), we no longer require the manual EULA process. As a result, we no longer need to notify admins when a customer has accepted a EULA.\n\n### Proposal\n\nWe should remove [the `eula_notification` mailer from `AdminMailer`](https://gitlab.com/gitlab-org/customers-gitlab-com/blob/4ee96946d6358b1768ecb60a70edd27cde352b0d/app/mailers/admin_mailer.rb#L10), as well as related views and other references (e.g. https://gitlab.com/gitlab-org/customers-gitlab-com/blob/a0caa37649a5701a805b6c82caa458852d542438/app/controllers/eula_requests_controller.rb#L53).\n\n**Important Note: This issue is blocked until the new terms have been live for at least 90 days (e.g. 90 days after [the `stop_eula_requests` feature flag was enabled](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1882)).  [That occurred on 2020-10-13](https://gitlab.slack.com/archives/CMJ8JR0RH/p1602599797469400).  The exact date is TBD.**","state":"closed","created_at":"2020-08-20T18:47:12.691Z","updated_at":"2021-11-18T07:02:34.115Z","closed_at":"2021-11-01T03:46:34.229Z","closed_by":{"id":1986039,"username":"lulalala","name":"Mark Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1986039/avatar.png","web_url":"https://gitlab.com/lulalala"},"labels":["Deliverable","[deprecated] Category:Provision","[deprecated] üçé","auto updated","automation:prevent-auto-close","backend","devops::fulfillment","group::provision","section::fulfillment","type::maintenance","workflow::in review"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":1986039,"username":"lulalala","name":"Mark Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1986039/avatar.png","web_url":"https://gitlab.com/lulalala"}],"author":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"type":"ISSUE","assignee":{"id":1986039,"username":"lulalala","name":"Mark Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1986039/avatar.png","web_url":"https://gitlab.com/lulalala"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1840","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/1840","notes":"https://gitlab.com/api/v4/projects/2670515/issues/1840/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/1840/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#1840","relative":"#1840","full":"gitlab-org/customers-gitlab-com#1840"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4225,"epic":{"id":96785,"iid":4225,"title":"Decommission the EULA acceptance process in customers","url":"/groups/gitlab-org/-/epics/4225","group_id":9970,"human_readable_end_date":"Sep 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":70081224,"iid":1838,"project_id":2670515,"title":"Notify admins of license delivery error in the ZuoraCallbacksController","description":"### Problem\n\nAs mentioned in [the epic](https://gitlab.com/groups/gitlab-org/-/epics/4225), we no longer require the manual EULA process. This means in `ZuoraCallbackController#subscription_update` we will no longer deliver emails asking customers to accept terms before sending a license key.  Instead, the license key will be delivered immediately (for EE).  \n\nIt appears we send an error notification to admins in the event a key is not created successfully (and therefore not delivered to the customer) when accepting the EULA ([here](https://gitlab.com/gitlab-org/customers-gitlab-com/blob/a0caa37649a5701a805b6c82caa458852d542438/app/controllers/eula_requests_controller.rb#L42)).  However, we do not send this notification for the same operation in `ZuoraCallbackController#subscription_update` ([here](https://gitlab.com/gitlab-org/customers-gitlab-com/blob/fe3d569fbe4e1f5e9b23bafe91bca8fb860200c0/app/controllers/zuora_callbacks_controller.rb#L145)).\n\n### Proposal\n\nUpdate the `ZuoraCallbackController#subscription_update` [here](https://gitlab.com/gitlab-org/customers-gitlab-com/blob/fe3d569fbe4e1f5e9b23bafe91bca8fb860200c0/app/controllers/zuora_callbacks_controller.rb#L145) to send this notification if an error occurs when generating the license key, in a similar manner to [the EULA acceptance logic here](https://gitlab.com/gitlab-org/customers-gitlab-com/blob/a0caa37649a5701a805b6c82caa458852d542438/app/controllers/eula_requests_controller.rb#L42).","state":"closed","created_at":"2020-08-20T18:30:51.180Z","updated_at":"2020-10-14T14:08:52.022Z","closed_at":"2020-09-03T19:40:55.915Z","closed_by":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"labels":["Deliverable","[deprecated] üçé","backend","devops::fulfillment","group::provision","section::fulfillment","workflow::production"],"milestone":{"id":1233753,"iid":51,"group_id":9970,"title":"13.4","description":"https://about.gitlab.com/releases/2020/09/22/gitlab-13-4-released/","state":"closed","created_at":"2020-04-09T17:39:21.662Z","updated_at":"2022-04-13T14:50:33.769Z","due_date":"2020-09-17","start_date":"2020-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/51"},"assignees":[{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"}],"author":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"type":"ISSUE","assignee":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1838","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/1838","notes":"https://gitlab.com/api/v4/projects/2670515/issues/1838/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/1838/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#1838","relative":"#1838","full":"gitlab-org/customers-gitlab-com#1838"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4225,"epic":{"id":96785,"iid":4225,"title":"Decommission the EULA acceptance process in customers","url":"/groups/gitlab-org/-/epics/4225","group_id":9970,"human_readable_end_date":"Sep 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":70080949,"iid":1837,"project_id":2670515,"title":"Remove CustomerMailer for accepting terms","description":"### Problem\n\nAs mentioned in [the epic](https://gitlab.com/groups/gitlab-org/-/epics/4225), we no longer require the manual EULA process. As part of this work, we no longer need mailers for asking customers to accept terms.\n\n### Proposal\n\nRemove [the `accept_terms_request` mailer](https://gitlab.com/gitlab-org/customers-gitlab-com/blob/fe3d569fbe4e1f5e9b23bafe91bca8fb860200c0/app/mailers/customer_mailer.rb#L20) in `CustomerMailer` (and related views) for allowing customers to accept terms.\n\nThis should no longer be used and can safely be removed once https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1830, https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1836, and https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1882 are resolved and the legacy EULA process has been sunset (see below note).\n\n**Important Note: This issue is blocked until the new terms have been live for 90 days (e.g. 90 days after [the `stop_eula_requests` feature flag was enabled](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1882)).  [That occurred on 2020-10-13](https://gitlab.slack.com/archives/CMJ8JR0RH/p1602599797469400).  The exact date is TBD.**","state":"closed","created_at":"2020-08-20T18:19:29.690Z","updated_at":"2021-03-22T08:30:07.989Z","closed_at":"2021-03-22T08:30:07.940Z","closed_by":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"labels":["[deprecated] Category:Provision","[deprecated] üçé","backend","devops::fulfillment","group::provision","section::fulfillment","workflow::production"],"milestone":{"id":1406669,"iid":59,"group_id":9970,"title":"13.11","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-08-13T14:23:09.688Z","updated_at":"2022-04-21T07:22:08.835Z","due_date":"2021-04-17","start_date":"2021-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/59"},"assignees":[{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"}],"author":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"type":"ISSUE","assignee":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1837","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/1837","notes":"https://gitlab.com/api/v4/projects/2670515/issues/1837/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/1837/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#1837","relative":"#1837","full":"gitlab-org/customers-gitlab-com#1837"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4225,"epic":{"id":96785,"iid":4225,"title":"Decommission the EULA acceptance process in customers","url":"/groups/gitlab-org/-/epics/4225","group_id":9970,"human_readable_end_date":"Sep 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":70080716,"iid":1836,"project_id":2670515,"title":"Put ability to resend EULA from admin panel behind a feature flag","description":"### Problem\n\nAs mentioned in [the epic](https://gitlab.com/groups/gitlab-org/-/epics/4225), we no longer require the manual EULA process. As part of this work, we should not need to resend EULA request email from the Admin panel.\n\n### Proposal\n\nRemove the components related to resending EULAs via the admin panel.  This will be put behind the feature flag, `:stop_eula_requests`, until the new EULA workflow is adopted.  Once it is live, we can remove this code altogether (as part of [this issue](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1882)).","state":"closed","created_at":"2020-08-20T18:11:20.367Z","updated_at":"2020-10-14T14:08:52.626Z","closed_at":"2020-10-13T21:04:54.132Z","closed_by":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"labels":["Deliverable","[deprecated] üçé","backend","devops::fulfillment","group::provision","section::fulfillment","workflow::production"],"milestone":{"id":1233753,"iid":51,"group_id":9970,"title":"13.4","description":"https://about.gitlab.com/releases/2020/09/22/gitlab-13-4-released/","state":"closed","created_at":"2020-04-09T17:39:21.662Z","updated_at":"2022-04-13T14:50:33.769Z","due_date":"2020-09-17","start_date":"2020-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/51"},"assignees":[{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"}],"author":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"type":"ISSUE","assignee":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1836","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/1836","notes":"https://gitlab.com/api/v4/projects/2670515/issues/1836/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/1836/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#1836","relative":"#1836","full":"gitlab-org/customers-gitlab-com#1836"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4225,"epic":{"id":96785,"iid":4225,"title":"Decommission the EULA acceptance process in customers","url":"/groups/gitlab-org/-/epics/4225","group_id":9970,"human_readable_end_date":"Sep 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":70069332,"iid":1835,"project_id":2670515,"title":"Ensure change namespace button is disabled while operation is in progress","description":"Suggested by @chris_baus to investigate.\n\n\n### Problem\n\nIn the \"Change namespace\" page, the confirm button wasn't being disabled when the AJAX request is sent to the server, which could lead to the user being able to click it again.\n\n### Proposal\n\nWe need to ensure the submit button is being disabled while the AJAX request is being made, then make it enabled once the AJAX request is finished, so if the request fails the user can click the button again.","state":"closed","created_at":"2020-08-20T13:51:03.903Z","updated_at":"2020-10-18T22:24:49.400Z","closed_at":"2020-09-28T14:16:49.685Z","closed_by":{"id":4737352,"username":"astoicescu","name":"Andrei Stoicescu","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4737352/avatar.png","web_url":"https://gitlab.com/astoicescu"},"labels":["Category:Purchase","[deprecated] üçé","devops::fulfillment","frontend","group::purchase","missed:13.4","workflow::production"],"milestone":{"id":1233754,"iid":52,"group_id":9970,"title":"13.5","description":"https://about.gitlab.com/releases/2020/10/22/gitlab-13-5-released/","state":"closed","created_at":"2020-04-09T17:39:21.990Z","updated_at":"2022-04-21T07:21:12.213Z","due_date":"2020-10-17","start_date":"2020-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/52"},"assignees":[{"id":4737352,"username":"astoicescu","name":"Andrei Stoicescu","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4737352/avatar.png","web_url":"https://gitlab.com/astoicescu"}],"author":{"id":127064,"username":"aalakkad","name":"Ammar Alakkad","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ecc1130ce340f5080afd8f2c9962948a?s=80\u0026d=identicon","web_url":"https://gitlab.com/aalakkad"},"type":"ISSUE","assignee":{"id":4737352,"username":"astoicescu","name":"Andrei Stoicescu","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4737352/avatar.png","web_url":"https://gitlab.com/astoicescu"},"user_notes_count":17,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1835","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/1835","notes":"https://gitlab.com/api/v4/projects/2670515/issues/1835/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/1835/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#1835","relative":"#1835","full":"gitlab-org/customers-gitlab-com#1835"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":1886,"epic":{"id":12071,"iid":1886,"title":"[Pajamas][UX] Portal Pages Redesigns","url":"/groups/gitlab-org/-/epics/1886","group_id":9970,"human_readable_end_date":"Nov 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":70041755,"iid":1833,"project_id":2670515,"title":"SPIKE: Force association often not working because of new validation","description":"### Summary\n\nSupport has a [\"force associate\" function](https://gitlab.com/gitlab-com/support/toolbox/console-training-wheels/-/blob/master/lib/support_team.rb#L133-139) which we frequently use.\n\nHowever, recently, we've seen the following error crop up:\n\n```\nW, [2020-08-20T00:10:39.100108 #130878]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#default defined in Hash. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.\nTraceback (most recent call last):\n        2: from (irb):13\n        1: from app/services/gitlab/namespace/update_plan_info_service.rb:30:in `execute'\nErrors::ActionNotAllowed (Namespace change to 12345 is not allowed)\n```\n\n### Validation Issue\n\nThis line has the validation which is causing the error: https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/master/app/services/gitlab/namespace/update_plan_info_service.rb#L30\n\n\u003e raise(::Errors::ActionNotAllowed, \"Namespace change to #{order_gl_namespace_id} is not allowed\") unless namespace_transaction_validator.valid?\n\nAccording to the description in the [relevant commit](https://gitlab.com/gitlab-org/customers-gitlab-com/-/commit/a51b25ca85662460bb2d00f8592728aea7b4c125), this validation was added for this reason:\n\n\u003e Please note that subscriptions with add-ons can\nonly be moved when the new namespace does not have a subscription yet,\nalso subscriptions containing legacy CI minutes only are not moveable.\n\nHowever, we're seeing orders with the `amendment_type: \"UpdateProduct\"` where there are no add-ons and we cannot force associate the order.\n\n### Current workaround\n\nOur workaround right now is to change the `amendment_type` temporarily and change it back after we run the function.\n\n### Ask\n\nI'd like to know what Support can do here. I'd really prefer not to be messing around with the order data to make our function work but we also need this function to work, especially when there are no add-ons attached.\n\n1. Why are we hitting this validation error for orders that don't have add-ons?\n1. In the short term, the workaround is to force the sync anyway. Is it a problem if there are add-ons?\n\n### Some examples\n\n1. https://gitlab.com/gitlab-com/support/internal-requests/-/issues/2757#note_387042141\n1. https://gitlab.com/gitlab-com/support/internal-requests/-/issues/2933\n1. https://gitlab.com/gitlab-com/support/internal-requests/-/issues/2955\n1. https://gitlab.com/gitlab-com/support/internal-requests/-/issues/2983#note_432262992\n1. https://gitlab.zendesk.com/agent/tickets/200673","state":"closed","created_at":"2020-08-20T00:59:22.281Z","updated_at":"2022-03-21T18:01:40.075Z","closed_at":"2021-07-02T16:53:11.102Z","closed_by":{"id":2454149,"username":"cynthia","name":"Cynthia \"Arty\" Ng","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2454149/avatar.png","web_url":"https://gitlab.com/cynthia"},"labels":["Category:Purchase","Support Priority","backend","customer","devops::fulfillment","group::purchase","internal customer","needs investigation","section::fulfillment","type::bug","workflow::verification"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":4981524,"username":"jhyson","name":"Josianne Hyson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4981524/avatar.png","web_url":"https://gitlab.com/jhyson"}],"author":{"id":2454149,"username":"cynthia","name":"Cynthia \"Arty\" Ng","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2454149/avatar.png","web_url":"https://gitlab.com/cynthia"},"type":"ISSUE","assignee":{"id":4981524,"username":"jhyson","name":"Josianne Hyson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4981524/avatar.png","web_url":"https://gitlab.com/jhyson"},"user_notes_count":32,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1833","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/1833","notes":"https://gitlab.com/api/v4/projects/2670515/issues/1833/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/1833/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#1833","relative":"#1833","full":"gitlab-org/customers-gitlab-com#1833"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4599,"epic":{"id":125928,"iid":4599,"title":"Purchase and Provisioning Issues Related to Data Integrity","url":"/groups/gitlab-org/-/epics/4599","group_id":9970,"human_readable_end_date":"Jul 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":70036930,"iid":1830,"project_id":2670515,"title":"Stop sending EULA requests for new purchases","description":"### Problem\nAs mentioned in [the epic](https://gitlab.com/groups/gitlab-org/-/epics/4225), we no longer require the manual EULA process.  In order to move away from this process, we must stop the generation of new EULA requests.\n\n### Proposal\n\nUpdate the `ZuoraCallbacksController` to remove references to EULAs.  This means we will no longer send a EULA Request email to the customer and will send the license key directly to the customer instead (for EE plans).\n\nWe should also be able to remove [the EULA question in the SKU Issue template](https://gitlab.com/gitlab-org/customers-gitlab-com/blob/938c94efbaaf6cbd50acd6b6d6ed87ceba7e7c03/.gitlab/issue_templates/Sku.md#L26), as this is no longer relevant.\n\n**Important Note: We need to sync this issue of stopping the current EULA request process with the introduction of [the new EULA acceptance process](https://gitlab.com/gitlab-org/gitlab/-/issues/224712).**","state":"closed","created_at":"2020-08-19T20:52:47.304Z","updated_at":"2020-10-14T14:08:53.365Z","closed_at":"2020-08-31T14:39:48.469Z","closed_by":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"labels":["Data team review","Deliverable","backend","devops::fulfillment","group::provision","portal integration","section::fulfillment","workflow::verification"],"milestone":{"id":1233753,"iid":51,"group_id":9970,"title":"13.4","description":"https://about.gitlab.com/releases/2020/09/22/gitlab-13-4-released/","state":"closed","created_at":"2020-04-09T17:39:21.662Z","updated_at":"2022-04-13T14:50:33.769Z","due_date":"2020-09-17","start_date":"2020-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/51"},"assignees":[{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"}],"author":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"type":"ISSUE","assignee":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1830","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/1830","notes":"https://gitlab.com/api/v4/projects/2670515/issues/1830/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/1830/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#1830","relative":"#1830","full":"gitlab-org/customers-gitlab-com#1830"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4225,"epic":{"id":96785,"iid":4225,"title":"Decommission the EULA acceptance process in customers","url":"/groups/gitlab-org/-/epics/4225","group_id":9970,"human_readable_end_date":"Sep 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":70030194,"iid":1829,"project_id":2670515,"title":"Updating company VAT number field fails to save","description":"## UPDATE 2020-09-23\n\n1. This failure occurs when no customer record exists in Zuora\n1. The customer record does not exist because no purchase has been made\n\n### Actions\n\n1. Remove the VAT from Account Details page if no Customer exists in Zuora - work for this issue\n1. Introduce VAT on all purchase flows for applicable countries #2022 \n1. Prefill VAT where available from Zuora and allow customer to overwrite #2023 \n\n\n\n---\n\n## Summary\n\nEntering a VAT number under **account details** \u003e **your company details** \u003e\u003e **VAT Number** returns a `Your account has been updated successfully.` message, but the VAT Number input box remains empty. Sounds like it updates the VAT internally, but continues to show an empty field to the customer, causing confusion.\n\n### Steps to reproduce\n\nSet your Country location under Personal Details to any country that would have a VAT number (primarily those within the EU) in order for the VAT number box to appear under company details. Enter a valid VAT number and save the form.\n\n### What is the current *bug* behavior?\n\nCustomer portal does not show updated VAT number\n\n### What is the expected *correct* behavior?\n\nVAT should be updated and the input box should reflect the change\n\n### Relevant logs and/or screenshots\n\nNo sentry errors that I can find.\n\nForm data looks correct; POST 302s\n\n```\nutf8: ‚úì\n_method: patch\nauthenticity_token: [redacted]\ncustomer[company]: GitLab\ncustomer[vat_code]: 12345678\ncustomer[company_size]: 1-99\n```\nServer replies with 200.\n\nAppears to be frontend only.\n\n### Reported examples\n\n1. [ZD 169097](https://gitlab.zendesk.com/agent/tickets/169097) (internal only)\n1. [ZD 168953](https://gitlab.zendesk.com/agent/tickets/168953) (internal only)\n1. [My own test customer portal account](https://customers.gitlab.com/admin/customer/194288)\n1. [ZD 173364](https://gitlab.zendesk.com/agent/tickets/173364)","state":"closed","created_at":"2020-08-19T16:52:51.201Z","updated_at":"2020-10-27T23:27:00.910Z","closed_at":"2020-10-23T14:39:11.172Z","closed_by":{"id":4737352,"username":"astoicescu","name":"Andrei Stoicescu","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4737352/avatar.png","web_url":"https://gitlab.com/astoicescu"},"labels":["Category:Purchase","Fulfillment Priority","customer","devops::fulfillment","frontend","group::purchase","missed:13.5","priority::4","section::fulfillment","severity::4","workflow::verification"],"milestone":{"id":1233755,"iid":53,"group_id":9970,"title":"13.6","description":"https://about.gitlab.com/releases/2020/11/22/gitlab-13-6-released/","state":"closed","created_at":"2020-04-09T17:39:22.328Z","updated_at":"2022-04-13T14:51:04.376Z","due_date":"2020-11-17","start_date":"2020-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/53"},"assignees":[{"id":4737352,"username":"astoicescu","name":"Andrei Stoicescu","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4737352/avatar.png","web_url":"https://gitlab.com/astoicescu"}],"author":{"id":4447183,"username":"kevenhughes","name":"Keven Hughes","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4447183/avatar.png","web_url":"https://gitlab.com/kevenhughes"},"type":"ISSUE","assignee":{"id":4737352,"username":"astoicescu","name":"Andrei Stoicescu","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4737352/avatar.png","web_url":"https://gitlab.com/astoicescu"},"user_notes_count":20,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1829","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/1829","notes":"https://gitlab.com/api/v4/projects/2670515/issues/1829/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/1829/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#1829","relative":"#1829","full":"gitlab-org/customers-gitlab-com#1829"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4464,"epic":{"id":115379,"iid":4464,"title":"VAT updates for purchase flows","url":"/groups/gitlab-org/-/epics/4464","group_id":9970,"human_readable_end_date":"Nov 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":69993917,"iid":1827,"project_id":2670515,"title":"Error when calling namespace change for customer's subscription who does not have a linked GitLab account","description":"### Summary\n\nWhile conducting some testing for another issue with @vshumilo, we found a 500 error. It happens when clicking the button to `change linked namespace` of a subscription that was created manually in Zuora (sales-assisted purchase) for a customer that has not linked their account to GitLab yet. This results in a `nil` object [here](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/staging/app/views/subscriptions/_edit_gitlab_com_plan.html.haml#L7).\n\n### Steps to reproduce\n\n- Have a customer account that has not linked their account to GitLab\n- Create a subscription in Zuora for that customer\n- Look for subscription in the Customers Portal and click `change linked namespace` for it\n- See error\n\n### What is the current *bug* behavior?\n\nA 500 error is raised when clicking on the `change linked namespace` button or calling its page directly via url.\n\n### What is the expected *correct* behavior?\n\nPage for change linked namespace is successfully rendered.\n\n### Relevant logs and/or screenshots\n\n(Paste any relevant logs - please use code blocks (```) to format console output,\nlogs, and code as it's tough to read otherwise.)\n\n### Workarounds\n\nNone\n\n### Possible solutions\n\nAdd safe nav (`\u0026`) to the line that raised the error ([here](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/staging/app/views/subscriptions/_edit_gitlab_com_plan.html.haml#L7)).\n\n**But a cleaner overall solution would be:**\nAlways return an array for the [`GitLab::Namespace::ListService`](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/staging/app/services/gitlab/namespace/list_service.rb) which is used in the a lot of helper methods in [`GitLabPlansHelper`](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/staging/app/helpers/gitlab_plans_helper.rb) with a safe nav (`\u0026`). Although it has to be checked if this affects anything else if an empty Array is returned instead of `nil`.\n\n\n### Reported examples\n\n1. [Raised error](https://sentry.gitlab.net/gitlab/customersgitlabcom/issues/1678514/?query=is%3Aunresolved) for this [subscription](https://www.zuora.com/apps/Subscription.do?method=view\u0026id=2c92a00e73ed8d8701740207ccec6bfd)","state":"closed","created_at":"2020-08-19T07:30:28.220Z","updated_at":"2020-10-27T00:59:07.283Z","closed_at":"2020-10-27T00:59:07.252Z","closed_by":{"id":280339,"username":"rdavila","name":"Rub√©n D√°vila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/280339/avatar.png","web_url":"https://gitlab.com/rdavila"},"labels":["[deprecated] Category:Provision","[deprecated] üçé","backend","devops::fulfillment","group::provision","section::fulfillment","type::bug","workflow::ready for development"],"milestone":{"id":1233755,"iid":53,"group_id":9970,"title":"13.6","description":"https://about.gitlab.com/releases/2020/11/22/gitlab-13-6-released/","state":"closed","created_at":"2020-04-09T17:39:22.328Z","updated_at":"2022-04-13T14:51:04.376Z","due_date":"2020-11-17","start_date":"2020-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/53"},"assignees":[],"author":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"type":"ISSUE","assignee":null,"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1827","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/1827","notes":"https://gitlab.com/api/v4/projects/2670515/issues/1827/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/1827/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#1827","relative":"#1827","full":"gitlab-org/customers-gitlab-com#1827"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":69975206,"iid":1819,"project_id":2670515,"title":"Unable to change linked namespace for subscriptions when the quantity is the same AND reconciliations feature flag is enabled","description":"### Summary\n\nEnvironment: Staging \nPre conditions: [`reconciliations` feature flag](https://gitlab.com/gitlab-org/customers-gitlab-com/-/feature_flags) is enabled\n\n### Steps to reproduce\n\nFor any .com subscription that has enabled the `Change linked namespace` action.\n\n1. Check the Subscription quantity.\n1. Try linking the subscription to another namespace OR group that has the same quantity via \"Change linked namespace\" action.\n\n### What is the current *bug* behavior?\n\nThe initial selection of such namespace will result on a `422 (Unprocessable Entity)`\n\n### What is the expected *correct* behavior?\n\nWe should be able to updated the linked namespace for a subscription when the conditions for such a change [are valid](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/9157567e4f93a4ba9a3412e9aaa849a97c1f37ac/doc/subscription_namespace_change.md) not affected by the quantity.\n\n### Relevant logs and/or screenshots\n\nThe issue seems to be related to the `AmendSubscriptionService`.\n\nThe `AmendSubscriptionService` will [error](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/b769f1a499cc793a674462f092734d00429201bd/app/services/amend_subscription_service.rb#L17) if it is not able to generate and amendment for the requested action.\n\nThe issue seems related to [this check](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/9157567e4f93a4ba9a3412e9aaa849a97c1f37ac/app/services/amend_subscription_service.rb#L42) for when:\n\n- The quantities match\n- The subscription is not autorenew and there is not an increase in quantity. \n\n![Screen_Shot_2020-08-19_at_7.44.35_AM](/uploads/efb727027e96e7b8d0f9325db7f0f3a1/Screen_Shot_2020-08-19_at_7.44.35_AM.png)\n\n![Screen_Shot_2020-08-19_at_7.38.12_AM](/uploads/2089e3c247cf55f98b6c316dd52ab338/Screen_Shot_2020-08-19_at_7.38.12_AM.png)\n\n### Workarounds\n\nThis is not affecting production atm because the `reconciliations` feature flag is not turned on for production.\n\n@cwiesner would you please check / highlight anything else to leverage our pairing looking over this and add as much context by combining our brain power! :) Thank you :pray: \n\n\u003c!---\nPlease add both severity and priority level according to: https://docs.gitlab.com/ee/development/contributing/issue_workflow.html#severity-labels\n---\u003e","state":"closed","created_at":"2020-08-18T18:44:48.056Z","updated_at":"2020-11-06T01:21:30.698Z","closed_at":"2020-11-06T01:21:30.661Z","closed_by":{"id":1986039,"username":"lulalala","name":"Mark Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1986039/avatar.png","web_url":"https://gitlab.com/lulalala"},"labels":["[deprecated] Category:Provision","backend","devops::fulfillment","group::provision","missed:13.5","section::fulfillment","type::bug","workflow::verification"],"milestone":{"id":1233755,"iid":53,"group_id":9970,"title":"13.6","description":"https://about.gitlab.com/releases/2020/11/22/gitlab-13-6-released/","state":"closed","created_at":"2020-04-09T17:39:22.328Z","updated_at":"2022-04-13T14:51:04.376Z","due_date":"2020-11-17","start_date":"2020-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/53"},"assignees":[{"id":1986039,"username":"lulalala","name":"Mark Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1986039/avatar.png","web_url":"https://gitlab.com/lulalala"}],"author":{"id":5667561,"username":"vshumilo","name":"Vladlena Shumilo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08dfa82785d130c151ab9e21caeab4e3?s=80\u0026d=identicon","web_url":"https://gitlab.com/vshumilo"},"type":"ISSUE","assignee":{"id":1986039,"username":"lulalala","name":"Mark Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1986039/avatar.png","web_url":"https://gitlab.com/lulalala"},"user_notes_count":20,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1819","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/1819","notes":"https://gitlab.com/api/v4/projects/2670515/issues/1819/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/1819/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#1819","relative":"#1819","full":"gitlab-org/customers-gitlab-com#1819"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":69972099,"iid":1818,"project_id":2670515,"title":"Verify ruby version update (2.6.6) in stg","description":"This is a ~\"production::blocker\" issue for verifying that ES6 version of Zuora operates normally.","state":"closed","created_at":"2020-08-18T17:26:33.212Z","updated_at":"2020-10-14T14:08:53.978Z","closed_at":"2020-08-19T13:35:07.393Z","closed_by":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"labels":["backend","devops::fulfillment","group::provision","section::fulfillment","workflow::production"],"milestone":{"id":1233753,"iid":51,"group_id":9970,"title":"13.4","description":"https://about.gitlab.com/releases/2020/09/22/gitlab-13-4-released/","state":"closed","created_at":"2020-04-09T17:39:21.662Z","updated_at":"2022-04-13T14:50:33.769Z","due_date":"2020-09-17","start_date":"2020-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/51"},"assignees":[{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"}],"author":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"type":"ISSUE","assignee":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1818","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/1818","notes":"https://gitlab.com/api/v4/projects/2670515/issues/1818/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/1818/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#1818","relative":"#1818","full":"gitlab-org/customers-gitlab-com#1818"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":69922449,"iid":1815,"project_id":2670515,"title":"Add SKU for migration +","description":"# SKU Request Summary\n\nThe SKU description and official approval process is here: https://gitlab.com/gitlab-com/Finance-Division/finance/-/issues/2803\n\u003c!---\nProvide a brief description of what this SKU will be used for.\n---\u003e\n\n\n\n## SKU Requirements\n\nIn order to expedite your request, please complete all of the following information. \nAny questions about this template or this request can be directed to @amandarueda in the comments of this issue.\n\n1. [x] SKU Name: Professional Services and Training\n1. [x] SKU Code/ID: SKU-00000016 | 2c92a0fc57fb750d0157fe16b0d75e7a\n1. [x] Zuora Plan Name: Migration+\n1. [x] Zuora Plan ID: 2c92a00c74356b8001744ed8056a4064\n1. [x] Service type: `add-on`\n1. [x] Does this need to be purchase-able via the customers portal? `No`\n1. [x] Does this service renew? `No`\n     * [ ] If yes, what is the renewal cadence? `monthly | annually | other`\n1. [x] Should an email be sent indicating the subscription is coming to an end?: `N/A` or `no`\n1. [x] Is there a unit of measure, if so what? `No`  `Users | Qty | other`\n1. [x] Does this service provision anything? `other`\n     * [x] If yes, please describe in detail what should be provisioned including the systems affected: Data from legacy systems (bitbucket, github) will be migrated into the destination gitlab system under this service. No infrastructure is provisioned. Wasn't sure if this qualified\n1. [x] Does this service require a EULA to be sent? `No`\n1. [x] How soon do you need this SKU ? Timeline: As soon as [approval](https://gitlab.com/gitlab-com/Finance-Division/finance/-/issues/2803) clears - Likely in the next 2-3 weeks. \n1. [ ] Who in Sales-Ops approved this request: See approval :point_up: @username\n1. [ ] Link to originating Finance issue: https://gitlab.com/gitlab-com/Finance-Division/finance/-/issues/2803\n1. [ ] Apply the appropriate `BTG Priority` label to this issue.","state":"closed","created_at":"2020-08-17T16:20:26.520Z","updated_at":"2020-12-17T11:59:46.353Z","closed_at":"2020-12-08T07:20:54.509Z","closed_by":{"id":2967854,"username":"rpereira2","name":"Reuben Pereira","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2967854/avatar.png","web_url":"https://gitlab.com/rpereira2"},"labels":["EntApp Ecosystem","SKU","[deprecated] Category:Provision","devops::fulfillment","group::provision","missed:13.6","section::fulfillment","workflow::verification"],"milestone":{"id":1233757,"iid":54,"group_id":9970,"title":"13.7","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:43:14.893Z","updated_at":"2022-04-13T14:51:12.240Z","due_date":"2020-12-17","start_date":"2020-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/54"},"assignees":[{"id":2967854,"username":"rpereira2","name":"Reuben Pereira","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2967854/avatar.png","web_url":"https://gitlab.com/rpereira2"}],"author":{"id":5879716,"username":"bryan-may","name":"Bryan May","state":"active","avatar_url":"https://secure.gravatar.com/avatar/449db7547144f294518bb5f17f2043a0?s=80\u0026d=identicon","web_url":"https://gitlab.com/bryan-may"},"type":"ISSUE","assignee":{"id":2967854,"username":"rpereira2","name":"Reuben Pereira","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2967854/avatar.png","web_url":"https://gitlab.com/rpereira2"},"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1815","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":17,"completed_count":13},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/1815","notes":"https://gitlab.com/api/v4/projects/2670515/issues/1815/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/1815/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#1815","relative":"#1815","full":"gitlab-org/customers-gitlab-com#1815"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":69811820,"iid":1808,"project_id":2670515,"title":"Verify Pajamas Update: Portal \"Manage Purchases/Add More Seats\" Page","description":"This is a follow-up to #954, to verify it's working as expected.\n\n@amandarueda has these notes:\n\n\u003e I found two issues:\n\u003e \n\u003e 1. The remaining % appears to be wrong. In the example I've used, the start date is May 6th, so there should be about 10 months of the subscription left, but the % displayed is 17%.\n\u003e 1. The amount being charged is definitely off. Not sure if this is related to what @rhardarson posted?\n\u003e \n\u003e Here's a video of my test: https://www.loom.com/share/d69935f071664d69a756d58f1bdbec51","state":"closed","created_at":"2020-08-13T16:54:18.169Z","updated_at":"2021-10-28T14:09:10.828Z","closed_at":"2020-09-02T11:42:58.476Z","closed_by":{"id":127064,"username":"aalakkad","name":"Ammar Alakkad","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ecc1130ce340f5080afd8f2c9962948a?s=80\u0026d=identicon","web_url":"https://gitlab.com/aalakkad"},"labels":["devops::fulfillment","devops::growth","frontend","missed:13.3","section::growth","type::maintenance","workflow::production"],"milestone":{"id":1233753,"iid":51,"group_id":9970,"title":"13.4","description":"https://about.gitlab.com/releases/2020/09/22/gitlab-13-4-released/","state":"closed","created_at":"2020-04-09T17:39:21.662Z","updated_at":"2022-04-13T14:50:33.769Z","due_date":"2020-09-17","start_date":"2020-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/51"},"assignees":[{"id":127064,"username":"aalakkad","name":"Ammar Alakkad","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ecc1130ce340f5080afd8f2c9962948a?s=80\u0026d=identicon","web_url":"https://gitlab.com/aalakkad"}],"author":{"id":127064,"username":"aalakkad","name":"Ammar Alakkad","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ecc1130ce340f5080afd8f2c9962948a?s=80\u0026d=identicon","web_url":"https://gitlab.com/aalakkad"},"type":"ISSUE","assignee":{"id":127064,"username":"aalakkad","name":"Ammar Alakkad","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ecc1130ce340f5080afd8f2c9962948a?s=80\u0026d=identicon","web_url":"https://gitlab.com/aalakkad"},"user_notes_count":19,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1808","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/1808","notes":"https://gitlab.com/api/v4/projects/2670515/issues/1808/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/1808/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#1808","relative":"#1808","full":"gitlab-org/customers-gitlab-com#1808"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":1886,"epic":{"id":12071,"iid":1886,"title":"[Pajamas][UX] Portal Pages Redesigns","url":"/groups/gitlab-org/-/epics/1886","group_id":9970,"human_readable_end_date":"Nov 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":69776681,"iid":1807,"project_id":2670515,"title":"Move Zuora callback related logic into a Job","description":"### Problem\nIn the context of the Subscription Portal, we want to move Zuora interactions to jobs whenever asynchronous execution is a possibility.\n\n### Proposal\nMove the logic that executes on `ZuoraCallbacksController#subscription_update` to a job.\n\n### Result\nWhenever a callout happens from Zuora regarding a subscription update: Amendments, New Subscriptions, Refunds.\nInstead of executing the `subscription_update` logic inline we will enqueue a Job that will take care of the further required:\n- Zuora queries\n- Gitlab sync\n\n### How will we measure success?\n- We expect to see more successful codes in the Zuora Notification Callout History (meaning the Jobs have been enqueued on our end)\n- We will have more control on retries for the sync to happen if it is on our end.","state":"closed","created_at":"2020-08-12T21:02:08.617Z","updated_at":"2021-08-30T20:56:53.788Z","closed_at":"2021-08-30T20:56:53.773Z","closed_by":{"id":5667561,"username":"vshumilo","name":"Vladlena Shumilo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08dfa82785d130c151ab9e21caeab4e3?s=80\u0026d=identicon","web_url":"https://gitlab.com/vshumilo"},"labels":["[deprecated] Category:Provision","[deprecated] üçé","auto closed","auto updated","backend","devops::fulfillment","group::provision","maintenance::refactor","section::fulfillment"],"milestone":{"id":1212252,"iid":48,"group_id":9970,"title":"Next 1-3 releases","description":"Issues which are not quite ready to schedule, but should be considered as part of the near-term roadmap.","state":"active","created_at":"2020-03-26T20:39:10.889Z","updated_at":"2020-03-26T20:39:10.889Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/48"},"assignees":[],"author":{"id":5667561,"username":"vshumilo","name":"Vladlena Shumilo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08dfa82785d130c151ab9e21caeab4e3?s=80\u0026d=identicon","web_url":"https://gitlab.com/vshumilo"},"type":"ISSUE","assignee":null,"user_notes_count":24,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1807","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/1807","notes":"https://gitlab.com/api/v4/projects/2670515/issues/1807/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/1807/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#1807","relative":"#1807","full":"gitlab-org/customers-gitlab-com#1807"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4204,"epic":{"id":94380,"iid":4204,"title":"Move calls to Zuora to background jobs","url":"/groups/gitlab-org/-/epics/4204","group_id":9970},"iteration":null,"health_status":null},{"id":69764567,"iid":1806,"project_id":2670515,"title":"Replace begin block with strong memoize","description":"Change blocks of code that are currently defined like:\n\n```ruby\n def z_subscription\n    @z_subscription ||= begin\n      Zuora::Subscription.active_find_by(name: callback_attrs[:subscription_name]) ||\n        Zuora::Subscription.find_by(id: callback_attrs[:subscription_id])\n    end\n  end\n```\n\nto this:\n\n```ruby\n def z_subscription\n    strong_memoize(:z_subscription) do\n      Zuora::Subscription.active_find_by(name: callback_attrs[:subscription_name]) ||\n        Zuora::Subscription.find_by(id: callback_attrs[:subscription_id])\n    end\n  end\n\n```\n\nThe following discussion from !1777 should be addressed:\n\n- [ ] @cwiesner started a [discussion](https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/1777#note_393904099):  (+3 comments)\n\n    \u003e **nitpick:** Since we're already touching this file, what do you think about replacing `begin` with `strong_memoize`? It was introduced a while back.","state":"closed","created_at":"2020-08-12T14:11:48.656Z","updated_at":"2021-10-28T14:09:20.956Z","closed_at":"2021-08-30T12:50:53.449Z","closed_by":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"labels":["[deprecated] üçé","auto closed","auto updated","devops::fulfillment","section::growth","type::maintenance","workflow::ready for development"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":3841241,"username":"dstull","name":"Doug Stull","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2d7b8532bca28f593b193b012841a40?s=80\u0026d=identicon","web_url":"https://gitlab.com/dstull"},"type":"ISSUE","assignee":null,"user_notes_count":5,"merge_requests_count":0,"upvotes":4,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1806","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/1806","notes":"https://gitlab.com/api/v4/projects/2670515/issues/1806/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/1806/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#1806","relative":"#1806","full":"gitlab-org/customers-gitlab-com#1806"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":69751347,"iid":1805,"project_id":2670515,"title":"Document Salesforce flow and understanding around it","description":"In regards to discussion happening around [this issue](https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/1758#note_394200743), it would really be nice to have a document dedicated around understanding of what Salesforce is and how customers portal is making use of it. \n\nThis include understanding as how the Sales team is making use of it and also the flow happening from the customers portal to SF including the parameters send and the parameters received.","state":"closed","created_at":"2020-08-12T08:12:34.975Z","updated_at":"2022-02-28T17:06:25.647Z","closed_at":"2022-02-28T17:06:25.640Z","closed_by":{"id":1786152,"username":"gitlab-bot","name":"ü§ñ GitLab Bot ü§ñ","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1786152/avatar.png","web_url":"https://gitlab.com/gitlab-bot"},"labels":["[deprecated] üçé","auto closed","auto updated","devops::fulfillment","documentation","section::fulfillment","type::maintenance"],"milestone":null,"assignees":[],"author":{"id":4903695,"username":"shreyasagarwal","name":"Shreyas Agarwal","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d5b09dfe06a10d119c1b2043c43de680?s=80\u0026d=identicon","web_url":"https://gitlab.com/shreyasagarwal"},"type":"ISSUE","assignee":null,"user_notes_count":16,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1805","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/1805","notes":"https://gitlab.com/api/v4/projects/2670515/issues/1805/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/1805/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#1805","relative":"#1805","full":"gitlab-org/customers-gitlab-com#1805"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":69741982,"iid":1804,"project_id":2670515,"title":"Investigate Zuora callback failure","description":"### Problem\nZuora callbacks are failing and being logged in Sentry, and no action is take on them. This could result in other problems such as [CI minutes not being provisioned correctly](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1740)\n\n@djparker notes that we should return a HTTP body on failure because Zuora logs these responses.","state":"closed","created_at":"2020-08-11T23:02:51.911Z","updated_at":"2021-02-24T11:40:28.136Z","closed_at":"2020-10-12T16:14:04.326Z","closed_by":{"id":4903695,"username":"shreyasagarwal","name":"Shreyas Agarwal","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d5b09dfe06a10d119c1b2043c43de680?s=80\u0026d=identicon","web_url":"https://gitlab.com/shreyasagarwal"},"labels":["EntApp Ecosystem","EntApp Integration Work","customer","devops::fulfillment","group::provision","missed:13.4","workflow::production"],"milestone":{"id":1233754,"iid":52,"group_id":9970,"title":"13.5","description":"https://about.gitlab.com/releases/2020/10/22/gitlab-13-5-released/","state":"closed","created_at":"2020-04-09T17:39:21.990Z","updated_at":"2022-04-21T07:21:12.213Z","due_date":"2020-10-17","start_date":"2020-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/52"},"assignees":[{"id":4903695,"username":"shreyasagarwal","name":"Shreyas Agarwal","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d5b09dfe06a10d119c1b2043c43de680?s=80\u0026d=identicon","web_url":"https://gitlab.com/shreyasagarwal"}],"author":{"id":4415228,"username":"chris_baus","name":"Chris Baus","state":"blocked","avatar_url":"https://secure.gravatar.com/avatar/59e5568c2f6bb8bb7818b22cc5cd15b1?s=80\u0026d=identicon","web_url":"https://gitlab.com/chris_baus"},"type":"ISSUE","assignee":{"id":4903695,"username":"shreyasagarwal","name":"Shreyas Agarwal","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d5b09dfe06a10d119c1b2043c43de680?s=80\u0026d=identicon","web_url":"https://gitlab.com/shreyasagarwal"},"user_notes_count":27,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1804","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/1804","notes":"https://gitlab.com/api/v4/projects/2670515/issues/1804/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/1804/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#1804","relative":"#1804","full":"gitlab-org/customers-gitlab-com#1804"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":69633208,"iid":1802,"project_id":2670515,"title":"Migrate feature flags to new version","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n### Problem\n\nWe've got ~20 [feature flags active now](https://gitlab.com/gitlab-org/customers-gitlab-com/-/feature_flags) which will be set to read-only as of 13.4\n\nFor example: https://gitlab.com/gitlab-org/customers-gitlab-com/-/feature_flags/19/edit\n\n![image](/uploads/e23eab610f502c4837f21541129ed1a0/image.png)\n\n### Proposal\n\nMigrate our feature flags to the new shiny feature flags :)\n\nIt'll be a bit of manual process. To minimize risk we can adopt this pattern @ogolowinski suggested\n\n```\nI have a flag \"A\", create new flag \"new_A\". Verify \"new_A\" is correct. Delete old flag \"A\", Rename \"new_A to \"A\".\n```","state":"closed","created_at":"2020-08-10T14:07:12.356Z","updated_at":"2020-08-27T09:19:37.541Z","closed_at":"2020-08-27T09:19:37.493Z","closed_by":{"id":4430316,"username":"rhardarson","name":"Ragnar Hardarson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4430316/avatar.png","web_url":"https://gitlab.com/rhardarson"},"labels":["devops::fulfillment","devops::growth"],"milestone":{"id":1233753,"iid":51,"group_id":9970,"title":"13.4","description":"https://about.gitlab.com/releases/2020/09/22/gitlab-13-4-released/","state":"closed","created_at":"2020-04-09T17:39:21.662Z","updated_at":"2022-04-13T14:50:33.769Z","due_date":"2020-09-17","start_date":"2020-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/51"},"assignees":[{"id":4430316,"username":"rhardarson","name":"Ragnar Hardarson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4430316/avatar.png","web_url":"https://gitlab.com/rhardarson"}],"author":{"id":4430316,"username":"rhardarson","name":"Ragnar Hardarson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4430316/avatar.png","web_url":"https://gitlab.com/rhardarson"},"type":"ISSUE","assignee":{"id":4430316,"username":"rhardarson","name":"Ragnar Hardarson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4430316/avatar.png","web_url":"https://gitlab.com/rhardarson"},"user_notes_count":16,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1802","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/1802","notes":"https://gitlab.com/api/v4/projects/2670515/issues/1802/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/1802/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#1802","relative":"#1802","full":"gitlab-org/customers-gitlab-com#1802"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":69631967,"iid":1801,"project_id":2670515,"title":"Add documentation for namespace change of a subscription","description":"Add missing documentation about the conditions and scenario breakdown for the namespace change of a subscription. This is a follow-up for https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1549.","state":"closed","created_at":"2020-08-10T13:45:40.780Z","updated_at":"2020-10-14T14:08:54.596Z","closed_at":"2020-08-20T07:09:03.799Z","closed_by":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"labels":["backend","devops::fulfillment","documentation","group::provision","section::fulfillment","workflow::production"],"milestone":{"id":1233753,"iid":51,"group_id":9970,"title":"13.4","description":"https://about.gitlab.com/releases/2020/09/22/gitlab-13-4-released/","state":"closed","created_at":"2020-04-09T17:39:21.662Z","updated_at":"2022-04-13T14:50:33.769Z","due_date":"2020-09-17","start_date":"2020-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/51"},"assignees":[{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"}],"author":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"type":"ISSUE","assignee":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1801","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/1801","notes":"https://gitlab.com/api/v4/projects/2670515/issues/1801/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/1801/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#1801","relative":"#1801","full":"gitlab-org/customers-gitlab-com#1801"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":69615513,"iid":1800,"project_id":2670515,"title":"Sync with Zuora's local product data during deployment","description":"After !1762 is merged, Zuora's product data can be cached locally to avoid API calls. Currently it is done manually by asking someone with production console access.\n\nSince currently a refresh would also require a server restart, we should trigger the refresh during deployment.\n\n- [ ] @jameslopez started a [discussion](https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/1762#note_393098608):  (+2 comments)","state":"closed","created_at":"2020-08-10T08:45:56.628Z","updated_at":"2021-10-28T14:09:28.932Z","closed_at":"2021-03-08T17:48:06.070Z","closed_by":{"id":8110789,"username":"tgolubeva","name":"Tatyana Golubeva","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8110789/avatar.png","web_url":"https://gitlab.com/tgolubeva"},"labels":["Category:Purchase","[deprecated] üçé","backend","devops::fulfillment","group::purchase","section::fulfillment","type::maintenance"],"milestone":null,"assignees":[],"author":{"id":1986039,"username":"lulalala","name":"Mark Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1986039/avatar.png","web_url":"https://gitlab.com/lulalala"},"type":"ISSUE","assignee":null,"user_notes_count":6,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1800","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/1800","notes":"https://gitlab.com/api/v4/projects/2670515/issues/1800/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/1800/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#1800","relative":"#1800","full":"gitlab-org/customers-gitlab-com#1800"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5563,"epic":{"id":222747,"iid":5563,"title":"Sync with Zuora's local product data during deployment","url":"/groups/gitlab-org/-/epics/5563","group_id":9970,"human_readable_end_date":"Sep 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":69565501,"iid":1799,"project_id":2670515,"title":"Validation error on Gitlab::Namespace::UpdatePlanInfoService","description":"### Problem\n\nThere is a validation error that's happening in some scenarios when this service is invoked and it's affecting the sync to GL.com.\n\nSentry:\n\nhttps://sentry.gitlab.net/gitlab/customersgitlabcom/issues/1712530/events\n\nhttps://sentry.gitlab.net/gitlab/customersgitlabcom/issues/1713125/events\n\nREF: https://gitlab.com/gitlab-com/support/internal-requests/-/issues/2868\n\n### Proposal\n\nProvide a fix.\n\n### Result\n\nThe sync to GL.com can be completed\n\n### Next steps (if any)\n\n### How will we measure success?","state":"closed","created_at":"2020-08-07T22:48:09.670Z","updated_at":"2020-08-11T16:36:05.283Z","closed_at":"2020-08-11T16:36:05.248Z","closed_by":{"id":280339,"username":"rdavila","name":"Rub√©n D√°vila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/280339/avatar.png","web_url":"https://gitlab.com/rdavila"},"labels":["Unplanned","devops::fulfillment","devops::growth","type::bug","workflow::production"],"milestone":{"id":1233752,"iid":50,"group_id":9970,"title":"13.3","description":"https://about.gitlab.com/releases/2020/08/22/gitlab-13-3-released/","state":"closed","created_at":"2020-04-09T17:39:21.090Z","updated_at":"2022-04-13T14:50:18.976Z","due_date":"2020-08-17","start_date":"2020-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/50"},"assignees":[{"id":280339,"username":"rdavila","name":"Rub√©n D√°vila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/280339/avatar.png","web_url":"https://gitlab.com/rdavila"}],"author":{"id":280339,"username":"rdavila","name":"Rub√©n D√°vila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/280339/avatar.png","web_url":"https://gitlab.com/rdavila"},"type":"ISSUE","assignee":{"id":280339,"username":"rdavila","name":"Rub√©n D√°vila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/280339/avatar.png","web_url":"https://gitlab.com/rdavila"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1799","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/1799","notes":"https://gitlab.com/api/v4/projects/2670515/issues/1799/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/1799/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#1799","relative":"#1799","full":"gitlab-org/customers-gitlab-com#1799"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":69555952,"iid":1796,"project_id":2670515,"title":"Improve Digital Signature raise clauses","description":"The following discussion from !1766 should be addressed:\n\n- [ ] @dstull started a [discussion](https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/1766#note_391997523):  (+1 comment)\n\n    \u003e this area could likely benefit in a diff MR from some methods made around these conditionals to make them more readable...  something like\n    \u003e \n    \u003e ```ruby\n    \u003e def invalid_page_id?\n    \u003e   page_id != payment_page_id(payment_type)\n    \u003e end\n    \u003e ```","state":"closed","created_at":"2020-08-07T19:15:29.929Z","updated_at":"2022-07-26T00:58:38.928Z","closed_at":"2020-08-17T16:39:14.112Z","closed_by":{"id":3841241,"username":"dstull","name":"Doug Stull","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2d7b8532bca28f593b193b012841a40?s=80\u0026d=identicon","web_url":"https://gitlab.com/dstull"},"labels":["devops::growth","group::acquisition","section::growth","type::maintenance","workflow::in review"],"milestone":{"id":1233752,"iid":50,"group_id":9970,"title":"13.3","description":"https://about.gitlab.com/releases/2020/08/22/gitlab-13-3-released/","state":"closed","created_at":"2020-04-09T17:39:21.090Z","updated_at":"2022-04-13T14:50:18.976Z","due_date":"2020-08-17","start_date":"2020-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/50"},"assignees":[{"id":3841241,"username":"dstull","name":"Doug Stull","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2d7b8532bca28f593b193b012841a40?s=80\u0026d=identicon","web_url":"https://gitlab.com/dstull"}],"author":{"id":3841241,"username":"dstull","name":"Doug Stull","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2d7b8532bca28f593b193b012841a40?s=80\u0026d=identicon","web_url":"https://gitlab.com/dstull"},"type":"ISSUE","assignee":{"id":3841241,"username":"dstull","name":"Doug Stull","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2d7b8532bca28f593b193b012841a40?s=80\u0026d=identicon","web_url":"https://gitlab.com/dstull"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1796","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/1796","notes":"https://gitlab.com/api/v4/projects/2670515/issues/1796/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/1796/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#1796","relative":"#1796","full":"gitlab-org/customers-gitlab-com#1796"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":69544893,"iid":1795,"project_id":2670515,"title":"Resolve misspelling of GitLab","description":"The following discussion from !1766 should be addressed:\n\n- [ ] @a_akgun started a [discussion](https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/1766#note_392225696):  (+1 comment)\n\n    \u003e @dstull there's a typo here  `eligible_to_purchase_gilab_plan`, for another issue.","state":"closed","created_at":"2020-08-07T12:55:18.578Z","updated_at":"2022-07-26T00:58:38.764Z","closed_at":"2020-08-17T16:38:28.836Z","closed_by":{"id":3841241,"username":"dstull","name":"Doug Stull","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2d7b8532bca28f593b193b012841a40?s=80\u0026d=identicon","web_url":"https://gitlab.com/dstull"},"labels":["devops::growth","group::acquisition","section::growth","type::maintenance","workflow::in review"],"milestone":{"id":1233752,"iid":50,"group_id":9970,"title":"13.3","description":"https://about.gitlab.com/releases/2020/08/22/gitlab-13-3-released/","state":"closed","created_at":"2020-04-09T17:39:21.090Z","updated_at":"2022-04-13T14:50:18.976Z","due_date":"2020-08-17","start_date":"2020-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/50"},"assignees":[{"id":3841241,"username":"dstull","name":"Doug Stull","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2d7b8532bca28f593b193b012841a40?s=80\u0026d=identicon","web_url":"https://gitlab.com/dstull"}],"author":{"id":3841241,"username":"dstull","name":"Doug Stull","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2d7b8532bca28f593b193b012841a40?s=80\u0026d=identicon","web_url":"https://gitlab.com/dstull"},"type":"ISSUE","assignee":{"id":3841241,"username":"dstull","name":"Doug Stull","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2d7b8532bca28f593b193b012841a40?s=80\u0026d=identicon","web_url":"https://gitlab.com/dstull"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1795","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/1795","notes":"https://gitlab.com/api/v4/projects/2670515/issues/1795/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/1795/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#1795","relative":"#1795","full":"gitlab-org/customers-gitlab-com#1795"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":69534443,"iid":1794,"project_id":2670515,"title":"Customer cannot make new purchases after subscription was refunded","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"bug\" label in relevant trackers:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n- https://gitlab.com/gitlab-org/customers-gitlab-com/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n\nDo not include confidential information!\n---\u003e\n\n### Summary\n\nCustomer was trying to make a new purchase but got Unknown error message.\n\n### Steps to reproduce\n\n1. Purchase a subscription\n1. Get the subscription refunded\n1. Try to purchase a new subscription ‚Üí see the error\n\n### What is the current *bug* behavior?\n\nCustomer cannot purchase new subscription when the previous subscription was refunded\n\n### What is the expected *correct* behavior?\n\nCustomer can make new purchase regardless of refunded ones.\n\n### Relevant logs and/or screenshots\n\n![Error](/uploads/08a38bd7a9b5d6a22c15e16a3d6cfc59/Error.png)\n\n### Workarounds\n\n(Ways to get around the issue)\n\n### Reported examples\n\n1. https://gitlab.zendesk.com/agent/tickets/168006; Sentry event log: https://sentry.gitlab.net/gitlab/customersgitlabcom/issues/1330530/events/31962262/ ; SFDC: https://gitlab.my.salesforce.com/0016100001SrpL6\n1.\n1.\n\n\u003c!---\nPlease add both severity and priority level according to: https://docs.gitlab.com/ee/development/contributing/issue_workflow.html#severity-labels\n---\u003e","state":"closed","created_at":"2020-08-07T07:12:53.630Z","updated_at":"2020-10-27T04:54:35.763Z","closed_at":"2020-08-12T19:36:51.872Z","closed_by":{"id":5667561,"username":"vshumilo","name":"Vladlena Shumilo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08dfa82785d130c151ab9e21caeab4e3?s=80\u0026d=identicon","web_url":"https://gitlab.com/vshumilo"},"labels":["customer","devops::fulfillment","type::bug"],"milestone":{"id":1233752,"iid":50,"group_id":9970,"title":"13.3","description":"https://about.gitlab.com/releases/2020/08/22/gitlab-13-3-released/","state":"closed","created_at":"2020-04-09T17:39:21.090Z","updated_at":"2022-04-13T14:50:18.976Z","due_date":"2020-08-17","start_date":"2020-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/50"},"assignees":[{"id":5667561,"username":"vshumilo","name":"Vladlena Shumilo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08dfa82785d130c151ab9e21caeab4e3?s=80\u0026d=identicon","web_url":"https://gitlab.com/vshumilo"}],"author":{"id":786864,"username":"rotanak","name":"Sokunrotanak Srey (Rotanak)","state":"active","avatar_url":"https://secure.gravatar.com/avatar/9e138f6598fa362b95f725febc80087e?s=80\u0026d=identicon","web_url":"https://gitlab.com/rotanak"},"type":"ISSUE","assignee":{"id":5667561,"username":"vshumilo","name":"Vladlena Shumilo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08dfa82785d130c151ab9e21caeab4e3?s=80\u0026d=identicon","web_url":"https://gitlab.com/vshumilo"},"user_notes_count":16,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1794","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/1794","notes":"https://gitlab.com/api/v4/projects/2670515/issues/1794/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/1794/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#1794","relative":"#1794","full":"gitlab-org/customers-gitlab-com#1794"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":69531507,"iid":1793,"project_id":2670515,"title":"Check if make_default action is used, otherwise delete it","description":"Remove `make_default` method/endpoint from [`payment_methods_controller.rb`](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/staging/app/controllers/payment_methods_controller.rb) with any other references, since it's no longer in use.\n\nThe following started on !1729:\n\nI see there's still an option to set the [Default Payment](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/staging/app/frontend/javascripts/payment_methods/edit_cc.vue#L162), and the [`update` api ](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/staging/app/controllers/payment_methods_controller.rb#L87) probably handles it. Meaning we *may* not require the `make_default` action anymore, however it might be a good idea to get it cross-checked.","state":"closed","created_at":"2020-08-07T04:41:23.091Z","updated_at":"2021-08-12T04:28:23.972Z","closed_at":"2021-08-12T04:28:23.958Z","closed_by":{"id":1986039,"username":"lulalala","name":"Mark Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1986039/avatar.png","web_url":"https://gitlab.com/lulalala"},"labels":["[deprecated] Category:Provision","auto updated","backend","devops::fulfillment","group::provision","maintenance::refactor","section::fulfillment","workflow::in review"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[{"id":1986039,"username":"lulalala","name":"Mark Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1986039/avatar.png","web_url":"https://gitlab.com/lulalala"}],"author":{"id":127064,"username":"aalakkad","name":"Ammar Alakkad","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ecc1130ce340f5080afd8f2c9962948a?s=80\u0026d=identicon","web_url":"https://gitlab.com/aalakkad"},"type":"ISSUE","assignee":{"id":1986039,"username":"lulalala","name":"Mark Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1986039/avatar.png","web_url":"https://gitlab.com/lulalala"},"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1793","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/1793","notes":"https://gitlab.com/api/v4/projects/2670515/issues/1793/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/1793/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#1793","relative":"#1793","full":"gitlab-org/customers-gitlab-com#1793"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":69509013,"iid":1792,"project_id":2670515,"title":"Resolve Exceptions in RuboCop todo","description":"All items that have exceptions should be resolved/inline disabled if not a light change, and rule removed from todo or moved to `.rubocop.yml` file if not default enabled/configured.\n\n### Problem\n\nCurrently many rules have exceptions in the `.rubocop_todo.yml`.\n\n### Proposal\n\n- Resolve those exceptions.\n- Double check the [Style/RedundantFreeze](https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/1799#note_397773621) items\n\n### Result\n\nBetter compliance with our style guide.\n\n### Next steps (if any)\n\n### How will we measure success?\n\nSmoother review process and more standard/code written by the same hand","state":"closed","created_at":"2020-08-06T13:40:09.584Z","updated_at":"2022-07-26T00:58:38.258Z","closed_at":"2020-10-16T20:26:42.072Z","closed_by":{"id":3841241,"username":"dstull","name":"Doug Stull","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2d7b8532bca28f593b193b012841a40?s=80\u0026d=identicon","web_url":"https://gitlab.com/dstull"},"labels":["devops::growth","group::acquisition","maintenance::workflow","section::growth","static code analysis","type::maintenance","workflow::in review"],"milestone":{"id":1233754,"iid":52,"group_id":9970,"title":"13.5","description":"https://about.gitlab.com/releases/2020/10/22/gitlab-13-5-released/","state":"closed","created_at":"2020-04-09T17:39:21.990Z","updated_at":"2022-04-21T07:21:12.213Z","due_date":"2020-10-17","start_date":"2020-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/52"},"assignees":[{"id":3841241,"username":"dstull","name":"Doug Stull","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2d7b8532bca28f593b193b012841a40?s=80\u0026d=identicon","web_url":"https://gitlab.com/dstull"}],"author":{"id":3841241,"username":"dstull","name":"Doug Stull","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2d7b8532bca28f593b193b012841a40?s=80\u0026d=identicon","web_url":"https://gitlab.com/dstull"},"type":"ISSUE","assignee":{"id":3841241,"username":"dstull","name":"Doug Stull","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2d7b8532bca28f593b193b012841a40?s=80\u0026d=identicon","web_url":"https://gitlab.com/dstull"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1792","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/1792","notes":"https://gitlab.com/api/v4/projects/2670515/issues/1792/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/1792/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#1792","relative":"#1792","full":"gitlab-org/customers-gitlab-com#1792"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":69508879,"iid":1791,"project_id":2670515,"title":"Resolve disabled RuboCop rules in todo file","description":"Enable/resolve the exceptions with these disabled rules/cops:\n\n- [x] `Layout/ArgumentAlignment` !1887 \n- [x] `Layout/FirstHashElementIndentation` !1798 \n- [x] `RSpec/ContextWording` !1867 \n- [x] `RSpec/EmptyLineAfterLetBlock` !1765\n- [x] `RSpec/ExpectInHook` !1879 \n- [x] `Style/FrozenStringLiteralComment` !1799 \n- [x] `Style/GuardClause` !1766 \n- [x] `Style/IfUnlessModifier` !1772\n- [x] `Style/TrailingCommaInArguments` !1866 \n- [x] `Style/TrailingCommaInHashLiteral` !1878 \n\n### Problem\n\nCurrently many rules are disabled due to too many exceptions in the `.rubocop_todo.yml`.\n\n### Proposal\n\nResolve those exceptions and remove the entire cop/entry out of the `.rubocop_todo.yml` so that it will follow default configuration of being enabled.\n\n### Result\n\nBetter compliance with our style guide.\n\n### Next steps (if any)\n\n### How will we measure success?\n\nSmoother review process and more standard/code written by the same hand","state":"closed","created_at":"2020-08-06T13:37:18.278Z","updated_at":"2022-07-26T00:58:38.099Z","closed_at":"2020-09-14T14:23:18.382Z","closed_by":{"id":3841241,"username":"dstull","name":"Doug Stull","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2d7b8532bca28f593b193b012841a40?s=80\u0026d=identicon","web_url":"https://gitlab.com/dstull"},"labels":["backend","devops::growth","group::acquisition","maintenance::refactor","maintenance::workflow","section::growth","static code analysis","type::maintenance","workflow::in review"],"milestone":{"id":1233753,"iid":51,"group_id":9970,"title":"13.4","description":"https://about.gitlab.com/releases/2020/09/22/gitlab-13-4-released/","state":"closed","created_at":"2020-04-09T17:39:21.662Z","updated_at":"2022-04-13T14:50:33.769Z","due_date":"2020-09-17","start_date":"2020-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/51"},"assignees":[{"id":3841241,"username":"dstull","name":"Doug Stull","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2d7b8532bca28f593b193b012841a40?s=80\u0026d=identicon","web_url":"https://gitlab.com/dstull"}],"author":{"id":3841241,"username":"dstull","name":"Doug Stull","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2d7b8532bca28f593b193b012841a40?s=80\u0026d=identicon","web_url":"https://gitlab.com/dstull"},"type":"ISSUE","assignee":{"id":3841241,"username":"dstull","name":"Doug Stull","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2d7b8532bca28f593b193b012841a40?s=80\u0026d=identicon","web_url":"https://gitlab.com/dstull"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1791","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":10,"completed_count":10},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/1791","notes":"https://gitlab.com/api/v4/projects/2670515/issues/1791/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/1791/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#1791","relative":"#1791","full":"gitlab-org/customers-gitlab-com#1791"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":69447614,"iid":1787,"project_id":2670515,"title":"Our exisiting CI jobs do not run alongside static security checks - Confirm if this is intended","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n### Problem\n\nRaised in [this slack thread](https://gitlab.slack.com/archives/CNLHTE457/p1596480844131600)\n\nWe're seeing SAST checks run in their own pipeline, and the jobs we've defined in `.gitlab-ci.yml` run in their own.\n\nSome of the pipeline runs are flagged \"Detached state\" and we probably do not want this :thinking: \n\n* https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/1754/pipelines#c77fa4e671717bfa2a920ffed00535f301dd5a4f\n\n\n![image](/uploads/596b95c5d170680535b504e2bc6cbbbf/image.png)","state":"closed","created_at":"2020-08-05T06:20:41.127Z","updated_at":"2022-07-26T00:58:37.753Z","closed_at":"2020-10-06T19:03:57.389Z","closed_by":{"id":3841241,"username":"dstull","name":"Doug Stull","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2d7b8532bca28f593b193b012841a40?s=80\u0026d=identicon","web_url":"https://gitlab.com/dstull"},"labels":["devops::growth","group::acquisition","maintenance::pipelines","section::growth","type::maintenance","workflow::in review"],"milestone":{"id":1233754,"iid":52,"group_id":9970,"title":"13.5","description":"https://about.gitlab.com/releases/2020/10/22/gitlab-13-5-released/","state":"closed","created_at":"2020-04-09T17:39:21.990Z","updated_at":"2022-04-21T07:21:12.213Z","due_date":"2020-10-17","start_date":"2020-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/52"},"assignees":[{"id":3841241,"username":"dstull","name":"Doug Stull","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2d7b8532bca28f593b193b012841a40?s=80\u0026d=identicon","web_url":"https://gitlab.com/dstull"}],"author":{"id":4430316,"username":"rhardarson","name":"Ragnar Hardarson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4430316/avatar.png","web_url":"https://gitlab.com/rhardarson"},"type":"ISSUE","assignee":{"id":3841241,"username":"dstull","name":"Doug Stull","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2d7b8532bca28f593b193b012841a40?s=80\u0026d=identicon","web_url":"https://gitlab.com/dstull"},"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1787","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/1787","notes":"https://gitlab.com/api/v4/projects/2670515/issues/1787/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/1787/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#1787","relative":"#1787","full":"gitlab-org/customers-gitlab-com#1787"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":69416205,"iid":1785,"project_id":2670515,"title":"Follow-up: add support link to plain text alerts","description":"## Problem\n\nWe're using plain text as alert, where we tell the users to \"contact support\" without any link to guide them to the right direction.\n\n## Proposal \n\nUpdate all plain \"contact support\" alerts so those two words would link to: `https://about.gitlab.com/support/`.\n\nThe idea from @nicolasdular started on this [discussion](https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/1741#note_388200342).\n\nWe could be placing the link in a constant for easy reuse.\n\n/cc @amandarueda @chris_baus for prioritization and scheduling.","state":"closed","created_at":"2020-08-04T15:35:53.032Z","updated_at":"2022-04-19T17:37:33.727Z","closed_at":"2022-04-19T17:37:33.712Z","closed_by":{"id":4430316,"username":"rhardarson","name":"Ragnar Hardarson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4430316/avatar.png","web_url":"https://gitlab.com/rhardarson"},"labels":["Category:Purchase","[deprecated] üçé","auto updated","automation:prevent-auto-close","devops::fulfillment","frontend","group::purchase","missed:14.9","onboarding","section::fulfillment","type::feature","workflow::verification"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":10770603,"username":"lmeckley","name":"Laura Meckley","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10770603/avatar.png","web_url":"https://gitlab.com/lmeckley"}],"author":{"id":127064,"username":"aalakkad","name":"Ammar Alakkad","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ecc1130ce340f5080afd8f2c9962948a?s=80\u0026d=identicon","web_url":"https://gitlab.com/aalakkad"},"type":"ISSUE","assignee":{"id":10770603,"username":"lmeckley","name":"Laura Meckley","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10770603/avatar.png","web_url":"https://gitlab.com/lmeckley"},"user_notes_count":7,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1785","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/1785","notes":"https://gitlab.com/api/v4/projects/2670515/issues/1785/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/1785/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#1785","relative":"#1785","full":"gitlab-org/customers-gitlab-com#1785"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":69375189,"iid":1781,"project_id":2670515,"title":"Perform BulkDownloadInvoice  on the 1st day of the month","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n### Proposal\n\nUpdate the monthly invoice download to be on the 1st day of the month instead of the 3rd.\n\n### Result\n\nMonthly invoices are sent on the 1st of the month.\n\n### Next steps (if any)\n\n### How will we measure success?","state":"closed","created_at":"2020-08-03T17:45:52.706Z","updated_at":"2020-10-14T14:08:55.457Z","closed_at":"2020-09-18T17:49:38.040Z","closed_by":{"id":4717243,"username":"a_luna","name":"Amparo Luna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4717243/avatar.png","web_url":"https://gitlab.com/a_luna"},"labels":["Deliverable","backend","devops::fulfillment","group::provision","section::fulfillment","workflow::production"],"milestone":{"id":1233753,"iid":51,"group_id":9970,"title":"13.4","description":"https://about.gitlab.com/releases/2020/09/22/gitlab-13-4-released/","state":"closed","created_at":"2020-04-09T17:39:21.662Z","updated_at":"2022-04-13T14:50:33.769Z","due_date":"2020-09-17","start_date":"2020-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/51"},"assignees":[{"id":4717243,"username":"a_luna","name":"Amparo Luna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4717243/avatar.png","web_url":"https://gitlab.com/a_luna"}],"author":{"id":4717243,"username":"a_luna","name":"Amparo Luna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4717243/avatar.png","web_url":"https://gitlab.com/a_luna"},"type":"ISSUE","assignee":{"id":4717243,"username":"a_luna","name":"Amparo Luna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4717243/avatar.png","web_url":"https://gitlab.com/a_luna"},"user_notes_count":12,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1781","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/1781","notes":"https://gitlab.com/api/v4/projects/2670515/issues/1781/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/1781/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#1781","relative":"#1781","full":"gitlab-org/customers-gitlab-com#1781"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":69312844,"iid":1779,"project_id":2670515,"title":"Handle zuora callbacks from \"Professional Services\" Subscriptions","description":"### Problem\n\nThere were reports of 500 errors in `ZuoraCallbacksController#subscription_update` requests.  It turns out these all appear to the from \"Professional Services\" subscriptions.\n\nRelated info:\n- [Slack thread](https://gitlab.slack.com/archives/CMJ8JR0RH/p1596224122000000)\n- [Sentry error](https://sentry.gitlab.net/gitlab/customersgitlabcom/issues/1700065/events/7be3912a293d48daa1a557b436da214f/)\n- [Zuora Account page with callout errors](https://www.zuora.com/apps/CustomerAccount.do?method=view\u0026id=2c92a0fd71c96bdb0171cc6f139f36e6)\n\n### Proposal\n\nI don't believe these errors are cause for alarm, but we should confirm.  If so, we should handle subscriptions of this type without throwing errors.","state":"closed","created_at":"2020-07-31T20:01:14.039Z","updated_at":"2022-07-18T21:04:09.518Z","closed_at":"2022-07-13T21:39:31.524Z","closed_by":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"labels":["[deprecated] Category:Provision","[deprecated] üçé","auto updated","automation:prevent-auto-close","backend","devops::fulfillment","group::provision","section::fulfillment","severity::3","type::bug","workflow::ready for development"],"milestone":null,"assignees":[],"author":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"type":"ISSUE","assignee":null,"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1779","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/1779","notes":"https://gitlab.com/api/v4/projects/2670515/issues/1779/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/1779/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#1779","relative":"#1779","full":"gitlab-org/customers-gitlab-com#1779"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":69236063,"iid":1774,"project_id":2670515,"title":"Follow-up: remove .gl-top-4 from utilities.scss","description":"### Problem\n\nWe introduced a new utility class `.gl-top-4` in !1741, also sent a [merge request](https://gitlab.com/gitlab-org/gitlab-ui/-/merge_requests/1612) to gitlab-ui to add the class to the main project so we could reuse it.\n\nOnce the gitlab-ui MR is merged, we'd have 2 definitions for the same class.\n\n### Proposal\n\nDelete the class from `app/frontend/stylesheets/_utilities.scss`.\n\n### Result\n\n### Next steps (if any)\n\nSchedule.\n\n### How will we measure success?","state":"closed","created_at":"2020-07-30T14:21:42.021Z","updated_at":"2020-08-12T09:16:53.208Z","closed_at":"2020-08-12T09:16:53.134Z","closed_by":{"id":127064,"username":"aalakkad","name":"Ammar Alakkad","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ecc1130ce340f5080afd8f2c9962948a?s=80\u0026d=identicon","web_url":"https://gitlab.com/aalakkad"},"labels":["devops::fulfillment","devops::growth","frontend","maintenance::refactor","workflow::verification"],"milestone":{"id":1212252,"iid":48,"group_id":9970,"title":"Next 1-3 releases","description":"Issues which are not quite ready to schedule, but should be considered as part of the near-term roadmap.","state":"active","created_at":"2020-03-26T20:39:10.889Z","updated_at":"2020-03-26T20:39:10.889Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/48"},"assignees":[{"id":127064,"username":"aalakkad","name":"Ammar Alakkad","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ecc1130ce340f5080afd8f2c9962948a?s=80\u0026d=identicon","web_url":"https://gitlab.com/aalakkad"}],"author":{"id":127064,"username":"aalakkad","name":"Ammar Alakkad","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ecc1130ce340f5080afd8f2c9962948a?s=80\u0026d=identicon","web_url":"https://gitlab.com/aalakkad"},"type":"ISSUE","assignee":{"id":127064,"username":"aalakkad","name":"Ammar Alakkad","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ecc1130ce340f5080afd8f2c9962948a?s=80\u0026d=identicon","web_url":"https://gitlab.com/aalakkad"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1774","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/1774","notes":"https://gitlab.com/api/v4/projects/2670515/issues/1774/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/1774/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#1774","relative":"#1774","full":"gitlab-org/customers-gitlab-com#1774"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":69105884,"iid":1767,"project_id":2670515,"title":"Ensure ordering of invoice items is consistent","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n### Problem\n\nUncovered in https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/1622#note_385785696\n\nOur backend gets a response from Zuora and relays `invoice_items` to the frontend. These `invoice_items` do not have a consistent order, which makes any comparison between individual items error prone.\n\n### Proposal\n\nSort `invoice_items` response on the backend or frontend.\n\n### Result\n\nConsistent response and calculations.","state":"closed","created_at":"2020-07-28T08:03:47.045Z","updated_at":"2020-08-18T12:34:13.391Z","closed_at":"2020-08-18T12:34:13.352Z","closed_by":{"id":4430316,"username":"rhardarson","name":"Ragnar Hardarson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4430316/avatar.png","web_url":"https://gitlab.com/rhardarson"},"labels":["Unplanned","devops::fulfillment","devops::growth","workflow::production"],"milestone":{"id":1233752,"iid":50,"group_id":9970,"title":"13.3","description":"https://about.gitlab.com/releases/2020/08/22/gitlab-13-3-released/","state":"closed","created_at":"2020-04-09T17:39:21.090Z","updated_at":"2022-04-13T14:50:18.976Z","due_date":"2020-08-17","start_date":"2020-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/50"},"assignees":[{"id":4430316,"username":"rhardarson","name":"Ragnar Hardarson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4430316/avatar.png","web_url":"https://gitlab.com/rhardarson"}],"author":{"id":4430316,"username":"rhardarson","name":"Ragnar Hardarson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4430316/avatar.png","web_url":"https://gitlab.com/rhardarson"},"type":"ISSUE","assignee":{"id":4430316,"username":"rhardarson","name":"Ragnar Hardarson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4430316/avatar.png","web_url":"https://gitlab.com/rhardarson"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1767","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/1767","notes":"https://gitlab.com/api/v4/projects/2670515/issues/1767/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/1767/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#1767","relative":"#1767","full":"gitlab-org/customers-gitlab-com#1767"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":69078939,"iid":1763,"project_id":2670515,"title":"Can't change namespace of Gold subscription to a Free group with Guest users","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n### Problem\nAs a potential (or past) Gold customer I might want to change the namespace of a subscription to a group on Free. If any Guest users are present, the customers application will bill me for the number of seats in `billable_users` regardless of the _target_ subscription level. In the case of Gold, Guest users should _not_ be charged.\n\nReproduction is hard because you need an existing subscription. \n\n#### What works\n\nThe following flow _works as expected_ on a new purchase from the billing page:\n- Create a new (free) group.\n- Add a guest user\n- Attempt a purchase of Gold, and note it will charge for the correct number of users.\n\n#### What doesn't work\nAttempting to change the namespace of an _existing_ subscription to a Free group does _not_ work correctly.\n\n\n### Proposal\nBuild the list of billable users based on the target subscription level, rather than the current subscription level. Mirror the logic in the new purchase flow.\n\n### Workaround\nRe-establishing a Gold trial restores the billable users count to what it should be and allows the subscription to be applied.","state":"closed","created_at":"2020-07-27T21:33:52.545Z","updated_at":"2021-02-19T19:43:16.381Z","closed_at":"2020-12-15T12:41:10.006Z","closed_by":{"id":4192493,"username":"ebaque","name":"Etienne Baqu√©","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4192493/avatar.png","web_url":"https://gitlab.com/ebaque"},"labels":["[deprecated] Category:Utilization","backend","customer","devops::fulfillment","group::utilization","priority::3","section::growth","type::bug","workflow::production"],"milestone":{"id":1233757,"iid":54,"group_id":9970,"title":"13.7","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:43:14.893Z","updated_at":"2022-04-13T14:51:12.240Z","due_date":"2020-12-17","start_date":"2020-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/54"},"assignees":[{"id":4192493,"username":"ebaque","name":"Etienne Baqu√©","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4192493/avatar.png","web_url":"https://gitlab.com/ebaque"}],"author":{"id":786106,"username":"lyle","name":"Lyle Kozloff","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f94534d0df4ebb24d5634eb42548d8b4?s=80\u0026d=identicon","web_url":"https://gitlab.com/lyle"},"type":"ISSUE","assignee":{"id":4192493,"username":"ebaque","name":"Etienne Baqu√©","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4192493/avatar.png","web_url":"https://gitlab.com/ebaque"},"user_notes_count":22,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1763","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/1763","notes":"https://gitlab.com/api/v4/projects/2670515/issues/1763/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/1763/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#1763","relative":"#1763","full":"gitlab-org/customers-gitlab-com#1763"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":68907358,"iid":1758,"project_id":2670515,"title":"Namespaces with paid plan can return nil","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n### Problem\n\nSeeing `namespaces_with_paid_plan: namespaces_with_paid_plan.map(\u0026:id).uniq` fail with `ActionView::Template::Error: undefined method `map' for nil:NilClass`\n\nhttps://sentry.gitlab.net/gitlab/customersgitlabcom/issues/1678514/?query=undefined%20method%20%60map%27\n\n### Proposal\n\nAdd a guard so we do not have a runtime error.\n\n### Result\n\n### Next steps (if any)\n\n### How will we measure success?","state":"closed","created_at":"2020-07-23T12:25:30.176Z","updated_at":"2020-09-10T12:10:20.604Z","closed_at":"2020-09-10T12:10:20.435Z","closed_by":{"id":4430316,"username":"rhardarson","name":"Ragnar Hardarson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4430316/avatar.png","web_url":"https://gitlab.com/rhardarson"},"labels":["[deprecated] üçé","devops::fulfillment","devops::growth","frontend","section::growth","type::bug","workflow::production"],"milestone":{"id":1233753,"iid":51,"group_id":9970,"title":"13.4","description":"https://about.gitlab.com/releases/2020/09/22/gitlab-13-4-released/","state":"closed","created_at":"2020-04-09T17:39:21.662Z","updated_at":"2022-04-13T14:50:33.769Z","due_date":"2020-09-17","start_date":"2020-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/51"},"assignees":[{"id":4430316,"username":"rhardarson","name":"Ragnar Hardarson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4430316/avatar.png","web_url":"https://gitlab.com/rhardarson"}],"author":{"id":4430316,"username":"rhardarson","name":"Ragnar Hardarson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4430316/avatar.png","web_url":"https://gitlab.com/rhardarson"},"type":"ISSUE","assignee":{"id":4430316,"username":"rhardarson","name":"Ragnar Hardarson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4430316/avatar.png","web_url":"https://gitlab.com/rhardarson"},"user_notes_count":14,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1758","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/1758","notes":"https://gitlab.com/api/v4/projects/2670515/issues/1758/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/1758/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#1758","relative":"#1758","full":"gitlab-org/customers-gitlab-com#1758"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":68348975,"iid":1736,"project_id":2670515,"title":"Follow-up from \"This fixes an issue of doing nothing\"","description":"We should double check if we're properly handling the preview mode here. At a first glance looks like we should access the key through a `Symbol`. For now, it's likely we're always ignoring the passed preview mode.\n\nThe following discussion from !1702 should be addressed:\n\n- [ ] @rdavila started a [discussion](https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/1702#note_382608503):  (+3 comments)\n\n    \u003e @jejacks0n can you please double check if we're getting the correct value by using a `String` instead of `Symbol` here? Ar a first glance looks like we should be using a `Symbol` here.","state":"closed","created_at":"2020-07-20T23:17:33.612Z","updated_at":"2022-02-28T17:06:30.468Z","closed_at":"2022-02-28T17:06:30.444Z","closed_by":{"id":1786152,"username":"gitlab-bot","name":"ü§ñ GitLab Bot ü§ñ","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1786152/avatar.png","web_url":"https://gitlab.com/gitlab-bot"},"labels":["[deprecated] üçé","auto closed","auto updated","devops::fulfillment","maintenance::refactor","section::fulfillment"],"milestone":null,"assignees":[],"author":{"id":280339,"username":"rdavila","name":"Rub√©n D√°vila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/280339/avatar.png","web_url":"https://gitlab.com/rdavila"},"type":"ISSUE","assignee":null,"user_notes_count":17,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1736","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/1736","notes":"https://gitlab.com/api/v4/projects/2670515/issues/1736/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/1736/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#1736","relative":"#1736","full":"gitlab-org/customers-gitlab-com#1736"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":68217831,"iid":1732,"project_id":2670515,"title":"Follow-up from \"Move add-ons on namespace change\"","description":"The following discussion from !1635 should be addressed:\n\n- [ ] @chloeliu started a [discussion](https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/1635#note_382505061): \n\n    \u003e **Non-blocker**: I might be missing it somewhere, but shall we also add a scenario for 'namespace change not allowed' from UI perspective(if it's ready)? To verify a dropdown item disabled or maybe an error flashcard.","state":"closed","created_at":"2020-07-20T18:35:40.309Z","updated_at":"2020-10-14T14:08:57.187Z","closed_at":"2020-08-26T07:38:23.620Z","closed_by":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"labels":["backend","devops::fulfillment","group::provision","section::fulfillment","workflow::production"],"milestone":{"id":1233753,"iid":51,"group_id":9970,"title":"13.4","description":"https://about.gitlab.com/releases/2020/09/22/gitlab-13-4-released/","state":"closed","created_at":"2020-04-09T17:39:21.662Z","updated_at":"2022-04-13T14:50:33.769Z","due_date":"2020-09-17","start_date":"2020-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/51"},"assignees":[{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"}],"author":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"type":"ISSUE","assignee":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1732","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/1732","notes":"https://gitlab.com/api/v4/projects/2670515/issues/1732/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/1732/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#1732","relative":"#1732","full":"gitlab-org/customers-gitlab-com#1732"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":62637787,"iid":1716,"project_id":2670515,"title":"Add new cop to detect missing new line at the end of the files","description":"### Problem\n\nSometimes we forgot to include the new line at the end of the file and the diff shows a warning like `\\ No newline at end of file`.\n\n### Proposal\n\nUpdate Rubocop's policies to include a new cop that detect this missing line.\n\n### Result\n\nPipeline will fail and the developer will be aware of this required updated.\n\n### Next steps (if any)\n\n### How will we measure success?","state":"closed","created_at":"2020-07-17T03:00:38.029Z","updated_at":"2020-07-17T15:24:15.954Z","closed_at":"2020-07-17T15:24:15.925Z","closed_by":{"id":280339,"username":"rdavila","name":"Rub√©n D√°vila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/280339/avatar.png","web_url":"https://gitlab.com/rdavila"},"labels":["devops::fulfillment","devops::growth"],"milestone":null,"assignees":[],"author":{"id":280339,"username":"rdavila","name":"Rub√©n D√°vila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/280339/avatar.png","web_url":"https://gitlab.com/rdavila"},"type":"ISSUE","assignee":null,"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1716","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/1716","notes":"https://gitlab.com/api/v4/projects/2670515/issues/1716/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/1716/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#1716","relative":"#1716","full":"gitlab-org/customers-gitlab-com#1716"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":62129687,"iid":1715,"project_id":2670515,"title":"Introduce matching web direct data on domain to avoid duplicate accounts in SFDC","description":"### Problem\n\nThe **initial** Web-Direct order from the portal does not attempt to match against an existing Salesforce account, and instead **always** creates a net-new account (sometimes a duplicate, sometimes not). This is problematic primarily in scenarios where we've:\n\n1. Have existing `Sales-Assisted` accounts/hierarchies in place, as the closed won business now is duplicated somewhere else.\n1. Have existing \"greenfield\" accounts already built out in Salesforce.\n\nIn both examples we're now creating duplicate accounts, as well as potentially breaking `new` vs `connected new` business metrics - as these web direct accounts aren't tied to existing Acct Hierarchies in Salesforce.\n\nThe subsequent renewal web direct order already has the Account ID, and therefore pushes to the existing Account it already created, **unless possibly** it was merged on Salesforce side already as a dupe (would need to validate this example).\n\nIn a perfect world the portal would attempt to first do some sort of matching logic to find an existing account in Salesforce prior to generating a new one. Examples of what I've seen in other applications would be a search on:\n\n1. `Domain/Website` Match\n1. `Company Name` Match\n1. Combinations of fuzzy `Company Name`, `Domain`, `Address` matches (probably more complicated)\n\u003e\u003e\u003e\n\n[per slack thread](https://gitlab.slack.com/archives/GEMFSJ94L/p1594916606133400)\n\ncc @jbrennan1 @tav_scott @jrabbits @annapiaseczna \n\n### Proposal\n\nMatch on domain match (labeled website in Salesforce) prior to new account creation is fine by me, and would be a good way to 80/20 it from an improvement perspective.\n\n### Result\n\n### Next steps (if any)\n\n### How will we measure success?","state":"closed","created_at":"2020-07-16T22:17:36.664Z","updated_at":"2022-02-28T17:06:32.903Z","closed_at":"2022-02-28T17:06:32.852Z","closed_by":{"id":1786152,"username":"gitlab-bot","name":"ü§ñ GitLab Bot ü§ñ","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1786152/avatar.png","web_url":"https://gitlab.com/gitlab-bot"},"labels":["Affects Salesforce","EntApp Ecosystem","EntApp Gap","EntApp Integration Work","Fulfillment Priority","[deprecated] Category:Provision","[deprecated] üçé","auto closed","auto updated","backend","devops::fulfillment","group::provision","portal integration","section::fulfillment","workflow::ready for development"],"milestone":{"id":1212252,"iid":48,"group_id":9970,"title":"Next 1-3 releases","description":"Issues which are not quite ready to schedule, but should be considered as part of the near-term roadmap.","state":"active","created_at":"2020-03-26T20:39:10.889Z","updated_at":"2020-03-26T20:39:10.889Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/48"},"assignees":[],"author":{"id":4160250,"username":"j.carey","name":"Jamie Carey","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4160250/avatar.png","web_url":"https://gitlab.com/j.carey"},"type":"ISSUE","assignee":null,"user_notes_count":25,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1715","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/1715","notes":"https://gitlab.com/api/v4/projects/2670515/issues/1715/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/1715/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#1715","relative":"#1715","full":"gitlab-org/customers-gitlab-com#1715"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4385,"epic":{"id":111414,"iid":4385,"title":"Improve web direct data quality passed to SFDC","url":"/groups/gitlab-org/-/epics/4385","group_id":9970,"human_readable_end_date":"Apr 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":61276770,"iid":1712,"project_id":2670515,"title":"Add missing destroy_zuora_records in specs","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n### Problem\n\nSome spec does not have `destroy_zuora_records` method which removes created records after the spec passes.\n\n### Proposal\n\nWe should check and add it to required places.\n\n### Result\n\nNo more orphaned records in our Sandbox.\n\n### Next steps (if any)\n\n### How will we measure success?","state":"closed","created_at":"2020-07-16T12:47:17.140Z","updated_at":"2022-08-05T16:00:42.900Z","closed_at":"2022-08-05T16:00:42.879Z","closed_by":{"id":447038,"username":"vitallium","name":"Vitaly Slobodin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/74b3243cfcfbfac1f022b78ab505e8d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/vitallium"},"labels":["[deprecated] Category:Fulfillment Platform","auto updated","automation:prevent-auto-close","devops::fulfillment","group::fulfillment platform","section::fulfillment","type::maintenance","wontfix","workflow::in dev"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":447038,"username":"vitallium","name":"Vitaly Slobodin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/74b3243cfcfbfac1f022b78ab505e8d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/vitallium"}],"author":{"id":447038,"username":"vitallium","name":"Vitaly Slobodin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/74b3243cfcfbfac1f022b78ab505e8d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/vitallium"},"type":"ISSUE","assignee":{"id":447038,"username":"vitallium","name":"Vitaly Slobodin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/74b3243cfcfbfac1f022b78ab505e8d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/vitallium"},"user_notes_count":5,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1712","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/1712","notes":"https://gitlab.com/api/v4/projects/2670515/issues/1712/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/1712/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#1712","relative":"#1712","full":"gitlab-org/customers-gitlab-com#1712"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3921,"epic":{"id":81510,"iid":3921,"title":"[Customer portal] Improve test suite","url":"/groups/gitlab-org/-/epics/3921","group_id":9970,"human_readable_end_date":"Aug 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":61268570,"iid":1711,"project_id":2670515,"title":"Show error message on failed namespace change","description":"### Problem\n\nWhen a namespace change is not allowed we just redirect back to the subscription's page. It would be nice to show an error message to let the user know what's going on. With https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/1635 there will be a general error message in case of an error that could be shown.\n\n### Proposal\n\nProcess error in frontend to inform the user about an error.\n\n### Result\n\nUser knows about the error.\n\n### Next steps (if any)\n\n### How will we measure success?","state":"closed","created_at":"2020-07-16T12:41:02.677Z","updated_at":"2020-08-12T15:03:13.432Z","closed_at":"2020-08-12T15:03:13.383Z","closed_by":{"id":127064,"username":"aalakkad","name":"Ammar Alakkad","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ecc1130ce340f5080afd8f2c9962948a?s=80\u0026d=identicon","web_url":"https://gitlab.com/aalakkad"},"labels":["Engineering","devops::fulfillment","devops::growth","frontend","link::parent issue","tw::doing","type::feature","workflow::verification"],"milestone":{"id":1233752,"iid":50,"group_id":9970,"title":"13.3","description":"https://about.gitlab.com/releases/2020/08/22/gitlab-13-3-released/","state":"closed","created_at":"2020-04-09T17:39:21.090Z","updated_at":"2022-04-13T14:50:18.976Z","due_date":"2020-08-17","start_date":"2020-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/50"},"assignees":[{"id":127064,"username":"aalakkad","name":"Ammar Alakkad","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ecc1130ce340f5080afd8f2c9962948a?s=80\u0026d=identicon","web_url":"https://gitlab.com/aalakkad"}],"author":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"type":"ISSUE","assignee":{"id":127064,"username":"aalakkad","name":"Ammar Alakkad","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ecc1130ce340f5080afd8f2c9962948a?s=80\u0026d=identicon","web_url":"https://gitlab.com/aalakkad"},"user_notes_count":7,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1711","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/1711","notes":"https://gitlab.com/api/v4/projects/2670515/issues/1711/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/1711/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#1711","relative":"#1711","full":"gitlab-org/customers-gitlab-com#1711"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":61205642,"iid":1708,"project_id":2670515,"title":"Follow-up from \"WIP: Move add-ons on namespace change\"","description":"The following discussion from !1635 should be addressed:\n\n- [ ] @vshumilo started a [discussion](https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/1635#note_379456815):  (+5 comments)\n\n    \u003e I want to make sure I am understanding correctly this update.\n    \u003e \n    \u003e Will this mean we are choosing GitLab to be our source of truth indirectly? \n    \u003e \n    \u003e Wondering about this scenario:\n    \u003e - `CreateOrderService` succeeds (as in a transaction things are not yet commited but all looking good\n    \u003e - Sync with `GitLab` succeeds\n    \u003e - (no raised exceptions so far) but the commit of the transaction fails, can this happen? can be a lock on the table or something that makes this happen? leaving this in a state where out truth in the customers portal is not GitLab truth because it has been updated?\n    \u003e \n    \u003e I apologize for thinking out loud :)","state":"closed","created_at":"2020-07-16T11:56:11.676Z","updated_at":"2022-02-28T17:06:33.366Z","closed_at":"2022-02-28T17:06:33.350Z","closed_by":{"id":1786152,"username":"gitlab-bot","name":"ü§ñ GitLab Bot ü§ñ","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1786152/avatar.png","web_url":"https://gitlab.com/gitlab-bot"},"labels":["[deprecated] Category:Provision","[deprecated] üçé","auto closed","auto updated","automation:prevent-auto-close","backend","devops::fulfillment","group::provision","maintenance::refactor","section::fulfillment"],"milestone":{"id":427853,"iid":10,"group_id":9970,"title":"Next 3-4 releases","description":"Bigger issues we plan to ship in the next 3-4 releases, but don't have a designated release yet. \r\n\r\n\u003e \"An easy way to look at it for me it's translating to months. Since our iterations are 1 month, I look at it as 'within the next 4 months'.\" - @dgruesso [via slack]\r\n\r\nDO NOT add small changes, bugs, regressions to this milestone.","state":"active","created_at":"2017-12-11T16:26:33.141Z","updated_at":"2020-07-14T18:21:29.639Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/10"},"assignees":[],"author":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"type":"ISSUE","assignee":null,"user_notes_count":13,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1708","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/1708","notes":"https://gitlab.com/api/v4/projects/2670515/issues/1708/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/1708/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#1708","relative":"#1708","full":"gitlab-org/customers-gitlab-com#1708"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":61144894,"iid":1707,"project_id":2670515,"title":"Follow-up from \"Move add-ons on namespace change\"","description":"The following discussion from !1635 should be addressed:\n\n- [ ] @tyleramos started a [discussion](https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/1635#note_380158242):  (+1 comment)\n\n    \u003e **Question (non-blocking):** Not for this MR, but just wondering if the `Gitlab::HostedPlans::ExtraAddOnService` should actually be absorbed into the `NamespaceParamsGenerator`.  Either the logic could be moved into the `NamespaceParamsGenerator`, or the `NamespaceParamsGenerator` could call that service as needed.  The purpose of the `ExtraAddOnService` as I understand it is to basically generate the values to be used in the namespace params anyway so it seems pretty related and the purpose of `ExtraAddOnService` is tough to understand based on the current name.  Just something to consider for a future issue maybe.\n\nCheck if this is a valid approach due to the fact that the `ExtraAddOnService` is also used later in the class to update the Order.","state":"closed","created_at":"2020-07-16T11:18:03.521Z","updated_at":"2020-10-14T14:08:57.689Z","closed_at":"2020-09-11T06:41:25.652Z","closed_by":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"labels":["[deprecated] üçé","backend","devops::fulfillment","group::provision","maintenance::refactor","section::fulfillment","workflow::production"],"milestone":{"id":1233753,"iid":51,"group_id":9970,"title":"13.4","description":"https://about.gitlab.com/releases/2020/09/22/gitlab-13-4-released/","state":"closed","created_at":"2020-04-09T17:39:21.662Z","updated_at":"2022-04-13T14:50:33.769Z","due_date":"2020-09-17","start_date":"2020-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/51"},"assignees":[{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"}],"author":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"type":"ISSUE","assignee":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1707","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/1707","notes":"https://gitlab.com/api/v4/projects/2670515/issues/1707/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/1707/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#1707","relative":"#1707","full":"gitlab-org/customers-gitlab-com#1707"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":60086300,"iid":1701,"project_id":2670515,"title":"Scope session[:visited_plan] to Devise session","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n### Problem\n\nWhenever a user navigates to a **new subscription** page to make a purchase (for a subscription, plan or add-on), we [store that url in the session](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/a9a49f5d71154ca43ddf3e7130c853f5ade31d72/app/controllers/subscriptions_controller.rb#L204-206) so we can use it to redirect the customer after they confirm their email. \n\nThis url usually looks like `https://customers.gitlab.com/subscriptions/new?plan_id=0000\u0026transaction=XXXX` but could also be a named one like `https://customers.gitlab.com/buy_pipeline_minutes` or `https://customers.gitlab.com/buy_storage`.\n\nIn !1646 we started using this `session[:visited_plan]` value to redirect the user [after signing in](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/f684885c4e146281d8a810977bc88f2db0a61106/app/controllers/application_controller.rb#L173). This ensures that the user goes back to the subscription page they were looking at before being prompted to sign in or register (if they weren't already signed in).\n\nHowever, this `:visited_plan` value **can stick around after the user has logged out** because it's not in the `devise` namespace. This could result in the user being redirected to a previously visited plan page right after logging in. In a scenario where they come from the *Sign In* page and not from a subscription page, this would not be the expected behavior.\n\n**Example Scenario**\n1. User goes to Customer Portal without signing in\n1. User clicks on _Buy CI Minutes_\n1. User is prompted to connect with Gitlab\n1. User is redirected to _Buy more CI minutes_ form\n1. They complete the purchase\n1. User can now go and manage their subscription\n1. User logs out\n1. User goes signs in again from the sign in form (`/customers/sign_in`)\n1. They are redirected to _Buy more CI minutes_ because the `visited_plan` value is still in the session\n1. They *should* have been redirected to manage their subscriptions \n\n**Notes**\n\n:exclamation: This will happen only if the user signs in *again* before the [session expires](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/f684885c4e146281d8a810977bc88f2db0a61106/config/initializers/session_store.rb#L11). \n\n:exclamation: If the user logs out and comes back to log in again after that time has passed, they will be redirected to manage their subscriptions.\n\n:exclamation: This is more evident when testing in development or staging where we may need to do something with one test user, visit a plan purchase page and then log in with a different account to do something else. \n\n### Proposal\n\nConsider scoping `:visited_plan` to the Devise session (`session[\"devise.visited_plan\"]`) so the value gets automatically cleaned up by Devise whenever a new session is created.\n\n### Result\n\n`session[\"devise.visited_plan\"]` is reset with every new session.\n\n### Next steps (if any)\n\n### How will we measure success?","state":"closed","created_at":"2020-07-16T00:21:30.495Z","updated_at":"2021-01-18T09:12:44.237Z","closed_at":"2021-01-18T09:12:44.157Z","closed_by":{"id":4981524,"username":"jhyson","name":"Josianne Hyson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4981524/avatar.png","web_url":"https://gitlab.com/jhyson"},"labels":["Category:Purchase","[deprecated] üçé","devops::fulfillment","group::purchase","section::growth","type::bug","workflow::verification"],"milestone":{"id":1233759,"iid":55,"group_id":9970,"title":"13.8","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:13.983Z","updated_at":"2022-04-13T14:51:23.220Z","due_date":"2021-01-17","start_date":"2020-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/55"},"assignees":[{"id":4981524,"username":"jhyson","name":"Josianne Hyson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4981524/avatar.png","web_url":"https://gitlab.com/jhyson"}],"author":{"id":4717243,"username":"a_luna","name":"Amparo Luna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4717243/avatar.png","web_url":"https://gitlab.com/a_luna"},"type":"ISSUE","assignee":{"id":4981524,"username":"jhyson","name":"Josianne Hyson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4981524/avatar.png","web_url":"https://gitlab.com/jhyson"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1701","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/1701","notes":"https://gitlab.com/api/v4/projects/2670515/issues/1701/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/1701/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#1701","relative":"#1701","full":"gitlab-org/customers-gitlab-com#1701"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":59250195,"iid":1696,"project_id":2670515,"title":"Follow-up from \"WIP: Move add-ons on namespace change\"","description":"The following discussion from !1635 should be addressed:\n\n- [ ] @vshumilo started a [discussion](https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/1635#note_379456813):  (+3 comments)\n\n    \u003e I know this logic was already here but I am trying to understand why the `params[:subscription_id]` is merged back into the params and named the same?\n    \u003e \n    \u003e Based on the code the `params` have a attr called `:subscription_id`\n    \u003e \n    \u003e And we are creating this value `subscription_id: params[:subscription_id]`\n    \u003e \n    \u003e just to merge it back into the params.\n    \u003e \n    \u003e I am probably missing something but it is like this is not changing anything but overwriting what is already there with the same value it already has?","state":"closed","created_at":"2020-07-15T13:56:26.717Z","updated_at":"2020-10-14T14:08:58.256Z","closed_at":"2020-09-17T18:32:59.464Z","closed_by":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"labels":["[deprecated] üçé","backend","devops::fulfillment","group::provision","maintenance::refactor","section::fulfillment","workflow::production"],"milestone":{"id":1233753,"iid":51,"group_id":9970,"title":"13.4","description":"https://about.gitlab.com/releases/2020/09/22/gitlab-13-4-released/","state":"closed","created_at":"2020-04-09T17:39:21.662Z","updated_at":"2022-04-13T14:50:33.769Z","due_date":"2020-09-17","start_date":"2020-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/51"},"assignees":[{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"}],"author":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"type":"ISSUE","assignee":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1696","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/1696","notes":"https://gitlab.com/api/v4/projects/2670515/issues/1696/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/1696/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#1696","relative":"#1696","full":"gitlab-org/customers-gitlab-com#1696"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":57585775,"iid":1689,"project_id":2670515,"title":"Let's remove these order columns after a while","description":"We added billing_rate_adjusted_at and billing_rate_last_action to the orders table, and we're doing this to have some better insights into how orders are being renewed, but we don't expect these to give us extensive value long term, so we should come back and make sure we clean them up.\n\nThe following discussion from !1591 should be addressed:\n\n- [ ] @jejacks0n started a [discussion](https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/1591#note_376164306):  (+4 comments)\n\n    \u003e @jayswain, would you make sure I have this correct please? I've changed the columns around a bit, and we clear out the notified_at value when we process the renewal -- since we can process it with either an increase, decrease, or no change now.\n    \u003e \n    \u003e At 2 weeks before renewal we start processing an order and check it every day leading up to renewal. If at any point in those 2 weeks you exceed your available seats with users, you'll get the notification and we track that we sent it. We won't send it again for the remaining days leading up until renewal, which happens when the order is processed on the same day as its end_date.\n    \u003e \n    \u003e At renewal we clear out when we sent the notification, and track that we either created an amendment or took no action. This logic would also now work for monthly or quarterly renewal. I would like to make sure that when things come back from zuora, this logic will still work how you initially intended -- I wasn't entirely sure about it.","state":"closed","created_at":"2020-07-14T18:56:54.215Z","updated_at":"2022-07-15T02:59:01.166Z","closed_at":"2022-04-12T14:28:32.668Z","closed_by":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"labels":["[deprecated] Category:Fulfillment Platform","auto updated","automation:prevent-auto-close","devops::fulfillment","group::fulfillment platform","maintenance::refactor","section::fulfillment","workflow::verification"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"}],"author":{"id":4303974,"username":"jejacks0n1","name":"Jeremy Jackson","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4303974/avatar.png","web_url":"https://gitlab.com/jejacks0n1"},"type":"ISSUE","assignee":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"user_notes_count":20,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1689","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/1689","notes":"https://gitlab.com/api/v4/projects/2670515/issues/1689/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/1689/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#1689","relative":"#1689","full":"gitlab-org/customers-gitlab-com#1689"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":57062435,"iid":1688,"project_id":2670515,"title":"Deprecate GitlabPlansHelper if favor of additional attribute in the namespace object","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n### Problem\n\nWe use `GitlabPlansHelper` every time we want to pull Gitlab namespaces for a customer:\n\n* To fill a select with available namespaces when purchasing a new subscription;\n* To fill a select with all namespaces when a customer wants to change linked namespace;\n\nWe are slowly transitioning to Vue.js and using this helper becomes harder because we need more data in a slightly different form. For instance, we want to see if a returned namespace has an expired subscription.\n\n### Proposal\n\nI suggest to deprecate this helper and add a new attribute called `subscription` to the existing `namespace` object.\n\n**Current `namespace` object structure:**\n\n```\n                                    \"id\" =\u003e 53,\n                                  \"name\" =\u003e \"gold\",\n                                  \"path\" =\u003e \"gold\",\n                                  \"kind\" =\u003e \"group\",\n                             \"full_path\" =\u003e \"gold\",\n                             \"parent_id\" =\u003e nil,\n                            \"avatar_url\" =\u003e nil,\n                               \"web_url\" =\u003e \"http://127.0.0.1:3000/groups/gold\",\n        \"members_count_with_descendants\" =\u003e 1,\n                \"billable_members_count\" =\u003e 1,\n                                  \"plan\" =\u003e \"silver\",\n                         \"trial_ends_on\" =\u003e nil,\n                                 \"trial\" =\u003e false,\n```\n\n**Suggested `namespace` object structure:**\n\n```\n                                    \"id\" =\u003e 53,\n                                  \"name\" =\u003e \"gold\",\n                                  \"path\" =\u003e \"gold\",\n                                  \"kind\" =\u003e \"group\",\n                             \"full_path\" =\u003e \"gold\",\n                             \"parent_id\" =\u003e nil,\n                            \"avatar_url\" =\u003e nil,\n                               \"web_url\" =\u003e \"http://127.0.0.1:3000/groups/gold\",\n        \"members_count_with_descendants\" =\u003e 1,\n                \"billable_members_count\" =\u003e 1,\n                                  \"plan\" =\u003e \"silver\",\n                         \"trial_ends_on\" =\u003e nil, // deprecate this field also and move it under subscription attribute\n                                 \"trial\" =\u003e false, // deprecate this field also and move it under subscription attribute\n                          \"subscription\" =\u003e {\n                     \"name\" =\u003e \"A-S00039218\",\n               \"start_date\" =\u003e Tue, 30 Jun 2020,\n                 \"end_date\" =\u003e Wed, 30 Jun 2021,\n            \"trial_active\" =\u003e false\n        }\n```\n\n**NOTE:** I do not suggest removing it completely because we have the code that depends on this helper but stop adding new functionality to it.\n\n### Result\n\n* Removed legacy helper with better-structured data.\n* Removed code that is hard to maintain due to its growing complexity.\n\n### Next steps (if any)\n\n### How will we measure success?","state":"closed","created_at":"2020-07-14T11:28:11.587Z","updated_at":"2022-02-28T17:06:36.005Z","closed_at":"2022-02-28T17:06:35.997Z","closed_by":{"id":1786152,"username":"gitlab-bot","name":"ü§ñ GitLab Bot ü§ñ","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1786152/avatar.png","web_url":"https://gitlab.com/gitlab-bot"},"labels":["[deprecated] Category:Provision","[deprecated] üçé","auto closed","auto updated","backend","devops::fulfillment","group::provision","maintenance::refactor","section::fulfillment"],"milestone":null,"assignees":[],"author":{"id":447038,"username":"vitallium","name":"Vitaly Slobodin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/74b3243cfcfbfac1f022b78ab505e8d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/vitallium"},"type":"ISSUE","assignee":null,"user_notes_count":17,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1688","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/1688","notes":"https://gitlab.com/api/v4/projects/2670515/issues/1688/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/1688/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#1688","relative":"#1688","full":"gitlab-org/customers-gitlab-com#1688"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":56103774,"iid":1686,"project_id":2670515,"title":"When Signing in with GitLab customers do not need to provide a password","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n### Problem\n\nWhen users get redirected to `Sign In with GitLab` and end in the registration page, the form contains the password field as a required field to complete the process.\n\nHowever, if the user is signing in with GitLab they shouldn't be asked to provide a password.\n\n### Proposal\n\nOnly render the password field if the user trying to register has empty `provider` and `uid` fields. The way it's done in  [app/views/shared/customer/_sign_up_form.html.haml](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/staging/app/views/shared/customer/_sign_up_form.html.haml#L2). \n\nRelevant thread: https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1484#note_371285508\n\n### Result\n\nThe customer will be required to provide only the missing information in the registration form. \n\nAfter #1176 is addressed, customers will only need to provide their billing info (city, zip code, country) to complete the registration.\n\n### Next steps (if any)\n\n:warning: Removing this as a next step because users can add a password after signing in with GitLab via the `Forgot Password` form and they'll need a way to update it from their Account Details page.\n\n~~Update the `Account Details` page so that the `Update Password` section is not displayed for users that register from `Sign In with GitLab`.~~\n\n### How will we measure success?","state":"closed","created_at":"2020-07-13T22:49:54.501Z","updated_at":"2020-10-14T14:09:00.023Z","closed_at":"2020-08-12T16:26:49.902Z","closed_by":{"id":4717243,"username":"a_luna","name":"Amparo Luna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4717243/avatar.png","web_url":"https://gitlab.com/a_luna"},"labels":["backend","devops::fulfillment","group::provision","section::fulfillment","workflow::in review"],"milestone":{"id":1233752,"iid":50,"group_id":9970,"title":"13.3","description":"https://about.gitlab.com/releases/2020/08/22/gitlab-13-3-released/","state":"closed","created_at":"2020-04-09T17:39:21.090Z","updated_at":"2022-04-13T14:50:18.976Z","due_date":"2020-08-17","start_date":"2020-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/50"},"assignees":[{"id":4717243,"username":"a_luna","name":"Amparo Luna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4717243/avatar.png","web_url":"https://gitlab.com/a_luna"}],"author":{"id":4717243,"username":"a_luna","name":"Amparo Luna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4717243/avatar.png","web_url":"https://gitlab.com/a_luna"},"type":"ISSUE","assignee":{"id":4717243,"username":"a_luna","name":"Amparo Luna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4717243/avatar.png","web_url":"https://gitlab.com/a_luna"},"user_notes_count":17,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1686","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/1686","notes":"https://gitlab.com/api/v4/projects/2670515/issues/1686/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/1686/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#1686","relative":"#1686","full":"gitlab-org/customers-gitlab-com#1686"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":55793214,"iid":1682,"project_id":2670515,"title":"GitLab.com new paid subscription purchase flow throwing error","description":"## Summary\n\nUser has reported receiving `Failed to confirm your order! Please try again.` when attempting to by a paid subscription within GitLab.com.\n\n![failurepic](/uploads/f1ec8dd4067c708f8fb3f835a0c19384/failurepic.png)\n\n\n## Possible Root Cause\nThe new registration with checkout flow creates a group name from the company name automatically, but doesn't validate or sanitize the Group Name input. The save fails and we get a cryptic error message\n\n## Workaround\nAvoid commas and other disallowed characters in the company name\n\n\n## Solution Suggestion\nSanitize the Group Name input, in such a way that it conforms to the rules set in the original group creation screen, as partially seen in the screenshot.\n\n![screenshot-2020-07-13-22-50-53](/uploads/c8c3948be55c53caf43e8ce940680bd7/screenshot-2020-07-13-22-50-53.png)","state":"closed","created_at":"2020-07-13T18:26:23.363Z","updated_at":"2020-10-14T14:09:01.352Z","closed_at":"2020-08-07T15:16:43.968Z","closed_by":{"id":2890431,"username":"amandarueda","name":"Amanda Rueda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2890431/avatar.png","web_url":"https://gitlab.com/amandarueda"},"labels":["Deliverable","backend","devops::fulfillment","group::provision","section::fulfillment","type::bug","workflow::in dev"],"milestone":{"id":1233752,"iid":50,"group_id":9970,"title":"13.3","description":"https://about.gitlab.com/releases/2020/08/22/gitlab-13-3-released/","state":"closed","created_at":"2020-04-09T17:39:21.090Z","updated_at":"2022-04-13T14:50:18.976Z","due_date":"2020-08-17","start_date":"2020-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/50"},"assignees":[{"id":5667561,"username":"vshumilo","name":"Vladlena Shumilo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08dfa82785d130c151ab9e21caeab4e3?s=80\u0026d=identicon","web_url":"https://gitlab.com/vshumilo"}],"author":{"id":2890431,"username":"amandarueda","name":"Amanda Rueda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2890431/avatar.png","web_url":"https://gitlab.com/amandarueda"},"type":"ISSUE","assignee":{"id":5667561,"username":"vshumilo","name":"Vladlena Shumilo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08dfa82785d130c151ab9e21caeab4e3?s=80\u0026d=identicon","web_url":"https://gitlab.com/vshumilo"},"user_notes_count":25,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1682","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/1682","notes":"https://gitlab.com/api/v4/projects/2670515/issues/1682/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/1682/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#1682","relative":"#1682","full":"gitlab-org/customers-gitlab-com#1682"},"severity":"UNKNOWN","moved_to_id":69549848,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":54107582,"iid":1665,"project_id":2670515,"title":"Lock date-sensitive spec","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\nWe're seeing `spec/frontend/lib/datetime_spec.js` fail locally for on some machines.\n\nWe should lock the timezone this spec runs in so it's consistent `const start = DateTime.fromISO(startDate, { zone: 'utc' });`","state":"closed","created_at":"2020-07-08T15:57:11.582Z","updated_at":"2020-07-10T13:34:10.826Z","closed_at":"2020-07-10T13:34:10.608Z","closed_by":{"id":4430316,"username":"rhardarson","name":"Ragnar Hardarson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4430316/avatar.png","web_url":"https://gitlab.com/rhardarson"},"labels":["Unplanned","devops::fulfillment","devops::growth","frontend","maintenance::workflow","workflow::production"],"milestone":{"id":1233746,"iid":49,"group_id":9970,"title":"13.2","description":"https://about.gitlab.com/releases/2020/07/22/gitlab-13-2-released/","state":"closed","created_at":"2020-04-09T17:28:01.032Z","updated_at":"2022-04-13T14:48:24.167Z","due_date":"2020-07-17","start_date":"2020-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/49"},"assignees":[{"id":4430316,"username":"rhardarson","name":"Ragnar Hardarson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4430316/avatar.png","web_url":"https://gitlab.com/rhardarson"}],"author":{"id":4430316,"username":"rhardarson","name":"Ragnar Hardarson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4430316/avatar.png","web_url":"https://gitlab.com/rhardarson"},"type":"ISSUE","assignee":{"id":4430316,"username":"rhardarson","name":"Ragnar Hardarson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4430316/avatar.png","web_url":"https://gitlab.com/rhardarson"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1665","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/1665","notes":"https://gitlab.com/api/v4/projects/2670515/issues/1665/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/1665/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#1665","relative":"#1665","full":"gitlab-org/customers-gitlab-com#1665"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":54100236,"iid":1663,"project_id":2670515,"title":"Rely on https://gitlab.com/gitlab-org/gitlab-build-images to install node + headless chrome for CI builds","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\nHalf-step towards https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/834\n\nWe're currently installing custom dependencies like node, yarn, and headless chrome via a custom shell script https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/bd7286b17af7db1b11de5fa12f929085b539f8a3/scripts/prepare_build.sh\n\nSince the Customer Portal has much the same dependencies as GitLab does, we can piggyback on the [gitlab-build-image](https://gitlab.com/gitlab-org/gitlab-build-images ) from there.\n\nThis should result in faster builds, and more reliable installs of headless chrome, so we do not end up [with these sort of workarounds again](https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/1423)","state":"closed","created_at":"2020-07-08T13:23:45.815Z","updated_at":"2020-07-15T15:57:55.154Z","closed_at":"2020-07-15T15:57:55.104Z","closed_by":{"id":4430316,"username":"rhardarson","name":"Ragnar Hardarson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4430316/avatar.png","web_url":"https://gitlab.com/rhardarson"},"labels":["devops::fulfillment","devops::growth","frontend","maintenance::pipelines","workflow::production"],"milestone":{"id":1233746,"iid":49,"group_id":9970,"title":"13.2","description":"https://about.gitlab.com/releases/2020/07/22/gitlab-13-2-released/","state":"closed","created_at":"2020-04-09T17:28:01.032Z","updated_at":"2022-04-13T14:48:24.167Z","due_date":"2020-07-17","start_date":"2020-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/49"},"assignees":[{"id":4430316,"username":"rhardarson","name":"Ragnar Hardarson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4430316/avatar.png","web_url":"https://gitlab.com/rhardarson"}],"author":{"id":4430316,"username":"rhardarson","name":"Ragnar Hardarson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4430316/avatar.png","web_url":"https://gitlab.com/rhardarson"},"type":"ISSUE","assignee":{"id":4430316,"username":"rhardarson","name":"Ragnar Hardarson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4430316/avatar.png","web_url":"https://gitlab.com/rhardarson"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1663","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/1663","notes":"https://gitlab.com/api/v4/projects/2670515/issues/1663/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/1663/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#1663","relative":"#1663","full":"gitlab-org/customers-gitlab-com#1663"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":54091907,"iid":1661,"project_id":2670515,"title":"Replace whitelist/blacklist with allowlist/denylist","description":"\n### Proposal\n\nLet's be more inclusive and replace these terms across the codebase (whenever possible)\n\nRelated: https://gitlab.com/groups/gitlab-org/-/epics/3478","state":"closed","created_at":"2020-07-08T10:24:44.225Z","updated_at":"2020-10-14T14:09:03.063Z","closed_at":"2020-08-20T07:17:00.466Z","closed_by":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"labels":["backend","devops::fulfillment","group::provision","maintenance::workflow","section::fulfillment","workflow::production"],"milestone":{"id":1233753,"iid":51,"group_id":9970,"title":"13.4","description":"https://about.gitlab.com/releases/2020/09/22/gitlab-13-4-released/","state":"closed","created_at":"2020-04-09T17:39:21.662Z","updated_at":"2022-04-13T14:50:33.769Z","due_date":"2020-09-17","start_date":"2020-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/51"},"assignees":[{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"}],"author":{"id":273486,"username":"jameslopez","name":"James Lopez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/273486/avatar.png","web_url":"https://gitlab.com/jameslopez"},"type":"ISSUE","assignee":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1661","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/1661","notes":"https://gitlab.com/api/v4/projects/2670515/issues/1661/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/1661/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#1661","relative":"#1661","full":"gitlab-org/customers-gitlab-com#1661"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":53944572,"iid":1650,"project_id":2670515,"title":"Handle new throughput labels in Dangerfile for customers-gitlab-com","description":"### Problem\n\n`backstage` is being deprecated in favor of new scoped `feature::` and `tooling::` labels.\n\nSee: \n\n1. https://gitlab.com/gitlab-org/quality/team-tasks/-/issues/488\n2. https://update-throughput-backstage.about.gitlab-review.app/handbook/engineering/management/throughput/index.html#deprecated-types (Review app)\n\n### Proposal\n\n### Result\n\n### Next steps (if any)","state":"closed","created_at":"2020-07-06T02:02:50.059Z","updated_at":"2020-07-06T11:54:23.640Z","closed_at":"2020-07-06T11:53:56.439Z","closed_by":{"id":273486,"username":"jameslopez","name":"James Lopez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/273486/avatar.png","web_url":"https://gitlab.com/jameslopez"},"labels":["devops::fulfillment","devops::growth"],"milestone":{"id":1233746,"iid":49,"group_id":9970,"title":"13.2","description":"https://about.gitlab.com/releases/2020/07/22/gitlab-13-2-released/","state":"closed","created_at":"2020-04-09T17:28:01.032Z","updated_at":"2022-04-13T14:48:24.167Z","due_date":"2020-07-17","start_date":"2020-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/49"},"assignees":[],"author":{"id":4234774,"username":"pcalder","name":"Phil Calder","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4234774/avatar.png","web_url":"https://gitlab.com/pcalder"},"type":"ISSUE","assignee":null,"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1650","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/1650","notes":"https://gitlab.com/api/v4/projects/2670515/issues/1650/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/1650/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#1650","relative":"#1650","full":"gitlab-org/customers-gitlab-com#1650"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":53910741,"iid":1649,"project_id":2670515,"title":"N+1 query on loading the subscriptions list","description":"### Problem\n\nOur `SubscriptionPresenter` produces too many extra queries when we call it. The presenter returns the state of EULA request by querying the `eula_requests` table.\nThe simplest fix would be including this table (`eula_requests`) to the list of subscriptions but the `Subscription` model is not the `ActiveRecord` class. We can't use `include` on it. We should find another way of preloading `eula_requests` for the given list of subscriptions.\n\n```\nweb     |   EulaRequest Load (0.6ms)  SELECT  \"eula_requests\".* FROM \"eula_requests\" WHERE \"eula_requests\".\"subscription_name\" = $1 AND \"eula_requests\".\"accepted_at\" IS NULL LIMIT $2  [[\"subscription_name\", \"A-S00038997\"], [\"LIMIT\", 1]]\nweb     |   ‚Ü≥ app/models/subscription.rb:133\nweb     |   Order Load (0.5ms)  SELECT  \"orders\".* FROM \"orders\" WHERE \"orders\".\"zuora_account_id\" = $1 AND \"orders\".\"subscription_name\" = $2 ORDER BY \"orders\".\"updated_at\" DESC LIMIT $3  [[\"zuora_account_id\", \"2c92c0f872e0ce920172e660eb610357\"], [\"subscription_name\", \"A-S00039203\"], [\"LIMIT\", 1]]\nweb     |   ‚Ü≥ app/models/subscription.rb:40\nweb     |   EulaRequest Load (0.3ms)  SELECT  \"eula_requests\".* FROM \"eula_requests\" WHERE \"eula_requests\".\"subscription_name\" = $1 AND \"eula_requests\".\"accepted_at\" IS NULL LIMIT $2  [[\"subscription_name\", \"A-S00039203\"], [\"LIMIT\", 1]]\nweb     |   ‚Ü≥ app/models/subscription.rb:133\nweb     |   Order Load (0.4ms)  SELECT  \"orders\".* FROM \"orders\" WHERE \"orders\".\"zuora_account_id\" = $1 AND \"orders\".\"subscription_name\" = $2 ORDER BY \"orders\".\"updated_at\" DESC LIMIT $3  [[\"zuora_account_id\", \"2c92c0f872e0ce920172e660eb610357\"], [\"subscription_name\", \"A-S00039214\"], [\"LIMIT\", 1]]\nweb     |   ‚Ü≥ app/models/subscription.rb:40\nweb     |   EulaRequest Load (0.5ms)  SELECT  \"eula_requests\".* FROM \"eula_requests\" WHERE \"eula_requests\".\"subscription_name\" = $1 AND \"eula_requests\".\"accepted_at\" IS NULL LIMIT $2  [[\"subscription_name\", \"A-S00039214\"], [\"LIMIT\", 1]]\nweb     |   ‚Ü≥ app/models/subscription.rb:133\nweb     |   Order Load (0.4ms)  SELECT  \"orders\".* FROM \"orders\" WHERE \"orders\".\"zuora_account_id\" = $1 AND \"orders\".\"subscription_name\" = $2 ORDER BY \"orders\".\"updated_at\" DESC LIMIT $3  [[\"zuora_account_id\", \"2c92c0f872e0ce920172e660eb610357\"], [\"subscription_name\", \"A-S00039215\"], [\"LIMIT\", 1]]\nweb     |   ‚Ü≥ app/models/subscription.rb:40\nweb     |   EulaRequest Load (0.4ms)  SELECT  \"eula_requests\".* FROM \"eula_requests\" WHERE \"eula_requests\".\"subscription_name\" = $1 AND \"eula_requests\".\"accepted_at\" IS NULL LIMIT $2  [[\"subscription_name\", \"A-S00039215\"], [\"LIMIT\", 1]]\nweb     |   ‚Ü≥ app/models/subscription.rb:133\nweb     |   Order Load (0.5ms)  SELECT  \"orders\".* FROM \"orders\" WHERE \"orders\".\"zuora_account_id\" = $1 AND \"orders\".\"subscription_name\" = $2 ORDER BY \"orders\".\"updated_at\" DESC LIMIT $3  [[\"zuora_account_id\", \"2c92c0f872e0ce920172e660eb610357\"], [\"subscription_name\", \"A-S00039217\"], [\"LIMIT\", 1]]\nweb     |   ‚Ü≥ app/models/subscription.rb:40\nweb     |   EulaRequest Load (0.3ms)  SELECT  \"eula_requests\".* FROM \"eula_requests\" WHERE \"eula_requests\".\"subscription_name\" = $1 AND \"eula_requests\".\"accepted_at\" IS NULL LIMIT $2  [[\"subscription_name\", \"A-S00039217\"], [\"LIMIT\", 1]]\nweb     |   ‚Ü≥ app/models/subscription.rb:133\nweb     |   Order Load (0.4ms)  SELECT  \"orders\".* FROM \"orders\" WHERE \"orders\".\"zuora_account_id\" = $1 AND \"orders\".\"subscription_name\" = $2 ORDER BY \"orders\".\"updated_at\" DESC LIMIT $3  [[\"zuora_account_id\", \"2c92c0f872e0ce920172e660eb610357\"], [\"subscription_name\", \"A-S00039218\"], [\"LIMIT\", 1]]\nweb     |   ‚Ü≥ app/models/subscription.rb:40\nweb     |   EulaRequest Load (0.6ms)  SELECT  \"eula_requests\".* FROM \"eula_requests\" WHERE \"eula_requests\".\"subscription_name\" = $1 AND \"eula_requests\".\"accepted_at\" IS NULL LIMIT $2  [[\"subscription_name\", \"A-S00039218\"], [\"LIMIT\", 1]]\nweb     |   ‚Ü≥ app/models/subscription.rb:133\nweb     |   Order Load (0.5ms)  SELECT  \"orders\".* FROM \"orders\" WHERE \"orders\".\"zuora_account_id\" = $1 AND \"orders\".\"subscription_name\" = $2 ORDER BY \"orders\".\"updated_at\" DESC LIMIT $3  [[\"zuora_account_id\", \"2c92c0f872e0ce920172e660eb610357\"], [\"subscription_name\", \"A-S00039257\"], [\"LIMIT\", 1]]\nweb     |   ‚Ü≥ app/models/subscription.rb:40\nweb     |   EulaRequest Load (0.3ms)  SELECT  \"eula_requests\".* FROM \"eula_requests\" WHERE \"eula_requests\".\"subscription_name\" = $1 AND \"eula_requests\".\"accepted_at\" IS NULL LIMIT $2  [[\"subscription_name\", \"A-S00039257\"], [\"LIMIT\", 1]]\nweb     |   ‚Ü≥ app/models/subscription.rb:133\nweb     |   Order Load (0.3ms)  SELECT  \"orders\".* FROM \"orders\" WHERE \"orders\".\"zuora_account_id\" = $1 AND \"orders\".\"subscription_name\" = $2 ORDER BY \"orders\".\"updated_at\" DESC LIMIT $3  [[\"zuora_account_id\", \"2c92c0f872e0ce920172e660eb610357\"], [\"subscription_name\", \"A-S00038996\"], [\"LIMIT\", 1]]\nweb     |   ‚Ü≥ app/models/subscription.rb:40\nweb     |   EulaRequest Load (0.4ms)  SELECT  \"eula_requests\".* FROM \"eula_requests\" WHERE \"eula_requests\".\"subscription_name\" = $1 AND \"eula_requests\".\"accepted_at\" IS NULL LIMIT $2  [[\"subscription_name\", \"A-S00038996\"], [\"LIMIT\", 1]]\nweb     |   ‚Ü≥ app/models/subscription.rb:133\nweb     |   Order Load (0.5ms)  SELECT  \"orders\".* FROM \"orders\" WHERE \"orders\".\"zuora_account_id\" = $1 AND \"orders\".\"subscription_name\" = $2 ORDER BY \"orders\".\"updated_at\" DESC LIMIT $3  [[\"zuora_account_id\", \"2c92c0f872e0ce920172e660eb610357\"], [\"subscription_name\", \"A-S00039210\"], [\"LIMIT\", 1]]\nweb     |   ‚Ü≥ app/models/subscription.rb:40\nweb     |   EulaRequest Load (0.4ms)  SELECT  \"eula_requests\".* FROM \"eula_requests\" WHERE \"eula_requests\".\"subscription_name\" = $1 AND \"eula_requests\".\"accepted_at\" IS NULL LIMIT $2  [[\"subscription_name\", \"A-S00039210\"], [\"LIMIT\", 1]]\nweb     |   ‚Ü≥ app/models/subscription.rb:133\nweb     |   Order Load (0.4ms)  SELECT  \"orders\".* FROM \"orders\" WHERE \"orders\".\"zuora_account_id\" = $1 AND \"orders\".\"subscription_name\" = $2 ORDER BY \"orders\".\"updated_at\" DESC LIMIT $3  [[\"zuora_account_id\", \"2c92c0f872e0ce920172e660eb610357\"], [\"subscription_name\", \"A-S00039205\"], [\"LIMIT\", 1]]\nweb     |   ‚Ü≥ app/models/subscription.rb:40\nweb     |   EulaRequest Load (0.3ms)  SELECT  \"eula_requests\".* FROM \"eula_requests\" WHERE \"eula_requests\".\"subscription_name\" = $1 AND \"eula_requests\".\"accepted_at\" IS NULL LIMIT $2  [[\"subscription_name\", \"A-S00039205\"], [\"LIMIT\", 1]]\nweb     |   ‚Ü≥ app/models/subscription.rb:133\nweb     |   Order Load (2.4ms)  SELECT  \"orders\".* FROM \"orders\" WHERE \"orders\".\"zuora_account_id\" = $1 AND \"orders\".\"subscription_name\" = $2 ORDER BY \"orders\".\"updated_at\" DESC LIMIT $3  [[\"zuora_account_id\", \"2c92c0f872e0ce920172e660eb610357\"], [\"subscription_name\", \"A-S00039208\"], [\"LIMIT\", 1]]\nweb     |   ‚Ü≥ app/models/subscription.rb:40\nweb     |   EulaRequest Load (0.4ms)  SELECT  \"eula_requests\".* FROM \"eula_requests\" WHERE \"eula_requests\".\"subscription_name\" = $1 AND \"eula_requests\".\"accepted_at\" IS NULL LIMIT $2  [[\"subscription_name\", \"A-S00039208\"], [\"LIMIT\", 1]]\nweb     |   ‚Ü≥ app/models/subscription.rb:133\nweb     |   Order Load (0.5ms)  SELECT  \"orders\".* FROM \"orders\" WHERE \"orders\".\"zuora_account_id\" = $1 AND \"orders\".\"subscription_name\" = $2 ORDER BY \"orders\".\"updated_at\" DESC LIMIT $3  [[\"zuora_account_id\", \"2c92c0f872e0ce920172e660eb610357\"], [\"subscription_name\", \"A-S00039211\"], [\"LIMIT\", 1]]\nweb     |   ‚Ü≥ app/models/subscription.rb:40\nweb     |   EulaRequest Load (0.4ms)  SELECT  \"eula_requests\".* FROM \"eula_requests\" WHERE \"eula_requests\".\"subscription_name\" = $1 AND \"eula_requests\".\"accepted_at\" IS NULL LIMIT $2  [[\"subscription_name\", \"A-S00039211\"], [\"LIMIT\", 1]]\nweb     |   ‚Ü≥ app/models/subscription.rb:133\nweb     |   Order Load (0.5ms)  SELECT  \"orders\".* FROM \"orders\" WHERE \"orders\".\"zuora_account_id\" = $1 AND \"orders\".\"subscription_name\" = $2 ORDER BY \"orders\".\"updated_at\" DESC LIMIT $3  [[\"zuora_account_id\", \"2c92c0f872e0ce920172e660eb610357\"], [\"subscription_name\", \"A-S00039213\"], [\"LIMIT\", 1]]\nweb     |   ‚Ü≥ app/models/subscription.rb:40\nweb     |   EulaRequest Load (0.3ms)  SELECT  \"eula_requests\".* FROM \"eula_requests\" WHERE \"eula_requests\".\"subscription_name\" = $1 AND \"eula_requests\".\"accepted_at\" IS NULL LIMIT $2  [[\"subscription_name\", \"A-S00039213\"], [\"LIMIT\", 1]]\nweb     |   ‚Ü≥ app/models/subscription.rb:133\nweb     |   Order Load (0.5ms)  SELECT  \"orders\".* FROM \"orders\" WHERE \"orders\".\"zuora_account_id\" = $1 AND \"orders\".\"subscription_name\" = $2 ORDER BY \"orders\".\"updated_at\" DESC LIMIT $3  [[\"zuora_account_id\", \"2c92c0f872e0ce920172e660eb610357\"], [\"subscription_name\", \"A-S00039202\"], [\"LIMIT\", 1]]\nweb     |   ‚Ü≥ app/models/subscription.rb:40\nweb     |   EulaRequest Load (0.4ms)  SELECT  \"eula_requests\".* FROM \"eula_requests\" WHERE \"eula_requests\".\"subscription_name\" = $1 AND \"eula_requests\".\"accepted_at\" IS NULL LIMIT $2  [[\"subscription_name\", \"A-S00039202\"], [\"LIMIT\", 1]]\nweb     |   ‚Ü≥ app/models/subscription.rb:133\nweb     |   Order Load (0.5ms)  SELECT  \"orders\".* FROM \"orders\" WHERE \"orders\".\"zuora_account_id\" = $1 AND \"orders\".\"subscription_name\" = $2 ORDER BY \"orders\".\"updated_at\" DESC LIMIT $3  [[\"zuora_account_id\", \"2c92c0f872e0ce920172e660eb610357\"], [\"subscription_name\", \"A-S00038717\"], [\"LIMIT\", 1]]\nweb     |   ‚Ü≥ app/models/subscription.rb:40\nweb     |   CACHE Order Load (0.0ms)  SELECT  \"orders\".* FROM \"orders\" WHERE \"orders\".\"zuora_account_id\" = $1 AND \"orders\".\"subscription_name\" = $2 ORDER BY \"orders\".\"updated_at\" DESC LIMIT $3  [[\"zuora_account_id\", \"2c92c0f872e0ce920172e660eb610357\"], [\"subscription_name\", \"A-S00038717\"], [\"LIMIT\", 1]]\nweb     |   ‚Ü≥ app/models/subscription.rb:40\nweb     |   EulaRequest Load (0.4ms)  SELECT  \"eula_requests\".* FROM \"eula_requests\" WHERE \"eula_requests\".\"subscription_name\" = $1 AND \"eula_requests\".\"accepted_at\" IS NULL LIMIT $2  [[\"subscription_name\", \"A-S00038717\"], [\"LIMIT\", 1]]\nweb     |   ‚Ü≥ app/models/subscription.rb:133\nweb     |   CACHE Order Load (0.0ms)  SELECT  \"orders\".* FROM \"orders\" WHERE \"orders\".\"zuora_account_id\" = $1 AND \"orders\".\"subscription_name\" = $2 ORDER BY \"orders\".\"updated_at\" DESC LIMIT $3  [[\"zuora_account_id\", \"2c92c0f872e0ce920172e660eb610357\"], [\"subscription_name\", \"A-S00038717\"], [\"LIMIT\", 1]]\nweb     |   ‚Ü≥ app/models/subscription.rb:40\nweb     |   Order Load (0.4ms)  SELECT  \"orders\".* FROM \"orders\" WHERE \"orders\".\"zuora_account_id\" = $1 AND \"orders\".\"subscription_name\" = $2 ORDER BY \"orders\".\"updated_at\" DESC LIMIT $3  [[\"zuora_account_id\", \"2c92c0f872e0ce920172e660eb610357\"], [\"subscription_name\", \"A-S00039204\"], [\"LIMIT\", 1]]\nweb     |   ‚Ü≥ app/models/subscription.rb:40\nweb     |   EulaRequest Load (0.4ms)  SELECT  \"eula_requests\".* FROM \"eula_requests\" WHERE \"eula_requests\".\"subscription_name\" = $1 AND \"eula_requests\".\"accepted_at\" IS NULL LIMIT $2  [[\"subscription_name\", \"A-S00039204\"], [\"LIMIT\", 1]]\nweb     |   ‚Ü≥ app/models/subscription.rb:133\nweb     |   Order Load (0.5ms)  SELECT  \"orders\".* FROM \"orders\" WHERE \"orders\".\"zuora_account_id\" = $1 AND \"orders\".\"subscription_name\" = $2 ORDER BY \"orders\".\"updated_at\" DESC LIMIT $3  [[\"zuora_account_id\", \"2c92c0f872e0ce920172e660eb610357\"], [\"subscription_name\", \"A-S00039207\"], [\"LIMIT\", 1]]\nweb     |   ‚Ü≥ app/models/subscription.rb:40\nweb     |   EulaRequest Load (0.4ms)  SELECT  \"eula_requests\".* FROM \"eula_requests\" WHERE \"eula_requests\".\"subscription_name\" = $1 AND \"eula_requests\".\"accepted_at\" IS NULL LIMIT $2  [[\"subscription_name\", \"A-S00039207\"], [\"LIMIT\", 1]]\nweb     |   ‚Ü≥ app/models/subscription.rb:133\nweb     |   Order Load (0.5ms)  SELECT  \"orders\".* FROM \"orders\" WHERE \"orders\".\"zuora_account_id\" = $1 AND \"orders\".\"subscription_name\" = $2 ORDER BY \"orders\".\"updated_at\" DESC LIMIT $3  [[\"zuora_account_id\", \"2c92c0f872e0ce920172e660eb610357\"], [\"subscription_name\", \"A-S00038720\"], [\"LIMIT\", 1]]\nweb     |   ‚Ü≥ app/models/subscription.rb:40\nweb     |   EulaRequest Load (0.4ms)  SELECT  \"eula_requests\".* FROM \"eula_requests\" WHERE \"eula_requests\".\"subscription_name\" = $1 AND \"eula_requests\".\"accepted_at\" IS NULL LIMIT $2  [[\"subscription_name\", \"A-S00038720\"], [\"LIMIT\", 1]]\nweb     |   ‚Ü≥ app/models/subscription.rb:133\nweb     |   Order Load (0.5ms)  SELECT  \"orders\".* FROM \"orders\" WHERE \"orders\".\"zuora_account_id\" = $1 AND \"orders\".\"subscription_name\" = $2 ORDER BY \"orders\".\"updated_at\" DESC LIMIT $3  [[\"zuora_account_id\", \"2c92c0f872e0ce920172e660eb610357\"], [\"subscription_name\", \"A-S00039556\"], [\"LIMIT\", 1]]\nweb     |   ‚Ü≥ app/models/subscription.rb:40\nweb     |   EulaRequest Load (0.5ms)  SELECT  \"eula_requests\".* FROM \"eula_requests\" WHERE \"eula_requests\".\"subscription_name\" = $1 AND \"eula_requests\".\"accepted_at\" IS NULL LIMIT $2  [[\"subscription_name\", \"A-S00039556\"], [\"LIMIT\", 1]]\n\n```","state":"closed","created_at":"2020-07-04T11:51:52.943Z","updated_at":"2021-08-19T13:08:42.979Z","closed_at":"2021-08-19T13:08:42.972Z","closed_by":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"labels":["[deprecated] Category:Provision","[deprecated] üçé","auto closed","auto updated","backend","backstage [DEPRECATED]","devops::fulfillment","group::provision","maintenance::refactor","section::fulfillment"],"milestone":null,"assignees":[],"author":{"id":447038,"username":"vitallium","name":"Vitaly Slobodin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/74b3243cfcfbfac1f022b78ab505e8d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/vitallium"},"type":"ISSUE","assignee":null,"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1649","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/1649","notes":"https://gitlab.com/api/v4/projects/2670515/issues/1649/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/1649/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#1649","relative":"#1649","full":"gitlab-org/customers-gitlab-com#1649"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":53814840,"iid":1644,"project_id":2670515,"title":"Remove ability to select ACH and Wire from payment method type","description":"## Summary \n\nIn https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1024 we intended to remove the ability to select ACH as a payment type in the customers portal. However the value still exists when attempting to make a purchase over a threshold.\n\n### Examples\n\n![Screen_Shot_2020-07-02_at_16.33.44](/uploads/fc397910a5926c05c32fe212bbe5b9e8/Screen_Shot_2020-07-02_at_16.33.44.png)\n\n![Screen_Shot_2020-07-02_at_16.27.32](/uploads/d554fd5585ed73674b7829ed44e297be/Screen_Shot_2020-07-02_at_16.27.32.png)\n\n#### When you attempt to select an option, you then receive this message and subsequent error (reported [here](https://gitlab.zendesk.com/agent/tickets/162819)):\n\n![Screenshot_2020-07-02_at_22.00.21](/uploads/632235a49be4c725a425e3253632583b/Screenshot_2020-07-02_at_22.00.21.png)\n![Screenshot_2020-07-02_at_22.00.28](/uploads/cec11e2cdd0accb9b1aa5ae7241f8494/Screenshot_2020-07-02_at_22.00.28.png)\n\n## Proposal\n\nFinance has [confirmed](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1644#note_372889179) that we should only offer credit card payment in all purchase flows regardless of threshold.","state":"closed","created_at":"2020-07-02T21:50:45.472Z","updated_at":"2020-09-18T01:10:22.235Z","closed_at":"2020-09-17T18:28:13.745Z","closed_by":{"id":4024467,"username":"dbodicherla","name":"Dhiraj Bodicherla","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4024467/avatar.png","web_url":"https://gitlab.com/dbodicherla"},"labels":["[deprecated] üçé","customer","devops::fulfillment","devops::growth","frontend","section::growth","workflow::ready for development"],"milestone":null,"assignees":[],"author":{"id":2890431,"username":"amandarueda","name":"Amanda Rueda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2890431/avatar.png","web_url":"https://gitlab.com/amandarueda"},"type":"ISSUE","assignee":null,"user_notes_count":13,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1644","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/1644","notes":"https://gitlab.com/api/v4/projects/2670515/issues/1644/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/1644/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#1644","relative":"#1644","full":"gitlab-org/customers-gitlab-com#1644"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":53812606,"iid":1643,"project_id":2670515,"title":"Add ability for admin to renew trial","description":"### Problem\n\nFrom #1173 \n\nThe extend trial feature was implemented in https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/372 but our team members have not seen this option on any expired trials.\n\nNote: the option to extend trials by changing the end date does appear for active trials.\n\n### Example\n\nThe group https://gitlab.com/groups/this-trial-wont-work/-/billings has a trial that expired 2019-06-13, but there's no options that I can see that would allow me to:\n\n1. Know that a trial existed but has since expired\n1. Extend that trial\n\nScreenshot: ![image](https://gitlab.com/gitlab-org/customers-gitlab-com/uploads/bd6d2401597df0a913801d2d7b776bfd/image.png)\n\nInterestingly, even though Lyle started a new trial\n\n```\n#\u003cOrder:0x000000000bfbfb48\n id: 56044,\n customer_id: 8334,\n product_rate_plan_id: \"2c92a0fc5a83f01d015aa6db83c45aac\",\n subscription_id: nil,\n subscription_name: nil,\n start_date: Tue, 11 Feb 2020,\n end_date: Wed, 12 Feb 2020,\n quantity: 1,\n created_at: Tue, 11 Feb 2020 00:55:46 UTC +00:00,\n updated_at: Tue, 11 Feb 2020 00:56:24 UTC +00:00,\n gl_namespace_id: \"7139776\",\n gl_namespace_name: \"will-this-trial-work\",\n amendment_type: nil,\n trial: true,\n last_extra_ci_minutes_sync_at: nil,\n zuora_account_id: nil,\n increased_billing_rate_notified_at: nil\u003e\n```\n\nThe expired date is still the original. Nevertheless, I'm certain that more than one of Lyle's groups have had trials and none of them are showing previous expiration dates or the option to extend: https://customers.gitlab.com/admin/customer/8334/list_gitlab_namespaces\n\nPlease see @lyle's comments for more details: https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/372#note_284557673\n\n## This issue will be resolved when\n\nNote: displaying the date of a previously expired trial is being worked on in #1173 \n\nWhen team members have the ability to: \n\n* Reactivate and extend expired trials\n  * A team member will select a \"renew trial\" button\n  * The button will automatically reactivate the trial with Gold plan and an end date 2 weeks from current date\n  * Once reactivated, team member can select different plan and end date as with any active trial\n  * Note: team members should be able to reactive any trial regardless of its age\n\nSolution wireframe: \n \n| Step 1 | Step 2 |\n| ------ | ------ |\n| ![TrialsFuture](/uploads/13aa6f981fef502886e5a9a6d1a65bd1/TrialsFuture.png) | ![Trial_Update_expired_trial](/uploads/1cee93cd973e18b9fb6f3f377ae45ec9/Trial_Update_expired_trial.png) |\n\n## Technical considerations\n\nAs noted in https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1576#note_380200751\n\nwould be much easier to implement if we know which orders were created as a trial originally, and being able to check if a `trial` is `true` would help validate not accidentally changing a non-trial order.\n\nFrom https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1643#note_372870393\n\nfinding the original order for the trial may be somewhat problematic because the `trial_histories` table doesn't include the order ID.\n\nIdeally, when [the trial expires](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/6b275192c6dfa91f2ddee9ed7d50480fba34b65d/app/jobs/expire_order_job.rb#L17-23), the data is not edited so that the order keeps the original end date and that it was tied to a trial.\n\nNevertheless, even in the current state of things, we could potentially use the fact that trials are the only type of order not tied to a purchase transaction to find the relevant order:\n\n```\nsubscription_id: nil,\n subscription_name: nil\n```\n\nThe function could be a modified version of [what support currently use via console](https://gitlab.com/gitlab-com/support/toolbox/console-training-wheels/-/blob/master/lib/support_team.rb#L7), specifying gold plan and the current date + 2 weeks for the trial end date, as long as we also add the validation above.\n \n### Potential Solution\n\n* Add 'order_id' to trials history table\n* in Customers admin reference the trials history table for to check for expired trials for that particular namespace.\n* If an expired trial is found add a \"reactivate trial\" button and default the value to +14 days from current date. Once the trial is active, the admin should have the ability to adjust the date even further as needed, note the further adjustment of active trials should be a feature that's already live via https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/372\n* When extending a trial is extended we update the trials table with the updated trial end date\n* Update other relative systems/tables to ensure the trial is properly extended to the new end date\n\n## Prioritization\n\nDeprioritized in favour of https://gitlab.com/gitlab-org/gitlab/-/issues/290278","state":"closed","created_at":"2020-07-02T21:20:44.936Z","updated_at":"2022-08-03T00:37:14.198Z","closed_at":"2022-04-12T16:29:03.592Z","closed_by":{"id":4413992,"username":"s_awezec","name":"Sam Awezec","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4413992/avatar.png","web_url":"https://gitlab.com/s_awezec"},"labels":["Support Priority","auto updated","automation:prevent-auto-close","devops::fulfillment","group::acquisition","internal customer","section::fulfillment","severity::2","trials","type::bug","workflow::planning breakdown"],"milestone":{"id":1212252,"iid":48,"group_id":9970,"title":"Next 1-3 releases","description":"Issues which are not quite ready to schedule, but should be considered as part of the near-term roadmap.","state":"active","created_at":"2020-03-26T20:39:10.889Z","updated_at":"2020-03-26T20:39:10.889Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/48"},"assignees":[],"author":{"id":2454149,"username":"cynthia","name":"Cynthia \"Arty\" Ng","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2454149/avatar.png","web_url":"https://gitlab.com/cynthia"},"type":"ISSUE","assignee":null,"user_notes_count":17,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1643","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/1643","notes":"https://gitlab.com/api/v4/projects/2670515/issues/1643/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/1643/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#1643","relative":"#1643","full":"gitlab-org/customers-gitlab-com#1643"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7657,"epic":{"id":455267,"iid":7657,"title":"Admin Tools Themes","url":"/groups/gitlab-org/-/epics/7657","group_id":9970,"human_readable_end_date":"Feb 20, 2023","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":53734845,"iid":1641,"project_id":2670515,"title":"Store `seats_currently_in_use` field in gitlab.com `subscription` table","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n### Problem\n\nThe Data team needs to be able to replicate the GitLab UI Billing/Usage values that Customers/Users see on the GitLab UI into internal reports (for Sales, Product, etc) from the data warehouse. To ensure one SSOT for these calculations, it would be ideal that these values are stored in the same location at the same data granularity. \n\nThis issue specifically tracks storing the `seats_currently_in_use` field in gitlab.com `subscription` table. I will leave it up to the person who picks up this ticket to decide if this issue should also track making the UI read and use this value or if that should be a separate issue. Thank you for your help! \n\nFYI @amandarueda , @jbrennan1 , @derekatwood , @jeromezng \n\n### Proposal\n\n\nCurrently, the `max_seats_used` is stored into the `gitlab_subscriptions` table [via this cron job](https://gitlab.com/gitlab-org/gitlab/-/blob/c086bd8f75537a7f73fc386f2053962b389dc990/ee/app/workers/update_max_seats_used_for_gitlab_com_subscriptions_worker.rb). It would be ideal if this cron job also stored the other values on the [billing page](https://gitlab.com/gitlab-data/analytics/-/issues/5084/designs/Screen_Shot_2020-06-15_at_5.07.01_PM.png) into the datawarehouse at the same time and that the UI was retrieving this value so that there can be more consistency across systems in terms of our internal and external reporting of this value. \n\n\n### Result\n\n### Next steps (if any)\n\n### How will we measure success?","state":"closed","created_at":"2020-07-02T12:53:33.931Z","updated_at":"2020-10-14T14:09:04.858Z","closed_at":"2020-09-18T06:01:18.104Z","closed_by":{"id":1986039,"username":"lulalala","name":"Mark Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1986039/avatar.png","web_url":"https://gitlab.com/lulalala"},"labels":["Data team review","[deprecated] üçé","backend","devops::fulfillment","group::provision","section::fulfillment","type::feature","workflow::staging"],"milestone":{"id":1233753,"iid":51,"group_id":9970,"title":"13.4","description":"https://about.gitlab.com/releases/2020/09/22/gitlab-13-4-released/","state":"closed","created_at":"2020-04-09T17:39:21.662Z","updated_at":"2022-04-13T14:50:33.769Z","due_date":"2020-09-17","start_date":"2020-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/51"},"assignees":[{"id":1986039,"username":"lulalala","name":"Mark Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1986039/avatar.png","web_url":"https://gitlab.com/lulalala"}],"author":{"id":4413926,"username":"kathleentam","name":"Kathleen Tam","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4413926/avatar.png","web_url":"https://gitlab.com/kathleentam"},"type":"ISSUE","assignee":{"id":1986039,"username":"lulalala","name":"Mark Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1986039/avatar.png","web_url":"https://gitlab.com/lulalala"},"user_notes_count":18,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1641","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/1641","notes":"https://gitlab.com/api/v4/projects/2670515/issues/1641/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/1641/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#1641","relative":"#1641","full":"gitlab-org/customers-gitlab-com#1641"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":53664512,"iid":1638,"project_id":2670515,"title":"Consolidate on pattern for product copy place and presenting","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n### Problem\n\nSome background: https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/1581#note_372289528\n\nIn our `/plans` page we've got product specific copy; for example \"1000 CI minutes\".\n\nWe've also got product specific copy living on the frontend in https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/staging/app/frontend/javascripts/purchase/products.js\n\nAdditionally there's quite a lot of copy that's living in HAML templates or Vue templates.\n\nThis means that updating copy can mean touching multiple different files, and that copy can get out of sync.\n\n### Proposal\n\nWe should decide on some guidelines on when a copy should be pulled to a central place, and when it's fine to have it live in templates.\n\n* When should copy be pulled to a presenter (worth taking inspiration from https://gitlab.com/gitlab-org/gitlab-foss/blob/master/app/presenters/README.md#when-to-use-a-presenter)\n* When should copy live in the Vue template?\n* When should we pull data directly from Zuora?\n* Should some of this live in a database so we do not need to run a deploy to update copy?","state":"closed","created_at":"2020-07-02T10:43:21.493Z","updated_at":"2020-10-14T14:09:06.195Z","closed_at":"2020-09-01T12:55:13.131Z","closed_by":{"id":4430316,"username":"rhardarson","name":"Ragnar Hardarson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4430316/avatar.png","web_url":"https://gitlab.com/rhardarson"},"labels":["backend","devops::fulfillment","frontend","group::provision","maintenance::refactor","missed:13.2","missed:13.3","section::fulfillment","spike","workflow::production"],"milestone":{"id":1233753,"iid":51,"group_id":9970,"title":"13.4","description":"https://about.gitlab.com/releases/2020/09/22/gitlab-13-4-released/","state":"closed","created_at":"2020-04-09T17:39:21.662Z","updated_at":"2022-04-13T14:50:33.769Z","due_date":"2020-09-17","start_date":"2020-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/51"},"assignees":[{"id":4430316,"username":"rhardarson","name":"Ragnar Hardarson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4430316/avatar.png","web_url":"https://gitlab.com/rhardarson"}],"author":{"id":4430316,"username":"rhardarson","name":"Ragnar Hardarson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4430316/avatar.png","web_url":"https://gitlab.com/rhardarson"},"type":"ISSUE","assignee":{"id":4430316,"username":"rhardarson","name":"Ragnar Hardarson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4430316/avatar.png","web_url":"https://gitlab.com/rhardarson"},"user_notes_count":20,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1638","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/1638","notes":"https://gitlab.com/api/v4/projects/2670515/issues/1638/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/1638/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#1638","relative":"#1638","full":"gitlab-org/customers-gitlab-com#1638"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":53081941,"iid":1631,"project_id":2670515,"title":"Follow-up from \"Add service to create Salesforce Quote Amendment\"","description":"The following discussion from !1496 should be addressed:\n\n- [ ] @alexbuijs started a [discussion](https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/1496#note_361526697):  (+2 comments)\n\n    \u003e Maybe you could expand the `sf` part of this method name to `ensure_presence_of_salesforce_quote`? It is a bit more descriptive that way.","state":"closed","created_at":"2020-07-01T15:13:40.714Z","updated_at":"2021-07-21T08:46:17.884Z","closed_at":"2021-07-21T08:46:17.872Z","closed_by":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"labels":["[deprecated] üçé","auto closed","auto updated","devops::fulfillment","maintenance::refactor","section::fulfillment"],"milestone":null,"assignees":[],"author":{"id":5667561,"username":"vshumilo","name":"Vladlena Shumilo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08dfa82785d130c151ab9e21caeab4e3?s=80\u0026d=identicon","web_url":"https://gitlab.com/vshumilo"},"type":"ISSUE","assignee":null,"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1631","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/1631","notes":"https://gitlab.com/api/v4/projects/2670515/issues/1631/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/1631/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#1631","relative":"#1631","full":"gitlab-org/customers-gitlab-com#1631"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":53074827,"iid":1629,"project_id":2670515,"title":"Ensure `gl-link` not having it's own font-size won't break Customers","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\nSee https://gitlab.com/gitlab-org/gitlab-ui/-/issues/605 and https://gitlab.com/gitlab-org/gitlab-ui/-/merge_requests/1159#note_371241476 for more context.\n\nThe inner workings of `gl-link` font size is changing. \n\n\u003e In `gitlab.com` update all existing instances of `gl-link` to add a `gl-font-base` utility class. This way, we're guaranteed the preexisting behavior is preserved in `gitlab.com` (and we can slowly migrate away from it)...\n\nWe need to do the same in Customers.\n\nWith 12 instances at the time of writing this shouldn't be the biggest lift\n\n```\n~/workspace/customers-gitlab-com staging\n‚ùØ git grep gl-link | wc -l\n      12\n```","state":"closed","created_at":"2020-07-01T14:57:02.287Z","updated_at":"2020-07-28T20:00:43.359Z","closed_at":"2020-07-28T19:59:32.533Z","closed_by":{"id":447038,"username":"vitallium","name":"Vitaly Slobodin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/74b3243cfcfbfac1f022b78ab505e8d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/vitallium"},"labels":["devops::fulfillment","devops::growth","frontend","missed:13.2"],"milestone":{"id":1233752,"iid":50,"group_id":9970,"title":"13.3","description":"https://about.gitlab.com/releases/2020/08/22/gitlab-13-3-released/","state":"closed","created_at":"2020-04-09T17:39:21.090Z","updated_at":"2022-04-13T14:50:18.976Z","due_date":"2020-08-17","start_date":"2020-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/50"},"assignees":[],"author":{"id":4430316,"username":"rhardarson","name":"Ragnar Hardarson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4430316/avatar.png","web_url":"https://gitlab.com/rhardarson"},"type":"ISSUE","assignee":null,"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1629","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/1629","notes":"https://gitlab.com/api/v4/projects/2670515/issues/1629/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/1629/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#1629","relative":"#1629","full":"gitlab-org/customers-gitlab-com#1629"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":52491143,"iid":1624,"project_id":2670515,"title":"Data Cleanup: Credit card on file without default setting","description":"## Summary\n\nSomehow, customer records which have at least one credit card on file have gotten into a state where there is no default credit card indicated. This causes a purchasing error for users.\n\n## Proposal\n\nFor this issue, we need to find all the data records in this state and handle them accordingly.\n\nWe should query for all customer records which have:\n\n1. an active subscription\n1. no default payment method\n1. autorenew set to true\n\nFor these results we should:\n\n1. set autorenew to false\n\nFor the results where there are more than one credit card on file:\n\n1. Produce a report which includes:\n     - Customer record link to customers portal\n     - Email address associated with customer record\n     - Name associated with customer record\n     - Company associated with customer record\n     - SFDC ID\n     - Zuora ID\n     - Subscription number\n     - Products in subscription\n     - Subscription end date","state":"closed","created_at":"2020-06-30T20:29:40.512Z","updated_at":"2020-12-14T21:56:18.820Z","closed_at":"2020-12-14T21:56:18.768Z","closed_by":{"id":3614911,"username":"rcobb","name":"Ryan Cobb","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7047b7014264f07daf9836e55fc5ef4c?s=80\u0026d=identicon","web_url":"https://gitlab.com/rcobb"},"labels":["Fulfillment Priority","[deprecated] Category:Provision","[deprecated] üçé","data integrity","devops::fulfillment","group::provision","missed:13.6","section::fulfillment","workflow::verification"],"milestone":{"id":1233757,"iid":54,"group_id":9970,"title":"13.7","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:43:14.893Z","updated_at":"2022-04-13T14:51:12.240Z","due_date":"2020-12-17","start_date":"2020-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/54"},"assignees":[{"id":3614911,"username":"rcobb","name":"Ryan Cobb","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7047b7014264f07daf9836e55fc5ef4c?s=80\u0026d=identicon","web_url":"https://gitlab.com/rcobb"}],"author":{"id":2890431,"username":"amandarueda","name":"Amanda Rueda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2890431/avatar.png","web_url":"https://gitlab.com/amandarueda"},"type":"ISSUE","assignee":{"id":3614911,"username":"rcobb","name":"Ryan Cobb","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7047b7014264f07daf9836e55fc5ef4c?s=80\u0026d=identicon","web_url":"https://gitlab.com/rcobb"},"user_notes_count":24,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1624","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/1624","notes":"https://gitlab.com/api/v4/projects/2670515/issues/1624/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/1624/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#1624","relative":"#1624","full":"gitlab-org/customers-gitlab-com#1624"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4599,"epic":{"id":125928,"iid":4599,"title":"Purchase and Provisioning Issues Related to Data Integrity","url":"/groups/gitlab-org/-/epics/4599","group_id":9970,"human_readable_end_date":"Jul 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":52460608,"iid":1621,"project_id":2670515,"title":"Improve purchase error when no default credit card is on file","description":"## Summary\n\nWhen a user attempts to make a purchase in the customers portal and a credit card is on file but is not marked as \"default\", we display `Electronic payment needs electronic payment method` as an error, which is not helpful. \n\n![image__1___1_](/uploads/8dab983db2c467cc5a57d9651c4eef99/image__1___1_.png)\n\n## Proposal\n\nWe should display a helpful message which directs the user how to solve the issue.\n\nTo solve the issue, the user needs to edit the existing credit card and mark it as `default` or create a new credit card record and mark it as default.","state":"closed","created_at":"2020-06-30T19:34:38.289Z","updated_at":"2022-09-29T19:36:34.985Z","closed_at":"2020-09-14T18:04:04.251Z","closed_by":{"id":2890431,"username":"amandarueda","name":"Amanda Rueda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2890431/avatar.png","web_url":"https://gitlab.com/amandarueda"},"labels":["[deprecated] üçé","devops::fulfillment","devops::growth","frontend","link::parent issue","section::growth"],"milestone":null,"assignees":[],"author":{"id":2890431,"username":"amandarueda","name":"Amanda Rueda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2890431/avatar.png","web_url":"https://gitlab.com/amandarueda"},"type":"ISSUE","assignee":null,"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1621","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/1621","notes":"https://gitlab.com/api/v4/projects/2670515/issues/1621/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/1621/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#1621","relative":"#1621","full":"gitlab-org/customers-gitlab-com#1621"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":50130977,"iid":1610,"project_id":2670515,"title":"UX: How should we display pricing information related to purchases?","description":"## Summary\n\nWhile working [this issue](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1560), we discovered a use case (plan upgrades) which we determined needed an additional level of pricing detail (the proration credit) that we do not currently display. \n\nIn following this discussion, we determined that we would likely need to mimic the line-level detail on invoices in the subscription card to adequately display the activity. \n\nThis led me to wonder why we are displaying pricing in the subscription card at all? I am not sure this data is commonly used by customers, especially since it is incorrect today and we don't get complaints about it. \n\nPerhaps we should spend effort on making the Invoices page more useful (collated by subscription, provide an ability to expand and view details, etc), rather than building pricing out in the subscription card.\n\nI'd like UX to dig into this and provide a recommendation. Since we've removed the pricing from the subscription card, I'd like to get this follow-on work in pretty quickly.","state":"closed","created_at":"2020-06-26T14:39:48.548Z","updated_at":"2020-09-17T21:56:57.150Z","closed_at":"2020-09-17T21:56:57.118Z","closed_by":{"id":4377833,"username":"esybrant","name":"Emily Sybrant","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4377833/avatar.png","web_url":"https://gitlab.com/esybrant"},"labels":["UX","[deprecated] üçé","devops::fulfillment","devops::growth","missed:13.2","missed:13.3","section::growth"],"milestone":{"id":1233753,"iid":51,"group_id":9970,"title":"13.4","description":"https://about.gitlab.com/releases/2020/09/22/gitlab-13-4-released/","state":"closed","created_at":"2020-04-09T17:39:21.662Z","updated_at":"2022-04-13T14:50:33.769Z","due_date":"2020-09-17","start_date":"2020-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/51"},"assignees":[{"id":4377833,"username":"esybrant","name":"Emily Sybrant","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4377833/avatar.png","web_url":"https://gitlab.com/esybrant"}],"author":{"id":2890431,"username":"amandarueda","name":"Amanda Rueda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2890431/avatar.png","web_url":"https://gitlab.com/amandarueda"},"type":"ISSUE","assignee":{"id":4377833,"username":"esybrant","name":"Emily Sybrant","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4377833/avatar.png","web_url":"https://gitlab.com/esybrant"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2020-08-17","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1610","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/1610","notes":"https://gitlab.com/api/v4/projects/2670515/issues/1610/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/1610/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#1610","relative":"#1610","full":"gitlab-org/customers-gitlab-com#1610"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":50092686,"iid":1602,"project_id":2670515,"title":"SPIKE: Decommission the EULA acceptance process in customers","description":"## Summary\n\nIn a decision made [here](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1360#note_368446506) we will no longer require a manual EULA process. As a result. We need to decommission the processes involved, including the templates, the emails to user/reseller/SFDC. We should retain any acceptance data previously obtained for a period of _tbd_ in case it is needed by the legal team.\n\nThis is a research issue to identify, create and weight issues for the individual tasks required to decommission the customers portal EULA processes.\n\nWe will schedule the dev issues created for %\"13.5\"","state":"closed","created_at":"2020-06-25T19:18:54.720Z","updated_at":"2020-10-14T16:11:54.899Z","closed_at":"2020-08-21T21:30:24.980Z","closed_by":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"labels":["Data team review","Deliverable","EntApp Ecosystem","backend","devops::fulfillment","group::provision","portal integration","section::fulfillment","spike","type::feature","workflow::production"],"milestone":{"id":1233753,"iid":51,"group_id":9970,"title":"13.4","description":"https://about.gitlab.com/releases/2020/09/22/gitlab-13-4-released/","state":"closed","created_at":"2020-04-09T17:39:21.662Z","updated_at":"2022-04-13T14:50:33.769Z","due_date":"2020-09-17","start_date":"2020-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/51"},"assignees":[{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"}],"author":{"id":2890431,"username":"amandarueda","name":"Amanda Rueda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2890431/avatar.png","web_url":"https://gitlab.com/amandarueda"},"type":"ISSUE","assignee":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"user_notes_count":19,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1602","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/1602","notes":"https://gitlab.com/api/v4/projects/2670515/issues/1602/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/1602/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#1602","relative":"#1602","full":"gitlab-org/customers-gitlab-com#1602"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4606,"epic":{"id":126292,"iid":4606,"title":"Migrate EULA acceptance to in-app process","url":"/groups/gitlab-org/-/epics/4606","group_id":9970,"human_readable_end_date":"Nov 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":50052205,"iid":1597,"project_id":2670515,"title":"[Deprecate Zuora SOAP] Remove SOAP code related to payment methods","description":"### Problem\nNow that the Zuora REST update is complete and the SOAP code is no longer needed, we can remove all the legacy Zuora SOAP code from the application.  One place that was missed during the initial deprecation work was code related to payment methods.\n\n### Proposal\nWe can remove the Zuora SOAP API code and related feature flags. This issue focuses on cleaning up the SOAP logic and feature flags related to the payment methods which was added in https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/620.\n\nThe [`PaymentMethodPresenter` also has code](https://gitlab.com/gitlab-org/customers-gitlab-com/blob/75cf2267f33f0b34e5c25834e34d8f489c1cfc25/app/presenters/payment_method_presenter.rb#L35) that should be cleaned up as part of this issue.\n\nIf there are any other places that check for `Feature.enabled?(:zuora_rest_api)` we should consider removing them, either in this issue or a separate issue.","state":"closed","created_at":"2020-06-25T01:29:21.989Z","updated_at":"2020-07-23T21:42:38.227Z","closed_at":"2020-07-21T17:31:32.969Z","closed_by":{"id":4668650,"username":"k_cook","name":"Kirstie Cook","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4668650/avatar.png","web_url":"https://gitlab.com/k_cook"},"labels":["backstage [DEPRECATED]","devops::fulfillment","devops::growth","maintenance::refactor","missed:13.2","workflow::production"],"milestone":{"id":1233752,"iid":50,"group_id":9970,"title":"13.3","description":"https://about.gitlab.com/releases/2020/08/22/gitlab-13-3-released/","state":"closed","created_at":"2020-04-09T17:39:21.090Z","updated_at":"2022-04-13T14:50:18.976Z","due_date":"2020-08-17","start_date":"2020-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/50"},"assignees":[{"id":4668650,"username":"k_cook","name":"Kirstie Cook","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4668650/avatar.png","web_url":"https://gitlab.com/k_cook"}],"author":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"type":"ISSUE","assignee":{"id":4668650,"username":"k_cook","name":"Kirstie Cook","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4668650/avatar.png","web_url":"https://gitlab.com/k_cook"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1597","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/1597","notes":"https://gitlab.com/api/v4/projects/2670515/issues/1597/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/1597/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#1597","relative":"#1597","full":"gitlab-org/customers-gitlab-com#1597"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2286,"epic":{"id":15763,"iid":2286,"title":"Deprecate Zuora SOAP apis and enhance REST apis","url":"/groups/gitlab-org/-/epics/2286","group_id":9970,"human_readable_end_date":"Dec 31, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":50039350,"iid":1594,"project_id":2670515,"title":"Prefer `RSpec.describe` over `describe` in top-level namespace","description":"### Problem\nThe GitLab development docs were updated recently to prefer `RSpec.describe` over `describe` in top-level namespace.  It is [referenced here in the docs](https://docs.gitlab.com/ee/development/testing_guide/best_practices.html#general-guidelines). This is a best practice to avoid a monkey patch and will be removed in RSpec 4.0.\n\nReferences:\n- https://gitlab.com/gitlab-org/gitlab/-/issues/220018\n- https://gitlab.com/gitlab-org/gitlab/-/issues/220218\n\n\n### Proposal\nWe should update all specs to use `RSpec.describe` at the root level and disable the monkey patching going forward.  See [this issue](https://gitlab.com/gitlab-org/gitlab/-/issues/220018) for more information for how this was accomplished in GL.","state":"closed","created_at":"2020-06-24T17:25:18.316Z","updated_at":"2020-06-26T11:08:15.901Z","closed_at":"2020-06-26T11:08:15.864Z","closed_by":{"id":447038,"username":"vitallium","name":"Vitaly Slobodin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/74b3243cfcfbfac1f022b78ab505e8d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/vitallium"},"labels":["backstage [DEPRECATED]","devops::fulfillment","devops::growth","maintenance::refactor"],"milestone":{"id":1233746,"iid":49,"group_id":9970,"title":"13.2","description":"https://about.gitlab.com/releases/2020/07/22/gitlab-13-2-released/","state":"closed","created_at":"2020-04-09T17:28:01.032Z","updated_at":"2022-04-13T14:48:24.167Z","due_date":"2020-07-17","start_date":"2020-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/49"},"assignees":[{"id":447038,"username":"vitallium","name":"Vitaly Slobodin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/74b3243cfcfbfac1f022b78ab505e8d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/vitallium"}],"author":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"type":"ISSUE","assignee":{"id":447038,"username":"vitallium","name":"Vitaly Slobodin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/74b3243cfcfbfac1f022b78ab505e8d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/vitallium"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1594","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/1594","notes":"https://gitlab.com/api/v4/projects/2670515/issues/1594/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/1594/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#1594","relative":"#1594","full":"gitlab-org/customers-gitlab-com#1594"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":50030430,"iid":1593,"project_id":2670515,"title":"Consider using IronBank's local records feature to improve performance","description":"### Problem\nThere are possibly 2 problems solved by this proposal:\n1. The Customer Portal commonly communicates with Zuora which can become a bottleneck for performance.\n1. Plans are preloaded during the initialization of the Rails application which is a blocker for moving the Customer Portal app to Auto Devops.  Check out !525 for more details.\n\n### Proposal\nWe should investigate using [the \"local records\" feature in IronBank](https://github.com/zendesk/iron_bank#local-records) to provide a caching layer for Zuora objects that don't commonly change.  According to the [IronBank docs](https://github.com/zendesk/iron_bank#local-records):\n\n\u003e If your product catalog does not change often, you may want to export it locally so that product catalog and related object queries look for local records first, then fallback to the API if no records are found.\n\u003e \n\u003e You can export your product catalog locally using the LocalRecords class:\n\u003e ```\n\u003e # Save CSV files in the directory specified by `config.export_directory`\n\u003e IronBank::LocalRecords.export\n\u003e ```\n\nWith this change, we might be able to refactor or completely remove the eager loading of plans (defined [here](https://gitlab.com/gitlab-org/customers-gitlab-com/blob/4ff55c5197239fa25e037f3749d9af1666804e9e/app/models/plans_finder.rb#L19) and initialized [here](https://gitlab.com/gitlab-org/customers-gitlab-com/blob/8c0c8b6c20692479ea8d9482721465ebb8f6aba6/config/application.rb#L69)\n\n### Result\nA cleaner initialization and more performant app.","state":"closed","created_at":"2020-06-24T13:30:23.081Z","updated_at":"2020-11-11T15:49:31.677Z","closed_at":"2020-08-25T07:50:25.930Z","closed_by":{"id":1986039,"username":"lulalala","name":"Mark Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1986039/avatar.png","web_url":"https://gitlab.com/lulalala"},"labels":["backstage [DEPRECATED]","devops::fulfillment","devops::growth","missed:13.2","missed:13.3","workflow::in review"],"milestone":{"id":1233753,"iid":51,"group_id":9970,"title":"13.4","description":"https://about.gitlab.com/releases/2020/09/22/gitlab-13-4-released/","state":"closed","created_at":"2020-04-09T17:39:21.662Z","updated_at":"2022-04-13T14:50:33.769Z","due_date":"2020-09-17","start_date":"2020-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/51"},"assignees":[{"id":1986039,"username":"lulalala","name":"Mark Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1986039/avatar.png","web_url":"https://gitlab.com/lulalala"}],"author":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"type":"ISSUE","assignee":{"id":1986039,"username":"lulalala","name":"Mark Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1986039/avatar.png","web_url":"https://gitlab.com/lulalala"},"user_notes_count":27,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1593","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/1593","notes":"https://gitlab.com/api/v4/projects/2670515/issues/1593/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/1593/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#1593","relative":"#1593","full":"gitlab-org/customers-gitlab-com#1593"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":50004811,"iid":1587,"project_id":2670515,"title":"Investigate card decline issue","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"bug\" label in relevant trackers:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n- https://gitlab.com/gitlab-org/customers-gitlab-com/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n\nDo not include confidential information!\n---\u003e\n\n### Summary\n\nRecently, we have seen several tickets where customers are experiencing credit cards being declined even though the card works on other services. Customers also try to use different cards but seems like most of the time different cards did not resolve the issue. Since everything is not clear as we cannot find anymore information in sentry, please kindly investigate this issue.\n\n### Steps to reproduce\n\nN/A\n\n### What is the current *bug* behavior?\n\nCredit card is declined while try to make a purchase on customer portal even though it's working on other service.\n\n### What is the expected *correct* behavior?\n\nIf the card work with other services, it should work on customer portal.\n\n### Relevant logs and/or screenshots\n\n- Sentry issue: [CUSTOMERSGITLABCOM-2NZ](https://sentry.gitlab.net/gitlab/customersgitlabcom/issues/1181887/?referrer=gitlab_integration)\n\nPossible related issue:\n\n- Sentry issue: [CUSTOMERSGITLABCOM-3BM](https://sentry.gitlab.net/gitlab/customersgitlabcom/issues/1531808/?referrer=gitlab_integration)\n\n### Workarounds\n\n(Ways to get around the issue)\n\n### Reported examples\n\n1. https://gitlab.zendesk.com/agent/tickets/158827\n1. https://gitlab.zendesk.com/agent/tickets/160371\n1. https://gitlab.zendesk.com/agent/tickets/160087\n1. https://gitlab.zendesk.com/agent/tickets/162539\n1. https://gitlab.zendesk.com/agent/tickets/165580 customer mentioned they have some temporary cards\n\n\u003c!---\nPlease add both severity and priority level according to: https://docs.gitlab.com/ee/development/contributing/issue_workflow.html#severity-labels\n---\u003e","state":"closed","created_at":"2020-06-23T23:35:33.776Z","updated_at":"2023-01-26T22:56:14.678Z","closed_at":"2021-12-22T07:11:12.895Z","closed_by":{"id":786864,"username":"rotanak","name":"Sokunrotanak Srey (Rotanak)","state":"active","avatar_url":"https://secure.gravatar.com/avatar/9e138f6598fa362b95f725febc80087e?s=80\u0026d=identicon","web_url":"https://gitlab.com/rotanak"},"labels":["Category:Purchase","Fulfillment Priority","Support Priority::Categorize","[deprecated] Category:Provision","auto closed","auto updated","customer","devops::fulfillment","group::purchase","section::fulfillment","type::bug","vintage","wontfix"],"milestone":{"id":1212252,"iid":48,"group_id":9970,"title":"Next 1-3 releases","description":"Issues which are not quite ready to schedule, but should be considered as part of the near-term roadmap.","state":"active","created_at":"2020-03-26T20:39:10.889Z","updated_at":"2020-03-26T20:39:10.889Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/48"},"assignees":[],"author":{"id":786864,"username":"rotanak","name":"Sokunrotanak Srey (Rotanak)","state":"active","avatar_url":"https://secure.gravatar.com/avatar/9e138f6598fa362b95f725febc80087e?s=80\u0026d=identicon","web_url":"https://gitlab.com/rotanak"},"type":"ISSUE","assignee":null,"user_notes_count":23,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1587","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/1587","notes":"https://gitlab.com/api/v4/projects/2670515/issues/1587/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/1587/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#1587","relative":"#1587","full":"gitlab-org/customers-gitlab-com#1587"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4599,"epic":{"id":125928,"iid":4599,"title":"Purchase and Provisioning Issues Related to Data Integrity","url":"/groups/gitlab-org/-/epics/4599","group_id":9970,"human_readable_end_date":"Jul 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":49898619,"iid":1579,"project_id":2670515,"title":"Investigate and fix intermittent failures in payment_method spec","description":"The following discussion from !1552 should be addressed:\n\n- [ ] @jejacks0n started a [discussion](https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/1552#note_364813747):  (+2 comments)\n\n    \u003e @rhardarson looks like we have a flakey test with https://gitlab.com/gitlab-org/customers-gitlab-com/-/jobs/603585348 -- do you know what that might be about?\n    \u003e \n    \u003e Also: https://gitlab.com/gitlab-org/customers-gitlab-com/-/jobs/603643658\n\nVery similar to https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1511\n\nWe're seeing the feature spec `./spec/features/payment_methods_spec.rb` fail every once in a while.\n\nAfter the fact it's pretty difficult to figure out what went wrong.\n\nWe need to identify what's the cause of this flakiness.\n\n* Race condition in spec?\n* Non-deterministic behaviour?\n* Is the spec correct but the code itself is flaky?\n* Is VCR not matching HTTP requests?\n* Is this because it's making real HTTP requests to Zuora? Can we add more VCR coverage then?","state":"closed","created_at":"2020-06-22T10:10:50.200Z","updated_at":"2020-11-13T12:27:43.923Z","closed_at":"2020-11-13T12:19:37.239Z","closed_by":{"id":4430316,"username":"rhardarson","name":"Ragnar Hardarson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4430316/avatar.png","web_url":"https://gitlab.com/rhardarson"},"labels":["devops::fulfillment","devops::growth","frontend","section::fulfillment"],"milestone":{"id":1233753,"iid":51,"group_id":9970,"title":"13.4","description":"https://about.gitlab.com/releases/2020/09/22/gitlab-13-4-released/","state":"closed","created_at":"2020-04-09T17:39:21.662Z","updated_at":"2022-04-13T14:50:33.769Z","due_date":"2020-09-17","start_date":"2020-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/51"},"assignees":[],"author":{"id":4430316,"username":"rhardarson","name":"Ragnar Hardarson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4430316/avatar.png","web_url":"https://gitlab.com/rhardarson"},"type":"ISSUE","assignee":null,"user_notes_count":22,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1579","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/1579","notes":"https://gitlab.com/api/v4/projects/2670515/issues/1579/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/1579/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#1579","relative":"#1579","full":"gitlab-org/customers-gitlab-com#1579"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3921,"epic":{"id":81510,"iid":3921,"title":"[Customer portal] Improve test suite","url":"/groups/gitlab-org/-/epics/3921","group_id":9970,"human_readable_end_date":"Aug 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":49249958,"iid":1573,"project_id":2670515,"title":"Use spacing utilities from GitLab UI in CompanyDetails","description":"The following discussion from !1364 should be addressed:\n\n- [ ] @ekigbo started a [discussion](https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/1364#note_357623676):  (+2 comments)\n\n    \u003e I think we can replace these with their `gl` equivalents, :thinking: ?\n    \u003e \n    \u003e ```suggestion:-0+0\n    \u003e     \u003cdiv class=\"gl-display-flex gl-justify-content-space-between gl-mb-5\"\u003e\n    \u003e ```","state":"closed","created_at":"2020-06-19T12:22:52.784Z","updated_at":"2021-09-10T06:53:25.074Z","closed_at":"2021-09-10T06:53:24.703Z","closed_by":{"id":447038,"username":"vitallium","name":"Vitaly Slobodin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/74b3243cfcfbfac1f022b78ab505e8d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/vitallium"},"labels":["[deprecated] üçé","auto updated","devops::fulfillment","frontend","section::fulfillment","workflow::production"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":447038,"username":"vitallium","name":"Vitaly Slobodin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/74b3243cfcfbfac1f022b78ab505e8d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/vitallium"}],"author":{"id":447038,"username":"vitallium","name":"Vitaly Slobodin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/74b3243cfcfbfac1f022b78ab505e8d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/vitallium"},"type":"ISSUE","assignee":{"id":447038,"username":"vitallium","name":"Vitaly Slobodin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/74b3243cfcfbfac1f022b78ab505e8d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/vitallium"},"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1573","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/1573","notes":"https://gitlab.com/api/v4/projects/2670515/issues/1573/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/1573/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#1573","relative":"#1573","full":"gitlab-org/customers-gitlab-com#1573"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":48388869,"iid":1570,"project_id":2670515,"title":"Follow-up from \"Improve order -\u003e namespace resolution logic\"","description":"The following discussion from !1529 should be addressed:\n\n- [ ] @tyleramos started a [discussion](https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/1529#note_364083877): \n\n    \u003e **Suggestion (non-blocking)**: We could extract part of this into a method called `gitlab_namespace`.  This method could do the lookup with the list service and return the one that matches the `gl_namespace_id`.  The main advantage is easy reuse of the gitlab namespace.\n    \u003e ```\n    \u003e def gitlab_namespace\n    \u003e   return nil if gl_namespace_id.blank?\n    \u003e \n    \u003e   @gitlab_namespace ||= begin\n    \u003e     namespaces = Gitlab::Namespace::ListService.new(customer).execute || []\n    \u003e     # \"to_s\" the id from gitlab because we store ours as strings. :joy:\n    \u003e     namespaces.find { |ns| ns.id.to_s == gl_namespace_id }\n    \u003e   end\n    \u003e end\n    \u003e ```\n    \u003e \n    \u003e That would just leave this method much simpler, maybe something like:\n    \u003e \n    \u003e ```\n    \u003e def current_number_of_users\n    \u003e   return 0 unless gitlab_namespace\n    \u003e \n    \u003e   gitlab_namespace[:billable_members_count) || 0\n    \u003e end\n    \u003e ```\n    \u003e \n    \u003e Since this is not needed yet, I'm happy not doing it now.  Mostly just mentioning it so that I can create a follow up issue for it. :smile:","state":"closed","created_at":"2020-06-18T20:05:33.202Z","updated_at":"2020-10-14T14:10:25.754Z","closed_at":"2020-07-10T17:29:54.988Z","closed_by":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"labels":["[deprecated] üçé","backend","devops::fulfillment","group::provision","maintenance::refactor","section::fulfillment","workflow::production"],"milestone":{"id":1233746,"iid":49,"group_id":9970,"title":"13.2","description":"https://about.gitlab.com/releases/2020/07/22/gitlab-13-2-released/","state":"closed","created_at":"2020-04-09T17:28:01.032Z","updated_at":"2022-04-13T14:48:24.167Z","due_date":"2020-07-17","start_date":"2020-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/49"},"assignees":[{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"}],"author":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"type":"ISSUE","assignee":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1570","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/1570","notes":"https://gitlab.com/api/v4/projects/2670515/issues/1570/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/1570/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#1570","relative":"#1570","full":"gitlab-org/customers-gitlab-com#1570"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null}]