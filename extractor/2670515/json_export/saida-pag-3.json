[{"id":120526365,"iid":5381,"project_id":2670515,"title":"Add CI mins product details section in subscription-v2 component","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n### Proposal\nSimilar to https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5379, create a new section to show CI minutes product details.  \n![image](/uploads/0fc3203cf90b9c8068a518b04fb61f01/image.png)\n\n\u003c!-- Consult with `@gitlab-com/business-technology/enterprise-apps/zuora-architects` on the ~\"Enterprise Applications\" team if Zuora business logic is involved. --\u003e\n\n### Result\n\n### Next steps (if any)\n\n### How will we measure success?\n\nDesign: https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3916","state":"closed","created_at":"2022-12-16T10:59:18.708Z","updated_at":"2023-02-21T12:10:23.665Z","closed_at":"2023-01-31T16:27:09.407Z","closed_by":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"labels":["Category:Subscription Management","Deliverable","UX","devops::fulfillment","feature::addition","frontend","group::billing and subscription management","missed:15.8","section::fulfillment","type::feature","workflow::complete"],"milestone":{"id":2745650,"iid":84,"group_id":9970,"title":"15.9","description":"","state":"active","created_at":"2022-08-22T16:58:02.303Z","updated_at":"2022-08-22T16:58:02.303Z","due_date":"2023-02-17","start_date":"2023-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/84"},"assignees":[{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"}],"author":{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"},"type":"ISSUE","assignee":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5381","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5381","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5381/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5381/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5381","relative":"#5381","full":"gitlab-org/customers-gitlab-com#5381"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8748,"epic":{"id":602374,"iid":8748,"title":"Ramps subscription display in Customers Portal and gitlab.com","url":"/groups/gitlab-org/-/epics/8748","group_id":9970,"human_readable_end_date":"May 31, 2023","human_readable_timestamp":"\u003cstrong\u003e25\u003c/strong\u003e days remaining"},"iteration":null,"health_status":"on_track"},{"id":120525854,"iid":5380,"project_id":2670515,"title":"Add storage product details section in subscription-v2 component","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n### Proposal\nSimilar to https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5379, create a new section to show storage product details.  \n![image](/uploads/0639894b42be02fbd4652fb6434c17f5/image.png)\n\n\u003c!-- Consult with `@gitlab-com/business-technology/enterprise-apps/zuora-architects` on the ~\"Enterprise Applications\" team if Zuora business logic is involved. --\u003e\n\n### Result\n\n### Next steps (if any)\n\n### How will we measure success?\n\nDesign: https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3916","state":"closed","created_at":"2022-12-16T10:48:03.260Z","updated_at":"2023-02-21T12:10:23.718Z","closed_at":"2023-01-27T05:14:45.327Z","closed_by":{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"},"labels":["Category:Subscription Management","Deliverable","UX","devops::fulfillment","feature::addition","frontend","group::billing and subscription management","missed:15.8","section::fulfillment","type::feature","workflow::complete"],"milestone":{"id":2745650,"iid":84,"group_id":9970,"title":"15.9","description":"","state":"active","created_at":"2022-08-22T16:58:02.303Z","updated_at":"2022-08-22T16:58:02.303Z","due_date":"2023-02-17","start_date":"2023-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/84"},"assignees":[{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"}],"author":{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"},"type":"ISSUE","assignee":{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"},"user_notes_count":14,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5380","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5380","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5380/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5380/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5380","relative":"#5380","full":"gitlab-org/customers-gitlab-com#5380"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8748,"epic":{"id":602374,"iid":8748,"title":"Ramps subscription display in Customers Portal and gitlab.com","url":"/groups/gitlab-org/-/epics/8748","group_id":9970,"human_readable_end_date":"May 31, 2023","human_readable_timestamp":"\u003cstrong\u003e25\u003c/strong\u003e days remaining"},"iteration":null,"health_status":"on_track"},{"id":120525080,"iid":5379,"project_id":2670515,"title":"Add main product details section in subscription-v2 component","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n### Proposal\nAdd the section to show main product details in the `subscription-v2` component that will be created in https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5376. This section will be used to display the main product details only (and not addon products like CI mins and storage since they have a slightly different UI).\n![image](/uploads/09e1d83139f1ffbdc4556de0fbb3093e/image.png)\n\nDesign: https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3916\n\n\u003c!-- Consult with `@gitlab-com/business-technology/enterprise-apps/zuora-architects` on the ~\"Enterprise Applications\" team if Zuora business logic is involved. --\u003e\n\n### Result\n\n### Next steps (if any)\n\n### How will we measure success?","state":"closed","created_at":"2022-12-16T10:30:45.915Z","updated_at":"2023-02-21T12:10:23.769Z","closed_at":"2023-01-23T06:56:58.301Z","closed_by":{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"},"labels":["Category:Subscription Management","Deliverable","UX","devops::fulfillment","feature::addition","frontend","group::billing and subscription management","missed:15.8","section::fulfillment","type::feature","workflow::complete"],"milestone":{"id":2745650,"iid":84,"group_id":9970,"title":"15.9","description":"","state":"active","created_at":"2022-08-22T16:58:02.303Z","updated_at":"2022-08-22T16:58:02.303Z","due_date":"2023-02-17","start_date":"2023-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/84"},"assignees":[{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"}],"author":{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"},"type":"ISSUE","assignee":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5379","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5379","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5379/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5379/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5379","relative":"#5379","full":"gitlab-org/customers-gitlab-com#5379"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8748,"epic":{"id":602374,"iid":8748,"title":"Ramps subscription display in Customers Portal and gitlab.com","url":"/groups/gitlab-org/-/epics/8748","group_id":9970,"human_readable_end_date":"May 31, 2023","human_readable_timestamp":"\u003cstrong\u003e25\u003c/strong\u003e days remaining"},"iteration":null,"health_status":"on_track"},{"id":120515941,"iid":5376,"project_id":2670515,"title":"Add subscription level details to new subscription card for ramp subscriptions","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n### Proposal\nAdd subscription level details section as per the [new designs](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3916/) for the subscription card for ramp subscriptions.  \nNote: The side menu bar to modify the subscription is out of scope of this issue and will be tackled in a separate issue.\n![image](/uploads/07b664d40eb1063bb68cc441307fa8c9/image.png)\n\nThe new component should be behind the `display_ramp_subscriptions` feature flag which will be added in https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5373.\n\n\u003c!-- Consult with `@gitlab-com/business-technology/enterprise-apps/zuora-architects` on the ~\"Enterprise Applications\" team if Zuora business logic is involved. --\u003e\n\n### Result\n\n### Next steps (if any)\n| Task | MR | Status |\n| ------ | ------ |------ |\n|   Introduce card \u0026 storybook     | https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/6244       | ~\"workflow::complete\"    | \n| Tooltip content | https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/6269 | ~\"workflow::complete\" \n|    UI tweaks    |    https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/6318    | ~\"workflow::complete\" | \n### How will we measure success?\n\n**Design:** https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3916/ and https://www.figma.com/file/U9JvYVy1Ls9IKrrPw1vt38/Subscription-management?node-id=239%3A10609\u0026t=RFsPIuAGNurLWCJB-0","state":"closed","created_at":"2022-12-16T07:59:24.426Z","updated_at":"2023-02-21T12:10:23.814Z","closed_at":"2023-01-30T22:23:03.909Z","closed_by":{"id":10770603,"username":"lmeckley","name":"Laura Meckley","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10770603/avatar.png","web_url":"https://gitlab.com/lmeckley"},"labels":["Category:Subscription Management","Deliverable","UX","devops::fulfillment","feature::addition","frontend","group::billing and subscription management","missed:15.8","section::fulfillment","type::feature","workflow::complete"],"milestone":{"id":2745650,"iid":84,"group_id":9970,"title":"15.9","description":"","state":"active","created_at":"2022-08-22T16:58:02.303Z","updated_at":"2022-08-22T16:58:02.303Z","due_date":"2023-02-17","start_date":"2023-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/84"},"assignees":[{"id":10770603,"username":"lmeckley","name":"Laura Meckley","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10770603/avatar.png","web_url":"https://gitlab.com/lmeckley"}],"author":{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"},"type":"ISSUE","assignee":{"id":10770603,"username":"lmeckley","name":"Laura Meckley","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10770603/avatar.png","web_url":"https://gitlab.com/lmeckley"},"user_notes_count":18,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5376","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5376","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5376/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5376/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5376","relative":"#5376","full":"gitlab-org/customers-gitlab-com#5376"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8748,"epic":{"id":602374,"iid":8748,"title":"Ramps subscription display in Customers Portal and gitlab.com","url":"/groups/gitlab-org/-/epics/8748","group_id":9970,"human_readable_end_date":"May 31, 2023","human_readable_timestamp":"\u003cstrong\u003e25\u003c/strong\u003e days remaining"},"iteration":null,"health_status":"on_track"},{"id":120515591,"iid":5375,"project_id":2670515,"title":"Add ramp details in SubscriptionPresenter","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n### Problem\nCurrently the ramp details are not sent to the frontend under the products.  \n![image](/uploads/ea5af87826e42aaecbf911d30d707916/image.png)\n\n### Proposal\nAdd a new attribute `ramps` for each subscription in `subscription_presenter.rb` which will return the list of ramps in that subscription. Details needed in every ramp are - \n1. Start date\n2. End Date\n3. Quantity\n4. Price per unit\n5. Product Name\n6. Rate Plan Id\n\n\u003c!-- Consult with `@gitlab-com/business-technology/enterprise-apps/zuora-architects` on the ~\"Enterprise Applications\" team if Zuora business logic is involved. --\u003e\n\n### Result\n\n### Next steps (if any)\n\n### How will we measure success?","state":"closed","created_at":"2022-12-16T07:50:27.754Z","updated_at":"2023-01-10T14:17:30.043Z","closed_at":"2023-01-10T14:17:30.004Z","closed_by":{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"},"labels":["Category:Subscription Management","backend","devops::fulfillment","feature::addition","group::billing and subscription management","section::fulfillment","type::feature","workflow::production"],"milestone":{"id":2745648,"iid":83,"group_id":9970,"title":"15.8","description":"","state":"active","created_at":"2022-08-22T16:57:34.875Z","updated_at":"2022-08-22T16:57:34.875Z","due_date":"2023-01-17","start_date":"2022-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/83"},"assignees":[{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"}],"author":{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"},"type":"ISSUE","assignee":{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5375","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5375","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5375/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5375/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5375","relative":"#5375","full":"gitlab-org/customers-gitlab-com#5375"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8748,"epic":{"id":602374,"iid":8748,"title":"Ramps subscription display in Customers Portal and gitlab.com","url":"/groups/gitlab-org/-/epics/8748","group_id":9970,"human_readable_end_date":"May 31, 2023","human_readable_timestamp":"\u003cstrong\u003e25\u003c/strong\u003e days remaining"},"iteration":null,"health_status":"on_track"},{"id":120514935,"iid":5374,"project_id":2670515,"title":"Add `is_ramp_subscription` flag in SubscriptionPresenter","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n### Proposal\nAdd `is_ramp_subscription` flag in `subscription_presenter.rb` which can be used on the frontend to identify whether the subscription is a ramp subscription. \n\n\n\u003c!-- Consult with `@gitlab-com/business-technology/enterprise-apps/zuora-architects` on the ~\"Enterprise Applications\" team if Zuora business logic is involved. --\u003e\n\n### Result\n\n### Next steps (if any)\n\n### How will we measure success?","state":"closed","created_at":"2022-12-16T07:29:10.540Z","updated_at":"2023-01-06T13:27:56.822Z","closed_at":"2023-01-06T13:27:56.751Z","closed_by":{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"},"labels":["Category:Subscription Management","backend","devops::fulfillment","feature::addition","group::billing and subscription management","section::fulfillment","type::feature","workflow::production"],"milestone":{"id":2745648,"iid":83,"group_id":9970,"title":"15.8","description":"","state":"active","created_at":"2022-08-22T16:57:34.875Z","updated_at":"2022-08-22T16:57:34.875Z","due_date":"2023-01-17","start_date":"2022-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/83"},"assignees":[{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"}],"author":{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"},"type":"ISSUE","assignee":{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5374","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5374","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5374/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5374/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5374","relative":"#5374","full":"gitlab-org/customers-gitlab-com#5374"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8748,"epic":{"id":602374,"iid":8748,"title":"Ramps subscription display in Customers Portal and gitlab.com","url":"/groups/gitlab-org/-/epics/8748","group_id":9970,"human_readable_end_date":"May 31, 2023","human_readable_timestamp":"\u003cstrong\u003e25\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":120512343,"iid":5373,"project_id":2670515,"title":"[Feature flag] Create new feature flag `display_ramp_subscriptions`","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n### Problem\nCreate a [new feature flag](https://gitlab.com/gitlab-org/customers-gitlab-com/-/feature_flags) `display_ramp_subscriptions` which can be used to control the display of the [new card design](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3916/) for ramp subscriptions.  \n\nRollout issue: https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5385\n\n### Proposal\n\n\u003c!-- Consult with `@gitlab-com/business-technology/enterprise-apps/zuora-architects` on the ~\"Enterprise Applications\" team if Zuora business logic is involved. --\u003e\n\n### Result\n\n### Next steps (if any)\n\n### How will we measure success?","state":"closed","created_at":"2022-12-16T05:46:06.579Z","updated_at":"2023-01-05T11:20:48.789Z","closed_at":"2023-01-05T11:20:48.709Z","closed_by":{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"},"labels":["Category:Subscription Management","devops::fulfillment","feature flag","feature::addition","frontend","group::billing and subscription management","section::fulfillment","type::feature","workflow::production"],"milestone":{"id":2745648,"iid":83,"group_id":9970,"title":"15.8","description":"","state":"active","created_at":"2022-08-22T16:57:34.875Z","updated_at":"2022-08-22T16:57:34.875Z","due_date":"2023-01-17","start_date":"2022-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/83"},"assignees":[{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"}],"author":{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"},"type":"ISSUE","assignee":{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5373","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5373","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5373/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5373/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5373","relative":"#5373","full":"gitlab-org/customers-gitlab-com#5373"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8748,"epic":{"id":602374,"iid":8748,"title":"Ramps subscription display in Customers Portal and gitlab.com","url":"/groups/gitlab-org/-/epics/8748","group_id":9970,"human_readable_end_date":"May 31, 2023","human_readable_timestamp":"\u003cstrong\u003e25\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":120505940,"iid":5372,"project_id":2670515,"title":"[FF cleanup] Subscription update Preview: use_orders_api_to_preview_amendment","description":"### Problem\n\nThe scope of this issue is to perform cleanup tasks for FF `use_orders_api_to_preview_amendment` ([original rollout issue](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4774)).\n\n### Proposal\n\nPerform `Release the feature` tasks:\n\n* [ ] Create a merge request to remove `\u003cfeature-flag-name\u003e` feature flag\n  * [ ] Remove all references to the feature flag from the codebase\n* [ ] Ensure that the cleanup MR has been deployed to both staging and production\n* [ ] Disable the feature flag via the [CustomersDot dashboard](https://gitlab.com/gitlab-org/customers-gitlab-com/-/feature_flags)\n* [ ] Ensure production environment is still working as expected\n* [ ] Remove the Unleash feature flag from the [CustomersDot dashboard](https://gitlab.com/gitlab-org/customers-gitlab-com/-/feature_flags)\n* [ ] Close this issue.","state":"closed","created_at":"2022-12-15T23:31:09.511Z","updated_at":"2023-03-07T22:45:16.320Z","closed_at":"2023-01-20T06:58:58.927Z","closed_by":{"id":11217480,"username":"tvellishetty","name":"Tarun Vellishetty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11217480/avatar.png","web_url":"https://gitlab.com/tvellishetty"},"labels":["backend","devops::fulfillment","group::fulfillment platform","maintenance::removal","missed:15.8","section::fulfillment","type::maintenance","workflow::production"],"milestone":{"id":2745650,"iid":84,"group_id":9970,"title":"15.9","description":"","state":"active","created_at":"2022-08-22T16:58:02.303Z","updated_at":"2022-08-22T16:58:02.303Z","due_date":"2023-02-17","start_date":"2023-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/84"},"assignees":[{"id":11217480,"username":"tvellishetty","name":"Tarun Vellishetty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11217480/avatar.png","web_url":"https://gitlab.com/tvellishetty"}],"author":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"type":"ISSUE","assignee":{"id":11217480,"username":"tvellishetty","name":"Tarun Vellishetty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11217480/avatar.png","web_url":"https://gitlab.com/tvellishetty"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5372","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":7,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5372","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5372/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5372/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5372","relative":"#5372","full":"gitlab-org/customers-gitlab-com#5372"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":9502,"epic":{"id":682911,"iid":9502,"title":"Cleanup Subscribe and Amend API workflows","url":"/groups/gitlab-org/-/epics/9502","group_id":9970,"human_readable_end_date":"Mar 17, 2023","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":120505915,"iid":5371,"project_id":2670515,"title":"[FF cleanup] Subscription upgrade Preview: use_orders_api_to_preview_upgrade","description":"### Problem\n\nThe scope of this issue is to perform cleanup tasks for FF `use_orders_api_to_preview_upgrade` ([original rollout issue](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5051)).\n\n### Proposal\n\nPerform `Release the feature` tasks:\n\n* [x] Create a merge request to remove `\u003cfeature-flag-name\u003e` feature flag\n  * [x] Remove all references to the feature flag from the codebase\n* [x] Ensure that the cleanup MR has been deployed to both staging and production\n* [x] Disable the feature flag via the [CustomersDot dashboard](https://gitlab.com/gitlab-org/customers-gitlab-com/-/feature_flags)\n* [x] Ensure production environment is still working as expected\n* [x] Remove the Unleash feature flag from the [CustomersDot dashboard](https://gitlab.com/gitlab-org/customers-gitlab-com/-/feature_flags)\n* [x] Close this issue.","state":"closed","created_at":"2022-12-15T23:28:50.197Z","updated_at":"2023-01-17T13:38:29.864Z","closed_at":"2023-01-11T06:37:00.687Z","closed_by":{"id":11217480,"username":"tvellishetty","name":"Tarun Vellishetty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11217480/avatar.png","web_url":"https://gitlab.com/tvellishetty"},"labels":["backend","devops::fulfillment","group::fulfillment platform","maintenance::removal","section::fulfillment","type::maintenance","workflow::production"],"milestone":{"id":2745648,"iid":83,"group_id":9970,"title":"15.8","description":"","state":"active","created_at":"2022-08-22T16:57:34.875Z","updated_at":"2022-08-22T16:57:34.875Z","due_date":"2023-01-17","start_date":"2022-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/83"},"assignees":[{"id":11217480,"username":"tvellishetty","name":"Tarun Vellishetty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11217480/avatar.png","web_url":"https://gitlab.com/tvellishetty"}],"author":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"type":"ISSUE","assignee":{"id":11217480,"username":"tvellishetty","name":"Tarun Vellishetty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11217480/avatar.png","web_url":"https://gitlab.com/tvellishetty"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5371","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":7,"completed_count":7},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5371","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5371/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5371/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5371","relative":"#5371","full":"gitlab-org/customers-gitlab-com#5371"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":9502,"epic":{"id":682911,"iid":9502,"title":"Cleanup Subscribe and Amend API workflows","url":"/groups/gitlab-org/-/epics/9502","group_id":9970,"human_readable_end_date":"Mar 17, 2023","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":120505670,"iid":5370,"project_id":2670515,"title":"[FF cleanup] Auto renewal, Reconciliation Preview and Order Preview GraphQL endpoint","description":"### Problem\n\nThe scope of this issue is to perform cleanup tasks for  Auto renewal, Reconciliation Preview and Order Preview GraphQL endpoint feature flags noted below:\n\n- [x] `use_orders_api_to_preview_quoted_invoice_amount` ([link to original rollout issue](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5068)) - [Cleanup MR](https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/6254)\n- [x] `use_orders_api_preview_in_upcoming_saas_mailer` ([link to original rollout issue](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5070)) - [Cleanup MR](https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/6266)\n- [x] `use_orders_api_in_preview_graphql_resolver ` ([link to original rollout issue](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5072)) - [Cleanup MR](https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/6278)\n\n### Proposal\n\nPerform `Release the feature` tasks:\n\n1. **FF `use_orders_api_to_preview_quoted_invoice_amount`**\n\n* [x] Create a merge request to remove `\u003cfeature-flag-name\u003e` feature flag\n  * [x] Remove all references to the feature flag from the codebase\n* [x] Ensure that the cleanup MR has been deployed to both staging and production\n* [x] Disable the feature flag via the [CustomersDot dashboard](https://gitlab.com/gitlab-org/customers-gitlab-com/-/feature_flags)\n* [x] Ensure production environment is still working as expected\n* [x] Remove the Unleash feature flag from the [CustomersDot dashboard](https://gitlab.com/gitlab-org/customers-gitlab-com/-/feature_flags)\n* [ ] Close this issue.\n\n2. **FF `use_orders_api_preview_in_upcoming_saas_mailer`**\n\n* [x] Create a merge request to remove `\u003cfeature-flag-name\u003e` feature flag\n  * [x] Remove all references to the feature flag from the codebase\n* [x] Ensure that the cleanup MR has been deployed to both staging and production\n* [x] Disable the feature flag via the [CustomersDot dashboard](https://gitlab.com/gitlab-org/customers-gitlab-com/-/feature_flags)\n* [x] Ensure production environment is still working as expected\n* [x] Remove the Unleash feature flag from the [CustomersDot dashboard](https://gitlab.com/gitlab-org/customers-gitlab-com/-/feature_flags)\n* [ ] Close this issue.\n\n3. **FF `use_orders_api_in_preview_graphql_resolver`**\n\n* [x] Create a merge request to remove `\u003cfeature-flag-name\u003e` feature flag\n  * [x] Remove all references to the feature flag from the codebase\n* [x] Ensure that the cleanup MR has been deployed to both staging and production\n* [x] Disable the feature flag via the [CustomersDot dashboard](https://gitlab.com/gitlab-org/customers-gitlab-com/-/feature_flags)\n* [x] Ensure production environment is still working as expected ([related log](https://console.cloud.google.com/logs/query;cursorTimestamp=2023-01-12T18:37:45.384Z;query=%22OrderPreview%22%0Atimestamp%3D%222023-01-12T18:37:45.384Z%22%0AinsertId%3D%22wha5a5fctxmgw%22?project=gitlab-subscriptions-prod))\n* [x] Remove the Unleash feature flag from the [CustomersDot dashboard](https://gitlab.com/gitlab-org/customers-gitlab-com/-/feature_flags)\n* [ ] Close this issue.","state":"closed","created_at":"2022-12-15T23:15:24.020Z","updated_at":"2023-01-17T13:38:00.706Z","closed_at":"2023-01-17T07:12:46.238Z","closed_by":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"labels":["backend","devops::fulfillment","group::fulfillment platform","maintenance::removal","section::fulfillment","type::maintenance","workflow::in review"],"milestone":{"id":2745648,"iid":83,"group_id":9970,"title":"15.8","description":"","state":"active","created_at":"2022-08-22T16:57:34.875Z","updated_at":"2022-08-22T16:57:34.875Z","due_date":"2023-01-17","start_date":"2022-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/83"},"assignees":[{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"}],"author":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"type":"ISSUE","assignee":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5370","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":24,"completed_count":21},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5370","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5370/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5370/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5370","relative":"#5370","full":"gitlab-org/customers-gitlab-com#5370"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":9502,"epic":{"id":682911,"iid":9502,"title":"Cleanup Subscribe and Amend API workflows","url":"/groups/gitlab-org/-/epics/9502","group_id":9970,"human_readable_end_date":"Mar 17, 2023","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":120504603,"iid":5369,"project_id":2670515,"title":"[FF cleanup] Reconciliation: use_orders_api_reconciliation_workflow","description":"### Problem\n\nThe scope of this issue is to perform cleanup tasks for FF `use_orders_api_reconciliation_workflow` [QSR original rollout issue](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5066)).\n\n### Proposal\n\nPerform `Release the feature` tasks:\n\n* [x] Create a merge request to remove `\u003cfeature-flag-name\u003e` feature flag\n  * [x] Remove all references to the feature flag from the codebase\n* [x] Ensure that the cleanup MR has been deployed to both staging and production\n* [x] Disable the feature flag via the [CustomersDot dashboard](https://gitlab.com/gitlab-org/customers-gitlab-com/-/feature_flags)\n* [x] Ensure production environment is still working as expected\n* [x] Remove the Unleash feature flag from the [CustomersDot dashboard](https://gitlab.com/gitlab-org/customers-gitlab-com/-/feature_flags)\n* [x] Close this issue.","state":"closed","created_at":"2022-12-15T22:46:54.939Z","updated_at":"2023-01-23T17:38:42.536Z","closed_at":"2023-01-23T13:00:17.243Z","closed_by":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"labels":["devops::fulfillment","group::fulfillment platform","missed:15.8","section::fulfillment","type::maintenance","workflow::in review"],"milestone":{"id":2745650,"iid":84,"group_id":9970,"title":"15.9","description":"","state":"active","created_at":"2022-08-22T16:58:02.303Z","updated_at":"2022-08-22T16:58:02.303Z","due_date":"2023-02-17","start_date":"2023-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/84"},"assignees":[{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"}],"author":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"type":"ISSUE","assignee":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5369","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":7,"completed_count":7},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5369","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5369/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5369/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5369","relative":"#5369","full":"gitlab-org/customers-gitlab-com#5369"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":9502,"epic":{"id":682911,"iid":9502,"title":"Cleanup Subscribe and Amend API workflows","url":"/groups/gitlab-org/-/epics/9502","group_id":9970,"human_readable_end_date":"Mar 17, 2023","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":120504584,"iid":5368,"project_id":2670515,"title":"[FF cleanup] Auto renewal: use_orders_api_auto_renew_workflow","description":"### Problem\n\nThe scope of this issue is to perform cleanup tasks for FF `use_orders_api_auto_renew_workflow` ([AR original rollout issue](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5064).\n\n### Proposal\n\nPerform `Release the feature` tasks:\n\n* [x] Create a merge request to remove `\u003cfeature-flag-name\u003e` feature flag\n  * [x] Remove all references to the feature flag from the codebase\n* [x] Ensure that the cleanup MR has been deployed to both staging and production\n* [x] Disable the feature flag via the [CustomersDot dashboard](https://gitlab.com/gitlab-org/customers-gitlab-com/-/feature_flags)\n* [x] Ensure production environment is still working as expected\n* [x] Remove the Unleash feature flag from the [CustomersDot dashboard](https://gitlab.com/gitlab-org/customers-gitlab-com/-/feature_flags)\n* [x] Close this issue.","state":"closed","created_at":"2022-12-15T22:46:19.822Z","updated_at":"2023-02-20T05:59:00.688Z","closed_at":"2023-02-20T05:59:00.664Z","closed_by":{"id":11217480,"username":"tvellishetty","name":"Tarun Vellishetty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11217480/avatar.png","web_url":"https://gitlab.com/tvellishetty"},"labels":["backend","devops::fulfillment","group::fulfillment platform","maintenance::removal","missed:15.8","section::fulfillment","type::maintenance","workflow::production"],"milestone":{"id":2745650,"iid":84,"group_id":9970,"title":"15.9","description":"","state":"active","created_at":"2022-08-22T16:58:02.303Z","updated_at":"2022-08-22T16:58:02.303Z","due_date":"2023-02-17","start_date":"2023-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/84"},"assignees":[{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"}],"author":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"type":"ISSUE","assignee":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5368","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":7,"completed_count":7},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5368","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5368/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5368/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5368","relative":"#5368","full":"gitlab-org/customers-gitlab-com#5368"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":9502,"epic":{"id":682911,"iid":9502,"title":"Cleanup Subscribe and Amend API workflows","url":"/groups/gitlab-org/-/epics/9502","group_id":9970,"human_readable_end_date":"Mar 17, 2023","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":120504502,"iid":5367,"project_id":2670515,"title":"[FF cleanup] Subscription update: use_orders_api_subscription_update_workflow","description":"### Problem\n\nThe scope of this issue is to perform cleanup tasks for FF `use_orders_api_subscription_update_workflow` ([original rollout issue](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4775)).\n\n### Proposal\n\nPerform `Release the feature` tasks:\n\n* [x] Create a merge request to remove `\u003cfeature-flag-name\u003e` feature flag\n  * [x] Remove all references to the feature flag from the codebase\n* [x] Ensure that the cleanup MR has been deployed to both staging and production\n* [x] Disable the feature flag via the [CustomersDot dashboard](https://gitlab.com/gitlab-org/customers-gitlab-com/-/feature_flags)\n* [x] Ensure production environment is still working as expected (verified [logs](https://console.cloud.google.com/logs/query;query=resource.type%3D%22gce_instance%22%0A%22Zuora::Orders::OrderManagerService%22;timeRange=2023-03-08T15:43:43.199Z%2F2023-03-09T19:33:43.199Z;cursorTimestamp=2023-03-09T19:29:09.244Z?project=gitlab-subscriptions-prod) for subscription update)\n* [x] Remove the Unleash feature flag from the [CustomersDot dashboard](https://gitlab.com/gitlab-org/customers-gitlab-com/-/feature_flags)\n* [x] Close this issue.","state":"closed","created_at":"2022-12-15T22:43:01.905Z","updated_at":"2023-03-09T19:35:02.434Z","closed_at":"2023-03-09T19:34:58.592Z","closed_by":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"labels":["backend","devops::fulfillment","group::fulfillment platform","maintenance::removal","missed:15.8","missed:15.9","section::fulfillment","type::maintenance","workflow::verification"],"milestone":{"id":2745651,"iid":85,"group_id":9970,"title":"15.10","description":"","state":"active","created_at":"2022-08-22T16:58:22.132Z","updated_at":"2022-08-22T16:58:22.132Z","due_date":"2023-03-17","start_date":"2023-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/85"},"assignees":[{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"}],"author":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"type":"ISSUE","assignee":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5367","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":7,"completed_count":7},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5367","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5367/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5367/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5367","relative":"#5367","full":"gitlab-org/customers-gitlab-com#5367"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":9502,"epic":{"id":682911,"iid":9502,"title":"Cleanup Subscribe and Amend API workflows","url":"/groups/gitlab-org/-/epics/9502","group_id":9970,"human_readable_end_date":"Mar 17, 2023","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":120504359,"iid":5366,"project_id":2670515,"title":"[FF cleanup] Subscription upgrade: use_orders_api_upgrade_workflow","description":"### Problem\n\nThe scope of this issue is to perform cleanup tasks for FF `use_orders_api_upgrade_workflow` ([original rollout issue](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5050)).\n\n### Proposal\n\nPerform [`Release the feature`](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5050#release-the-feature) tasks:\n\n* [x] Create a merge request to remove `\u003cfeature-flag-name\u003e` feature flag\n  * [x] Remove all references to the feature flag from the codebase\n* [x] Ensure that the cleanup MR has been deployed to both staging and production\n* [x] Disable the feature flag via the [CustomersDot dashboard](https://gitlab.com/gitlab-org/customers-gitlab-com/-/feature_flags)\n* [x] Ensure production environment is still working as expected\n* [x] Remove the Unleash feature flag from the [CustomersDot dashboard](https://gitlab.com/gitlab-org/customers-gitlab-com/-/feature_flags)\n* [x] Close this issue.","state":"closed","created_at":"2022-12-15T22:37:15.224Z","updated_at":"2023-01-25T04:57:11.198Z","closed_at":"2023-01-25T04:57:07.246Z","closed_by":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"labels":["devops::fulfillment","group::fulfillment platform","maintenance::removal","missed:15.8","section::fulfillment","type::maintenance","workflow::verification"],"milestone":{"id":2745650,"iid":84,"group_id":9970,"title":"15.9","description":"","state":"active","created_at":"2022-08-22T16:58:02.303Z","updated_at":"2022-08-22T16:58:02.303Z","due_date":"2023-02-17","start_date":"2023-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/84"},"assignees":[{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"}],"author":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"type":"ISSUE","assignee":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5366","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":7,"completed_count":7},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5366","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5366/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5366/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5366","relative":"#5366","full":"gitlab-org/customers-gitlab-com#5366"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":9502,"epic":{"id":682911,"iid":9502,"title":"Cleanup Subscribe and Amend API workflows","url":"/groups/gitlab-org/-/epics/9502","group_id":9970,"human_readable_end_date":"Mar 17, 2023","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":120504112,"iid":5365,"project_id":2670515,"title":"[FF cleanup] New subscription preview: use_orders_api_preview_subscription","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n### Problem\n\nThe scope of this issue is to perform cleanup tasks for FF `use_orders_api_preview_subscription` ([original rollout issue](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4648)).\n\n### Proposal\n\n\u003c!-- Consult with `@gitlab-com/business-technology/enterprise-apps/zuora-architects` on the ~\"Enterprise Applications\" team if Zuora business logic is involved. --\u003e\n\nPerform [`Release the feature`](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4648#release-the-feature) tasks:\n\n* [x] Create a merge request to remove `\u003cfeature-flag-name\u003e` feature flag\n  * [x] Remove all references to the feature flag from the codebase\n* [x] Ensure that the cleanup MR has been deployed to both staging and production\n* [x] Disable the feature flag via the [CustomersDot dashboard](https://gitlab.com/gitlab-org/customers-gitlab-com/-/feature_flags)\n* [x] Ensure production environment is still working as expected\n* [x] Remove the Unleash feature flag from the [CustomersDot dashboard](https://gitlab.com/gitlab-org/customers-gitlab-com/-/feature_flags)\n* [x] Close this issue.\n\n### Result\n\n### Next steps (if any)\n\n### How will we measure success?","state":"closed","created_at":"2022-12-15T22:30:42.504Z","updated_at":"2023-01-17T13:37:28.887Z","closed_at":"2023-01-10T19:57:33.826Z","closed_by":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"labels":["backend","devops::fulfillment","group::fulfillment platform","maintenance::removal","section::fulfillment","type::maintenance","workflow::production"],"milestone":{"id":2745648,"iid":83,"group_id":9970,"title":"15.8","description":"","state":"active","created_at":"2022-08-22T16:57:34.875Z","updated_at":"2022-08-22T16:57:34.875Z","due_date":"2023-01-17","start_date":"2022-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/83"},"assignees":[{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"}],"author":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"type":"ISSUE","assignee":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5365","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":7,"completed_count":7},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5365","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5365/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5365/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5365","relative":"#5365","full":"gitlab-org/customers-gitlab-com#5365"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":9502,"epic":{"id":682911,"iid":9502,"title":"Cleanup Subscribe and Amend API workflows","url":"/groups/gitlab-org/-/epics/9502","group_id":9970,"human_readable_end_date":"Mar 17, 2023","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":120442288,"iid":5357,"project_id":2670515,"title":"Improve the spec file spec/workers/workato/create_lead_worker_spec.rb","description":"\nThere are two improvments suggested during the MR review:\n1. https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/5984#note_1209853648\n\u003e question: Do we actually care about the return value for this worker?  I think this is fine to test, but if we don't care what it returns, then maybe it's enough to assert that it executes the service.\n\n2. https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/5984#note_1209861342\n\u003e If it is necessary, do we have a test covering this demonstrating why we need to do this?\n\nProposal:\n  Improve the spec file spec/workers/workato/create_lead_worker_spec.rb to address the above suggestions.","state":"closed","created_at":"2022-12-15T02:19:55.811Z","updated_at":"2023-01-02T23:33:59.798Z","closed_at":"2023-01-02T23:33:59.776Z","closed_by":{"id":4098809,"username":"qzhaogitlab","name":"Qingyu Zhao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4098809/avatar.png","web_url":"https://gitlab.com/qzhaogitlab"},"labels":["maintenance::test-gap","type::maintenance"],"milestone":{"id":2745648,"iid":83,"group_id":9970,"title":"15.8","description":"","state":"active","created_at":"2022-08-22T16:57:34.875Z","updated_at":"2022-08-22T16:57:34.875Z","due_date":"2023-01-17","start_date":"2022-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/83"},"assignees":[{"id":4098809,"username":"qzhaogitlab","name":"Qingyu Zhao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4098809/avatar.png","web_url":"https://gitlab.com/qzhaogitlab"}],"author":{"id":4098809,"username":"qzhaogitlab","name":"Qingyu Zhao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4098809/avatar.png","web_url":"https://gitlab.com/qzhaogitlab"},"type":"ISSUE","assignee":{"id":4098809,"username":"qzhaogitlab","name":"Qingyu Zhao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4098809/avatar.png","web_url":"https://gitlab.com/qzhaogitlab"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5357","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5357","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5357/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5357/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5357","relative":"#5357","full":"gitlab-org/customers-gitlab-com#5357"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":120440606,"iid":5356,"project_id":2670515,"title":"Upgrading from Starter to Premium for above 25 seats does not display error message","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"bug\" label in relevant trackers:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n- https://gitlab.com/gitlab-org/customers-gitlab-com/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n\nDo not include confidential information!\n---\u003e\n\n# Bug\n\nWhen upgrading Starter to Premium as part of Renewal, and the number of seats is greater than 25, the subscription card is no longer in view and the message `Could not get the data properly. If the problem persists, contact support.` is displayed:\n\nhttps://www.loom.com/share/ff16c192dd4343a5a51d3cf7c52fe5d6\n\n[Logs](https://console.cloud.google.com/logs/query;cursorTimestamp=2022-12-15T00:32:47.977Z;query=%22A-S00174606%22%0Atimestamp%3D%222022-12-15T00:32:47.977Z%22%0AinsertId%3D%221gqh0gdf2gqgbx%22;timeRange=PT15M?project=gitlab-subscriptions-staging) indicate exceeded 25 seats maximim:\n\n![Screen_Shot_2022-12-14_at_6.43.39_PM](/uploads/49ff0d3d1db6c1ac3d6ce3fed917b5ac/Screen_Shot_2022-12-14_at_6.43.39_PM.png)\n\nWhen I tried locally, I got the following error message. I could have a few FF disabled, so I'm not sure if this is the expected behavior.\n\n![Screen_Shot_2022-12-14_at_6.40.09_PM](/uploads/5a575efcebc1f765f611dad96788e2f4/Screen_Shot_2022-12-14_at_6.40.09_PM.png)\n\n25 is the max. seat limit, not sure if the expected behavior shows a better error message with the subscription card. Since the FF `use_orders_api_to_preview_amendment ` is globally enabled, I did not disable on staging and test it out the behavior on staging.\n\n## Summary\n\n(Summarize the bug encountered concisely)\n\nCompare with Amend API workflow, and ensure both behave the same in EoA upgrade subscription preview.\n\n## Steps to reproduce\n\n1. Purchase Starter self managed subscription with end date in the last 3 days ([example request](https://gitlab.com/gitlab-org/customers-gitlab-com/-/snippets/2469063) to create subscription via API)   \n3. Access the subscription card in CDot   \n4. Select 'Renew', select 'Premium' plan and set quantity to `26`. Observe the error\n\n## What is the current *bug* behavior?\n\n(What actually happens)\n\n## What is the expected *correct* behavior?\n\n(What you should see instead)\n\n## Relevant logs and/or screenshots\n\n(Paste any relevant logs - please use code blocks (```) to format console output,\nlogs, and code as it's tough to read otherwise.)\n\n## Workarounds\n\n(Ways to get around the issue)\n\n## Reported examples\n\n1.\n1.\n1.\n\n\u003c!---\nPlease add both severity and priority level according to: https://docs.gitlab.com/ee/development/contributing/issue_workflow.html#severity-labels\n---\u003e","state":"closed","created_at":"2022-12-15T00:38:46.454Z","updated_at":"2022-12-20T04:59:28.471Z","closed_at":"2022-12-20T04:59:28.441Z","closed_by":{"id":11217480,"username":"tvellishetty","name":"Tarun Vellishetty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11217480/avatar.png","web_url":"https://gitlab.com/tvellishetty"},"labels":["backend","devops::fulfillment","group::fulfillment platform","section::fulfillment","severity::4","type::bug","workflow::production"],"milestone":{"id":2745648,"iid":83,"group_id":9970,"title":"15.8","description":"","state":"active","created_at":"2022-08-22T16:57:34.875Z","updated_at":"2022-08-22T16:57:34.875Z","due_date":"2023-01-17","start_date":"2022-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/83"},"assignees":[{"id":11217480,"username":"tvellishetty","name":"Tarun Vellishetty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11217480/avatar.png","web_url":"https://gitlab.com/tvellishetty"}],"author":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"type":"ISSUE","assignee":{"id":11217480,"username":"tvellishetty","name":"Tarun Vellishetty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11217480/avatar.png","web_url":"https://gitlab.com/tvellishetty"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5356","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5356","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5356/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5356/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5356","relative":"#5356","full":"gitlab-org/customers-gitlab-com#5356"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8665,"epic":{"id":594036,"iid":8665,"title":"Transition Amend() to the Zuora Orders API for subscription amendments","url":"/groups/gitlab-org/-/epics/8665","group_id":9970,"human_readable_end_date":"Oct 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":120439578,"iid":5355,"project_id":2670515,"title":"Subscriptions with multiple rate plans should not auto-renew (temporary)","description":"### Problem\n\nSubscriptions that have multiple rate plans (for the same renewable plan) are auto-renewing incorrectly. See [this comment](https://gitlab.com/gitlab-com/Finance-Division/finance/-/issues/5399#note_1209871296) for additional context. \n\n### Proposal\n\nDo not auto-renew subscriptions with multiple rate plans. We are [already doing it for EOA subscriptions](https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/5226), but this should be extended to all subscription.\n\n### Result\n\nSubscriptions with multiple rate plans do not auto-renew.\n\n### Next steps (if any)\n\nFix the auto-renewal functionality to account for multiple rate plans.\n\n### How will we measure success?","state":"closed","created_at":"2022-12-14T23:33:03.081Z","updated_at":"2023-01-17T12:35:46.728Z","closed_at":"2022-12-15T21:57:00.303Z","closed_by":{"id":4981524,"username":"jhyson","name":"Josianne Hyson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4981524/avatar.png","web_url":"https://gitlab.com/jhyson"},"labels":["Category:Subscription Management","Unplanned","backend","devops::fulfillment","group::billing and subscription management","priority::2","section::fulfillment","severity::2","type::bug","workflow::verification"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":4981524,"username":"jhyson","name":"Josianne Hyson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4981524/avatar.png","web_url":"https://gitlab.com/jhyson"}],"author":{"id":8110789,"username":"tgolubeva","name":"Tatyana Golubeva","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8110789/avatar.png","web_url":"https://gitlab.com/tgolubeva"},"type":"ISSUE","assignee":{"id":4981524,"username":"jhyson","name":"Josianne Hyson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4981524/avatar.png","web_url":"https://gitlab.com/jhyson"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5355","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5355","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5355/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5355/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5355","relative":"#5355","full":"gitlab-org/customers-gitlab-com#5355"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":9591,"epic":{"id":696660,"iid":9591,"title":"Process auto-renewal for subscriptions with multiple rate plans","url":"/groups/gitlab-org/-/epics/9591","group_id":9970,"human_readable_timestamp":"\u003cstrong\u003e5\u003c/strong\u003e days elapsed"},"iteration":null,"health_status":null},{"id":120431033,"iid":5353,"project_id":2670515,"title":"Fix blank (not nil) zuora_account_id for customers","description":"### Summary\n\nThere are `Customer` records in production where the `zuora_account_id` is blank (not nil)\n\n```\nLoading production environment (Rails 6.1.7)\nirb(main):001:0\u003e Customer.where(zuora_account_id: '').count\n=\u003e 132\n```\n\nWe want to evaluate if this is worth fixing given we are planning to get rid of the column soon.\n\n### Related discussion\n\nThe following discussion from !5998 should be addressed:\n\n- [ ] @vshumilo started a [discussion](https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/5998#note_1199010692):  (+2 comments)\n\n    \u003e **question:** Is this a double check for if there is a last minute change for the record and the `zuora_account_id` is cleared?","state":"closed","created_at":"2022-12-14T18:37:14.693Z","updated_at":"2023-01-30T09:35:37.186Z","closed_at":"2023-01-11T16:47:39.734Z","closed_by":{"id":4192493,"username":"ebaque","name":"Etienne Baqu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4192493/avatar.png","web_url":"https://gitlab.com/ebaque"},"labels":["bug::functional","devops::fulfillment","group::provision","section::fulfillment","severity::4","type::bug"],"milestone":{"id":2745650,"iid":84,"group_id":9970,"title":"15.9","description":"","state":"active","created_at":"2022-08-22T16:58:02.303Z","updated_at":"2022-08-22T16:58:02.303Z","due_date":"2023-02-17","start_date":"2023-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/84"},"assignees":[{"id":4192493,"username":"ebaque","name":"Etienne Baqu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4192493/avatar.png","web_url":"https://gitlab.com/ebaque"}],"author":{"id":5667561,"username":"vshumilo","name":"Vladlena Shumilo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08dfa82785d130c151ab9e21caeab4e3?s=80\u0026d=identicon","web_url":"https://gitlab.com/vshumilo"},"type":"ISSUE","assignee":{"id":4192493,"username":"ebaque","name":"Etienne Baqu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4192493/avatar.png","web_url":"https://gitlab.com/ebaque"},"user_notes_count":12,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5353","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5353","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5353/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5353/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5353","relative":"#5353","full":"gitlab-org/customers-gitlab-com#5353"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":120423451,"iid":5349,"project_id":2670515,"title":"Document license key and activation code generation","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n### Problem\n\nIt is currently not documented how these processes work. We should add documentation for GitLab stakeholders to figure this out.\n\n### Proposal\n\n\u003c!-- Consult with `@gitlab-com/business-technology/enterprise-apps/zuora-architects` on the ~\"Enterprise Applications\" team if Zuora business logic is involved. --\u003e\n\nAdd this to the docs in this repository:\n\n1. [This is the code](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/9ae796fa8060281378ff6800f2ad0aefa582821b/app/models/license.rb#L218) that creates a `GitLab::License` (thats the object from the `gitlab-license` gem). We use this object within our `License` model. The referenced code is called on [creation](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/9ae796fa8060281378ff6800f2ad0aefa582821b/app/models/license.rb#L84) of a `License` object only.\n1. [This is the code](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/1219d82057ecc80468e9c515587ee24a185b9111/app/models/subscription.rb#L441-457) that creates the activation code which is stored in our `CloudActivation` model. This code is called during a Zuora callback [here](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/4e3b474803252e89bc46ac679932fa836f7acf6c/app/workers/zuora_callback_worker.rb#L23) and also when the [controller action](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/74259337a9748b56e2412d98d016704810b63d4b/app/controllers/subscriptions_controller.rb#L104) `subscriptions#create` is used (which comes down to this code).","state":"closed","created_at":"2022-12-14T16:21:21.546Z","updated_at":"2023-04-21T12:09:35.550Z","closed_at":"2023-04-18T14:09:08.930Z","closed_by":{"id":4961018,"username":"mlunoe","name":"Michael Lune","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4961018/avatar.png","web_url":"https://gitlab.com/mlunoe"},"labels":["Category:SM Provisioning","Category:SaaS Provisioning","Cloud Licensing","ML::To Do","backend","devops::fulfillment","feature::addition","group::provision","missed:15.10","missed:15.11","missed:15.7","priority::4","section::fulfillment","type::feature","workflow::complete"],"milestone":{"id":2633524,"iid":80,"group_id":9970,"title":"16.0","description":"","state":"active","created_at":"2022-05-30T16:25:25.778Z","updated_at":"2022-05-30T16:25:25.778Z","due_date":"2023-05-17","start_date":"2023-04-18","expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/80"},"assignees":[{"id":4961018,"username":"mlunoe","name":"Michael Lune","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4961018/avatar.png","web_url":"https://gitlab.com/mlunoe"}],"author":{"id":4961018,"username":"mlunoe","name":"Michael Lune","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4961018/avatar.png","web_url":"https://gitlab.com/mlunoe"},"type":"ISSUE","assignee":{"id":4961018,"username":"mlunoe","name":"Michael Lune","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4961018/avatar.png","web_url":"https://gitlab.com/mlunoe"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5349","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5349","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5349/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5349/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5349","relative":"#5349","full":"gitlab-org/customers-gitlab-com#5349"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":120392120,"iid":5345,"project_id":2670515,"title":"Upgrade rails_admin gem to version 3","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n### Problem\n\n`rails_admin` gem is blocking our upgrade to Rails 7:\n\n```shell\nBundler could not find compatible versions for gem \"rails\":\n  In Gemfile:\n    rails (~\u003e 7.0.4)\n\n    rails_admin (~\u003e 2.2.0) was resolved to 2.2.1, which depends on\n      rails (\u003c 7, \u003e= 5.0)\n```\n\nIn order to upgrade CustomersDot to Rails 7 we have to upgrade `rails_admin` gem to version 3. We use version `2.2.0` but version `3.1.0` is available and supports Rails 7 - https://github.com/railsadminteam/rails_admin/blob/master/rails_admin.gemspec#L13\n\nUnfortunately there is not straightforwad upgrade path for this gem as new version has [many breaking changes](https://github.com/railsadminteam/rails_admin/blob/master/CHANGELOG.md#300beta---2021-12-20). Attempting to perform an upgrade in a dumb way:\n\n```shell\n### Upgrading RailsAdmin from 2.x.x to 3.x.x ###\n\n    Due to introduction of Webpack/Webpacker support, some additional dependencies and configuration will be needed.\n    Running `bin/rails g rails_admin:install` will suggest required changes, based on the current setup of your app.\n```\n\nResults in a missing method `assets`:\n\n```shell\n/Users/vslobodin/.asdf/installs/ruby/2.7.7/lib/ruby/gems/2.7.0/gems/railties-6.1.7/lib/rails/railtie/configuration.rb:97:in `method_missing': undefined method `assets' for #\u003cRails::Application::Configuration:0x0000000128e96ca8\u003e\nDid you mean?  asset_host (NoMethodError)\n```\n\nWhich indicates we have to load `sprockets`. Applying a small patch for that:\n\n```diff\ndiff --git a/config/application.rb b/config/application.rb\nindex cb0b3a821..1a4fc7e26 100644\n--- a/config/application.rb\n+++ b/config/application.rb\n@@ -13,6 +13,7 @@\n require 'active_job/railtie'\n require 'active_storage/engine'\n require 'prometheus/client'\n+require 'sprockets/railtie'\n \n # Require the gems listed in Gemfile, including any gems\n # you've limited to :test, :development, or :production.\n```\n\nResults in a missing `sassc`:\n\n```shell\ncannot load such file -- sassc\n```\n\nAdding it (`gem 'sassc-rails'`) makes the application starting at least but attempting to visit any admin page result in:\n\n```\nShowing /Users/vslobodin/.asdf/installs/ruby/2.7.7/lib/ruby/gems/2.7.0/gems/rails_admin-3.1.0/app/views/rails_admin/main/_dashboard_history.html.erb where line #22 raised:\n\nuninitialized constant RailsAdmin::Adapters::ActiveRecord::AbstractObject\nDid you mean?  RailsAdmin::AbstractModel\n```\n\nThis happens because `AbstractObject` was deprecated in favour of plain ActiveRecord https://github.com/railsadminteam/rails_admin/commit/af88091d11590dc95df4866c62fba0c49a7bb9a8\n\nTo sum up, to achieve this upgrade we need to:\n\n- apply all patches above or find another way to workaround mentioned issues.\n- validate we load all JS and CSS correctly\n- validate the whole RailsAdmin works with new version\n- check and fix our tests in `spec/feature/rails_admin`\n\n### Availability \u0026 Testing\n\n\u003c!-- This section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\nWhat risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning --\u003e\n\nIt is imperative to monitor Staging end-to-end test runs once this gets merged.","state":"closed","created_at":"2022-12-14T09:54:47.978Z","updated_at":"2023-03-13T12:57:34.172Z","closed_at":"2023-02-17T13:19:21.011Z","closed_by":{"id":447038,"username":"vitallium","name":"Vitaly Slobodin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/74b3243cfcfbfac1f022b78ab505e8d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/vitallium"},"labels":["devops::fulfillment","group::fulfillment platform","maintenance::dependency","missed:15.8","quad-planning::complete-action","section::fulfillment","type::maintenance","workflow::complete"],"milestone":{"id":2745650,"iid":84,"group_id":9970,"title":"15.9","description":"","state":"active","created_at":"2022-08-22T16:58:02.303Z","updated_at":"2022-08-22T16:58:02.303Z","due_date":"2023-02-17","start_date":"2023-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/84"},"assignees":[{"id":447038,"username":"vitallium","name":"Vitaly Slobodin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/74b3243cfcfbfac1f022b78ab505e8d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/vitallium"}],"author":{"id":447038,"username":"vitallium","name":"Vitaly Slobodin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/74b3243cfcfbfac1f022b78ab505e8d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/vitallium"},"type":"ISSUE","assignee":{"id":447038,"username":"vitallium","name":"Vitaly Slobodin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/74b3243cfcfbfac1f022b78ab505e8d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/vitallium"},"user_notes_count":14,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5345","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":4,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5345","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5345/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5345/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5345","relative":"#5345","full":"gitlab-org/customers-gitlab-com#5345"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":120359277,"iid":5336,"project_id":2670515,"title":"Hide tooltip and term duration for CI minutes purchase","description":"### Problem\n\nOn customers staging, when purchasing CI minutes, the date of purchase is displayed as 1 day. \n\nThe tooltip information next to it displays, `Your storage subscription has the same term as your main subscription, and the price is prorated accordingly.`\n\nAdditional CI minute purchases are added onto your existing subscription (if available), the duration of the term is for the existing subscription. But CI minutes are valid for 1 year after the purchase date, so the start date of the subscription is irrelevant and confusing making the term duration incorrect.\n\n![image](/uploads/90d1625971575eb01a41dc43c62dfceb/image.png)\n\n\n_PS - The error might also be occurring on the Production server._ \n\n### Proposal\n\nTooltip and the term duration shouldn't be displayed for CI minutes purchase flow. They apply only for Storage purchase. (similar to how we handle this on GitLab.com)\n\n\n### Result\n\n### Next steps (if any)\n\n### How will we measure success?","state":"closed","created_at":"2022-12-13T19:02:09.120Z","updated_at":"2022-12-20T01:49:37.161Z","closed_at":"2022-12-20T01:49:37.138Z","closed_by":{"id":10325315,"username":"vvempati","name":"Vamsi Vempati","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10325315/avatar.png","web_url":"https://gitlab.com/vvempati"},"labels":["Category:Purchase","SUS::Impacting","UX","bug::ux","devops::fulfillment","frontend","group::purchase","priority::2","section::fulfillment","severity::3","type::bug","workflow::production"],"milestone":{"id":2745648,"iid":83,"group_id":9970,"title":"15.8","description":"","state":"active","created_at":"2022-08-22T16:57:34.875Z","updated_at":"2022-08-22T16:57:34.875Z","due_date":"2023-01-17","start_date":"2022-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/83"},"assignees":[{"id":10325315,"username":"vvempati","name":"Vamsi Vempati","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10325315/avatar.png","web_url":"https://gitlab.com/vvempati"}],"author":{"id":4903695,"username":"shreyasagarwal","name":"Shreyas Agarwal","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d5b09dfe06a10d119c1b2043c43de680?s=80\u0026d=identicon","web_url":"https://gitlab.com/shreyasagarwal"},"type":"ISSUE","assignee":{"id":10325315,"username":"vvempati","name":"Vamsi Vempati","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10325315/avatar.png","web_url":"https://gitlab.com/vvempati"},"user_notes_count":15,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5336","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5336","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5336/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5336/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5336","relative":"#5336","full":"gitlab-org/customers-gitlab-com#5336"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":120258061,"iid":5324,"project_id":2670515,"title":"[Placeholder] Implementation of displaying ramps subscriptions","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n### Problem\nPlaceholder issue to indicate the tentative weight for implementation of displaying ramps subscriptions.\n\n### Proposal\n\n\u003c!-- Consult with `@gitlab-com/business-technology/enterprise-apps/zuora-architects` on the ~\"Enterprise Applications\" team if Zuora business logic is involved. --\u003e\n\n### Result\n\n### Next steps (if any)\n\n### How will we measure success?","state":"closed","created_at":"2022-12-12T11:45:28.878Z","updated_at":"2022-12-16T12:46:59.609Z","closed_at":"2022-12-16T12:45:47.057Z","closed_by":{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"},"labels":["Category:Subscription Management","devops::fulfillment","feature::addition","frontend","group::billing and subscription management","section::fulfillment","type::feature","workflow::production"],"milestone":{"id":2745648,"iid":83,"group_id":9970,"title":"15.8","description":"","state":"active","created_at":"2022-08-22T16:57:34.875Z","updated_at":"2022-08-22T16:57:34.875Z","due_date":"2023-01-17","start_date":"2022-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/83"},"assignees":[],"author":{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"},"type":"ISSUE","assignee":null,"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5324","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":0,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5324","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5324/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5324/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5324","relative":"#5324","full":"gitlab-org/customers-gitlab-com#5324"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8748,"epic":{"id":602374,"iid":8748,"title":"Ramps subscription display in Customers Portal and gitlab.com","url":"/groups/gitlab-org/-/epics/8748","group_id":9970,"human_readable_end_date":"May 31, 2023","human_readable_timestamp":"\u003cstrong\u003e25\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":120257760,"iid":5323,"project_id":2670515,"title":"Issue breakdown to display ramps subscriptions","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n### Problem\nPlaceholder issue to breakdown the implementation to display ramps subscriptions.\n### Proposal\n\n\u003c!-- Consult with `@gitlab-com/business-technology/enterprise-apps/zuora-architects` on the ~\"Enterprise Applications\" team if Zuora business logic is involved. --\u003e\n\n### Result\n\n### Next steps (if any)\n\n### How will we measure success?","state":"closed","created_at":"2022-12-12T11:41:14.565Z","updated_at":"2022-12-21T12:07:45.848Z","closed_at":"2022-12-20T06:30:58.904Z","closed_by":{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"},"labels":["Category:Subscription Management","devops::fulfillment","feature::addition","frontend","group::billing and subscription management","missed:15.7","section::fulfillment","type::feature","workflow::production"],"milestone":{"id":2745648,"iid":83,"group_id":9970,"title":"15.8","description":"","state":"active","created_at":"2022-08-22T16:57:34.875Z","updated_at":"2022-08-22T16:57:34.875Z","due_date":"2023-01-17","start_date":"2022-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/83"},"assignees":[{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"}],"author":{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"},"type":"ISSUE","assignee":{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5323","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5323","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5323/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5323/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5323","relative":"#5323","full":"gitlab-org/customers-gitlab-com#5323"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8748,"epic":{"id":602374,"iid":8748,"title":"Ramps subscription display in Customers Portal and gitlab.com","url":"/groups/gitlab-org/-/epics/8748","group_id":9970,"human_readable_end_date":"May 31, 2023","human_readable_timestamp":"\u003cstrong\u003e25\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":120186383,"iid":5318,"project_id":2670515,"title":"Subscription sync alert banner no longer presents after clicking on Sync subscription details button","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"bug\" label in relevant trackers:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n- https://gitlab.com/gitlab-org/customers-gitlab-com/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n\nDo not include confidential information!\n---\u003e\n\n# Bug\n\n## Summary\n\nSubscription sync alert banner no longer presents after clicking on Sync subscription details button\n\nThis is causing self-managed e2e test job to fail - https://gitlab.com/gitlab-org/customers-gitlab-com/-/pipelines/717640365\n\n\n## Steps to reproduce\n\n1. Activate local gdk with an valid cloud activation code\n2. Click `Sync subscription details` button\n3. Subscription sync alert banner shows and disappears\n\n## Screenshot\n![sync_banner](/uploads/bec336cfab997516e80a05c28e1f698e/sync_banner.gif)\n\n## Proposal\nResolve banner issue to ensure it is displayed correctly.","state":"closed","created_at":"2022-12-10T01:46:32.422Z","updated_at":"2023-03-09T14:44:01.694Z","closed_at":"2023-03-09T14:44:01.657Z","closed_by":{"id":4961018,"username":"mlunoe","name":"Michael Lune","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4961018/avatar.png","web_url":"https://gitlab.com/mlunoe"},"labels":["ML::In Progress","SUS::Impacting","Technical Writing","UX","bug::ux","devops::fulfillment","frontend","group::provision","missed:15.7","missed:15.8","section::fulfillment","severity::4","type::bug","workflow::verification"],"milestone":{"id":2745651,"iid":85,"group_id":9970,"title":"15.10","description":"","state":"active","created_at":"2022-08-22T16:58:22.132Z","updated_at":"2022-08-22T16:58:22.132Z","due_date":"2023-03-17","start_date":"2023-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/85"},"assignees":[{"id":4961018,"username":"mlunoe","name":"Michael Lune","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4961018/avatar.png","web_url":"https://gitlab.com/mlunoe"}],"author":{"id":5803275,"username":"chloeliu","name":"Chloe Liu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5803275/avatar.png","web_url":"https://gitlab.com/chloeliu"},"type":"ISSUE","assignee":{"id":4961018,"username":"mlunoe","name":"Michael Lune","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4961018/avatar.png","web_url":"https://gitlab.com/mlunoe"},"user_notes_count":21,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5318","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5318","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5318/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5318/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5318","relative":"#5318","full":"gitlab-org/customers-gitlab-com#5318"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":120167293,"iid":5309,"project_id":2670515,"title":"POD for Partners: Add Invoice Owner CC to SaaS Vouchers","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n### Problem\nhttps://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3372+ implemented CC's to partners on all Self Managed mailers to improve visibility into the license process. We should do this same thing for SaaS mailers, as partners have an interest in this as well.\n\n### Proposal\n\n- Introduce a voucher email to be sent along the notification about SaaS purchases initiated in SFDC ([`CustomerMailer#gl_com_purchase_from_sf`](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/b54a3198a732d5b2662928acd86f4fba6d45a9f8/app/mailers/customer_mailer.rb#L35)). \n\n- Include the `Sold To Contact` email address of the quote's `Invoice Owner` as CC as well.\n\n\n\u003c!-- Consult with `@gitlab-com/business-technology/enterprise-apps/zuora-architects` on the ~\"Enterprise Applications\" team if Zuora business logic is involved. --\u003e\n\n### Result\nPartners are aware of their customer's SaaS provisioning real-time.","state":"closed","created_at":"2022-12-09T17:01:14.402Z","updated_at":"2023-03-13T20:24:32.034Z","closed_at":"2023-02-11T00:32:20.749Z","closed_by":{"id":4717243,"username":"a_luna","name":"Amparo Luna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4717243/avatar.png","web_url":"https://gitlab.com/a_luna"},"labels":["Category:Fulfillment Integrations \u0026 Visibility","backend","devops::fulfillment","group::provision","missed:15.8","priority::2","section::fulfillment","type::feature","workflow::verification"],"milestone":{"id":2745650,"iid":84,"group_id":9970,"title":"15.9","description":"","state":"active","created_at":"2022-08-22T16:58:02.303Z","updated_at":"2022-08-22T16:58:02.303Z","due_date":"2023-02-17","start_date":"2023-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/84"},"assignees":[{"id":4717243,"username":"a_luna","name":"Amparo Luna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4717243/avatar.png","web_url":"https://gitlab.com/a_luna"}],"author":{"id":7964536,"username":"courtmeddaugh","name":"Courtney Meddaugh","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7964536/avatar.png","web_url":"https://gitlab.com/courtmeddaugh"},"type":"ISSUE","assignee":{"id":4717243,"username":"a_luna","name":"Amparo Luna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4717243/avatar.png","web_url":"https://gitlab.com/a_luna"},"user_notes_count":11,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5309","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5309","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5309/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5309/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5309","relative":"#5309","full":"gitlab-org/customers-gitlab-com#5309"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8796,"epic":{"id":605011,"iid":8796,"title":"Proof of License Delivery: Channel Partners","url":"/groups/gitlab-org/-/epics/8796","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":120138877,"iid":5306,"project_id":2670515,"title":"[Feature flag] Enable through_version_manager","description":"# Summary\n\nThis issue is to rollout [Order#current_subscription to use version manager](https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/6094) on CustomersDot production,\nthat is currently behind the [`through_version_manager`](https://gitlab.com/gitlab-org/customers-gitlab-com/-/feature_flags/185/edit) feature flag.\n\nThis is for issue https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4884\n\n## Owners\n\n- Team: ~\"group::provision\" \n- Most appropriate Slack channel to reach out to: `#g_provision`\n- Best individual to reach out to: @lulalala \n- PM: @courtmeddaugh\n- EM: @mlunoe \n\n## Stakeholders\n\n\u003c!--\nAre there any other stages or teams involved that need to be kept in the loop?\n\n- GITLAB_HANDLE of a PM\n- The Support Team\n- The Delivery Team\n--\u003e\n\n## The Rollout Plan\n\n- Rollout Feature for everyone as soon as it's ready\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? Sentry errors reports can also be useful to review --\u003e\n\n## Testing User/Customer IDs\n\n\u003c!--\nList any Customer IDs for Customers that are happy to have this feature turned on early.\n\nRemove if not applicable\n--\u003e\n\n## Expectations\n\n### What are we expecting to happen?\n\nNo behavior change\n\n### What might happen if this goes wrong?\n\nReconciliation and SeatLink uses wrong subscription\n\n### What can we monitor to detect problems with this?\n\n- Sentry\n- Grafana health score\n\n## Rollout Steps\n\n### Rollout on non-production environments\n\n- [x] Ensure that the feature MRs have been deployed to non-production environments, i.e. `customers-staging`.\n- [x] Consider announcing that the flag will be enabled to potentially impacted groups, e.g. `#s_fulfillment_engineering`\n- [x] Enable the feature globally on non-production environments by applying the appropriate environment, e.g. `customers-staging` and `customers-development`.\n- [x] Notify the Software Engineers in Test (SETs) for Fulfillment via Slack and in a comment in this issue when enabling a feature flag in `customers-staging` as it can impact the QA pipeline.\n- [x] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n\n### Preparation before production rollout\n\n- [x] Ensure that the feature MRs have been deployed to production\n- [-] Check if the feature flag change needs to be accompanied with a\n  [change management issue](https://about.gitlab.com/handbook/engineering/infrastructure/change-management/#feature-flags-and-the-change-management-process).\n  Cross link the issue here if it does.\n- [x] Ensure that you or a representative in Fulfillment can be available for at least 2 hours after feature flag updates in production.\n  If a different developer will be covering, or an exception is needed, please inform the Fulfillment team in #s_fulfillment_engineering\n- [-] Ensure any documentation has been updated\n- [-] Announce on [the feature issue](ISSUE LINK) an estimated time this will be enabled on production if applicable\n- [-] If the feature might impact the user experience, notify `#s_fulfillment` and potentially `#support_gitlab-com`, as well as your team channel ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#communicate-the-change)).\n\n### Global rollout on CustomersDot production\n\n- [x] Confirm the feature flag is enabled on `staging` without incident\n- [-] Roll out the feature to targeted testing users first (if applicable)\n- [-] If applicable, [incrementally roll out](https://docs.gitlab.com/ee/operations/feature_flags.html#percent-rollout) the feature.\n- [-] Verify the change has the desired outcome with the limited rollout before enabling the feature globally on production.\n- [x] Enable the feature globally on production environment\n- [x] Announce on [the feature issue](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4884) that the feature has been globally enabled.\n- [x] Wait for [at least one day for the verification term](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release).\n\n### Release the feature\n\nAfter the feature has been [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release),\nthe clean up should be done as soon as possible to permanently enable the feature and reduce complexity in the codebase.\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [x] Create a merge request to remove `\u003cfeature-flag-name\u003e` feature flag\n  - [x] Remove all references to the feature flag from the codebase\n- [x] Ensure that the cleanup MR has been deployed to both staging and production\n- [x] Disable the feature flag via the [CustomersDot dashboard](https://gitlab.com/gitlab-org/customers-gitlab-com/-/feature_flags)\n- [x] Ensure production environment is still working as expected\n- [x] Remove the Unleash feature flag from the [CustomersDot dashboard](https://gitlab.com/gitlab-org/customers-gitlab-com/-/feature_flags)\n- [x] Close this rollout issue.\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by performing the following actions:\n  - [ ] Disable the Unleash flag on the [feature flag page](LINK TO THE FEATURE FLAG EDIT PAGE)","state":"closed","created_at":"2022-12-09T07:55:18.079Z","updated_at":"2023-01-16T03:36:53.881Z","closed_at":"2023-01-16T03:36:53.849Z","closed_by":{"id":1986039,"username":"lulalala","name":"Mark Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1986039/avatar.png","web_url":"https://gitlab.com/lulalala"},"labels":["backend","devops::fulfillment","feature flag","feature::addition","group::provision","quad-planning::complete-no-action","section::fulfillment","type::feature","workflow::ready for development"],"milestone":{"id":2745648,"iid":83,"group_id":9970,"title":"15.8","description":"","state":"active","created_at":"2022-08-22T16:57:34.875Z","updated_at":"2022-08-22T16:57:34.875Z","due_date":"2023-01-17","start_date":"2022-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/83"},"assignees":[{"id":1986039,"username":"lulalala","name":"Mark Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1986039/avatar.png","web_url":"https://gitlab.com/lulalala"}],"author":{"id":1986039,"username":"lulalala","name":"Mark Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1986039/avatar.png","web_url":"https://gitlab.com/lulalala"},"type":"ISSUE","assignee":{"id":1986039,"username":"lulalala","name":"Mark Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1986039/avatar.png","web_url":"https://gitlab.com/lulalala"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5306","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":20,"completed_count":18},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5306","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5306/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5306/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5306","relative":"#5306","full":"gitlab-org/customers-gitlab-com#5306"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":120123355,"iid":5302,"project_id":2670515,"title":"Orders created without some subscription data","description":"### Problem\n\nIt was discovered, as discussed in https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5249#note_1197338320, that there are many Orders in production associated with a subscription (e.g. have `subscription_name` present) but are missing many subscription-related attributes like `start_date`, `end_date`, and `subscription_id`.\n\nWe [determined the problem](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5249#note_1200272445) to be with [this line](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/70d456ed746c25b659f2b70052f28df936353b42/app/controllers/subscriptions_controller.rb#L63) in the `SubscriptionsController#edit` action.  If the order was not already created at this point, one would be created but not with all the necessary subscription info.\n\n### Proposal\n\nWe should replace this logic in the controller to use the `CreateOrderService` which we know creates an order with all the necessary subscription data points.  This is used in other places in the app to create orders.","state":"closed","created_at":"2022-12-08T23:02:17.080Z","updated_at":"2022-12-22T08:05:59.482Z","closed_at":"2022-12-13T16:45:50.741Z","closed_by":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"labels":["[deprecated] Category:Fulfillment Platform","backend","devops::fulfillment","group::fulfillment platform","maintenance::refactor","section::fulfillment","type::maintenance","workflow::production"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"}],"author":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"type":"ISSUE","assignee":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"user_notes_count":3,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5302","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5302","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5302/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5302/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5302","relative":"#5302","full":"gitlab-org/customers-gitlab-com#5302"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":119991392,"iid":5290,"project_id":2670515,"title":"Clean up portal_price_before_proration \u0026 portal_proration_credit calculation from backend","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n### Problem\n\nAfter https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5106 we will no longer be using these values in the frontend in CustomerDot and Gitlab. We can remove these calculations so that we don't have dead code.\n\n### Proposal\n\n\u003c!-- Consult with `@gitlab-com/business-technology/enterprise-apps/zuora-architects` on the ~\"Enterprise Applications\" team if Zuora business logic is involved. --\u003e\n\n1. These values are being passed in `orderPreview` graphql query to gitlab. Remove these values from the endpoint (\u0026 from schema in gitlab)\n2. Remove the calculations from `amendment_base_service.rb` \u0026 `preview_service.rb`\n\n### Result\n\n### Next steps (if any)\n\n### How will we measure success?","state":"closed","created_at":"2022-12-07T09:12:37.882Z","updated_at":"2022-12-21T07:54:30.829Z","closed_at":"2022-12-21T07:54:30.800Z","closed_by":{"id":11217480,"username":"tvellishetty","name":"Tarun Vellishetty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11217480/avatar.png","web_url":"https://gitlab.com/tvellishetty"},"labels":["backend","devops::fulfillment","group::fulfillment platform","maintenance::refactor","section::fulfillment","type::maintenance","workflow::production"],"milestone":{"id":2745648,"iid":83,"group_id":9970,"title":"15.8","description":"","state":"active","created_at":"2022-08-22T16:57:34.875Z","updated_at":"2022-08-22T16:57:34.875Z","due_date":"2023-01-17","start_date":"2022-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/83"},"assignees":[{"id":11217480,"username":"tvellishetty","name":"Tarun Vellishetty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11217480/avatar.png","web_url":"https://gitlab.com/tvellishetty"}],"author":{"id":11217480,"username":"tvellishetty","name":"Tarun Vellishetty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11217480/avatar.png","web_url":"https://gitlab.com/tvellishetty"},"type":"ISSUE","assignee":{"id":11217480,"username":"tvellishetty","name":"Tarun Vellishetty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11217480/avatar.png","web_url":"https://gitlab.com/tvellishetty"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5290","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5290","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5290/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5290/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5290","relative":"#5290","full":"gitlab-org/customers-gitlab-com#5290"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":119967619,"iid":5283,"project_id":2670515,"title":"Refactor Customer/Account form","description":"## Proposal\n\nOnce the `account_data_structure` flag is enabled/stable and we start working towards https://gitlab.com/groups/gitlab-org/-/epics/8951+, the Account/Customer form in CustomersDot should be in a position to be refactored in a few ways.  Please see https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/6037#note_1196864310 for more background.\n\nHere are a few things we can consider:\n1. ~~Avoid showing or updating `Customer.company` in this form.  At this point, `BillingAccount.zuora_account_name` should be the attribute used across the app.  There should be no need to maintain `company`~~. EDIT: follow-up in https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5656\n2. `UpdateContactService` is called only from a Customer model callback. It's only triggered when the virtual attr `sync_with_zuora` is set, which only happens [in the RegistrationsController](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/37933553209ad5c0b13c33ab2a786200c2aa4d27/app/controllers/registrations_controller.rb#L36). It would be nice to avoid this callback altogether and move this logic to the `RegistrationsController`. This service could be refactored (and renamed) to clarify it's scope. \n\n### Follow up\n\nThe following discussion from !6037 should be addressed:\n\n- [ ] @tyleramos started a [discussion](https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/6037#note_1196864310):  (+4 comments)\n\n    \u003e **Suggestion:** What do you think about updating the BillingAccount last (or at least after the Zuora account?  Just want to avoid a situation where the BillingAccount is updated but something fails updating the ZuoraAccount and the two are not in sync.\n\nThe following discussion from !6355 should be addressed:\n\n- [ ] @tyleramos started a [discussion](https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/6355#note_1246463812):\n\n    \u003e **Thought (non-blocking):** There are some known problems with this service, one of which is that it's not transactional. If the zuora account update fails on this line, it seems like it will continue to update the billing account and zuora contacts, but that might not be ideal.","state":"closed","created_at":"2022-12-06T20:40:30.103Z","updated_at":"2023-02-08T14:01:57.643Z","closed_at":"2023-02-08T14:01:57.612Z","closed_by":{"id":4192493,"username":"ebaque","name":"Etienne Baqu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4192493/avatar.png","web_url":"https://gitlab.com/ebaque"},"labels":["[deprecated] Category:Fulfillment Platform","backend","devops::fulfillment","group::fulfillment platform","maintenance::refactor","section::fulfillment","type::maintenance","workflow::in dev"],"milestone":{"id":2745650,"iid":84,"group_id":9970,"title":"15.9","description":"","state":"active","created_at":"2022-08-22T16:58:02.303Z","updated_at":"2022-08-22T16:58:02.303Z","due_date":"2023-02-17","start_date":"2023-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/84"},"assignees":[{"id":4192493,"username":"ebaque","name":"Etienne Baqu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4192493/avatar.png","web_url":"https://gitlab.com/ebaque"}],"author":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"type":"ISSUE","assignee":{"id":4192493,"username":"ebaque","name":"Etienne Baqu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4192493/avatar.png","web_url":"https://gitlab.com/ebaque"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5283","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5283","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5283/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5283/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5283","relative":"#5283","full":"gitlab-org/customers-gitlab-com#5283"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8951,"epic":{"id":621724,"iid":8951,"title":"Iteration 1B: A single CustomersDot BillingAccount can have multiple CustomersDot Users","url":"/groups/gitlab-org/-/epics/8951","group_id":9970,"human_readable_end_date":"Jul 31, 2023","human_readable_timestamp":"\u003cstrong\u003e3\u003c/strong\u003e months remaining"},"iteration":null,"health_status":null},{"id":119760980,"iid":5272,"project_id":2670515,"title":"Drop PSQL 10.17 from supported tools","description":"We migrated all our environments to CloudSQL on GCP. Both production and staging environments are on PSQL 12 now.\nThat means we can safely drop PSQL 10 from the list of supported runtimes and tools. Currently we have it in the `.tool-versions` file and in order to remove it from this file we should create or document convenient way for upgrading existing databases of team members (located in `./db/postgesql`).\n\n## How to upgrade local PSQL database from 10 to 12\n\nGiven the database is running in `./db/postgresql` we can perform the following steps to upgrade it:\n\n1. Stop the application\n2. Stop the PSQL master:\n\n   ```shell\n   asdf exec pg_ctl stop -D ./db/postgresql\n   ```\n\n3. Demote the data folder to old cluster:\n\n   ```shell\n   mv ./db/postgresql ./db/postgresql-10\n   ```\n\n3. Activate PostgreSQL 12 binaries:\n\n   ```shell\n   asdf shell postgres 12.12\n   ```\n\n   Verify it with `psql --version`. This command must output `psql (PostgreSQL) 12.12`\n\n4. Check the upgrade path:\n\n   ```shell\n   asdf exec pg_ctl initdb -D ./db/postgresql-12\n   asdf exec pg_upgrade --old-bindir=$(asdf where postgres 10.17)/bin --new-bindir=$(asdf where postgres 12.12)/bin --old-datadir=./db/postgresql-10 --new-datadir=./db/postgresql-12 --check\n   ```\n   \n   Look for the `*Clusters are compatible*` line at the end. If not, please report in this issue.\n\n5. Do the upgrade:\n\n   ```shell\n   asdf exec pg_upgrade --old-bindir=$(asdf where postgres 10.17)/bin --new-bindir=$(asdf where postgres 12.12)/bin --old-datadir=./db/postgresql-10 --new-datadir=./db/postgresql-12\n   ```\n\n6. Start the new PSQL 12 master:\n\n   ```shell\n   asdf exec pg_ctl start -D ./db/postgresql-12\n   ```\n\n7. Generate minimal optimizer statistics to verify the new database: `./analyze_new_cluster.sh`\n8. Run the script to delete the old database data: `./delete_old_cluster.sh`\n9. Move the new database cluster to the old location `./db/postgresql`:\n\n   ```shell\n   asdf exec pg_ctl stop -D ./db/postgresql-12 \u0026\u0026 mv ./db/postgresql-12 ./db/postgresql\n   ```\n\n10. Remove migration files: `rm analyze_new_cluster.sh delete_old_cluster.sh update_extensions.sql`\n11. Start the new database cluster and verify your local copy of CustomersDot still works:\n\n   ```shell\n   asdf exec pg_ctl start -D ./db/postgresql\n   ```","state":"closed","created_at":"2022-12-02T15:30:28.580Z","updated_at":"2023-03-07T08:12:51.982Z","closed_at":"2023-03-07T08:12:51.948Z","closed_by":{"id":447038,"username":"vitallium","name":"Vitaly Slobodin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/74b3243cfcfbfac1f022b78ab505e8d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/vitallium"},"labels":["devops::fulfillment","group::fulfillment platform","maintenance::dependency","missed:15.9","section::fulfillment","type::maintenance","workflow::complete"],"milestone":{"id":2745651,"iid":85,"group_id":9970,"title":"15.10","description":"","state":"active","created_at":"2022-08-22T16:58:22.132Z","updated_at":"2022-08-22T16:58:22.132Z","due_date":"2023-03-17","start_date":"2023-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/85"},"assignees":[{"id":447038,"username":"vitallium","name":"Vitaly Slobodin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/74b3243cfcfbfac1f022b78ab505e8d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/vitallium"}],"author":{"id":447038,"username":"vitallium","name":"Vitaly Slobodin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/74b3243cfcfbfac1f022b78ab505e8d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/vitallium"},"type":"ISSUE","assignee":{"id":447038,"username":"vitallium","name":"Vitaly Slobodin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/74b3243cfcfbfac1f022b78ab505e8d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/vitallium"},"user_notes_count":34,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5272","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5272","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5272/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5272/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5272","relative":"#5272","full":"gitlab-org/customers-gitlab-com#5272"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":119743087,"iid":5269,"project_id":2670515,"title":"Add logging in CloudActivations::ActivateService when seat link creation failed","description":"### Problem\n\nWhen an activation of a self-managed instance with an activation code failed because of an error while creating the seat link data, the error is [logged by the SeatLinkCreateService](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/e9eaf1283947f750b763c9e179626f0bbb341284/app/services/seat_link_create_service.rb#L24-27). The `SeatLinkCreateService` is used in other workflows like the daily seat link sync. This makes debugging for errors during an activation a little bit harder since the `CloudActivations::ActivateService` [does not log anything](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/e9eaf1283947f750b763c9e179626f0bbb341284/app/services/cloud_activations/activate_service.rb#L89) about this with its own context and the errors have to be looked up with a `SeatLinkCreateService` context. \n\n### Proposal\n\nEven though the [`SeatLinkCreateService` has logging for an unsuccessful processing](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/e9eaf1283947f750b763c9e179626f0bbb341284/app/services/seat_link_create_service.rb#L24-27), it might make sense to add additional logging in the \n`CloudActivations::ActivateService` when the [response of the `SeatLinkCreateService` is unsuccessful](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/e9eaf1283947f750b763c9e179626f0bbb341284/app/services/cloud_activations/activate_service.rb#L89). This could make debugging errors during an activation a bit easier and quicker since we would be able to actually find error loggings for the `CloudActivations::ActivateService` even when the actual error happened in the `SeatLinkCreateService`.\n\n### Result\n\nAdditional error logging that helps with debugging errors during activation quicker since we'll be able to find something specifically linked to the activation when the seat link creation failed.","state":"closed","created_at":"2022-12-02T10:06:57.035Z","updated_at":"2023-02-01T10:39:13.038Z","closed_at":"2023-02-01T10:18:16.955Z","closed_by":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"labels":["backend","devops::fulfillment","group::provision","knowledge-sharing","maintenance::refactor","section::fulfillment","type::maintenance","workflow::production"],"milestone":{"id":2745650,"iid":84,"group_id":9970,"title":"15.9","description":"","state":"active","created_at":"2022-08-22T16:58:02.303Z","updated_at":"2022-08-22T16:58:02.303Z","due_date":"2023-02-17","start_date":"2023-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/84"},"assignees":[{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"}],"author":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"type":"ISSUE","assignee":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5269","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5269","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5269/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5269/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5269","relative":"#5269","full":"gitlab-org/customers-gitlab-com#5269"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":119742259,"iid":5267,"project_id":2670515,"title":"Ensure to log service class name in `log_warn` and `log_error`","description":"When checking logs, sometimes it is tricky to know where does an error come from. One example is https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5264#note_1194023547.\n\n\nATM we only log service class name in [log_info](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/96fcaba30e1df12ecf6f5ddd1cb88923455fd56b/lib/gitlab/logger_helpers.rb#L7-9). \n\n```\n    def log_info(message, extra: {})\n      log(:info, \"#{self.class.name}: #{message}\", extra: extra)\n    end\n```\n\nI think we should ensure we log the `self.class.name` for [log_warn](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/96fcaba30e1df12ecf6f5ddd1cb88923455fd56b/lib/gitlab/logger_helpers.rb#L11-14) and [log_error](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/96fcaba30e1df12ecf6f5ddd1cb88923455fd56b/lib/gitlab/logger_helpers.rb#L16-18) as well.\n\n\n### Problem\n\n### Proposal\n\n\u003c!-- Consult with `@gitlab-com/business-technology/enterprise-apps/zuora-architects` on the ~\"Enterprise Applications\" team if Zuora business logic is involved. --\u003e\n\n### Result\n\n### Next steps (if any)\n\n### How will we measure success?","state":"closed","created_at":"2022-12-02T09:49:33.222Z","updated_at":"2023-03-21T04:09:03.259Z","closed_at":"2023-03-21T04:08:56.169Z","closed_by":{"id":4098809,"username":"qzhaogitlab","name":"Qingyu Zhao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4098809/avatar.png","web_url":"https://gitlab.com/qzhaogitlab"},"labels":["Category:Fulfillment Integrations \u0026 Visibility","devops::fulfillment","feature::enhancement","group::provision","section::fulfillment","type::feature","workflow::in review"],"milestone":{"id":2910456,"iid":86,"group_id":9970,"title":"15.11","description":"","state":"active","created_at":"2022-12-13T20:08:46.985Z","updated_at":"2022-12-13T20:08:46.985Z","due_date":"2023-04-17","start_date":"2023-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/86"},"assignees":[{"id":4098809,"username":"qzhaogitlab","name":"Qingyu Zhao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4098809/avatar.png","web_url":"https://gitlab.com/qzhaogitlab"}],"author":{"id":4098809,"username":"qzhaogitlab","name":"Qingyu Zhao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4098809/avatar.png","web_url":"https://gitlab.com/qzhaogitlab"},"type":"ISSUE","assignee":{"id":4098809,"username":"qzhaogitlab","name":"Qingyu Zhao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4098809/avatar.png","web_url":"https://gitlab.com/qzhaogitlab"},"user_notes_count":1,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5267","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5267","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5267/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5267/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5267","relative":"#5267","full":"gitlab-org/customers-gitlab-com#5267"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":119736543,"iid":5265,"project_id":2670515,"title":"Update iron_bank gem to fix known vulnerabilities","description":"We should update `iron_bank` to the latest version so we can fix some Security vulnerabilities.\n\nSee https://github.com/zendesk/iron_bank/pull/90","state":"closed","created_at":"2022-12-02T08:17:40.529Z","updated_at":"2022-12-05T10:25:11.207Z","closed_at":"2022-12-05T10:25:11.182Z","closed_by":{"id":447038,"username":"vitallium","name":"Vitaly Slobodin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/74b3243cfcfbfac1f022b78ab505e8d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/vitallium"},"labels":["devops::fulfillment","group::fulfillment platform","maintenance::dependency","section::fulfillment","security","type::maintenance","workflow::production"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":447038,"username":"vitallium","name":"Vitaly Slobodin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/74b3243cfcfbfac1f022b78ab505e8d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/vitallium"}],"author":{"id":273486,"username":"jameslopez","name":"James Lopez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/273486/avatar.png","web_url":"https://gitlab.com/jameslopez"},"type":"ISSUE","assignee":{"id":447038,"username":"vitallium","name":"Vitaly Slobodin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/74b3243cfcfbfac1f022b78ab505e8d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/vitallium"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5265","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5265","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5265/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5265/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5265","relative":"#5265","full":"gitlab-org/customers-gitlab-com#5265"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":119680789,"iid":5252,"project_id":2670515,"title":"Purchase fails with error: \u003cPaymentMethodID\u003e is not a valid hosted payment method.","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"bug\" label in relevant trackers:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n- https://gitlab.com/gitlab-org/customers-gitlab-com/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n\nDo not include confidential information!\n---\u003e\n\n# Bug\n\n## Summary\n\nSometimes purchases fail with the generic error `An error occurred in the purchase step. If the problem persists please contact support at https://support.gitlab.com.` but when we check the logs we find an error log that states:\n\n```\n\u003cPaymentMethodID\u003e is not a valid hosted payment method.\n```\n\n## Relevant logs and/or screenshots\n\nExample [GCP Logs (internal)](https://console.cloud.google.com/logs/query;cursorTimestamp=2022-12-01T08:57:39.987Z;query=%22A-S00041396%22%0Atimestamp%3D%222022-12-01T08:57:39.987Z%22%0AinsertId%3D%228lrda1g2ua8331%22;timeRange=P7D?project=gitlab-subscriptions-prod)\n\n## Workarounds\n\n1. Use an incognito window to make the purchase (worked for 1)\n2. Use a different device i.e. mobile phone (worked for 4)\n\n## Reported examples\n\n1. https://gitlab.zendesk.com/agent/tickets/335749\n1. https://gitlab.zendesk.com/agent/tickets/346748\n1. https://gitlab.zendesk.com/agent/tickets/350388\n2. https://gitlab.zendesk.com/agent/tickets/356964 (Purchase via Chrome incognito/private mode didn't work for this customer; trying on Chrome Mobile worked)\n\n\n\u003c!---\nPlease add both severity and priority level according to: https://docs.gitlab.com/ee/development/contributing/issue_workflow.html#severity-labels\n---\u003e","state":"closed","created_at":"2022-12-01T09:23:42.910Z","updated_at":"2023-02-12T22:47:20.642Z","closed_at":"2023-01-26T22:25:36.825Z","closed_by":{"id":4981524,"username":"jhyson","name":"Josianne Hyson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4981524/avatar.png","web_url":"https://gitlab.com/jhyson"},"labels":["Category:Purchase","backend","devops::fulfillment","group::purchase","missed:15.8","priority::3","section::fulfillment","severity::3","type::bug","workflow::production"],"milestone":{"id":2745650,"iid":84,"group_id":9970,"title":"15.9","description":"","state":"active","created_at":"2022-08-22T16:58:02.303Z","updated_at":"2022-08-22T16:58:02.303Z","due_date":"2023-02-17","start_date":"2023-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/84"},"assignees":[{"id":4981524,"username":"jhyson","name":"Josianne Hyson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4981524/avatar.png","web_url":"https://gitlab.com/jhyson"}],"author":{"id":9767370,"username":"ffarukh","name":"Firdaws Farukh","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f9ffec1ae6c28212690c41044f1d9c17?s=80\u0026d=identicon","web_url":"https://gitlab.com/ffarukh"},"type":"ISSUE","assignee":{"id":4981524,"username":"jhyson","name":"Josianne Hyson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4981524/avatar.png","web_url":"https://gitlab.com/jhyson"},"user_notes_count":16,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5252","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5252","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5252/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5252/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5252","relative":"#5252","full":"gitlab-org/customers-gitlab-com#5252"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8649,"epic":{"id":591333,"iid":8649,"title":"CI Minutes Purchasing Flow Reliability","url":"/groups/gitlab-org/-/epics/8649","group_id":9970,"human_readable_end_date":"Aug 17, 2023","human_readable_timestamp":"\u003cstrong\u003e3\u003c/strong\u003e months remaining"},"iteration":null,"health_status":null},{"id":119663561,"iid":5248,"project_id":2670515,"title":"Enable `try it` on marketplace openAPI document page","description":"We have openAPI document for marketplace: \n- internally viewable from gitlab blob viewer: https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/main/doc/api/openapi.yaml. This requires CustomersDot repository access, as CustomersDot is a private project\n- publicly viewable from https://customers.staging.gitlab.com/openapi_docs/marketplace and https://customers.gitlab.com/openapi_docs/marketplace\n\nFor the publicly document(https://customers.staging.gitlab.com/openapi_docs/marketplace and https://customers.gitlab.com/openapi_docs/marketplace), it will be helpful to allow `Try it out` from this page. I think this will be convenient for marketplace partners, and it will help to reduce the integration frictions.\n\n### Problem\n\n### Proposal\n\n\u003c!-- Consult with `@gitlab-com/business-technology/enterprise-apps/zuora-architects` on the ~\"Enterprise Applications\" team if Zuora business logic is involved. --\u003e\n\n### Result\n\n### Next steps (if any)\n\n### How will we measure success?","state":"closed","created_at":"2022-12-01T00:18:26.785Z","updated_at":"2023-03-20T16:30:41.341Z","closed_at":"2023-02-28T10:28:42.921Z","closed_by":{"id":4098809,"username":"qzhaogitlab","name":"Qingyu Zhao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4098809/avatar.png","web_url":"https://gitlab.com/qzhaogitlab"},"labels":["Category:Fulfillment Integrations \u0026 Visibility","devops::fulfillment","feature::addition","group::provision","priority::3","section::fulfillment","type::feature","workflow::staging"],"milestone":{"id":2745651,"iid":85,"group_id":9970,"title":"15.10","description":"","state":"active","created_at":"2022-08-22T16:58:22.132Z","updated_at":"2022-08-22T16:58:22.132Z","due_date":"2023-03-17","start_date":"2023-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/85"},"assignees":[{"id":4098809,"username":"qzhaogitlab","name":"Qingyu Zhao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4098809/avatar.png","web_url":"https://gitlab.com/qzhaogitlab"}],"author":{"id":4098809,"username":"qzhaogitlab","name":"Qingyu Zhao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4098809/avatar.png","web_url":"https://gitlab.com/qzhaogitlab"},"type":"ISSUE","assignee":{"id":4098809,"username":"qzhaogitlab","name":"Qingyu Zhao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4098809/avatar.png","web_url":"https://gitlab.com/qzhaogitlab"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5248","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5248","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5248/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5248/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5248","relative":"#5248","full":"gitlab-org/customers-gitlab-com#5248"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":119658060,"iid":5247,"project_id":2670515,"title":"[SM] Use term end date for all ramp enabled subscription licenses","description":"### Background\nHistorically, all ramp licenses were generated for term start date + 1 year. With Zuora Ramps, we are establishing automated provisioning of licenses for the entire ramp subscription period, so this shortened term is no longer necessary.\n\nWith the Zuora workflow being setup by EntApps, callouts will be sent from Zuora to CDot whenever a new ramp interval starts in order to provision additional seats at the start at each ramp interval.\n\n### Problem\n\nAs discussed in this thread https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4295#note_1189876785, ramped subscriptions where cloud licensing is enabled have licenses generated for the full subscription term.  For example, if a subscription has a 3 one year ramps, the full subscription term is 3 years, and therefore has a license generated for the full 3 years.  If the quantity changes when a new ramp begins, a callout will be sent to CDot to generate a new license with the new quantity for the full term.\n\nThe logic for determining the license end date can be [found here](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/ec6b3cc9dca0e511568ba86c0b3d6db99cfdcd19/app/models/concerns/license_creation.rb#L15).  Currently, this logic only applies to Subscriptions with cloud licensing enabled, but we need it for Subscriptions with legacy licenses too.\n\n### Proposal\n\nUpdate the `LicenseCreation#license_end_date` method to determine the license end date consistently for all ramp enabled subscriptions, using the term end date.\n\n\n### Proposal Summary\n\nGenerate the initial license for a ramp subscription for the entire 3 year subscription term (and then send a new license for only the additional users at the start of each year).\n\nReason for this proposal, rather than generating the initial license for 1 year and sending a new license for the full user amount at the start of each year:\n1. We are moving towards generating all licenses for the entire subscription term, not just ramps ([example](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4816)), as it requires less manual intervention. Option 2 is consistent with this motion.\n1. There is no risk of the customer losing access entirely if there is any provision failure at the start of years 2/3 - only not having access to the additional seats. Seems this could result in fewer support escalations.\n1. This was the plan with cloud license enabled subscriptions, so to me it makes sense to keep both types consistent.\n\n### Proposal Details\nhttps://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/4879 updated the existing license end date logic to generate ramp enabled licenses for the full subscription term for cloud enabled subscriptions _only_. We should remove this condition on cloud enabled by updating [this line](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/ec6b3cc9dca0e511568ba86c0b3d6db99cfdcd19/app/models/concerns/license_creation.rb#L15).\n\nI think we want to update this:\n\u003e `# If Subscription is cloud and (reconciliations or ramps enabled), we issue it for the full term`\n\nTo this:\n\u003e `# If Subscription is (cloud and reconciliations) or ramps enabled, we issue it for the full term`\n\nSide note, once https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4816 is implemented, the logic will actually be:\n\u003e `# If Subscription is cloud or ramps enabled, we issue it for the full term`\n\n### Result\nAll ramp licenses (whether cloud or not) are created for the full term.","state":"closed","created_at":"2022-11-30T21:07:42.343Z","updated_at":"2023-03-13T16:04:21.190Z","closed_at":"2022-12-08T14:32:43.758Z","closed_by":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"labels":["Category:SM Provisioning","License Activation","Ramps Provisioning","backend","devops::fulfillment","group::provision","section::fulfillment","type::feature","workflow::ready for development"],"milestone":null,"assignees":[],"author":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"type":"ISSUE","assignee":null,"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5247","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5247","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5247/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5247/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5247","relative":"#5247","full":"gitlab-org/customers-gitlab-com#5247"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":9354,"epic":{"id":668676,"iid":9354,"title":"[SM] Automated Provisioning for Ramp Deals","url":"/groups/gitlab-org/-/epics/9354","group_id":9970,"human_readable_end_date":"Jan 15, 2023","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":119653137,"iid":5246,"project_id":2670515,"title":"Deprecate Unified License mailers \u0026 remove SS aware check","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n### Background\nWe currently have 4 mailers that can be sent to customers when a Self Managed subscription is purchased - a legacy specific mailer, an offline license specific mailer, a cloud license specific mailer, and a unified mailer.\n\nThe unified mailer was initially established in the early days of Cloud Licensing and contained _both_ the legacy license and a cloud license activation code. This was sent to customers who had `TurnOnCloudLicensing` set to `null`. As part of SCL, we removed the legacy license from this mailer as we began to treat `TurnOnCloudLicensing` = `null` customers the same as `TurnOnCloudLicensing` = `Yes`. Therefore it is now a duplicate of the activation code mailer.\n\nIn addition, the check for `super_sonics_aware` is no longer necessary. Since we are over 1 year past the launch of Super Sonics (August 2021), all new or renewal subscriptions will now be super sonics aware. This can be removed as unnecessary logic.\n\nRelated part of code:\n![image](/uploads/c8fad86be7698188a6258e238c1f69ca/image.png)\n\n### Proposal\nDeprecate the unified license mailer and simplify the existing mailer logic to send only the legacy, offline or activation code mailer as is appropriate based on the license type the customer will receive, with no dependency on `super_sonics_aware`.\n\nRough suggestion:\n* If legacy, send legacy mailer\n* If offline, send offline mailer\n* Else, must be online, so send online mailer (reordered as I think online mailer should be the default)\n\nIn addition, we should deprecate the related [unified voucher email](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/main/spec/mailers/unified_license_voucher_mailer_spec.rb), as this will no longer be needed.\n\n### Result\nSimplification in our customer mailers.\n\n### Availability \u0026 Testing\n\n\u003c!-- This section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\nWhat risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning --\u003e\n\nThis refactor change will likely result in a lot of changed files and tests. On hand-hand, this should be a simple consolidation however on the other hand, we risk breaking something. \n\nWe should be able to move all existing tests from our other mailers into one mailer as proposed, but it's possible more will have to be done to ensure everything works properly.  \n\nFrom a ~Quality perspective, let's make sure these MRs are reviewed from the ~test perspective and that we don't suffer test coverage loss due to this change.","state":"closed","created_at":"2022-11-30T19:07:07.068Z","updated_at":"2023-04-13T17:47:20.572Z","closed_at":"2023-04-13T17:47:20.536Z","closed_by":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"labels":["Category:SM Provisioning","Cloud Licensing","backend","devops::fulfillment","emails","group::provision","knowledge-sharing","maintenance::refactor","priority::4","quad-planning::complete-action","section::fulfillment","type::maintenance","workflow::complete"],"milestone":{"id":2910456,"iid":86,"group_id":9970,"title":"15.11","description":"","state":"active","created_at":"2022-12-13T20:08:46.985Z","updated_at":"2022-12-13T20:08:46.985Z","due_date":"2023-04-17","start_date":"2023-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/86"},"assignees":[{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"}],"author":{"id":7964536,"username":"courtmeddaugh","name":"Courtney Meddaugh","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7964536/avatar.png","web_url":"https://gitlab.com/courtmeddaugh"},"type":"ISSUE","assignee":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"user_notes_count":5,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5246","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5246","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5246/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5246/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5246","relative":"#5246","full":"gitlab-org/customers-gitlab-com#5246"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":9439,"epic":{"id":676516,"iid":9439,"title":"Apply new template to Provision emails \u0026 deprecate old mailer","url":"/groups/gitlab-org/-/epics/9439","group_id":9970,"human_readable_end_date":"Apr 17, 2023","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":119634264,"iid":5242,"project_id":2670515,"title":"[SM] Avoid license notification when provisioning is not needed when ramps begin","description":"### Problem\n\nOnce https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5247 is completed, all ramp subscriptions will have licenses generated for the full subscription term.  For example if a 3 year subscription might have 3 one year ramps.  Any licenses generated for this subscription would be created for the full 3 years.\n\nHowever, as discussed in https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4295#note_1190124058, there may be times when nothing changes to the subscription when a new ramp starts that affects provisioning (e.g. the quantity does not change).  If that's the case, a callout will still be sent to CDot to provision for the new ramp.  An identical license would generated and notification sent to the customer, leading to confusion as a new license would not be necessary.\n\n### Proposal\n\nLet's update CDot to avoid generating a new license and avoid notifying the customer when this scenario arises.  \n\nThis filtering logic probably will need to be done when processing the callout. It might be similar to what CDot for [the Seat Link Service](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/4ae39fa629f11d88d5575837412df990e624b9a5/app/services/seat_link_create_service.rb#L193). The service [compares the most recent license to the new license](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/3e8889422f9bc05f57cb205fb025364b28ccdcef/app/services/build_license_from_subscription_service.rb#L45) and only generates the new one if needed.","state":"closed","created_at":"2022-11-30T14:55:00.495Z","updated_at":"2023-02-24T11:08:33.932Z","closed_at":"2023-01-16T09:50:19.661Z","closed_by":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"labels":["Category:SM Provisioning","Ramps Provisioning","Track Health Status [DEPRECATED]","backend","devops::fulfillment","feature::addition","group::provision","priority::2","section::fulfillment","type::feature","workflow::production"],"milestone":{"id":2745648,"iid":83,"group_id":9970,"title":"15.8","description":"","state":"active","created_at":"2022-08-22T16:57:34.875Z","updated_at":"2022-08-22T16:57:34.875Z","due_date":"2023-01-17","start_date":"2022-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/83"},"assignees":[{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"}],"author":{"id":4961018,"username":"mlunoe","name":"Michael Lune","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4961018/avatar.png","web_url":"https://gitlab.com/mlunoe"},"type":"ISSUE","assignee":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"user_notes_count":12,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5242","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5242","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5242/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5242/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5242","relative":"#5242","full":"gitlab-org/customers-gitlab-com#5242"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":9354,"epic":{"id":668676,"iid":9354,"title":"[SM] Automated Provisioning for Ramp Deals","url":"/groups/gitlab-org/-/epics/9354","group_id":9970,"human_readable_end_date":"Jan 15, 2023","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":119555172,"iid":5233,"project_id":2670515,"title":"[Follow up] Update usage of allow_buy_subscription method","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n### Problem\nFollow up issue from this MR conversation - https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/5958#note_1188823085.\n\n### Proposal\n\n\u003c!-- Consult with `@gitlab-com/business-technology/enterprise-apps/zuora-architects` on the ~\"Enterprise Applications\" team if Zuora business logic is involved. --\u003e\n\n### Result\n\n### Next steps (if any)\n\n### How will we measure success?","state":"closed","created_at":"2022-11-29T12:30:52.043Z","updated_at":"2022-12-01T09:49:30.610Z","closed_at":"2022-12-01T09:49:15.415Z","closed_by":{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"},"labels":["Category:Subscription Management","devops::fulfillment","feature::enhancement","frontend","group::billing and subscription management","section::fulfillment","type::feature"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"}],"author":{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"},"type":"ISSUE","assignee":{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5233","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":0,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5233","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5233/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5233/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5233","relative":"#5233","full":"gitlab-org/customers-gitlab-com#5233"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8941,"epic":{"id":618512,"iid":8941,"title":"Allow customers that purchased via Reseller to access Customers Portal","url":"/groups/gitlab-org/-/epics/8941","group_id":9970,"human_readable_end_date":"May 17, 2023","human_readable_timestamp":"\u003cstrong\u003e11\u003c/strong\u003e days remaining"},"iteration":{"id":96281,"iid":172,"sequence":3,"group_id":9970,"title":"15.7 Iteration 1","description":"","state":3,"created_at":"2022-11-14T20:24:48.891Z","updated_at":"2022-12-04T00:05:09.115Z","start_date":"2022-11-18","due_date":"2022-12-03","web_url":"https://gitlab.com/groups/gitlab-org/-/iterations/96281"},"health_status":"on_track"},{"id":119466630,"iid":5230,"project_id":2670515,"title":"Simplify support of multiple class objects in VoucherMailer","description":"### Problem\n\nAs part of https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/5929#note_1180208624, the logic to find the email, name and company of the recipient as well as the log info in the `VoucherMailer` was getting too complex. This is because there are now three classes (`License`, `Subscription` and `Customer`) that are supported by the `VoucherMailer`. In the linked thread there were a few options that were discussed. But [one](https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/5929#note_1182039949) seemed like the way to go.\n\n### Proposal\n\nAll three classes, `License`, `Subscription` and `Customer`, used in the `VoucherMailer` should respond to the same methods. E.g. currently only `License` and `Customer` respond to an `email` method and `Subscription` has to use the `sold_to_contact\u0026.work_email` methods to get to the same info. If all three classes respond to the same method name, a single object could be provided to the VoucherMailer and removes all the current complexity by calling the method names that are supported by all three classes.\n\n### Result\n\nRemove complexity around the logic to find the email, name and company of the recipient as well as the log info in the `VoucherMailer`.","state":"closed","created_at":"2022-11-28T08:27:35.774Z","updated_at":"2022-12-05T11:30:23.727Z","closed_at":"2022-12-05T11:30:23.694Z","closed_by":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"labels":["backend","devops::fulfillment","group::provision","maintenance::refactor","priority::4","section::fulfillment","type::maintenance","workflow::production"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"}],"author":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"type":"ISSUE","assignee":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5230","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5230","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5230/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5230/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5230","relative":"#5230","full":"gitlab-org/customers-gitlab-com#5230"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":"on_track"},{"id":119465391,"iid":5228,"project_id":2670515,"title":"Use constants for mailer subject","description":"### Problem\n\nIn a [review comment](https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/5929#note_1182039948), it was suggested to use constants for the mailer subject to reuse them in voucher mailer counterparts. This will ensure that the email subject is always the same for the voucher email (the email that goes to SFDC) as in the actual email that goes out to the customer.\n\n### Proposal\n\nReplace hard coded subjects in mailers with constants and reuse them in existing voucher mailers.\n\n### Result\n\nConsistency in mailer subjects.","state":"closed","created_at":"2022-11-28T08:06:16.681Z","updated_at":"2022-11-28T10:45:48.617Z","closed_at":"2022-11-28T10:45:48.593Z","closed_by":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"labels":["backend","devops::fulfillment","group::provision","maintenance::refactor","section::fulfillment","type::maintenance","workflow::production"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"}],"author":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"type":"ISSUE","assignee":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5228","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5228","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5228/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5228/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5228","relative":"#5228","full":"gitlab-org/customers-gitlab-com#5228"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":119404411,"iid":5227,"project_id":2670515,"title":"Follow-up from \"Persist billing account via FindOrCreateCustomerService\"","description":"The following discussion from !5807 should be addressed:\n\n- [ ] @tyleramos started a [discussion](https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/5807#note_1164663028):  (+3 comments)\n\n    \u003e **Suggestion (non-blocking):** I suppose we could add some specs for if the `UpdateBillingAccountService` service returns an error result, just to make sure the compose works as we'd expect.  Maybe something to think about for a follow-up?","state":"closed","created_at":"2022-11-25T22:18:01.268Z","updated_at":"2022-12-12T14:56:40.072Z","closed_at":"2022-12-12T14:56:40.033Z","closed_by":{"id":5667561,"username":"vshumilo","name":"Vladlena Shumilo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08dfa82785d130c151ab9e21caeab4e3?s=80\u0026d=identicon","web_url":"https://gitlab.com/vshumilo"},"labels":["backend","devops::fulfillment","feature::addition","group::fulfillment platform","section::fulfillment","type::feature"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":5667561,"username":"vshumilo","name":"Vladlena Shumilo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08dfa82785d130c151ab9e21caeab4e3?s=80\u0026d=identicon","web_url":"https://gitlab.com/vshumilo"}],"author":{"id":5667561,"username":"vshumilo","name":"Vladlena Shumilo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08dfa82785d130c151ab9e21caeab4e3?s=80\u0026d=identicon","web_url":"https://gitlab.com/vshumilo"},"type":"ISSUE","assignee":{"id":5667561,"username":"vshumilo","name":"Vladlena Shumilo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08dfa82785d130c151ab9e21caeab4e3?s=80\u0026d=identicon","web_url":"https://gitlab.com/vshumilo"},"user_notes_count":1,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5227","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5227","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5227/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5227/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5227","relative":"#5227","full":"gitlab-org/customers-gitlab-com#5227"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":119403121,"iid":5226,"project_id":2670515,"title":"Update billing account on customer salesforce_account_id update","description":"The following discussion from !5660 should be addressed:\n\n- [ ] @vshumilo started a [discussion](https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/5660#note_1153053368):  (+4 comments)\n\n    \u003e **context:** I will layer in the `salesforce_account_id` in a follow up.\n    \u003e \n    \u003e I know there will be some feedback on this one given I think I want to propose to favor Zuora's value given the changes in CDot reflect in Zuora but manual SFDC account merges that are synced to Zuora currently do not sync back to CDot.\n    \u003e \n    \u003e On the other hand we might want to create the Account with the exact information that the user has and I want to gather some thoughts around what is the best approach therefore don't want to delay this MR with this:\n    \u003e \n    \u003e ```ruby\n    \u003e # option 1\n    \u003e salesforce_account_id: zuora_account.crm_id || customer.salesforce_account_id\n    \u003e \n    \u003e # option 2\n    \u003e salesforce_account_id: customer.salesforce_account_id\n    \u003e ```\n    \u003e \n    \u003e Plus the billing account too needs to be updated every time the `salesforce_account_id` for the customer changes -\u003e I think we might use a separate issue to handle this SFDC value in the `BillingAccount`. Do you think another issue will better separate this update @tyleramos\n\n### Acceptance criteria\n\n- [x] Agree on a strategy to populate the billing account's `salesforce_account_id`. \n- [ ] ~~Update the code so every time the `salesforce_account_id` is updated for the `customer`, its associated billing account is updated as well.~~\n- [x] Hide the `salesforce_account_id` from the Customer's Admin show and edit views when the `:account_data_structure` feature flag is enabled: https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/6134\n\nAs part of this we want to also question if with the current setup we are willing to trust the `customer.salesforce_account_id` or we want to always fetch it from the zuora account associated to the `customer`. Note we don't have a callback that will sync back to CDot changes on the Zuora account `crm_id` that result from merging SFDC accounts and manually updated the references to the surviving account. [Opional context here](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4822#note_1166606063)","state":"closed","created_at":"2022-11-25T21:04:26.913Z","updated_at":"2022-12-16T21:42:42.037Z","closed_at":"2022-12-16T21:42:42.017Z","closed_by":{"id":5667561,"username":"vshumilo","name":"Vladlena Shumilo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08dfa82785d130c151ab9e21caeab4e3?s=80\u0026d=identicon","web_url":"https://gitlab.com/vshumilo"},"labels":["backend","devops::fulfillment","feature::addition","group::fulfillment platform","section::fulfillment","type::feature","workflow::verification"],"milestone":null,"assignees":[{"id":5667561,"username":"vshumilo","name":"Vladlena Shumilo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08dfa82785d130c151ab9e21caeab4e3?s=80\u0026d=identicon","web_url":"https://gitlab.com/vshumilo"}],"author":{"id":5667561,"username":"vshumilo","name":"Vladlena Shumilo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08dfa82785d130c151ab9e21caeab4e3?s=80\u0026d=identicon","web_url":"https://gitlab.com/vshumilo"},"type":"ISSUE","assignee":{"id":5667561,"username":"vshumilo","name":"Vladlena Shumilo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08dfa82785d130c151ab9e21caeab4e3?s=80\u0026d=identicon","web_url":"https://gitlab.com/vshumilo"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5226","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":4,"completed_count":2},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5226","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5226/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5226/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5226","relative":"#5226","full":"gitlab-org/customers-gitlab-com#5226"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8950,"epic":{"id":621714,"iid":8950,"title":"Iteration 1A: Align CustomersDot BillingAccounts and Users to Zuora objects","url":"/groups/gitlab-org/-/epics/8950","group_id":9970,"human_readable_end_date":"Mar 17, 2023","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":119388177,"iid":5224,"project_id":2670515,"title":"A couple of follow-ups from \"Set urgency class attribute\"","description":"The discussions from !5979 should be addressed. Two points:\n- Rename `FeatureCategorizable` as its scope now broadened with the introduction of the `urgency` class attributes.\n- The body of `Metrics::RequestCollector#controller` is the same as another method in `Metrics::RequestEndpoints`. Extract that shared logic.\n\ncc @qzhaogitlab","state":"closed","created_at":"2022-11-25T14:03:55.085Z","updated_at":"2022-12-07T15:58:32.145Z","closed_at":"2022-12-07T15:58:32.111Z","closed_by":{"id":4192493,"username":"ebaque","name":"Etienne Baqu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4192493/avatar.png","web_url":"https://gitlab.com/ebaque"},"labels":["devops::fulfillment","group::fulfillment platform","maintenance::refactor","section::fulfillment","type::maintenance","workflow::in review"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":4192493,"username":"ebaque","name":"Etienne Baqu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4192493/avatar.png","web_url":"https://gitlab.com/ebaque"}],"author":{"id":4192493,"username":"ebaque","name":"Etienne Baqu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4192493/avatar.png","web_url":"https://gitlab.com/ebaque"},"type":"ISSUE","assignee":{"id":4192493,"username":"ebaque","name":"Etienne Baqu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4192493/avatar.png","web_url":"https://gitlab.com/ebaque"},"user_notes_count":1,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5224","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5224","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5224/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5224/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5224","relative":"#5224","full":"gitlab-org/customers-gitlab-com#5224"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":119015936,"iid":5204,"project_id":2670515,"title":"CloudLicenseMailer notifications do not send a voucher","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n### Problem\n\nThe recently created CloudLicense mailers for [`renewal_notification`](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/3cbef4c4b31ea7553f33165166e5dcef3f09e7d6/app/mailers/cloud_license_mailer.rb#L19) (introduced in https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4542) and [`subscription_update_notification`](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/3cbef4c4b31ea7553f33165166e5dcef3f09e7d6/app/mailers/cloud_license_mailer.rb#L12) (introduced in https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4543) do not implement a voucher mailer, so no notification to the SFDC BCC or the reseller email is sent.\n\nBoth mailers send a [BCC](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/3cbef4c4b31ea7553f33165166e5dcef3f09e7d6/app/mailers/cloud_license_mailer.rb#L10) to the revenue team email address (licenses@gitlab.com). \n\nSince we are trying to improve our Proof of License Delivery mechanisms for resellers, ensuring that Cloud Licensing renewals and subscription updates are available for them seems like a logic next step.\n\n### Proposal\n\nIntroduce a new `CloudLicenseVoucherMailer` with two methods (one for renewals and another for subscription updates) and call those methods from the corresponding notification.\n\n### Result\n\n* The vouchers provide better visibility for the Sales and Order Management teams by storing them in SFDC\n* The vouchers provide better visibility for resellers by sending them to the `Invoice Owner` of the partner\n\n### Reported Examples\n1. https://gitlab.zendesk.com/agent/tickets/351040 - OM team requesting copy of renewal on CL\n2.","state":"closed","created_at":"2022-11-18T23:54:48.539Z","updated_at":"2023-02-24T22:06:08.445Z","closed_at":"2023-02-17T21:36:40.674Z","closed_by":{"id":4717243,"username":"a_luna","name":"Amparo Luna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4717243/avatar.png","web_url":"https://gitlab.com/a_luna"},"labels":["Category:Fulfillment Integrations \u0026 Visibility","backend","devops::fulfillment","group::provision","missed:15.8","priority::2","section::fulfillment","type::feature","workflow::in review"],"milestone":{"id":2745650,"iid":84,"group_id":9970,"title":"15.9","description":"","state":"active","created_at":"2022-08-22T16:58:02.303Z","updated_at":"2022-08-22T16:58:02.303Z","due_date":"2023-02-17","start_date":"2023-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/84"},"assignees":[{"id":4717243,"username":"a_luna","name":"Amparo Luna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4717243/avatar.png","web_url":"https://gitlab.com/a_luna"}],"author":{"id":4717243,"username":"a_luna","name":"Amparo Luna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4717243/avatar.png","web_url":"https://gitlab.com/a_luna"},"type":"ISSUE","assignee":{"id":4717243,"username":"a_luna","name":"Amparo Luna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4717243/avatar.png","web_url":"https://gitlab.com/a_luna"},"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5204","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5204","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5204/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5204/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5204","relative":"#5204","full":"gitlab-org/customers-gitlab-com#5204"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8133,"epic":{"id":530380,"iid":8133,"title":"Sales Visibility into License Usage Data","url":"/groups/gitlab-org/-/epics/8133","group_id":9970,"human_readable_end_date":"May 31, 2023","human_readable_timestamp":"\u003cstrong\u003e25\u003c/strong\u003e days remaining"},"iteration":null,"health_status":"on_track"},{"id":118998012,"iid":5203,"project_id":2670515,"title":"Document interactions between GitLab User / CustomersDot User / Zuora Contact / SFDC Contact","description":"### Proposal\n\nAs mentioned in the [Architecture Review: Fulfillment Platform meeting on 2022-11-16](https://docs.google.com/document/d/1_YbxNCo3KXK1-KdIZTgSvmU9kIslYjQnFZAmmu1DSqQ/edit#heading=h.1nmnr3rsvzrk), we want to document the workflows involving interactions between GitLab Users, CustomersDot Users, Zuora Contacts, and SFDC Contacts.\n\nThis is important for the following reasons:\n- Help to understand how to keep all these related User/Contact\" objects in sync \n- Help to understand what we should do with the CustomersDot `customers` (to be renamed `users`) table\n- Help to understand how to tie the work from https://gitlab.com/groups/gitlab-org/-/epics/8331+ in with https://gitlab.com/groups/gitlab-org/-/epics/8905+","state":"closed","created_at":"2022-11-18T14:49:43.125Z","updated_at":"2022-11-29T21:44:35.840Z","closed_at":"2022-11-29T21:44:35.808Z","closed_by":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"labels":["[deprecated] Category:Fulfillment Platform","backend","devops::fulfillment","documentation","group::fulfillment platform","maintenance::refactor","section::fulfillment","type::maintenance","workflow::production"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"}],"author":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"type":"ISSUE","assignee":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5203","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5203","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5203/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5203/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5203","relative":"#5203","full":"gitlab-org/customers-gitlab-com#5203"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":118934040,"iid":5202,"project_id":2670515,"title":" Suspend deployments during December 2022 holidays","description":"We will suspend all production deployments during the holidays.  Here's a link to the handbook page describing Production Change Locks (PCL) and the timing of the upcoming lock.  Please raise any concerns or comments on this issue.\n\nThere will be limited coverage as most people will be away. This should effectively limit the need to have someone on call to resolve any development-related issues in production during the holidays period.\n\n~~We'll need 2 volunteers from the teams to add/remove the label and notify Slack.~~\n\n## Process\n\n- [x] @tyleramos On **2022-12-23 23:00 UTC** add the ~\"production::blocker\" label to this issue.\n- [x] @tyleramos Then, notify #s_fulfillment, #s_fulfillment_engineering, #s_fulfillment_fyi, #support_licensing-subscription, and #production about the freeze\n- [x] @cwiesner On **2023-01-03 09:00 UTC** remove the ~\"production::blocker\" label from this issue.\n- [x] @cwiesner Then, notify #s_fulfillment, #s_fulfillment_engineering, #s_fulfillment_fyi, #support_licensing-subscription, and #production about the freeze\n\nPlease keep this issue public.\n\ncc @fulfillment-group","state":"closed","created_at":"2022-11-17T18:53:54.609Z","updated_at":"2023-01-03T09:24:47.177Z","closed_at":"2023-01-03T09:04:04.720Z","closed_by":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"labels":["devops::fulfillment","group::fulfillment platform","maintenance::workflow","section::fulfillment","type::maintenance"],"milestone":{"id":2745648,"iid":83,"group_id":9970,"title":"15.8","description":"","state":"active","created_at":"2022-08-22T16:57:34.875Z","updated_at":"2022-08-22T16:57:34.875Z","due_date":"2023-01-17","start_date":"2022-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/83"},"assignees":[{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"}],"author":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"type":"ISSUE","assignee":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2022-12-23","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5202","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":4,"completed_count":4},"weight":0,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5202","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5202/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5202/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5202","relative":"#5202","full":"gitlab-org/customers-gitlab-com#5202"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":118903404,"iid":5195,"project_id":2670515,"title":"Implement Auto renewal payment method changes in Orders API","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n### Problem\n\nhttps://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5034 implemented a few changes in the update payment method workflow during auto renewal. This issue is to apply in Orders API workflow as well.\n\nRelated MRs:\n- https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/5748\n- https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/5806\n\n### Proposal\n\n\u003c!-- Consult with `@gitlab-com/business-technology/enterprise-apps/zuora-architects` on the ~\"Enterprise Applications\" team if Zuora business logic is involved. --\u003e\n\n### Result\n\n### Next steps (if any)\n\n### How will we measure success?","state":"closed","created_at":"2022-11-17T10:56:45.501Z","updated_at":"2022-12-05T22:56:19.627Z","closed_at":"2022-12-05T22:56:19.604Z","closed_by":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"labels":["backend","devops::fulfillment","group::fulfillment platform","maintenance::workflow","section::fulfillment","type::maintenance","workflow::production"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"}],"author":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"type":"ISSUE","assignee":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5195","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5195","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5195/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5195/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5195","relative":"#5195","full":"gitlab-org/customers-gitlab-com#5195"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":118892547,"iid":5193,"project_id":2670515,"title":"Invoice item created in inconsistent order causes mismatch in few SalesForce object attributes","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n### Problem\n\n**Context**:\n\nWhen upgrading a subscription from `Premium` to `Ultimate` plan (for example), there are two invoice items generated:\n\n1. Remove Premium plan\n2. Add Ultimate plan\n\nIn Zuora staging environment, the order in which the invoice items generated are different for Amend and Orders API:\n\n- When using Amend API: `Remove Premium plan`, `Add Ultimate plan`\n- When using Orders API: `Add Ultimate plan`, `Remove Premium plan`\n\nThe order of Order actions is: `RemoveProduct`, `AddProduct` (see example [Order object](https://test.zuora.com/apps/newlogin.do?retURL=/orders#/view/O-00150386))\n\n**Problem statement**:\n\nWhen creating SalesForce objects, a [single Quote Rate Plan](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/4beb9cee77c7b495c0bd9e3f543599c919beaadf/app/services/salesforce/create_quote_objects_service.rb#L168) is created for an invoice (based on the first invoice item).\n\nThe order of the invoice items therefore becomes significant, as it causes [`zqu__ProductRatePlan__c`](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/a83ed49dff1dc0dddce7105d26af4244fbf0de72/app/services/salesforce/create_quote_rate_plan_service.rb#L80) and [`zqu__ProductRatePlanZuoraId__c`](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/a83ed49dff1dc0dddce7105d26af4244fbf0de72/app/services/salesforce/create_quote_rate_plan_service.rb#L81) attributes to be different in both cases.\n\nIn the case of Amend API, `zqu__ProductRatePlanZuoraId__c` is associated with Premium Plan, while in Orders API it is associated with Ultimate Plan.\n\nThis [spreadsheet](https://docs.google.com/spreadsheets/d/1ltJBcLwOau3-95CuHCwlXiZP200XkCqdeKtdpoYNUBI/edit?usp=drive_web\u0026ouid=113070913643997337994) documents the comparison.\nIn the case of sandbox environment, I observed the order of the invoice items to be the same (see [spreadsheet, tab 1](https://docs.google.com/spreadsheets/d/1mydR5iZd4709tLkKRal30vE3Xad1dsxGOzCwhiwB7HQ/edit)).\n\nThe scope of this issue is to understand:\n\n- Should a single Quote Rate Plan OR multiple Quote Rate Plans (one for each invoice item) be created\n- Based on the answer to the above question, if a single Quote Rate Plan needs to be created, should it be created for `RemoveProduct` or `AddProduct` or if it does not have a significance.\n\nRelated Slack conversation: https://gitlab.slack.com/archives/C043J3R2L9F/p1668494901620589\n\n### Proposal\n\n\u003c!-- Consult with `@gitlab-com/business-technology/enterprise-apps/zuora-architects` on the ~\"Enterprise Applications\" team if Zuora business logic is involved. --\u003e\n\nSummarizing the [comment](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5193#note_1179678115), the following changes need to be applied when creating objects using Orders API:\n\n1. Based on SalesForce package, for each order action type, 1 Quote Amendment, 1 Quote Rate Plan and 1 Quote Rate Plan Charge needs to be created. This approach will also resolve the inconsistent order detailed in this issue.\n\n   In the existing Amend API workflow, 1 Quote Amendment is created for each amendment type. For every invoice, 1 Quote Rate Plan is created, and for every invoice item, 1 Quote Rate Plan Charge is created. No change to be made in this workflow.\n\n1. Additionally, charge summary needs to be created for each amendment type. Given this is not currently created in Amend API, created https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5211 to follow-up on the requirement.\n\n1. `Amendment.Id` and `Amendment.Name` is `nil` in the case of Orders API. @sbaranidharan to confirm if these attributes can be determined from any other object in Zuora.\n\n   -\u003e The Zuora team mentioned the values will be `nil` since we have orders harmonization enabled.\n\n### Result\n\nWith the above approach, the problem stated in this issue is resolved as we create Quote Rate plan for every order action type and are no longer dependent on the order of order action types.\n\n### Next steps (if any)\n\n### How will we measure success?","state":"closed","created_at":"2022-11-17T09:02:24.434Z","updated_at":"2022-12-06T18:35:13.385Z","closed_at":"2022-12-06T18:31:55.974Z","closed_by":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"labels":["backend","bug::functional","devops::fulfillment","group::fulfillment platform","priority::2","section::fulfillment","severity::3","type::bug","workflow::production"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"}],"author":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"type":"ISSUE","assignee":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5193","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5193","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5193/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5193/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5193","relative":"#5193","full":"gitlab-org/customers-gitlab-com#5193"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":9045,"epic":{"id":629636,"iid":9045,"title":"Transition Subscription Upgrade workflow to use Orders API","url":"/groups/gitlab-org/-/epics/9045","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":118807974,"iid":5177,"project_id":2670515,"title":"Refactor feature specs for rails admin","description":"### Problem\n\nIn https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/5886#note_1172520728, it was brought up that having 2 actions with 2 assertions in one example isn't usually best practice. The example in the merge request uses the search on an index page twice, the first assertion is for a result while the second is for no results. This is a pattern that is used throughout other feature specs for rails admin too. \n\n### Proposal\n\nEvaluate all feature specs for rails admin and split up examples that cover more than one action. Some specs could even use `RSpec::Parameterized::TableSyntax`.\n\nIf needed this issue could be promoted to an epic.\n\n### Result\n\nFollowing best practices for RSpec.","state":"closed","created_at":"2022-11-16T08:31:48.435Z","updated_at":"2022-12-14T12:52:46.093Z","closed_at":"2022-12-14T12:52:45.950Z","closed_by":{"id":4665308,"username":"doniquesmit","name":"Donique Smit","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c5737881c65a3063443d7692dfe04f4a?s=80\u0026d=identicon","web_url":"https://gitlab.com/doniquesmit"},"labels":["Category:Fulfillment Admin Tooling","Quality","backend","devops::fulfillment","maintenance::refactor","section::fulfillment","test","type::maintenance","workflow::ready for development"],"milestone":null,"assignees":[],"author":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"type":"ISSUE","assignee":null,"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5177","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5177","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5177/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5177/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5177","relative":"#5177","full":"gitlab-org/customers-gitlab-com#5177"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":118784327,"iid":5175,"project_id":2670515,"title":"Use presenter for community renewals","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n### Problem\nAs suggested in this [comment](https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/4372#note_865226482), it would be a good idea to move the logic block in `subscriptions/community_program/renew_subscription.html.haml` into a helper. With this we would get the additional advantage of being tested. The same helper could be used for `subscriptions/community_program/renew_subscription`(https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/602a40bbc66d0c353787fea9f56b9f8b6efea4e3/app/views/subscriptions/community_program/renew_subscription.html.haml#L1) too as it has similar logic.\n \n### Proposal\nCreate a presenter with logic that can be shared with the `renew_subscription` file.","state":"closed","created_at":"2022-11-16T01:13:11.165Z","updated_at":"2022-11-17T21:19:09.067Z","closed_at":"2022-11-17T21:19:09.038Z","closed_by":{"id":10770603,"username":"lmeckley","name":"Laura Meckley","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10770603/avatar.png","web_url":"https://gitlab.com/lmeckley"},"labels":["Category:Subscription Management","Track Health Status [DEPRECATED]","backend","devops::fulfillment","frontend","group::billing and subscription management","maintenance::refactor","missed:15.1","section::fulfillment","type::maintenance","workflow::production"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":10770603,"username":"lmeckley","name":"Laura Meckley","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10770603/avatar.png","web_url":"https://gitlab.com/lmeckley"}],"author":{"id":10770603,"username":"lmeckley","name":"Laura Meckley","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10770603/avatar.png","web_url":"https://gitlab.com/lmeckley"},"type":"ISSUE","assignee":{"id":10770603,"username":"lmeckley","name":"Laura Meckley","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10770603/avatar.png","web_url":"https://gitlab.com/lmeckley"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5175","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5175","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5175/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5175/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5175","relative":"#5175","full":"gitlab-org/customers-gitlab-com#5175"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8646,"epic":{"id":590951,"iid":8646,"title":"[Community Programs] Renewals (follow-ups)","url":"/groups/gitlab-org/-/epics/8646","group_id":9970,"human_readable_end_date":"Mar 17, 2023","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":{"id":86630,"iid":151,"sequence":2,"group_id":9970,"title":null,"description":null,"state":3,"created_at":"2022-10-04T21:31:23.242Z","updated_at":"2022-11-18T00:05:02.385Z","start_date":"2022-11-03","due_date":"2022-11-17","web_url":"https://gitlab.com/groups/gitlab-org/-/iterations/86630"},"health_status":null},{"id":118760572,"iid":5174,"project_id":2670515,"title":"Investigate high quantity for existing_renewal_error (auto-renew) SaaS","description":"### Problem\n\nWhile reviewing [Subscription Management Performance dashboard](https://app.periscopedata.com/app/gitlab:safe-dashboard/1092507/WIP:-Fulfillment:-Subscription-Management-Performance-dashboard), I noticed that [Number of Auto-renew errors by Product type](https://app.periscopedata.com/app/gitlab:safe-dashboard/1092507/WIP:-Fulfillment:-Subscription-Management-Performance-dashboard?widget=15776195\u0026udv=1803088) and [% split of  SaaS AutoRenew errors by error type](https://app.periscopedata.com/app/gitlab:safe-dashboard/1092507/WIP:-Fulfillment:-Subscription-Management-Performance-dashboard?widget=15776187\u0026udv=1803088) look off.\n\n![CleanShot_2022-11-22_at_16.22.55](/uploads/483be4a44888217b7648cbee8348b98b/CleanShot_2022-11-22_at_16.22.55.png)\n\n![CleanShot_2022-11-22_at_16.23.28](/uploads/f83934192cb0823943f8aad7286ba0ba/CleanShot_2022-11-22_at_16.23.28.png)\n\nWe only had this many SaaS and SM subscriptions up for auto-renewal:\n\n| Aug-2022 | Sep-2022 | Oct-2022 |\n|----------|----------|----------|\n| 585      | 755      | 881      |\n\n\nIt seems that `existing_renewal_error` is reporting way too many times. \n\n### Proposal\n\nInvestigate whether our tracking is working as expected.\n\n### Result\n\n### Next steps (if any)\n\n### How will we measure success?","state":"closed","created_at":"2022-11-15T16:42:11.330Z","updated_at":"2023-01-23T17:39:08.775Z","closed_at":"2023-01-19T13:54:45.630Z","closed_by":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"labels":["Category:Subscription Management","devops::fulfillment","frontend","group::billing and subscription management","missed:15.8","section::fulfillment","type::maintenance","workflow::complete"],"milestone":{"id":2745650,"iid":84,"group_id":9970,"title":"15.9","description":"","state":"active","created_at":"2022-08-22T16:58:02.303Z","updated_at":"2022-08-22T16:58:02.303Z","due_date":"2023-02-17","start_date":"2023-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/84"},"assignees":[{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"}],"author":{"id":8110789,"username":"tgolubeva","name":"Tatyana Golubeva","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8110789/avatar.png","web_url":"https://gitlab.com/tgolubeva"},"type":"ISSUE","assignee":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5174","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5174","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5174/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5174/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5174","relative":"#5174","full":"gitlab-org/customers-gitlab-com#5174"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8357,"epic":{"id":564366,"iid":8357,"title":"PI Instrumentation \u0026 Dashboards: Billing and Subscription Management","url":"/groups/gitlab-org/-/epics/8357","group_id":9970,"human_readable_end_date":"Jun 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":null},{"id":122355483,"iid":5582,"project_id":2670515,"title":"Fulfillment Platform PI instrumentalization: Developer Productivity","description":"## Overview\n\nWe want to measure `MTTR` (mean time to recovery) as one of the ~\"group::fulfillment platform\" performance indicators. This will help us to capture the state and progress of the developer productivity within the fulfillment infrastructure we provide.\n\n## Details\n\nThe proposal and progress of the PI is captured in the [Fulfillment PI internal handbook section](https://internal-handbook.gitlab.io/handbook/company/performance-indicators/product/fulfillment-section/#fulfillment-platform---mean-time-to-recovery-mttr).\n\n**Definition of MTTR: Measure time (in minutes) between interruption of service(s) due to deployment/system failure and full recovery**\n\nAfter a [first feedback loop](https://gitlab.com/gitlab-org/fulfillment-meta/-/issues/876#note_1165028722), and a sync discussion we identified a way how to instrument this metric:\n\nWe capture events whenever CustomersDot enters and leaves maintenance mode. This is visible when the `HealthCheck::Zuora` and `HealthCheck::Gitlab` jobs are triggered and when they catch changes of availability of these third-party services.\n\nAdditionally, triggering the maintenance mode manually (through the `customers:maintenance_mode` rake task) should also capture such events for the creation of this metric.\n\n\n## Outcome\n\nWe can measure and see MTTR as a first iteration in the ~\"group::fulfillment platform\" Grafana Dashboard.\n\n\n## High-level implementation\n\nBelow is an attempt to come-up with a plan to achieve the outcome highlighted above. This is likely to be refined before we start work.\n\nThis plan also takes into consideration requirements outlined in [this other issue](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5579), as there are overlaps between both issues:\n\n1. Update our Prometheus collector\n   - Our metrics collector is currently suited for Sidekiq jobs and app/api controllers. We'll have to update it so that it can also capture data when entering / leaving maintenance mode (and when raising Zuora error, wrt to this other issue)\n2. Implement new Prometheus collection \n   - Apply actual collection of data in related Health cron jobs and the maintenance rake task.\n3. Update [the Runbooks project](https://gitlab.com/gitlab-com/runbooks)\n   - We need to do that so that we can bridge data from Prometheus to new graphs in Grafana\n\n### Issue breakdown\n\nThe plan above led to the creation of the following issue breakdown:\n\n1. [ ] [Allow Prometheus collection of maintenance events](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5718)\n2. [ ] [Add Grafana dashboard to show new MTTR indicator](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5725)","state":"closed","created_at":"2022-11-15T16:39:06.272Z","updated_at":"2023-02-15T13:56:00.924Z","closed_at":"2023-02-15T13:53:08.938Z","closed_by":{"id":12801023,"username":"mgass1","name":"Manuel Gass","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12801023/avatar.png","web_url":"https://gitlab.com/mgass1"},"labels":["devops::fulfillment","group::fulfillment platform","section::fulfillment","type::ignore","workflow::solution validation"],"milestone":null,"assignees":[{"id":12801023,"username":"mgass1","name":"Manuel Gass","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12801023/avatar.png","web_url":"https://gitlab.com/mgass1"}],"author":{"id":12801023,"username":"mgass1","name":"Manuel Gass","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12801023/avatar.png","web_url":"https://gitlab.com/mgass1"},"type":"ISSUE","assignee":{"id":12801023,"username":"mgass1","name":"Manuel Gass","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12801023/avatar.png","web_url":"https://gitlab.com/mgass1"},"user_notes_count":14,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5582","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":0},"weight":8,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5582","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5582/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5582/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5582","relative":"#5582","full":"gitlab-org/customers-gitlab-com#5582"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":118736303,"iid":5172,"project_id":2670515,"title":"Search by subscription name does not work for License Seat Links in Admin","description":"### Problem\n\nSearching by subscription name does not work on the License Seat Link index page in Admin.\n\n### Proposal\n\nFix the search by subscription name.\n\n### Result\n\nAllow search by subscription name on the License Seat Link index page in Admin","state":"closed","created_at":"2022-11-15T11:29:07.781Z","updated_at":"2022-11-17T08:27:12.126Z","closed_at":"2022-11-16T16:22:41.753Z","closed_by":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"labels":["backend","bug::functional","devops::fulfillment","group::provision","section::fulfillment","type::bug","workflow::production"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"}],"author":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"type":"ISSUE","assignee":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5172","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5172","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5172/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5172/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5172","relative":"#5172","full":"gitlab-org/customers-gitlab-com#5172"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":118728270,"iid":5168,"project_id":2670515,"title":"Rename ZuoraAccountMixin#sold_to_contact (Follow-up from \"License model - use of account_data_structure feature flag\")","description":"The following discussion from !5798 should be addressed:\n\n- [ ] @tyleramos started a [discussion](https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/5798#note_1171316453):  (+1 comment)\n\n    \u003e **Question:** With this MR, we have a new abstraction called `BillingAccountContact` and this method called `contact`, in addition to the existing method `sold_to_contact` in `ZuoraAccountMixin` [here](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/b834e92525d563dde9bd1fbb7175a11c4c5907a8/app/models/concerns/zuora_account_mixin.rb#L80).  I wonder if this will be a little confusing knowing what kind of object you get from these methods.  Perhaps, the `sold_to_contact` could be clarified as `sold_to_zuora_contact`?  That could be done as a follow-up to this to keep this change smaller.\n    \u003e \n    \u003e Thoughts?","state":"closed","created_at":"2022-11-15T09:36:47.843Z","updated_at":"2022-12-08T08:02:12.703Z","closed_at":"2022-12-05T18:38:58.633Z","closed_by":{"id":4192493,"username":"ebaque","name":"Etienne Baqu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4192493/avatar.png","web_url":"https://gitlab.com/ebaque"},"labels":["[deprecated] Category:Fulfillment Platform","backend","devops::fulfillment","group::fulfillment platform","maintenance::refactor","quad-planning::complete-no-action","section::fulfillment","type::maintenance","workflow::in dev"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":4192493,"username":"ebaque","name":"Etienne Baqu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4192493/avatar.png","web_url":"https://gitlab.com/ebaque"}],"author":{"id":4192493,"username":"ebaque","name":"Etienne Baqu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4192493/avatar.png","web_url":"https://gitlab.com/ebaque"},"type":"ISSUE","assignee":{"id":4192493,"username":"ebaque","name":"Etienne Baqu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4192493/avatar.png","web_url":"https://gitlab.com/ebaque"},"user_notes_count":1,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5168","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5168","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5168/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5168/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5168","relative":"#5168","full":"gitlab-org/customers-gitlab-com#5168"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8950,"epic":{"id":621714,"iid":8950,"title":"Iteration 1A: Align CustomersDot BillingAccounts and Users to Zuora objects","url":"/groups/gitlab-org/-/epics/8950","group_id":9970,"human_readable_end_date":"Mar 17, 2023","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":118718420,"iid":5166,"project_id":2670515,"title":"Consolidate the openAPI doc into a single file","description":"Due to a security fix, the openAPI doc ref links are not supported by Gitlab. This might be fixed, but we do not know when. The tracking issue is gitlab-org/gitlab#381047+.\n\nThis impact [CDot openAPI doc](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/main/doc/api/openapi.yaml) rendering.\n\nSince we do not have lots of endpoints in the api doc, I suggest we consolidate it into one single file.\n\nThis seems to be align with the new version of the [Optic cli tool](https://github.com/opticdev/optic) as well. ATM we are using the previous Optic version's `api` command, which seems to be deprecated by the latest Optic version.\n\n\n### Problem\n\n### Proposal\n\n\u003c!-- Consult with `@gitlab-com/business-technology/enterprise-apps/zuora-architects` on the ~\"Enterprise Applications\" team if Zuora business logic is involved. --\u003e\n\n### Result\n\n### Next steps (if any)\n\n### How will we measure success?","state":"closed","created_at":"2022-11-15T07:02:48.146Z","updated_at":"2023-02-24T16:01:48.869Z","closed_at":"2022-11-29T11:39:46.266Z","closed_by":{"id":4098809,"username":"qzhaogitlab","name":"Qingyu Zhao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4098809/avatar.png","web_url":"https://gitlab.com/qzhaogitlab"},"labels":["Category:Fulfillment Integrations \u0026 Visibility","devops::fulfillment","group::provision","section::fulfillment","type::maintenance","workflow::in review"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":4098809,"username":"qzhaogitlab","name":"Qingyu Zhao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4098809/avatar.png","web_url":"https://gitlab.com/qzhaogitlab"}],"author":{"id":4098809,"username":"qzhaogitlab","name":"Qingyu Zhao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4098809/avatar.png","web_url":"https://gitlab.com/qzhaogitlab"},"type":"ISSUE","assignee":{"id":4098809,"username":"qzhaogitlab","name":"Qingyu Zhao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4098809/avatar.png","web_url":"https://gitlab.com/qzhaogitlab"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5166","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5166","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5166/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5166/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5166","relative":"#5166","full":"gitlab-org/customers-gitlab-com#5166"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":118675850,"iid":5162,"project_id":2670515,"title":"[Spike] Investigate and break down work for Customer-Dot ruby version \u003e=3.0","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n### Problem\n\nIn order to plan the upgrade to Ruby version \u003e=3.0 for `customers-gitlab-com` , we want to understand the work that needs to be done to do so. Therefore, we would like to get that understanding during this spike.\n\n### Proposal\n\nLet's break down the work in this spike, and add issues to https://gitlab.com/groups/gitlab-org/-/epics/5149.\n\nCrafting a list of all blockers for the Ruby 3.0 upgrade will help a lot. This list could consist of changes in our code, gems we have to update or drop (or replace), etc.\n\nWe need to decide if we upgrade to Ruby version 3.0 and afterwards to a higher version or directly to a higher version.\n\n### Result\n\nAs a result/outcome we will have:\n\n- Decide for a ruby version to upgrade (3.0 or higher?)\n- List for all blockers/dependencies for the upgrade\n- Break down the work to upgrade the ruby version for `customers-gitlab-com` and add issues to https://gitlab.com/groups/gitlab-org/-/epics/5149","state":"closed","created_at":"2022-11-14T14:13:22.492Z","updated_at":"2023-03-22T10:50:23.933Z","closed_at":"2023-03-15T10:42:59.125Z","closed_by":{"id":447038,"username":"vitallium","name":"Vitaly Slobodin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/74b3243cfcfbfac1f022b78ab505e8d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/vitallium"},"labels":["devops::fulfillment","group::fulfillment platform","maintenance::dependency","missed:15.8","missed:15.9","section::fulfillment","type::maintenance","workflow::complete"],"milestone":{"id":2910456,"iid":86,"group_id":9970,"title":"15.11","description":"","state":"active","created_at":"2022-12-13T20:08:46.985Z","updated_at":"2022-12-13T20:08:46.985Z","due_date":"2023-04-17","start_date":"2023-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/86"},"assignees":[{"id":447038,"username":"vitallium","name":"Vitaly Slobodin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/74b3243cfcfbfac1f022b78ab505e8d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/vitallium"}],"author":{"id":12801023,"username":"mgass1","name":"Manuel Gass","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12801023/avatar.png","web_url":"https://gitlab.com/mgass1"},"type":"ISSUE","assignee":{"id":447038,"username":"vitallium","name":"Vitaly Slobodin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/74b3243cfcfbfac1f022b78ab505e8d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/vitallium"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5162","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5162","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5162/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5162/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5162","relative":"#5162","full":"gitlab-org/customers-gitlab-com#5162"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":9064,"epic":{"id":630901,"iid":9064,"title":"Upgrade CustomerDot Ruby version to \u003e= 3.0","url":"/groups/gitlab-org/-/epics/9064","group_id":9970,"human_readable_end_date":"Feb 28, 2023","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":118673354,"iid":5161,"project_id":2670515,"title":"[Spike] Investigate Upgrade to Rails 7.0","description":"### Problem\n\nIn order to [Upgrade rails to version 7.0](https://gitlab.com/groups/gitlab-org/-/epics/9235), we need to identify the work, places and steps where we need to take action to facilitate a smooth upgrade.\n\n### Proposal\n\nThe outcome of this spike issue should be a plan, broken down in issues attached to the [epic](https://gitlab.com/groups/gitlab-org/-/epics/9235) that informs the person(s) handling the upgrade what steps need to be done and we can schedule the work in to corresponding milestone(s).","state":"closed","created_at":"2022-11-14T12:18:33.017Z","updated_at":"2023-02-24T13:42:19.459Z","closed_at":"2023-02-24T13:42:19.428Z","closed_by":{"id":447038,"username":"vitallium","name":"Vitaly Slobodin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/74b3243cfcfbfac1f022b78ab505e8d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/vitallium"},"labels":["devops::fulfillment","group::fulfillment platform","quad-planning::complete-no-action","section::fulfillment","type::maintenance","workflow::complete"],"milestone":{"id":2745651,"iid":85,"group_id":9970,"title":"15.10","description":"","state":"active","created_at":"2022-08-22T16:58:22.132Z","updated_at":"2022-08-22T16:58:22.132Z","due_date":"2023-03-17","start_date":"2023-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/85"},"assignees":[{"id":447038,"username":"vitallium","name":"Vitaly Slobodin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/74b3243cfcfbfac1f022b78ab505e8d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/vitallium"}],"author":{"id":12801023,"username":"mgass1","name":"Manuel Gass","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12801023/avatar.png","web_url":"https://gitlab.com/mgass1"},"type":"ISSUE","assignee":{"id":447038,"username":"vitallium","name":"Vitaly Slobodin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/74b3243cfcfbfac1f022b78ab505e8d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/vitallium"},"user_notes_count":13,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5161","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5161","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5161/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5161/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5161","relative":"#5161","full":"gitlab-org/customers-gitlab-com#5161"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":9235,"epic":{"id":653786,"iid":9235,"title":"Upgrade CustomersDot Rails version to 7","url":"/groups/gitlab-org/-/epics/9235","group_id":9970,"human_readable_end_date":"Mar 17, 2023","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":118645435,"iid":5159,"project_id":2670515,"title":"Document the meaning of Super Sonics  flag","description":"We have a need to explain the meaning of Super Sonic flag and what it does (see https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/5619#note_1167360683)","state":"closed","created_at":"2022-11-14T06:08:36.522Z","updated_at":"2023-03-23T09:49:36.526Z","closed_at":"2023-03-23T09:49:36.500Z","closed_by":{"id":1986039,"username":"lulalala","name":"Mark Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1986039/avatar.png","web_url":"https://gitlab.com/lulalala"},"labels":["backend","devops::fulfillment","documentation","group::provision","missed:15.7","missed:15.8","missed:15.9","priority::4","quad-planning::complete-no-action","section::fulfillment","type::ignore","workflow::in review"],"milestone":{"id":2910456,"iid":86,"group_id":9970,"title":"15.11","description":"","state":"active","created_at":"2022-12-13T20:08:46.985Z","updated_at":"2022-12-13T20:08:46.985Z","due_date":"2023-04-17","start_date":"2023-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/86"},"assignees":[{"id":1986039,"username":"lulalala","name":"Mark Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1986039/avatar.png","web_url":"https://gitlab.com/lulalala"}],"author":{"id":1986039,"username":"lulalala","name":"Mark Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1986039/avatar.png","web_url":"https://gitlab.com/lulalala"},"type":"ISSUE","assignee":{"id":1986039,"username":"lulalala","name":"Mark Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1986039/avatar.png","web_url":"https://gitlab.com/lulalala"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5159","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5159","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5159/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5159/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5159","relative":"#5159","full":"gitlab-org/customers-gitlab-com#5159"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":118729444,"iid":5169,"project_id":2670515,"title":"Dos via lack of input validation ( customers.gitlab.com )","description":"**[HackerOne report #1765576](https://hackerone.com/reports/1765576)** by `mrhacker404` on 2022-11-08:\n\n[Report](#report) | [Attachments](#attachments) | [How To Reproduce](#how-to-reproduce)\n\n## Report\n\n#####  Summary\n\n(there is an lack of input validation via email parameter. giving high lenghts will prompt 500 Internal error. making fast requests to the internal server error will make the server down for everyone ! )\n\n#####  Steps to reproduce\n\n(Step-by-step guide to reproduce the issue, including:)\n\n1. Register like any new user. use random details.  \n1. The next page should be ( /email_confirmations )   \n1. So now upload my payload from the attachement and use it on the email input.   \n1. Make sure to send the request in repeater and you receive 500 internal error.  \n1. Run turbo intruder or intruder. ( i used turbo-intruder ) good threads then start the attack. \n\n#####  Impact\n\n(Summarize the impact on users)\n\nNo one will be able to login or navigate into Gitlab Customers . the server has been highly affected with only an test attack ! server has been down for long time ! and i believe the same issue will happen on gitlab.com ( official server ) i tried just to get the 500 internal error on the main website and yeah i got it !\n\n####  Impact\n\nA Denial-of-Service (DoS) attack is an attack meant to shut down a machine or network, making it inaccessible to its intended users. DoS attacks accomplish this by flooding the target with traffic, or sending it information that triggers a crash.\n\n## Attachments\n\n**Warning:** Attachments received through HackerOne, please exercise caution!\n\n* [publicdown2.png](https://h1.sec.gitlab.net/a/30c9b9c4-4ea1-4f24-afbe-d8245063798f/publicdown2.png)\n* [publiccheck1.png](https://h1.sec.gitlab.net/a/560bd0a6-d78b-48d5-8edc-48664cb78f02/publiccheck1.png)\n* [DOWN.png](https://h1.sec.gitlab.net/a/fdb5a210-a03f-4fce-b48b-994ca130209d/DOWN.png)\n* [500forall.png](https://h1.sec.gitlab.net/a/1d4cece0-ddf0-4d96-b59b-0673cf36f26e/500forall.png)\n* [payload.txt](https://h1.sec.gitlab.net/a/21d12a27-9c3d-4f54-888f-4d142f06c8f6/payload.txt)\n* [17min-idk.png](https://h1.sec.gitlab.net/a/ee1c1301-a8a4-4f86-866d-fdc72419654a/17min-idk.png)\n* [2022-11-08_04-13-47.mkv](https://h1.sec.gitlab.net/a/535a4ab8-452a-4d1a-af07-5e551b0894a6/2022-11-08_04-13-47.mkv)\n\n## How To Reproduce\n\nPlease add [reproducibility information] to this section:\n\n1.\n1.\n1.\n\n[reproducibility information]: https://about.gitlab.com/handbook/engineering/security/#reproducibility-on-security-issues","state":"closed","created_at":"2022-11-10T16:53:11.534Z","updated_at":"2023-03-22T22:46:08.355Z","closed_at":"2022-11-15T09:54:30.558Z","closed_by":{"id":273486,"username":"jameslopez","name":"James Lopez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/273486/avatar.png","web_url":"https://gitlab.com/jameslopez"},"labels":["HackerOne","Weakness::CWE-400","bug::vulnerability","devops::fulfillment","group::fulfillment platform","priority::2","section::fulfillment","security","severity::2","type::bug"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[],"author":{"id":2741139,"username":"gitlab-securitybot","name":"GitLab SecurityBot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2741139/avatar.png","web_url":"https://gitlab.com/gitlab-securitybot"},"type":"ISSUE","assignee":null,"user_notes_count":17,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2022-12-26","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5169","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5169","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5169/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5169/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5169","relative":"#5169","full":"gitlab-org/customers-gitlab-com#5169"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":118429246,"iid":5138,"project_id":2670515,"title":"Remove breadcrumbs","description":"### Problem\n\nLong time ago we introduced breadcrumbs for CustomersDot but the application has changed a lot since then and I suggest we remove breadcrumbs from the application because of following reasons:\n\n1. We don't have more than 2 level of nesting pages anywhere in the application. That means breadcrumbs always render two levels: `Manage purchases -\u003e New Subscription`\n2. We use them only on `Manage purchases` pages.\n3. And they do not match our Pajamas Design https://design.gitlab.com/components/breadcrumb/ :smile: \n\n![image](/uploads/a64ec7590f1c4f6d94e6bf46a1819b3b/image.png)\n\n### Proposal\n\nLet's just remove them?\n\n### Result\n\n### Next steps (if any)\n\n### How will we measure success?","state":"closed","created_at":"2022-11-09T13:58:21.462Z","updated_at":"2023-04-13T06:41:27.693Z","closed_at":"2023-04-13T04:03:26.890Z","closed_by":{"id":11217480,"username":"tvellishetty","name":"Tarun Vellishetty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11217480/avatar.png","web_url":"https://gitlab.com/tvellishetty"},"labels":["UX","devops::fulfillment","frontend","group::billing and subscription management","section::fulfillment","type::maintenance","workflow::production"],"milestone":{"id":2910456,"iid":86,"group_id":9970,"title":"15.11","description":"","state":"active","created_at":"2022-12-13T20:08:46.985Z","updated_at":"2022-12-13T20:08:46.985Z","due_date":"2023-04-17","start_date":"2023-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/86"},"assignees":[{"id":11217480,"username":"tvellishetty","name":"Tarun Vellishetty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11217480/avatar.png","web_url":"https://gitlab.com/tvellishetty"}],"author":{"id":447038,"username":"vitallium","name":"Vitaly Slobodin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/74b3243cfcfbfac1f022b78ab505e8d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/vitallium"},"type":"ISSUE","assignee":{"id":11217480,"username":"tvellishetty","name":"Tarun Vellishetty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11217480/avatar.png","web_url":"https://gitlab.com/tvellishetty"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5138","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5138","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5138/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5138/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5138","relative":"#5138","full":"gitlab-org/customers-gitlab-com#5138"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":9172,"epic":{"id":647554,"iid":9172,"title":"Cleaning up old and redundant CSS from CustomersDot","url":"/groups/gitlab-org/-/epics/9172","group_id":9970,"human_readable_end_date":"Apr 17, 2023","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":118395820,"iid":5129,"project_id":2670515,"title":"Port GL code for urgency setting for Rails controllers","description":"### Problem\n\nCDot lacks ability to set `urgency` on controller. `urgency` is available in [gitlab repo](https://docs.gitlab.com/ee/development/application_slis/rails_request_apdex.html#how-to-adjust-the-urgency) to allow devs to specify a fairer expectation of acceptable request duration. This means our APDEX scores are less useful, treating low and hight priorities as the same.\n\nCurrently on CDot, I think [any request taking more than 0.4 seconds](https://gitlab.com/gitlab-org/customers-gitlab-com/blob/e7dd35ba9aec7a01e4dc89dd4b15c0ed61dc826b/lib/metrics/request_collector.rb#L31-L31) are counted as failure.\n\nThis will help https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4884\n\nWe ported [feature categorization earlier](https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/5287), and this will be build on top of that.\n\n### Proposal\n\nWe need to port [GitLab's `urgency` setting over](https://gitlab.com/gitlab-org/gitlab/blob/61750d46bc057c63b072f34b885679091ba1a35c/lib/gitlab/endpoint_attributes.rb#L20), so we can set different `urgency` on different controllers.\n\n### Result\n\nMore useful APDEX score\n\n### Next steps (if any)\n\n### How will we measure success?","state":"closed","created_at":"2022-11-09T04:29:28.089Z","updated_at":"2022-12-16T04:27:44.043Z","closed_at":"2022-12-16T04:27:44.019Z","closed_by":{"id":1986039,"username":"lulalala","name":"Mark Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1986039/avatar.png","web_url":"https://gitlab.com/lulalala"},"labels":["backend","devops::fulfillment","feature::enhancement","group::fulfillment platform","section::fulfillment","type::feature","workflow::in dev"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":4192493,"username":"ebaque","name":"Etienne Baqu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4192493/avatar.png","web_url":"https://gitlab.com/ebaque"}],"author":{"id":1986039,"username":"lulalala","name":"Mark Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1986039/avatar.png","web_url":"https://gitlab.com/lulalala"},"type":"ISSUE","assignee":{"id":4192493,"username":"ebaque","name":"Etienne Baqu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4192493/avatar.png","web_url":"https://gitlab.com/ebaque"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5129","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5129","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5129/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5129/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5129","relative":"#5129","full":"gitlab-org/customers-gitlab-com#5129"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":118393636,"iid":5128,"project_id":2670515,"title":"Update billing account when setting customer zuora_account_id","description":"### Problem\n\nAs part of https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4795 the `UpdateBillingAccountService` was introduced to find or create a billing account for the customer based on its `zuora_account_id`.\n\nBasically every time the `zuora_account_id` is set for the customer we want to also call the `UpdateBillingAccountService` to keep the customer's associated billing account up to date. This includes when the `zuora_account_id` is set to `nil`.\n\nReference MRs that do this:\n- https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/5810+\n- https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/5808+\n- https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/5811+\n\n### Proposal\n\nUpdate the code within `qa` / `quality` that sets customer's `zuora_account_id` to also update the billing account in a similar way.\n\nSome places that do this (might not be the entire set):\n* `PostZuoraRefreshTask`\n* `OrderApiClient`\n* `QA::Resource::Subscription`","state":"closed","created_at":"2022-11-09T02:58:11.680Z","updated_at":"2022-12-16T23:33:55.727Z","closed_at":"2022-12-16T23:33:55.710Z","closed_by":{"id":5803275,"username":"chloeliu","name":"Chloe Liu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5803275/avatar.png","web_url":"https://gitlab.com/chloeliu"},"labels":["devops::fulfillment","group::fulfillment platform","maintenance::refactor","section::fulfillment","type::maintenance"],"milestone":null,"assignees":[{"id":5803275,"username":"chloeliu","name":"Chloe Liu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5803275/avatar.png","web_url":"https://gitlab.com/chloeliu"}],"author":{"id":5667561,"username":"vshumilo","name":"Vladlena Shumilo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08dfa82785d130c151ab9e21caeab4e3?s=80\u0026d=identicon","web_url":"https://gitlab.com/vshumilo"},"type":"ISSUE","assignee":{"id":5803275,"username":"chloeliu","name":"Chloe Liu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5803275/avatar.png","web_url":"https://gitlab.com/chloeliu"},"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5128","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5128","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5128/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5128/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5128","relative":"#5128","full":"gitlab-org/customers-gitlab-com#5128"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8950,"epic":{"id":621714,"iid":8950,"title":"Iteration 1A: Align CustomersDot BillingAccounts and Users to Zuora objects","url":"/groups/gitlab-org/-/epics/8950","group_id":9970,"human_readable_end_date":"Mar 17, 2023","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":118367804,"iid":5124,"project_id":2670515,"title":"Add BE tracking to the subscription cancelation","description":"Add BE tracking to cancel subscription transaction.\n\n| Type | Description | Event Category | Event Label | Event Action |\n|------|-------------|----------|----------------|----------------|\n| Event | Cancel subscription transaction is successful | `SubscriptionsController` | `cancel_subscription_sm`/`cancel_subscription_saas` | `transaction_successful` |","state":"closed","created_at":"2022-11-08T16:31:59.165Z","updated_at":"2023-03-20T10:35:03.446Z","closed_at":"2023-03-20T10:35:03.411Z","closed_by":{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"},"labels":["closed::duplicate","devops::fulfillment","feature flag","feature::addition","frontend","group::billing and subscription management","priority::3","section::fulfillment","snowplow tracking events","type::feature","workflow::complete"],"milestone":{"id":2910456,"iid":86,"group_id":9970,"title":"15.11","description":"","state":"active","created_at":"2022-12-13T20:08:46.985Z","updated_at":"2022-12-13T20:08:46.985Z","due_date":"2023-04-17","start_date":"2023-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/86"},"assignees":[{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"}],"author":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"type":"ISSUE","assignee":{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"},"user_notes_count":12,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5124","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5124","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5124/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5124/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5124","relative":"#5124","full":"gitlab-org/customers-gitlab-com#5124"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":118258759,"iid":5116,"project_id":2670515,"title":"Replace btn-gitlab with pajamas buttons","description":"Replace the [`btn-gitlab` style](https://gitlab.com/gitlab-org/customers-gitlab-com/blob/main/app/assets/stylesheets/components.scss#L8) with relevant classes from GitLab UI library.","state":"closed","created_at":"2022-11-07T11:17:44.652Z","updated_at":"2023-01-16T09:54:03.180Z","closed_at":"2023-01-16T09:54:03.136Z","closed_by":{"id":447038,"username":"vitallium","name":"Vitaly Slobodin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/74b3243cfcfbfac1f022b78ab505e8d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/vitallium"},"labels":["devops::fulfillment","group::fulfillment platform","maintenance::refactor","missed:15.6","missed:15.7","section::fulfillment","type::maintenance","workflow::complete"],"milestone":{"id":2745648,"iid":83,"group_id":9970,"title":"15.8","description":"","state":"active","created_at":"2022-08-22T16:57:34.875Z","updated_at":"2022-08-22T16:57:34.875Z","due_date":"2023-01-17","start_date":"2022-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/83"},"assignees":[{"id":447038,"username":"vitallium","name":"Vitaly Slobodin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/74b3243cfcfbfac1f022b78ab505e8d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/vitallium"}],"author":{"id":447038,"username":"vitallium","name":"Vitaly Slobodin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/74b3243cfcfbfac1f022b78ab505e8d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/vitallium"},"type":"ISSUE","assignee":{"id":447038,"username":"vitallium","name":"Vitaly Slobodin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/74b3243cfcfbfac1f022b78ab505e8d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/vitallium"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5116","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5116","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5116/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5116/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5116","relative":"#5116","full":"gitlab-org/customers-gitlab-com#5116"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":9172,"epic":{"id":647554,"iid":9172,"title":"Cleaning up old and redundant CSS from CustomersDot","url":"/groups/gitlab-org/-/epics/9172","group_id":9970,"human_readable_end_date":"Apr 17, 2023","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":118258602,"iid":5114,"project_id":2670515,"title":"Eliminate dead code in pages.scss","description":"Out `pages.scss` contains some dead code (leftovers) like `.gitlab-com-notification` or `plan-info`. This issue is about going through all root selectors and removing ones we don't use in our application.","state":"closed","created_at":"2022-11-07T11:14:42.170Z","updated_at":"2023-01-16T09:55:08.809Z","closed_at":"2023-01-16T09:55:08.769Z","closed_by":{"id":447038,"username":"vitallium","name":"Vitaly Slobodin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/74b3243cfcfbfac1f022b78ab505e8d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/vitallium"},"labels":["devops::fulfillment","group::fulfillment platform","maintenance::refactor","missed:15.6","missed:15.7","section::fulfillment","type::maintenance","workflow::complete"],"milestone":{"id":2745648,"iid":83,"group_id":9970,"title":"15.8","description":"","state":"active","created_at":"2022-08-22T16:57:34.875Z","updated_at":"2022-08-22T16:57:34.875Z","due_date":"2023-01-17","start_date":"2022-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/83"},"assignees":[{"id":447038,"username":"vitallium","name":"Vitaly Slobodin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/74b3243cfcfbfac1f022b78ab505e8d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/vitallium"}],"author":{"id":447038,"username":"vitallium","name":"Vitaly Slobodin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/74b3243cfcfbfac1f022b78ab505e8d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/vitallium"},"type":"ISSUE","assignee":{"id":447038,"username":"vitallium","name":"Vitaly Slobodin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/74b3243cfcfbfac1f022b78ab505e8d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/vitallium"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5114","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5114","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5114/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5114/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5114","relative":"#5114","full":"gitlab-org/customers-gitlab-com#5114"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":9172,"epic":{"id":647554,"iid":9172,"title":"Cleaning up old and redundant CSS from CustomersDot","url":"/groups/gitlab-org/-/epics/9172","group_id":9970,"human_readable_end_date":"Apr 17, 2023","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":118258231,"iid":5111,"project_id":2670515,"title":"Remove heading overrides","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n### Problem\n\nCurrently we override headings (h1, h2) styles in https://gitlab.com/gitlab-org/customers-gitlab-com/blob/main/app/assets/stylesheets/main.scss#L8 We need to remove these, add proper spacing anywhere if required. \n\n### Proposal\n\n\u003c!-- Consult with `@gitlab-com/business-technology/enterprise-apps/zuora-architects` on the ~\"Enterprise Applications\" team if Zuora business logic is involved. --\u003e\n\n### Result\n\n### Next steps (if any)\n\n### How will we measure success?","state":"closed","created_at":"2022-11-07T11:08:38.125Z","updated_at":"2022-11-07T11:15:35.443Z","closed_at":"2022-11-07T11:10:41.787Z","closed_by":{"id":447038,"username":"vitallium","name":"Vitaly Slobodin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/74b3243cfcfbfac1f022b78ab505e8d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/vitallium"},"labels":["devops::fulfillment","section::fulfillment","workflow::production"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":447038,"username":"vitallium","name":"Vitaly Slobodin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/74b3243cfcfbfac1f022b78ab505e8d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/vitallium"}],"author":{"id":447038,"username":"vitallium","name":"Vitaly Slobodin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/74b3243cfcfbfac1f022b78ab505e8d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/vitallium"},"type":"ISSUE","assignee":{"id":447038,"username":"vitallium","name":"Vitaly Slobodin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/74b3243cfcfbfac1f022b78ab505e8d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/vitallium"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5111","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5111","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5111/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5111/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5111","relative":"#5111","full":"gitlab-org/customers-gitlab-com#5111"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":9172,"epic":{"id":647554,"iid":9172,"title":"Cleaning up old and redundant CSS from CustomersDot","url":"/groups/gitlab-org/-/epics/9172","group_id":9970,"human_readable_end_date":"Apr 17, 2023","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":118203932,"iid":5106,"project_id":2670515,"title":"Update CDot Storage purchase flow to behave like the one in gitlab.com","description":"### Problem\n\nIt has been identified that CDot Storage purchase flow is [incompatible with the new Orders API](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4891#note_1141305264), due to some missing parameters in the Orders Preview API response to enable the user experience.\n\n\u003cdetails\u003e\u003csummary\u003eClick to see a screenshot\u003c/summary\u003e\n![CleanShot_2022-11-05_at_14.56.47_2x](/uploads/b7ee99e1b702c85c5c814846f27a6d3a/CleanShot_2022-11-05_at_14.56.47_2x.png)\n\u003c/details\u003e\n\nCDot Storage purchase flow is being used by customers purchasing Storage for their personal namespaces and [customers with no last name](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4891#note_1150817989).\n\nThis issue is a blocker to completing https://gitlab.com/groups/gitlab-org/-/epics/8665+.\n\nFor additional discussions about this issue, please see https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4891.\n\n\n### Proposal\n\n1. Update CDot Storage purchase flow to look like and behave like gitlab.com Storage purchase flow (reference in Emily's [comment](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4891#note_1141770681))\n1. CDot flow uses some variables that are not available once we transition to Orders API\n1. We want CDot flow not to use those variables, and one way to do it is to align it to gitlab.com flow (which doesn't use `unit_price` variable)\n\n\u003cdetails\u003e\u003csummary\u003eClick to see a screenshot\u003c/summary\u003e\n![gitlabcom_storage_purchase](/uploads/e1b41c518e0a8f0cc247a8d943a7f68d/gitlabcom_storage_purchase.png)\n\n\u003c/details\u003e","state":"closed","created_at":"2022-11-05T20:59:51.258Z","updated_at":"2022-12-22T20:26:36.643Z","closed_at":"2022-12-05T16:07:27.438Z","closed_by":{"id":6348276,"username":"agulina","name":"Angelo Gulina","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b28693a558066993ea93b7272208d285?s=80\u0026d=identicon","web_url":"https://gitlab.com/agulina"},"labels":["ARM::Consider for 15.7","Category:Purchase","devops::fulfillment","frontend","group::purchase","section::fulfillment","type::feature","workflow::production"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":6348276,"username":"agulina","name":"Angelo Gulina","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b28693a558066993ea93b7272208d285?s=80\u0026d=identicon","web_url":"https://gitlab.com/agulina"}],"author":{"id":8110789,"username":"tgolubeva","name":"Tatyana Golubeva","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8110789/avatar.png","web_url":"https://gitlab.com/tgolubeva"},"type":"ISSUE","assignee":{"id":6348276,"username":"agulina","name":"Angelo Gulina","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b28693a558066993ea93b7272208d285?s=80\u0026d=identicon","web_url":"https://gitlab.com/agulina"},"user_notes_count":17,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5106","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5106","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5106/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5106/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5106","relative":"#5106","full":"gitlab-org/customers-gitlab-com#5106"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":118127982,"iid":5104,"project_id":2670515,"title":"Old licenses unable to seat link due to missing zuora_subscription_name","description":"### Problem\n\nIn 2021/03 [we started to add `zuora_subscription_name`](https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/2985/diffs#e4b267ec5ccedfebb4a6917d5f020bb4a4162d1b_83_83) when generating licenses. \n\nHowever the current seat link requires `zuora_subscription_name` for the purpose of finding `Order`. Therefore old licenses would fail to seat link.\n\nExample: https://sentry.gitlab.net/gitlab/customersgitlabcom/issues/3443377/events/119391762/\n\n~~This error counts towards our error budget.~~ Currently this cause 422 response and should not count as apdex failures.\n\n### Proposal\n\nEither of the following:\n\n1. Old licenses still has `subscription_id`. We can use that to either find Order directly, or find the subscription name.\n1. Or, we can make seat link skip these type of errors, so they won't count towards error budget. This may be preferable if we don't care about old license data too much, and they will be rarer as time goes by.\n\n### Result\n\nOld license can still seat link.\n\n### Next steps (if any)\n\n### How will we measure success?","state":"closed","created_at":"2022-11-04T08:12:25.357Z","updated_at":"2023-03-30T16:15:50.484Z","closed_at":"2023-03-20T22:37:09.737Z","closed_by":{"id":12246302,"username":"paulobarros","name":"Paulo Barros","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12246302/avatar.png","web_url":"https://gitlab.com/paulobarros"},"labels":["Category:SM Provisioning","Error Budget Improvement","backend","bug","bug::functional","devops::fulfillment","group::provision","missed:15.10","past due","section::fulfillment","severity::3","type::bug","workflow::in review"],"milestone":{"id":2745651,"iid":85,"group_id":9970,"title":"15.10","description":"","state":"active","created_at":"2022-08-22T16:58:22.132Z","updated_at":"2022-08-22T16:58:22.132Z","due_date":"2023-03-17","start_date":"2023-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/85"},"assignees":[{"id":12246302,"username":"paulobarros","name":"Paulo Barros","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12246302/avatar.png","web_url":"https://gitlab.com/paulobarros"}],"author":{"id":1986039,"username":"lulalala","name":"Mark Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1986039/avatar.png","web_url":"https://gitlab.com/lulalala"},"type":"ISSUE","assignee":{"id":12246302,"username":"paulobarros","name":"Paulo Barros","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12246302/avatar.png","web_url":"https://gitlab.com/paulobarros"},"user_notes_count":18,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5104","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5104","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5104/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5104/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5104","relative":"#5104","full":"gitlab-org/customers-gitlab-com#5104"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":118091441,"iid":5097,"project_id":2670515,"title":"Whitespaces in contact email lead to validation error on customer creation","description":"### Problem\n\nWhile looking into failed `Provision` records (e.g. https://customers.gitlab.com/admin/provision/10708 or https://customers.gitlab.com/admin/provision/10853), it turned out that they were audited as failed because a `Customer` record could not be created. It could not be created due to the used email already existing in the system in a `Customer` record.\n\nThe used workflow for the `Customer` record creation uses [FindOrCreateCustomerService](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/e9eaf1283947f750b763c9e179626f0bbb341284/app/services/find_or_create_customer_service.rb). This service first attempts to [find a `Customer` record](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/e9eaf1283947f750b763c9e179626f0bbb341284/app/services/find_or_create_customer_service.rb#L14) via email before [creating a new one](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/e9eaf1283947f750b763c9e179626f0bbb341284/app/services/find_or_create_customer_service.rb#L17) in case none was found. This doesn't add up with the error we are seeing though (since first no record was found but then on creation there suddenly was one). Looking closer into the used emails, it turns out that the two mentioned examples both have a `\\t` (some kind of whitespaces) at the end of the email. While it's correct that no `Customer` record is found when looking for one by email, upon attempting to create one, I think devise will automatically strip the whitespace from the email ([code](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/e9eaf1283947f750b763c9e179626f0bbb341284/config/initializers/devise.rb#L56)). Which explains why the email already exists error shows up at that step.\n\n### Proposal\n\nStrip any whitespaces before looking for a `Customer` record by email in the `FindOrCreateCustomerService` ([code](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/e9eaf1283947f750b763c9e179626f0bbb341284/app/services/find_or_create_customer_service.rb#L45)).\n\n### Result\n\nStripping the whitespace before the lookup will find the already existing `Customer` record and any workflow that is supposed to be executed along with this logic will succeed and not fail anymore.","state":"closed","created_at":"2022-11-03T15:25:27.390Z","updated_at":"2022-12-12T16:17:48.466Z","closed_at":"2022-11-07T15:02:48.014Z","closed_by":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"labels":["backend","bug::functional","devops::fulfillment","group::provision","section::fulfillment","type::bug","workflow::production"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"}],"author":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"type":"ISSUE","assignee":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5097","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5097","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5097/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5097/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5097","relative":"#5097","full":"gitlab-org/customers-gitlab-com#5097"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":117986550,"iid":5089,"project_id":2670515,"title":"Follow-up from \"Use orders api in order preview graphql resolver\"","description":"The following discussion from !5701 should be addressed:\n\n- [x] @tvellishetty started a [discussion](https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/5701#note_1156798990):  (+2 comments)\n\n    \u003e That seems to be a fairly new change in AmendSubscriptionService, do you think we should consider doing the same in AmendmentManagerService instead of accepting a customer param?\n\n# Proposal\n\nuse `subscription.sold_to_customer` in `AmendmentManagerService` instead of accepting a customer param to be consistent with `AmendSubscriptionService`","state":"closed","created_at":"2022-11-02T08:28:37.491Z","updated_at":"2022-11-17T10:59:26.832Z","closed_at":"2022-11-17T10:59:26.808Z","closed_by":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"labels":["backend","devops::fulfillment","group::fulfillment platform","section::fulfillment","workflow::verification"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"}],"author":{"id":11217480,"username":"tvellishetty","name":"Tarun Vellishetty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11217480/avatar.png","web_url":"https://gitlab.com/tvellishetty"},"type":"ISSUE","assignee":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"user_notes_count":3,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5089","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":1},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5089","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5089/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5089/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5089","relative":"#5089","full":"gitlab-org/customers-gitlab-com#5089"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8665,"epic":{"id":594036,"iid":8665,"title":"Transition Amend() to the Zuora Orders API for subscription amendments","url":"/groups/gitlab-org/-/epics/8665","group_id":9970,"human_readable_end_date":"Oct 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":117767305,"iid":5077,"project_id":2670515,"title":"Update Subject Line of SaaS Provisioning Email for more obvious CTA","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n### Problem\nCurrently the SaaS provisioning subject line does not make it obvious that action needs to be taken.\n\nA change in subject line was first proposed in https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5003, but this issue is expected to take a long time to deploy given it is blocked by https://gitlab.com/groups/gitlab-org/-/epics/8941.\n\n### Proposal\n\nUpdate the subject line of the SaaS Provisioning email from `[GitLab Transactions] Thanks for purchasing our GitLab.com hosted plan!` to `[GitLab Transactions] Set up your new subscription to get started`.\n\n\u003c!-- Consult with `@gitlab-com/business-technology/enterprise-apps/zuora-architects` on the ~\"Enterprise Applications\" team if Zuora business logic is involved. --\u003e\n\n### Result\nEmail contains a more obvious CTA, customers know they need to open the email.\n\n### Availability \u0026 Testing\n\n\u003c!-- This section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\nWhat risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning --\u003e\n\nIf we do not have one already, we should consider adding a Mailer spec to validate this subject text.\n\n```ruby\nexpect(mailer.subject).to eq('[GitLab Transactions] Set up your new subscription to get started')\n```","state":"closed","created_at":"2022-10-28T17:12:06.748Z","updated_at":"2023-02-24T22:06:08.542Z","closed_at":"2023-01-20T09:58:31.328Z","closed_by":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"labels":["Category:SaaS Provisioning","SUS::Impacting","Technical Writing","backend","devops::fulfillment","frontend","group::provision","maintenance::usability","priority::3","quad-planning::complete-action","quick win","section::fulfillment","severity::2","type::maintenance","workflow::production"],"milestone":{"id":2745650,"iid":84,"group_id":9970,"title":"15.9","description":"","state":"active","created_at":"2022-08-22T16:58:02.303Z","updated_at":"2022-08-22T16:58:02.303Z","due_date":"2023-02-17","start_date":"2023-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/84"},"assignees":[{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"}],"author":{"id":7964536,"username":"courtmeddaugh","name":"Courtney Meddaugh","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7964536/avatar.png","web_url":"https://gitlab.com/courtmeddaugh"},"type":"ISSUE","assignee":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5077","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5077","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5077/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5077/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5077","relative":"#5077","full":"gitlab-org/customers-gitlab-com#5077"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":9117,"epic":{"id":638939,"iid":9117,"title":"Improve SaaS customer mailers","url":"/groups/gitlab-org/-/epics/9117","group_id":9970,"human_readable_end_date":"May 31, 2023","human_readable_timestamp":"\u003cstrong\u003e25\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":117728815,"iid":5074,"project_id":2670515,"title":"[Reseller] Hide `Buy new subscription` button for customers who have purchased subscription through reseller","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n### Problem\nFor customers who have purchased subscriptions through resellers, we should hide the \"Buy new subscription\" button.\n\n![cdot-sm-subscription-card-crossed](/uploads/268a4f53a15dd0972e6512e9a0559ac0/cdot-sm-subscription-card-crossed.png)\n\nNote: Subscription management buttons will be hidden for reseller subscriptions in this issue - https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4946. In the current issue we need to tackle hiding the `Buy new subscription` button.\n\n### Proposal\n\n1. If a customer has an active subscription that was purchased via a Reseller, they **should not be able** to buy a new subscription.\n   * Add 30 days to the SubscriptionEndDate of `Active (reseller) subscription` to account for the renewal term\n   * 30 days is based on https://about.gitlab.com/handbook/sales/field-operations/order-processing/#late-renewals\n1. If a customer purchased via a reseller in the past, and no longer has an active (reseller) subscription, they **should be able** to buy a new subscription.\n\n### Implementation\n| MR | Description |\n| ------ | ------ |\n| https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/5925       |  Add `managed_by_reseller` attribute to subscription presenter output       |\n| https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/5926       | Hide `Buy new subscription` button if any of the subscriptions have `managed_by_reseller` true      |\n\n### Result\n\n### Next steps (if any)\n\n- [x] @tgolubeva: Respond to https://gitlab.com/gitlab-com/support/ticket-attention-requests/-/issues/3095#note_1166598959 once this issue is closed.\n\n### How will we measure success?","state":"closed","created_at":"2022-10-28T07:41:08.427Z","updated_at":"2023-05-04T12:32:20.508Z","closed_at":"2022-11-28T07:38:44.927Z","closed_by":{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"},"labels":["Category:Subscription Management","Deliverable","UX","devops::fulfillment","feature::enhancement","frontend","group::billing and subscription management","section::fulfillment","type::feature","workflow::production"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"}],"author":{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"},"type":"ISSUE","assignee":{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"},"user_notes_count":16,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5074","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":1},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5074","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5074/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5074/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5074","relative":"#5074","full":"gitlab-org/customers-gitlab-com#5074"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8941,"epic":{"id":618512,"iid":8941,"title":"Allow customers that purchased via Reseller to access Customers Portal","url":"/groups/gitlab-org/-/epics/8941","group_id":9970,"human_readable_end_date":"May 17, 2023","human_readable_timestamp":"\u003cstrong\u003e11\u003c/strong\u003e days remaining"},"iteration":{"id":96281,"iid":172,"sequence":3,"group_id":9970,"title":"15.7 Iteration 1","description":"","state":3,"created_at":"2022-11-14T20:24:48.891Z","updated_at":"2022-12-04T00:05:09.115Z","start_date":"2022-11-18","due_date":"2022-12-03","web_url":"https://gitlab.com/groups/gitlab-org/-/iterations/96281"},"health_status":"on_track"},{"id":117728333,"iid":5073,"project_id":2670515,"title":"[Testing] Use of Orders API in Order Preview GraphQL endpoint","description":"### Problem\n\nThis issue is to track the verification process to enable the use of [Use of Orders API in Order Preview GraphQL endpoint](https://gitlab.com/groups/gitlab-org/-/epics/9118).\n\n**Associated FF:** [`use_orders_api_in_preview_graphql_resolver`](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5068)\n\n### Testing scenarios\n| Scenario | Steps | Expected result | Pass? (Staging environment) | Notes |\n|----------|-------|-----------------|-----------------------------|-------|\n| Preview storage purchase in Gitlab  | 1. In Gitlab open an existing group with a paid plan or create a one. \u003cbr\u003e 2. Navigate to Group \u003e Settings \u003e Usage Quotas \u003e Storage tab \u003cbr\u003e 3. Click on Purchase more storage | We should see the correct prorated \"Total\" in the UI | yes |  |\n\n### Result\n\n### Next steps (if any)","state":"closed","created_at":"2022-10-28T07:34:29.373Z","updated_at":"2022-11-14T09:15:05.220Z","closed_at":"2022-11-14T09:15:05.172Z","closed_by":{"id":11217480,"username":"tvellishetty","name":"Tarun Vellishetty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11217480/avatar.png","web_url":"https://gitlab.com/tvellishetty"},"labels":["devops::fulfillment","feature::consolidation","group::fulfillment platform","section::fulfillment","type::feature"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":11217480,"username":"tvellishetty","name":"Tarun Vellishetty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11217480/avatar.png","web_url":"https://gitlab.com/tvellishetty"}],"author":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"type":"ISSUE","assignee":{"id":11217480,"username":"tvellishetty","name":"Tarun Vellishetty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11217480/avatar.png","web_url":"https://gitlab.com/tvellishetty"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5073","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5073","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5073/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5073/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5073","relative":"#5073","full":"gitlab-org/customers-gitlab-com#5073"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":9118,"epic":{"id":639644,"iid":9118,"title":"Transition Order Preview GraphQL endpoint to use Orders API","url":"/groups/gitlab-org/-/epics/9118","group_id":9970,"human_readable_end_date":"Dec 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":117728046,"iid":5072,"project_id":2670515,"title":"[Feature Flag] Enable use_orders_api_in_preview_graphql_resolver - Order Preview GraphQL endpoint","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n# Summary\n\n\u003c!-- Short description of what the feature is about and link to relevant other issues. --\u003e\n\nThis issue is to rollout [Use of Orders API in Order Preview GraphQL endpoint](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5024) on CustomersDot production,\nthat is currently behind the [`use_orders_api_in_preview_graphql_resolver`](https://gitlab.com/gitlab-org/customers-gitlab-com/-/feature_flags/177/edit) feature flag.\n\n## Owners\n\n- Team: Fulfillment Platform\n- Most appropriate Slack channel to reach out to: `#g_fulfillment_platform`\n- Best individual to reach out to: @tvellishetty \n- PM: GITLAB_HANDLE\n\n## Stakeholders\n\n\u003c!--\nAre there any other stages or teams involved that need to be kept in the loop?\n\n- GITLAB_HANDLE of a PM\n- The Support Team\n- The Delivery Team\n--\u003e\n\n## The Rollout Plan\n\n- Partial Rollout with specific Customers on CustomersDot, [via Unleash](https://docs.gitlab.com/ee/operations/feature_flags.html#user-ids)\n- Rollout on CustomersDot for a certain period (How long)\n- Percentage Rollout on CustomersDot\n- Rollout Feature for everyone as soon as it's ready\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? Sentry errors reports can also be useful to review --\u003e\n\n## Testing User/Customer IDs\n\n\u003c!--\nList any Customer IDs for Customers that are happy to have this feature turned on early.\n\nRemove if not applicable\n--\u003e\n\n## Expectations\n\n### What are we expecting to happen?\n\n\u003c!-- Describe the expected outcome when rolling out this feature --\u003e\n\n### What might happen if this goes wrong?\n\n\u003c!-- Should the feature flag be turned off? Any MRs that need to be rolled back? Communication that needs to happen? What are some things you can think of that could go wrong - data loss or broken pages? --\u003e\n\n### What can we monitor to detect problems with this?\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? --\u003e\n\n## Rollout Steps\n\n### Rollout on non-production environments\n\n- [x] Ensure that the feature MRs have been deployed to non-production environments, i.e. `customers-staging`.\n- [x] Consider announcing that the flag will be enabled to potentially impacted groups, e.g. `#s_fulfillment_engineering`\n- [x] Enable the feature globally on non-production environments by applying the appropriate environment, e.g. `customers-staging` and `customers-development`.\n- [x] Notify the Software Engineers in Test (SETs) for Fulfillment via Slack and in a comment in this issue when enabling a feature flag in `customers-staging` as it can impact the QA pipeline.\n- [x] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n\n### Preparation before production rollout\n\n- [x] Ensure that the feature MRs have been deployed to production\n- [ ] Check if the feature flag change needs to be accompanied with a\n  [change management issue](https://about.gitlab.com/handbook/engineering/infrastructure/change-management/#feature-flags-and-the-change-management-process).\n  Cross link the issue here if it does.\n- [x] Ensure that you or a representative in Fulfillment can be available for at least 2 hours after feature flag updates in production.\n  If a different developer will be covering, or an exception is needed, please inform the Fulfillment team in #s_fulfillment_engineering\n- [x] Ensure any documentation has been updated\n- [ ] Announce on [the feature issue](ISSUE LINK) an estimated time this will be enabled on production if applicable\n- [ ] If the feature might impact the user experience, notify `#s_fulfillment` and potentially `#support_gitlab-com`, as well as your team channel ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#communicate-the-change)).\n\n### Global rollout on CustomersDot production\n\n- [x] Confirm the feature flag is enabled on `staging` without incident\n- [ ] Roll out the feature to targeted testing users first (if applicable)\n- [ ] If applicable, [incrementally roll out](https://docs.gitlab.com/ee/operations/feature_flags.html#percent-rollout) the feature.\n- [ ] Verify the change has the desired outcome with the limited rollout before enabling the feature globally on production.\n- [x] Enable the feature globally on production environment\n- [x] Announce on [the feature issue](ISSUE LINK) that the feature has been globally enabled.\n- [ ] Wait for [at least one day for the verification term](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release).\n\n### Release the feature\n\nAfter the feature has been [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release),\nthe clean up should be done as soon as possible to permanently enable the feature and reduce complexity in the codebase.\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [ ] Create a merge request to remove `\u003cfeature-flag-name\u003e` feature flag\n  - [ ] Remove all references to the feature flag from the codebase\n- [ ] Ensure that the cleanup MR has been deployed to both staging and production\n- [ ] Disable the feature flag via the [CustomersDot dashboard](https://gitlab.com/gitlab-org/customers-gitlab-com/-/feature_flags)\n- [ ] Ensure production environment is still working as expected\n- [ ] Remove the Unleash feature flag from the [CustomersDot dashboard](https://gitlab.com/gitlab-org/customers-gitlab-com/-/feature_flags)\n- [ ] Close this rollout issue.\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by performing the following actions:\n  - [ ] Disable the Unleash flag on the [feature flag page](LINK TO THE FEATURE FLAG EDIT PAGE)","state":"closed","created_at":"2022-10-28T07:31:15.873Z","updated_at":"2023-01-10T20:18:33.140Z","closed_at":"2022-12-15T23:25:56.193Z","closed_by":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"labels":["devops::fulfillment","feature flag","feature::consolidation","group::fulfillment platform","missed:15.6","section::fulfillment","type::feature"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":11217480,"username":"tvellishetty","name":"Tarun Vellishetty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11217480/avatar.png","web_url":"https://gitlab.com/tvellishetty"}],"author":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"type":"ISSUE","assignee":{"id":11217480,"username":"tvellishetty","name":"Tarun Vellishetty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11217480/avatar.png","web_url":"https://gitlab.com/tvellishetty"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5072","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":27,"completed_count":11},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5072","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5072/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5072/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5072","relative":"#5072","full":"gitlab-org/customers-gitlab-com#5072"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":9118,"epic":{"id":639644,"iid":9118,"title":"Transition Order Preview GraphQL endpoint to use Orders API","url":"/groups/gitlab-org/-/epics/9118","group_id":9970,"human_readable_end_date":"Dec 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":117726253,"iid":5071,"project_id":2670515,"title":"[Testing] Auto renewal preview using Orders API","description":"### Problem\n\nThis issue is to track the verification process to enable the use of [Using Orders API when previewing ineligibility for auto renewal notification AND upcoming auto renewal notification job](https://gitlab.com/groups/gitlab-org/-/epics/9047).\n\n**Associated FF:** [`use_orders_api_preview_in_upcoming_saas_mailer`](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5070)\n\n### Testing scenarios\n| Scenario | Steps | Expected result | Pass? (Staging environment) | Notes |\n|----------|-------|-----------------|-----------------------------|-------|\n| Upcoming auto renewal notification | 1. Start the GDK, CustomersDot and ZSim if testing in local \u003cbr\u003e 2. Create a subscription in Zuora that has a term end date next week (set order date to last year + 1 week) \u003cbr\u003e 3. Change linked namespace to a group in gitlab \u003cbr\u003e 4. Wait for the order to sync, then find the order in the console `order = Order.last` \u003cbr\u003e 5. Run `AutoRenew::SendUpcomingNotificationService.new(order: order).execute` from the console |  Sends the notification email stating card will be charged | yes |  |\n| Ineligibility for auto renewal notification | follow till step 4. from above \u003cbr\u003e 5. Turn of autopay for zuora customer \u003cbr\u003e 6. set `eligibility_response = ServiceResponse.error(message: 'Ineligible for custom auto renew',payload: { reasons: [:auto_pay_disabled], order_id: order.id })` \u003cbr\u003e 7. run `AutoRenew::SendIneligibleForUpcomingRenewalNotificationService.new(order: order, eligibility_response: eligibility_response).execute` | Sends the notification email stating invoice will be sent | yes | Workflow might no longer be in use. \u003cbr\u003e `enable_sales_assisted_autorenew` ff is enabled in prod so required condition `:auto_pay_disabled` [will not be satisfied](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/main/app/services/auto_renew/eligibility_service.rb#L79). \u003cbr\u003e Manually creating response and testing this to make sure there's no regression if the ff is turned off |\n\n### Result\n\n### Next steps (if any)","state":"closed","created_at":"2022-10-28T07:21:27.181Z","updated_at":"2022-11-21T16:00:01.462Z","closed_at":"2022-11-21T16:00:01.430Z","closed_by":{"id":11217480,"username":"tvellishetty","name":"Tarun Vellishetty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11217480/avatar.png","web_url":"https://gitlab.com/tvellishetty"},"labels":["devops::fulfillment","feature::consolidation","group::fulfillment platform","section::fulfillment","type::feature"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":11217480,"username":"tvellishetty","name":"Tarun Vellishetty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11217480/avatar.png","web_url":"https://gitlab.com/tvellishetty"}],"author":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"type":"ISSUE","assignee":{"id":11217480,"username":"tvellishetty","name":"Tarun Vellishetty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11217480/avatar.png","web_url":"https://gitlab.com/tvellishetty"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5071","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5071","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5071/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5071/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5071","relative":"#5071","full":"gitlab-org/customers-gitlab-com#5071"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":9047,"epic":{"id":629649,"iid":9047,"title":"Transition Auto renewal workflow to use Orders API","url":"/groups/gitlab-org/-/epics/9047","group_id":9970,"human_readable_end_date":"Dec 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":117726196,"iid":5070,"project_id":2670515,"title":"[Feature Flag] Enable use_orders_api_preview_in_upcoming_saas_mailer - Auto renewal preview","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n# Summary\n\n\u003c!-- Short description of what the feature is about and link to relevant other issues. --\u003e\n\nThis issue is to rollout [Using Orders API when previewing ineligibility for auto renewal notification AND upcoming auto renewal notification job](https://gitlab.com/groups/gitlab-org/-/epics/9047) on CustomersDot production,\nthat is currently behind the [`use_orders_api_preview_in_upcoming_saas_mailer`](https://gitlab.com/gitlab-org/customers-gitlab-com/-/feature_flags/174/edit) feature flag.\n\n## Owners\n\n- Team: Fulfillment Platform\n- Most appropriate Slack channel to reach out to: `#g_fulfillment_platform`\n- Best individual to reach out to: @tvellishetty \n- PM: GITLAB_HANDLE\n\n## Stakeholders\n\n\u003c!--\nAre there any other stages or teams involved that need to be kept in the loop?\n\n- GITLAB_HANDLE of a PM\n- The Support Team\n- The Delivery Team\n--\u003e\n\n## The Rollout Plan\n\n- Partial Rollout with specific Customers on CustomersDot, [via Unleash](https://docs.gitlab.com/ee/operations/feature_flags.html#user-ids)\n- Rollout on CustomersDot for a certain period (How long)\n- Percentage Rollout on CustomersDot\n- Rollout Feature for everyone as soon as it's ready\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? Sentry errors reports can also be useful to review --\u003e\n\n## Testing User/Customer IDs\n\n\u003c!--\nList any Customer IDs for Customers that are happy to have this feature turned on early.\n\nRemove if not applicable\n--\u003e\n\n## Expectations\n\n### What are we expecting to happen?\n\n\u003c!-- Describe the expected outcome when rolling out this feature --\u003e\n\n### What might happen if this goes wrong?\n\n\u003c!-- Should the feature flag be turned off? Any MRs that need to be rolled back? Communication that needs to happen? What are some things you can think of that could go wrong - data loss or broken pages? --\u003e\n\n### What can we monitor to detect problems with this?\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? --\u003e\n\n## Rollout Steps\n\n### Rollout on non-production environments\n\n- [x] Ensure that the feature MRs have been deployed to non-production environments, i.e. `customers-staging`.\n- [ ] Consider announcing that the flag will be enabled to potentially impacted groups, e.g. `#s_fulfillment_engineering`\n- [x] Enable the feature globally on non-production environments by applying the appropriate environment, e.g. `customers-staging` and `customers-development`.\n- [x] Notify the Software Engineers in Test (SETs) for Fulfillment via Slack and in a comment in this issue when enabling a feature flag in `customers-staging` as it can impact the QA pipeline.\n- [ ] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n\n### Preparation before production rollout\n\n- [x] Ensure that the feature MRs have been deployed to production\n- [ ] Check if the feature flag change needs to be accompanied with a\n  [change management issue](https://about.gitlab.com/handbook/engineering/infrastructure/change-management/#feature-flags-and-the-change-management-process).\n  Cross link the issue here if it does.\n- [x] Ensure that you or a representative in Fulfillment can be available for at least 2 hours after feature flag updates in production.\n  If a different developer will be covering, or an exception is needed, please inform the Fulfillment team in #s_fulfillment_engineering\n- [ ] Ensure any documentation has been updated\n- [x] Announce on [the feature issue](ISSUE LINK) an estimated time this will be enabled on production if applicable\n- [ ] If the feature might impact the user experience, notify `#s_fulfillment` and potentially `#support_gitlab-com`, as well as your team channel ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#communicate-the-change)).\n\n### Global rollout on CustomersDot production\n\n- [x] Confirm the feature flag is enabled on `staging` without incident\n- [ ] Roll out the feature to targeted testing users first (if applicable)\n- [ ] If applicable, [incrementally roll out](https://docs.gitlab.com/ee/operations/feature_flags.html#percent-rollout) the feature.\n- [ ] Verify the change has the desired outcome with the limited rollout before enabling the feature globally on production.\n- [x] Enable the feature globally on production environment\n- [x] Announce on [the feature issue](ISSUE LINK) that the feature has been globally enabled.\n- [ ] Wait for [at least one day for the verification term](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release).\n\n### Release the feature\n\nAfter the feature has been [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release),\nthe clean up should be done as soon as possible to permanently enable the feature and reduce complexity in the codebase.\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [ ] Create a merge request to remove `\u003cfeature-flag-name\u003e` feature flag\n  - [ ] Remove all references to the feature flag from the codebase\n- [ ] Ensure that the cleanup MR has been deployed to both staging and production\n- [ ] Disable the feature flag via the [CustomersDot dashboard](https://gitlab.com/gitlab-org/customers-gitlab-com/-/feature_flags)\n- [ ] Ensure production environment is still working as expected\n- [ ] Remove the Unleash feature flag from the [CustomersDot dashboard](https://gitlab.com/gitlab-org/customers-gitlab-com/-/feature_flags)\n- [ ] Close this rollout issue.\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by performing the following actions:\n  - [ ] Disable the Unleash flag on the [feature flag page](LINK TO THE FEATURE FLAG EDIT PAGE)","state":"closed","created_at":"2022-10-28T07:21:11.583Z","updated_at":"2023-01-09T21:53:55.847Z","closed_at":"2022-12-15T23:19:11.117Z","closed_by":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"labels":["devops::fulfillment","feature flag","feature::consolidation","group::fulfillment platform","section::fulfillment","type::feature"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":11217480,"username":"tvellishetty","name":"Tarun Vellishetty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11217480/avatar.png","web_url":"https://gitlab.com/tvellishetty"}],"author":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"type":"ISSUE","assignee":{"id":11217480,"username":"tvellishetty","name":"Tarun Vellishetty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11217480/avatar.png","web_url":"https://gitlab.com/tvellishetty"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5070","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":27,"completed_count":9},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5070","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5070/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5070/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5070","relative":"#5070","full":"gitlab-org/customers-gitlab-com#5070"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":9047,"epic":{"id":629649,"iid":9047,"title":"Transition Auto renewal workflow to use Orders API","url":"/groups/gitlab-org/-/epics/9047","group_id":9970,"human_readable_end_date":"Dec 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":117725193,"iid":5069,"project_id":2670515,"title":"[Testing] Preview reconciliation workflow using Orders API","description":"### Problem\n\nThis issue is to track the verification process to enable the use of [Use of Orders API when sending email for upcoming reconciliation AND validating quoted invoice during reconciliation](https://gitlab.com/groups/gitlab-org/-/epics/9048).\n\n**Associated FF:** [`use_orders_api_to_preview_quoted_invoice_amount`](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5068)\n\n### Testing scenarios\n| Scenario | Steps | Expected result | Pass? (Staging environment) | Notes |\n|----------|-------|-----------------|-----------------------------|-------|\n| Upcoming reconciliation email  | 1. In Gitlab create a new group with 1 billable user. \u003cbr\u003e 2. Purchase a paid plan, with subscription quantity=1. \u003cbr\u003e 3. In customer dot rails console run \u003cbr\u003e`order = Order.find_by_gl_namespace_id(group.id)` \u003cbr\u003e `reconciliation = order.reconciliations.first` \u003cbr\u003e `SendUpcomingReconciliationEmailJob.perform_now(reconciliation.id)`  | Should receive an email regarding upcoming reconciliation | yes |  |\n| Reconciliation  | above steps + \u003cbr\u003e 4. In customer dot rails console run `ReconciliationService.new(reconciliation).execute` | Should send email regarding completed reconciliation and can see an amendment to the subscription in zuora | yes |  |\n\n### Result\n\n### Next steps (if any)","state":"closed","created_at":"2022-10-28T07:14:31.414Z","updated_at":"2022-11-14T09:15:11.719Z","closed_at":"2022-11-14T09:15:11.688Z","closed_by":{"id":11217480,"username":"tvellishetty","name":"Tarun Vellishetty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11217480/avatar.png","web_url":"https://gitlab.com/tvellishetty"},"labels":["devops::fulfillment","feature::consolidation","group::fulfillment platform","section::fulfillment","type::feature"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":11217480,"username":"tvellishetty","name":"Tarun Vellishetty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11217480/avatar.png","web_url":"https://gitlab.com/tvellishetty"}],"author":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"type":"ISSUE","assignee":{"id":11217480,"username":"tvellishetty","name":"Tarun Vellishetty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11217480/avatar.png","web_url":"https://gitlab.com/tvellishetty"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5069","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5069","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5069/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5069/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5069","relative":"#5069","full":"gitlab-org/customers-gitlab-com#5069"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":9048,"epic":{"id":629651,"iid":9048,"title":"Transition Reconciliation (QSR) workflow to use Orders API","url":"/groups/gitlab-org/-/epics/9048","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":117724311,"iid":5068,"project_id":2670515,"title":"[Feature Flag] Enable use_orders_api_to_preview_quoted_invoice_amount - Reconciliation preview","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n# Summary\n\n\u003c!-- Short description of what the feature is about and link to relevant other issues. --\u003e\n\nThis issue is to rollout [Use of Orders API when sending email for upcoming reconciliation AND validating quoted invoice during reconciliation](https://gitlab.com/groups/gitlab-org/-/epics/9048) on CustomersDot production,\nthat is currently behind the [`use_orders_api_to_preview_quoted_invoice_amount`](https://gitlab.com/gitlab-org/customers-gitlab-com/-/feature_flags/169/edit) feature flag.\n\n## Owners\n\n- Team: Fulfillment Platform\n- Most appropriate Slack channel to reach out to: `#g_fulfillment_platform`\n- Best individual to reach out to: @tvellishetty \n- PM: GITLAB_HANDLE\n\n## Stakeholders\n\n\u003c!--\nAre there any other stages or teams involved that need to be kept in the loop?\n\n- GITLAB_HANDLE of a PM\n- The Support Team\n- The Delivery Team\n--\u003e\n\n## The Rollout Plan\n\n- Partial Rollout with specific Customers on CustomersDot, [via Unleash](https://docs.gitlab.com/ee/operations/feature_flags.html#user-ids)\n- Rollout on CustomersDot for a certain period (How long)\n- Percentage Rollout on CustomersDot\n- Rollout Feature for everyone as soon as it's ready\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? Sentry errors reports can also be useful to review --\u003e\n\n## Testing User/Customer IDs\n\n\u003c!--\nList any Customer IDs for Customers that are happy to have this feature turned on early.\n\nRemove if not applicable\n--\u003e\n\n## Expectations\n\n### What are we expecting to happen?\n\n\u003c!-- Describe the expected outcome when rolling out this feature --\u003e\n\n### What might happen if this goes wrong?\n\n\u003c!-- Should the feature flag be turned off? Any MRs that need to be rolled back? Communication that needs to happen? What are some things you can think of that could go wrong - data loss or broken pages? --\u003e\n\n### What can we monitor to detect problems with this?\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? --\u003e\n\n## Rollout Steps\n\n### Rollout on non-production environments\n\n- [x] Ensure that the feature MRs have been deployed to non-production environments, i.e. `customers-staging`.\n- [x] Consider announcing that the flag will be enabled to potentially impacted groups, e.g. `#s_fulfillment_engineering`\n- [x] Enable the feature globally on non-production environments by applying the appropriate environment, e.g. `customers-staging` and `customers-development`.\n- [x] Notify the Software Engineers in Test (SETs) for Fulfillment via Slack and in a comment in this issue when enabling a feature flag in `customers-staging` as it can impact the QA pipeline.\n- [x] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n\n### Preparation before production rollout\n\n- [x] Ensure that the feature MRs have been deployed to production\n- [ ] Check if the feature flag change needs to be accompanied with a\n  [change management issue](https://about.gitlab.com/handbook/engineering/infrastructure/change-management/#feature-flags-and-the-change-management-process).\n  Cross link the issue here if it does.\n- [x] Ensure that you or a representative in Fulfillment can be available for at least 2 hours after feature flag updates in production.\n  If a different developer will be covering, or an exception is needed, please inform the Fulfillment team in #s_fulfillment_engineering\n- [x] Ensure any documentation has been updated\n- [ ] Announce on [the feature issue](ISSUE LINK) an estimated time this will be enabled on production if applicable\n- [ ] If the feature might impact the user experience, notify `#s_fulfillment` and potentially `#support_gitlab-com`, as well as your team channel ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#communicate-the-change)).\n\n### Global rollout on CustomersDot production\n\n- [x] Confirm the feature flag is enabled on `staging` without incident\n- [ ] Roll out the feature to targeted testing users first (if applicable)\n- [ ] If applicable, [incrementally roll out](https://docs.gitlab.com/ee/operations/feature_flags.html#percent-rollout) the feature.\n- [ ] Verify the change has the desired outcome with the limited rollout before enabling the feature globally on production.\n- [x] Enable the feature globally on production environment\n- [x] Announce on [the feature issue](ISSUE LINK) that the feature has been globally enabled.\n- [ ] Wait for [at least one day for the verification term](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release).\n\n### Release the feature\n\nAfter the feature has been [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release),\nthe clean up should be done as soon as possible to permanently enable the feature and reduce complexity in the codebase.\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [ ] Create a merge request to remove `\u003cfeature-flag-name\u003e` feature flag\n  - [ ] Remove all references to the feature flag from the codebase\n- [ ] Ensure that the cleanup MR has been deployed to both staging and production\n- [ ] Disable the feature flag via the [CustomersDot dashboard](https://gitlab.com/gitlab-org/customers-gitlab-com/-/feature_flags)\n- [ ] Ensure production environment is still working as expected\n- [ ] Remove the Unleash feature flag from the [CustomersDot dashboard](https://gitlab.com/gitlab-org/customers-gitlab-com/-/feature_flags)\n- [ ] Close this rollout issue.\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by performing the following actions:\n  - [ ] Disable the Unleash flag on the [feature flag page](LINK TO THE FEATURE FLAG EDIT PAGE)","state":"closed","created_at":"2022-10-28T07:07:27.381Z","updated_at":"2023-01-09T19:18:04.823Z","closed_at":"2022-12-15T23:19:39.224Z","closed_by":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"labels":["devops::fulfillment","feature flag","feature::consolidation","group::fulfillment platform","missed:15.6","section::fulfillment","type::feature"],"milestone":{"id":2745648,"iid":83,"group_id":9970,"title":"15.8","description":"","state":"active","created_at":"2022-08-22T16:57:34.875Z","updated_at":"2022-08-22T16:57:34.875Z","due_date":"2023-01-17","start_date":"2022-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/83"},"assignees":[{"id":11217480,"username":"tvellishetty","name":"Tarun Vellishetty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11217480/avatar.png","web_url":"https://gitlab.com/tvellishetty"}],"author":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"type":"ISSUE","assignee":{"id":11217480,"username":"tvellishetty","name":"Tarun Vellishetty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11217480/avatar.png","web_url":"https://gitlab.com/tvellishetty"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5068","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":27,"completed_count":11},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5068","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5068/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5068/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5068","relative":"#5068","full":"gitlab-org/customers-gitlab-com#5068"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":9048,"epic":{"id":629651,"iid":9048,"title":"Transition Reconciliation (QSR) workflow to use Orders API","url":"/groups/gitlab-org/-/epics/9048","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":117724130,"iid":5067,"project_id":2670515,"title":"[Testing] Reconciliation workflow using Orders API","description":"### Problem\n\nThis issue is to track the verification process to enable the use of 'Orders API in Reconciliation workflow'.\n\n**Associated FF:** [`use_orders_api_reconciliation_workflow`](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5066)\n\n### Testing scenarios\n| Scenario | Steps | Pass? (Staging environment) with links | Expected result |\n|----------|-------|-----------------|-----------------------------|\n| Reconciliation of Self-managed subscription  | 1. Register a new user: asubramanian+qsrtest@gitlab.com \u003cbr/\u003e 2. Purchase Self managed Ultimate license for 20 (or any qty) users \u003cbr/\u003e 3. Modify reconciliation entry for the new order by updating the user count to new greater number (e.g. 22) `reconciliation.update!(user_count: 22)` \u003cbr/\u003e 4. Set turn_on_cloud_licensing__c to Yes `order.z_subscription.update(turn_on_cloud_licensing__c: 'Yes')` \u003cbr\u003e 5. `SendUpcomingReconciliationEmailJob.perform_now(reconciliation.id)` \u003cbr/\u003e Invoke reconciliation service `ReconciliationService.new(reconciliation.reload).execute` | :white_check_mark: \u003cbr\u003e \u003cbr/\u003e - [Zuora subscription](https://test.zuora.com/apps/Subscription.do?method=view\u0026id=8a8aa2a584f77d4e0184f91c0d402966) \u003cbr/\u003e - [Zuora order](https://test.zuora.com/orders#/view/O-00167928) \u003cbr/\u003e - [Zuora Invoice](https://test.zuora.com/apps/NewInvoice.do?method=view\u0026invoiceKey=8a8aa2a584f77d4e0184f91c0e90297a\u0026flag=1) \u003cbr/\u003e - [SalesForce opportunity](https://gitlab--staging.sandbox.my.salesforce.com/00674000004nnAX) \u003cbr/\u003e - [Quote for Opportunity 00674000004nnAXAAY](https://gitlab--staging.sandbox.my.salesforce.com/a1j74000000LGWz?srPos=1\u0026srKp=a1j)  | 1. Once the upcoming reconciliation email is triggered, verify QSR opportunity is created in SalesForce. \u003cbr/\u003e \u003cbr/\u003e 2. After reconciliation: \u003cbr/\u003e - verify seat count is updated \u003cbr/\u003e - Order description is set to `Automated seat reconciliation` \u003cbr/\u003e - `GeneratedByProcess__c` custom field in invoice is set to `Automated seat reconciliation` |\n| Reconciliation of SaaS subscription | 1. Register a new user: asubramanian+orderssaasqsr@gitlab.com \u003cbr/\u003e 2. Purchase Self managed Ultimate license for 1 (or any qty) user \u003cbr/\u003e 3. Add new user to the group and refresh seats \u003cbr/\u003e 4. Set turn_on_cloud_licensing__c to Yes `order.z_subscription.update(turn_on_cloud_licensing__c: 'Yes')` \u003cbr\u003e 5. `SendUpcomingReconciliationEmailJob.perform_now(reconciliation.id)`. \u003cbr/\u003e Invoke reconciliation service `ReconciliationService.new(reconciliation.reload).execute` |  :white_check_mark: \u003cbr\u003e \u003cbr/\u003e - [Zuora subscription](https://test.zuora.com/apps/Subscription.do?method=view\u0026id=8a8aa35084f77d59018507a509c218b9) \u003cbr/\u003e - [Zuora order](https://test.zuora.com/orders#/view/O-00168635) \u003cbr/\u003e - [Zuora Invoice](https://test.zuora.com/apps/NewInvoice.do?method=view\u0026invoiceKey=8a8aa35084f77d59018507a50b2918d4\u0026flag=1) \u003cbr/\u003e - [SalesForce opportunity](https://gitlab--staging.sandbox.my.salesforce.com/00674000004npv4AAA) \u003cbr/\u003e - [Quote for Opportunity 00674000004nnAXAAY](https://gitlab--staging.sandbox.my.salesforce.com/a1j74000000LHCS) | 1. Once the upcoming reconciliation email is triggered, verify QSR opportunity is created in SalesForce. \u003cbr/\u003e \u003cbr/\u003e 2. After reconciliation: \u003cbr/\u003e - verify seat count is updated  \u003cbr/\u003e  - Order description is set to `Automated seat reconciliation` \u003cbr/\u003e - `GeneratedByProcess__c` custom field in invoice is set to `Automated seat reconciliation` |\n\n### Result\n\n### Next steps (if any)\n\n### How will we measure success?","state":"closed","created_at":"2022-10-28T07:02:44.342Z","updated_at":"2022-12-13T15:08:56.491Z","closed_at":"2022-12-13T14:56:29.052Z","closed_by":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"labels":["devops::fulfillment","feature::consolidation","group::fulfillment platform","section::fulfillment","type::feature"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"}],"author":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"type":"ISSUE","assignee":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5067","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5067","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5067/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5067/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5067","relative":"#5067","full":"gitlab-org/customers-gitlab-com#5067"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":9048,"epic":{"id":629651,"iid":9048,"title":"Transition Reconciliation (QSR) workflow to use Orders API","url":"/groups/gitlab-org/-/epics/9048","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":117724067,"iid":5066,"project_id":2670515,"title":"[Feature flag] Enable use_orders_api_reconciliation_workflow - Reconciliation","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n# Summary\n\n\u003c!-- Short description of what the feature is about and link to relevant other issues. --\u003e\n\nThis issue is to rollout [Transition Reconciliation (QSR) workflow to use Orders API](https://gitlab.com/groups/gitlab-org/-/epics/9048) on CustomersDot production,\nthat is currently behind the [`use_orders_api_reconciliation_workflow`](https://gitlab.com/gitlab-org/customers-gitlab-com/-/feature_flags/173/edit) feature flag.\n\n## Owners\n\n- Team: Fulfillment Platform\n- Most appropriate Slack channel to reach out to: `#g_fulfillment_platform`\n- Best individual to reach out to: @aish.sub\n- PM: @tgolubeva @mgass1 \n\n## Stakeholders\n\n\u003c!--\nAre there any other stages or teams involved that need to be kept in the loop?\n\n- GITLAB_HANDLE of a PM\n- The Support Team\n- The Delivery Team\n--\u003e\n\n## The Rollout Plan\n\n- Partial Rollout with specific Customers on CustomersDot, [via Unleash](https://docs.gitlab.com/ee/operations/feature_flags.html#user-ids)\n- Rollout on CustomersDot for a certain period (How long)\n- Percentage Rollout on CustomersDot\n- Rollout Feature for everyone as soon as it's ready\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? Sentry errors reports can also be useful to review --\u003e\n\n## Testing User/Customer IDs\n\n\u003c!--\nList any Customer IDs for Customers that are happy to have this feature turned on early.\n\nRemove if not applicable\n--\u003e\n\n## Expectations\n\n### What are we expecting to happen?\n\n\u003c!-- Describe the expected outcome when rolling out this feature --\u003e\n\n### What might happen if this goes wrong?\n\n\u003c!-- Should the feature flag be turned off? Any MRs that need to be rolled back? Communication that needs to happen? What are some things you can think of that could go wrong - data loss or broken pages? --\u003e\n\n### What can we monitor to detect problems with this?\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? --\u003e\n\n## Rollout Steps\n\n### Rollout on non-production environments\n\n- [x] Ensure that the feature MRs have been deployed to non-production environments, i.e. `customers-staging`.\n- [x] Consider announcing that the flag will be enabled to potentially impacted groups, e.g. `#s_fulfillment_engineering`\n- [x] Enable the feature globally on non-production environments by applying the appropriate environment, e.g. `customers-staging` and `customers-development`.\n- [x] Notify the Software Engineers in Test (SETs) for Fulfillment via Slack and in a comment in this issue when enabling a feature flag in `customers-staging` as it can impact the QA pipeline.\n- [x] Verify that the feature works as expected. Posting the QA result in this issue is preferable.: https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5067\n\n### Preparation before production rollout\n\n- [x] Ensure that the feature MRs have been deployed to production\n- [ ] Check if the feature flag change needs to be accompanied with a\n  [change management issue](https://about.gitlab.com/handbook/engineering/infrastructure/change-management/#feature-flags-and-the-change-management-process).\n  Cross link the issue here if it does.\n- [x] Ensure that you or a representative in Fulfillment can be available for at least 2 hours after feature flag updates in production.\n  If a different developer will be covering, or an exception is needed, please inform the Fulfillment team in #s_fulfillment_engineering\n- [ ] Ensure any documentation has been updated\n- [x] Announce on [the feature issue](ISSUE LINK) an estimated time this will be enabled on production if applicable\n- [ ] If the feature might impact the user experience, notify `#s_fulfillment` and potentially `#support_gitlab-com`, as well as your team channel ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#communicate-the-change)).\n\n### Global rollout on CustomersDot production\n\n- [x] Confirm the feature flag is enabled on `staging` without incident\n- [ ] Roll out the feature to targeted testing users first (if applicable)\n- [ ] If applicable, [incrementally roll out](https://docs.gitlab.com/ee/operations/feature_flags.html#percent-rollout) the feature.\n- [ ] Verify the change has the desired outcome with the limited rollout before enabling the feature globally on production.\n- [ ] Enable the feature globally on production environment\n- [ ] Announce on [the feature issue](ISSUE LINK) that the feature has been globally enabled.\n- [ ] Wait for [at least one day for the verification term](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release).\n\n### Release the feature\n\nAfter the feature has been [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release),\nthe clean up should be done as soon as possible to permanently enable the feature and reduce complexity in the codebase.\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [ ] Create a merge request to remove `\u003cfeature-flag-name\u003e` feature flag\n  - [ ] Remove all references to the feature flag from the codebase\n- [ ] Ensure that the cleanup MR has been deployed to both staging and production\n- [ ] Disable the feature flag via the [CustomersDot dashboard](https://gitlab.com/gitlab-org/customers-gitlab-com/-/feature_flags)\n- [ ] Ensure production environment is still working as expected\n- [ ] Remove the Unleash feature flag from the [CustomersDot dashboard](https://gitlab.com/gitlab-org/customers-gitlab-com/-/feature_flags)\n- [ ] Close this rollout issue.\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by performing the following actions:\n  - [ ] Disable the Unleash flag on the [feature flag page](LINK TO THE FEATURE FLAG EDIT PAGE)\n\n### Availability \u0026 Testing\n\n\u003c!-- This section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\nWhat risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning --\u003e\n\nEnsure regular runs of end-to-end tests (`qa-only:self-managed`, `qa-only:saas`) in MR phases of this Feature Flag rollout.  Ensure end-to-end tests pass.","state":"closed","created_at":"2022-10-28T07:00:41.233Z","updated_at":"2023-01-12T16:27:26.593Z","closed_at":"2022-12-15T23:14:22.022Z","closed_by":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"labels":["devops::fulfillment","feature flag","feature::consolidation","group::fulfillment platform","quad-planning::complete-action","section::fulfillment","type::feature","workflow::ready for development"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"}],"author":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"type":"ISSUE","assignee":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5066","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":27,"completed_count":9},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5066","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5066/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5066/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5066","relative":"#5066","full":"gitlab-org/customers-gitlab-com#5066"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":9048,"epic":{"id":629651,"iid":9048,"title":"Transition Reconciliation (QSR) workflow to use Orders API","url":"/groups/gitlab-org/-/epics/9048","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":117723855,"iid":5065,"project_id":2670515,"title":"[Testing] Auto renewal workflow using Orders API","description":"### Problem\n\nThis issue is to track the verification process to enable the use of 'Orders API in Auto renewal workflow'.\n\n**Associated FF:** [`use_orders_api_auto_renew_workflow`](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5064)\n\n### Testing scenarios\n| Scenario | Steps | Expected result | Pass? (Staging environment) | Notes |\n|----------|-------|-----------------|-----------------------------|-------|\n| Auto renewing SaaS subscription | Create a SaaS subscription with the [subscription terms](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5065#subscription-terms) listed and fulfills [eligibility criteria](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5065#eligibility-criteria-based-on-autoreneweligibilityservice) \u003cbr/\u003e  | - Subscription renews for 1 year \u003cbr/\u003e - `order.description` in Zuora is set to `AutoRenew by CustomersDot` \u003cbr/\u003e - Payment is processed using default payment method \u003cbr/\u003e - Sets `invoice.GeneratedByProcess` custom field to `AutoRenew by CustomersDot` \u003cbr/\u003e - Quantity equals namespace billable count \u003cbr/\u003e \u003cbr/\u003e **SalesForce verification**: The subscription generates Zuora Order with action types `RenewSubscription` and `UpdateProduct`. This should generate 1 Quote Amendment, 1 Quote Rate Plan and 1 Quote Rate Plan Charge each for the order action types. | :white_check_mark: \u003cbr/\u003e \u003cbr/\u003e - [Verification walkthrough video](https://drive.google.com/file/d/1UonG1pPtovu5eC5EGvnJwpm1xQuIBC4w/view?usp=share_link) \u003cbr/\u003e \u003cbr/\u003e - [Example subscription](https://test.zuora.com/apps/Subscription.do?method=view\u0026id=8a8aa1b484ea9cec0184eecd7af24825) \u003cbr/\u003e [Example SalesForce Quote](https://gitlab--staging.sandbox.my.salesforce.com/a1j74000000LFEk) | **Test setup** \u003cbr/\u003e [Payload to create a subscription due for Auto renewal snippet](https://gitlab.com/gitlab-org/customers-gitlab-com/-/snippets/2469063). Replace values as appropriate. |\n| Auto renewing self managed subscription | - Create a self-managed subscription with the [subscription terms](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5065#subscription-terms) listed and fulfills [eligibility criteria](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5065#eligibility-criteria-based-on-autoreneweligibilityservice) \u003cbr/\u003e - Create `reconciliation` record that reconciles 3 months prior to order `end_date`, and has `reconciled_on` set.  | - Subscription renews for 1 year \u003cbr/\u003e - `order.description` in Zuora is set to `AutoRenew by CustomersDot` \u003cbr/\u003e - Payment is processed using default payment method \u003cbr/\u003e - Sets `invoice.GeneratedByProcess` custom field to `AutoRenew by CustomersDot` \u003cbr/\u003e - Quantity equals subscription's total quantity \u003cbr/\u003e \u003cbr/\u003e **SalesForce verification**: The subscription generates Zuora Order with action types `RenewSubscription`. This should generate 1 Quote Amendment, 1 Quote Rate Plan and 1 Quote Rate Plan Charge each for the order action types. | :white_check_mark: \u003cbr/\u003e [Verification walkthrough video](https://drive.google.com/file/d/1MePcr8R-43zIBTRKmV6ASBUzCvepg-r9/view?usp=share_link) \u003cbr/\u003e \u003cbr/\u003e [Example subscription](https://test.zuora.com/apps/Subscription.do?method=view\u0026id=8a8aa2ad84eaaa1e0184ef57f08b65e2) \u003cbr/\u003e [Example SalesForce Quote](https://gitlab--staging.sandbox.my.salesforce.com/a1j74000000LFF9?srPos=1\u0026srKp=a1j) | **Test setup** \u003cbr/\u003e [Payload to create a subscription due for Auto renewal snippet](https://gitlab.com/gitlab-org/customers-gitlab-com/-/snippets/2469063). Replace values as appropriate. |\n\n**Note**: Additional testing scenarios can be found in [this comment](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5065#note_1202037801). \n\n### Subscription terms\n\n- `TermEndDate` is either `today (t)` or `t-1`\n- `TurnOnAutoRenew__c` set to `Yes` \u003cbr/\u003e - Status is `Active`\n- Renew count is greater than 0\n\n\n#### Eligibility criteria (based on [AutoRenew::EligibilityService](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/f24d2263af46165e290c65fc1d478fe091a350a9/app/services/auto_renew/eligibility_service.rb#L22))\n\n- If EoA starter / bronze is accepted, the subscription should not have multiple main products \n- Subscription should not be an add-only only subscription\n- `customer` is present in `order`\n- For self-managed subscription, ensure `sm_auto_renew_enabled` is enabled AND cloud license is enabled for subscription\n- Default payment method is valid\n- Last reconciliation was successful\n- No renewal errors present\n- Auto pay is enabled\n\n### Result\n\n### Next steps (if any)\n\n### How will we measure success?","state":"closed","created_at":"2022-10-28T06:54:31.570Z","updated_at":"2022-12-08T18:29:06.550Z","closed_at":"2022-12-08T18:24:23.740Z","closed_by":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"labels":["devops::fulfillment","feature::consolidation","group::fulfillment platform","section::fulfillment","type::feature","workflow::production"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"}],"author":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"type":"ISSUE","assignee":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5065","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5065","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5065/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5065/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5065","relative":"#5065","full":"gitlab-org/customers-gitlab-com#5065"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":9047,"epic":{"id":629649,"iid":9047,"title":"Transition Auto renewal workflow to use Orders API","url":"/groups/gitlab-org/-/epics/9047","group_id":9970,"human_readable_end_date":"Dec 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":117723779,"iid":5064,"project_id":2670515,"title":"[Feature flag] Enable use_orders_api_auto_renew_workflow - Auto Renewal","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n# Summary\n\n\u003c!-- Short description of what the feature is about and link to relevant other issues. --\u003e\n\nThis issue is to rollout [Transition Auto renewal workflow to use Orders API\n](https://gitlab.com/groups/gitlab-org/-/epics/9047) on CustomersDot production,\nthat is currently behind the [`use_orders_api_auto_renew_workflow`](https://gitlab.com/gitlab-org/customers-gitlab-com/-/feature_flags/168/edit) feature flag.\n\n## Owners\n\n- Team: Fulfillment Platform\n- Most appropriate Slack channel to reach out to: `#g_fulfillment_platform`\n- Best individual to reach out to: @aish.sub \n- PM: @tgolubeva @mgass1 \n\n## Stakeholders\n\n\u003c!--\nAre there any other stages or teams involved that need to be kept in the loop?\n\n- GITLAB_HANDLE of a PM\n- The Support Team\n- The Delivery Team\n--\u003e\n\n## The Rollout Plan\n\n- Partial Rollout with specific Customers on CustomersDot, [via Unleash](https://docs.gitlab.com/ee/operations/feature_flags.html#user-ids)\n- Rollout on CustomersDot for a certain period (How long)\n- Percentage Rollout on CustomersDot\n- Rollout Feature for everyone as soon as it's ready\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? Sentry errors reports can also be useful to review --\u003e\n\n## Testing User/Customer IDs\n\n\u003c!--\nList any Customer IDs for Customers that are happy to have this feature turned on early.\n\nRemove if not applicable\n--\u003e\n\n## Expectations\n\n### What are we expecting to happen?\n\n\u003c!-- Describe the expected outcome when rolling out this feature --\u003e\n\n### What might happen if this goes wrong?\n\n\u003c!-- Should the feature flag be turned off? Any MRs that need to be rolled back? Communication that needs to happen? What are some things you can think of that could go wrong - data loss or broken pages? --\u003e\n\n### What can we monitor to detect problems with this?\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? --\u003e\n\n## Rollout Steps\n\n### Rollout on non-production environments\n\n- [x] Ensure that the feature MRs have been deployed to non-production environments, i.e. `customers-staging`.\n- [x] Consider announcing that the flag will be enabled to potentially impacted groups, e.g. `#s_fulfillment_engineering`\n- [x] Enable the feature globally on non-production environments by applying the appropriate environment, e.g. `customers-staging` and `customers-development`.\n- [x] Notify the Software Engineers in Test (SETs) for Fulfillment via Slack and in a comment in this issue when enabling a feature flag in `customers-staging` as it can impact the QA pipeline.\n- [x] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n\n### Preparation before production rollout\n\n- [x] Ensure that the feature MRs have been deployed to production\n- [ ] Check if the feature flag change needs to be accompanied with a\n  [change management issue](https://about.gitlab.com/handbook/engineering/infrastructure/change-management/#feature-flags-and-the-change-management-process).\n  Cross link the issue here if it does.\n- [x] Ensure that you or a representative in Fulfillment can be available for at least 2 hours after feature flag updates in production.\n  If a different developer will be covering, or an exception is needed, please inform the Fulfillment team in #s_fulfillment_engineering\n- [ ] Ensure any documentation has been updated\n- [ ] Announce on [the feature issue](ISSUE LINK) an estimated time this will be enabled on production if applicable\n- [ ] If the feature might impact the user experience, notify `#s_fulfillment` and potentially `#support_gitlab-com`, as well as your team channel ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#communicate-the-change)).\n\n### Global rollout on CustomersDot production\n\n- [x] Confirm the feature flag is enabled on `staging` without incident\n- [ ] Roll out the feature to targeted testing users first (if applicable)\n- [ ] If applicable, [incrementally roll out](https://docs.gitlab.com/ee/operations/feature_flags.html#percent-rollout) the feature.\n- [ ] Verify the change has the desired outcome with the limited rollout before enabling the feature globally on production.\n- [ ] Enable the feature globally on production environment\n- [ ] Announce on [the feature issue](ISSUE LINK) that the feature has been globally enabled.\n- [ ] Wait for [at least one day for the verification term](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release).\n\n### Release the feature\n\nAfter the feature has been [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release),\nthe clean up should be done as soon as possible to permanently enable the feature and reduce complexity in the codebase.\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [ ] Create a merge request to remove `\u003cfeature-flag-name\u003e` feature flag\n  - [ ] Remove all references to the feature flag from the codebase\n- [ ] Ensure that the cleanup MR has been deployed to both staging and production\n- [ ] Disable the feature flag via the [CustomersDot dashboard](https://gitlab.com/gitlab-org/customers-gitlab-com/-/feature_flags)\n- [ ] Ensure production environment is still working as expected\n- [ ] Remove the Unleash feature flag from the [CustomersDot dashboard](https://gitlab.com/gitlab-org/customers-gitlab-com/-/feature_flags)\n- [ ] Close this rollout issue.\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by performing the following actions:\n  - [ ] Disable the Unleash flag on the [feature flag page](LINK TO THE FEATURE FLAG EDIT PAGE)","state":"closed","created_at":"2022-10-28T06:52:05.947Z","updated_at":"2023-01-11T09:51:37.433Z","closed_at":"2022-12-15T23:13:59.539Z","closed_by":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"labels":["customer","devops::fulfillment","feature::consolidation","group::fulfillment platform","section::fulfillment","type::feature","workflow::in dev"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"}],"author":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"type":"ISSUE","assignee":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"user_notes_count":15,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5064","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":27,"completed_count":8},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5064","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5064/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5064/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5064","relative":"#5064","full":"gitlab-org/customers-gitlab-com#5064"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":9047,"epic":{"id":629649,"iid":9047,"title":"Transition Auto renewal workflow to use Orders API","url":"/groups/gitlab-org/-/epics/9047","group_id":9970,"human_readable_end_date":"Dec 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":117723503,"iid":5063,"project_id":2670515,"title":"[Testing] Preview subscription update workflow using Orders API","description":"### Problem\n\nThis issue is to track the verification process to enable the use of 'Orders API in Subscription Upgrade workflow'.\n\n**Associated FF:** [`use_orders_api_to_preview_amendment`](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4774)\n\n### Testing scenarios\n| Scenario | Steps | Expected result | Pass? (Staging environment) | Notes |\n|----------|-------|-----------------|-----------------------------|-------|\n| 1. Purchase additional seats | 1. Go to manage purchases \u003cbr\u003e 2. Choose an active subscription or create one \u003cbr\u003e 3. Click on Add more seats | Values match when ff is on and off | :white_check_mark: Verified. https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5063#note_1207670522. |  |\n| 2. CI minutes purchase from customers app |  1. Go to manage purchases \u003cbr\u003e 2. Choose an active subscription or create one \u003cbr\u003e 3. Click on Buy more CI minutes | Values match when ff is on and off |  :white_check_mark: Verified. https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5063#note_1207693427 |  |\n| ~CI minutes purchase from Gitlab app~ |  |  |  | N/A. Doesn't use amendments, fetches plans data via graphql. |\n| 3. Storage purchase from customers app | 1. Go to manage purchases \u003cbr\u003e 2. Choose an active subscription or create one \u003cbr\u003e 3. Click on Buy more storage | Values match when ff is on and off | :white_check_mark: Verified. https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5063#note_1207697540 |  |\n| ~Storage purchase from Gitlab app~ |  |  |  | N/A. Covered in preview graphql scenario|\n| 4. Renew without upgrade | 1. Go to manage purchases \u003cbr\u003e 2. Choose an active subscription thats up for renewal or create a subscription with activation date in the past via the API \u003cbr\u003e 3. Click on Renew | Values match when ff is on and off | :white_check_mark: Verified. https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5063#note_1208808134 |  |\n| 5. Renew with upgrade | 1. Go to manage purchases \u003cbr\u003e 2. Choose an active subscription thats up for renewal or create a subscription with activation date in the past via the API \u003cbr\u003e 3. Click on Renew \u003cbr\u003e 4. On renewal page change plan to Ultimate | Values match when ff is on and off | :white_check_mark: Verified. https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5063#note_1208810015 |  |\n| 6. Renew with purchase of true ups | 1. Go to manage purchases \u003cbr\u003e 2. Choose an active subscription thats up for renewal or create a subscription with activation date in the past via the API \u003cbr\u003e 3. Click on Renew \u003cbr\u003e 4. On renewal page add additional seats | Values match when ff is on and off | :white_check_mark: Verified. https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5063#note_1208813697 |  |\n| 7. Renew with purchase of true ups and upgrade | 1. Go to manage purchases \u003cbr\u003e 2. Choose an active subscription thats up for renewal or create a subscription with activation date in the past via the API \u003cbr\u003e 3. Click on Renew \u003cbr\u003e 4. On renewal page add additional seats and upgrade option | Values match when ff is on and off | :white_check_mark: Verified. https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5063#note_1208814642 |  |\n| 8. Change namespace to group with insufficient seats | 1. Go to manage purchases \u003cbr\u003e 2. Choose an active gitlab.com subscription \u003cbr\u003e 3. Click on Change namespace \u003cbr\u003e 4. In the change namespace screen choose a group that is using more seats than the current one | Values match when ff is on and off | :white_check_mark: Verified. https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5063#note_1208815854 |  |\n\n### Result\n\n### Next steps (if any)\n\n### How will we measure success?","state":"closed","created_at":"2022-10-28T06:43:11.320Z","updated_at":"2022-12-14T12:01:52.281Z","closed_at":"2022-12-14T12:01:52.159Z","closed_by":{"id":11217480,"username":"tvellishetty","name":"Tarun Vellishetty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11217480/avatar.png","web_url":"https://gitlab.com/tvellishetty"},"labels":["devops::fulfillment","feature::consolidation","group::fulfillment platform","section::fulfillment","type::feature","workflow::blocked"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":11217480,"username":"tvellishetty","name":"Tarun Vellishetty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11217480/avatar.png","web_url":"https://gitlab.com/tvellishetty"}],"author":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"type":"ISSUE","assignee":{"id":11217480,"username":"tvellishetty","name":"Tarun Vellishetty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11217480/avatar.png","web_url":"https://gitlab.com/tvellishetty"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5063","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5063","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5063/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5063/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5063","relative":"#5063","full":"gitlab-org/customers-gitlab-com#5063"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":9046,"epic":{"id":629648,"iid":9046,"title":"Transition Subscription Update workflow to use Orders API","url":"/groups/gitlab-org/-/epics/9046","group_id":9970,"human_readable_end_date":"Dec 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":117723497,"iid":5062,"project_id":2670515,"title":"[Testing] Update subscription workflow using Orders API","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n### Problem\n\nThis issue is to track the verification process to enable the use of 'Orders API in Subscription Update workflow'.\n\n**Associated FF:** [`use_orders_api_subscription_update_workflow` ](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4775)\n\n### Testing scenarios\n\n\u003c!-- Consult with `@gitlab-com/business-technology/enterprise-apps/zuora-architects` on the ~\"Enterprise Applications\" team if Zuora business logic is involved. --\u003e\n\n|Scenario|Steps|Pass? (Staging environment) with links|Expected result|Notes|\n|---|---|---|---|---|\n| Add seats | 1. Purchase a SaaS or self-managed subscription \u003cbr/\u003e 2. Access the subscription card in CDot \u003cbr/\u003e 3.  Select 'Add more seats' \u003cbr/\u003e 4. Enter billing and quantity details. Click submit | :white_check_mark: \u003cbr/\u003e \u003cbr/\u003e - [Zuora subscription](https://test.zuora.com/apps/Subscription.do?method=view\u0026id=8a8aa38684f77d5401850917c88f443b) \u003cbr/\u003e - [Zuora Order](https://test.zuora.com/orders#/view/O-00169074) \u003cbr/\u003e - [SalesForce Opportunity](https://gitlab--staging.sandbox.my.salesforce.com/00674000004nr5r) \u003cbr/\u003e - [SalesForce Quote object](https://gitlab--staging.sandbox.my.salesforce.com/a1j74000000LHW3) | 1. Verify the new quantity is updated in Zuora and CDot. \u003cbr/\u003e 2. Zuora Order with order action type: `UpdateProduct` \u003cbr/\u003e \u003cbr/\u003e **SalesForce verification:** \u003cbr/\u003e - Opportunity is created \u003cbr/\u003e - Quote objects: 1 QA, 1 QRP and 1 QRPC for type `UpdateProduct` ||\n|Buy CI minutes (from CDot) | 1. Purchase a SaaS or self-managed subscription \u003cbr/\u003e 2. Access the subscription card in CDot \u003cbr/\u003e 3.  Select 'Buy more CI minutes' \u003cbr/\u003e 4. Enter billing and quantity details. Click submit | :white_check_mark: \u003cbr/\u003e \u003cbr/\u003e - [Zuora subscription](https://test.zuora.com/apps/Subscription.do?method=view\u0026id=8a8aa2a5850b398901850ca9350f4d59) \u003cbr/\u003e - [Zuora Order](https://test.zuora.com/orders#/view/O-00169926) \u003cbr/\u003e - [SalesForce opportunity](https://gitlab--staging.sandbox.my.salesforce.com/00674000004nswd) \u003cbr/\u003e - [SalesForce quote object](https://gitlab--staging.sandbox.my.salesforce.com/a1j74000000LIGO?srPos=0\u0026srKp=a1j) | 1. Verify new version of subscription is created in Zuora with `AddProduct` type order action. \u003cbr/\u003e 2. Verify the CI minute product was purchased with appropriate quantity. Invoice was generated and payment was processed.  \u003cbr/\u003e \u003cbr/\u003e **SalesForce verification:** \u003cbr/\u003e - Opportunity is created \u003cbr/\u003e - Quote objects: 1 QA, 1 QRP and 1 QRPC for type `NewProduct` ||\n|Buy CI minutes (from gitlab.com)| 1. Create a group and project (within in it) in dot com. Upgrade to Premium or Ultimate subscription \u003cbr/\u003e 2. Navigate to `Usage Quotas` \u003cbr/\u003e 3. Select `Pipelines` and click `Buy additional minutes`. Enter billing and quantity details. Click submit | :white_check_mark: \u003cbr/\u003e \u003cbr/\u003e - [Zuora subscription](https://test.zuora.com/apps/Subscription.do?method=view\u0026id=8a8aa13f850b2c3301850df39aeb18ac) \u003cbr/\u003e - [Zuora Order](https://test.zuora.com/orders#/view/O-00170212) \u003cbr/\u003e - [SalesForce opportunity](https://gitlab--staging.sandbox.my.salesforce.com/00674000004o57L) \u003cbr/\u003e - [SalesForce quote object](https://gitlab--staging.sandbox.my.salesforce.com/a1j74000000LIUB?srPos=0\u0026srKp=a1j) |1. Verify new version of subscription is created in Zuora with `AddProduct` type order action. \u003cbr/\u003e 2. Verify the CI minute product was purchased with appropriate quantity. Invoice was generated and payment was processed.  \u003cbr/\u003e \u003cbr/\u003e **SalesForce verification:** \u003cbr/\u003e - Opportunity is created \u003cbr/\u003e - Quote objects: 1 QA, 1 QRP and 1 QRPC for type `NewProduct`||\n|Buy additional storage (from CDot)|1. Purchase a SaaS or self-managed subscription \u003cbr/\u003e 2. Access the subscription card in CDot \u003cbr/\u003e 3.  Select 'Buy more storage' \u003cbr/\u003e 4. Enter billing and quantity details. Click submit|:white_check_mark: \u003cbr/\u003e \u003cbr/\u003e - [Zuora subscription](https://test.zuora.com/apps/Subscription.do?method=view\u0026id=8a8aa021850b2c3b01850df913ad2f17) \u003cbr/\u003e - [Zuora Order](https://test.zuora.com/orders#/view/O-00170213) \u003cbr/\u003e - [SalesForce opportunity](https://gitlab--staging.sandbox.my.salesforce.com/00674000004o57Q) \u003cbr/\u003e - [SalesForce quote object](https://gitlab--staging.sandbox.my.salesforce.com/a1j74000000LIUG?srPos=0\u0026srKp=a1j) |1. Verify new version of subscription is created in Zuora with `AddProduct` type order action. \u003cbr/\u003e 2. Verify the additional storage was purchased with appropriate quantity in CDot and gitlab.com. Invoice was generated and payment was processed.  \u003cbr/\u003e \u003cbr/\u003e **SalesForce verification:** \u003cbr/\u003e - Opportunity is created \u003cbr/\u003e - Quote objects: 1 QA, 1 QRP and 1 QRPC for type `NewProduct`|---|\n|Buy additional storage (from gitlab.com)|1. Create a group and project (within in it) in dot com. Upgrade to Premium or Ultimate subscription \u003cbr/\u003e 2. Navigate to `Usage Quotas` \u003cbr/\u003e 3. Select `Storage` and click `Purchase more storage`. Enter billing and quantity details. Click submit|:white_check_mark: \u003cbr/\u003e \u003cbr/\u003e - [Zuora subscription](https://test.zuora.com/apps/Subscription.do?method=view\u0026id=8a8aa13f850b2c3301850dfdf8f906f3) \u003cbr/\u003e - [Zuora Order](https://test.zuora.com/orders#/view/O-00170214) \u003cbr/\u003e - [SalesForce opportunity](https://gitlab--staging.sandbox.my.salesforce.com/00674000004o57f) \u003cbr/\u003e - [SalesForce quote object](https://gitlab--staging.sandbox.my.salesforce.com/a1j74000000LIUL?srPos=0\u0026srKp=a1j)|1. Verify new version of subscription is created in Zuora with `AddProduct` type order action. \u003cbr/\u003e 2. Verify the additional storage was purchased with appropriate quantity in CDot and gitlab.com. Invoice was generated and payment was processed.  \u003cbr/\u003e \u003cbr/\u003e **SalesForce verification:** \u003cbr/\u003e - Opportunity is created \u003cbr/\u003e - Quote objects: 1 QA, 1 QRP and 1 QRPC for type `NewProduct`|---|\n|Renewal only|1. Create a group in dot com. Purchase Premium/Ultimate subscription with end date in the last 3 days ([example request](https://gitlab.com/gitlab-org/customers-gitlab-com/-/snippets/2469063) to create subscription via API) \u003cbr/\u003e 3. Access the subscription card in CDot \u003cbr/\u003e 4. Select 'Renew', enter quantity same as existing quantity. Fill in the billing details. Submit the form.|:white_check_mark: \u003cbr/\u003e \u003cbr/\u003e - [Zuora subscription](https://test.zuora.com/apps/Subscription.do?method=view\u0026id=8a8aa2a5850fd41b018511dcf9d7129a) \u003cbr/\u003e - [Zuora Order](https://test.zuora.com/orders#/view/O-00170813) \u003cbr/\u003e - [SalesForce opportunity](https://gitlab--staging.sandbox.my.salesforce.com/00674000004peJZ) \u003cbr/\u003e - [SalesForce quote object](https://gitlab--staging.sandbox.my.salesforce.com/a1j74000000LIaJ?srPos=0\u0026srKp=a1j) |1. Verify new version of subscription is created in Zuora with `RenewSubscription` order action type. \u003cbr/\u003e 2. Verify the subscription is renewed, quantity is reflected in Zuora, CDot and dot com. Invoice is generated and payment is posted. \u003cbr/\u003e \u003cbr/\u003e \u003cbr/\u003e **SalesForce verification:** \u003cbr/\u003e - Opportunity is created \u003cbr/\u003e - Quote objects: 1 QA, 1 QRP and 1 QRPC for type `RenewSubscription`|---|\n|Renewal + Update|1. Create a group in dot com. Purchase Premium/Ultimate subscription with end date in the last 3 days ([example request](https://gitlab.com/gitlab-org/customers-gitlab-com/-/snippets/2469063) to create subscription via API) \u003cbr/\u003e 3. Access the subscription card in CDot \u003cbr/\u003e 4. Select 'Renew', fill in the billing and quantity details and submit. | :white_check_mark: \u003cbr/\u003e \u003cbr/\u003e - [Zuora subscription](https://test.zuora.com/apps/Subscription.do?method=view\u0026id=8a8aa2a5850fd41b018511b1563d3547) \u003cbr/\u003e - [Zuora Order](https://test.zuora.com/orders#/view/O-00170686) \u003cbr/\u003e - [SalesForce opportunity](https://gitlab--staging.sandbox.my.salesforce.com/00674000004peCO) \u003cbr/\u003e - [SalesForce quote object](https://gitlab--staging.sandbox.my.salesforce.com/a1j74000000LIUa?srPos=0\u0026srKp=a1j) | 1. Verify new version of subscription is created in Zuora with `UpdateProduct` and `RenewSubscription` order action type. \u003cbr/\u003e 2. Verify the subscription is renewed, quantity is updated in Zuora, CDot and dot com. Invoice is generated and payment is posted. \u003cbr/\u003e \u003cbr/\u003e \u003cbr/\u003e **SalesForce verification:** \u003cbr/\u003e - Opportunity is created \u003cbr/\u003e - Quote objects: 1 QA, 1 QRP and 1 QRPC for type `UpdateProduct` and `RenewSubscription` |\n|Renewal + Upgrade|1. Create a group in dot com. Purchase Premium subscription with end date in the last 3 days ([example request](https://gitlab.com/gitlab-org/customers-gitlab-com/-/snippets/2469063) to create subscription via API) \u003cbr/\u003e 3. Access the subscription card in CDot \u003cbr/\u003e 4. Select 'Renew', select 'Ultimate' plan and fill in the billing, quantity details. Submit form. | :white_check_mark: \u003cbr/\u003e \u003cbr/\u003e - [Zuora subscription](https://test.zuora.com/apps/Subscription.do?method=view\u0026id=8a8aa01c850fc2c1018512013ef90232) \u003cbr/\u003e - [Zuora Order](https://test.zuora.com/orders#/view/O-00170893) \u003cbr/\u003e - [SalesForce opportunity](https://gitlab--staging.sandbox.my.salesforce.com/00674000004peXv) \u003cbr/\u003e - [SalesForce quote object](https://gitlab--staging.sandbox.my.salesforce.com/a1j74000000LIeG?srPos=0\u0026srKp=a1j) |1. Verify new version of subscription is created in Zuora with `RemoveProduct`, `AddProduct` and `RenewSubscription` order action type. \u003cbr/\u003e 2. Verify the subscription is renewed, upgraded and quantity is updated in Zuora, CDot, dot com. Invoice is generated and payment is posted. \u003cbr/\u003e \u003cbr/\u003e \u003cbr/\u003e **SalesForce verification:** \u003cbr/\u003e - Opportunity is created \u003cbr/\u003e - Quote objects: 1 QA, 1 QRP and 1 QRPC for type `AddProduct` and `RenewSubscription` \u003cbr/\u003e 1 QA, 1 QRP for `RemoveProduct`. No QRPC for `RemoveProduct`|---|\n|Renewal + Upgrade + trueups|1. Purchase Premium self managed subscription with end date in the last 3 days ([example request](https://gitlab.com/gitlab-org/customers-gitlab-com/-/snippets/2469063) to create subscription via API) \u003cbr/\u003e 3. Access the subscription card in CDot \u003cbr/\u003e 4. Select 'Renew', select 'Ultimate' plan and fill in the billing, quantity details and true up quantity. Submit form.|:white_check_mark: \u003cbr/\u003e \u003cbr/\u003e - [Zuora subscription](https://test.zuora.com/apps/Subscription.do?method=view\u0026id=8a8aa2a5850fd41b018512b7b7cf1c65) \u003cbr/\u003e - [Zuora Order](https://test.zuora.com/orders#/view/O-00170968) \u003cbr/\u003e - [SalesForce opportunity](https://gitlab--staging.sandbox.my.salesforce.com/00674000004q1MA) \u003cbr/\u003e - [SalesForce quote object](https://gitlab--staging.sandbox.my.salesforce.com/a1j74000000LIhy?srPos=0\u0026srKp=a1j) |1. Verify new version of subscription is created in Zuora with `AddProduct` (for true up plan), `RemoveProduct`, `AddProduct` (for Ultimate subscription), `RenewSubscription` order action type. \u003cbr/\u003e 2. Verify the subscription is renewed, upgraded and quantity is updated in Zuora, CDot. Invoice is generated and payment is processed for both true up and Ultimate purchase. \u003cbr/\u003e \u003cbr/\u003e \u003cbr/\u003e **SalesForce verification:** \u003cbr/\u003e - Opportunity is created \u003cbr/\u003e - Quote objects: 1 QA, 1 QRP and 1 QRPC for type two `AddProduct` and `RenewSubscription` \u003cbr/\u003e 1 QA, 1 QRP for `RemoveProduct`. No QRPC for `RemoveProduct`|---|\n|Renewal + Upgrade + trueups an EoA subscription|1. Purchase Starter self managed subscription with end date in the last 3 days ([example request](https://gitlab.com/gitlab-org/customers-gitlab-com/-/snippets/2469063) to create subscription via API) \u003cbr/\u003e 3. Access the subscription card in CDot \u003cbr/\u003e 4. Select 'Renew', select 'Premium' plan and fill in the billing, quantity details (less than 25) and true up quantity. Submit form.|:white_check_mark: \u003cbr/\u003e \u003cbr/\u003e - [Zuora subscription](https://test.zuora.com/apps/Subscription.do?method=view\u0026id=8a8aa01c850fc2c10185131b26c15004) \u003cbr/\u003e - [Zuora Order](https://test.zuora.com/orders#/view/O-00170980) \u003cbr/\u003e - [SalesForce opportunity](https://gitlab--staging.sandbox.my.salesforce.com/00674000004q1Px) \u003cbr/\u003e - [SalesForce quote object](https://gitlab--staging.sandbox.my.salesforce.com/a1j74000000LIiX?srPos=0\u0026srKp=a1j)|1. Verify new version of subscription is created in Zuora with `AddProduct` (for true up plan), `RemoveProduct`, `AddProduct` (for Premium subscription), `RenewSubscription` order action type. \u003cbr/\u003e 2. Verify the new seats are purchased at discounted price of $ `108` per user. \u003cbr/\u003e 3. Verify the subscription is renewed, upgraded and quantity is updated in Zuora, CDot. Invoice is generated and payment is processed for both true up and Premium purchase. \u003cbr/\u003e \u003cbr/\u003e \u003cbr/\u003e **SalesForce verification:** \u003cbr/\u003e - Opportunity is created \u003cbr/\u003e - Quote objects: 1 QA, 1 QRP and 1 QRPC for type two `AddProduct` and `RenewSubscription` \u003cbr/\u003e 1 QA, 1 QRP for `RemoveProduct`. No QRPC for `RemoveProduct`|---|\n\n### Result\n\n### Next steps (if any)\n\n### How will we measure success?","state":"closed","created_at":"2022-10-28T06:43:01.786Z","updated_at":"2022-12-15T01:02:58.887Z","closed_at":"2022-12-15T01:02:58.829Z","closed_by":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"labels":["devops::fulfillment","feature::consolidation","group::fulfillment platform","missed:15.6","section::fulfillment","type::feature"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"}],"author":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"type":"ISSUE","assignee":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5062","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5062","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5062/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5062/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5062","relative":"#5062","full":"gitlab-org/customers-gitlab-com#5062"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":9046,"epic":{"id":629648,"iid":9046,"title":"Transition Subscription Update workflow to use Orders API","url":"/groups/gitlab-org/-/epics/9046","group_id":9970,"human_readable_end_date":"Dec 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":117713861,"iid":5060,"project_id":2670515,"title":"[Feature flag] Persist Billing Account related data","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n# Summary\n\nWe are introducing logic that will populate `BillingAccount` and `BillingAccountMembership` as part of https://gitlab.com/groups/gitlab-org/-/epics/8950+ given we are going to iteratively add small bits we want to make sure we update at least all the places listed in https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4795+ before start collecting the data in production.\n\nThis issue is to rollout the persistence of the data related to `BillingAccount` and `BillingAccountMembership` currently behind the [`account_data_persistence`](https://gitlab.com/gitlab-org/customers-gitlab-com/-/feature_flags/171/edit) feature flag.\n\n## Owners\n\n- Team: ~\"group::fulfillment platform\" \n- Most appropriate Slack channel to reach out to: `#g_fulfillment_platform`\n- Best individual to reach out to: @tyleramos or @vshumilo \n- PM: @mgass1 \n\n## Stakeholders\n\nNo other stakeholders.\n\n## The Rollout Plan\n\nRollout Feature for everyone as soon as it's ready\n\n## Expectations\n\n### What are we expecting to happen?\n\nCustomer's associated billing account is kept up to date with `customer.zuora_account_id`.\n\n### What might happen if this goes wrong?\n\n- Disruptive exceptions in the code.\n\n### What can we monitor to detect problems with this?\n\n- Keep an eye on [Sentry](https://sentry.gitlab.net/gitlab/customersgitlabcom/#).\n- Check `#s_fulfillment_status` for errors.\n\n## Rollout Steps\n\n### Rollout on non-production environments\n\n- [x] Ensure that the feature MRs have been deployed to non-production environments, i.e. `customers-staging`.\n- [x] Consider announcing that the flag will be enabled to potentially impacted groups, e.g. `#s_fulfillment_engineering`\n- [x] Enable the feature globally on non-production environments by applying the appropriate environment, e.g. `customers-staging` and `customers-development`.\n- [x] Notify the Software Engineers in Test (SETs) for Fulfillment via Slack and in a comment in this issue when enabling a feature flag in `customers-staging` as it can impact the QA pipeline.\n- [x] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n\n### Preparation before production rollout\n\n- [x] Ensure that the feature MRs have been deployed to production\n- [x] Check if the feature flag change needs to be accompanied with a\n  [change management issue](https://about.gitlab.com/handbook/engineering/infrastructure/change-management/#feature-flags-and-the-change-management-process) - **Lena: Based on the criteria there is no need for change management issue\n  Cross link the issue here if it does.**\n- [x] Ensure that you or a representative in Fulfillment can be available for at least 2 hours after feature flag updates in production.\n  If a different developer will be covering, or an exception is needed, please inform the Fulfillment team in #s_fulfillment_engineering\n- [x] Ensure any documentation has been updated\n- [x] Announce on [the feature issue](ISSUE LINK) an estimated time this will be enabled on production if applicable\n- [x] If the feature might impact the user experience, notify `#s_fulfillment` and potentially `#support_gitlab-com`, as well as your team channel ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#communicate-the-change)).\n\n### Global rollout on CustomersDot production\n\n- [x] Confirm the feature flag is enabled on `staging` without incident\n- [x] Roll out the feature to targeted testing users first (if applicable)\n- [x] If applicable, [incrementally roll out](https://docs.gitlab.com/ee/operations/feature_flags.html#percent-rollout) the feature.\n- [x] Verify the change has the desired outcome with the limited rollout before enabling the feature globally on production.\n- [x] Enable the feature globally on production environment\n- [x] Announce on [the feature issue](ISSUE LINK) that the feature has been globally enabled.\n- [x] Wait for [at least one day for the verification term](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release).\n\n### Release the feature\n\nAfter the feature has been [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release),\nthe clean up should be done as soon as possible to permanently enable the feature and reduce complexity in the codebase.\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [x] Create a merge request to remove `\u003cfeature-flag-name\u003e` feature flag\n  - [x] Remove all references to the feature flag from the codebase\n- [x] Ensure that the cleanup MR has been deployed to both staging and production\n- [x] Disable the feature flag via the [CustomersDot dashboard](https://gitlab.com/gitlab-org/customers-gitlab-com/-/feature_flags)\n- [x] Ensure production environment is still working as expected\n- [x] Remove the Unleash feature flag from the [CustomersDot dashboard](https://gitlab.com/gitlab-org/customers-gitlab-com/-/feature_flags)\n- [x] Close this rollout issue.\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by performing the following actions:\n  - [ ] Disable the Unleash flag on the [feature flag page](LINK TO THE FEATURE FLAG EDIT PAGE)","state":"closed","created_at":"2022-10-28T00:14:08.222Z","updated_at":"2022-12-16T15:31:45.772Z","closed_at":"2022-12-16T15:31:45.742Z","closed_by":{"id":5667561,"username":"vshumilo","name":"Vladlena Shumilo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08dfa82785d130c151ab9e21caeab4e3?s=80\u0026d=identicon","web_url":"https://gitlab.com/vshumilo"},"labels":["devops::fulfillment","feature flag","feature::addition","group::fulfillment platform","section::fulfillment","type::feature","workflow::verification"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":5667561,"username":"vshumilo","name":"Vladlena Shumilo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08dfa82785d130c151ab9e21caeab4e3?s=80\u0026d=identicon","web_url":"https://gitlab.com/vshumilo"}],"author":{"id":5667561,"username":"vshumilo","name":"Vladlena Shumilo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08dfa82785d130c151ab9e21caeab4e3?s=80\u0026d=identicon","web_url":"https://gitlab.com/vshumilo"},"type":"ISSUE","assignee":{"id":5667561,"username":"vshumilo","name":"Vladlena Shumilo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08dfa82785d130c151ab9e21caeab4e3?s=80\u0026d=identicon","web_url":"https://gitlab.com/vshumilo"},"user_notes_count":16,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5060","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":27,"completed_count":25},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5060","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5060/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5060/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5060","relative":"#5060","full":"gitlab-org/customers-gitlab-com#5060"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8950,"epic":{"id":621714,"iid":8950,"title":"Iteration 1A: Align CustomersDot BillingAccounts and Users to Zuora objects","url":"/groups/gitlab-org/-/epics/8950","group_id":9970,"human_readable_end_date":"Mar 17, 2023","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":117707761,"iid":5058,"project_id":2670515,"title":"Create SaaS Subscription Update specific mailer","description":"## Problem\nToday, SaaS customers do not receive an email when they update their subscription (i.e. add seats). This is not a great customer experience, because they have no confirmation that the purchase went through.\n\n\n## Proposal\nSimilar to what was done in https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4543 for Cloud Licensing SM customers, setup a new mailer for subscription updates (e.g. new seats, upgrade plan, etc.) for SaaS customers that:\n1. Provides a confirmation to customers that their additional purchase was successful, in a way that makes it clear this was an update/add-on to an existing subscription\n1. Gives the customer an audit trail to follow in email\n\nhttps://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5057+ will implement a similar email for renewals.\n\nAdd the new mailer to the [mailers doc](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/main/doc/mailers/index.md).\n\n\n### Proposed Template\n\nNOTE: this will apply for additional seats, CI Minutes, Storage or an upgrade, so it needs to be somewhat vague.\n\n\u003cdetails\u003e\u003csummary\u003eCurrent email screenshot\u003c/summary\u003e\n![image](/uploads/a9a9658443afb73ac17acb2dc87215a5/image.png)\n\n\u003c/details\u003e\n\n```\n\nHi Courtney\nThanks for your GitLab purchase! We appreciate your loyalty as a GitLab customer!\n\nYour purchase will be automatically applied to the same namespace on the start date listed below. Here are the details of your subscription:\n\n1. `product name`\n2. `term start date`\n2. `term end date`\n3. `quantity`\n\nIf you require any assistance, contact GitLab support.\n\nThanks,\n\nThe GitLab Team\n\n```\n\nNote: keep the existing link to GitLab Support (https://about.gitlab.com/support/#contact-support) in the last line.\n\n### Technical Requirements\n\n1. Send these mailers for all subscription updates when:\n   1. Purchase is of a SaaS subscription\n1. Amendment Type is `NewProduct`, `UpdateProduct` or `UpdateSubscription`.\n1. Namespace info is present.\n   1. If the namespace info is missing the unlinked SaaS purchase email should be used instead.\n1. Update logic to send the correct mailer based on subscription type (Renewal, Amendment, New Subscription)\n1. Ensure the newer version of the template design is used, consistent with the current New Subscription SaaS purchase email\n1. Put the new mailer behind a feature flag ([`new_saas_mailers`](https://gitlab.com/gitlab-org/customers-gitlab-com/-/feature_flags/209/edit), same as used for https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5057+) until the voucher email is implemented.\n\n**Note:** https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/6086+ should be completed directly after this one.\n\n### Result\n1. Customer receives an email confirmation when a SaaS product update is completed that clearly outlines an add-on/upgrade occurred.\n\n### Availability \u0026 Testing\n\n\u003c!-- This section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\nWhat risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning --\u003e\n\nAdding a mailer, should be accompanied by several tests.\n\n- Mailer Specs\n  - Mailer Subject\n  - Mailer To/From (multiple To's? If so, which is first?)\n  - Mailer Body?\n- When is this Mailer activated?  Only during update? During creation?","state":"closed","created_at":"2022-10-27T20:15:10.704Z","updated_at":"2023-05-03T15:59:15.370Z","closed_at":"2023-05-03T15:59:15.347Z","closed_by":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"labels":["Category:SaaS Provisioning","Technical Writing","UX","backend","devops::fulfillment","documentation","emails","feature flag","feature::addition","frontend","group::provision","missed:15.8","priority::3","quad-planning::complete-action","section::fulfillment","type::feature","workflow::complete"],"milestone":{"id":2633524,"iid":80,"group_id":9970,"title":"16.0","description":"","state":"active","created_at":"2022-05-30T16:25:25.778Z","updated_at":"2022-05-30T16:25:25.778Z","due_date":"2023-05-17","start_date":"2023-04-18","expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/80"},"assignees":[{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"}],"author":{"id":7964536,"username":"courtmeddaugh","name":"Courtney Meddaugh","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7964536/avatar.png","web_url":"https://gitlab.com/courtmeddaugh"},"type":"ISSUE","assignee":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"user_notes_count":15,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5058","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":1,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5058","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5058/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5058/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5058","relative":"#5058","full":"gitlab-org/customers-gitlab-com#5058"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":9117,"epic":{"id":638939,"iid":9117,"title":"Improve SaaS customer mailers","url":"/groups/gitlab-org/-/epics/9117","group_id":9970,"human_readable_end_date":"May 31, 2023","human_readable_timestamp":"\u003cstrong\u003e25\u003c/strong\u003e days remaining"},"iteration":null,"health_status":"on_track"},{"id":117707740,"iid":5057,"project_id":2670515,"title":"Create SaaS renewal specific mailer","description":"## Problem\nToday, SaaS customers receive the same new purchase email no matter if they are purchasing a new subscription, renewing an existing, or simply adding a few seats. This is not a great customer experience, especially given how \"new purchase\" oriented the current email is.\n\n\n## Proposal\nSimilar to what was done in https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4542 for Cloud Licensing SM customers, setup a new mailer for renewing SaaS customers that:\n1. Provides a confirmation to customers that their subscription renewal was successful, in a way that makes it clear this was a renewal and not a new subscription purchase\n1. Gives the customer an audit trail to follow in email\n\nhttps://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5058+ will implement a similar email for subscription updates.\n\nAdd the new mailer to the [mailers doc](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/main/doc/mailers/index.md).\n\n### Proposed Template\n\n\u003cdetails\u003e\u003csummary\u003eCurrent email screenshot\u003c/summary\u003e\n![image](/uploads/a9a9658443afb73ac17acb2dc87215a5/image.png)\n\n\u003c/details\u003e\n\n```\n\nHi Courtney\nThanks for renewing your GitLab SaaS subscription! We appreciate your loyalty as a GitLab customer!\n\nYour purchase will be automatically applied to the same namespace on the start date listed below. Here are the details of your subscription:\n\n1. `product name`\n2. `term start date`\n2. `term end date`\n3. `quantity`\n\nIf you require any assistance, contact GitLab support.\n\n\nThanks,\n\nThe GitLab Team\n\n```\n\nNote: keep the existing link to GitLab Support (https://about.gitlab.com/support/#contact-support) in the last line.\n\n### Technical Requirements\n1. Send these mailers for all subscription updates when:\n   1. Purchase is of a SaaS subscription\n1. Order Type = `Renewal`\n1. Namespace info is present.\n   1. If the namespace info is missing the new subscription mail should be used instead.\n   1. Remove the reference to \"new subscription\" in the email subject and body.\n1. Update logic to send the correct mailer based on subscription type (Renewal, Amendment, New Subscription)\n1. Ensure the newer version of the template design is used, consistent with the current New Subscription SaaS purchase email\n1. Put the new mailer behind a feature flag ([`new_saas_mailers`](https://gitlab.com/gitlab-org/customers-gitlab-com/-/feature_flags/209/edit)) until the voucher email is implemented.\n\n**Note:** https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/6085+ should be completed directly after this one.\n\n### Result\n1. Customer and revenue receive an email confirmation when a SaaS renewal is completed that clearly outlines a renewal occurred.\n\n\n### Availability \u0026 Testing\n\n\u003c!-- This section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\nWhat risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning --\u003e\n\nAdding a mailer, should be accompanied by several tests.\n\n- Mailer Specs\n  - Mailer Subject\n  - Mailer To/From (multiple To's? If so, which is first?)\n  - Mailer Body?\n- When is this Mailer activated?  Only during renewal?","state":"closed","created_at":"2022-10-27T20:14:44.500Z","updated_at":"2023-05-03T11:15:07.999Z","closed_at":"2023-05-03T11:15:07.975Z","closed_by":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"labels":["Category:SaaS Provisioning","Technical Writing","UX","backend","devops::fulfillment","documentation","emails","feature flag","feature::addition","frontend","group::provision","missed:15.8","priority::3","quad-planning::complete-action","section::fulfillment","type::feature","workflow::complete"],"milestone":{"id":2633524,"iid":80,"group_id":9970,"title":"16.0","description":"","state":"active","created_at":"2022-05-30T16:25:25.778Z","updated_at":"2022-05-30T16:25:25.778Z","due_date":"2023-05-17","start_date":"2023-04-18","expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/80"},"assignees":[{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"}],"author":{"id":7964536,"username":"courtmeddaugh","name":"Courtney Meddaugh","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7964536/avatar.png","web_url":"https://gitlab.com/courtmeddaugh"},"type":"ISSUE","assignee":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"user_notes_count":31,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5057","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":1,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5057","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5057/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5057/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5057","relative":"#5057","full":"gitlab-org/customers-gitlab-com#5057"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":9117,"epic":{"id":638939,"iid":9117,"title":"Improve SaaS customer mailers","url":"/groups/gitlab-org/-/epics/9117","group_id":9970,"human_readable_end_date":"May 31, 2023","human_readable_timestamp":"\u003cstrong\u003e25\u003c/strong\u003e days remaining"},"iteration":null,"health_status":"on_track"},{"id":117686598,"iid":5053,"project_id":2670515,"title":"[Testing] Preview subscription upgrade workflow using Orders API","description":"### Problem\n\nThis issue is to track the verification process to enable the use of 'Orders API in Preview Subscription Upgrade workflow'.\n\n**Associated FF:** [`use_orders_api_to_preview_upgrade `](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5051)\n\n### Testing scenarios\n| Scenario | Steps | Expected result | Pass? (Staging environment) | Notes |\n|----------|-------|-----------------|-----------------------------|-------|\n| Upgrade Saas | 1. Create anew SaaS subscription or find an existing active subscription in customerDot \u003cbr\u003e 2. Click on `Upgrade plan` \u003cbr\u003e 3. Verify details | details match when ff is both enabled and disabled | yes |  |\n| Upgrade SM | 1. Create anew SM subscription or find an existing active subscription in customerDot \u003cbr\u003e 2. Click on `Upgrade plan` \u003cbr\u003e 3. Verify details | details match when ff is both enabled and disabled | yes |  |\n\n### Result\n\n### Next steps (if any)\n\n### How will we measure success?","state":"closed","created_at":"2022-10-27T13:06:20.013Z","updated_at":"2022-11-24T08:07:01.272Z","closed_at":"2022-11-21T15:59:57.824Z","closed_by":{"id":11217480,"username":"tvellishetty","name":"Tarun Vellishetty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11217480/avatar.png","web_url":"https://gitlab.com/tvellishetty"},"labels":["devops::fulfillment","feature::consolidation","group::fulfillment platform","section::fulfillment","type::feature"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":11217480,"username":"tvellishetty","name":"Tarun Vellishetty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11217480/avatar.png","web_url":"https://gitlab.com/tvellishetty"}],"author":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"type":"ISSUE","assignee":{"id":11217480,"username":"tvellishetty","name":"Tarun Vellishetty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11217480/avatar.png","web_url":"https://gitlab.com/tvellishetty"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5053","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5053","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5053/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5053/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5053","relative":"#5053","full":"gitlab-org/customers-gitlab-com#5053"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":9045,"epic":{"id":629636,"iid":9045,"title":"Transition Subscription Upgrade workflow to use Orders API","url":"/groups/gitlab-org/-/epics/9045","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":117686338,"iid":5052,"project_id":2670515,"title":"[Testing] Upgrade subscription workflow using Orders API","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n### Problem\n\nThis issue is to track the verification process to enable the use of 'Orders API in Subscription Upgrade workflow'.\n\n**Associated FF:** [`use_orders_api_upgrade_workflow` ](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5050)\n\n### Testing scenarios\n\n\u003c!-- Consult with `@gitlab-com/business-technology/enterprise-apps/zuora-architects` on the ~\"Enterprise Applications\" team if Zuora business logic is involved. --\u003e\n\n|Scenario|Steps|Expected result|Pass? (Staging environment)|Notes|\n|---|---|---|---|---|\n| SaaS - Upgrade Subscription from Premium to Ultimate from gitlab.com | 1. Create a group in gitlab.com \u003cbr/\u003e 2. Purchase Premium subscription for the group \u003cbr/\u003e 3. Navigate to the billing page of the group, and upgrade it to Ultimate. | Verify subscription is upgraded, SalesForce opportunity and objects created as expected | :white_check_mark: \u003cbr/\u003e [Verification walkthrough](https://drive.google.com/file/d/13tkqZjfsUCFo98G0XUUlBEYLbvSTXrXe/view?usp=share_link) \u003cbr/\u003e \u003cbr/\u003e [Zuora subscription](https://test.zuora.com/apps/Subscription.do?method=view\u0026id=8a8aa1b48461fe190184665b96f07eda) |  |\n| Self Managed - Upgrade Subscription from Premium to Ultimate from gitlab.com | 1. Purchase Premium Self managed subscription in CustomersDot \u003cbr/\u003e 3. Navigate to the subscription card, and upgrade it to Ultimate. | Verify subscription is upgraded, SalesForce opportunity and objects created as expected | :white_check_mark: \u003cbr/\u003e [Verification walkthrough](https://drive.google.com/file/d/16pHEwfIxWBqkNfctEVpnuxYBKq0D1wTY/view?usp=share_link) \u003cbr/\u003e \u003cbr/\u003e [Zuora subscription](https://test.zuora.com/apps/Subscription.do?method=view\u0026id=8a8aa13f8475790b018475c45c9a0834) |  |\n| EoA Upgrade Subscription from Starter to Ultimate from gitlab.com (**seat limit not exceeded**) | 1. Purchase starter plan with seat limit less than 25 \u003cbr/\u003e 2. Sign in to CustomersDor \u003cbr/\u003e 3. Select subscription card, upgrade it to Premium. Verify discounted price shows up. | Verify subscription is upgraded with appropriate discount applied | :white_check_mark: \u003cbr/\u003e [Verification walkthrough](https://drive.google.com/file/d/14aqBO6JWf4rCrSjZskvHCe6h4Bj6LAlw/view?usp=share_link) \u003cbr/\u003e \u003cbr/\u003e [Zuora subscription](https://test.zuora.com/apps/Subscription.do?method=view\u0026id=8a8aa06b8475791c018476009a5f123d) |  |\n| EoA Upgrade Subscription from Starter to Ultimate from gitlab.com (**seat limit exceeded**) | 1. Purchase starter plan with seat limit greater than 25 \u003cbr/\u003e 2. Sign in to CustomersDor \u003cbr/\u003e 3. Select subscription card, upgrade it to Ultimate. | Verify subscription is upgraded with **no** discount applied | :white_check_mark: \u003cbr/\u003e \u003cbr/\u003e [Verification walkthrough](https://drive.google.com/file/d/1z62e5J7hF8YuhIKE1LFY1mssaUfaIziy/view?usp=share_link) \u003cbr/\u003e \u003cbr/\u003e [Zuora subscription](https://test.zuora.com/apps/Subscription.do?method=view\u0026id=8a8aa1e08475790b018475eedf720d8b) |  |\n|SalesForce attribute verification| Upgrade subscription using any one of the above scenarios | - Creates `QuoteAmendment` for `RemoveProduct`, `AddProduct` \u003cbr/\u003e -  Creates `QuoteRatePlan` for `RemoveProduct`, `AddProduct` \u003cbr/\u003e - Creates `QuoteRatePlanCharge` for `AddProduct` \u003cbr/\u003e \u003cbr/\u003e [Comparison sheet](https://docs.google.com/spreadsheets/d/1ltJBcLwOau3-95CuHCwlXiZP200XkCqdeKtdpoYNUBI/edit#gid=0) | :white_check_mark: [SalesForce Quote](https://gitlab--staging.sandbox.my.salesforce.com/a1d740000011D5p) |\n\n\n\n### Result\n\n### Next steps (if any)\n\n### How will we measure success?","state":"closed","created_at":"2022-10-27T13:01:56.234Z","updated_at":"2022-12-07T17:11:45.355Z","closed_at":"2022-12-07T17:11:45.328Z","closed_by":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"labels":["devops::fulfillment","feature::consolidation","group::fulfillment platform","missed:15.6","section::fulfillment","type::feature","workflow::production"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"}],"author":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"type":"ISSUE","assignee":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5052","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5052","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5052/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5052/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5052","relative":"#5052","full":"gitlab-org/customers-gitlab-com#5052"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":9045,"epic":{"id":629636,"iid":9045,"title":"Transition Subscription Upgrade workflow to use Orders API","url":"/groups/gitlab-org/-/epics/9045","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":117685296,"iid":5051,"project_id":2670515,"title":"[Feature Flag] Enable use_orders_api_to_preview_upgrade - Preview Subscription Upgrade","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n# Summary\n\n\u003c!-- Short description of what the feature is about and link to relevant other issues. --\u003e\n\nThis issue is to rollout [Use of Orders API when previewing subscription Upgrade workflow](https://gitlab.com/groups/gitlab-org/-/epics/9045) on CustomersDot production,\nthat is currently behind the [`use_orders_api_to_preview_upgrade`](https://gitlab.com/gitlab-org/customers-gitlab-com/-/feature_flags/172/edit) feature flag.\n\n## Owners\n\n- Team: Fulfillment Platform\n- Most appropriate Slack channel to reach out to: `#g_fulfillment_platform`\n- Best individual to reach out to: @tvellishetty\n- PM: GITLAB_HANDLE\n\n## Stakeholders\n\n\u003c!--\nAre there any other stages or teams involved that need to be kept in the loop?\n\n- GITLAB_HANDLE of a PM\n- The Support Team\n- The Delivery Team\n--\u003e\n\n## The Rollout Plan\n\n- Partial Rollout with specific Customers on CustomersDot, [via Unleash](https://docs.gitlab.com/ee/operations/feature_flags.html#user-ids)\n- Rollout on CustomersDot for a certain period (How long)\n- Percentage Rollout on CustomersDot\n- Rollout Feature for everyone as soon as it's ready\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? Sentry errors reports can also be useful to review --\u003e\n\n## Testing User/Customer IDs\n\n\u003c!--\nList any Customer IDs for Customers that are happy to have this feature turned on early.\n\nRemove if not applicable\n--\u003e\n\n## Expectations\n\n### What are we expecting to happen?\n\n\u003c!-- Describe the expected outcome when rolling out this feature --\u003e\n\n### What might happen if this goes wrong?\n\n\u003c!-- Should the feature flag be turned off? Any MRs that need to be rolled back? Communication that needs to happen? What are some things you can think of that could go wrong - data loss or broken pages? --\u003e\n\n### What can we monitor to detect problems with this?\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? --\u003e\n\n## Rollout Steps\n\n### Rollout on non-production environments\n\n- [x] Ensure that the feature MRs have been deployed to non-production environments, i.e. `customers-staging`.\n- [ ] Consider announcing that the flag will be enabled to potentially impacted groups, e.g. `#s_fulfillment_engineering`\n- [x] Enable the feature globally on non-production environments by applying the appropriate environment, e.g. `customers-staging` and `customers-development`.\n- [x] Notify the Software Engineers in Test (SETs) for Fulfillment via Slack and in a comment in this issue when enabling a feature flag in `customers-staging` as it can impact the QA pipeline.\n- [ ] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n\n### Preparation before production rollout\n\n- [x] Ensure that the feature MRs have been deployed to production\n- [ ] Check if the feature flag change needs to be accompanied with a\n  [change management issue](https://about.gitlab.com/handbook/engineering/infrastructure/change-management/#feature-flags-and-the-change-management-process).\n  Cross link the issue here if it does.\n- [x] Ensure that you or a representative in Fulfillment can be available for at least 2 hours after feature flag updates in production.\n  If a different developer will be covering, or an exception is needed, please inform the Fulfillment team in #s_fulfillment_engineering\n- [ ] Ensure any documentation has been updated\n- [x] Announce on [the feature issue](ISSUE LINK) an estimated time this will be enabled on production if applicable\n- [ ] If the feature might impact the user experience, notify `#s_fulfillment` and potentially `#support_gitlab-com`, as well as your team channel ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#communicate-the-change)).\n\n### Global rollout on CustomersDot production\n\n- [x] Confirm the feature flag is enabled on `staging` without incident\n- [ ] Roll out the feature to targeted testing users first (if applicable)\n- [ ] If applicable, [incrementally roll out](https://docs.gitlab.com/ee/operations/feature_flags.html#percent-rollout) the feature.\n- [ ] Verify the change has the desired outcome with the limited rollout before enabling the feature globally on production.\n- [x] Enable the feature globally on production environment\n- [x] Announce on [the feature issue](ISSUE LINK) that the feature has been globally enabled.\n- [ ] Wait for [at least one day for the verification term](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release).\n\n### Release the feature\n\nAfter the feature has been [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release),\nthe clean up should be done as soon as possible to permanently enable the feature and reduce complexity in the codebase.\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [ ] Create a merge request to remove `\u003cfeature-flag-name\u003e` feature flag\n  - [ ] Remove all references to the feature flag from the codebase\n- [ ] Ensure that the cleanup MR has been deployed to both staging and production\n- [ ] Disable the feature flag via the [CustomersDot dashboard](https://gitlab.com/gitlab-org/customers-gitlab-com/-/feature_flags)\n- [ ] Ensure production environment is still working as expected\n- [ ] Remove the Unleash feature flag from the [CustomersDot dashboard](https://gitlab.com/gitlab-org/customers-gitlab-com/-/feature_flags)\n- [ ] Close this rollout issue.\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by performing the following actions:\n  - [ ] Disable the Unleash flag on the [feature flag page](LINK TO THE FEATURE FLAG EDIT PAGE)","state":"closed","created_at":"2022-10-27T12:46:52.579Z","updated_at":"2022-12-15T23:30:29.148Z","closed_at":"2022-12-15T23:30:29.125Z","closed_by":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"labels":["devops::fulfillment","feature flag","feature::consolidation","group::fulfillment platform","section::fulfillment","type::feature"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":11217480,"username":"tvellishetty","name":"Tarun Vellishetty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11217480/avatar.png","web_url":"https://gitlab.com/tvellishetty"}],"author":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"type":"ISSUE","assignee":{"id":11217480,"username":"tvellishetty","name":"Tarun Vellishetty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11217480/avatar.png","web_url":"https://gitlab.com/tvellishetty"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5051","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":27,"completed_count":9},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5051","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5051/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5051/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5051","relative":"#5051","full":"gitlab-org/customers-gitlab-com#5051"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":9045,"epic":{"id":629636,"iid":9045,"title":"Transition Subscription Upgrade workflow to use Orders API","url":"/groups/gitlab-org/-/epics/9045","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":117685281,"iid":5050,"project_id":2670515,"title":"[Feature flag] Enable use_orders_api_upgrade_workflow - Subscription Upgrade","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n# Summary\n\n\u003c!-- Short description of what the feature is about and link to relevant other issues. --\u003e\n\nThis issue is to rollout [Use of Orders API in Subscription Upgrade workflow](https://gitlab.com/groups/gitlab-org/-/epics/9045) on CustomersDot production,\nthat is currently behind the [`use_orders_api_upgrade_workflow `](https://gitlab.com/gitlab-org/customers-gitlab-com/-/feature_flags/162/edit) feature flag.\n\n## Owners\n\n- Team: Fulfillment Platform\n- Most appropriate Slack channel to reach out to: `#g_fulfillment_platform`\n- Best individual to reach out to: @aish.sub \n- PM: @tgolubeva, @mgass1 \n\n## Stakeholders\n\n\u003c!--\nAre there any other stages or teams involved that need to be kept in the loop?\n\n- GITLAB_HANDLE of a PM\n- The Support Team\n- The Delivery Team\n--\u003e\n\n## The Rollout Plan\n\n- Partial Rollout with specific Customers on CustomersDot, [via Unleash](https://docs.gitlab.com/ee/operations/feature_flags.html#user-ids)\n- Rollout on CustomersDot for a certain period (How long)\n- Percentage Rollout on CustomersDot\n- Rollout Feature for everyone as soon as it's ready\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? Sentry errors reports can also be useful to review --\u003e\n\n## Testing User/Customer IDs\n\n\u003c!--\nList any Customer IDs for Customers that are happy to have this feature turned on early.\n\nRemove if not applicable\n--\u003e\n\n## Expectations\n\n### What are we expecting to happen?\n\n\u003c!-- Describe the expected outcome when rolling out this feature --\u003e\n\n### What might happen if this goes wrong?\n\n\u003c!-- Should the feature flag be turned off? Any MRs that need to be rolled back? Communication that needs to happen? What are some things you can think of that could go wrong - data loss or broken pages? --\u003e\n\n### What can we monitor to detect problems with this?\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? --\u003e\n\n## Rollout Steps\n\n### Rollout on non-production environments\n\n- [x] Ensure that the feature MRs have been deployed to non-production environments, i.e. `customers-staging`.\n- [x] Consider announcing that the flag will be enabled to potentially impacted groups, e.g. `#s_fulfillment_engineering`\n- [x] Enable the feature globally on non-production environments by applying the appropriate environment, e.g. `customers-staging` and `customers-development`.\n- [x] Notify the Software Engineers in Test (SETs) for Fulfillment via Slack and in a comment in this issue when enabling a feature flag in `customers-staging` as it can impact the QA pipeline.\n- [x] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n\n### Preparation before production rollout\n\n- [x] Ensure that the feature MRs have been deployed to production\n- [ ] Check if the feature flag change needs to be accompanied with a\n  [change management issue](https://about.gitlab.com/handbook/engineering/infrastructure/change-management/#feature-flags-and-the-change-management-process).\n  Cross link the issue here if it does.\n- [x] Ensure that you or a representative in Fulfillment can be available for at least 2 hours after feature flag updates in production.\n  If a different developer will be covering, or an exception is needed, please inform the Fulfillment team in #s_fulfillment_engineering\n- [ ] Ensure any documentation has been updated\n- [ ] Announce on [the feature issue](ISSUE LINK) an estimated time this will be enabled on production if applicable\n- [x] If the feature might impact the user experience, notify `#s_fulfillment` and potentially `#support_gitlab-com`, as well as your team channel ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#communicate-the-change)).\n\n### Global rollout on CustomersDot production\n\n- [x] Confirm the feature flag is enabled on `staging` without incident\n- [ ] Roll out the feature to targeted testing users first (if applicable)\n- [x] If applicable, [incrementally roll out](https://docs.gitlab.com/ee/operations/feature_flags.html#percent-rollout) the feature.\n- [ ] Verify the change has the desired outcome with the limited rollout before enabling the feature globally on production.\n- [ ] Enable the feature globally on production environment\n- [ ] Announce on [the feature issue](ISSUE LINK) that the feature has been globally enabled.\n- [ ] Wait for [at least one day for the verification term](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release).\n\n### Release the feature\n\nAfter the feature has been [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release),\nthe clean up should be done as soon as possible to permanently enable the feature and reduce complexity in the codebase.\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [ ] Create a merge request to remove `\u003cfeature-flag-name\u003e` feature flag\n  - [ ] Remove all references to the feature flag from the codebase\n- [ ] Ensure that the cleanup MR has been deployed to both staging and production\n- [ ] Disable the feature flag via the [CustomersDot dashboard](https://gitlab.com/gitlab-org/customers-gitlab-com/-/feature_flags)\n- [ ] Ensure production environment is still working as expected\n- [ ] Remove the Unleash feature flag from the [CustomersDot dashboard](https://gitlab.com/gitlab-org/customers-gitlab-com/-/feature_flags)\n- [ ] Close this rollout issue.\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by performing the following actions:\n  - [ ] Disable the Unleash flag on the [feature flag page](LINK TO THE FEATURE FLAG EDIT PAGE)","state":"closed","created_at":"2022-10-27T12:46:36.376Z","updated_at":"2023-01-23T14:00:14.757Z","closed_at":"2022-12-15T22:39:29.029Z","closed_by":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"labels":["devops::fulfillment","feature flag","feature::consolidation","group::fulfillment platform","missed:15.6","section::fulfillment","type::feature"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"}],"author":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"type":"ISSUE","assignee":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5050","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":27,"completed_count":10},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5050","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5050/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5050/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5050","relative":"#5050","full":"gitlab-org/customers-gitlab-com#5050"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":9045,"epic":{"id":629636,"iid":9045,"title":"Transition Subscription Upgrade workflow to use Orders API","url":"/groups/gitlab-org/-/epics/9045","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":117672442,"iid":5049,"project_id":2670515,"title":"Switch to JSON formatting for Puma logs","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n### Problem\n\nPuma logs are unstructured, unlike those of Rails and Sidekiq. The benefits of structured logs goes without saying.\n\n### Proposal\n\nAdd a JSON formatter for Puma, GitLab has one already (implemented [here](https://gitlab.com/gitlab-org/gitlab/-/blob/38bf33e1ae652b3b752557ecb5da4ecd41d74a42/config/puma.rb.example#L81) and [here](https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/gitlab/puma_logging/json_formatter.rb)), so it should be very easy to make the switch.\n\n\u003c!-- Consult with `@gitlab-com/business-technology/enterprise-apps/zuora-architects` on the ~\"Enterprise Applications\" team if Zuora business logic is involved. --\u003e","state":"closed","created_at":"2022-10-27T09:09:48.712Z","updated_at":"2022-10-27T14:03:07.827Z","closed_at":"2022-10-27T13:52:41.035Z","closed_by":{"id":506061,"username":"ahmadsherif","name":"Ahmad Sherif","state":"active","avatar_url":"https://secure.gravatar.com/avatar/bd6d0ec4213b91601956c9f801cbfe9b?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahmadsherif"},"labels":["devops::fulfillment","feature::addition","group::fulfillment platform","section::fulfillment","type::feature","workflow::ready for development"],"milestone":null,"assignees":[],"author":{"id":506061,"username":"ahmadsherif","name":"Ahmad Sherif","state":"active","avatar_url":"https://secure.gravatar.com/avatar/bd6d0ec4213b91601956c9f801cbfe9b?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahmadsherif"},"type":"ISSUE","assignee":null,"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5049","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5049","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5049/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5049/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5049","relative":"#5049","full":"gitlab-org/customers-gitlab-com#5049"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":117652330,"iid":5042,"project_id":2670515,"title":"Fix GraphQL deprecation warnings","description":"### Problem\n\nWe are getting two GraphQL deprecation warnings:\n\n```\nLegacy `.graphql_definition` objects are deprecated and will be removed in GraphQL-Ruby 2.0. Use a class-based definition instead.\n```\n\n```\nLegacy `.to_graphql` objects are deprecated and will be removed in GraphQL-Ruby 2.0. Remove `.to_graphql` to use a class-based definition instead.\n```\n\nThese are coming from `spec/support/helpers/graphql_helpers.rb`, [here](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/main/spec/support/helpers/graphql_helpers.rb#L104) and [here](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/main/spec/support/helpers/graphql_helpers.rb#L155) respectively.\n\n### Proposal\n\n##### Proposal 1\nThe only tests that use `GraphqlHelpers` is https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/main/spec/graphql/resolvers/subscription_spec.rb. IMO we should:\n\n1. Move any missing test coverage from the [resolver spec](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/main/spec/graphql/resolvers/subscription_spec.rb) to the [request spec](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/main/spec/requests/graphql/subscription_spec.rb)\n2. Remove `GraphqlHelpers`. This helper recreates behavior from the GraphQL gem instead of testing it directly. I don't think this is worth any potential test suite speed increase we may see from using it.\n\n##### Proposal 2\n\nAlternatively, we could probably pull in the latest [`GraphqlHelper` from Gitlab](https://gitlab.com/gitlab-org/gitlab/-/blob/master/spec/support/helpers/graphql_helpers.rb)","state":"closed","created_at":"2022-10-26T22:38:08.259Z","updated_at":"2022-12-01T14:11:16.149Z","closed_at":"2022-12-01T14:11:16.112Z","closed_by":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"labels":["Category:Subscription Management","[deprecated] Category:Fulfillment Platform","backend","devops::fulfillment","group::fulfillment platform","maintenance::refactor","section::fulfillment","type::maintenance","workflow::production"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"}],"author":{"id":3614911,"username":"rcobb","name":"Ryan Cobb","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7047b7014264f07daf9836e55fc5ef4c?s=80\u0026d=identicon","web_url":"https://gitlab.com/rcobb"},"type":"ISSUE","assignee":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"user_notes_count":6,"merge_requests_count":0,"upvotes":4,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5042","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5042","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5042/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5042/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5042","relative":"#5042","full":"gitlab-org/customers-gitlab-com#5042"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":"on_track"},{"id":117645253,"iid":5041,"project_id":2670515,"title":"Self Managed instance generating new cloud license each sync","description":"# Bug\n\n## Summary\n\nCustomer is using a cloud license activation code on two separate instances.  One instance has activated and installed one license; the other instance appears to be syncing and retrieving a new cloud license every day for the same subscription\n\n[customer ticket](https://gitlab.zendesk.com/agent/tickets/336444)  \n[customer account](https://customers.gitlab.com/admin/customer/1315/edit)  \n[subscription](https://www.zuora.com/apps/Subscription.do?method=view\u0026id=8a128eda83b63aee0183c25ad8dc10cb)  \n[instance activations](https://customers.gitlab.com/admin/cloud_activation/12486/list_self_managed_instance_activations)\n\n**The server duplicating licenses is instance id 4632**\n\n```ruby\n#\u003cSelfManagedInstanceActivation:0x00005608b3a21018\n id: 4717,\n created_at: Tue, 11 Oct 2022 11:30:05.625817000 UTC +00:00,\n updated_at: Tue, 11 Oct 2022 11:30:05.639788000 UTC +00:00,\n activated_at: Tue, 11 Oct 2022 11:30:05.639221000 UTC +00:00,\n self_managed_instance_id: 4632,\n cloud_activation_id: 12486\u003e\n#\u003cSelfManagedInstance:0x00005608b3bdb598\n id: 4632,\n created_at: Tue, 11 Oct 2022 11:30:05.617226000 UTC +00:00,\n updated_at: Tue, 11 Oct 2022 11:30:05.617226000 UTC +00:00,\n instance_identifier: \"dd942c34-9529-4bcb-829d-51f2707fa289\"\u003e\n\n#\u003cSelfManagedInstanceActivation:0x00005608b595da08\n id: 4727,\n created_at: Tue, 11 Oct 2022 14:32:54.200416000 UTC +00:00,\n updated_at: Tue, 11 Oct 2022 14:32:54.210432000 UTC +00:00,\n activated_at: Tue, 11 Oct 2022 14:32:54.210054000 UTC +00:00,\n self_managed_instance_id: 4642,\n cloud_activation_id: 12486\u003e\n#\u003cSelfManagedInstance:0x00005608b4cb99f0\n id: 4642,\n created_at: Tue, 11 Oct 2022 14:32:54.193613000 UTC +00:00,\n updated_at: Tue, 11 Oct 2022 14:32:54.193613000 UTC +00:00,\n instance_identifier: \"f7e0452b-2be6-4a53-8b5c-68cf0696846f\"\u003e\n```\n\nAccording to the most recent `LicenseSeatLink` entries for each instance:\n\ninstance id 4642 is running GitLab 15.3.4-ee as of Wed, 26 Oct 2022 04:56:09.270189000 UTC  \ninstance id 4632 is running GitLab 15.4.0-ee as of Wed, 26 Oct 2022 04:18:07.674231000 UTC\n\n\n```ruby\nSelfManagedInstanceActivation.find(4717).licenses.count\n=\u003e 13\n\nSelfManagedInstanceActivation.find(4727).licenses.count\n=\u003e 2\n```\n\n## Steps to reproduce\n\nUnsure\n\n\n## Relevant logs and/or screenshots\n\nscreenshot from customer's server with the duplicate licenses, taken roughly 2022-10-18\n\n![screenshot-2022-10-26-15-31](/uploads/b04d655a527c1fe634dee2840e617817/screenshot-2022-10-26-15-31.png)\n\n## Workarounds\n\nThis is mostly cosmetic on the customer's side.  On our side, it is generating superfluous licenses but otherwise causes no issues that I see\n\n## Reported examples\n\n1. https://gitlab.zendesk.com/agent/tickets/336444\n1. https://gitlab.zendesk.com/agent/tickets/340985\n1. https://gitlab.zendesk.com/agent/tickets/341699\n2. https://gitlab.zendesk.com/agent/tickets/339642\n3. https://gitlab.zendesk.com/agent/tickets/352894\n4. https://gitlab.zendesk.com/agent/tickets/372289\n5. https://gitlab.zendesk.com/agent/tickets/373382\n\n\u003c!---\nPlease add both severity and priority level according to: https://docs.gitlab.com/ee/development/contributing/issue_workflow.html#severity-labels\n---\u003e\n\n## Proposal\n\nWe could look into changing one of these two:\n1. Changing the callback from `before_validation` to `after_initialize` ([relevant code](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/53b47c47e5ed54c849dc014d8b710d367250cacf/app/models/license.rb#L83))\n2. Perform a `valid?` call on the new built license before comparing it to the most recent license ([relevant code](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/53b47c47e5ed54c849dc014d8b710d367250cacf/app/services/build_license_from_subscription_service.rb#L43) and [this code](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/53b47c47e5ed54c849dc014d8b710d367250cacf/app/services/license_notification_service.rb#L92)).\n  - We could even consider calling the `valid?` in the [`License#equal_to?` method](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/53b47c47e5ed54c849dc014d8b710d367250cacf/app/models/license.rb#L157).","state":"closed","created_at":"2022-10-26T19:43:49.038Z","updated_at":"2023-03-20T23:35:28.267Z","closed_at":"2023-03-15T14:33:36.212Z","closed_by":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"labels":["Category:SM Provisioning","Cloud Licensing","Common Provisioning Bugs","SUS::Impacting","backend","bug::ux","customer","devops::fulfillment","group::provision","priority::3","section::fulfillment","severity::3","type::bug","workflow::complete"],"milestone":{"id":2745651,"iid":85,"group_id":9970,"title":"15.10","description":"","state":"active","created_at":"2022-08-22T16:58:22.132Z","updated_at":"2022-08-22T16:58:22.132Z","due_date":"2023-03-17","start_date":"2023-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/85"},"assignees":[{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"}],"author":{"id":4447183,"username":"kevenhughes","name":"Keven Hughes","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4447183/avatar.png","web_url":"https://gitlab.com/kevenhughes"},"type":"ISSUE","assignee":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"user_notes_count":15,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5041","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5041","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5041/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5041/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5041","relative":"#5041","full":"gitlab-org/customers-gitlab-com#5041"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":9187,"epic":{"id":649385,"iid":9187,"title":"Duplicate Cloud License Activation Codes","url":"/groups/gitlab-org/-/epics/9187","group_id":9970,"human_readable_end_date":"Mar 17, 2023","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":117568193,"iid":5033,"project_id":2670515,"title":"Scheduled maintenance for CustomersDot on 2022-11-13 03:00 UTC","description":"Zuora Billing will undergo planned maintenance on 2022-11-13 from 03:00 UTC to 04:00 UTC.  This means CustomersDot (CDot) should be in maintenance mode during this window to avoid any errors for customers.  CDot can automatically put itself into maintenance mode based on health checks (which include Zuora) but we should still have someone on standby to ensure that CDot goes into and out of maintenance mode as expected.\n\n## Maintenance window\n\nSunday 2022-11-13 03:00 - 04:00 UTC\n\n- https://gitlab.com/gitlab-com/business-technology/enterprise-apps/financeops/finance-systems/-/issues/952+\n- See [official release](https://community.zuora.com/communities/community-home/digestviewer/viewthread?GroupId=475\u0026MessageKey=ec7a72cc-934e-45ae-8987-aa0961991be0\u0026CommunityKey=c91d3142-7e65-4715-9e11-7eb5c768c213\u0026ReturnUrl=%2fcommunities%2fcommunity-home%2fdigestviewer%3fcommunitykey%3dc91d3142-7e65-4715-9e11-7eb5c768c213) from Zuora regarding this episode of planned maintenance**\n\n## Process\n\nToggle `maintenance_mode` in https://gitlab.com/gitlab-org/customers-gitlab-com/-/feature_flags/111/edit\n\n[ASSIGNED-USERNAME] - On Stand-by to monitor maintenance mode activities and jump in to assist as needed.\n\n1. [x] Created scheduled maintenance issue in https://gitlab.com/gitlab-com/gl-infra/production for the CMOC to update the GitLab status page\n    - https://gitlab.com/gitlab-com/gl-infra/production/-/issues/7929\n1. [ ] Set maintenance mode in CustomersDot at 2022-11-13 03:00 UTC\n    - This step could be done automatically by CDot.  An engineer could just check that maintenance mode was enabled after Zuora health checks started failing.\n1. [ ] Test the maintenance page is working at 2022-11-13 03:00 UTC\n1. [ ] Quiet Sidekiq process from [Sidekiq Admin UI](https://customers.gitlab.com/sidekiq/busy) at 7PM PT\n    -  This will prevent Sidekiq from processing new queued jobs but jobs will continue to enqueue.\n1. [ ] [Ensure the CMOC](https://about.gitlab.com/handbook/engineering/infrastructure/incident-management/#how-to-engage-the-cmoc) has updated status.gitlab.com\n1. [ ] Remove maintenance mode in CustomersDot at 2022-11-13 04:00 UTC\n    -  This step could be done automatically by CDot.  An engineer could just check that maintenance mode was disabled after Zuora health checks began passing again.\n1. [ ] Test the maintenance page is gone at 2022-11-13 04:00 UTC\n1. [ ] Manually restart Sidekiq at 2022-11-13 04:00 UTC\n    - Connect to CDot production server and run `sudo supervisorctl restart customers-sidekiq` as [documented here](https://gitlab.com/gitlab-org/customers-gitlab-com#deployments)\n1. [ ] [Ensure the CMOC](https://about.gitlab.com/handbook/engineering/infrastructure/incident-management/#how-to-engage-the-cmoc) has updated status.gitlab.com\n1. [ ] Manually enqueue scheduled jobs from [the Recurring Jobs tab](https://customers.gitlab.com/sidekiq/recurring-jobs) missed during maintenance window\n    - These were likely the jobs missed based on the planned outage window: \n      - `ExpireOrderCronJob`\n      - `BillingRateUpdateCronJob`\n      - `ReconciliationCronJob`\n      - `UpcomingReconciliationNotificationCronJob`\n      - `AutoRenewCronJob`","state":"closed","created_at":"2022-10-25T21:06:01.497Z","updated_at":"2022-11-22T15:57:40.867Z","closed_at":"2022-11-13T03:22:00.451Z","closed_by":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"labels":["[deprecated] Category:Fulfillment Platform","backend","devops::fulfillment","group::fulfillment platform","maintenance::dependency","section::fulfillment","type::maintenance"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"}],"author":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"type":"ISSUE","assignee":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2022-11-13","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5033","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":10,"completed_count":1},"weight":0,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5033","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5033/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5033/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5033","relative":"#5033","full":"gitlab-org/customers-gitlab-com#5033"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":117521500,"iid":5024,"project_id":2670515,"title":"FF use of Orders API in Order Preview GraphQL endpoint","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n### Problem\n\nNow that [preview amendment using orders API](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4694) is merged, we can update the workflows to preview using the orders API using a feature flag to control its rollout.\n\nThis issue integrates the use of Orders API in GraphQL endpoint for Order Preview.\n\n### Proposal\n\n\u003c!-- Consult with `@gitlab-com/business-technology/enterprise-apps/zuora-architects` on the ~\"Enterprise Applications\" team if Zuora business logic is involved. --\u003e\n\n### Result\n\n### Next steps (if any)\n\n### How will we measure success?","state":"closed","created_at":"2022-10-25T09:21:50.841Z","updated_at":"2022-11-03T13:18:37.782Z","closed_at":"2022-11-03T13:18:37.744Z","closed_by":{"id":11217480,"username":"tvellishetty","name":"Tarun Vellishetty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11217480/avatar.png","web_url":"https://gitlab.com/tvellishetty"},"labels":["backend","devops::fulfillment","feature::addition","group::fulfillment platform","quad-planning::complete-no-action","section::fulfillment","type::feature","workflow::production"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":11217480,"username":"tvellishetty","name":"Tarun Vellishetty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11217480/avatar.png","web_url":"https://gitlab.com/tvellishetty"}],"author":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"type":"ISSUE","assignee":{"id":11217480,"username":"tvellishetty","name":"Tarun Vellishetty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11217480/avatar.png","web_url":"https://gitlab.com/tvellishetty"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5024","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5024","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5024/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5024/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5024","relative":"#5024","full":"gitlab-org/customers-gitlab-com#5024"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":9118,"epic":{"id":639644,"iid":9118,"title":"Transition Order Preview GraphQL endpoint to use Orders API","url":"/groups/gitlab-org/-/epics/9118","group_id":9970,"human_readable_end_date":"Dec 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":117520161,"iid":5023,"project_id":2670515,"title":"FF use of Orders API in auto renewal workflow","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n### Problem\n\nNow that [preview amendment using orders API](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4694) is merged, we can update the workflows to preview using the orders API using a feature flag to control its rollout.\n\nThis issue integrates the use of Orders API in auto renewal workflow:\n\n* Ineligibility for renewal notification job\n* Upcoming notification job\n\n### Proposal\n\n\u003c!-- Consult with `@gitlab-com/business-technology/enterprise-apps/zuora-architects` on the ~\"Enterprise Applications\" team if Zuora business logic is involved. --\u003e\n\n### Result\n\nIn `AutoRenew::SendUpcomingNotificationService` and `AutoRenew::SendIneligibleForUpcomingRenewalNotificationService`, invoke `Zuora::Orders::AmendmentManagerService` if the request is to preview and FF `\u003cFF-name\u003e` is enabled.\n\n### Next steps (if any)\n\n### How will we measure success?","state":"closed","created_at":"2022-10-25T09:03:14.590Z","updated_at":"2022-11-08T03:40:10.670Z","closed_at":"2022-11-08T03:40:10.649Z","closed_by":{"id":11217480,"username":"tvellishetty","name":"Tarun Vellishetty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11217480/avatar.png","web_url":"https://gitlab.com/tvellishetty"},"labels":["backend","devops::fulfillment","feature::addition","group::fulfillment platform","section::fulfillment","type::feature","workflow::production"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":11217480,"username":"tvellishetty","name":"Tarun Vellishetty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11217480/avatar.png","web_url":"https://gitlab.com/tvellishetty"}],"author":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"type":"ISSUE","assignee":{"id":11217480,"username":"tvellishetty","name":"Tarun Vellishetty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11217480/avatar.png","web_url":"https://gitlab.com/tvellishetty"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5023","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5023","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5023/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5023/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5023","relative":"#5023","full":"gitlab-org/customers-gitlab-com#5023"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":9047,"epic":{"id":629649,"iid":9047,"title":"Transition Auto renewal workflow to use Orders API","url":"/groups/gitlab-org/-/epics/9047","group_id":9970,"human_readable_end_date":"Dec 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":117519646,"iid":5022,"project_id":2670515,"title":"FF use of Orders API in reconciliation workflow","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n### Problem\n\nNow that [preview amendment using orders API](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4694) is merged, we can update the workflows to preview using the orders API using a feature flag to control its rollout.\n\nThis issue integrates the use of Orders API in reconciliation workflow:\n\n- upcoming reconciliation\n- validating quoted invoice during reconciliation\n\n### Proposal\n\n\u003c!-- Consult with `@gitlab-com/business-technology/enterprise-apps/zuora-architects` on the ~\"Enterprise Applications\" team if Zuora business logic is involved. --\u003e\n\nIn `SendUpcomingReconciliationEmailJob` and `ReconciliationService`, invoke `Zuora::Orders::AmendmentManagerService` if the request is to preview and FF `use_orders_api_to_preview_quoted_invoice_amount` is enabled.\n\n### Result\n\nOrders API is used in reconciliation workflow as a replacement to Amend API.\n\n### Next steps (if any)\n\n### How will we measure success?","state":"closed","created_at":"2022-10-25T08:53:31.538Z","updated_at":"2022-10-27T02:37:44.667Z","closed_at":"2022-10-27T02:37:44.639Z","closed_by":{"id":11217480,"username":"tvellishetty","name":"Tarun Vellishetty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11217480/avatar.png","web_url":"https://gitlab.com/tvellishetty"},"labels":["backend","devops::fulfillment","feature::addition","group::fulfillment platform","section::fulfillment","type::feature","workflow::production"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":11217480,"username":"tvellishetty","name":"Tarun Vellishetty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11217480/avatar.png","web_url":"https://gitlab.com/tvellishetty"}],"author":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"type":"ISSUE","assignee":{"id":11217480,"username":"tvellishetty","name":"Tarun Vellishetty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11217480/avatar.png","web_url":"https://gitlab.com/tvellishetty"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5022","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5022","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5022/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5022/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5022","relative":"#5022","full":"gitlab-org/customers-gitlab-com#5022"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":9048,"epic":{"id":629651,"iid":9048,"title":"Transition Reconciliation (QSR) workflow to use Orders API","url":"/groups/gitlab-org/-/epics/9048","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null}]