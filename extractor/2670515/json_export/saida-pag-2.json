[{"id":124047756,"iid":5778,"project_id":2670515,"title":"Add Change linked namespace specific tracking","description":"### Problem\n\nCurrently we are tracking clicks on subscription card buttons. This shows a general interest on features but doesn't reflect that user wants to actually do this action.\n\n### Proposal\n\nUpdate the existing tracking for subscription card buttons and add tracking to the actual pages.\n\nAttention: some tracking **is already implemented**, we would just need to update the event labels \u0026 actions.\n\n#### Change linked namespace\n\nFor all the tracking events set `event_label` as `change_namespace` (as this is only possible for SaaS)\n\n| FE/BE | Page | Description | Event category | Event action |\n| ------ | ------ | ------ |  ------ | ------ |\n|FE| `/subscriptions/` | ![Screenshot_2022-11-15_at_21.52.22](/uploads/b35cf5e85e12b5adba68e12f7fc59d20/Screenshot_2022-11-15_at_21.52.22.png) \u003cbr\u003e User clicks `Change linked namespace` button \u003cbr\u003e  | Webstore | `click_card` |\n|FE| `subscriptions/A-S000XXX/edit?transaction=change_gitlab_group` | ![Screenshot_2022-11-15_at_21.53.19](/uploads/259228b6486cdee55f971efab5b69ed1/Screenshot_2022-11-15_at_21.53.19.png) \u003cbr\u003e User clicks `Confirm changes` button \u003cbr\u003e  | Webstore | `click_change` |\n|BE| - | Transaction is successful  | SubscriptionsController | `transaction_successful` |\n|BE| - | Transaction has failed  | SubscriptionsController | `transaction_failed` |\n\n### Next steps (if any)\n\nAfter the issue is done please let `@nraisinghani` know because we need to update the values in the related dashboard.","state":"closed","created_at":"2023-02-21T10:29:10.856Z","updated_at":"2023-04-11T17:52:50.603Z","closed_at":"2023-04-11T17:52:50.578Z","closed_by":{"id":10770603,"username":"lmeckley","name":"Laura Meckley","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10770603/avatar.png","web_url":"https://gitlab.com/lmeckley"},"labels":["devops::fulfillment","feature::enhancement","frontend","group::billing and subscription management","section::fulfillment","snowplow tracking events","type::feature","workflow::complete"],"milestone":{"id":2910456,"iid":86,"group_id":9970,"title":"15.11","description":"","state":"active","created_at":"2022-12-13T20:08:46.985Z","updated_at":"2022-12-13T20:08:46.985Z","due_date":"2023-04-17","start_date":"2023-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/86"},"assignees":[{"id":10770603,"username":"lmeckley","name":"Laura Meckley","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10770603/avatar.png","web_url":"https://gitlab.com/lmeckley"}],"author":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"type":"ISSUE","assignee":{"id":10770603,"username":"lmeckley","name":"Laura Meckley","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10770603/avatar.png","web_url":"https://gitlab.com/lmeckley"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5778","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5778","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5778/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5778/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5778","relative":"#5778","full":"gitlab-org/customers-gitlab-com#5778"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":9924,"epic":{"id":753387,"iid":9924,"title":"Add FE tracking to subscription management pages","url":"/groups/gitlab-org/-/epics/9924","group_id":9970,"human_readable_end_date":"Jun 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":"needs_attention"},{"id":124047744,"iid":5777,"project_id":2670515,"title":"Add Upgrade subscription specific tracking","description":"### Problem\n\nCurrently we are tracking clicks on subscription card buttons. This shows a general interest on features but doesn't reflect that user wants to actually do this action.\n\n### Proposal\n\nUpdate the existing tracking for subscription card buttons and add tracking to the actual pages.\n\nAttention: some tracking **is already implemented**, we would just need to update the event labels \u0026 actions.\n\n#### Upgrade subscription\n\nFor all the tracking events set `event_label` as `upgrade_subscription_sm` / `upgrade_subscription_saas`\n\n| FE/BE | Page | Description | Event category | Event action |\n| ------ | ------ | ------ |  ------ | ------ |\n|FE| `/subscriptions/` | ![Screenshot_2022-11-15_at_21.47.33](/uploads/d9ab9aba855fb2965bb4b62115a4cb7c/Screenshot_2022-11-15_at_21.47.33.png) \u003cbr\u003e User clicks `Upgrade plan` button \u003cbr\u003e  | Webstore | `click_card` |\n|FE| `subscriptions/A-S000XXX/upgrade/new` | ![Screenshot_2022-11-15_at_21.48.54](/uploads/b3acb618f4748398f2c2460abbf8c648/Screenshot_2022-11-15_at_21.48.54.png) \u003cbr\u003e User clicks `Upgrade subscription` button \u003cbr\u003e  | Webstore | `click_upgrade` |\n|BE| - | Transaction is successful  | SubscriptionUpgradesController | `transaction_successful` |\n|BE| - | Transaction has failed  | SubscriptionUpgradesController | `transaction_failed` |\n\n### Next steps (if any)\n\nAfter the issue is done please let `@nraisinghani` know because we need to update the values in the related dashboard.","state":"closed","created_at":"2023-02-21T10:28:51.755Z","updated_at":"2023-04-12T08:56:54.620Z","closed_at":"2023-04-11T22:27:56.805Z","closed_by":{"id":10770603,"username":"lmeckley","name":"Laura Meckley","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10770603/avatar.png","web_url":"https://gitlab.com/lmeckley"},"labels":["devops::fulfillment","feature::enhancement","frontend","group::billing and subscription management","section::fulfillment","snowplow tracking events","type::feature","workflow::complete"],"milestone":{"id":2910456,"iid":86,"group_id":9970,"title":"15.11","description":"","state":"active","created_at":"2022-12-13T20:08:46.985Z","updated_at":"2022-12-13T20:08:46.985Z","due_date":"2023-04-17","start_date":"2023-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/86"},"assignees":[{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},{"id":10770603,"username":"lmeckley","name":"Laura Meckley","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10770603/avatar.png","web_url":"https://gitlab.com/lmeckley"}],"author":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"type":"ISSUE","assignee":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5777","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5777","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5777/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5777/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5777","relative":"#5777","full":"gitlab-org/customers-gitlab-com#5777"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":9924,"epic":{"id":753387,"iid":9924,"title":"Add FE tracking to subscription management pages","url":"/groups/gitlab-org/-/epics/9924","group_id":9970,"human_readable_end_date":"Jun 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":"needs_attention"},{"id":124047730,"iid":5776,"project_id":2670515,"title":"Add Seats addition specific tracking","description":"### Problem\n\nCurrently we are tracking clicks on subscription card buttons. This shows a general interest on features but doesn't reflect that user wants to actually do this action.\n\n### Proposal\n\nUpdate the existing tracking for subscription card buttons and add tracking to the actual pages.\n\nAttention: some tracking **is already implemented**, we would just need to update the event labels \u0026 actions.\n\n#### Add seats\n\nFor all the tracking events set `event_label` as `add_seats_sm` / `add_seats_saas`\n\n| FE/BE | Page | Description | Event category | Event action |\n| ------ | ------ | ------ |  ------ | ------ |\n|FE| `/subscriptions/` | ![Screenshot_2022-11-10_at_17.09.54](/uploads/0a7e4ecc4875f685dfa4ff1ba4388685/Screenshot_2022-11-10_at_17.09.54.png) \u003cbr\u003e User clicks `Add seats` button \u003cbr\u003e  | Webstore | `click_card` |\n|FE| `/subscriptions/A-S000XXX/edit?transaction=extra_seats` | ![Screenshot_2022-11-10_at_13.49.05](/uploads/1d1c60f4c4ffb67150ed5594a089f7dc/Screenshot_2022-11-10_at_13.49.05.png) \u003cbr\u003e User clicks `Purchase seats` button \u003cbr\u003e  | Webstore | `click_purchase_seats ` |\n|BE| - | Transaction is successful  | SubscriptionsController | `transaction_successful` |\n|BE| - | Transaction has failed  | SubscriptionsController | `transaction_failed` |\n\n### Next steps (if any)\n\nAfter the issue is done please let `@nraisinghani` know because we need to update the values in the related dashboard.","state":"closed","created_at":"2023-02-21T10:28:31.925Z","updated_at":"2023-04-27T10:38:57.769Z","closed_at":"2023-03-31T07:23:28.527Z","closed_by":{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"},"labels":["devops::fulfillment","feature::enhancement","frontend","group::billing and subscription management","section::fulfillment","snowplow tracking events","type::feature","workflow::complete"],"milestone":{"id":2910456,"iid":86,"group_id":9970,"title":"15.11","description":"","state":"active","created_at":"2022-12-13T20:08:46.985Z","updated_at":"2022-12-13T20:08:46.985Z","due_date":"2023-04-17","start_date":"2023-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/86"},"assignees":[{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"}],"author":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"type":"ISSUE","assignee":{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"},"user_notes_count":13,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5776","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5776","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5776/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5776/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5776","relative":"#5776","full":"gitlab-org/customers-gitlab-com#5776"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":9924,"epic":{"id":753387,"iid":9924,"title":"Add FE tracking to subscription management pages","url":"/groups/gitlab-org/-/epics/9924","group_id":9970,"human_readable_end_date":"Jun 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":"on_track"},{"id":124047697,"iid":5775,"project_id":2670515,"title":"Add Renew subscription specific tracking","description":"### Problem\n\nCurrently we are tracking clicks on subscription card buttons. This shows a general interest on features but doesn't reflect that user wants to actually do this action.\n\n### Proposal\n\nUpdate the existing tracking for subscription card buttons and add tracking to the actual pages.\n\nAttention: some tracking **is already implemented**, we would just need to update the event labels \u0026 actions.\n\n#### Renew subscription\n\nFor all the tracking events set `event_label` as `renew_subscription_sm` / `renew_subscription_saas`\n\n| FE/BE | Page | Description | Event category | Event action |\n| ------ | ------ | ------ |  ------ | ------ |\n|FE| `/subscriptions/` | ![Screenshot_2022-11-15_at_22.01.05](/uploads/6bc6932c2dadfdad86e4f4a1c3b2e56e/Screenshot_2022-11-15_at_22.01.05.png) \u003cbr\u003e User clicks `Renew` button \u003cbr\u003e  | Webstore | `click_card` |\n|FE| `subscriptions/A-S000XXX/renew` | ![Screenshot_2022-11-15_at_22.00.21](/uploads/55ed2e88661428ed5f8351bb83340bba/Screenshot_2022-11-15_at_22.00.21.png) \u003cbr\u003e User clicks `Renew subscription` button \u003cbr\u003e  | Webstore | `click_renew` |\n|BE| - | Transaction is successful  | SubscriptionsController | `transaction_successful` |\n|BE| - | Transaction has failed  | SubscriptionsController | `transaction_failed` |\n\n### Next steps (if any)\n\nAfter the issue is done please let `@nraisinghani` know because we need to update the values in the related dashboard.","state":"closed","created_at":"2023-02-21T10:28:04.833Z","updated_at":"2023-03-14T09:59:20.207Z","closed_at":"2023-03-07T14:24:53.742Z","closed_by":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"labels":["devops::fulfillment","feature::enhancement","frontend","group::billing and subscription management","section::fulfillment","snowplow tracking events","type::feature","workflow::complete"],"milestone":{"id":2745651,"iid":85,"group_id":9970,"title":"15.10","description":"","state":"active","created_at":"2022-08-22T16:58:22.132Z","updated_at":"2022-08-22T16:58:22.132Z","due_date":"2023-03-17","start_date":"2023-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/85"},"assignees":[{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"}],"author":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"type":"ISSUE","assignee":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5775","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5775","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5775/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5775/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5775","relative":"#5775","full":"gitlab-org/customers-gitlab-com#5775"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":9924,"epic":{"id":753387,"iid":9924,"title":"Add FE tracking to subscription management pages","url":"/groups/gitlab-org/-/epics/9924","group_id":9970,"human_readable_end_date":"Jun 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":"on_track"},{"id":123966908,"iid":5764,"project_id":2670515,"title":"Create CloudActivation specialized license","description":"### Proposal\n\nAdd ability to create a license which is associated with a single `CloudActivation`.\n\n1. Add a `license_id` foreign key in `cloud_activations` which can be null\n2. Add has_many association in `CloudActivation` class","state":"closed","created_at":"2023-02-20T03:46:06.327Z","updated_at":"2023-03-20T16:28:54.996Z","closed_at":"2023-03-06T10:16:58.895Z","closed_by":{"id":1986039,"username":"lulalala","name":"Mark Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1986039/avatar.png","web_url":"https://gitlab.com/lulalala"},"labels":["Category:SM Provisioning","Cloud Licensing","backend","database","devops::fulfillment","feature::addition","group::provision","priority::2","section::fulfillment","type::feature","workflow::in review"],"milestone":{"id":2745651,"iid":85,"group_id":9970,"title":"15.10","description":"","state":"active","created_at":"2022-08-22T16:58:22.132Z","updated_at":"2022-08-22T16:58:22.132Z","due_date":"2023-03-17","start_date":"2023-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/85"},"assignees":[{"id":1986039,"username":"lulalala","name":"Mark Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1986039/avatar.png","web_url":"https://gitlab.com/lulalala"}],"author":{"id":1986039,"username":"lulalala","name":"Mark Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1986039/avatar.png","web_url":"https://gitlab.com/lulalala"},"type":"ISSUE","assignee":{"id":1986039,"username":"lulalala","name":"Mark Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1986039/avatar.png","web_url":"https://gitlab.com/lulalala"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5764","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5764","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5764/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5764/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5764","relative":"#5764","full":"gitlab-org/customers-gitlab-com#5764"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8187,"epic":{"id":539233,"iid":8187,"title":"Strict Cloud Licensing Follow-Up Requests","url":"/groups/gitlab-org/-/epics/8187","group_id":9970,"human_readable_end_date":"Mar 17, 2023","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":123903344,"iid":5762,"project_id":2670515,"title":"Remove log for 'Received more than one charge item'","description":"This log is firing for valid charges. Remove the log to avoid extra noise.\n\nhttps://sentry.gitlab.net/gitlab/customersgitlabcom/issues/4099714/?referrer=gitlab_plugin\n\n```\nReceived more than one charge item\n```","state":"closed","created_at":"2023-02-17T22:33:44.969Z","updated_at":"2023-02-28T19:43:21.784Z","closed_at":"2023-02-28T19:43:21.763Z","closed_by":{"id":10770603,"username":"lmeckley","name":"Laura Meckley","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10770603/avatar.png","web_url":"https://gitlab.com/lmeckley"},"labels":["devops::fulfillment","frontend","group::billing and subscription management","section::fulfillment","type::maintenance","workflow::complete"],"milestone":{"id":2745651,"iid":85,"group_id":9970,"title":"15.10","description":"","state":"active","created_at":"2022-08-22T16:58:22.132Z","updated_at":"2022-08-22T16:58:22.132Z","due_date":"2023-03-17","start_date":"2023-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/85"},"assignees":[{"id":10770603,"username":"lmeckley","name":"Laura Meckley","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10770603/avatar.png","web_url":"https://gitlab.com/lmeckley"}],"author":{"id":402401,"username":"jobbot","name":"Bot","state":"active","avatar_url":"https://secure.gravatar.com/avatar/aaa6738f1ebf25404010884af511b0e7?s=80\u0026d=identicon","web_url":"https://gitlab.com/jobbot"},"type":"ISSUE","assignee":{"id":10770603,"username":"lmeckley","name":"Laura Meckley","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10770603/avatar.png","web_url":"https://gitlab.com/lmeckley"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5762","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5762","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5762/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5762/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5762","relative":"#5762","full":"gitlab-org/customers-gitlab-com#5762"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":123862962,"iid":5756,"project_id":2670515,"title":"Add professional-services as productSubType in product presenter","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n### Problem\nWe need a new type of [`productSubType`](https://gitlab.com/gitlab-org/customers-gitlab-com/blob/cb55ed711546c9e13306bc7333f683265a33ab70/app/presenters/product_presenter.rb#L41-51) in `product_presenter.rb` to identify professional services products. This is needed to [display professional services products](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5665/) in the new ramps subscriptions card in Customers Portal.\n\n### Proposal\nAdd new `productSubType` to identify professional services.\n\n\u003c!-- Consult with `@gitlab-com/business-technology/enterprise-apps/zuora-architects` on the ~\"Enterprise Applications\" team if Zuora business logic is involved. --\u003e\n\n### Result\n\n### Next steps (if any)\n\n### How will we measure success?","state":"closed","created_at":"2023-02-17T09:02:34.258Z","updated_at":"2023-03-09T11:27:50.143Z","closed_at":"2023-03-09T11:27:50.114Z","closed_by":{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"},"labels":["Category:Subscription Management","backend","devops::fulfillment","feature::addition","group::billing and subscription management","section::fulfillment","type::feature","workflow::complete"],"milestone":{"id":2745651,"iid":85,"group_id":9970,"title":"15.10","description":"","state":"active","created_at":"2022-08-22T16:58:22.132Z","updated_at":"2022-08-22T16:58:22.132Z","due_date":"2023-03-17","start_date":"2023-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/85"},"assignees":[{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"}],"author":{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"},"type":"ISSUE","assignee":{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"},"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5756","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5756","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5756/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5756/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5756","relative":"#5756","full":"gitlab-org/customers-gitlab-com#5756"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8748,"epic":{"id":602374,"iid":8748,"title":"Ramps subscription display in Customers Portal and gitlab.com","url":"/groups/gitlab-org/-/epics/8748","group_id":9970,"human_readable_end_date":"May 31, 2023","human_readable_timestamp":"\u003cstrong\u003e25\u003c/strong\u003e days remaining"},"iteration":null,"health_status":"on_track"},{"id":123834781,"iid":5752,"project_id":2670515,"title":"Follow-up from \"Admin: Add ability to create Billing Account\"","description":"The following discussion from !6500 should be addressed:\n\n- [ ] @tyleramos started a [discussion](https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/6500#note_1280463491):  (+3 comments)\n\n    \u003e **Thought (non-blocking):** This approach totally works, but it's unfortunate that ActiveAdmin doesn't allow it to be more extensible without duplicating so much code. I'm curious if we could avoid the duplication if we used a virtual attribute and extract some of the custom logic into the model.  We've done similar things for Customer admin before ([example](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/c51a1cff53972ad740ac8cbb021188efd109f0ab/app/models/customer.rb#L75)).  That solution isn't elegant either but might avoid duplicating the boilerplate.\n    \u003e \n    \u003e Just a thought, and definitely could be considered in a follow-up, if you think it's worth it.","state":"closed","created_at":"2023-02-16T18:54:11.522Z","updated_at":"2023-02-23T19:40:25.504Z","closed_at":"2023-02-23T15:55:29.640Z","closed_by":{"id":5667561,"username":"vshumilo","name":"Vladlena Shumilo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08dfa82785d130c151ab9e21caeab4e3?s=80\u0026d=identicon","web_url":"https://gitlab.com/vshumilo"},"labels":["backend","devops::fulfillment","group::fulfillment platform","maintenance::refactor","section::fulfillment","type::maintenance","workflow::in review"],"milestone":{"id":2745651,"iid":85,"group_id":9970,"title":"15.10","description":"","state":"active","created_at":"2022-08-22T16:58:22.132Z","updated_at":"2022-08-22T16:58:22.132Z","due_date":"2023-03-17","start_date":"2023-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/85"},"assignees":[{"id":5667561,"username":"vshumilo","name":"Vladlena Shumilo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08dfa82785d130c151ab9e21caeab4e3?s=80\u0026d=identicon","web_url":"https://gitlab.com/vshumilo"}],"author":{"id":5667561,"username":"vshumilo","name":"Vladlena Shumilo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08dfa82785d130c151ab9e21caeab4e3?s=80\u0026d=identicon","web_url":"https://gitlab.com/vshumilo"},"type":"ISSUE","assignee":{"id":5667561,"username":"vshumilo","name":"Vladlena Shumilo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08dfa82785d130c151ab9e21caeab4e3?s=80\u0026d=identicon","web_url":"https://gitlab.com/vshumilo"},"user_notes_count":3,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5752","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5752","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5752/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5752/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5752","relative":"#5752","full":"gitlab-org/customers-gitlab-com#5752"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":123833213,"iid":5750,"project_id":2670515,"title":"Flaky test failures in community_program_renew_purchase_spec.rb","description":"### Problem\n\nI frequently seen the `rspec-zuora` job fail because of one test failure in `spec/features/subscriptions/community_program_renew_purchase_spec.rb`.  Typically, the job passes on retry, but it's an inconvenience, especially when it requires a merge train retry by a maintainer.  It also wastes pipeline resources and ultimately increases costs.  For reference, this spec was introduced in https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/4633+.\n\nI went through a few pages of [pipelines](https://gitlab.com/gitlab-org/customers-gitlab-com/-/pipelines) and quickly found a number of failures because of this spec.\n\nExamples of job failures:\n- https://gitlab.com/gitlab-org/customers-gitlab-com/-/jobs/3784238665\n- https://gitlab.com/gitlab-org/customers-gitlab-com/-/jobs/3782904859\n- https://gitlab.com/gitlab-org/customers-gitlab-com/-/jobs/3782569469\n- https://gitlab.com/gitlab-org/customers-gitlab-com/-/jobs/3779860534\n\n\u003cdetails\u003e\u003csummary\u003eClick to expand\u003c/summary\u003e\n\n```\n  1) Community Program - Renewals when accessing community program landing page when customer has a self-managed subscription successfully renews subscription\n     Failure/Error: ::IronBank.client.connection.post(url, *args)\n     VCR::Errors::UnhandledHTTPRequestError:\n       ================================================================================\n       An HTTP request has been made that VCR does not know how to handle:\n         POST https://rest.apisandbox.zuora.com/v1/orders/preview\n       VCR is currently using the following cassette:\n         - /builds/gitlab-org/customers-gitlab-com/spec/fixtures/vcr_cassettes/community_program_-_renewals/when_accessing_community_program_landing_page/when_customer_has_a_self-managed_subscription/successfully_renews_subscription.yml\n           - :record =\u003e :none\n           - :match_requests_on =\u003e [:zuora]\n       Under the current configuration VCR can not find a suitable HTTP interaction\n       to replay and is prevented from recording new requests. There are a few ways\n       you can deal with this:\n         * If you're surprised VCR is raising this error\n           and want insight about how VCR attempted to handle the request,\n           you can use the debug_logger configuration option to log more details [1].\n         * You can use the :new_episodes record mode to allow VCR to\n           record this new request to the existing cassette [2].\n         * If you want VCR to ignore this request (and others like it), you can\n           set an `ignore_request` callback [3].\n         * The current record mode (:none) does not allow requests to be recorded. You\n           can temporarily change the record mode to :once, delete the cassette file \n           and re-run your tests to allow the cassette to be recorded with this request [4].\n         * The cassette contains 42 HTTP interactions that have not been\n           played back. If your request is non-deterministic, you may need to\n           change your :match_requests_on cassette option to be more lenient\n           or use a custom request matcher to allow it to match [5].\n       [1] https://www.relishapp.com/vcr/vcr/v/6-1-0/docs/configuration/debug-logging\n       [2] https://www.relishapp.com/vcr/vcr/v/6-1-0/docs/record-modes/new-episodes\n       [3] https://www.relishapp.com/vcr/vcr/v/6-1-0/docs/configuration/ignore-request\n       [4] https://www.relishapp.com/vcr/vcr/v/6-1-0/docs/record-modes/none\n       [5] https://www.relishapp.com/vcr/vcr/v/6-1-0/docs/request-matching\n       ================================================================================\n     Shared Example Group: \"subscription renewal\" called from ./spec/features/subscriptions/community_program_renew_purchase_spec.rb:59\n     # ./spec/fixtures/vcr_cassettes/community_program_-_renewals/when_accessing_community_program_landing_page/when_customer_has_a_self-managed_subscription/successfully_renews_subscription.yml \u003c- from VCR cassette\n     # ./lib/gitlab/iron_bank.rb:14:in `post'\n     # ./lib/zuora/client/orders_preview.rb:16:in `create'\n     # ./lib/zuora/client/orders_preview.rb:11:in `get'\n     # ./app/jobs/zuora/orders/preview.rb:7:in `perform'\n     # ./app/services/zuora/orders/preview_service.rb:20:in `execute'\n     # ./app/services/zuora/orders/preview_service.rb:14:in `execute'\n     # ./app/services/zuora/orders/order_manager_service.rb:38:in `preview_result'\n     # ./app/services/zuora/orders/order_manager_service.rb:20:in `execute'\n     # ./app/services/zuora/orders/order_manager_service.rb:16:in `execute'\n     # ./app/services/zuora/orders/amendment_manager_service.rb:53:in `block in order_result'\n     # ./lib/utils/strong_memoize.rb:27:in `strong_memoize'\n     # ./app/services/zuora/orders/amendment_manager_service.rb:52:in `order_result'\n     # ./app/services/zuora/orders/amendment_manager_service.rb:25:in `execute'\n     # ./app/services/zuora/orders/amendment_manager_service.rb:10:in `execute'\n     # ./app/services/self_service/subscriptions/update_service.rb:134:in `update_zuora_objects'\n     # ./app/services/self_service/subscriptions/update_service.rb:46:in `execute'\n     # ./app/controllers/subscriptions_controller.rb:88:in `update'\n     # ./lib/middleware/maintenance.rb:28:in `call'\n     # ./lib/middleware/health_check/health_check_responder.rb:14:in `call'\n     # ------------------\n     # --- Caused by: ---\n     # Capybara::ExpectationNotMet:\n     #   expected to find visible css \"h2\" with text \"Subscription created successfully!\" but there were no matches. Also found \"GitLab for Education Program - Self-managed Ultimate\", which matched the selector but not all filters. \n     #   ./spec/features/subscriptions/community_program_renew_purchase_spec.rb:41:in `block (4 levels) in \u003ctop (required)\u003e'\n```\n\n```\n  1) Community Program - Renewals when accessing community program landing page when customer has a self-managed subscription successfully renews subscription\n     Failure/Error: ::IronBank.client.connection.post(url, *args)\n     VCR::Errors::UnhandledHTTPRequestError:\n       ================================================================================\n       An HTTP request has been made that VCR does not know how to handle:\n         POST https://rest.apisandbox.zuora.com/v1/orders/preview\n       VCR is currently using the following cassette:\n         - /builds/gitlab-org/customers-gitlab-com/spec/fixtures/vcr_cassettes/community_program_-_renewals/when_accessing_community_program_landing_page/when_customer_has_a_self-managed_subscription/successfully_renews_subscription.yml\n           - :record =\u003e :none\n           - :match_requests_on =\u003e [:zuora]\n       Under the current configuration VCR can not find a suitable HTTP interaction\n       to replay and is prevented from recording new requests. There are a few ways\n       you can deal with this:\n         * If you're surprised VCR is raising this error\n           and want insight about how VCR attempted to handle the request,\n           you can use the debug_logger configuration option to log more details [1].\n         * You can use the :new_episodes record mode to allow VCR to\n           record this new request to the existing cassette [2].\n         * If you want VCR to ignore this request (and others like it), you can\n           set an `ignore_request` callback [3].\n         * The current record mode (:none) does not allow requests to be recorded. You\n           can temporarily change the record mode to :once, delete the cassette file \n           and re-run your tests to allow the cassette to be recorded with this request [4].\n         * The cassette contains 42 HTTP interactions that have not been\n           played back. If your request is non-deterministic, you may need to\n           change your :match_requests_on cassette option to be more lenient\n           or use a custom request matcher to allow it to match [5].\n       [1] https://www.relishapp.com/vcr/vcr/v/6-1-0/docs/configuration/debug-logging\n       [2] https://www.relishapp.com/vcr/vcr/v/6-1-0/docs/record-modes/new-episodes\n       [3] https://www.relishapp.com/vcr/vcr/v/6-1-0/docs/configuration/ignore-request\n       [4] https://www.relishapp.com/vcr/vcr/v/6-1-0/docs/record-modes/none\n       [5] https://www.relishapp.com/vcr/vcr/v/6-1-0/docs/request-matching\n       ================================================================================\n     Shared Example Group: \"subscription renewal\" called from ./spec/features/subscriptions/community_program_renew_purchase_spec.rb:59\n     # ./spec/fixtures/vcr_cassettes/community_program_-_renewals/when_accessing_community_program_landing_page/when_customer_has_a_self-managed_subscription/successfully_renews_subscription.yml \u003c- from VCR cassette\n     # ./lib/gitlab/iron_bank.rb:14:in `post'\n     # ./lib/zuora/client/orders_preview.rb:16:in `create'\n     # ./lib/zuora/client/orders_preview.rb:11:in `get'\n     # ./app/jobs/zuora/orders/preview.rb:7:in `perform'\n     # ./app/services/zuora/orders/preview_service.rb:20:in `execute'\n     # ./app/services/zuora/orders/preview_service.rb:14:in `execute'\n     # ./app/services/zuora/orders/order_manager_service.rb:38:in `preview_result'\n     # ./app/services/zuora/orders/order_manager_service.rb:20:in `execute'\n     # ./app/services/zuora/orders/order_manager_service.rb:16:in `execute'\n     # ./app/services/zuora/orders/amendment_manager_service.rb:53:in `block in order_result'\n     # ./lib/utils/strong_memoize.rb:27:in `strong_memoize'\n     # ./app/services/zuora/orders/amendment_manager_service.rb:52:in `order_result'\n     # ./app/services/zuora/orders/amendment_manager_service.rb:25:in `execute'\n     # ./app/services/zuora/orders/amendment_manager_service.rb:10:in `execute'\n     # ./app/services/self_service/subscriptions/update_service.rb:134:in `update_zuora_objects'\n     # ./app/services/self_service/subscriptions/update_service.rb:46:in `execute'\n     # ./app/controllers/subscriptions_controller.rb:88:in `update'\n     # ./lib/middleware/maintenance.rb:28:in `call'\n     # ./lib/middleware/health_check/health_check_responder.rb:14:in `call'\n     # ------------------\n     # --- Caused by: ---\n     # Capybara::ExpectationNotMet:\n     #   expected to find visible css \"h2\" with text \"Subscription created successfully!\" but there were no matches. Also found \"GitLab for Education Program - Self-managed Ultimate\", which matched the selector but not all filters. \n     #   ./spec/features/subscriptions/community_program_renew_purchase_spec.rb:41:in `block (4 levels) in \u003ctop (required)\u003e'\nFinished in 5 minutes 30 seconds (files took 19.03 seconds to load)\n945 examples, 1 failure\nFailed examples:\nrspec './spec/features/subscriptions/community_program_renew_purchase_spec.rb[1:1:1:1]' # Community Program - Renewals when accessing community program landing page when customer has a self-managed subscription successfully renews subscription\n```\n\n\u003c/details\u003e\n\n### Proposal\n\nLet's figure out what is making this spec flaky and fix it. :pray:","state":"closed","created_at":"2023-02-16T18:12:51.052Z","updated_at":"2023-02-16T20:46:39.020Z","closed_at":"2023-02-16T20:46:38.990Z","closed_by":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"labels":["devops::fulfillment","group::fulfillment platform","maintenance::refactor","section::fulfillment","test","type::maintenance","workflow::complete"],"milestone":{"id":2745650,"iid":84,"group_id":9970,"title":"15.9","description":"","state":"active","created_at":"2022-08-22T16:58:02.303Z","updated_at":"2022-08-22T16:58:02.303Z","due_date":"2023-02-17","start_date":"2023-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/84"},"assignees":[{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"}],"author":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"type":"ISSUE","assignee":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5750","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5750","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5750/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5750/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5750","relative":"#5750","full":"gitlab-org/customers-gitlab-com#5750"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":123832987,"iid":5749,"project_id":2670515,"title":"Admin UI colour contrast is not high enough","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"bug\" label in relevant trackers:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n- https://gitlab.com/gitlab-org/customers-gitlab-com/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n\nDo not include confidential information!\n---\u003e\n\n# Bug\n\n## Summary\n\nMany of the team members who use the admin part of CustomersDot are having difficulty using the new UI.\n\n## Steps to reproduce\n\n1. Take a screenshot and change it to black and white.\n1. Or, check the colour contrast of the colours.\n\nExample:\n\n![image](/uploads/209a7ca4dca6be72f1f1967af54c0443/image.png)\n\nThe inactive menu items are 2.63:1 colour contrast ratio.\n\n## What is the current *bug* behavior?\n\nIt's difficult to read the text. Even more so for someone who is partially or fully colour blind.\n\nIt also goes against our guidelines, and legislation in most countries.\n\n## What is the expected *correct* behavior?\n\nColours should follow Pajamas: https://design.gitlab.com/product-foundations/color\n\nincluding the colour contrast guideline: https://design.gitlab.com/product-foundations/color#accessibility","state":"closed","created_at":"2023-02-16T18:07:26.537Z","updated_at":"2023-03-14T10:42:33.347Z","closed_at":"2023-03-14T10:42:33.322Z","closed_by":{"id":447038,"username":"vitallium","name":"Vitaly Slobodin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/74b3243cfcfbfac1f022b78ab505e8d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/vitallium"},"labels":["Category:Fulfillment Admin Tooling","SUS::Impacting","Support Interest","UX","accessibility","accessibility::critical","devops::fulfillment","group::fulfillment platform","internal customer","missed:15.9","section::fulfillment","severity::2","type::bug","workflow::complete"],"milestone":{"id":2745651,"iid":85,"group_id":9970,"title":"15.10","description":"","state":"active","created_at":"2022-08-22T16:58:22.132Z","updated_at":"2022-08-22T16:58:22.132Z","due_date":"2023-03-17","start_date":"2023-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/85"},"assignees":[{"id":447038,"username":"vitallium","name":"Vitaly Slobodin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/74b3243cfcfbfac1f022b78ab505e8d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/vitallium"}],"author":{"id":2454149,"username":"cynthia","name":"Cynthia \"Arty\" Ng","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2454149/avatar.png","web_url":"https://gitlab.com/cynthia"},"type":"ISSUE","assignee":{"id":447038,"username":"vitallium","name":"Vitaly Slobodin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/74b3243cfcfbfac1f022b78ab505e8d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/vitallium"},"user_notes_count":8,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5749","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5749","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5749/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5749/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5749","relative":"#5749","full":"gitlab-org/customers-gitlab-com#5749"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":123823782,"iid":5748,"project_id":2670515,"title":"Check for new occurrences of BillingAccounts without salesforce_account_id","description":"### Background\n\nIn https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5695, we introduced a rake task to set `salesforce_account_id` for any BillingAccounts where it was missing.  After running this in production, we found that 70 records were still has `nil` for a `salesforce_account_id` value. \n\n### Proposal\n\nLet's check back about a month after the rake task mentioned above was run, so around 2023-03-10, to see if there are any new occurrences of BillingAccounts without `salesforce_account_id`.  We could also run the rake task again to see if any of the 70 accounts could now be updated.\n\nIf there are new occurrences, we might have a larger issue that needs to be addressed.","state":"closed","created_at":"2023-02-16T16:26:27.564Z","updated_at":"2023-03-10T17:52:17.076Z","closed_at":"2023-03-09T18:27:38.088Z","closed_by":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"labels":["devops::fulfillment","group::fulfillment platform","maintenance::refactor","section::fulfillment","type::maintenance","workflow::complete"],"milestone":{"id":2745651,"iid":85,"group_id":9970,"title":"15.10","description":"","state":"active","created_at":"2022-08-22T16:58:22.132Z","updated_at":"2022-08-22T16:58:22.132Z","due_date":"2023-03-17","start_date":"2023-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/85"},"assignees":[{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},{"id":5667561,"username":"vshumilo","name":"Vladlena Shumilo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08dfa82785d130c151ab9e21caeab4e3?s=80\u0026d=identicon","web_url":"https://gitlab.com/vshumilo"}],"author":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"type":"ISSUE","assignee":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2023-03-10","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5748","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5748","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5748/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5748/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5748","relative":"#5748","full":"gitlab-org/customers-gitlab-com#5748"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":123755479,"iid":5742,"project_id":2670515,"title":"Ramps UAT: Provision Testing in Staging","description":"## Summary\nThe EntApps team is conducting end-to-end UAT of Zuora Ramps prior to implementation (expected Feb 1, 2023). This issue will be used to track UAT efforts of ~\"group::provision\" to validate all test cases sent over as part of this effort are provisioning properly. Latest planned Fulfillment UAT is planned for 2023.03.21 to 2023.03.23.\n\nMore details can be found in the EntApps related issue: https://gitlab.com/gitlab-com/business-technology/enterprise-apps/financeops/finance-systems/-/issues/1051\n\n## Test Cases\n[Test Scripts/Use Cases](https://docs.google.com/spreadsheets/d/1xmdJ6ToiCyFNtqjrNPvwcGR7gCvkskjLnZXwAzEMT40/edit#gid=0)\n\n* Fulfillment will be using the master UAT tab to validate Ramp use cases only, which will be sent over by Deal Desk/Billing teams.\n* Testing will be completed in the staging environment.\n\n\n## Result\nSign-off from ~\"group::provision\" that all use cases work properly in CustomersDot and we are comfortable with proceeding with production deployment - _to be provided via [checkbox](https://gitlab.com/groups/gitlab-com/business-technology/enterprise-apps/-/epics/478#testing-signoff)_","state":"closed","created_at":"2023-02-15T21:23:34.600Z","updated_at":"2023-04-24T16:52:00.818Z","closed_at":"2023-04-03T21:04:20.704Z","closed_by":{"id":7964536,"username":"courtmeddaugh","name":"Courtney Meddaugh","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7964536/avatar.png","web_url":"https://gitlab.com/courtmeddaugh"},"labels":["Ramps Provisioning","devops::fulfillment","group::provision","needs weight","priority::2","section::fulfillment","type::feature","workflow::blocked"],"milestone":{"id":2910456,"iid":86,"group_id":9970,"title":"15.11","description":"","state":"active","created_at":"2022-12-13T20:08:46.985Z","updated_at":"2022-12-13T20:08:46.985Z","due_date":"2023-04-17","start_date":"2023-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/86"},"assignees":[{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},{"id":7964536,"username":"courtmeddaugh","name":"Courtney Meddaugh","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7964536/avatar.png","web_url":"https://gitlab.com/courtmeddaugh"}],"author":{"id":7964536,"username":"courtmeddaugh","name":"Courtney Meddaugh","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7964536/avatar.png","web_url":"https://gitlab.com/courtmeddaugh"},"type":"ISSUE","assignee":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"user_notes_count":11,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":"2023-03-23","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5742","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5742","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5742/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5742/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5742","relative":"#5742","full":"gitlab-org/customers-gitlab-com#5742"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8793,"epic":{"id":605003,"iid":8793,"title":"Zuora Ramps: Fulfillment Testing of Zuora Ramps","url":"/groups/gitlab-org/-/epics/8793","group_id":9970,"human_readable_end_date":"May 17, 2023","human_readable_timestamp":"\u003cstrong\u003e11\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":123729828,"iid":5737,"project_id":2670515,"title":"Verify subscriptions created during UAT of ramps subscriptions","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n### Problem\nBased on this [suggestion](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5384#note_1278260308), we could verify the subscriptions that get created in staging as a part of the [EntApp UAT](https://docs.google.com/spreadsheets/d/1xmdJ6ToiCyFNtqjrNPvwcGR7gCvkskjLnZXwAzEMT40/edit#gid=691079497).\n\n### Proposal\n\n\u003c!-- Consult with `@gitlab-com/business-technology/enterprise-apps/zuora-architects` on the ~\"Enterprise Applications\" team if Zuora business logic is involved. --\u003e\n\n### Result\n\n### Next steps (if any)\n\n### How will we measure success?","state":"closed","created_at":"2023-02-15T13:21:48.192Z","updated_at":"2023-03-22T11:42:27.585Z","closed_at":"2023-03-22T11:42:27.561Z","closed_by":{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"},"labels":["Category:Subscription Management","devops::fulfillment","frontend","group::billing and subscription management","missed:15.10","section::fulfillment","type::feature","workflow::complete"],"milestone":{"id":2910456,"iid":86,"group_id":9970,"title":"15.11","description":"","state":"active","created_at":"2022-12-13T20:08:46.985Z","updated_at":"2022-12-13T20:08:46.985Z","due_date":"2023-04-17","start_date":"2023-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/86"},"assignees":[{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"}],"author":{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"},"type":"ISSUE","assignee":{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5737","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5737","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5737/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5737/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5737","relative":"#5737","full":"gitlab-org/customers-gitlab-com#5737"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8748,"epic":{"id":602374,"iid":8748,"title":"Ramps subscription display in Customers Portal and gitlab.com","url":"/groups/gitlab-org/-/epics/8748","group_id":9970,"human_readable_end_date":"May 31, 2023","human_readable_timestamp":"\u003cstrong\u003e25\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":123711407,"iid":5734,"project_id":2670515,"title":"Unable to find subscription in CreateOrderService","description":"# Bug\n\n## Summary\n\n`ZuoraCallbackWorker` calls `CreateOrderService`, but sometimes that would fail and raise \"Unable to find subscription\" error. Since order can not be obtained, the provisioning will be skipped.\n\n## What is the current *bug* behavior?\n\n* SaaS provision does not occur\n* renewal introduction email not sent\n\n## What is the expected *correct* behavior?\n\n`CreateOrderService` can find the subscription and order, and provision can occur.\n\n## Relevant logs and/or screenshots\n\nhttps://sentry.gitlab.net/gitlab/customersgitlabcom/issues/3869825/events/1d3126b1dfeb4cd483e466887eb4fa08/\n\n```\nRuntimeError: Error when processing subscription: A-S00039151. Unable to find subscription.\n  app/services/create_order_service.rb:49:in `load_subscription'\n    raise \"Error when processing subscription: #{params[:subscription_name]}. #{extra_error}\"\n  app/services/create_order_service.rb:17:in `execute'\n    load_subscription\n  app/workers/zuora_callout/base_worker.rb:72:in `create_order'\n    .execute(subscription_name: subscription.name, amendment_types: amendment_types)\n  app/workers/zuora_callback_worker.rb:40:in `perform'\n    result = create_order\n```\n\n## Workarounds\n\nN/A\n\n## Reported examples\n\nSentry currently has 8 examples.","state":"closed","created_at":"2023-02-15T08:51:10.325Z","updated_at":"2023-04-06T01:35:51.157Z","closed_at":"2023-04-06T01:35:51.130Z","closed_by":{"id":1986039,"username":"lulalala","name":"Mark Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1986039/avatar.png","web_url":"https://gitlab.com/lulalala"},"labels":["Category:SaaS Provisioning","SaaS Provisioning","backend","bug::functional","devops::fulfillment","group::provision","missed:15.10","section::fulfillment","severity::2","type::bug","workflow::in review"],"milestone":{"id":2910456,"iid":86,"group_id":9970,"title":"15.11","description":"","state":"active","created_at":"2022-12-13T20:08:46.985Z","updated_at":"2022-12-13T20:08:46.985Z","due_date":"2023-04-17","start_date":"2023-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/86"},"assignees":[{"id":1986039,"username":"lulalala","name":"Mark Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1986039/avatar.png","web_url":"https://gitlab.com/lulalala"}],"author":{"id":402401,"username":"jobbot","name":"Bot","state":"active","avatar_url":"https://secure.gravatar.com/avatar/aaa6738f1ebf25404010884af511b0e7?s=80\u0026d=identicon","web_url":"https://gitlab.com/jobbot"},"type":"ISSUE","assignee":{"id":1986039,"username":"lulalala","name":"Mark Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1986039/avatar.png","web_url":"https://gitlab.com/lulalala"},"user_notes_count":17,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5734","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5734","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5734/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5734/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5734","relative":"#5734","full":"gitlab-org/customers-gitlab-com#5734"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":"on_track"},{"id":123695101,"iid":5729,"project_id":2670515,"title":"Enhance SeatsUsagePresenter to validate subscription.main_product","description":"From MR discussion https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/6511#note_1278836726\n\nIn case of order.subscription does not have `main_product`, the SeatsUsagePresenter will be in some unexpected behaviour.\n\nWe could enhance the `SeatsUsagePresenter` to validate `subscription.main_product`. This could be a simple check in initializer:\n```\n  def initialize(order:, customer:, seat_link: nil)\n    @order = order\n    @seat_link = seat_link\n    @customer = customer\n    @subscription = @order.subscription_on(Date.current - 1.day) # or whatever we decided\n    raise ArgumentError, 'Order has no subscription' unless subscription\n    raise ArgumentError, 'Order subscription has no main_product' unless subscription.main_product\n\n    @monthly_seat_digest_notification_cutoff = @order.monthly_seat_digest_notified_on || @subscription.term_start_date\n  end\n```\n\n\n### Problem\n\n### Proposal\n\n\u003c!-- Consult with `@gitlab-com/business-technology/enterprise-apps/zuora-architects` on the ~\"Enterprise Applications\" team if Zuora business logic is involved. --\u003e\n\n### Result\n\n### Next steps (if any)\n\n### How will we measure success?","state":"closed","created_at":"2023-02-15T01:02:06.036Z","updated_at":"2023-02-16T09:10:27.968Z","closed_at":"2023-02-16T09:10:27.945Z","closed_by":{"id":12697370,"username":"mhamda","name":"Mohamed Hamda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12697370/avatar.png","web_url":"https://gitlab.com/mhamda"},"labels":["Category:Consumables Cost Management","devops::fulfillment","group::utilization","maintenance::refactor","section::fulfillment","type::maintenance","workflow::complete"],"milestone":{"id":2745650,"iid":84,"group_id":9970,"title":"15.9","description":"","state":"active","created_at":"2022-08-22T16:58:02.303Z","updated_at":"2022-08-22T16:58:02.303Z","due_date":"2023-02-17","start_date":"2023-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/84"},"assignees":[{"id":12697370,"username":"mhamda","name":"Mohamed Hamda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12697370/avatar.png","web_url":"https://gitlab.com/mhamda"}],"author":{"id":4098809,"username":"qzhaogitlab","name":"Qingyu Zhao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4098809/avatar.png","web_url":"https://gitlab.com/qzhaogitlab"},"type":"ISSUE","assignee":{"id":12697370,"username":"mhamda","name":"Mohamed Hamda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12697370/avatar.png","web_url":"https://gitlab.com/mhamda"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5729","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5729","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5729/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5729/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5729","relative":"#5729","full":"gitlab-org/customers-gitlab-com#5729"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":123677479,"iid":5725,"project_id":2670515,"title":"Add Grafana dashboard to show new MTTR indicator","description":"### Proposal\n\nThis is the second issue listed in [this issue breakdown](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5582#issue-breakdown).\n\nAfter being able [to provide new metrics](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5718) tracking when CustomersDot enters and leaves maintenance mode, we now need to update [the Runbooks project](https://gitlab.com/gitlab-com/runbooks) with new dashboards based on this new metric, on the Fulfillment Platform group page.\n\n### Result\n\nDashboards showing the amount of time CustomersDot Production was in maintenance mode.","state":"closed","created_at":"2023-02-14T16:26:33.900Z","updated_at":"2023-04-21T12:09:19.632Z","closed_at":"2023-04-20T12:10:57.662Z","closed_by":{"id":4192493,"username":"ebaque","name":"Etienne Baqué","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4192493/avatar.png","web_url":"https://gitlab.com/ebaque"},"labels":["devops::fulfillment","group::fulfillment platform","maintenance::workflow","missed:15.10","missed:15.11","section::fulfillment","type::maintenance","workflow::in review"],"milestone":{"id":2633524,"iid":80,"group_id":9970,"title":"16.0","description":"","state":"active","created_at":"2022-05-30T16:25:25.778Z","updated_at":"2022-05-30T16:25:25.778Z","due_date":"2023-05-17","start_date":"2023-04-18","expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/80"},"assignees":[{"id":4192493,"username":"ebaque","name":"Etienne Baqué","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4192493/avatar.png","web_url":"https://gitlab.com/ebaque"}],"author":{"id":4192493,"username":"ebaque","name":"Etienne Baqué","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4192493/avatar.png","web_url":"https://gitlab.com/ebaque"},"type":"ISSUE","assignee":{"id":4192493,"username":"ebaque","name":"Etienne Baqué","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4192493/avatar.png","web_url":"https://gitlab.com/ebaque"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5725","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5725","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5725/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5725/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5725","relative":"#5725","full":"gitlab-org/customers-gitlab-com#5725"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":9894,"epic":{"id":749118,"iid":9894,"title":"Fulfillment Platform PI instrumentalization: Developer Productivity","url":"/groups/gitlab-org/-/epics/9894","group_id":9970,"human_readable_end_date":"May 17, 2023","human_readable_timestamp":"\u003cstrong\u003e11\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":123665703,"iid":5722,"project_id":2670515,"title":"Follow-up on writing test for lib/gem_extensions/iron_bank/client.rb","description":"Write additional tests around logging for `lib/gem_extensions/iron_bank/client.rb`\n\nSee original MR for more details: https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/6493","state":"closed","created_at":"2023-02-14T13:32:01.943Z","updated_at":"2023-02-20T10:04:50.454Z","closed_at":"2023-02-14T21:01:44.163Z","closed_by":{"id":4192493,"username":"ebaque","name":"Etienne Baqué","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4192493/avatar.png","web_url":"https://gitlab.com/ebaque"},"labels":["devops::fulfillment","group::fulfillment platform","section::fulfillment","type::maintenance"],"milestone":{"id":2745651,"iid":85,"group_id":9970,"title":"15.10","description":"","state":"active","created_at":"2022-08-22T16:58:22.132Z","updated_at":"2022-08-22T16:58:22.132Z","due_date":"2023-03-17","start_date":"2023-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/85"},"assignees":[{"id":4192493,"username":"ebaque","name":"Etienne Baqué","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4192493/avatar.png","web_url":"https://gitlab.com/ebaque"}],"author":{"id":4192493,"username":"ebaque","name":"Etienne Baqué","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4192493/avatar.png","web_url":"https://gitlab.com/ebaque"},"type":"ISSUE","assignee":{"id":4192493,"username":"ebaque","name":"Etienne Baqué","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4192493/avatar.png","web_url":"https://gitlab.com/ebaque"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5722","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5722","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5722/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5722/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5722","relative":"#5722","full":"gitlab-org/customers-gitlab-com#5722"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":123656285,"iid":5721,"project_id":2670515,"title":"Link to group button is shown for CI minutes, storage and expired ramp subscriptions","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n### Problem\n`Link subscription to group` button is shown in scenarios below for which it should not be shown.\n\n| Scenario | Screenshot |\n| ------ | ------ |\n|  CI minutes only subscription      | ![image](/uploads/a8f503e0c722fd6c34c096c44d174d8c/image.png)       |\n|  Storage only subscription      | ![image](/uploads/b6ffa513231ab68ebd94b0f4a4b932d2/image.png)       |\n| Expired subscription | ![image](/uploads/65824d2751c7864d04eab6073fb6dcfc/image.png) |\n\n### Proposal\nAdd a condition to [`showLinkSubscription`](https://gitlab.com/gitlab-org/customers-gitlab-com/blob/a4eaa5d5e73a2e0da9d2d9802409c989e8f648a1/app/frontend/javascripts/subscription/components/subscription_v2/subscription_v2.vue#L119-119) to check for [`!hasExpired`](https://gitlab.com/gitlab-org/customers-gitlab-com/blob/a4eaa5d5e73a2e0da9d2d9802409c989e8f648a1/app/frontend/javascripts/subscription/components/subscription_v2/subscription_v2.vue#L124-124) and [`subscription.changeLinkedGroupPath`](https://gitlab.com/gitlab-org/customers-gitlab-com/blob/a4eaa5d5e73a2e0da9d2d9802409c989e8f648a1/app/frontend/javascripts/subscription/components/subscription_v2/subscription_v2.vue#L233-233) exists.\n\u003c!-- Consult with `@gitlab-com/business-technology/enterprise-apps/zuora-architects` on the ~\"Enterprise Applications\" team if Zuora business logic is involved. --\u003e\n\n### Result\n\n### Next steps (if any)\n\n### How will we measure success?","state":"closed","created_at":"2023-02-14T12:11:16.741Z","updated_at":"2023-02-24T15:08:59.057Z","closed_at":"2023-02-24T15:08:59.021Z","closed_by":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"labels":["Category:Subscription Management","SUS::Non-impacting","UX","bug::ux","devops::fulfillment","frontend","group::billing and subscription management","priority::3","section::fulfillment","severity::3","type::bug","workflow::complete"],"milestone":{"id":2745651,"iid":85,"group_id":9970,"title":"15.10","description":"","state":"active","created_at":"2022-08-22T16:58:22.132Z","updated_at":"2022-08-22T16:58:22.132Z","due_date":"2023-03-17","start_date":"2023-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/85"},"assignees":[{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"}],"author":{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"},"type":"ISSUE","assignee":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"user_notes_count":16,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5721","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5721","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5721/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5721/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5721","relative":"#5721","full":"gitlab-org/customers-gitlab-com#5721"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8748,"epic":{"id":602374,"iid":8748,"title":"Ramps subscription display in Customers Portal and gitlab.com","url":"/groups/gitlab-org/-/epics/8748","group_id":9970,"human_readable_end_date":"May 31, 2023","human_readable_timestamp":"\u003cstrong\u003e25\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":123621482,"iid":5718,"project_id":2670515,"title":"Allow Prometheus collection of maintenance events","description":"### Proposal\n\nThis is the first issue listed in [this issue breakdown](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5582#issue-breakdown).\n\n[Our custom Prometheus Collector](https://gitlab.com/gitlab-org/customers-gitlab-com/blob/main/lib/metrics/collector.rb) allows us to collect metrics related to duration of execution of requests (web and api) and Sidekiq jobs, which ultimately leads to the definition of error budgets for the Fulfillment team.\n\nIn order to create a new metric that would send amount of time CustomersDot was in maintenance mode:\n1. [ ] [the `Metrics::Prometheus::EmitsMetrics` module](https://gitlab.com/gitlab-org/customers-gitlab-com/blob/main/lib/metrics/prometheus/emits_metrics.rb) needs to be included in the HealthCheck cron jobs ([here](https://gitlab.com/gitlab-org/customers-gitlab-com/blob/main/app/jobs/health_check_cron/check_gitlab_job.rb) and [here](https://gitlab.com/gitlab-org/customers-gitlab-com/blob/main/app/jobs/health_check_cron/check_zuora_job.rb)) and [the maintenance rake task](https://gitlab.com/gitlab-org/customers-gitlab-com/blob/main/lib/tasks/maintenance_mode.rake). Related methods such as `prometheus_collector` and `thread_data` will need to be implemented and tailored to jobs and the rake task.\n2. [ ] we need to build upon the existing current Collector framework to create a new metric label.\n3. [ ] finally, we'll have to capture maintenance events in the rake task and cron jobs.\n\n### Architecture\n\n```mermaid\nflowchart TD  \n    J[Health cron job in\\nSidekiq process 1] --\u003e I[Redis\\ngitlab_maintenance_mode: 0 or 1\\nzuora_maintenance_mode: 0 or 1\\ncustomersdot_maintenance_mode: 0 or 1]\n    K[Health cron job in\\nSidekiq process 2] --\u003e I[Redis\\ngitlab_maintenance_mode: 0 or 1\\nzuora_maintenance_mode: 0 or 1\\ncustomersdot_maintenance_mode: 0 or 1]\n    L[...] --\u003e I[Redis\\ngitlab_maintenance_mode: 0 or 1\\nzuora_maintenance_mode: 0 or 1\\ncustomersdot_maintenance_mode: 0 or 1]\n    M[Rake task process for\\nmanual maintenance mode] --\u003e I[-- Redis --\\ngitlab_maintenance_mode: 0 or 1\\nzuora_maintenance_mode: 0 or 1\\ncustomersdot_maintenance_mode: 0 or 1]\n```\n\n```mermaid\nflowchart TD\n    P(/metrics) --\u003e N[Prometheus Exporter middleware]\n    N[Prometheus Exporter middleware] --\u003e O[1. Collector updates gauges based on values set in Redis\\n2. Exporter exposes metrics at '/metrics' endpoint]\n\n```\n\n### Result\n\nThe `/metrics` endpoint should serve labels and metrics related to the existing types of CustomersDot maintenance (Gitlab, Zuora or manual).\n\n### Next steps (if any)\n\nWork on the Grafana implementation, directly in the runbooks project. See [this issue](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5725) for more details.","state":"closed","created_at":"2023-02-13T21:53:08.318Z","updated_at":"2023-04-04T06:41:33.801Z","closed_at":"2023-04-03T18:48:20.288Z","closed_by":{"id":4192493,"username":"ebaque","name":"Etienne Baqué","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4192493/avatar.png","web_url":"https://gitlab.com/ebaque"},"labels":["devops::fulfillment","feature::addition","group::fulfillment platform","missed:15.10","section::fulfillment","type::feature","workflow::in review"],"milestone":{"id":2910456,"iid":86,"group_id":9970,"title":"15.11","description":"","state":"active","created_at":"2022-12-13T20:08:46.985Z","updated_at":"2022-12-13T20:08:46.985Z","due_date":"2023-04-17","start_date":"2023-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/86"},"assignees":[{"id":4192493,"username":"ebaque","name":"Etienne Baqué","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4192493/avatar.png","web_url":"https://gitlab.com/ebaque"}],"author":{"id":4192493,"username":"ebaque","name":"Etienne Baqué","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4192493/avatar.png","web_url":"https://gitlab.com/ebaque"},"type":"ISSUE","assignee":{"id":4192493,"username":"ebaque","name":"Etienne Baqué","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4192493/avatar.png","web_url":"https://gitlab.com/ebaque"},"user_notes_count":22,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5718","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5718","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5718/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5718/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5718","relative":"#5718","full":"gitlab-org/customers-gitlab-com#5718"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":9894,"epic":{"id":749118,"iid":9894,"title":"Fulfillment Platform PI instrumentalization: Developer Productivity","url":"/groups/gitlab-org/-/epics/9894","group_id":9970,"human_readable_end_date":"May 17, 2023","human_readable_timestamp":"\u003cstrong\u003e11\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":123620988,"iid":5717,"project_id":2670515,"title":"Link to CDot from Version App should use BillingAccount instead of Customer","description":"### Problem\n\nThe [version.gitlab.com application](https://gitlab.com/gitlab-services/version-gitlab-com) links to a Customer show page in CDot Admin from its Hosts index page.  [This is where the link is generated](https://gitlab.com/gitlab-services/version-gitlab-com/-/blob/master/app/helpers/current_host_stats_helper.rb#L69) in the Version App.  There is a [secret configured](https://gitlab.com/gitlab-services/version-gitlab-com/-/blob/master/config/secrets.yml#L15) for `customers_admin_url` that uses the value `http://localhost:5000/admin/customer`.\n\nWith the change to using the new BillingAccount data structure, the real `salesforce_account_id` column exists on BillingAccount.  This column still exists on `Customer` but should no longer be used and will be removed in the future.\n\nNote: The link from VersionApp to CDot works because the customer URL uses the `salesforce_account_id` (e.g. `http://localhost:5000/admin/customer/00164000010c3XFABY`).  This lookup works in RailsAdmin because of [this code](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/4ae39fa629f11d88d5575837412df990e624b9a5/config/initializers/rails_admin.rb#L160) in the initializer.\n\n**UPDATE:** We [realized a problem with the original solution](https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/6527#note_1278726123). If there are multiple Customers (and now BillingAccounts) with the same `salesforce_account_id`, this lookup logic picks the first record which could be misleading for Admins linking from VersionApp.\n\n### Proposal\n\nThe link in VersionApp should be updated to direct Admins to the BillingAccount instead of a Customer.  Also, the link should go to the BillingAccount list page with the salesforce_account_id prefilled in the search to avoid any confusion mentioned above.\n\nThere are a couple of changes that are necessary to make this happen.\n\n1. [x] Update version-gitlab-com app code to point to the BillingAccount search page (e.g. `https://customers.staging.gitlab.com/admin/billing_account?\u0026model_name=billing_account\u0026query=0017400000DGjddAAD`).  This will require an update to [the secrets file](https://gitlab.com/gitlab-services/version-gitlab-com/-/blob/master/config/secrets.yml#L15).  For production, this may need to be updated via a secrets vault.\n   - https://gitlab.com/gitlab-services/version-gitlab-com/-/merge_requests/726\n1. [x] The RailsAdmin initializer overrides the lookup adapter to allow `salesforce_account_id` to be used as id.  This override logic will no longer be necessary when the change to Version App above is merged/deployed.\n   - https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/6527","state":"closed","created_at":"2023-02-13T21:40:30.447Z","updated_at":"2023-02-22T17:00:33.629Z","closed_at":"2023-02-22T17:00:33.263Z","closed_by":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"labels":["backend","devops::fulfillment","group::fulfillment platform","maintenance::refactor","missed:15.9","section::fulfillment","type::maintenance","workflow::complete"],"milestone":{"id":2745651,"iid":85,"group_id":9970,"title":"15.10","description":"","state":"active","created_at":"2022-08-22T16:58:22.132Z","updated_at":"2022-08-22T16:58:22.132Z","due_date":"2023-03-17","start_date":"2023-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/85"},"assignees":[{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"}],"author":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"type":"ISSUE","assignee":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5717","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":2},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5717","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5717/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5717/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5717","relative":"#5717","full":"gitlab-org/customers-gitlab-com#5717"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8950,"epic":{"id":621714,"iid":8950,"title":"Iteration 1A: Align CustomersDot BillingAccounts and Users to Zuora objects","url":"/groups/gitlab-org/-/epics/8950","group_id":9970,"human_readable_end_date":"Mar 17, 2023","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":123620091,"iid":5716,"project_id":2670515,"title":"Create new model to track maintenance mode events","description":"### Proposal\n\nThis is the first issue listed in [this issue breakdown](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5582#issue-breakdown).\n\nWe need to record information related to events when CustomersDot enters and leaves maintenance mode.\n\nEven though such information will be sent to Prometheus as a metric (more infor in [related issue](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5582)) and therefore we don't need long-term persistence, we still need to be able to record the event (maintenance) start time. This cannot be achieved through Rails caching or through some sort of global variable as a Puma restart might happen during a maintenance.\n\nThis issue tracks efforts towards the creation of such model.\n\n### Result\n\nA very small table with one row per type of maintenance:\n- maintenance triggered because GitLab is not reachable\n- maintenance triggered because Zuora is not reachable\n- maintenance mode triggered manually (through the `customers:maintenance_mode` rake task)\n\n### Next steps (if any)\n\nNext issue listed in https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5582#issue-breakdown","state":"closed","created_at":"2023-02-13T21:27:11.138Z","updated_at":"2023-02-14T21:05:46.284Z","closed_at":"2023-02-14T21:04:41.159Z","closed_by":{"id":4192493,"username":"ebaque","name":"Etienne Baqué","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4192493/avatar.png","web_url":"https://gitlab.com/ebaque"},"labels":["devops::fulfillment","feature::addition","group::fulfillment platform","section::fulfillment","type::feature"],"milestone":{"id":2745651,"iid":85,"group_id":9970,"title":"15.10","description":"","state":"active","created_at":"2022-08-22T16:58:22.132Z","updated_at":"2022-08-22T16:58:22.132Z","due_date":"2023-03-17","start_date":"2023-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/85"},"assignees":[{"id":4192493,"username":"ebaque","name":"Etienne Baqué","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4192493/avatar.png","web_url":"https://gitlab.com/ebaque"}],"author":{"id":4192493,"username":"ebaque","name":"Etienne Baqué","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4192493/avatar.png","web_url":"https://gitlab.com/ebaque"},"type":"ISSUE","assignee":{"id":4192493,"username":"ebaque","name":"Etienne Baqué","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4192493/avatar.png","web_url":"https://gitlab.com/ebaque"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5716","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5716","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5716/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5716/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5716","relative":"#5716","full":"gitlab-org/customers-gitlab-com#5716"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":123568114,"iid":5713,"project_id":2670515,"title":"Incorrect purchase date shown for CI minutes and true up products in ramp subscription","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n### Problem\nCurrently the CI minutes and true-up product sections show the `startDate` value in the `Purchase date` column which is incorrect. It should instead be showing `createdAt` value.  \n\n![image](/uploads/2f648069155b021e357a79aef64447f2/image.png)  \n![image](/uploads/a1f5c0c47a513a44f3bbba12367f4560/image.png)\n\n### Proposal\nShow the displayed value from the `createdAt` field.\n\n\u003c!-- Consult with `@gitlab-com/business-technology/enterprise-apps/zuora-architects` on the ~\"Enterprise Applications\" team if Zuora business logic is involved. --\u003e\n\n### Result\nCorrect value from `createdAt` field should be shown in `Purchase date` column.\n\n### Next steps (if any)\n\n### How will we measure success?","state":"closed","created_at":"2023-02-13T06:46:10.955Z","updated_at":"2023-02-15T07:23:02.919Z","closed_at":"2023-02-15T07:23:02.894Z","closed_by":{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"},"labels":["Category:Subscription Management","UX","Unplanned","devops::fulfillment","frontend","group::billing and subscription management","section::fulfillment","type::bug","workflow::complete"],"milestone":{"id":2745650,"iid":84,"group_id":9970,"title":"15.9","description":"","state":"active","created_at":"2022-08-22T16:58:02.303Z","updated_at":"2022-08-22T16:58:02.303Z","due_date":"2023-02-17","start_date":"2023-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/84"},"assignees":[{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"}],"author":{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"},"type":"ISSUE","assignee":{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"},"user_notes_count":3,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5713","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5713","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5713/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5713/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5713","relative":"#5713","full":"gitlab-org/customers-gitlab-com#5713"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8748,"epic":{"id":602374,"iid":8748,"title":"Ramps subscription display in Customers Portal and gitlab.com","url":"/groups/gitlab-org/-/epics/8748","group_id":9970,"human_readable_end_date":"May 31, 2023","human_readable_timestamp":"\u003cstrong\u003e25\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":123534060,"iid":5712,"project_id":2670515,"title":"Refactor dotcom_subscription_renew_form subtotal, discount, and tax into their own component","description":"\n### Problem\nThe [dotcom_renew](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/d5063afcd856447e8e68e343b915ddf1a0ec5628/app/frontend/javascripts/subscription/components/dotcom_subscription_renew_form.vue#L370) subtotal, discount, and tax components bloat the template by being listed separately, especially since the values are related.\n\n### Proposal\nSince these items share styling behavior and live in their own \"section\", split them into their own grouped component to improve testing story and reduce the template complexity. Also reuse these components across the SaaS (`dotcom_subscription_renew_form.vue`) and SM (`subscription_renew_form.vue`) components if feasible.\n\nAdd tests for the newly introduced component to verify both the existence of the headers as well as the amounts.","state":"closed","created_at":"2023-02-12T00:19:38.799Z","updated_at":"2023-03-28T17:57:04.752Z","closed_at":"2023-03-28T17:57:03.397Z","closed_by":{"id":10770603,"username":"lmeckley","name":"Laura Meckley","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10770603/avatar.png","web_url":"https://gitlab.com/lmeckley"},"labels":["BSM::Renewal","Category:Subscription Management","devops::fulfillment","frontend","group::billing and subscription management","maintenance::refactor","section::fulfillment","type::maintenance","workflow::complete"],"milestone":{"id":2910456,"iid":86,"group_id":9970,"title":"15.11","description":"","state":"active","created_at":"2022-12-13T20:08:46.985Z","updated_at":"2022-12-13T20:08:46.985Z","due_date":"2023-04-17","start_date":"2023-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/86"},"assignees":[{"id":10770603,"username":"lmeckley","name":"Laura Meckley","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10770603/avatar.png","web_url":"https://gitlab.com/lmeckley"}],"author":{"id":10770603,"username":"lmeckley","name":"Laura Meckley","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10770603/avatar.png","web_url":"https://gitlab.com/lmeckley"},"type":"ISSUE","assignee":{"id":10770603,"username":"lmeckley","name":"Laura Meckley","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10770603/avatar.png","web_url":"https://gitlab.com/lmeckley"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5712","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5712","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5712/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5712/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5712","relative":"#5712","full":"gitlab-org/customers-gitlab-com#5712"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":123480016,"iid":5710,"project_id":2670515,"title":"Promote `account_data_structure` feature and remove feature flag checks","description":"### Background\n\nAs noted in [the feature flag rollout issue](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4867), the `account_data_structure` feature flag has been enabled in all environments.  It was [enabled in Production on Monday, 2023-02-06](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4867#note_1267484731).  We haven't noticed any major issues so far that have required disabling the feature flag and we will continue to monitor it.\n\n### Proposal\n\nIf after a week (anytime after 2023-02-13), the feature flag is still stable, we should feel comfortable promoting the `account_data_structure` feature flag and removing the legacy code and conditions from the application code.\n\nWhile removing the feature flag checks, we may encounter opportunities to refactor and simplifying existing logic.","state":"closed","created_at":"2023-02-10T14:38:08.107Z","updated_at":"2023-03-15T13:56:30.810Z","closed_at":"2023-03-15T13:56:24.409Z","closed_by":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"labels":["backend","devops::fulfillment","group::fulfillment platform","maintenance::refactor","missed:15.9","section::fulfillment","type::maintenance","workflow::complete"],"milestone":{"id":2745651,"iid":85,"group_id":9970,"title":"15.10","description":"","state":"active","created_at":"2022-08-22T16:58:22.132Z","updated_at":"2022-08-22T16:58:22.132Z","due_date":"2023-03-17","start_date":"2023-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/85"},"assignees":[{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"}],"author":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"type":"ISSUE","assignee":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"user_notes_count":27,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5710","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5710","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5710/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5710/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5710","relative":"#5710","full":"gitlab-org/customers-gitlab-com#5710"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8950,"epic":{"id":621714,"iid":8950,"title":"Iteration 1A: Align CustomersDot BillingAccounts and Users to Zuora objects","url":"/groups/gitlab-org/-/epics/8950","group_id":9970,"human_readable_end_date":"Mar 17, 2023","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":123374908,"iid":5695,"project_id":2670515,"title":"Sync billing accounts without salesforce id","description":"### Problem\n\nWe need to make sure that the `BillingAccount#salesforce_account_id` is always set to the Zuora account `crm_id`.\n\nIt is OK to have blank `salesforce_account_ids` as long as the values for these in Zuora are also blank. [Reference - external](https://gitlab.slack.com/archives/C037WQ2BUGK/p1675884549880319?thread_ts=1675801765.250799\u0026cid=C037WQ2BUGK)\n\n\u003e There are some valid use cases where a Zuora Billing Account does not have an SFDC CRM ID - when we switch entity, we want to use the new Billing Account, the Account is in Zuora for non-sales reasons (such as marketing), etc.\n\nWe currently have occurrences of `BillingAccount#salesforce_account_id` [being blank on our end and not in Zuora](https://customers.gitlab.com/admin/billing_account/1284). This looks like an old billing account that might have been created before the `UpdateBillingAccountService` was [updated](https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/6078/diffs) to set the `salesforce_account_id` attribute.\n\n### Proposal\n\n- [x] Write a task that will sync the `BillingAccount` records that have `salesforce_account_id` set to `nil` (aprox. 1950): https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/6491\n- [x] Execute task in production\n- [ ] [Once the task is executed] Create and own a small issue to periodically monitor new occurrences through the next month (hopefully none)\n\n\u003c!-- Consult with `@gitlab-com/business-technology/enterprise-apps/zuora-architects` on the ~\"Enterprise Applications\" team if Zuora business logic is involved. --\u003e\n\n### Result\n\n### Next steps (if any)\n\n### How will we measure success?","state":"closed","created_at":"2023-02-09T14:30:04.918Z","updated_at":"2023-02-16T16:26:31.165Z","closed_at":"2023-02-10T21:42:11.376Z","closed_by":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"labels":["[deprecated] Category:Fulfillment Platform","backend","devops::fulfillment","group::fulfillment platform","maintenance::refactor","section::fulfillment","type::maintenance","workflow::complete"],"milestone":{"id":2745650,"iid":84,"group_id":9970,"title":"15.9","description":"","state":"active","created_at":"2022-08-22T16:58:02.303Z","updated_at":"2022-08-22T16:58:02.303Z","due_date":"2023-02-17","start_date":"2023-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/84"},"assignees":[{"id":5667561,"username":"vshumilo","name":"Vladlena Shumilo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08dfa82785d130c151ab9e21caeab4e3?s=80\u0026d=identicon","web_url":"https://gitlab.com/vshumilo"}],"author":{"id":5667561,"username":"vshumilo","name":"Vladlena Shumilo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08dfa82785d130c151ab9e21caeab4e3?s=80\u0026d=identicon","web_url":"https://gitlab.com/vshumilo"},"type":"ISSUE","assignee":{"id":5667561,"username":"vshumilo","name":"Vladlena Shumilo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08dfa82785d130c151ab9e21caeab4e3?s=80\u0026d=identicon","web_url":"https://gitlab.com/vshumilo"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5695","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":2},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5695","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5695/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5695/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5695","relative":"#5695","full":"gitlab-org/customers-gitlab-com#5695"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8950,"epic":{"id":621714,"iid":8950,"title":"Iteration 1A: Align CustomersDot BillingAccounts and Users to Zuora objects","url":"/groups/gitlab-org/-/epics/8950","group_id":9970,"human_readable_end_date":"Mar 17, 2023","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":123324249,"iid":5692,"project_id":2670515,"title":"Link to Zuora Account from the Billing Account CDot Admin pages","description":"### Problem\n\nThe BillingAccount list and show pages in CDot admin currently show a Zuora Account ID but without a link to the Zuora Account page.  It would be more convenient to have a link instead of forcing Admins to copy and paste this into Zuora.\n\n### Proposal\n\nUpdate the CDot Admin page for BillingAccounts to include a link to the Zuora Account.","state":"closed","created_at":"2023-02-08T20:28:24.186Z","updated_at":"2023-02-09T20:32:42.448Z","closed_at":"2023-02-09T20:32:42.387Z","closed_by":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"labels":["backend","devops::fulfillment","feature::enhancement","group::fulfillment platform","section::fulfillment","type::feature","workflow::complete"],"milestone":{"id":2745650,"iid":84,"group_id":9970,"title":"15.9","description":"","state":"active","created_at":"2022-08-22T16:58:02.303Z","updated_at":"2022-08-22T16:58:02.303Z","due_date":"2023-02-17","start_date":"2023-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/84"},"assignees":[{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"}],"author":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"type":"ISSUE","assignee":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"user_notes_count":2,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5692","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5692","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5692/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5692/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5692","relative":"#5692","full":"gitlab-org/customers-gitlab-com#5692"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8950,"epic":{"id":621714,"iid":8950,"title":"Iteration 1A: Align CustomersDot BillingAccounts and Users to Zuora objects","url":"/groups/gitlab-org/-/epics/8950","group_id":9970,"human_readable_end_date":"Mar 17, 2023","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":123241163,"iid":5688,"project_id":2670515,"title":"Add `zuora_account_number` and `zuora_entity` to BillingAccount","description":"### Problem\n\nWe've found there are scenarios where it is useful to be able to distinguish between two BillingAccounts that have the same name.  In https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5687, we want to show the Zuora Account Number in addition to the Name in some CDot Admin pages.\n\nWe also found that it would be useful to show BillingAccount Entity as well.  While we are adding Account Number, we can include Entity as well.\n\n### Proposal\n\nLet's add the Zuora Account Number and Entity to the fields cached from Zuora on BillingAccount.  This will involve a few changes:\n\n1. [x] - Engage the Finsys team via an issue (e.g. https://gitlab.com/gitlab-com/business-technology/enterprise-apps/financeops/finance-systems/-/issues/886) to update the existing \"Account Update\" Custom Event in Zuora to include changes to the `Account Number` and `Entity` fields.  I don't believe the Callout Notification will need to be updated as we only need the Account ID which is already in place.\n   - https://gitlab.com/gitlab-com/business-technology/enterprise-apps/financeops/finance-systems/-/issues/1126\n1. [x] - Add columns `zuora_account_number` and `zuora_entity` to the `billing_accounts` table in CDot.\n1. [x] - Update the Billing Account / Zuora Account syncing logic in CDot\n   - [in the `BillingAccount` model](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/fef84cce0f4a2600f7591105eb68596462e108b1/app/models/billing_account.rb#L25)\n   - [in the `UpdateBillingAccountService`](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/fef84cce0f4a2600f7591105eb68596462e108b1/app/services/customers/update_billing_account_service.rb#L50))\n1. [x] - Update documentation\n   - [data_architecture.md](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/83a95b12efd44ce00ea03d26e3c953a310d8228f/doc/architecture/data_architecture.md#L90)\n   - [zuora_callouts.md](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/1ba32625852d05582e328e3b2f46e4df7e335d2f/doc/zuora/zuora_callouts.md#L295)\n1. [x] - Add `Account Number` and `Entity` to Billing Account pages (list, show) in CDot Admin\n1. [x] - Create and run rake task to backfill `zuora_account_number` and `zuora_entity` for existing BillingAccounts","state":"closed","created_at":"2023-02-07T19:09:46.768Z","updated_at":"2023-03-06T13:42:41.338Z","closed_at":"2023-03-06T11:55:47.045Z","closed_by":{"id":11217480,"username":"tvellishetty","name":"Tarun Vellishetty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11217480/avatar.png","web_url":"https://gitlab.com/tvellishetty"},"labels":["backend","devops::fulfillment","feature::addition","group::fulfillment platform","missed:15.9","section::fulfillment","type::feature","workflow::complete"],"milestone":{"id":2745651,"iid":85,"group_id":9970,"title":"15.10","description":"","state":"active","created_at":"2022-08-22T16:58:22.132Z","updated_at":"2022-08-22T16:58:22.132Z","due_date":"2023-03-17","start_date":"2023-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/85"},"assignees":[{"id":11217480,"username":"tvellishetty","name":"Tarun Vellishetty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11217480/avatar.png","web_url":"https://gitlab.com/tvellishetty"}],"author":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"type":"ISSUE","assignee":{"id":11217480,"username":"tvellishetty","name":"Tarun Vellishetty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11217480/avatar.png","web_url":"https://gitlab.com/tvellishetty"},"user_notes_count":15,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5688","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":6,"completed_count":6},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5688","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5688/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5688/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5688","relative":"#5688","full":"gitlab-org/customers-gitlab-com#5688"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8950,"epic":{"id":621714,"iid":8950,"title":"Iteration 1A: Align CustomersDot BillingAccounts and Users to Zuora objects","url":"/groups/gitlab-org/-/epics/8950","group_id":9970,"human_readable_end_date":"Mar 17, 2023","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":123237564,"iid":5687,"project_id":2670515,"title":"Add Zuora Account Number to BillingAccountMembership display in CDot Admin","description":"## Problem\n\nIf admins search for a `Billing Account` in the `Billing Account Membership` section of CDot admin, it can happen that multiple `Billing Accounts` with the same name appear. \n\nThis makes it hard for the admin to identify the desired Billing Account.\n\nRelated [Slack thread](https://gitlab.slack.com/archives/C018C623KBJ/p1675744969835379?thread_ts=1675743272.802499\u0026cid=C018C623KBJ)\n\nScreenshot of current display:\n![image](/uploads/8c37f052b887bad8c380e3ecdae89029/image.png)\n\n## Proposal\n\nDisplay the Zuora Account Number (as displayed in `Billing Accounts`) in the Billing Account Membership search result list.\n\n## Result\n\nAdmins are able to distinct and  identify the right `Billing Account` faster in the `Billing Account Membership` search","state":"closed","created_at":"2023-02-07T17:57:08.626Z","updated_at":"2023-03-09T10:56:46.813Z","closed_at":"2023-03-09T10:56:46.783Z","closed_by":{"id":11217480,"username":"tvellishetty","name":"Tarun Vellishetty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11217480/avatar.png","web_url":"https://gitlab.com/tvellishetty"},"labels":["SUS::Impacting","devops::fulfillment","group::fulfillment platform","maintenance::usability","section::fulfillment","severity::4","type::maintenance","workflow::production"],"milestone":{"id":2745651,"iid":85,"group_id":9970,"title":"15.10","description":"","state":"active","created_at":"2022-08-22T16:58:22.132Z","updated_at":"2022-08-22T16:58:22.132Z","due_date":"2023-03-17","start_date":"2023-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/85"},"assignees":[{"id":11217480,"username":"tvellishetty","name":"Tarun Vellishetty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11217480/avatar.png","web_url":"https://gitlab.com/tvellishetty"}],"author":{"id":12801023,"username":"mgass1","name":"Manuel Gass","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12801023/avatar.png","web_url":"https://gitlab.com/mgass1"},"type":"ISSUE","assignee":{"id":11217480,"username":"tvellishetty","name":"Tarun Vellishetty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11217480/avatar.png","web_url":"https://gitlab.com/tvellishetty"},"user_notes_count":12,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5687","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5687","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5687/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5687/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5687","relative":"#5687","full":"gitlab-org/customers-gitlab-com#5687"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8950,"epic":{"id":621714,"iid":8950,"title":"Iteration 1A: Align CustomersDot BillingAccounts and Users to Zuora objects","url":"/groups/gitlab-org/-/epics/8950","group_id":9970,"human_readable_end_date":"Mar 17, 2023","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":123230328,"iid":5685,"project_id":2670515,"title":"Query on BillingAccountMemberships Admin list page does not work","description":"### Problem\n\nAs [reported by Support in Slack](https://gitlab.slack.com/archives/C018C623KBJ/p1675748921793539?thread_ts=1675743272.802499\u0026cid=C018C623KBJ), it appears that using the query field on the BillingAccountMemberships page does not work.  Entering any phrase in the input field and pressing enter, returns all results.  It appears the `query` param is coming through to the Rails Admin controller but isn't being used to filter results.\n\nExcerpt from my local server output:\n\n```\nStarted GET \"/admin/billing_account_membership?model_name=billing_account_membership\u0026query=Sam\u0026_pjax=%5Bdata-pjax-container%5D\" for ::1 at 2023-02-07 10:54:52 -0500\n...\nProcessing by RailsAdmin::MainController#index as HTML\n  Parameters: {\"model_name\"=\u003e\"billing_account_membership\", \"query\"=\u003e\"Sam\", \"_pjax\"=\u003e\"[data-pjax-container]\"}\n...\n  BillingAccountMembership Load (1.0ms)  SELECT \"billing_account_memberships\".* FROM \"billing_account_memberships\" ORDER BY billing_account_memberships.id desc LIMIT $1 OFFSET $2  [[\"LIMIT\", 20], [\"OFFSET\", 0]]\n```\n\n### Proposal\n\nFix the search so that Admins can search by the name of the Customer or Billing Account on this page.","state":"closed","created_at":"2023-02-07T16:00:19.632Z","updated_at":"2023-02-13T14:00:48.468Z","closed_at":"2023-02-13T14:00:48.436Z","closed_by":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"labels":["backend","bug::functional","devops::fulfillment","group::fulfillment platform","section::fulfillment","type::bug","workflow::complete"],"milestone":{"id":2745650,"iid":84,"group_id":9970,"title":"15.9","description":"","state":"active","created_at":"2022-08-22T16:58:02.303Z","updated_at":"2022-08-22T16:58:02.303Z","due_date":"2023-02-17","start_date":"2023-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/84"},"assignees":[{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"}],"author":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"type":"ISSUE","assignee":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5685","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5685","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5685/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5685/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5685","relative":"#5685","full":"gitlab-org/customers-gitlab-com#5685"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8950,"epic":{"id":621714,"iid":8950,"title":"Iteration 1A: Align CustomersDot BillingAccounts and Users to Zuora objects","url":"/groups/gitlab-org/-/epics/8950","group_id":9970,"human_readable_end_date":"Mar 17, 2023","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":123193282,"iid":5682,"project_id":2670515,"title":"Refactor Order manager service methods to a class method","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n### Problem\n\nFollow-up from https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4477, where order related services were refactored to use class methods.\n\n`OrderManagerService` was not refactored due to this [blocker](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4477#note_1033959684).\n\nNow that `check_availability` has been [removed](https://gitlab.com/gitlab-org/customers-gitlab-com/-/commit/01ff48be53339c51832d6909b5263dd9642a7fda), we can refactor `OrderManagerService` to use class methods.","state":"closed","created_at":"2023-02-07T11:22:38.141Z","updated_at":"2023-02-08T04:04:59.706Z","closed_at":"2023-02-08T04:04:59.672Z","closed_by":{"id":11217480,"username":"tvellishetty","name":"Tarun Vellishetty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11217480/avatar.png","web_url":"https://gitlab.com/tvellishetty"},"labels":["backend","devops::fulfillment","group::fulfillment platform","maintenance::refactor","section::fulfillment","type::maintenance","workflow::production"],"milestone":{"id":2745650,"iid":84,"group_id":9970,"title":"15.9","description":"","state":"active","created_at":"2022-08-22T16:58:02.303Z","updated_at":"2022-08-22T16:58:02.303Z","due_date":"2023-02-17","start_date":"2023-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/84"},"assignees":[{"id":11217480,"username":"tvellishetty","name":"Tarun Vellishetty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11217480/avatar.png","web_url":"https://gitlab.com/tvellishetty"}],"author":{"id":11217480,"username":"tvellishetty","name":"Tarun Vellishetty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11217480/avatar.png","web_url":"https://gitlab.com/tvellishetty"},"type":"ISSUE","assignee":{"id":11217480,"username":"tvellishetty","name":"Tarun Vellishetty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11217480/avatar.png","web_url":"https://gitlab.com/tvellishetty"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5682","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5682","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5682/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5682/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5682","relative":"#5682","full":"gitlab-org/customers-gitlab-com#5682"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":9502,"epic":{"id":682911,"iid":9502,"title":"Cleanup Subscribe and Amend API workflows","url":"/groups/gitlab-org/-/epics/9502","group_id":9970,"human_readable_end_date":"Mar 17, 2023","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":123160997,"iid":5677,"project_id":2670515,"title":"Improve SubscriptionV2 component accessibility","description":"\n### Proposal\n~~Wrap cards in `\u003carticle\u003e` tag. Use [`\u003carticles\u003e`](https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/Roles/article_role) for the SubscriptionV2 cards for better semantic separation, per [suggestion](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5615#note_1263050161) from `@kpalchyk`~~ Edit: This suggestion may require further R\u0026D based on this [discussion](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5615#note_1322266443).\n\nAlso make base_product_details_v2 a `\u003csection\u003e` for improved accessibility.\n\nEvaluate if any other components in the v2 directory need improvements, and create a new follow up issue that encompasses those.","state":"closed","created_at":"2023-02-06T22:44:15.379Z","updated_at":"2023-03-23T11:20:53.507Z","closed_at":"2023-03-23T11:20:53.479Z","closed_by":{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"},"labels":["Category:Subscription Management","SUS::Impacting","accessibility","devops::fulfillment","feature::enhancement","frontend","group::billing and subscription management","section::fulfillment","severity::4","type::feature","workflow::complete"],"milestone":{"id":2910456,"iid":86,"group_id":9970,"title":"15.11","description":"","state":"active","created_at":"2022-12-13T20:08:46.985Z","updated_at":"2022-12-13T20:08:46.985Z","due_date":"2023-04-17","start_date":"2023-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/86"},"assignees":[{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"}],"author":{"id":10770603,"username":"lmeckley","name":"Laura Meckley","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10770603/avatar.png","web_url":"https://gitlab.com/lmeckley"},"type":"ISSUE","assignee":{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5677","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5677","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5677/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5677/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5677","relative":"#5677","full":"gitlab-org/customers-gitlab-com#5677"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8748,"epic":{"id":602374,"iid":8748,"title":"Ramps subscription display in Customers Portal and gitlab.com","url":"/groups/gitlab-org/-/epics/8748","group_id":9970,"human_readable_end_date":"May 31, 2023","human_readable_timestamp":"\u003cstrong\u003e25\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":123157047,"iid":5676,"project_id":2670515,"title":"Improve usability from Customer show page in Admin interface","description":"### Problem\n\nWith the `account_data_structure` flag enabled, @jcolyer noted that it now takes mulitple steps to trace a particular Customer to their SFDC Account ID.  This data used to be present directly on the Customer show page in the CDot Admin interface.  Now, an Admin must click a link to the BillingAccountMembership, then click another link to the BillingAccount.  From here, they can see the Salesforce Account ID.\n\n\u003cdetails\u003e\u003csummary\u003eCurrent Flow\u003c/summary\u003e\n\n![Screenshot_2023-02-06_at_3.53.27_PM](/uploads/139fe629b90dbe88a283f0685a68d576/Screenshot_2023-02-06_at_3.53.27_PM.png)\n\n:arrow_heading_down: \n\n![Screenshot_2023-02-06_at_3.53.32_PM](/uploads/3525b85eba4ddf92c83f36e4962e4dca/Screenshot_2023-02-06_at_3.53.32_PM.png)\n\n:arrow_heading_down: \n\n![Screenshot_2023-02-06_at_3.53.41_PM](/uploads/83410daf122aa9331e3ef88cadddb1f1/Screenshot_2023-02-06_at_3.53.41_PM.png)\n\n\u003c/details\u003e\n\n### Proposal\n\nLet's try to improve this workflow. At the very least we could update the RailsAdmin config for Customers to include a section for BillingAccounts so that an Admin could link directly to the BillingAccount from the Customer show page.","state":"closed","created_at":"2023-02-06T20:57:36.036Z","updated_at":"2023-02-07T22:01:07.569Z","closed_at":"2023-02-07T22:01:07.438Z","closed_by":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"labels":["backend","devops::fulfillment","feature::enhancement","group::fulfillment platform","section::fulfillment","type::feature","workflow::complete"],"milestone":{"id":2745650,"iid":84,"group_id":9970,"title":"15.9","description":"","state":"active","created_at":"2022-08-22T16:58:02.303Z","updated_at":"2022-08-22T16:58:02.303Z","due_date":"2023-02-17","start_date":"2023-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/84"},"assignees":[{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"}],"author":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"type":"ISSUE","assignee":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5676","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5676","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5676/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5676/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5676","relative":"#5676","full":"gitlab-org/customers-gitlab-com#5676"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8951,"epic":{"id":621724,"iid":8951,"title":"Iteration 1B: A single CustomersDot BillingAccount can have multiple CustomersDot Users","url":"/groups/gitlab-org/-/epics/8951","group_id":9970,"human_readable_end_date":"Jul 31, 2023","human_readable_timestamp":"\u003cstrong\u003e3\u003c/strong\u003e months remaining"},"iteration":null,"health_status":null},{"id":123016800,"iid":5667,"project_id":2670515,"title":"Admin ability to view Bill To/Sold To Zuora Contact data","description":"### Problem\n\nCurrently CDot Admins have no visibility into the Bill To or Sold To Contacts associated with a Billing Account.  This must be managed directly in the Zuora UI.  It would be beneficial to the Support team to have management capabilities within the CDot Admin interface.\n\n### Proposal\n\nAdd the ability to view Bill To / Sold To Zuora Contact information from the CDot Admin interface.  This could be a page that can be accessed from the Billing Account page.\n\n![Screenshot_2023-02-03_at_11.27.58_AM](/uploads/f7b28bc18a3bc2688ee1dd78c077ed0b/Screenshot_2023-02-03_at_11.27.58_AM.png)\n\nThis is an MVC approach and focuses just on showing the Bill To and Sold To Contacts for the Zuora Account associated with the CDot `BillingAccount`.  Keep in mind in a later iteration, we want to allow these Contact records to be edited (e.g. changes made to Zuora).  \n\n#### Notes\n\n- If the Bill To Contact is the same record as Sold To, we could indicate this instead of duplicating the information.\n- Fields to show for a Contact record:\n  * First Name\n  * Last Name\n  * Work Email\n  * Address 1\n  * Address 2\n  * City\n  * Country\n  * State\n  * Postal Code","state":"closed","created_at":"2023-02-03T16:36:36.529Z","updated_at":"2023-04-20T09:27:15.108Z","closed_at":"2023-03-13T17:06:54.518Z","closed_by":{"id":4192493,"username":"ebaque","name":"Etienne Baqué","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4192493/avatar.png","web_url":"https://gitlab.com/ebaque"},"labels":["Support Priority","Support Priority::4","backend","devops::fulfillment","feature::addition","group::fulfillment platform","section::fulfillment","type::feature","workflow::in dev"],"milestone":{"id":2745651,"iid":85,"group_id":9970,"title":"15.10","description":"","state":"active","created_at":"2022-08-22T16:58:22.132Z","updated_at":"2022-08-22T16:58:22.132Z","due_date":"2023-03-17","start_date":"2023-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/85"},"assignees":[{"id":4192493,"username":"ebaque","name":"Etienne Baqué","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4192493/avatar.png","web_url":"https://gitlab.com/ebaque"}],"author":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"type":"ISSUE","assignee":{"id":4192493,"username":"ebaque","name":"Etienne Baqué","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4192493/avatar.png","web_url":"https://gitlab.com/ebaque"},"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5667","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":1,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5667","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5667/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5667/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5667","relative":"#5667","full":"gitlab-org/customers-gitlab-com#5667"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":9831,"epic":{"id":738847,"iid":9831,"title":"Improve Bill To / Sold To Contact Management in CustomersDot","url":"/groups/gitlab-org/-/epics/9831","group_id":9970,"human_readable_end_date":"Jul 31, 2023","human_readable_timestamp":"\u003cstrong\u003e3\u003c/strong\u003e months remaining"},"iteration":null,"health_status":null},{"id":123002294,"iid":5665,"project_id":2670515,"title":"Handle professional services products in ramp subscription card","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n### Problem\nWe need to handle display of professional services products in the new ramp subscription card.\n\n### Proposal\nDesign issue: https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5611\n\n\u003c!-- Consult with `@gitlab-com/business-technology/enterprise-apps/zuora-architects` on the ~\"Enterprise Applications\" team if Zuora business logic is involved. --\u003e\n\n### Result\n\n### Next steps (if any)\n\n### How will we measure success?","state":"closed","created_at":"2023-02-03T12:47:10.531Z","updated_at":"2023-03-10T10:42:03.682Z","closed_at":"2023-03-10T10:42:03.659Z","closed_by":{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"},"labels":["Category:Subscription Management","UX","devops::fulfillment","feature::enhancement","frontend","group::billing and subscription management","section::fulfillment","type::feature","workflow::complete"],"milestone":{"id":2745651,"iid":85,"group_id":9970,"title":"15.10","description":"","state":"active","created_at":"2022-08-22T16:58:22.132Z","updated_at":"2022-08-22T16:58:22.132Z","due_date":"2023-03-17","start_date":"2023-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/85"},"assignees":[{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"}],"author":{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"},"type":"ISSUE","assignee":{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"},"user_notes_count":14,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5665","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5665","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5665/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5665/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5665","relative":"#5665","full":"gitlab-org/customers-gitlab-com#5665"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8748,"epic":{"id":602374,"iid":8748,"title":"Ramps subscription display in Customers Portal and gitlab.com","url":"/groups/gitlab-org/-/epics/8748","group_id":9970,"human_readable_end_date":"May 31, 2023","human_readable_timestamp":"\u003cstrong\u003e25\u003c/strong\u003e days remaining"},"iteration":null,"health_status":"on_track"},{"id":123002187,"iid":5664,"project_id":2670515,"title":"Handle true up products in ramp subscription card","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n### Problem\nWe need to handle display of true-up products in the new ramp subscription card.\n\n### Proposal\nDesign issue: https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5611\n\n\u003c!-- Consult with `@gitlab-com/business-technology/enterprise-apps/zuora-architects` on the ~\"Enterprise Applications\" team if Zuora business logic is involved. --\u003e\n\n### Result\n\n### Next steps (if any)\n\n### How will we measure success?","state":"closed","created_at":"2023-02-03T12:44:49.464Z","updated_at":"2023-02-13T06:39:20.488Z","closed_at":"2023-02-13T06:39:20.460Z","closed_by":{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"},"labels":["Category:Subscription Management","UX","Unplanned","devops::fulfillment","feature::enhancement","frontend","group::billing and subscription management","section::fulfillment","type::feature","workflow::complete"],"milestone":{"id":2745650,"iid":84,"group_id":9970,"title":"15.9","description":"","state":"active","created_at":"2022-08-22T16:58:02.303Z","updated_at":"2022-08-22T16:58:02.303Z","due_date":"2023-02-17","start_date":"2023-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/84"},"assignees":[{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"}],"author":{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"},"type":"ISSUE","assignee":{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5664","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5664","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5664/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5664/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5664","relative":"#5664","full":"gitlab-org/customers-gitlab-com#5664"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8748,"epic":{"id":602374,"iid":8748,"title":"Ramps subscription display in Customers Portal and gitlab.com","url":"/groups/gitlab-org/-/epics/8748","group_id":9970,"human_readable_end_date":"May 31, 2023","human_readable_timestamp":"\u003cstrong\u003e25\u003c/strong\u003e days remaining"},"iteration":null,"health_status":"on_track"},{"id":122993333,"iid":5662,"project_id":2670515,"title":"Investigate shared example usage for ReconciliationService","description":"### Problem\n\nIn https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/6453+, a shared example is moved from the `ReconciliationService` specs into a new file. During the review, it was discovered that the shared example isn't used anymore. Its usage was removed as part of https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/6254+ where the feature flag `use_orders_api_to_preview_quoted_invoice_amount` was cleaned up. The shared example includes some test coverage for examples that aren't covered outside of the shared example (e.g. [this spec's context](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/f51240cf801b31a9aebb1742ff26fda446a5db82/spec/support/shared_examples/services/reconciliation_service.rb#L343-352)).\n\n### Proposal\n\nGo through the shared example and determine which specs still need to be used to have better test coverage. Use the shared example in the `ReconciliationService` specs if some are needed and remove any that aren't needed anymore.\n\n### Result\n\nBetter test coverage if some examples are needed. Otherwise some removed code.","state":"closed","created_at":"2023-02-03T10:41:28.727Z","updated_at":"2023-03-16T14:21:40.454Z","closed_at":"2023-03-16T14:21:40.429Z","closed_by":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"labels":["BSM::QSR","backend","devops::fulfillment","group::fulfillment platform","maintenance::test-gap","section::fulfillment","type::maintenance","workflow::complete"],"milestone":{"id":2745651,"iid":85,"group_id":9970,"title":"15.10","description":"","state":"active","created_at":"2022-08-22T16:58:22.132Z","updated_at":"2022-08-22T16:58:22.132Z","due_date":"2023-03-17","start_date":"2023-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/85"},"assignees":[{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"}],"author":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"type":"ISSUE","assignee":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"user_notes_count":10,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5662","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":1,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5662","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5662/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5662/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5662","relative":"#5662","full":"gitlab-org/customers-gitlab-com#5662"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":9502,"epic":{"id":682911,"iid":9502,"title":"Cleanup Subscribe and Amend API workflows","url":"/groups/gitlab-org/-/epics/9502","group_id":9970,"human_readable_end_date":"Mar 17, 2023","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":122969631,"iid":5661,"project_id":2670515,"title":"Spike: Create proposal for caching mechanism for BillingAccount  Contacts","description":"### Problem\n\nWe know that Zuora Account Contacts are used frequently in CustomersDot, most importantly the Sold To Contact.  The Sold To Contact is the person who receives licenses or activations codes, or other notifications from CDot.  The Sold To Contact information is also used to find or create CDot Customer record when processing Subscription/Order related callouts from Zuora.\n\n### Proposal\n\nGiven their importance, we could consider creating a model for BillingAccount Contacts and caching this data from Zuora in CDot.  This could function similarly to what we've built for `BillingAccount` in that we persist just the data needed for CDot.  \n\nTo keep the data in CDot in sync with Zuora, a custom event with its own callout could be created for Contacts.  A [similar custom event and callout mechanism was created for BillingAccounts](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/1ba32625852d05582e328e3b2f46e4df7e335d2f/doc/zuora/zuora_callouts.md#L168) and would serve as a model for this new purpose.  The syncing mechanism for Bill To and Sold To will differ a bit from Billing Account because the bill_to_id and sold_to_id live on the billing_account which we want to keep in sync, but also the contact data itself.\n\n#### Considerations\n\n- Consider whether to cache all Zuora contact information in CDot or just the Bill To and Sold To.  I suspect it will be the latter but worth debate.  \n- Contact information is currently help on the `Customer` model for paid customers at the moment.  If we introduce a contact model in CDot, these contact fields on Customer should not be used once the Customer converts to a paid Customer (e.g. has a `BillingAccountMembership`).\n\n### Result\n\nThe outcome of this issue should be a proposal for caching billing account contacts in CDot.  Ideally this could be an issue, or set of issues if the work is large enough.  This proposal could be added to the overall [proposal documentation for Bill To / Sold To Contact management](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/main/doc/architecture/contacts_management_proposal.md).","state":"closed","created_at":"2023-02-02T22:33:24.801Z","updated_at":"2023-05-01T15:14:18.412Z","closed_at":"2023-03-24T15:05:13.484Z","closed_by":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"labels":["backend","devops::fulfillment","feature::addition","group::fulfillment platform","missed:15.10","section::fulfillment","type::feature","workflow::complete"],"milestone":{"id":2910456,"iid":86,"group_id":9970,"title":"15.11","description":"","state":"active","created_at":"2022-12-13T20:08:46.985Z","updated_at":"2022-12-13T20:08:46.985Z","due_date":"2023-04-17","start_date":"2023-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/86"},"assignees":[{"id":4192493,"username":"ebaque","name":"Etienne Baqué","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4192493/avatar.png","web_url":"https://gitlab.com/ebaque"}],"author":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"type":"ISSUE","assignee":{"id":4192493,"username":"ebaque","name":"Etienne Baqué","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4192493/avatar.png","web_url":"https://gitlab.com/ebaque"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5661","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5661","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5661/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5661/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5661","relative":"#5661","full":"gitlab-org/customers-gitlab-com#5661"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":9831,"epic":{"id":738847,"iid":9831,"title":"Improve Bill To / Sold To Contact Management in CustomersDot","url":"/groups/gitlab-org/-/epics/9831","group_id":9970,"human_readable_end_date":"Jul 31, 2023","human_readable_timestamp":"\u003cstrong\u003e3\u003c/strong\u003e months remaining"},"iteration":null,"health_status":null},{"id":122951725,"iid":5656,"project_id":2670515,"title":"Your company details form should not trigger syncing Zuora Contacts","description":"### Problem\n\nWe discovered while working on user workflow documentation for https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/6226 an unexpected behavior of the `Your company details` form for logged in customers.  You can find more details in [the original thread here](https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/6226#note_1261379713).\n\n\u003e Those 2 forms are separate (e.g. they only submit the params for their own section) despite being submitted to the same API endpoint (PATCH `/customers`), and trigger the same service to update Zuora contacts and accounts.\n\u003e\n\u003e It looks like that [service won't update the Zuora Account if neither of the 2 attributes](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/9aa9f695d0df918de5ad3697ba4f6321d8258eef/app/services/update_contact_service.rb#L66) (name, vat_id) have changed. However, that same service also [updates the Zuora Contacts](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/9aa9f695d0df918de5ad3697ba4f6321d8258eef/app/services/update_contact_service.rb#L76) and this appears to run regardless of if anything changed, so it will always sync those when called. This means, even when the account section, `Your company details`, is submitted, the contacts are still synced.\n\n![Screenshot_2023-02-02_at_10.21.23_AM](/uploads/2c564550da8fa5f06a5c52476a513cad/Screenshot_2023-02-02_at_10.21.23_AM.png)\n\n### Proposal\n\nThe `Your company details` form should only update the Customer company and BillingAccount data in CDot, while syncing to Zuora Account.  Contact data should not be synced with Zuora Contacts as this information should not be changed.  It's an unnecessary syncing step.\n\nThe service responsible for the sync with Zuora is [the `UpdateContactService`](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/9aa9f695d0df918de5ad3697ba4f6321d8258eef/app/services/update_contact_service.rb#L7).  This service is triggered from the Customer model [here](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/80b89944453495fbb3ed3f42b105ba91ed2570a9/app/models/customer.rb#L70) in an `after_validation` callback.  We could explore ways to avoid this callback behavior altogether, as it's not ideal, but also rearchitect this service in general.  Here are some ideas:\n\n- Split out the `UpdateContactService` into multiple jobs?  One for Account and another for Contact.  This would allow us to trigger the one that is appropriate based on attributes changed by the form.\n- Perform the sync to Zuora in a background job (or jobs) instead so that it doesn't hinder performance, and we'd also benefit from the sidekiq retry mechanism.\n\nIt might be easier to wait until https://gitlab.com/groups/gitlab-org/-/epics/8950+ is live so that we can fully rely on the new account data structure for this re-architecture.","state":"closed","created_at":"2023-02-02T15:32:10.008Z","updated_at":"2023-03-06T14:33:43.357Z","closed_at":"2023-03-06T14:33:43.330Z","closed_by":{"id":4192493,"username":"ebaque","name":"Etienne Baqué","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4192493/avatar.png","web_url":"https://gitlab.com/ebaque"},"labels":["backend","devops::fulfillment","group::fulfillment platform","maintenance::refactor","section::fulfillment","type::maintenance","workflow::in dev"],"milestone":{"id":2745651,"iid":85,"group_id":9970,"title":"15.10","description":"","state":"active","created_at":"2022-08-22T16:58:22.132Z","updated_at":"2022-08-22T16:58:22.132Z","due_date":"2023-03-17","start_date":"2023-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/85"},"assignees":[{"id":4192493,"username":"ebaque","name":"Etienne Baqué","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4192493/avatar.png","web_url":"https://gitlab.com/ebaque"}],"author":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"type":"ISSUE","assignee":{"id":4192493,"username":"ebaque","name":"Etienne Baqué","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4192493/avatar.png","web_url":"https://gitlab.com/ebaque"},"user_notes_count":6,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5656","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5656","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5656/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5656/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5656","relative":"#5656","full":"gitlab-org/customers-gitlab-com#5656"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8951,"epic":{"id":621724,"iid":8951,"title":"Iteration 1B: A single CustomersDot BillingAccount can have multiple CustomersDot Users","url":"/groups/gitlab-org/-/epics/8951","group_id":9970,"human_readable_end_date":"Jul 31, 2023","human_readable_timestamp":"\u003cstrong\u003e3\u003c/strong\u003e months remaining"},"iteration":null,"health_status":null},{"id":122928920,"iid":5654,"project_id":2670515,"title":"Duplicate RatePlanCharges are created for ramp subscriptions in Zuora","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n### Problem\nDuplicate `RatePlanCharges` are created in Zuora when we add different products to a ramp subscription. Since we use `RatePlanCharges` to show ramps in the subscription card design for ramp subscriptions, duplicate rows will be shown to the customer if we show these `RatePlanCharges` without filtering.  \n\n**Currently implemented solution:** Filter out `RatePlanCharges` with `$0 TCV`. \n\n**Problem with current solution:** The check to filter out `$0 TCV` `RatePlanCharges` feels a bit flimsy and could lead to filtering out of valid `RatePlanCharges` if we do have products in ramp subscriptions in the future which are sold at $0.  \nDetails in this [thread](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5654#note_1264773352).\n\nVideo recording of problem:\n![video1463154554](/uploads/79cd34301add07ca84820f4edef96aa7/video1463154554.mp4)\n\n### Proposal\nKeep the current `$0 TCV` check for %15.9 release and [research for more robust solutions going forward](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5654#note_1265047333). Get EntApps and Zuora involved in this if needed.\n\n### Updated Proposal\nFor %\"15.10\" as per this suggestion from `@tgolubeva`, we could filter out the duplicate `RatePlanCharges` based on the condition that `EffectiveEndDate` is same as `EffectiveStartDate`.\n\n\u003c!-- Consult with `@gitlab-com/business-technology/enterprise-apps/zuora-architects` on the ~\"Enterprise Applications\" team if Zuora business logic is involved. --\u003e\n\n### Result\n\n### Next steps (if any)\n\n### How will we measure success?","state":"closed","created_at":"2023-02-02T14:07:33.848Z","updated_at":"2023-03-16T13:13:20.791Z","closed_at":"2023-03-16T05:44:26.202Z","closed_by":{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"},"labels":["Category:Subscription Management","devops::fulfillment","frontend","group::billing and subscription management","maintenance::refactor","section::fulfillment","type::maintenance","workflow::complete"],"milestone":{"id":2745651,"iid":85,"group_id":9970,"title":"15.10","description":"","state":"active","created_at":"2022-08-22T16:58:22.132Z","updated_at":"2022-08-22T16:58:22.132Z","due_date":"2023-03-17","start_date":"2023-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/85"},"assignees":[{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"}],"author":{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"},"type":"ISSUE","assignee":{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"},"user_notes_count":24,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5654","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5654","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5654/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5654/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5654","relative":"#5654","full":"gitlab-org/customers-gitlab-com#5654"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8748,"epic":{"id":602374,"iid":8748,"title":"Ramps subscription display in Customers Portal and gitlab.com","url":"/groups/gitlab-org/-/epics/8748","group_id":9970,"human_readable_end_date":"May 31, 2023","human_readable_timestamp":"\u003cstrong\u003e25\u003c/strong\u003e days remaining"},"iteration":null,"health_status":"on_track"},{"id":122863047,"iid":5643,"project_id":2670515,"title":"Removal of the ResellerNotificationService","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n### Problem\n\nOnce we have completed the work in https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5204, all the notifications covered in the [`LicenseNotificationService`](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/main/app/services/license_notification_service.rb) will have a voucher email sent to the SFDC address and a background copy sent to the resellers.\n\nThis service currently reports `Invoice for reseller not found` when the subscription does not have an invoice at the time of the notification. However, this not uncommon as reseller managed subscriptions can be billed after provisioning. \n\nAs a result we get a few errors reported each day (see [this example](https://console.cloud.google.com/logs/query;query=%22RuntimeError:%20Invoice%20for%20reseller%20not%20found%22%0Aseverity%3DERROR;timeRange=P1D;cursorTimestamp=2023-02-01T17:13:40.615Z?project=gitlab-subscriptions-prod) at the time of writing) which get reported by the [`ZuoraCallbackWorker`](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/2fa4bfb8cb2e472d08a546d271002a433589cdb4/app/workers/zuora_callback_worker.rb#L69) too ([example](https://console.cloud.google.com/logs/query;query=%22Error%20sending%20license%20notification%22%0Aseverity%3DERROR;timeRange=P1D;cursorTimestamp=2023-02-01T17:13:40.619Z?project=gitlab-subscriptions-prod)). This generates a lot of noise to our logs.  \n\n\n### Proposal\n\nSince the [`ResellerNotificationService`](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/main/app/services/reseller_notification_service.rb) only usage is happening in the `LicenseNotificationService` and it's mostly being noisy at this point, we could remove the service and its usage from the codebase once we validate that resellers are getting the expected vouchers.\n\n### Result\n\n### Next steps (if any)\n\n### How will we measure success?","state":"closed","created_at":"2023-02-01T17:41:39.714Z","updated_at":"2023-04-11T15:07:08.337Z","closed_at":"2023-04-11T15:07:08.305Z","closed_by":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"labels":["Category:SM Provisioning","devops::fulfillment","group::provision","maintenance::refactor","priority::3","section::fulfillment","type::maintenance","workflow::complete"],"milestone":{"id":2910456,"iid":86,"group_id":9970,"title":"15.11","description":"","state":"active","created_at":"2022-12-13T20:08:46.985Z","updated_at":"2022-12-13T20:08:46.985Z","due_date":"2023-04-17","start_date":"2023-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/86"},"assignees":[{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"}],"author":{"id":4717243,"username":"a_luna","name":"Amparo Luna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4717243/avatar.png","web_url":"https://gitlab.com/a_luna"},"type":"ISSUE","assignee":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5643","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5643","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5643/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5643/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5643","relative":"#5643","full":"gitlab-org/customers-gitlab-com#5643"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":122846452,"iid":5640,"project_id":2670515,"title":"Reuse confirmation email after CDot admin update","description":"## Problem\n\nThere are currently no guardrails in place when changing the email of a CDot account through the [CDot admin panel](https://customers.staging.gitlab.com/admin).\n\nThis is a risk because human error can occur, and an incorrect email can be used for a CDot account. This could lead to the wrong person gaining access to another CDot account and receiving all of its email notifications containing sensitive information (anything related to subscriptions).\n\nFYI: Related [RCA](https://gitlab.com/gitlab-org/fulfillment-meta/-/issues/1026)\n\n## Proposal\n\nWe reuse the [confirmation email](https://gitlab.com/gitlab-org/customers-gitlab-com/blob/vs%2Fupgrade-rails-admin/app/views/customers/mailer/confirmation_instructions.html.erb) that is sent when a CDot account email address is changed. The same email should be sent to customers when a CDot email address is updated via the [admin panel](https://customers.staging.gitlab.com/admin).\n\nAdditionally, we reuse the email to [inform the old email address owner](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/main/app/views/devise/mailer/email_changed.text.erb) about the change.\n\n## Result\n\nAffected CDot customers are notified of the email change and must confirm the new email address to access their CDot account. Even if the wrong email is used, the affected CDot customer will be notified.","state":"closed","created_at":"2023-02-01T13:56:52.537Z","updated_at":"2023-03-07T17:04:23.208Z","closed_at":"2023-03-07T17:04:23.182Z","closed_by":{"id":5667561,"username":"vshumilo","name":"Vladlena Shumilo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08dfa82785d130c151ab9e21caeab4e3?s=80\u0026d=identicon","web_url":"https://gitlab.com/vshumilo"},"labels":["backend","corrective action","devops::fulfillment","feature::enhancement","group::fulfillment platform","section::fulfillment","type::feature","workflow::complete"],"milestone":{"id":2745651,"iid":85,"group_id":9970,"title":"15.10","description":"","state":"active","created_at":"2022-08-22T16:58:22.132Z","updated_at":"2022-08-22T16:58:22.132Z","due_date":"2023-03-17","start_date":"2023-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/85"},"assignees":[{"id":5667561,"username":"vshumilo","name":"Vladlena Shumilo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08dfa82785d130c151ab9e21caeab4e3?s=80\u0026d=identicon","web_url":"https://gitlab.com/vshumilo"}],"author":{"id":12801023,"username":"mgass1","name":"Manuel Gass","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12801023/avatar.png","web_url":"https://gitlab.com/mgass1"},"type":"ISSUE","assignee":{"id":5667561,"username":"vshumilo","name":"Vladlena Shumilo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08dfa82785d130c151ab9e21caeab4e3?s=80\u0026d=identicon","web_url":"https://gitlab.com/vshumilo"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5640","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5640","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5640/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5640/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5640","relative":"#5640","full":"gitlab-org/customers-gitlab-com#5640"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":122577963,"iid":5618,"project_id":2670515,"title":"Add sales team as stakeholder for review","description":"### Problem\n\nThe [Sales Systems team](https://about.gitlab.com/handbook/sales/field-operations/sales-systems/) is responsible for sales systems, notably [Salesforce](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/6b2e3dd5f4ebcfd8f295cc46b1e8474093f276ea/doc/salesforce/README.md) at GitLab.  Salesforce is a business critical Order-to-Cash system that is linked with CustomersDot.  SFDC Lead, oportunity, account creation and more can be triggered from CDot.  Changes to SFDC are synced to Zuora, which then makes it way to CDot by way of callouts.\n\nGiven this important interactivity between systems, we need to make sure changes to CDot don't break this interaction and cause outages or data loss.  To prevent outages, Fulfillment engineers should request a review from a Sales system team member if an MR contains changes that impact Salesforce.  \n\nCurrently, we have a checklist item in [our default MR template](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/main/.gitlab/merge_request_templates/Default.md#conformity) to remind engineers to request a review.  It can be easy to miss this checklist item and forget to request the review.\n\n### Proposal\n\nIt looks like Danger was improved as part of https://gitlab.com/gitlab-org/fulfillment-meta/-/issues/738+ to make suggestions for sales systems reviewers if the MR contains the `Affects Salesforce` label. You can find the related [Dangerfile here](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/63835bcc3d0e7e6b634ced392f4fa6f5892f2eed/danger/business_system_review_roulette/Dangerfile).\n\nWe might be able to take this a step further by automatically adding the `Affects Salesforce` label, prompting a Sales System review.  For instance, this Dangerfile could check the changed files for any filenames containing the word \"salesforce\" and append the MR label.","state":"closed","created_at":"2023-01-27T16:55:34.457Z","updated_at":"2023-04-21T12:09:19.686Z","closed_at":"2023-04-20T19:24:13.177Z","closed_by":{"id":4192493,"username":"ebaque","name":"Etienne Baqué","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4192493/avatar.png","web_url":"https://gitlab.com/ebaque"},"labels":["backend","devops::fulfillment","group::fulfillment platform","maintenance::workflow","missed:15.11","section::fulfillment","type::maintenance","workflow::in review"],"milestone":{"id":2633524,"iid":80,"group_id":9970,"title":"16.0","description":"","state":"active","created_at":"2022-05-30T16:25:25.778Z","updated_at":"2022-05-30T16:25:25.778Z","due_date":"2023-05-17","start_date":"2023-04-18","expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/80"},"assignees":[{"id":4192493,"username":"ebaque","name":"Etienne Baqué","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4192493/avatar.png","web_url":"https://gitlab.com/ebaque"}],"author":{"id":12801023,"username":"mgass1","name":"Manuel Gass","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12801023/avatar.png","web_url":"https://gitlab.com/mgass1"},"type":"ISSUE","assignee":{"id":4192493,"username":"ebaque","name":"Etienne Baqué","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4192493/avatar.png","web_url":"https://gitlab.com/ebaque"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5618","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5618","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5618/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5618/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5618","relative":"#5618","full":"gitlab-org/customers-gitlab-com#5618"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":9771,"epic":{"id":733295,"iid":9771,"title":"[Change Management] Add missing business stakeholders review to Danger","url":"/groups/gitlab-org/-/epics/9771","group_id":9970,"human_readable_end_date":"Jun 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":null},{"id":122577909,"iid":5617,"project_id":2670515,"title":"Add EntApps team as stakeholder for review","description":"### Problem\n\nThe [Enterprise Applications team](https://about.gitlab.com/handbook/business-technology/enterprise-applications/) is responsible for all of GitLab's finance systems and Enterprise Applications integrations.  The most important of these systems is Zuora.  In Fulfillment, we work with Zuora Billing quite often as it is a [critical Order-2-Cash system](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/83a95b12efd44ce00ea03d26e3c953a310d8228f/doc/architecture/data_architecture.md#L10).\n\nCustomersDot directly interacts with Zuora Billing in many ways like Subscription creation and Billing Account management.  Changes in CustomersDot around Zuora Billing logic could impact this integration, leading to downtime or data loss. To prevent this, Fulfillment engineers should request a review from a Enterprise Apps member (Zuora architect) if an MR contains changes to Zuora-related logic.  It's easy to forget to request a review, even with [a checklist item to the MR template](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/main/.gitlab/merge_request_templates/Default.md#conformity).\n\n### Proposal\n\nSimilar to https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5616 or https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5618, let's look at using Danger to automate requesting a review from `@gitlab-com/business-technology/enterprise-apps/zuora-architects` if the MR contains Zuora-related logic changes.\n\nDetecting which changes are Zuora-related is the key detail for this issue.  It might be something as simple as looking for files that include the word \"zuora\" but the might be too aggressive.  We could consider specific files or directories as well (`lib/zuora`, `app/services/zuora`, `app/workers/zuora*`, etc).","state":"closed","created_at":"2023-01-27T16:54:33.700Z","updated_at":"2023-04-27T12:01:28.754Z","closed_at":"2023-04-27T12:01:28.488Z","closed_by":{"id":4192493,"username":"ebaque","name":"Etienne Baqué","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4192493/avatar.png","web_url":"https://gitlab.com/ebaque"},"labels":["backend","devops::fulfillment","group::fulfillment platform","maintenance::workflow","section::fulfillment","type::maintenance","workflow::in review"],"milestone":{"id":2633524,"iid":80,"group_id":9970,"title":"16.0","description":"","state":"active","created_at":"2022-05-30T16:25:25.778Z","updated_at":"2022-05-30T16:25:25.778Z","due_date":"2023-05-17","start_date":"2023-04-18","expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/80"},"assignees":[{"id":4192493,"username":"ebaque","name":"Etienne Baqué","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4192493/avatar.png","web_url":"https://gitlab.com/ebaque"}],"author":{"id":12801023,"username":"mgass1","name":"Manuel Gass","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12801023/avatar.png","web_url":"https://gitlab.com/mgass1"},"type":"ISSUE","assignee":{"id":4192493,"username":"ebaque","name":"Etienne Baqué","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4192493/avatar.png","web_url":"https://gitlab.com/ebaque"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5617","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5617","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5617/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5617/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5617","relative":"#5617","full":"gitlab-org/customers-gitlab-com#5617"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":9771,"epic":{"id":733295,"iid":9771,"title":"[Change Management] Add missing business stakeholders review to Danger","url":"/groups/gitlab-org/-/epics/9771","group_id":9970,"human_readable_end_date":"Jun 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":null},{"id":122577814,"iid":5616,"project_id":2670515,"title":"Add data team as stakeholder for review","description":"### Problem\n\nThe Data team is responsible for [pipelines that export the CDot database](https://about.gitlab.com/handbook/business-technology/data-team/platform/pipelines/#gitlab-customer-dot-database) for [Snowflake](https://about.gitlab.com/handbook/business-technology/data-team/platform/snowflake/).  Some database migrations in CustomersDot could impact this pipeline, leading to downtime. To prevent outages, Fulfillment engineers should request a review from a Data team member if an MR contains database changes.  It's easy to forget to request a review, even if we add a checklist item to the MR template.\n\n### Proposal\n\nLet's update Danger in CDot to prompt MR authors to request reviews from the Data team when the MR contains database changes.  The Danger is already configured prompt authors to get reviews from a Database reviewer and maintainer for database changes. You can find this configured [in `danger/database/Dangerfile`](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/a370c2b4b1a4fec50a6be2291c7b0ec7c73e0cd7/danger/database/Dangerfile).","state":"closed","created_at":"2023-01-27T16:52:15.881Z","updated_at":"2023-04-21T09:50:02.973Z","closed_at":"2023-03-30T11:53:44.017Z","closed_by":{"id":4192493,"username":"ebaque","name":"Etienne Baqué","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4192493/avatar.png","web_url":"https://gitlab.com/ebaque"},"labels":["backend","devops::fulfillment","group::fulfillment platform","maintenance::workflow","missed:15.10","section::fulfillment","type::maintenance","workflow::in review"],"milestone":{"id":2910456,"iid":86,"group_id":9970,"title":"15.11","description":"","state":"active","created_at":"2022-12-13T20:08:46.985Z","updated_at":"2022-12-13T20:08:46.985Z","due_date":"2023-04-17","start_date":"2023-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/86"},"assignees":[{"id":4192493,"username":"ebaque","name":"Etienne Baqué","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4192493/avatar.png","web_url":"https://gitlab.com/ebaque"}],"author":{"id":12801023,"username":"mgass1","name":"Manuel Gass","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12801023/avatar.png","web_url":"https://gitlab.com/mgass1"},"type":"ISSUE","assignee":{"id":4192493,"username":"ebaque","name":"Etienne Baqué","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4192493/avatar.png","web_url":"https://gitlab.com/ebaque"},"user_notes_count":41,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5616","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5616","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5616/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5616/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5616","relative":"#5616","full":"gitlab-org/customers-gitlab-com#5616"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":9771,"epic":{"id":733295,"iid":9771,"title":"[Change Management] Add missing business stakeholders review to Danger","url":"/groups/gitlab-org/-/epics/9771","group_id":9970,"human_readable_end_date":"Jun 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":null},{"id":122547890,"iid":5613,"project_id":2670515,"title":"Marketplace::CreateSubscriptionService do not send to Sentry for most validation failures","description":"Per [slack discussion](https://gitlab.slack.com/archives/CL7SX4N86/p1674803657451299), many validation failures are noisy. \n\n\u003cdetails\u003e\u003csummary\u003eSnapshot of the slack discussion\u003c/summary\u003e\n![image](/uploads/837cae5d2dacd7f5fa424bbfc419b0d2/image.png)\n\u003c/details\u003e\n\n### Proposal\n\nIt is suggested for Marketplace::CreateSubscriptionService do not send to Sentry for most validation failures. \n- Only `log_error` for the really concerning failures. \n- For most of them validation failures, `log_warn` is enough.\n   - We can search from the log if we want to do some analysis in the future.\n  \n\n### Result\n\n### Next steps (if any)\n\n### How will we measure success?","state":"closed","created_at":"2023-01-27T08:32:02.351Z","updated_at":"2023-03-20T21:50:46.926Z","closed_at":"2023-03-04T03:59:16.829Z","closed_by":{"id":4098809,"username":"qzhaogitlab","name":"Qingyu Zhao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4098809/avatar.png","web_url":"https://gitlab.com/qzhaogitlab"},"labels":["Category:Fulfillment Integrations \u0026 Visibility","Channel Marketplace","devops::fulfillment","group::provision","maintenance::refactor","priority::4","section::fulfillment","type::maintenance"],"milestone":{"id":2745651,"iid":85,"group_id":9970,"title":"15.10","description":"","state":"active","created_at":"2022-08-22T16:58:22.132Z","updated_at":"2022-08-22T16:58:22.132Z","due_date":"2023-03-17","start_date":"2023-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/85"},"assignees":[{"id":4098809,"username":"qzhaogitlab","name":"Qingyu Zhao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4098809/avatar.png","web_url":"https://gitlab.com/qzhaogitlab"}],"author":{"id":4098809,"username":"qzhaogitlab","name":"Qingyu Zhao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4098809/avatar.png","web_url":"https://gitlab.com/qzhaogitlab"},"type":"ISSUE","assignee":{"id":4098809,"username":"qzhaogitlab","name":"Qingyu Zhao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4098809/avatar.png","web_url":"https://gitlab.com/qzhaogitlab"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5613","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5613","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5613/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5613/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5613","relative":"#5613","full":"gitlab-org/customers-gitlab-com#5613"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":122497658,"iid":5605,"project_id":2670515,"title":"[Spike] GitLab Dedicated Automated Provisioning Scoping","description":"## Background\n~\"group::provision\" is planning to automate the provisioning of GitLab Dedicated, which today is a fully manual process done with legacy licenses created by the Support team.\n\nDetails about current process \u0026 LOE estimate can be found here: https://gitlab.com/gitlab-org/fulfillment-meta/-/issues/754\n\n## Outcome of this Issue \nReview and breakdown the work needed to successfully setup provisioning for GitLab Dedicated. Specifically, we should:\n* Receive the Zuora callout for all Dedicated products\n* Generate an activation code for the correct seat count\n* Display correct product details in Customers Dot\n\n## Result: Issues Created\n1. https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/6148+ - this issue should be able to address the MVC for provisioning of GitLab Dedicated, including generation of an activation code\n\nFollow-ups:\n1. https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/6269+ - this will allow custom Dedicated-specific content for customers\n1. https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/6270+ - this will ensure we track GitLab Dedicated provisioning accurately as part of the ~\"Provision Tracking System\" \n\n---\n**Support Priority Score:** (-, -, -, -, -, -, -, -, -, -, -) =\u003e 13","state":"closed","created_at":"2023-01-26T16:04:20.834Z","updated_at":"2023-04-21T12:09:35.352Z","closed_at":"2023-04-19T14:54:13.490Z","closed_by":{"id":12246302,"username":"paulobarros","name":"Paulo Barros","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12246302/avatar.png","web_url":"https://gitlab.com/paulobarros"},"labels":["Category:SaaS Provisioning","Support Priority","Support Priority::3","backend","devops::fulfillment","feature::addition","group::provision","missed:15.10","missed:15.11","needs weight","priority::2","quad-planning::complete-no-action","section::fulfillment","spike","type::feature","workflow::in dev"],"milestone":{"id":2633524,"iid":80,"group_id":9970,"title":"16.0","description":"","state":"active","created_at":"2022-05-30T16:25:25.778Z","updated_at":"2022-05-30T16:25:25.778Z","due_date":"2023-05-17","start_date":"2023-04-18","expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/80"},"assignees":[{"id":12246302,"username":"paulobarros","name":"Paulo Barros","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12246302/avatar.png","web_url":"https://gitlab.com/paulobarros"}],"author":{"id":7964536,"username":"courtmeddaugh","name":"Courtney Meddaugh","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7964536/avatar.png","web_url":"https://gitlab.com/courtmeddaugh"},"type":"ISSUE","assignee":{"id":12246302,"username":"paulobarros","name":"Paulo Barros","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12246302/avatar.png","web_url":"https://gitlab.com/paulobarros"},"user_notes_count":13,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5605","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5605","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5605/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5605/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5605","relative":"#5605","full":"gitlab-org/customers-gitlab-com#5605"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8799,"epic":{"id":605018,"iid":8799,"title":"GitLab Dedicated Automated Provisioning","url":"/groups/gitlab-org/-/epics/8799","group_id":9970,"human_readable_end_date":"May 31, 2023","human_readable_timestamp":"\u003cstrong\u003e25\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":122496430,"iid":5604,"project_id":2670515,"title":"[Backfill] Create activation codes for any remaining SM subscriptions without one","description":"## Background\nhttps://gitlab.com/gitlab-org/fulfillment-meta/-/issues/782+ defines the process for customers to activate with Cloud Licensing mid-term if they already have an active legacy license subscription. Previously, for most customers, a Support ticket was required to move to Cloud Licensing. With the changes made to backfill `TurnOnCloudLicensing` = `null`, plus the work done in https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5602 to begin creating codes for all SM subscriptions (even `TurnOnCloudLicensing` = `No`), we have significantly increased availability for customers to self-activate with Cloud Licensing.\n\nThe last step for all customers to be able to self-activate will be this issue, that will backfill all remaining subscriptions missing an activation code.\n\n\n## Proposal\nBackfill any active SM subscriptions missing an activation code.\n\nWe can reuse [the code](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/1ba32625852d05582e328e3b2f46e4df7e335d2f/lib/tasks/data_maintenance/pre_strict_cloud_license/backfill_cloud_activations.rake) introduced in https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4892 and make some modifications to support the different context. The code was left in place with this change in mind. It can be removed afterwards.\n\n## Result\nALL Self-Managed customers will have a cloud license activation code available for download visible in the Customer Portal, allowing for mid-term activations of cloud licensing without the need for a support ticket.","state":"closed","created_at":"2023-01-26T15:45:30.544Z","updated_at":"2023-03-21T14:50:38.714Z","closed_at":"2023-02-24T08:01:20.749Z","closed_by":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"labels":["Category:SM Provisioning","Cloud Licensing","backend","devops::fulfillment","feature::enhancement","group::provision","priority::4","quad-planning::complete-no-action","section::fulfillment","type::feature","workflow::complete"],"milestone":{"id":2745651,"iid":85,"group_id":9970,"title":"15.10","description":"","state":"active","created_at":"2022-08-22T16:58:22.132Z","updated_at":"2022-08-22T16:58:22.132Z","due_date":"2023-03-17","start_date":"2023-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/85"},"assignees":[{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"}],"author":{"id":7964536,"username":"courtmeddaugh","name":"Courtney Meddaugh","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7964536/avatar.png","web_url":"https://gitlab.com/courtmeddaugh"},"type":"ISSUE","assignee":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5604","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":1,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5604","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5604/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5604/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5604","relative":"#5604","full":"gitlab-org/customers-gitlab-com#5604"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":9590,"epic":{"id":696658,"iid":9590,"title":"Provide opportunity for opted out customers to activate Cloud Licensing","url":"/groups/gitlab-org/-/epics/9590","group_id":9970,"human_readable_end_date":"Mar 17, 2023","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":122458389,"iid":5599,"project_id":2670515,"title":"Update browserslist dependency","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n### Problem\nWhenever you serve the CDot app, it complains about the `browserslist` being out of date. \n### Proposal\nRun `npx browserslist@latest --update-db` to update the list with the latest versions.\n### Result\nNo error is displayed\n### Next steps (if any)\n\n### How will we measure success?","state":"closed","created_at":"2023-01-25T22:22:36.583Z","updated_at":"2023-01-26T20:45:52.685Z","closed_at":"2023-01-26T20:45:52.647Z","closed_by":{"id":10770603,"username":"lmeckley","name":"Laura Meckley","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10770603/avatar.png","web_url":"https://gitlab.com/lmeckley"},"labels":["Unplanned","devops::fulfillment","group::billing and subscription management","maintenance::dependency","section::fulfillment","type::maintenance","workflow::complete"],"milestone":{"id":2745650,"iid":84,"group_id":9970,"title":"15.9","description":"","state":"active","created_at":"2022-08-22T16:58:02.303Z","updated_at":"2022-08-22T16:58:02.303Z","due_date":"2023-02-17","start_date":"2023-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/84"},"assignees":[{"id":10770603,"username":"lmeckley","name":"Laura Meckley","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10770603/avatar.png","web_url":"https://gitlab.com/lmeckley"}],"author":{"id":10770603,"username":"lmeckley","name":"Laura Meckley","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10770603/avatar.png","web_url":"https://gitlab.com/lmeckley"},"type":"ISSUE","assignee":{"id":10770603,"username":"lmeckley","name":"Laura Meckley","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10770603/avatar.png","web_url":"https://gitlab.com/lmeckley"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5599","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5599","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5599/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5599/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5599","relative":"#5599","full":"gitlab-org/customers-gitlab-com#5599"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":122403503,"iid":5597,"project_id":2670515,"title":"Hide ramp details for products which do not ramp","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n### Problem\nWe should hide details section in the new card design if any product in the subscription does not ramp. See this [comment](https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/6327#note_1251545677) for more details.  \nDiscussion [thread](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3916/designs/Ramped_subscriptions__MVC.png#note_1204057072) in Figma.  \n\n**Note:** Need to check if we should show the details section for CI minutes as it shows the purchase date which is not shown in the card header.\n\n### Proposal\n\n\u003c!-- Consult with `@gitlab-com/business-technology/enterprise-apps/zuora-architects` on the ~\"Enterprise Applications\" team if Zuora business logic is involved. --\u003e\n\n### Result\n\n### Next steps (if any)\n\n### How will we measure success?","state":"closed","created_at":"2023-01-25T05:37:41.940Z","updated_at":"2023-02-18T14:41:08.107Z","closed_at":"2023-02-16T22:39:38.771Z","closed_by":{"id":4377833,"username":"esybrant","name":"Emily Sybrant","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4377833/avatar.png","web_url":"https://gitlab.com/esybrant"},"labels":["Category:Subscription Management","UX","devops::fulfillment","feature::enhancement","frontend","group::billing and subscription management","section::fulfillment","type::feature","won't do","workflow::refinement"],"milestone":null,"assignees":[{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"}],"author":{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"},"type":"ISSUE","assignee":{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5597","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5597","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5597/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5597/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5597","relative":"#5597","full":"gitlab-org/customers-gitlab-com#5597"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8748,"epic":{"id":602374,"iid":8748,"title":"Ramps subscription display in Customers Portal and gitlab.com","url":"/groups/gitlab-org/-/epics/8748","group_id":9970,"human_readable_end_date":"May 31, 2023","human_readable_timestamp":"\u003cstrong\u003e25\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":122376109,"iid":5586,"project_id":2670515,"title":"Customer link on License Seat Link list admin page is not correct","description":"### Problem\n\n`@tom.houston` in Support [reported a problem](https://gitlab.slack.com/archives/CMJ8JR0RH/p1674573876782299) with the link to the Customer from the License Seat Links list page in Rails Admin.  \n\n\u003e When going to the List of [License seat links page](https://customers.gitlab.com/admin/license_seat_link) and selecting any customer on the list it directs me to the Site Administration page with the error Model 'RailsAdmin::Customer' could not be found at the top of the page.  I have a customer who has multiple mirrored environments for their GitLab self-managed setup and they're trying to activate cloud licensing on them.  This has resulted in 200 duplicate licenses and I'm trying to determine which if any of the licenses actually completed the activation process.  I was directed to the List of License seat links page to help with that only to find it doesn't work for me.\n\nAs it turns out, there is a bug in the construction of the customer link on this page.\n\n### Proposal\n\nFix the construction of the customer link.  It should look something like `https://customers.gitlab.com/admin/customer/360255` instead of `https://customers.gitlab.com/admin/RailsAdmin::Customer/360255`.","state":"closed","created_at":"2023-01-24T15:51:19.982Z","updated_at":"2023-01-25T19:22:02.676Z","closed_at":"2023-01-25T19:22:02.650Z","closed_by":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"labels":["Support Interest","bug::functional","devops::fulfillment","group::fulfillment platform","section::fulfillment","severity::2","type::bug","workflow::complete"],"milestone":{"id":2745650,"iid":84,"group_id":9970,"title":"15.9","description":"","state":"active","created_at":"2022-08-22T16:58:02.303Z","updated_at":"2022-08-22T16:58:02.303Z","due_date":"2023-02-17","start_date":"2023-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/84"},"assignees":[{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"}],"author":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"type":"ISSUE","assignee":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5586","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5586","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5586/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5586/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5586","relative":"#5586","full":"gitlab-org/customers-gitlab-com#5586"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":122358605,"iid":5583,"project_id":2670515,"title":"Mutation to add seats to a subscription","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n### Problem\n\nWe use the `subscription#update` API to add new seats to an existing subscription. In this issue, we create a GraphQL mutation to perform this operation.\n\n### Proposal\n\n\u003c!-- Consult with `@gitlab-com/business-technology/enterprise-apps/zuora-architects` on the ~\"Enterprise Applications\" team if Zuora business logic is involved. --\u003e\n\n- Create a mutation namespace `subscriptions` in `app/graphql/mutations` if it does not already exist\n- Create a mutation class `AddSeats` in the namespace\n\n#### Step 1: Define the following arguments:\n\n|Argument|Type|Required?|\n|---|---|---|\n|`subscription_number`|`GraphQL::Types::String`|Yes|\n|`quantity`|`GraphQL::Types::Int`|Yes|\n|`payment_method_id`|`GraphQL::Types::String`|No (`payment_method_id` is not included during preview) |\n|`preview`|`GraphQL::Types::Boolean`|No (defaults to `false`)|\n\n#### Step 2: Tweaks to Order related services\n\n- [Define new custom action](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/90561f906dfcf42afd25a086d5ea68bd183a733f/app/services/zuora/orders/actions/mapping.rb#L7): `add_seats`. Map the action to `UpdateProduct`. We currently [combine](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/90561f906dfcf42afd25a086d5ea68bd183a733f/app/services/zuora/orders/amendment/action_types_generator.rb#L95) adding of seats independently with adding of seats during renewal, reconciliation. This will give us an opportunity to decouple the logic [here](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/90561f906dfcf42afd25a086d5ea68bd183a733f/app/services/zuora/orders/actions/param_constructor/update_product.rb#L34).\n- Define the new custom action `add_seats` in `ParamConstructor::UpdateProduct`. \n  - Set `product` to `main_product`\n  - `quantity` to `new_quantity` + existing quantity of `main_product`\n  - `contract_effective_date` as current date\n\n#### Step 3: Define `resolve` method:\n\n- Perform [seat max validation](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/90561f906dfcf42afd25a086d5ea68bd183a733f/app/services/zuora/orders/amendment/action_types_validator.rb#L61)\n- Invoke `OrderManagerService`: \n\n  ```\n    Zuora::Orders::OrderManagerService.new(customer: customer, order_action_types: action_types, params: params, subscription: subscription)\n  ```\n\n  - `action_types` = `add_seats`\n  - `params` should contain `id` (subscription number), `quantity`, `payment_method_id`. May contain `preview`\n\n### Result\n\nThe mutation should add the seats specified to the main product of the subscription.\n\n### Next steps (if any)\n\n### How will we measure success?","state":"closed","created_at":"2023-01-24T11:57:00.859Z","updated_at":"2023-04-21T09:50:02.848Z","closed_at":"2023-04-13T21:45:42.606Z","closed_by":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"labels":["backend","devops::fulfillment","group::fulfillment platform","maintenance::refactor","section::fulfillment","type::maintenance","workflow::complete"],"milestone":{"id":2910456,"iid":86,"group_id":9970,"title":"15.11","description":"","state":"active","created_at":"2022-12-13T20:08:46.985Z","updated_at":"2022-12-13T20:08:46.985Z","due_date":"2023-04-17","start_date":"2023-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/86"},"assignees":[{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"}],"author":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"type":"ISSUE","assignee":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5583","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":1,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5583","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5583/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5583/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5583","relative":"#5583","full":"gitlab-org/customers-gitlab-com#5583"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":9731,"epic":{"id":729668,"iid":9731,"title":"Decouple subscription update api into multiple endpoints","url":"/groups/gitlab-org/-/epics/9731","group_id":9970,"human_readable_end_date":"Jan 31, 2024","human_readable_timestamp":"\u003cstrong\u003e9\u003c/strong\u003e months remaining"},"iteration":null,"health_status":null},{"id":122336417,"iid":5575,"project_id":2670515,"title":"Add Sync Billing Account action to Admin","description":"### Problem\n\nWhen enabling the new CustomersDot Billing Account architecture we need to make sure we continue to support all the actions used to manage Customer associations with Zuora Billing Accounts via the Admin.\n\nWe will document the updated procedures via https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5434+\n\nUpdating the `salesforce_account_id` related to a CustomersDot Billing Account is not possible ATM given we don't allow the editing of `BillingAccount` records via the Admin.\n\nWe don't want to allow setting **any** value for the `salesforce_account_id` value at this given we want to keep Zuora as the SSoT for it via the `crm_id` in the Zuora Billing Account.\n\nWe want to implement a Sync action for a CDot Billing Account via the Admin that will allow us to refresh its `name` and `salesforce_account_id` to those in Zuora.\n\n:heavy_plus_sign: See: https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5434#note_1248078612 for more context.\n\n### Proposal\n\nImplement the \"Sync Billing Account\" action via CustomersDot Admin.\n\nOne click action with confirmation on successful sync.\n\n### Acceptance criteria\n\nA CustomersDot Billing Account can be synced with Zuora via the CDot Admin.\n\n---\n\nNote this might share some logic with https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5574","state":"closed","created_at":"2023-01-24T04:47:03.913Z","updated_at":"2023-02-16T15:31:17.592Z","closed_at":"2023-02-16T04:06:58.383Z","closed_by":{"id":11217480,"username":"tvellishetty","name":"Tarun Vellishetty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11217480/avatar.png","web_url":"https://gitlab.com/tvellishetty"},"labels":["devops::fulfillment","feature::addition","group::fulfillment platform","section::fulfillment","type::feature","workflow::production"],"milestone":{"id":2745650,"iid":84,"group_id":9970,"title":"15.9","description":"","state":"active","created_at":"2022-08-22T16:58:02.303Z","updated_at":"2022-08-22T16:58:02.303Z","due_date":"2023-02-17","start_date":"2023-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/84"},"assignees":[{"id":11217480,"username":"tvellishetty","name":"Tarun Vellishetty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11217480/avatar.png","web_url":"https://gitlab.com/tvellishetty"}],"author":{"id":5667561,"username":"vshumilo","name":"Vladlena Shumilo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08dfa82785d130c151ab9e21caeab4e3?s=80\u0026d=identicon","web_url":"https://gitlab.com/vshumilo"},"type":"ISSUE","assignee":{"id":11217480,"username":"tvellishetty","name":"Tarun Vellishetty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11217480/avatar.png","web_url":"https://gitlab.com/tvellishetty"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5575","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5575","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5575/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5575/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5575","relative":"#5575","full":"gitlab-org/customers-gitlab-com#5575"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8950,"epic":{"id":621714,"iid":8950,"title":"Iteration 1A: Align CustomersDot BillingAccounts and Users to Zuora objects","url":"/groups/gitlab-org/-/epics/8950","group_id":9970,"human_readable_end_date":"Mar 17, 2023","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":122336397,"iid":5574,"project_id":2670515,"title":"Add Create Billing Account action to Admin","description":"### Problem\n\nWhen enabling the new CustomersDot Billing Account architecture we need to make sure we continue to support all the actions used to manage Customer associations with Zuora Billing Accounts via the Admin.\n\nWe will document the updated procedures via https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5434+\n\nAssociating a CustomersDot user to a Zuora Billing Account that is not represented via a CustomersDot Billing Account is not possible ATM given we don't allow the creation of `BillingAccount` records via the Admin (just `BillingAccountMembership`s)\n\n:heavy_plus_sign: See: https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5434#note_1248078612 for more context.\n\n### Proposal\n\nImplement the \"Create Billing Account\" action via CustomersDot Admin.\n\nInputs for the new form: `zuora_account_id`\n\nWhen the user enters a `zuora_account_id` and submits the `new` form:\n- If the id is already associated to a CDot account display the error in the form.\n- If the id is not associated to a CDot account:\n  - Fetch the Zuora Billing Account for the provided id\n  - Create the CDot Billing Account using the info in the Zuora one for the other fields: name, salesforce_account_id.\n\n### Result\n\nA CustomersDot user can be added as a member to any existing Zuora Billing Account.\n\n### Acceptance criteria\n- When a Zuora Billing Account is represented in CDot via a Billing Account we can add a membership for an existing customer via the Admin.\n- When a Zuora Billing Account is not represented in CDot via a Billing Account we can create a CDot Billing Account for it **and** add a membership for an existing customer via the Admin.","state":"closed","created_at":"2023-01-24T04:46:44.237Z","updated_at":"2023-02-16T19:55:14.214Z","closed_at":"2023-02-16T19:55:14.176Z","closed_by":{"id":5667561,"username":"vshumilo","name":"Vladlena Shumilo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08dfa82785d130c151ab9e21caeab4e3?s=80\u0026d=identicon","web_url":"https://gitlab.com/vshumilo"},"labels":["devops::fulfillment","feature::addition","group::fulfillment platform","section::fulfillment","type::feature","workflow::in review"],"milestone":{"id":2745650,"iid":84,"group_id":9970,"title":"15.9","description":"","state":"active","created_at":"2022-08-22T16:58:02.303Z","updated_at":"2022-08-22T16:58:02.303Z","due_date":"2023-02-17","start_date":"2023-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/84"},"assignees":[{"id":5667561,"username":"vshumilo","name":"Vladlena Shumilo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08dfa82785d130c151ab9e21caeab4e3?s=80\u0026d=identicon","web_url":"https://gitlab.com/vshumilo"}],"author":{"id":5667561,"username":"vshumilo","name":"Vladlena Shumilo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08dfa82785d130c151ab9e21caeab4e3?s=80\u0026d=identicon","web_url":"https://gitlab.com/vshumilo"},"type":"ISSUE","assignee":{"id":5667561,"username":"vshumilo","name":"Vladlena Shumilo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08dfa82785d130c151ab9e21caeab4e3?s=80\u0026d=identicon","web_url":"https://gitlab.com/vshumilo"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5574","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5574","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5574/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5574/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5574","relative":"#5574","full":"gitlab-org/customers-gitlab-com#5574"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8950,"epic":{"id":621714,"iid":8950,"title":"Iteration 1A: Align CustomersDot BillingAccounts and Users to Zuora objects","url":"/groups/gitlab-org/-/epics/8950","group_id":9970,"human_readable_end_date":"Mar 17, 2023","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":122207891,"iid":5556,"project_id":2670515,"title":"Backfill tasks should reference zuora_account_id column instead of overwritten method","description":"### Problem\n\nAs described in https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4867#note_1247871087, we found after enabling the `account_data_structure` feature flag that the backfill rake task `lib/tasks/data_maintenance/billing_accounts/backfill_with_customers.rake` no longer works.  This is because the rake task uses `customer.zuora_account_id` which is an overwritten [attr reader method on Customer](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/aa5aec8253fdad5cb4b846a6d778739fd37affcc/app/models/customer.rb#L162).  When the flag is enabled, this method pulls the `zuora_account_id` from the `BillingAccountMembership` instead of directly from the Customer column.\n\n### Proposal\n\nUpdate the rake task to use the `zuora_account_id` directly on the Customer record (e.g. `customer[:zuora_account_id]`) instead of the reader method on Customer.\n\n### Result\n\nThe rake task continues to work even after the feature flag is enabled.","state":"closed","created_at":"2023-01-20T18:38:59.242Z","updated_at":"2023-01-23T19:57:24.792Z","closed_at":"2023-01-23T19:57:24.766Z","closed_by":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"labels":["backend","bug::functional","devops::fulfillment","group::fulfillment platform","section::fulfillment","type::bug","workflow::complete"],"milestone":{"id":2745650,"iid":84,"group_id":9970,"title":"15.9","description":"","state":"active","created_at":"2022-08-22T16:58:02.303Z","updated_at":"2022-08-22T16:58:02.303Z","due_date":"2023-02-17","start_date":"2023-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/84"},"assignees":[{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"}],"author":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"type":"ISSUE","assignee":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5556","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5556","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5556/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5556/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5556","relative":"#5556","full":"gitlab-org/customers-gitlab-com#5556"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8950,"epic":{"id":621714,"iid":8950,"title":"Iteration 1A: Align CustomersDot BillingAccounts and Users to Zuora objects","url":"/groups/gitlab-org/-/epics/8950","group_id":9970,"human_readable_end_date":"Mar 17, 2023","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":122063515,"iid":5541,"project_id":2670515,"title":"New account purchase creates separate Bill and Sold To Contacts","description":"### Problem\n\nWe noticed while troubleshooting https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5449+ that when purchasing a subscription with a new Customer (e.g. no associated Zuora Account), the Order API actually creates separate Bill To and Sold To Contacts that have identical information.  I believe this is a change in behavior from the existing Subscribe API.\n\nThis is an example of a Zuora Account created while making a new account purchase in my local CDot: https://apisandbox.zuora.com/apps/CustomerAccount.do?method=view\u0026id=8ad08d2985c4e1580185c5a8bebf51a9.  Notice this the separate contact records that have the same information.\n\n### Proposal\n\nI've found that the Orders API requires [an additional parameter](https://www.zuora.com/developer/api-references/api/operation/POST_Order/#!path=newAccount/soldToSameAsBillTo\u0026t=request), `soldToSameAsBillTo`, to instruct Zuora to create the Account with the same Contact record for Bill to and Sold to.  I've already tested this by adding this param and [the resulting account](https://apisandbox.zuora.com/apps/CustomerAccount.do?method=view\u0026id=8ad0889d85c4e1560185c5afc1b52cbe) was created with the same Contact for both Bill to and Sold to as expected.","state":"closed","created_at":"2023-01-18T16:38:38.666Z","updated_at":"2023-01-23T12:09:41.876Z","closed_at":"2023-01-19T15:44:11.897Z","closed_by":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"labels":["backend","bug::functional","devops::fulfillment","group::fulfillment platform","section::fulfillment","type::bug","workflow::complete"],"milestone":{"id":2745650,"iid":84,"group_id":9970,"title":"15.9","description":"","state":"active","created_at":"2022-08-22T16:58:02.303Z","updated_at":"2022-08-22T16:58:02.303Z","due_date":"2023-02-17","start_date":"2023-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/84"},"assignees":[{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"}],"author":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"type":"ISSUE","assignee":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"user_notes_count":5,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5541","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5541","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5541/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5541/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5541","relative":"#5541","full":"gitlab-org/customers-gitlab-com#5541"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8664,"epic":{"id":594034,"iid":8664,"title":"Transition Subscribe() to the Zuora Orders API for new subscriptions","url":"/groups/gitlab-org/-/epics/8664","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":122054951,"iid":5540,"project_id":2670515,"title":"Skip license notification for non-ramp subscriptions if no new license is required","description":"### Problem\n\nIn https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5242+, notifications are skipped if nothing has changed in the new ramp interval. For Multi-Year subscriptions that are non-ramp, the same should apply as discussed [here](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5242#note_1244526220).\n\n### Proposal\n\nRemove the check for the subscription to be ramp enabled ([code](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/e5a66632e43ba7595e62b644c376b3d5f70ebdcf/app/services/license_notification_service.rb#L92)) as well as [this code comment](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/e5a66632e43ba7595e62b644c376b3d5f70ebdcf/app/services/license_notification_service.rb#L43) to also skip the notification for non-ramp subscriptions.\n\n### Result\n\nSame behaviour for all Multi-Year subscription regardless of being for a ramp or not by skipping the notification if nothing has changed has changed in the new year of the subscription and no new license is required.\n\n### Availability \u0026 Testing\n\n\u003c!-- This section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\nWhat risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning --\u003e\n\nLet's make sure that we write/exit specs to ensure that this works as expected.\n\n- Validate skip license notification for non-ramp subscriptions if no new license is required\n- Validate skip license notification for non-ramp subscriptions if a new license _is_ required\n- Validate skip license notification for ramp-enabled subscriptions if no new license is required\n- Validate skip license notification for ramp-enabled subscriptions if a new license _is_ required","state":"closed","created_at":"2023-01-18T15:42:42.067Z","updated_at":"2023-03-06T15:41:28.620Z","closed_at":"2023-03-06T15:35:16.149Z","closed_by":{"id":12246302,"username":"paulobarros","name":"Paulo Barros","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12246302/avatar.png","web_url":"https://gitlab.com/paulobarros"},"labels":["Category:SM Provisioning","backend","devops::fulfillment","group::provision","maintenance::refactor","priority::3","quad-planning::complete-action","quick win","section::fulfillment","type::maintenance","workflow::verification"],"milestone":{"id":2745651,"iid":85,"group_id":9970,"title":"15.10","description":"","state":"active","created_at":"2022-08-22T16:58:22.132Z","updated_at":"2022-08-22T16:58:22.132Z","due_date":"2023-03-17","start_date":"2023-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/85"},"assignees":[{"id":12246302,"username":"paulobarros","name":"Paulo Barros","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12246302/avatar.png","web_url":"https://gitlab.com/paulobarros"}],"author":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"type":"ISSUE","assignee":{"id":12246302,"username":"paulobarros","name":"Paulo Barros","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12246302/avatar.png","web_url":"https://gitlab.com/paulobarros"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5540","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5540","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5540/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5540/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5540","relative":"#5540","full":"gitlab-org/customers-gitlab-com#5540"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":122021612,"iid":5537,"project_id":2670515,"title":"[Spike] Error budget discrepancy against log data","description":"#### Process:\n\n1. Write the spike summary and requirement and select Definition of Done (DoD) questions that apply\n1. DRI/s are assigned to the spike\n2. Before starting the spike, engineer should confirm:\n- [ ] Is the problem statement and description of the problem clear\n- [ ] Are the requirements of this spike clear\n- [ ] Are the Definition of done questions relevant/reasonable for this spike\n3. Engineer does an investigation to gather information and note any initial impressions and possible paths for implementation\n4. PM/EM/Collaborators + Engineer asks questions and start to narrow the scope to an appropriate solution/implementation\n5. DoD questions are answered\n6. DRI confirms next steps and the spike issue gets closed\n\n------------------------\n\n# Summary\n\nSpike DRI/s: `@tanuki`\n\nThe Provision Error Budget panel seems to not reflect the request health rate computed from the logs. The following example is taken during Seat Link peak period, from 2023/1/19 03:00 UTC to 2023/1/19 05:00 UTC:\n\nAt that period, SeatLink requests is only over the latency threshold [46](https://log.gprd.gitlab.net/app/discover#/?_g=(filters:!(),refreshInterval:(pause:!t,value:0),time:(from:'2023-01-18T03:00:00.000Z',to:'2023-01-18T05:00:00.000Z'))\u0026_a=(columns:!(),filters:!(),index:'7dbddf20-5530-11ed-b0ec-930003e0679c',interval:auto,query:(language:kuery,query:'json.controller%20:%20%22Api::V1::SeatLinksController%22%20and%20json.duration%20%3E%208500'),sort:!(!(json.time,desc)))) out of [5907](https://log.gprd.gitlab.net/app/discover#/?_g=(filters:!(),refreshInterval:(pause:!t,value:0),time:(from:'2023-01-18T03:00:00.000Z',to:'2023-01-18T05:00:00.000Z'))\u0026_a=(columns:!(),filters:!(),index:'7dbddf20-5530-11ed-b0ec-930003e0679c',interval:auto,query:(language:kuery,query:'json.controller%20:%20%22Api::V1::SeatLinksController%22%20'),sort:!(!(json.time,desc)))) times, which should equal to 99% success apdex rate.\n\n![Screenshot_2023-01-19_at_12-01-36_Discover_-_Elastic](/uploads/3bc9c835f13df2bc710afb3dd11c6e95/Screenshot_2023-01-19_at_12-01-36_Discover_-_Elastic.png)\n![Screenshot_2023-01-19_at_12-02-01_Discover_-_Elastic](/uploads/7d0d7c80ce4c0cc5b3fa596492b829c1/Screenshot_2023-01-19_at_12-02-01_Discover_-_Elastic.png)\n\nHowever Grafana Error Budget panel at this period seems to indicate otherwise. The [availability shown is down to 57.28%](https://dashboards.gitlab.net/d/stage-groups-detail-provision/stage-groups-provision-group-error-budget-detail?orgId=1\u0026from=1674010800000\u0026to=1674018000000).\n\n![Screenshot_2023-01-19_at_11-59-58_stage-groups_Provision_group_error_budget_detail_-_Stage_Groups_-_Dashboards_-_Grafana](/uploads/a1e55ac2b277ea5e50018d39c163ab68/Screenshot_2023-01-19_at_11-59-58_stage-groups_Provision_group_error_budget_detail_-_Stage_Groups_-_Dashboards_-_Grafana.png)\n\nThe [apdex attribution chart](https://dashboards.gitlab.net/d/stage-groups-detail-provision/stage-groups-provision-group-error-budget-detail?orgId=1\u0026from=1674010800000\u0026to=1674018000000\u0026viewPanel=44) also shows SeatLink as the major contributor and its unsuccessful apdex rate is down to -90%.\n\n![Screenshot_2023-01-19_at_12-01-03_View_panel_-_stage-groups_Provision_group_error_budget_detail_-_Stage_Groups_-_Dashboards_-_Grafana](/uploads/bd855061020c767dfd0d529668002b9b/Screenshot_2023-01-19_at_12-01-03_View_panel_-_stage-groups_Provision_group_error_budget_detail_-_Stage_Groups_-_Dashboards_-_Grafana.png)\n\nThere seems to be a discrepancy between the log data and data in error budget panel.\n\nSome discussion on the cause of this: https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4884#note_1235160195\n\n# Requirements / Ask\n\nTo investigate whether discrepancy does exist, and determine its root cause.\n\nThis may be easier for those with experience with Grafana/Prometheus queries, or metrics collection.\n\n# Definition of done\n\nWhat questions need to be answered in order for this spike to be completed - tick all those that apply:\n\n- [ ] Is the ask possible?\n- [ ] Is the work reasonable within time constraints?\n- [x] What is the level of effort (t-shirt size estimate: S,M,L)?\n- [ ] What are the risks / trade-offs?\n- [ ] Where does complexity exist?\n- [x] Are there any unknowns to be mindful of?\n- [x] Is there a skills gap? Are there any documented reports of using this approach?\n- [x] Is there a monitoring implication?\n- [ ] Is there an availability implication?\n- [ ] Is there a productivity implication?\n\n# Next steps\n\nSelect the next steps that apply:\n\n1. [ ] Close issue without further action = Spike conclusion is that feature won't be built\n1. [ ] Create follow up issue to start MVC iteration of feature\n1. [ ] Create MR for documentation update as a result of spike","state":"closed","created_at":"2023-01-18T07:47:03.955Z","updated_at":"2023-04-19T01:47:13.999Z","closed_at":"2023-04-19T01:47:13.974Z","closed_by":{"id":1986039,"username":"lulalala","name":"Mark Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1986039/avatar.png","web_url":"https://gitlab.com/lulalala"},"labels":["Category:Error Budgets","Category:SM Provisioning","Category:SaaS Provisioning","Error Budget Improvement","backend","devops::fulfillment","group::provision","maintenance::workflow","needs investigation","priority::4","section::fulfillment","spike","type::maintenance","workflow::ready for development"],"milestone":{"id":2633524,"iid":80,"group_id":9970,"title":"16.0","description":"","state":"active","created_at":"2022-05-30T16:25:25.778Z","updated_at":"2022-05-30T16:25:25.778Z","due_date":"2023-05-17","start_date":"2023-04-18","expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/80"},"assignees":[],"author":{"id":1986039,"username":"lulalala","name":"Mark Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1986039/avatar.png","web_url":"https://gitlab.com/lulalala"},"type":"ISSUE","assignee":null,"user_notes_count":13,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5537","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":16,"completed_count":4},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5537","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5537/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5537/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5537","relative":"#5537","full":"gitlab-org/customers-gitlab-com#5537"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":9397,"epic":{"id":671622,"iid":9397,"title":"Provision Error Budget Improvements","url":"/groups/gitlab-org/-/epics/9397","group_id":9970,"human_readable_end_date":"Jun 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":null},{"id":121965455,"iid":5533,"project_id":2670515,"title":"[Auto-Renew] Send a failure notification for multiple rate plans if Cloud License is disabled (SM).","description":"### Problem\nLinking [comment](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5335#note_1237671684), currently we are not sending any failure notifications to auto-renewable subscriptions having multiple rate plans ([context](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5355)) even if Cloud Licensing is disabled for such subscriptions.\n\n### Proposal\n\nIf a self-managed auto-renewable subscription fails eligibility due to multiple rate plans, check if Cloud Licensing is disabled for this subscription and send them the failure email.\n\nEmail issue: https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4421","state":"closed","created_at":"2023-01-17T12:35:45.177Z","updated_at":"2023-04-12T17:16:41.388Z","closed_at":"2023-03-23T09:58:42.648Z","closed_by":{"id":11649502,"username":"aluthra2","name":"Aman Luthra","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11649502/avatar.png","web_url":"https://gitlab.com/aluthra2"},"labels":["Category:Subscription Management","backend","devops::fulfillment","group::billing and subscription management","section::fulfillment","type::feature","workflow::complete"],"milestone":{"id":2910456,"iid":86,"group_id":9970,"title":"15.11","description":"","state":"active","created_at":"2022-12-13T20:08:46.985Z","updated_at":"2022-12-13T20:08:46.985Z","due_date":"2023-04-17","start_date":"2023-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/86"},"assignees":[{"id":11649502,"username":"aluthra2","name":"Aman Luthra","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11649502/avatar.png","web_url":"https://gitlab.com/aluthra2"}],"author":{"id":11649502,"username":"aluthra2","name":"Aman Luthra","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11649502/avatar.png","web_url":"https://gitlab.com/aluthra2"},"type":"ISSUE","assignee":{"id":11649502,"username":"aluthra2","name":"Aman Luthra","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11649502/avatar.png","web_url":"https://gitlab.com/aluthra2"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5533","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5533","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5533/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5533/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5533","relative":"#5533","full":"gitlab-org/customers-gitlab-com#5533"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":9671,"epic":{"id":721252,"iid":9671,"title":"[Auto-Renew] High priority bugs and technical debt","url":"/groups/gitlab-org/-/epics/9671","group_id":9970,"human_readable_end_date":"May 17, 2023","human_readable_timestamp":"\u003cstrong\u003e11\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":121956499,"iid":5530,"project_id":2670515,"title":"Allow admin resend of cloud activation code even if there is an activated instance present","description":"### Problem\n\nWith the implementation of https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4023+, we do not send out the activation code email again after an activated instance is present. This is useful for avoiding to send out the activation code again in case of a renewal or other amendments to the subscription. However, this may have a side effect as this logic also prevents to resend the activation code in the Admin. This wasn't needed so far but after reconsideration it might make sense to provide this ability in the Admin.\n\n### Proposal\n\nAllowing for resendof an activation code in the Admin even if there is an activated instance present for the subscription.\n\n### Result\n\nAbility to resend activation code in the Admin no matter the current state of activation.\n\n### Availability \u0026 Testing\n\n\u003c!-- This section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\nWhat risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning --\u003e\n\n**Considerations:** \n- Is there any prevention mechanism to resend this code?\n- Will the resending of the activation code result in an accidental re-activation? (i.e., will it generate a new activation code?)\n\n1. View / Vue spec to validate presence of \"Resend Activation Code\" button\n1. View /Vue spec to validate absence of button when license is not \"cloud license\"\n2. Feature specs\n    * If button is clicked, validate the proper mailer has been invoked\n    * Button should be visible for activated/non-activated instances","state":"closed","created_at":"2023-01-17T09:53:57.766Z","updated_at":"2023-04-24T16:52:00.932Z","closed_at":"2023-04-20T02:37:01.406Z","closed_by":{"id":1986039,"username":"lulalala","name":"Mark Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1986039/avatar.png","web_url":"https://gitlab.com/lulalala"},"labels":["Category:SM Provisioning","Cloud Licensing","backend","devops::fulfillment","emails","feature::enhancement","group::provision","priority::4","quad-planning::complete-action","section::fulfillment","type::feature","workflow::complete"],"milestone":{"id":2910456,"iid":86,"group_id":9970,"title":"15.11","description":"","state":"active","created_at":"2022-12-13T20:08:46.985Z","updated_at":"2022-12-13T20:08:46.985Z","due_date":"2023-04-17","start_date":"2023-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/86"},"assignees":[{"id":1986039,"username":"lulalala","name":"Mark Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1986039/avatar.png","web_url":"https://gitlab.com/lulalala"}],"author":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"type":"ISSUE","assignee":{"id":1986039,"username":"lulalala","name":"Mark Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1986039/avatar.png","web_url":"https://gitlab.com/lulalala"},"user_notes_count":21,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5530","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5530","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5530/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5530/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5530","relative":"#5530","full":"gitlab-org/customers-gitlab-com#5530"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":9674,"epic":{"id":722173,"iid":9674,"title":"Allow for resending and forwarding of activation codes","url":"/groups/gitlab-org/-/epics/9674","group_id":9970,"human_readable_end_date":"May 17, 2023","human_readable_timestamp":"\u003cstrong\u003e11\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":121700222,"iid":5517,"project_id":2670515,"title":"Add Group Name link to subscription-v2 component","description":"\n\n### Proposal\nAdd a link to the group name in the new SubscriptionV2 component. There will also be a popover when hovering on the group name.\n\n### Result\nDesign: [GL issue](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3916/designs/Ramped_subscriptions__MVC.png) and [Figma](https://www.figma.com/file/U9JvYVy1Ls9IKrrPw1vt38/Update-subscription-card-to-reflect-Zuora-data-structure?node-id=239%3A13266\u0026t=jdt2nnkIH74aLlA3-0)","state":"closed","created_at":"2023-01-13T01:14:20.738Z","updated_at":"2023-03-21T12:08:40.350Z","closed_at":"2023-02-22T10:32:54.724Z","closed_by":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"labels":["Category:Subscription Management","Deliverable","UX","devops::fulfillment","feature::addition","frontend","group::billing and subscription management","section::fulfillment","type::feature","workflow::complete"],"milestone":{"id":2745651,"iid":85,"group_id":9970,"title":"15.10","description":"","state":"active","created_at":"2022-08-22T16:58:22.132Z","updated_at":"2022-08-22T16:58:22.132Z","due_date":"2023-03-17","start_date":"2023-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/85"},"assignees":[{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"}],"author":{"id":10770603,"username":"lmeckley","name":"Laura Meckley","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10770603/avatar.png","web_url":"https://gitlab.com/lmeckley"},"type":"ISSUE","assignee":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"user_notes_count":12,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5517","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5517","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5517/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5517/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5517","relative":"#5517","full":"gitlab-org/customers-gitlab-com#5517"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8748,"epic":{"id":602374,"iid":8748,"title":"Ramps subscription display in Customers Portal and gitlab.com","url":"/groups/gitlab-org/-/epics/8748","group_id":9970,"human_readable_end_date":"May 31, 2023","human_readable_timestamp":"\u003cstrong\u003e25\u003c/strong\u003e days remaining"},"iteration":null,"health_status":"on_track"},{"id":121671971,"iid":5510,"project_id":2670515,"title":"Follow-up from \"Determine PRP for renewal from subscription object\"","description":"The following discussion from !6176 should be addressed:\n\n- [ ] @tyleramos started a [discussion](https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/6176#note_1235822858):  (+1 comment)\n\n    \u003e **Suggestion (non-blocking/follow-up):** If we define `with_one :rate_plan_charge` in [`lib/zuora/invoice_item.rb`](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/35aa538b8992a7ae8519dc513f6beda6e271c32e/lib/zuora/invoice_item.rb), I think it would simplify this a bit and we could call `invoice_item.rate_plan_charge` instead.  It looks like this happens in a few other places in this file too.\n    \u003e \n    \u003e Not a blocker for this MR IMO since it was this way before, but might be a nice quick follow-up if you like.","state":"closed","created_at":"2023-01-12T15:32:45.501Z","updated_at":"2023-02-10T05:23:34.300Z","closed_at":"2023-02-10T05:23:34.282Z","closed_by":{"id":11217480,"username":"tvellishetty","name":"Tarun Vellishetty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11217480/avatar.png","web_url":"https://gitlab.com/tvellishetty"},"labels":["backend","devops::fulfillment","group::fulfillment platform","maintenance::refactor","section::fulfillment","type::maintenance","workflow::production"],"milestone":null,"assignees":[{"id":11217480,"username":"tvellishetty","name":"Tarun Vellishetty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11217480/avatar.png","web_url":"https://gitlab.com/tvellishetty"}],"author":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"type":"ISSUE","assignee":{"id":11217480,"username":"tvellishetty","name":"Tarun Vellishetty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11217480/avatar.png","web_url":"https://gitlab.com/tvellishetty"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5510","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5510","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5510/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5510/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5510","relative":"#5510","full":"gitlab-org/customers-gitlab-com#5510"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":9502,"epic":{"id":682911,"iid":9502,"title":"Cleanup Subscribe and Amend API workflows","url":"/groups/gitlab-org/-/epics/9502","group_id":9970,"human_readable_end_date":"Mar 17, 2023","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":121671266,"iid":5509,"project_id":2670515,"title":"Develop Retention Policy for Container Registry","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n### Problem\n\nNow that the Container Registry is enabled, and given that https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/6229+ will implement Continuous Deployment to the registry ...\n\nThese containers will take up a lot of space and some containers will never be used.\n\n### Proposal\n\nDevelop a retention policy for the Container Registry, to preserve money and space.\n\n### Result\n\nOld published images pushed to the container registry will be purged.\n\n### Next steps (if any)\n\nDepends on https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/6229+ to be merged.\n\n### How will we measure success?","state":"closed","created_at":"2023-01-12T15:21:35.996Z","updated_at":"2023-03-29T19:06:23.080Z","closed_at":"2023-03-28T13:42:34.770Z","closed_by":{"id":272636,"username":"ddavison","name":"Dan Davison","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6e56557ffa1baafe3e73e45bd2dc9524?s=80\u0026d=identicon","web_url":"https://gitlab.com/ddavison"},"labels":["devops::fulfillment","maintenance::workflow","section::fulfillment","type::maintenance"],"milestone":{"id":2745651,"iid":85,"group_id":9970,"title":"15.10","description":"","state":"active","created_at":"2022-08-22T16:58:22.132Z","updated_at":"2022-08-22T16:58:22.132Z","due_date":"2023-03-17","start_date":"2023-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/85"},"assignees":[{"id":272636,"username":"ddavison","name":"Dan Davison","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6e56557ffa1baafe3e73e45bd2dc9524?s=80\u0026d=identicon","web_url":"https://gitlab.com/ddavison"},{"id":447038,"username":"vitallium","name":"Vitaly Slobodin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/74b3243cfcfbfac1f022b78ab505e8d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/vitallium"}],"author":{"id":272636,"username":"ddavison","name":"Dan Davison","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6e56557ffa1baafe3e73e45bd2dc9524?s=80\u0026d=identicon","web_url":"https://gitlab.com/ddavison"},"type":"ISSUE","assignee":{"id":272636,"username":"ddavison","name":"Dan Davison","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6e56557ffa1baafe3e73e45bd2dc9524?s=80\u0026d=identicon","web_url":"https://gitlab.com/ddavison"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5509","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5509","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5509/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5509/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5509","relative":"#5509","full":"gitlab-org/customers-gitlab-com#5509"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8458,"epic":{"id":574239,"iid":8458,"title":"Containerized version of CustomersDot","url":"/groups/gitlab-org/-/epics/8458","group_id":9970,"human_readable_end_date":"Apr 17, 2023","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":121625733,"iid":5506,"project_id":2670515,"title":"Use `provide` to pass subscription to Activation components","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n### Problem\n### Proposal\n\nTo more easily maintain a [second code path](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5382) for generating the `Activation` components, convert to using `provide` instead of prop-drilling fields.\n\u003c!-- Consult with `@gitlab-com/business-technology/enterprise-apps/zuora-architects` on the ~\"Enterprise Applications\" team if Zuora business logic is involved. --\u003e\n\n### Result\n\n### Next steps (if any)\n\n### How will we measure success?","state":"closed","created_at":"2023-01-12T00:35:35.758Z","updated_at":"2023-01-20T21:05:59.391Z","closed_at":"2023-01-20T21:04:55.627Z","closed_by":{"id":10770603,"username":"lmeckley","name":"Laura Meckley","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10770603/avatar.png","web_url":"https://gitlab.com/lmeckley"},"labels":["Unplanned","devops::fulfillment","frontend","group::billing and subscription management","maintenance::refactor","section::fulfillment","type::maintenance","workflow::complete"],"milestone":{"id":2745648,"iid":83,"group_id":9970,"title":"15.8","description":"","state":"active","created_at":"2022-08-22T16:57:34.875Z","updated_at":"2022-08-22T16:57:34.875Z","due_date":"2023-01-17","start_date":"2022-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/83"},"assignees":[{"id":10770603,"username":"lmeckley","name":"Laura Meckley","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10770603/avatar.png","web_url":"https://gitlab.com/lmeckley"}],"author":{"id":10770603,"username":"lmeckley","name":"Laura Meckley","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10770603/avatar.png","web_url":"https://gitlab.com/lmeckley"},"type":"ISSUE","assignee":{"id":10770603,"username":"lmeckley","name":"Laura Meckley","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10770603/avatar.png","web_url":"https://gitlab.com/lmeckley"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5506","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5506","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5506/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5506/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5506","relative":"#5506","full":"gitlab-org/customers-gitlab-com#5506"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":121518577,"iid":5496,"project_id":2670515,"title":"[Ramps] Add method on RatePlanCharge to reject duplicate segments","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n### Problem\nAs mentioned in this [comment](https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/6233#note_1232817247), we can move the filtering logic for `rate_plan_charges` to `Zuora::RatePlanCharge` from `subscription_presenter.rb`.\n\n### Proposal\n\n\u003c!-- Consult with `@gitlab-com/business-technology/enterprise-apps/zuora-architects` on the ~\"Enterprise Applications\" team if Zuora business logic is involved. --\u003e\n\n### Result\n\n### Next steps (if any)\n\n### How will we measure success?","state":"closed","created_at":"2023-01-10T13:28:51.511Z","updated_at":"2023-04-19T15:26:47.068Z","closed_at":"2023-04-19T13:25:52.546Z","closed_by":{"id":10769415,"username":"minahilnichols","name":"Minahil Nichols","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10769415/avatar.png","web_url":"https://gitlab.com/minahilnichols"},"labels":["Category:Subscription Management","backend","devops::fulfillment","group::billing and subscription management","maintenance::refactor","section::fulfillment","type::maintenance","workflow::complete"],"milestone":{"id":2633524,"iid":80,"group_id":9970,"title":"16.0","description":"","state":"active","created_at":"2022-05-30T16:25:25.778Z","updated_at":"2022-05-30T16:25:25.778Z","due_date":"2023-05-17","start_date":"2023-04-18","expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/80"},"assignees":[{"id":10769415,"username":"minahilnichols","name":"Minahil Nichols","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10769415/avatar.png","web_url":"https://gitlab.com/minahilnichols"}],"author":{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"},"type":"ISSUE","assignee":{"id":10769415,"username":"minahilnichols","name":"Minahil Nichols","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10769415/avatar.png","web_url":"https://gitlab.com/minahilnichols"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5496","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5496","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5496/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5496/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5496","relative":"#5496","full":"gitlab-org/customers-gitlab-com#5496"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8748,"epic":{"id":602374,"iid":8748,"title":"Ramps subscription display in Customers Portal and gitlab.com","url":"/groups/gitlab-org/-/epics/8748","group_id":9970,"human_readable_end_date":"May 31, 2023","human_readable_timestamp":"\u003cstrong\u003e25\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":121430732,"iid":5487,"project_id":2670515,"title":"[Feature flag] Enable pass_jtbd_longtail_desc_to_workato","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n# Summary\n\n\u003c!-- Short description of what the feature is about and link to relevant other issues. --\u003e\n\nThis issue is to rollout [Pass long tail description as jtbd when create Workato lead\n](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5452) on CustomersDot production,\nthat is currently behind the [pass_jtbd_longtail_desc_to_workato](https://gitlab.com/gitlab-org/customers-gitlab-com/-/feature_flags/190/edit) feature flag.\n\n## Owners\n\n- Team: ~\"group::commerce integration\" \n- Most appropriate Slack channel to reach out to: `#g_commerce_integrations`\n- Best individual to reach out to: @qzhaogitlab \n- PM: @courtmeddaugh \n\n## Stakeholders\n\n- @MihaiConteanu \n\n## The Rollout Plan\n\n- Rollout Feature for everyone as soon as it's ready\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? Sentry errors reports can also be useful to review --\u003e\n\n\n## Expectations\n\n### What are we expecting to happen?\n\nWorkato lead creation endpoint receives payload `jbtd: \u003clong tail description\u003e` instead of `jbtd: \u003capi reason\u003e`.\n\n### What might happen if this goes wrong?\n\nIf anything wrong, we can disable the feature flag [pass_jtbd_longtail_desc_to_workato](https://gitlab.com/gitlab-org/customers-gitlab-com/-/feature_flags/190/edit)\n\nIf necessary, it is possible to write a script to update the Workato leads: \n- read lead attributes from CustomersDot Lead table\n- call `Workato::CreateLeadService`\n\n### What can we monitor to detect problems with this?\n\n- No [reporting error](https://console.cloud.google.com/logs/query;query=logName%3D%2528%22projects%2Fgitlab-subscriptions-prod%2Flogs%2Fsidekiq.production%22%20OR%20%22projects%2Fgitlab-subscriptions-prod%2Flogs%2Frails.production%22%2529%0A%22Workato%22%20AND%20jsonPayload.success%20%3D%20false%0A;timeRange=P2D;cursorTimestamp=2023-01-05T22:31:43.123Z?project=gitlab-subscriptions-prod) related to this change\n- Will ask @MihaiConteanu to confirm whether anything is wrong from Workato side. (We do not have access to Workato and downstream systems).\n\n## Rollout Steps\n\n### Rollout on non-production environments\n\n- [x] Ensure that the feature MRs have been deployed to non-production environments, i.e. `customers-staging`.\n- [x] Consider announcing that the flag will be enabled to potentially impacted groups, e.g. `#s_fulfillment_engineering`\n- [x] Enable the feature globally on non-production environments by applying the appropriate environment, e.g. `customers-staging` and `customers-development`.\n- [x] Notify the Software Engineers in Test (SETs) for Fulfillment via Slack and in a comment in this issue when enabling a feature flag in `customers-staging` as it can impact the QA pipeline.\n- [x] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n\n### Preparation before production rollout\n\n- [x] Ensure that the feature MRs have been deployed to production\n- [x] Check if the feature flag change needs to be accompanied with a\n  [change management issue](https://about.gitlab.com/handbook/engineering/infrastructure/change-management/#feature-flags-and-the-change-management-process) -- Not needed.\n  Cross link the issue here if it does.\n- [x] Ensure that you or a representative in Fulfillment can be available for at least 2 hours after feature flag updates in production.\n  If a different developer will be covering, or an exception is needed, please inform the Fulfillment team in #s_fulfillment_engineering\n- [x] Ensure any documentation has been updated -- Not needed\n- [x] Announce on [the feature issue](ISSUE LINK) an estimated time this will be enabled on production if applicable\n- [ ] If the feature might impact the user experience, notify `#s_fulfillment` and potentially  `#support_gitlab-com`, as well as your team channel ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#communicate-the-change)). -- Not needed\n\n### Global rollout on CustomersDot production\n\n- [x] Confirm the feature flag is enabled on `staging` without incident\n- [ ] Roll out the feature to targeted testing users first (if applicable)\n- [ ] If applicable, [incrementally roll out](https://docs.gitlab.com/ee/operations/feature_flags.html#percent-rollout) the feature.\n- [ ] Verify the change has the desired outcome with the limited rollout before enabling the feature globally on production.\n- [x] Enable the feature globally on production environment\n- [x] Announce on [the feature issue](ISSUE LINK) that the feature has been globally enabled.\n- [x] Wait for [at least one day for the verification term](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release).\n\n### Release the feature\n\nAfter the feature has been [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release),\nthe clean up should be done as soon as possible to permanently enable the feature and reduce complexity in the codebase.\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [x] Create a merge request to remove `\u003cfeature-flag-name\u003e` feature flag\n  - [x] Remove all references to the feature flag from the codebase\n- [x] Ensure that the cleanup MR has been deployed to both staging and production\n- [x] Disable the feature flag via the [CustomersDot dashboard](https://gitlab.com/gitlab-org/customers-gitlab-com/-/feature_flags)\n- [x] Ensure production environment is still working as expected\n- [x] Remove the Unleash feature flag from the [CustomersDot dashboard](https://gitlab.com/gitlab-org/customers-gitlab-com/-/feature_flags)\n- [x] Close this rollout issue.\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by performing the following actions:\n  - [ ] Disable the Unleash flag on the [feature flag page](https://gitlab.com/gitlab-org/customers-gitlab-com/-/feature_flags/190/edit)","state":"closed","created_at":"2023-01-09T07:38:25.231Z","updated_at":"2023-02-24T16:01:52.322Z","closed_at":"2023-01-27T11:33:55.959Z","closed_by":{"id":4098809,"username":"qzhaogitlab","name":"Qingyu Zhao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4098809/avatar.png","web_url":"https://gitlab.com/qzhaogitlab"},"labels":["Category:Fulfillment Integrations \u0026 Visibility","devops::fulfillment","feature flag","feature::addition","group::provision","section::fulfillment","type::feature"],"milestone":{"id":2745650,"iid":84,"group_id":9970,"title":"15.9","description":"","state":"active","created_at":"2022-08-22T16:58:02.303Z","updated_at":"2022-08-22T16:58:02.303Z","due_date":"2023-02-17","start_date":"2023-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/84"},"assignees":[{"id":4098809,"username":"qzhaogitlab","name":"Qingyu Zhao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4098809/avatar.png","web_url":"https://gitlab.com/qzhaogitlab"}],"author":{"id":4098809,"username":"qzhaogitlab","name":"Qingyu Zhao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4098809/avatar.png","web_url":"https://gitlab.com/qzhaogitlab"},"type":"ISSUE","assignee":{"id":4098809,"username":"qzhaogitlab","name":"Qingyu Zhao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4098809/avatar.png","web_url":"https://gitlab.com/qzhaogitlab"},"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5487","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":27,"completed_count":21},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5487","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5487/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5487/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5487","relative":"#5487","full":"gitlab-org/customers-gitlab-com#5487"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":121320571,"iid":5475,"project_id":2670515,"title":"Get zuora_account from Order in AutoRenew::BasePresenter","description":"### Problem\n\nIn `AutoRenew::BasePresenter`, the `zuora_account` is used to [get the default payment method](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/b5e4974cf7a33400945369b06d199fa842cc1261/app/presenters/auto_renew/base_presenter.rb#L31).  This is fetched from the given `customer` (e.g. `customer.zuora_account`).  However, it would be more accurate long-term when the `account_data_structure` is in place to pull this from the `order` instead.\n\n### Proposal\n\nUpdate `AutoRenew::BasePresenter` to get `zuora_account` from the `order` when the `account_data_structure` feature flag is enabled.","state":"closed","created_at":"2023-01-05T22:14:56.268Z","updated_at":"2023-01-09T21:09:02.554Z","closed_at":"2023-01-09T21:09:02.527Z","closed_by":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"labels":["backend","devops::fulfillment","group::fulfillment platform","maintenance::refactor","section::fulfillment","type::maintenance","workflow::production"],"milestone":{"id":2745648,"iid":83,"group_id":9970,"title":"15.8","description":"","state":"active","created_at":"2022-08-22T16:57:34.875Z","updated_at":"2022-08-22T16:57:34.875Z","due_date":"2023-01-17","start_date":"2022-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/83"},"assignees":[{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"}],"author":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"type":"ISSUE","assignee":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5475","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5475","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5475/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5475/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5475","relative":"#5475","full":"gitlab-org/customers-gitlab-com#5475"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":9515,"epic":{"id":683654,"iid":9515,"title":"Update customer references to zuora_account_id","url":"/groups/gitlab-org/-/epics/9515","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":121249723,"iid":5471,"project_id":2670515,"title":"Update namespace for Zuora and SFDC cleanup tasks","description":"### Summary\n\nWe have a couple of tasks to cleanup Zuora and Salesforce related references:\n- `clear_missing_zuora_account_ids` task\n- `clear_missing_salesforce_account_ids` task\n\nThese are namespaced under `:customers`.\n\nWith the work related to billing accounts these cleanup tasks will be handling the update of the customers and the billing accounts and eventually just the billing accounts.\n\n### Proposal\n\nUpdate the namespace to `:data_maintenance` for:\n- `clear_missing_zuora_account_ids` task\n- `clear_missing_salesforce_account_ids` task\n- the documentation referencing any of this","state":"closed","created_at":"2023-01-04T18:44:40.359Z","updated_at":"2023-01-23T17:38:41.864Z","closed_at":"2023-01-19T08:28:54.053Z","closed_by":{"id":11217480,"username":"tvellishetty","name":"Tarun Vellishetty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11217480/avatar.png","web_url":"https://gitlab.com/tvellishetty"},"labels":["backend","devops::fulfillment","group::fulfillment platform","maintenance::refactor","missed:15.8","section::fulfillment","type::maintenance","workflow::production"],"milestone":{"id":2745650,"iid":84,"group_id":9970,"title":"15.9","description":"","state":"active","created_at":"2022-08-22T16:58:02.303Z","updated_at":"2022-08-22T16:58:02.303Z","due_date":"2023-02-17","start_date":"2023-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/84"},"assignees":[{"id":11217480,"username":"tvellishetty","name":"Tarun Vellishetty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11217480/avatar.png","web_url":"https://gitlab.com/tvellishetty"}],"author":{"id":5667561,"username":"vshumilo","name":"Vladlena Shumilo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08dfa82785d130c151ab9e21caeab4e3?s=80\u0026d=identicon","web_url":"https://gitlab.com/vshumilo"},"type":"ISSUE","assignee":{"id":11217480,"username":"tvellishetty","name":"Tarun Vellishetty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11217480/avatar.png","web_url":"https://gitlab.com/tvellishetty"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5471","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5471","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5471/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5471/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5471","relative":"#5471","full":"gitlab-org/customers-gitlab-com#5471"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8950,"epic":{"id":621714,"iid":8950,"title":"Iteration 1A: Align CustomersDot BillingAccounts and Users to Zuora objects","url":"/groups/gitlab-org/-/epics/8950","group_id":9970,"human_readable_end_date":"Mar 17, 2023","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":121243448,"iid":5468,"project_id":2670515,"title":"Ramps UAT: Provision Testing in Dev","description":"## Summary\nThe EntApps team is conducting end-to-end UAT of Zuora Ramps prior to implementation (expected Feb 1, 2023). This issue will be used to track UAT efforts of ~\"group::provision\" in the dev stack only. This will require testing in a local CDot environment. Because of this, more thorough testing will be conducted in Staging by Fulfillment in the related issue: https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5742.\n\nMore details on full project testing can be found in the [EntApps related issue](https://gitlab.com/gitlab-com/business-technology/enterprise-apps/financeops/finance-systems/-/issues/1051)\n\n## Test Cases for Dev\nThe full list of test cases can be found in: https://docs.google.com/spreadsheets/d/1xmdJ6ToiCyFNtqjrNPvwcGR7gCvkskjLnZXwAzEMT40/edit#gid=0\n\nFor dev testing, we should pick a few line items from this sheet (a few differing scenarios) to ensure the provisioning is working as expected.\n\n## Result\nSign-off from ~\"group::provision\" that provisioning appears to be working correctly  and we are comfortable with proceeding with Staging deployment.\n\n## Testing results\n\n### [New Self-Managed Subscription](https://gitlab--sandbox.sandbox.my.salesforce.com/a1j8F0000007cNh)\n\n1. :white_check_mark: Created subscription looked good. \n2. :white_check_mark: Subscription page in CustomersDot: \n\u003cdetails\u003e\n![image](/uploads/4df7879e8e8d71c4d17cc9fcac9e949e/image.png)\n   \u003c/details\u003e\n\n4. :white_check_mark: Email(s) with activation code was sent (to customer and SFDC): \n \n   \u003cdetails\u003e\n   ![Screenshot_2023-02-23_at_2.13.55_PM](/uploads/e7096be3defd71ff7735ac2e8abbc708/Screenshot_2023-02-23_at_2.13.55_PM.png)\n   \u003c/details\u003e\n\n5. :white_check_mark: Instance activated with the subscription: \n   \u003cdetails\u003e\n   ![new_sm_subscription_-_activated_instance](/uploads/4c5210c63d8ab31cf4ad27a0b260aa9f/new_sm_subscription_-_activated_instance.png)\n   \u003c/details\u003e\n\n### [New Subscription with Add-On](https://gitlab--sandbox.sandbox.my.salesforce.com/a1j8F0000007cUX)\n\n1. :white_check_mark:  Created subscription looks good.\n2. :white_check_mark:  Subscription page in CustomersDot shows paid SaaS plan and Storage.\n\n\u003cdetails\u003e\n![image](/uploads/2cc7c98ab03ee324130ac7e249709faa/image.png)\n   \u003c/details\u003e\n\n3. :white_check_mark: Email(s)  was sent (to customer and SFDC):\n   \n\u003cdetails\u003e\n   ![Screenshot_2023-02-23_at_2.14.06_PM](/uploads/290030010fae30b1b89f7ddf34701f7c/Screenshot_2023-02-23_at_2.14.06_PM.png)\n   \u003c/details\u003e\n\n4. :white_check_mark: Linked after purchase and data was successfully and correctly synced.\n\n### [Add Seats to Existing Subscription](https://gitlab--sandbox.sandbox.my.salesforce.com/a1j8F0000007cOa)\n\nAll looks good :white_check_mark: - changed year 1 seats from 50 to 60.\n\n\u003cdetails\u003e\u003csummary\u003eSee details\u003c/summary\u003e\n![image](/uploads/98f1dcd0052ee81b589006420f13ecca/image.png)\n\u003c/details\u003e\n\n### [Renew Subscription](https://gitlab--sandbox.sandbox.my.salesforce.com/a1j8F0000007cUX)\n\nAll looks good :white_check_mark: - additional year was added on for renewal.\n\n\u003cdetails\u003e\u003csummary\u003eSee details\u003c/summary\u003e\n![image](/uploads/c2b5cafc4a30f8a56d0f7e31ec92961d/image.png)\n\u003c/details\u003e\n\n### [Upgrade Subscription](https://gitlab--sandbox.sandbox.my.salesforce.com/a1j8F0000007cUw)\n\nUpgraded to SaaS Ultimate update was successful :white_check_mark: \n\n\u003cdetails\u003e\u003csummary\u003eSee details\u003c/summary\u003e\n\n![image](/uploads/66dbf1a6101a1ba2a57f1e86b98b7eab/image.png)\n\n\u003c/details\u003e\n\n\n### [Add True-Up Product](https://gitlab--sandbox.sandbox.my.salesforce.com/a1j8F0000007cWy)\n\nTrue-up product was added as a separate line item. :white_check_mark: \n\n\u003cdetails\u003e\u003csummary\u003eSee details\u003c/summary\u003e\n\n![image](/uploads/4f09cd2e805d25c79d3f7e4065e9f37d/image.png)\n\n\u003c/details\u003e","state":"closed","created_at":"2023-01-04T16:46:52.911Z","updated_at":"2023-03-20T23:35:28.179Z","closed_at":"2023-02-23T18:26:16.058Z","closed_by":{"id":7964536,"username":"courtmeddaugh","name":"Courtney Meddaugh","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7964536/avatar.png","web_url":"https://gitlab.com/courtmeddaugh"},"labels":["CVM::Done","Category:SM Provisioning","Category:SaaS Provisioning","Ramps Provisioning","backend","devops::fulfillment","feature::addition","group::provision","needs weight","priority::2","section::fulfillment","type::feature","workflow::complete"],"milestone":{"id":2745651,"iid":85,"group_id":9970,"title":"15.10","description":"","state":"active","created_at":"2022-08-22T16:58:22.132Z","updated_at":"2022-08-22T16:58:22.132Z","due_date":"2023-03-17","start_date":"2023-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/85"},"assignees":[{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},{"id":7964536,"username":"courtmeddaugh","name":"Courtney Meddaugh","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7964536/avatar.png","web_url":"https://gitlab.com/courtmeddaugh"}],"author":{"id":7964536,"username":"courtmeddaugh","name":"Courtney Meddaugh","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7964536/avatar.png","web_url":"https://gitlab.com/courtmeddaugh"},"type":"ISSUE","assignee":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"user_notes_count":21,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5468","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5468","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5468/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5468/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5468","relative":"#5468","full":"gitlab-org/customers-gitlab-com#5468"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8793,"epic":{"id":605003,"iid":8793,"title":"Zuora Ramps: Fulfillment Testing of Zuora Ramps","url":"/groups/gitlab-org/-/epics/8793","group_id":9970,"human_readable_end_date":"May 17, 2023","human_readable_timestamp":"\u003cstrong\u003e11\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":121166280,"iid":5460,"project_id":2670515,"title":"Review and add missing docs for \"AutoRenew\" feature","description":"### Section 3: GitLab initiated management events\n\nThis issue is to create a SSOT for all documentation about \"AutoRenew\" feature. Follow the checklist below:\n\n#### Feature: AutoRenew\n\nReview existing documentation and update this issue with:\n\n- [ ] User facing docs: links\n- [ ] Developers docs: links\n- [ ] (Optional) Flowcharts: links\n- [ ] Add links from above to the Fulfillment Guide","state":"closed","created_at":"2023-01-03T14:01:28.659Z","updated_at":"2023-02-17T19:43:58.338Z","closed_at":"2023-02-17T19:43:58.311Z","closed_by":{"id":10770603,"username":"lmeckley","name":"Laura Meckley","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10770603/avatar.png","web_url":"https://gitlab.com/lmeckley"},"labels":["devops::fulfillment","documentation","group::billing and subscription management","section::fulfillment","type::maintenance","workflow::complete"],"milestone":{"id":2745650,"iid":84,"group_id":9970,"title":"15.9","description":"","state":"active","created_at":"2022-08-22T16:58:02.303Z","updated_at":"2022-08-22T16:58:02.303Z","due_date":"2023-02-17","start_date":"2023-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/84"},"assignees":[{"id":10770603,"username":"lmeckley","name":"Laura Meckley","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10770603/avatar.png","web_url":"https://gitlab.com/lmeckley"}],"author":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"type":"ISSUE","assignee":{"id":10770603,"username":"lmeckley","name":"Laura Meckley","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10770603/avatar.png","web_url":"https://gitlab.com/lmeckley"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5460","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":4,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5460","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5460/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5460/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5460","relative":"#5460","full":"gitlab-org/customers-gitlab-com#5460"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":9294,"epic":{"id":658942,"iid":9294,"title":"Document all Subscription Management features (user flow and technical implementation)","url":"/groups/gitlab-org/-/epics/9294","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":121166106,"iid":5457,"project_id":2670515,"title":"Review and add missing docs for \"Renew subscription\" feature","description":"### Section 2: User initiated management events\n\nThis issue is to create a SSOT for all documentation about \"Renew subscription\" feature. Follow the checklist below:\n\n#### Feature: Renew subscription\n\nReview existing documentation and update this issue with:\n\n- [x] User facing docs: links\n- [x] Developers docs: links\n- [x] (Optional) Flowcharts: links\n- [x] Add links from above to the Fulfillment Guide\n\nDraft MR: https://gitlab.com/gitlab-com/www-gitlab-com/-/merge_requests/118919","state":"closed","created_at":"2023-01-03T13:59:06.132Z","updated_at":"2023-02-08T10:41:47.100Z","closed_at":"2023-02-08T10:41:47.061Z","closed_by":{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"},"labels":["devops::fulfillment","documentation","group::billing and subscription management","section::fulfillment","type::maintenance","workflow::complete"],"milestone":{"id":2745650,"iid":84,"group_id":9970,"title":"15.9","description":"","state":"active","created_at":"2022-08-22T16:58:02.303Z","updated_at":"2022-08-22T16:58:02.303Z","due_date":"2023-02-17","start_date":"2023-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/84"},"assignees":[{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"}],"author":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"type":"ISSUE","assignee":{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5457","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":4,"completed_count":4},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5457","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5457/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5457/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5457","relative":"#5457","full":"gitlab-org/customers-gitlab-com#5457"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":9294,"epic":{"id":658942,"iid":9294,"title":"Document all Subscription Management features (user flow and technical implementation)","url":"/groups/gitlab-org/-/epics/9294","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":121137154,"iid":5452,"project_id":2670515,"title":"Pass long tail description as jtbd when create Workato lead","description":"This [request](https://gitlab.com/groups/gitlab-org/-/epics/9084#note_1187675882) asks to change current `jtbd` value from `Reason API` to `long tail` value.\n\n\u003e\u003e\u003e\n\nOne more question from my side: is it possible to change the values on the jtbd fields sent over according to the table below:\n\n\n| Reason API | long tail |\n| ------ | ------ |\n| basics | I want to learn the basics of Git |\n| ci | I want to use GitLab CI with my existing repository |\n| code_storage | I want to store my code |\n| exploring | I want to explore GitLab to see if it's worth switching to |\n| move_repository | I want to move my repository to GitLab from somewhere else |\n| other | A different reason |\n\n\u003e\u003e\u003e\n\nAlso per [comment](https://gitlab.com/groups/gitlab-org/-/epics/9084#note_1195974830):\n\n\u003e\u003e\u003e\n * if the jtbd is in the defined values, map to the long tail according to the table\n * if the jtbd is NOT in the defined values, keep whatever the jtbd value, and pass to Workato as it is.\n\nBTW: I searched production DB, here are the existing jtbd values count:\n\n```\nirb(main):006:0\u003e pp  Lead.group(:jtbd).count\n{\"\"=\u003e2543,\n \"9v5lw024chiooua11lmr9utqmhsag1d51xpocf04.burpcollaborator.net\"=\u003e1,\n \"basics\"=\u003e8878,\n \"ci\"=\u003e4475,\n \"code_storage\"=\u003e13702,\n \"code_storageofeof%\u003er8hri'/\\\"\u003cinfpc\"=\u003e1,\n \"exploring\"=\u003e7362,\n \"move_repository\"=\u003e4210,\n \"other\"=\u003e7367,\n nil=\u003e142237}\n```\n\u003e\u003e\u003e\n\n#### Other consideration\n\nIt is better to introduce a feature flag to control this behaviour, to help this behaviour transit smoothly.","state":"closed","created_at":"2023-01-03T00:03:52.639Z","updated_at":"2023-02-24T16:01:52.021Z","closed_at":"2023-01-18T00:31:15.263Z","closed_by":{"id":4098809,"username":"qzhaogitlab","name":"Qingyu Zhao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4098809/avatar.png","web_url":"https://gitlab.com/qzhaogitlab"},"labels":["Category:Fulfillment Integrations \u0026 Visibility","devops::fulfillment","feature::enhancement","group::provision","section::fulfillment","type::feature"],"milestone":{"id":2745650,"iid":84,"group_id":9970,"title":"15.9","description":"","state":"active","created_at":"2022-08-22T16:58:02.303Z","updated_at":"2022-08-22T16:58:02.303Z","due_date":"2023-02-17","start_date":"2023-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/84"},"assignees":[{"id":4098809,"username":"qzhaogitlab","name":"Qingyu Zhao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4098809/avatar.png","web_url":"https://gitlab.com/qzhaogitlab"}],"author":{"id":4098809,"username":"qzhaogitlab","name":"Qingyu Zhao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4098809/avatar.png","web_url":"https://gitlab.com/qzhaogitlab"},"type":"ISSUE","assignee":{"id":4098809,"username":"qzhaogitlab","name":"Qingyu Zhao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4098809/avatar.png","web_url":"https://gitlab.com/qzhaogitlab"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5452","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5452","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5452/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5452/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5452","relative":"#5452","full":"gitlab-org/customers-gitlab-com#5452"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":9562,"epic":{"id":691862,"iid":9562,"title":"Workato leads creation improvements","url":"/groups/gitlab-org/-/epics/9562","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":121137085,"iid":5451,"project_id":2670515,"title":"Pass source information to Workato lead creation","description":"This [request](https://gitlab.com/groups/gitlab-org/-/epics/9084#note_1160401170) asks for passing trial source information `glm_source` and `glm_content` to Workato lead creation.","state":"closed","created_at":"2023-01-02T23:55:46.862Z","updated_at":"2023-02-24T16:01:51.738Z","closed_at":"2023-01-06T01:15:49.837Z","closed_by":{"id":4098809,"username":"qzhaogitlab","name":"Qingyu Zhao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4098809/avatar.png","web_url":"https://gitlab.com/qzhaogitlab"},"labels":["Category:Fulfillment Integrations \u0026 Visibility","devops::fulfillment","feature::enhancement","group::provision","section::fulfillment","type::feature"],"milestone":{"id":2745648,"iid":83,"group_id":9970,"title":"15.8","description":"","state":"active","created_at":"2022-08-22T16:57:34.875Z","updated_at":"2022-08-22T16:57:34.875Z","due_date":"2023-01-17","start_date":"2022-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/83"},"assignees":[{"id":4098809,"username":"qzhaogitlab","name":"Qingyu Zhao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4098809/avatar.png","web_url":"https://gitlab.com/qzhaogitlab"}],"author":{"id":4098809,"username":"qzhaogitlab","name":"Qingyu Zhao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4098809/avatar.png","web_url":"https://gitlab.com/qzhaogitlab"},"type":"ISSUE","assignee":{"id":4098809,"username":"qzhaogitlab","name":"Qingyu Zhao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4098809/avatar.png","web_url":"https://gitlab.com/qzhaogitlab"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5451","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5451","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5451/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5451/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5451","relative":"#5451","full":"gitlab-org/customers-gitlab-com#5451"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":9562,"epic":{"id":691862,"iid":9562,"title":"Workato leads creation improvements","url":"/groups/gitlab-org/-/epics/9562","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":121128926,"iid":5449,"project_id":2670515,"title":"Sync SoldTo to Zuora for email address updates from Admin","description":"## Problem\n\nWhen the email address of a customer gets updated from the admin interface it doesn't sync automatically with Zuora.\n\nThis is a problem, as the `SoldTo` contact in Zuora should get updated in this case as well.\n\n\u003cdetails\u003e\u003csummary\u003eScreenshot of CDot Admin\u003c/summary\u003e\n![Email_Update_Admin_CDot](/uploads/5cafcfa08542ed32b24cf4c9c7308e95/Email_Update_Admin_CDot.png)\n\u003c/details\u003e\n\nRelated thread: https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5139#note_1220323298\n\n## Proposal\n\nUpdate the Zuora `SoldTo` contact when a customer email address is updated via the admin interface.\n\n## Result\n\nWhen the email address of a customer gets updated from the admin interface it gets automatically synced with Zuora `SoldTo` Contact.\nThis allows us to have the same behavior for Zuora `SoldTo` contact sync updates within CDot.","state":"closed","created_at":"2023-01-02T17:03:48.447Z","updated_at":"2023-01-30T22:45:10.867Z","closed_at":"2023-01-26T13:59:26.054Z","closed_by":{"id":11217480,"username":"tvellishetty","name":"Tarun Vellishetty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11217480/avatar.png","web_url":"https://gitlab.com/tvellishetty"},"labels":["backend","devops::fulfillment","feature::enhancement","group::fulfillment platform","missed:15.8","section::fulfillment","type::feature","workflow::production"],"milestone":{"id":2745650,"iid":84,"group_id":9970,"title":"15.9","description":"","state":"active","created_at":"2022-08-22T16:58:02.303Z","updated_at":"2022-08-22T16:58:02.303Z","due_date":"2023-02-17","start_date":"2023-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/84"},"assignees":[{"id":11217480,"username":"tvellishetty","name":"Tarun Vellishetty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11217480/avatar.png","web_url":"https://gitlab.com/tvellishetty"}],"author":{"id":12801023,"username":"mgass1","name":"Manuel Gass","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12801023/avatar.png","web_url":"https://gitlab.com/mgass1"},"type":"ISSUE","assignee":{"id":11217480,"username":"tvellishetty","name":"Tarun Vellishetty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11217480/avatar.png","web_url":"https://gitlab.com/tvellishetty"},"user_notes_count":19,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5449","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5449","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5449/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5449/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5449","relative":"#5449","full":"gitlab-org/customers-gitlab-com#5449"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8950,"epic":{"id":621714,"iid":8950,"title":"Iteration 1A: Align CustomersDot BillingAccounts and Users to Zuora objects","url":"/groups/gitlab-org/-/epics/8950","group_id":9970,"human_readable_end_date":"Mar 17, 2023","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":120981383,"iid":5446,"project_id":2670515,"title":"Create documentation for how to augment the dictionary","description":"After introducing the dictionary to map system to friendly errors, we need to document how to extend the dictionary so that not only Fullfilment engineers but stakeholders (e.g., Support engineers) can introduce new friendly errors.\n\nThis will be the first iteration of the documentation and process. One place where this can be put in is the [architecture](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/main/doc/architecture) section of CustomersDot documentation.","state":"closed","created_at":"2022-12-28T09:52:33.198Z","updated_at":"2023-03-06T18:52:47.906Z","closed_at":"2023-03-06T18:52:47.881Z","closed_by":{"id":4903695,"username":"shreyasagarwal","name":"Shreyas Agarwal","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d5b09dfe06a10d119c1b2043c43de680?s=80\u0026d=identicon","web_url":"https://gitlab.com/shreyasagarwal"},"labels":["ARM::Consider for 15.10","Category:Purchase","devops::fulfillment","documentation","feature::enhancement","frontend","group::purchase","section::fulfillment","type::feature","workflow::complete"],"milestone":{"id":2745651,"iid":85,"group_id":9970,"title":"15.10","description":"","state":"active","created_at":"2022-08-22T16:58:22.132Z","updated_at":"2022-08-22T16:58:22.132Z","due_date":"2023-03-17","start_date":"2023-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/85"},"assignees":[{"id":6348276,"username":"agulina","name":"Angelo Gulina","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b28693a558066993ea93b7272208d285?s=80\u0026d=identicon","web_url":"https://gitlab.com/agulina"}],"author":{"id":6348276,"username":"agulina","name":"Angelo Gulina","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b28693a558066993ea93b7272208d285?s=80\u0026d=identicon","web_url":"https://gitlab.com/agulina"},"type":"ISSUE","assignee":{"id":6348276,"username":"agulina","name":"Angelo Gulina","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b28693a558066993ea93b7272208d285?s=80\u0026d=identicon","web_url":"https://gitlab.com/agulina"},"user_notes_count":2,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5446","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5446","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5446/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5446/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5446","relative":"#5446","full":"gitlab-org/customers-gitlab-com#5446"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":9543,"epic":{"id":689568,"iid":9543,"title":"Provide more helpful error messages to the user during purchase","url":"/groups/gitlab-org/-/epics/9543","group_id":9970,"human_readable_end_date":"Apr 17, 2023","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":120968780,"iid":5445,"project_id":2670515,"title":"Allow Workato::CreateLeadWorker to retry lead creation failure","description":"\nWe found several unsuccessful Workato lead creations. \n- First one: https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5418#note_1222258595. The root cause is unstable network `Net::ReadTimeout` https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5418#note_1222259741\n- Second one: https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5418#note_1223316962\n- Third one: https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5418#note_1224676382\n- Fourth one: https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5418#note_1225168532\n\nAlthough there are different reasons for the above 4 unsuccessful cases, they could all succeed with a retry.\n\nATM, if `Workato::CreateLeadService.new.execute(lead_attrs)` returns `success: false`, `Workato::CreateLeadWorker` does NOT do anything.\n\nWe should retry Workato::CreateLeadService failures. (BTW: `Workato::CreateLeadWorker` is safe to retry -- if the lead already exists, Workato will update existing lead.)\n\n**BTW**: searching from the production Lead table, it shows that: [Platypus::CreateLeadService also had some unsuccessful instances](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5445#note_1222271404), but we did not remedy them.","state":"closed","created_at":"2022-12-27T23:10:45.117Z","updated_at":"2023-02-24T16:01:51.440Z","closed_at":"2023-01-05T23:53:48.740Z","closed_by":{"id":4098809,"username":"qzhaogitlab","name":"Qingyu Zhao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4098809/avatar.png","web_url":"https://gitlab.com/qzhaogitlab"},"labels":["Category:Fulfillment Integrations \u0026 Visibility","bug::functional","devops::fulfillment","group::provision","section::fulfillment","type::bug"],"milestone":{"id":2745648,"iid":83,"group_id":9970,"title":"15.8","description":"","state":"active","created_at":"2022-08-22T16:57:34.875Z","updated_at":"2022-08-22T16:57:34.875Z","due_date":"2023-01-17","start_date":"2022-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/83"},"assignees":[{"id":4098809,"username":"qzhaogitlab","name":"Qingyu Zhao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4098809/avatar.png","web_url":"https://gitlab.com/qzhaogitlab"}],"author":{"id":4098809,"username":"qzhaogitlab","name":"Qingyu Zhao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4098809/avatar.png","web_url":"https://gitlab.com/qzhaogitlab"},"type":"ISSUE","assignee":{"id":4098809,"username":"qzhaogitlab","name":"Qingyu Zhao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4098809/avatar.png","web_url":"https://gitlab.com/qzhaogitlab"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5445","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5445","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5445/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5445/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5445","relative":"#5445","full":"gitlab-org/customers-gitlab-com#5445"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":9562,"epic":{"id":691862,"iid":9562,"title":"Workato leads creation improvements","url":"/groups/gitlab-org/-/epics/9562","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":120760187,"iid":5434,"project_id":2670515,"title":"Document new process for managing Customer associations with Zuora Billing Accounts","description":"### Problem\n\nWith the data structure changes introduced in https://gitlab.com/groups/gitlab-org/-/epics/8950+, team members outside of Fulfillment who routinely use CDot need to be aware of these changes.  In particular, CDot Admins who might manage Zuora Billing Account associations for Customers.\n\nPreviously, the Admin page for Customers allowed admins to change the `zuora_account_id` for a Customer as shown below.\n\n![Screen_Shot_2022-12-21_at_11.43.56_AM](/uploads/d749e76bcf80a8079f75d347f3714b00/Screen_Shot_2022-12-21_at_11.43.56_AM.png)\n\nWhen the new data structure goes live (`account_data_structure` feature flag enabled), this ability will change.  The `zuora_account_id` field on the Customers page will be removed.  Instead, the association to a Zuora Account will be managed through a Billing Account Memberships.  A Billing Account Membership can be created or removed which associates a Customer with a Billing Account record.  The following screenshot shows the new Billing Account Memberships page.\n\n![Screen_Shot_2022-12-21_at_11.46.33_AM](/uploads/45f2b45a830253d8d885369e63a5898c/Screen_Shot_2022-12-21_at_11.46.33_AM.png)\n\nThe Billing Account is the record that has the association with a Zuora Account and has the `zuora_account_id` field as shown below.\n\n![Screen_Shot_2022-12-21_at_11.48.56_AM](/uploads/a60922e01f2e5df89626c78f39478178/Screen_Shot_2022-12-21_at_11.48.56_AM.png)\n\n### Proposal\n\nLet's consider documenting this information and communicate this to team members in advance of rolling out the `account_data_structure` feature.\n\nPeople include when communicating this documentation:\n- Finance systems and Billing team (`@annapiaseczna` for instance)\n- Support team\n\nAs noted by `@kevenhughes` [below](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5434#note_1234552915), [support workflows documented in the handbook](https://about.gitlab.com/handbook/support/license-and-renewals/workflows/) will likely need to be updated. For instance, the workflows [listed here](https://about.gitlab.com/handbook/support/license-and-renewals/workflows/customersdot/associating_purchases.html#add-subscription-management-contact-workflow).","state":"closed","created_at":"2022-12-21T16:40:05.621Z","updated_at":"2023-05-02T11:13:54.794Z","closed_at":"2023-02-16T18:55:31.205Z","closed_by":{"id":5667561,"username":"vshumilo","name":"Vladlena Shumilo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08dfa82785d130c151ab9e21caeab4e3?s=80\u0026d=identicon","web_url":"https://gitlab.com/vshumilo"},"labels":["devops::fulfillment","documentation","group::fulfillment platform","maintenance::refactor","missed:15.8","section::fulfillment","type::maintenance","workflow::in review"],"milestone":{"id":2745650,"iid":84,"group_id":9970,"title":"15.9","description":"","state":"active","created_at":"2022-08-22T16:58:02.303Z","updated_at":"2022-08-22T16:58:02.303Z","due_date":"2023-02-17","start_date":"2023-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/84"},"assignees":[{"id":5667561,"username":"vshumilo","name":"Vladlena Shumilo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08dfa82785d130c151ab9e21caeab4e3?s=80\u0026d=identicon","web_url":"https://gitlab.com/vshumilo"}],"author":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"type":"ISSUE","assignee":{"id":5667561,"username":"vshumilo","name":"Vladlena Shumilo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08dfa82785d130c151ab9e21caeab4e3?s=80\u0026d=identicon","web_url":"https://gitlab.com/vshumilo"},"user_notes_count":29,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5434","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5434","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5434/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5434/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5434","relative":"#5434","full":"gitlab-org/customers-gitlab-com#5434"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8950,"epic":{"id":621714,"iid":8950,"title":"Iteration 1A: Align CustomersDot BillingAccounts and Users to Zuora objects","url":"/groups/gitlab-org/-/epics/8950","group_id":9970,"human_readable_end_date":"Mar 17, 2023","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":120726787,"iid":5427,"project_id":2670515,"title":"Add Marketplace order status poll endpoint to OpenAPI doc","description":"In issue https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4733+, we have created endpoint for Marketplace partners to poll order status.\n\nWe need to add this new endpoint to the openAPI doc https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/main/doc/api/openapi.yaml\n\n### Problem\n\n### Proposal\n\n\u003c!-- Consult with `@gitlab-com/business-technology/enterprise-apps/zuora-architects` on the ~\"Enterprise Applications\" team if Zuora business logic is involved. --\u003e\n\n### Result\n\n### Next steps (if any)\n\n### How will we measure success?","state":"closed","created_at":"2022-12-21T06:49:00.283Z","updated_at":"2023-02-24T16:01:51.170Z","closed_at":"2022-12-23T08:01:00.198Z","closed_by":{"id":4098809,"username":"qzhaogitlab","name":"Qingyu Zhao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4098809/avatar.png","web_url":"https://gitlab.com/qzhaogitlab"},"labels":["Category:Fulfillment Integrations \u0026 Visibility","devops::fulfillment","feature::enhancement","group::provision","section::fulfillment","type::feature"],"milestone":{"id":2745648,"iid":83,"group_id":9970,"title":"15.8","description":"","state":"active","created_at":"2022-08-22T16:57:34.875Z","updated_at":"2022-08-22T16:57:34.875Z","due_date":"2023-01-17","start_date":"2022-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/83"},"assignees":[{"id":4098809,"username":"qzhaogitlab","name":"Qingyu Zhao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4098809/avatar.png","web_url":"https://gitlab.com/qzhaogitlab"}],"author":{"id":4098809,"username":"qzhaogitlab","name":"Qingyu Zhao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4098809/avatar.png","web_url":"https://gitlab.com/qzhaogitlab"},"type":"ISSUE","assignee":{"id":4098809,"username":"qzhaogitlab","name":"Qingyu Zhao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4098809/avatar.png","web_url":"https://gitlab.com/qzhaogitlab"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5427","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5427","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5427/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5427/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5427","relative":"#5427","full":"gitlab-org/customers-gitlab-com#5427"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":120673256,"iid":5418,"project_id":2670515,"title":"[Feature flag] Enable switch_lead_creation_from_platypus_to_workato","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n# Summary\n\n\u003c!-- Short description of what the feature is about and link to relevant other issues. --\u003e\n\nThis issue is to rollout [Update CDot's BaseTrialService to route trials to Workato](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5013) on CustomersDot production,\nthat is currently behind the [switch_lead_creation_from_platypus_to_workato](https://gitlab.com/gitlab-org/customers-gitlab-com/-/feature_flags/187/edit) feature flag.\n\n## Owners\n\n- Team: ~\"group::commerce integration\" \n- Most appropriate Slack channel to reach out to: `#g_commerce_integrations`\n- Best individual to reach out to: @qzhaogitlab \n- PM: @courtmeddaugh \n\n## Stakeholders\n\n\u003c!--\nAre there any other stages or teams involved that need to be kept in the loop?\n\n- GITLAB_HANDLE of a PM\n- The Support Team\n- The Delivery Team\n--\u003e\n\n## The Rollout Plan\n\n- Partial Rollout with specific Customers on CustomersDot, [via Unleash](https://docs.gitlab.com/ee/operations/feature_flags.html#user-ids)\n- Rollout on CustomersDot for a certain period (How long)\n- Percentage Rollout on CustomersDot\n- Rollout Feature for everyone as soon as it's ready\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? Sentry errors reports can also be useful to review --\u003e\n\n## Testing User/Customer IDs\n\n\u003c!--\nList any Customer IDs for Customers that are happy to have this feature turned on early.\n\nRemove if not applicable\n--\u003e\n\n## Expectations\n\n### What are we expecting to happen?\n\n\u003c!-- Describe the expected outcome when rolling out this feature --\u003e\n\n### What might happen if this goes wrong?\n\n\u003c!-- Should the feature flag be turned off? Any MRs that need to be rolled back? Communication that needs to happen? What are some things you can think of that could go wrong - data loss or broken pages? --\u003e\n\n### What can we monitor to detect problems with this?\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? --\u003e\n\n## Rollout Steps\n\n### Rollout on non-production environments\n\n- [x] Ensure that the feature MRs have been deployed to non-production environments, i.e. `customers-staging`.\n- [x] Consider announcing that the flag will be enabled to potentially impacted groups, e.g. `#s_fulfillment_engineering`\n- [x] Enable the feature globally on non-production environments by applying the appropriate environment, e.g. `customers-staging` and `customers-development`.\n- [x] Notify the Software Engineers in Test (SETs) for Fulfillment via Slack and in a comment in this issue when enabling a feature flag in `customers-staging` as it can impact the QA pipeline.\n- [x] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n\n### Preparation before production rollout\n\n- [x] Ensure that the feature MRs have been deployed to production\n- [x] Ensure to update Workato URL and credentials in Ansible project.(Needs to receive [credentials](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5010#note_1215740301) first)\n- [x] Check if the feature flag change needs to be accompanied with a\n  [change management issue](https://about.gitlab.com/handbook/engineering/infrastructure/change-management/#feature-flags-and-the-change-management-process).\n  Cross link the issue here if it does. -- Checked, not needed.\n- [x] Ensure that you or a representative in Fulfillment can be available for at least 2 hours after feature flag updates in production.\n  If a different developer will be covering, or an exception is needed, please inform the Fulfillment team in #s_fulfillment_engineering\n- [x] Ensure any documentation has been updated -- There is only internal(developer facing documentation). Will update later. The major update would be https://gitlab.com/gitlab-org/gitlab/-/blob/master/doc/development/product_qualified_lead_guide/index.md. It is also mentioned in https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/main/doc/architecture/vendor_analysis/index.md and https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/main/doc/architecture/data_architecture_proposal.md\n- [x] Announce on [the feature issue](ISSUE LINK) an estimated time this will be enabled on production if applicable\n- [ ] If the feature might impact the user experience, notify `#s_fulfillment` and potentially `#support_gitlab-com`, as well as your team channel ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#communicate-the-change)).\n\n### Global rollout on CustomersDot production\n\n- [x] Confirm the feature flag is enabled on `staging` without incident\n- [ ] Roll out the feature to targeted testing users first (if applicable)\n- [x] If applicable, [incrementally roll out](https://docs.gitlab.com/ee/operations/feature_flags.html#percent-rollout) the feature.\n- [x] Verify the change has the desired outcome with the limited rollout before enabling the feature globally on production.\n- [x] Enable the feature globally on production environment\n- [ ] Announce on [the feature issue](ISSUE LINK) that the feature has been globally enabled.\n- [x] Wait for [at least one day for the verification term](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release).\n\n### Release the feature\n\nAfter the feature has been [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release),\nthe clean up should be done as soon as possible to permanently enable the feature and reduce complexity in the codebase.\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [x] Create a merge request to remove `\u003cfeature-flag-name\u003e` feature flag\n  - [x] Remove all references to the feature flag from the codebase\n- [x] Ensure that the cleanup MR has been deployed to both staging and production\n- [x] Disable the feature flag via the [CustomersDot dashboard](https://gitlab.com/gitlab-org/customers-gitlab-com/-/feature_flags)\n- [x] Ensure production environment is still working as expected\n- [x] Remove the Unleash feature flag from the [CustomersDot dashboard](https://gitlab.com/gitlab-org/customers-gitlab-com/-/feature_flags)\n- [x] Close this rollout issue.\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by performing the following actions:\n  - [ ] Disable the Unleash flag on the [feature flag page](LINK TO THE FEATURE FLAG EDIT PAGE)","state":"closed","created_at":"2022-12-20T08:00:37.077Z","updated_at":"2023-02-24T16:01:50.590Z","closed_at":"2023-01-27T11:36:02.553Z","closed_by":{"id":4098809,"username":"qzhaogitlab","name":"Qingyu Zhao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4098809/avatar.png","web_url":"https://gitlab.com/qzhaogitlab"},"labels":["Category:Fulfillment Integrations \u0026 Visibility","devops::fulfillment","feature flag","group::provision","missed:15.8","section::fulfillment","type::maintenance"],"milestone":{"id":2745650,"iid":84,"group_id":9970,"title":"15.9","description":"","state":"active","created_at":"2022-08-22T16:58:02.303Z","updated_at":"2022-08-22T16:58:02.303Z","due_date":"2023-02-17","start_date":"2023-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/84"},"assignees":[{"id":4098809,"username":"qzhaogitlab","name":"Qingyu Zhao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4098809/avatar.png","web_url":"https://gitlab.com/qzhaogitlab"}],"author":{"id":4098809,"username":"qzhaogitlab","name":"Qingyu Zhao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4098809/avatar.png","web_url":"https://gitlab.com/qzhaogitlab"},"type":"ISSUE","assignee":{"id":4098809,"username":"qzhaogitlab","name":"Qingyu Zhao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4098809/avatar.png","web_url":"https://gitlab.com/qzhaogitlab"},"user_notes_count":19,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5418","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":28,"completed_count":23},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5418","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5418/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5418/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5418","relative":"#5418","full":"gitlab-org/customers-gitlab-com#5418"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":9084,"epic":{"id":632560,"iid":9084,"title":"Remove Platypus dependency for Trials into Workato","url":"/groups/gitlab-org/-/epics/9084","group_id":9970,"human_readable_end_date":"Dec 31, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":120667700,"iid":5416,"project_id":2670515,"title":"Add product sub type attribute for subscriptions","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n### Problem\nFor ramp subscriptions, we need to show different products (plan, CI minutes, storage) in their own sections as per the [new design](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3916/). For this we need an identifier on each product as to what type of product it is.  \n![image](/uploads/ea5af87826e42aaecbf911d30d707916/image.png)\n\n### Proposal\nOn the product level we need to add another attribute `sub_type` which will have value `plan`, `storage`, `ci-minutes` based on the kind of product. This will be used on the frontend to show different product section on the new subscription card.  \nAlso add the `rate_plan_id` which will be used to map each product against the ramps which will be sent in a different key in this issue - https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5375.\n\n\u003c!-- Consult with `@gitlab-com/business-technology/enterprise-apps/zuora-architects` on the ~\"Enterprise Applications\" team if Zuora business logic is involved. --\u003e\n\n### Result\n\n### Next steps (if any)\n\n### How will we measure success?","state":"closed","created_at":"2022-12-20T05:23:17.748Z","updated_at":"2023-01-09T05:38:44.878Z","closed_at":"2023-01-09T05:38:44.836Z","closed_by":{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"},"labels":["Category:Subscription Management","backend","devops::fulfillment","feature::addition","group::billing and subscription management","section::fulfillment","type::feature","workflow::production"],"milestone":{"id":2745648,"iid":83,"group_id":9970,"title":"15.8","description":"","state":"active","created_at":"2022-08-22T16:57:34.875Z","updated_at":"2022-08-22T16:57:34.875Z","due_date":"2023-01-17","start_date":"2022-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/83"},"assignees":[{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"}],"author":{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"},"type":"ISSUE","assignee":{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5416","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5416","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5416/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5416/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5416","relative":"#5416","full":"gitlab-org/customers-gitlab-com#5416"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8748,"epic":{"id":602374,"iid":8748,"title":"Ramps subscription display in Customers Portal and gitlab.com","url":"/groups/gitlab-org/-/epics/8748","group_id":9970,"human_readable_end_date":"May 31, 2023","human_readable_timestamp":"\u003cstrong\u003e25\u003c/strong\u003e days remaining"},"iteration":null,"health_status":"on_track"},{"id":120657374,"iid":5413,"project_id":2670515,"title":"Remove Timecop references","description":"### Problem\n\nMy VS Code extension for rubocop was complaining about a couple of invalid cops involving Timecop.  \n\n```\n.rubocop.yml: RSpec/TimecopFreeze has the wrong namespace - should be Gitlab/RSpec \n.rubocop.yml: RSpec/TimecopTravel has the wrong namespace - should be Gitlab/RSpec \n```\n\nAs it turns out, the Timecop gem was removed over a year ago in https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/3202.  With that gem removed, there isn't much use for these cops.\n\n### Proposal\n\nThere are a couple of things we can do to clean up after Timecop was removed:\n\n- [x] Remove the custom cops, `RSpec/TimecopFreeze` and `RSpec/TimecopTravel` https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/6166\n- [x] Rename the custom Rspec metadata tag `timecop`.  We could use 2 separate tags instead, `travel_to` and `freeze_time`, which are a little more descriptive anyway. https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/6167","state":"closed","created_at":"2022-12-19T21:19:08.068Z","updated_at":"2022-12-22T18:01:14.827Z","closed_at":"2022-12-22T18:01:14.766Z","closed_by":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"labels":["backend","devops::fulfillment","group::fulfillment platform","maintenance::refactor","section::fulfillment","type::maintenance","workflow::production"],"milestone":{"id":2745648,"iid":83,"group_id":9970,"title":"15.8","description":"","state":"active","created_at":"2022-08-22T16:57:34.875Z","updated_at":"2022-08-22T16:57:34.875Z","due_date":"2023-01-17","start_date":"2022-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/83"},"assignees":[{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"}],"author":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"type":"ISSUE","assignee":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5413","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":2},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5413","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5413/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5413/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5413","relative":"#5413","full":"gitlab-org/customers-gitlab-com#5413"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":"on_track"},{"id":120557137,"iid":5409,"project_id":2670515,"title":"[Feature flag] Create SFDC Contact from Zuora Contact","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n# Summary\n\nAdd logic so the SFDC Contacts are created based on the respective Zuora Account sold to contact and fallback to the \ncustomer only if no Zuora Account exist.\n\nThis issue is to rollout [Salesforce object creation behavior in CustomersDot](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4822) - Part2 on CustomersDot production,\nthat is currently behind the [`:create_sf_contact_from_zuora_contact`](LINK TO THE FEATURE FLAG EDIT PAGE) feature flag.\n\nFeature flag: https://gitlab.com/gitlab-org/customers-gitlab-com/-/feature_flags/186/edit\n\n## Owners\n\n- Team: ~\"group::fulfillment platform\" \n- Most appropriate Slack channel to reach out to: `#g_fulfillment_platform`\n- Best individual to reach out to: @tyleramos or @vshumilo \n- PM: @mgass1 \n\n## Stakeholders\n\nNo other stakeholders.\n\n## The Rollout Plan\n\nRollout Feature for everyone as soon as it's tested and approved in staging by the Salesforce team.\n\n## Expectations\n\n### What are we expecting to happen?\n\nThere are less duplications of SFDC accounts created associated to the same Zuora Billing Account.\n\n### What might happen if this goes wrong?\n\n- Disruptive exceptions in the code, failure in the creation of SFDC Contact and Accounts \n\n### What can we monitor to detect problems with this?\n\n- Keep an eye on [Sentry](https://sentry.gitlab.net/gitlab/customersgitlabcom/#).\n- Check `#s_fulfillment_status` for errors.\n\n## Rollout Steps\n\n### Rollout on non-production environments\n\n- [x] Ensure that the feature MRs have been deployed to non-production environments, i.e. `customers-staging`.\n- [x] Consider announcing that the flag will be enabled to potentially impacted groups, e.g. `#s_fulfillment_engineering`\n- [x] Enable the feature globally on non-production environments by applying the appropriate environment, e.g. `customers-staging` and `customers-development`.\n- [x] Notify the Software Engineers in Test (SETs) for Fulfillment via Slack and in a comment in this issue when enabling a feature flag in `customers-staging` as it can impact the QA pipeline.\n- [x] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n\n### Preparation before production rollout\n\n- [x] Ensure that the feature MRs have been deployed to production\n- [ ] ~~Check if the feature flag change needs to be accompanied with a\n  [change management issue](https://about.gitlab.com/handbook/engineering/infrastructure/change-management/#feature-flags-and-the-change-management-process).~~\n  Cross link the issue here if it does.\n- [x] Ensure that you or a representative in Fulfillment can be available for at least 2 hours after feature flag updates in production.\n  If a different developer will be covering, or an exception is needed, please inform the Fulfillment team in #s_fulfillment_engineering\n- [x] Ensure any documentation has been updated\n- [x] Announce on [the feature issue](ISSUE LINK) an estimated time this will be enabled on production if applicable\n- [ ] ~~If the feature might impact the user experience, notify `#s_fulfillment` and potentially `#support_gitlab-com`, as well as your team channel ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#communicate-the-change)).~~\n\n### Global rollout on CustomersDot production\n\n- [x] Confirm the feature flag is enabled on `staging` without incident\n- [x] Roll out the feature to targeted testing users first (if applicable)\n- [x] If applicable, [incrementally roll out](https://docs.gitlab.com/ee/operations/feature_flags.html#percent-rollout) the feature.\n- [x] Verify the change has the desired outcome with the limited rollout before enabling the feature globally on production.\n- [x] Enable the feature globally on production environment\n- [x] Announce on [the feature issue](ISSUE LINK) that the feature has been globally enabled.\n- [x] Wait for [at least one day for the verification term](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release).\n\n### Release the feature\n\nAfter the feature has been [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release),\nthe clean up should be done as soon as possible to permanently enable the feature and reduce complexity in the codebase.\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [x] Create a merge request to remove `:create_sf_contact_from_zuora_contact` feature flag\n  - [x] Remove all references to the feature flag from the codebase\n- [x] Ensure that the cleanup MR has been deployed to both staging and production\n- [x] Disable the feature flag via the [CustomersDot dashboard](https://gitlab.com/gitlab-org/customers-gitlab-com/-/feature_flags)\n- [x] Ensure production environment is still working as expected\n- [x] Remove the Unleash feature flag from the [CustomersDot dashboard](https://gitlab.com/gitlab-org/customers-gitlab-com/-/feature_flags)\n- [x] Close this rollout issue.\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by performing the following actions:\n  - [ ] Disable the Unleash flag on the [feature flag page](LINK TO THE FEATURE FLAG EDIT PAGE)","state":"closed","created_at":"2022-12-16T22:38:33.911Z","updated_at":"2023-02-16T21:59:28.516Z","closed_at":"2023-02-16T21:59:28.500Z","closed_by":{"id":5667561,"username":"vshumilo","name":"Vladlena Shumilo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08dfa82785d130c151ab9e21caeab4e3?s=80\u0026d=identicon","web_url":"https://gitlab.com/vshumilo"},"labels":["[deprecated] Category:Fulfillment Platform","devops::fulfillment","feature flag","group::fulfillment platform","section::fulfillment","workflow::production"],"milestone":null,"assignees":[{"id":5667561,"username":"vshumilo","name":"Vladlena Shumilo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08dfa82785d130c151ab9e21caeab4e3?s=80\u0026d=identicon","web_url":"https://gitlab.com/vshumilo"}],"author":{"id":5667561,"username":"vshumilo","name":"Vladlena Shumilo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08dfa82785d130c151ab9e21caeab4e3?s=80\u0026d=identicon","web_url":"https://gitlab.com/vshumilo"},"type":"ISSUE","assignee":{"id":5667561,"username":"vshumilo","name":"Vladlena Shumilo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08dfa82785d130c151ab9e21caeab4e3?s=80\u0026d=identicon","web_url":"https://gitlab.com/vshumilo"},"user_notes_count":26,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5409","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":27,"completed_count":23},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5409","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5409/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5409/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5409","relative":"#5409","full":"gitlab-org/customers-gitlab-com#5409"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":120556911,"iid":5408,"project_id":2670515,"title":"Update or remove `customers:update_country_for_invalid_customer_objects` task","description":"### Proposal\n\nThe [rake task](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/48829db15325c6d7b71e1c004c397db8c632a7dc/lib/tasks/data_maintenance/update_country_for_invalid_customer_objects.rake#L13) `customers:update_country_for_invalid_customer_objects` queries the `zuora_account_id` column on Customer multiple times.  We should consider whether we need this rake task going forward.  If not, we should delete it.  If so, let's update it to use the new billing account structure when the `account_data_structure` feature flag is enabled.","state":"closed","created_at":"2022-12-16T22:23:13.180Z","updated_at":"2023-01-05T08:48:15.429Z","closed_at":"2023-01-05T08:48:15.400Z","closed_by":{"id":11217480,"username":"tvellishetty","name":"Tarun Vellishetty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11217480/avatar.png","web_url":"https://gitlab.com/tvellishetty"},"labels":["backend","devops::fulfillment","group::fulfillment platform","maintenance::refactor","quad-planning::complete-no-action","section::fulfillment","type::maintenance","workflow::production"],"milestone":{"id":2745648,"iid":83,"group_id":9970,"title":"15.8","description":"","state":"active","created_at":"2022-08-22T16:57:34.875Z","updated_at":"2022-08-22T16:57:34.875Z","due_date":"2023-01-17","start_date":"2022-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/83"},"assignees":[{"id":11217480,"username":"tvellishetty","name":"Tarun Vellishetty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11217480/avatar.png","web_url":"https://gitlab.com/tvellishetty"}],"author":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"type":"ISSUE","assignee":{"id":11217480,"username":"tvellishetty","name":"Tarun Vellishetty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11217480/avatar.png","web_url":"https://gitlab.com/tvellishetty"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5408","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5408","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5408/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5408/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5408","relative":"#5408","full":"gitlab-org/customers-gitlab-com#5408"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":9515,"epic":{"id":683654,"iid":9515,"title":"Update customer references to zuora_account_id","url":"/groups/gitlab-org/-/epics/9515","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":120556875,"iid":5407,"project_id":2670515,"title":"Consider removing `zuora:export_vat_id` task","description":"### Proposal\n\nThe [rake task](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/965b897c955a9375cc72afae414f6245af2a33ff/lib/tasks/zuora.rake#L3) `zuora:export_vat_id` fetches CDot Customer records where `vat_code` is present and updates the Zuora Account if the `vat_code` does not match in Zuora.  This task was introduced over 3 years ago, so if we haven't used it since then, we should consider removing it to avoid updating it for the new account data structure.","state":"closed","created_at":"2022-12-16T22:21:30.531Z","updated_at":"2023-01-11T06:32:12.389Z","closed_at":"2023-01-11T06:32:12.365Z","closed_by":{"id":11217480,"username":"tvellishetty","name":"Tarun Vellishetty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11217480/avatar.png","web_url":"https://gitlab.com/tvellishetty"},"labels":["backend","devops::fulfillment","group::fulfillment platform","maintenance::refactor","quad-planning::complete-no-action","section::fulfillment","type::maintenance","workflow::production"],"milestone":{"id":2745648,"iid":83,"group_id":9970,"title":"15.8","description":"","state":"active","created_at":"2022-08-22T16:57:34.875Z","updated_at":"2022-08-22T16:57:34.875Z","due_date":"2023-01-17","start_date":"2022-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/83"},"assignees":[{"id":11217480,"username":"tvellishetty","name":"Tarun Vellishetty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11217480/avatar.png","web_url":"https://gitlab.com/tvellishetty"}],"author":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"type":"ISSUE","assignee":{"id":11217480,"username":"tvellishetty","name":"Tarun Vellishetty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11217480/avatar.png","web_url":"https://gitlab.com/tvellishetty"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5407","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5407","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5407/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5407/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5407","relative":"#5407","full":"gitlab-org/customers-gitlab-com#5407"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":9515,"epic":{"id":683654,"iid":9515,"title":"Update customer references to zuora_account_id","url":"/groups/gitlab-org/-/epics/9515","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":120556708,"iid":5406,"project_id":2670515,"title":"Update `clear_missing_zuora_account_ids` task","description":"### Proposal\n\nThe `customers:clear_missing_zuora_account_ids` [rake task](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/c38384799ec82d24f23bc21053cef90a5ff88613/lib/tasks/clear_missing_zuora_account_ids.rake#L10) queries the Customers table using the `zuora_account_id` column.  This should be updated as follows:\n\n* When :account_data_structure enabled\n  * Base the [`zuora_account_relation`](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/c38384799ec82d24f23bc21053cef90a5ff88613/lib/tasks/clear_missing_zuora_account_ids.rake#L20) on the `BillingAccount` model\n* When :account_data_structure disabled\n  * Leave the `zuora_account_relation` as-is, based on the `Customer`\n\nUpdating the CustomersDot records, both `Customer` and `BillingAccount`, has already been addressed.","state":"closed","created_at":"2022-12-16T22:17:09.795Z","updated_at":"2022-12-27T10:53:15.659Z","closed_at":"2022-12-27T10:53:15.634Z","closed_by":{"id":11217480,"username":"tvellishetty","name":"Tarun Vellishetty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11217480/avatar.png","web_url":"https://gitlab.com/tvellishetty"},"labels":["backend","devops::fulfillment","group::fulfillment platform","maintenance::refactor","quad-planning::complete-no-action","section::fulfillment","type::maintenance","workflow::production"],"milestone":{"id":2745648,"iid":83,"group_id":9970,"title":"15.8","description":"","state":"active","created_at":"2022-08-22T16:57:34.875Z","updated_at":"2022-08-22T16:57:34.875Z","due_date":"2023-01-17","start_date":"2022-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/83"},"assignees":[{"id":11217480,"username":"tvellishetty","name":"Tarun Vellishetty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11217480/avatar.png","web_url":"https://gitlab.com/tvellishetty"}],"author":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"type":"ISSUE","assignee":{"id":11217480,"username":"tvellishetty","name":"Tarun Vellishetty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11217480/avatar.png","web_url":"https://gitlab.com/tvellishetty"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5406","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5406","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5406/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5406/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5406","relative":"#5406","full":"gitlab-org/customers-gitlab-com#5406"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":9515,"epic":{"id":683654,"iid":9515,"title":"Update customer references to zuora_account_id","url":"/groups/gitlab-org/-/epics/9515","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":120556645,"iid":5405,"project_id":2670515,"title":"Update FindOrCreateCustomerService","description":"### Proposal\n\nThe `FindOrCreateCustomerService` [references `customer.zuora_account_id?`](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/350e078423a0ffb5229731c2991b04e24dbaaf73/app/services/find_or_create_customer_service.rb#L111) which is a magic Rails method that checks the presence of the `zuora_account_id` column on the customer.  This will need to be updated to check for presence of a `BillingAccountMembership` when the `account_data_structure` feature flag is enabled.\n\n### Availability \u0026 Testing\n\n\u003c!-- This section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\nWhat risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning --\u003e\n\nAll references in tests should also be updated/deleted.","state":"closed","created_at":"2022-12-16T22:14:47.388Z","updated_at":"2023-01-04T05:39:35.332Z","closed_at":"2023-01-04T05:39:35.308Z","closed_by":{"id":11217480,"username":"tvellishetty","name":"Tarun Vellishetty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11217480/avatar.png","web_url":"https://gitlab.com/tvellishetty"},"labels":["backend","devops::fulfillment","group::fulfillment platform","maintenance::refactor","quad-planning::complete-action","section::fulfillment","type::maintenance","workflow::production"],"milestone":{"id":2745648,"iid":83,"group_id":9970,"title":"15.8","description":"","state":"active","created_at":"2022-08-22T16:57:34.875Z","updated_at":"2022-08-22T16:57:34.875Z","due_date":"2023-01-17","start_date":"2022-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/83"},"assignees":[{"id":11217480,"username":"tvellishetty","name":"Tarun Vellishetty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11217480/avatar.png","web_url":"https://gitlab.com/tvellishetty"}],"author":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"type":"ISSUE","assignee":{"id":11217480,"username":"tvellishetty","name":"Tarun Vellishetty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11217480/avatar.png","web_url":"https://gitlab.com/tvellishetty"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5405","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5405","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5405/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5405/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5405","relative":"#5405","full":"gitlab-org/customers-gitlab-com#5405"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":9515,"epic":{"id":683654,"iid":9515,"title":"Update customer references to zuora_account_id","url":"/groups/gitlab-org/-/epics/9515","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":120556515,"iid":5404,"project_id":2670515,"title":"Update Customer queries using zuora_account_id","description":"### Proposal\n\nThere are multiple places in the app that query a CDot Customer using the `zuora_account_id` column.  When the `account_data_structure` feature flag is enabled, the BillingAccountMembership should be used to fetch the first Customer associated with the BillingAccount.\n\n- [`Subscription#sold_to_customer`](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/95e76dcb7a135079d7bdc7ad511bce9ce95c573c/app/models/subscription.rb#L650)\n- [`SeatLinkCreateService`](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/4ae39fa629f11d88d5575837412df990e624b9a5/app/services/seat_link_create_service.rb#L116)\n- [`SyncUpOrderCustomerService`](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/29a6c940afb709517efed7002d37be47edc6a280/app/services/sync_up_order_customer_service.rb#L25)\n\n### Availability \u0026 Testing\n\n\u003c!-- This section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\nWhat risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning --\u003e\n\nTests should be updated, including Model specs to ensure that that...\n\n\u003e BillingAccountMembership should be used to fetch the first Customer associated with the BillingAccount.\n\nThink about any permutations / exceptions that might occur with fetching the `first` vs `last`.","state":"closed","created_at":"2022-12-16T22:09:19.270Z","updated_at":"2023-01-05T08:47:32.410Z","closed_at":"2023-01-05T08:47:32.376Z","closed_by":{"id":11217480,"username":"tvellishetty","name":"Tarun Vellishetty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11217480/avatar.png","web_url":"https://gitlab.com/tvellishetty"},"labels":["backend","devops::fulfillment","group::fulfillment platform","maintenance::refactor","quad-planning::complete-action","section::fulfillment","type::maintenance","workflow::production"],"milestone":{"id":2745648,"iid":83,"group_id":9970,"title":"15.8","description":"","state":"active","created_at":"2022-08-22T16:57:34.875Z","updated_at":"2022-08-22T16:57:34.875Z","due_date":"2023-01-17","start_date":"2022-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/83"},"assignees":[{"id":11217480,"username":"tvellishetty","name":"Tarun Vellishetty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11217480/avatar.png","web_url":"https://gitlab.com/tvellishetty"}],"author":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"type":"ISSUE","assignee":{"id":11217480,"username":"tvellishetty","name":"Tarun Vellishetty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11217480/avatar.png","web_url":"https://gitlab.com/tvellishetty"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5404","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5404","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5404/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5404/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5404","relative":"#5404","full":"gitlab-org/customers-gitlab-com#5404"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":9515,"epic":{"id":683654,"iid":9515,"title":"Update customer references to zuora_account_id","url":"/groups/gitlab-org/-/epics/9515","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":120556334,"iid":5403,"project_id":2670515,"title":"Update RetryDeclinedReconciliationJob","description":"### Proposal\n\n[The `subscription_names` method](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/e9eaf1283947f750b763c9e179626f0bbb341284/app/jobs/retry_declined_reconciliation_job.rb#L51) in `RetryDeclinedReconciliationJob` finds subscriptions in Zuora by first fetching the first CDot Customer that matches the `zuora_account_id`.  This code should be refactored to query Zuora Subscriptions directly using `zuora_account_id` and not use the `Customer` model.  The `account_data_structure` feature flag should not be necessary to use if querying Zuora Subscriptions directly.\n\nAnother option that would require the feature flag: Consider fetching the subscriptions via the matching `BillingAccount` instead of the `Customer` as it also has access to the `raw_subscriptions` method.\n\n### Availability \u0026 Testing\n\n\u003c!-- This section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\nWhat risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning --\u003e\n\nTests might need to be updated / created to ensure that this method does indeed send the request.  It might be prudent to also use a mock to mock the Zuora API so we are not surprised by a rogue response.","state":"closed","created_at":"2022-12-16T21:58:43.798Z","updated_at":"2022-12-21T07:53:49.528Z","closed_at":"2022-12-21T07:53:49.502Z","closed_by":{"id":11217480,"username":"tvellishetty","name":"Tarun Vellishetty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11217480/avatar.png","web_url":"https://gitlab.com/tvellishetty"},"labels":["backend","devops::fulfillment","group::fulfillment platform","maintenance::refactor","quad-planning::complete-action","section::fulfillment","type::maintenance","workflow::production"],"milestone":{"id":2745648,"iid":83,"group_id":9970,"title":"15.8","description":"","state":"active","created_at":"2022-08-22T16:57:34.875Z","updated_at":"2022-08-22T16:57:34.875Z","due_date":"2023-01-17","start_date":"2022-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/83"},"assignees":[{"id":11217480,"username":"tvellishetty","name":"Tarun Vellishetty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11217480/avatar.png","web_url":"https://gitlab.com/tvellishetty"}],"author":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"type":"ISSUE","assignee":{"id":11217480,"username":"tvellishetty","name":"Tarun Vellishetty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11217480/avatar.png","web_url":"https://gitlab.com/tvellishetty"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5403","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5403","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5403/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5403/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5403","relative":"#5403","full":"gitlab-org/customers-gitlab-com#5403"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":9515,"epic":{"id":683654,"iid":9515,"title":"Update customer references to zuora_account_id","url":"/groups/gitlab-org/-/epics/9515","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":120556316,"iid":5402,"project_id":2670515,"title":"Refactor Invoices to use Account instead of Customer","description":"### Proposal\n\nReferences of `current_customer.zuora_account_id` in [`InvoicesController`](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/e9eaf1283947f750b763c9e179626f0bbb341284/app/controllers/invoices_controller.rb#L35) could be updated to `current_zuora_account.id` because the `require_zuora_account` before_action is used.  Using `current_zuora_account` is preferable as it allows us to transition to multiple billing accounts per customer more easily, as this would be fewer places to update in a later iteration.\n\nMore importantly, the [`InvoicesFinder`](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/ccc5b4d03aaa3929ab72b3a36fdc7b6eb14d672c/app/finders/invoices_finder.rb#L3), which is only [referenced once](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/e9eaf1283947f750b763c9e179626f0bbb341284/app/controllers/invoices_controller.rb#L11) in the app the `InvoicesController`, can be refactored as well.  This service should accept a `Zuora::Account` instead of a `customer`, as all that is used from customer is `zuora_account_id`.","state":"closed","created_at":"2022-12-16T21:56:56.935Z","updated_at":"2022-12-21T07:54:10.051Z","closed_at":"2022-12-21T07:54:10.015Z","closed_by":{"id":11217480,"username":"tvellishetty","name":"Tarun Vellishetty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11217480/avatar.png","web_url":"https://gitlab.com/tvellishetty"},"labels":["backend","devops::fulfillment","group::fulfillment platform","maintenance::refactor","quad-planning::complete-no-action","section::fulfillment","type::maintenance","workflow::production"],"milestone":{"id":2745648,"iid":83,"group_id":9970,"title":"15.8","description":"","state":"active","created_at":"2022-08-22T16:57:34.875Z","updated_at":"2022-08-22T16:57:34.875Z","due_date":"2023-01-17","start_date":"2022-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/83"},"assignees":[{"id":11217480,"username":"tvellishetty","name":"Tarun Vellishetty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11217480/avatar.png","web_url":"https://gitlab.com/tvellishetty"}],"author":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"type":"ISSUE","assignee":{"id":11217480,"username":"tvellishetty","name":"Tarun Vellishetty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11217480/avatar.png","web_url":"https://gitlab.com/tvellishetty"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5402","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5402","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5402/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5402/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5402","relative":"#5402","full":"gitlab-org/customers-gitlab-com#5402"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":9515,"epic":{"id":683654,"iid":9515,"title":"Update customer references to zuora_account_id","url":"/groups/gitlab-org/-/epics/9515","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":120556198,"iid":5401,"project_id":2670515,"title":"Redefine zuora_account_id in the Customer model","description":"### Problem\n\nThere are many places in the app where the `zuora_account_id` attribute is referenced Customer.  However, when the `account_data_structure` feature flag is enabled, we want to avoid using this attribute.  Instead, the Customer's membership to a BillingAccount should be used.\n\n### Proposal\n\nThe easiest way to iterate towards a solution is to override the `zuora_account_id` getter method that ActiveRecord provides.  Something like the following might work:\n\n```ruby\n# customer.rb\n\ndef zuora_account_id\n  if Unleash.enabled?(:account_data_structure)\n    billing_accounts.pick(:zuora_account_id)\n  else\n    super\n  end\nend\n```\n\nWe should consider memoizing this method as well to avoid multiple queries to billing_accounts, if the `zuora_account_id` is referenced multiple times (which it must be in some places).\n\nThis will allow us to continue using `customer.zuora_account_id` throughout the app but use the new BillingAccount structure to fetch the `zuora_account_id` when the feature flag is enabled.  \n\nI think there could be places where we reference `zuora_account_id` from a Customer where we want the actual attribute instead of the overridden method (iow. value from the BillingAccount), even after the feature flag is enabled.   These could be updated to pull directly from the attribute (e.g. `customer['zuora_account_id']`) instead of using `customer.zuora_account_id`.  The [backfill rake tasks](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/361c240649937ca9d00c9e74837f3ea7902496a8/lib/tasks/data_maintenance/billing_accounts/backfill_with_customers.rake#L17) for example.\n\nThis will apply to many usages throughout the app, including these below:\n- [`Customer#mark_as_confirmed`](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/95e76dcb7a135079d7bdc7ad511bce9ce95c573c/app/models/customer.rb#L61)\n- [`Customer.update_zuora_contact`](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/95e76dcb7a135079d7bdc7ad511bce9ce95c573c/app/models/customer.rb#L59)\n- [`UpdateContactService`](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/361c240649937ca9d00c9e74837f3ea7902496a8/app/services/update_contact_service.rb)\n- [`PaymentFormsController`](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/9ae796fa8060281378ff6800f2ad0aefa582821b/app/controllers/payment_forms_controller.rb#L50)\n- [`CustomersController`](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/8c832b035b30960fcae88a517ffd25b524784a1e/app/controllers/api/customers_controller.rb#L41)","state":"closed","created_at":"2022-12-16T21:49:59.621Z","updated_at":"2022-12-21T19:05:24.323Z","closed_at":"2022-12-21T19:05:24.283Z","closed_by":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"labels":["backend","devops::fulfillment","group::fulfillment platform","maintenance::refactor","section::fulfillment","type::maintenance","workflow::production"],"milestone":{"id":2745648,"iid":83,"group_id":9970,"title":"15.8","description":"","state":"active","created_at":"2022-08-22T16:57:34.875Z","updated_at":"2022-08-22T16:57:34.875Z","due_date":"2023-01-17","start_date":"2022-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/83"},"assignees":[{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"}],"author":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"type":"ISSUE","assignee":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5401","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5401","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5401/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5401/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5401","relative":"#5401","full":"gitlab-org/customers-gitlab-com#5401"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":9515,"epic":{"id":683654,"iid":9515,"title":"Update customer references to zuora_account_id","url":"/groups/gitlab-org/-/epics/9515","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":120555296,"iid":5400,"project_id":2670515,"title":"Use billing_account instead of customer_id on Orders","description":"### Problem\n\nAs of https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4804+, the `billing_account_id` column exists on Orders.  The `BillingAccount` has a `zuora_account_id` attribute which should be the SSoT for the association to the Zuora Account.  The `BillingAccount` also has memberships with Customers.  However, the Orders table still has a reference to the `customer_id` as well.  There are likely many places where the billing account associated with the Order should be used instead of the Customer.\n\n### Proposal\n\nWhen the `account_data_structure` feature flag is enabled, the `billing_account` associated with the Order could be used instead of `customer` in many cases.  For example, when the customer is used simply to access the Zuora Account.  In other cases, we could access customers through the billing account memberships.\n\nWe will eventually remove the `customer_id` from Orders as part of https://gitlab.com/groups/gitlab-org/-/epics/8949+ in https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4805+.","state":"closed","created_at":"2022-12-16T21:19:24.348Z","updated_at":"2023-01-24T20:47:06.649Z","closed_at":"2023-01-19T16:24:11.028Z","closed_by":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"labels":["[deprecated] Category:Fulfillment Platform","backend","devops::fulfillment","group::fulfillment platform","maintenance::refactor","missed:15.8","section::fulfillment","type::maintenance","workflow::complete"],"milestone":{"id":2745650,"iid":84,"group_id":9970,"title":"15.9","description":"","state":"active","created_at":"2022-08-22T16:58:02.303Z","updated_at":"2022-08-22T16:58:02.303Z","due_date":"2023-02-17","start_date":"2023-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/84"},"assignees":[{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"}],"author":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"type":"ISSUE","assignee":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"user_notes_count":31,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5400","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":1,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5400","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5400/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5400/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5400","relative":"#5400","full":"gitlab-org/customers-gitlab-com#5400"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8950,"epic":{"id":621714,"iid":8950,"title":"Iteration 1A: Align CustomersDot BillingAccounts and Users to Zuora objects","url":"/groups/gitlab-org/-/epics/8950","group_id":9970,"human_readable_end_date":"Mar 17, 2023","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":120555051,"iid":5399,"project_id":2670515,"title":"Use billing_account instead of zuora_account_id on Orders","description":"### Problem\n\nAs of https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4804+, the `billing_account_id` column exists on Orders.  The `BillingAccount` has a `zuora_account_id` attribute which should be the SSoT for the association to the Zuora Account.  However, the Orders table still has a reference to the `zuora_account_id` as well, leading to confusion about which field should be used.\n\n### Proposal\n\nWhen the `account_data_structure` feature flag is enabled, the `billing_accounts.zuora_account_id` associated with the Order should be used instead of `orders.zuora_account_id`.  We will eventually remove the `zuora_account_id` from Orders as part of https://gitlab.com/groups/gitlab-org/-/epics/8949+ in https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5127+.","state":"closed","created_at":"2022-12-16T21:08:54.130Z","updated_at":"2023-01-23T19:48:51.443Z","closed_at":"2023-01-23T19:48:51.410Z","closed_by":{"id":4192493,"username":"ebaque","name":"Etienne Baqué","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4192493/avatar.png","web_url":"https://gitlab.com/ebaque"},"labels":["[deprecated] Category:Fulfillment Platform","backend","devops::fulfillment","group::fulfillment platform","maintenance::refactor","missed:15.8","section::fulfillment","type::maintenance","workflow::in dev"],"milestone":{"id":2745650,"iid":84,"group_id":9970,"title":"15.9","description":"","state":"active","created_at":"2022-08-22T16:58:02.303Z","updated_at":"2022-08-22T16:58:02.303Z","due_date":"2023-02-17","start_date":"2023-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/84"},"assignees":[{"id":4192493,"username":"ebaque","name":"Etienne Baqué","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4192493/avatar.png","web_url":"https://gitlab.com/ebaque"}],"author":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"type":"ISSUE","assignee":{"id":4192493,"username":"ebaque","name":"Etienne Baqué","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4192493/avatar.png","web_url":"https://gitlab.com/ebaque"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5399","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":1,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5399","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5399/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5399/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5399","relative":"#5399","full":"gitlab-org/customers-gitlab-com#5399"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8950,"epic":{"id":621714,"iid":8950,"title":"Iteration 1A: Align CustomersDot BillingAccounts and Users to Zuora objects","url":"/groups/gitlab-org/-/epics/8950","group_id":9970,"human_readable_end_date":"Mar 17, 2023","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":120548358,"iid":5392,"project_id":2670515,"title":"Update Salesforce::FindAccountService","description":"### Problem\n\nThere are places in the application where `salesforce_account_id` is referenced from `Customer` (to be renamed `User`), when the `:account_data_structure` feature flag (introduced in https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4794) is enabled, the `Customer`'s `BillingAccountMembership` should be used instead.\n\n**This issue** proposes to update `Salesforce::FindAccountService` to rely on the BillingAccount model and associated record when the `:account_data_structure` feature flag is enabled.\n\nNote: The legacy code will be removed in a later issue once the feature flag has been vetted and promoted in production.\n\n### Proposal\n\nChanges from https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5389+ should solve for the conditional to decide if the value needs to be updated within CDot.\n\n[ADD] Update `salesforce_account_id` for `customers` **and** the `billing_accounts` records to keep them in sync\n\n### Result\n\n- Always update both `salesforce_account_id` values to keep them in sync\n\n### Next steps (if any)\n\n### How will we measure success?","state":"closed","created_at":"2022-12-16T17:42:34.316Z","updated_at":"2023-01-17T18:34:04.536Z","closed_at":"2023-01-10T22:53:37.156Z","closed_by":{"id":5667561,"username":"vshumilo","name":"Vladlena Shumilo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08dfa82785d130c151ab9e21caeab4e3?s=80\u0026d=identicon","web_url":"https://gitlab.com/vshumilo"},"labels":["backend","devops::fulfillment","group::fulfillment platform","maintenance::refactor","section::fulfillment","type::maintenance","workflow::complete"],"milestone":{"id":2745648,"iid":83,"group_id":9970,"title":"15.8","description":"","state":"active","created_at":"2022-08-22T16:57:34.875Z","updated_at":"2022-08-22T16:57:34.875Z","due_date":"2023-01-17","start_date":"2022-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/83"},"assignees":[{"id":5667561,"username":"vshumilo","name":"Vladlena Shumilo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08dfa82785d130c151ab9e21caeab4e3?s=80\u0026d=identicon","web_url":"https://gitlab.com/vshumilo"}],"author":{"id":5667561,"username":"vshumilo","name":"Vladlena Shumilo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08dfa82785d130c151ab9e21caeab4e3?s=80\u0026d=identicon","web_url":"https://gitlab.com/vshumilo"},"type":"ISSUE","assignee":{"id":5667561,"username":"vshumilo","name":"Vladlena Shumilo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08dfa82785d130c151ab9e21caeab4e3?s=80\u0026d=identicon","web_url":"https://gitlab.com/vshumilo"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5392","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5392","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5392/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5392/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5392","relative":"#5392","full":"gitlab-org/customers-gitlab-com#5392"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":9511,"epic":{"id":683560,"iid":9511,"title":"Update customer references to salesforce_account_id","url":"/groups/gitlab-org/-/epics/9511","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":120548348,"iid":5391,"project_id":2670515,"title":"Update clear_missing_salesforce_account_ids task","description":"### Problem\n\nThere are places in the application where `salesforce_account_id` is referenced from `Customer` (to be renamed `User`), when the `:account_data_structure` feature flag (introduced in https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4794) is enabled, the `Customer`'s `BillingAccountMembership` should be used instead.\n\n**This issue** proposes to update `clear_missing_salesforce_account_ids` to rely on the BillingAccount model and associated record when the `:account_data_structure` feature flag is enabled.\n\nNote: The legacy code will be removed in a later issue once the feature flag has been vetted and promoted in production.\n\n### Proposal\n\n- When :account_data_structure enabled \n  - Base the `salesforce_account_relation` on the `BillingAccount` model \n- When :account_data_structure disabled \n  - Leave the `salesforce_account_relation` as-is, based on the `Customer` \n\nWhen updating the CustomersDot records based on the SFDC `missing_account_ids` update both:\n- [LEAVE AS-IS] Update the customer `salesforce_account_id` to `nil`\n- [ADD] Update the billing account `salesforce_account_id` to `nil` \n\n### Result\n\n- The SSoT model is used depending on the `:account_data_structure` feature flag status.\n- Always update both `salesforce_account_id` values to keep them in sync\n\n### Next steps (if any)\n\n### How will we measure success?","state":"closed","created_at":"2022-12-16T17:42:18.616Z","updated_at":"2023-01-17T18:34:11.283Z","closed_at":"2023-01-06T23:25:53.848Z","closed_by":{"id":5667561,"username":"vshumilo","name":"Vladlena Shumilo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08dfa82785d130c151ab9e21caeab4e3?s=80\u0026d=identicon","web_url":"https://gitlab.com/vshumilo"},"labels":["backend","devops::fulfillment","group::fulfillment platform","maintenance::refactor","section::fulfillment","type::maintenance","workflow::complete"],"milestone":{"id":2745648,"iid":83,"group_id":9970,"title":"15.8","description":"","state":"active","created_at":"2022-08-22T16:57:34.875Z","updated_at":"2022-08-22T16:57:34.875Z","due_date":"2023-01-17","start_date":"2022-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/83"},"assignees":[{"id":5667561,"username":"vshumilo","name":"Vladlena Shumilo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08dfa82785d130c151ab9e21caeab4e3?s=80\u0026d=identicon","web_url":"https://gitlab.com/vshumilo"}],"author":{"id":5667561,"username":"vshumilo","name":"Vladlena Shumilo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08dfa82785d130c151ab9e21caeab4e3?s=80\u0026d=identicon","web_url":"https://gitlab.com/vshumilo"},"type":"ISSUE","assignee":{"id":5667561,"username":"vshumilo","name":"Vladlena Shumilo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08dfa82785d130c151ab9e21caeab4e3?s=80\u0026d=identicon","web_url":"https://gitlab.com/vshumilo"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5391","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5391","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5391/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5391/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5391","relative":"#5391","full":"gitlab-org/customers-gitlab-com#5391"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":9511,"epic":{"id":683560,"iid":9511,"title":"Update customer references to salesforce_account_id","url":"/groups/gitlab-org/-/epics/9511","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":120548337,"iid":5390,"project_id":2670515,"title":"Test Cleanup Logic Refactor","description":":bulb: Consider moving this to a cooldown, cleanup dedicated interval:\n- Post https://gitlab.com/groups/gitlab-org/-/epics/8950+\n- Pre https://gitlab.com/groups/gitlab-org/-/epics/8951+\n\n### Problem\n\nWe want to remove duplicated logic from `TestAccountCleanupCronJob` and `TestDataCleanupTask` to avoid these diverging in the future as a result to changes on one but not the other. Ultimately conceptually feels like this logic should be similar.\n\n### Proposal\n\nConsolidate logic from `TestAccountCleanupCronJob` and `TestDataCleanupTask`\n1. Extract the cleanup logic into a service including:\n  - `remove_zuora_data`: extract to be reused\n  - `remove_sf_data`: extract to be reused\n  - `customer` deletion\n1. Look into using `request_with_retries` in this consolidated logic by either:\n  - using it consistently for all cases (I like this approach)\n  - passing a `retry:` parameter.\n- Call the new cleanup service directly from `TestAccountCleanupCronJob` and `TestDataCleanupTask`\n\n### Acceptance Criteria\n\n- New service is created, tested and set to replace the old logic.\n- Old tests pass mostly unchanged.","state":"closed","created_at":"2022-12-16T17:42:05.227Z","updated_at":"2023-02-10T16:03:10.175Z","closed_at":"2023-02-10T16:03:10.136Z","closed_by":{"id":4192493,"username":"ebaque","name":"Etienne Baqué","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4192493/avatar.png","web_url":"https://gitlab.com/ebaque"},"labels":["backend","devops::fulfillment","group::fulfillment platform","maintenance::refactor","section::fulfillment","type::maintenance","workflow::in review"],"milestone":{"id":2745650,"iid":84,"group_id":9970,"title":"15.9","description":"","state":"active","created_at":"2022-08-22T16:58:02.303Z","updated_at":"2022-08-22T16:58:02.303Z","due_date":"2023-02-17","start_date":"2023-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/84"},"assignees":[{"id":4192493,"username":"ebaque","name":"Etienne Baqué","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4192493/avatar.png","web_url":"https://gitlab.com/ebaque"}],"author":{"id":5667561,"username":"vshumilo","name":"Vladlena Shumilo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08dfa82785d130c151ab9e21caeab4e3?s=80\u0026d=identicon","web_url":"https://gitlab.com/vshumilo"},"type":"ISSUE","assignee":{"id":4192493,"username":"ebaque","name":"Etienne Baqué","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4192493/avatar.png","web_url":"https://gitlab.com/ebaque"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5390","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5390","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5390/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5390/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5390","relative":"#5390","full":"gitlab-org/customers-gitlab-com#5390"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8951,"epic":{"id":621724,"iid":8951,"title":"Iteration 1B: A single CustomersDot BillingAccount can have multiple CustomersDot Users","url":"/groups/gitlab-org/-/epics/8951","group_id":9970,"human_readable_end_date":"Jul 31, 2023","human_readable_timestamp":"\u003cstrong\u003e3\u003c/strong\u003e months remaining"},"iteration":null,"health_status":null},{"id":120548313,"iid":5389,"project_id":2670515,"title":"Redefine salesforce_account_id at the customer level","description":"### Problem\n\nThere are places in the application where `salesforce_account_id` is referenced from `Customer` (to be renamed `User`), when the `:account_data_structure` feature flag (introduced in https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4794) is enabled, the `Customer`'s `BillingAccountMembership` should be used instead.\n\n**This issue** proposes to redefine the `salesforce_account_id` meaning at the `Customer` instance level to use its related billing account based on the status for the `:account_data_structure` feature flag.\n\nNote: The legacy code will be removed in a later issue once the feature flag has been vetted and promoted in production.\n\n### Proposal\n\nRedefine `customer#salesforce_account_id` method to:\n\n```ruby\ndef salesforce_account_id\n  strong_memoize(:salesforce_account_id) do\n    if Unleash.enabled?(:account_data_structure)\n      billing_accounts.pick(:salesforce_account_id)\n    else\n      super\n    end\n  end\nend\n```\n\nFYI, we might not be able to use `strong_memoize` to memoize the feature flagged code.  I ran into problems unit testing with this implementation.  In https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/6164, I ended up using `@zuora_account_id ||= billing_accounts.pick(:zuora_account_id)` instead.\n\nThis should account for all the simple / direct usages of the `salesforce_account_id` in the context of:\n- `Salesforce::CreateAccountWorker`\n- `Update `CreateSalesforceContactService`\n- `TestAccountCleanupCronJob` (refactor recommended: Issue 2)\n- `TestDataCleanupTask` (refactor recommended: Issue 2)\n- `Api::CustomersController`\n\n### Acceptance criteria\n\n1. `salesforce_account_id` is used from the customer when the `:account_data_structure` feature flag is disabled.\n1. `salesforce_account_id` is used from the customer's associated billing account when the `:account_data_structure` feature flag is enabled.\n1. The impact of the change in the mentioned simple / direct users of the value is validated / tested.\n\n### Next steps (if any)\n\n### How will we measure success?","state":"closed","created_at":"2022-12-16T17:41:41.460Z","updated_at":"2023-01-17T18:34:23.583Z","closed_at":"2023-01-06T23:02:04.806Z","closed_by":{"id":5667561,"username":"vshumilo","name":"Vladlena Shumilo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08dfa82785d130c151ab9e21caeab4e3?s=80\u0026d=identicon","web_url":"https://gitlab.com/vshumilo"},"labels":["backend","devops::fulfillment","group::fulfillment platform","maintenance::refactor","section::fulfillment","type::maintenance","workflow::complete"],"milestone":{"id":2745648,"iid":83,"group_id":9970,"title":"15.8","description":"","state":"active","created_at":"2022-08-22T16:57:34.875Z","updated_at":"2022-08-22T16:57:34.875Z","due_date":"2023-01-17","start_date":"2022-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/83"},"assignees":[{"id":5667561,"username":"vshumilo","name":"Vladlena Shumilo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08dfa82785d130c151ab9e21caeab4e3?s=80\u0026d=identicon","web_url":"https://gitlab.com/vshumilo"}],"author":{"id":5667561,"username":"vshumilo","name":"Vladlena Shumilo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08dfa82785d130c151ab9e21caeab4e3?s=80\u0026d=identicon","web_url":"https://gitlab.com/vshumilo"},"type":"ISSUE","assignee":{"id":5667561,"username":"vshumilo","name":"Vladlena Shumilo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08dfa82785d130c151ab9e21caeab4e3?s=80\u0026d=identicon","web_url":"https://gitlab.com/vshumilo"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5389","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5389","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5389/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5389/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5389","relative":"#5389","full":"gitlab-org/customers-gitlab-com#5389"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":9511,"epic":{"id":683560,"iid":9511,"title":"Update customer references to salesforce_account_id","url":"/groups/gitlab-org/-/epics/9511","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":120531115,"iid":5387,"project_id":2670515,"title":"Instrumentation for ramp subscriptions display","description":"### Proposal\n\nInstrument the following actions on the ramp subscription card:\n\n1. `Change subscription` button click (with saas/sm differentiation)\n2. `Link subscription to a group` button click\n\n| Event Action | Event Label | Event Category | Location |\n|----------------|--------------|-------------|----------|\n| click_button | change_subscription_ramp_saas/change_subscription_ramp_sm | Webstore | */subscriptions/* |\n| click_button | link_nampespace_ramp | Webstore | */subscriptions/* |\n\n### Result\n\n### Next steps (if any)\n\n### How will we measure success?","state":"closed","created_at":"2022-12-16T12:44:40.490Z","updated_at":"2023-02-24T15:46:46.413Z","closed_at":"2023-02-24T14:07:36.981Z","closed_by":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"labels":["Category:Subscription Management","devops::fulfillment","feature::addition","frontend","group::billing and subscription management","section::fulfillment","snowplow tracking events","type::feature","workflow::complete"],"milestone":{"id":2745651,"iid":85,"group_id":9970,"title":"15.10","description":"","state":"active","created_at":"2022-08-22T16:58:22.132Z","updated_at":"2022-08-22T16:58:22.132Z","due_date":"2023-03-17","start_date":"2023-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/85"},"assignees":[{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"}],"author":{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"},"type":"ISSUE","assignee":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"user_notes_count":13,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5387","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5387","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5387/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5387/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5387","relative":"#5387","full":"gitlab-org/customers-gitlab-com#5387"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8748,"epic":{"id":602374,"iid":8748,"title":"Ramps subscription display in Customers Portal and gitlab.com","url":"/groups/gitlab-org/-/epics/8748","group_id":9970,"human_readable_end_date":"May 31, 2023","human_readable_timestamp":"\u003cstrong\u003e25\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":120529084,"iid":5385,"project_id":2670515,"title":"[Feature flag] Rollout of `display_ramp_subscriptions`","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n# Summary\n\n\u003c!-- Short description of what the feature is about and link to relevant other issues. --\u003e\n\nThis issue is to rollout [Ramps subscriptions display in CustomersDot](https://gitlab.com/groups/gitlab-org/-/epics/8748) on CustomersDot production,\nthat is currently behind the `display_ramp_subscriptions` feature flag which will be created in https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5373.\n\n## Owners\n\n- Team: ~\"group::billing and subscription management\" \n- Most appropriate Slack channel to reach out to: `#g_billing_and_subscription_management`\n- Best individual to reach out to: `@snachnolkar @rhardarson ` \n- PM: `@tgolubeva` \n\n## Stakeholders\n\n\u003c!--\nAre there any other stages or teams involved that need to be kept in the loop?\n\n- GITLAB_HANDLE of a PM\n- The Support Team\n- The Delivery Team\n--\u003e\n\n## The Rollout Plan\n\n- Partial Rollout with specific Customers on CustomersDot, [via Unleash](https://docs.gitlab.com/ee/operations/feature_flags.html#user-ids)\n- Rollout on CustomersDot for a certain period (How long)\n- Percentage Rollout on CustomersDot\n- Rollout Feature for everyone as soon as it's ready\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? Sentry errors reports can also be useful to review --\u003e\n\n## Testing User/Customer IDs\n\n\u003c!--\nList any Customer IDs for Customers that are happy to have this feature turned on early.\n\nRemove if not applicable\n--\u003e\n\n## Expectations\n\n### What are we expecting to happen?\n\n\u003c!-- Describe the expected outcome when rolling out this feature --\u003e\n\n### What might happen if this goes wrong?\n\n\u003c!-- Should the feature flag be turned off? Any MRs that need to be rolled back? Communication that needs to happen? What are some things you can think of that could go wrong - data loss or broken pages? --\u003e\n\n### What can we monitor to detect problems with this?\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? --\u003e\n\n## Rollout Steps\n\n### Rollout on non-production environments\n\n- [x] Ensure that the feature MRs have been deployed to non-production environments, i.e. `customers-staging`.\n- [x] Consider announcing that the flag will be enabled to potentially impacted groups, e.g. `#s_fulfillment_engineering`\n- [x] Enable the feature globally on non-production environments by applying the appropriate environment, e.g. `customers-staging` and `customers-development`.\n- [x] Notify the Software Engineers in Test (SETs) for Fulfillment via Slack and in a comment in this issue when enabling a feature flag in `customers-staging` as it can impact the QA pipeline.\n- [x] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n\n### Preparation before production rollout\n\n- [x] Ensure that the feature MRs have been deployed to production\n- [ ] Check if the feature flag change needs to be accompanied with a\n  [change management issue](https://about.gitlab.com/handbook/engineering/infrastructure/change-management/#feature-flags-and-the-change-management-process).\n  Cross link the issue here if it does.\n- [x] Ensure that you or a representative in Fulfillment can be available for at least 2 hours after feature flag updates in production.\n  If a different developer will be covering, or an exception is needed, please inform the Fulfillment team in #s_fulfillment_engineering\n- [ ] Ensure any documentation has been updated\n- [ ] Announce on [the feature issue](ISSUE LINK) an estimated time this will be enabled on production if applicable\n- [x] If the feature might impact the user experience, notify `#s_fulfillment` and potentially `#support_gitlab-com`, as well as your team channel ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#communicate-the-change)).\n\n### Global rollout on CustomersDot production\n\n- [x] Confirm the feature flag is enabled on `staging` without incident\n- [ ] Roll out the feature to targeted testing users first (if applicable)\n- [ ] If applicable, [incrementally roll out](https://docs.gitlab.com/ee/operations/feature_flags.html#percent-rollout) the feature.\n- [ ] Verify the change has the desired outcome with the limited rollout before enabling the feature globally on production.\n- [x] Enable the feature globally on production environment\n- [x] Announce on [the feature issue](ISSUE LINK) that the feature has been globally enabled.\n- [ ] Wait for [at least one day for the verification term](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release).\n\n### Release the feature\n\nAfter the feature has been [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release),\nthe clean up should be done as soon as possible to permanently enable the feature and reduce complexity in the codebase.\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [ ] Create a merge request to remove `\u003cfeature-flag-name\u003e` feature flag\n  - [ ] Remove all references to the feature flag from the codebase\n- [ ] Ensure that the cleanup MR has been deployed to both staging and production\n- [ ] Disable the feature flag via the [CustomersDot dashboard](https://gitlab.com/gitlab-org/customers-gitlab-com/-/feature_flags)\n- [ ] Ensure production environment is still working as expected\n- [ ] Remove the Unleash feature flag from the [CustomersDot dashboard](https://gitlab.com/gitlab-org/customers-gitlab-com/-/feature_flags)\n- [ ] Close this rollout issue.\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by performing the following actions:\n  - [ ] Disable the Unleash flag on the [feature flag page](LINK TO THE FEATURE FLAG EDIT PAGE)","state":"closed","created_at":"2022-12-16T12:00:49.602Z","updated_at":"2023-03-16T12:45:16.308Z","closed_at":"2023-03-16T12:45:16.279Z","closed_by":{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"},"labels":["Category:Subscription Management","devops::fulfillment","feature flag","feature::addition","frontend","group::billing and subscription management","missed:15.9","section::fulfillment","type::feature","workflow::complete"],"milestone":{"id":2745651,"iid":85,"group_id":9970,"title":"15.10","description":"","state":"active","created_at":"2022-08-22T16:58:22.132Z","updated_at":"2022-08-22T16:58:22.132Z","due_date":"2023-03-17","start_date":"2023-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/85"},"assignees":[{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"}],"author":{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"},"type":"ISSUE","assignee":{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2023-03-16","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5385","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":27,"completed_count":11},"weight":1,"blocking_issues_count":1,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5385","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5385/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5385/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5385","relative":"#5385","full":"gitlab-org/customers-gitlab-com#5385"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8748,"epic":{"id":602374,"iid":8748,"title":"Ramps subscription display in Customers Portal and gitlab.com","url":"/groups/gitlab-org/-/epics/8748","group_id":9970,"human_readable_end_date":"May 31, 2023","human_readable_timestamp":"\u003cstrong\u003e25\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":120528924,"iid":5384,"project_id":2670515,"title":"Manual testing scenarios for display of ramp subscriptions","description":"### Proposal\nThis is the issue to list down the manual testing scenarios before going live with display of ramp subscriptions using the new design.  \nScenarios need to be added in the description.\n\n**EntApps test cases:** https://docs.google.com/spreadsheets/d/1xmdJ6ToiCyFNtqjrNPvwcGR7gCvkskjLnZXwAzEMT40/edit#gid=1700034675\n\n### Templates for manual testing\n**Note:** _Some of these scenarios are very granular and may not need a separate screenshot / recording. They have been listed so that we can intentionally check these points once all the issues are tackled. Please skip the screenshot column if that scenarios doesn't warrant a separate screenshot as it might be covered in an earlier screenshot._\n\n#### SaaS\n|Sr. No | Scenario | Status | Screenshot / Recording |\n|-------| ------ | ------ |-------------|\n| 1 |Card with new design is shown for ramp subscription| :white_check_mark:  | ![image](/uploads/006c0a0f9e7ba127490fd9a9c2b44a46/image.png) |\n| 2 |Main product name is shown when no group is attached| :white_check_mark:  | ![image](/uploads/588293c557095ec667a8892296f9d787/image.png)|\n| 3 |Group name is shown when group is linked| :white_check_mark:  | ![image](/uploads/cdafc105a503ae1770d2b3bed59e258a/image.png)|\n| 4 |Subscription number is shown correctly in the badge next to title| :white_check_mark:  | ![image](/uploads/4388eee6f1a9f34312d8459d80a58050/image.png)|\n| 5 |Gitlab group is shown as not assigned when group is not assinged| :white_check_mark:  | ![image](/uploads/eccc9b43eb8016871cd2fbd70879c326/image.png)|\n| 6 |Gitlab group name is shown correctly when group is assigned| :white_check_mark:  | ![image](/uploads/51b53957aec37859c72bd38661ebc5cc/image.png)|\n| 7 |Date text shows correctly with scenarios for expires / renews / expired (check scenarios in design)| :white_check_mark: | ![image](/uploads/c02ccd9dc51bc60483b9115988c5e178/image.png)  ![image](/uploads/e218fece362615143f2709928ec4f0be/image.png) ![image](/uploads/116b86fe6015195e693da67eb9c9b3b5/image.png) ![image](/uploads/5021c33350eba44ab70c451abab0648a/image.png)|\n| 8 |Tooltip is shown correctly with scenarios for expires / renews / expired (check scenarios in design)| :white_check_mark:  | ![image](/uploads/5cf547a03d98ba7d3a832335d3f7fe46/image.png) ![image](/uploads/413e2ce9323fd6068d2886b621dbf878/image.png) ![image](/uploads/041cb92f7f75c561c271318ce20d475d/image.png) ![image](/uploads/c58041ca208f6b0cc7d572cee065ccdc/image.png)|\n| 9 |Link subscription to group button is shown when group is not attached| :white_check_mark:  |![image](/uploads/f260d881aecaa0e0ef1d94b63f13a1bf/image.png) |\n| 10 |Link subscription to group button is not shown when group is attached| :white_check_mark:  | ![image](/uploads/8c14918e9dce5f3689b8bd5aa2c4da06/image.png)|\n| 11 |Link subscription to group button links the group correctly| :white_check_mark:  | ![image](/uploads/4988199951a748714674338ee61097ff/image.png) |\n| 12  |Actions menu is shown with change subscription option| :white_check_mark:  | ![image](/uploads/17fe1029600ddd18ee2e8e1513f8a879/image.png) |\n| 13 |Clicking on change subscription in actions menu opens the modal correctly| :white_check_mark:  | ![image](/uploads/5c0dcecb019f6975fb7e6e0c86373f9f/image.png)|\n| 14  |The change subscription modal can be closed successfully| :white_check_mark:  | N/A |\n| 15  |Main product details section is shown correctly with main product title| :white_check_mark:  | ![image](/uploads/747923bd92a12093fbe8c80b16c885c1/image.png)|\n| 16  |No of seats in main product details are shown from active ramp| :white_check_mark:  | ![image](/uploads/d4c705807d3294d06bf9694e21deb2d5/image.png)|\n| 17 |No of seats in main product details section are shown from first ramp when subscription starts in the future| :white_check_mark: | ![image](/uploads/461dee19fd088b6cdeb24413cc3e96ca/image.png)|\n| 18 |No of seats in main product details section are shown from last ramp when subscription has expired| :white_check_mark:  |  ![image](/uploads/cf6a76afd0b1d74e991ae91521f66348/image.png)|\n| 19  |Main product ramp details are shown correctly in table| :white_check_mark:  | ![image](/uploads/95621412672ed32e4266b0ae3e1977f6/image.png) |\n| 20  |Storage product details section is shown correctly with storage product title| :white_check_mark:  | ![image](/uploads/88bdc44601d4a396eef07496aaf71b1f/image.png)|\n| 21 |Amount of storage in storage product details section is shown from active ramp| :white_check_mark:  | ![image](/uploads/0a4e5dabc97938bd779fa451ed93444a/image.png)|\n| 22  |Amount of storage in storage product details section is shown from first ramp when subscription starts in the future| :white_check_mark:  |![image](/uploads/5bb46c3e58aa50a5ecf093f137b277e0/image.png) |\n| 23 |Amount of storage in storage product details section is shown from last ramp when subscription has expired| :white_check_mark:  |![image](/uploads/dd222876511d762181d168beea36d086/image.png) |\n| 24 |Storage product ramp details are shown correctly in table| :white_check_mark:  | ![image](/uploads/f540fd49fefa0126500813ea3b3706d3/image.png)|\n| 25 |CI mins product details section is shown correctly with CI mins product title| :white_check_mark: | ![image](/uploads/dff46122202ff117d5da4548859a4123/image.png)|\n| 26 |Number of CI mins in CI mins product details section is shown as total of all rate plan charges| :white_check_mark:  | ![image](/uploads/54a7222ecedad41e77a361e74b36e32a/image.png)|\n| 27 |CI minute product rate plan charges are shown correctly in table| :white_check_mark:  | ![image](/uploads/2981e1aeef9cecdc8d938b0e69eb949a/image.png) | \n\n\n#### SM\n|Sr. No | Scenario | Status | Screenshot / Recording |\n|-------| ------ | ------ |-------------|\n| 1 |Card with new design is shown for ramp subscription| :white_check_mark:   | ![image](/uploads/c14c1f79b519280169b36bf062416c1d/image.png)   |\n| 2 |Main product name is shown|  :white_check_mark:  | ![image](/uploads/c14c1f79b519280169b36bf062416c1d/image.png)  |\n| 3 |Subscription number is shown correctly in the badge next to title| :white_check_mark:   | ![image](/uploads/c14c1f79b519280169b36bf062416c1d/image.png)  |\n| 4 |Gitlab group name section is not shown| :white_check_mark:   | ![image](/uploads/c14c1f79b519280169b36bf062416c1d/image.png)  |\n| 5 |Date text shows correctly with scenarios for expires / renews / expired (check scenarios in design)|   :white_check_mark: | ![image](/uploads/c14c1f79b519280169b36bf062416c1d/image.png) ![image](/uploads/baa100abdb185ed454a49bb50f471983/image.png) ![image](/uploads/b5b6f3c28b1c1a133680d1d94aed5ed2/image.png) ![image](/uploads/d45aecc5630d4e38dfb51fb36ed83031/image.png) |\n| 6 |Tooltip is shown correctly with scenarios for expires / renews / expired (check scenarios in design)|:white_check_mark:  | ![image](/uploads/b2b98b83f56afaed3a39065359707d0c/image.png) ![image](/uploads/bac7b6f48544f373447eb037970f1fb9/image.png) ![image](/uploads/3a0c4d75a0ef837f2084ca6ff8761417/image.png) ![image](/uploads/fe414a03a2d2336291e5a163841b6ef1/image.png)|\n| 7 |Link subscription to group button is not shown| :white_check_mark:   | ![image](/uploads/c14c1f79b519280169b36bf062416c1d/image.png)  |\n| 8 |Actions menu is shown with change subscription option| :white_check_mark:   | ![image](/uploads/716607c5fa632b6f3c74849e922bccc9/image.png)  |\n| 9 |Clicking on change subscription in actions menu opens the modal correctly|  :white_check_mark:  | ![image](/uploads/f3b94b8316ed2282c414ada40548e222/image.png)  |\n| 10 |The change subscription modal can be closed successfully| :white_check_mark:    | N/A  |\n| 11 |Activation code section is shown correctly with links redirecting to correct links for cloud licenses| :white_check_mark:   | ![image](/uploads/f49617b1d70010d7b2f100e90597d555/image.png)  |\n| 12 |Activation code can be copied correctly | :white_check_mark:   | ![image](/uploads/42a425c02096c596670dcbe7a5a876b5/image.png)  |\n| 14 |Main product details section is shown correctly with main product title| :white_check_mark:   | ![image](/uploads/0f3ca98ed0cb1a45db497525b546b9c3/image.png)  |\n| 15 |No of seats in main product details are shown from active ramp|  :white_check_mark:  | ![image](/uploads/0fa15be371db72dbd9833a2a14c5301c/image.png)  |\n| 16 |No of seats in main product details section are shown from first ramp when subscription starts in the future| :white_check_mark:   | ![image](/uploads/7f19f18c452720f8c66bec74c54cbdea/image.png)  |\n| 17 |No of seats in main product details section are shown from last ramp when subscription has expired|  :white_check_mark:  | ![image](/uploads/ab6f20f16d5ed55eddba747f0d8f7272/image.png)  |\n| 18 |Main product ramp details are shown correctly in table|  :white_check_mark:  | ![image](/uploads/3341b634d54ff31ec228cc934faf9955/image.png)  |\n| 19 |Storage product details section is shown correctly with storage product title|  :white_check_mark:  | ![image](/uploads/d7e32cb4ae8d2b7e0a4ffdd4a6a980ce/image.png)  |\n| 20 |Amount of storage in storage product details section is shown from active ramp|  :white_check_mark:  |   ![image](/uploads/0f148d8970fe61b03b77d1dd56bfee88/image.png)|\n| 21 |Amount of storage in storage product details section is shown from first ramp when subscription starts in the future| :white_check_mark:    | ![image](/uploads/84288ba234966939c9675f3e4caee858/image.png)  |\n| 22 |Amount of storage in storage product details section is shown from last ramp when subscription has expired|  :white_check_mark:  | ![image](/uploads/54b194178966715e74c48bb1eee67098/image.png)  |\n| 23 |Storage product ramp details are shown correctly in table| :white_check_mark:   | ![image](/uploads/20e8d85a7bd5d3ff083f76da08d563bf/image.png)  |\n| 24 |CI mins product details section is shown correctly with CI mins product title| :white_check_mark:   |   ![image](/uploads/70d41a36d2aa2c7210817db18da103e8/image.png)|\n| 25 |Number of CI mins in CI mins product details section is shown as total of all rate plan charges| :white_check_mark:    | ![image](/uploads/696b499bdeb6ad235f965742f92472a0/image.png)  |\n| 26 |CI minute product rate plan charges are shown correctly in table| :white_check_mark:   | ![image](/uploads/5173b0a73ae1fca41ca96f2b2338343b/image.png)  |\n| 27 |Activation code can be applied correctly to cloud licenses| :white_check_mark:   |![image](/uploads/fa8cd730cf5cc2b92de75177342bdf4e/image.png)  ![image](/uploads/46f5bca0476dba6bd589b620385f5114/image.png)  |\n| 28 |Download license section is shown correctly for legacy licenses| :white_check_mark:   | ![image](/uploads/cebab23d9f95f085bd9a7e983d10b111/image.png) |\n| 29 |Legacy license can be downloaded correctly| :white_check_mark:    | N/A |\n| 30 |Legacy license can be copied correctly| :white_check_mark:  | ![image](/uploads/ac20c9e5b70a897d04ddea53f52a9efb/image.png) |\n| 31 |Legacy license can be applied correctly|   |![image](/uploads/f71925a400fa731b090a20705ebb7540/image.png)  ![image](/uploads/ae1346edc11681ec25c9621b94de1767/image.png)  |\n\n#### Other scenarios\n|Sr. No | Scenario | Status | Screenshot / Recording |\n|-------| ------ | ------ |-------------|\n| 1 | It shows additional seats correctly in ramps when subscription is amended to add seats|:white_check_mark:    |![image](/uploads/2a5c32fda17b3bb38645e0027a13ae2d/image.png) ![image](/uploads/d97a8df6e7ac663893218c3c078236dc/image.png)   | \n| 2 | It shows additional storage correctly in ramps when subscription is amended to add storage|:white_check_mark:    |![image](/uploads/2a5c32fda17b3bb38645e0027a13ae2d/image.png) ![image](/uploads/d97a8df6e7ac663893218c3c078236dc/image.png)   | \n| 3 | It shows additional CI mins correctly in ramps when subscription is amended to add CI mins| :white_check_mark:   | ![image](/uploads/2a5c32fda17b3bb38645e0027a13ae2d/image.png) ![image](/uploads/d97a8df6e7ac663893218c3c078236dc/image.png)  | \n| 4 | If subscription has a true-up product, it shows up on the subscription card and information about it is clear| :white_check_mark:   | ![image](/uploads/8cd86c21bb7cf9ee0b5196408ae54dc7/image.png)  | \n| 5 | If subscription has professional services or other one-time addon product, it shows up on the subscription card and information about it is clear| :x: | [Not covered in initial launch](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5665#note_1264797787)  | \n| 6 | It shows subscription card with ramp details correctly for storage only ramp subscriptions |  :white_check_mark:    | ![image](/uploads/932341ec9cf8bd48eb34df9cfff65246/image.png)  | \n| 7 | It shows subscription card with ramp details correctly for CI minutes only ramp subscriptions| :white_check_mark:     | ![image](/uploads/bfc95bc61c1d91cddc0131b9e1c67e36/image.png)  | \n\n\u003c!-- Consult with `@gitlab-com/business-technology/enterprise-apps/zuora-architects` on the ~\"Enterprise Applications\" team if Zuora business logic is involved. --\u003e\n\n### Result\n\n### Next steps (if any)\n\nShare videos in [s_fulfillment_demo](https://gitlab.slack.com/archives/C01AMAB58R5)\n\n### Demo\nhttps://www.youtube.com/watch?v=XbfA0oL4Sjc\n\n### How will we measure success?","state":"closed","created_at":"2022-12-16T11:57:49.938Z","updated_at":"2023-04-05T10:22:11.149Z","closed_at":"2023-02-15T13:25:25.950Z","closed_by":{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"},"labels":["Category:Subscription Management","devops::fulfillment","feature::addition","frontend","group::billing and subscription management","section::fulfillment","type::feature","workflow::complete"],"milestone":{"id":2745650,"iid":84,"group_id":9970,"title":"15.9","description":"","state":"active","created_at":"2022-08-22T16:58:02.303Z","updated_at":"2022-08-22T16:58:02.303Z","due_date":"2023-02-17","start_date":"2023-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/84"},"assignees":[{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"}],"author":{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"},"type":"ISSUE","assignee":{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"},"user_notes_count":22,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5384","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5384","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5384/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5384/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5384","relative":"#5384","full":"gitlab-org/customers-gitlab-com#5384"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8748,"epic":{"id":602374,"iid":8748,"title":"Ramps subscription display in Customers Portal and gitlab.com","url":"/groups/gitlab-org/-/epics/8748","group_id":9970,"human_readable_end_date":"May 31, 2023","human_readable_timestamp":"\u003cstrong\u003e25\u003c/strong\u003e days remaining"},"iteration":null,"health_status":"on_track"},{"id":120528242,"iid":5383,"project_id":2670515,"title":"Add action buttons section to subscription-v2 component","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n### Proposal\nAdd the action buttons section to \n1. Link subscription to GitLab group (only in case of SaaS)\n2. Change subscription button which renders a modal telling the customer to get in touch with the sales team to make changes to the subscription.  \n\n![image](/uploads/1caaae6af3fe0cf163f5dcc63d5d324c/image.png)\n![image](/uploads/c71e548e01c5a5ff8065cf6e0a6c3b46/image.png)\n![image](/uploads/6eb7f706e25f3a21ee01c58a450935fb/image.png)\n\n\u003c!-- Consult with `@gitlab-com/business-technology/enterprise-apps/zuora-architects` on the ~\"Enterprise Applications\" team if Zuora business logic is involved. --\u003e\n\n### Result\n\n### Next steps (if any)\n\n### How will we measure success?\n\n**Design:** https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3916/","state":"closed","created_at":"2022-12-16T11:41:04.230Z","updated_at":"2023-05-01T19:19:59.034Z","closed_at":"2023-02-06T21:04:59.303Z","closed_by":{"id":10770603,"username":"lmeckley","name":"Laura Meckley","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10770603/avatar.png","web_url":"https://gitlab.com/lmeckley"},"labels":["Category:Subscription Management","Deliverable","UX","devops::fulfillment","feature::addition","frontend","group::billing and subscription management","missed:15.8","section::fulfillment","type::feature","workflow::complete"],"milestone":{"id":2745650,"iid":84,"group_id":9970,"title":"15.9","description":"","state":"active","created_at":"2022-08-22T16:58:02.303Z","updated_at":"2022-08-22T16:58:02.303Z","due_date":"2023-02-17","start_date":"2023-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/84"},"assignees":[{"id":10770603,"username":"lmeckley","name":"Laura Meckley","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10770603/avatar.png","web_url":"https://gitlab.com/lmeckley"}],"author":{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"},"type":"ISSUE","assignee":{"id":10770603,"username":"lmeckley","name":"Laura Meckley","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10770603/avatar.png","web_url":"https://gitlab.com/lmeckley"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5383","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5383","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5383/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5383/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5383","relative":"#5383","full":"gitlab-org/customers-gitlab-com#5383"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8748,"epic":{"id":602374,"iid":8748,"title":"Ramps subscription display in Customers Portal and gitlab.com","url":"/groups/gitlab-org/-/epics/8748","group_id":9970,"human_readable_end_date":"May 31, 2023","human_readable_timestamp":"\u003cstrong\u003e25\u003c/strong\u003e days remaining"},"iteration":null,"health_status":"on_track"},{"id":120527673,"iid":5382,"project_id":2670515,"title":"Add subscription activation section to subscription-v2 component","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n### Proposal\nAdd the subscription activation section to the subscription-v2 component which can be used by the customer to activate their SM subscription.\n![image](/uploads/561ab3d4534025c6c096ed9ed1d822e5/image.png)\n\n\u003c!-- Consult with `@gitlab-com/business-technology/enterprise-apps/zuora-architects` on the ~\"Enterprise Applications\" team if Zuora business logic is involved. --\u003e\n\n### Result\n\n### Next steps (if any)\n\n### How will we measure success?\n\nDesign: https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3916","state":"closed","created_at":"2022-12-16T11:27:57.874Z","updated_at":"2023-02-21T12:10:23.617Z","closed_at":"2023-01-26T18:54:11.017Z","closed_by":{"id":10770603,"username":"lmeckley","name":"Laura Meckley","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10770603/avatar.png","web_url":"https://gitlab.com/lmeckley"},"labels":["Category:Subscription Management","Deliverable","UX","devops::fulfillment","feature::addition","frontend","group::billing and subscription management","missed:15.8","section::fulfillment","type::feature","workflow::complete"],"milestone":{"id":2745650,"iid":84,"group_id":9970,"title":"15.9","description":"","state":"active","created_at":"2022-08-22T16:58:02.303Z","updated_at":"2022-08-22T16:58:02.303Z","due_date":"2023-02-17","start_date":"2023-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/84"},"assignees":[{"id":10770603,"username":"lmeckley","name":"Laura Meckley","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10770603/avatar.png","web_url":"https://gitlab.com/lmeckley"}],"author":{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"},"type":"ISSUE","assignee":{"id":10770603,"username":"lmeckley","name":"Laura Meckley","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10770603/avatar.png","web_url":"https://gitlab.com/lmeckley"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5382","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/5382","notes":"https://gitlab.com/api/v4/projects/2670515/issues/5382/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/5382/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#5382","relative":"#5382","full":"gitlab-org/customers-gitlab-com#5382"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8748,"epic":{"id":602374,"iid":8748,"title":"Ramps subscription display in Customers Portal and gitlab.com","url":"/groups/gitlab-org/-/epics/8748","group_id":9970,"human_readable_end_date":"May 31, 2023","human_readable_timestamp":"\u003cstrong\u003e25\u003c/strong\u003e days remaining"},"iteration":null,"health_status":"on_track"}]